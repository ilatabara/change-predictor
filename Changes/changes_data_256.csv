id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fcharm-masakari-monitors~master~Ife42e41d0313b4da77ad5f024036f57ecbf63537,openstack/charm-masakari-monitors,master,Ife42e41d0313b4da77ad5f024036f57ecbf63537,Add disco-stein bundle to gate tests,ABANDONED,2019-08-27 14:52:39.000000000,2020-07-09 18:25:08.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30670}]","[{'number': 1, 'created': '2019-08-27 14:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/69790c1c1ce97d0778377f1b00c358fe085d0601', 'message': 'Add disco-stein bundle to gate tests\n\nThe bundle disco-stein was in the dev bundles because\na bug with the Python 3.7 syntax prevented the success of\nthe deployment of HA clusters. This bug is fixed, we can\nreintegrate disco-stein in the gate bundles.\n\nOther small additions:\n- Adding bionic-stein test bundle\n- Removing ununsed AMULET env vars in tox.ini\n- removing sitepackages in tox.ini to avoid test env pollution\n- skip_missing_interpreters in tox.ini set to False to avoid false\npositives by skipping missing interpreters.\n\nLP Related-Bug: #1823718\nChange-Id: Ife42e41d0313b4da77ad5f024036f57ecbf63537\n'}, {'number': 2, 'created': '2019-09-05 16:09:46.000000000', 'files': ['src/tests/bundles/disco-stein-pacemaker-remote-ssl.yaml', 'src/tox.ini', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c7e99bcbd90d2fd3f2ef617a449da68e3d4bbc52', 'message': 'Add disco-stein bundle to gate tests\n\nThe bundle disco-stein was in the dev bundles because\na bug with the Python 3.7 syntax prevented the success of\nthe deployment of HA clusters. This bug is fixed, we can\nreintegrate disco-stein in the gate bundles.\n\nOther small additions:\n- Adding bionic-stein test bundle\n- Removing ununsed AMULET env vars in tox.ini\n- removing sitepackages in tox.ini to avoid test env pollution\n- skip_missing_interpreters in tox.ini set to False to avoid false\npositives by skipping missing interpreters.\n\nLP Related-Bug: #1823718\nChange-Id: Ife42e41d0313b4da77ad5f024036f57ecbf63537\n'}]",0,678872,c7e99bcbd90d2fd3f2ef617a449da68e3d4bbc52,9,4,2,30670,,,0,"Add disco-stein bundle to gate tests

The bundle disco-stein was in the dev bundles because
a bug with the Python 3.7 syntax prevented the success of
the deployment of HA clusters. This bug is fixed, we can
reintegrate disco-stein in the gate bundles.

Other small additions:
- Adding bionic-stein test bundle
- Removing ununsed AMULET env vars in tox.ini
- removing sitepackages in tox.ini to avoid test env pollution
- skip_missing_interpreters in tox.ini set to False to avoid false
positives by skipping missing interpreters.

LP Related-Bug: #1823718
Change-Id: Ife42e41d0313b4da77ad5f024036f57ecbf63537
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/72/678872/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/disco-stein-pacemaker-remote-ssl.yaml', 'src/tox.ini', 'src/tests/bundles/bionic-stein-pacemaker-remote-ssl.yaml', 'src/tests/tests.yaml', 'tox.ini']",5,69790c1c1ce97d0778377f1b00c358fe085d0601,bug/1823718,# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE(beisner): Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = False,skip_missing_interpreters = True,406,3
openstack%2Fcharm-neutron-dynamic-routing~master~Ifc33eb07c21fdaa9054a4a19b9459b2ec3eac3d3,openstack/charm-neutron-dynamic-routing,master,Ifc33eb07c21fdaa9054a4a19b9459b2ec3eac3d3,Add disco-stein bundle to gate tests,ABANDONED,2019-08-27 17:22:12.000000000,2020-07-09 18:24:49.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-27 17:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/6462b18ca7496ceaf6eba23604e404e39e94b219', 'message': 'Add disco-stein bundle to gate tests\n\nThe bundle disco-stein was in the dev bundles because\na bug with the Python 3.7 syntax prevented the success of\nthe deployment of HA clusters. This bug is fixed, we can\nreintegrate disco-stein in the gate bundles.\n\nOther small additions:\n- Removing unused import of AMULET env vars\n- removing sitepackages in tox.ini to avoid test env pollution\n- skip_missing_interpreters in tox.ini set to False to avoid false\npositives by skipping missing interpreters.\n\nLP Related-Bug: #1823718\nChange-Id: Ifc33eb07c21fdaa9054a4a19b9459b2ec3eac3d3\n'}, {'number': 2, 'created': '2019-09-05 14:03:05.000000000', 'files': ['src/tox.ini', 'src/tests/bundles/disco-stein-functional.yaml', 'src/tests/tests.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-dynamic-routing/commit/8efa2aecafcff4714e5412b0c0c4a29ad3f3993d', 'message': 'Add disco-stein bundle to gate tests\n\nThe bundle disco-stein was in the dev bundles because\na bug with the Python 3.7 syntax prevented the success of\nthe deployment of HA clusters. This bug is fixed, we can\nreintegrate disco-stein in the gate bundles.\n\nOther small additions:\n- Removing unused import of AMULET env vars\n- removing sitepackages in tox.ini to avoid test env pollution\n- skip_missing_interpreters in tox.ini set to False to avoid false\npositives by skipping missing interpreters.\n\nLP Related-Bug: #1823718\nChange-Id: Ifc33eb07c21fdaa9054a4a19b9459b2ec3eac3d3\n'}]",0,678913,8efa2aecafcff4714e5412b0c0c4a29ad3f3993d,10,3,2,30670,,,0,"Add disco-stein bundle to gate tests

The bundle disco-stein was in the dev bundles because
a bug with the Python 3.7 syntax prevented the success of
the deployment of HA clusters. This bug is fixed, we can
reintegrate disco-stein in the gate bundles.

Other small additions:
- Removing unused import of AMULET env vars
- removing sitepackages in tox.ini to avoid test env pollution
- skip_missing_interpreters in tox.ini set to False to avoid false
positives by skipping missing interpreters.

LP Related-Bug: #1823718
Change-Id: Ifc33eb07c21fdaa9054a4a19b9459b2ec3eac3d3
",git fetch https://review.opendev.org/openstack/charm-neutron-dynamic-routing refs/changes/13/678913/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tox.ini', 'src/tests/tests.yaml', 'tox.ini']",3,6462b18ca7496ceaf6eba23604e404e39e94b219,bug/1823718,# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE(beisner): Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = False,skip_missing_interpreters = True,10,4
openstack%2Fironic~bugfix%2F15.1~I5e4865f21ee368c801b2fbdb0fac6054ea8b7654,openstack/ironic,bugfix/15.1,I5e4865f21ee368c801b2fbdb0fac6054ea8b7654,Update TOX_CONSTRAINTS_FILE for bugfix/15.1,MERGED,2020-07-08 19:08:22.000000000,2020-07-09 17:56:05.000000000,2020-07-09 12:49:23.000000000,"[{'_account_id': 10239}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 19:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e13fb56073af55c31523b60f366aba75b4712dab', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/15.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/15.1 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5e4865f21ee368c801b2fbdb0fac6054ea8b7654\n'}, {'number': 2, 'created': '2020-07-09 09:41:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/69af59a51f6be9783dcb496eaa08e6fb489925f8', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/15.1\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I5e4865f21ee368c801b2fbdb0fac6054ea8b7654\n'}]",0,740093,69af59a51f6be9783dcb496eaa08e6fb489925f8,12,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/15.1

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I5e4865f21ee368c801b2fbdb0fac6054ea8b7654
",git fetch https://review.opendev.org/openstack/ironic refs/changes/93/740093/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e13fb56073af55c31523b60f366aba75b4712dab,create-15.1, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.1} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/15.1}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},5,5
openstack%2Fkolla~master~I6d3174e8b52cb4d1f2eca4d85d506665dafe2406,openstack/kolla,master,I6d3174e8b52cb4d1f2eca4d85d506665dafe2406,Remove opendaylight image,MERGED,2020-07-06 09:48:57.000000000,2020-07-09 17:25:40.000000000,2020-07-09 17:21:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22076}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 09:48:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9bc8b8a4e1a3b0c0e875033fa14794d381c3c175', 'message': 'Remove opendaylight image\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I6d3174e8b52cb4d1f2eca4d85d506665dafe2406\n'}, {'number': 2, 'created': '2020-07-07 07:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/55ac130200b18cab0af59bcef0242980dc20462c', 'message': 'Remove opendaylight image\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I6d3174e8b52cb4d1f2eca4d85d506665dafe2406\n'}, {'number': 3, 'created': '2020-07-07 10:51:50.000000000', 'files': ['releasenotes/notes/remove-opendaylight-ac316f8ada083cc9.yaml', 'doc/source/admin/template-override/opendaylight-source.rst', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'contrib/template-override/opendaylight-template-overrides.j2', 'doc/source/matrix_aarch64.csv', 'docker/base/Dockerfile.j2', 'docker/opendaylight/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c77d52cda63cc51f6e15943b1733a5100b08392', 'message': 'Remove opendaylight image\n\nIt has been deprecated in Ussuri cycle.\n\nChange-Id: I6d3174e8b52cb4d1f2eca4d85d506665dafe2406\n'}]",0,739446,6c77d52cda63cc51f6e15943b1733a5100b08392,40,7,3,22629,,,0,"Remove opendaylight image

It has been deprecated in Ussuri cycle.

Change-Id: I6d3174e8b52cb4d1f2eca4d85d506665dafe2406
",git fetch https://review.opendev.org/openstack/kolla refs/changes/46/739446/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-opendaylight-ac316f8ada083cc9.yaml', 'doc/source/admin/template-override/opendaylight-source.rst', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'kolla/template/repos.yaml', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'contrib/template-override/opendaylight-template-overrides.j2', 'doc/source/matrix_aarch64.csv', 'docker/base/Dockerfile.j2', 'docker/opendaylight/extend_start.sh']",12,9bc8b8a4e1a3b0c0e875033fa14794d381c3c175,remove_opendaylight,,"#!/bin/bash OPENDAYLIGHT_LOG_DIR=/var/log/kolla/opendaylight if [[ ! -d ""${OPENDAYLIGHT_LOG_DIR}"" ]]; then mkdir -p ""${OPENDAYLIGHT_LOG_DIR}"" fi if [[ $(stat -c %a ""${OPENDAYLIGHT_LOG_DIR}"") != ""755"" ]]; then chmod 755 ""${OPENDAYLIGHT_LOG_DIR}"" fi ",5,112
openstack%2Fkuryr~master~Ifd0ad4129305766b0378dca33a2ff3c767dc5fe1,openstack/kuryr,master,Ifd0ad4129305766b0378dca33a2ff3c767dc5fe1,requirements: Drop os-testr,MERGED,2020-07-09 10:30:01.000000000,2020-07-09 17:10:34.000000000,2020-07-09 17:08:33.000000000,"[{'_account_id': 11536}, {'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 27654}]","[{'number': 1, 'created': '2020-07-09 10:30:01.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/kuryr/commit/78737f6eb9bf882761f9851175fd476fcc5cce98', 'message': 'requirements: Drop os-testr\n\nThis has been replaced by stestr for some time.\n\nChange-Id: Ifd0ad4129305766b0378dca33a2ff3c767dc5fe1\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,740229,78737f6eb9bf882761f9851175fd476fcc5cce98,9,5,1,15334,,,0,"requirements: Drop os-testr

This has been replaced by stestr for some time.

Change-Id: Ifd0ad4129305766b0378dca33a2ff3c767dc5fe1
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/kuryr refs/changes/29/740229/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt']",2,78737f6eb9bf882761f9851175fd476fcc5cce98,drop-os-testr,,os-testr==1.0.0,0,2
openstack%2Fpython-novaclient~master~I0e2c1895e50bc213f5346d8dc842c47519bacb99,openstack/python-novaclient,master,I0e2c1895e50bc213f5346d8dc842c47519bacb99,Add ensure-tox to novaclient-dsvm-functional,ABANDONED,2020-07-08 09:27:58.000000000,2020-07-09 17:01:57.000000000,,"[{'_account_id': 679}, {'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 09:27:58.000000000', 'files': ['playbooks/legacy/novaclient-dsvm-functional/run.yaml'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/f329f4fa780fdaed4256be8f10a61aa1951ad127', 'message': ""Add ensure-tox to novaclient-dsvm-functional\n\nWith the new base image tox is not installed anymore by defualt, thus\nfunctional test job started to fail with tox command not found:\n\n[..]/post_test_hook.sh:main:L40: sudo -E -H -u zuul tox -e functional\nsudo: tox: command not found\n\nThis patch adds ensure-tox role to functional job's playbook.\n\nChange-Id: I0e2c1895e50bc213f5346d8dc842c47519bacb99\n""}]",0,739940,f329f4fa780fdaed4256be8f10a61aa1951ad127,4,3,1,17685,,,0,"Add ensure-tox to novaclient-dsvm-functional

With the new base image tox is not installed anymore by defualt, thus
functional test job started to fail with tox command not found:

[..]/post_test_hook.sh:main:L40: sudo -E -H -u zuul tox -e functional
sudo: tox: command not found

This patch adds ensure-tox role to functional job's playbook.

Change-Id: I0e2c1895e50bc213f5346d8dc842c47519bacb99
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/40/739940/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/legacy/novaclient-dsvm-functional/run.yaml'],1,f329f4fa780fdaed4256be8f10a61aa1951ad127,, - name: Ensure tox is installed include_role: name: ensure-tox ,,4,0
openstack%2Fironic~master~Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,openstack/ironic,master,Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,fix error word confiuration to configuration in docs,MERGED,2020-07-09 07:52:59.000000000,2020-07-09 16:54:11.000000000,2020-07-09 10:28:31.000000000,"[{'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27623}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-09 07:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9177ddc04ca3617bdb48e0bdc565af4b3061348c', 'message': 'error word confiuration to configuration\n\nChange-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26\n'}, {'number': 2, 'created': '2020-07-09 07:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/68bcbfba1f889aca0970bc1db6b0b5bb8b70750a', 'message': 'error word confiuration to configuration\n\nChange-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26\n'}, {'number': 3, 'created': '2020-07-09 08:09:41.000000000', 'files': ['doc/source/admin/agent-token.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39ca67ac245a48b3cc086015d62b33bea6a9bd67', 'message': 'fix error word confiuration to configuration in docs\n\nChange-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26\n'}]",1,740175,39ca67ac245a48b3cc086015d62b33bea6a9bd67,15,6,3,32148,,,0,"fix error word confiuration to configuration in docs

Change-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/740175/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/agent-token.rst'],1,9177ddc04ca3617bdb48e0bdc565af4b3061348c,,"``ironic-python-agent``. With the ``Ussuri`` release, the configuration option","``ironic-python-agent``. With the ``Ussuri`` release, the confiuration option",1,1
openstack%2Fopenstack-ansible-os_cinder~stable%2Fstein~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,stable/stein,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,MERGED,2020-07-07 02:58:07.000000000,2020-07-09 16:46:49.000000000,2020-07-09 16:45:10.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 02:58:07.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/c95cf92d0e30bc12ab72ca04181f0111211bdacc', 'message': 'Fix policy configuration\n\nSince cinder moved to policy-in-code, oslopolicy-policy-generator\nmust be used to compile a policy file that can be distributed to\nHorizon for policy settings. For cinder, it will only output its\ndefault policy unless cinder.conf contains an oslo_policy\nconfiguration section pointing to the policy config file.\n\nChange-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50\n(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)\n'}]",0,739641,c95cf92d0e30bc12ab72ca04181f0111211bdacc,11,4,1,28619,,,0,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/41/739641/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,c95cf92d0e30bc12ab72ca04181f0111211bdacc,policy-in-code-stable/stein, [oslo_policy] policy_file = /etc/cinder/policy.json ,,4,0
openstack%2Fironic~master~Ia3dd7bb19cbdc325acc8445c7308843067b51a2b,openstack/ironic,master,Ia3dd7bb19cbdc325acc8445c7308843067b51a2b,Minor agent token log handling,MERGED,2020-06-17 13:20:05.000000000,2020-07-09 16:46:30.000000000,2020-07-09 16:38:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-17 13:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aea2f07aefc08278e72aea03e7660ff370e4ce5d', 'message': ""Minor agent token log handling\n\nAgent token heartbeat failures can return InvalidParameterValue\nwhich was missed as an expected exception of the heartbeat action.\n\nThis change adds the exception to the expected list so\noslo_messaging doesn't generate a backtrace in the conductor log.\n\nChange-Id: Ia3dd7bb19cbdc325acc8445c7308843067b51a2b\n""}, {'number': 2, 'created': '2020-06-29 23:16:05.000000000', 'files': ['ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/conductor/rpcapi.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f73338c995c184fdd3762ee0bb168c5e77df8773', 'message': ""Minor agent token log handling\n\nAgent token heartbeat failures can return InvalidParameterValue\nwhich was missed as an expected exception of the heartbeat action.\n\nThis change adds the exception to the expected list so\noslo_messaging doesn't generate a backtrace in the conductor log.\n\nChange-Id: Ia3dd7bb19cbdc325acc8445c7308843067b51a2b\n""}]",0,736214,f73338c995c184fdd3762ee0bb168c5e77df8773,26,8,2,11655,,,0,"Minor agent token log handling

Agent token heartbeat failures can return InvalidParameterValue
which was missed as an expected exception of the heartbeat action.

This change adds the exception to the expected list so
oslo_messaging doesn't generate a backtrace in the conductor log.

Change-Id: Ia3dd7bb19cbdc325acc8445c7308843067b51a2b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/14/736214/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conductor/manager.py', 'ironic/conductor/rpcapi.py']",2,aea2f07aefc08278e72aea03e7660ff370e4ce5d,736214, :raises: InvalidParameterValue if an invalid agent token is received.,,2,0
openstack%2Freleases~master~Ia48ccf5cdf5676ec7e9bd97e70b0b74592439820,openstack/releases,master,Ia48ccf5cdf5676ec7e9bd97e70b0b74592439820,Extend transition_series.sh to submit reviews by team,ABANDONED,2019-10-25 21:29:34.000000000,2020-07-09 16:14:27.000000000,,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-10-25 21:29:34.000000000', 'files': ['tools/transition_series.sh', 'openstack_releases/cmds/list_deliverables.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/b144ad45a956e728e157c7e2165544f47fdec4be', 'message': ""Extend transition_series.sh to submit reviews by team\n\nThis updates the EM transition script to process EM tagging by team and\nsubmitting a review for each one so we don't have one large changeset to\nprocess.\n\nChange-Id: Ia48ccf5cdf5676ec7e9bd97e70b0b74592439820\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n""}]",2,691442,b144ad45a956e728e157c7e2165544f47fdec4be,6,4,1,11904,,,0,"Extend transition_series.sh to submit reviews by team

This updates the EM transition script to process EM tagging by team and
submitting a review for each one so we don't have one large changeset to
process.

Change-Id: Ia48ccf5cdf5676ec7e9bd97e70b0b74592439820
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/691442/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/transition_series.sh', 'openstack_releases/cmds/list_deliverables.py']",2,b144ad45a956e728e157c7e2165544f47fdec4be,," '--group-key-only', action='store_true', default=False, help='only emit the value of the group-by key', ) parser.add_argument( if not args.group_key_only: print(name_fmt.format(deliv.name))", print(name_fmt.format(deliv.name)),63,16
openstack%2Fironic~master~I4319ce2f42f35251595306b9a77ae1f8bc55595c,openstack/ironic,master,I4319ce2f42f35251595306b9a77ae1f8bc55595c,Stop using md5 for __repr__ of objects,MERGED,2020-07-07 12:53:22.000000000,2020-07-09 16:06:27.000000000,2020-07-09 15:58:09.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 12:53:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7eb4fbf9f7c4f52d72b594a965b969ac312ef5be', 'message': 'Stop using md5 for __repr__ of objects\n\nThe md5 function is not available on systems in FIPS mode, use\ncrc32 instead (which is likely also faster).\n\nChange-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c\n'}, {'number': 2, 'created': '2020-07-07 13:28:47.000000000', 'files': ['tools/bandit.yml', 'ironic/tests/unit/objects/test_fields.py', 'ironic/objects/fields.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8aecabcfe4d24da51e0ac59cf18e83773defe948', 'message': 'Stop using md5 for __repr__ of objects\n\nThe md5 function is not available on systems in FIPS mode, just\nuse the callable name (which is closer to how repr usually looks).\n\nChange-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c\n'}]",0,739735,8aecabcfe4d24da51e0ac59cf18e83773defe948,31,8,2,10239,,,0,"Stop using md5 for __repr__ of objects

The md5 function is not available on systems in FIPS mode, just
use the callable name (which is closer to how repr usually looks).

Change-Id: I4319ce2f42f35251595306b9a77ae1f8bc55595c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/35/739735/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/bandit.yml', 'ironic/objects/fields.py', 'ironic/tests/unit/objects/test_fields.py']",3,7eb4fbf9f7c4f52d72b594a965b969ac312ef5be,md5,import zlib self.test_default_function_hash = zlib.crc32( inspect.getsource(test_default_function).encode()),import hashlib self.test_default_function_hash = hashlib.md5( inspect.getsource(test_default_function).encode()).hexdigest(),5,7
openstack%2Ftacker~master~Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515,openstack/tacker,master,Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515,Add py38 as a runtime in tox.ini,MERGED,2020-06-29 05:10:35.000000000,2020-07-09 16:03:30.000000000,2020-07-09 15:58:05.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31072}]","[{'number': 1, 'created': '2020-06-29 05:10:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tacker/commit/9c7172c947b8afd2f3b2396504bbb3be5cd9ad71', 'message': 'Add py38 as a runtime in tox.ini\n\nConsidering policy for update of python[1], add py38 and drop py37 in\nenvlist in tox.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\n'}]",0,738374,9c7172c947b8afd2f3b2396504bbb3be5cd9ad71,18,6,1,25701,,,0,"Add py38 as a runtime in tox.ini

Considering policy for update of python[1], add py38 and drop py37 in
envlist in tox.

[1] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: Ifc3042ba0fca99c8e2c54e5b839c6ab23f903515
Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/74/738374/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c7172c947b8afd2f3b2396504bbb3be5cd9ad71,tox-py38,"envlist = py38,py36,pep8,docs","envlist = py37,py36,pep8,docs",1,1
openstack%2Fnetworking-ovn~stable%2Fqueens~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/queens,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:40:07.000000000,2020-07-09 15:48:12.000000000,2020-07-09 15:48:12.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 14:40:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/87b4da37a6a599ebfa56c7ac90917ff132bfcce5', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 2, 'created': '2020-07-08 10:59:30.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ec16fd75d22e7439f901694b88ddeb298ebba5ca', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}]",0,733632,ec16fd75d22e7439f901694b88ddeb298ebba5ca,14,4,2,24791,,,0,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from Neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/32/733632/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,87b4da37a6a599ebfa56c7ac90917ff132bfcce5,," def test_virtual_port_not_set_similiar_address(self): # Create one port self._create_port(fixed_ip='10.0.0.110') # Create second port with similar IP, so that # string matching will return True second_port = self._create_port(fixed_ip='10.0.0.11') # Assert the virtual port has not been set. ovn_vport = self._find_port_row(second_port['id']) self.assertEqual("""", ovn_vport.type) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY, ovn_vport.options) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY, ovn_vport.options)",,18,2
openstack%2Fironic~stable%2Fussuri~Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,openstack/ironic,stable/ussuri,Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26,fix error word confiuration to configuration in docs,MERGED,2020-07-09 02:26:37.000000000,2020-07-09 15:25:04.000000000,2020-07-09 12:54:24.000000000,"[{'_account_id': 10068}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 27623}]","[{'number': 1, 'created': '2020-07-09 02:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/571b39453528d31f50a15250333b85478138dc51', 'message': 'error word confiuration to configuration\n\nChange-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26\n'}, {'number': 2, 'created': '2020-07-09 08:06:58.000000000', 'files': ['doc/source/admin/agent-token.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ad072caa5bf367a6cccd4167ad888a139b5bae0c', 'message': 'fix error word confiuration to configuration in docs\n\nChange-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26\n'}]",0,740148,ad072caa5bf367a6cccd4167ad888a139b5bae0c,13,6,2,32148,,,0,"fix error word confiuration to configuration in docs

Change-Id: Ic531197f06fc0c5f6241dcc6fdd7354befb7ca26
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/740148/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/agent-token.rst'],1,571b39453528d31f50a15250333b85478138dc51,,"``ironic-python-agent``. With the ``Ussuri`` release, the configuration option","``ironic-python-agent``. With the ``Ussuri`` release, the confiuration option",1,1
openstack%2Fopenstack-helm~master~I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08,openstack/openstack-helm,master,I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08,DNM - Testing gate,ABANDONED,2020-07-09 13:50:10.000000000,2020-07-09 15:13:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 13:50:10.000000000', 'files': ['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfea70d2ac916e6ad2d9254c6bea69252642134e', 'message': 'DNM - Testing gate\n\nChange-Id: I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08\n'}]",0,740295,bfea70d2ac916e6ad2d9254c6bea69252642134e,3,1,1,21420,,,0,"DNM - Testing gate

Change-Id: I1da3e6c5f2ab0c8967fa2231186a22c9ef9c8e08
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/95/740295/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",2,bfea70d2ac916e6ad2d9254c6bea69252642134e,fix-gate, nodeset: openstack-helm-single-node, nodeset: openstack-helm-single-32GB-node,3,3
openstack%2Fdevstack~master~I7214c4893943fbfbeb42ad140f433eecd6c3e9f0,openstack/devstack,master,I7214c4893943fbfbeb42ad140f433eecd6c3e9f0,Allow plugins to override initial network creation,MERGED,2018-05-16 14:44:44.000000000,2020-07-09 15:13:38.000000000,2020-07-09 15:11:25.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 25564}, {'_account_id': 30491}]","[{'number': 1, 'created': '2018-05-16 14:44:44.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8755bd468cae234ca7acca018ccee31f0e474b2', 'message': 'Allow plugins to override initial network creation\n\nThe same code is already in place for the new lib/neutron library, allow\nthis functionality to be used also when the neutron legacy services are\nstill being deployed. This was mangled in [0].\n\n[0] I868afeb065d80d8ccd57630b90658e330ab94251\n\nChange-Id: I7214c4893943fbfbeb42ad140f433eecd6c3e9f0\n'}]",1,568866,f8755bd468cae234ca7acca018ccee31f0e474b2,32,9,1,13252,,,0,"Allow plugins to override initial network creation

The same code is already in place for the new lib/neutron library, allow
this functionality to be used also when the neutron legacy services are
still being deployed. This was mangled in [0].

[0] I868afeb065d80d8ccd57630b90658e330ab94251

Change-Id: I7214c4893943fbfbeb42ad140f433eecd6c3e9f0
",git fetch https://review.opendev.org/openstack/devstack refs/changes/66/568866/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,f8755bd468cae234ca7acca018ccee31f0e474b2,initial-network-override, # Here's where plugins can wire up their own networks instead # of the code in lib/neutron_plugins/services/l3 if type -p neutron_plugin_create_initial_networks > /dev/null; then neutron_plugin_create_initial_networks else create_neutron_initial_network fi , create_neutron_initial_network,8,1
openstack%2Fbifrost~bugfix%2F8.2~I960fc1ab98f89feaf57d1b0aee7502ab0612a487,openstack/bifrost,bugfix/8.2,I960fc1ab98f89feaf57d1b0aee7502ab0612a487,Account for bugfix branches in bifrost-cli,MERGED,2020-07-09 11:14:20.000000000,2020-07-09 15:12:13.000000000,2020-07-09 15:09:20.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 11:14:20.000000000', 'files': ['bifrost/cli.py', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1f3aa136d8358e1cd65456fe1236eeb4782c777d', 'message': 'Account for bugfix branches in bifrost-cli\n\nFall back to the default branch unless an explicit one is provided.\n\nChange-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487\n(cherry picked from commit a47db1e302bbe8f956216f31fa660d054bd81659)\n'}]",0,740245,1f3aa136d8358e1cd65456fe1236eeb4782c777d,8,3,1,10239,,,0,"Account for bugfix branches in bifrost-cli

Fall back to the default branch unless an explicit one is provided.

Change-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487
(cherry picked from commit a47db1e302bbe8f956216f31fa660d054bd81659)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/45/740245/1 && git format-patch -1 --stdout FETCH_HEAD,"['bifrost/cli.py', 'scripts/test-bifrost.sh']",2,1f3aa136d8358e1cd65456fe1236eeb4782c777d,, ../bifrost-cli --debug install --testenv, ../bifrost-cli --debug install --release ${ZUUL_BRANCH:-master} --testenv,14,6
openstack%2Fnova~stable%2Fqueens~Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,openstack/nova,stable/queens,Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,Fix os_CODENAME detection and repo refresh during ceph tests,MERGED,2020-07-09 08:53:49.000000000,2020-07-09 15:11:21.000000000,2020-07-09 15:11:20.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-09 08:53:49.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/97cc4783aa9dfb5cfb550968222fd04050bc64a3', 'message': 'Fix os_CODENAME detection and repo refresh during ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently\nrefactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so\nintroduced various OS specific conditionals that require os_CODENAME to\nbe set.\n\nNOTE(lyarwood): Conflicts due to the partial backport of\nI902e459093af9b82f9033d58cffcb2a628f5ec39 in stable/queens.\n\nConflicts:\n  nova/tests/live_migration/hooks/run_tests.sh\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n(cherry picked from commit 7207b9ee6cff002c02b8cd46ce4088d86de8afdc)\n'}]",0,740193,97cc4783aa9dfb5cfb550968222fd04050bc64a3,7,3,1,10135,,,0,"Fix os_CODENAME detection and repo refresh during ceph tests

This is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
a change introduced in Stein that fixed OS detection in the
nova-live-migration job while installing Ceph.

This is required after the devstack-plugin-ceph job was recently
refactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so
introduced various OS specific conditionals that require os_CODENAME to
be set.

NOTE(lyarwood): Conflicts due to the partial backport of
I902e459093af9b82f9033d58cffcb2a628f5ec39 in stable/queens.

Conflicts:
  nova/tests/live_migration/hooks/run_tests.sh

Change-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)
(cherry picked from commit 7207b9ee6cff002c02b8cd46ce4088d86de8afdc)
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/740193/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,97cc4783aa9dfb5cfb550968222fd04050bc64a3,, GetOSVersion,,1,0
openstack%2Fnetworking-ovn~stable%2Frocky~Ia4b986146c77edf0616015380359e37233df80fc,openstack/networking-ovn,stable/rocky,Ia4b986146c77edf0616015380359e37233df80fc,[OVN] Don't set virtual port type on ports with similar addresses,MERGED,2020-06-04 14:35:43.000000000,2020-07-09 15:00:52.000000000,2020-07-09 15:00:51.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-04 14:35:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d50e1b9a50014548186f6976a1011ae3d2aae940', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 2, 'created': '2020-06-22 08:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/90ca8a8793f52810558d13d8c7550c6832d93d6f', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}, {'number': 3, 'created': '2020-07-08 10:58:59.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1bc23ec282aea2a8fe59f6d1d459e24760aaec2f', 'message': ""[OVN] Don't set virtual port type on ports with similar addresses\n\nBecause of broken check why one port has similar address to the other\none, the first one by mistake could be set as virtual.\nExample:\n port_1: 10.11.1.100\n port_2: 10.11.1.10\n\nOn create of port_2 it is set as 'virtual', but shouldn't.\n\nThis patch fixes that bug by using common function\nutils.get_ovn_port_addresses().\n\nCherry-picked from Neutron: https://review.opendev.org/#/c/732690/\n\nChange-Id: Ia4b986146c77edf0616015380359e37233df80fc\nCloses-Bug: #1881759\n(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)\n""}]",0,733629,1bc23ec282aea2a8fe59f6d1d459e24760aaec2f,17,5,3,24791,,,0,"[OVN] Don't set virtual port type on ports with similar addresses

Because of broken check why one port has similar address to the other
one, the first one by mistake could be set as virtual.
Example:
 port_1: 10.11.1.100
 port_2: 10.11.1.10

On create of port_2 it is set as 'virtual', but shouldn't.

This patch fixes that bug by using common function
utils.get_ovn_port_addresses().

Cherry-picked from Neutron: https://review.opendev.org/#/c/732690/

Change-Id: Ia4b986146c77edf0616015380359e37233df80fc
Closes-Bug: #1881759
(cherry picked from commit e6023ecb482ee0dc7e29739b94e009c275cc24a1)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/29/733629/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/functional/test_mech_driver.py']",2,d50e1b9a50014548186f6976a1011ae3d2aae940,," def test_virtual_port_not_set_similiar_address(self): # Create one port self._create_port(fixed_ip='10.0.0.110') # Create second port with similar IP, so that # string matching will return True second_port = self._create_port(fixed_ip='10.0.0.11') # Assert the virtual port has not been set. ovn_vport = self._find_port_row(second_port['id']) self.assertEqual("""", ovn_vport.type) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_PARENTS_KEY, ovn_vport.options) self.assertNotIn(ovn_const.LSP_OPTIONS_VIRTUAL_IP_KEY, ovn_vport.options)",,18,2
openstack%2Fcharm-specs~master~Ida8c8f3592d78a15d4d6258f012773e102cb528f,openstack/charm-specs,master,Ida8c8f3592d78a15d4d6258f012773e102cb528f,Enable S3 storage backend for Gnocchi,MERGED,2020-06-30 14:15:17.000000000,2020-07-09 15:00:43.000000000,2020-07-09 14:58:47.000000000,"[{'_account_id': 935}, {'_account_id': 22348}, {'_account_id': 30561}, {'_account_id': 30670}]","[{'number': 1, 'created': '2020-06-30 14:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/0555f53de61046e03fc6624cae8cce5bc787c5fe', 'message': 'Enable S3 storage backend for Gnocchi\n\nThis is the feature spec for the s3 feature for gnocchi.\nThe feature PR is here: https://review.opendev.org/#/c/734682/\n\nChange-Id: Ida8c8f3592d78a15d4d6258f012773e102cb528f\n'}, {'number': 2, 'created': '2020-06-30 14:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/46b9d219b6492d783453d3cbab9807a231d6e9d7', 'message': 'Enable S3 storage backend for Gnocchi\n\nThis is the feature spec for the s3 feature for gnocchi.\nThe feature PR is here: https://review.opendev.org/#/c/734682/\n\nChange-Id: Ida8c8f3592d78a15d4d6258f012773e102cb528f\n'}, {'number': 3, 'created': '2020-07-01 15:59:35.000000000', 'files': ['specs/ussuri/approved/gnocchi-s3.rst'], 'web_link': 'https://opendev.org/openstack/charm-specs/commit/8701957730b73de1d769070850118ed2686b6ff1', 'message': 'Enable S3 storage backend for Gnocchi\n\nThis is the feature spec for the s3 feature for gnocchi.\nThe feature PR is here: https://review.opendev.org/#/c/734682/\n\nChange-Id: Ida8c8f3592d78a15d4d6258f012773e102cb528f\n'}]",24,738631,8701957730b73de1d769070850118ed2686b6ff1,16,4,3,30670,,,0,"Enable S3 storage backend for Gnocchi

This is the feature spec for the s3 feature for gnocchi.
The feature PR is here: https://review.opendev.org/#/c/734682/

Change-Id: Ida8c8f3592d78a15d4d6258f012773e102cb528f
",git fetch https://review.opendev.org/openstack/charm-specs refs/changes/31/738631/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/implemented/gnocchi-s3.rst'],1,0555f53de61046e03fc6624cae8cce5bc787c5fe,gnocchi-s3,".. Copyright 2020 Canonical Ltd. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: ""None"". For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================================ Enablement of S3 storage backend for Gnocchi ============================================ Problem Description =================== The Gnocchi charm is a multi-tenant timeseries, metrics and resources database. It is currently only allowing connections to a Ceph storage backend. For anyone using a S3 storage backend, this is an issue. Proposed Change =============== The proposed solution is to make the choice of storage backend a configuration option. The relation between gnocchi and ceph-mon would become an optional one, that would be activated only when ceph is the selected backend. The upstream documentation of Gnocchi mentions that s3 storage backends are supported, along with others, such as swift, redis and ceph (https://gnocchi.xyz/install.html). The new feature would support Openstack Stein and later on Ubuntu 18.04. Alternatives ------------ None. Implementation ============== Assignee(s) ----------- Primary assignee: camille.rodriguez Gerrit Topic ------------ Use Gerrit topic ""<topic_name>"" for all patches related to this spec. .. code-block:: bash git-review -t s3-storage Work Items ---------- - Add a charm option for selecting S3 - Add options for S3 in the configuration file - S3 endpoint URL - S3 region name - S3 access key id - S3 secret access key - Prefix to namespace metric bucket: s3_bucket_prefix = gnocchi - Maximum time to wait checking data consistency when writing to S3: s3_check_consistency_timeout = 60 - The maximum number of connections to keep in a connection pool: s3_max_pool_connections = 50 - Make the Ceph relation and configuration optional, dependent on the charm option - Implement https endpoint for S3 Timeline ----------- The goal is to implement this change in the 20.08 release. The freeze date for this release is July 24th, for a release on August 5th (see release schedule). This change should be proposed for merging at least two weeks ahead of freeze, so ideally submitted by July 10th 2020. Repositories ------------ Changes will be pushed to the existing gnocchi charm repository: https://git.openstack.org/openstack/charm-gnocchi Documentation ------------- - Update of the charm options - Update of the charm README to offer this option Security -------- No additional security concerns. The feature will be compatible with https endpoint to allow for encryption. Testing ------- Code changes will be covered by unit tests. Functional tests would require S3 storage hardware or software emulation. This is possible through a swift deployment, or with radosgw. The deployment of the storage backend with S3 capability would be independent from the openstack bundle, to represent a real scenario. Dependencies ============ - No dependencies outside of this specification. ",,120,0
openstack%2Fcharm-manila~master~Ia2fbdac07df0a430741be69d02942c899bb89e45,openstack/charm-manila,master,Ia2fbdac07df0a430741be69d02942c899bb89e45,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:32:35.000000000,2020-07-09 14:50:49.000000000,2020-07-09 14:50:49.000000000,"[{'_account_id': 20634}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/d06fad5d04577c4c9cbbcf91ad846147e4ef3d39', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Ia2fbdac07df0a430741be69d02942c899bb89e45\n'}, {'number': 2, 'created': '2020-07-08 09:52:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/e3c274477dcd91a5d7bda20d2bd582f1dab6fade', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: Ia2fbdac07df0a430741be69d02942c899bb89e45\n'}, {'number': 3, 'created': '2020-07-09 09:33:51.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila/commit/f7140f9c64c947f6251637b1967e8fbaf57d9d58', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nFunc-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/355\nChange-Id: Ia2fbdac07df0a430741be69d02942c899bb89e45\n'}]",0,732652,f7140f9c64c947f6251637b1967e8fbaf57d9d58,26,7,3,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Func-Test-PR: https://github.com/openstack-charmers/zaza-openstack-tests/pull/355
Change-Id: Ia2fbdac07df0a430741be69d02942c899bb89e45
",git fetch https://review.opendev.org/openstack/charm-manila refs/changes/52/732652/3 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,d06fad5d04577c4c9cbbcf91ad846147e4ef3d39,batch-groovy-ch-libs," Shared File Systems service provides a set of services for management of shared file systems in a multi-tenant cloud environment. The service resembles OpenStack block-based storage management from the OpenStack Block Storage service project. With the Shared File Systems service, you can create a remote file system, mount the file system on your instances, and then read and write data from your instances to and from your file system. tags: - openstack series: - xenial - bionic - eoan - focal - groovy"," Shared File Systems service provides a set of services for management of shared file systems in a multi-tenant cloud environment. The service resembles OpenStack block-based storage management from the OpenStack Block Storage service project. With the Shared File Systems service, you can create a remote file system, mount the file system on your instances, and then read and write data from your instances to and from your file system. tags: - openstack series: - xenial - bionic - eoan - focal",13,12
openstack%2Ftripleo-heat-templates~master~If7f08e6ac888ba0c5a3e170f285fb2624322c22f,openstack/tripleo-heat-templates,master,If7f08e6ac888ba0c5a3e170f285fb2624322c22f,CI test - never merge,ABANDONED,2020-07-09 12:40:35.000000000,2020-07-09 14:48:05.000000000,,[{'_account_id': 23181}],"[{'number': 1, 'created': '2020-07-09 12:40:35.000000000', 'files': ['test'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/45f9efb8db423d9788f74d440c06e97ff07f5651', 'message': 'CI test - never merge\n\nDepends-On: https://review.opendev.org/#/c/740260/\nChange-Id: If7f08e6ac888ba0c5a3e170f285fb2624322c22f\n'}]",0,740264,45f9efb8db423d9788f74d440c06e97ff07f5651,3,1,1,3153,,,0,"CI test - never merge

Depends-On: https://review.opendev.org/#/c/740260/
Change-Id: If7f08e6ac888ba0c5a3e170f285fb2624322c22f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/740264/1 && git format-patch -1 --stdout FETCH_HEAD,['test'],1,45f9efb8db423d9788f74d440c06e97ff07f5651,ci-test,test ,,1,0
openstack%2Ftripleo-operator-ansible~master~Iab6ab4e97fc30bc819f160bb6583234b318adc31,openstack/tripleo-operator-ansible,master,Iab6ab4e97fc30bc819f160bb6583234b318adc31,"Add missing ""-o pipefail"" to generated scripts",MERGED,2020-07-09 12:30:28.000000000,2020-07-09 14:47:18.000000000,2020-07-09 14:47:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 12:30:28.000000000', 'files': ['plugins/modules/tripleo_shell_script.py'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/2a84c09932fa23de1de3cfddf2a3b31c4208f42f', 'message': 'Add missing ""-o pipefail"" to generated scripts\n\nSince we can now configure how we want to redirect the outputs in log\nfiles, we can use |tee or any other variant. So let\'s avoid masking\nerrors.\n\nChange-Id: Iab6ab4e97fc30bc819f160bb6583234b318adc31\n'}]",0,740260,2a84c09932fa23de1de3cfddf2a3b31c4208f42f,7,4,1,28223,,,0,"Add missing ""-o pipefail"" to generated scripts

Since we can now configure how we want to redirect the outputs in log
files, we can use |tee or any other variant. So let's avoid masking
errors.

Change-Id: Iab6ab4e97fc30bc819f160bb6583234b318adc31
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/60/740260/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/tripleo_shell_script.py'],1,2a84c09932fa23de1de3cfddf2a3b31c4208f42f,pipefail,set -xeo pipefail,set -ex,1,1
openstack%2Fos-brick~stable%2Fqueens~Ie2db587c3bc379acd53cfd449788d171ae58dec5,openstack/os-brick,stable/queens,Ie2db587c3bc379acd53cfd449788d171ae58dec5,"Fix ""Remove VxFlex OS credentials"" regression",MERGED,2020-06-18 15:39:33.000000000,2020-07-09 14:45:07.000000000,2020-07-09 14:42:22.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7160}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10379}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 14624}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}, {'_account_id': 31016}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-06-18 15:39:33.000000000', 'files': ['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/f4019f7831e5366f7e5e40e9715f3bd981f2b7df', 'message': 'Fix ""Remove VxFlex OS credentials"" regression\n\nChange Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser\ninstance in a way that is incompatible with python 2.7, resulting in\na ""ConfigParser instance has no attribute \'__getitem__\'"" error.  This\npatch accesses the ConfigParser using the ""old"" API that works in both\nPython 2.7 and Python 3 and adds some tests.\n\nCo-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>\n\nChange-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5\nCloses-Bug: 1883654\n(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)\n(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)\nConflicts:\n- remove os_brick/privileged/scaleio.py (function with bug is in the\n  connector in this branch)\n- move the test file to tests/initiator/connectors/\n- modify the unit tests because the config file is accessed differently\n  in this branch\n(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)\n'}]",0,736749,f4019f7831e5366f7e5e40e9715f3bd981f2b7df,33,15,1,5314,,,0,"Fix ""Remove VxFlex OS credentials"" regression

Change Ib7778ba9d38a68d8b56ca632c5f1c353d55830b0 uses a ConfigParser
instance in a way that is incompatible with python 2.7, resulting in
a ""ConfigParser instance has no attribute '__getitem__'"" error.  This
patch accesses the ConfigParser using the ""old"" API that works in both
Python 2.7 and Python 3 and adds some tests.

Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com>

Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5
Closes-Bug: 1883654
(cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892)
(cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4)
Conflicts:
- remove os_brick/privileged/scaleio.py (function with bug is in the
  connector in this branch)
- move the test file to tests/initiator/connectors/
- modify the unit tests because the config file is accessed differently
  in this branch
(cherry picked from commit 867767ffdae124fcdb9b04a9089e226689c476d7)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/49/736749/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml', 'os_brick/initiator/connectors/scaleio.py', 'os_brick/tests/initiator/connectors/test_scaleio_get_password.py']",3,f4019f7831e5366f7e5e40e9715f3bd981f2b7df,scaleio-followup,"# Copyright 2020, Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import os from os_brick import exception from os_brick.initiator.connectors import scaleio from os_brick.tests import base EXPECTED_SECTION = ""scalio_test"" EXPECTED_PASSWORD = ""This is not a good password"" FAKE_CONF = """""" [DEFAULT] san_password = not me [{}] san_password = {} [section_2] san_password = not me either """""".format(EXPECTED_SECTION, EXPECTED_PASSWORD) class ScaleioGetPasswordTestCase(base.TestCase): """"""Check the get_connector_password function. Launchpad bug #1883654: a change that worked fine in the python 3-only branches broke when run under py2.7 in the stable branches. """""" def setUp(self): super(ScaleioGetPasswordTestCase, self).setUp() # The actual ScaleIO connector self.connector = scaleio.ScaleIOConnector('sudo') @mock.patch.object(os.path, 'isfile', return_value=False) def test_get_connector_password_bad_filename(self, mock_isfile): self.assertRaises(exception.BrickException, self.connector._get_connector_password, EXPECTED_SECTION) @mock.patch.object(scaleio.ScaleIOConnector, '_execute') @mock.patch.object(os.path, 'isfile', return_value=True) def test_get_connector_password(self, mock_isfile, mock_execute): mock_execute.return_value = (FAKE_CONF, 0) found_password = self.connector._get_connector_password( EXPECTED_SECTION) self.assertEqual(EXPECTED_PASSWORD, found_password) ",,91,1
openstack%2Fironic~master~Ief586473aca0e22b74efe83ef70c354fd5df17bf,openstack/ironic,master,Ief586473aca0e22b74efe83ef70c354fd5df17bf,Decompose the core deploy step of the direct deploy,MERGED,2019-12-10 17:59:41.000000000,2020-07-09 14:39:09.000000000,2020-07-09 14:30:45.000000000,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2019-12-10 17:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/66e9176ff58b3bc96049fae185200b23d77670da', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 2, 'created': '2019-12-12 17:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/49c80cee916b61201915579caab1f78701e1bfc2', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 3, 'created': '2020-01-13 16:06:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8779bd6471868a3c484b69e55d3c4eac468e568c', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 4, 'created': '2020-01-13 17:25:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/eff0fa079140744f3e31c0029311610ef921d615', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 5, 'created': '2020-03-10 14:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/497cb160e3cf9f04f5dd5a8dd609f836207a04fc', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 6, 'created': '2020-03-11 13:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d6191612aafa8267412af0f8ae9d2f81e485e8c3', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 7, 'created': '2020-03-12 16:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3db3ed0ca04d5285505f72b844c9ac283c92c780', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 8, 'created': '2020-03-24 12:05:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5da50bd83838d7a663fc9dad9b9391535ed9fca1', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 9, 'created': '2020-03-24 15:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0728be9444f175d5e92fb10f2bfab047ec08625e', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 10, 'created': '2020-03-25 09:55:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/921d0ef1d990789a71bbfb38ca3affa7b5efa9a1', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 11, 'created': '2020-03-25 12:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1aee148138228aee202053dedd6e9bc7684fe33', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 12, 'created': '2020-03-27 10:32:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/221028eee025cddd232e286704697472f0032922', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 13, 'created': '2020-03-27 10:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/065e34491b88ecd043a5a51ecdd59ed351e6e89e', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 14, 'created': '2020-03-30 13:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/00314b1e9af0119acba8bd3d2c0d49f16a3f8b0f', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* continue_deploy (90)\n* deploy_is_done ('direct' interface only) (85)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 15, 'created': '2020-03-31 13:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ee7116050e49631d491df6a8b94434a8eb8998a', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 16, 'created': '2020-03-31 16:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/18a01cc2847d9721496a25382eff4b3e60c7b36c', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 17, 'created': '2020-04-01 12:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a8612d83b91d3d61f73f895fba57f7ae657a418d', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 18, 'created': '2020-04-01 14:58:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/aaaa237244e46bf0f929322467e53c2222673904', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 19, 'created': '2020-04-03 13:31:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f57b818c4a5ed9244bfa6158e5766ca95aaca0a', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 20, 'created': '2020-04-07 15:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54cdea765ea91b5caa70bebdf13b9e23b81cad4c', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 21, 'created': '2020-04-07 15:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/56ad4cdf55938bf3372cdaa8e865b92aacbe0521', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 22, 'created': '2020-04-07 16:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/40879e66dc8c566f37c72430d1c908843a8098ac', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 23, 'created': '2020-04-08 09:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a94c01e654174f2a27b7f891c2c914208f64d7dc', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 24, 'created': '2020-04-14 14:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1bb22d52721ec59c5ca1f117290694f94a6c7480', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 25, 'created': '2020-04-15 09:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3da16f3a914cb2a1edf1b086b137a90971a8039c', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 26, 'created': '2020-04-15 11:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e94b320120d6bb4ea15e037908f4e1a10b31ac40', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 27, 'created': '2020-04-16 14:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dada56f0c9aa414b9b739003e3eeb404058c227d', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 28, 'created': '2020-04-16 15:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/589667ae2625a1688a24fa7e00f175c5ad93d931', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 29, 'created': '2020-04-20 10:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4c48fd1ccb4fc6962aabce6d57c9e18570f52ce8', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 30, 'created': '2020-04-21 16:57:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a224833f0981bf64643c36f3916009d4fc9a9be7', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step into multiple steps on\nthe deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 31, 'created': '2020-05-27 12:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30ae70f015fa991a0f1a52e9c0d828dc8e8f62b0', 'message': ""WIP: Decompose core deploy step\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 32, 'created': '2020-05-27 12:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8140bde946d36ed9b60211c824dd8895cd53cce6', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 33, 'created': '2020-05-29 07:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/deb67b52a7e913cd7e69169b97598ea1b7a6fdd2', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 34, 'created': '2020-05-29 12:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/54995490db6628bbb857392ca8c1c31c72d290be', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 35, 'created': '2020-06-05 12:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7800d631e1f0eb88185bba94e904aea315764504', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* reboot_to_instance (80)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 36, 'created': '2020-06-05 14:14:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e4ae65d80b31ec2acab080adfaac97391810fc9', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (100)\n* write_image (90)\n* prepare_instance_boot (80)\n* tear_down_agent (75)\n* boot_instance (70)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 37, 'created': '2020-06-07 09:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b520dd15dc48f81bf38dedfbfd3a5b534400dd90', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 38, 'created': '2020-06-07 11:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e700a97b6c29f578f0522ffe504806d768cee520', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 39, 'created': '2020-06-07 13:10:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9dd7b211f18f62dd6a118ad5d7c83b27cf6467f2', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 40, 'created': '2020-06-07 13:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5732918a240630fcbbfa22e529776076652bebe5', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 41, 'created': '2020-06-08 09:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f090df7a2d3789c0552267bc5ea5ced92a69caf3', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 42, 'created': '2020-06-19 14:45:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4ddf8c559991c06a459e87f6d9d0a2a63cc84e7d', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 43, 'created': '2020-06-19 14:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bd7bdc696684445a6406c13319dc42d1e7f9cf8b', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nDepends-On: https://review.opendev.org/716216\nStory: 2006963\nTask: 37778\n""}, {'number': 44, 'created': '2020-06-23 16:00:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/120fb49fa9a5e3055d35fa3b8354e47e044847e9', 'message': ""WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple steps on the deploy interface:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin. To prove that in the CI, the iscsi and ansible\ndeploy interfaces are left untouched.\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n""}, {'number': 45, 'created': '2020-06-24 07:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14ff28cfabbcfae0f1df15202966f82e5ed5434c', 'message': 'WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}, {'number': 46, 'created': '2020-06-24 09:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f81b5456dbeb24e927e2543f938ea0be28be97c5', 'message': 'WIP: Decompose the core deploy step of the direct deploy\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}, {'number': 47, 'created': '2020-06-24 12:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36dbb014dbaa6513aae3de71c6728480eddb7f8f', 'message': 'Decompose the core deploy step of the direct deploy\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}, {'number': 48, 'created': '2020-06-24 14:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77d0e56d00481ec6bac6ae65ffb61a068fb61dce', 'message': 'Decompose the core deploy step of the direct deploy\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}, {'number': 49, 'created': '2020-07-02 08:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/428f27cb052646eff91e77bef36c9921ca5a9499', 'message': 'Decompose the core deploy step of the direct deploy\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}, {'number': 50, 'created': '2020-07-08 09:11:33.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'releasenotes/notes/direct-deploy-steps-36486987156017d7.yaml', 'doc/source/admin/node-deployment.rst', 'ironic/tests/unit/drivers/modules/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2a6b5c14d5c45728fc63fc89b501beb74a64ca60', 'message': 'Decompose the core deploy step of the direct deploy\n\nThis change decomposes the current deploy step of the direct deploy\ninto multiple deploy steps:\n\n* deploy (priority 100)\n* write_image (priority 80)\n* prepare_instance_boot (priority 60)\n\nNote that this patch breaks backwards compatibility with 3rd party\ndrivers that inherit AgentDeploy rather than the base agent class.\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf\nStory: 2006963\nTask: 37778\n'}]",9,698309,2a6b5c14d5c45728fc63fc89b501beb74a64ca60,168,10,50,14826,,,0,"Decompose the core deploy step of the direct deploy

This change decomposes the current deploy step of the direct deploy
into multiple deploy steps:

* deploy (priority 100)
* write_image (priority 80)
* prepare_instance_boot (priority 60)

Note that this patch breaks backwards compatibility with 3rd party
drivers that inherit AgentDeploy rather than the base agent class.

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: Ief586473aca0e22b74efe83ef70c354fd5df17bf
Story: 2006963
Task: 37778
",git fetch https://review.opendev.org/openstack/ironic refs/changes/09/698309/26 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/drivers/modules/test_agent_base_vendor.py', 'ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base_vendor.py', 'ironic/drivers/modules/iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_iscsi_deploy.py', 'ironic/tests/unit/drivers/modules/test_agent.py']",6,66e9176ff58b3bc96049fae185200b23d77670da,story/2006963," self.node.provision_state = states.DEPLOYING self.node.provision_state = states.DEPLOYING self.node.provision_state = states.DEPLOYING self.node.provision_state = states.DEPLOYING self.node.provision_state = states.DEPLOYING self.node.provision_state = states.DEPLOYING self.assertIsNone(task.driver.deploy.deploy_is_done(task)) self.assertEqual(task.driver.deploy.deploy_is_done(task), states.DEPLOYWAIT) self.assertEqual(task.driver.deploy.deploy_is_done(task), states.DEPLOYWAIT) self.assertEqual(task.driver.deploy.deploy_is_done(task), states.DEPLOYWAIT)", self.node.provision_state = states.DEPLOYWAIT self.node.provision_state = states.DEPLOYWAIT self.node.provision_state = states.DEPLOYWAIT self.node.provision_state = states.DEPLOYWAIT self.node.provision_state = states.DEPLOYWAIT self.node.provision_state = states.DEPLOYWAIT self.assertTrue(task.driver.deploy.deploy_is_done(task)) self.assertFalse(task.driver.deploy.deploy_is_done(task)) self.assertFalse(task.driver.deploy.deploy_is_done(task)) self.assertFalse(task.driver.deploy.deploy_is_done(task)),246,103
openstack%2Fpuppet-tripleo~stable%2Ftrain~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,stable/train,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-07-02 16:19:01.000000000,2020-07-09 14:31:27.000000000,2020-07-09 14:31:27.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 31804}]","[{'number': 1, 'created': '2020-07-02 16:19:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d47f893de2971354b8b2b89fe3ba79a9f8ec852c', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)\n'}, {'number': 2, 'created': '2020-07-08 12:25:35.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c2899322dd96a3b18834cea0fd2f2dff418aeb45', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)\n'}]",0,739091,c2899322dd96a3b18834cea0fd2f2dff418aeb45,26,5,2,14985,,,0,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/91/739091/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp']",2,d47f893de2971354b8b2b89fe3ba79a9f8ec852c,bug/1884415-stable/train,"# [*minsize*] # (optional) Defaults to '1'. # Configures the logrotate minsize parameter. ## [*notifempty*] # (optional) Defaults to True. # Configures the logrotate notifempty parameter. # $minsize = 1, $notifempty = true,",,13,1
openstack%2Fansible-collections-openstack~master~I76fc7df8202b4e00b54b5bafe7719e02b49e59ff,openstack/ansible-collections-openstack,master,I76fc7df8202b4e00b54b5bafe7719e02b49e59ff,Add openstack logger and Ansible display utility,MERGED,2020-06-30 12:41:25.000000000,2020-07-09 14:30:17.000000000,2020-07-09 14:30:16.000000000,"[{'_account_id': 2}, {'_account_id': 9268}, {'_account_id': 10068}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 31679}, {'_account_id': 32065}]","[{'number': 1, 'created': '2020-06-30 12:41:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/21e7b013f0732f44735693fea919c5b4118f435d', 'message': 'Add openstack logger and Ansible display utility\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 2, 'created': '2020-06-30 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/3f3959280d68c609e074faef8350cd5df3156718', 'message': 'Add openstack logger and Ansible display utility\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 3, 'created': '2020-06-30 12:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/bef3e1185adf585be0d4dff72865750da3dffb3d', 'message': 'Add openstack logger and Ansible display utility\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 4, 'created': '2020-06-30 13:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7d0d4363d38d8be96a49d078347ed3a212b5eeae', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 5, 'created': '2020-06-30 13:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/0bcf0536b226ece075b46a42a3ff1680d5ae05b0', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 6, 'created': '2020-06-30 13:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/5c284817369e219bdb8dbb1b0ba6d055e3ac658a', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 7, 'created': '2020-06-30 14:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f6c76cc718015490512d97bb519236afdad9cae5', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 8, 'created': '2020-07-02 18:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/92d49dc0478d6b5253a4fa035fa9ff14d547fbc8', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 9, 'created': '2020-07-03 06:23:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/fa5639346ba524faac7128d41a6ec7b5b2c4fdcf', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 10, 'created': '2020-07-03 09:04:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2532a7e0dcd17f74858148a7118ba6c81907d1d2', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 11, 'created': '2020-07-03 20:09:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/4431422621a52014949090e671181058bfca2f89', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 12, 'created': '2020-07-07 14:22:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/56795ac7b4ae39f0eb7aa097e6ebbfeff44832c3', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}, {'number': 13, 'created': '2020-07-07 20:22:30.000000000', 'files': ['plugins/inventory/openstack.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/40ce8103f4f610c43a34d96c2eafd6dcb78fe6ae', 'message': 'Add openstack logger and Ansible display utility\n\nStory: 2007879\n\nChange-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff\n'}]",24,738595,40ce8103f4f610c43a34d96c2eafd6dcb78fe6ae,39,7,13,32065,,,0,"Add openstack logger and Ansible display utility

Story: 2007879

Change-Id: I76fc7df8202b4e00b54b5bafe7719e02b49e59ff
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/95/738595/10 && git format-patch -1 --stdout FETCH_HEAD,['plugins/inventory/openstack.py'],1,21e7b013f0732f44735693fea919c5b4118f435d,improve-openstack-inventory-plugin-logging,"import loggingfrom ansible.utils.display import Display display = Display() os_logger = logging.getLogger(""openstack"") error_msg = ""Couldn't import Openstack SDK modules"" display.error(error_msg) display.error(error_msg) if 'clouds' in self._config_data: self.display.v( ""Found clouds config file instead of plugin config. "" ""Using default configuration."" ) self.display.v(""Reading inventory data from cache: %s"" % cache_key) display.v(""Inventory data cache not found"") self.display.v(""Getting hosts from Openstack clouds"") sdk.enable_logging( debug=self._config_data.get(""debug"", False), stream=sys.stderr ) self.display.vv(""Found %d cloud(s) in Openstack"" % len(cloud_inventory.clouds)) self.display.vv(""Looking at cloud : %s"" % cloud.name) if cloud.name in only_clouds: self.display.vv(""Selecting cloud : %s"" % cloud.name) self.display.vv(""Selected %d cloud(s)"" % len(cloud_inventory.clouds)) try: source_data = cloud_inventory.list_hosts( expand=expand_hostvars, fail_on_cloud_config=fail_on_errors, all_projects=all_projects) except Exception as e: self.display.warning(""Couldn't list Openstack hosts. "" ""See logs for details"") os_logger.error(e.message) self.display.v(""Valid plugin config file found"")"," # The user has pointed us at a clouds.yaml file. Use defaults for # everything. if 'clouds' in self._config_data: sdk.enable_logging(stream=sys.stderr) if cloud.name in only_clouds: source_data = cloud_inventory.list_hosts( expand=expand_hostvars, fail_on_cloud_config=fail_on_errors, all_projects=all_projects)",35,6
openstack%2Fansible-collections-openstack~master~I60cd5811f1926f53a7f88b19889fba9ca39c6184,openstack/ansible-collections-openstack,master,I60cd5811f1926f53a7f88b19889fba9ca39c6184,keypair: make use of OpenStackModule class,MERGED,2020-07-02 16:34:25.000000000,2020-07-09 14:30:16.000000000,2020-07-09 14:30:16.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/43c3cdf23936c17c2aeb1e057cfb193dc1d7a015', 'message': 'keypair: make use of OpenStackModule class\n\nConvert the keypair module to use the OpenStackModule class.\n\nSee: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab\n\nChange-Id: I60cd5811f1926f53a7f88b19889fba9ca39c6184\n'}, {'number': 2, 'created': '2020-07-02 18:00:25.000000000', 'files': ['plugins/modules/keypair.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/abebbe722c62424134dc15cdbd88f725096eeaa7', 'message': 'keypair: make use of OpenStackModule class\n\nConvert the keypair module to use the OpenStackModule class.\n\nSee: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab\n\nChange-Id: I60cd5811f1926f53a7f88b19889fba9ca39c6184\n'}]",0,739096,abebbe722c62424134dc15cdbd88f725096eeaa7,9,3,2,9268,,,0,"keypair: make use of OpenStackModule class

Convert the keypair module to use the OpenStackModule class.

See: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab

Change-Id: I60cd5811f1926f53a7f88b19889fba9ca39c6184
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/96/739096/2 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/keypair.py'],1,43c3cdf23936c17c2aeb1e057cfb193dc1d7a015,OpenStackModule,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( OpenStackModule) class KeyPairModule(OpenStackModule): deprecated_names = ('os_keypair', 'openstack.cloud.os_keypair') argument_spec = dict( module_kwargs = dict( def _system_state_change(self, keypair): state = self.params['state'] if state == 'present' and not keypair: return True if state == 'absent' and keypair: return True return False def run(self): state = self.params['state'] name = self.params['name'] public_key = self.params['public_key'] if self.params['public_key_file']: with open(self.params['public_key_file']) as public_key_fh: public_key = public_key_fh.read().rstrip() keypair = self.conn.get_keypair(name) if self.ansible.check_mode: self.exit_json(changed=self._system_state_change(keypair)) self.fail_json( self.conn.delete_keypair(name) keypair = self.conn.create_keypair(name, public_key) keypair = self.conn.create_keypair(name, public_key) self.exit_json(changed=changed, key=keypair, id=keypair['id']) self.conn.delete_keypair(name) self.exit_json(changed=True) self.exit_json(changed=False) def main(): module = KeyPairModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module) def _system_state_change(module, keypair): state = module.params['state'] if state == 'present' and not keypair: return True if state == 'absent' and keypair: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] name = module.params['name'] public_key = module.params['public_key'] if module.params['public_key_file']: with open(module.params['public_key_file']) as public_key_fh: public_key = public_key_fh.read().rstrip() sdk, cloud = openstack_cloud_from_module(module) try: keypair = cloud.get_keypair(name) if module.check_mode: module.exit_json(changed=_system_state_change(module, keypair)) module.fail_json( cloud.delete_keypair(name) keypair = cloud.create_keypair(name, public_key) keypair = cloud.create_keypair(name, public_key) module.exit_json(changed=changed, key=keypair, id=keypair['id']) cloud.delete_keypair(name) module.exit_json(changed=True) module.exit_json(changed=False) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",36,41
openstack%2Fpuppet-tripleo~master~Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644,openstack/puppet-tripleo,master,Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644,HA: fix rabbitmq readiness check for rabbitmq-server 3.8,MERGED,2020-02-27 11:42:21.000000000,2020-07-09 14:27:26.000000000,2020-02-28 20:43:51.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9257}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-02-27 11:42:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7f16598b44f35e82fa3753c4691867ccdb1eb1ea', 'message': 'HA: fix rabbitmq readiness check for rabbitmq-server 3.8\n\nIn HA profiles, we wait for rabbitmq application readiness by\nparsing the output of ""rabbitmqctl status"". This breaks with\nrabbitmq-server 3.8 which changed the output of that command.\n\nFix our check by using a ""rabbitmqctl eval"" and by relying on\na stable function call rather than parsing output. This\napproach works for rabbitmq-server 3.6 to 3.8.\n\nChange-Id: Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nCloses-Bug: #1864962\n'}, {'number': 2, 'created': '2020-02-27 15:41:55.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e60351ee09eed0217d52aa1bad80f8c02501f0fe', 'message': 'HA: fix rabbitmq readiness check for rabbitmq-server 3.8\n\nIn HA profiles, we wait for rabbitmq application readiness by\nparsing the output of ""rabbitmqctl status"". This breaks with\nrabbitmq-server 3.8 which changed the output of that command.\n\nFix our check by using a ""rabbitmqctl eval"" and by relying on\na stable function call rather than parsing output. This\napproach works for rabbitmq-server 3.6 to 3.8.\n\nChange-Id: Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644\nCo-Authored-By: Yatin Karel <ykarel@redhat.com>\nCloses-Bug: #1864962\n'}]",2,710233,e60351ee09eed0217d52aa1bad80f8c02501f0fe,26,11,2,20778,,,0,"HA: fix rabbitmq readiness check for rabbitmq-server 3.8

In HA profiles, we wait for rabbitmq application readiness by
parsing the output of ""rabbitmqctl status"". This breaks with
rabbitmq-server 3.8 which changed the output of that command.

Fix our check by using a ""rabbitmqctl eval"" and by relying on
a stable function call rather than parsing output. This
approach works for rabbitmq-server 3.6 to 3.8.

Change-Id: Id88d0aee74e4b26fd64bbc2da5d0c0fc4bbd6644
Co-Authored-By: Yatin Karel <ykarel@redhat.com>
Closes-Bug: #1864962
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/33/710233/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/pacemaker/rabbitmq.pp']",2,7f16598b44f35e82fa3753c4691867ccdb1eb1ea,bug/1864962," command => 'rabbitmqctl eval ""os:getpid()."" &>/dev/null',"," command => 'rabbitmqctl status | grep -F ""{rabbit,""',",2,2
openstack%2Foctavia-tempest-plugin~master~Iace86cd45bc8b4d7ff2dbe147f924c039278334c,openstack/octavia-tempest-plugin,master,Iace86cd45bc8b4d7ff2dbe147f924c039278334c,Use memory_tracker instead of peakmem_tracker,ABANDONED,2020-07-09 10:58:33.000000000,2020-07-09 14:25:34.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 10:58:33.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/f0edc7ce7116c92d15d31377b2343a304484f70c', 'message': 'Use memory_tracker instead of peakmem_tracker\n\nThe peakmem_tracker service has long been deprecated in devstack and will\nsoon be removed complete. Replace it by the memory_tracker service. [0]\n\n[0] https://review.opendev.org/638409\n\nChange-Id: Iace86cd45bc8b4d7ff2dbe147f924c039278334c\n'}]",0,740242,f0edc7ce7116c92d15d31377b2343a304484f70c,4,2,1,13252,,,0,"Use memory_tracker instead of peakmem_tracker

The peakmem_tracker service has long been deprecated in devstack and will
soon be removed complete. Replace it by the memory_tracker service. [0]

[0] https://review.opendev.org/638409

Change-Id: Iace86cd45bc8b4d7ff2dbe147f924c039278334c
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/42/740242/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,f0edc7ce7116c92d15d31377b2343a304484f70c,, memory_tracker: true, peakmem_tracker: true,1,1
openstack%2Fopenstack-helm-infra~master~Iafadf5629c281775f912377470c568cc8b053326,openstack/openstack-helm-infra,master,Iafadf5629c281775f912377470c568cc8b053326,Update alertmanger image to v0.21.0,ABANDONED,2020-07-09 13:26:28.000000000,2020-07-09 14:24:33.000000000,,[],"[{'number': 1, 'created': '2020-07-09 13:26:28.000000000', 'files': ['prometheus-alertmanager/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5b0b560b7b5d962e8ac4e4b5edf4d270c65e9ec', 'message': 'Update alertmanger image to v0.21.0\n\nUpdate alertmanager image from v0.11.0 to v0.21.0\n\nChange-Id: Iafadf5629c281775f912377470c568cc8b053326\n'}]",0,740285,e5b0b560b7b5d962e8ac4e4b5edf4d270c65e9ec,2,0,1,31713,,,0,"Update alertmanger image to v0.21.0

Update alertmanager image from v0.11.0 to v0.21.0

Change-Id: Iafadf5629c281775f912377470c568cc8b053326
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/85/740285/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-alertmanager/values.yaml'],1,e5b0b560b7b5d962e8ac4e4b5edf4d270c65e9ec,, alertmanager: docker.io/prom/alertmanager:v0.21.0, alertmanager: docker.io/prom/alertmanager:v0.11.0,1,1
openstack%2Fansible-collections-openstack~master~Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843,openstack/ansible-collections-openstack,master,Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843,security_group_rule: use OpenStackModule class,MERGED,2020-07-02 16:34:25.000000000,2020-07-09 14:24:08.000000000,2020-07-09 14:24:08.000000000,"[{'_account_id': 2}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9ff896536558af03f10b3b2065998077427cd5c4', 'message': 'security_group_rule: use OpenStackModule class\n\nRefactoring of security_group_rule to depend on the OpenStackModule\nclass.\n\nSee: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab\n\nChange-Id: Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843\n'}, {'number': 2, 'created': '2020-07-02 18:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/571e503904919d6fb23c2446b4afb43c2325e6d1', 'message': 'security_group_rule: use OpenStackModule class\n\nRefactoring of security_group_rule to depend on the OpenStackModule\nclass.\n\nSee: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab\n\nChange-Id: Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843\n'}, {'number': 3, 'created': '2020-07-02 19:23:15.000000000', 'files': ['plugins/modules/security_group_rule.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/9600baec6ec8ae335fa8dd923dfdc19b25b232ba', 'message': 'security_group_rule: use OpenStackModule class\n\nRefactoring of security_group_rule to depend on the OpenStackModule\nclass.\n\nSee: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab\n\nChange-Id: Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843\n'}]",0,739095,9600baec6ec8ae335fa8dd923dfdc19b25b232ba,10,3,3,9268,,,0,"security_group_rule: use OpenStackModule class

Refactoring of security_group_rule to depend on the OpenStackModule
class.

See: I487e79fe18c0b9a75df7dacd224ab40ed7f4e1ab

Change-Id: Ide09bdd6a57324a0e1d2ec29c4c49db8dc1c3843
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/95/739095/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/security_group_rule.py'],1,9ff896536558af03f10b3b2065998077427cd5c4,OpenStackModule,"from ansible_collections.openstack.cloud.plugins.module_utils.openstack import ( OpenStackModule)class SecurityGroupRuleModule(OpenStackModule): deprecated_names = ('os_security_group_rule', 'openstack.cloud.os_security_group_rule') argument_spec = dict( module_kwargs = dict( def _find_matching_rule(self, secgroup, remotegroup): """""" Find a rule in the group that matches the module parameters. :returns: The matching rule dict, or None if no matches. """""" protocol = self.params['protocol'] remote_ip_prefix = self.params['remote_ip_prefix'] ethertype = self.params['ethertype'] direction = self.params['direction'] remote_group_id = remotegroup['id'] for rule in secgroup['security_group_rules']: if ( protocol == rule['protocol'] and remote_ip_prefix == rule['remote_ip_prefix'] and ethertype == rule['ethertype'] and direction == rule['direction'] and remote_group_id == rule['remote_group_id'] and _ports_match( protocol, self.params['port_range_min'], self.params['port_range_max'], rule['port_range_min'], rule['port_range_max']) ): return rule return None def _system_state_change(self, secgroup, remotegroup): state = self.params['state'] if secgroup: rule_exists = self._find_matching_rule(secgroup, remotegroup) else: return False if state == 'present' and not rule_exists: return True if state == 'absent' and rule_exists: return True return False def run(self): state = self.params['state'] security_group = self.params['security_group'] remote_group = self.params['remote_group'] project = self.params['project'] changed = False if project is not None: proj = self.conn.get_project(project) if proj is None: self.fail_json(msg='Project %s could not be found' % project) project_id = self.conn.current_project_id secgroup = self.conn.get_security_group(security_group, filters=filters) remotegroup = self.conn.get_security_group(remote_group, filters=filters) if self.check_mode: self.exit_json(changed=self._system_state_change(secgroup, remotegroup)) if self.params['protocol'] == 'any': self.params['protocol'] = None self.fail_json(msg='Could not find security group %s' % security_group) rule = self._find_matching_rule(secgroup, remotegroup) rule = self.conn.create_security_group_rule( port_range_min=self.params['port_range_min'], port_range_max=self.params['port_range_max'], protocol=self.params['protocol'], remote_ip_prefix=self.params['remote_ip_prefix'], direction=self.params['direction'], ethertype=self.params['ethertype'], self.exit_json(changed=changed, rule=rule, id=rule['id']) rule = self._find_matching_rule(secgroup, remotegroup) if rule: self.conn.delete_security_group_rule(rule['id']) self.exit_json(changed=changed) def main(): module = SecurityGroupRuleModule() module()","from ansible.module_utils.basic import AnsibleModule from ansible_collections.openstack.cloud.plugins.module_utils.openstack import (openstack_full_argument_spec, openstack_module_kwargs, openstack_cloud_from_module)def _find_matching_rule(module, secgroup, remotegroup): """""" Find a rule in the group that matches the module parameters. :returns: The matching rule dict, or None if no matches. """""" protocol = module.params['protocol'] remote_ip_prefix = module.params['remote_ip_prefix'] ethertype = module.params['ethertype'] direction = module.params['direction'] remote_group_id = remotegroup['id'] for rule in secgroup['security_group_rules']: if ( protocol == rule['protocol'] and remote_ip_prefix == rule['remote_ip_prefix'] and ethertype == rule['ethertype'] and direction == rule['direction'] and remote_group_id == rule['remote_group_id'] and _ports_match( protocol, module.params['port_range_min'], module.params['port_range_max'], rule['port_range_min'], rule['port_range_max']) ): return rule return None def _system_state_change(module, secgroup, remotegroup): state = module.params['state'] if secgroup: rule_exists = _find_matching_rule(module, secgroup, remotegroup) else: return False if state == 'present' and not rule_exists: return True if state == 'absent' and rule_exists: return True return False def main(): argument_spec = openstack_full_argument_spec( module_kwargs = openstack_module_kwargs( module = AnsibleModule(argument_spec, supports_check_mode=True, **module_kwargs) state = module.params['state'] security_group = module.params['security_group'] remote_group = module.params['remote_group'] project = module.params['project'] changed = False sdk, cloud = openstack_cloud_from_module(module) try: if project is not None: proj = cloud.get_project(project) if proj is None: module.fail_json(msg='Project %s could not be found' % project) project_id = cloud.current_project_id secgroup = cloud.get_security_group(security_group, filters=filters) remotegroup = cloud.get_security_group(remote_group, filters=filters) if module.check_mode: module.exit_json(changed=_system_state_change(module, secgroup, remotegroup)) if module.params['protocol'] == 'any': module.params['protocol'] = None module.fail_json(msg='Could not find security group %s' % security_group) rule = _find_matching_rule(module, secgroup, remotegroup) rule = cloud.create_security_group_rule( port_range_min=module.params['port_range_min'], port_range_max=module.params['port_range_max'], protocol=module.params['protocol'], remote_ip_prefix=module.params['remote_ip_prefix'], direction=module.params['direction'], ethertype=module.params['ethertype'], module.exit_json(changed=changed, rule=rule, id=rule['id']) rule = _find_matching_rule(module, secgroup, remotegroup) if rule: cloud.delete_security_group_rule(rule['id']) module.exit_json(changed=changed) except sdk.exceptions.OpenStackCloudException as e: module.fail_json(msg=str(e))",79,85
openstack%2Fnova~master~I142bf203d5751864afeb3da35efd708f24c08924,openstack/nova,master,I142bf203d5751864afeb3da35efd708f24c08924,hardware: Invert order of NUMA topology generation,MERGED,2020-03-24 16:43:46.000000000,2020-07-09 14:16:48.000000000,2020-07-09 14:12:30.000000000,"[{'_account_id': 5754}, {'_account_id': 8864}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-03-24 16:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fa1b61e20d55c330d5fbb619e047bac588518955', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2020-03-25 17:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2afe268f8b801c2aa6d8a2085f8f4e6eef9ed27a', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2020-03-26 15:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/00ab0e2d58a45f697cb2740205750ba5b372ddae', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2020-03-27 12:15:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/63b8ceaa73fe55883fddc2f03df7b83b7f734c91', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4dca14455a448f880069f4bcfaaf8d617a995ca', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2020-04-07 08:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fdd0704acbfa9e5cd8b4a75bde64029c154bb65b', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2020-05-08 10:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c51d5fb037ac0ac5ba5eb074ebfafb218ad7f36', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2020-05-13 05:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aabd58d599f8fee31adc7c8ab53df61a948d966', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2020-05-15 15:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7061b6a34e89a83e794d2b290b1bc93a7e07df87', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/622844af66a2d103a0023c9e6993d5c4d4195cc1', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 11, 'created': '2020-06-19 15:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a4779d15e464801c747af56e1257eccac8a59136', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 12, 'created': '2020-06-23 17:32:23.000000000', 'files': ['nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eedac34b21e591ca4d31aa1856ef8a52b7b86d3d', 'message': ""hardware: Invert order of NUMA topology generation\n\nPreviously, we were generating an instance NUMA topology and then\ntacking things like CPU pinning policies onto these topologies. Going\nforward, we'll want to use the latter to inform the former. Set that up\nnow by simply inverting how we do things. There's no end-user impact\nother than improved docstrings for some functions.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I142bf203d5751864afeb3da35efd708f24c08924\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",20,714701,eedac34b21e591ca4d31aa1856ef8a52b7b86d3d,148,17,12,15334,,,0,"hardware: Invert order of NUMA topology generation

Previously, we were generating an instance NUMA topology and then
tacking things like CPU pinning policies onto these topologies. Going
forward, we'll want to use the latter to inform the former. Set that up
now by simply inverting how we do things. There's no end-user impact
other than improved docstrings for some functions.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I142bf203d5751864afeb3da35efd708f24c08924
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/01/714701/7 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/hardware.py'],1,fa1b61e20d55c330d5fbb619e047bac588518955,bp/use-pcpu-and-vcpu-in-one-instance,"def _get_numa_topology_auto( nodes: int, flavor: 'objects.Flavor', ) -> 'objects.InstanceNUMATopology': """"""Generate a NUMA topology automatically based on CPUs and memory. This is ""automatic"" because there's no user-provided configuration here - it's all auto-generated. :param nodes: The number of nodes required in the generated topology. :param flavor: The flavor used for the instance, from which to extract the CPU and memory count. """""" if (flavor.vcpus % nodes) > 0 or (flavor.memory_mb % nodes) > 0:def _get_numa_topology_manual( nodes: int, flavor: 'objects.Flavor', cpu_list: ty.List[ty.Set[int]], mem_list: ty.List[int], ) -> 'objects.InstanceNUMATopology': """"""Generate a NUMA topology based on user-provided NUMA topology hints. :param nodes: The number of nodes required in the generated topology. :param flavor: The flavor used for the instance, from which to extract the CPU and memory count. :param cpu_list: A list of sets of ints; each set in the list corresponds to the set of cores to assign to NUMA node $index. :param mem_list: A list of ints; each int corresponds to the amount of memory to assign to NUMA node $index. :returns: The generated instance NUMA topology. """""" nodes = _get_numa_node_count_constraint(flavor, image_meta) pagesize = _get_numa_pagesize_constraint(flavor, image_meta) vpmems = get_vpmems(flavor) # NOTE(stephenfin): There are currently four things that will configure a # NUMA topology for an instance: # # - The user explicitly requesting one # - The use of CPU pinning # - The use of hugepages # - The use of vPMEM if nodes or pagesize or vpmems or cpu_policy in ( fields.CPUAllocationPolicy.DEDICATED, ): nodes = nodes or 1 cpu_list = _get_numa_cpu_constraint(flavor, image_meta) mem_list = _get_numa_mem_constraint(flavor, image_meta) if cpu_list is None and mem_list is None: numa_topology = _get_numa_topology_auto( nodes, flavor) elif cpu_list is not None and mem_list is not None: # If any node has data set, all nodes must have data set if len(cpu_list) != nodes or len(mem_list) != nodes: raise exception.ImageNUMATopologyIncomplete() numa_topology = _get_numa_topology_manual( nodes, flavor, cpu_list, mem_list ) else: # If one property list is specified both must be raise exception.ImageNUMATopologyIncomplete() # We currently support the same pagesize, CPU policy and CPU thread # policy for all cells, but these are still stored on a per-cell # basis :( for c in numa_topology.cells: setattr(c, 'pagesize', pagesize) setattr(c, 'cpu_policy', cpu_policy) setattr(c, 'cpu_thread_policy', cpu_thread_policy) # ...but emulator threads policy is not \o/ else: numa_topology = None","def _get_numa_topology_auto(nodes, flavor): if ((flavor.vcpus % nodes) > 0 or (flavor.memory_mb % nodes) > 0):def _get_numa_topology_manual(nodes, flavor, cpu_list, mem_list): numa_topology = None nodes = _get_numa_node_count_constraint(flavor, image_meta) pagesize = _get_numa_pagesize_constraint(flavor, image_meta) vpmems = get_vpmems(flavor) if nodes or pagesize or vpmems: nodes = nodes or 1 cpu_list = _get_numa_cpu_constraint(flavor, image_meta) mem_list = _get_numa_mem_constraint(flavor, image_meta) if cpu_list is None and mem_list is None: numa_topology = _get_numa_topology_auto( nodes, flavor) elif cpu_list is not None and mem_list is not None: # If any node has data set, all nodes must have data set if len(cpu_list) != nodes or len(mem_list) != nodes: raise exception.ImageNUMATopologyIncomplete() numa_topology = _get_numa_topology_manual( nodes, flavor, cpu_list, mem_list ) else: # If one property list is specified both must be raise exception.ImageNUMATopologyIncomplete() # We currently support same pagesize for all cells. for c in numa_topology.cells: setattr(c, 'pagesize', pagesize) return numa_topology if numa_topology: for cell in numa_topology.cells: cell.cpu_policy = cpu_policy cell.cpu_thread_policy = cpu_thread_policy else: single_cell = objects.InstanceNUMACell( id=0, cpuset=set(range(flavor.vcpus)), memory=flavor.memory_mb, cpu_policy=cpu_policy, cpu_thread_policy=cpu_thread_policy) numa_topology = objects.InstanceNUMATopology(cells=[single_cell]) if emu_threads_policy:",74,48
openstack%2Fcharm-ceph-fs~master~I9912fe43e6db71ed81e47175f9f790ed550c9c31,openstack/charm-ceph-fs,master,I9912fe43e6db71ed81e47175f9f790ed550c9c31,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:27:58.000000000,2020-07-09 14:16:15.000000000,2020-07-09 14:16:15.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/acdbc389a193582a3621ebc2e1f5afbcfb1dc5cc', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I9912fe43e6db71ed81e47175f9f790ed550c9c31\n'}, {'number': 2, 'created': '2020-07-09 08:48:49.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-fs/commit/8cffe1665d27e007b6cd757107d0f4b289dfda77', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I9912fe43e6db71ed81e47175f9f790ed550c9c31\n'}]",0,732627,8cffe1665d27e007b6cd757107d0f4b289dfda77,19,4,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I9912fe43e6db71ed81e47175f9f790ed550c9c31
",git fetch https://review.opendev.org/openstack/charm-ceph-fs refs/changes/27/732627/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,acdbc389a193582a3621ebc2e1f5afbcfb1dc5cc,batch-groovy-ch-libs,- openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal - groovy, - openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal,10,9
openstack%2Fbifrost~master~I960fc1ab98f89feaf57d1b0aee7502ab0612a487,openstack/bifrost,master,I960fc1ab98f89feaf57d1b0aee7502ab0612a487,Account for bugfix branches in bifrost-cli,MERGED,2020-07-09 11:13:52.000000000,2020-07-09 14:05:20.000000000,2020-07-09 14:02:20.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-09 11:13:52.000000000', 'files': ['bifrost/cli.py', 'scripts/test-bifrost.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/a47db1e302bbe8f956216f31fa660d054bd81659', 'message': 'Account for bugfix branches in bifrost-cli\n\nFall back to the default branch unless an explicit one is provided.\n\nChange-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487\n'}]",0,740244,a47db1e302bbe8f956216f31fa660d054bd81659,10,4,1,10239,,,0,"Account for bugfix branches in bifrost-cli

Fall back to the default branch unless an explicit one is provided.

Change-Id: I960fc1ab98f89feaf57d1b0aee7502ab0612a487
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/44/740244/1 && git format-patch -1 --stdout FETCH_HEAD,"['bifrost/cli.py', 'scripts/test-bifrost.sh']",2,a47db1e302bbe8f956216f31fa660d054bd81659,bugfix-release, ../bifrost-cli --debug install --testenv, ../bifrost-cli --debug install --release ${ZUUL_BRANCH:-master} --testenv,14,6
openstack%2Fironic-inspector~master~I84e6343fc13e4c4c02521499632a07e782088057,openstack/ironic-inspector,master,I84e6343fc13e4c4c02521499632a07e782088057,Remove non-inclusive language in pxe filter,MERGED,2020-07-09 09:01:02.000000000,2020-07-09 13:58:24.000000000,2020-07-09 13:54:57.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-07-09 09:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/99063f57e877d62b449e577938b297ae747f1899', 'message': 'Remove non-inclusive language in pxe filter\n\nReplaces the use of black/white-list with deny/allow-list\nin the pxe filter.\n\nChange-Id: I84e6343fc13e4c4c02521499632a07e782088057\n'}, {'number': 2, 'created': '2020-07-09 09:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/1aff889c87424d4b3a0af5ccfb3c396146939eba', 'message': 'Remove non-inclusive language in pxe filter\n\nReplaces the use of black/white-list with deny/allow-list\nin the pxe filter.\n\nChange-Id: I84e6343fc13e4c4c02521499632a07e782088057\n'}, {'number': 3, 'created': '2020-07-09 10:03:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ec64e3475c99bda701aa4be965e34479dd4dbebd', 'message': 'Remove non-inclusive language in pxe filter\n\nReplaces the use of black/white-list with deny/allow-list\nin the pxe filter.\n\nChange-Id: I84e6343fc13e4c4c02521499632a07e782088057\n'}, {'number': 4, 'created': '2020-07-09 10:06:15.000000000', 'files': ['ironic_inspector/test/unit/test_dnsmasq_pxe_filter.py', 'ironic_inspector/test/unit/test_iptables.py', 'CONTRIBUTING.rst', 'ironic_inspector/pxe_filter/dnsmasq.py', 'doc/source/admin/dnsmasq-pxe-filter.rst', 'ironic_inspector/pxe_filter/iptables.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a1f8926cd161b770bbd189d86dd915b3aec1b274', 'message': 'Remove non-inclusive language in pxe filter\n\nReplaces the use of black/white-list with deny/allow-list\nin the pxe filter.\n\nChange-Id: I84e6343fc13e4c4c02521499632a07e782088057\n'}]",12,740194,a1f8926cd161b770bbd189d86dd915b3aec1b274,16,6,4,24245,,,0,"Remove non-inclusive language in pxe filter

Replaces the use of black/white-list with deny/allow-list
in the pxe filter.

Change-Id: I84e6343fc13e4c4c02521499632a07e782088057
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/94/740194/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/unit/test_dnsmasq_pxe_filter.py', 'ironic_inspector/test/unit/test_iptables.py', 'ironic_inspector/pxe_filter/dnsmasq.py', 'ironic_inspector/pxe_filter/iptables.py']",4,99063f57e877d62b449e577938b297ae747f1899,inclusive-language," self.denylist_cache = None self.denylist_cache = None to_deny = _get_deny_list(ironic) if to_deny == self.denylist_cache: to_deny) LOG.debug('Adding active MAC\'s %s to the deny list', to_deny) self.denylist_cache = None # - Add active macs to the deny list, so that nova can boot them for mac in to_deny: # - Add everything else to the allow list self.denylist_cache = to_deny self.denylist_cache = None with self._temporary_chain(self.new_chain, self.chain): # deny everythingdef _get_deny_list(ironic):"," self.blacklist_cache = None self.blacklist_cache = None to_blacklist = _get_blacklist(ironic) if to_blacklist == self.blacklist_cache: to_blacklist) LOG.debug('Blacklisting active MAC\'s %s', to_blacklist) self.blacklist_cache = None # - Blacklist active macs, so that nova can boot them for mac in to_blacklist: # - Whitelist everything else self.blacklist_cache = to_blacklist self.blacklist_cache = None with self._temporary_chain(self.new_chain, self.chain): # Blacklist everythingdef _get_blacklist(ironic):",138,138
openstack%2Ftripleo-validations~master~Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a,openstack/tripleo-validations,master,Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a,"Add ""mock"" in test-requirements and lower-constraints",MERGED,2020-07-07 13:36:01.000000000,2020-07-09 13:49:47.000000000,2020-07-09 13:45:36.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-07 13:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/83dea20b0ed98b623e263846f3e871b9208f1928', 'message': 'Add ""mock"" in test-requirements\n\nChange-Id: Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a\n'}, {'number': 2, 'created': '2020-07-08 12:39:52.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/5dfccb80f15f4897ba7957613db93a1b541c646d', 'message': 'Add ""mock"" in test-requirements and lower-constraints\n\nChange-Id: Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a\n'}]",1,739748,5dfccb80f15f4897ba7957613db93a1b541c646d,12,4,2,28223,,,0,"Add ""mock"" in test-requirements and lower-constraints

Change-Id: Ie4841d6e334b2ebed37e5da0dd5f3fa336e4b73a
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/48/739748/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,83dea20b0ed98b623e263846f3e871b9208f1928,requirements/mock,mock,,1,0
openstack%2Ftempest~master~If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0,openstack/tempest,master,If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0,zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue,ABANDONED,2020-02-28 16:06:44.000000000,2020-07-09 13:46:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-02-28 16:06:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/812e14f737f97e1c2924f6a67c7c377d564d9f4d', 'message': 'zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue\n\nGiven the removal of devstack-plugin-ceph-tempest we should now promote\ndevstack-plugin-ceph-tempest-py3 to the check queue as a non-voting job.\n\nChange-Id: If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0\n'}, {'number': 2, 'created': '2020-04-17 09:15:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a0d84c93b314feef974d7dc29633c1fc0a406333', 'message': 'zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue\n\nGiven the removal of devstack-plugin-ceph-tempest we should now promote\ndevstack-plugin-ceph-tempest-py3 to the check queue as a non-voting job.\n\nChange-Id: If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0\n'}, {'number': 3, 'created': '2020-04-20 07:52:14.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d04cf87edf89cfaf9dca47948cad227650324af', 'message': 'zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue\n\nGiven the removal of devstack-plugin-ceph-tempest we should now promote\ndevstack-plugin-ceph-tempest-py3 to the check queue as a non-voting job.\n\nChange-Id: If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0\n'}]",0,710477,6d04cf87edf89cfaf9dca47948cad227650324af,7,1,3,10135,,,0,"zuul: Promote devstack-plugin-ceph-tempest-py3 to the check queue

Given the removal of devstack-plugin-ceph-tempest we should now promote
devstack-plugin-ceph-tempest-py3 to the check queue as a non-voting job.

Change-Id: If3bfb304d0864f58e46bb30b18a71dfc88c8b2d0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/710477/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,812e14f737f97e1c2924f6a67c7c377d564d9f4d,, - devstack-plugin-ceph-tempest-py3: voting: false irrelevant-files: *tempest-irrelevant-files,,3,0
openstack%2Fneutron~master~Idc614f9f25188bd1a1e1d5424274acf04ba99328,openstack/neutron,master,Idc614f9f25188bd1a1e1d5424274acf04ba99328,Update cirros image to cirros-0.5.1-x86_64 globally,MERGED,2020-03-05 10:27:34.000000000,2020-07-09 13:34:54.000000000,2020-07-09 13:30:07.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-03-05 10:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c33c94c2e42533e17878dd657317203e7eb4bb6', 'message': 'Update cirros image to cirros-0.5.0-x86_64-disk.img\n\nNew cirros with recent fixes for metadata service\nhas been released.\nLets update the image version on gate.\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 2, 'created': '2020-03-05 10:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a029f2d1d63577a0d3b4d72ba478b7ba8165746', 'message': 'Update cirros image to cirros-0.5.0-x86_64-disk.img\n\nNew cirros with recent fixes for metadata service\nhas been released.\nLets update the image version on gate.\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 3, 'created': '2020-03-05 10:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3eece149c02db93d45b18da6b96d2cb19122c7f8', 'message': 'Update cirros image to cirros-0.5.0-x86_64-disk.img\n\nNew cirros with recent fixes for metadata service\nhas been released.\nLets update the image version on gate.\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 4, 'created': '2020-03-05 16:03:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c864c9f27a4246da66322a047c681a262314cd3', 'message': '[WIP] Update cirros image to cirros-0.5.0-x86_64-disk globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 5, 'created': '2020-03-06 02:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a41ecb40547ee4fcac5f95ac0ab12e6691580c01', 'message': '[WIP] Update cirros image to cirros-0.5.0-x86_64-disk globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 6, 'created': '2020-03-12 17:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8b6267bb77626582f6f5d4cb077d6a57bceabdeb', 'message': '[WIP] Update cirros image to cirros-0.5.0-x86_64-disk globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 7, 'created': '2020-03-13 08:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/84e3d4aaa5a72833fa6d6880954b08712b83638b', 'message': '[WIP] Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 8, 'created': '2020-03-16 11:07:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4aded5f0df92216bde0fd05107772c07f8f169da', 'message': '[WIP] Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\nDepends-On: https://review.opendev.org/#/c/713189\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 9, 'created': '2020-05-28 11:36:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/535bb6a529dfe0b4bd3bf6b74387bb7f8307ae84', 'message': 'Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\nDepends-On: https://review.opendev.org/#/c/711492\nDepends-On: https://review.opendev.org/#/c/713189\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n(cherry picked from commit 4aded5f0df92216bde0fd05107772c07f8f169da)\n'}, {'number': 10, 'created': '2020-05-29 16:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96b72cec1bcbff0d2820409ba507891a6d856c87', 'message': 'Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 11, 'created': '2020-06-03 11:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/247ff7354f613b0e8093a63d60afbd7b6742abaf', 'message': 'Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}, {'number': 12, 'created': '2020-07-07 22:06:39.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/ovn-local.conf.sample', 'doc/source/install/ovn/tripleo_install.rst', 'doc/source/admin/config-qos-min-bw.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db6ebd22e1d296fc5e6c687384fe6696f4f14af5', 'message': 'Update cirros image to cirros-0.5.1-x86_64 globally\n\nNew cirros with recent fixes for metadata service\nhas been released. Lets update the image version on gate.\n\nAlso stop using different images for OVN. Lets use default\nsettings from devstack.\n\nFirst we need to merge [2].\n\n[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129\n[2] https://review.opendev.org/#/c/711492/\n\nChange-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328\n'}]",12,711425,db6ebd22e1d296fc5e6c687384fe6696f4f14af5,102,11,12,24791,,,0,"Update cirros image to cirros-0.5.1-x86_64 globally

New cirros with recent fixes for metadata service
has been released. Lets update the image version on gate.

Also stop using different images for OVN. Lets use default
settings from devstack.

First we need to merge [2].

[1] https://github.com/cirros-dev/cirros/pull/11/commits/e40bcd2964aa496a9d03e1aaf95cf7a86938f129
[2] https://review.opendev.org/#/c/711492/

Change-Id: Idc614f9f25188bd1a1e1d5424274acf04ba99328
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/711425/12 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml', 'devstack/ovn-local.conf.sample', 'doc/source/install/ovn/tripleo_install.rst']",4,1c33c94c2e42533e17878dd657317203e7eb4bb6,cirros-0.5," curl http://download.cirros-cloud.net/0.4.0/cirros-0.5.0-x86_64-disk.img \ > cirros-0.5.0-x86_64-disk.img openstack image create ""cirros"" --file cirros-0.5.0-x86_64-disk.img \"," curl http://download.cirros-cloud.net/0.4.0/cirros-0.4.0-x86_64-disk.img \ > cirros-0.4.0-x86_64-disk.img openstack image create ""cirros"" --file cirros-0.4.0-x86_64-disk.img \",9,9
openstack%2Ftripleo-heat-templates~master~Ied787eac4c69294c7c2713e652ed4bf815db4358,openstack/tripleo-heat-templates,master,Ied787eac4c69294c7c2713e652ed4bf815db4358,"Revert ""Collapse host prep tasks""",ABANDONED,2020-07-09 13:18:15.000000000,2020-07-09 13:34:41.000000000,,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 13:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/93766e7461ecd800a64c01d75d5cef6d1b710b9e', 'message': 'Revert ""Collapse host prep tasks""\n\nThis reverts commit 3ef8f6008d41a88642d66a6a24c67210f773f87e.\nRelated-Bug: #1886914\n\nChange-Id: Ied787eac4c69294c7c2713e652ed4bf815db4358\n'}, {'number': 2, 'created': '2020-07-09 13:26:30.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4aef78347a76dc6ed939c8249469faf8f4764ebf', 'message': 'Revert ""Collapse host prep tasks""\n\nThis reverts commit 3ef8f6008d41a88642d66a6a24c67210f773f87e.\nRelated-Bug: #1886914\n\nChange-Id: Ied787eac4c69294c7c2713e652ed4bf815db4358\n'}]",0,740280,4aef78347a76dc6ed939c8249469faf8f4764ebf,6,7,2,3153,,,0,"Revert ""Collapse host prep tasks""

This reverts commit 3ef8f6008d41a88642d66a6a24c67210f773f87e.
Related-Bug: #1886914

Change-Id: Ied787eac4c69294c7c2713e652ed4bf815db4358
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/80/740280/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,93766e7461ecd800a64c01d75d5cef6d1b710b9e,strategy-improvements2,{%- for role in roles %} - hosts: {{role.name}} name: {{role.name}} Host prep steps - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml{%- endfor %}, - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Host prep steps{%- for role in roles %} - name: {{role.name}} Host prep block when: - tripleo_role_name == '{{role.name}}' block: - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml {%- endfor %},10,14
openstack%2Ftripleo-heat-templates~master~I54f09df5affd5d6a73d618e719ffa101aad9d48a,openstack/tripleo-heat-templates,master,I54f09df5affd5d6a73d618e719ffa101aad9d48a,"Revert ""Collapse deploy steps""",ABANDONED,2020-07-09 13:14:26.000000000,2020-07-09 13:34:37.000000000,,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 13:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3045c70152ec618ef98dd01fdee942e78f4ddff6', 'message': 'Revert ""Collapse deploy steps""\n\nThis reverts commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90.\n\nChange-Id: I54f09df5affd5d6a73d618e719ffa101aad9d48a\nRelated-Bug: #1886914\n'}, {'number': 2, 'created': '2020-07-09 13:17:52.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71ebca9eb6cdc34218c0ea0e3cce83f9e6de3dc5', 'message': 'Revert ""Collapse deploy steps""\n\nThis reverts commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90.\n\nChange-Id: I54f09df5affd5d6a73d618e719ffa101aad9d48a\nRelated-Bug: #1886914\n'}]",0,740277,71ebca9eb6cdc34218c0ea0e3cce83f9e6de3dc5,4,7,2,3153,,,0,"Revert ""Collapse deploy steps""

This reverts commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90.

Change-Id: I54f09df5affd5d6a73d618e719ffa101aad9d48a
Related-Bug: #1886914
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/740277/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,3045c70152ec618ef98dd01fdee942e78f4ddff6,strategy-improvements," tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common bootstrap tasks for step 1 gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common deploy step tasks {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common deploy step tasks {{step}}' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)"," block: - name: Overcloud common bootstrap tasks for step 1 delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) block: - name: Overcloud common deploy step tasks {{step}} delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common deploy step tasks {{step}}' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)",67,28
openstack%2Fopenstack-ansible~master~Ibac278398ef533bc8fcf253c67cb983461bd145d,openstack/openstack-ansible,master,Ibac278398ef533bc8fcf253c67cb983461bd145d,Add Centos-8 support,MERGED,2019-10-19 17:14:40.000000000,2020-07-09 13:18:47.000000000,2020-07-09 13:12:47.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-10-19 17:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a6f1fa1f9df9ed3a38787ba516ffb421e7d993e1', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 2, 'created': '2019-10-19 17:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/567399f8ff35e0847ed3936413a8ae0cfce2db00', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 3, 'created': '2019-10-19 18:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9c28b39edd777b44cf3860b5f73c151dc6b0c5ee', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 4, 'created': '2019-10-19 18:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e89d369aeb8f8dfce4f3d26951dcd141412c43ac', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 5, 'created': '2019-10-19 18:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/938d90dcf74eba3635c9751c8d87eb4f63927db8', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 6, 'created': '2019-10-20 07:22:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9e2710fd8fe2cb167bf35099d2a86cecc4d0a1d2', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 7, 'created': '2019-10-20 07:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2e70534f27fca35ded4702a508a2ccaafd67d298', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 8, 'created': '2019-10-20 09:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/847e69e385faf658f8b5f1357165fc13f64068a6', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 9, 'created': '2019-10-21 07:42:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e38856e2b03dbf7b7ad790a9d91839314998235d', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 10, 'created': '2019-10-21 07:59:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ff1f7b54e2602b4fc0f9eb1a357bf27ef2d45399', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 11, 'created': '2019-12-03 17:09:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ef931b53ada34326e02d428fb42f7c09a96085d', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 12, 'created': '2019-12-03 17:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/781ba5d3499b4cbfa33e7a7b1027479cce074c79', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 13, 'created': '2019-12-04 12:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c31c07106557551997a7cc5a468f413ae0ed2fb', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 14, 'created': '2020-02-04 17:35:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7172da79d2bb97a2c29ca9279958430f7d3a00a5', 'message': '[WIP] Centos-8 support\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 15, 'created': '2020-02-04 21:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c5c4a0b8d5adb1ed5997be9aa89880fdf1762901', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 16, 'created': '2020-02-24 10:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b85871f05ea5566c9477e8cd46f42001296981eb', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 17, 'created': '2020-02-24 12:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0669d6a4748a5d33fcd044263813a5e0fef84d3e', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 18, 'created': '2020-02-24 12:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a13804c540c99db5c642722872f8fa89fe4a5921', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 19, 'created': '2020-02-24 14:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/efd202c6dec75c26c352d3b755124d75a2560e9d', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 20, 'created': '2020-02-24 15:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aebf3d3e1f780d872e443c55f78094c62efef8a0', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/709460\nDepends-On: https://review.opendev.org/705849\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 21, 'created': '2020-02-24 15:35:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/14278cf9224e2eb0edf1ad6330b893bb870d1005', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 22, 'created': '2020-02-24 17:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/090ea9fcdd44a52dfe740634ca87b93e9e76cdf3', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 23, 'created': '2020-02-24 22:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/345e4faa409f1cb15f7125f490e0292412547ced', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 24, 'created': '2020-02-25 16:08:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/cbc5cb88c0267bd04358c837940ccd58f7b9f313', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 25, 'created': '2020-02-25 17:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8efef7b0984fc8267baca3b10406fe0e37d81a4a', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 26, 'created': '2020-02-25 17:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/378a1efcaf559f9a51047dd15e31c23d56113232', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 27, 'created': '2020-02-25 18:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6a70d7fb0ec5dc53931d1434075320535076a8fc', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 28, 'created': '2020-04-30 13:36:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/13afbff839b992e6429876de4a87d79bf6d6cc2b', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 29, 'created': '2020-04-30 13:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/4d94cf4101cb0134ca21317059f2eacd24d7f955', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/705849\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 30, 'created': '2020-04-30 13:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/59943c80507a5a21238a7e11a6f60bec08903c4e', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 31, 'created': '2020-04-30 14:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f99d70d52a4525bb97fbf255c2c5b287316e1d98', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 32, 'created': '2020-04-30 14:07:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0357cd2b5ccb78746d952fed2e495d354b5f0f9d', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 33, 'created': '2020-04-30 14:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ac201718327e3375a7d989577e6123c9f86e7af0', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 34, 'created': '2020-04-30 14:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/252c5c8c47f4d827dc1bf824e5db843ea7d4fd3a', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 35, 'created': '2020-04-30 15:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2496bfa9683dd4fe74b052116ed6c3198b7e69b7', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 36, 'created': '2020-04-30 16:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f8651cc27101a50c88aa019c589c7d914d049457', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 37, 'created': '2020-05-14 19:27:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2a56ea89a413038f3b5fd7c45252b3becaa7b338', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 38, 'created': '2020-05-14 20:03:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9d861dc99511e202dfd5fccebe5b95e585a47d6e', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 39, 'created': '2020-05-15 10:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/be220b2c8b298c71898bc2cda6064904933b95c5', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 40, 'created': '2020-05-15 17:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a15bcf05e47bfdc34ea6e94dd46f52573a3a48dc', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 41, 'created': '2020-05-15 21:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/33703b0bdc2eb6b418946671f343f7f2d81c485b', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ibc92a6126ff161e1f2edd5d831a1f832d328323e\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 42, 'created': '2020-05-15 21:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/9f837d7aa34a2f1e67d36c9f577fe0e61e379e26', 'message': '[WIP] Centos-8 support\n\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 43, 'created': '2020-05-26 12:10:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/35c43c017797948e803c76805d2a505315bc1316', 'message': '[WIP] Centos-8 support\n\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: If33ce6f55939ee7722bbab98d134f182cba0eb25\nDepends-On: I33160b9a6e8331d6db39824e420033c7ab06780b\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 44, 'created': '2020-05-26 12:12:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c632b0f54697e3f968a658b691cd4a7cbdd590f8', 'message': '[WIP] Centos-8 support\n\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 45, 'created': '2020-05-28 15:22:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c3c0e7980a590e2a7c874bd3963a90881c3ee5e', 'message': '[WIP] Centos-8 support\n\nDepends-On: Iab8d28c32e534e62759dc2bc72bd6368fbea471d\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 46, 'created': '2020-05-28 17:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e480aa592daff5683f299eb71890229421595176', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 47, 'created': '2020-06-12 13:09:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e8d32beee35bef0b3f5d35675bae184fb917b38b', 'message': '[WIP] Centos-8 support\n\nDepends-On: Ic59c26c51b5ea9a49c7721a1aa7641203950bc97\nDepends-On: Idb16322ed6554656a54214bfd4a1d5d3b92503d2\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 48, 'created': '2020-06-15 10:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/49255a4bfa5126df5f3597e0e55291360cc0a01e', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735552\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 49, 'created': '2020-06-15 11:06:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1918521381bf2e5a2ce32ab452cdc1965464c26e', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 50, 'created': '2020-06-15 16:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/033af012b51419e9e79e01a52a19d77078b23a19', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 51, 'created': '2020-06-15 16:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/78c86afc5c970d60976a8cb1e367cfa2aff0bd9d', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 52, 'created': '2020-06-15 22:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7c488d43e0c87105936d47d630d09b3bb4285528', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\nDepends-On: https://review.opendev.org/735626\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 53, 'created': '2020-06-16 12:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/427132a91254ea7215c5777428f89ae15d40dc33', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\nDepends-On: https://review.opendev.org/735626\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 54, 'created': '2020-06-16 13:12:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/da9613d8bf24c0410180332545d8e661b45f65e0', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 55, 'created': '2020-06-16 13:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f75c351663c2c80b3903ffc441f00ccdcb9ec785', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735612\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 56, 'created': '2020-06-16 13:40:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a4f5e136a405e6022b041f329a9661b61fa260ea', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 57, 'created': '2020-06-16 14:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e584d020b5b97bd9ec5774a5d8d2954a23bbe765', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 58, 'created': '2020-06-16 17:03:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0fa8449da14a828154e44a10d0326d6ad5833698', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 59, 'created': '2020-06-18 19:39:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/bd8ef8cde5144242783f55220a7bfad1347d076d', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 60, 'created': '2020-06-18 20:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/10fd15ef6673b7d0b5c6ba372a88807d943a6c8a', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 61, 'created': '2020-06-19 12:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3bc7272b06775c5d4108ae17b4084fe6825d70cc', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 62, 'created': '2020-06-19 13:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/fa14b5aa2c340bb44c628812490d608049c04b6b', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 63, 'created': '2020-06-19 15:59:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e61d5e78f4eeb75e28d837ef0f0c3df96464a33f', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 64, 'created': '2020-06-19 16:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/230c5e45ab28e93367742d256568c7b6e7032d4b', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 65, 'created': '2020-06-19 21:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5459d8d65c387015e7962adff733e2381d61113f', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 66, 'created': '2020-06-20 07:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b902fa13ee65f2c4c4a0b2703a2431b3aa956359', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 67, 'created': '2020-06-20 07:06:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/876a700e9fd75d61e5d01b2f0142571e82cc5066', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/737122\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 68, 'created': '2020-06-21 07:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5176cb2daa162d6a49b67da0b224eed03825ebde', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/737122\nDepends-On: https://review.opendev.org/737164\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 69, 'created': '2020-06-22 16:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7baf51ec0174c2fc1ac6a0679710981c712db00e', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/737122\nDepends-On: https://review.opendev.org/737164\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 70, 'created': '2020-06-25 11:48:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/62116f82f167be1bfcf2ec862f845bd0fdf1031f', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/735870\nDepends-On: https://review.opendev.org/735552\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735626\nDepends-On: https://review.opendev.org/735909\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/737122\nDepends-On: https://review.opendev.org/731459\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 71, 'created': '2020-07-01 17:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1275446b7237a328c715785b13e3b698ff49bcb0', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 72, 'created': '2020-07-01 18:35:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/ab852c4a84a7d74e24279104c23b32e56b2d7352', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 73, 'created': '2020-07-01 18:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/14b5051ce7d57b55a7293e1c00f3ff3a82c86d9e', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 74, 'created': '2020-07-01 21:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/14c43b6ad6000824717cbb4f959afcb10ababb92', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 75, 'created': '2020-07-01 21:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/3e6112868ee84b6dd4c9a0431b65aaf24f9af6d7', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 76, 'created': '2020-07-02 09:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/eed5cdf0d1c5bf7c910fbf9b308b2f88eadb368a', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 77, 'created': '2020-07-02 14:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/de0ecb386d951afb8d61f5448882291a5dc70c8c', 'message': '[WIP] Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 78, 'created': '2020-07-02 16:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c0ca02fcba0fa57fd5ff89f52c2af3eef5ce1401', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 79, 'created': '2020-07-02 17:02:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5a51591b17a1073c1bb26299b60a14849c390244', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 80, 'created': '2020-07-02 20:53:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6ff1b26204c72b727866b379ffb6867d8efcfaf9', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 81, 'created': '2020-07-02 22:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2c7949ec0760c4d984b36654e51ae9e22c8db746', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}, {'number': 82, 'created': '2020-07-03 04:56:10.000000000', 'files': ['doc/source/user/aio/quickstart.rst', 'releasenotes/notes/add-centos-8-support-af546bd6ca3b10cd.yaml', 'tests/roles/bootstrap-host/tasks/prepare_aio_config.yml', 'zuul.d/playbooks/pre-gate-cleanup.yml', 'scripts/gate-check-commit.sh', 'tests/roles/bootstrap-host/defaults/main.yml', 'ansible-role-requirements.yml', 'tests/bootstrap-aio.yml', 'tests/roles/bootstrap-host/vars/redhat-8.yml', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'scripts/scripts-library.sh', 'inventory/group_vars/utility_all.yml', 'scripts/bootstrap-ansible.sh', 'zuul.d/project.yaml', 'tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e167e56857cdfa2f146a3416a9f5b61c850685c0', 'message': 'Add Centos-8 support\n\nDepends-On: https://review.opendev.org/738903\nDepends-On: https://review.opendev.org/735555\nDepends-On: https://review.opendev.org/735781\nDepends-On: https://review.opendev.org/735926\nDepends-On: https://review.opendev.org/735971\nDepends-On: https://review.opendev.org/736097\nDepends-On: https://review.opendev.org/736095\nDepends-On: https://review.opendev.org/736850\nDepends-On: https://review.opendev.org/739026\n\nChange-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d\n'}]",349,689629,e167e56857cdfa2f146a3416a9f5b61c850685c0,245,6,82,25023,,,0,"Add Centos-8 support

Depends-On: https://review.opendev.org/738903
Depends-On: https://review.opendev.org/735555
Depends-On: https://review.opendev.org/735781
Depends-On: https://review.opendev.org/735926
Depends-On: https://review.opendev.org/735971
Depends-On: https://review.opendev.org/736097
Depends-On: https://review.opendev.org/736095
Depends-On: https://review.opendev.org/736850
Depends-On: https://review.opendev.org/739026

Change-Id: Ibac278398ef533bc8fcf253c67cb983461bd145d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/689629/64 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/aio/quickstart.rst', 'zuul.d/project-templates.yaml', 'tests/roles/bootstrap-host/tasks/check-requirements.yml', 'zuul.d/jobs.yaml', 'playbooks/openstack-hosts-setup.yml']",5,a6f1fa1f9df9ed3a38787ba516ffb421e7d993e1,osa/el8, (ansible_os_family == 'RedHat' and ansible_distribution_major_version == '8') or,,69,3
openstack%2Ftripleo-heat-templates~master~I2670840c9beac06f8b8ffc6eaecc88b9119ad298,openstack/tripleo-heat-templates,master,I2670840c9beac06f8b8ffc6eaecc88b9119ad298,Collapse host prep tasks,MERGED,2020-06-09 18:25:49.000000000,2020-07-09 13:18:15.000000000,2020-06-24 10:43:18.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 18:25:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b9524377f5068dcfebba6f18827f4d33731f49cf', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n'}, {'number': 2, 'created': '2020-06-11 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98e94bbefa3c1155a4700ea321dff23e6f01feb2', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n'}, {'number': 3, 'created': '2020-06-11 19:19:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71011d1f8ff183330ed524c999990bfc46dd3922', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n'}, {'number': 4, 'created': '2020-06-19 02:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c76f3ad94ead5c8e55d38c93db52c47f8ac0bad5', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n'}, {'number': 5, 'created': '2020-06-22 12:51:57.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3ef8f6008d41a88642d66a6a24c67210f773f87e', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n'}]",7,734664,3ef8f6008d41a88642d66a6a24c67210f773f87e,69,8,5,14985,,,0,"Collapse host prep tasks

Since plays cannot be parallelized with a free-like strategy, we should
have a single play that runs all host prep tasks rather than blocks of
plays for each defined role. By switching to this method we have a
single play that handles the host prep tasks concept that can be run all
at once across a cloud.

Change-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/64/734664/4 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,b9524377f5068dcfebba6f18827f4d33731f49cf,strategy-improvements, - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Host prep steps{%- for role in roles %} - name: {{role.name}} Host prep block when: - tripleo_role_name == '{{role.name}}' block: - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - include_tasks: {{role.name}}/host_prep_tasks.yaml {%- endfor %},{%- for role in roles %} - hosts: {{role.name}} name: {{role.name}} Host prep steps - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml{%- endfor %},14,10
openstack%2Fneutron~master~I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,openstack/neutron,master,I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491,Stop installing Octavia in OVN jobs,MERGED,2020-06-15 11:20:09.000000000,2020-07-09 13:15:54.000000000,2020-06-24 14:50:55.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-15 11:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ccdb30445a4606fa28b817ebf986dcee5c9d5ff2', 'message': 'Stop installing Octavia in OVN jobs\n\nWe have separate project now - OVN Octavia provider - and its gate\nis responsible for testing OVN integration with Octavia.\n\nChange-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491\n'}, {'number': 2, 'created': '2020-06-22 13:44:38.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b64d9349641a16c71c1781e137623d5912b1f984', 'message': 'Stop installing Octavia in OVN jobs\n\nWe have separate project now - OVN Octavia provider - and its gate\nis responsible for testing OVN integration with Octavia.\n\nChange-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491\n'}]",0,735559,b64d9349641a16c71c1781e137623d5912b1f984,21,5,2,24791,,,0,"Stop installing Octavia in OVN jobs

We have separate project now - OVN Octavia provider - and its gate
is responsible for testing OVN integration with Octavia.

Change-Id: I317b7ad54a2f5c5c99bf0bff9eba4d91a1a86491
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/735559/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/tempest-singlenode.yaml']",2,ccdb30445a4606fa28b817ebf986dcee5c9d5ff2,,, - openstack/octavia octavia: https://opendev.org/openstack/octavia o-api: true o-hk: true ovn-octavia: true,0,11
openstack%2Frequirements~master~Ib71d06242d94aa1a73e69b0c7423b973ae685a1f,openstack/requirements,master,Ib71d06242d94aa1a73e69b0c7423b973ae685a1f,"Revert ""Temporarily cap setuptools<48.0.0""",MERGED,2020-07-04 01:23:26.000000000,2020-07-09 13:14:49.000000000,2020-07-06 13:57:01.000000000,"[{'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-04 01:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/fcf0b25087cdbbf69777ce38542afd270c3b645e', 'message': 'Revert ""Temporarily cap setuptools<48.0.0""\n\nThis reverts commit ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f.\n\nChange-Id: Ib71d06242d94aa1a73e69b0c7423b973ae685a1f\n'}, {'number': 2, 'created': '2020-07-04 22:38:01.000000000', 'files': ['global-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3223fa7e093c86b5e3c3485f43a0b7f133b6a30d', 'message': 'Revert ""Temporarily cap setuptools<48.0.0""\n\nThis reverts commit ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f.\n\nblacklist the 48.0.0 and 49.0.0 due to\nhttps://github.com/pypa/setuptools/issues/2232\n\nChange-Id: Ib71d06242d94aa1a73e69b0c7423b973ae685a1f\n'}]",0,739294,3223fa7e093c86b5e3c3485f43a0b7f133b6a30d,14,5,2,8556,,,0,"Revert ""Temporarily cap setuptools<48.0.0""

This reverts commit ca1eb8dd0ae9c7c7ac149e8b4ff9bbc9630eb43f.

blacklist the 48.0.0 and 49.0.0 due to
https://github.com/pypa/setuptools/issues/2232

Change-Id: Ib71d06242d94aa1a73e69b0c7423b973ae685a1f
",git fetch https://review.opendev.org/openstack/requirements refs/changes/94/739294/2 && git format-patch -1 --stdout FETCH_HEAD,['global-requirements.txt'],1,fcf0b25087cdbbf69777ce38542afd270c3b645e,bug/1886237,"setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0 # PSF/ZPL","# TODO: we need to uncap it from <48.0.0 once this bug is fixed https://bugs.launchpad.net/devstack/+bug/1886237 setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,<48.0.0 # PSF/ZPL",1,2
openstack%2Ftripleo-heat-templates~master~I986391617231b9dd23aa487d73db490db84f61ce,openstack/tripleo-heat-templates,master,I986391617231b9dd23aa487d73db490db84f61ce,Collapse deploy steps,MERGED,2020-06-09 18:45:46.000000000,2020-07-09 13:14:26.000000000,2020-07-04 04:55:02.000000000,"[{'_account_id': 3153}, {'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-09 18:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fe3b52f0f3a9a444ef2a1ded2b58a4f91f80b0fe', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 2, 'created': '2020-06-11 13:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/07855b3647559782e6a85449c0740968a4751ceb', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 3, 'created': '2020-06-11 19:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96d245d9895201111dc719c8a5ce97603dd72038', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 4, 'created': '2020-06-19 02:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0af71e1e41f5d3c7a9cab0e97bf9c3e5ae5d9d0a', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 5, 'created': '2020-06-22 12:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e525ce8a3d1beaeb323f8ba6e39e9cb21eec907b', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 6, 'created': '2020-06-25 00:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c639182b82771aa93c06406f7cec7129c3a5f05', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 7, 'created': '2020-07-02 21:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5c69d756207bdec63e0cc6045104051d8564e6ea', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}, {'number': 8, 'created': '2020-07-03 13:12:31.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f82af5595a7e8b377a7aef66b947b73b5ec8ae90', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n""}]",0,734668,f82af5595a7e8b377a7aef66b947b73b5ec8ae90,80,7,8,14985,,,0,"Collapse deploy steps

Once again we're splitting the deployment steps into multiple plays
which causes ansible to artificially stop at the end of each play when
using a free-style strategy. By combining the deploy steps, bootstrap
tasks and common deploy steps, we can run each step to completion in
parallel rather than stopping at each of these for every step. This will
reduce the overall play count to (1*6) instead of (3*6+1)

Change-Id: I986391617231b9dd23aa487d73db490db84f61ce
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/734668/5 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,fe3b52f0f3a9a444ef2a1ded2b58a4f91f80b0fe,strategy-improvements," block: - name: Overcloud common bootstrap tasks for step 1 delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) block: - name: Overcloud common deploy step tasks {{step}} delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common deploy step tasks {{step}}' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)"," tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common bootstrap tasks for step 1 gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common deploy step tasks {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common deploy step tasks {{step}}' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)",28,67
openstack%2Ftripleo-heat-templates~master~If1c621b45718475578dca390c45c0e23d1f3d7bc,openstack/tripleo-heat-templates,master,If1c621b45718475578dca390c45c0e23d1f3d7bc,Disable Sahara in scenario003-standalone,MERGED,2020-06-10 15:03:31.000000000,2020-07-09 13:12:03.000000000,2020-06-11 07:38:07.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-10 15:03:31.000000000', 'files': ['ci/environments/scenario003-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03285912fcc784a971c206f44584b096e28ba14c', 'message': ""Disable Sahara in scenario003-standalone\n\nSahara service is deprecated in TripleO and won't be tested anymore to\nalign with what is delivered downstream.\nIn the new container image tooling, we don't ship sahara images simply because\nwe don't have users and won't continue to support it's deployment in the\nfuture.\n\nChange-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc\n""}]",0,734870,03285912fcc784a971c206f44584b096e28ba14c,12,5,1,3153,,,0,"Disable Sahara in scenario003-standalone

Sahara service is deprecated in TripleO and won't be tested anymore to
align with what is delivered downstream.
In the new container image tooling, we don't ship sahara images simply because
we don't have users and won't continue to support it's deployment in the
future.

Change-Id: If1c621b45718475578dca390c45c0e23d1f3d7bc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/734870/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/environments/scenario003-standalone.yaml'],1,03285912fcc784a971c206f44584b096e28ba14c,sahara,, OS::TripleO::Services::SaharaApi: ../../deployment/deprecated/sahara/sahara-api-container-puppet.yaml OS::TripleO::Services::SaharaEngine: ../../deployment/deprecated/sahara/sahara-engine-container-puppet.yaml,0,2
openstack%2Fproject-config~master~If0df64f17282fb0aee48e18b813dc8044c84824c,openstack/project-config,master,If0df64f17282fb0aee48e18b813dc8044c84824c,add vexxhost/openstack-tools,MERGED,2020-07-07 00:45:05.000000000,2020-07-09 13:07:36.000000000,2020-07-09 12:57:33.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 00:45:05.000000000', 'files': ['zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/839e5201ae6096418f0b1948438df660fd958b00', 'message': 'add vexxhost/openstack-tools\n\nChange-Id: If0df64f17282fb0aee48e18b813dc8044c84824c\n'}]",0,739627,839e5201ae6096418f0b1948438df660fd958b00,8,3,1,1004,,,0,"add vexxhost/openstack-tools

Change-Id: If0df64f17282fb0aee48e18b813dc8044c84824c
",git fetch https://review.opendev.org/openstack/project-config refs/changes/27/739627/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/projects.yaml', 'zuul/main.yaml']",2,839e5201ae6096418f0b1948438df660fd958b00,add-openstack-tools, - vexxhost/openstack-tools,,4,0
openstack%2Fironic-python-agent~bugfix%2F6.2~I2f00e95b5ff2616941ee50f575e10eddb680ecce,openstack/ironic-python-agent,bugfix/6.2,I2f00e95b5ff2616941ee50f575e10eddb680ecce,Update TOX_CONSTRAINTS_FILE for bugfix/6.2,MERGED,2020-07-08 18:51:18.000000000,2020-07-09 12:57:36.000000000,2020-07-09 12:54:26.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 18:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2b891c4926275fef951022fd1c62633a6010c047', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/6.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/6.2 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2f00e95b5ff2616941ee50f575e10eddb680ecce\n'}, {'number': 2, 'created': '2020-07-09 09:43:46.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4760c4ce38d5aa6d73518cbba4bc4cb082600f06', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/6.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I2f00e95b5ff2616941ee50f575e10eddb680ecce\n'}]",0,740088,4760c4ce38d5aa6d73518cbba4bc4cb082600f06,10,3,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/6.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I2f00e95b5ff2616941ee50f575e10eddb680ecce
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/740088/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2b891c4926275fef951022fd1c62633a6010c047,create-6.2, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/6.2}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fironic-inspector~bugfix%2F10.2~Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356,openstack/ironic-inspector,bugfix/10.2,Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356,Update TOX_CONSTRAINTS_FILE for bugfix/10.2,MERGED,2020-07-08 18:45:08.000000000,2020-07-09 12:57:35.000000000,2020-07-09 12:54:25.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 18:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/bb5c2cc50eb712fbd1130d7cd1374c072a2bb062', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/10.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/10.2 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356\n'}, {'number': 2, 'created': '2020-07-09 09:42:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/db03e1c5eb37c3799831542895d5761795a782e1', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/10.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356\n'}]",0,740085,db03e1c5eb37c3799831542895d5761795a782e1,13,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/10.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ia1311cbe1dbbfbbea092a6ba1541869e2cee9356
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/85/740085/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bb5c2cc50eb712fbd1130d7cd1374c072a2bb062,create-10.2, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/10.2}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},1,1
openstack%2Fopenstack-zuul-jobs~master~I908d097adbd739869915baa93de2797acf6b8ef9,openstack/openstack-zuul-jobs,master,I908d097adbd739869915baa93de2797acf6b8ef9,Stop to use the __future__ module.,MERGED,2020-06-02 18:34:59.000000000,2020-07-09 12:57:35.000000000,2020-07-09 12:54:17.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/9b5136b68a4c051c4a6de7651485d0dc961803c3', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I908d097adbd739869915baa93de2797acf6b8ef9\n""}, {'number': 2, 'created': '2020-06-11 13:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f2614166ddc08617eb7c9991e8823544f6e19d24', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I908d097adbd739869915baa93de2797acf6b8ef9\n""}, {'number': 3, 'created': '2020-07-01 08:21:04.000000000', 'files': ['roles/prepare-zanata-client/files/get-modulename.py'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/11175cf7d71e36e3b39ddbbdcf38dbc6b60ab4d7', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I908d097adbd739869915baa93de2797acf6b8ef9\n""}]",1,732887,11175cf7d71e36e3b39ddbbdcf38dbc6b60ab4d7,16,4,3,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I908d097adbd739869915baa93de2797acf6b8ef9
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/87/732887/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/prepare-zanata-client/files/get-modulename.py'],1,9b5136b68a4c051c4a6de7651485d0dc961803c3,drop_future_imports,,from __future__ import print_function ,0,2
openstack%2Fproject-config~master~Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31,openstack/project-config,master,Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31,Publish Airship governance,MERGED,2020-07-07 15:17:43.000000000,2020-07-09 12:55:07.000000000,2020-07-09 12:55:07.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29624}]","[{'number': 1, 'created': '2020-07-07 15:17:43.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/55639fb0b1ac9338f08b7c7fb3ae63d1fdaf5230', 'message': 'Publish Airship governance\n\nAirship governance was not previous permitted to publish to\ndocs.airshipit.org because it did not have the theme setup. The\ncommunity has expressed interest in publishing Airship governance to\ndocs.airshipit.org, so this change enables publishing for the\nairship/governance repository.\n\nChange-Id: Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31\nSigned-off-by: Drew Walters <andrew.walters@att.com>\n'}]",0,739790,55639fb0b1ac9338f08b7c7fb3ae63d1fdaf5230,9,5,1,28618,,,0,"Publish Airship governance

Airship governance was not previous permitted to publish to
docs.airshipit.org because it did not have the theme setup. The
community has expressed interest in publishing Airship governance to
docs.airshipit.org, so this change enables publishing for the
airship/governance repository.

Change-Id: Ia8bfc089a836574c6f56b8e28d5fc7016f0c6e31
Signed-off-by: Drew Walters <andrew.walters@att.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/739790/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,55639fb0b1ac9338f08b7c7fb3ae63d1fdaf5230,, - airship/governance,,1,0
openstack%2Fproject-config~master~I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3,openstack/project-config,master,I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3,maintain-github-mirror: fix dependency name,MERGED,2020-07-09 09:17:01.000000000,2020-07-09 12:55:05.000000000,2020-07-09 12:55:05.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 09:17:01.000000000', 'files': ['playbooks/maintain-github-mirror/run.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/299017c496e015142e3d546c3ea46ebb6239edff', 'message': ""maintain-github-mirror: fix dependency name\n\nThe script needs the 'github' module, but this is provided by the\n'PyGithub' library on Pypi, not the 'github' library.\n\nChange-Id: I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3\n""}]",0,740199,299017c496e015142e3d546c3ea46ebb6239edff,7,3,1,308,,,0,"maintain-github-mirror: fix dependency name

The script needs the 'github' module, but this is provided by the
'PyGithub' library on Pypi, not the 'github' library.

Change-Id: I7c6d4b30a11d38e060fb4e6b2cdf29301f6f03e3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/740199/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/maintain-github-mirror/run.yaml'],1,299017c496e015142e3d546c3ea46ebb6239edff,github-manager-fixes, name: PyGithub, name: github,1,1
openstack%2Fironic~master~Ie4fdd195efa941165e22bd4ce9484988a1760b2d,openstack/ironic,master,Ie4fdd195efa941165e22bd4ce9484988a1760b2d,agent_base: support inserting in-band deploy steps,MERGED,2020-06-24 07:24:43.000000000,2020-07-09 12:51:00.000000000,2020-07-09 12:42:05.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-06-24 07:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/59ff43ad6ff198d157ec24f77ed2ad3a394d768a', 'message': 'agent_base: support inserting in-band deploy steps\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change allows deploy interfaces inheriting agent_base.AgentDeployMixin\nto be used with in-band deploy steps. It is implemented by decomposing\nthe reboot_and_finish_deploy call into two deploy steps:\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\nAll steps with priorities between 99 and 41 can run in-band.\n\nThe old reboot_and_finish_deploy call is left for compatibility but does\nnothing since the new steps will be automatically run.\n\nChange-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d\nStory: #2006963\nTask: #40151\n'}, {'number': 2, 'created': '2020-06-24 09:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8e2121dbb19e3f3a40d5a3a68a078597f853ccd4', 'message': ""agent_base: support inserting in-band deploy steps\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change allows deploy interfaces inheriting agent_base.AgentDeployMixin\nto be used with in-band deploy steps. It is implemented by decomposing\nthe reboot_and_finish_deploy call into two deploy steps:\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\nAll steps with priorities between 99 and 41 can run in-band.\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nThe old reboot_and_finish_deploy call is also left for compatibility\nbut does nothing since the new steps will be automatically run.\n\nChange-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d\nStory: #2006963\nTask: #40151\n""}, {'number': 3, 'created': '2020-06-24 09:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77d841e2414d085c9dc736c63b2e7e6c55a21f46', 'message': ""agent_base: support inserting in-band deploy steps\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change allows deploy interfaces inheriting agent_base.AgentDeployMixin\nto be used with in-band deploy steps. It is implemented by decomposing\nthe reboot_and_finish_deploy call into two deploy steps:\n* tear_down_agent (priority 40)\n* boot_instance (priority 20)\nAll steps with priorities between 99 and 41 can run in-band.\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nThe old reboot_and_finish_deploy call is also left for compatibility\nbut does nothing since the new steps will be automatically run.\n\nChange-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d\nStory: #2006963\nTask: #40151\n""}, {'number': 4, 'created': '2020-07-02 08:29:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/65c9ff49c3b59db2f6be33981661416970126b1c', 'message': ""agent_base: support inserting in-band deploy steps\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change allows deploy interfaces inheriting agent_base.AgentDeployMixin\nto be used with in-band deploy steps. It is implemented by decomposing\nthe reboot_and_finish_deploy call into three deploy steps:\n* tear_down_agent (priority 40)\n* switch_to_tenant_network (priority 30)\n* boot_instance (priority 20)\nAll steps with priorities between 99 and 41 can run in-band.\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nThe old reboot_and_finish_deploy call is also left for compatibility\nbut does nothing since the new steps will be automatically run.\n\nChange-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d\nStory: #2006963\nTask: #40151\n""}, {'number': 5, 'created': '2020-07-08 09:11:33.000000000', 'files': ['releasenotes/notes/in-band-steps-e4a1fe759029fea5.yaml', 'ironic/drivers/modules/agent.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/drivers/modules/agent_base.py', 'doc/source/admin/node-deployment.rst', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/conductor/deployments.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/deec7f4a926b7e032a44a0c56ac4016bf250ef54', 'message': ""agent_base: support inserting in-band deploy steps\n\nCurrently all almost all of the deployment process is contained in a\nsingle deploy step called deploy, on the deploy interface. This\nrestricts the customisation that can be applied via deploy steps, since\nsteps may only be added before or after this step.\n\nThis change allows deploy interfaces inheriting agent_base.AgentDeployMixin\nto be used with in-band deploy steps. It is implemented by decomposing\nthe reboot_and_finish_deploy call into three deploy steps:\n* tear_down_agent (priority 40)\n* switch_to_tenant_network (priority 30)\n* boot_instance (priority 20)\nAll steps with priorities between 99 and 41 can run in-band.\n\nBackwards compatibility with drivers that do not support decomposed\nsteps is maintained via a 'has_decomposed_deploy_steps' method on the\nagent heartbeat mixin.\n\nThe old reboot_and_finish_deploy call is also left for compatibility\nbut does nothing since the new steps will be automatically run.\n\nChange-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d\nStory: #2006963\nTask: #40151\n""}]",5,737695,deec7f4a926b7e032a44a0c56ac4016bf250ef54,31,9,5,10239,,,0,"agent_base: support inserting in-band deploy steps

Currently all almost all of the deployment process is contained in a
single deploy step called deploy, on the deploy interface. This
restricts the customisation that can be applied via deploy steps, since
steps may only be added before or after this step.

This change allows deploy interfaces inheriting agent_base.AgentDeployMixin
to be used with in-band deploy steps. It is implemented by decomposing
the reboot_and_finish_deploy call into three deploy steps:
* tear_down_agent (priority 40)
* switch_to_tenant_network (priority 30)
* boot_instance (priority 20)
All steps with priorities between 99 and 41 can run in-band.

Backwards compatibility with drivers that do not support decomposed
steps is maintained via a 'has_decomposed_deploy_steps' method on the
agent heartbeat mixin.

The old reboot_and_finish_deploy call is also left for compatibility
but does nothing since the new steps will be automatically run.

Change-Id: Ie4fdd195efa941165e22bd4ce9484988a1760b2d
Story: #2006963
Task: #40151
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/737695/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent_base.py', 'ironic/tests/unit/drivers/modules/test_agent.py', 'ironic/conductor/deployments.py']",5,59ff43ad6ff198d157ec24f77ed2ad3a394d768a,story/2006963," if task.node.provision_state == states.DEPLOYFAIL: # NOTE(dtantsur): some deploy steps do not raise but rather update # the node and return. Take them into account. LOG.debug('Node %s is in error state, not processing ' 'the remaining deploy steps', task.node) return ",,205,278
openstack%2Fbifrost~bugfix%2F8.2~Ief33e72845b135c1051112614fadb5ebcc21f86c,openstack/bifrost,bugfix/8.2,Ief33e72845b135c1051112614fadb5ebcc21f86c,Update TOX_CONSTRAINTS_FILE for bugfix/8.2,MERGED,2020-07-08 13:48:43.000000000,2020-07-09 12:44:32.000000000,2020-07-09 12:42:03.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 13:48:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/97b688019eb9f076a8b74d81ec59f8e2c7b9bd9b', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/8.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as bugfix/8.2 branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ief33e72845b135c1051112614fadb5ebcc21f86c\n'}, {'number': 2, 'created': '2020-07-09 09:39:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/d775eb693317534ad5d694fa9bef58b3c2f31d4f', 'message': 'Update TOX_CONSTRAINTS_FILE for bugfix/8.2\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as victoria branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: Ief33e72845b135c1051112614fadb5ebcc21f86c\n'}]",0,739991,d775eb693317534ad5d694fa9bef58b3c2f31d4f,13,4,2,22816,,,0,"Update TOX_CONSTRAINTS_FILE for bugfix/8.2

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as victoria branch, tests will
continue to use the upper-constraints list on master.

Change-Id: Ief33e72845b135c1051112614fadb5ebcc21f86c
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/91/739991/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,97b688019eb9f076a8b74d81ec59f8e2c7b9bd9b,create-8.2, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.2} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/8.2}, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fnetworking-odl~master~I743f6b5c09cf6cc2e13e908afd12419058de783f,openstack/networking-odl,master,I743f6b5c09cf6cc2e13e908afd12419058de783f,DNM: test unittest execution,ABANDONED,2020-07-08 10:44:57.000000000,2020-07-09 12:40:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-08 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e7c2a46277a934e08144ac70d537c920a2f50436', 'message': 'DNM: test unittest executin\n\nChange-Id: I743f6b5c09cf6cc2e13e908afd12419058de783f\nRelated-Bug: #1886589\n'}, {'number': 2, 'created': '2020-07-08 14:11:16.000000000', 'files': ['test-requirements.txt', 'networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/9a8ead26b330b7e9422f65f41143038a856623b1', 'message': 'DNM: test unittest execution\n\nChange-Id: I743f6b5c09cf6cc2e13e908afd12419058de783f\nRelated-Bug: #1886589\n'}]",0,739949,9a8ead26b330b7e9422f65f41143038a856623b1,5,1,2,8313,,,0,"DNM: test unittest execution

Change-Id: I743f6b5c09cf6cc2e13e908afd12419058de783f
Related-Bug: #1886589
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/49/739949/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/unit/ml2/test_mechanism_odl_v2.py'],1,e7c2a46277a934e08144ac70d537c920a2f50436,dontdelete/test_unittests,,,1,0
openstack%2Fnetworking-ovn~stable%2Fqueens~Ia0ba2e78d4f97294a93ff127d9098978af21ba53,openstack/networking-ovn,stable/queens,Ia0ba2e78d4f97294a93ff127d9098978af21ba53,Fix broken gate because of OVS module compilation,MERGED,2020-06-24 14:25:29.000000000,2020-07-09 12:38:39.000000000,2020-07-09 12:38:39.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-06-24 14:25:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8bdecc2314fd6967765a56c642568a9f5e440d58', 'message': 'Fix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 2, 'created': '2020-07-07 09:59:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/71092c19e9d13582d85c5dd18be4e2cda6495be8', 'message': 'Fix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nThere is no need to compile OVS kernel module for functional tests,\nso disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 3, 'created': '2020-07-07 14:39:48.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'zuul.d/networkin-ovn-rally-task.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'devstack/local.conf.sample', 'playbooks/legacy/networking-ovn-dsvm-functional-py35/run.yaml', 'devstack/lib/networking-ovn', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a9d84b4f4b3f878ad17b0a9eca1d6852b1f4439f', 'message': 'Fix broken gate because of OVS module compilation\n\nFix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nUpdate OVS/OVN to version 2.12 in order to have possibility to\ncompile it under Ubuntu Bionic.\n\nThere is no need to compile OVS kernel module for functional tests,\nso disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}]",0,737817,a9d84b4f4b3f878ad17b0a9eca1d6852b1f4439f,24,4,3,24791,,,0,"Fix broken gate because of OVS module compilation

Fix functional jobs by installing missing dependencies

Six is needed for the OVS/OVN compilation and tox to run the tests
itself.

Update OVS/OVN to version 2.12 in order to have possibility to
compile it under Ubuntu Bionic.

There is no need to compile OVS kernel module for functional tests,
so disable it.

Change-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/17/737817/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/contrib/gate_hook.sh'],1,8bdecc2314fd6967765a56c642568a9f5e440d58,, if python3_enabled; then install_package python3-six python3-tox else install_package python-six python-tox fi, sudo pip install six,5,1
openstack%2Fcinder~stable%2Fussuri~I2e8af74bae63c487e786da6e99aa4827029a05a2,openstack/cinder,stable/ussuri,I2e8af74bae63c487e786da6e99aa4827029a05a2,Disable siblings for the cinderlib functional tests,MERGED,2020-07-02 08:01:21.000000000,2020-07-09 12:31:58.000000000,2020-07-09 12:27:28.000000000,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2020-07-02 08:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1e8d7d255755d657ca25cac2d5a3fe5b5c093f13', 'message': 'Disable siblings for the cindelib functional tests\n\nFollow the same pattern of the other jobs which deploy devstack\nbut runs also functional tests (see devtack-tox-functional\nand devstack-tox-functional-consumer).\n\nWithout this, the older branches where cinderlib functional tests\nuse Python 2 (stein, and soon train when that is branched) fails\nbecause they try to install packages part of which are Python 3\nonly.\n\nThe same change was applied to the branchless jobs defined\ninside cinder-tempest-plugins: https://review.opendev.org/738078/\n\nChange-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2\n(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)\n'}, {'number': 2, 'created': '2020-07-03 09:01:53.000000000', 'files': ['playbooks/tempest-and-cinderlib-run.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/72846a194b51938713eb4ea30fa11dcd82ccddce', 'message': 'Disable siblings for the cinderlib functional tests\n\nFollow the same pattern of the other jobs which deploy devstack\nbut runs also functional tests (see devtack-tox-functional\nand devstack-tox-functional-consumer).\n\nWithout this, the older branches where cinderlib functional tests\nuse Python 2 (stein, and soon train when that is branched) fails\nbecause they try to install packages part of which are Python 3\nonly.\n\nThe same change was applied to the branchless jobs defined\ninside cinder-tempest-plugins: https://review.opendev.org/738078/\n\nChange-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2\n(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)\n'}]",3,738978,72846a194b51938713eb4ea30fa11dcd82ccddce,96,19,2,10459,,,0,"Disable siblings for the cinderlib functional tests

Follow the same pattern of the other jobs which deploy devstack
but runs also functional tests (see devtack-tox-functional
and devstack-tox-functional-consumer).

Without this, the older branches where cinderlib functional tests
use Python 2 (stein, and soon train when that is branched) fails
because they try to install packages part of which are Python 3
only.

The same change was applied to the branchless jobs defined
inside cinder-tempest-plugins: https://review.opendev.org/738078/

Change-Id: I2e8af74bae63c487e786da6e99aa4827029a05a2
(cherry picked from commit f9019679b3d7ea252d9d6b0aeef6b69167f051af)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/738978/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tempest-and-cinderlib-run.yaml'],1,1e8d7d255755d657ca25cac2d5a3fe5b5c093f13,fix-ceph-cinderlib-tests, tox_install_siblings: false,,1,0
openstack%2Fcinderlib~master~I9276da4050746a267b695102ce02c3cb85952a87,openstack/cinderlib,master,I9276da4050746a267b695102ce02c3cb85952a87,Stop to use the __future__ module.,MERGED,2020-06-02 18:08:22.000000000,2020-07-09 12:29:52.000000000,2020-07-09 12:27:35.000000000,"[{'_account_id': 9535}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:08:22.000000000', 'files': ['cinderlib/persistence/dbms.py', 'cinderlib/objects.py', 'cinderlib/_fake_packages.py', 'cinderlib/persistence/__init__.py', 'cinderlib/cinderlib.py', 'cinderlib/persistence/base.py', 'cinderlib/__init__.py', 'cinderlib/nos_brick.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/a6ce0fb43e979ce46f46ba17812fb7ec61644afb', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I9276da4050746a267b695102ce02c3cb85952a87\n""}]",0,732823,a6ce0fb43e979ce46f46ba17812fb7ec61644afb,12,6,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I9276da4050746a267b695102ce02c3cb85952a87
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/23/732823/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinderlib/persistence/dbms.py', 'cinderlib/objects.py', 'cinderlib/_fake_packages.py', 'cinderlib/persistence/__init__.py', 'cinderlib/cinderlib.py', 'cinderlib/persistence/base.py', 'cinderlib/__init__.py', 'cinderlib/nos_brick.py']",8,a6ce0fb43e979ce46f46ba17812fb7ec61644afb,drop_future_imports,,from __future__ import absolute_import,0,12
openstack%2Fnova~stable%2Frocky~Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,openstack/nova,stable/rocky,Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c,Fix os_CODENAME detection and repo refresh during ceph tests,MERGED,2020-07-06 21:22:22.000000000,2020-07-09 12:27:32.000000000,2020-07-09 12:27:32.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-06 21:22:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6f078671cef96736b043ade95be18b93297b2b70', 'message': 'nova-live-migration: Fix OS detection during Ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently updated\nby I51c90e592070b99422e692d5e9e97083d93146e8 to a newer version of Ceph\nand in doing so introduced many OS specific conditionals.\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 2, 'created': '2020-07-06 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c313c7bbd6f6590029dbdef36f38b1dbb04e1962', 'message': 'nova-live-migration: Fix OS detection during Ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently updated\nby I51c90e592070b99422e692d5e9e97083d93146e8 to a newer version of Ceph\nand in doing so introduced many OS specific conditionals.\n\nThis change also makes the job voting again after it was temporally\ndisabled in I4e03295548af5272a02ca81162fcd685c7986470 so we could first\ndisable the failing grenade jobs.\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 3, 'created': '2020-07-06 21:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bcc195bb973a79d1b4ddba7f9d95d4cdb22ad227', 'message': 'nova-live-migration: Fix OS detection during Ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently updated\nby I51c90e592070b99422e692d5e9e97083d93146e8 to a newer version of Ceph\nand in doing so introduced many OS specific conditionals.\n\nThis change also makes the job voting again after it was temporally\ndisabled in I4e03295548af5272a02ca81162fcd685c7986470 so we could first\ndisable the failing grenade jobs.\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 4, 'created': '2020-07-07 10:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3866ed33f6e49c1768088fe2ac250f0f21c1d984', 'message': 'nova-live-migration: Fix OS detection during Ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently updated\nby I51c90e592070b99422e692d5e9e97083d93146e8 to a newer version of Ceph\nand in doing so introduced many OS specific conditionals.\n\nThis change also makes the job voting again after it was temporally\ndisabled in I4e03295548af5272a02ca81162fcd685c7986470 so we could first\ndisable the failing grenade jobs.\n\nDepends-On: https://review.opendev.org/739694\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 5, 'created': '2020-07-07 10:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6d1a69a5f1322b43b43b95895b2139f24d371b19', 'message': 'Fix os_CODENAME detection and repo refresh during ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently\nrefactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so\nintroduced various OS specific conditionals that require os_CODENAME to\nbe set.\n\nFinally, this change also depends on the following devstack-plugin-ceph\nchange that correctly uses apt-get instead of apt to refresh the\nrepositories on a given host.\n\nDepends-On: https://review.opendev.org/739694\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 6, 'created': '2020-07-08 09:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7338cb626a0e83faa53f91262381e370f3068e22', 'message': 'Fix os_CODENAME detection and repo refresh during ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently\nrefactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so\nintroduced various OS specific conditionals that require os_CODENAME to\nbe set.\n\nThis change also depends on the following devstack change ensuring the\nQueens UCA is trusted given the use of apt by devstack-plugin-ceph:\n\nDepends-On: https://review.opendev.org/739941\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}, {'number': 7, 'created': '2020-07-09 08:32:00.000000000', 'files': ['nova/tests/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/7207b9ee6cff002c02b8cd46ce4088d86de8afdc', 'message': 'Fix os_CODENAME detection and repo refresh during ceph tests\n\nThis is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\na change introduced in Stein that fixed OS detection in the\nnova-live-migration job while installing Ceph.\n\nThis is required after the devstack-plugin-ceph job was recently\nrefactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so\nintroduced various OS specific conditionals that require os_CODENAME to\nbe set.\n\nChange-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c\n(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)\n'}]",0,739608,7207b9ee6cff002c02b8cd46ce4088d86de8afdc,37,6,7,10135,,,0,"Fix os_CODENAME detection and repo refresh during ceph tests

This is a partial backport of Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
a change introduced in Stein that fixed OS detection in the
nova-live-migration job while installing Ceph.

This is required after the devstack-plugin-ceph job was recently
refactored by I51c90e592070b99422e692d5e9e97083d93146e8 and in doing so
introduced various OS specific conditionals that require os_CODENAME to
be set.

Change-Id: Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c
(cherry picked from commit 9b2a7f9e7c9c24ad5b698f78681a1de1593b4a53)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/739608/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/live_migration/hooks/run_tests.sh'],1,6f078671cef96736b043ade95be18b93297b2b70,,GetOSVersion,,1,0
openstack%2Ftripleo-common~master~I3b04a428710ed292bb8d0a0dbd3034aa678e57c1,openstack/tripleo-common,master,I3b04a428710ed292bb8d0a0dbd3034aa678e57c1,(TCIB) Remove validation related things from mistral container,MERGED,2020-07-07 13:31:24.000000000,2020-07-09 12:06:06.000000000,2020-07-08 03:17:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-07 13:31:24.000000000', 'files': ['container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dfe80685101016bb266dffb603b330231c69f5ea', 'message': ""(TCIB) Remove validation related things from mistral container\n\nSince validations don't rely on mistral anymore, it's time to remove\nsome useless package and user.\n\nPorting Ibcee290b4eb3ec3e5ee7af747a9ca7242863147f to TCIB.\n\nChange-Id: I3b04a428710ed292bb8d0a0dbd3034aa678e57c1\n""}]",0,739746,dfe80685101016bb266dffb603b330231c69f5ea,13,7,1,3153,,,0,"(TCIB) Remove validation related things from mistral container

Since validations don't rely on mistral anymore, it's time to remove
some useless package and user.

Porting Ibcee290b4eb3ec3e5ee7af747a9ca7242863147f to TCIB.

Change-Id: I3b04a428710ed292bb8d0a0dbd3034aa678e57c1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/46/739746/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml'],1,dfe80685101016bb266dffb603b330231c69f5ea,validations,,- run: useradd validations - openstack-tripleo-validations,0,2
openstack%2Fopenstack-ansible-os_neutron~stable%2Fussuri~I5958eaa7095013b7ed9b7aeb090a0535edc455ec,openstack/openstack-ansible-os_neutron,stable/ussuri,I5958eaa7095013b7ed9b7aeb090a0535edc455ec,Add centos-8 support,MERGED,2020-07-07 21:43:27.000000000,2020-07-09 11:16:51.000000000,2020-07-09 11:14:01.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-07 21:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/8bf0f853016f2a37d550b7b22a57c1daec563b58', 'message': 'Add centos-8 support\n\nDepends-On: https://review.opendev.org/739479\nChange-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec\n(cherry picked from commit 4859a9ab179839398133fe6cd92da0bd75eb0e39)\n'}, {'number': 2, 'created': '2020-07-07 21:43:49.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/94dfad9fe166625abc4eb9ecd2aff0e7dc43ec0f', 'message': 'Add centos-8 support\n\nDepends-On: https://review.opendev.org/739565\nChange-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec\n(cherry picked from commit 4859a9ab179839398133fe6cd92da0bd75eb0e39)\n'}]",0,739858,94dfad9fe166625abc4eb9ecd2aff0e7dc43ec0f,21,3,2,25023,,,0,"Add centos-8 support

Depends-On: https://review.opendev.org/739565
Change-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec
(cherry picked from commit 4859a9ab179839398133fe6cd92da0bd75eb0e39)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/58/739858/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,8bf0f853016f2a37d550b7b22a57c1daec563b58,osa/el8-stable/ussuri," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-memcached', 'python3-memcached') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - python-memcached - systemd-python,2,2
openstack%2Fheat-dashboard~master~Iafb511accd06de0544ca4ec66f8c4d51bb765572,openstack/heat-dashboard,master,Iafb511accd06de0544ca4ec66f8c4d51bb765572,Imported Translations from Zanata,MERGED,2020-05-29 06:51:53.000000000,2020-07-09 11:16:42.000000000,2020-07-09 11:14:05.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-05-29 06:51:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/95747ef85d70d457225ef4b95dfdd638355be776', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iafb511accd06de0544ca4ec66f8c4d51bb765572\n'}, {'number': 2, 'created': '2020-06-09 07:06:06.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/f8c9720499600baad488b956210e4bbe3b5da5bc', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Iafb511accd06de0544ca4ec66f8c4d51bb765572\n'}]",0,731667,f8c9720499600baad488b956210e4bbe3b5da5bc,11,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Iafb511accd06de0544ca4ec66f8c4d51bb765572
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/67/731667/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,95747ef85d70d457225ef4b95dfdd638355be776,zanata/translations,"""Project-Id-Version: Heat Dashboard Release Notes\n""""POT-Creation-Date: 2020-05-22 06:29+0000\n""""PO-Revision-Date: 2020-05-28 11:25+0000\n""msgid ""3.0.0"" msgstr ""3.0.0""","""Project-Id-Version: heat-dashboard\n""""POT-Creation-Date: 2020-05-02 20:26+0000\n""""PO-Revision-Date: 2020-05-04 09:22+0000\n""msgid ""3.0.0.0rc1"" msgstr ""3.0.0.0rc1""",5,5
openstack%2Fneutron~master~Iead245da166ee2ae691227bb18ae377fe0af4c04,openstack/neutron,master,Iead245da166ee2ae691227bb18ae377fe0af4c04,Use network.external DB model parameter when creating a floating IP,MERGED,2020-06-19 16:41:26.000000000,2020-07-09 11:13:56.000000000,2020-07-09 11:09:58.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 27654}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-06-19 16:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/49ca5de91d55d33141b65b5012212eb67b9a4558', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 2, 'created': '2020-06-22 09:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b71c6095ced769c6c41d094fe5d1070f87927e4b', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 3, 'created': '2020-06-22 14:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96cb71530527be8581ce245ccab23ac4983f98b8', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 4, 'created': '2020-06-23 11:02:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2d8fa811d2c32f4df5ff269d9a0db77f09cf7658', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 5, 'created': '2020-06-29 08:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4aabea936cb2bb9edb01f3b49594785ce2264245', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 6, 'created': '2020-06-30 13:32:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19d2903c9642f02d9b13dc3ada3a413a1777b48a', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 7, 'created': '2020-06-30 13:32:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4dc4997cca5814c8770e15b98b6e44c3bef56ff0', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 8, 'created': '2020-06-30 13:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f4dd7b5ae61a6e4c3f5b89da89c4c952225fbc25', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}, {'number': 9, 'created': '2020-07-06 11:08:03.000000000', 'files': ['neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f43f5dc64f13ac95657bf5abb96abd6fa7ce3079', 'message': 'Use network.external DB model parameter when creating a floating IP\n\nWhen a floating IP is being created, the network provided should be\nexternal. Instead of quering the DB to find out if the\n""externalnetworks"" DB register exists, the ""network"" register is\nretrieved and the ""external"" parameter is used (loaded using a\nback reference relationship). This will avoid one DB access.\n\nChange-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04\nRelated-Bug: #1880969\n'}]",4,737047,f43f5dc64f13ac95657bf5abb96abd6fa7ce3079,100,11,9,16688,,,0,"Use network.external DB model parameter when creating a floating IP

When a floating IP is being created, the network provided should be
external. Instead of quering the DB to find out if the
""externalnetworks"" DB register exists, the ""network"" register is
retrieved and the ""external"" parameter is used (loaded using a
back reference relationship). This will avoid one DB access.

Change-Id: Iead245da166ee2ae691227bb18ae377fe0af4c04
Related-Bug: #1880969
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/737047/9 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/db/external_net_db.py']",2,49ca5de91d55d33141b65b5012212eb67b9a4558,bug/1880969," def network_is_external(self, context, net_id=None, net_db=None): if net_db: return bool(net_db.external) else: return net_obj.ExternalNetwork.objects_exist( context, network_id=net_id) if not self.network_is_external(context, net_id=policy['object_id']):"," def _network_is_external(self, context, net_id): return net_obj.ExternalNetwork.objects_exist( context, network_id=net_id) if not self._network_is_external(context, policy['object_id']):",12,9
openstack%2Fneutron-tempest-plugin~master~I004248eb259824614e27b3d8b739d3a72b580df3,openstack/neutron-tempest-plugin,master,I004248eb259824614e27b3d8b739d3a72b580df3,Fix neutron-dynamic-routing tests when DVR is disabled,MERGED,2020-07-01 14:55:25.000000000,2020-07-09 11:10:01.000000000,2020-07-09 11:10:00.000000000,"[{'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-01 14:55:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/21075e03454ac5cac364af0f03d44b993f7d5ff9', 'message': ""DNM: Test n-d-r with OVN\n\nOVN doesn't support DVR, so even creating a router with\ndistributed=False will fail.\n\nChange-Id: I004248eb259824614e27b3d8b739d3a72b580df3\n""}, {'number': 2, 'created': '2020-07-02 14:15:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/6dfcded480d4d34e294da69fd19c3f668fcd9b69', 'message': ""Fix neutron-dynamic-routing tests when DVR is disabled\n\nOVN doesn't support DVR, so even creating a router with\ndistributed=False will fail. We want a non-distributed router anyway,\nso just retry without that option if we get a BadRequest error.\n\nChange-Id: I004248eb259824614e27b3d8b739d3a72b580df3\n""}, {'number': 3, 'created': '2020-07-03 09:03:26.000000000', 'files': ['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions_negative.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/1184bb2d1054d1365afafc9daa45cc2bdde47734', 'message': ""Fix neutron-dynamic-routing tests when DVR is disabled\n\nOVN doesn't support DVR, so even creating a router with\ndistributed=False will fail. We want a non-distributed router anyway,\nso just retry without that option if we get a BadRequest error.\n\nChange-Id: I004248eb259824614e27b3d8b739d3a72b580df3\n""}]",2,738861,1184bb2d1054d1365afafc9daa45cc2bdde47734,13,5,3,13252,,,0,"Fix neutron-dynamic-routing tests when DVR is disabled

OVN doesn't support DVR, so even creating a router with
distributed=False will fail. We want a non-distributed router anyway,
so just retry without that option if we get a BadRequest error.

Change-Id: I004248eb259824614e27b3d8b739d3a72b580df3
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/61/738861/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions_negative.py']",2,21075e03454ac5cac364af0f03d44b993f7d5ff9,ndr-no-dvr,," distributed=False,",2,4
openstack%2Fopenstack-tempest-skiplist~master~I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1,openstack/openstack-tempest-skiplist,master,I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1,Update tempest-skiplist,MERGED,2020-07-08 10:42:19.000000000,2020-07-09 10:50:21.000000000,2020-07-09 10:47:19.000000000,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-07-08 10:42:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5e3af565aa9a7b308c53b1b369c7b010686ebfc2', 'message': 'Update tempest-skiplist\n\nThis patch updates the tempest-skiplist yaml file with latest\nskipped jobs based on validate-tempest role\n\nChange-Id: I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1\n'}, {'number': 2, 'created': '2020-07-08 10:55:36.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/71b0a0415e77669f99502b4b00c70db6feea200e', 'message': 'Update tempest-skiplist\n\nThis patch updates the tempest-skiplist yaml file with latest\nskipped jobs based on validate-tempest role\n\nChange-Id: I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1\n'}]",0,739948,71b0a0415e77669f99502b4b00c70db6feea200e,10,4,2,8367,,,0,"Update tempest-skiplist

This patch updates the tempest-skiplist yaml file with latest
skipped jobs based on validate-tempest role

Change-Id: I61bf6c9875f3da29eb8a8783ae485da6c1c20bd1
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/48/739948/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,5e3af565aa9a7b308c53b1b369c7b010686ebfc2,update-skiplist,"known_failures: - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_port_security_disable_security_group' deployment: 'overcloud' releases: - name: 'master' reason: 'timing out in ssh' lp: 'https://bugs.launchpad.net/tripleo/+bug/1869077' - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'ussuri' reason: 'timing out in ssh' lp: 'https://bugs.launchpad.net/tripleo/+bug/1869077' jobs: [] - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'train' reason: 'Remove this blacklist when OVS 2.12 will be released and https://patchwork.ozlabs.org/patch/1102717/ merged.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - name: 'ussuri' reason: 'Remove this blacklist when OVS 2.12 will be released and https://patchwork.ozlabs.org/patch/1102717/ merged.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'train' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - name: 'ussuri' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' - name: 'stein' reason: 'skipped Tests are failing due to dns-integration' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'train' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - name: 'ussuri' reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' lp: 'https://bugs.launchpad.net/tripleo/+bug/1832166' - name: 'stein' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'train' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'ussuri' reason: 'It can be removed when bug for OVN is repaired' lp: 'https://bugs.launchpad.net/tempest/+bug/1728886' - name: 'ussuri' reason: 'RBAC policy resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - name: 'ussuri' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - name: 'ussuri' reason: 'network resource conflict' lp: 'https://bugs.launchpad.net/tripleo/+bug/1753209' - name: 'stein' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - name: 'train' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - name: 'ussuri' reason: 'mismatch error, mistral team is investigating' lp: 'https://bugs.launchpad.net/tripleo/+bug/1736950' - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'rocky' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Not supported in TripleO/tempestconf' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - name: 'queens' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'rocky' reason: 'Test is failing due to microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'stein' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'train' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' - name: 'ussuri' reason: 'Test is failing due microversion' lp: 'https://bugs.launchpad.net/tripleo/+bug/1821690' jobs: [] - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'ussuri' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'DHCP Agent is disabled by default in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'stein' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'train' reason: 'Possible bug for QoS + FIP in OVN' lp: 'https://bugs.launchpad.net/tripleo/+bug/1817705' - name: 'ussuri' reason: 'Possible bug for QoS + FIP in OVN' - name: 'ussuri' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' - name: 'stein' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' - name: 'train' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' - name: 'ussuri' reason: 'telemetry tests failed due to One or more ports have an IP allocation from this subnet' lp: 'https://bugs.launchpad.net/tripleo/+bug/1792862' - test: 'neutron_tempest_plugin.scenario.test_ipv6.IPv6Test' deployment: 'overcloud' reason: 'Timed out waiting for IP address' lp: 'https://bugs.launchpad.net/tripleo/+bug/1881624' jobs: [] - test: 'octavia_tempest_plugin.tests.scenario.v2.test_traffic_ops.TrafficOperationsScenarioTest' deployment: 'overcloud' releases: - name: 'master' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687' - name: 'train' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687' - name: 'ussuri' reason: 'Connection to the 192.168.24.149 via SSH timed out.' lp: 'https://bugs.launchpad.net/tripleo/+bug/1883687' jobs: [] - test: 'tempest.api.network.test_networks.NetworksTest.test_external_network_visibility' deployment: 'overcloud' releases: - name: 'master' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' deployment: 'overcloud' - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'rocky' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'train' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ussuri' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.scenario.test_volume_boot_pattern' deployment: 'overcloud' releases: - name: 'liberty' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'mitaka' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'newton' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' jobs: [] - test: 'tempest.api.volume.test_volumes_get' deployment: 'overcloud' releases: - name: 'liberty' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'mitaka' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' - name: 'newton' reason: 'rdo-manager tempest smoke test failing on ""floating ip pool not found""' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1272289' jobs: [] - test: 'tempest.api.identity.*v3' deployment: 'overcloud' releases: - name: 'liberty' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' - name: 'mitaka' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' - name: 'newton' reason: 'Tempest Identify tests failed on V3 api on OSP-D puddle' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1266947' jobs: [] - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_cryptsetup' deployment: 'overcloud' releases: - name: 'liberty' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'mitaka' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'newton' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes.test_encrypted_cinder_volumes_luks' deployment: 'overcloud' releases: - name: 'liberty' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'mitaka' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'newton' reason: 'TripleO does not deploy Barbican by default, which is needed for this test to pass' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.compute.servers.test_attach_interfaces.AttachInterfacesTestJSON.test_add_remove_fixed_ip' deployment: 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_routers.RoutersIpV6Test.test_add_remove_router_interface_with_subnet_id' deployment: 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_network_basic_ops' deployment: 'overcloud' releases: - name: 'mitaka' reason: 'Need bug, retest or reconfig' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.telemetry.test_telemetry_notification_api' deployment: 'overcloud' releases: - name: 'newton' reason: 'ospd-8 poodle 2016-02-04.1 tempest.api.telemetry.test_telemetry_notification_api failing' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1304933' jobs: [] - test: 'tempest.api.data_processing' deployment: 'overcloud' releases: - name: 'newton' reason: 'tempest.api.data_processing tests failing on newton' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1357667' - name: 'ocata' reason: 'tempest.api.data_processing tests failing on newton' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1357667' jobs: [] - test: 'tempest.scenario.test_network_basic_ops.TestNetworkBasicOps' deployment: 'overcloud' releases: - name: 'newton' reason: 'TestNetworkBasicOps often times out running against tripleo' lp: 'https://bugs.launchpad.net/tripleo/+bug/1605654' jobs: [] - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'tempest fail: tempest.api.identity.admin.v2.test_services.ServicesTestJSON' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1386421' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_cross_tenant_traffic' deployment: 'overcloud' releases: - name: 'newton' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' - name: 'train' reason: 'Timed out waiting for 10.0.0.102 to become reachable from 10.0.0.117' lp: 'https://bugs.launchpad.net/tripleo/+bug/1856016' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_multiple_security_groups' deployment: 'overcloud' releases: - name: 'newton' reason: 'Security groups firewall rules do not get applied on the compute nodes' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1411690' jobs: [] - test: 'mistral_tempest_tests.tests' deployment: 'overcloud' releases: - name: 'newton' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Skip Mistral tests as it needs to use mistral v2 endpoints' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAPITest' deployment: 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.api.test_telemetry_notification_api.TelemetryNotificationAdminAPITest' deployment: 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ceilometer.tests.tempest.scenario.test_object_storage_telemetry_middleware.TestObjectStorageTelemetry' deployment: 'overcloud' releases: - name: 'newton' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'This telemetry installation is configured to use Gnocchi' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron.tests.tempest.scenario.test_dvr.NetworkDvrTest' deployment: 'overcloud' releases: - name: 'newton' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron.tests.tempest.scenario.test_trunk.TrunkTest' deployment: 'overcloud' releases: - name: 'newton' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'TODO(arxcruz) New test, need investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_endpoints' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_roles' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_tags' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_roles_negative.RolesNegativeTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_services.ServicesTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_tenant_negative.TenantsNegativeTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_tenants.TenantsTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_tokens.TokensTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_users.UsersTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.admin.v2.test_users_negative.UsersNegativeTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_dhcp_ipv6.NetworksTestDHCPv6' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_ports.PortsTestJSON.test_port_list_filter_by_router_id' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.test_ports.PortsIpV6TestJSON.test_port_list_filter_by_router_id' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.image.v1.test_images' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.compute.admin.test_baremetal_nodes.BaremetalNodesAdminTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.image.v1.test_images.CreateRegisterImagesTest' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.network.admin.test_external_network_extension.ExternalNetworksTestJSON' deployment: 'overcloud' releases: - name: 'newton' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.orchestration.stacks.test_resource_types.ResourceTypesTest' deployment: 'overcloud' releases: - name: 'ocata' reason: 'tempest fail: tempest.api.orchestration.stacks.test_resource_types' bz: 'https://bugzilla.redhat.com/show_bug.cgi?id=1380146' jobs: [] - test: 'tempest.scenario.test_encrypted_cinder_volumes.TestEncryptedCinderVolumes' deployment: 'overcloud' releases: - name: 'ocata' reason: 'TripleO does not deploy Barbican by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.volume.admin.test_volumes_backup.VolumesBackupsAdminTest' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'cinder.tests.tempest.api.volume.test_volume_backup.VolumesBackupsTest' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.volume.test_volumes_backup.VolumesBackupsTest' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Cinder backup is not enabled by default' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.orchestration.stacks.test_neutron_resources.NeutronResourcesTestJSON' deployment: 'overcloud' releases: - name: 'ocata' reason: 'time out' lp: 'https://bugs.launchpad.net/tripleo/+bug/1723137' jobs: [] - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_boot_server_from_encrypted_volume_luks' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Legacy encryption is not properly configured by TripleO in Ocata and barbican is not deployed in overcloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/1733574' jobs: [] - test: 'tempest.api.identity.admin.v3.test_roles.RolesV3TestJSON.test_implied_roles_create_check_show_delete' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Difference in Implied Roles check API return code' lp: 'https://bugs.launchpad.net/keystone/+bug/1660603' - name: 'pike' reason: 'Difference in Implied Roles check API return code' lp: 'https://bugs.launchpad.net/keystone/+bug/1660603' jobs: [] - test: 'tempest.api.identity.v2.test_tenants.IdentityTenantsTest.test_list_tenants_returns_only_authorized_tenants' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.identity.v2.test_users.IdentityUsersTest.test_user_update_own_password' deployment: 'overcloud' releases: - name: 'ocata' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'pike' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'inspector_tempest_plugin.tests.test_basic.InspectorSmokeTest' deployment: 'overcloud' releases: - name: 'pike' reason: 'TODO(weshay) The service is not running on the overcloud, needs investigation' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'tempest.api.compute.admin.test_servers_on_multinodes.ServersOnMultiNodesTest.test_create_servers_on_different_hosts_with_list_of_servers' deployment: 'overcloud' releases: - name: 'queens' reason: 'Errors with servres on multiple nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_boot_into_disabled_port_security_network_without_secgroup' deployment: 'overcloud' releases: - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'rocky' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'tempest.scenario.test_security_groups_basic_ops.TestSecurityGroupsBasicOps.test_port_update_new_security_group' deployment: 'overcloud' releases: - name: 'queens' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' - name: 'rocky' reason: 'Failed to boot servers on different Compute nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'neutron_tempest_plugin.scenario' deployment: 'overcloud' releases: - name: 'queens' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' jobs: [] - test: 'tempest.api.network.admin.test_external_network_extension.ExternalNetworksTestJSON.test_delete_external_networks_with_floating_ip' deployment: 'overcloud' releases: - name: 'queens' reason: 'Running on undercloud' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_floatingip.FloatingIPQosTest.test_qos' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' jobs: [] - test: 'tempest.api.compute.admin.test_servers_on_multinodes.ServersOnMultiNodesTest.test_create_servers_on_same_host' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Errors with servres on multiple nodes' lp: 'https://bugs.launchpad.net/tripleo/+bug/1857365' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_qos.QoSTest' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Neutron Tempest plugin scenario tests are not yet stable.' lp: 'https://launchpad.net/bugs/1737940' jobs: [] - test: 'tempest_horizon' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'octavia_tempest_plugin' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' - name: 'stein' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'ironic_tempest_plugin' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'barbican_tempest_plugin' deployment: 'overcloud' releases: - name: 'rocky' reason: 'Not supported in TripleO' lp: 'https://bugs.launchpad.net/tripleo/+bug/invalid' jobs: [] - test: 'neutron_tempest_plugin.api.test_trunk_negative.TrunkTestMtusJSON' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_security_groups.RbacSharedSecurityGroupTest' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers_negative.DvrRoutersNegativeTestExtended' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers_negative.DvrRoutersNegativeTest' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTestToCentralized' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTestUpdateDistributedExtended' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_routers.DvrRoutersTest' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos.QosMinimumBandwidthRuleTestJSON' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_ports.PortsTestJSON' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_floating_ips.FloatingIPPoolTestJSON' deployment: 'overcloud' releases: - name: 'rocky' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'tempest.scenario.test_volume_boot_pattern.TestVolumeBootPattern.test_create_server_from_volume_snapshot' deployment: 'overcloud' releases: - name: 'stein' reason: 'Invalid volume type' lp: 'https://bugs.launchpad.net/tripleo/+bug/1863750' jobs: [] - test: 'neutron_tempest_plugin.api.test_qos.QosDscpMarkingRuleTestJSON' deployment: 'overcloud' releases: - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_networks.NetworksTestJSON.test_create_update_network_dns_domain' deployment: 'overcloud' releases: - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' - name: 'train' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'neutron_tempest_plugin.api.test_floating_ips.FloatingIPPoolTestJSON.test_create_floatingip_from_specific_pool' deployment: 'overcloud' releases: - name: 'stein' reason: 'neutron tempest tests are failing by giving 503 Service Unavailable' lp: 'https://bugs.launchpad.net/tripleo/+bug/1793482' jobs: [] - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing.ImageSigningSnapshotTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820668' - name: 'train' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820668' jobs: [] - test: 'barbican_tempest_plugin.tests.scenario.test_image_signing.ImageSigningTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' - name: 'train' reason: 'barbican and python-tempestconf not playing well' lp: 'https://bugs.launchpad.net/tripleo/+bug/1820671' jobs: [] - test: 'tempest.api.object_storage.test_account_quotas.AccountQuotasTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' jobs: [] - test: 'tempest.api.object_storage.test_account_services.AccountTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' jobs: [] - test: 'tempest.api.object_storage.test_object_services.ObjectTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' jobs: [] - test: 'tempest.api.object_storage.test_container_quotas.ContainerQuotasTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' jobs: [] - test: 'tempest.api.object_storage.test_container_services.ContainerTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'connection refused error on swift healthcheck api' lp: 'https://bugs.launchpad.net/tripleo/+bug/1862143' jobs: [] - test: 'neutron_tempest_plugin.scenario.test_security_groups.NetworkSecGroupTest' deployment: 'overcloud' releases: - name: 'stein' reason: 'timeout on test_security_groups' lp: 'https://bugs.launchpad.net/tripleo/+bug/1878248' - name: 'train' reason: 'timeout on test_security_groups' lp: 'https://bugs.launchpad.net/tripleo/+bug/1878248'","## PLEASE READ ## Do not add tests to the skip list that are in ## featureset016 - featureset019 w/o permission from ## the TripleO PTL, Thanks known_failures: reason: 'This test was enabled recently on ovn and we miss configuration in tripleo jobs, for sake of CI skipping them for now, but we will enabled them as fast as possible' - test: 'octavia_tempest_plugin' deployment: 'overcloud' releases: - name: 'master' reason: 'DHCP Agent is disabled by default in OVN' # skip list for undercloud - test: 'tempest.api.network.test_networks.NetworksTest.test_external_network_visibility' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud' deployment: 'undercloud'",1910,42
openstack%2Foctavia~master~I638c5c8baf1d76365fff2c99ded9c6b310348710,openstack/octavia,master,I638c5c8baf1d76365fff2c99ded9c6b310348710,Add a router to the lb-mgmt-net for slaac,MERGED,2020-07-06 17:26:53.000000000,2020-07-09 10:44:08.000000000,2020-07-09 10:36:31.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 17:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ea4a9d71fe9f4e557e18b1049f10cefd62883d31', 'message': 'Work around neutron bug 1886116 for IPv6 tests\n\nNeutron currently has a bug[1] where subnets configured for IPv6 SLAAC\naddress assignment do not respond to neighbor solicitation.\nThis causes nova instances on these subnets to not be able to get\nan IPv6 address.\nThis patch works around this issue on the lb-mgmt-subnet by adding\na router to the subnet. This will cause radvd to be started and\nneighbor solicitations to be answered.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1886116\n\nChange-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710\n'}, {'number': 2, 'created': '2020-07-06 20:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d77ca816e6c06a9cfda1ae758531d7ba04066e02', 'message': 'Work around neutron bug 1886116 for IPv6 tests\n\nNeutron currently has a bug[1] where subnets configured for IPv6 SLAAC\naddress assignment are not getting router advertisements.\nThis causes nova instances on these subnets to not be able to\nconfigure an IPv6 address.\nThis patch works around this issue on the lb-mgmt-subnet by adding\na router to the subnet. This will cause radvd to be started and\nrouter advertisments to begin, allowing the instances to configure\nan IPv6 address.\n\n[1] https://bugs.launchpad.net/neutron/+bug/1886116\n\nChange-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710\n'}, {'number': 3, 'created': '2020-07-06 20:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f845b90e753914802be760fed2d8b5402dd6ca27', 'message': 'Add a router to the lb-mgmt-net for slaac\n\nNeutron now needs to have a router attached to the subnet to provide\nthe router advertisement messages needed for slaac address\nconfiguration.\nThis patch adds this router to the lb-mgmt-network, allowing\nthe amphora instances to configure an IPv6 address.\n\nChange-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710\n'}, {'number': 4, 'created': '2020-07-07 16:16:22.000000000', 'files': ['devstack/plugin.sh', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/77f5c3893c0ed56c62c72d5d50dcdd9faf10cf0f', 'message': 'Add a router to the lb-mgmt-net for slaac\n\nNeutron now needs to have a router attached to the subnet to provide\nthe router advertisement messages needed for slaac address\nconfiguration.\nThis patch adds this router to the lb-mgmt-network, allowing\nthe amphora instances to configure an IPv6 address.\n\nChange-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710\n'}]",4,739557,77f5c3893c0ed56c62c72d5d50dcdd9faf10cf0f,17,5,4,11628,,,0,"Add a router to the lb-mgmt-net for slaac

Neutron now needs to have a router attached to the subnet to provide
the router advertisement messages needed for slaac address
configuration.
This patch adds this router to the lb-mgmt-network, allowing
the amphora instances to configure an IPv6 address.

Change-Id: I638c5c8baf1d76365fff2c99ded9c6b310348710
",git fetch https://review.opendev.org/openstack/octavia refs/changes/57/739557/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ea4a9d71fe9f4e557e18b1049f10cefd62883d31,ipv6-only, # TODO(johnsom) Remove this router create once neutron bug: # https://bugs.launchpad.net/neutron/+bug/1886116 is fixed. openstack router create lb-mgmt-router openstack router add subnet lb-mgmt-router lb-mgmt-subnet,,4,0
openstack%2Foctavia-tempest-plugin~master~I2fb037a15fadf52f5dd918f80d2ef8c82833c24f,openstack/octavia-tempest-plugin,master,I2fb037a15fadf52f5dd918f80d2ef8c82833c24f,Add py38 package metadata,MERGED,2020-05-28 03:47:59.000000000,2020-07-09 10:43:39.000000000,2020-07-09 10:40:42.000000000,"[{'_account_id': 1131}, {'_account_id': 2245}, {'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 30408}]","[{'number': 1, 'created': '2020-05-28 03:47:59.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/0b64a191efbefc0d7299697d5340b2f0021c521e', 'message': 'Add py38 package metadata\n\nChange-Id: I2fb037a15fadf52f5dd918f80d2ef8c82833c24f\n'}]",0,731416,0b64a191efbefc0d7299697d5340b2f0021c521e,10,5,1,27565,,,0,"Add py38 package metadata

Change-Id: I2fb037a15fadf52f5dd918f80d2ef8c82833c24f
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/16/731416/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,0b64a191efbefc0d7299697d5340b2f0021c521e,, Programming Language :: Python :: 3.8,,1,0
openstack%2Fopenstack-ansible-os_glance~master~I33297d21fbd8618e167e1f332ec2c838c5086b0e,openstack/openstack-ansible-os_glance,master,I33297d21fbd8618e167e1f332ec2c838c5086b0e,Add Centos-8 support,MERGED,2020-06-16 14:38:34.000000000,2020-07-09 10:30:52.000000000,2020-07-08 13:40:28.000000000,"[{'_account_id': 1004}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-16 14:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/5471dd56425d2c088fdb28486677fe99c5933d09', 'message': 'Add Centos-8 support\n\nChange-Id: I33297d21fbd8618e167e1f332ec2c838c5086b0e\n'}, {'number': 2, 'created': '2020-07-07 04:30:44.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_glance/commit/5245eafd146ab8c886d432f38a161fa44880beba', 'message': 'Add Centos-8 support\n\nChange-Id: I33297d21fbd8618e167e1f332ec2c838c5086b0e\n'}]",0,735926,5245eafd146ab8c886d432f38a161fa44880beba,45,5,2,28619,,,0,"Add Centos-8 support

Change-Id: I33297d21fbd8618e167e1f332ec2c838c5086b0e
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_glance refs/changes/26/735926/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,5471dd56425d2c088fdb28486677fe99c5933d09,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - systemd-python,1,1
openstack%2Fopenstack-ansible-ceph_client~master~Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e,openstack/openstack-ansible-ceph_client,master,Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e,Add centos-8 support,MERGED,2020-07-06 04:37:29.000000000,2020-07-09 10:30:38.000000000,2020-07-08 10:54:35.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-06 04:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/33bd8da946491f2d16acb622d946358f0df7cae8', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml and fixing ceph download url.\n\nChange-Id: Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e\n'}, {'number': 2, 'created': '2020-07-07 00:55:53.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ceph_client/commit/645f1241e86a0d87bc66d63a9f0e1b24637dfecb', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml and fixing ceph download url using ""ansible_distribution_major_version"" facts.\n\nChange-Id: Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e\n'}]",2,739398,645f1241e86a0d87bc66d63a9f0e1b24637dfecb,16,3,2,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml and fixing ceph download url using ""ansible_distribution_major_version"" facts.

Change-Id: Ie26a4539c7c2e413e4dd61f3afaf1db8e8e2857e
",git fetch https://review.opendev.org/openstack/openstack-ansible-ceph_client refs/changes/98/739398/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,33bd8da946491f2d16acb622d946358f0df7cae8,osa/el8,"# Find OS version centos_version: ""{{ ansible_distribution_major_version is version('8', '<') | ternary('7', '8') }}"" # Extra Packages for Enterprise Linux - key: ""/etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-{{ centos_version }}""ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el{{ centos_version }}"""," # Extra Packages for Enterprise Linux 7 - key: /etc/pki/rpm-gpg/RPM-GPG-KEY-EPEL-7ceph_yum_repo_url: ""https://{{ ceph_repo_url_region }}.ceph.com/rpm-{{ ceph_stable_release }}/el7""",6,3
openstack%2Fopenstack-ansible-lxc_hosts~master~If57de332945291d139d54e9aed5d782a69a71d97,openstack/openstack-ansible-lxc_hosts,master,If57de332945291d139d54e9aed5d782a69a71d97,Add centos-8 support,MERGED,2020-06-16 06:48:17.000000000,2020-07-09 10:30:09.000000000,2020-07-05 20:15:14.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28752}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-16 06:48:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/7cd35fe4040e0c59ee78b53c4be8701806b33334', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 2, 'created': '2020-06-16 08:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/db598f8cba4b38bad8a4cd20e5ea3f4347842a43', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 3, 'created': '2020-06-16 08:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/cd2e36724718d215782b724070e6db2ac8eb5fd9', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 4, 'created': '2020-06-17 14:16:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/129567a88ebde5d756664a16218ea4df6082bc9f', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 5, 'created': '2020-06-25 14:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/e7bf1862e5fcfde532dcb2da9e55a3cd9259ca20', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 6, 'created': '2020-07-01 15:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6007a98ad21b27c6e02e560fce5b4bc87822fda4', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 7, 'created': '2020-07-01 16:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9dcf8e8f87fed4526b5efcf549d6721bc83ff89d', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 8, 'created': '2020-07-01 17:02:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/acb18dfc7bb124df1715cbc282fa449fdf362dab', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 9, 'created': '2020-07-01 18:55:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/32302c577e8e57fa69806296b4494a42f21c11e3', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nDepends-On: https://review.opendev.org/738913\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 10, 'created': '2020-07-02 08:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/4d8a0718b0cfb8eb0479b9e3fc418c29a28f5de2', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nDepends-On: https://review.opendev.org/738913\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}, {'number': 11, 'created': '2020-07-05 11:17:07.000000000', 'files': ['tasks/lxc_install_dnf.yml', 'vars/redhat-7-host.yml', 'tasks/lxc_net.yml', 'vars/redhat-8-host.yml', 'vars/redhat-8.yml', 'templates/prep-scripts/centos_8_prep.sh.j2', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/eaae389a4bf9708eb32bb820429da6343edeb7d5', 'message': 'Add centos-8 support\n\nCentos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the\nCentos-8 setup exclusively in tasks/lxc_install_dnf.yml which\nmeans there are few conditional setup tasks needed.\n\nAdd cache prep and lxc host vars files for rhel-8 variants.\n\nThis patch takes the systemd-networkd package from EPEL and installs\nit into the LXC image, so that the existing lxc_container_create\nrole can set up the container networking in the same manner as the\nother supported operating systems.\n\nDepends-On: https://review.opendev.org/738913\nChange-Id: If57de332945291d139d54e9aed5d782a69a71d97\n'}]",11,735781,eaae389a4bf9708eb32bb820429da6343edeb7d5,51,6,11,25023,,,0,"Add centos-8 support

Centos-7 uses tasks/lxc_isntall_yum.yml so we can put all of the
Centos-8 setup exclusively in tasks/lxc_install_dnf.yml which
means there are few conditional setup tasks needed.

Add cache prep and lxc host vars files for rhel-8 variants.

This patch takes the systemd-networkd package from EPEL and installs
it into the LXC image, so that the existing lxc_container_create
role can set up the container networking in the same manner as the
other supported operating systems.

Depends-On: https://review.opendev.org/738913
Change-Id: If57de332945291d139d54e9aed5d782a69a71d97
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/81/735781/7 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/lxc_install_dnf.yml', 'tasks/lxc_net.yml', 'vars/redhat-8-host.yml', 'vars/redhat-8.yml', 'templates/prep-scripts/centos_8_prep.sh.j2']",5,7cd35fe4040e0c59ee78b53c4be8701806b33334,osa/el8,"#!/usr/bin/env bash set -e -x {{ lxc_cache_prep_pre_commands }} {% include 'templates/prep-scripts/_container_sys_setup.sh.j2' %} if [[ -d ""/etc/pki/rpm-gpg"" ]]; then rpm --import /etc/pki/rpm-gpg/* || true fi # The containers do not need the LXC repository (only hosts need it). rm -f /etc/yum.repos.d/thm-lxc3.0* # Create dnf transaction file and run it all at once echo ""update"" > /tmp/package-transaction.txt echo ""install {{ lxc_cache_distro_packages | join(' ') }}"" >> /tmp/package-transaction.txt echo ""run"" >> /tmp/package-transaction.txt dnf -y shell /tmp/package-transaction.txt rm -f /tmp/package-transaction.txt rm /etc/machine-id || true rm /var/lib/dbus/machine-id || true rm /etc/sysctl.d/* || true echo '' > /etc/sysctl.conf touch /etc/machine-id dnf clean all mkdir -p /var/backup chage -I -1 -d -1 -m 0 -M 99999 -E -1 root # Set the IP of the lxcbr0 interface as the DNS server echo ""nameserver {{ lxc_net_address }}"" > /etc/resolv.conf {{ lxc_cache_prep_post_commands }} ",,144,48
openstack%2Fopenstack-ansible-openstack_hosts~master~Ic48c7a38673235c3925775d73018c45c237627d5,openstack/openstack-ansible-openstack_hosts,master,Ic48c7a38673235c3925775d73018c45c237627d5,Add advanced-virtualization CentOS 8 repo,MERGED,2020-07-01 17:16:02.000000000,2020-07-09 10:29:43.000000000,2020-07-05 19:31:47.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-01 17:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/6103d4104577d1a5edd148295561c31446c024d6', 'message': ""Update python3-six\n\nCentOS8 might be shipped with obsolete python3-six package which is\nincompatible with python3-urllib because of usage [1], as old six don't\nhave that method onboard.\n\n[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217\n\nChange-Id: Ic48c7a38673235c3925775d73018c45c237627d5\n""}, {'number': 2, 'created': '2020-07-01 20:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/1a239e5fdd76e934b74df1c01ea3cf53b3f460bb', 'message': ""Update python3-six\n\nCentOS8 might be shipped with obsolete python3-six package which is\nincompatible with python3-urllib because of usage [1], as old six don't\nhave that method onboard.\n\n[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217\n\nChange-Id: Ic48c7a38673235c3925775d73018c45c237627d5\n""}, {'number': 3, 'created': '2020-07-02 06:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ee89707a51639eae9bf17901368fa278d6008625', 'message': ""Add advanced-virtualization CentOS 8 repo\n\nRDO packages require libvirt to be >=5.0 which is possible only in\ncase of usage advanced-virtualization repo.\n\nPatch also adds python3-six package which should be updated in CI as\nit has incompatible version with python3-urllib because of usage [1],\nas old six don't have that method onboard.\n\n[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217\n\nChange-Id: Ic48c7a38673235c3925775d73018c45c237627d5\n""}, {'number': 4, 'created': '2020-07-02 09:29:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/ade5ccab1e98501a492ecf35850ba33b573202f6', 'message': ""Add advanced-virtualization CentOS 8 repo\n\nRDO packages require libvirt to be >=5.0 which is possible only in\ncase of usage advanced-virtualization repo.\n\nPatch also adds python3-six package which should be updated in CI as\nit has incompatible version with python3-urllib because of usage [1],\nas old six don't have that method onboard.\n\n[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217\n\nChange-Id: Ic48c7a38673235c3925775d73018c45c237627d5\n""}, {'number': 5, 'created': '2020-07-02 10:53:56.000000000', 'files': ['vars/redhat-8.yml', 'tasks/openstack_hosts_configure_dnf.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-openstack_hosts/commit/19b1b7bf50ce409c3041670cad2f3c1a710b13a3', 'message': ""Add advanced-virtualization CentOS 8 repo\n\nRDO packages require libvirt to be >=5.0 which is possible only in\ncase of usage advanced-virtualization repo.\n\nPatch also adds python3-six package which should be updated in CI as\nit has incompatible version with python3-urllib because of usage [1],\nas old six don't have that method onboard.\n\n[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217\n\nChange-Id: Ic48c7a38673235c3925775d73018c45c237627d5\n""}]",0,738903,19b1b7bf50ce409c3041670cad2f3c1a710b13a3,22,4,5,28619,,,0,"Add advanced-virtualization CentOS 8 repo

RDO packages require libvirt to be >=5.0 which is possible only in
case of usage advanced-virtualization repo.

Patch also adds python3-six package which should be updated in CI as
it has incompatible version with python3-urllib because of usage [1],
as old six don't have that method onboard.

[1] https://github.com/urllib3/urllib3/blob/a5a45dc36f3821e97bb9d6f2b4cd438a3f518af3/src/urllib3/util/url.py#L217

Change-Id: Ic48c7a38673235c3925775d73018c45c237627d5
",git fetch https://review.opendev.org/openstack/openstack-ansible-openstack_hosts refs/changes/03/738903/3 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat-8.yml'],1,6103d4104577d1a5edd148295561c31446c024d6,osa/el8, - python3-six,,1,0
openstack%2Fironic~master~Id709613c33754de9dc336d27db8174c06f4ff39a,openstack/ironic,master,Id709613c33754de9dc336d27db8174c06f4ff39a,[DNM] Test CI with Ubuntu focal,ABANDONED,2020-06-10 08:23:56.000000000,2020-07-09 10:25:04.000000000,,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 08:23:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0766fadedc52cf8844ded45821f1ae89cbd20763', 'message': '[DNM] Test CI with Ubuntu focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: Id709613c33754de9dc336d27db8174c06f4ff39a\n'}, {'number': 2, 'created': '2020-06-10 12:47:11.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5fd972d04f4f8ba6d5ddecb899396002a4fd1d27', 'message': '[DNM] Test CI with Ubuntu focal\n\nDepends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6\nChange-Id: Id709613c33754de9dc336d27db8174c06f4ff39a\n'}]",0,734763,5fd972d04f4f8ba6d5ddecb899396002a4fd1d27,7,3,2,23851,,,0,"[DNM] Test CI with Ubuntu focal

Depends-On: Ib4416dc2f5e003fd770f5240a8f78213c56af8e6
Change-Id: Id709613c33754de9dc336d27db8174c06f4ff39a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/734763/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,0766fadedc52cf8844ded45821f1ae89cbd20763,test-focal, nodeset: openstack-single-node-focal,,1,0
openstack%2Fcharm-heat~master~I22c383859960395866018d8eee8d97bdf0d38f07,openstack/charm-heat,master,I22c383859960395866018d8eee8d97bdf0d38f07,Add Victoria test bundles,MERGED,2020-07-07 13:11:30.000000000,2020-07-09 10:20:16.000000000,2020-07-09 10:20:16.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 13:11:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/4d06dbb33ca3c4b7e7d67dda816ee1f2eb0672f7', 'message': 'Add Victoria test bundles\n\nChange-Id: I22c383859960395866018d8eee8d97bdf0d38f07\n'}, {'number': 2, 'created': '2020-07-08 12:30:30.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/e0cd2f2af4357ad53035fc09000cca54cf433a31', 'message': 'Add Victoria test bundles\n\nChange-Id: I22c383859960395866018d8eee8d97bdf0d38f07\n'}]",0,739739,e0cd2f2af4357ad53035fc09000cca54cf433a31,14,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: I22c383859960395866018d8eee8d97bdf0d38f07
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/39/739739/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,4d06dbb33ca3c4b7e7d67dda816ee1f2eb0672f7,victoria-charm-tests,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: &series groovy machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: 4: 5: 6: 7: constraints: ""root-disk=20G mem=4G cores=4"" 8: 9: 10: 11: constaints: ""mem=2048M"" 12: constaints: ""mem=2048M"" # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: heat-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '4' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin api-rate-limit-rules: ""( POST, '*', .*, 9999, MINUTE );"" network-manager: Neutron to: - '6' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin config-flags: 'auto_assign_floating_ip=False' enable-live-migration: ""False"" to: - '7' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin debug: ""True"" to: - '8' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin to: - '9' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin to: - '10' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch heat: charm: ../../../heat num_units: 2 constraints: mem=2048 options: openstack-origin: *openstack-origin debug: ""True"" verbose: ""True"" to: - '11' - '12' relations: - - 'heat:amqp' - 'rabbitmq-server:amqp' - - 'heat:identity-service' - 'keystone:identity-service' - - ""heat:shared-db"" - ""heat-mysql-router:shared-db"" - - ""heat-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - ""nova-cloud-controller:shared-db"" - ""nova-cloud-controller-mysql-router:shared-db"" - - ""nova-cloud-controller-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - ""placement:shared-db"" - ""placement-mysql-router:shared-db"" - - ""placement-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - ""keystone:shared-db"" - ""keystone-mysql-router:shared-db"" - - ""keystone-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:identity-service' - 'keystone:identity-service' - - ""glance:shared-db"" - ""glance-mysql-router:shared-db"" - - ""glance-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - ""neutron-api:shared-db"" - ""neutron-api-mysql-router:shared-db"" - - ""neutron-api-mysql-router:db-router"" - ""mysql-innodb-cluster:db-router"" - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' ",,455,2
openstack%2Fironic~master~Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f,openstack/ironic,master,Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f,add tempest boot_mode config,MERGED,2020-03-23 14:09:43.000000000,2020-07-09 10:18:25.000000000,2020-07-09 10:07:06.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-03-23 14:09:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3b46276bb8a285a41e0ced0c9b6725c5804fbd7', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 2, 'created': '2020-03-23 14:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d5110c5a69c7f9f248aa8907d6c3af3d8abd3286', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 3, 'created': '2020-03-24 17:12:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/de73507325d7fb5b89da62a8b0ea7e84b2e09aa8', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 4, 'created': '2020-03-25 10:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6647d15403976644bd0b9bf04306af109e96098e', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 5, 'created': '2020-03-25 12:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a4023b81d929da65ebdb850dda343e275165940f', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 6, 'created': '2020-03-30 09:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f92e1f285fa44b7fc4e20e234f20252234f3feb9', 'message': '[WIP] Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 7, 'created': '2020-03-30 09:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a14c3ccc3fb5c2fe4e4fbc0ffc58635b51e0f527', 'message': '[WIP] Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 8, 'created': '2020-03-30 13:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3845c131329ce8f9d14d6b7c9091708671fb4b2b', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 9, 'created': '2020-03-31 13:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/34002c1c7c92ff0d3638a7a1799578e57a640c0c', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 10, 'created': '2020-03-31 13:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ae816838d9e24714a5f50f0bbeb228584394904b', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 11, 'created': '2020-04-01 10:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f138c9e0db66ad080be166b73e9e9a8f79a6b5ab', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 12, 'created': '2020-04-14 12:44:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0065a032cd7f75a1caf71132eb3f5a2ceb61eb9a', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 13, 'created': '2020-05-25 14:02:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ea23401a23ea7d6b4ee4235d075ab00a22d0b4b', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 14, 'created': '2020-05-27 19:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/deb4978eb780156e3381405db3f7566328807fa3', 'message': 'Wholedisk+Uefi job\n\nAdding a new job that will test wholedisk images using uefi local boot.\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 15, 'created': '2020-06-16 16:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/563055fc63edece8a8e3468fba14400d6c7441e4', 'message': '[DNM] Testing uefi scenario\n\nDepends-On: https://review.opendev.org/735960\n\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 16, 'created': '2020-06-24 15:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/35d335c21b8ff7ca9a79e19a725a28d6e76c137c', 'message': 'Use uefi scenario\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nUpdate the regex for the ironic-tempest-ipa-partition-uefi-pxe_ipmitool\njob to use the bootmode scenario.\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 17, 'created': '2020-06-30 13:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/31e0580f5f09bdec337850a0a043acc45558ba05', 'message': 'add tempest boot_mode config\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 18, 'created': '2020-07-08 14:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/14cc1abe453a215474aa3b74f6ca61d330c0b2d1', 'message': 'add tempest boot_mode config\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nAdd IRONIC_AUTOMATED_CLEAN_ENABLED config to\nironic-tempest-ipa-partition-pxe_ipmitool\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n'}, {'number': 19, 'created': '2020-07-08 14:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f8719ab3d1c5f88cbce86a2e7f0123189396bad0', 'message': ""add tempest boot_mode config\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nIncrease the number of VM's in ironic-tempest-ipa-partition-pxe_ipmitool\nto 2 since it runs cleanning and now we run two tempest tests.\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n""}, {'number': 20, 'created': '2020-07-08 19:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3e5878b06aa90f7b37a9ebd1b9e05710f7e81fcf', 'message': ""add tempest boot_mode config\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nIncrease the number of VM's in ironic-tempest-ipa-partition-pxe_ipmitool\nto 2 since it runs cleanning and now we run two tempest tests.\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n""}, {'number': 21, 'created': '2020-07-08 19:56:05.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ddbc4a6a099da83701aad67386e8f1e1646ee80d', 'message': ""add tempest boot_mode config\n\nThis patches update the devstack to automatically\nset the new tempest configuration `boot_mode`,\nit will use the value from IRONIC_BOOT_MODE variable.\n\nIncrease the number of VM's in ironic-tempest-ipa-partition-pxe_ipmitool\nand ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa\nto 2 since it runs cleanning and now we run two tempest tests.\n\nDepends-On: https://review.opendev.org/735960\nChange-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f\n""}]",12,714453,ddbc4a6a099da83701aad67386e8f1e1646ee80d,147,9,21,15519,,,0,"add tempest boot_mode config

This patches update the devstack to automatically
set the new tempest configuration `boot_mode`,
it will use the value from IRONIC_BOOT_MODE variable.

Increase the number of VM's in ironic-tempest-ipa-partition-pxe_ipmitool
and ironic-tempest-ipa-wholedisk-bios-agent_ipmitool-tinyipa
to 2 since it runs cleanning and now we run two tempest tests.

Depends-On: https://review.opendev.org/735960
Change-Id: Ic6faf73430e56e2b1ff19a72b1b03f8ef34eff5f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/53/714453/7 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'zuul.d/project.yaml']",2,d3b46276bb8a285a41e0ced0c9b6725c5804fbd7,add_tempest_boot_mode, - ironic-tempest-ipa-wholedisk-uefi-pxe-dib - ironic-tempest-ipa-wholedisk-uefi-pxe-dib,,30,0
openstack%2Fcharm-neutron-openvswitch~master~I71ca8e1a00785afa5ccd16418f3a5b54bfe90113,openstack/charm-neutron-openvswitch,master,I71ca8e1a00785afa5ccd16418f3a5b54bfe90113,Add Victoria test bundles,MERGED,2020-07-07 12:36:14.000000000,2020-07-09 10:17:52.000000000,2020-07-09 10:17:52.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/516e3a3f5f87e29760331d937c6839ab1ed50784', 'message': 'Add Victoria test bundles\n\nChange-Id: I71ca8e1a00785afa5ccd16418f3a5b54bfe90113\n'}, {'number': 2, 'created': '2020-07-07 12:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a9bbc5316d4e16d27b36975c17382a7ca17c22b5', 'message': 'Add Victoria test bundles\n\nChange-Id: I71ca8e1a00785afa5ccd16418f3a5b54bfe90113\n'}, {'number': 3, 'created': '2020-07-08 12:35:25.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria-dvr-snat.yaml', 'tests/bundles/groovy-victoria-dvr-snat.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/0b32f37815df46b11f512a6433f17d0bf1780194', 'message': 'Add Victoria test bundles\n\nChange-Id: I71ca8e1a00785afa5ccd16418f3a5b54bfe90113\n'}]",0,739727,0b32f37815df46b11f512a6433f17d0bf1780194,13,3,3,31289,,,0,"Add Victoria test bundles

Change-Id: I71ca8e1a00785afa5ccd16418f3a5b54bfe90113
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/27/739727/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria-dvr-snat.yaml', 'tests/bundles/groovy-victoria-dvr-snat.yaml']",3,516e3a3f5f87e29760331d937c6839ab1ed50784,victoria-charm-tests,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: &series groovy machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: {} 4: {} 5: {} 6: {} 7: {} 8: constraints: ""root-disk=20G mem=4G"" 9: constraints: ""root-disk=20G mem=4G"" 10: {} # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: true overlay-network-type: 'vxlan' l2-population: True flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin enable-dvr: True to: - '4' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '5' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-openvswitch: charm: ../../../neutron-openvswitch options: use-dvr-snat: True bridge-mappings: physnet1:br-ex enable-local-dhcp-and-metadata: True nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '7' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin to: - '8' - '9' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '10' relations: - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-api:neutron-plugin-api' - 'neutron-openvswitch:neutron-plugin-api' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""glance:shared-db"", ""glance-mysql-router:shared-db""] - [""nova-cloud-controller:shared-db"", ""nova-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""placement:shared-db"", ""placement-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""nova-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""glance-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""placement-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",,322,1
openstack%2Fcharm-ceilometer~master~If311b8952d68bdc3c05e883ff77664515ee4f888,openstack/charm-ceilometer,master,If311b8952d68bdc3c05e883ff77664515ee4f888,Add Victoria test bundles,MERGED,2020-07-09 07:57:01.000000000,2020-07-09 10:17:30.000000000,2020-07-09 10:17:30.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 07:57:01.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/17366cbf65afd25cfe1f2f16e00518f0b50a363f', 'message': 'Add Victoria test bundles\n\nChange-Id: If311b8952d68bdc3c05e883ff77664515ee4f888\n'}]",0,740177,17366cbf65afd25cfe1f2f16e00518f0b50a363f,8,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: If311b8952d68bdc3c05e883ff77664515ee4f888
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/77/740177/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,17366cbf65afd25cfe1f2f16e00518f0b50a363f,victoria-charm-tests,"variables: openstack-origin: &openstack-origin distro series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': # This machine is for memcached that isn't focal enabled. series: bionic '5': '6': '7': '8': '9': '10': '11': '12': '13': '14': '15': '16': '17': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router gnocchi-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' memcached: charm: cs:~memcached-team/memcached num_units: 1 # the memcached charm doesn't support focal yet. series: bionic to: - '4' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: 'cinder,10G' options: source: *openstack-origin to: - '5' - '6' - '7' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *openstack-origin to: - '8' - '9' - '10' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '11' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '12' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin to: - '13' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '14' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 options: openstack-origin: *openstack-origin to: - '15' ceilometer: num_units: 1 to: - '16' gnocchi: charm: cs:~openstack-charmers-next/gnocchi num_units: 1 options: openstack-origin: *openstack-origin to: - '17' ceilometer-agent: charm: cs:~openstack-charmers-next/ceilometer-agent relations: - - 'ceilometer:amqp' - 'rabbitmq-server:amqp' - - 'ceilometer:identity-notifications' - 'keystone:identity-notifications' - - 'ceilometer:ceilometer-service' - 'ceilometer-agent:ceilometer-service' - - 'ceilometer:metric-service' - 'gnocchi:metric-service' - - 'ceilometer:identity-credentials' - 'keystone:identity-credentials' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceilometer-agent:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:nova-ceilometer' - 'ceilometer-agent:nova-ceilometer' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'gnocchi:shared-db' - 'gnocchi-mysql-router:shared-db' - - 'gnocchi-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'gnocchi:storage-ceph' - 'ceph-mon:client' - - 'gnocchi:coordinator-memcached' - 'memcached:cache' - - 'gnocchi:identity-service' - 'keystone:identity-service' ",,479,1
openstack%2Fcharm-designate~master~I35fb25787e4210fcc85ed7d5e3d74d5a277546fd,openstack/charm-designate,master,I35fb25787e4210fcc85ed7d5e3d74d5a277546fd,Add Victoria test bundles,MERGED,2020-07-07 13:15:36.000000000,2020-07-09 10:17:15.000000000,2020-07-09 10:17:15.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 13:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/215b8ae86c12bf72b02e80924f9c3d60bf86ee0e', 'message': 'Add Victoria test bundles\n\nChange-Id: I35fb25787e4210fcc85ed7d5e3d74d5a277546fd\n'}, {'number': 2, 'created': '2020-07-08 12:37:18.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/7e11bab1503a62370a207d0cad47c21502cb3eda', 'message': 'Add Victoria test bundles\n\nChange-Id: I35fb25787e4210fcc85ed7d5e3d74d5a277546fd\n'}]",0,739740,7e11bab1503a62370a207d0cad47c21502cb3eda,11,3,2,31289,,,0,"Add Victoria test bundles

Change-Id: I35fb25787e4210fcc85ed7d5e3d74d5a277546fd
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/40/739740/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,215b8ae86c12bf72b02e80924f9c3d60bf86ee0e,victoria-charm-tests, - focal-victoria - groovy-victoria - groovy-victoria, - bionic-train - focal-ussuri,255,2
openstack%2Fcharm-nova-compute~master~I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc,openstack/charm-nova-compute,master,I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc,Add Victoria test bundles,MERGED,2020-07-07 12:40:01.000000000,2020-07-09 10:16:30.000000000,2020-07-09 10:16:30.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 12:40:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a8339e217e61541966ec4bcdec6aa61b6413a7d6', 'message': 'Add Victoria test bundles\n\nChange-Id: I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc\n'}, {'number': 2, 'created': '2020-07-08 09:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/0732f1e12fc5329c7653ce0ac67596e5992501ba', 'message': 'Add Victoria test bundles\n\nChange-Id: I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc\n'}, {'number': 3, 'created': '2020-07-08 12:33:41.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/9c30e3d6bfb2385e2a6f177f0208c2553a55d74a', 'message': 'Add Victoria test bundles\n\nChange-Id: I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc\n'}]",0,739729,9c30e3d6bfb2385e2a6f177f0208c2553a55d74a,16,4,3,31289,,,0,"Add Victoria test bundles

Change-Id: I76eb9b34a7a8e603b1e9153c8653d0e18e9bf4fc
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/29/739729/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,a8339e217e61541966ec4bcdec6aa61b6413a7d6,victoria-charm-tests,variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': constraints: mem=4096M cores=4 applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin to: - '3' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: ../../../nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true to: - '10' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ,,408,1
openstack%2Fcharm-ceph-radosgw~master~If4831f159ca42d112eb29f2ef4ea9928e90ed569,openstack/charm-ceph-radosgw,master,If4831f159ca42d112eb29f2ef4ea9928e90ed569,Add Victoria test bundles,MERGED,2020-07-07 13:44:08.000000000,2020-07-09 10:14:53.000000000,2020-07-09 10:14:53.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 13:44:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/4f58fb30e2cebd85cfe0cc7241c8e27091fbd917', 'message': 'Add Victoria test bundles\n\nChange-Id: If4831f159ca42d112eb29f2ef4ea9928e90ed569\n'}, {'number': 2, 'created': '2020-07-08 12:34:42.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria-namespaced.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria-namespaced.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/f884bdb0bff8f512645e52371bc807fbf16f8031', 'message': 'Add Victoria test bundles\n\nChange-Id: If4831f159ca42d112eb29f2ef4ea9928e90ed569\n'}]",0,739755,f884bdb0bff8f512645e52371bc807fbf16f8031,14,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: If4831f159ca42d112eb29f2ef4ea9928e90ed569
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/55/739755/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria-namespaced.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria-namespaced.yaml', 'tests/bundles/groovy-victoria.yaml']",5,4f58fb30e2cebd85cfe0cc7241c8e27091fbd917,victoria-charm-tests,"options: source: &source cloud:groovy-victoria series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': '10': '11': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *source to: - '0' - '1' - '2' ceph-radosgw: charm: ceph-radosgw num_units: 1 options: source: *source to: - '3' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 constraints: ""mem=2048"" storage: osd-devices: 'cinder,10G' options: source: *source osd-devices: '/srv/ceph /dev/test-non-existent' to: - '4' - '5' - '6' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: source: *source to: - '7' - '8' - '9' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *source to: - '10' vault-mysql-router: charm: cs:~openstack-charmers-next/mysql-router vault: charm: cs:~openstack-charmers-next/vault num_units: 1 to: - '11' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'ceph-osd:mon' - 'ceph-mon:osd' - - 'ceph-radosgw:mon' - 'ceph-mon:radosgw' - - 'ceph-radosgw:identity-service' - 'keystone:identity-service' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'keystone:certificates' - 'vault:certificates' - - 'ceph-radosgw:certificates' - 'vault:certificates' ",,472,3
openstack%2Fcharm-swift-proxy~master~I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf,openstack/charm-swift-proxy,master,I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf,Add Victoria test bundles,MERGED,2020-07-08 11:38:54.000000000,2020-07-09 10:14:24.000000000,2020-07-09 10:14:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 11:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/1a49c9137334895015ec4729ff3f59f327545b20', 'message': 'Add Victoria test bundles\n\nChange-Id: I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf\n'}, {'number': 2, 'created': '2020-07-08 12:36:14.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2c52de0ebd822dfa3aaf0cc066479d3d0d1fbb9f', 'message': 'Add Victoria test bundles\n\nChange-Id: I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf\n'}]",0,739956,2c52de0ebd822dfa3aaf0cc066479d3d0d1fbb9f,11,3,2,31289,,,0,"Add Victoria test bundles

Change-Id: I4a1d73f6aae29f2462ad73e3a6fe0b11345f44cf
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/56/739956/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,1a49c9137334895015ec4729ff3f59f327545b20,victoria-charm-tests,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' keystone: expose: True charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '3' swift-proxy: charm: swift-proxy num_units: 1 options: zone-assignment: manual replicas: 1 swift-hash: fdfef9d4-8b06-11e2-8ac0-531c923c8fae openstack-origin: *openstack-origin to: - '4' glance: expose: True charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '5' swift-storage: charm: cs:~openstack-charmers-next/swift-storage num_units: 1 storage: block-devices: 'cinder,10G' options: zone: 1 openstack-origin: *openstack-origin to: - '6' relations: - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'swift-proxy:identity-service' - 'keystone:identity-service' - - 'swift-storage:swift-storage' - 'swift-proxy:swift-storage' - - 'glance:object-store' - 'swift-proxy:object-store' ",,214,1
openstack%2Fneutron~master~Icbf86d5472b205000983adbc382f52f296440740,openstack/neutron,master,Icbf86d5472b205000983adbc382f52f296440740,WIP DNM: please ignore,ABANDONED,2020-05-21 08:48:37.000000000,2020-07-09 10:13:20.000000000,,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-21 08:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8e9acf59c1497a1727e9e003183197fc61371ad', 'message': 'WIP DNM: please ignore\n\nChange-Id: Icbf86d5472b205000983adbc382f52f296440740\n'}, {'number': 2, 'created': '2020-07-09 09:06:36.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_db_sync.py', 'neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3c68273bb3dc179ca87306a635950a3676db44ea', 'message': 'WIP DNM: please ignore\n\nChange-Id: Icbf86d5472b205000983adbc382f52f296440740\n'}]",0,729877,3c68273bb3dc179ca87306a635950a3676db44ea,10,5,2,11952,,,0,"WIP DNM: please ignore

Change-Id: Icbf86d5472b205000983adbc382f52f296440740
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/729877/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/services/portforwarding/ovn/port_forwarding.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",5,d8e9acf59c1497a1727e9e003183197fc61371ad,," 'ovn_create': self._ovn_client.create_floatingip_and_pf, 'ovn_update': self._ovn_client.update_floatingip_and_pf, 'ovn_delete': self._ovn_client.delete_floatingip_and_pf,"," 'ovn_create': self._ovn_client.create_floatingip, 'ovn_update': self._ovn_client.update_floatingip, 'ovn_delete': self._ovn_client.delete_floatingip,",38,20
openstack%2Fneutron~master~Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58,openstack/neutron,master,Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58,wip,ABANDONED,2020-07-09 09:06:36.000000000,2020-07-09 10:13:09.000000000,,[],"[{'number': 1, 'created': '2020-07-09 09:06:36.000000000', 'files': ['neutron/tests/functional/base.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f0bac7eb47e0408012eacfd2ff2201447b13af69', 'message': 'wip\n\ntest\n\nChange-Id: Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58\n'}]",0,740196,f0bac7eb47e0408012eacfd2ff2201447b13af69,2,0,1,11952,,,0,"wip

test

Change-Id: Ie618cdde7d5268de0707a3eb0a8bcf20a0081d58
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/740196/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/base.py'],1,f0bac7eb47e0408012eacfd2ff2201447b13af69,, #p.update({'port_forwarding': 'port_forwarding'}), p.update({'port_forwarding': 'port_forwarding'}),1,1
openstack%2Fironic-python-agent~bugfix%2F6.2~I42aec2958d2ae2cc888040a1408d0c28b213bc89,openstack/ironic-python-agent,bugfix/6.2,I42aec2958d2ae2cc888040a1408d0c28b213bc89,Update .gitreview for bugfix/6.2,MERGED,2020-07-08 18:51:17.000000000,2020-07-09 10:12:37.000000000,2020-07-09 10:07:08.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 18:51:17.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/71fe9a59c3bbcb5c6318acbd5e7be791c86241fe', 'message': 'Update .gitreview for bugfix/6.2\n\nChange-Id: I42aec2958d2ae2cc888040a1408d0c28b213bc89\n'}]",0,740087,71fe9a59c3bbcb5c6318acbd5e7be791c86241fe,8,3,1,22816,,,0,"Update .gitreview for bugfix/6.2

Change-Id: I42aec2958d2ae2cc888040a1408d0c28b213bc89
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/87/740087/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,71fe9a59c3bbcb5c6318acbd5e7be791c86241fe,create-6.2,defaultbranch=bugfix/6.2,,1,0
openstack%2Fovsdbapp~master~I149947fb8597faafb21aeb073f9f09ad98dcd7c5,openstack/ovsdbapp,master,I149947fb8597faafb21aeb073f9f09ad98dcd7c5,drop mock from lower-constraints,MERGED,2020-06-09 09:51:20.000000000,2020-07-09 10:12:23.000000000,2020-07-09 10:10:18.000000000,"[{'_account_id': 9531}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-09 09:51:20.000000000', 'files': ['lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/f905f4e9de5ea2725c0a618320228482bf12607b', 'message': ""drop mock from lower-constraints\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we don't need it\nin lower-constraints.\n\nThese changes will help us to drop `mock` from openstack/requirements\n\nChange-Id: I149947fb8597faafb21aeb073f9f09ad98dcd7c5\n""}]",0,734495,f905f4e9de5ea2725c0a618320228482bf12607b,8,3,1,28522,,,0,"drop mock from lower-constraints

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we don't need it
in lower-constraints.

These changes will help us to drop `mock` from openstack/requirements

Change-Id: I149947fb8597faafb21aeb073f9f09ad98dcd7c5
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/95/734495/1 && git format-patch -1 --stdout FETCH_HEAD,['lower-constraints.txt'],1,f905f4e9de5ea2725c0a618320228482bf12607b,drop_mock,,mock==2.0.0,0,1
openstack%2Fneutron~master~I795ee7ca729646be0411a1232bf218015c65010f,openstack/neutron,master,I795ee7ca729646be0411a1232bf218015c65010f,Add config option ``http_retries``,MERGED,2020-06-16 20:42:10.000000000,2020-07-09 10:11:22.000000000,2020-07-08 23:16:53.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-16 20:42:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cff75396175bd0e98c5ad0c10b5bbbb4ce0d4509', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Numer of times nova or ironic client\nshould retey on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n'}, {'number': 2, 'created': '2020-06-24 20:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6c286cb8550807f402a5364fefd8fe9c5e00d0e', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n'}, {'number': 3, 'created': '2020-06-29 22:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3722439cf7b999409e09fbf379383aa4706bce33', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n'}, {'number': 4, 'created': '2020-06-30 02:07:56.000000000', 'files': ['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py', 'neutron/tests/unit/notifiers/test_nova.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e94511cd251299cee84b8b67d404972988ae28d3', 'message': 'Add config option ``http_retries``\n\nThis option allows to configure Number of times nova or ironic client\nshould retry on any failed http call.\nDefault value for this new option is ""3"".\n\nChange-Id: I795ee7ca729646be0411a1232bf218015c65010f\nCloses-Bug: #1883712\n'}]",18,736026,e94511cd251299cee84b8b67d404972988ae28d3,67,11,4,11975,,,0,"Add config option ``http_retries``

This option allows to configure Number of times nova or ironic client
should retry on any failed http call.
Default value for this new option is ""3"".

Change-Id: I795ee7ca729646be0411a1232bf218015c65010f
Closes-Bug: #1883712
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/736026/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/notifiers/ironic.py', 'releasenotes/notes/Add-http_retries-config-option-b81dd29c03ba8c6a.yaml', 'neutron/conf/common.py', 'neutron/notifiers/nova.py']",4,cff75396175bd0e98c5ad0c10b5bbbb4ce0d4509,bug/1883712," connect_retries=cfg.CONF.http_retries,",,17,2
openstack%2Fcharm-nova-cloud-controller~master~I5a78ae64131e83af43ba8b38d9a8acf0328fad8d,openstack/charm-nova-cloud-controller,master,I5a78ae64131e83af43ba8b38d9a8acf0328fad8d,Add Victoria test bundles,MERGED,2020-07-07 12:26:09.000000000,2020-07-09 10:10:41.000000000,2020-07-09 10:10:41.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/891d8a61263f3bcc7d34e87c36f86e5c46555e2e', 'message': 'Add Victoria test bundles\n\nChange-Id: I5a78ae64131e83af43ba8b38d9a8acf0328fad8d\n'}, {'number': 2, 'created': '2020-07-08 12:28:33.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/2060af3941a065b23e41cb6f86e61476ba0116eb', 'message': 'Add Victoria test bundles\n\nChange-Id: I5a78ae64131e83af43ba8b38d9a8acf0328fad8d\n'}]",0,739724,2060af3941a065b23e41cb6f86e61476ba0116eb,11,3,2,31289,,,0,"Add Victoria test bundles

Change-Id: I5a78ae64131e83af43ba8b38d9a8acf0328fad8d
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/24/739724/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,891d8a61263f3bcc7d34e87c36f86e5c46555e2e,victoria-charm-tests,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: groovy comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': '9': # machines 10 and 11 are for nova-compute which needs more memory for the # instances. '10': constraints: mem=4096M cores=4 '11': constraints: mem=4096M cores=4 applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '3' nova-cloud-controller: charm: ../../../nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin api-rate-limit-rules: ""( POST, '*', .*, 9999, MINUTE );"" network-manager: Neutron vendor-data: '{""some"": ""json data""}' vendor-data-url: http://some.url/vdata debug: true to: - '4' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '5' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '7' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '8' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '9' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true to: - '10' - '11' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ",,423,1
openstack%2Fcharm-cinder-ceph~master~I6ad0deb3783461f5f63c6a5b3740297d77bf2f39,openstack/charm-cinder-ceph,master,I6ad0deb3783461f5f63c6a5b3740297d77bf2f39,Add Victoria test bundles,MERGED,2020-07-07 13:48:52.000000000,2020-07-09 10:10:29.000000000,2020-07-09 10:10:29.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 13:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/140dacbb86fd6404ca66d88e33b09d094ac34805', 'message': 'Add Victoria test bundles\n\nChange-Id: I6ad0deb3783461f5f63c6a5b3740297d77bf2f39\n'}, {'number': 2, 'created': '2020-07-08 12:32:20.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/4ac805177abb61a136af570f087c6963a2aa5445', 'message': 'Add Victoria test bundles\n\nChange-Id: I6ad0deb3783461f5f63c6a5b3740297d77bf2f39\n'}]",0,739760,4ac805177abb61a136af570f087c6963a2aa5445,14,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: I6ad0deb3783461f5f63c6a5b3740297d77bf2f39
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/60/739760/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,140dacbb86fd6404ca66d88e33b09d094ac34805,victoria-charm-tests,variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: &series groovy machines: 0: 1: 2: 3: 4: 5: 6: 7: 8: 9: 10: 11: 12: 13: 14: 15: 16: # for the nova-compute unit 17: constraints: mem=4G cores=4 root-disk=20G applications: nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router cinder-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' ceph-osd: charm: cs:~openstack-charmers-next/ceph-osd num_units: 3 storage: osd-devices: '10G' options: osd-devices: '/dev/test-non-existent' source: *openstack-origin to: - '3' - '4' - '5' ceph-mon: charm: cs:~openstack-charmers-next/ceph-mon num_units: 3 options: monitor-count: '3' source: *openstack-origin to: - '6' - '7' - '8' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 to: - '9' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: openstack-origin: *openstack-origin network-manager: Neutron debug: true to: - '10' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 constraints: mem=1G options: openstack-origin: *openstack-origin to: - '11' neutron-api: charm: cs:~openstack-charmers-next/neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true neutron-plugin: ovs openstack-origin: *openstack-origin flat-network-providers: physnet1 neutron-security-groups: true to: - '12' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '13' neutron-gateway: charm: cs:~openstack-charmers-next/neutron-gateway num_units: 1 options: openstack-origin: *openstack-origin bridge-mappings: physnet1:br-ex to: - '14' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '15' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch cinder: charm: cs:~openstack-charmers-next/cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: None glance-api-version: 2 to: - '16' cinder-ceph: charm: ../../../cinder-ceph nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 1 storage: ephemeral-device: '40G' options: openstack-origin: *openstack-origin config-flags: auto_assign_floating_ip=False enable-live-migration: false aa-profile-mode: enforce debug: true to: - '17' relations: - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'glance:ceph' - 'ceph-mon:client' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'rabbitmq-server:amqp' - 'neutron-openvswitch:amqp' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'cinder:image-service' - 'glance:image-service' - - 'cinder-ceph:storage-backend' - 'cinder:storage-backend' - - 'nova-compute:ceph-access' - 'cinder-ceph:ceph-access' - - 'ceph-mon:client' - 'cinder-ceph:ceph' - - 'ceph-mon:osd' - 'ceph-osd:mon' ,,552,0
openstack%2Fcharm-designate-bind~master~Ia7854253346b04f74771826ee14ef90167c15e0a,openstack/charm-designate-bind,master,Ia7854253346b04f74771826ee14ef90167c15e0a,Add Victoria test bundles,MERGED,2020-07-07 12:50:21.000000000,2020-07-09 10:10:16.000000000,2020-07-09 10:10:16.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/3e925d76d8e2e993614777552d77a759ed2dfcb8', 'message': 'Add Victoria test bundles\n\nChange-Id: Ia7854253346b04f74771826ee14ef90167c15e0a\n'}, {'number': 2, 'created': '2020-07-08 12:34:09.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-designate-bind/commit/c9b2fed85b619bdd79fecb4687b5fff6449ae5a0', 'message': 'Add Victoria test bundles\n\nChange-Id: Ia7854253346b04f74771826ee14ef90167c15e0a\n'}]",0,739734,c9b2fed85b619bdd79fecb4687b5fff6449ae5a0,11,3,2,31289,,,0,"Add Victoria test bundles

Change-Id: Ia7854253346b04f74771826ee14ef90167c15e0a
",git fetch https://review.opendev.org/openstack/charm-designate-bind refs/changes/34/739734/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,3e925d76d8e2e993614777552d77a759ed2dfcb8,victoria-charm-tests, - focal-victoria - groovy-victoria - groovy-victoria, - bionic-train - focal-ussuri,199,2
openstack%2Fcharm-barbican~master~Ibb0bd976463c8c88eaf6f577af4399452ebe24a7,openstack/charm-barbican,master,Ibb0bd976463c8c88eaf6f577af4399452ebe24a7,Add Victoria test bundles,MERGED,2020-07-07 13:38:08.000000000,2020-07-09 10:06:54.000000000,2020-07-09 10:06:54.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 13:38:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/7ab7a4ecb2102ea827e814d96aa38c1d1eaf6e67', 'message': 'Add Victoria test bundles\n\nChange-Id: Ibb0bd976463c8c88eaf6f577af4399452ebe24a7\n'}, {'number': 2, 'created': '2020-07-08 12:27:56.000000000', 'files': ['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/099e195e9ee919792d7eaebae8b8b225b004a7ed', 'message': 'Add Victoria test bundles\n\nChange-Id: Ibb0bd976463c8c88eaf6f577af4399452ebe24a7\n'}]",0,739752,099e195e9ee919792d7eaebae8b8b225b004a7ed,14,4,2,31289,,,0,"Add Victoria test bundles

Change-Id: Ibb0bd976463c8c88eaf6f577af4399452ebe24a7
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/52/739752/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/tests.yaml']",3,7ab7a4ecb2102ea827e814d96aa38c1d1eaf6e67,victoria-charm-tests,dev_bundles: - groovy-victoria - focal-victoriatests_options: force_deploy: - groovy-victoria,,154,0
openstack%2Fsahara-plugin-ambari~master~I54cdcfd3373c2c9d917bd71af74219d4c0f001e4,openstack/sahara-plugin-ambari,master,I54cdcfd3373c2c9d917bd71af74219d4c0f001e4,Stop to use the __future__ module.,MERGED,2020-06-02 18:57:35.000000000,2020-07-09 10:02:14.000000000,2020-07-09 09:59:23.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:57:35.000000000', 'files': ['sahara_plugin_ambari/plugins/ambari/resources/generate_config.py'], 'web_link': 'https://opendev.org/openstack/sahara-plugin-ambari/commit/af11145cef3e66804ccd51c48fd8122fc87a22a4', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I54cdcfd3373c2c9d917bd71af74219d4c0f001e4\n""}]",0,732949,af11145cef3e66804ccd51c48fd8122fc87a22a4,11,5,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I54cdcfd3373c2c9d917bd71af74219d4c0f001e4
",git fetch https://review.opendev.org/openstack/sahara-plugin-ambari refs/changes/49/732949/1 && git format-patch -1 --stdout FETCH_HEAD,['sahara_plugin_ambari/plugins/ambari/resources/generate_config.py'],1,af11145cef3e66804ccd51c48fd8122fc87a22a4,drop_future_imports,,from __future__ import print_function,0,1
openstack%2Fcharm-neutron-api~master~I4a36837799dc3044c66cbafa734c7e0b72dec25f,openstack/charm-neutron-api,master,I4a36837799dc3044c66cbafa734c7e0b72dec25f,Fix openstack-origin in groovy-victoria test bundle,MERGED,2020-07-08 12:47:52.000000000,2020-07-09 10:01:59.000000000,2020-07-09 10:01:58.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 12:47:52.000000000', 'files': ['tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c86da1c2d2ae882125b9f88056a650245a115b03', 'message': 'Fix openstack-origin in groovy-victoria test bundle\n\nChange-Id: I4a36837799dc3044c66cbafa734c7e0b72dec25f\n'}]",0,739974,c86da1c2d2ae882125b9f88056a650245a115b03,8,3,1,31289,,,0,"Fix openstack-origin in groovy-victoria test bundle

Change-Id: I4a36837799dc3044c66cbafa734c7e0b72dec25f
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/74/739974/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/groovy-victoria.yaml'],1,c86da1c2d2ae882125b9f88056a650245a115b03,victoria-charm-tests, openstack-origin: &openstack-origin distro, openstack-origin: &openstack-origin cloud:groovy-victoria,1,1
openstack%2Fcharm-barbican-softhsm~master~Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad,openstack/charm-barbican-softhsm,master,Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad,Add Ussuri and Victoria tests,MERGED,2020-07-08 09:15:35.000000000,2020-07-09 10:01:46.000000000,2020-07-09 10:01:46.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-08 09:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/e0b597455b000ede3eac6e6f230cfe4d3fad1544', 'message': 'Add Ussuri and Victoria tests\n\nChange-Id: Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad\n'}, {'number': 2, 'created': '2020-07-08 09:42:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/0c94320ccdf10ac1bc3a644f2b2aea1e7d4ae022', 'message': 'Add Ussuri and Victoria tests\n\nCloses-Bug: #1885935\nChange-Id: Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad\n'}, {'number': 3, 'created': '2020-07-08 12:33:16.000000000', 'files': ['src/tests/dev-basic-bionic-ussuri', 'src/tests/dev-basic-groovy-victoria', 'src/tests/dev-basic-focal-victoria', 'src/wheelhouse.txt', 'src/tests/dev-basic-focal-ussuri'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/d9b05879b322ee60dc7ec9b8a17a01bc89e730dd', 'message': 'Add Ussuri and Victoria tests\n\nCloses-Bug: #1885935\nChange-Id: Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad\n'}]",0,739932,d9b05879b322ee60dc7ec9b8a17a01bc89e730dd,19,4,3,31289,,,0,"Add Ussuri and Victoria tests

Closes-Bug: #1885935
Change-Id: Ia4ab72a73ab44c3263d627bc7f18c1dbafaae2ad
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/32/739932/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/dev-basic-bionic-ussuri', 'src/tests/dev-basic-groovy-victoria', 'src/tests/dev-basic-focal-victoria', 'src/tests/dev-basic-focal-ussuri']",4,e0b597455b000ede3eac6e6f230cfe4d3fad1544,victoria-charm-tests,"#!/usr/bin/env python """"""Amulet tests on a basic barbican deploy on focal-ussuri for keystone v3. """""" from basic_deployment import SoftHSMBasicDeployment if __name__ == '__main__': deployment = SoftHSMBasicDeployment(series='focal', keystone_version=3) deployment.run_tests() ",,46,0
openstack%2Fcharm-neutron-gateway~master~Ide4a257812e2b844aea869aba698936d1e0f7393,openstack/charm-neutron-gateway,master,Ide4a257812e2b844aea869aba698936d1e0f7393,Add Victoria test bundles,MERGED,2020-07-07 11:30:45.000000000,2020-07-09 10:01:31.000000000,2020-07-09 10:01:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 11:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/7606d0f52a3c2a5ddf01b63f289a4cdd6716e07b', 'message': 'Add Victoria test bundles\n\nChange-Id: Ide4a257812e2b844aea869aba698936d1e0f7393\n'}, {'number': 2, 'created': '2020-07-07 11:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/da767d44abcee73af9cf95fe664b53137de6b441', 'message': 'Add Victoria test bundles\n\nAlso remove Eoan bundles.\n\nChange-Id: Ide4a257812e2b844aea869aba698936d1e0f7393\n'}, {'number': 3, 'created': '2020-07-08 12:29:06.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/de513bc49d6fc0b68cf62b0fcdd1909662e48543', 'message': 'Add Victoria test bundles\n\nAlso remove Eoan bundles.\n\nChange-Id: Ide4a257812e2b844aea869aba698936d1e0f7393\n'}]",0,739716,de513bc49d6fc0b68cf62b0fcdd1909662e48543,16,4,3,31289,,,0,"Add Victoria test bundles

Also remove Eoan bundles.

Change-Id: Ide4a257812e2b844aea869aba698936d1e0f7393
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/16/739716/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,7606d0f52a3c2a5ddf01b63f289a4cdd6716e07b,victoria-charm-tests,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: &series groovy machines: 0: constraints: ""mem=3072M"" 1: constraints: ""mem=3072M"" 2: constraints: ""mem=3072M"" 3: {} 4: {} 5: {} 6: {} 7: {} 8: {} 9: constraints: ""root-disk=20G mem=4G"" 10: constraints: ""root-disk=20G mem=4G"" 11: {} # We specify machine placements for these to improve iteration # time, given that machine ""0"" comes up way before machine ""7"" applications: neutron-api-mysql-router: charm: cs:~openstack-charmers-next/mysql-router keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router nova-cloud-controller-mysql-router: charm: cs:~openstack-charmers-next/mysql-router glance-mysql-router: charm: cs:~openstack-charmers-next/mysql-router placement-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: options: source: *openstack-origin to: - '3' neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin to: - '4' keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin to: - '5' glance: charm: cs:~openstack-charmers-next/glance num_units: 1 options: openstack-origin: *openstack-origin to: - '6' neutron-openvswitch: charm: cs:~openstack-charmers-next/neutron-openvswitch neutron-gateway: charm: ""../../../neutron-gateway"" num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin to: - '7' nova-cloud-controller: charm: cs:~openstack-charmers-next/nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin to: - '8' nova-compute: charm: cs:~openstack-charmers-next/nova-compute num_units: 2 options: openstack-origin: *openstack-origin to: - '9' - '10' placement: charm: cs:~openstack-charmers-next/placement num_units: 1 options: openstack-origin: *openstack-origin to: - '11' relations: - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:neutron-api' - 'nova-cloud-controller:neutron-api' - - 'neutron-api:neutron-plugin-api' - 'neutron-gateway:neutron-plugin-api' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'glance:identity-service' - 'keystone:identity-service' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' ",,416,0
openstack%2Fmolteniron~master~Iaf6e2c9b16d053a8c279a48a25979c941b1c00da,openstack/molteniron,master,Iaf6e2c9b16d053a8c279a48a25979c941b1c00da,Stop to use the __future__ module.,MERGED,2020-06-02 18:24:04.000000000,2020-07-09 09:58:05.000000000,2020-07-09 09:58:04.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:24:04.000000000', 'files': ['molteniron/molteniron.py', 'utils/test_hook_mi_ipmiblob.py', 'molteniron/tests/testRemoveBMNode.py', 'molteniron/tests/testDeallocateOwner.py', 'molteniron/tests/testGetField.py', 'molteniron/tests/testAllocateBM.py', 'molteniron/tests/testCull.py', 'molteniron/moltenirond.py', 'molteniron/tests/testAddBMNode.py', 'molteniron/tests/testGetIps.py', 'molteniron/molteniron', 'utils/createDB.py', 'molteniron/moltenirond-helper', 'molteniron/tests/testDeallocateBM.py', 'molteniron/tests/testDoClean.py'], 'web_link': 'https://opendev.org/openstack/molteniron/commit/524d1f1c7dee581b7a17b3dfc2041871604a1eac', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: Iaf6e2c9b16d053a8c279a48a25979c941b1c00da\n""}]",0,732861,524d1f1c7dee581b7a17b3dfc2041871604a1eac,9,4,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: Iaf6e2c9b16d053a8c279a48a25979c941b1c00da
",git fetch https://review.opendev.org/openstack/molteniron refs/changes/61/732861/1 && git format-patch -1 --stdout FETCH_HEAD,"['molteniron/molteniron.py', 'utils/test_hook_mi_ipmiblob.py', 'molteniron/tests/testRemoveBMNode.py', 'molteniron/tests/testDeallocateOwner.py', 'molteniron/tests/testGetField.py', 'molteniron/tests/testAllocateBM.py', 'molteniron/tests/testCull.py', 'molteniron/moltenirond.py', 'molteniron/tests/testAddBMNode.py', 'molteniron/tests/testGetIps.py', 'molteniron/molteniron', 'utils/createDB.py', 'molteniron/moltenirond-helper', 'molteniron/tests/testDeallocateBM.py', 'molteniron/tests/testDoClean.py']",15,524d1f1c7dee581b7a17b3dfc2041871604a1eac,drop_future_imports,,from __future__ import print_function ,0,30
openstack%2Fproject-team-guide~master~I95f4a999eca87627046892be3f79c8520d605bf0,openstack/project-team-guide,master,I95f4a999eca87627046892be3f79c8520d605bf0,Update release management page,MERGED,2020-06-17 13:12:04.000000000,2020-07-09 09:56:53.000000000,2020-07-09 09:53:35.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-17 13:12:04.000000000', 'files': ['doc/source/release-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/647bcbdc1cc6456a09a9580b58e51a32fbe7f567', 'message': 'Update release management page\n\nThe release management page was out-of-date, mentioning models that\nno longer exist, or requirements that we no longer enforce.\n\nSimplify it and avoid documenting release models twice. Instead, the\nProject Team Guide should focus on giving guidance on how to choose\na release model, given a deliverable type.\n\nChange-Id: I95f4a999eca87627046892be3f79c8520d605bf0\n'}]",3,736213,647bcbdc1cc6456a09a9580b58e51a32fbe7f567,10,4,1,308,,,0,"Update release management page

The release management page was out-of-date, mentioning models that
no longer exist, or requirements that we no longer enforce.

Simplify it and avoid documenting release models twice. Instead, the
Project Team Guide should focus on giving guidance on how to choose
a release model, given a deliverable type.

Change-Id: I95f4a999eca87627046892be3f79c8520d605bf0
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/13/736213/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/release-management.rst'],1,647bcbdc1cc6456a09a9580b58e51a32fbe7f567,update-release-models,"are formally *released* at given points. We call those *deliverables* and use git tags to define the release points. Each deliverable may contain one or more git repositories, which are all tagged with the same version at the sameOfficial OpenStack deliverables produced by each project team are described in the ``reference/projects.yaml`` file in the ``openstack/governance`` repository. The release management team manages the release process for such deliverables, which ultimately form the ""OpenStack"" software. This release process is automated and driven from the ``openstack/releases`` git repository. Release cycle ============= OpenStack development follows a common, time-based release cycle. It results in a coordinated release of all the components that make up an ""OpenStack"" release at the end of the development cycle. You can find the schedule for the most current development cycle by following the 'schedule' link for the most recent series on the `releases website`_. How often and when those various components will be released during the cycle depends on the deliverable type (service, library...) and the release model chosen. Deliverable types are described in the `deliverable types section`_ of the release management team documentation. Release models are described in the `release models section`_ of the release management team's documentation. Some deliverables, like general-purpose libraries that are not specific to OpenStack, can be released completely outside of the release cycle, under an `independent`_ release model. .. _deliverable types section: https://releases.openstack.org/reference/deliverable_types.html .. _release models section: https://releases.openstack.org/reference/release_models.html Choosing a release model ======================== For each OpenStack deliverable, you should choose one of the available release models. Here is a bit of guidance on how to choose, depending on the type of deliverables considered. Libraries --------- Libraries come in three different styles: OpenStack client libraries, other OpenStack-specific libraries, and generally-useful libraries. OpenStack client libraries must pick the `cycle-with-intermediary`_ model. In this model, they will release early and often, to make new features quickly available to consuming services. To that effect, the release management team will propose releases for libraries that have not been released at least once for each development cycle milestone, assuming there are significant changes. Other OpenStack-specific libraries and generally-useful libraries can pick the `cycle-with-intermediary`_ model, but may also pick the `independent`_ release model. This latter option may make sense if the library has no real ties to OpenStack at all, or if it's mostly stable and feature-complete. Services, Horizon plugins and other deliverables ------------------------------------------------ Other OpenStack components (including services, Horizon plugins and other deliverables) have to adhere to the release cycle. They can choose between the `cycle-with-rc`_ model and the `cycle-with-intermediary`_ model. The `cycle-with-rc`_ model is the historic OpenStack release model. In this model, a single release is produced at the end of the development cycle for inclusion in the coordinated OpenStack release. The major release number (the X in X.Y.Z numbers) is incremented for each release series. Near the end of the cycle, such deliverables enter a Feature Freeze period. They are requested to stop merging code adding new features, new dependencies, new configuration options, database schema changes, changes in strings... all things that make the work of packagers, translators, documenters or testers more difficult. Feature Freeze Exceptions (""FFE"") may be exceptionally granted by project PTLs (or release liaison), but every FFE accepted results in more work, less time spent testing and fixing issues in release candidates, therefore lowering the quality of the end release. Once the deliverable is deemed ready, a first release candidate (""RC1"") is created, together with a stable branch on which release-critical issues can be fixed and further release candidates created. The master branch starts on the new development cycle and is no longer feature-frozen.The alternative model is the `cycle-with-intermediary`_ model. It allows you to release when you want, as often as you want. The only expectation is that by the RC1 target week, a stable branch should be created from the latest-available release. Point releases may be created from this stable branch as release-critical issues are found. On the coordinated release date, the most recent release available on the stable branch will be included in the OpenStack release. In this model, to make room for stable point releases and avoid version collisions, we increment at least the minor number (the Y in X.Y.Z) for the first release in the next development cycle. Numbering otherwise follows `semantic versioning`_ rules. The `cycle-with-intermediary`_ model works well if you want to be able to release early and often, don't need to refine your final release as much, or don't want as much guidance and process to produce releases. It is still recommended to focus on bug fixes and hold on major disruptive features as you get closer to the end of a development cycle, to ensure that the final release of any given development cycle is as usable and bug-free as it can be.they are given more time to publish their final releases. If they plan to do a single release and want to use RCs, they should choose the `cycle-with-rc`_ model. If they want more flexibility and are not using RCs, they should opt for the `cycle-with-intermediary`_ model. .. _cycle-with-rc: https://releases.openstack.org/reference/release_models.html#cycle-with-rc .. _cycle-with-intermediary: https://releases.openstack.org/reference/release_models.html#cycle-with-intermediary .. _independent: https://releases.openstack.org/reference/release_models.html#independent updating the liaison list in the ``data/release_liaisons.txt`` file in the ``openstack/releases`` repository.#. Submit or validate release requests. If the request is notThe OpenStack development cycles follow a repeating pattern, which is described in general terms here. The length of time between milestones may change from cycle to cycle because of holidays, event scheduling, and other factors, so consult the actual 'Under development' schedule on the `releases website`_ for the actual schedule.- Discussing objectives for the cycle- Normal development work- Pushing back some objectives and refocus on key priorities- Feature development stops for cycle-with-rc deliverables (""feature freeze"")- Cycle-with-rc projects issue their first release candidates - Create release branches for deliverables- Final release candidates and releases of components for inclusion in the final release.","are formally ""released"" at given points. We call those ""deliverables"", and use git tags to define the release points. Deliverables may contain multiple git repositories, which are all tagged with the same version at the sameOpenStack deliverables can be released under four different models. Most follow a common 6-month development cycle, with some releasing intermediary releases within that. The release management team manages the release process for all deliverables following the development cycle, and provide tools for cycle-independent deliverables and other teams and repositories to do self-service releases. Release models ============== Common cycle with development milestones ---------------------------------------- By default, most OpenStack services opt to follow a common, time-based release model. It results in a single release at the end of the development cycle, with a few milestones to mark the progress in between. It is recommended at the middle stages of development, when regular releases are desirable, but release management is not internalized in the team, and testing coverage is not perfect yet. Projects following that model use a pre-version numbering scheme. If the final release will be called 5.0.0, intermediary milestones will be called 5.0.0.0b1, 5.0.0.0rc2 etc. This time-based release model includes 3 development milestones, called ``$SERIES-1``, ``$SERIES-2`` and ``$SERIES-3``. Those make useful reference points in time to organize the development cycle. Project teams may, for example, set specific deadlines that match those dates. b1, b2 and b3 tags are pushed to the repositories to clearly mark those reference points in the git history. The dates for the milestones and final release in a given development cycle are defined by the Release Management team, and communicated before the new development cycle starts on `http://releases.openstack.org`. The $series-3 milestone coincides with Feature Freeze (""FF""). Managed projects are requested to stop merging code adding new features, new dependencies, new configuration options, database schema changes, changes in strings... all things that make the work of packagers, documenters or testers more difficult. Feature Freeze Exceptions (""FFE"") may be exceptionally granted by project PTLs (or release liaison), but every FFE accepted results in more work, less time spent testing and fixing issues in release candidates, therefore lowering the quality of the end release. The closer we get to the final release date, the greater the impact on release quality. In doubt, the Release Team is available for advice. At the same time as Feature Freeze, is Soft String Freeze. Translators start to translate the strings after ``$SERIES-3``. To aid their work, it is important to avoid changing existing strings, as this will invalidate some of their translation work. New strings are allowed for things like new log messages, as in many cases leaving those strings untranslated is better than not having any message at all. After the $series-3 milestone, each team works on a list of release-critical bugs, and when they consider that all the critical issues are fixed (or considered not-release-critical after all), the release liaison requests the publication of a first release candidate (rc1). This RC1 will be used as-is as the final release, unless new release-critical issues are found that warrant a RC respin. After RC1 is tagged, a stable/$series branch is cut from that same commit. That is where further release candidates (and the final release) will be tagged. The master branch starts on the new development cycle and is no longer feature-frozen. After RC1 is tagged, that project hits a Hard String Freeze. At this point the translation team tries to complete the translation before the final release. Any string changes after RC1 should be discussed with the translation team. It is expected that at least 10 working days after RC1 there will be another milestone tagged that includes the latest translations. Potential new release critical issues have first to get fixed on the master branch. Once merged in master, they can be backported to the release branch. The PROJECTNAME-stable-maint team is tasked with approving such backports. Once all the desired backports (and translations updates) are merged, a new release candidate can be produced.Common cycle with intermediary releases --------------------------------------- Projects which want to do a formal release more often, but still want to coordinate a release at the end of the cycle from which to maintain a stable branch may opt for this model. All our libraries follow this model, in order to allow for immediate consumption of new features in consuming projects. But this is also potentially suitable for regular projects, either at the very early stages (where releasing often can be useful) or once the project is more stable, changes are limited, automated testing can be relied on, and the team decided to more directly handle release management. Projects following this model do not use intermediary development milestones. They may request publication of versions at any point in time during the development cycle. They do not use Feature Freeze, they do not go through a release candidate cycle. Every tag is a release that should be be consumable by users. They use a post-version semver-based numbering scheme, where every tag is a X.Y.Z version. Those projects must request a final version for a development cycle (generally in the last month of the cycle). A stable branch is cut from that proposed version, and the master branch will from then on produce releases of the next development cycle. If a critical issue is found in the ""final release"", backports can be pushed to the stable branch and a new release be requested there. That is why it is important to increment at least the Y component of the X.Y.Z version when we switch to the next development cycle, so that the Z component can be used in future tags on the release (or stable) branch. While the release management team will not enforce a formal feature-frozen period for projects in an intermediary release model, it is recommended to focus on bug fixes and hold on major disruptive features as you get closer to the end of a development cycle, to ensure that the final release of any given development cycle is as usable and bug-free as it can be. Common cycle with one automatic release at the end -------------------------------------------------- Some technical deliverables, like tempest plugins, need to be released once at the end of the cycle. PTLs and release liaisons for such deliverables may choose to release them using a cycle-automatic release model. Cycle-automatic deliverables are automatically proposed for release by the release team around RC1. No stable branch is created.they may not always publish their final release at the same time as those projects. To that effect, they may choose the cycle-trailing release model. Cycle-trailing projects are given an extra 3 months after the final release date to request publication of their release. They may otherwise use intermediary releases or development milestones. Independent release model ------------------------- Deliverables that are not part of the main ""OpenStack"" product release, do not benefit from a coordinated release or from stable branches may opt to follow a completely independent release model. Releases are made from the master branch without any specific constraint, although the usage of a post-version numbering scheme based on `semantic versioning`_ is strongly recommended. .. note:: Client libraries and libraries distributed by official project teams should not use this model. In order to support security and critical bug fixes in official projects, they all need to provide series-based stable branches. If a library has no stable branch for a series, then in order to fix issues in the library for that series we must allow new versions from the master branch to be used in the stable branch. Sometimes that works fine, but in cases where the new release from master requires new minimum versions of second-tier dependencies, we cannot safely introduce the new version into the stable branch. It is better to use the cycle-with-intermediary model, even if a project does not aggressively backport changes to the stable branches created.updating the liaison list on the CrossProjectLiaisons_ wiki page. .. _CrossProjectLiaisons: https://wiki.openstack.org/wiki/CrossProjectLiaisons#. Submit milestone and release tag requests. If the request is notThe development cycles for cycle-with-milestones deliverables follow a repeating pattern, which is described in general terms here. The length of time between milestones may change from cycle to cycle because of holidays, event scheduling, and other factors, so consult the actual 'Under development' schedule on the `releases website`_ for the actual schedule. Weeks with negative numbers are counting down leading to the event (""Release -2"" is 2 weeks before the release). Weeks with positive numbers are counting up following an event (""Feature Freeze +1"" is the week following the feature freeze). .. note:: Dates for elections are specified in the Technical Committee charter relative to events dates, while most other dates are based on community consensus and expressed in terms of the release date. Because the events may move around in the cycle, the two scheduling systems may overlap differently in different cycles.- Finishing work left over from previous cycleNormal development work- Feature development stops (""feature freeze"")- All projects issue their first release candidates - Create branches for all services to use for release candidates, and eventually stable maintenance workFinal release candidates, with translations",115,167
openstack%2Foctavia~master~I6152838c697e12d19b27343e3a0714e55ca52d88,openstack/octavia,master,I6152838c697e12d19b27343e3a0714e55ca52d88,Remove blacklist terminology in the Octavia tree,MERGED,2020-07-08 19:22:26.000000000,2020-07-09 09:55:19.000000000,2020-07-09 09:53:22.000000000,"[{'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 19:22:26.000000000', 'files': ['releasenotes/notes/improve-terminology-8ddacb4458c74d57.yaml', 'octavia/common/config.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/api/v2/controllers/pool.py', 'etc/octavia.conf', 'octavia/api/v2/controllers/listener.py', 'octavia/common/validate.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7890f0d99929f0c2630486c7956448b1ae3d1843', 'message': 'Remove blacklist terminology in the Octavia tree\n\nThe configuration option tls_cipher_blacklist has been\ndeprecated and replaced by tls_cipher_prohibit_list.\n\nChange-Id: I6152838c697e12d19b27343e3a0714e55ca52d88\n'}]",0,740096,7890f0d99929f0c2630486c7956448b1ae3d1843,9,4,1,1131,,,0,"Remove blacklist terminology in the Octavia tree

The configuration option tls_cipher_blacklist has been
deprecated and replaced by tls_cipher_prohibit_list.

Change-Id: I6152838c697e12d19b27343e3a0714e55ca52d88
",git fetch https://review.opendev.org/openstack/octavia refs/changes/96/740096/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/improve-terminology-8ddacb4458c74d57.yaml', 'octavia/common/config.py', 'octavia/tests/unit/common/test_validations.py', 'octavia/api/v2/controllers/pool.py', 'etc/octavia.conf', 'octavia/api/v2/controllers/listener.py', 'octavia/common/validate.py']",7,7890f0d99929f0c2630486c7956448b1ae3d1843,improve-terminology,def check_cipher_prohibit_list(cipherstring): prohibit_list = CONF.api_settings.tls_cipher_prohibit_list.split(':') if cipher in prohibit_list:def check_default_ciphers_prohibit_list_conflict(): listener_rejected = check_cipher_prohibit_list( detail=_('Default listener ciphers conflict with prohibit list. ' pool_rejected = check_cipher_prohibit_list( detail=_('Default pool ciphers conflict with prohibit list. ',def check_cipher_blacklist(cipherstring): blacklist = CONF.api_settings.tls_cipher_blacklist.split(':') if cipher in blacklist:def check_default_ciphers_blacklist_conflict(): listener_rejected = check_cipher_blacklist( detail=_('Default listener ciphers conflict with blacklist. ' pool_rejected = check_cipher_blacklist( detail=_('Default pool ciphers conflict with blacklist. ',38,27
openstack%2Fcastellan~stable%2Frocky~I83bafe5b7e0c4cca67f773858007fb59d98a93a5,openstack/castellan,stable/rocky,I83bafe5b7e0c4cca67f773858007fb59d98a93a5,"add ""verify_ssl_path"" config for barbican key manager",ABANDONED,2020-06-29 08:19:33.000000000,2020-07-09 09:46:23.000000000,,"[{'_account_id': 6928}, {'_account_id': 9914}, {'_account_id': 15334}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 27594}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-29 08:19:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/14e151216c4de7d6af3c64a442e9e4ec4076a34d', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\nConflicts:\n\tcastellan/options.py\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}, {'number': 2, 'created': '2020-06-29 10:07:04.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/53e6a281912563843f815f92ac7fbac2107eba72', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}]",1,738391,53e6a281912563843f815f92ac7fbac2107eba72,9,9,2,27594,,,0,"add ""verify_ssl_path"" config for barbican key manager

Now we cann't use the verify_ssl if we set True, so we
add the ""verify_ssl_path"" config to solve it.

Closes-Bug: #1876102
(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)

Change-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5
",git fetch https://review.opendev.org/openstack/castellan refs/changes/91/738391/2 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py']",4,14e151216c4de7d6af3c64a442e9e4ec4076a34d,bug/1876102," verify_ssl = False options.set_defaults(conf, verify_ssl=False) verify_ssl_path = '/mnt' options.set_defaults(conf, verify_ssl_path='/mnt') self.assertEqual(verify_ssl_path, conf.barbican.verify_ssl_path) "," verify_ssl = True options.set_defaults(conf, verify_ssl=True)",30,5
openstack%2Fneutron~master~I4aca67c98ae77bbc4c130764af5a92515b95443a,openstack/neutron,master,I4aca67c98ae77bbc4c130764af5a92515b95443a,Better document router requirements for IPv6,MERGED,2020-07-07 20:36:29.000000000,2020-07-09 09:13:36.000000000,2020-07-09 09:11:22.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9531}, {'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-07 20:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e067e11fb502aa8234ea434a5c7d0919e00c95fa', 'message': ""Better document router requirements for IPv6\n\nIn order for IPv6 to function correctly for instances, a router\nmust be created and added to a subnet. Update the documentation\nto better highlight this as it wasn't clear a router was\nrequired on an isolated subnet such that Router Advertisements\nmessages would be sent.\n\nChange-Id: I4aca67c98ae77bbc4c130764af5a92515b95443a\nCloses-bug: #1886116\n""}, {'number': 2, 'created': '2020-07-08 12:56:34.000000000', 'files': ['doc/source/admin/config-ipv6.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3ecaf6a1078ae1e1edbe72db0fd612e826539ad', 'message': ""Better document router requirements for IPv6\n\nIn order for IPv6 to function correctly for instances, a router\nmust be created and added to a subnet. Update the documentation\nto better highlight this as it wasn't clear a router was\nrequired on an isolated subnet such that Router Advertisements\nmessages would be sent.\n\nChange-Id: I4aca67c98ae77bbc4c130764af5a92515b95443a\nCloses-bug: #1886116\n""}]",6,739848,a3ecaf6a1078ae1e1edbe72db0fd612e826539ad,18,8,2,1131,,,0,"Better document router requirements for IPv6

In order for IPv6 to function correctly for instances, a router
must be created and added to a subnet. Update the documentation
to better highlight this as it wasn't clear a router was
required on an isolated subnet such that Router Advertisements
messages would be sent.

Change-Id: I4aca67c98ae77bbc4c130764af5a92515b95443a
Closes-bug: #1886116
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/739848/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-ipv6.rst'],1,e067e11fb502aa8234ea434a5c7d0919e00c95fa,bug/1886116,"Advertisement"" messages, which contain information about the routergenerate Router Advertisement messages for a subnet. Address configuration using Router Advertisements. Address configuration using Router Advertisements and optional informationprovides Router Advertisements, DHCP* ``ipv6_ra_mode``: Determines who sends Router Advertisements.Setting SLAAC for ``ipv6_ra_mode`` configures the neutron router with an radvd agent to send Router Advertisements. The list below captures the values set for the address configuration flags in the Router Advertisement messages in this scenario.This is because when Router Advertisement messages are multicast on a neutron network, they are received by all IPv6 capable ports on the network,information contained in the Router Advertisement messages. In some cases, an IPv6 SLAAC address will be added to a port, in addition to other IPv4 and IPv6 addresses that the port already has been assigned. .. note:: If a router is not created and added to the subnet, SLAAC addressing will not succeed for instances since it is responsible for sending Router Advertisement messages. - Addresses are assigned through Router Advertisements (see SLAAC above) and optional information is delivered through DHCPv6.router with an radvd agent to send Router Advertisements. The list below captures the values set for the address configuration flags in the Router Advertisement messages in this scenario. Similarly, setting DHCPv6-stateless forrouter with an radvd agent to send Router Advertisements. The list below captures the values set for the address configuration flags in the Router Advertisements messages in this scenario. Similarly, setting DHCPv6-stateful for.. note:: If a router is not created and added to the subnet, DHCPv6 addressing will not succeed for instances since it is responsible for sending Router Advertisement messages. #. In the absence of an upstream Router Advertisement message, the ``ipv6_gateway`` flag can be set#. The upstream router can send a Router Advertisement and the neutron router will automatically learn the next-hop LLA, provided again that no subnet isEffectively the ``ipv6_gateway`` flag takes precedence over a Router Advertisements that is received from the upstream router. If it is desired to use a GUA next hop that is accomplished by allocating a subnet to the external","Advertisement"" packets, which contain information about the routergenerate Router Advertisement packets for a subnet. Address configuration using Router Advertisement (RA). Address configuration using RA and optional informationprovides RA, DHCP* ``ipv6_ra_mode``: Determines who sends RA.Setting ``ipv6_ra_mode`` to ``slaac`` will result in OpenStack Networking routers being configured to send RA packets, when they are created. This results in the following values set for the address configuration flags in the RA messages:This is because when RA broadcast messages are sent out on a neutron network, they are received by all IPv6 capable ports on the network,information contained in the RA packet. In some cases, an IPv6 SLAAC address will be added to a port, in addition to other IPv4 and IPv6 addresses that the port already has been assigned. - Addresses are assigned through RAs (see SLAAC above) and optional information is delivered through DHCPv6.router with radvd agent to send RAs. The list below captures the values set for the address configuration flags in the RA packet in this scenario. Similarly, setting DHCPv6-stateless forrouter with radvd agent to send RAs. The list below captures the values set for the address configuration flags in the RA packet in this scenario. Similarly, setting DHCPv6-stateful for#. In the absence of an upstream RA support, ``ipv6_gateway`` flag can be set#. The upstream router can send an RA and the neutron router will automatically learn the next-hop LLA, provided again that no subnet isEffectively the ``ipv6_gateway`` flag takes precedence over an RA that is received from the upstream router. If it is desired to use a GUA next hop that is accomplished by allocating a subnet to the external",42,29
openstack%2Ftripleo-common~stable%2Fussuri~I28d2edd4f923fb2d263df43fff4ef82a4072040c,openstack/tripleo-common,stable/ussuri,I28d2edd4f923fb2d263df43fff4ef82a4072040c,Run standalone jobs with locally built images,MERGED,2020-07-06 16:14:03.000000000,2020-07-09 09:13:15.000000000,2020-07-09 09:08:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/394da5a668f39747a9d6d76f36e25fdbfb539f43', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/#/c/739530/\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n""}, {'number': 2, 'created': '2020-07-06 19:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3c046c26e3c7fb4c6cdf5e795b502ee6ccfd95e6', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/#/c/739530/\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n""}, {'number': 3, 'created': '2020-07-08 01:54:02.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b53977c72356cc4338e3bf9c0cb8620a789d268d', 'message': ""Run standalone jobs with locally built images\n\nInstead of pulling images from a local registry, build them locally\nsince the configs that build them are in tripleo-common.\n\nAlso trigger the appropriate scenarios if a container config is changed.\n\nNote: this patch will make all standalone jobs running against\ntripleo-common to use locally built container images, even if the patch\nisn't about a container image config file. It has been found that the\ntime to build images is roughly the same as the time it takes to update\nthem once pulled from a remote registry.\n\nNote: scenario001/002 will come later once we figure out an issue with\ngnocchi-db-sync and cradox.\n\nDepends-On: https://review.opendev.org/#/c/739530/\nChange-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c\n(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)\n""}]",0,739533,b53977c72356cc4338e3bf9c0cb8620a789d268d,25,4,3,3153,,,0,"Run standalone jobs with locally built images

Instead of pulling images from a local registry, build them locally
since the configs that build them are in tripleo-common.

Also trigger the appropriate scenarios if a container config is changed.

Note: this patch will make all standalone jobs running against
tripleo-common to use locally built container images, even if the patch
isn't about a container image config file. It has been found that the
time to build images is roughly the same as the time it takes to update
them once pulled from a remote registry.

Note: scenario001/002 will come later once we figure out an issue with
gnocchi-db-sync and cradox.

Depends-On: https://review.opendev.org/#/c/739530/
Change-Id: I28d2edd4f923fb2d263df43fff4ef82a4072040c
(cherry picked from commit 679aeb568f37d4d883d3613b4133c158521a08c1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/33/739533/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,394da5a668f39747a9d6d76f36e25fdbfb539f43,tcib-testing/ussuri, vars: build_container_images: true vars: build_container_images: true files: - ^container-images/tcib/base/os/designate.*$ - ^container-images/tcib/base/os/mistral.*$ - ^container-images/tcib/base/os/sahara.*$ vars: build_container_images: true files: - ^container-images/tcib/base/os/manila.*$ - tripleo-ci-centos-8-scenario007-standalone: dependencies: *deps_unit_lint vars: build_container_images: true files: - ^container-images/tcib/base/os/neutron.*$ - tripleo-ci-centos-8-scenario010-standalone: dependencies: *deps_unit_lint vars: build_container_images: true files: - ^container-images/tcib/base/os/octavia.*$,,24,0
openstack%2Fpuppet-barbican~master~I5068505afbaf57e66d28f7cf472ab09bb8355f04,openstack/puppet-barbican,master,I5068505afbaf57e66d28f7cf472ab09bb8355f04,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:19:52.000000000,2020-07-09 09:01:02.000000000,2020-07-09 08:59:32.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 23:19:52.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-afb76e9845f1b739.yaml', 'spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/000d145608baad5daffcb2b80863b45b3200e435', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I5068505afbaf57e66d28f7cf472ab09bb8355f04\n'}]",0,740126,000d145608baad5daffcb2b80863b45b3200e435,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I5068505afbaf57e66d28f7cf472ab09bb8355f04
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/26/740126/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-afb76e9845f1b739.yaml', 'spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,000d145608baad5daffcb2b80863b45b3200e435,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,16,0
openstack%2Freleases~master~I36461375db7a55aeb9cd87acf87870cb6db8f543,openstack/releases,master,I36461375db7a55aeb9cd87acf87870cb6db8f543,Release castellan 3.0.2 for ussuri,MERGED,2020-07-07 09:19:48.000000000,2020-07-09 09:00:11.000000000,2020-07-09 09:00:11.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 09:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/05de52bb429ae59c089069b847f8a5b75c0d13e4', 'message': 'Release castellan 3.1.0 for ussuri\n\nA new CLI option was added to verify the SSL path and solve an issue [1]\nthis is why I proposed a minor version on stable branch.\n\nIf this option is not given by operator then the behavior stay\nconsistent with previous versions.\n\n[1] https://review.opendev.org/#/c/738399/\n\nChange-Id: I36461375db7a55aeb9cd87acf87870cb6db8f543\n'}, {'number': 2, 'created': '2020-07-07 09:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/930bc12fc94c510f5da7335d9b4f9362d0b36d0b', 'message': 'Release castellan 3.1.0 for ussuri\n\nA new CLI option was added to verify the SSL path and solve an issue [1]\nthis is why I proposed a minor version on stable branch.\n\nIf this option is not given by operator then the behavior stay\nconsistent with previous versions.\n\n[1] https://review.opendev.org/#/c/738399/\n\nChange-Id: I36461375db7a55aeb9cd87acf87870cb6db8f543\n'}, {'number': 3, 'created': '2020-07-07 09:51:18.000000000', 'files': ['deliverables/ussuri/castellan.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/da98cfefd033876ec86d4d2335f16d2d09821176', 'message': ""Release castellan 3.0.2 for ussuri\n\nA new CLI option was added to verify the SSL path and solve an issue\n[1].\n\nUnfortunattely we can't propose a minor release because 3.1.0 is already\nin use on victoria [2].\n\nAlso backport new feature and options on stable is something that we\nwant to avoid but here if this option is not given by operator then the\nbehavior stay consistent with previous versions, so I don't think it can\nhurt.\n\n[1] https://review.opendev.org/#/c/738399/\n[2] https://opendev.org/openstack/releases/src/branch/master/deliverables/victoria/castellan.yaml#L9\n\nChange-Id: I36461375db7a55aeb9cd87acf87870cb6db8f543\n""}]",0,739686,da98cfefd033876ec86d4d2335f16d2d09821176,18,4,3,28522,,,0,"Release castellan 3.0.2 for ussuri

A new CLI option was added to verify the SSL path and solve an issue
[1].

Unfortunattely we can't propose a minor release because 3.1.0 is already
in use on victoria [2].

Also backport new feature and options on stable is something that we
want to avoid but here if this option is not given by operator then the
behavior stay consistent with previous versions, so I don't think it can
hurt.

[1] https://review.opendev.org/#/c/738399/
[2] https://opendev.org/openstack/releases/src/branch/master/deliverables/victoria/castellan.yaml#L9

Change-Id: I36461375db7a55aeb9cd87acf87870cb6db8f543
",git fetch https://review.opendev.org/openstack/releases refs/changes/86/739686/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/castellan.yaml'],1,05de52bb429ae59c089069b847f8a5b75c0d13e4,castellan-ussuri-07-07, - version: 3.1.0 projects: - repo: openstack/castellan hash: dcbf29d3ba0d36f59f7f5ad31708777372c756cb,,4,0
openstack%2Freleases~master~I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24,openstack/releases,master,I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24,Release oslo for victoria 2020-07-07,MERGED,2020-07-07 09:10:35.000000000,2020-07-09 09:00:09.000000000,2020-07-09 09:00:09.000000000,"[{'_account_id': 308}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 09:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/46838cf3262e6006504f25f3fd31ca32f877d61a', 'message': 'Release oslo for victoria 2020-07-07\n\nChange-Id: I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24\n'}, {'number': 2, 'created': '2020-07-07 21:13:01.000000000', 'files': ['deliverables/victoria/taskflow.yaml', 'deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/oslo.messaging.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e4ed69da018b3f1d9c707694953ba32984ad8562', 'message': 'Release oslo for victoria 2020-07-07\n\nChange-Id: I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24\n'}]",3,739682,e4ed69da018b3f1d9c707694953ba32984ad8562,14,3,2,28522,,,0,"Release oslo for victoria 2020-07-07

Change-Id: I23bd10c2b1df4cf8a0cb6726610d5bd40e391a24
",git fetch https://review.opendev.org/openstack/releases refs/changes/82/739682/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/debtcollector.yaml', 'deliverables/victoria/oslo.policy.yaml', 'deliverables/victoria/taskflow.yaml', 'deliverables/victoria/oslo.concurrency.yaml', 'deliverables/victoria/castellan.yaml', 'deliverables/victoria/automaton.yaml', 'deliverables/victoria/oslo.messaging.yaml']",7,46838cf3262e6006504f25f3fd31ca32f877d61a,oslo-07-07-victoria, - version: 12.2.1 projects: - repo: openstack/oslo.messaging hash: afb035d97185fa9c622bdb9b4c31c71f01160370,,28,0
openstack%2Fpuppet-panko~master~I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e,openstack/puppet-panko,master,I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:37:39.000000000,2020-07-09 09:00:00.000000000,2020-07-09 08:57:26.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 23:37:39.000000000', 'files': ['spec/classes/panko_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-fa6f3766fc97cc86.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-panko/commit/ba317b7ef3c6212cc60473457dae94ca828959bf', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e\n'}]",0,740130,ba317b7ef3c6212cc60473457dae94ca828959bf,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I8ae2e126048c130f7c498d5ec0e790bc0dd42c1e
",git fetch https://review.opendev.org/openstack/puppet-panko refs/changes/30/740130/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/panko_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/keystone-authtoken-interface-fa6f3766fc97cc86.yaml']",3,ba317b7ef3c6212cc60473457dae94ca828959bf,at-interface,"--- features: - | The new ``panko::keystone::authtoken::interface`` parameter has been added, which can be used to set the interface parameter in authtoken middleware. ",,15,0
openstack%2Fpuppet-gnocchi~master~I02f2b0cfe4641616a59043c947c65d373597da55,openstack/puppet-gnocchi,master,I02f2b0cfe4641616a59043c947c65d373597da55,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:34:54.000000000,2020-07-09 08:51:50.000000000,2020-07-09 08:49:33.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 23:34:54.000000000', 'files': ['spec/classes/gnocchi_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-c06d43b518a9dd80.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/3ac484f1d2aa0e84997cfddcb63d343cbda9a25b', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I02f2b0cfe4641616a59043c947c65d373597da55\n'}]",0,740129,3ac484f1d2aa0e84997cfddcb63d343cbda9a25b,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I02f2b0cfe4641616a59043c947c65d373597da55
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/29/740129/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/gnocchi_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-c06d43b518a9dd80.yaml', 'manifests/keystone/authtoken.pp']",3,3ac484f1d2aa0e84997cfddcb63d343cbda9a25b,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,16,0
openstack%2Fpuppet-aodh~master~I39bf94a041d7d4af31fb2653c9274ee8fbdb732e,openstack/puppet-aodh,master,I39bf94a041d7d4af31fb2653c9274ee8fbdb732e,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 23:31:36.000000000,2020-07-09 08:48:05.000000000,2020-07-09 08:46:09.000000000,"[{'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 23:31:36.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-33ee768d856a0110.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/33d690c7eb0cadf2d8782cb67bb2979e223a3f89', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I39bf94a041d7d4af31fb2653c9274ee8fbdb732e\n'}]",0,740128,33d690c7eb0cadf2d8782cb67bb2979e223a3f89,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I39bf94a041d7d4af31fb2653c9274ee8fbdb732e
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/28/740128/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-33ee768d856a0110.yaml', 'manifests/keystone/authtoken.pp']",3,33d690c7eb0cadf2d8782cb67bb2979e223a3f89,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,17,4
openstack%2Fdevstack~stable%2Frocky~Ic24a24a3c0310af2eacf9398639dbded39ad1cc6,openstack/devstack,stable/rocky,Ic24a24a3c0310af2eacf9398639dbded39ad1cc6,fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes,ABANDONED,2020-07-08 09:50:55.000000000,2020-07-09 08:35:26.000000000,,"[{'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 09:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b2cf158bf6b1bc3833bf86485d848923bbb80d5a', 'message': 'fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes\n\nOtherwise plugins such as devstack-plugin-ceph will fail when using apt\ndirectly to refresh the repo as it is not signed.\n\nChange-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6\n'}, {'number': 2, 'created': '2020-07-08 09:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6dc1c14c1907f160a5ce4dc8381eb68c2a14c8f4', 'message': 'fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes\n\nOtherwise plugins such as devstack-plugin-ceph will fail when using apt\ndirectly to refresh the repo as it is not signed.\n\nStable-Only\nChange-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6\n'}, {'number': 3, 'created': '2020-07-08 17:59:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4c62d204c71f54e015cee7f4d450a984bef64e89', 'message': 'fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes\n\nOtherwise plugins such as devstack-plugin-ceph will fail when using apt\ndirectly to refresh the repo as it is not signed.\n\nStable-Only\nChange-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6\n'}, {'number': 4, 'created': '2020-07-08 18:00:22.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/907e1bef19d5e74aa6173d0e165f74ba5ecf681d', 'message': 'fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes\n\nOtherwise plugins such as devstack-plugin-ceph will fail when using apt\ndirectly to refresh the repo as it is not signed.\n\nStable-Only\nChange-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6\n'}]",2,739941,907e1bef19d5e74aa6173d0e165f74ba5ecf681d,10,3,4,10135,,,0,"fixup_stuff: Ensure the Queens UCA is trusted on Xenial nodes

Otherwise plugins such as devstack-plugin-ceph will fail when using apt
directly to refresh the repo as it is not signed.

Stable-Only
Change-Id: Ic24a24a3c0310af2eacf9398639dbded39ad1cc6
",git fetch https://review.opendev.org/openstack/devstack refs/changes/41/739941/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,b2cf158bf6b1bc3833bf86485d848923bbb80d5a,," sudo apt-add-repository -y ""deb [trusted=yes] NODEPOOL_UCA_MIRROR xenial-updates/queens main"""," sudo apt-add-repository -y ""deb $NODEPOOL_UCA_MIRROR xenial-updates/queens main""",1,1
openstack%2Fcharm-mysql-innodb-cluster~master~I26d62d02c4dc6cd395efef144a1f455291d25459,openstack/charm-mysql-innodb-cluster,master,I26d62d02c4dc6cd395efef144a1f455291d25459,Enable MySQL TLS,MERGED,2020-06-30 23:26:09.000000000,2020-07-09 08:31:19.000000000,2020-07-09 08:31:19.000000000,"[{'_account_id': 12549}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 23:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/ab724ef561964cfb80c4a49df803ed46a87f5623', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 2, 'created': '2020-07-01 17:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/e347f9ec2b2bee3ad9e8cbd02a7b3bcb59013c20', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 3, 'created': '2020-07-01 20:12:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/f818012d8b787f7e17b4ddc30fa43ed8685e37a5', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 4, 'created': '2020-07-06 17:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/5a9a78d30935a7b7fd292a0418579d85eaa88aed', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 5, 'created': '2020-07-06 19:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d5d2473003d1b299488e2deade9423fca214f0fb', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 6, 'created': '2020-07-07 16:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7cab9c197b8e2e856c092f349479bca273c1930c', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 7, 'created': '2020-07-07 18:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/79805e0b190fa8a016f0c19d206c568e360d5230', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 8, 'created': '2020-07-08 17:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/a4e5b4228a3918044d8efe70ea382b68a8a9970f', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/354\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}, {'number': 9, 'created': '2020-07-08 18:23:29.000000000', 'files': ['src/tests/bundles/focal.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/tests/tests.yaml', 'src/layer.yaml', 'src/config.yaml', 'src/templates/mysqld.cnf', 'src/wheelhouse.txt', 'src/actions/actions.py', 'wheelhouse-overrides.txt', 'src/reactive/mysql_innodb_cluster_handlers.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/d1eb32d11b949fd44d411cfe5ab067a841d66c7b', 'message': 'Enable MySQL TLS\n\nEnable passing the certificate authority on the relation in order to\nenable TLS communication to the MySQL DB.\n\nfunc-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/354\n\nCloses-Bug: #1854133\nDepends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5\nChange-Id: I26d62d02c4dc6cd395efef144a1f455291d25459\n'}]",0,738717,d1eb32d11b949fd44d411cfe5ab067a841d66c7b,60,5,9,20805,,,0,"Enable MySQL TLS

Enable passing the certificate authority on the relation in order to
enable TLS communication to the MySQL DB.

func-test-pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/354

Closes-Bug: #1854133
Depends-On: I26d7ec4cf9a2e99d9d1cb573ad40f6f4e53f56b5
Change-Id: I26d62d02c4dc6cd395efef144a1f455291d25459
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/17/738717/9 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/mysqld.cnf', 'src/tests/bundles/focal.yaml', 'unit_tests/test_lib_charm_openstack_mysql_innodb_cluster.py', 'src/lib/charm/openstack/mysql_innodb_cluster.py', 'src/tests/bundles/focal-full.yaml', 'unit_tests/test_mysql_innodb_cluster_handlers.py', 'src/reactive/mysql_innodb_cluster_handlers.py', 'src/tests/tests.yaml', 'src/layer.yaml']",10,ab724ef561964cfb80c4a49df803ed46a87f5623,bug/1854133, - use-syslog,,194,20
openstack%2Foslo.messaging~stable%2Frocky~I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce,openstack/oslo.messaging,stable/rocky,I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce,DNM: test zuul - bindep without basepython,ABANDONED,2020-06-17 14:42:48.000000000,2020-07-09 08:30:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-06-17 14:42:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/b859f4b833fb45658631781a401a2166cedb03fa', 'message': 'DNM: test zuul - bindep without basepython\n\nChange-Id: I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce\n'}]",0,736243,b859f4b833fb45658631781a401a2166cedb03fa,3,1,1,17685,,,0,"DNM: test zuul - bindep without basepython

Change-Id: I0bea5fcf1b7c3a309c8b0429ab3fa8124815bfce
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/43/736243/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b859f4b833fb45658631781a401a2166cedb03fa,,,basepython = python3,0,1
openstack%2Fcharm-aodh~master~Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6,openstack/charm-aodh,master,Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6,Policyd override implementation,MERGED,2020-07-03 18:34:45.000000000,2020-07-09 08:28:39.000000000,2020-07-09 08:28:39.000000000,"[{'_account_id': 9247}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-03 18:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/27e02f8790613b0fe26f8e5f4808f9cbb48f898f', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for aodh\n\nChange-Id: Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6\nClosed-Bug: #1741723\n'}, {'number': 2, 'created': '2020-07-08 22:02:11.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/tests/bundles/xenial-ocata.yaml', 'src/tests/bundles/trusty-mitaka.yaml', 'src/lib/charm/openstack/aodh.py', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/2e500d38c2f4c6779dd06f5a841e1b268055e7ab', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for aodh. Updates\nxenial-ocata and trusty-mitaka functional tests\n\nChange-Id: Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6\nClosed-Bug: #1741723\n'}]",0,739275,2e500d38c2f4c6779dd06f5a841e1b268055e7ab,14,4,2,9247,,,0,"Policyd override implementation

This patchset implements policy overrides for aodh. Updates
xenial-ocata and trusty-mitaka functional tests

Change-Id: Ic2477ed4ccc05c5bef384c4d9dc9a1776de9f6f6
Closed-Bug: #1741723
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/75/739275/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/aodh.py', 'src/metadata.yaml']",4,27e02f8790613b0fe26f8e5f4808f9cbb48f898f,bug/1741723,resources: policyd-override: type: file filename: policyd-override.zip description: The policy.d overrides file,,48,1
openstack%2Fkolla-ansible~stable%2Fussuri~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/ussuri,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:18:39.000000000,2020-07-09 08:24:13.000000000,2020-07-09 08:21:57.000000000,"[{'_account_id': 167}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-07-09 00:18:39.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6bba8cc52af3a26678da48129856f80c21eb8e38', 'message': 'Manage octavia health manager worker through openstack_service worker\n\nChange-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15\nCloses-Bug: #1886747\n(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)\n'}]",0,740133,6bba8cc52af3a26678da48129856f80c21eb8e38,10,4,1,7488,,,0,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/740133/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,6bba8cc52af3a26678da48129856f80c21eb8e38,,stats_update_threads = {{ openstack_service_workers }} health_update_threads = {{ openstack_service_workers }} ,,3,0
openstack%2Fkolla-ansible~stable%2Ftrain~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/train,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:18:52.000000000,2020-07-09 08:23:32.000000000,2020-07-09 08:21:56.000000000,"[{'_account_id': 167}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 00:18:52.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1629f5fe082d2a592d2b3bcf18fe98139cadce46', 'message': 'Manage octavia health manager worker through openstack_service worker\n\nChange-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15\nCloses-Bug: #1886747\n(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)\n'}]",0,740134,1629f5fe082d2a592d2b3bcf18fe98139cadce46,8,3,1,7488,,,0,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/740134/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,1629f5fe082d2a592d2b3bcf18fe98139cadce46,,stats_update_threads = {{ openstack_service_workers }} health_update_threads = {{ openstack_service_workers }} ,,3,0
openstack%2Fcharm-vault~master~I2dea8eabc084152125028bd64bad5319159af04f,openstack/charm-vault,master,I2dea8eabc084152125028bd64bad5319159af04f,More DB loss handling,MERGED,2020-07-08 18:45:19.000000000,2020-07-09 08:20:31.000000000,2020-07-09 08:20:31.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 18:45:19.000000000', 'files': ['src/lib/charm/vault.py'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/42f1925fc42601f469a476dd045226fe2e25c954', 'message': 'More DB loss handling\n\nAn addition to commit 25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede\nUse a retry on the client.auth_approle\n\nRelated-Bug: #1886083\n\nChange-Id: I2dea8eabc084152125028bd64bad5319159af04f\n'}]",0,740086,42f1925fc42601f469a476dd045226fe2e25c954,7,3,1,20805,,,0,"More DB loss handling

An addition to commit 25ac2cb0de7e7fdc0c7815aecb67a5906b1fbede
Use a retry on the client.auth_approle

Related-Bug: #1886083

Change-Id: I2dea8eabc084152125028bd64bad5319159af04f
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/86/740086/1 && git format-patch -1 --stdout FETCH_HEAD,['src/lib/charm/vault.py'],1,42f1925fc42601f469a476dd045226fe2e25c954,bug/1886083,"@tenacity.retry(wait=tenacity.wait_exponential(multiplier=1, max=60), stop=tenacity.stop_after_attempt(10), reraise=True)",,3,0
openstack%2Ftempest~master~I7d00be25bb0b70ce55e27790df33d9134c2a52ae,openstack/tempest,master,I7d00be25bb0b70ce55e27790df33d9134c2a52ae,Replace mock by unittest.mock in 2 forgotten cases,MERGED,2020-07-08 09:53:50.000000000,2020-07-09 08:12:41.000000000,2020-07-09 08:10:40.000000000,"[{'_account_id': 5689}, {'_account_id': 5803}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2020-07-08 09:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9b2f118a6a815f9c9c4c9b62723d45b34995392e', 'message': 'Replace mock by unittest.mock in 2 forgotten cases\n\nWe replaced usage of third party mock by the standard library in:\nhttps://review.opendev.org/#/c/721021/\nThere are 2 forgotten occurrences where we still use the third\nparty mock, the patch fixes that.\n\nChange-Id: I7d00be25bb0b70ce55e27790df33d9134c2a52ae\n'}, {'number': 2, 'created': '2020-07-08 13:28:02.000000000', 'files': ['tempest/tests/cmd/test_workspace.py', 'tempest/tests/lib/cmd/test_check_uuid.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e1eebfa8451d4c28bef0669e4a7f493b6086cab9', 'message': 'Replace mock by unittest.mock in 2 forgotten cases\n\nWe replaced usage of third party mock by the standard library in:\nhttps://review.opendev.org/#/c/721021/\nThere are 2 forgotten occurrences where we still use the third\nparty mock, the patch fixes that.\n\nChange-Id: I7d00be25bb0b70ce55e27790df33d9134c2a52ae\n'}]",3,739942,e1eebfa8451d4c28bef0669e4a7f493b6086cab9,13,6,2,22873,,,0,"Replace mock by unittest.mock in 2 forgotten cases

We replaced usage of third party mock by the standard library in:
https://review.opendev.org/#/c/721021/
There are 2 forgotten occurrences where we still use the third
party mock, the patch fixes that.

Change-Id: I7d00be25bb0b70ce55e27790df33d9134c2a52ae
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/739942/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/tests/cmd/test_workspace.py', 'tempest/tests/lib/cmd/test_check_uuid.py']",2,9b2f118a6a815f9c9c4c9b62723d45b34995392e,,from unittest import mock,import mock,3,2
openstack%2Fkolla-ansible~stable%2Fstein~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,stable/stein,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-09 00:19:10.000000000,2020-07-09 08:11:37.000000000,2020-07-09 08:08:53.000000000,"[{'_account_id': 167}, {'_account_id': 22165}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-09 00:19:10.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a96ca60658b597ac0b2a04f05bb87f0ed6fd2c55', 'message': 'Manage octavia health manager worker through openstack_service worker\n\nChange-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15\nCloses-Bug: #1886747\n(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)\n'}]",0,740135,a96ca60658b597ac0b2a04f05bb87f0ed6fd2c55,8,3,1,7488,,,0,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
(cherry picked from commit 1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/740135/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,a96ca60658b597ac0b2a04f05bb87f0ed6fd2c55,,stats_update_threads = {{ openstack_service_workers }} health_update_threads = {{ openstack_service_workers }} ,,3,0
openstack%2Frally-openstack~master~I8b24286eaae23d948430e0ace5bc26a18f9a09fc,openstack/rally-openstack,master,I8b24286eaae23d948430e0ace5bc26a18f9a09fc,Add security group neutron context,NEW,2020-07-06 19:09:39.000000000,2020-07-09 08:02:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-06 19:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/bd2b6300bbd66663f3162ce10ab9a72c2a1bd539', 'message': 'Add security group neutron context\n\nThis patch adds ports and security_groups to neutron\ncontext to allow this resources to be created during\nrally context.\n\nChange-Id: I8b24286eaae23d948430e0ace5bc26a18f9a09fc\n'}, {'number': 2, 'created': '2020-07-06 19:15:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/65bbc834cf785cf82f590ecf72c4e3246c42981d', 'message': 'Add security group neutron context\n\nThis patch adds ports and security_groups to neutron\ncontext to allow this resources to be created during\nrally context.\n\nChange-Id: I8b24286eaae23d948430e0ace5bc26a18f9a09fc\n'}, {'number': 3, 'created': '2020-07-09 06:34:33.000000000', 'files': ['rally_openstack/common/wrappers/network.py', 'rally_openstack/task/contexts/neutron/security_groups.py', 'samples/tasks/contexts/secgroups.yaml', 'rally_openstack/task/contexts/neutron/ports.py', 'samples/tasks/contexts/secgroups.json', 'samples/tasks/contexts/ports.json', 'samples/tasks/contexts/ports.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/cfcee0585bec11a909b64a773f0dd2116864d9bb', 'message': 'Add security group neutron context\n\nThis patch adds ports and security_groups to neutron\ncontext to allow this resources to be created during\nrally context.\n\nChange-Id: I8b24286eaae23d948430e0ace5bc26a18f9a09fc\n'}]",0,739589,cfcee0585bec11a909b64a773f0dd2116864d9bb,5,1,3,30421,,,0,"Add security group neutron context

This patch adds ports and security_groups to neutron
context to allow this resources to be created during
rally context.

Change-Id: I8b24286eaae23d948430e0ace5bc26a18f9a09fc
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/89/739589/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally_openstack/common/wrappers/network.py', 'rally_openstack/task/contexts/neutron/security_groups.py', 'samples/tasks/contexts/secgroups.yaml', 'rally_openstack/task/contexts/neutron/ports.py', 'samples/tasks/contexts/secgroups.json', 'samples/tasks/contexts/ports.json', 'samples/tasks/contexts/ports.yaml']",7,bd2b6300bbd66663f3162ce10ab9a72c2a1bd539,,"--- Dummy.openstack: - args: sleep: 0.1 runner: type: ""constant"" times: 4 concurrency: 2 context: users: tenants: 1 users_per_tenant: 2 secgroups: secgroups_per_network: 1 secgroup_rules_per_secgroup: 1 ports: security_groups: True ",,326,0
openstack%2Fironic~master~I5fba89f5611cf6be3054f27ce7e04404b802dc16,openstack/ironic,master,I5fba89f5611cf6be3054f27ce7e04404b802dc16,error wold confiuration to configuration,ABANDONED,2020-07-09 07:40:28.000000000,2020-07-09 07:55:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 27623}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-09 07:40:28.000000000', 'files': ['doc/source/admin/agent-token.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2b2f394b31e584fb54a0bc1111c89ee2611edfa2', 'message': 'error wold confiuration to configuration\n\nChange-Id: I5fba89f5611cf6be3054f27ce7e04404b802dc16\n'}]",0,740174,2b2f394b31e584fb54a0bc1111c89ee2611edfa2,3,3,1,32148,,,0,"error wold confiuration to configuration

Change-Id: I5fba89f5611cf6be3054f27ce7e04404b802dc16
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/740174/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/agent-token.rst'],1,2b2f394b31e584fb54a0bc1111c89ee2611edfa2,,"``ironic-python-agent``. With the ``Ussuri`` release, the configuration option","``ironic-python-agent``. With the ``Ussuri`` release, the confiuration option",1,1
openstack%2Ffreezer-dr~master~I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1,openstack/freezer-dr,master,I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1,Stop to use the __future__ module.,NEW,2020-06-02 18:13:48.000000000,2020-07-09 07:52:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/f71e201d0c5ef6688dc5e308f8d5279351708e6a', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1\n""}, {'number': 2, 'created': '2020-06-22 08:45:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/108b931d0813d867555a96817e16476249068d95', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1\n""}, {'number': 3, 'created': '2020-06-22 08:47:04.000000000', 'files': ['freezer_dr/main.py'], 'web_link': 'https://opendev.org/openstack/freezer-dr/commit/3ca1dc7c6ab90afb84e52cb1fe718317a5595600', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1\n""}]",0,732839,3ca1dc7c6ab90afb84e52cb1fe718317a5595600,7,3,3,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I57bcfc2ee2e8cf764c54800beb0a2ec5788b52a1
",git fetch https://review.opendev.org/openstack/freezer-dr refs/changes/39/732839/1 && git format-patch -1 --stdout FETCH_HEAD,"['freezer_dr/main.py', 'freezer_dr/common/osclient.py', 'freezer_dr/common/daemon.py']",3,f71e201d0c5ef6688dc5e308f8d5279351708e6a,drop_future_imports,,from __future__ import print_function ,0,5
openstack%2Fopenstack-helm-infra~master~If607e168515f55478e9e55e421738d2d00269d3f,openstack/openstack-helm-infra,master,If607e168515f55478e9e55e421738d2d00269d3f,[Ceph-osd] Avoid using lsblk/blkid.,MERGED,2020-05-26 22:16:07.000000000,2020-07-09 07:34:09.000000000,2020-07-09 07:30:37.000000000,"[{'_account_id': 8898}, {'_account_id': 14029}, {'_account_id': 17119}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}]","[{'number': 1, 'created': '2020-05-26 22:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f2addb057d6fc816c25699d801f0de717403bf35', 'message': '[WIP/DNM] Ceph-osd. Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 2, 'created': '2020-05-26 22:51:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/24b5e56e52cacda819454d08ae5b175ead0bc729', 'message': '[WIP/DNM] Ceph-osd. Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 3, 'created': '2020-05-27 01:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65949b15edfdf312c09a93943d1143c86599a03d', 'message': '[WIP/DNM] Ceph-osd. Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 4, 'created': '2020-05-27 01:29:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/befdf949ee7a75492436e23ce1c65b6e7e96843e', 'message': '[WIP/DNM] Ceph-osd. Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 5, 'created': '2020-06-11 04:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b9422905f7327be1af22095648de6cfc9804568e', 'message': '[WIP/DNM] Ceph-osd. Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 6, 'created': '2020-07-07 00:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/261e9b6a447b2e4cccb6db060c85d4e5f412280a', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 7, 'created': '2020-07-07 15:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36ef36193fed20b66eb5b2ff5f8d54ab6c37d859', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 8, 'created': '2020-07-07 19:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c9831c4faf98b943312b0c5bb3515378ce898984', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 9, 'created': '2020-07-07 23:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c2418214162a5b40d8bd9614de5a6f5159c6dc22', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 10, 'created': '2020-07-07 23:03:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3e4933a24394824703bb5e901d5c336382efb5a1', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 11, 'created': '2020-07-08 15:07:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bc67114904d9361e0ca70225c3c1d71eb0f21447', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}, {'number': 12, 'created': '2020-07-08 19:02:54.000000000', 'files': ['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4841f53ca6cfd56bff046cba431ce89fa8500733', 'message': '[Ceph-osd] Avoid using lsblk/blkid.\n\nThe PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).\nAlso it allows to avoid deadlocks when there are RBDs mapped on the host.\n\nChange-Id: If607e168515f55478e9e55e421738d2d00269d3f\n'}]",0,730998,4841f53ca6cfd56bff046cba431ce89fa8500733,32,6,12,17119,,,0,"[Ceph-osd] Avoid using lsblk/blkid.

The PS improves performance by replacing lsblk/blkid (In some cases blkid may be pretty slow).
Also it allows to avoid deadlocks when there are RBDs mapped on the host.

Change-Id: If607e168515f55478e9e55e421738d2d00269d3f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/730998/3 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/ceph-volume/_common.sh.tpl'],1,f2addb057d6fc816c25699d801f0de717403bf35,," local osd_device_lvm=$(get_lvm_path_from_device ${device})function get_lvm_path_from_device { device=""$1"" logical_volume=""$(pvdisplay -m ${device} | awk '/Logical volume/{print $3}')"" lvs -o lv_dm_path --noheadings ${logical_volume} | cut -d'/' -f4 } "," local osd_device_lvm=$(lsblk ${device} -o name,type -l | grep ""lvm"" | grep ""ceph""| awk '{print $1}')",8,1
openstack%2Fpython-tripleoclient~stable%2Fussuri~I8367fb3b140f38bb61a32dedafd36052897ce80b,openstack/python-tripleoclient,stable/ussuri,I8367fb3b140f38bb61a32dedafd36052897ce80b,Run tripleo-build-containers-ubi-8 under specific conditions,MERGED,2020-07-06 19:42:39.000000000,2020-07-09 06:53:31.000000000,2020-07-09 06:48:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 19:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a046863ac31f1ff75321afac2f33885090239cbb', 'message': 'Run tripleo-build-containers-ubi-8 under specific conditions\n\nOnly run tripleo-build-containers-ubi-8 when we touch the code that\nbuilds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 2, 'created': '2020-07-07 13:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e5e70b8bbe13eb4c8ba12110c7cb6f0c7fbce15c', 'message': 'Run tripleo-build-containers-ubi-8 under specific conditions\n\nOnly run tripleo-build-containers-ubi-8 when we touch the code that\nbuilds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 3, 'created': '2020-07-07 13:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3db42bd98c324e371d8fbc8926d6929b8e9bce7d', 'message': 'Run tripleo-build-containers-ubi-8-ussuri under specific conditions\n\nOnly run tripleo-build-containers-ubi-8-ussuri when we touch the code\nthat builds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 4, 'created': '2020-07-07 13:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd8cbd8d49a1014ba0b7d71f9ede59179d5d2a44', 'message': 'Run tripleo-build-containers-ubi-8-ussuri under specific conditions\n\nOnly run tripleo-build-containers-ubi-8-ussuri when we touch the code\nthat builds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 5, 'created': '2020-07-07 13:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ce6085d4d0a985c7ea7cb07260021a0425596cb9', 'message': 'Run tripleo-build-containers-ubi-8-ussuri under specific conditions\n\nOnly run tripleo-build-containers-ubi-8-ussuri when we touch the code\nthat builds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 6, 'created': '2020-07-07 19:07:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0dfae836b5b9f1d0c2bbfde35fa839b7d81c0308', 'message': 'Run tripleo-build-containers-ubi-8-ussuri under specific conditions\n\nOnly run tripleo-build-containers-ubi-8-ussuri when we touch the code\nthat builds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}, {'number': 7, 'created': '2020-07-07 19:08:56.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/be697b368bd7e37fca2c5efe78f9da7a4b749569', 'message': 'Run tripleo-build-containers-ubi-8 under specific conditions\n\nOnly run tripleo-build-containers-ubi-8-ussuri when we touch the code\nthat builds container images.\n\nDepends-On: https://review.opendev.org/736751\nDepends-On: https://review.opendev.org/739596\n\nChange-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b\n(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)\n'}]",0,739597,be697b368bd7e37fca2c5efe78f9da7a4b749569,24,4,7,3153,,,0,"Run tripleo-build-containers-ubi-8 under specific conditions

Only run tripleo-build-containers-ubi-8-ussuri when we touch the code
that builds container images.

Depends-On: https://review.opendev.org/736751
Depends-On: https://review.opendev.org/739596

Change-Id: I8367fb3b140f38bb61a32dedafd36052897ce80b
(cherry picked from commit 9806e3908bde5bdf59e3eb6518664adc5d486c9d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/739597/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,a046863ac31f1ff75321afac2f33885090239cbb,test, - tripleo-build-containers-ubi-8-ussuri: dependencies: *deps_unit_lint files: - ^tripleoclient/v2/tripleo_container_image.py$,,4,0
openstack%2Ftripleo-common~stable%2Fussuri~Ib099c3be867f41c66b088de50d9e176cdcc0592c,openstack/tripleo-common,stable/ussuri,Ib099c3be867f41c66b088de50d9e176cdcc0592c,Implement a new Container Images layout,MERGED,2020-06-18 15:40:37.000000000,2020-07-09 06:53:28.000000000,2020-07-09 06:48:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-18 15:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fc73f69c4f51c4a9f5934e8e9b753c5a32f82786', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2020-06-18 15:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fdf32d22aae1f7127e9f575a85a2e02e089274fe', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\n""}, {'number': 3, 'created': '2020-07-03 13:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3ff61bf020b4fc646b965068f462f17a24365f9c', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\n""}, {'number': 4, 'created': '2020-07-06 12:47:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f21cf48bc4de835dc5de380328cfa8d9f81ce8dc', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\n""}, {'number': 5, 'created': '2020-07-06 19:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6079911e5dfb97c34284ddf821252bc753c458ed', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\n""}, {'number': 6, 'created': '2020-07-08 01:53:42.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-conductor/nova-conductor.yaml', 'container-images/kolla/mariadb/security_reset.expect', 'container-images/tcib/base/os/barbican-base/barbican-worker/barbican-worker.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml', 'container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/kolla/swift-base/swift-sudoers', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/os/aodh-base/aodh-evaluator/aodh-evaluator.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/kolla/iscsid/extend_start.sh', 'container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh', 'container-images/tcib/base/os/designate-base/designate-backend-bind9/designate-backend-bind9.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/os.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/heat-base/heat-all/heat-all.yaml', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/kolla/mariadb/extend_start.sh', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'container-images/tcib/base/ovn-base/ovn-controller/ovn-controller.yaml', 'container-images/tcib/base/os/manila-base/manila-share/manila-share.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-statsd/gnocchi-statsd.yaml', 'container-images/tcib/base/os/aodh-base/aodh-listener/aodh-listener.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/kolla/keystone/extend_start.sh', 'container-images/tcib/base/ovn-base/ovn-base.yaml', 'container-images/kolla/rabbitmq/extend_start.sh', 'container-images/tcib/base/os/octavia-base/octavia-health-manager/octavia-health-manager.yaml', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-sriov-agent/neutron-sriov-agent.yaml', 'container-images/tcib/base/os/octavia-base/octavia-worker/octavia-worker.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/kolla/base/set_configs.py', 'container-images/kolla/base/sudoers', 'container-images/tcib/base/os/barbican-base/barbican-keystone-listener/barbican-keystone-listener.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-notification/ceilometer-notification.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/octavia-base/octavia-housekeeping/octavia-housekeeping.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml', 'container-images/kolla/base/httpd_setup.sh', 'container-images/tcib/base/os/neutron-base/ironic-neutron-agent/ironic-neutron-agent.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-dhcp-agent/neutron-dhcp-agent.yaml', 'container-images/kolla/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'container-images/tcib/base/os/swift-base/swift-object/swift-object.yaml', 'container-images/tcib/base/os/nova-base/nova-api/nova-api.yaml', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/octavia-base/octavia-api/octavia-api.yaml', 'container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/rsyslog/rsyslog.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-server/novajoin-server.yaml', 'container-images/tcib/base/cron/cron.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-metadata-agent-ovn/neutron-metadata-agent-ovn.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/kolla/swift-base/swift-rootwrap', 'container-images/tcib/base/os/mistral-base/mistral-event-engine/mistral-event-engine.yaml', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-account/swift-account.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml', 'container-images/tcib/base/ovn-base/ovn-northd/ovn-northd.yaml', 'container-images/tcib/base/os/neutron-base/neutron-openvswitch-agent/neutron-openvswitch-agent.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/heat-base/heat-api/heat-api.yaml', 'container-images/tcib/base/os/swift-base/swift-container/swift-container.yaml', 'container-images/tcib/base/os/designate-base/designate-sink/designate-sink.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-metadata-agent/neutron-metadata-agent.yaml', 'container-images/tcib/base/os/zaqar-wsgi/zaqar-wsgi.yaml', 'container-images/tcib/base/os/cinder-base/cinder-scheduler/cinder-scheduler.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/tcib/base/os/manila-base/manila-api/manila-api.yaml', 'container-images/tcib/base/os/barbican-base/barbican-api/barbican-api.yaml', 'container-images/tcib/base/os/aodh-base/aodh-api/aodh-api.yaml', 'container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/mistral-base/mistral-engine/mistral-engine.yaml', 'container-images/kolla/glance-api/extend_start.sh', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/kolla/base/start.sh', 'container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/swift-base/swift-proxy-server/swift-proxy-server.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/kolla/tripleoclient/create_super_user.sh', 'scripts/containerfile-converter.py', 'container-images/tcib/base/os/placement-api/placement-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-metricd/gnocchi-metricd.yaml', 'container-images/tcib/base/os/heat-base/heat-engine/heat-engine.yaml', 'container-images/tcib/base/os/ironic-base/ironic-api/ironic-api.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-notifier/novajoin-notifier.yaml', 'container-images/tripleo_containers.yaml', 'container-images/tcib/base/os/manila-base/manila-scheduler/manila-scheduler.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server-ovn/neutron-server-ovn.yaml', 'container-images/tcib/base/os/cinder-base/cinder-api/cinder-api.yaml', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'container-images/tcib/base/os/mistral-base/mistral-api/mistral-api.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/os/heat-base/heat-api-cfn/heat-api-cfn.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml', 'container-images/tcib/base/os/nova-base/nova-novncproxy/nova-novncproxy.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/multipathd/multipathd.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'container-images/tcib/base/os/aodh-base/aodh-notifier/aodh-notifier.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-l3-agent/neutron-l3-agent.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1473cad030c92ad3585035b3f5fcf6f1f8afe5e3', 'message': ""Implement a new Container Images layout\n\n- Kolla files that we need to copy into the images. We removed the bits\n  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.\n- A containerfile conversion tool has been added. This tool will interpret\n  docker files and convert them to a simplified tcib format.\n- TCIB aka TripleO Container Image Build, a new directory with the image\n  configs. One file per image, following a simple structure.\n  All images were pushed, we'll make some adjustments later.\n\nChange-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)\n""}]",1,736751,1473cad030c92ad3585035b3f5fcf6f1f8afe5e3,48,5,6,7353,,,0,"Implement a new Container Images layout

- Kolla files that we need to copy into the images. We removed the bits
  for Debian/Ubuntu and Upgrades stuffs that we don't use in TripleO.
- A containerfile conversion tool has been added. This tool will interpret
  docker files and convert them to a simplified tcib format.
- TCIB aka TripleO Container Image Build, a new directory with the image
  configs. One file per image, following a simple structure.
  All images were pushed, we'll make some adjustments later.

Change-Id: Ib099c3be867f41c66b088de50d9e176cdcc0592c
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit b84805d38d4c9e63b0452692f75b29d651356bb0)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/51/736751/4 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/nova-base/nova-conductor/nova-conductor.yaml', 'container-images/kolla/mariadb/security_reset.expect', 'container-images/tcib/base/os/barbican-base/barbican-worker/barbican-worker.yaml', 'container-images/tcib/base/mariadb/mariadb.yaml', 'container-images/tcib/base/os/ironic-base/ironic-base.yaml', 'container-images/tcib/base/rabbitmq/rabbitmq.yaml', 'container-images/tcib/base/os/cinder-base/cinder-backup/cinder-backup.yaml', 'container-images/tcib/base/ovn-base/ovn-nb-db-server/ovn-nb-db-server.yaml', 'container-images/tcib/base/os/ironic-base/ironic-conductor/ironic-conductor.yaml', 'container-images/tcib/base/os/mistral-base/mistral-executor/mistral-executor.yaml', 'container-images/tcib/base/os/cinder-base/cinder-base.yaml', 'container-images/kolla/swift-base/swift-sudoers', 'container-images/tcib/base/memcached/memcached.yaml', 'container-images/tcib/base/os/nova-base/nova-scheduler/nova-scheduler.yaml', 'container-images/tcib/base/os/aodh-base/aodh-evaluator/aodh-evaluator.yaml', 'container-images/tcib/base/os/cinder-base/cinder-volume/cinder-volume.yaml', 'container-images/kolla/iscsid/extend_start.sh', 'container-images/kolla/ovn/ovn-nb-db-server/start_nb_db_server.sh', 'container-images/tcib/base/os/designate-base/designate-backend-bind9/designate-backend-bind9.yaml', 'container-images/tcib/base/redis/redis.yaml', 'container-images/tcib/base/os/os.yaml', 'container-images/tcib/base/os/nova-base/nova-compute-ironic/nova-compute-ironic.yaml', 'container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml', 'container-images/tcib/base/os/heat-base/heat-all/heat-all.yaml', 'container-images/tcib/base/os/designate-base/designate-worker/designate-worker.yaml', 'container-images/kolla/mariadb/extend_start.sh', 'container-images/tcib/base/os/designate-base/designate-mdns/designate-mdns.yaml', 'container-images/tcib/base/ovn-base/ovn-controller/ovn-controller.yaml', 'container-images/tcib/base/os/manila-base/manila-share/manila-share.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-statsd/gnocchi-statsd.yaml', 'container-images/tcib/base/os/aodh-base/aodh-listener/aodh-listener.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-base.yaml', 'container-images/tcib/base/os/tempest/tempest.yaml', 'container-images/kolla/keystone/extend_start.sh', 'container-images/tcib/base/ovn-base/ovn-base.yaml', 'container-images/kolla/rabbitmq/extend_start.sh', 'container-images/tcib/base/os/octavia-base/octavia-health-manager/octavia-health-manager.yaml', 'container-images/tcib/base/os/designate-base/designate-producer/designate-producer.yaml', 'container-images/tcib/base/os/glance-api/glance-api.yaml', 'container-images/tcib/base/base.yaml', 'container-images/tcib/base/os/aodh-base/aodh-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-sriov-agent/neutron-sriov-agent.yaml', 'container-images/tcib/base/os/octavia-base/octavia-worker/octavia-worker.yaml', 'container-images/tcib/base/os/neutron-base/neutron-base.yaml', 'container-images/tcib/base/os/nova-base/nova-compute/nova-compute.yaml', 'container-images/kolla/base/set_configs.py', 'container-images/kolla/base/sudoers', 'container-images/tcib/base/os/barbican-base/barbican-keystone-listener/barbican-keystone-listener.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-notification/ceilometer-notification.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-base.yaml', 'container-images/tcib/base/os/octavia-base/octavia-housekeeping/octavia-housekeeping.yaml', 'container-images/tcib/base/os/keystone/keystone.yaml', 'container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml', 'container-images/kolla/base/httpd_setup.sh', 'container-images/tcib/base/os/neutron-base/ironic-neutron-agent/ironic-neutron-agent.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-dhcp-agent/neutron-dhcp-agent.yaml', 'container-images/kolla/ovn/ovn-sb-db-server/start_sb_db_server.sh', 'container-images/tcib/base/os/swift-base/swift-object/swift-object.yaml', 'container-images/tcib/base/os/nova-base/nova-api/nova-api.yaml', 'container-images/tcib/base/os/octavia-base/octavia-base.yaml', 'container-images/tcib/base/os/octavia-base/octavia-api/octavia-api.yaml', 'container-images/tcib/base/qdrouterd/qdrouterd.yaml', 'container-images/tcib/base/rsyslog/rsyslog.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-server/novajoin-server.yaml', 'container-images/tcib/base/cron/cron.yaml', 'container-images/tcib/base/os/designate-base/designate-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-metadata-agent-ovn/neutron-metadata-agent-ovn.yaml', 'container-images/tcib/base/os/heat-base/heat-base.yaml', 'container-images/kolla/swift-base/swift-rootwrap', 'container-images/tcib/base/os/mistral-base/mistral-event-engine/mistral-event-engine.yaml', 'container-images/kolla/horizon/extend_start.sh', 'container-images/tcib/base/os/nova-base/nova-base.yaml', 'container-images/tcib/base/os/iscsid/iscsid.yaml', 'container-images/tcib/base/os/swift-base/swift-account/swift-account.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-compute/ceilometer-compute.yaml', 'container-images/tcib/base/ovn-base/ovn-northd/ovn-northd.yaml', 'container-images/tcib/base/os/neutron-base/neutron-openvswitch-agent/neutron-openvswitch-agent.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-central/ceilometer-central.yaml', 'container-images/tcib/base/os/heat-base/heat-api/heat-api.yaml', 'container-images/tcib/base/os/swift-base/swift-container/swift-container.yaml', 'container-images/tcib/base/os/designate-base/designate-sink/designate-sink.yaml', 'container-images/tcib/base/os/mistral-base/mistral-base.yaml', 'container-images/tcib/base/os/neutron-base/neutron-metadata-agent/neutron-metadata-agent.yaml', 'container-images/tcib/base/os/zaqar-wsgi/zaqar-wsgi.yaml', 'container-images/tcib/base/os/cinder-base/cinder-scheduler/cinder-scheduler.yaml', 'container-images/tcib/base/os/barbican-base/barbican-base.yaml', 'container-images/kolla/neutron-base/neutron_sudoers', 'container-images/tcib/base/keepalived/keepalived.yaml', 'container-images/tcib/base/os/manila-base/manila-api/manila-api.yaml', 'container-images/tcib/base/os/barbican-base/barbican-api/barbican-api.yaml', 'container-images/tcib/base/os/aodh-base/aodh-api/aodh-api.yaml', 'container-images/tcib/base/os/horizon/horizon.yaml', 'container-images/tcib/base/os/mistral-base/mistral-engine/mistral-engine.yaml', 'container-images/kolla/glance-api/extend_start.sh', 'container-images/tcib/base/ovn-base/ovn-sb-db-server/ovn-sb-db-server.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-base.yaml', 'container-images/kolla/base/start.sh', 'container-images/tcib/base/os/gnocchi-base/gnocchi-api/gnocchi-api.yaml', 'container-images/tcib/base/os/swift-base/swift-proxy-server/swift-proxy-server.yaml', 'container-images/tcib/base/os/swift-base/swift-base.yaml', 'container-images/kolla/tripleoclient/create_super_user.sh', 'scripts/containerfile-converter.py', 'container-images/tcib/base/os/placement-api/placement-api.yaml', 'container-images/tcib/base/os/gnocchi-base/gnocchi-metricd/gnocchi-metricd.yaml', 'container-images/tcib/base/os/heat-base/heat-engine/heat-engine.yaml', 'container-images/tcib/base/os/ironic-base/ironic-api/ironic-api.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-agent-base.yaml', 'container-images/tcib/base/os/novajoin-base/novajoin-notifier/novajoin-notifier.yaml', 'container-images/tripleo_containers.yaml', 'container-images/tcib/base/os/manila-base/manila-scheduler/manila-scheduler.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server-ovn/neutron-server-ovn.yaml', 'container-images/tcib/base/os/cinder-base/cinder-api/cinder-api.yaml', 'container-images/tcib/base/os/designate-base/designate-central/designate-central.yaml', 'container-images/tcib/base/os/mistral-base/mistral-api/mistral-api.yaml', 'container-images/tcib/base/haproxy/haproxy.yaml', 'container-images/tcib/base/os/heat-base/heat-api-cfn/heat-api-cfn.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml', 'container-images/tcib/base/os/nova-base/nova-novncproxy/nova-novncproxy.yaml', 'container-images/tcib/base/etcd/etcd.yaml', 'container-images/tcib/base/tripleoclient/tripleoclient.yaml', 'container-images/tcib/base/os/ceilometer-base/ceilometer-ipmi/ceilometer-ipmi.yaml', 'container-images/tcib/base/os/manila-base/manila-base.yaml', 'container-images/tcib/base/collectd/collectd.yaml', 'container-images/tcib/base/multipathd/multipathd.yaml', 'container-images/tcib/base/os/designate-base/designate-api/designate-api.yaml', 'container-images/tcib/base/os/aodh-base/aodh-notifier/aodh-notifier.yaml', 'container-images/tcib/base/os/neutron-base/neutron-agent-base/neutron-l3-agent/neutron-l3-agent.yaml', 'container-images/tcib/base/os/ironic-base/ironic-inspector/ironic-inspector.yaml']",128,fc73f69c4f51c4a9f5934e8e9b753c5a32f82786,images/new-stable/ussuri,tcib_actions: - run: dnf -y install {{ tcib_packages['common'] | join(' ') }} && dnf clean all && rm -rf /var/cache/dnf - run: usermod -a -G kolla {{ tcib_user }} - run: ln -s /usr/share/openstack-tripleo-common/healthcheck/ironic-inspector /openstack/healthcheck && chmod a+rx /openstack/healthcheck tcib_packages: common: - openstack-ironic-inspector - openstack-ironic-inspector-dnsmasq tcib_user: ironic-inspector ,,2544,0
openstack%2Fneutron-lib~master~Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8,openstack/neutron-lib,master,Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8,WIP: rehome security_group api-def into neutron-lib,ABANDONED,2019-12-12 15:26:32.000000000,2020-07-09 06:28:22.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-12 15:26:32.000000000', 'files': ['neutron_lib/tests/unit/api/definitions/test_security_group.py', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/rehome-securitygroups-apidef-3281f525dd94e928.yaml', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/securitygroup.py', 'neutron_lib/exceptions/securitygroup.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aa6dc7c5455e936d5c4a9e01f03f521a5149bfd7', 'message': 'WIP: rehome security_group api-def into neutron-lib\n\nThis patch rehomes neutron.extensions.securitygroups API definition and\nassociated exceptions into neutron-lib.\n\nUnit tests and release note are also included.\n\nChange-Id: Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8\n'}]",3,698741,aa6dc7c5455e936d5c4a9e01f03f521a5149bfd7,5,2,1,8313,,,0,"WIP: rehome security_group api-def into neutron-lib

This patch rehomes neutron.extensions.securitygroups API definition and
associated exceptions into neutron-lib.

Unit tests and release note are also included.

Change-Id: Ibb78270c54d1775b0596a00ae652f6f0b7f7dff8
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/41/698741/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/definitions/test_security_group.py', 'neutron_lib/api/definitions/__init__.py', 'releasenotes/notes/rehome-securitygroups-apidef-3281f525dd94e928.yaml', 'neutron_lib/api/definitions/base.py', 'neutron_lib/api/definitions/securitygroup.py', 'neutron_lib/exceptions/securitygroup.py']",6,aa6dc7c5455e936d5c4a9e01f03f521a5149bfd7,dontdelete/rehome_security_groups,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib import exceptions class SecurityGroupInvalidPortRange(exceptions.InvalidInput): message = _(""For TCP/UDP protocols, port_range_min must be "" ""<= port_range_max"") class SecurityGroupInvalidProtocolForPort(exceptions.InvalidInput): message = _(""Ports cannot be specified for protocol %(protocol)s. "" ""Ports are only supported for %(valid_port_protocols)s."") class SecurityGroupInvalidPortValue(exceptions.InvalidInput): message = _(""Invalid value for port %(port)s"") class SecurityGroupInvalidIcmpValue(exceptions.InvalidInput): message = _(""Invalid value for ICMP %(field)s (%(attr)s) "" ""%(value)s. It must be 0 to 255."") class SecurityGroupEthertypeConflictWithProtocol(exceptions.InvalidInput): message = _(""Invalid ethertype %(ethertype)s for protocol "" ""%(protocol)s."") class SecurityGroupMissingIcmpType(exceptions.InvalidInput): message = _(""ICMP code (port-range-max) %(value)s is provided"" "" but ICMP type (port-range-min) is missing."") class SecurityGroupInUse(exceptions.InUse): message = _(""Security Group %(id)s %(reason)s."") def __init__(self, **kwargs): if 'reason' not in kwargs: kwargs['reason'] = _(""in use"") super(SecurityGroupInUse, self).__init__(**kwargs) class SecurityGroupCannotRemoveDefault(exceptions.InUse): message = _(""Insufficient rights for removing default security group."") class SecurityGroupCannotUpdateDefault(exceptions.InUse): message = _(""Updating default security group not allowed."") class SecurityGroupDefaultAlreadyExists(exceptions.InUse): message = _(""Default security group already exists."") class SecurityGroupRuleInvalidProtocol(exceptions.InvalidInput): message = _(""Security group rule protocol %(protocol)s not supported. "" ""Only protocol values %(values)s and integer representations "" ""[0 to 255] are supported."") class SecurityGroupRulesNotSingleTenant(exceptions.InvalidInput): message = _(""Multiple tenant_ids in bulk security group rule create"" "" not allowed"") class SecurityGroupRemoteGroupAndRemoteIpPrefix(exceptions.InvalidInput): message = _(""Only remote_ip_prefix or remote_group_id may "" ""be provided."") class SecurityGroupProtocolRequiredWithPorts(exceptions.InvalidInput): message = _(""Must also specify protocol if port range is given."") class SecurityGroupNotSingleGroupRules(exceptions.InvalidInput): message = _(""Only allowed to update rules for "" ""one security profile at a time"") class SecurityGroupNotFound(exceptions.NotFound): message = _(""Security group %(id)s does not exist"") class SecurityGroupRuleNotFound(exceptions.NotFound): message = _(""Security group rule %(id)s does not exist"") class DuplicateSecurityGroupRuleInPost(exceptions.InUse): message = _(""Duplicate Security Group Rule in POST."") class SecurityGroupRuleExists(exceptions.InUse): message = _(""Security group rule already exists. Rule id is %(rule_id)s."") class SecurityGroupRuleInUse(exceptions.InUse): message = _(""Security Group Rule %(id)s %(reason)s."") def __init__(self, **kwargs): if 'reason' not in kwargs: kwargs['reason'] = _(""in use"") super(SecurityGroupRuleInUse, self).__init__(**kwargs) class SecurityGroupRuleParameterConflict(exceptions.InvalidInput): message = _(""Conflicting value ethertype %(ethertype)s for CIDR %(cidr)s"") class SecurityGroupConflict(exceptions.Conflict): message = _(""Error %(reason)s while attempting the operation."") class SecurityGroupRuleInvalidEtherType(exceptions.InvalidInput): message = _(""Security group rule for ethertype '%(ethertype)s' not "" ""supported. Allowed values are %(values)s."") ",,375,0
openstack%2Fironic~bugfix%2F15.1~I9225461c5088d1b77c5d18a3647300712d8c86f5,openstack/ironic,bugfix/15.1,I9225461c5088d1b77c5d18a3647300712d8c86f5,Update .gitreview for bugfix/15.1,MERGED,2020-07-08 19:08:19.000000000,2020-07-09 06:04:37.000000000,2020-07-08 21:51:26.000000000,"[{'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 19:08:19.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic/commit/db324a8bb155949e1d98534150632183bed3ecf9', 'message': 'Update .gitreview for bugfix/15.1\n\nChange-Id: I9225461c5088d1b77c5d18a3647300712d8c86f5\n'}]",0,740092,db324a8bb155949e1d98534150632183bed3ecf9,9,4,1,22816,,,0,"Update .gitreview for bugfix/15.1

Change-Id: I9225461c5088d1b77c5d18a3647300712d8c86f5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/740092/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,db324a8bb155949e1d98534150632183bed3ecf9,create-15.1,defaultbranch=bugfix/15.1,,1,0
openstack%2Fcinder~master~Icbc1fbb1c9dcf3312860e504adb134811259c817,openstack/cinder,master,Icbc1fbb1c9dcf3312860e504adb134811259c817,Add non-voting code coverage job,MERGED,2020-06-30 20:02:33.000000000,2020-07-09 05:11:06.000000000,2020-07-08 23:38:35.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9535}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}]","[{'number': 1, 'created': '2020-06-30 20:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/250c20158040809a9ca5e22f16949776899d95bd', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 2, 'created': '2020-06-30 20:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/72678f839e6e4af2b3799a97bc987b0e9086c920', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 3, 'created': '2020-06-30 20:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4a5be46398e6ae274e332726d153929c901c15c0', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 4, 'created': '2020-06-30 21:36:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3326943b8c1bb80396b045dd1b39508f2f00d45', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 5, 'created': '2020-06-30 22:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e33aeda2d83f3c103d896c4c3194b2b42d690b80', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 6, 'created': '2020-06-30 22:34:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a3055860d274791b2118e8a901ed9201e71bdb00', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 7, 'created': '2020-06-30 22:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d40886018e44f5e7362946de0f75bfbaea0d45b8', 'message': 'WIP: Add non-voting coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}, {'number': 8, 'created': '2020-06-30 22:59:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/416e61e6499433f5b535d7011a6b23e26b31989d', 'message': 'Add non-voting code coverage job\n\nChange-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817\n'}]",0,738687,416e61e6499433f5b535d7011a6b23e26b31989d,149,32,8,5314,,,0,"Add non-voting code coverage job

Change-Id: Icbc1fbb1c9dcf3312860e504adb134811259c817
",git fetch https://review.opendev.org/openstack/cinder refs/changes/87/738687/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,250c20158040809a9ca5e22f16949776899d95bd,add-coverage-job,# - cinder-tox-bandit-baseline: # voting: false # - openstack-tox-functional-py36: # irrelevant-files: &functional-irrelevant-files # - ^.*\.rst$ # - ^api-ref/.*$ # - ^cinder/locale/.*$ # - ^cinder/tests/hacking/.*$ # - ^cinder/tests/unit.*$ # - ^contrib/block-box.*$ # - ^doc/.*$ # - ^releasenotes/.*$ # - openstack-tox-functional-py38: # irrelevant-files: *functional-irrelevant-files # - cinder-rally-task: # voting: false # - openstack-tox-pylint: # voting: false # timeout: 5400 # irrelevant-files: *functional-irrelevant-files # - cinder-plugin-ceph-tempest: - cinder-tox-coverage# - cinder-tempest-plugin-lvm-lio-barbican: # irrelevant-files: *functional-irrelevant-files # - cinder-grenade-mn-sub-volbak: # irrelevant-files: *gate-irrelevant-files # - cinder-tempest-lvm-multibackend: # voting: false # irrelevant-files: *gate-irrelevant-files # - devstack-plugin-nfs-tempest-full: # voting: false # irrelevant-files: *gate-irrelevant-files # - tempest-slow-py3: # irrelevant-files: *gate-irrelevant-files # - tempest-integrated-storage: # irrelevant-files: *gate-irrelevant-files # - grenade: # irrelevant-files: *gate-irrelevant-files # - tempest-ipv6-only: # irrelevant-files: *gate-irrelevant-files name: cinder-tox-coverage parent: openstack-tox timeout: 2400 vars: tox_envlist: cover irrelevant-files: *gate-irrelevant-files - job:, - cinder-tox-bandit-baseline: - openstack-tox-functional-py36: irrelevant-files: &functional-irrelevant-files - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/locale/.*$ - ^cinder/tests/hacking/.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py38: irrelevant-files: *functional-irrelevant-files - cinder-rally-task: voting: false - openstack-tox-pylint: voting: false timeout: 5400 irrelevant-files: *functional-irrelevant-files - cinder-plugin-ceph-tempest: - cinder-tempest-plugin-lvm-lio-barbican: irrelevant-files: *functional-irrelevant-files - cinder-grenade-mn-sub-volbak: irrelevant-files: *gate-irrelevant-files - cinder-tempest-lvm-multibackend: voting: false irrelevant-files: *gate-irrelevant-files - devstack-plugin-nfs-tempest-full: voting: false irrelevant-files: *gate-irrelevant-files - tempest-slow-py3: irrelevant-files: *gate-irrelevant-files - tempest-integrated-storage: irrelevant-files: *gate-irrelevant-files - grenade: irrelevant-files: *gate-irrelevant-files - tempest-ipv6-only: irrelevant-files: *gate-irrelevant-files,48,38
openstack%2Ftripleo-ansible~stable%2Fussuri~I614766bd9b111bda9ddfea0a60b032e1dee09abc,openstack/tripleo-ansible,stable/ussuri,I614766bd9b111bda9ddfea0a60b032e1dee09abc,Introduce an Action Plugin to manage systemd services for containers,MERGED,2020-07-08 14:17:22.000000000,2020-07-09 05:09:50.000000000,2020-07-09 05:09:50.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 14:17:22.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/stat_healthcheck.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/cleanup_healthcheck.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7f56c0c559e9e0db84aa4064ba04c50edef255c4', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n(cherry picked from commit af7f083066574dcefe637b3aae5026de4573d954)\n'}]",0,739998,7f56c0c559e9e0db84aa4064ba04c50edef255c4,11,4,1,3153,,,0,"Introduce an Action Plugin to manage systemd services for containers

Instead of running a bunch of tasks to manage systemd resources, move
it into an action plugin which should make the execution faster and
easier to debug as well.

Example of task:
- name: Manage container systemd services
  container_systemd:
    container_config:
      - keystone:
          image: quay.io/tripleo/keystone
          restart: always
      - mysql:
          image: quay.io/tripleo/mysql
          stop_grace_period: 25
          restart: always

The output is ""restarted"" for the list of services that were actually
restarted in systemd.

Note on testing: since that module is consummed by
tripleo_container_manage role, there is no need to create dedicated
molecule tests, we already cover containers with restart policy in that
role's molecule tests. So we'll re-use it.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc
(cherry picked from commit af7f083066574dcefe637b3aae5026de4573d954)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/739998/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/stat_healthcheck.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/cleanup_healthcheck.yml']",7,7f56c0c559e9e0db84aa4064ba04c50edef255c4,systemd/ussuri,,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: ""Stop and disable systemd timer for {{ container_systemd_healthcheck_name }}"" systemd: state: stopped name: ""tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" enabled: false daemon_reload: false - name: ""Remove systemd healthcheck files for {{ container_systemd_healthcheck_name }}"" file: path: ""{{ container_systemd_healthcheck_file }}"" state: absent loop: - ""/etc/systemd/system/tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.service"" - ""/etc/systemd/system/tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" loop_control: loop_var: container_systemd_healthcheck_file - name: Force systemd to re-read config after healthcheck removals systemd: daemon_reload: true - name: ""Check if {{ container_systemd_healthcheck_name }} healthcheck is not running"" command: ""systemctl is-active --quiet tripleo_{{ container_systemd_healthcheck_name }}_healthcheck.timer"" register: tripleo_healthcheck_result failed_when: - tripleo_healthcheck_result.rc == 0 - name: ""Check if {{ container_systemd_healthcheck_name }} service is running and healthy"" command: ""systemctl is-active --quiet tripleo_{{ container_systemd_healthcheck_name }}.service"" register: tripleo_service_result failed_when: - tripleo_service_result.rc != 0 ",376,140
openstack%2Fpuppet-neutron~master~Id6e609d0a556e23c484f38f4651d2709d898a76c,openstack/puppet-neutron,master,Id6e609d0a556e23c484f38f4651d2709d898a76c,Nuage: remove check on mechanism driver,MERGED,2020-07-07 05:09:19.000000000,2020-07-09 05:02:28.000000000,2020-07-08 23:31:57.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 13988}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 27069}]","[{'number': 1, 'created': '2020-07-07 05:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d472f5c54815bb1599f3bafc5cafd113447cb8ae', 'message': 'Nuage: remove check on mechanism driver\n\nNuage neutron integration has a collection of mechanism\ndrivers sharing same configuration. This patchset removes check\non nuage ml2 mechanism driver which is not mandatory anymore.\n\nChange-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c\n'}, {'number': 2, 'created': '2020-07-07 09:41:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/179bbd63ad23175d07858cacd9fc46dca0ed74f7', 'message': 'Nuage: remove check on mechanism driver\n\nNuage neutron integration has a collection of mechanism\ndrivers sharing same configuration. This patchset removes check\non nuage ml2 mechanism driver which is not mandatory anymore.\n\nChange-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c\n'}, {'number': 3, 'created': '2020-07-07 12:51:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1c5d4cf463dcb05b4a36d397756edd6218dca736', 'message': 'Nuage: remove check on mechanism driver\n\nNuage neutron integration has a collection of mechanism\ndrivers sharing same configuration. This patchset removes check\non nuage ml2 mechanism driver which is not mandatory anymore.\n\nChange-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c\n'}, {'number': 4, 'created': '2020-07-08 07:39:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6f342575c8f942eb8caa62b15a7bf839d3913177', 'message': 'Nuage: relax check on mechanism driver\n\nNuage neutron integration has a collection of mechanism\ndrivers sharing same configuration. This patchset adapts\ncheck on nuage ml2 mechanism driver to use regex match.\n\nChange-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c\n'}, {'number': 5, 'created': '2020-07-08 10:04:49.000000000', 'files': ['spec/classes/neutron_plugins_ml2_nuage_spec.rb', 'manifests/plugins/ml2/nuage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9fc323f48a466dfb5bc64c048a67ce878599ff2f', 'message': 'Nuage: remove check on mechanism driver\n\nNuage neutron integration has a collection of mechanism\ndrivers sharing same configuration. This patchset removes check\non nuage ml2 mechanism driver which is not mandatory anymore.\n\nChange-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c\n'}]",2,739657,9fc323f48a466dfb5bc64c048a67ce878599ff2f,26,6,5,13988,,,0,"Nuage: remove check on mechanism driver

Nuage neutron integration has a collection of mechanism
drivers sharing same configuration. This patchset removes check
on nuage ml2 mechanism driver which is not mandatory anymore.

Change-Id: Id6e609d0a556e23c484f38f4651d2709d898a76c
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/57/739657/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2/nuage.pp'],1,d472f5c54815bb1599f3bafc5cafd113447cb8ae,,, if $::neutron::core_plugin != 'ml2' or !('nuage' in $::neutron::plugins::ml2::mechanism_drivers) { fail('Nuage should be the mechanism driver in neutron.conf') },0,4
openstack%2Fcinder~master~I2d4f4e522e4a1b655858cdc041c207bbcade11f4,openstack/cinder,master,I2d4f4e522e4a1b655858cdc041c207bbcade11f4,Query error state volumes should contain error_managing state,ABANDONED,2020-05-06 07:52:54.000000000,2020-07-09 03:51:02.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26458}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30407}]","[{'number': 1, 'created': '2020-05-06 07:52:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/65f7b8b2990e39a35f291c18160a5a119a931cf3', 'message': 'Query error state volumes should contain error_managing state\n\nWhen we fail to manage a volume, we use cinder list to view the volume\nlist, or use cinder show to view the volume details, We can see that the\nvolume state is error.\nBut when we filter the list of volumes by specifying the status as\nerror,We found that there were no manage failed volumes in the\nscreening results,this will confuse the user.\n\nChange-Id: I2d4f4e522e4a1b655858cdc041c207bbcade11f4\n'}, {'number': 2, 'created': '2020-05-06 08:07:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1ad87676e8e94a7c56b5705eb5a2b257e10b1d2c', 'message': 'Query error state volumes should contain error_managing state\n\nWhen we fail to manage a volume, we use cinder list to view the volume\nlist, or use cinder show to view the volume details, We can see that the\nvolume state is error.\nBut when we filter the list of volumes by specifying the status as\nerror,We found that there were no manage failed volumes in the\nscreening results,this will confuse the user.\n\nCloses-Bug:#1877028\n\nChange-Id: I2d4f4e522e4a1b655858cdc041c207bbcade11f4\n'}, {'number': 3, 'created': '2020-07-08 09:59:22.000000000', 'files': ['cinder/api/v2/volumes.py', 'cinder/objects/fields.py', 'releasenotes/notes/bug-1877028-query-error-state-volumes-should-contain-error_managing-state-eabf43602a39b44a.yaml', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6b184f019f31952f72ede5dc340b020c98c5cc1e', 'message': 'Query error state volumes should contain error_managing state\n\nWhen we fail to manage a volume, we use cinder list to view the volume\nlist, or use cinder show to view the volume details, We can see that the\nvolume state is error.\nBut when we filter the list of volumes by specifying the status as\nerror,We found that there were no manage failed volumes in the\nscreening results,this will confuse the user.\nso what needs to be fixed?\n\n(A) when a user filters on status=error, volumes in (internal) status\nerror_managing should also be included\n(B) when a user filters on status=creating, volumes in (internal) status\nmanaging should also be included\n(C) when a user filters on status=deleting, volumes in (internal) status\nerror_managing_deleting should also be included\n(D) when a user filters on any status that\'s not in the official list,\nthey should get an empty list of volumes (need to verify that\'s the\ncurrent behavior, but I\'m pretty sure that if you GET\n/v3/v3/{project_id}/volumes/detail?status=not-a-status you get the\nresponse { ""volumes"": [] }, not a 400). Currently we rely on the\ndatabase for this, but we may need to handle it in the REST API layer.\n(E) fixing the ""like"" operator from microversion 3.34 is going to be\ntricky. ?status~=error should include volumes in statuses error,\nerror_deleting, error_backing-up, error_restoring, and error_extending\n(and error_managing), but NOT include volumes with status\nerror_managing_deleting. ?status~=creating should include volumes with\n(internal) status \'managing\'. ?status~=deleting (I think) probably works\nas expected. I think the ""like"" operator is handled in the DB layer\nright now.\n\nCloses-Bug:#1877028\nCloses-Bug:#1885961\n\nChange-Id: I2d4f4e522e4a1b655858cdc041c207bbcade11f4\n'}]",5,725778,6b184f019f31952f72ede5dc340b020c98c5cc1e,74,33,3,30407,,,0,"Query error state volumes should contain error_managing state

When we fail to manage a volume, we use cinder list to view the volume
list, or use cinder show to view the volume details, We can see that the
volume state is error.
But when we filter the list of volumes by specifying the status as
error,We found that there were no manage failed volumes in the
screening results,this will confuse the user.
so what needs to be fixed?

(A) when a user filters on status=error, volumes in (internal) status
error_managing should also be included
(B) when a user filters on status=creating, volumes in (internal) status
managing should also be included
(C) when a user filters on status=deleting, volumes in (internal) status
error_managing_deleting should also be included
(D) when a user filters on any status that's not in the official list,
they should get an empty list of volumes (need to verify that's the
current behavior, but I'm pretty sure that if you GET
/v3/v3/{project_id}/volumes/detail?status=not-a-status you get the
response { ""volumes"": [] }, not a 400). Currently we rely on the
database for this, but we may need to handle it in the REST API layer.
(E) fixing the ""like"" operator from microversion 3.34 is going to be
tricky. ?status~=error should include volumes in statuses error,
error_deleting, error_backing-up, error_restoring, and error_extending
(and error_managing), but NOT include volumes with status
error_managing_deleting. ?status~=creating should include volumes with
(internal) status 'managing'. ?status~=deleting (I think) probably works
as expected. I think the ""like"" operator is handled in the DB layer
right now.

Closes-Bug:#1877028
Closes-Bug:#1885961

Change-Id: I2d4f4e522e4a1b655858cdc041c207bbcade11f4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/78/725778/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/db/sqlalchemy/api.py'],1,65f7b8b2990e39a35f291c18160a5a119a931cf3,bug/1877028," elif key == 'status' and value == 'error': # (haixin)the function of get_volume_status in api layer, it # change error_managing to error for API compatibility, so we # need to include error_managing here. query = query.filter(or_(models.Volume.status == 'error', models.Volume.status == 'error_managing')) elif key == 'status' and value == 'creating': query = query.filter(or_(models.Volume.status == 'creating', models.Volume.status == 'managing')) elif key == 'status' and value == 'deleting': query = query.filter(or_( models.Volume.status == 'deleting', models.Volume.status == 'error_managing_deleting'))",,13,0
openstack%2Fopenstack-helm~master~I66681c8556a289b57b9c7d7ca10d9819dd9298a2,openstack/openstack-helm,master,I66681c8556a289b57b9c7d7ca10d9819dd9298a2,[dnm],ABANDONED,2020-07-09 01:24:29.000000000,2020-07-09 03:20:28.000000000,,[],"[{'number': 1, 'created': '2020-07-09 01:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/81f4b5fcac58eab8e63ddbfa8f7c8ee26b5cd835', 'message': 'test tls on 8GB\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I66681c8556a289b57b9c7d7ca10d9819dd9298a2\n'}, {'number': 2, 'created': '2020-07-09 01:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ad67108e71d9788130fde52e45ac7e2bc41119a', 'message': 'test tls on 8GB\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I66681c8556a289b57b9c7d7ca10d9819dd9298a2\n'}, {'number': 3, 'created': '2020-07-09 03:20:21.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'neutron/templates/job-ks-user.yaml', 'nova/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-user.yaml', 'horizon/templates/ingress-api.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'cinder/templates/job-bootstrap.yaml', 'placement/templates/job-ks-service.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'heat/templates/ingress-cfn.yaml', 'placement/templates/job-ks-endpoints.yaml', 'nova/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'nova/templates/deployment-conductor.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'nova/templates/job-bootstrap.yaml', 'nova/templates/pod-rally-test.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'heat/templates/job-bootstrap.yaml', 'heat/templates/ingress-api.yaml', 'glance/templates/bin/_nginx.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'keystone/templates/deployment-api.yaml', 'placement/values.yaml', 'neutron/templates/pod-rally-test.yaml', 'cinder/templates/certificates.yaml', 'horizon/templates/certificates.yaml', 'placement/templates/ingress.yaml', 'heat/templates/job-ks-service.yaml', 'nova/templates/cron-job-service-cleaner.yaml', 'nova/templates/deployment-api-metadata.yaml', 'neutron/values_overrides/train-ubuntu_bionic.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'tools/deployment/component/horizon/horizon.sh', 'cinder/templates/job-ks-endpoints.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/certificates.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/values_overrides/tls.yaml', 'keystone/templates/pod-rally-test.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/templates/deployment-novncproxy.yaml', 'tools/scripts/tls/cert-manager.sh', 'glance/templates/job-ks-endpoints.yaml', 'tools/deployment/component/heat/heat.sh', 'keystone/values_overrides/tls.yaml', 'heat/templates/deployment-engine.yaml', 'glance/templates/job-ks-user.yaml', 'neutron/values_overrides/tls.yaml', 'placement/templates/job-ks-user.yaml', 'heat/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'nova/templates/ingress-osapi.yaml', 'cinder/templates/pod-rally-test.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/job-ks-user-trustee.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/ingress-metadata.yaml', 'heat/templates/job-ks-user-domain.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'placement/templates/certificates.yaml', 'glance/templates/job-bootstrap.yaml', 'cinder/templates/ingress-api.yaml', 'heat/templates/certificates.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'nova/templates/deployment-scheduler.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'tools/deployment/component/keystone/keystone.sh', 'keystone/templates/ingress-api.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'glance/values_overrides/tls.yaml', 'neutron/templates/ingress-server.yaml', 'nova/templates/ingress-novncproxy.yaml', 'nova/templates/job-cell-setup.yaml', 'glance/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-service.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'nova/templates/bin/_nova-api.sh.tpl', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/ingress-api.yaml', 'cinder/templates/deployment-volume.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/deployment-api-osapi.yaml', 'glance/values.yaml', 'heat/values_overrides/tls.yaml', 'neutron/templates/job-bootstrap.yaml', 'placement/templates/bin/_placement-api.sh.tpl', 'cinder/templates/job-ks-user.yaml', 'glance/templates/job-ks-service.yaml', 'nova/templates/job-ks-endpoints.yaml', 'glance/templates/configmap-bin.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'nova/templates/ingress-placement.yaml', 'heat/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-user.yaml', 'nova/templates/deployment-placement.yaml', 'glance/templates/certificates.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/values_overrides/tls.yaml', 'heat/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl', 'neutron/templates/job-ks-endpoints.yaml', 'zuul.d/project.yaml', 'tools/deployment/common/setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3dc6fbd77722d2e75037299096f58f47915d791f', 'message': '[dnm]\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I66681c8556a289b57b9c7d7ca10d9819dd9298a2\n'}]",0,740141,3dc6fbd77722d2e75037299096f58f47915d791f,4,0,3,8863,,,0,"[dnm]

Depends-on: https://review.opendev.org/#/c/737194/
Change-Id: I66681c8556a289b57b9c7d7ca10d9819dd9298a2
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/41/740141/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'neutron/templates/job-ks-user.yaml', 'nova/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-user.yaml', 'horizon/templates/ingress-api.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'cinder/templates/job-bootstrap.yaml', 'placement/templates/job-ks-service.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'heat/templates/ingress-cfn.yaml', 'placement/templates/job-ks-endpoints.yaml', 'nova/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'nova/templates/deployment-conductor.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'nova/templates/job-bootstrap.yaml', 'nova/templates/pod-rally-test.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'heat/templates/job-bootstrap.yaml', 'heat/templates/ingress-api.yaml', 'glance/templates/bin/_nginx.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'keystone/templates/deployment-api.yaml', 'placement/values.yaml', 'neutron/templates/pod-rally-test.yaml', 'cinder/templates/certificates.yaml', 'horizon/templates/certificates.yaml', 'placement/templates/ingress.yaml', 'heat/templates/job-ks-service.yaml', 'nova/templates/cron-job-service-cleaner.yaml', 'nova/templates/deployment-api-metadata.yaml', 'neutron/values_overrides/train-ubuntu_bionic.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'tools/deployment/component/horizon/horizon.sh', 'cinder/templates/job-ks-endpoints.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/certificates.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/values_overrides/tls.yaml', 'keystone/templates/pod-rally-test.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/templates/deployment-novncproxy.yaml', 'tools/scripts/tls/cert-manager.sh', 'glance/templates/job-ks-endpoints.yaml', 'tools/deployment/component/heat/heat.sh', 'keystone/values_overrides/tls.yaml', 'heat/templates/deployment-engine.yaml', 'glance/templates/job-ks-user.yaml', 'neutron/values_overrides/tls.yaml', 'placement/templates/job-ks-user.yaml', 'heat/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'nova/templates/ingress-osapi.yaml', 'cinder/templates/pod-rally-test.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/job-ks-user-trustee.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/ingress-metadata.yaml', 'heat/templates/job-ks-user-domain.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'placement/templates/certificates.yaml', 'glance/templates/job-bootstrap.yaml', 'cinder/templates/ingress-api.yaml', 'heat/templates/certificates.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'nova/templates/deployment-scheduler.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'tools/deployment/component/keystone/keystone.sh', 'keystone/templates/ingress-api.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'glance/values_overrides/tls.yaml', 'neutron/templates/ingress-server.yaml', 'nova/templates/ingress-novncproxy.yaml', 'nova/templates/job-cell-setup.yaml', 'glance/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-service.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'nova/templates/bin/_nova-api.sh.tpl', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/ingress-api.yaml', 'cinder/templates/deployment-volume.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/deployment-api-osapi.yaml', 'glance/values.yaml', 'heat/values_overrides/tls.yaml', 'neutron/templates/job-bootstrap.yaml', 'placement/templates/bin/_placement-api.sh.tpl', 'cinder/templates/job-ks-user.yaml', 'glance/templates/job-ks-service.yaml', 'nova/templates/job-ks-endpoints.yaml', 'glance/templates/configmap-bin.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'nova/templates/ingress-placement.yaml', 'heat/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-user.yaml', 'nova/templates/deployment-placement.yaml', 'glance/templates/certificates.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/values_overrides/tls.yaml', 'heat/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl', 'neutron/templates/job-ks-endpoints.yaml', 'zuul.d/project.yaml', 'tools/deployment/common/setup-client.sh']",123,81f4b5fcac58eab8e63ddbfa8f7c8ee26b5cd835,,"FEATURE_GATE=""tls""; if [[ ${FEATURE_GATES//,/ } =~ (^|[[:space:]])${FEATURE_GATE}($|[[:space:]]) ]]; then tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 cacert: /etc/openstack-helm/certs/ca/ca.pem auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'https://keystone.openstack.svc.cluster.local/v3'else tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'http://keystone.openstack.svc.cluster.local/v3' EOF fi",tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'http://keystone.openstack.svc.cluster.local/v3',2264,63
openstack%2Fopenstack-helm-infra~master~I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44,openstack/openstack-helm-infra,master,I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44,[dnm],ABANDONED,2020-07-09 01:35:32.000000000,2020-07-09 03:19:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 01:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dcd7ead2984de1d962cf5ca35bd931cef6b2b768', 'message': 'Decrease memory request to fit 8Gi node\n\nChange-Id: I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-09 01:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e4e032979b41b1fc7f70d3fa61969e2fc279ef8b', 'message': 'Decrease memory request to fit 8Gi node\n\nChange-Id: I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-09 03:19:15.000000000', 'files': ['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elasticsearch/values.yaml', 'mongodb/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'kafka/values.yaml', 'libvirt/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'openvswitch/values.yaml', 'metacontroller/values.yaml', 'daemonjob-controller/values.yaml', 'grafana/values.yaml', 'kubernetes-node-problem-detector/values.yaml', 'memcached/values.yaml', 'nagios/values.yaml', 'powerdns/values.yaml', 'registry/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'postgresql/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'falco/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'zookeeper/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/98bf63e87865b7f755a41f81e49c2642402f59bc', 'message': '[dnm]\n\nChange-Id: I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44\n'}]",0,740143,98bf63e87865b7f755a41f81e49c2642402f59bc,5,1,3,8863,,,0,"[dnm]

Change-Id: I4f70cc4fa8aa75a5dbd3fad92b2c9bda610c4c44
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/43/740143/2 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-openstack-exporter/values.yaml', 'ceph-osd/values.yaml', 'elasticsearch/values.yaml', 'mongodb/values.yaml', 'prometheus-process-exporter/values.yaml', 'ceph-rgw/values.yaml', 'kafka/values.yaml', 'libvirt/values.yaml', 'etcd/values.yaml', 'gnocchi/values.yaml', 'flannel/values.yaml', 'ldap/values.yaml', 'prometheus-alertmanager/values.yaml', 'kubernetes-keystone-webhook/values.yaml', 'rabbitmq/values.yaml', 'ceph-mon/values.yaml', 'openvswitch/values.yaml', 'metacontroller/values.yaml', 'daemonjob-controller/values.yaml', 'grafana/values.yaml', 'kubernetes-node-problem-detector/values.yaml', 'memcached/values.yaml', 'nagios/values.yaml', 'powerdns/values.yaml', 'registry/values.yaml', 'ceph-client/values.yaml', 'mariadb/values.yaml', 'nfs-provisioner/values.yaml', 'postgresql/values.yaml', 'prometheus/values.yaml', 'redis/values.yaml', 'calico/values.yaml', 'falco/values.yaml', 'ceph-provisioners/values.yaml', 'kube-dns/values.yaml', 'prometheus-kube-state-metrics/values.yaml', 'prometheus-node-exporter/values.yaml', 'tiller/values.yaml', 'zookeeper/values.yaml', 'ingress/values.yaml', 'kibana/values.yaml']",41,dcd7ead2984de1d962cf5ca35bd931cef6b2b768,," memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"""," memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi""",144,144
openstack%2Fopenstack-helm~master~I2cfa6d71b196c7562dab5918c6c192b6620c973c,openstack/openstack-helm,master,I2cfa6d71b196c7562dab5918c6c192b6620c973c,[dnm],ABANDONED,2020-07-09 01:18:19.000000000,2020-07-09 03:18:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 01:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/73e87e98fe324989b419b10fade901328b5b10fd', 'message': 'Revert ""Switch compute-kit jobs to 32GB nodes""\n\nTemporarily revert back to 8Gi node until zuul NODE_FAILURE issues are\nresolved.\n\nThis reverts commit 81884d8a60c1d17b53a275e131ab9ab43839a3f3.\n\nChange-Id: I2cfa6d71b196c7562dab5918c6c192b6620c973c\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-09 01:53:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4c6978f4225a81e689bd8f34ef8d97194d1dca81', 'message': 'Revert ""Switch compute-kit jobs to 32GB nodes""\n\nTemporarily revert back to 8Gi node until zuul NODE_FAILURE issues are\nresolved.\n\nThis reverts commit 81884d8a60c1d17b53a275e131ab9ab43839a3f3.\n\nChange-Id: I2cfa6d71b196c7562dab5918c6c192b6620c973c\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-09 03:18:19.000000000', 'files': ['zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d3fa30591f115fadbb721d26eaf0569786e9a3c5', 'message': '[dnm]\n\nChange-Id: I2cfa6d71b196c7562dab5918c6c192b6620c973c\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740140,d3fa30591f115fadbb721d26eaf0569786e9a3c5,5,1,3,8863,,,0,"[dnm]

Change-Id: I2cfa6d71b196c7562dab5918c6c192b6620c973c
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/40/740140/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs-openstack-helm.yaml'],1,73e87e98fe324989b419b10fade901328b5b10fd,,, nodeset: openstack-helm-single-32GB-node,0,1
openstack%2Fopenstack-helm~master~Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a,openstack/openstack-helm,master,Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a,[dnm],ABANDONED,2020-07-09 01:36:51.000000000,2020-07-09 03:17:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-09 01:36:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ad6d8098b531a67e2e1f868c97a45415045d1b17', 'message': 'Decrease memory requests to fit 8Gi node\n\nDepends-On: https://review.opendev.org/#/c/740143/\nChange-Id: Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-09 01:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9b7a572df94c927521a12f0b812e425b802c50c', 'message': 'Decrease memory requests to fit 8Gi node\n\nDepends-On: https://review.opendev.org/#/c/740143/\nChange-Id: Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-09 03:17:49.000000000', 'files': ['mistral/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'glance/values.yaml', 'octavia/values.yaml', 'horizon/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'placement/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'panko/values.yaml', 'senlin/values.yaml', 'rally/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/82c43bdf5cd847821a3a3e8c3ff4af6c9b0972e0', 'message': '[dnm]\n\nChange-Id: Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740144,82c43bdf5cd847821a3a3e8c3ff4af6c9b0972e0,5,1,3,8863,,,0,"[dnm]

Change-Id: Ib0e28e3157a1aa09a49e62fc01e6dcb3d0d65c0a
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/44/740144/3 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'barbican/values.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'glance/values.yaml', 'octavia/values.yaml', 'horizon/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'placement/values.yaml', 'nova/values.yaml', 'tempest/values.yaml', 'ironic/values.yaml', 'keystone/values.yaml', 'neutron/values.yaml', 'panko/values.yaml', 'senlin/values.yaml', 'rally/values.yaml']",20,ad6d8098b531a67e2e1f868c97a45415045d1b17,," memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"" memory: ""112Mi"""," memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi"" memory: ""128Mi""",255,255
openstack%2Fopenstack-helm~master~I102847dfec5417bbe099f2734fb7923c1dffc349,openstack/openstack-helm,master,I102847dfec5417bbe099f2734fb7923c1dffc349,[dnm],ABANDONED,2020-07-09 01:37:56.000000000,2020-07-09 03:17:20.000000000,,[],"[{'number': 1, 'created': '2020-07-09 01:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/46d7b9f65e7d62f4b0a41fa601a723c3756214c3', 'message': 'test tls on 8GB with reduced memory request\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I102847dfec5417bbe099f2734fb7923c1dffc349\n'}, {'number': 2, 'created': '2020-07-09 01:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9862643bec2a1a6d396ca8bc9ec554959edb4d74', 'message': 'test tls on 8GB with reduced memory request\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I102847dfec5417bbe099f2734fb7923c1dffc349\n'}, {'number': 3, 'created': '2020-07-09 03:17:16.000000000', 'files': ['glance/templates/deployment-registry.yaml', 'neutron/templates/job-ks-user.yaml', 'nova/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-user.yaml', 'horizon/templates/ingress-api.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'cinder/templates/job-bootstrap.yaml', 'placement/templates/job-ks-service.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'heat/templates/ingress-cfn.yaml', 'placement/templates/job-ks-endpoints.yaml', 'nova/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'nova/templates/deployment-conductor.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'nova/templates/job-bootstrap.yaml', 'nova/templates/pod-rally-test.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'heat/templates/job-bootstrap.yaml', 'heat/templates/ingress-api.yaml', 'glance/templates/bin/_nginx.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'keystone/templates/deployment-api.yaml', 'placement/values.yaml', 'neutron/templates/pod-rally-test.yaml', 'cinder/templates/certificates.yaml', 'horizon/templates/certificates.yaml', 'placement/templates/ingress.yaml', 'heat/templates/job-ks-service.yaml', 'nova/templates/cron-job-service-cleaner.yaml', 'nova/templates/deployment-api-metadata.yaml', 'neutron/values_overrides/train-ubuntu_bionic.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'tools/deployment/component/horizon/horizon.sh', 'cinder/templates/job-ks-endpoints.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/certificates.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/values_overrides/tls.yaml', 'keystone/templates/pod-rally-test.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/templates/deployment-novncproxy.yaml', 'tools/scripts/tls/cert-manager.sh', 'glance/templates/job-ks-endpoints.yaml', 'tools/deployment/component/heat/heat.sh', 'keystone/values_overrides/tls.yaml', 'heat/templates/deployment-engine.yaml', 'glance/templates/job-ks-user.yaml', 'neutron/values_overrides/tls.yaml', 'placement/templates/job-ks-user.yaml', 'heat/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'nova/templates/ingress-osapi.yaml', 'cinder/templates/pod-rally-test.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/job-ks-user-trustee.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/ingress-metadata.yaml', 'heat/templates/job-ks-user-domain.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'placement/templates/certificates.yaml', 'glance/templates/job-bootstrap.yaml', 'cinder/templates/ingress-api.yaml', 'heat/templates/certificates.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'nova/templates/deployment-scheduler.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'tools/deployment/component/keystone/keystone.sh', 'keystone/templates/ingress-api.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'glance/values_overrides/tls.yaml', 'neutron/templates/ingress-server.yaml', 'nova/templates/ingress-novncproxy.yaml', 'nova/templates/job-cell-setup.yaml', 'glance/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-service.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'nova/templates/bin/_nova-api.sh.tpl', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/ingress-api.yaml', 'cinder/templates/deployment-volume.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/deployment-api-osapi.yaml', 'glance/values.yaml', 'heat/values_overrides/tls.yaml', 'neutron/templates/job-bootstrap.yaml', 'placement/templates/bin/_placement-api.sh.tpl', 'cinder/templates/job-ks-user.yaml', 'glance/templates/job-ks-service.yaml', 'nova/templates/job-ks-endpoints.yaml', 'glance/templates/configmap-bin.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'nova/templates/ingress-placement.yaml', 'heat/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-user.yaml', 'nova/templates/deployment-placement.yaml', 'glance/templates/certificates.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/values_overrides/tls.yaml', 'heat/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl', 'neutron/templates/job-ks-endpoints.yaml', 'zuul.d/project.yaml', 'tools/deployment/common/setup-client.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ed494e12b6626abd52233500f05a34e9596d447', 'message': '[dnm]\n\nDepends-on: https://review.opendev.org/#/c/737194/\nChange-Id: I102847dfec5417bbe099f2734fb7923c1dffc349\n'}]",0,740145,3ed494e12b6626abd52233500f05a34e9596d447,4,0,3,8863,,,0,"[dnm]

Depends-on: https://review.opendev.org/#/c/737194/
Change-Id: I102847dfec5417bbe099f2734fb7923c1dffc349
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/45/740145/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-registry.yaml', 'neutron/templates/job-ks-user.yaml', 'nova/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-user.yaml', 'horizon/templates/ingress-api.yaml', 'cinder/templates/deployment-api.yaml', 'placement/templates/deployment.yaml', 'horizon/values.yaml', 'cinder/templates/job-bootstrap.yaml', 'placement/templates/job-ks-service.yaml', 'heat/templates/configmap-etc.yaml', 'keystone/values.yaml', 'glance/templates/deployment-api.yaml', 'neutron/templates/daemonset-metadata-agent.yaml', 'heat/templates/ingress-cfn.yaml', 'placement/templates/job-ks-endpoints.yaml', 'nova/values_overrides/tls.yaml', 'horizon/values_overrides/tls.yaml', 'nova/templates/deployment-conductor.yaml', 'heat/templates/bin/_heat-cfn.sh.tpl', 'nova/templates/job-bootstrap.yaml', 'nova/templates/pod-rally-test.yaml', 'nova/templates/job-ks-service.yaml', 'nova/templates/deployment-spiceproxy.yaml', 'heat/templates/job-bootstrap.yaml', 'heat/templates/ingress-api.yaml', 'glance/templates/bin/_nginx.sh.tpl', 'neutron/templates/configmap-bin.yaml', 'keystone/templates/deployment-api.yaml', 'placement/values.yaml', 'neutron/templates/pod-rally-test.yaml', 'cinder/templates/certificates.yaml', 'horizon/templates/certificates.yaml', 'placement/templates/ingress.yaml', 'heat/templates/job-ks-service.yaml', 'nova/templates/cron-job-service-cleaner.yaml', 'nova/templates/deployment-api-metadata.yaml', 'neutron/values_overrides/train-ubuntu_bionic.yaml', 'neutron/templates/deployment-server.yaml', 'cinder/templates/configmap-etc.yaml', 'tools/deployment/component/horizon/horizon.sh', 'cinder/templates/job-ks-endpoints.yaml', 'nova/templates/bin/_nova-placement-api.sh.tpl', 'nova/templates/certificates.yaml', 'cinder/templates/bin/_cinder-api.sh.tpl', 'cinder/values_overrides/tls.yaml', 'keystone/templates/pod-rally-test.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'nova/templates/deployment-novncproxy.yaml', 'tools/scripts/tls/cert-manager.sh', 'glance/templates/job-ks-endpoints.yaml', 'tools/deployment/component/heat/heat.sh', 'keystone/values_overrides/tls.yaml', 'heat/templates/deployment-engine.yaml', 'glance/templates/job-ks-user.yaml', 'neutron/values_overrides/tls.yaml', 'placement/templates/job-ks-user.yaml', 'heat/templates/job-ks-user.yaml', 'cinder/templates/job-ks-service.yaml', 'nova/templates/ingress-osapi.yaml', 'cinder/templates/pod-rally-test.yaml', 'heat/templates/bin/_heat-api.sh.tpl', 'heat/templates/job-ks-user-trustee.yaml', 'neutron/values.yaml', 'nova/templates/daemonset-compute.yaml', 'nova/templates/ingress-metadata.yaml', 'heat/templates/job-ks-user-domain.yaml', 'keystone/templates/bin/_keystone-api.sh.tpl', 'placement/templates/certificates.yaml', 'glance/templates/job-bootstrap.yaml', 'cinder/templates/ingress-api.yaml', 'heat/templates/certificates.yaml', 'keystone/templates/job-bootstrap.yaml', 'keystone/templates/certificates.yaml', 'heat/templates/deployment-cfn.yaml', 'heat/templates/job-trusts.yaml', 'nova/templates/deployment-scheduler.yaml', 'cinder/templates/job-create-internal-tenant.yaml', 'neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'horizon/templates/deployment.yaml', 'nova/templates/bin/_nova-api-metadata.sh.tpl', 'tools/deployment/component/keystone/keystone.sh', 'keystone/templates/ingress-api.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'glance/values_overrides/tls.yaml', 'neutron/templates/ingress-server.yaml', 'nova/templates/ingress-novncproxy.yaml', 'nova/templates/job-cell-setup.yaml', 'glance/templates/configmap-etc.yaml', 'nova/templates/job-ks-placement-service.yaml', 'neutron/templates/job-ks-service.yaml', 'neutron/templates/certificates.yaml', 'nova/templates/bin/_nova-api.sh.tpl', 'heat/templates/pod-rally-test.yaml', 'nova/values.yaml', 'glance/templates/ingress-registry.yaml', 'glance/templates/ingress-api.yaml', 'cinder/templates/deployment-volume.yaml', 'nova/templates/job-ks-placement-endpoints.yaml', 'nova/templates/deployment-api-osapi.yaml', 'glance/values.yaml', 'heat/values_overrides/tls.yaml', 'neutron/templates/job-bootstrap.yaml', 'placement/templates/bin/_placement-api.sh.tpl', 'cinder/templates/job-ks-user.yaml', 'glance/templates/job-ks-service.yaml', 'nova/templates/job-ks-endpoints.yaml', 'glance/templates/configmap-bin.yaml', 'neutron/templates/configmap-etc.yaml', 'heat/values.yaml', 'cinder/values.yaml', 'nova/templates/ingress-placement.yaml', 'heat/templates/job-ks-endpoints.yaml', 'nova/templates/job-ks-user.yaml', 'nova/templates/deployment-placement.yaml', 'glance/templates/certificates.yaml', 'placement/templates/job-db-migrate.yaml', 'placement/values_overrides/tls.yaml', 'heat/templates/deployment-api.yaml', 'neutron/templates/bin/_neutron-rpc-server.sh.tpl', 'neutron/templates/job-ks-endpoints.yaml', 'zuul.d/project.yaml', 'tools/deployment/common/setup-client.sh']",123,46d7b9f65e7d62f4b0a41fa601a723c3756214c3,,"FEATURE_GATE=""tls""; if [[ ${FEATURE_GATES//,/ } =~ (^|[[:space:]])${FEATURE_GATE}($|[[:space:]]) ]]; then tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 cacert: /etc/openstack-helm/certs/ca/ca.pem auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'https://keystone.openstack.svc.cluster.local/v3'else tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'http://keystone.openstack.svc.cluster.local/v3' EOF fi",tee /etc/openstack/clouds.yaml << EOF clouds: openstack_helm: region_name: RegionOne identity_api_version: 3 auth: username: 'admin' password: 'password' project_name: 'admin' project_domain_name: 'default' user_domain_name: 'default' auth_url: 'http://keystone.openstack.svc.cluster.local/v3',2264,63
openstack%2Fdesignate~master~I59926bc1c116ec6fa0aef270a18001d27dfd3bb3,openstack/designate,master,I59926bc1c116ec6fa0aef270a18001d27dfd3bb3,Use unittest.mock instead of mock,MERGED,2020-06-08 22:07:38.000000000,2020-07-09 02:21:33.000000000,2020-07-09 02:20:04.000000000,"[{'_account_id': 6469}, {'_account_id': 6994}, {'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-08 22:07:38.000000000', 'files': ['designate/tests/test_quota/test_quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/2dd101a3af92b357cf54f3f6983db293fea60934', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I59926bc1c116ec6fa0aef270a18001d27dfd3bb3\n'}]",0,734329,2dd101a3af92b357cf54f3f6983db293fea60934,15,5,1,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I59926bc1c116ec6fa0aef270a18001d27dfd3bb3
",git fetch https://review.opendev.org/openstack/designate refs/changes/29/734329/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_quota/test_quota.py'],1,2dd101a3af92b357cf54f3f6983db293fea60934,drop_mock,from unittest import mock,import mock,1,1
openstack%2Fironic-lib~stable%2Ftrain~I874783b8ece0eedf27a94dfed5163d0c82f8b9de,openstack/ironic-lib,stable/train,I874783b8ece0eedf27a94dfed5163d0c82f8b9de,Implement Basic HTTP authentication middleware,ABANDONED,2020-07-05 21:27:36.000000000,2020-07-09 02:02:58.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 21:27:36.000000000', 'files': ['releasenotes/notes/basic-auth-middleware-e5af29651b2d7979.yaml', 'requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'lower-constraints.txt', 'ironic_lib/tests/test_basic_auth.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/65eae3a8a810240bc73e2a2d52bc4c8c6fd6233a', 'message': 'Implement Basic HTTP authentication middleware\n\nThis middleware is added to ironic-lib so that it can eventually be\nused by ironic and ironic-inspector as an alternative to noauth in\nstandalone environments.\n\nThis middleware is passed a path to a file which supports the\nApache htpasswd syntax[1]. This file is read for every request, so no\nservice restart is required when changes are made.\n\nThe only password digest supported is bcrypt, and the ``bcrypt``\npython library is used for password checks since it supports ``$2y$``\nprefixed bcrypt passwords as generated by the Apache htpasswd utility.\n\n[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html\n\nChange-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de\nStory: 2007656\nTask: 39740\n(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)\n'}]",0,739375,65eae3a8a810240bc73e2a2d52bc4c8c6fd6233a,4,2,1,4571,,,0,"Implement Basic HTTP authentication middleware

This middleware is added to ironic-lib so that it can eventually be
used by ironic and ironic-inspector as an alternative to noauth in
standalone environments.

This middleware is passed a path to a file which supports the
Apache htpasswd syntax[1]. This file is read for every request, so no
service restart is required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html

Change-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de
Story: 2007656
Task: 39740
(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/75/739375/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/basic-auth-middleware-e5af29651b2d7979.yaml', 'requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'lower-constraints.txt', 'ironic_lib/tests/test_basic_auth.py']",6,65eae3a8a810240bc73e2a2d52bc4c8c6fd6233a,train-basic-auth,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import base64 import os import tempfile import mock from ironic_lib import auth_basic from ironic_lib import exception from ironic_lib.tests import base class TestAuthBasic(base.IronicLibTestCase): def write_auth_file(self, data=None): if not data: data = '\n' with tempfile.NamedTemporaryFile(mode='w', delete=False) as f: f.write(data) self.addCleanup(os.remove, f.name) return f.name def test_middleware_authenticate(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') app = mock.Mock() start_response = mock.Mock() middleware = auth_basic.BasicAuthMiddleware(app, auth_file) env = { 'HTTP_AUTHORIZATION': 'Basic bXlOYW1lOm15UGFzc3dvcmQ=' } result = middleware(env, start_response) self.assertEqual(app.return_value, result) start_response.assert_not_called() def test_middleware_unauthenticated(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') app = mock.Mock() start_response = mock.Mock() middleware = auth_basic.BasicAuthMiddleware(app, auth_file) env = {} middleware(env, start_response) start_response.assert_called_once_with( '401 Authorization required', [('WWW-Authenticate', 'Basic realm=""Baremetal API""')] ) app.assert_not_called() def test_authenticate(self): auth_file = self.write_auth_file( 'foo:bar\nmyName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') # test basic auth self.assertEqual( {'HTTP_X_USER': 'myName', 'HTTP_X_USER_NAME': 'myName'}, auth_basic.authenticate( auth_file, 'myName', b'myPassword') ) # test failed auth e = self.assertRaises(exception.ConfigInvalid, auth_basic.authenticate, auth_file, 'foo', b'bar') self.assertEqual('Invalid configuration file. Only bcrypt digested ' 'passwords are supported for foo', str(e)) # test problem reading user data file auth_file = auth_file + '.missing' e = self.assertRaises(exception.ConfigInvalid, auth_basic.authenticate, auth_file, 'myName', b'myPassword') self.assertEqual('Invalid configuration file. Problem reading ' 'auth user file', str(e)) def test_auth_entry(self): entry_pass = ('myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm') entry_fail = 'foo:bar' # success self.assertEqual( {'HTTP_X_USER': 'myName', 'HTTP_X_USER_NAME': 'myName'}, auth_basic.auth_entry( entry_pass, b'myPassword') ) # failed, unknown digest format e = self.assertRaises(exception.ConfigInvalid, auth_basic.auth_entry, entry_fail, b'bar') self.assertEqual('Invalid configuration file. Only bcrypt digested ' 'passwords are supported for foo', str(e)) # failed, incorrect password e = self.assertRaises(exception.Unauthorized, auth_basic.auth_entry, entry_pass, b'bar') self.assertEqual('Incorrect username or password', str(e)) def test_validate_auth_file(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') # success, valid config auth_basic.validate_auth_file(auth_file) # failed, missing auth file auth_file = auth_file + '.missing' self.assertRaises(exception.ConfigInvalid, auth_basic.validate_auth_file, auth_file) # failed, invalid entry auth_file = self.write_auth_file( 'foo:bar\nmyName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') self.assertRaises(exception.ConfigInvalid, auth_basic.validate_auth_file, auth_file) def test_parse_token(self): # success with bytes token = base64.b64encode(b'myName:myPassword') self.assertEqual( ('myName', b'myPassword'), auth_basic.parse_token(token) ) # success with string token = str(token, encoding='utf-8') self.assertEqual( ('myName', b'myPassword'), auth_basic.parse_token(token) ) # failed, invalid base64 e = self.assertRaises(exception.BadRequest, auth_basic.parse_token, token[:-1]) self.assertEqual('Could not decode authorization token', str(e)) # failed, no colon in token token = str(base64.b64encode(b'myNamemyPassword'), encoding='utf-8') e = self.assertRaises(exception.BadRequest, auth_basic.parse_token, token[:-1]) self.assertEqual('Could not decode authorization token', str(e)) def test_parse_header(self): auth_value = 'Basic bXlOYW1lOm15UGFzc3dvcmQ=' # success self.assertEqual( 'bXlOYW1lOm15UGFzc3dvcmQ=', auth_basic.parse_header({ 'HTTP_AUTHORIZATION': auth_value }) ) # failed, missing Authorization header e = self.assertRaises(exception.Unauthorized, auth_basic.parse_header, {}) self.assertEqual('Authorization required', str(e)) # failed missing token e = self.assertRaises(exception.BadRequest, auth_basic.parse_header, {'HTTP_AUTHORIZATION': 'Basic'}) self.assertEqual('Could not parse Authorization header', str(e)) # failed, type other than Basic digest_value = 'Digest username=""myName"" nonce=""foobar""' e = self.assertRaises(exception.BadRequest, auth_basic.parse_header, {'HTTP_AUTHORIZATION': digest_value}) self.assertEqual('Unsupported authorization type: Digest', str(e)) def test_unauthorized(self): e = self.assertRaises(exception.Unauthorized, auth_basic.unauthorized, 'ouch') self.assertEqual('ouch', str(e)) self.assertEqual({ 'WWW-Authenticate': 'Basic realm=""Baremetal API""' }, e.headers) ",,422,0
openstack%2Fironic-lib~stable%2Fussuri~I874783b8ece0eedf27a94dfed5163d0c82f8b9de,openstack/ironic-lib,stable/ussuri,I874783b8ece0eedf27a94dfed5163d0c82f8b9de,Implement Basic HTTP authentication middleware,ABANDONED,2020-07-05 21:20:34.000000000,2020-07-09 02:02:45.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 21:20:34.000000000', 'files': ['releasenotes/notes/basic-auth-middleware-e5af29651b2d7979.yaml', 'requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'lower-constraints.txt', 'ironic_lib/tests/test_basic_auth.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/25d978b0e06c5a6c7b48181f69b199eac45a4198', 'message': 'Implement Basic HTTP authentication middleware\n\nThis middleware is added to ironic-lib so that it can eventually be\nused by ironic and ironic-inspector as an alternative to noauth in\nstandalone environments.\n\nThis middleware is passed a path to a file which supports the\nApache htpasswd syntax[1]. This file is read for every request, so no\nservice restart is required when changes are made.\n\nThe only password digest supported is bcrypt, and the ``bcrypt``\npython library is used for password checks since it supports ``$2y$``\nprefixed bcrypt passwords as generated by the Apache htpasswd utility.\n\n[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html\n\nChange-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de\nStory: 2007656\nTask: 39740\n(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)\n'}]",0,739374,25d978b0e06c5a6c7b48181f69b199eac45a4198,5,2,1,4571,,,0,"Implement Basic HTTP authentication middleware

This middleware is added to ironic-lib so that it can eventually be
used by ironic and ironic-inspector as an alternative to noauth in
standalone environments.

This middleware is passed a path to a file which supports the
Apache htpasswd syntax[1]. This file is read for every request, so no
service restart is required when changes are made.

The only password digest supported is bcrypt, and the ``bcrypt``
python library is used for password checks since it supports ``$2y$``
prefixed bcrypt passwords as generated by the Apache htpasswd utility.

[1] https://httpd.apache.org/docs/current/misc/password_encryptions.html

Change-Id: I874783b8ece0eedf27a94dfed5163d0c82f8b9de
Story: 2007656
Task: 39740
(cherry picked from commit a9abc5699f0842082177ff2401955214373c08de)
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/74/739374/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/basic-auth-middleware-e5af29651b2d7979.yaml', 'requirements.txt', 'ironic_lib/auth_basic.py', 'ironic_lib/exception.py', 'lower-constraints.txt', 'ironic_lib/tests/test_basic_auth.py']",6,25d978b0e06c5a6c7b48181f69b199eac45a4198,ussuri-basic-auth,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import base64 import os import tempfile import mock from ironic_lib import auth_basic from ironic_lib import exception from ironic_lib.tests import base class TestAuthBasic(base.IronicLibTestCase): def write_auth_file(self, data=None): if not data: data = '\n' with tempfile.NamedTemporaryFile(mode='w', delete=False) as f: f.write(data) self.addCleanup(os.remove, f.name) return f.name def test_middleware_authenticate(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') app = mock.Mock() start_response = mock.Mock() middleware = auth_basic.BasicAuthMiddleware(app, auth_file) env = { 'HTTP_AUTHORIZATION': 'Basic bXlOYW1lOm15UGFzc3dvcmQ=' } result = middleware(env, start_response) self.assertEqual(app.return_value, result) start_response.assert_not_called() def test_middleware_unauthenticated(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') app = mock.Mock() start_response = mock.Mock() middleware = auth_basic.BasicAuthMiddleware(app, auth_file) env = {} middleware(env, start_response) start_response.assert_called_once_with( '401 Authorization required', [('WWW-Authenticate', 'Basic realm=""Baremetal API""')] ) app.assert_not_called() def test_authenticate(self): auth_file = self.write_auth_file( 'foo:bar\nmyName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') # test basic auth self.assertEqual( {'HTTP_X_USER': 'myName', 'HTTP_X_USER_NAME': 'myName'}, auth_basic.authenticate( auth_file, 'myName', b'myPassword') ) # test failed auth e = self.assertRaises(exception.ConfigInvalid, auth_basic.authenticate, auth_file, 'foo', b'bar') self.assertEqual('Invalid configuration file. Only bcrypt digested ' 'passwords are supported for foo', str(e)) # test problem reading user data file auth_file = auth_file + '.missing' e = self.assertRaises(exception.ConfigInvalid, auth_basic.authenticate, auth_file, 'myName', b'myPassword') self.assertEqual('Invalid configuration file. Problem reading ' 'auth user file', str(e)) def test_auth_entry(self): entry_pass = ('myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm') entry_fail = 'foo:bar' # success self.assertEqual( {'HTTP_X_USER': 'myName', 'HTTP_X_USER_NAME': 'myName'}, auth_basic.auth_entry( entry_pass, b'myPassword') ) # failed, unknown digest format e = self.assertRaises(exception.ConfigInvalid, auth_basic.auth_entry, entry_fail, b'bar') self.assertEqual('Invalid configuration file. Only bcrypt digested ' 'passwords are supported for foo', str(e)) # failed, incorrect password e = self.assertRaises(exception.Unauthorized, auth_basic.auth_entry, entry_pass, b'bar') self.assertEqual('Incorrect username or password', str(e)) def test_validate_auth_file(self): auth_file = self.write_auth_file( 'myName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') # success, valid config auth_basic.validate_auth_file(auth_file) # failed, missing auth file auth_file = auth_file + '.missing' self.assertRaises(exception.ConfigInvalid, auth_basic.validate_auth_file, auth_file) # failed, invalid entry auth_file = self.write_auth_file( 'foo:bar\nmyName:$2y$05$lE3eGtyj41jZwrzS87KTqe6.' 'JETVCWBkc32C63UP2aYrGoYOEpbJm\n\n\n') self.assertRaises(exception.ConfigInvalid, auth_basic.validate_auth_file, auth_file) def test_parse_token(self): # success with bytes token = base64.b64encode(b'myName:myPassword') self.assertEqual( ('myName', b'myPassword'), auth_basic.parse_token(token) ) # success with string token = str(token, encoding='utf-8') self.assertEqual( ('myName', b'myPassword'), auth_basic.parse_token(token) ) # failed, invalid base64 e = self.assertRaises(exception.BadRequest, auth_basic.parse_token, token[:-1]) self.assertEqual('Could not decode authorization token', str(e)) # failed, no colon in token token = str(base64.b64encode(b'myNamemyPassword'), encoding='utf-8') e = self.assertRaises(exception.BadRequest, auth_basic.parse_token, token[:-1]) self.assertEqual('Could not decode authorization token', str(e)) def test_parse_header(self): auth_value = 'Basic bXlOYW1lOm15UGFzc3dvcmQ=' # success self.assertEqual( 'bXlOYW1lOm15UGFzc3dvcmQ=', auth_basic.parse_header({ 'HTTP_AUTHORIZATION': auth_value }) ) # failed, missing Authorization header e = self.assertRaises(exception.Unauthorized, auth_basic.parse_header, {}) self.assertEqual('Authorization required', str(e)) # failed missing token e = self.assertRaises(exception.BadRequest, auth_basic.parse_header, {'HTTP_AUTHORIZATION': 'Basic'}) self.assertEqual('Could not parse Authorization header', str(e)) # failed, type other than Basic digest_value = 'Digest username=""myName"" nonce=""foobar""' e = self.assertRaises(exception.BadRequest, auth_basic.parse_header, {'HTTP_AUTHORIZATION': digest_value}) self.assertEqual('Unsupported authorization type: Digest', str(e)) def test_unauthorized(self): e = self.assertRaises(exception.Unauthorized, auth_basic.unauthorized, 'ouch') self.assertEqual('ouch', str(e)) self.assertEqual({ 'WWW-Authenticate': 'Basic realm=""Baremetal API""' }, e.headers) ",,422,0
openstack%2Fpuppet-glance~master~I380868884abe92b35e93c3bf22d877838d0eac55,openstack/puppet-glance,master,I380868884abe92b35e93c3bf22d877838d0eac55,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 02:03:06.000000000,2020-07-09 01:47:45.000000000,2020-07-09 01:46:25.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 02:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e60da009a1b0e9a23ac4e18cd3aab134999462c8', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I380868884abe92b35e93c3bf22d877838d0eac55\n'}, {'number': 2, 'created': '2020-07-08 02:18:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/25b9c1904d517a013e7dbb4c45588ed1f1e9d29e', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I380868884abe92b35e93c3bf22d877838d0eac55\n'}, {'number': 3, 'created': '2020-07-08 02:19:11.000000000', 'files': ['spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-f8d92000874248fd.yaml', 'manifests/api/authtoken.pp', 'manifests/registry/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0b973b4648dd0f5cc74ae70588a1e37f7636a0af', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I380868884abe92b35e93c3bf22d877838d0eac55\n'}]",0,739872,0b973b4648dd0f5cc74ae70588a1e37f7636a0af,16,4,3,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I380868884abe92b35e93c3bf22d877838d0eac55
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/72/739872/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_registry_authtoken_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-f8d92000874248fd.yaml', 'manifests/api/authtoken.pp', 'manifests/registry/authtoken.pp']",5,e60da009a1b0e9a23ac4e18cd3aab134999462c8,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,28,0
openstack%2Fcharm-ceilometer-agent~master~Ica00b89582725480df07fd4ffac7f11c906105c0,openstack/charm-ceilometer-agent,master,Ica00b89582725480df07fd4ffac7f11c906105c0,Pin mongodb charm to 53 for trusty-mitaka,ABANDONED,2020-07-06 19:16:08.000000000,2020-07-09 01:22:22.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 19:16:08.000000000', 'files': ['tests/bundles/trusty-mitaka.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/3068b20cb9031147a70ef530c3e11ff8d3814f74', 'message': 'Pin mongodb charm to 53 for trusty-mitaka\n\nSame as change https://review.opendev.org/739153\n\nChange-Id: Ica00b89582725480df07fd4ffac7f11c906105c0\n'}]",0,739590,3068b20cb9031147a70ef530c3e11ff8d3814f74,7,3,1,14567,,,0,"Pin mongodb charm to 53 for trusty-mitaka

Same as change https://review.opendev.org/739153

Change-Id: Ica00b89582725480df07fd4ffac7f11c906105c0
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/90/739590/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/bundles/trusty-mitaka.yaml'],1,3068b20cb9031147a70ef530c3e11ff8d3814f74,, charm: cs:trusty/mongodb-53, charm: cs:trusty/mongodb,1,1
openstack%2Fkolla-ansible~master~Idfa7feb9157cdf12af9641be10c8eb8478930f15,openstack/kolla-ansible,master,Idfa7feb9157cdf12af9641be10c8eb8478930f15,Manage octavia health manager worker through openstack_service worker,MERGED,2020-07-08 03:36:31.000000000,2020-07-09 00:19:10.000000000,2020-07-08 16:50:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23266}]","[{'number': 1, 'created': '2020-07-08 03:36:31.000000000', 'files': ['ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4', 'message': 'Manage octavia health manager worker through openstack_service worker\n\nChange-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15\nCloses-Bug: #1886747\n'}]",0,739882,1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4,13,4,1,7488,,,0,"Manage octavia health manager worker through openstack_service worker

Change-Id: Idfa7feb9157cdf12af9641be10c8eb8478930f15
Closes-Bug: #1886747
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/739882/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/octavia/templates/octavia.conf.j2'],1,1cba949f84c439c9e9c0f3a46f9273f8ddfcb8f4,,stats_update_threads = {{ openstack_service_workers }} health_update_threads = {{ openstack_service_workers }} ,,3,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,stable/train,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-07-06 19:06:54.000000000,2020-07-08 23:46:40.000000000,2020-07-08 23:46:40.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:06:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/707018c57a2405bf67f7277a2b422b373b170316', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 2, 'created': '2020-07-07 11:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93780a5bcb320674e6a2a31695878bd6b6e84765', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 3, 'created': '2020-07-07 14:17:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/15ed6fdd98659e83c959719fd449bbe163beb24f', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 4, 'created': '2020-07-07 15:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05f356fee13fbd0408acd8b43001392a39ed8c7a', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 5, 'created': '2020-07-07 22:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b52eeed38b1739cf001b4885f7e92bc86b71250d', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 6, 'created': '2020-07-07 22:37:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e41117ecf5546ef597a827e2935694e50f2dcc3', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 7, 'created': '2020-07-08 01:48:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dd125e1102c5a9a424efd14842001394fdb3377', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 8, 'created': '2020-07-08 01:48:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/playbook.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-free.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-fail', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-success', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-linear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1b29ddbd1ee2974f21c06436eff9cace2e8f5be2', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}]",5,739587,1b29ddbd1ee2974f21c06436eff9cace2e8f5be2,28,4,8,3153,,,0,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/739587/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-free.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-fail', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-success', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-linear.yml']",8,707018c57a2405bf67f7277a2b422b373b170316,molecule/train,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Run a first play with tests for the tripleo_linear strategy hosts: all any_errors_fatal: true gather_facts: false strategy: tripleo_linear tasks: - name: Run a task that will fail on one host debug: msg: ""Task running with tripleo_linear strategy with max_fail_percentage set to {{ max_fail_percentage|default('undefined') }}"" failed_when: - ansible_host in ['instance5'] - name: Run a task after a potential failure on a node debug: msg: ""Task running on {{ ansible_host }} after a potential failure"" - name: Run a second play with tests for the tripleo_linear strategy hosts: all any_errors_fatal: true gather_facts: false strategy: tripleo_linear tasks: - name: Run a task on a node debug: msg: ""Task running on {{ ansible_host }}"" ",,211,0
openstack%2Fopenstack-helm-infra~master~I98644981094cb4fb7cc348b80628006ab59cb77f,openstack/openstack-helm-infra,master,I98644981094cb4fb7cc348b80628006ab59cb77f,"[Ceph-OSD] Wait for pods before running ""post-apply"" job.",MERGED,2020-07-07 21:41:32.000000000,2020-07-08 23:46:23.000000000,2020-07-08 23:44:41.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 28372}, {'_account_id': 28664}, {'_account_id': 30317}]","[{'number': 1, 'created': '2020-07-07 21:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca599d208b29072e5048a0380d47251560e63dce', 'message': '[Ceph-OSD] Wait for pods before running ""post-apply"" job.\n\nThe PS updates ""post-apply"" job and adds execution of ""wait_for_pods""\nfunction as the first step of the job.\n\nChange-Id: I98644981094cb4fb7cc348b80628006ab59cb77f\n'}, {'number': 2, 'created': '2020-07-08 19:02:38.000000000', 'files': ['ceph-osd/templates/bin/_post-apply.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ea038c5c85cf797cc5e23dae8d7e4a1036a295a1', 'message': '[Ceph-OSD] Wait for pods before running ""post-apply"" job.\n\nThe PS updates ""post-apply"" job and adds execution of ""wait_for_pods""\nfunction as the first step of the job.\n\nChange-Id: I98644981094cb4fb7cc348b80628006ab59cb77f\n'}]",0,739857,ea038c5c85cf797cc5e23dae8d7e4a1036a295a1,13,6,2,17119,,,0,"[Ceph-OSD] Wait for pods before running ""post-apply"" job.

The PS updates ""post-apply"" job and adds execution of ""wait_for_pods""
function as the first step of the job.

Change-Id: I98644981094cb4fb7cc348b80628006ab59cb77f
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/57/739857/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/_post-apply.sh.tpl'],1,ca599d208b29072e5048a0380d47251560e63dce,,wait_for_pods $CEPH_NAMESPACE ,,2,0
openstack%2Fneutron~master~I7f4366ff5a26f73013433bfbfb299fd06294f359,openstack/neutron,master,I7f4366ff5a26f73013433bfbfb299fd06294f359,Sync the dns-assignment with the actual designate dns-domain,MERGED,2020-05-28 23:22:38.000000000,2020-07-08 23:43:57.000000000,2020-07-08 23:38:32.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16376}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31039}]","[{'number': 1, 'created': '2020-05-28 23:22:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2471ef84f13d90f674079fc6f36f9617f34545d4', 'message': 'Sync the dns-assignment with the actual designate dns-domain\n\nWhen a port is created the dns-assignment (dns-domain part) was always taken\nform Neutron config dns_domain which not always true since it could be neutron\nnetwork dns_domain or the dns_domain sent when creating the port\n\nChange-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359\nCloses-Bug:1873091\n'}, {'number': 2, 'created': '2020-05-28 23:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/edf07de3d20c8163af54cc59adae1e884aba69d5', 'message': 'Sync the dns-assignment with the actual designate dns-domain\n\nWhen a port is created the dns-assignment (dns-domain part)\nwas always taken form Neutron config dns_domain which is not\nalways true, since it could be Neutron network dns_domain or\nthe dns_domain sent when creating the port\n\nChange-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359\nCloses-Bug:1873091\n'}, {'number': 3, 'created': '2020-05-29 17:55:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e4c214b57e9d36428bd6ef6ff4e8951941d5041', 'message': 'Sync the dns-assignment with the actual designate dns-domain\n\nWhen a port is created the dns-assignment (dns-domain part)\nwas always taken form Neutron config dns_domain which is not\nalways true, since it could be Neutron network dns_domain or\nthe dns_domain sent when creating the port\n\nChange-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359\nCloses-Bug:1873091\n'}, {'number': 4, 'created': '2020-06-01 19:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67e89b7d7f37a7084b1a1e18a54d565355ca0580', 'message': 'Sync the dns-assignment with the actual designate dns-domain\n\nWhen a port is created the dns-assignment (dns-domain part)\nwas always taken form Neutron config dns_domain which is not\nalways true, since it could be Neutron network dns_domain or\nthe dns_domain sent when creating the port\n\nChange-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359\nCloses-Bug:1873091\n'}, {'number': 5, 'created': '2020-06-04 20:46:26.000000000', 'files': ['neutron/tests/unit/plugins/ml2/extensions/test_dns_integration.py', 'releasenotes/notes/fix-port-dns-assignment-9d916d77522abd65.yaml', 'neutron/plugins/ml2/extensions/dns_integration.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ea13f2e83f8c2de3def69b6c883a5c161c3a6180', 'message': 'Sync the dns-assignment with the actual designate dns-domain\n\nWhen a port is created the dns-assignment (dns-domain part)\nwas always taken form Neutron config dns_domain which is not\nalways true, since it could be Neutron network dns_domain or\nthe dns_domain sent when creating the port\n\nChange-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359\nCloses-Bug:1873091\n'}]",0,731624,ea13f2e83f8c2de3def69b6c883a5c161c3a6180,47,9,5,31039,,,0,"Sync the dns-assignment with the actual designate dns-domain

When a port is created the dns-assignment (dns-domain part)
was always taken form Neutron config dns_domain which is not
always true, since it could be Neutron network dns_domain or
the dns_domain sent when creating the port

Change-Id: I7f4366ff5a26f73013433bfbfb299fd06294f359
Closes-Bug:1873091
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/731624/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/extensions/dns_integration.py'],1,2471ef84f13d90f674079fc6f36f9617f34545d4,bug/1873091, dns_domain = dns_data_db.current_dns_domain,,1,0
openstack%2Fopenstack-helm-infra~master~I8d1057f242b741fd297eca7475eb3bfb5e383f1c,openstack/openstack-helm-infra,master,I8d1057f242b741fd297eca7475eb3bfb5e383f1c,Add missing security context to elasticsearch pods/containers,MERGED,2020-07-07 01:05:41.000000000,2020-07-08 23:22:02.000000000,2020-07-08 23:20:09.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-07 01:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/29570baf8e644fd7075795513dc1fa6e680b2f7f', 'message': 'Add missing security context to elasticsearch pods/containers\n\nThis updates the elasticsearch chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c\n'}, {'number': 2, 'created': '2020-07-07 01:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/31a9b076ecb55443a998d3934ced65d6f12bf213', 'message': 'Add missing security context to elasticsearch pods/containers\n\nThis updates the elasticsearch chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c\n'}, {'number': 3, 'created': '2020-07-07 01:08:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7adeb25f880788feddfb90459d5804152448b581', 'message': 'Add missing security context to elasticsearch pods/containers\n\nThis updates the elasticsearch chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c\n'}, {'number': 4, 'created': '2020-07-07 01:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/154e5bc38a88c006c7dcfc67fcb4c78112043403', 'message': 'Add missing security context to elasticsearch pods/containers\n\nThis updates the elasticsearch chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c\n'}, {'number': 5, 'created': '2020-07-07 01:09:23.000000000', 'files': ['elasticsearch/templates/job-elasticsearch-template.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'elasticsearch/templates/cron-job-curator.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eec5635f437103c0ac66020ffdfd44e6917c5532', 'message': 'Add missing security context to elasticsearch pods/containers\n\nThis updates the elasticsearch chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c\n'}]",5,739630,eec5635f437103c0ac66020ffdfd44e6917c5532,18,12,5,29161,,,0,"Add missing security context to elasticsearch pods/containers

This updates the elasticsearch chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I8d1057f242b741fd297eca7475eb3bfb5e383f1c
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/30/739630/4 && git format-patch -1 --stdout FETCH_HEAD,"['elasticsearch/templates/job-elasticsearch-template.yaml', 'elasticsearch/values.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'elasticsearch/templates/cron-job-curator.yaml']",4,29570baf8e644fd7075795513dc1fa6e680b2f7f,elastic,"{{ dict ""envAll"" $envAll ""application"" ""curator"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""curator"" ""container"" ""curator"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 14 }}",,23,1
openstack%2Fironic-inspector~bugfix%2F10.2~I38e086290ba880b149fe193692c43483a8a1295a,openstack/ironic-inspector,bugfix/10.2,I38e086290ba880b149fe193692c43483a8a1295a,Update .gitreview for bugfix/10.2,MERGED,2020-07-08 18:45:05.000000000,2020-07-08 23:03:32.000000000,2020-07-08 22:13:18.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 18:45:05.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/c029455093c56ea6dccda04ce810abb732eda097', 'message': 'Update .gitreview for bugfix/10.2\n\nChange-Id: I38e086290ba880b149fe193692c43483a8a1295a\n'}]",0,740084,c029455093c56ea6dccda04ce810abb732eda097,8,3,1,22816,,,0,"Update .gitreview for bugfix/10.2

Change-Id: I38e086290ba880b149fe193692c43483a8a1295a
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/84/740084/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,c029455093c56ea6dccda04ce810abb732eda097,create-10.2,defaultbranch=bugfix/10.2,,1,0
openstack%2Fironic-lib~master~Idc0c845dc499768d8f6ea2859596bc6e391c9f60,openstack/ironic-lib,master,Idc0c845dc499768d8f6ea2859596bc6e391c9f60,Set min version of tox to 3.2.1,MERGED,2020-07-06 09:15:45.000000000,2020-07-08 22:16:53.000000000,2020-07-08 22:15:09.000000000,"[{'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 09:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/64583b10cbe99192b830d316fbd8b1a138f12c0c', 'message': 'Set min version of tox tp 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: Idc0c845dc499768d8f6ea2859596bc6e391c9f60\n'}, {'number': 2, 'created': '2020-07-06 09:19:26.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/01574fa23a5bb8991167ccdfc0e1fd1196534d77', 'message': 'Set min version of tox to 3.2.1\n\nAs recommended, since version 3.2.0 tox switches pip invocations\nto use the module -m pip instead of direct invocation.\nWe set min version to 3.2.1 [1] to also fix the behavior of\n--parallel--safe-build\n\n[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10\n\nChange-Id: Idc0c845dc499768d8f6ea2859596bc6e391c9f60\n'}]",0,739436,01574fa23a5bb8991167ccdfc0e1fd1196534d77,10,3,2,23851,,,0,"Set min version of tox to 3.2.1

As recommended, since version 3.2.0 tox switches pip invocations
to use the module -m pip instead of direct invocation.
We set min version to 3.2.1 [1] to also fix the behavior of
--parallel--safe-build

[1] https://tox.readthedocs.io/en/latest/changelog.html#v3-2-1-2018-08-10

Change-Id: Idc0c845dc499768d8f6ea2859596bc6e391c9f60
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/36/739436/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,64583b10cbe99192b830d316fbd8b1a138f12c0c,tox-m-pip,minversion = 3.2.1,minversion = 3.1.0,1,1
openstack%2Fironic~master~Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5,openstack/ironic,master,Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5,[doc] Describe how to extract an fs UUID from an image,MERGED,2020-07-02 12:25:24.000000000,2020-07-08 22:07:34.000000000,2020-07-08 21:59:24.000000000,"[{'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 17686}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-02 12:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8588b64cd037b5b7fda6e8656040d0996877e564', 'message': '[doc] Describe how to extract an fs UUID from an image\n\nFor software RAID, the image needs to have the root filesystem UUID\nas metadata. This patch describe how to extract this UUID from an\nexisting image.\n\nChange-Id: Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5\n'}, {'number': 2, 'created': '2020-07-02 12:47:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/873aae12bd0f71a12a45c5d983e93617864b273a', 'message': '[doc] Describe how to extract an fs UUID from an image\n\nFor software RAID, the image needs to have the root filesystem UUID\nas metadata. This patch describe how to extract this UUID from an\nexisting image.\n\nChange-Id: Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5\n'}, {'number': 3, 'created': '2020-07-06 10:45:55.000000000', 'files': ['doc/source/admin/raid.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/25dbdb7dc707e5b65d49d05baefaa267c8659669', 'message': '[doc] Describe how to extract an fs UUID from an image\n\nFor software RAID, the image needs to have the root filesystem UUID\nas metadata. This patch describe how to extract this UUID from an\nexisting image.\n\nChange-Id: Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5\n'}]",2,739027,25dbdb7dc707e5b65d49d05baefaa267c8659669,19,7,3,11292,,,0,"[doc] Describe how to extract an fs UUID from an image

For software RAID, the image needs to have the root filesystem UUID
as metadata. This patch describe how to extract this UUID from an
existing image.

Change-Id: Ifdb63a80d4138a41fd0bac9880d14c90a4378fe5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/27/739027/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/raid.rst'],1,8588b64cd037b5b7fda6e8656040d0996877e564,get_rootfs_uuid,"system. One way to extract this UUID from an existing image is to download the image, mount it as a loopback device, and use ``blkid``: .. code-block:: bash $ losetup /dev/loop0 /tmp/myimage.raw $ kpartx -a /dev/loop0 $ blkid The pre-Ussuri approach, i.e. to have the root file system on","system. The pre-Ussuri approach, i.e. to have the root file system on",10,1
openstack%2Fopenstack-helm-infra~master~I6bf1f483999a10322362aa18bd43bc09cef7ffe9,openstack/openstack-helm-infra,master,I6bf1f483999a10322362aa18bd43bc09cef7ffe9,Fix ALLOW_UNAUTHENTICATED for bionic kubeadm-AIO,MERGED,2020-07-08 18:04:02.000000000,2020-07-08 21:45:46.000000000,2020-07-08 21:41:49.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 18:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83f6383f7feed85320a3cefd129d206e580b90a8', 'message': '[test]\n\nChange-Id: I6bf1f483999a10322362aa18bd43bc09cef7ffe9\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-08 18:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bacbc68030b33d0b32ec260f503c64601d4b08e2', 'message': '[test]\n\nChange-Id: I6bf1f483999a10322362aa18bd43bc09cef7ffe9\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-08 19:13:22.000000000', 'files': ['tools/images/kubeadm-aio/Dockerfile'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a0ca4a3bb9d79695ec424556e292084318eca62b', 'message': 'Fix ALLOW_UNAUTHENTICATED for bionic kubeadm-AIO\n\nChange-Id: I6bf1f483999a10322362aa18bd43bc09cef7ffe9\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,740074,a0ca4a3bb9d79695ec424556e292084318eca62b,12,4,3,8863,,,0,"Fix ALLOW_UNAUTHENTICATED for bionic kubeadm-AIO

Change-Id: I6bf1f483999a10322362aa18bd43bc09cef7ffe9
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/74/740074/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/common/005-deploy-k8s.sh'],1,83f6383f7feed85320a3cefd129d206e580b90a8,,make dev-deploy setup-host make dev-deploy k8s,": ${HELM_VERSION:=""v2.14.1""} : ${KUBE_VERSION:=""v1.16.2""} : ${MINIKUBE_VERSION:=""v1.3.1""} : ${CALICO_VERSION:=""v3.9""} : ""${HTTP_PROXY:=""""}"" : ""${HTTPS_PROXY:=""""}"" export DEBCONF_NONINTERACTIVE_SEEN=true export DEBIAN_FRONTEND=noninteractive function configure_resolvconf { # Setup resolv.conf to use the k8s api server, which is required for the # kubelet to resolve cluster services. sudo mv /etc/resolv.conf /etc/resolv.conf.backup # Create symbolic link to the resolv.conf file managed by systemd-resolved, as # the kubelet.resolv-conf extra-config flag is automatically executed by the # minikube start command, regardless of being passed in here sudo ln -s /run/systemd/resolve/resolv.conf /etc/resolv.conf sudo bash -c ""echo 'nameserver 10.96.0.10' >> /etc/resolv.conf"" # NOTE(drewwalters96): Use the Google DNS servers to prevent local addresses in # the resolv.conf file unless using a proxy, then use the existing DNS servers, # as custom DNS nameservers are commonly required when using a proxy server. if [ -z ""${HTTP_PROXY}"" ]; then sudo bash -c ""echo 'nameserver 8.8.8.8' >> /etc/resolv.conf"" sudo bash -c ""echo 'nameserver 8.8.4.4' >> /etc/resolv.conf"" else sed -ne ""s/nameserver //p"" /etc/resolv.conf.backup | while read -r ns; do sudo bash -c ""echo 'nameserver ${ns}' >> /etc/resolv.conf"" done fi sudo bash -c ""echo 'search svc.cluster.local cluster.local' >> /etc/resolv.conf"" sudo bash -c ""echo 'options ndots:5 timeout:1 attempts:1' >> /etc/resolv.conf"" sudo rm /etc/resolv.conf.backup } # NOTE: Clean Up hosts file sudo sed -i '/^127.0.0.1/c\127.0.0.1 localhost localhost.localdomain localhost4localhost4.localdomain4' /etc/hosts sudo sed -i '/^::1/c\::1 localhost6 localhost6.localdomain6' /etc/hosts # Install required packages for K8s on host wget -q -O- 'https://download.ceph.com/keys/release.asc' | sudo apt-key add - RELEASE_NAME=$(grep 'CODENAME' /etc/lsb-release | awk -F= '{print $2}') sudo add-apt-repository ""deb https://download.ceph.com/debian-nautilus/ ${RELEASE_NAME} main"" sudo -E apt-get update sudo -E apt-get install -y \ docker.io \ socat \ jq \ util-linux \ ceph-common \ rbd-nbd \ nfs-common \ bridge-utils \ iptables sudo -E tee /etc/modprobe.d/rbd.conf << EOF install rbd /bin/true EOF configure_resolvconf # Prepare tmpfs for etcd sudo mkdir -p /data sudo mount -t tmpfs -o size=512m tmpfs /data # Install minikube and kubectl URL=""https://storage.googleapis.com"" sudo -E curl -sSLo /usr/local/bin/minikube \ ""${URL}""/minikube/releases/""${MINIKUBE_VERSION}""/minikube-linux-amd64 sudo -E curl -sSLo /usr/local/bin/kubectl \ ""${URL}""/kubernetes-release/release/""${KUBE_VERSION}""/bin/linux/amd64/kubectl sudo -E chmod +x /usr/local/bin/minikube sudo -E chmod +x /usr/local/bin/kubectl # Install Helm TMP_DIR=$(mktemp -d) sudo -E bash -c \ ""curl -sSL ${URL}/kubernetes-helm/helm-${HELM_VERSION}-linux-amd64.tar.gz | \ tar -zxv --strip-components=1 -C ${TMP_DIR}"" sudo -E mv ""${TMP_DIR}""/helm /usr/local/bin/helm rm -rf ""${TMP_DIR}"" # NOTE: Deploy kubenetes using minikube. A CNI that supports network policy is # required for validation; use calico for simplicity. sudo -E minikube config set kubernetes-version ""${KUBE_VERSION}"" sudo -E minikube config set vm-driver none sudo -E minikube config set embed-certs true export CHANGE_MINIKUBE_NONE_USER=true export MINIKUBE_IN_STYLE=false sudo -E minikube start \ --docker-env HTTP_PROXY=""${HTTP_PROXY}"" \ --docker-env HTTPS_PROXY=""${HTTPS_PROXY}"" \ --docker-env NO_PROXY=""${NO_PROXY},10.96.0.0/12"" \ --network-plugin=cni \ --extra-config=controller-manager.allocate-node-cidrs=true \ --extra-config=controller-manager.cluster-cidr=192.168.0.0/16 curl https://docs.projectcalico.org/""${CALICO_VERSION}""/manifests/calico.yaml -o /tmp/calico.yaml kubectl apply -f /tmp/calico.yaml # Note: Patch calico daemonset to enable Prometheus metrics and annotations tee /tmp/calico-node.yaml << EOF spec: template: metadata: annotations: prometheus.io/scrape: ""true"" prometheus.io/port: ""9091"" spec: containers: - name: calico-node env: - name: FELIX_PROMETHEUSMETRICSENABLED value: ""true"" - name: FELIX_PROMETHEUSMETRICSPORT value: ""9091"" EOF kubectl patch daemonset calico-node -n kube-system --patch ""$(cat /tmp/calico-node.yaml)"" # NOTE: Wait for dns to be running. END=$(($(date +%s) + 240)) until kubectl --namespace=kube-system \ get pods -l k8s-app=kube-dns --no-headers -o name | grep -q ""^pod/coredns""; do NOW=$(date +%s) [ ""${NOW}"" -gt ""${END}"" ] && exit 1 echo ""still waiting for dns"" sleep 10 done kubectl --namespace=kube-system wait --timeout=240s --for=condition=Ready pods -l k8s-app=kube-dns # Deploy helm/tiller into the cluster kubectl create -n kube-system serviceaccount helm-tiller cat <<EOF | kubectl apply -f - apiVersion: rbac.authorization.k8s.io/v1 kind: ClusterRoleBinding metadata: name: helm-tiller roleRef: apiGroup: rbac.authorization.k8s.io kind: ClusterRole name: cluster-admin subjects: - kind: ServiceAccount name: helm-tiller namespace: kube-system EOF # NOTE(srwilkers): Required due to tiller deployment spec using extensions/v1beta1 # which has been removed in Kubernetes 1.16.0. # See: https://github.com/helm/helm/issues/6374 helm init --service-account helm-tiller --output yaml \ | sed 's@apiVersion: extensions/v1beta1@apiVersion: apps/v1@' \ | sed 's@ replicas: 1@ replicas: 1\n selector: {""matchLabels"": {""app"": ""helm"", ""name"": ""tiller""}}@' \ | kubectl apply -f - # Patch tiller-deploy service to expose metrics port tee /tmp/tiller-deploy.yaml << EOF metadata: annotations: prometheus.io/scrape: ""true"" prometheus.io/port: ""44135"" spec: ports: - name: http port: 44135 targetPort: http EOF kubectl patch service tiller-deploy -n kube-system --patch ""$(cat /tmp/tiller-deploy.yaml)"" kubectl --namespace=kube-system wait \ --timeout=240s \ --for=condition=Ready \ pod -l app=helm,name=tiller EOF helm init --client-only # Set up local helm server sudo -E tee /etc/systemd/system/helm-serve.service << EOF [Unit] Description=Helm Server After=network.target [Service] User=$(id -un 2>&1) Restart=always ExecStart=/usr/local/bin/helm serve [Install] WantedBy=multi-user.target EOF sudo chmod 0640 /etc/systemd/system/helm-serve.service sudo systemctl daemon-reload sudo systemctl restart helm-serve sudo systemctl enable helm-serve # Remove stable repo, if present, to improve build time helm repo remove stable || true # Set up local helm repo helm repo add local http://localhost:8879/charts helm repo update make # Set required labels on host(s) kubectl label nodes --all openstack-control-plane=enabled kubectl label nodes --all openstack-compute-node=enabled kubectl label nodes --all openvswitch=enabled kubectl label nodes --all linuxbridge=enabled kubectl label nodes --all ceph-mon=enabled kubectl label nodes --all ceph-osd=enabled kubectl label nodes --all ceph-mds=enabled kubectl label nodes --all ceph-rgw=enabled kubectl label nodes --all ceph-mgr=enabled # Add labels to the core namespaces kubectl label --overwrite namespace default name=default kubectl label --overwrite namespace kube-system name=kube-system kubectl label --overwrite namespace kube-public name=kube-public",2,232
openstack%2Fopenstack-helm-infra~master~Ie42af89551bd8804b87fe936c676e85130564187,openstack/openstack-helm-infra,master,Ie42af89551bd8804b87fe936c676e85130564187,allocate_data_node function improvement,MERGED,2020-07-02 19:25:03.000000000,2020-07-08 21:43:24.000000000,2020-07-08 21:41:48.000000000,"[{'_account_id': 8898}, {'_account_id': 10068}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30582}, {'_account_id': 30777}, {'_account_id': 31713}]","[{'number': 1, 'created': '2020-07-02 19:25:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73222528a338c066a7de89beed6fa8078edb0cd1', 'message': 'allocate_data_node\n\nallocate_data_node() should execute after drain_data_node()\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 2, 'created': '2020-07-02 21:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5087b16d240fc2bd69dde11e8472b6f5155b2b91', 'message': 'allocate_data_node\n\n- allocate_data_node() should execute after drain_data_node()\n- enable alloation moved outside the wait_to_join check loop\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 3, 'created': '2020-07-06 14:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/63786eab6b8e78a0de690acbb970ec7d5eb75896', 'message': 'allocate_data_node\n\n- allocate_data_node() should execute after drain_data_node()\n- enable alloation moved outside the wait_to_join check loop\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 4, 'created': '2020-07-07 16:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/9116b059bdcc648d6f1c6b2b8f65adc834aafb95', 'message': 'allocate_data_node\n\nremove ""if"" condition of allocate_data_node\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 5, 'created': '2020-07-07 16:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/995c5323d76058bad42204ad67ee45d6965b228e', 'message': 'allocate_data_node\n\nremove ""if"" condition of allocate_data_node\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 6, 'created': '2020-07-07 16:20:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b856291329074271f3a0cc891f3c91ba95be17dc', 'message': 'allocate_data_node\n\nremove ""if"" condition of allocate_data_node\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}, {'number': 7, 'created': '2020-07-07 16:31:39.000000000', 'files': ['elasticsearch/templates/bin/_elasticsearch.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e89c1c3c06c75ae84b61f384aba5e8a458ad4c57', 'message': 'allocate_data_node function improvement\n\n- Remove ""if"" condition of allocate_data_node\n- Dealy 5 seconds for wait_to_join initial check to start\n- Set 60 minutes timeout for wait_to_join function\n\nChange-Id: Ie42af89551bd8804b87fe936c676e85130564187\n'}]",12,739137,e89c1c3c06c75ae84b61f384aba5e8a458ad4c57,29,8,7,31713,,,0,"allocate_data_node function improvement

- Remove ""if"" condition of allocate_data_node
- Dealy 5 seconds for wait_to_join initial check to start
- Set 60 minutes timeout for wait_to_join function

Change-Id: Ie42af89551bd8804b87fe936c676e85130564187
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/37/739137/2 && git format-patch -1 --stdout FETCH_HEAD,['elasticsearch/templates/bin/_elasticsearch.sh.tpl'],1,73222528a338c066a7de89beed6fa8078edb0cd1,, allocate_data_node &, allocate_data_node &,1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,stable/train,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-07 01:16:40.000000000,2020-07-08 21:39:36.000000000,2020-07-08 21:39:36.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 01:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c006237d6d01a941c14ef1a93654d9eb9c4514e', 'message': 'undercloud/heat: set YAQL memory quota to 200000\n\nSince the ""optimization"" [1] of host entries in Heat and it\'s YAQLization,\nwe need to increase the memory quota for YAQL queries or the resource\nwill fail to process at large scale (250 nodes).\n\n[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc\n\nChange-Id: I04cb72210fbd25a720158988698a300140f4e7db\nCloses-Bug: #1886203\n(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)\n'}, {'number': 2, 'created': '2020-07-07 13:43:42.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39c977afb6a3292c57914658453795c9eab51271', 'message': 'undercloud/heat: set YAQL memory quota to 200000\n\nSince the ""optimization"" [1] of host entries in Heat and it\'s YAQLization,\nwe need to increase the memory quota for YAQL queries or the resource\nwill fail to process at large scale (250 nodes).\n\n[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc\n\nChange-Id: I04cb72210fbd25a720158988698a300140f4e7db\nCloses-Bug: #1886203\n(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)\n'}]",0,739632,39c977afb6a3292c57914658453795c9eab51271,21,4,2,3153,,,0,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/739632/2 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,1c006237d6d01a941c14ef1a93654d9eb9c4514e,bug/1886203-stable/train, HeatYaqlMemoryQuota: 200000,,1,0
openstack%2Fneutron-specs~master~I15877081f685832d9fc71c2ed167968910c4ee57,openstack/neutron-specs,master,I15877081f685832d9fc71c2ed167968910c4ee57,Move port_dns_assignment spec to the Victoria release,MERGED,2020-07-02 12:53:06.000000000,2020-07-08 21:35:01.000000000,2020-07-07 23:07:37.000000000,"[{'_account_id': 935}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 12:53:06.000000000', 'files': ['specs/victoria/port_dns_assignment.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ebbb6054317b8c2f030bc0ed69669d0c3cf93112', 'message': 'Move port_dns_assignment spec to the Victoria release\n\nThis spec should be merged to victoria directory but was by mistake\nproposed to the Ussuri. So this fixes it.\n\nChange-Id: I15877081f685832d9fc71c2ed167968910c4ee57\n'}]",2,739035,ebbb6054317b8c2f030bc0ed69669d0c3cf93112,11,6,1,11975,,,0,"Move port_dns_assignment spec to the Victoria release

This spec should be merged to victoria directory but was by mistake
proposed to the Ussuri. So this fixes it.

Change-Id: I15877081f685832d9fc71c2ed167968910c4ee57
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/35/739035/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/victoria/port_dns_assignment.rst'],1,ebbb6054317b8c2f030bc0ed69669d0c3cf93112,neutron_dns_assignment,,,0,0
openstack%2Fcharm-ceilometer~master~I7a1df0c0fabc17de525fb1458169bc32e7dad962,openstack/charm-ceilometer,master,I7a1df0c0fabc17de525fb1458169bc32e7dad962,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:27:34.000000000,2020-07-08 21:27:55.000000000,2020-07-08 21:27:55.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/d8ae78fb75c4b1d974bcbbd955dd52c825c867cf', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I7a1df0c0fabc17de525fb1458169bc32e7dad962\n'}, {'number': 2, 'created': '2020-07-08 12:20:55.000000000', 'files': ['metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/05616eb1fa4f8861f5471a4e33386afe34609f45', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I7a1df0c0fabc17de525fb1458169bc32e7dad962\n'}]",0,732625,05616eb1fa4f8861f5471a4e33386afe34609f45,19,5,2,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I7a1df0c0fabc17de525fb1458169bc32e7dad962
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/25/732625/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/openstack/context.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml']",6,d8ae78fb75c4b1d974bcbbd955dd52c825c867cf,batch-groovy-ch-libs," Ceilometer project aims to become the infrastructure to collect measurements within OpenStack so that no two agents would need to be written to collect the same data. It's primary targets are monitoring and metering, but the framework should be easily expandable to collect for other needs. To that effect, Ceilometer should be able to share collected data with a variety of consumers. tags: - openstack - telemetry - misc series: - xenial - bionic - eoan - focal - trusty - groovy"," Ceilometer project aims to become the infrastructure to collect measurements within OpenStack so that no two agents would need to be written to collect the same data. It's primary targets are monitoring and metering, but the framework should be easily expandable to collect for other needs. To that effect, Ceilometer should be able to share collected data with a variety of consumers. tags: - openstack - telemetry - misc series: - xenial - bionic - eoan - focal - trusty",207,29
openstack%2Ftripleo-heat-templates~master~Ib011963d864dad44947d6ca0902937f84b19f5b5,openstack/tripleo-heat-templates,master,Ib011963d864dad44947d6ca0902937f84b19f5b5,"volumes: remove trailing ""/"" at the end of a directory bind mount",ABANDONED,2020-07-08 21:08:08.000000000,2020-07-08 21:19:50.000000000,,"[{'_account_id': 7353}, {'_account_id': 10969}]","[{'number': 1, 'created': '2020-07-08 21:08:08.000000000', 'files': ['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8994174af920feeac8590f3cf94fadfef42aea56', 'message': 'volumes: remove trailing ""/"" at the end of a directory bind mount\n\nPodman remove them when bind mouting the volumes into the containers, so\nthe config data which has the ""/"" won\'t match with the ""podman inspect""\ndata which won\'t have the ""/"" (removed by podman).\n\nRemoving them in THT will help to make these containers idempotent.\n\nChange-Id: Ib011963d864dad44947d6ca0902937f84b19f5b5\n'}]",9,740117,8994174af920feeac8590f3cf94fadfef42aea56,4,2,1,3153,,,0,"volumes: remove trailing ""/"" at the end of a directory bind mount

Podman remove them when bind mouting the volumes into the containers, so
the config data which has the ""/"" won't match with the ""podman inspect""
data which won't have the ""/"" (removed by podman).

Removing them in THT will help to make these containers idempotent.

Change-Id: Ib011963d864dad44947d6ca0902937f84b19f5b5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/17/740117/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/octavia/octavia-worker-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/horizon/horizon-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/mistral/mistral-engine-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/multipathd/multipathd-container.yaml', 'deployment/etcd/etcd-container-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-api-container-puppet.yaml', 'deployment/iscsid/iscsid-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/heat/heat-engine-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-container-puppet.yaml', 'deployment/neutron/neutron-agents-ib-config-container-puppet.yaml', 'deployment/cavium/liquidio-compute-config-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-container-puppet.yaml', 'deployment/neutron/neutron-mlnx-agent-container-puppet.yaml', 'deployment/experimental/designate/designate-central-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/neutron/neutron-ovs-dpdk-agent-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/octavia/octavia-housekeeping-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-container-puppet.yaml', 'deployment/haproxy/haproxy-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/mistral/mistral-api-container-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/mistral/mistral-event-engine-container-puppet.yaml', 'deployment/deprecated/keepalived/keepalived-container-puppet.yaml', 'deployment/aodh/aodh-api-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",42,8994174af920feeac8590f3cf94fadfef42aea56,idempotency," i=$(echo $line | awk '//{gsub(:/, """", $0); print $5}') - /run:/run:rw"," i=$(echo $line | awk '//{gsub(/:/, """", $0); print $5}') - /run/:/run:rw",73,73
openstack%2Fopenstack-helm-infra~master~I1ef27858b5b02d367eea1c24447aefa2b6712458,openstack/openstack-helm-infra,master,I1ef27858b5b02d367eea1c24447aefa2b6712458,Add openstack-helm-single-16GB-node nodeset,MERGED,2020-07-08 12:19:24.000000000,2020-07-08 21:18:46.000000000,2020-07-08 21:11:08.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-07-08 12:19:24.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0242d974375b3bc8cb661c2628ea2d501180217f', 'message': 'Add openstack-helm-single-16GB-node nodeset\n\nBased on 8 CPU 16GB memory ubuntu-bionic-expanded label\n\nChange-Id: I1ef27858b5b02d367eea1c24447aefa2b6712458\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,739967,0242d974375b3bc8cb661c2628ea2d501180217f,8,5,1,8863,,,0,"Add openstack-helm-single-16GB-node nodeset

Based on 8 CPU 16GB memory ubuntu-bionic-expanded label

Change-Id: I1ef27858b5b02d367eea1c24447aefa2b6712458
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/67/739967/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,0242d974375b3bc8cb661c2628ea2d501180217f,, - nodeset: name: openstack-helm-single-16GB-node nodes: - name: primary label: ubuntu-bionic-expanded groups: - name: primary nodes: - primary,,10,0
openstack%2Fneutron~master~Iea4a82a21d32a064ff5dd530e104a2de2efb46b5,openstack/neutron,master,Iea4a82a21d32a064ff5dd530e104a2de2efb46b5,ovn: Remove UpdateACLsCommand,MERGED,2020-06-10 15:21:10.000000000,2020-07-08 21:18:35.000000000,2020-07-08 21:15:25.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-10 15:21:10.000000000', 'files': ['neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e748f3f2d800de6c84b6fe835edfa1385bc223b1', 'message': ""ovn: Remove UpdateACLsCommand\n\nThis patch removes unused UpdateACLsCommand which was previously used by the\ncode using Address Sets but that has been already removed. OpenStack API\ndoesn't implement update operation for security group rules so this\ncommand is not needed anymore.\n\nChange-Id: Iea4a82a21d32a064ff5dd530e104a2de2efb46b5\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n""}]",0,734876,e748f3f2d800de6c84b6fe835edfa1385bc223b1,25,8,1,8655,,,0,"ovn: Remove UpdateACLsCommand

This patch removes unused UpdateACLsCommand which was previously used by the
code using Address Sets but that has been already removed. OpenStack API
doesn't implement update operation for security group rules so this
command is not needed anymore.

Change-Id: Iea4a82a21d32a064ff5dd530e104a2de2efb46b5
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/734876/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/common/ovn/test_acl.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_commands.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/common/ovn/acl.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/commands.py']",5,e748f3f2d800de6c84b6fe835edfa1385bc223b1,port-groups-removal,,"class UpdateACLsCommand(command.BaseCommand): def __init__(self, api, lswitch_names, port_list, acl_new_values_dict, need_compare=True, is_add_acl=True): """"""This command updates the acl list for the logical switches @param lswitch_names: List of Logical Switch Names @type lswitch_names: [] @param port_list: Iterator of List of Ports @type port_list: [] @param acl_new_values_dict: Dictionary of acls indexed by port id @type acl_new_values_dict: {} @need_compare: If acl_new_values_dict needs be compared with existing acls. @type: Boolean. @is_add_acl: If updating is caused by acl adding action. @type: Boolean. """""" super(UpdateACLsCommand, self).__init__(api) self.lswitch_names = lswitch_names self.port_list = port_list self.acl_new_values_dict = acl_new_values_dict self.need_compare = need_compare self.is_add_acl = is_add_acl def _acl_list_sub(self, acl_list1, acl_list2): """"""Compute the elements in acl_list1 but not in acl_list2. If acl_list1 and acl_list2 were sets, the result of this routine could be thought of as acl_list1 - acl_list2. Note that acl_list1 and acl_list2 cannot actually be sets as they contain dictionary items i.e. set([{'a':1}) doesn't work. """""" acl_diff = [] for acl in acl_list1: if acl not in acl_list2: acl_diff.append(acl) return acl_diff def _compute_acl_differences(self, port_list, acl_old_values_dict, acl_new_values_dict, acl_obj_dict): """"""Compute the difference between the new and old sets of acls @param port_list: Iterator of a List of ports @type port_list: [] @param acl_old_values_dict: Dictionary of old acl values indexed by port id @param acl_new_values_dict: Dictionary of new acl values indexed by port id @param acl_obj_dict: Dictionary of acl objects indexed by the acl value in string format. @var acl_del_objs_dict: Dictionary of acl objects to be deleted indexed by the lswitch. @var acl_add_values_dict: Dictionary of acl values to be added indexed by the lswitch. @return: (acl_del_objs_dict, acl_add_values_dict) @rtype: ({}, {}) """""" acl_del_objs_dict = {} acl_add_values_dict = {} for port in port_list: lswitch_name = port['network_id'] acls_old = acl_old_values_dict.get(port['id'], []) acls_new = acl_new_values_dict.get(port['id'], []) acls_del = self._acl_list_sub(acls_old, acls_new) acls_add = self._acl_list_sub(acls_new, acls_old) acl_del_objs = acl_del_objs_dict.setdefault(lswitch_name, []) for acl in acls_del: acl_del_objs.append(acl_obj_dict[str(acl)]) acl_add_values = acl_add_values_dict.setdefault(lswitch_name, []) for acl in acls_add: # Remove lport and lswitch columns del acl['lswitch'] del acl['lport'] acl_add_values.append(acl) return acl_del_objs_dict, acl_add_values_dict def _get_update_data_without_compare(self): lswitch_ovsdb_dict = {} for switch_name in self.lswitch_names: switch_name = utils.ovn_name(switch_name) lswitch = idlutils.row_by_value(self.api.idl, 'Logical_Switch', 'name', switch_name) lswitch_ovsdb_dict[switch_name] = lswitch if self.is_add_acl: acl_add_values_dict = {} for port in self.port_list: switch_name = utils.ovn_name(port['network_id']) if switch_name not in acl_add_values_dict: acl_add_values_dict[switch_name] = [] if port['id'] in self.acl_new_values_dict: acl_add_values_dict[switch_name].append( self.acl_new_values_dict[port['id']]) acl_del_objs_dict = {} else: acl_add_values_dict = {} acl_del_objs_dict = {} del_acl_extids = [] for acl_dict in self.acl_new_values_dict.values(): del_acl_extids.append({acl_dict['match']: acl_dict['external_ids']}) for switch_name, lswitch in lswitch_ovsdb_dict.items(): if switch_name not in acl_del_objs_dict: acl_del_objs_dict[switch_name] = [] acls = getattr(lswitch, 'acls', []) for acl in acls: match = getattr(acl, 'match') acl_extids = {match: getattr(acl, 'external_ids')} if acl_extids in del_acl_extids: acl_del_objs_dict[switch_name].append(acl) return lswitch_ovsdb_dict, acl_del_objs_dict, acl_add_values_dict def run_idl(self, txn): if self.need_compare: # Get all relevant ACLs in 1 shot acl_values_dict, acl_obj_dict, lswitch_ovsdb_dict = ( self.api.get_acls_for_lswitches(self.lswitch_names)) # Compute the difference between the new and old set of ACLs acl_del_objs_dict, acl_add_values_dict = ( self._compute_acl_differences( self.port_list, acl_values_dict, self.acl_new_values_dict, acl_obj_dict)) else: lswitch_ovsdb_dict, acl_del_objs_dict, acl_add_values_dict = ( self._get_update_data_without_compare()) for lswitch_name, lswitch in lswitch_ovsdb_dict.items(): acl_del_objs = acl_del_objs_dict.get(lswitch_name, []) acl_add_values = acl_add_values_dict.get(lswitch_name, []) # Continue if no ACLs to add or delete. if not acl_del_objs and not acl_add_values: continue # Delete old ACLs. if acl_del_objs: for acl_del_obj in acl_del_objs: try: acl_del_obj.delete() except AssertionError: # If we try to delete a row twice, just continue pass # Add new ACLs. acl_add_objs = None if acl_add_values: acl_add_objs = [] for acl_value in acl_add_values: row = txn.insert(self.api._tables['ACL']) for col, val in acl_value.items(): setattr(row, col, val) acl_add_objs.append(row.uuid) # Update logical switch ACLs. _updatevalues_in_list(lswitch, 'acls', new_values=acl_add_objs, old_values=acl_del_objs) ",0,535
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I986391617231b9dd23aa487d73db490db84f61ce,openstack/tripleo-heat-templates,stable/train,I986391617231b9dd23aa487d73db490db84f61ce,Collapse deploy steps,MERGED,2020-07-06 15:20:52.000000000,2020-07-08 21:16:55.000000000,2020-07-08 21:16:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 15:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ffd4f144e2ba9f344409ea0057f0cb85dadf8114', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)\n""}, {'number': 2, 'created': '2020-07-06 15:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e2778e7b5ed34547717e1fcdbab8821154cc760e', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)\n""}, {'number': 3, 'created': '2020-07-06 19:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cb65a555853aeb00a9c66b1ee5a937d74b57c177', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)\n""}, {'number': 4, 'created': '2020-07-07 11:36:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d3104f67fd11b7f68c4a77ed758b1eeb50d4257', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)\n""}, {'number': 5, 'created': '2020-07-08 12:19:55.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cbefd789d09628bddc3447b61e2dce380d94d6a9', 'message': ""Collapse deploy steps\n\nOnce again we're splitting the deployment steps into multiple plays\nwhich causes ansible to artificially stop at the end of each play when\nusing a free-style strategy. By combining the deploy steps, bootstrap\ntasks and common deploy steps, we can run each step to completion in\nparallel rather than stopping at each of these for every step. This will\nreduce the overall play count to (1*6) instead of (3*6+1)\n\nChange-Id: I986391617231b9dd23aa487d73db490db84f61ce\n(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)\n""}]",0,739519,cbefd789d09628bddc3447b61e2dce380d94d6a9,25,5,5,3153,,,0,"Collapse deploy steps

Once again we're splitting the deployment steps into multiple plays
which causes ansible to artificially stop at the end of each play when
using a free-style strategy. By combining the deploy steps, bootstrap
tasks and common deploy steps, we can run each step to completion in
parallel rather than stopping at each of these for every step. This will
reduce the overall play count to (1*6) instead of (3*6+1)

Change-Id: I986391617231b9dd23aa487d73db490db84f61ce
(cherry picked from commit f82af5595a7e8b377a7aef66b947b73b5ec8ae90)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/739519/3 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,ffd4f144e2ba9f344409ea0057f0cb85dadf8114,collaps/deploy/train," block: - name: Overcloud common bootstrap tasks for step 1 delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - name: Write config data at the start of step 1 include_tasks: common_deploy_steps_tasks_step_1.yaml when: - ((deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or not container_startup_configs_json_stat.stat.exists) block: - name: Overcloud common deploy step tasks {{step}} delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common deploy step tasks {{step}}' to resume from this task - name: ""Check if /var/lib/tripleo-config/container-startup-config/step_{{step}} already exists"" stat: path: ""/var/lib/tripleo-config/container-startup-config/step_{{step}}"" register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)"," tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common bootstrap tasks for step 1 gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET enable_paunch: ENABLE_PAUNCH container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task 'Overcloud common bootstrap tasks for step 1' to resume from this task - name: Check if /var/lib/tripleo-config/container-startup-config-step_1.json already exists stat: path: /var/lib/tripleo-config/container-startup-config-step_1.json register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks_step_1.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists) tags: - overcloud - deploy_steps - step{{step}} - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Overcloud common deploy step tasks {{step}} gather_facts: ""{% raw %}{{ gather_facts | default(false) }}{% endraw %}"" any_errors_fatal: yes vars: bootstrap_server_id: BOOTSTRAP_SERVER_ID step: '{{step}}' deploy_identifier: DEPLOY_IDENTIFIER enable_debug: ENABLE_DEBUG enable_puppet: ENABLE_PUPPET enable_paunch: ENABLE_PAUNCH container_cli: CONTAINER_CLI container_log_stdout_path: CONTAINER_LOG_STDOUT_PATH container_healthcheck_disabled: CONTAINER_HEALTHCHECK_DISABLED docker_puppet_debug: DOCKER_PUPPET_DEBUG docker_puppet_process_count: DOCKER_PUPPET_PROCESS_COUNT docker_puppet_mount_host_puppet: DOCKER_PUPPET_MOUNT_HOST_PUPPET tasks: delegate_to: localhost run_once: true debug: msg: Use --start-at-task ""Overcloud common deploy step tasks {{step}}"" to resume from this task - name: Check if /var/lib/tripleo-config/container-startup-config-step_{{ step }}.json already exists stat: path: /var/lib/tripleo-config/container-startup-config-step_{{ step }}.json register: container_startup_configs_json_stat - include_tasks: common_deploy_steps_tasks.yaml when: (deploy_identifier is defined and deploy_identifier != """" and deploy_identifier is not none) or (container_startup_configs_json_stat is defined and not container_startup_configs_json_stat.stat.exists)",28,68
openstack%2Ftripleo-ansible~stable%2Ftrain~I5c91122b6cbd731d369b19b13fd011114dd48175,openstack/tripleo-ansible,stable/train,I5c91122b6cbd731d369b19b13fd011114dd48175,Simplify ssh_known_hosts role,MERGED,2020-06-17 14:12:04.000000000,2020-07-08 20:59:51.000000000,2020-07-08 20:59:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2020-06-17 14:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e1c592873b83c13a3f3681fb2ca0ce672e162e8e', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n(cherry picked from commit 07946456d0380b441f75aeb3f7d5bec229f33bf1)\n'}, {'number': 2, 'created': '2020-06-18 16:21:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0c5f52c9298d72d30b4e5aa1903bdf9fc45b7e4c', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n(cherry picked from commit 07946456d0380b441f75aeb3f7d5bec229f33bf1)\n'}, {'number': 3, 'created': '2020-07-02 16:03:47.000000000', 'files': ['tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/tests/test_no_networks.py', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/prepare.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/Dockerfile', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/playbook.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5dd61d3b0acdb1fc9e4287fd194529724aca0342', 'message': 'Simplify ssh_known_hosts role\n\nThis is only required for compute nodes running nova_migration_target so\nwe can simplify the logic significantly.\n\nThe host.network entries are now omitted as cold/live migration only uses\neither the fqdn,short hostname, or IP. This should help a little with scaling\ntoo as ssh_host_keys can get gigantic with a large number of computes.\n\nWe can assume the remaining vars for networks and fqdn/ip are all set as host\nor role group vars in the inventory.\nJust in case fallback to basic entry when the host vars are missing.\n\nThis should also make it easier for operators to run the role in isolation\ne.g to quickly fix up the ssh keys on any compute hosts omittied from a\nscale-up.\n\nAlso fixes bug #1861296 which was caused by attempting to use set to override\na jinja2 var from an outer scope.\n\nChange-Id: I5c91122b6cbd731d369b19b13fd011114dd48175\nDepends-On: https://review.opendev.org/#/c/704919/\nCloses-bug: #1861296\n(cherry picked from commit 07946456d0380b441f75aeb3f7d5bec229f33bf1)\n'}]",0,736229,5dd61d3b0acdb1fc9e4287fd194529724aca0342,26,8,3,23811,,,0,"Simplify ssh_known_hosts role

This is only required for compute nodes running nova_migration_target so
we can simplify the logic significantly.

The host.network entries are now omitted as cold/live migration only uses
either the fqdn,short hostname, or IP. This should help a little with scaling
too as ssh_host_keys can get gigantic with a large number of computes.

We can assume the remaining vars for networks and fqdn/ip are all set as host
or role group vars in the inventory.
Just in case fallback to basic entry when the host vars are missing.

This should also make it easier for operators to run the role in isolation
e.g to quickly fix up the ssh keys on any compute hosts omittied from a
scale-up.

Also fixes bug #1861296 which was caused by attempting to use set to override
a jinja2 var from an outer scope.

Change-Id: I5c91122b6cbd731d369b19b13fd011114dd48175
Depends-On: https://review.opendev.org/#/c/704919/
Closes-bug: #1861296
(cherry picked from commit 07946456d0380b441f75aeb3f7d5bec229f33bf1)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/736229/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/tests/test_no_networks.py', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/tests/test_default.py', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/prepare.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/Dockerfile', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/molecule.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/no_networks/playbook.yml', 'tripleo_ansible/roles/tripleo-ssh-known-hosts/molecule/default/molecule.yml']",8,e1c592873b83c13a3f3681fb2ca0ce672e162e8e,," ctlplane_ip: 10.0.0.1 ctlplane_hostname: centos8.ctlplane.localdomain internal_api_ip: 10.0.1.1 internal_api_hostname: centos8.internalapi.localdomain management_ip: 10.0.0.1 # no management_hostname canonical_hostname: centos8.localdomain tripleo_role_networks: [ctlplane, internal_api, management] centos7: ansible_ssh_host_key_rsa_public: BBBBTEST hostname_resolve_network: ctlplane ctlplane_ip: 10.0.0.2 ctlplane_hostname: centos7.ctlplane.localdomain internal_api_ip: 10.0.1.2 internal_api_hostname: centos7.internalapi.localdomain canonical_hostname: centos7.localdomain tripleo_role_networks: [ctlplane, internal_api]", vars: ctlplane_ip: 10.0.0.0 cloud_domain: localdomain enabled_networks: [] role_networks: [] centos7: ansible_ssh_host_key_rsa_public: AAAATEST,223,22
openstack%2Foslo.messaging~stable%2Ftrain~I5ca930cada523bc77c644703a0f02b9160816231,openstack/oslo.messaging,stable/train,I5ca930cada523bc77c644703a0f02b9160816231,Print warning message when connection running out,MERGED,2020-06-10 04:26:31.000000000,2020-07-08 20:55:46.000000000,2020-07-08 11:13:20.000000000,"[{'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-06-10 04:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/4b603657b7b2f04ac8b612b7ae1caeea0034d2df', 'message': ""Print warning message when connection running out\n\nI believe when connection pool running out of available\nresources, there will be all kinds of weird consequences\nfollowing. So let's print warning logs when we are going\nto waiting indefinitely for the lock\n\nChange-Id: I5ca930cada523bc77c644703a0f02b9160816231\nRelated-bug: #1871813\n(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)\n(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)\n""}, {'number': 2, 'created': '2020-07-06 23:55:06.000000000', 'files': ['oslo_messaging/_drivers/pool.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/1613b7a968f33ef7dc683d05fde05be0c458c8fc', 'message': ""Print warning message when connection running out\n\nI believe when connection pool running out of available\nresources, there will be all kinds of weird consequences\nfollowing. So let's print warning logs when we are going\nto waiting indefinitely for the lock\n\nChange-Id: I5ca930cada523bc77c644703a0f02b9160816231\nRelated-bug: #1871813\n(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)\n(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)\n""}]",0,734740,1613b7a968f33ef7dc683d05fde05be0c458c8fc,26,5,2,29071,,,0,"Print warning message when connection running out

I believe when connection pool running out of available
resources, there will be all kinds of weird consequences
following. So let's print warning logs when we are going
to waiting indefinitely for the lock

Change-Id: I5ca930cada523bc77c644703a0f02b9160816231
Related-bug: #1871813
(cherry picked from commit 96300a32213d1a9bf114b90bef6971d69b839d1d)
(cherry picked from commit 39f770f55b3331b7a99b3ea42a34982a20635cf2)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/40/734740/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_messaging/_drivers/pool.py'],1,4b603657b7b2f04ac8b612b7ae1caeea0034d2df,bug/1871813-stable/ussuri-stable/train," LOG.warning(""Connection pool limit exceeded: "" ""current size %s surpasses max "" ""configured rpc_conn_pool_size %s"", self._current_size, self._max_size)",,4,0
openstack%2Ftripleo-heat-templates~master~I257c0f4f73e616f159860916ec1db704bd195b86,openstack/tripleo-heat-templates,master,I257c0f4f73e616f159860916ec1db704bd195b86,Task should fail on any failure,MERGED,2020-07-06 12:24:12.000000000,2020-07-08 20:51:28.000000000,2020-07-08 16:01:15.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 8866}, {'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 31863}]","[{'number': 1, 'created': '2020-07-06 12:24:12.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-inject.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1192ea1684f607d647e46b96471d921e0d05342b', 'message': 'Task should fail on any failure\n\nAnsible should fail on any command in this task not only on last one.\n\nChange-Id: I257c0f4f73e616f159860916ec1db704bd195b86\nCloses-Bug: #1885924\n'}]",0,739470,1192ea1684f607d647e46b96471d921e0d05342b,11,10,1,11090,,,0,"Task should fail on any failure

Ansible should fail on any command in this task not only on last one.

Change-Id: I257c0f4f73e616f159860916ec1db704bd195b86
Closes-Bug: #1885924
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/70/739470/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-inject.yaml'],1,1192ea1684f607d647e46b96471d921e0d05342b,bug/1885924, set -e,,1,0
openstack%2Ftripleo-common~stable%2Ftrain~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,stable/train,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-07 11:14:46.000000000,2020-07-08 20:45:37.000000000,2020-07-08 20:43:17.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-07-07 11:14:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1f99e9349ae6b114b0182fc5ad94fa6367b25239', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nNote: manually cherry picked skipping the unit tests (conflict vs the\nmistral_to_ansible patchset).\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n(cherry picked from commit 14f72a8f775b17e13a32677c407785c3f371c811)\n""}, {'number': 2, 'created': '2020-07-07 11:20:19.000000000', 'files': ['tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8806829a6278386cae9b93b6084891830c83a2c1', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nNote: manually cherry picked skipping the unit tests (conflict vs the\nmistral_to_ansible patchset).\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)\n""}]",0,739713,8806829a6278386cae9b93b6084891830c83a2c1,12,4,2,30126,,,0,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Note: manually cherry picked skipping the unit tests (conflict vs the
mistral_to_ansible patchset).

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/13/739713/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,1f99e9349ae6b114b0182fc5ad94fa6367b25239,,"from ironicclient import exceptions as ironicexceptions try: bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name} except ironicexceptions.NotFound: LOG.warning('Baremetal node for server %s not found - skipping it', node.id) pass "," bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name}",11,4
openstack%2Fmanila~master~Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c,openstack/manila,master,Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c,[DNM] Disabling ``mark_qos_policy_group_for_deletion`` method,ABANDONED,2020-07-08 18:29:42.000000000,2020-07-08 20:41:59.000000000,,[],"[{'number': 1, 'created': '2020-07-08 18:29:42.000000000', 'files': ['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/6b2752ac6029f76245a303c1bb660c0adb692a40', 'message': '[DNM] Disabling ``mark_qos_policy_group_for_deletion`` method\n\nTo test SVM scoped accounts, this method will be disabled to analyze\nif its failure in retrieving QoS of a share, that is not allowed if not\nusing cluster credentials, is related with the TearDown problem in tests\non CI with SVM scoped accounts.\n\nChange-Id: Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c\n'}]",0,740081,6b2752ac6029f76245a303c1bb660c0adb692a40,3,0,1,31528,,,0,"[DNM] Disabling ``mark_qos_policy_group_for_deletion`` method

To test SVM scoped accounts, this method will be disabled to analyze
if its failure in retrieving QoS of a share, that is not allowed if not
using cluster credentials, is related with the TearDown problem in tests
on CI with SVM scoped accounts.

Change-Id: Ibbe8ef5b49abbccd30bd2d551b737cac89180d4c
",git fetch https://review.opendev.org/openstack/manila refs/changes/81/740081/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/netapp/dataontap/cluster_mode/lib_base.py', 'manila/share/drivers/netapp/dataontap/client/client_cmode.py']",2,6b2752ac6029f76245a303c1bb660c0adb692a40,," if self._have_cluster_creds: if self.qos_policy_group_exists(qos_policy_group_name): new_name = DELETED_PREFIX + qos_policy_group_name try: self.qos_policy_group_rename(qos_policy_group_name, new_name) except netapp_api.NaApiError as ex: msg = ('Rename failure in cleanup of cDOT QoS policy ' 'group %(name)s: %(ex)s') msg_args = {'name': qos_policy_group_name, 'ex': ex} LOG.warning(msg, msg_args) # Attempt to delete any QoS policies named ""deleted_manila-*"". self.remove_unused_qos_policy_groups()"," if self.qos_policy_group_exists(qos_policy_group_name): new_name = DELETED_PREFIX + qos_policy_group_name try: self.qos_policy_group_rename(qos_policy_group_name, new_name) except netapp_api.NaApiError as ex: msg = ('Rename failure in cleanup of cDOT QoS policy ' 'group %(name)s: %(ex)s') msg_args = {'name': qos_policy_group_name, 'ex': ex} LOG.warning(msg, msg_args) # Attempt to delete any QoS policies named ""deleted_manila-*"". self.remove_unused_qos_policy_groups()",19,16
openstack%2Fkolla-ansible~master~Ib37ea4d42f82096a682cebc724c45c9dd39c8b47,openstack/kolla-ansible,master,Ib37ea4d42f82096a682cebc724c45c9dd39c8b47,Remove the ml2_conf.ini merging for agents,MERGED,2020-07-06 15:52:09.000000000,2020-07-08 19:49:58.000000000,2020-07-08 19:47:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 15:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b5b8bf7559a3c999eac899646be200e77d761f9a', 'message': 'Remove the planned merge_configs\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}, {'number': 2, 'created': '2020-07-07 15:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bf0a96655c7b8ee6515ba2977936146ef07306dc', 'message': 'Remove the planned merge_configs\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}, {'number': 3, 'created': '2020-07-07 15:54:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/af5ddd9757b0673c7d0b7028e698845f581152e7', 'message': 'Remove the planned merge_configs\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}, {'number': 4, 'created': '2020-07-08 15:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/37a051f9b8360eb535b128f42964ec6a36085d2c', 'message': 'Remove the planned merge_configs\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}, {'number': 5, 'created': '2020-07-08 15:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9c412ae65b32b9b64b8ac009df558c9aa0a9200', 'message': 'Remove the planned merge_configs\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}, {'number': 6, 'created': '2020-07-08 15:31:51.000000000', 'files': ['releasenotes/notes/remove-ml2-agents-config-96f1f90e7d678209.yaml', 'ansible/roles/neutron/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c7d92ed6686ace1134167bbae778af68f676d593', 'message': 'Remove the ml2_conf.ini merging for agents\n\nplanned removal\n\nChange-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47\n'}]",0,739525,c7d92ed6686ace1134167bbae778af68f676d593,20,4,6,30356,,,0,"Remove the ml2_conf.ini merging for agents

planned removal

Change-Id: Ib37ea4d42f82096a682cebc724c45c9dd39c8b47
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/25/739525/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/config.yml'],1,b5b8bf7559a3c999eac899646be200e77d761f9a,,," # TODO(mnasiadka): Remove in V - left to not break existing deployments - ""{{ node_custom_config }}/neutron/ml2_conf.ini"" - ""{{ node_custom_config }}/neutron/{{ inventory_hostname }}/ml2_conf.ini"" # TODO(mnasiadka): Remove in V - left to not break existing deployments - ""{{ node_custom_config }}/neutron/ml2_conf.ini"" - ""{{ node_custom_config }}/neutron/{{ inventory_hostname }}/ml2_conf.ini""",0,6
openstack%2Fdevstack-plugin-ceph~master~Ic534a47fff17d36eb1ef128ad6af70a34ed942c9,openstack/devstack-plugin-ceph,master,Ic534a47fff17d36eb1ef128ad6af70a34ed942c9,Use apt-get to update repos on Ubuntu,MERGED,2020-07-07 10:03:26.000000000,2020-07-08 19:36:38.000000000,2020-07-08 19:22:53.000000000,"[{'_account_id': 4523}, {'_account_id': 6413}, {'_account_id': 10135}, {'_account_id': 16643}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 10:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/220e2cc4ceed9d6be1b38e2d4154390eb22f64d6', 'message': 'WIP Use apt-get to update repos on Ubuntu\n\nAppears to break our use of the ubuntu-cloud-archive\nxenial-updates/queens repo on stable/rocky.\n\nChange-Id: Ic534a47fff17d36eb1ef128ad6af70a34ed942c9\n'}, {'number': 2, 'created': '2020-07-07 13:38:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/14a7da09dc2709ba862ff57ad0fbd29537251438', 'message': 'Use apt-get to update repos on Ubuntu\n\nThe use of apt to refresh repos is discouraged and prints the following\nwarning when used:\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts\n\nThe use of apt also appears to break on our Xenial based branches where\nwe enable the Xenial Queens Ubuntu Cloud Archive repos that are\nunsigned. When using apt to refresh these repos apt returns a failure,\nwhile apt-get only returns a warning.\n\nThis change simply switches to apt-get to avoid the above warning and to\nallow the older Xenial based stable branches to continue to work.\n\nChange-Id: Ic534a47fff17d36eb1ef128ad6af70a34ed942c9\n'}, {'number': 3, 'created': '2020-07-07 14:42:38.000000000', 'files': ['devstack/lib/ceph'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/16f8bef33b9278547eee540fb3bb0e5a84eb2d3d', 'message': 'Use apt-get to update repos on Ubuntu\n\nThe use of apt to refresh repos is discouraged and prints the following\nwarning when used:\n\nWARNING: apt does not have a stable CLI interface. Use with caution in scripts\n\nThe use of apt also appears to break on our Xenial based branches where\nwe enable the Xenial Queens Ubuntu Cloud Archive repos that are\nunsigned. When using apt to refresh these repos apt returns a failure,\nwhile apt-get only returns a warning.\n\nThis change simply switches to apt-get to avoid the above warning and to\nallow the older Xenial based stable branches to continue to work.\n\nChange-Id: Ic534a47fff17d36eb1ef128ad6af70a34ed942c9\n'}]",4,739694,16f8bef33b9278547eee540fb3bb0e5a84eb2d3d,20,6,3,10135,,,0,"Use apt-get to update repos on Ubuntu

The use of apt to refresh repos is discouraged and prints the following
warning when used:

WARNING: apt does not have a stable CLI interface. Use with caution in scripts

The use of apt also appears to break on our Xenial based branches where
we enable the Xenial Queens Ubuntu Cloud Archive repos that are
unsigned. When using apt to refresh these repos apt returns a failure,
while apt-get only returns a warning.

This change simply switches to apt-get to avoid the above warning and to
allow the older Xenial based stable branches to continue to work.

Change-Id: Ic534a47fff17d36eb1ef128ad6af70a34ed942c9
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/94/739694/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ceph'],1,220e2cc4ceed9d6be1b38e2d4154390eb22f64d6,," if [ ""${package_manager}"" = ""apt-get"" ]; then configure_repo_ceph ""apt-get"" ""$CEPH_RELEASE_STABLE"" ""ubuntu"" ""$os_CODENAME"" configure_repo_ceph ""apt-get"" ""$CEPH_RELEASE"" ""ubuntu"" ""$os_CODENAME"""," if [ ""${package_manager}"" = ""apt"" ]; then configure_repo_ceph ""apt"" ""$CEPH_RELEASE_STABLE"" ""ubuntu"" ""$os_CODENAME"" configure_repo_ceph ""apt"" ""$CEPH_RELEASE"" ""ubuntu"" ""$os_CODENAME""",3,3
openstack%2Fkolla-ansible~stable%2Ftrain~Ia1743e202e310fc88a61476c80eadf3855256c20,openstack/kolla-ansible,stable/train,Ia1743e202e310fc88a61476c80eadf3855256c20,Use kolla_logs volume for Elasticsearch,MERGED,2020-07-08 15:08:29.000000000,2020-07-08 19:33:06.000000000,2020-07-08 19:31:01.000000000,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23084}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 15:08:29.000000000', 'files': ['releasenotes/notes/fix-issue-with-elasticsearch-kolla-logs-a0ba85d91d1a2c31.yaml', 'ansible/roles/elasticsearch/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0c1b326e32d7d6f1470e4ee6a83cfcafbdedcc69', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n(cherry picked from commit 1917d1a9f54a86b1376b54652804070b307673ea)\n'}]",0,740015,0c1b326e32d7d6f1470e4ee6a83cfcafbdedcc69,8,4,1,17669,,,0,"Use kolla_logs volume for Elasticsearch

This patch mounts the kolla_logs volume into the Elasticsearch
container so that logs are no longer written to the container
filesystem. It is up to the user to migrate any existing logs
into the kolla_logs volume, if they so desire.

Closes-Bug: #1859162
Change-Id: Ia1743e202e310fc88a61476c80eadf3855256c20
(cherry picked from commit 1917d1a9f54a86b1376b54652804070b307673ea)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/740015/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-issue-with-elasticsearch-kolla-logs-a0ba85d91d1a2c31.yaml', 'ansible/roles/elasticsearch/defaults/main.yml']",2,0c1b326e32d7d6f1470e4ee6a83cfcafbdedcc69,bug/1859162-stable/train," - ""kolla_logs:/var/log/kolla/""",,9,0
openstack%2Fbifrost~bugfix%2F8.2~Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8,openstack/bifrost,bugfix/8.2,Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8,Update .gitreview for bugfix/8.2,MERGED,2020-07-08 13:48:41.000000000,2020-07-08 19:17:52.000000000,2020-07-08 19:08:26.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 13:48:41.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/9184d5a79aa98fe05380f680af51595b6b081e3a', 'message': 'Update .gitreview for bugfix/8.2\n\nChange-Id: Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8\n'}]",0,739990,9184d5a79aa98fe05380f680af51595b6b081e3a,8,3,1,22816,,,0,"Update .gitreview for bugfix/8.2

Change-Id: Ief1f6dc67f171bddcaf5ad54975e8e738c3f9bd8
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/90/739990/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9184d5a79aa98fe05380f680af51595b6b081e3a,create-8.2,defaultbranch=bugfix/8.2,,1,0
openstack%2Frpm-packaging~stable%2Frocky~I913715f8ee64d8aa1695f46e0103322e66362eef,openstack/rpm-packaging,stable/rocky,I913715f8ee64d8aa1695f46e0103322e66362eef,Add patches to os-brick to resolve CVE-2020-10755,MERGED,2020-07-06 13:46:03.000000000,2020-07-08 19:14:54.000000000,2020-07-08 19:14:54.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 12542}, {'_account_id': 14892}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-06 13:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6e0f6a5cfe814dfb180528ee6cffe9969b7220c3', 'message': 'Add patches to os-brick to resolve CVE-2020-10755\n\nThis patch resovles a vulnerability in the ScaleIO driver.\n[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend\nCredentials Exposure\n\nChange-Id: I913715f8ee64d8aa1695f46e0103322e66362eef\n'}, {'number': 2, 'created': '2020-07-06 14:03:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/26648cd1fc317883e9d7e70d83fd093a6d13b102', 'message': 'Add patches to os-brick to resolve CVE-2020-10755\n\nThis patch resovles a vulnerability in the ScaleIO driver.\n[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend\nCredentials Exposure\n\nChange-Id: I913715f8ee64d8aa1695f46e0103322e66362eef\n'}, {'number': 3, 'created': '2020-07-06 15:44:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5b88a6957f7c0599e797abf600d938a68a8da452', 'message': 'Add patches to os-brick to resolve CVE-2020-10755\n\nThis patch resovles a vulnerability in the ScaleIO driver.\n[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend\nCredentials Exposure\n\nChange-Id: I913715f8ee64d8aa1695f46e0103322e66362eef\n'}, {'number': 4, 'created': '2020-07-07 13:10:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/7c37b91d4badae5d7e599d6e71bbc6b2ca1d65c7', 'message': 'Add patches to os-brick to resolve CVE-2020-10755\n\nThis patch resovles a vulnerability in the ScaleIO driver.\n[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend\nCredentials Exposure\n\nChange-Id: I913715f8ee64d8aa1695f46e0103322e66362eef\n'}, {'number': 5, 'created': '2020-07-08 13:32:28.000000000', 'files': ['openstack/os-brick/0001-Remove-VxFlex-OS-credentials-from-connection_propert.patch', 'openstack/os-brick/os-brick.spec.j2', 'openstack/os-brick/0002-Fix-Remove-VxFlex-OS-credentials-regression.patch'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/99ca3bad0bac53a03e18204f985bf63a9bf07b5e', 'message': 'Add patches to os-brick to resolve CVE-2020-10755\n\nThis patch resovles a vulnerability in the ScaleIO driver.\n[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend\nCredentials Exposure\n\nChange-Id: I913715f8ee64d8aa1695f46e0103322e66362eef\n'}]",1,739491,99ca3bad0bac53a03e18204f985bf63a9bf07b5e,43,9,5,14892,,,0,"Add patches to os-brick to resolve CVE-2020-10755

This patch resovles a vulnerability in the ScaleIO driver.
[OSSN-0086] erratum: Dell EMC ScaleIO/VxFlex OS Backend
Credentials Exposure

Change-Id: I913715f8ee64d8aa1695f46e0103322e66362eef
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/91/739491/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/os-brick/0001-Remove-VxFlex-OS-credentials-from-connection_propert.patch', 'openstack/os-brick/os-brick.spec.j2', 'openstack/os-brick/0002-Fix-Remove-VxFlex-OS-credentials-regression.patch']",3,6e0f6a5cfe814dfb180528ee6cffe9969b7220c3,fix_cve_2020_10755,"From 867767ffdae124fcdb9b04a9089e226689c476d7 Mon Sep 17 00:00:00 2001 From: hamalq <hamalq@verizonmedia.com> Date: Tue, 16 Jun 2020 17:59:07 +0000 Subject: [PATCH 2/2] Fix ""Remove VxFlex OS credentials"" regression Change I10a8aaddbf7dd09830cd4189cd1f99c0ad1f3b60 uses a ConfigParser instance in a way that is incompatible with python 2.7, resulting in a ""ConfigParser instance has no attribute '__getitem__'"" error. This patch accesses the ConfigParser using the ""old"" API that works in both Python 2.7 and Python 3 and adds some tests. Co-authored-by: Brian Rosmaita <rosmaita.fossdev@gmail.com> Change-Id: Ie2db587c3bc379acd53cfd449788d171ae58dec5 Closes-Bug: 1883654 (cherry picked from commit 12d252db9cb9deffea3c87b86ea71b3013d93892) (cherry picked from commit 750999db0de0fcfc923cd453add808ca42a4e2b4) Conflicts: - remove os_brick/privileged/scaleio.py (function with bug is in the connector in this branch) - move the test file to tests/initiator/connectors/ - modify the unit tests because the config file is accessed differently in this branch --- os_brick/initiator/connectors/scaleio.py | 2 +- .../connectors/test_scaleio_get_password.py | 62 +++++++++++++++++++ .../notes/bug-1883654-cc069892496bd4a8.yaml | 28 +++++++++ 3 files changed, 91 insertions(+), 1 deletion(-) create mode 100644 os_brick/tests/initiator/connectors/test_scaleio_get_password.py create mode 100644 releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml diff --git a/os_brick/initiator/connectors/scaleio.py b/os_brick/initiator/connectors/scaleio.py index b420eaa..f278a56 100644 --- a/os_brick/initiator/connectors/scaleio.py +++ b/os_brick/initiator/connectors/scaleio.py @@ -240,7 +240,7 @@ class ScaleIOConnector(base.BaseLinuxConnector): root_helper=self._root_helper) conf = configparser.ConfigParser() conf.readfp(six.StringIO(out)) - return conf[config_group][""san_password""] + return conf.get(config_group, ""san_password"") except putils.ProcessExecutionError as e: msg = _(""Error reading ScaleIO connector "" ""configuration file: %s"") % e.stderr diff --git a/os_brick/tests/initiator/connectors/test_scaleio_get_password.py b/os_brick/tests/initiator/connectors/test_scaleio_get_password.py new file mode 100644 index 0000000..6d9aaa5 --- /dev/null +++ b/os_brick/tests/initiator/connectors/test_scaleio_get_password.py @@ -0,0 +1,62 @@ +# Copyright 2020, Red Hat Inc. +# +# Licensed under the Apache License, Version 2.0 (the ""License""); you may +# not use this file except in compliance with the License. You may obtain +# a copy of the License at +# +# http://www.apache.org/licenses/LICENSE-2.0 +# +# Unless required by applicable law or agreed to in writing, software +# distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT +# WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the +# License for the specific language governing permissions and limitations +# under the License. + +import mock +import os + +from os_brick import exception +from os_brick.initiator.connectors import scaleio +from os_brick.tests import base + +EXPECTED_SECTION = ""scalio_test"" +EXPECTED_PASSWORD = ""This is not a good password"" +FAKE_CONF = """""" +[DEFAULT] +san_password = not me + +[{}] +san_password = {} + +[section_2] +san_password = not me either +"""""".format(EXPECTED_SECTION, EXPECTED_PASSWORD) + + +class ScaleioGetPasswordTestCase(base.TestCase): + """"""Check the get_connector_password function. + + Launchpad bug #1883654: a change that worked fine in the + python 3-only branches broke when run under py2.7 in the stable + branches. + + """""" + + def setUp(self): + super(ScaleioGetPasswordTestCase, self).setUp() + # The actual ScaleIO connector + self.connector = scaleio.ScaleIOConnector('sudo') + + @mock.patch.object(os.path, 'isfile', return_value=False) + def test_get_connector_password_bad_filename(self, mock_isfile): + self.assertRaises(exception.BrickException, + self.connector._get_connector_password, + EXPECTED_SECTION) + + @mock.patch.object(scaleio.ScaleIOConnector, '_execute') + @mock.patch.object(os.path, 'isfile', return_value=True) + def test_get_connector_password(self, mock_isfile, mock_execute): + mock_execute.return_value = (FAKE_CONF, 0) + found_password = self.connector._get_connector_password( + EXPECTED_SECTION) + self.assertEqual(EXPECTED_PASSWORD, found_password) diff --git a/releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml b/releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml new file mode 100644 index 0000000..a183a1c --- /dev/null +++ b/releasenotes/notes/bug-1883654-cc069892496bd4a8.yaml @@ -0,0 +1,28 @@ +--- +security: + - | + Dell EMC VxFlex OS driver: This release corrects an issue where the + fix for `Bug #1823200 <https://bugs.launchpad.net/cinder/+bug/1823200>`_ + did not run correctly when using Python 2.7. If you are interested + in this release because of `OSSN-0086 + <https://wiki.openstack.org/wiki/OSSN/OSSN-0086>`_, be aware that + you must also deploy a configuration file on compute nodes, cinder + nodes, and anywhere you would perform a volume attachment in your + deployment. Please see the release notes for the previous release + for details. +upgrade: + - | + This release corrects a problem with the fix for `Bug #1823200 + <https://bugs.launchpad.net/cinder/+bug/1823200>`_ in the previous + release. If you are running OpenStack on Python 3, you should not + be impacted by this bug. If you are not using Dell EMC VxFlex OS + (ScaleIO) Storage as a backend for Cinder, you do not need to upgrade + to this release. +fixes: + - | + `Bug #1883654 <https://bugs.launchpad.net/os-brick/+bug/1883654>`_: + The fix for `Bug #1823200 + <https://bugs.launchpad.net/cinder/+bug/1823200>`_ in the previous + release used a Python 3-specific language feature and thus did not + run correctly when used with Python 2.7. The problem has been corrected + in this release. -- 2.27.0 ",,278,0
openstack%2Fcinder~master~Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a,openstack/cinder,master,Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a,tests: remove self.injected,MERGED,2020-05-19 18:11:00.000000000,2020-07-08 19:05:24.000000000,2020-07-08 18:48:18.000000000,"[{'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 31854}]","[{'number': 1, 'created': '2020-05-19 18:11:00.000000000', 'files': ['cinder/tests/unit/test.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/38fa7f66d0d9726a0ae816bb6cc2c834ec0a2fd8', 'message': 'tests: remove self.injected\n\nThis is in the base TestCase but is not used\nby anything.  Remove it.\n\nChange-Id: Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a\n'}]",0,729343,38fa7f66d0d9726a0ae816bb6cc2c834ec0a2fd8,42,28,1,4523,,,0,"tests: remove self.injected

This is in the base TestCase but is not used
by anything.  Remove it.

Change-Id: Ifef0a8b4b45f5e6a0960ddd0832f08a5d5760f7a
",git fetch https://review.opendev.org/openstack/cinder refs/changes/43/729343/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/test.py'],1,38fa7f66d0d9726a0ae816bb6cc2c834ec0a2fd8,,, self.injected = [] # Stop any timers for x in self.injected: try: x.stop() except AssertionError: pass ,0,8
openstack%2Fopenstack-helm-infra~master~I0a144e2a05b9617d2cb46bcb56c746ca05743c1b,openstack/openstack-helm-infra,master,I0a144e2a05b9617d2cb46bcb56c746ca05743c1b,Node Exporter: Add rootfs mount argument,MERGED,2020-07-06 17:44:11.000000000,2020-07-08 19:04:24.000000000,2020-07-08 18:59:11.000000000,"[{'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 30582}]","[{'number': 1, 'created': '2020-07-06 17:44:11.000000000', 'files': ['prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ddc35266c94f67d01166765983d660bf933dcb22', 'message': 'Node Exporter: Add rootfs mount argument\n\nChange-Id: I0a144e2a05b9617d2cb46bcb56c746ca05743c1b\n'}]",0,739560,ddc35266c94f67d01166765983d660bf933dcb22,9,4,1,30777,,,0,"Node Exporter: Add rootfs mount argument

Change-Id: I0a144e2a05b9617d2cb46bcb56c746ca05743c1b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/739560/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/templates/bin/_node-exporter.sh.tpl', 'prometheus-node-exporter/values.yaml']",2,ddc35266c94f67d01166765983d660bf933dcb22,, node_exporter: docker.io/prom/node-exporter:v0.18.1 rootfs_mount_point:, node_exporter: docker.io/prom/node-exporter:v0.15.0,5,1
openstack%2Fcinder~master~I7c17d915389de79f686804f5f9d2b2eb5ab26334,openstack/cinder,master,I7c17d915389de79f686804f5f9d2b2eb5ab26334,Move make_initiator_target_all2all_map out of vutils,MERGED,2020-05-19 14:54:27.000000000,2020-07-08 19:02:43.000000000,2020-07-08 18:48:14.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 30688}, {'_account_id': 31854}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-05-19 14:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0c8b42ad30315ae2af0c58c813460901d3bb7483', 'message': 'Move make_initiator_target_all2all_map out of vutils\n\nThis is only used by one driver -- move it there.\n\nChange-Id: I7c17d915389de79f686804f5f9d2b2eb5ab26334\n'}, {'number': 2, 'created': '2020-05-19 18:11:00.000000000', 'files': ['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py', 'cinder/tests/unit/volume/drivers/inspur/instorage/test_fc_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f2446b4f9049064b09c5b63a563b0ebaaacd3498', 'message': 'Move make_initiator_target_all2all_map out of vutils\n\nThis is only used by one driver -- move it there.\n\nChange-Id: I7c17d915389de79f686804f5f9d2b2eb5ab26334\n'}]",0,729296,f2446b4f9049064b09c5b63a563b0ebaaacd3498,57,34,2,4523,,,0,"Move make_initiator_target_all2all_map out of vutils

This is only used by one driver -- move it there.

Change-Id: I7c17d915389de79f686804f5f9d2b2eb5ab26334
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/729296/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_utils.py', 'cinder/volume/drivers/inspur/instorage/instorage_fc.py']",2,0c8b42ad30315ae2af0c58c813460901d3bb7483,," @staticmethod def make_initiator_target_all2all_map(initiator_wwpns, target_wwpns): """"""Build a simplistic all-to-all mapping."""""" i_t_map = {} for i_wwpn in initiator_wwpns: i_t_map[str(i_wwpn)] = [] for t_wwpn in target_wwpns: i_t_map[i_wwpn].append(t_wwpn) return i_t_map i_t_map = self.make_initiator_target_all2all_map( self.make_initiator_target_all2all_map(",from cinder.volume import volume_utils i_t_map = volume_utils.make_initiator_target_all2all_map( volume_utils.make_initiator_target_all2all_map(,13,14
openstack%2Fopenstack-helm-infra~master~I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,openstack/openstack-helm-infra,master,I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1,Add missing security context to ceph-rgw and ceph-osd pods/containers,MERGED,2020-07-07 00:00:04.000000000,2020-07-08 19:02:34.000000000,2020-07-08 18:53:52.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-07 00:00:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/73012772ff6de82f66509b2012428793303bbb78', 'message': 'Add missing security context to ceph-rgw test pods/containers\n\nThis updates the ceph-rgw chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1\n'}, {'number': 2, 'created': '2020-07-07 22:40:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/67ac8822c683cf91a83bf381e3bfdf4fe1c9591d', 'message': 'Add missing security context to ceph-rgw test pods/containers\n\nThis updates the ceph-rgw chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1\n'}, {'number': 3, 'created': '2020-07-07 22:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b3f63fc5383c27851d700ff2f565404cb93fa0ca', 'message': 'Add missing security context to ceph-rgw test pods/containers\n\nThis updates the ceph-rgw chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1\n'}, {'number': 4, 'created': '2020-07-07 23:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20f5eafe64fdd0b237c15fb74bc59045b86d4aac', 'message': 'Add missing security context to ceph-rgw test pods/containers\n\nThis updates the ceph-rgw chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1\n'}, {'number': 5, 'created': '2020-07-07 23:09:41.000000000', 'files': ['ceph-osd/values.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/00a64aa8071de745e422ed402c2e9057acb8b6fd', 'message': 'Add missing security context to ceph-rgw and ceph-osd pods/containers\n\nThis updates the ceph-rgw and ceph-osd chart to include the pod\nsecurity context on the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1\n'}]",0,739623,00a64aa8071de745e422ed402c2e9057acb8b6fd,16,12,5,29161,,,0,"Add missing security context to ceph-rgw and ceph-osd pods/containers

This updates the ceph-rgw and ceph-osd chart to include the pod
security context on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: I1b78b7a0fc413acdb5ea2dc295a0026616d7cac1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/23/739623/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/values.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml']",2,73012772ff6de82f66509b2012428793303bbb78,ceph,"{{ dict ""envAll"" $envAll ""application"" ""rgw_test"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 2 }}{{ dict ""envAll"" $envAll ""application"" ""rgw_test"" ""container"" ""ceph_rgw_ks_validation"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 6 }}",,9,0
openstack%2Freleases~master~I7045ccddeb6517b105c9b73c21db822bd7380eed,openstack/releases,master,I7045ccddeb6517b105c9b73c21db822bd7380eed,Release ironic 15.1.0 for victoria,MERGED,2020-07-08 14:07:42.000000000,2020-07-08 18:59:15.000000000,2020-07-08 18:59:14.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 14:07:42.000000000', 'files': ['deliverables/victoria/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9a08aff4240b20046e3522ef01792d4048004a11', 'message': 'Release ironic 15.1.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: I7045ccddeb6517b105c9b73c21db822bd7380eed\n'}]",0,739993,9a08aff4240b20046e3522ef01792d4048004a11,10,3,1,23851,,,0,"Release ironic 15.1.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: I7045ccddeb6517b105c9b73c21db822bd7380eed
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/739993/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic.yaml'],1,9a08aff4240b20046e3522ef01792d4048004a11,ironic-victoria-151,stable-branch-type: std-with-versionsreleases: - version: 15.1.0 projects: - repo: openstack/ironic hash: 3fab17f966c4d9e7c019b12cd749fa8218ca4ac4 branches: - name: bugfix/15.1 location: 15.1.0,,9,0
openstack%2Freleases~master~Ie4adba1ca399abb43abc7741e55e82968ba742f6,openstack/releases,master,Ie4adba1ca399abb43abc7741e55e82968ba742f6,Release 5.3.0 of python-openstackclient,MERGED,2020-07-08 17:27:06.000000000,2020-07-08 18:59:13.000000000,2020-07-08 18:59:13.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 17:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/8604d4915c3c41fc6e1c4370163a25e0d0f2fa60', 'message': 'Release 5.3.0 of python-openstackclient\n\nChange-Id: Ie4adba1ca399abb43abc7741e55e82968ba742f6\n'}, {'number': 2, 'created': '2020-07-08 17:31:59.000000000', 'files': ['deliverables/victoria/python-openstackclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/d11077094bf40490cb9fbe5cf94bf067cabd4842', 'message': 'Release 5.3.0 of python-openstackclient\n\nChange-Id: Ie4adba1ca399abb43abc7741e55e82968ba742f6\n'}]",0,740069,d11077094bf40490cb9fbe5cf94bf067cabd4842,10,3,2,2,,,0,"Release 5.3.0 of python-openstackclient

Change-Id: Ie4adba1ca399abb43abc7741e55e82968ba742f6
",git fetch https://review.opendev.org/openstack/releases refs/changes/69/740069/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/python-openstackclient.yaml'],1,8604d4915c3c41fc6e1c4370163a25e0d0f2fa60,,releases: - version: 5.3.0 projects: - repo: openstack/python-openstackclient hash: 9fb68eca44612847a2eba4f1063579b2f921b0bb,,5,0
openstack%2Freleases~master~Ie9d49a82ad4d8bddb47a22912e29746060e78305,openstack/releases,master,Ie9d49a82ad4d8bddb47a22912e29746060e78305,Release ironic-inspector 10.2.0 for victoria,MERGED,2020-07-08 13:27:58.000000000,2020-07-08 18:40:33.000000000,2020-07-08 18:40:33.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 13:27:58.000000000', 'files': ['deliverables/victoria/ironic-inspector.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/240f25f18921970a12a5f7998bed85586ba4ccec', 'message': 'Release ironic-inspector 10.2.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: Ie9d49a82ad4d8bddb47a22912e29746060e78305\n'}]",0,739983,240f25f18921970a12a5f7998bed85586ba4ccec,8,3,1,23851,,,0,"Release ironic-inspector 10.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: Ie9d49a82ad4d8bddb47a22912e29746060e78305
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/739983/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-inspector.yaml'],1,240f25f18921970a12a5f7998bed85586ba4ccec,ironic-inspector-victoria-102,stable-branch-type: std-with-versionsreleases: - version: 10.2.0 projects: - repo: openstack/ironic-inspector hash: b1e79e0b4dd2fd06bc8e8027a66883f6941258a5 branches: - name: bugfix/10.2 location: 10.2.0,,9,0
openstack%2Freleases~master~Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0,openstack/releases,master,Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0,Release ironic-python-agent 6.2.0 for victoria,MERGED,2020-07-08 13:21:09.000000000,2020-07-08 18:40:31.000000000,2020-07-08 18:40:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 13:21:09.000000000', 'files': ['deliverables/victoria/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/f22c170346fc5c52210443e1243e1c355cb403fd', 'message': 'Release ironic-python-agent 6.2.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0\n'}]",0,739980,f22c170346fc5c52210443e1243e1c355cb403fd,8,3,1,23851,,,0,"Release ironic-python-agent 6.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: Ie1f182128a06976a5c80b12e0d159f74b7b1bbf0
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/739980/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/ironic-python-agent.yaml'],1,f22c170346fc5c52210443e1243e1c355cb403fd,ipa-victoria-620,stable-branch-type: std-with-versionsreleases: - version: 6.2.0 projects: - repo: openstack/ironic-python-agent hash: 9d9a6bce5c246d18d50dc405265e865fb77142eb branches: - name: bugfix/6.2 location: 6.2.0,,9,0
openstack%2Fpuppet-neutron~master~I179fa93a0226f982019f2366684aa24b4e6e9a12,openstack/puppet-neutron,master,I179fa93a0226f982019f2366684aa24b4e6e9a12,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 01:57:34.000000000,2020-07-08 18:38:40.000000000,2020-07-08 18:35:33.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 01:57:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/66570ff87516410c22bc35c1d88f4c55bf0ff009', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12\n'}, {'number': 2, 'created': '2020-07-08 02:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ffa122dcc0631d6a38eff6c92dd57cfeff127053', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12\n'}, {'number': 3, 'created': '2020-07-08 02:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a1082d09e4c894b6913569181fccde4162fb68f3', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12\n'}, {'number': 4, 'created': '2020-07-08 05:24:27.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-e1fe904a198d11bb.yaml', 'spec/classes/neutron_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6d825ca6fe925f535504f34626f82116cdc49dd4', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12\n'}]",0,739871,6d825ca6fe925f535504f34626f82116cdc49dd4,12,3,4,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I179fa93a0226f982019f2366684aa24b4e6e9a12
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/71/739871/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-e1fe904a198d11bb.yaml', 'spec/classes/neutron_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,66570ff87516410c22bc35c1d88f4c55bf0ff009,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Freleases~master~I72c703037acfd2eb591d70426be06a3fff72123e,openstack/releases,master,I72c703037acfd2eb591d70426be06a3fff72123e,release oslo.policy,MERGED,2020-07-01 11:57:03.000000000,2020-07-08 18:32:46.000000000,2020-07-08 18:32:46.000000000,"[{'_account_id': 308}, {'_account_id': 6928}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 11:57:03.000000000', 'files': ['deliverables/stein/oslo.policy.yaml', 'deliverables/train/oslo.policy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ac1b5bd9003b8047537e26477294ba50244eaee', 'message': 'release oslo.policy\n\n2.3.4 for train\n2.1.3 for stein\n\nIt will release important bugfixes\n\nChange-Id: I72c703037acfd2eb591d70426be06a3fff72123e\n'}]",0,738833,9ac1b5bd9003b8047537e26477294ba50244eaee,14,6,1,28522,,,0,"release oslo.policy

2.3.4 for train
2.1.3 for stein

It will release important bugfixes

Change-Id: I72c703037acfd2eb591d70426be06a3fff72123e
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/738833/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/stein/oslo.policy.yaml', 'deliverables/train/oslo.policy.yaml']",2,9ac1b5bd9003b8047537e26477294ba50244eaee,oslo-policy, - version: 2.3.4 projects: - repo: openstack/oslo.policy hash: 5904564bf13bbac7d66e00ec6312487c507f09c4,,8,0
openstack%2Fneutron~stable%2Frocky~I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,openstack/neutron,stable/rocky,I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,[OVS] Make QoS OVS agent deletion operations more resilient,MERGED,2020-06-26 09:24:22.000000000,2020-07-08 18:27:07.000000000,2020-07-08 18:27:07.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-26 09:24:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/32e08a55edeb13eb575ec2d9181f17cb6906f528', 'message': '[OVS] Make QoS OVS agent deletion operations more resilient\n\nWhen a Port is deleted, the QoS extension will reset any rule (QoS\nand Queue registers) applied on this port or will reset the\nrelated Interface policing parameters.\n\nIf the Port and the related Interface are deleted during the QoS\nextension operation, those commands will fail. This patch makes those\noperations more resiliant by not checking the errors when writing on\nthe Port or the Interface register.\n\nChange-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6\nCloses-Bug: #1884512\n(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)\n(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)\n(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)\n(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)\n'}, {'number': 2, 'created': '2020-07-03 10:16:29.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/94271ad8661a36558172d141a84fdd3891786090', 'message': '[OVS] Make QoS OVS agent deletion operations more resilient\n\nWhen a Port is deleted, the QoS extension will reset any rule (QoS\nand Queue registers) applied on this port or will reset the\nrelated Interface policing parameters.\n\nIf the Port and the related Interface are deleted during the QoS\nextension operation, those commands will fail. This patch makes those\noperations more resiliant by not checking the errors when writing on\nthe Port or the Interface register.\n\nNOTE: this patch is squashed with [1]. That will fix the problem\nwith empty ""vsctl"" transactions when using this OVS DB implementation.\n\n[1]https://review.opendev.org/#/c/738574/\n\nChange-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6\nCloses-Bug: #1884512\n(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)\n(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)\n(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)\n(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)\n'}]",0,738172,94271ad8661a36558172d141a84fdd3891786090,27,5,2,16688,,,0,"[OVS] Make QoS OVS agent deletion operations more resilient

When a Port is deleted, the QoS extension will reset any rule (QoS
and Queue registers) applied on this port or will reset the
related Interface policing parameters.

If the Port and the related Interface are deleted during the QoS
extension operation, those commands will fail. This patch makes those
operations more resiliant by not checking the errors when writing on
the Port or the Interface register.

NOTE: this patch is squashed with [1]. That will fix the problem
with empty ""vsctl"" transactions when using this OVS DB implementation.

[1]https://review.opendev.org/#/c/738574/

Change-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6
Closes-Bug: #1884512
(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)
(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)
(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)
(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/72/738172/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py']",2,32e08a55edeb13eb575ec2d9181f17cb6906f528,bug/1884512," set_egress_mock.assert_called_once_with(""test_port"", 0, 0, check_error=False)"," set_egress_mock.assert_called_once_with(""test_port"", 0, 0)",7,8
openstack%2Fopenstack-helm-infra~master~Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,openstack/openstack-helm-infra,master,Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709,Add missing security context to promethues and postgresql pods/containers,MERGED,2020-07-07 21:18:10.000000000,2020-07-08 18:21:23.000000000,2020-07-08 18:14:35.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-07 21:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5debfe4d3046b77074f06d9e3fd6a30b2197c6e1', 'message': 'Add missing security context to promethues and postgresql pods/containers\n\nThis updates the chart to include the pod security context\non the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709\n'}, {'number': 2, 'created': '2020-07-07 21:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/49ac3bc7e2a49565072652c640f687cbe6e07e67', 'message': 'Add missing security context to promethues and postgresql pods/containers\n\nThis updates the chart to include the pod security context\non the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709\n'}, {'number': 3, 'created': '2020-07-07 21:20:36.000000000', 'files': ['postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'postgresql/values.yaml', 'prometheus/templates/pod-helm-tests.yaml', 'prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b400a6c41dce25d61451915fe4c99906a548171e', 'message': 'Add missing security context to promethues and postgresql pods/containers\n\nThis updates the chart to include the pod security context\non the pod template.\n\nThis also adds the container security context to set\nreadOnlyRootFilesystem flag to true\n\nChange-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709\n'}]",0,739852,b400a6c41dce25d61451915fe4c99906a548171e,13,8,3,29161,,,0,"Add missing security context to promethues and postgresql pods/containers

This updates the chart to include the pod security context
on the pod template.

This also adds the container security context to set
readOnlyRootFilesystem flag to true

Change-Id: Icb7a9de4d98bac1f0bcf6181b6e88695f4b09709
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/52/739852/3 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql/templates/monitoring/prometheus/exporter-job-create-user.yaml', 'postgresql/values.yaml', 'prometheus/templates/pod-helm-tests.yaml', 'prometheus/values.yaml']",4,5debfe4d3046b77074f06d9e3fd6a30b2197c6e1,prometheus, test: pod: runAsUser: 65534 container: prometheus_helm_tests: readOnlyRootFilesystem: true allowPrivilegeEscalation: false,,18,0
openstack%2Fpuppet-nova~master~Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf,openstack/puppet-nova,master,Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 00:56:36.000000000,2020-07-08 18:18:44.000000000,2020-07-08 18:14:36.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 00:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/17de996284d2f5ad1acc013629b11ffc0bbbc6f5', 'message': 'Add support for [keystone_authtoken]interface\n\nThis patch adds support for [keystone_authtoken]interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf\n'}, {'number': 2, 'created': '2020-07-08 01:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d58fd8df565a2184265192aa4b4daea5242da42b', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf\n'}, {'number': 3, 'created': '2020-07-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/f31075750f304086cdfd7a7a5bef223361b68c2d', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf\n'}, {'number': 4, 'created': '2020-07-08 02:17:20.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-eb3ffd7e39795f95.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/651c1a6bab14ad8da7317b43bc81288c624d0803', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf\n'}]",0,739867,651c1a6bab14ad8da7317b43bc81288c624d0803,11,3,4,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ic3f9ad9d4366ec2d4279e7463fe22eb2b63eacaf
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/67/739867/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-eb3ffd7e39795f95.yaml', 'spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,17de996284d2f5ad1acc013629b11ffc0bbbc6f5,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fopenstack-helm-infra~master~I12a5fd6c5043079f830eb36043f5b0ca495a3e93,openstack/openstack-helm-infra,master,I12a5fd6c5043079f830eb36043f5b0ca495a3e93,Fix application name for grafana session sync,MERGED,2020-07-07 21:52:57.000000000,2020-07-08 18:18:34.000000000,2020-07-08 18:14:33.000000000,"[{'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-07 21:52:57.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/job-db-session-sync.yaml', 'grafana/templates/job-add-home-dashboard.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a43f479e6cdd373007561668bf6878a272a4e72b', 'message': 'Fix application name for grafana session sync\n\nImplement helm-toolkit snippet for grafana add-home-dashboard\nwhich adds security context template at pod/container\n\nChange-Id: I12a5fd6c5043079f830eb36043f5b0ca495a3e93\n'}]",0,739860,a43f479e6cdd373007561668bf6878a272a4e72b,10,11,1,29161,,,0,"Fix application name for grafana session sync

Implement helm-toolkit snippet for grafana add-home-dashboard
which adds security context template at pod/container

Change-Id: I12a5fd6c5043079f830eb36043f5b0ca495a3e93
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/739860/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/job-db-session-sync.yaml', 'grafana/templates/job-add-home-dashboard.yaml']",3,a43f479e6cdd373007561668bf6878a272a4e72b,,"{{ dict ""envAll"" $envAll ""application"" ""add_home_dashboard"" | include ""helm-toolkit.snippets.kubernetes_pod_security_context"" | indent 6 }}{{ dict ""envAll"" $envAll ""application"" ""add_home_dashboard"" ""container"" ""add_home_dashboard"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}{{- end }} ",{{- end }},5,3
openstack%2Fneutron~master~If7d68212cadb8eb8a12fa3271023c9e86b2d411e,openstack/neutron,master,If7d68212cadb8eb8a12fa3271023c9e86b2d411e,[OVN] Fix devstack module for OpenSuse,MERGED,2020-07-02 12:58:59.000000000,2020-07-08 18:17:18.000000000,2020-07-08 18:07:44.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-02 12:58:59.000000000', 'files': ['devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/528e0d382e712035355e7b9914828c1b8013dcb2', 'message': '[OVN] Fix devstack module for OpenSuse\n\nThe default path for the OVS tools is /usr/local/bin [0] but, by default\nthis location is not included in the $PATH for some distros (e.g\nOpenSuse).\n\nThis patch includes the $OVS_BINDIR to the $PATH variable for deploying\nDevStack.\n\n[0]\nhttps://github.com/openvswitch/ovs/blob/0fc38297ba3830631e4a6ad3f9fbbe364e8a3b6b/python/ovs/dirs.py#L23\n\nChange-Id: If7d68212cadb8eb8a12fa3271023c9e86b2d411e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",0,739036,528e0d382e712035355e7b9914828c1b8013dcb2,20,5,1,6773,,,0,"[OVN] Fix devstack module for OpenSuse

The default path for the OVS tools is /usr/local/bin [0] but, by default
this location is not included in the $PATH for some distros (e.g
OpenSuse).

This patch includes the $OVS_BINDIR to the $PATH variable for deploying
DevStack.

[0]
https://github.com/openvswitch/ovs/blob/0fc38297ba3830631e4a6ad3f9fbbe364e8a3b6b/python/ovs/dirs.py#L23

Change-Id: If7d68212cadb8eb8a12fa3271023c9e86b2d411e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/739036/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ovn_agent'],1,528e0d382e712035355e7b9914828c1b8013dcb2,devstack-ovn-suse, # Ensure that the OVS commands are accessible in the PATH OVS_BINDIR=${OVS_BINDIR:-/usr/local/bin} export PATH=$OVS_BINDIR:$PATH ,,4,0
openstack%2Fneutron~stable%2Frocky~Ie8a63eacf479ac6871af448a1741598584de8de8,openstack/neutron,stable/rocky,Ie8a63eacf479ac6871af448a1741598584de8de8,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-07 07:24:31.000000000,2020-07-08 18:07:49.000000000,2020-07-08 18:07:49.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-07 07:24:31.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e2640fbb93c1b0afff7d5c079137e4e47587f5d', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nChange-Id: Ie8a63eacf479ac6871af448a1741598584de8de8\n'}]",0,739668,1e2640fbb93c1b0afff7d5c079137e4e47587f5d,15,5,1,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extened Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Change-Id: Ie8a63eacf479ac6871af448a1741598584de8de8
",git fetch https://review.opendev.org/openstack/neutron refs/changes/68/739668/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,1e2640fbb93c1b0afff7d5c079137e4e47587f5d,clean-non-voting-jobs-in-em, - neutron-tempest-iptables_hybrid: - openstack-tox-lower-constraints - neutron-fullstack-python35 - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false, - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-iptables_hybrid - openstack-tox-lower-constraints - neutron-fullstack-python35 - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,7,7
openstack%2Foslo.messaging~stable%2Frocky~Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,openstack/oslo.messaging,stable/rocky,Ic3a9e2c873619670edfbf71022d593f3cb5f70f2,Simplify tools/test-setup.sh,MERGED,2020-07-06 13:45:00.000000000,2020-07-08 18:01:10.000000000,2020-07-08 17:51:27.000000000,"[{'_account_id': 6547}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-06 13:45:00.000000000', 'files': ['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/41a7da012e0f0df2a5ddb689897448fd02b6175c', 'message': ""Simplify tools/test-setup.sh\n\ntest-setup.sh is called after bindep is run in CI, and tox is not setup.\n\nSimplify the script so that it only does what's needed - install\nqdrouterd for Ubuntu from qpid/testing.\n\nInstall the other packages using bindep, add test to amqp1 profile.\n\nAdd amqp1 to bindep_profiles where needed for scenario tests, previously\ntest-setup.sh added it everywhere.\n\nChange-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2\nRelated-Bug: #1885923\n(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)\n(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)\n(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)\n(cherry picked from commit c5d17905de32a29352a7ad31fd1c7dcde8887017)\n""}]",0,739490,41a7da012e0f0df2a5ddb689897448fd02b6175c,12,5,1,17685,,,0,"Simplify tools/test-setup.sh

test-setup.sh is called after bindep is run in CI, and tox is not setup.

Simplify the script so that it only does what's needed - install
qdrouterd for Ubuntu from qpid/testing.

Install the other packages using bindep, add test to amqp1 profile.

Add amqp1 to bindep_profiles where needed for scenario tests, previously
test-setup.sh added it everywhere.

Change-Id: Ic3a9e2c873619670edfbf71022d593f3cb5f70f2
Related-Bug: #1885923
(cherry picked from commit 7e406c312a6514e7ae377edb52b9e02b5bf37a7d)
(cherry picked from commit dfcc4b0010d39d1f16be413bb1c3a4808718cd19)
(cherry picked from commit 88cf5aebef790ff40ab8ca7219d537ccfc54d12e)
(cherry picked from commit c5d17905de32a29352a7ad31fd1c7dcde8887017)
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/90/739490/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', '.zuul.yaml', 'tools/test-setup.sh']",3,41a7da012e0f0df2a5ddb689897448fd02b6175c,,"# qpidd needs to be installed from qpid/testing repo in Ubuntu. # bindep does not allow setting up another repo, so we just install # this package here. --assume-yes install qpidd","function is_fedora { [ -f /usr/bin/yum ] && cat /etc/*release | grep -q -e ""Fedora"" } # NOTE(sileht): we create the virtualenv only and use bindep directly # because tox doesn't have a quiet option... tox -ebindep --notest # TODO(ansmith) for now setup amqp1 dependencies for any profile. # Fix this when test-setup is passed environment profile setting. # NOTE(sileht): bindep return 1 if some packages have to be installed PACKAGES=""$(.tox/bindep/bin/bindep -b -f bindep.txt amqp1 || true)"" [ -n ""$PACKAGES"" ] || exit 0 --assume-yes install $PACKAGES elif emerge --version >/dev/null 2>&1 ; then sudo emerge -uDNq --jobs=4 @world sudo PATH=/usr/sbin:/sbin:$PATH emerge -q --jobs=4 $PACKAGES else is_fedora && YUM=dnf || YUM=yum sudo PATH=/usr/sbin:/sbin:$PATH $YUM install -y $PACKAGES",20,35
openstack%2Fneutron~stable%2Fpike~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/pike,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix pike gates, multiple fixes",MERGED,2020-07-06 10:16:49.000000000,2020-07-08 17:44:37.000000000,2020-07-08 17:44:37.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-06 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb279aa5e29a7eff94d293af161a6d601c637028', 'message': 'Fix queens gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/735616\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n(cherry picked from commit e926bdaff1f3ee5e06dbe1d5507c652e8fec88f1)\n'}, {'number': 2, 'created': '2020-07-07 11:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ae361637a9d3059c89e35ceb1a0da5fc05ec520', 'message': 'Fix pike gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/737940/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)\n'}, {'number': 3, 'created': '2020-07-07 12:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4462948c9574a9e97eda489aa7f865ea3307b1eb', 'message': 'Fix pike gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/735616/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)\n'}, {'number': 4, 'created': '2020-07-07 13:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48ed86fdc8d55af0b50506582e2950343202997f', 'message': 'Fix pike gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\n5. Adapt legacy-neutron-dsvm-api job definition\n\nThis copies old definition from openstack-zuul-jobs in repo and add\nsimilar changes to other jobs (pip2 install and ensure-tox)\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/735616/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)\n'}, {'number': 5, 'created': '2020-07-07 13:58:43.000000000', 'files': ['playbooks/legacy/neutron-dsvm-api/post.yaml', 'playbooks/legacy/neutron-tempest-ovsfw/run.yaml', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack/run.yaml', 'playbooks/legacy/neutron-dsvm-api/run.yaml', 'playbooks/legacy/neutron-functional/run.yaml', 'playbooks/legacy/neutron-rally-neutron/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c7e9810eccd8c7fd0140f4ffce9f3797f3861a2', 'message': 'Fix pike gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\n5. Adapt old legacy-neutron-dsvm-api job definition\n\nThis copies old definition from openstack-zuul-jobs in repo as\nneutron-dsvm-api and add similar changes to other jobs (pip2 install and\nensure-tox)\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/735616/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)\n'}]",1,739456,2c7e9810eccd8c7fd0140f4ffce9f3797f3861a2,24,6,5,21798,,,0,"Fix pike gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

5. Adapt old legacy-neutron-dsvm-api job definition

This copies old definition from openstack-zuul-jobs in repo as
neutron-dsvm-api and add similar changes to other jobs (pip2 install and
ensure-tox)

Conflicts:
	.zuul.yaml
	neutron/tests/contrib/gate_hook.sh

Depends-On: https://review.opendev.org/735616/
Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)
(cherry picked from commit 774b3ff89e5ec01494d7ca66773aba8984f0cd80)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/739456/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-tempest-ovsfw/run.yaml', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack/run.yaml', 'playbooks/legacy/neutron-functional/run.yaml']",5,fb279aa5e29a7eff94d293af161a6d601c637028,fix_pike_gate, - name: Ensure tox is installed include_role: name: ensure-tox vars: ensure_global_symlinks: True,,25,29
openstack%2Fpython-openstackclient~master~Ia7c84aa7b840bf92aeb7db7246d14119eb727b03,openstack/python-openstackclient,master,Ia7c84aa7b840bf92aeb7db7246d14119eb727b03,Fix uploading an signed image does not work if private signing key is encrypted,MERGED,2020-07-07 09:24:01.000000000,2020-07-08 17:43:36.000000000,2020-07-08 17:30:38.000000000,"[{'_account_id': 2}, {'_account_id': 22348}, {'_account_id': 29891}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 09:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/359979e80ac154d47800ffc537ea472bc2497d97', 'message': 'Fix uploading an signed image does not work if private signing key is encrypted\n\nChange-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03\nStory: 2007890\nTask: 40269\n'}, {'number': 2, 'created': '2020-07-07 10:01:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fcca387de9c6e2e8dc600edee331ee4c66f7157a', 'message': 'Fix uploading an signed image does not work if private signing key is encrypted\n\nChange-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03\nStory: 2007890\nTask: 40269\n'}, {'number': 3, 'created': '2020-07-07 10:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/225a4ace2c5db03b27e7bce04c8a9885d30c4c76', 'message': 'Fix uploading an signed image does not work if private signing key is encrypted\n\nChange-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03\nStory: 2007890\nTask: 40269\n'}, {'number': 4, 'created': '2020-07-07 10:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/aa7ce283a227945354475041f7f185436c52a0a8', 'message': 'Fix uploading an signed image does not work if private signing key is encrypted\n\nChange-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03\nStory: 2007890\nTask: 40269\n'}, {'number': 5, 'created': '2020-07-07 11:27:03.000000000', 'files': ['releasenotes/notes/fix-story-2007890-0974f3e69f26801e.yaml', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c06d82563526c715d3ed508fa3cc5f9dc0963294', 'message': 'Fix uploading an signed image does not work if private signing key is encrypted\n\nChange-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03\nStory: 2007890\nTask: 40269\n'}]",5,739687,c06d82563526c715d3ed508fa3cc5f9dc0963294,18,4,5,29891,,,0,"Fix uploading an signed image does not work if private signing key is encrypted

Change-Id: Ia7c84aa7b840bf92aeb7db7246d14119eb727b03
Story: 2007890
Task: 40269
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/87/739687/4 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/image/v2/image.py'],1,359979e80ac154d47800ffc537ea472bc2497d97,story-2007890, confirm=False).encode(), confirm=False),1,1
openstack%2Fopenstack-ansible~stable%2Fussuri~Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,openstack/openstack-ansible,stable/ussuri,Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,Fix tmpfiles-setup wait handler,MERGED,2020-07-07 08:27:42.000000000,2020-07-08 17:43:32.000000000,2020-07-08 17:37:30.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-07 08:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c2c2eaa7a0106700b1c8ef22c1ad045449c184a7', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f\n(cherry picked from commit 61941eaa8fbf024387fda886b89df7dc601945b4)\n'}, {'number': 2, 'created': '2020-07-08 05:40:08.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7f58002b8a1154f7f219fa5b2fce69dcbc9202d1', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f\n(cherry picked from commit 61941eaa8fbf024387fda886b89df7dc601945b4)\n'}]",0,739675,7f58002b8a1154f7f219fa5b2fce69dcbc9202d1,13,3,2,25023,,,0,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f
(cherry picked from commit 61941eaa8fbf024387fda886b89df7dc601945b4)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/75/739675/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,c2c2eaa7a0106700b1c8ef22c1ad045449c184a7,, raw: systemctl list-units systemd-tmpfiles-setup.service --no-legend | grep 'exited' >/dev/null, raw: systemctl status systemd-tmpfiles-setup.service | grep Process | grep 'code=exited' >/dev/null,1,1
openstack%2Fopenstack-ansible~stable%2Ftrain~I5212262c20fdc69ed414fe92c602e24bdf7c4ec1,openstack/openstack-ansible,stable/train,I5212262c20fdc69ed414fe92c602e24bdf7c4ec1,Bump SHAs for stable/train,MERGED,2020-06-28 15:27:19.000000000,2020-07-08 17:43:32.000000000,2020-07-08 17:37:28.000000000,"[{'_account_id': 13095}, {'_account_id': 16011}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-06-28 15:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d193f359557b43016d9e53a3e25f6ce03e724d2a', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 2, 'created': '2020-06-30 19:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/29b9d954dcfdf8c2f498000cf6e4327674423d2d', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 3, 'created': '2020-07-01 20:55:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2281d160a0c530b623cffcd4db51d94079ddbbc8', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 4, 'created': '2020-07-01 20:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b4ebc12779b1d437f456f311a0c766cabfd6948b', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 5, 'created': '2020-07-05 20:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0a2518405835d8f2f0f21a9bed1cf3e4c2844254', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 6, 'created': '2020-07-06 14:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/60ef3d4fbb09da7d8ceca274f81dde0378c9dd71', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 7, 'created': '2020-07-07 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f4f9f00c3368015f7c2c390825d74f2a357040f7', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}, {'number': 8, 'created': '2020-07-08 05:41:48.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7a67afc83e06834f318305887f158ee04dd47b43', 'message': 'Bump SHAs for stable/train\n\nChange-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1\n'}]",0,738357,7a67afc83e06834f318305887f158ee04dd47b43,45,6,8,28619,,,0,"Bump SHAs for stable/train

Change-Id: I5212262c20fdc69ed414fe92c602e24bdf7c4ec1
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/57/738357/8 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,d193f359557b43016d9e53a3e25f6ce03e724d2a,bump_osa, version: 51356b811c0ab318572011e638ecdf61cfe3fd71 version: efbcbc65a3dac5e48fd9c9e6e0a2001383d06394 version: 3aca390dddd88efe9366cf1e22b160b6dfd13d86 version: 5dafb52081aede70e9b7b712f943f2f9327e3d45 version: 3d7ffed155d77ee48fb2ce2135158f76dc2bd169 version: ea45077b4ce9dc9b1bc632a5268d6612a9b2dfee version: ad311180be14d2ac082597bf70e1ccf285263138 version: eb3f065d03ba45ed147b8154f2750c0e0533e029, version: 8e18f42eb62ba50c28cdb973b8a45309486478de version: 6e5bc8ee05dc5827e9931bee53370b581b1e5803 version: c35fa8321dc4aa141621a7ea0dc43248f8770b9f version: dcc7826b68413489e0114db23ced3d6d320771b3 version: b1d88a11e6c2054d24619ff23c3ef135c386be4a version: 8490ada0044abf0c5103dfeb80bf1f069941ee1e version: 414ecbfb7c8d77909a6e394d801a01057ef22e8b version: 66bdd585da816dab471befc99db952d90a8f486e,54,54
openstack%2Fopenstacksdk~master~I6c73a178f01e010535237f839d85bedac5222624,openstack/openstacksdk,master,I6c73a178f01e010535237f839d85bedac5222624,Add TLS protocol support for Octavia,MERGED,2020-05-01 02:32:46.000000000,2020-07-08 17:41:45.000000000,2020-07-08 17:30:43.000000000,"[{'_account_id': 2}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-05-01 02:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d9ad796ec2b6f03a8797a6288849cb8c3c6f3b3c', 'message': 'Add TLS protocol support for Octavia\n\nAdd a property ""tls_versions"" for storing\na string of tls protocol versions seperated\nby a colon\n\nChange-Id: I6c73a178f01e010535237f839d85bedac5222624\nStory: 2006627\nTask: 37188\n'}, {'number': 2, 'created': '2020-05-04 20:28:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/0f420bb1e00892ab88777ba884a419a633a06be8', 'message': 'Add TLS protocol support for Octavia\n\nAdd a property ""tls_versions"" for storing\na list of TLS protocol versions\n\nChange-Id: I6c73a178f01e010535237f839d85bedac5222624\nStory: 2006627\nTask: 37188\nDepends-On:I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}, {'number': 3, 'created': '2020-05-18 22:28:30.000000000', 'files': ['openstack/tests/unit/load_balancer/test_pool.py', 'openstack/load_balancer/v2/listener.py', 'releasenotes/notes/add-tls-version-support-for-octavia-7ecb372e6fb58101.yaml', 'openstack/tests/unit/load_balancer/test_listener.py', 'openstack/load_balancer/v2/pool.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c5748fb1b29a8321ce8a16b7da6a8dd0d9dd4230', 'message': 'Add TLS protocol support for Octavia\n\nAdd a property ""tls_versions"" for storing\na list of TLS protocol versions\n\nChange-Id: I6c73a178f01e010535237f839d85bedac5222624\nStory: 2006627\nTask: 37188\nDepends-On:I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291\n'}]",6,724789,c5748fb1b29a8321ce8a16b7da6a8dd0d9dd4230,17,4,3,31565,,,0,"Add TLS protocol support for Octavia

Add a property ""tls_versions"" for storing
a list of TLS protocol versions

Change-Id: I6c73a178f01e010535237f839d85bedac5222624
Story: 2006627
Task: 37188
Depends-On:I480b7fb9756d98ba9dbcdfd1d4b193ce6868e291
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/89/724789/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/load_balancer/test_pool.py', 'openstack/load_balancer/v2/listener.py', 'releasenotes/notes/add-tls-version-support-for-octavia-7ecb372e6fb58101.yaml', 'openstack/tests/unit/load_balancer/test_listener.py', 'openstack/load_balancer/v2/pool.py']",5,d9ad796ec2b6f03a8797a6288849cb8c3c6f3b3c,," 'tls_versions', #: A string of TLS protocol versions seperated by colons tls_versions = resource.Body('tls_versions')",,21,1
openstack%2Fpython-openstackclient~master~I73502be6d68c4a38561c9524b4def3c6a6f61ac6,openstack/python-openstackclient,master,I73502be6d68c4a38561c9524b4def3c6a6f61ac6,Add a command to trigger entrypoint cache creation,MERGED,2020-07-06 19:53:54.000000000,2020-07-08 17:40:39.000000000,2020-07-08 17:30:36.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 19:53:54.000000000', 'files': ['Dockerfile'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5c4eb0bf9d7bc154e583f1d864984d56192ccb4b', 'message': 'Add a command to trigger entrypoint cache creation\n\nstevedore will cache the entrypoint scan when needed. Since we\njust installed the things here, do an openstack --help to cause\nthe entrypoints to get scanned at build time and for the cache\nfile to be written into the container image.\n\nChange-Id: I73502be6d68c4a38561c9524b4def3c6a6f61ac6\n'}]",2,739598,5c4eb0bf9d7bc154e583f1d864984d56192ccb4b,9,3,1,2,,,0,"Add a command to trigger entrypoint cache creation

stevedore will cache the entrypoint scan when needed. Since we
just installed the things here, do an openstack --help to cause
the entrypoints to get scanned at build time and for the cache
file to be written into the container image.

Change-Id: I73502be6d68c4a38561c9524b4def3c6a6f61ac6
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/98/739598/1 && git format-patch -1 --stdout FETCH_HEAD,['Dockerfile'],1,5c4eb0bf9d7bc154e583f1d864984d56192ccb4b,osc-performance,# Trigger entrypoint loading to trigger stevedore entrypoint caching RUN openstack --help >/dev/null 2>&1 ,,3,0
openstack%2Fpuppet-tripleo~stable%2Ftrain~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,stable/train,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-07 14:41:41.000000000,2020-07-08 17:37:26.000000000,2020-07-08 17:37:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-07 14:41:41.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8cc3c772974afaee2fe77223c90267bbc844cb7c', 'message': 'Add FFU support for ceph_nfs\n\nThis patch fixes the ceph_nfs upgrade process checking\nfor the short_name variable definition.\nThis is required to properly handle the FFU process for\nthis service.\n\nChange-Id: I89c848bdae1b997b38a5164302acdcca94619471\n(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)\n'}]",0,739782,8cc3c772974afaee2fe77223c90267bbc844cb7c,10,8,1,25402,,,0,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/82/739782/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,8cc3c772974afaee2fe77223c90267bbc844cb7c,ffu-ceph-nfs-stable/train," if (hiera('ceph_nfs_short_node_names_override', undef)) { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names_override') } else { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names') } ", $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names'),6,1
openstack%2Fneutron~stable%2Fqueens~Ie8a63eacf479ac6871af448a1741598584de8de8,openstack/neutron,stable/queens,Ie8a63eacf479ac6871af448a1741598584de8de8,[EM releases] Move non-voting jobs to the experimental queue,MERGED,2020-07-07 07:28:21.000000000,2020-07-08 17:30:34.000000000,2020-07-08 17:30:33.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-07-07 07:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/69f5671c627118e32e344f948fc245c73cd5c811', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extened Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nConflicts:\n    .zuul.yaml\n\nChange-Id: Ie8a63eacf479ac6871af448a1741598584de8de8\n(cherry picked from commit 1e2640fbb93c1b0afff7d5c079137e4e47587f5d)\n'}, {'number': 2, 'created': '2020-07-08 07:29:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/db4c00a90f1ef9981d0d2841a7c46a061421de74', 'message': '[EM releases] Move non-voting jobs to the experimental queue\n\nDuring the CI meeting we agreed that non-voting jobs in the branches\nwhich are in Extended Maintenance (EM) phase should be moved to from\nthe check to the experimental queue.\n\nThis patch is doing exactly that.\n\nConflicts:\n    .zuul.yaml\n\nChange-Id: Ie8a63eacf479ac6871af448a1741598584de8de8\n(cherry picked from commit 1e2640fbb93c1b0afff7d5c079137e4e47587f5d)\n'}]",1,739669,db4c00a90f1ef9981d0d2841a7c46a061421de74,15,7,2,11975,,,0,"[EM releases] Move non-voting jobs to the experimental queue

During the CI meeting we agreed that non-voting jobs in the branches
which are in Extended Maintenance (EM) phase should be moved to from
the check to the experimental queue.

This patch is doing exactly that.

Conflicts:
    .zuul.yaml

Change-Id: Ie8a63eacf479ac6871af448a1741598584de8de8
(cherry picked from commit 1e2640fbb93c1b0afff7d5c079137e4e47587f5d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/69/739669/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,69f5671c627118e32e344f948fc245c73cd5c811,clean-non-voting-jobs-in-em, - neutron-fullstack - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-ovsfw, - neutron-fullstack - neutron-tempest-multinode-full - neutron-tempest-dvr-ha-multinode-full - neutron-tempest-ovsfw,4,4
openstack%2Fpuppet-cinder~master~Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3,openstack/puppet-cinder,master,Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 01:53:11.000000000,2020-07-08 17:22:30.000000000,2020-07-08 17:19:23.000000000,"[{'_account_id': 3153}, {'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 01:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/5776517bed43bb2bf2dfbe5c196474745bf14399', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3\n'}, {'number': 2, 'created': '2020-07-08 01:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/dc8cd7b8c41e2dca4715ba422a16b5a3149afd99', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3\n'}, {'number': 3, 'created': '2020-07-08 02:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/56a8edc9d8c49e4b6ff5fe1e5f7cedc527a7f424', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3\n'}, {'number': 4, 'created': '2020-07-08 02:16:26.000000000', 'files': ['releasenotes/notes/keystone-authtoken-interface-9da7455a49e59ad7.yaml', 'spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/17b97ec245fb691bfd13b7614012a6ce99d4e204', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3\n'}]",0,739870,17b97ec245fb691bfd13b7614012a6ce99d4e204,13,4,4,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ic65f385e5f867cb7346b8b5fc62e8cbf7be8cfb3
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/70/739870/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-9da7455a49e59ad7.yaml', 'spec/classes/cinder_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp']",3,5776517bed43bb2bf2dfbe5c196474745bf14399,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fpython-designateclient~master~I3be6c40ef61e0334cab860689abbee84f5d19265,openstack/python-designateclient,master,I3be6c40ef61e0334cab860689abbee84f5d19265,Use unittest.mock instead of mock,MERGED,2020-06-09 09:54:25.000000000,2020-07-08 17:12:26.000000000,2020-07-08 17:09:31.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-09 09:54:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/dfdc92c643eb2317d4984e518cc91553a34e4f5a', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I3be6c40ef61e0334cab860689abbee84f5d19265\n'}, {'number': 2, 'created': '2020-06-09 18:28:38.000000000', 'files': ['designateclient/tests/v2/test_timeout.py', 'designateclient/tests/v2/test_recordsets.py', 'designateclient/tests/v2/test_nameservers.py'], 'web_link': 'https://opendev.org/openstack/python-designateclient/commit/c37f8ff9f034592808b917debd058546cbb67e41', 'message': 'Use unittest.mock instead of mock\n\nThe mock third party library was needed for mock support in py2\nruntimes. Since we now only support py36 and later, we can use the\nstandard lib unittest.mock module instead.\n\nChange-Id: I3be6c40ef61e0334cab860689abbee84f5d19265\n'}]",1,734507,c37f8ff9f034592808b917debd058546cbb67e41,14,4,2,28522,,,0,"Use unittest.mock instead of mock

The mock third party library was needed for mock support in py2
runtimes. Since we now only support py36 and later, we can use the
standard lib unittest.mock module instead.

Change-Id: I3be6c40ef61e0334cab860689abbee84f5d19265
",git fetch https://review.opendev.org/openstack/python-designateclient refs/changes/07/734507/1 && git format-patch -1 --stdout FETCH_HEAD,"['designateclient/tests/v2/test_recordsets.py', 'designateclient/tests/v2/test_timeout.py', 'designateclient/tests/v2/test_nameservers.py']",3,dfdc92c643eb2317d4984e518cc91553a34e4f5a,drop_mock,from unittest.mock import patch,from mock import patch,3,3
openstack%2Fpython-openstackclient~master~Ied938a8f63f305305a20ace42e9f4c84b0a5c00e,openstack/python-openstackclient,master,Ied938a8f63f305305a20ace42e9f4c84b0a5c00e,Expose flag for forcing use of import for images,MERGED,2020-06-23 20:47:46.000000000,2020-07-08 17:08:01.000000000,2020-07-08 17:01:22.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-23 20:47:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/6ce5e819119cfaf00a389bde7b0fbb9adfed49b4', 'message': 'Expose flag for forcing use of import for images\n\nopenstacksdk added support for using image import as a fallback\nwhich is transparently supported here, but also provides an\noverride flag to allow a user to force use of import. Expose that\nhere.\n\nDepends-On: https://review.opendev.org/737608\nChange-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e\n'}, {'number': 2, 'created': '2020-06-24 08:30:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/553ab3207645d6baadceb6c53171f6ee298cbb72', 'message': 'Expose flag for forcing use of import for images\n\nopenstacksdk added support for using image import as a fallback\nwhich is transparently supported here, but also provides an\noverride flag to allow a user to force use of import. Expose that\nhere.\n\nDepends-On: https://review.opendev.org/737608\nChange-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e\n'}, {'number': 3, 'created': '2020-06-29 18:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5a9df2232a9692a8db65d797706ceeb96937322c', 'message': 'Expose flag for forcing use of import for images\n\nopenstacksdk added support for using image import as a fallback\nwhich is transparently supported here, but also provides an\noverride flag to allow a user to force use of import. Expose that\nhere.\n\nChange-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e\n'}, {'number': 4, 'created': '2020-06-30 12:02:26.000000000', 'files': ['requirements.txt', 'openstackclient/tests/unit/image/v2/test_image.py', 'lower-constraints.txt', 'releasenotes/notes/add-image-import-flag-899869dc5a92aea7.yaml', 'openstackclient/image/v2/image.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c04ec16cf7ad2dbe7bf8edf5f6e7840c54b0efa3', 'message': 'Expose flag for forcing use of import for images\n\nopenstacksdk added support for using image import as a fallback\nwhich is transparently supported here, but also provides an\noverride flag to allow a user to force use of import. Expose that\nhere.\n\nDepends-On: https://review.opendev.org/737608\nChange-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e\n'}]",6,737625,c04ec16cf7ad2dbe7bf8edf5f6e7840c54b0efa3,22,5,4,2,,,0,"Expose flag for forcing use of import for images

openstacksdk added support for using image import as a fallback
which is transparently supported here, but also provides an
override flag to allow a user to force use of import. Expose that
here.

Depends-On: https://review.opendev.org/737608
Change-Id: Ied938a8f63f305305a20ace42e9f4c84b0a5c00e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/25/737625/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-image-import-flag-899869dc5a92aea7.yaml', 'openstackclient/image/v2/image.py']",2,6ce5e819119cfaf00a389bde7b0fbb9adfed49b4,bp/rbd-glance-multistore-patch2," parser.add_argument( ""--import"", action=""store_true"", help=_( ""Force the use of glance image import instead of"" "" direct upload"") ) if parsed_args.import: kwargs['use_import'] = True ",,15,0
openstack%2Fpuppet-heat~master~I5325bdfbcec13b53b83ac669fb2b91885c370e60,openstack/puppet-heat,master,I5325bdfbcec13b53b83ac669fb2b91885c370e60,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 02:20:56.000000000,2020-07-08 16:45:14.000000000,2020-07-08 16:43:25.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 02:20:56.000000000', 'files': ['spec/classes/heat_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-fa5844b2d4fc0f86.yaml', 'manifests/keystone/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/e633bc0ae5a1d54907c12ae1a8b651c060a62562', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: I5325bdfbcec13b53b83ac669fb2b91885c370e60\n'}]",0,739873,e633bc0ae5a1d54907c12ae1a8b651c060a62562,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: I5325bdfbcec13b53b83ac669fb2b91885c370e60
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/73/739873/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_keystone_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-fa5844b2d4fc0f86.yaml', 'manifests/keystone/authtoken.pp']",3,e633bc0ae5a1d54907c12ae1a8b651c060a62562,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,15,0
openstack%2Fkolla-ansible~stable%2Fussuri~Iaa69b2096b09a448345de50911e21436875d48d6,openstack/kolla-ansible,stable/ussuri,Iaa69b2096b09a448345de50911e21436875d48d6,Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf,MERGED,2020-07-08 08:11:45.000000000,2020-07-08 16:44:55.000000000,2020-07-08 16:40:24.000000000,"[{'_account_id': 15197}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-08 08:11:45.000000000', 'files': ['releasenotes/notes/bug-1886711-a1a1fd1343f1a644.yaml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1636ea073956979ce62890edcc94b05522e4bebe', 'message': 'Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf\n\nThe value should be the full path to the keyring file, not just the\nname. Without this fix Gnocchi fails to connect to Ceph.\n\nChange-Id: Iaa69b2096b09a448345de50911e21436875d48d6\nCloses-Bug: #1886711\n(cherry picked from commit 9a0f8c319358b9b4a78bc38d8391dc61104ad49d)\n'}]",1,739917,1636ea073956979ce62890edcc94b05522e4bebe,12,4,1,15197,,,0,"Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf

The value should be the full path to the keyring file, not just the
name. Without this fix Gnocchi fails to connect to Ceph.

Change-Id: Iaa69b2096b09a448345de50911e21436875d48d6
Closes-Bug: #1886711
(cherry picked from commit 9a0f8c319358b9b4a78bc38d8391dc61104ad49d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/17/739917/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886711-a1a1fd1343f1a644.yaml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2']",2,1636ea073956979ce62890edcc94b05522e4bebe,bug/1886711-stable/ussuri,ceph_keyring = /etc/ceph/{{ ceph_gnocchi_keyring }},ceph_keyring = {{ ceph_gnocchi_keyring }},7,1
openstack%2Fpuppet-ironic~master~Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109,openstack/puppet-ironic,master,Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109,Add support for the interface parameter in authtoken middleware,MERGED,2020-07-08 04:01:57.000000000,2020-07-08 16:44:02.000000000,2020-07-08 16:41:48.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 04:01:57.000000000', 'files': ['spec/classes/ironic_api_authtoken_spec.rb', 'releasenotes/notes/keystone-authtoken-interface-b0dd654a86c3f262.yaml', 'manifests/inspector/authtoken.pp', 'manifests/api/authtoken.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/dbe9e4c996758ad25e52cc7687744ae5e0c15f9e', 'message': 'Add support for the interface parameter in authtoken middleware\n\nThis patch adds support for [keystone_authtoken] interface parameter,\nso that operators can define which endpoint should be used by authtoken\nmiddleware.\n\nChange-Id: Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109\n'}]",0,739887,dbe9e4c996758ad25e52cc7687744ae5e0c15f9e,8,3,1,9816,,,0,"Add support for the interface parameter in authtoken middleware

This patch adds support for [keystone_authtoken] interface parameter,
so that operators can define which endpoint should be used by authtoken
middleware.

Change-Id: Ib16d3b1a0f60d6bbc9fec470449977bd4ebaf109
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/87/739887/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-authtoken-interface-b0dd654a86c3f262.yaml', 'spec/classes/ironic_api_authtoken_spec.rb', 'manifests/inspector/authtoken.pp', 'manifests/api/authtoken.pp']",4,dbe9e4c996758ad25e52cc7687744ae5e0c15f9e,at-interface,"# [*interface*] # (Optional) Interface to use for the Identity API endpoint. Valid values are # ""public"", ""internal"" or ""admin"". # Defaults to $::os_service_default. # $interface = $::os_service_default, interface => $interface,",,23,0
openstack%2Fproject-config~master~Ibf5ac5fa0371cc70dbe58806d147568278afcfea,openstack/project-config,master,Ibf5ac5fa0371cc70dbe58806d147568278afcfea,Add nested-virt-centos-8 label,MERGED,2020-06-26 08:50:00.000000000,2020-07-08 16:42:34.000000000,2020-07-08 16:33:05.000000000,"[{'_account_id': 1004}, {'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 08:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c9dafb42635bf0caded567b38a28da4f46c1d383', 'message': 'Add nested-virt-centos-8 label\n\nChange [1] added nested virtualization labels for Ubuntu Bionic and\nCentOS 7. This patch extends that to CentOS 8.\n\nAdditionally, we extend nl04 to include these labels too as OVH is a\nnested-virt enabled nodepool provider.\n\n[1] https://review.opendev.org/#/c/683431/\n\nChange-Id: Ibf5ac5fa0371cc70dbe58806d147568278afcfea\n'}, {'number': 2, 'created': '2020-06-26 09:13:22.000000000', 'files': ['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/2cd18a77720755515b01fb611b319b8bd8cc9636', 'message': 'Add nested-virt-centos-8 label\n\nChange [1] added nested virtualization labels for Ubuntu Bionic and\nCentOS 7. This patch extends that to CentOS 8.\n\nAdditionally, we extend nl04 to include these labels too as OVH is a\nnested-virt enabled nodepool provider.\n\n[1] https://review.opendev.org/#/c/683431/\n\nChange-Id: Ibf5ac5fa0371cc70dbe58806d147568278afcfea\n'}]",0,738161,2cd18a77720755515b01fb611b319b8bd8cc9636,10,6,2,6469,,,0,"Add nested-virt-centos-8 label

Change [1] added nested virtualization labels for Ubuntu Bionic and
CentOS 7. This patch extends that to CentOS 8.

Additionally, we extend nl04 to include these labels too as OVH is a
nested-virt enabled nodepool provider.

[1] https://review.opendev.org/#/c/683431/

Change-Id: Ibf5ac5fa0371cc70dbe58806d147568278afcfea
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/738161/2 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl04.openstack.org.yaml', 'nodepool/nl03.openstack.org.yaml', 'nodepool/nl02.openstack.org.yaml']",3,c9dafb42635bf0caded567b38a28da4f46c1d383,nested-virt, - name: nested-virt-centos-8 min-ready: 0 - name: nested-virt-centos-8 min-ram: 8000 flavor-name: 'nodepool.0' diskimage: centos-8 key-name: infra-root-keys-2020-05-13 - name: nested-virt-centos-8 min-ram: 8000 flavor-name: '8cpu-8GBram-80GBdisk' diskimage: centos-8 key-name: infra-root-keys-2020-05-13,,41,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Ia59beb11e1441892ed3bebddcf2a9196ba552ced,openstack/openstack-ansible,stable/ussuri,Ia59beb11e1441892ed3bebddcf2a9196ba552ced,Bump SHAs for stable/ussuri,MERGED,2020-06-30 20:19:05.000000000,2020-07-08 16:38:06.000000000,2020-07-08 16:34:14.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-30 20:19:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db068ae28a31d2c1daf46b105d36744770e873c3', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: Ia59beb11e1441892ed3bebddcf2a9196ba552ced\n'}, {'number': 2, 'created': '2020-07-01 20:55:11.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c353ccdedcb15f10fad8b322e2da62330e0f3fa4', 'message': 'Bump SHAs for stable/ussuri\n\nChange-Id: Ia59beb11e1441892ed3bebddcf2a9196ba552ced\n'}]",0,738689,c353ccdedcb15f10fad8b322e2da62330e0f3fa4,13,4,2,28619,,,0,"Bump SHAs for stable/ussuri

Change-Id: Ia59beb11e1441892ed3bebddcf2a9196ba552ced
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/89/738689/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,db068ae28a31d2c1daf46b105d36744770e873c3,bump_osa, version: 17ccd9f06c62116573f40ddca354adab2120f655 version: 2e1008fee47927f56f4d6f0a0038a4006d7562f6 version: 51356b811c0ab318572011e638ecdf61cfe3fd71 version: c567405b567dc6276c0c83b3d166328bd4327e37 version: 662bf12050dfb429517db74624ae6b35807eea42 version: 6574de7090c70b12317bda0fc1a863cbee85f67a version: 8a6327c67a47d22fffdde79b2b03f2d26ae0946a version: 1cb7920aff171fe1f5d4aa43ec6a00f1542e1d2a version: 3f015e6fed9adf44b96d8d6ccaaceaa881ab0295 version: 5080c42f0ad7c58ba9101948207c4d8633ad1e00 version: fc6b619b73e4a2f2b1a5e9d0cd1667c323a74ba5 version: eda646382a53364078d87bf30877a5ea22f5a082 version: 25649c5ac548358f39a74a81ac35cae12cb25be3 version: b081a34be91844249b6085643a16de5aedf05ea8 version: 774c41934eb86302cfbd4c84efcf966ffd0f863c version: 83f9b3daf6fcf8b88c19d926c544e379e3f954ba version: e6beb1c1665a357a6a5f661467d8b20ee0a08478 version: c6b9f011b777aa0513e99a35fba7d976a4c9d4c1 version: d980181caa728faa318a7a053485cf8230f112dd version: d49e5819c5d0fd45e66d6943a9b3c66c83c6a099 version: dc0a9588b12bbf1e9d6427c0d6e4bd1b2d1aef47 version: 912a8346047207a4f3c3473e3760baf4c987158e version: 95d02e709ade6ebedc38e125214b4bab64473d02 version: 87a369485c75e8421947d9f0bf378ca704f9e357 version: de5066a8a87843a816ad64761861ddfcd56f2906 version: 1f1ac6744a8d274bc847bbf6b07ade5e6096c1ba version: 6188087fba7d8e0ba4c3a16191ec51a2b4e6cf85 version: 51fc04490b90c58cc42d9ae5b639fd775d51cb74 version: 398cb2b9a5c7a119d865c7bc990c24fc08e07834 version: 684a077919dff299fb47188d441cfde761cd0910 version: 5e0a408fdb89ff2d5a0fe890230e083113e89451 version: 6390c3b0ef6ad0ac8490d6afea62b7d26af1b38f version: 682f65d8ba534787f67388c263df3ff5cfb46407 version: 35f2dcef3cfe9981dded1487cd9528313f4aa801 version: 7b70b263d60a555772a10ca18acc2b8a0bb17b3b version: 91181f7c4b55e992b1eb16493a9973ab9d02a057 version: 33653b4626ae69ec15347a743b3439b26c2275fc version: e46b5437d797e5630bfcc2f580e5021a6d2380de version: abb1c721e50258a0fede787b810e3b17e59d85f7 version: a32e9b7cd919e911d1f26347413479eb6903e92f version: 0e6ed14a4fe60b49297315e0abdb44b1388db6af version: 9e4b4ac8c68464625e6b9466541e61fcdb1a4b61 version: bc3de56005fb9a69a5cadb2313f3a8518d857bb0 version: 8f7b6b7749e4a271db670e438b52c6c44bbe6e55 version: bc2f958d6c7371ccafdd6a2f612d034fcebb3c17 version: fc27e735a68b64cb3c67dd8abeaf324803a9845b version: d4a793fc7863f877744eb6b875f9455c6e1df2ff version: d616af7883bd6e7a208be3a4f56d129bc2aa92ca version: 1461e60486c44677bdc2c5f5a2dcb1e74b4139f0 version: 3fb34ad9de7757739071bc777f8cb89c28a8ea74 version: c755eb300b12ecb659e92375fa0572efec74846f version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: a2ff5ba59b47f96ddddcb7a3a67de93687c317a6 version: 48fd6e6b163f0a8c80f3a993cedcdae9ca754190 version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: e20e45fd41daa8374863a47bec8bed3a1e496a6a version: 1b3763c4b850efc6c1f853ab938aed16331d0d76 version: b701c30e62f005f0b1f4dc1a7753e00b24601bc4 version: 720524c5cd1c318a40f7dd589d5cfac6fbf3a176 version: 15a0be8cbb725c42b201dcf54f95b309b9b13305 version: cf3b1dbe7b3bdbe5632a88db5cac894ec8e7bb1e version: fe4d46af1001a5426205612eb7a68a83abe143be, version: 1dc0aaa4c12cb2617597ba536f80cc901f9a3623 version: 41619e1f0a52eb2c0888e329d6275ebeeb1c922e version: 8e18f42eb62ba50c28cdb973b8a45309486478de version: 05701ba83d7c6efb7c261d84f09235a60d2aff67 version: 2952f1e607968d1c22b724bf30312fb85a04fcd0 version: c304e94144c990d3a33052f10947e302c5269974 version: master version: 1c0b68b9f5ee885f6095d1adfbfc8d3cc4ad71e0 version: 7e25305c7585845007d17299ec0bd4583b73e41c version: de09d0397e9a6fd2da5710d062f4a185169b528e version: bc39b74cd04382cb8fc1ad139aa922421e283618 version: e1820a587d1ea45e043d1fd58b43247ff717ea4d version: 55fef70e168bcd44abba9f0614d55ab0a5d6285f version: 16d0ab5d47d3e1d9bbe2a3183f20f84f3c3529af version: 60f96a6eccc2f65ae8b0e5c0b03be80745dd509f version: adffa22a0cbb69065c12aa8317cc0105e645a0aa version: 2ab8c7226dfea650c3f2396c763807dc81b6be17 version: 6309a28671819a4ae92aac28af9006e6eb4cba56 version: d6b4416a486158282365e494cada20bf185c24f4 version: e983e54e9b7e6b3966f357e75170d45ec00b9d3d version: c7636f96659ddeadce9a4d468ddd38f1aeb09cb8 version: c1268a759036f17cb97e50515514850704448028 version: a8a684ab30b8da135430b2981828b0f95f1bfc74 version: ceb25178c05681f4d239696d16bac5b45a92c7f4 version: d46dee4920a8a99976f5253dcc848331258d36a9 version: 1c4955e4b2233ee001aa52eea99a231ad78ba95a version: c65816fc062a2e809959251838297c99b62c7651 version: 61e406508b10b8a26dc4c443dcdf81603b1b0313 version: 02a2ee2a29f0da28687e5a44fde49ad55204a5d0 version: 66413740a4a6e0d560ef7c8399e2471f80f978a5 version: dae54fd2a86910117f42d790670d181e0cb695d5 version: 991b3369b4ffba477e2312f03e784f96f12ffd26 version: 3e51d1537ddc550ac1f4f666a1d6a1d37d971765 version: 98ed3d22f6c7b2892fc8441dfacb04e5aeccaa7a version: 321e4c290aedbd448babef37424d2128af695889 version: 8874326af9edfbd7cdd5bd7d884f8566f42436d0 version: e1bad838d1b8aad5a4482c09026eafb74887dc2d version: ec36bbf056e8cfacd68ea06e53105bdfe12d53b5 version: 5f4fb27342ecefb10ec6210a7645a0bf32131e08 version: d89e5c685bb190ce6e92127e6e431a3b0b30bbcb version: 1ab029b7b4869e480cc8d580e2a333c8366db0ba version: 33d8c1b058720de3ffd385d60f8837c618a55361 version: 120d45b431acbf02494ca0d7a21205ef5708632e version: 03695fa1cc6cb1b730993e3cc3692ee9c9f0c4d2 version: 9072982dbf0bcfb7bea74cbbd43276abb6e21f0b version: 8de3c6f2258089b10edc8de59278f625063ec5b8 version: 659f21aeecc8b0001da6323f5b369f4343fbf100 version: 15e1dece89db7b360e0cc153a5a84ff8eaf09de8 version: 91b026cf64c0d65574895aa1b6bf96920e3dac6f version: master version: master version: master version: master version: master version: stable-5.0 version: master version: master version: 1222ed65167b31fcb15471426581b926b22b0a49 version: 75b4d0ee257220f5315c22b564f15835fd9df53e version: b049c6919d988543690e55123f9a811e984654f8 version: fa64262a5d4005ff26c668b65f2cd916c851958c version: e99175611fd3e70079328695bfa3871c9dacc6a0 version: 6164fa224b0881f11e5923ab84055165c104a39a version: 73a7ef31b03579bd33cf8a2bcccdaafb37623f47,113,113
openstack%2Ftripleo-ci~master~Iadb569851d5b07439cd21dc57061baa061538d14,openstack/tripleo-ci,master,Iadb569851d5b07439cd21dc57061baa061538d14,Introduce stable jobs for tripleo-build-containers-ubi-8,MERGED,2020-07-06 19:39:31.000000000,2020-07-08 16:24:33.000000000,2020-07-08 16:24:33.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:39:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/97c2e0be8037dc58c58ab36570aefc8c54909a63', 'message': ""Introduce tripleo-build-containers-ubi-8-ussuri\n\ntripleo-build-containers-ubi-8-ussuri a child job of\ntripleo-build-containers-ubi-8 and non voting. I'll allow to test\ncontainer builds without Kolla on stable/ussuri.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 2, 'created': '2020-07-07 13:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/25882ba0a38c5cf26429cd5f6c4cabda20b2013d', 'message': ""Introduce tripleo-build-containers-ubi-8-ussuri\n\ntripleo-build-containers-ubi-8-ussuri a child job of\ntripleo-build-containers-ubi-8 and non voting. I'll allow to test\ncontainer builds without Kolla on stable/ussuri.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 3, 'created': '2020-07-07 13:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fbfc637f66a40dd5c7e9920e2b613e20b27322cc', 'message': ""Introduce tripleo-build-containers-ubi-8-ussuri\n\ntripleo-build-containers-ubi-8-ussuri a child job of\ntripleo-build-containers-ubi-8 and non voting. I'll allow to test\ncontainer builds without Kolla on stable/ussuri.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 4, 'created': '2020-07-07 13:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d282c8f8c22f0fc59bedf13b54a6dbcdaf4ba426', 'message': ""Introduce tripleo-build-containers-ubi-8-ussuri\n\ntripleo-build-containers-ubi-8-ussuri a child job of\ntripleo-build-containers-ubi-8 and non voting. I'll allow to test\ncontainer builds without Kolla on stable/ussuri.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 5, 'created': '2020-07-07 13:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ef528c28e57114b83a539b0f06082c1817df594c', 'message': ""Introduce stable jobs for tripleo-build-containers-ubi-8\n\ntripleo-build-containers-ubi-8-ussuri (and train), child jobs of\ntripleo-build-containers-ubi-8 and non voting. It'll allow to test\ncontainer builds without Kolla on stable/ussuri and train.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 6, 'created': '2020-07-07 19:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2ff71e961c06a0e94b27333dbad31ec1d91796b6', 'message': ""Introduce stable jobs for tripleo-build-containers-ubi-8\n\ntripleo-build-containers-ubi-8-ussuri (and train), child jobs of\ntripleo-build-containers-ubi-8 and non voting. It'll allow to test\ncontainer builds without Kolla on stable/ussuri and train.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 7, 'created': '2020-07-08 06:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/aa4a9bb5e45f28987816b27eae87ba3486789715', 'message': ""Introduce stable jobs for tripleo-build-containers-ubi-8\n\ntripleo-build-containers-ubi-8-ussuri (and train), child jobs of\ntripleo-build-containers-ubi-8 and non voting. It'll allow to test\ncontainer builds without Kolla on stable/ussuri and train.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}, {'number': 8, 'created': '2020-07-08 06:19:03.000000000', 'files': ['zuul.d/build-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/405a96b51e0b0dc4e1f5c8fb040ccc2e7c33e04f', 'message': ""Introduce stable jobs for tripleo-build-containers-ubi-8\n\ntripleo-build-containers-ubi-8-ussuri (and train), child jobs of\ntripleo-build-containers-ubi-8 and non voting. It'll allow to test\ncontainer builds without Kolla on stable/ussuri and train.\n\nChange-Id: Iadb569851d5b07439cd21dc57061baa061538d14\n""}]",6,739596,405a96b51e0b0dc4e1f5c8fb040ccc2e7c33e04f,32,8,8,3153,,,0,"Introduce stable jobs for tripleo-build-containers-ubi-8

tripleo-build-containers-ubi-8-ussuri (and train), child jobs of
tripleo-build-containers-ubi-8 and non voting. It'll allow to test
container builds without Kolla on stable/ussuri and train.

Change-Id: Iadb569851d5b07439cd21dc57061baa061538d14
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/96/739596/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/build-containers.yaml'],1,97c2e0be8037dc58c58ab36570aefc8c54909a63,, - job: name: tripleo-build-containers-ubi-8-ussuri parent: tripleo-build-containers-ubi-8 branches: master override-checkout: stable/ussuri vars: branch_override: stable/ussuri voting: false,,9,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Idf1e24e69a485b51761c161bb939ccbba6601912,openstack/tripleo-heat-templates,stable/train,Idf1e24e69a485b51761c161bb939ccbba6601912,"Manual backport of ""Move sidecar kill scripts to host prep"" to Train",MERGED,2020-07-06 16:29:10.000000000,2020-07-08 16:24:31.000000000,2020-07-08 16:24:31.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-06 16:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a35782b379c2d09b61bfbb10c146e808293bdafc', 'message': 'Manual backport of ""Move sidecar kill scripts to host prep"" to Train\n\nManual backport of https://review.opendev.org/#/c/736279 into\nstable/train.\n\nThe patch didn\'t apply cleanly so we manually moved the tasks so\nthese tasks are managed a single time against the host rather than at\ndeployment time.\n\nChange-Id: Idf1e24e69a485b51761c161bb939ccbba6601912\nRelated-Bug: #1883609\n'}, {'number': 2, 'created': '2020-07-07 13:44:01.000000000', 'files': ['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16fc8da6349fd1f3d1e806082a454c0ed758684a', 'message': 'Manual backport of ""Move sidecar kill scripts to host prep"" to Train\n\nManual backport of https://review.opendev.org/#/c/736279 into\nstable/train.\n\nThe patch didn\'t apply cleanly so we manually moved the tasks so\nthese tasks are managed a single time against the host rather than at\ndeployment time.\n\nChange-Id: Idf1e24e69a485b51761c161bb939ccbba6601912\nRelated-Bug: #1883609\n'}]",0,739547,16fc8da6349fd1f3d1e806082a454c0ed758684a,19,6,2,3153,,,0,"Manual backport of ""Move sidecar kill scripts to host prep"" to Train

Manual backport of https://review.opendev.org/#/c/736279 into
stable/train.

The patch didn't apply cleanly so we manually moved the tasks so
these tasks are managed a single time against the host rather than at
deployment time.

Change-Id: Idf1e24e69a485b51761c161bb939ccbba6601912
Related-Bug: #1883609
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/739547/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml']",3,a35782b379c2d09b61bfbb10c146e808293bdafc,sidecar/train, - name: remove temp namespace - name: create /var/lib/neutron - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script}, deploy_steps_tasks: - when: step|int == 1 block: &ovn_wrapper_tasks - name: set conditions set_fact: haproxy_wrapper_enabled: {get_param: OVNEnableHaproxyDockerWrapper} debug_enabled: if: - service_debug_unset - {get_param: Debug } - {get_param: NeutronWrapperDebug} docker_additional_sockets: {get_param: DockerAdditionalSockets} - name: create kill_scripts directory within /var/lib/neutron file: state: directory path: /var/lib/neutron/kill_scripts - name: create haproxy kill script when: haproxy_wrapper_enabled|bool copy: dest: /var/lib/neutron/kill_scripts/haproxy-kill mode: 0755 content: {get_file: ../neutron/kill-script} - - name: remove temp namespace - - name: create /var/lib/neutron update_tasks: - when: step|int == 1 block: *ovn_wrapper_tasks,93,111
openstack%2Fnova~master~I9abe783a9a9443c799e7c74a57cc30835f679a01,openstack/nova,master,I9abe783a9a9443c799e7c74a57cc30835f679a01,add [libvirt]/max_queues config option,MERGED,2019-11-20 00:38:11.000000000,2020-07-08 16:22:10.000000000,2019-12-03 10:08:35.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 12860}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 23498}, {'_account_id': 26220}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2019-11-20 00:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0b94c0a8aa210dfdacb2c55bd85c75d9ebd7ce51', 'message': 'add [libvirt]/max_queues config option\n\nThis change adds a max_queues config option to allow\noperators to set the maximium number of virtio queue\npairs that can be allocated to a virtio network\ninterface.\n\nChange-Id: I9abe783a9a9443c799e7c74a57cc30835f679a01\nCloses-Bug: #1847367\n'}, {'number': 2, 'created': '2019-12-02 15:59:29.000000000', 'files': ['nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/virtio-max-queues-27f73e988c7e66ba.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e6aac3c2d97c999451da50537df6a0cbddeb4a6', 'message': 'add [libvirt]/max_queues config option\n\nThis change adds a max_queues config option to allow\noperators to set the maximium number of virtio queue\npairs that can be allocated to a virtio network\ninterface.\n\nChange-Id: I9abe783a9a9443c799e7c74a57cc30835f679a01\nCloses-Bug: #1847367\n'}]",6,695118,0e6aac3c2d97c999451da50537df6a0cbddeb4a6,28,13,2,11604,,,0,"add [libvirt]/max_queues config option

This change adds a max_queues config option to allow
operators to set the maximium number of virtio queue
pairs that can be allocated to a virtio network
interface.

Change-Id: I9abe783a9a9443c799e7c74a57cc30835f679a01
Closes-Bug: #1847367
",git fetch https://review.opendev.org/openstack/nova refs/changes/18/695118/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/virtio-max-queues-27f73e988c7e66ba.yaml']",4,0b94c0a8aa210dfdacb2c55bd85c75d9ebd7ce51,bug/1847367,"--- other: - | The nova libvirt virt driver supports creating instances with multi-queue virtio network interfaces. In previous releases nova has based the maximum number of virtio queue pairs that can be allocated on the reported kernel major version. It has been reported in BUG1847367_ that some distros have backported changes from later major versions that make major version number no longer suitable to determine the maximum virtio queue pair count. A new config option has been added to the libvirt section of the nova.conf. When defined nova will now use the ``[libvirt]/max_queues`` option to define the max queues that can be configured, if undefined it will fallback to the previous kernel version approach. .. _BUG1847367: https://bugs.launchpad.net/nova/+bug/1847367 ",,45,0
openstack%2Fopenstack-ansible~stable%2Fussuri~I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,openstack/openstack-ansible,stable/ussuri,I3c9bbe5b43025b7a3f77435828c9501b3fdadd67,Disable test_swift_acl_anonymous_download test,MERGED,2020-07-01 20:54:36.000000000,2020-07-08 16:20:46.000000000,2020-07-08 16:07:42.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-01 20:54:36.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/35c84c4d5e1c18f00497347fb9e65bbf41e81ab7', 'message': 'Disable test_swift_acl_anonymous_download test\n\nCeph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized\nfrom 401 to 404, which makes this test fail.\n\nChange-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67\n(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)\n'}]",0,738938,35c84c4d5e1c18f00497347fb9e65bbf41e81ab7,14,4,1,28619,,,0,"Disable test_swift_acl_anonymous_download test

Ceph rgw in 14.2.10 and 15.2.4 has changed return code for unathorized
from 401 to 404, which makes this test fail.

Change-Id: I3c9bbe5b43025b7a3f77435828c9501b3fdadd67
(cherry picked from commit 75cfbe4db64f0989d1489ed162a45a73cf14b33c)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/38/738938/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables_ceph.yml.j2'],1,35c84c4d5e1c18f00497347fb9e65bbf41e81ab7,,# NOTE(noonedeadpunk): ceph bug to track the issue https://tracker.ceph.com/issues/46295 tempest_test_blacklist: - tempest.scenario.test_object_storage_basic_ops.TestObjectStorageBasicOps.test_swift_acl_anonymous_download,,3,0
openstack%2Fnova~master~I29c5a678efec4fbc4bd7958ebe6d454ae30701cd,openstack/nova,master,I29c5a678efec4fbc4bd7958ebe6d454ae30701cd,Prevent libvirt driver starting on non Linux platform,MERGED,2020-06-23 12:14:51.000000000,2020-07-08 16:19:16.000000000,2020-07-01 19:59:33.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-23 12:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6af36daac67175b5284943bf166d678b0c88a4bc', 'message': 'Prevent libvirt driver to start on non Linux platform\n\nThe libvirt driver reads under /proc and /sys and depends on os.stat to\ndetect if two directories are on the same device. So the driver is\nheavily Linux dependent. This patch makes sure that the nova-compute\nservice refuse to start with the libvirt driver on a non Linux platform.\n\nChange-Id: I29c5a678efec4fbc4bd7958ebe6d454ae30701cd\n'}, {'number': 2, 'created': '2020-06-25 11:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f88ba2cbcf161ccda132894eb2f8b877f1c4c65c', 'message': 'Prevent libvirt driver starting on non Linux platform\n\nThe libvirt driver reads under /proc and /sys and depends on os.stat to\ndetect if two directories are on the same device. So the driver is\nheavily Linux dependent. This patch makes sure that the nova-compute\nservice refuse to start with the libvirt driver on a non Linux platform.\n\nChange-Id: I29c5a678efec4fbc4bd7958ebe6d454ae30701cd\n'}, {'number': 3, 'created': '2020-06-25 12:21:06.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/68a5531568aa358da8ccddd5d7cb365ca662d890', 'message': 'Prevent libvirt driver starting on non Linux platform\n\nThe libvirt driver reads under /proc and /sys and depends on os.stat to\ndetect if two directories are on the same device. So the driver is\nheavily Linux dependent. This patch makes sure that the nova-compute\nservice refuse to start with the libvirt driver on a non Linux platform.\n\nChange-Id: I29c5a678efec4fbc4bd7958ebe6d454ae30701cd\n'}]",9,737508,68a5531568aa358da8ccddd5d7cb365ca662d890,34,11,3,9708,,,0,"Prevent libvirt driver starting on non Linux platform

The libvirt driver reads under /proc and /sys and depends on os.stat to
detect if two directories are on the same device. So the driver is
heavily Linux dependent. This patch makes sure that the nova-compute
service refuse to start with the libvirt driver on a non Linux platform.

Change-Id: I29c5a678efec4fbc4bd7958ebe6d454ae30701cd
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/737508/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/virt/libvirt/host.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,6af36daac67175b5284943bf166d678b0c88a4bc,,"import sys def test_driver_raises_on_non_linux_platform(self): with utils.temporary_mutation(sys, platform='darwin'): self.assertRaises( exception.InternalError, libvirt_driver.LibvirtDriver, fake.FakeVirtAPI(), False) ",,12,6
openstack%2Fkolla-ansible~master~I51054561af93f03e09fa86eeec7c579aca103cdf,openstack/kolla-ansible,master,I51054561af93f03e09fa86eeec7c579aca103cdf,Remove monasca log api upgrade task (planned),MERGED,2020-07-06 10:02:52.000000000,2020-07-08 16:14:37.000000000,2020-07-06 18:56:44.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ab40de79295e7de22f2c18af4c57bb0ff43b98fe', 'message': 'remove monasca log api\n\nplaned remove\n\nChange-Id: I51054561af93f03e09fa86eeec7c579aca103cdf\n'}, {'number': 2, 'created': '2020-07-06 13:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b2606a0f2a688adddd40337b6c26adbb8a970009', 'message': 'remove monasca log api\n\nplaned remove\n\nChange-Id: I51054561af93f03e09fa86eeec7c579aca103cdf\n'}, {'number': 3, 'created': '2020-07-06 15:01:06.000000000', 'files': ['ansible/roles/monasca/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3e0f4f2bd08e1501eb43f7d7c7cbe74f919a90a7', 'message': 'Remove monasca log api upgrade task (planned)\n\nChange-Id: I51054561af93f03e09fa86eeec7c579aca103cdf\n'}]",2,739449,3e0f4f2bd08e1501eb43f7d7c7cbe74f919a90a7,22,5,3,26285,,,0,"Remove monasca log api upgrade task (planned)

Change-Id: I51054561af93f03e09fa86eeec7c579aca103cdf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/49/739449/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/monasca/tasks/upgrade.yml', 'ansible/roles/monasca/defaults/main.yml']",2,ab40de79295e7de22f2c18af4c57bb0ff43b98fe,,,"monasca_log_api_dimensions: ""{{ default_container_dimensions }}""monasca_log_api_admin_endpoint: ""{{ admin_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }}"" monasca_log_api_internal_endpoint: ""{{ internal_protocol }}://{{ kolla_internal_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }}"" monasca_log_api_public_endpoint: ""{{ public_protocol }}://{{ kolla_external_fqdn | put_address_in_context('url') }}:{{ monasca_log_api_port }}"" - name: ""monasca-log-api"" type: ""logging"" description: ""Monasca logging as a service"" endpoints: - {'interface': 'admin', 'url': '{{ monasca_log_api_admin_endpoint }}'} - {'interface': 'internal', 'url': '{{ monasca_log_api_internal_endpoint }}'} - {'interface': 'public', 'url': '{{ monasca_log_api_public_endpoint }}'}",0,21
openstack%2Fproject-config~master~Ic02f436eb655dcbe84824b304ea2933e16312e67,openstack/project-config,master,Ic02f436eb655dcbe84824b304ea2933e16312e67,Define maintain-github-openstack-mirror job,MERGED,2020-06-26 15:47:41.000000000,2020-07-08 16:07:44.000000000,2020-07-08 16:07:44.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-26 15:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/902bc17c074a9f261a553ef66ef39a6ac579725a', 'message': ""[DNM] Define maintain-github-mirror job\n\nNB: Draft script for initial feedback.\n\nOpendev no longer automatically creates repositories on the\nGitHub mirror, nor does it update descriptions or closes open PRs.\n\nAdd a playbook and a job for periodically maintaining the GitHub\nmirror for the 'openstack' organization:\n\n- updating descriptions based on Gerrit project descriptions\n- creating on GitHub newly-added openstack repositories\n- archiving from GitHub recently-retired openstack repositories\n- closing any open PR with a healpful message\n\nThis job makes use of a GitHub API token (from the openstack-mirroring\nuser) and is defined to run periodically on project-config.\n\nChange-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67\n""}, {'number': 2, 'created': '2020-07-07 13:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/ea47606e2ca958641c79237d59e5907514e67fb2', 'message': ""Define maintain-github-mirror job\n\nOpendev no longer automatically creates repositories on the\nGitHub mirror, nor does it update descriptions or closes open PRs.\n\nAdd a playbook and a job for periodically maintaining the GitHub\nmirror for the 'openstack' organization:\n\n- updating descriptions based on Gerrit project descriptions\n- creating on GitHub newly-added openstack repositories\n- archiving from GitHub recently-retired openstack repositories\n- closing any open PR with a healpful message\n\nThis job makes use of a GitHub API token (from the openstack-mirroring\nuser) and is defined to run periodically on project-config.\n\nChange-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67\n""}, {'number': 3, 'created': '2020-07-07 14:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/139d0cb5d7866142d1412ccaf18e138c6fc2d50e', 'message': ""Define maintain-github-mirror job\n\nOpendev no longer automatically creates repositories on the\nGitHub mirror, nor does it update descriptions or closes open PRs.\n\nAdd a playbook and a job for periodically maintaining the GitHub\nmirror for the 'openstack' organization:\n\n- updating descriptions based on Gerrit project descriptions\n- creating on GitHub newly-added openstack repositories\n- archiving from GitHub recently-retired openstack repositories\n- closing any open PR with a healpful message\n\nThis job makes use of a GitHub API token (from the openstack-mirroring\nuser) and is defined to run periodically on project-config.\n\nChange-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67\n""}, {'number': 4, 'created': '2020-07-08 13:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e585b3ce03237c8107f0ee947efab8c4d7cd3fb', 'message': ""Define maintain-github-openstack-mirror job\n\nOpendev no longer automatically creates repositories on the\nGitHub mirror, nor does it update descriptions or closes open PRs.\n\nAdd a playbook and a job for periodically maintaining the GitHub\nmirror for the 'openstack' organization:\n\n- updating descriptions based on Gerrit project descriptions\n- creating on GitHub newly-added openstack repositories\n- archiving from GitHub recently-retired openstack repositories\n- closing any open PR with a healpful message\n\nThis job makes use of a GitHub API token (from the openstack-mirroring\nuser) and is defined to run periodically on project-config.\n\nChange-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67\n""}, {'number': 5, 'created': '2020-07-08 13:42:17.000000000', 'files': ['zuul.d/secrets.yaml', 'playbooks/maintain-github-mirror/github_manager.py', 'playbooks/maintain-github-mirror/run.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0197d9f92ab7c2b40206b8e8054f34bff9f36d7e', 'message': ""Define maintain-github-openstack-mirror job\n\nOpendev no longer automatically creates repositories on the\nGitHub mirror, nor does it update descriptions or closes open PRs.\n\nAdd a playbook and a job for periodically maintaining the GitHub\nmirror for the 'openstack' organization:\n\n- updating descriptions based on Gerrit project descriptions\n- creating on GitHub newly-added openstack repositories\n- archiving from GitHub recently-retired openstack repositories\n- closing any open PR with a healpful message\n\nThis job makes use of a GitHub API token (from the openstack-mirroring\nuser) and is defined to run periodically on project-config.\n\nChange-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67\n""}]",23,738228,0197d9f92ab7c2b40206b8e8054f34bff9f36d7e,19,4,5,308,,,0,"Define maintain-github-openstack-mirror job

Opendev no longer automatically creates repositories on the
GitHub mirror, nor does it update descriptions or closes open PRs.

Add a playbook and a job for periodically maintaining the GitHub
mirror for the 'openstack' organization:

- updating descriptions based on Gerrit project descriptions
- creating on GitHub newly-added openstack repositories
- archiving from GitHub recently-retired openstack repositories
- closing any open PR with a healpful message

This job makes use of a GitHub API token (from the openstack-mirroring
user) and is defined to run periodically on project-config.

Change-Id: Ic02f436eb655dcbe84824b304ea2933e16312e67
",git fetch https://review.opendev.org/openstack/project-config refs/changes/28/738228/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/secrets.yaml', 'playbooks/maintain-github-mirror/github_manager.py', 'playbooks/maintain-github-mirror/run.yaml', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml']",5,902bc17c074a9f261a553ef66ef39a6ac579725a,maintain-github-mirror," name: maintain-github-mirror description: | Runs maintenance scripts for the OpenStack GitHub mirror. The script updates the descriptions, creates new repositories, archives retired ones, and closes any open PR. It is meant to be run periodically. final: true protected: true run: playbooks/maintain-github-mirror/run.yaml secrets: - name: github_credentials secret: openstack-github-mirroring - job:",,318,0
openstack%2Ftripleo-ci~master~I6ea1b57f0349044a5852172b8b4b92f718e5c4bf,openstack/tripleo-ci,master,I6ea1b57f0349044a5852172b8b4b92f718e5c4bf,Add support for OSP containers in new build process,MERGED,2020-07-06 00:46:22.000000000,2020-07-08 16:01:12.000000000,2020-07-08 16:01:12.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 00:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f8a6ed05961a19fc37830cf2ef56ba6848069ed', 'message': 'Add support for building OSP containers in new build process\n\nThis patch adds support excludes from osp_branch.\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 2, 'created': '2020-07-06 01:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/89b454fe8a95aaf39057254ead6b287c921214df', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 3, 'created': '2020-07-06 16:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/50d0911b16f500b0a26f35a051d973345b4aaaa1', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 4, 'created': '2020-07-06 19:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3be2231e7b2b96c50446cc6c484d5e5c0094db84', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 5, 'created': '2020-07-06 20:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/42f9c71335fcf47de92271f204339a3bae954a67', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 6, 'created': '2020-07-06 20:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9491dbb553e18e453141ec0b43dd1a754f376f5', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 7, 'created': '2020-07-06 21:44:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4f687ca24e9585c73ffb5a2dea87831eb83580c8', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 8, 'created': '2020-07-06 21:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9996a28a15c06a77c3cde2924443dd09a3da59bd', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 9, 'created': '2020-07-07 17:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/31dd74d82a9089e48a43716a891a20251b72bd1e', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 10, 'created': '2020-07-07 18:31:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e6ddb5e5d3605db02271f05063399c4432d28464', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 11, 'created': '2020-07-07 18:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6f31e55b522921d3f14b421b4922c70ea7e40cd9', 'message': 'WIP: Add support OSP containers in new build process\n\nThis patch:\n - adds support excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 12, 'created': '2020-07-07 19:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7720ee1044db6bd62b79e88d83ce52f2138dd7fa', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the downstream repo versions in venv setup\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 13, 'created': '2020-07-07 19:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7c80ed51d3c12d257b97be61de18b645ff311446', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 14, 'created': '2020-07-07 19:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4c519fa72a923178f256b00db15ad72373343c90', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 15, 'created': '2020-07-07 19:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bdd735bfa342d009a278034d1f6d28c6e166c674', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n - allow the use of a custom container name\nprefix to deal with the rhel/redhat switch up\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 16, 'created': '2020-07-07 19:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/268c74beb667d76a8417d78a847244039b29b838', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n - allows for the use of a custom container name\nprefix to deal with the rhel/redhat switch up\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 17, 'created': '2020-07-07 19:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b016e052dfb9c594aa89b1583654b1d8a35a745d', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n - allows for the use of a custom container name\nprefix to deal with the rhel/redhat switch up\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 18, 'created': '2020-07-07 23:48:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bd4cb4177cfacd11cffa98571e2ae9bc11aa2d2d', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n - allows for the use of a custom container name\nprefix to deal with the rhel/redhat switch up\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}, {'number': 19, 'created': '2020-07-08 08:50:40.000000000', 'files': ['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/tasks/venv_setup.yml', 'roles/build-containers/vars/main.yaml', 'roles/build-containers/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/450a40cc2a5a9ea45b54d75234bef661d0a6d390', 'message': 'Add support for OSP containers in new build process\n\nThis patch:\n - adds support for excludes from osp_branch\n - uses the OSP repo versions in venv setup\nwhen running on downstream builds\n - allows for the use of a custom container name\nprefix to deal with the rhel/redhat switch up using\ncontainer_name_prefix var.\n\nChange-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf\n'}]",3,739385,450a40cc2a5a9ea45b54d75234bef661d0a6d390,41,7,19,9976,,,0,"Add support for OSP containers in new build process

This patch:
 - adds support for excludes from osp_branch
 - uses the OSP repo versions in venv setup
when running on downstream builds
 - allows for the use of a custom container name
prefix to deal with the rhel/redhat switch up using
container_name_prefix var.

Change-Id: I6ea1b57f0349044a5852172b8b4b92f718e5c4bf
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/85/739385/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/vars/main.yaml']",2,4f8a6ed05961a19fc37830cf2ef56ba6848069ed,newcontainerbuild-osp, rhos-17: - sahara-api - sahara-engine, # container excludes for the non-kolla builds excl_containers: redhat: 8: - sahara-api - sahara-engine,4,8
openstack%2Ftripleo-ci~master~I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d,openstack/tripleo-ci,master,I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d,Don't fail on EPEL disable if not exists,MERGED,2020-07-08 07:27:23.000000000,2020-07-08 16:01:10.000000000,2020-07-08 16:01:10.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 07:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/822166c65262c99474d4291ac683207a92512019', 'message': ""Don't fail on EPEL disable if not exists\n\nIf EPEL repos don't exist the task will fail.\nIgnore errors if repos don't exist.\nChange-Id: I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d\n""}, {'number': 2, 'created': '2020-07-08 07:30:21.000000000', 'files': ['playbooks/tripleo-buildimages/pre.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/47e66205c08175a2d3b37451a8ff457349be95a8', 'message': ""Don't fail on EPEL disable if not exists\n\nIf EPEL repos don't exist the task will fail.\nIgnore errors if repos don't exist.\nChange-Id: I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d\n""}]",0,739909,47e66205c08175a2d3b37451a8ff457349be95a8,13,5,2,10969,,,0,"Don't fail on EPEL disable if not exists

If EPEL repos don't exist the task will fail.
Ignore errors if repos don't exist.
Change-Id: I3d75734031bc8f1f6f44a671e71ae0b4f6769f0d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/09/739909/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/tripleo-buildimages/pre.yaml', 'playbooks/tripleo-buildcontainers/pre.yaml']",2,822166c65262c99474d4291ac683207a92512019,ep, - name: Disable EPEL repos with dnf if exists failed_when: false - name: Disable EPEL repos with yum if exists failed_when: false, - name: Disable EPEL repos with dnf - name: Disable EPEL repos with yum,8,4
openstack%2Ftripleo-quickstart-extras~master~I5221ea1324cf6dfbfd48153f6a99a396c36c042a,openstack/tripleo-quickstart-extras,master,I5221ea1324cf6dfbfd48153f6a99a396c36c042a,Fix tempestconf URL,MERGED,2020-06-13 14:19:40.000000000,2020-07-08 16:01:05.000000000,2020-07-08 16:01:05.000000000,"[{'_account_id': 6547}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-13 14:19:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b5fcd0736ace6ba97db43db72b125dd2ed00d72', 'message': 'Fix tempestconf URL\n\nChange I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed\nopenstack/python-tempestconf to osf/python-tempestconf. Update use in\nthis repository.\n\nChange-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a\n'}, {'number': 2, 'created': '2020-06-13 14:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3200b70234a00fc8793cd838d7070bdf5381e8a8', 'message': 'Fix tempestconf URL\n\nChange I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed\nopenstack/python-tempestconf to osf/python-tempestconf. Update use in\nthis repository.\n\nTripleO team: Please check whether this needs backporting and\ndo the backporting yourself.\n\nChange-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a\n'}, {'number': 3, 'created': '2020-06-16 12:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/bf4f5ca9285a9178f7eb31172e63eff74f01d3f5', 'message': 'Fix tempestconf URL\n\nChange I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed\nopenstack/python-tempestconf to osf/python-tempestconf. Update use in\nthis repository.\n\nTripleO team: Please check whether this needs backporting and\ndo the backporting yourself.\n\nChange-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a\n'}, {'number': 4, 'created': '2020-06-16 15:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a2077fbfb39634d414d77679a69f7ddd9bbb1c2f', 'message': 'Fix tempestconf URL\n\nChange I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed\nopenstack/python-tempestconf to osf/python-tempestconf. Update use in\nthis repository.\n\nTripleO team: Please check whether this needs backporting and\ndo the backporting yourself.\n\nDepends-On: https://review.opendev.org/#/c/735890/\nChange-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a\n'}, {'number': 5, 'created': '2020-07-08 07:22:44.000000000', 'files': ['roles/validate-tempest/tasks/tempest-venv.yml', 'playbooks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2322ebce7c165e8d4f75507315ce392576588009', 'message': 'Fix tempestconf URL\n\nChange I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed\nopenstack/python-tempestconf to osf/python-tempestconf. Update use in\nthis repository.\n\nTripleO team: Please check whether this needs backporting and\ndo the backporting yourself.\n\nDepends-On: https://review.opendev.org/#/c/735890/\nChange-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a\n'}]",0,735428,2322ebce7c165e8d4f75507315ce392576588009,62,8,5,6547,,,0,"Fix tempestconf URL

Change I02ac67e333cc1a5133269bd8562f18a8d50bb036 renamed
openstack/python-tempestconf to osf/python-tempestconf. Update use in
this repository.

TripleO team: Please check whether this needs backporting and
do the backporting yourself.

Depends-On: https://review.opendev.org/#/c/735890/
Change-Id: I5221ea1324cf6dfbfd48153f6a99a396c36c042a
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/28/735428/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/validate-tempest/tasks/tempest-venv.yml', 'playbooks/tempest.yml']",2,3b5fcd0736ace6ba97db43db72b125dd2ed00d72,interop-repo-renaming, tempest_tempestconf_git_repo: https://opendev.org/osf/python-tempestconf, tempest_tempestconf_git_repo: https://opendev.org/openstack/python-tempestconf,2,2
openstack%2Fansible-role-collect-logs~master~I138f9d892b8058ae3f7b2e69eb9fd335de9e7367,openstack/ansible-role-collect-logs,master,I138f9d892b8058ae3f7b2e69eb9fd335de9e7367,Add missing artcl_publish in infrared plugin,MERGED,2020-06-30 16:37:47.000000000,2020-07-08 16:01:04.000000000,2020-07-08 16:01:04.000000000,"[{'_account_id': 6683}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 16:37:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/996f9e27893cd20f2d9fb0edebfc405e08b01ed6', 'message': 'Add missing artcl_publish in infrared plugin\n\nThe patch adds a missing artcl_publish condition in the infrared\nplugin definition - infrared_plugin/main.yml. The var is used to\ncontroll publishing part of the role.\n\nChange-Id: I138f9d892b8058ae3f7b2e69eb9fd335de9e7367\n'}, {'number': 2, 'created': '2020-07-01 11:33:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/f8135ae0aed3cdb54accee6dc5e15db6db1c55e1', 'message': 'Add missing artcl_publish in infrared plugin\n\nThe patch adds a missing artcl_publish condition in the infrared\nplugin definition - infrared_plugin/main.yml. The var is used to\ncontroll publishing part of the role.\n\nChange-Id: I138f9d892b8058ae3f7b2e69eb9fd335de9e7367\n'}, {'number': 3, 'created': '2020-07-03 18:48:31.000000000', 'files': ['molecule/infrared/converge.yml', 'infrared_plugin/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/01ad1bb5e9b159ad0fd6e5f234d34f649565a472', 'message': 'Add missing artcl_publish in infrared plugin\n\nThe patch adds a missing artcl_publish condition in the infrared\nplugin definition - infrared_plugin/main.yml. The var is used to\ncontroll publishing part of the role.\n\nChange-Id: I138f9d892b8058ae3f7b2e69eb9fd335de9e7367\n'}]",0,738667,01ad1bb5e9b159ad0fd6e5f234d34f649565a472,18,5,3,22873,,,0,"Add missing artcl_publish in infrared plugin

The patch adds a missing artcl_publish condition in the infrared
plugin definition - infrared_plugin/main.yml. The var is used to
controll publishing part of the role.

Change-Id: I138f9d892b8058ae3f7b2e69eb9fd335de9e7367
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/67/738667/1 && git format-patch -1 --stdout FETCH_HEAD,['infrared_plugin/main.yml'],1,996f9e27893cd20f2d9fb0edebfc405e08b01ed6,, when: artcl_publish|default(false)|bool,,1,0
openstack%2Ftripleo-upgrade~stable%2Frocky~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/rocky,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-07 16:54:01.000000000,2020-07-08 16:01:03.000000000,2020-07-08 16:01:03.000000000,"[{'_account_id': 6816}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 16:54:01.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/db7864ac72dfc014216dae0df38dfd77b3ca0e48', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)\n'}]",0,739816,db7864ac72dfc014216dae0df38dfd77b3ca0e48,9,4,1,11090,,,0,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/16/739816/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/main.yml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",4,db7864ac72dfc014216dae0df38dfd77b3ca0e48,bug/1885637-stable/rocky,- name: adjust role-data for upgrade,- name: adjust role-data for P->Q upgrade,34,3
openstack%2Fironic~master~I4419254c23095929e52a0fda11789f2f5167dc6b,openstack/ironic,master,I4419254c23095929e52a0fda11789f2f5167dc6b,Provide a path to set explicit ipxe bootloaders,MERGED,2020-05-15 00:51:16.000000000,2020-07-08 15:49:54.000000000,2020-07-08 12:08:47.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 12898}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-05-15 00:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/bf6b744d278c043fc57e8a3e822ab1b1e06163b8', 'message': ""WIP: Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nrhbz# 1834567\n\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 2, 'created': '2020-05-27 22:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cc3a3e6e347fac332443a7c2edd0be6309f2a3d9', 'message': ""WIP: Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nrhbz# 1834567\n\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 3, 'created': '2020-06-02 19:57:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/11caeab29468655adc684fdde03f338ed088e096', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nrhbz# 1834567\n\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 4, 'created': '2020-07-06 11:20:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fdfef8367255363079b11136d108e1eb6f79b586', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 5, 'created': '2020-07-06 18:40:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4e732aa75d40d5b3f5593fdc93d40be3ae1e595', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 6, 'created': '2020-07-06 22:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/850a72b6c4f2853437efc125d6b03161c2b701b6', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 7, 'created': '2020-07-07 15:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ab7fffb054fb2d8566578cfc337927fd0382010d', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 8, 'created': '2020-07-07 19:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/57df7c58a6a2eb3206aa02c9c7dfbcda69210df7', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}, {'number': 9, 'created': '2020-07-07 19:38:43.000000000', 'files': ['ironic/conf/pxe.py', 'ironic/drivers/modules/pxe_base.py', 'devstack/lib/ironic', 'ironic/tests/unit/drivers/modules/test_ipxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py', 'releasenotes/notes/explicit_ipxe_config_options-d7bf9a743a13f523.yaml', 'doc/source/install/configure-pxe.rst', 'ironic/tests/unit/drivers/modules/test_deploy_utils.py', 'ironic/tests/unit/common/test_pxe_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f7d84f483be165fde04954453e156ceefc43d28', 'message': ""Provide a path to set explicit ipxe bootloaders\n\nI did something stupid when started driving forth the split of ipxe\nfrom the pxe interface: I didn't think about the need to actually\nseparate bootloaders. In part, because the use case was a mixed\nPower8/Power9 and x86 cluster. Mainly because the Power hardware\ndoes not honor or care about the bootfile name provided over DHCP.\nThe firmware knows how to read the PXELINUX boot file format\nand the machines are able to boot from there.\n\nWhere this all goes sideways is when:\n* Enabled boot interfaces are set to ipxe,pxe\n* No default boot interface is set\n* Node is created without a default for x86 hardware.\n* Node uses ipxe boot_interface, and creates files under /httpboot\n* bootfile transmitted via DHCP is pxelinux.0.\n\nFun right?\n\nThe simple workaround for the power user is to just define the iPXE\nloader, or maybe use UEFI. But that is neither here nor there, this\nis still a bug and a possible use case is GRUB2 via PXE and iPXE.\nNot that would really work via ipxe, but hopefully people get the\nidea.\n\nThe solution kind of seems clear, duplicate configuration and\nfallback if not defined.\n\nStory: #2007003\nTask: #40282\nChange-Id: I4419254c23095929e52a0fda11789f2f5167dc6b\n""}]",31,728315,5f7d84f483be165fde04954453e156ceefc43d28,77,10,9,11655,,,0,"Provide a path to set explicit ipxe bootloaders

I did something stupid when started driving forth the split of ipxe
from the pxe interface: I didn't think about the need to actually
separate bootloaders. In part, because the use case was a mixed
Power8/Power9 and x86 cluster. Mainly because the Power hardware
does not honor or care about the bootfile name provided over DHCP.
The firmware knows how to read the PXELINUX boot file format
and the machines are able to boot from there.

Where this all goes sideways is when:
* Enabled boot interfaces are set to ipxe,pxe
* No default boot interface is set
* Node is created without a default for x86 hardware.
* Node uses ipxe boot_interface, and creates files under /httpboot
* bootfile transmitted via DHCP is pxelinux.0.

Fun right?

The simple workaround for the power user is to just define the iPXE
loader, or maybe use UEFI. But that is neither here nor there, this
is still a bug and a possible use case is GRUB2 via PXE and iPXE.
Not that would really work via ipxe, but hopefully people get the
idea.

The solution kind of seems clear, duplicate configuration and
fallback if not defined.

Story: #2007003
Task: #40282
Change-Id: I4419254c23095929e52a0fda11789f2f5167dc6b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/728315/7 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/pxe.py', 'ironic/drivers/modules/deploy_utils.py', 'ironic/common/pxe_utils.py']",3,bf6b744d278c043fc57e8a3e822ab1b1e06163b8,story/2007003," if task.node.boot_interface == ""ipxe"": boot_file = deploy_utils.get_ipxe_boot_file(task.node) else: boot_file = deploy_utils.get_pxe_boot_file(task.node) ", boot_file = deploy_utils.get_pxe_boot_file(task.node),44,1
openstack%2Fneutron~master~Ia012a8e116a276a6674f86366c803e0e2d8ff704,openstack/neutron,master,Ia012a8e116a276a6674f86366c803e0e2d8ff704,[OVN] Unify OVN/OVS compilation,MERGED,2020-06-25 11:29:36.000000000,2020-07-08 15:49:34.000000000,2020-07-08 15:39:48.000000000,"[{'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-25 11:29:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/afb26cce2aeaf1d67d3337b572e734c35b533de2', 'message': '[WIP][OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 2, 'created': '2020-06-25 12:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1608efca57c1e1bf9de0f09a6cf39da9e8f21728', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 3, 'created': '2020-06-29 09:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b8dd6ac9d21ebcddf3704391894074f5d41c1cf', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 4, 'created': '2020-06-30 11:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0b71d617c56e2389aa890b3be1b776fb4542353e', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 5, 'created': '2020-07-01 13:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/085d4cd161baa87975cbf7f08de516f1cc873256', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 6, 'created': '2020-07-01 13:23:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/53962b6da58828ef22f3d4ea3b3af2331a388b3e', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 7, 'created': '2020-07-02 13:26:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a1a129116f266ab52dbf49efe0e6fe0763333f98', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}, {'number': 8, 'created': '2020-07-07 22:05:59.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'tools/configure_for_func_testing.sh', 'neutron/tests/contrib/gate_hook.sh', 'roles/configure_functional_tests/tasks/main.yaml', 'devstack/lib/ovs', 'devstack/lib/ovn_agent'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb2806f8088dccafd6616a68f5b296914d192150', 'message': '[OVN] Unify OVN/OVS compilation\n\nThere were duplicated methods doing almost the same in terms\nof OVS/OVN compilation.\n\nThis change:\n * move of OVS related compilation code to devstack/lib/ovs\n * delete of OVS related compilation code from devstack/lib/ovn_agent\n * source unified functions in devstack/lib/ovn_agent from\n   devstack/lib/ovs\n * Unify NEUTRON_PATH variable to NEUTRON_DIR\n\nCloses-Bug: #1877377\n\nChange-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704\n'}]",4,737984,fb2806f8088dccafd6616a68f5b296914d192150,57,8,8,24791,,,0,"[OVN] Unify OVN/OVS compilation

There were duplicated methods doing almost the same in terms
of OVS/OVN compilation.

This change:
 * move of OVS related compilation code to devstack/lib/ovs
 * delete of OVS related compilation code from devstack/lib/ovn_agent
 * source unified functions in devstack/lib/ovn_agent from
   devstack/lib/ovs
 * Unify NEUTRON_PATH variable to NEUTRON_DIR

Closes-Bug: #1877377

Change-Id: Ia012a8e116a276a6674f86366c803e0e2d8ff704
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/737984/7 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ovs', 'devstack/lib/ovn_agent']",2,afb26cce2aeaf1d67d3337b572e734c35b533de2,bug/1877377,# Load devstack ovs base functions source $NEUTRON_DIR/devstack/lib/ovs ,"# Fetch the ovs git repository and install packages needed for # the compilation. function _prepare_for_ovs_compilation { local build_modules=$1 clone_repository $OVS_REPO $DEST/$OVS_REPO_NAME $OVS_BRANCH if [[ ""$build_modules"" == ""False"" ]]; then return fi KERNEL_VERSION=`uname -r` if is_fedora ; then # is_fedora covers Fedora, RHEL, CentOS, etc... if [[ ""$os_VENDOR"" == ""Fedora"" ]]; then install_package elfutils-libelf-devel KERNEL_VERSION=`echo $KERNEL_VERSION | cut --delimiter='-' --field 1` elif [[ ${KERNEL_VERSION:0:2} != ""3."" ]]; then # dash is illegal character in rpm version so replace # them with underscore like it is done in the kernel # https://github.com/torvalds/linux/blob/master/scripts/package/mkspec#L25 # but only for latest series of the kernel, not 3.x KERNEL_VERSION=`echo $KERNEL_VERSION | tr - _` fi echo NOTE: if kernel-devel-$KERNEL_VERSION or kernel-headers-$KERNEL_VERSION installation echo failed, please, provide a repository with the package, or yum update / reboot echo your machine to get the latest kernel. install_package kernel-devel-$KERNEL_VERSION install_package kernel-headers-$KERNEL_VERSION elif is_ubuntu ; then install_package linux-headers-$KERNEL_VERSION fi } # Reload the ovs kernel modules function _reload_ovs_kernel_modules { set +e ovs_system=$(sudo ovs-dpctl dump-dps | grep ovs-system) if [ -n ""$ovs_system"" ]; then sudo ovs-dpctl del-dp ovs-system fi set -e sudo modprobe -r vport_geneve sudo modprobe -r openvswitch sudo modprobe openvswitch || (dmesg && die $LINENO ""FAILED TO LOAD openvswitch"") sudo modprobe vport-geneve || (dmesg && echo ""FAILED TO LOAD vport-geneve"") } # Compile openvswitch and its kernel module function _compile_ovs { local build_modules=$1 # Install the dependencies install_package autoconf automake libtool gcc patch make # TODO(flaviof): Would prefer to use pip_install wrapper, but that is not # useable right now because REQUIREMENTS_DIR variable is hard coded in # starckrc sudo pip3 install six _prepare_for_ovs_compilation $build_modules KERNEL_VERSION=$(uname -r) major_version=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f1) patch_level=$(echo ""${KERNEL_VERSION}"" | cut -d '.' -f2) if [ ""${major_version}"" -gt 5 ] || [ ""${major_version}"" == 5 ] && [ ""${patch_level}"" -gt 5 ]; then echo ""NOTE: KERNEL VERSION is ${KERNEL_VERSION} and OVS doesn't support compiling "" echo ""Kernel module for version higher than 5.5. Skipping module compilation..."" build_modules=""False"" fi pushd $DEST/$OVS_REPO_NAME [ -f configure ] || ./boot.sh if [ ! -f config.status ] || [ configure -nt config.status ] ; then if [[ ""$build_modules"" == ""True"" ]]; then ./configure --with-linux=/lib/modules/$(uname -r)/build else ./configure fi fi make -j$(($(nproc) + 1)) sudo make install if [[ ""$build_modules"" == ""True"" ]]; then sudo make INSTALL_MOD_DIR=kernel/net/openvswitch modules_install if [ $? -eq 0 ]; then _reload_ovs_kernel_modules else echo ""Compiling OVS kernel modules failed"" fi fi popd } source $NEUTRON_DIR/devstack/lib/ovs",18,127
openstack%2Ftripleo-ansible~stable%2Fussuri~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,stable/ussuri,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-08 01:49:26.000000000,2020-07-08 15:45:43.000000000,2020-07-08 15:45:43.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 01:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c66602bfce52ea52f809f546b8678e7c15085bc6', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)\n""}, {'number': 2, 'created': '2020-07-08 03:59:06.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ee70524bab3a517f7a151138d6d651b6013d57ae', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)\n""}]",0,739868,ee70524bab3a517f7a151138d6d651b6013d57ae,11,6,2,3153,,,0,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/739868/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml']",2,c66602bfce52ea52f809f546b8678e7c15085bc6,739415-stable/ussuri,"- name: Perform container registry login(s) with podman - name: Perform container registry login(s) with buildah become: true shell: |- buildah login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ --tls-verify={{ tripleo_podman_tls_verify }} \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" no_log: ""{{ tripleo_podman_hide_sensitive_logs | bool }}"" loop: ""{{ query('dict', tripleo_container_registry_logins) }}"" register: registry_login_buildah",- name: Perform container registry login(s),17,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,stable/ussuri,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-08 03:58:01.000000000,2020-07-08 15:45:41.000000000,2020-07-08 15:45:41.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 03:58:01.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed7e090a047b4e602dda74b7fb22d37b215f3092', 'message': ""Use registry:2.7.0 instead of registry:2\n\nhtpasswd is removed in latest registry image[1]\nand it's breaking molecule job for tripleo_podman\nrole, let's use working registry image.\n\n[1] https://github.com/docker/distribution-library-image/issues/106\nChange-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793\n(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)\n""}]",0,739885,ed7e090a047b4e602dda74b7fb22d37b215f3092,6,4,1,13861,,,0,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/739885/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'],1,ed7e090a047b4e602dda74b7fb22d37b215f3092,739415-stable/ussuri," podman run --entrypoint htpasswd registry:2.7.0 -Bbn testuser testpassword > {{ ansible_user_dir }}/auth/htpasswd image: ""registry:2.7.0"""," podman run --entrypoint htpasswd registry:2 -Bbn testuser testpassword > {{ ansible_user_dir }}/auth/htpasswd image: ""registry:2""",2,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,stable/train,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-08 01:50:13.000000000,2020-07-08 15:45:40.000000000,2020-07-08 15:45:40.000000000,"[{'_account_id': 3153}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 01:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68772a7888fc3d0cfac63d96bda8763a180b2492', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)\n""}, {'number': 2, 'created': '2020-07-08 04:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a02c7fa778982c2cf80c7b4ba5c783b9b09d148a', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)\n""}, {'number': 3, 'created': '2020-07-08 08:13:42.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d0fbe8b8441b1a1de3ce60856cfe9486ea4b4962', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)\n""}]",0,739869,d0fbe8b8441b1a1de3ce60856cfe9486ea4b4962,13,5,3,3153,,,0,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
(cherry picked from commit 067a315df92248f83103e5b4b7ec8424c9b5d6a9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/69/739869/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo-podman/vars/redhat.yml']",2,68772a7888fc3d0cfac63d96bda8763a180b2492,buildah/train, - buildah,,17,1
openstack%2Fpuppet-openstack_spec_helper~master~Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,openstack/puppet-openstack_spec_helper,master,Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b,Disable relative_classname_inclusion,MERGED,2019-12-07 12:55:42.000000000,2020-07-08 15:44:23.000000000,2019-12-07 23:10:16.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 12:55:42.000000000', 'files': ['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/33fc996588f092d5d5a43875a5339cba070a5853', 'message': 'Disable relative_classname_inclusion\n\nWe still have some places to use absolute paths to inclusion,\nso disable the test until we complete migration to relative paths.\n\nChange-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b\n'}]",0,697836,33fc996588f092d5d5a43875a5339cba070a5853,7,2,1,9816,,,0,"Disable relative_classname_inclusion

We still have some places to use absolute paths to inclusion,
so disable the test until we complete migration to relative paths.

Change-Id: Ie64e8af8c461e0869a9d2e04eb700ad052ccee9b
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/36/697836/1 && git format-patch -1 --stdout FETCH_HEAD,"['puppet-openstack_spec_helper.gemspec', 'lib/puppet-openstack_spec_helper/rake_tasks.rb']",2,33fc996588f092d5d5a43875a5339cba070a5853,pin-puppet-lint-absolute_classname-check," # TODO(tobias-urdin) Remove relative_classname_inclusion # when we have fixed all the absolute includes to relative. # https://github.com/voxpupuli/puppet-lint-absolute_classname-check#relative-class-name-inclusion config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string"", ""relative_classname_inclusion""]"," config.disable_checks = [""80chars"", ""class_inherits_from_params_class"", ""only_variable_string""]",6,5
openstack%2Fnova~stable%2Fstein~I7f40f167cea073a73cf249a9adfd73e1187c031b,openstack/nova,stable/stein,I7f40f167cea073a73cf249a9adfd73e1187c031b,Add admin doc information about image cache resource accounting,MERGED,2020-06-02 11:53:37.000000000,2020-07-08 15:37:13.000000000,2020-07-08 15:30:36.000000000,"[{'_account_id': 4393}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}]","[{'number': 1, 'created': '2020-06-02 11:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a7b73ac873319cb9ef9d48f2750aaf46c88c29b', 'message': 'Add admin doc information about image cache resource accounting\n\nThis adds some details to the image cache page in the admin docs about\nhow image cache disk usage is (not) considered in the scheduler disk\nspace calculation. Workarounds and mitigation strategies are provided.\n\nConflicts:\n  doc/source/admin/image-caching.rst due to\n  829ccbe2bbc4e80e92baf7553401d7925d883732 and\n  828e8047e5c8651ea757bda7922670889d5e8818 is not in stable/train.\n\nBasically this patch is now a partial backport of\n829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into\n57702ad4849a4ffc0c02df97269c8d7f44b57bae .\n\nChange-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b\nRelated-Bug: #1878024\n(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)\n(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)\n(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)\n'}, {'number': 2, 'created': '2020-06-10 16:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7d8143a1459cb6812f4d69a339e7ac2075023231', 'message': 'Add admin doc information about image cache resource accounting\n\nThis adds some details to the image cache page in the admin docs about\nhow image cache disk usage is (not) considered in the scheduler disk\nspace calculation. Workarounds and mitigation strategies are provided.\n\nConflicts:\n  doc/source/admin/image-caching.rst due to\n  829ccbe2bbc4e80e92baf7553401d7925d883732 and\n  828e8047e5c8651ea757bda7922670889d5e8818 is not in stable/train.\n\nBasically this patch is now a partial backport of\n829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into\n57702ad4849a4ffc0c02df97269c8d7f44b57bae .\n\nChange-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b\nRelated-Bug: #1878024\n(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)\n(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)\n(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)\n'}, {'number': 3, 'created': '2020-06-17 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cd087c384f1688865d2770a91eb0b44a904aff64', 'message': 'Add admin doc information about image cache resource accounting\n\nThis adds some details to the image cache page in the admin docs about\nhow image cache disk usage is (not) considered in the scheduler disk\nspace calculation. Workarounds and mitigation strategies are provided.\n\nBasically this patch is now a partial backport of\n829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into\n57702ad4849a4ffc0c02df97269c8d7f44b57bae .\n\nChange-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b\nRelated-Bug: #1878024\n(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)\n(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)\n(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)\n'}, {'number': 4, 'created': '2020-07-06 10:38:48.000000000', 'files': ['doc/source/admin/index.rst', 'doc/source/admin/image-caching.rst'], 'web_link': 'https://opendev.org/openstack/nova/commit/5429fd3d6e71dd2dd0e87c2055e55d69fc5023da', 'message': 'Add admin doc information about image cache resource accounting\n\nThis adds some details to the image cache page in the admin docs about\nhow image cache disk usage is (not) considered in the scheduler disk\nspace calculation. Workarounds and mitigation strategies are provided.\n\nBasically this patch is now a partial backport of\n829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into\n57702ad4849a4ffc0c02df97269c8d7f44b57bae .\n\nChange-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b\nRelated-Bug: #1878024\n(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)\n(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)\n(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)\n'}]",4,732542,5429fd3d6e71dd2dd0e87c2055e55d69fc5023da,21,7,4,28332,,,0,"Add admin doc information about image cache resource accounting

This adds some details to the image cache page in the admin docs about
how image cache disk usage is (not) considered in the scheduler disk
space calculation. Workarounds and mitigation strategies are provided.

Basically this patch is now a partial backport of
829ccbe2bbc4e80e92baf7553401d7925d883732 squashed into
57702ad4849a4ffc0c02df97269c8d7f44b57bae .

Change-Id: I7f40f167cea073a73cf249a9adfd73e1187c031b
Related-Bug: #1878024
(cherry picked from commit ab3fab03222a5e82ca96ed2a4e959ac7faa3f4fe)
(cherry picked from commit 57702ad4849a4ffc0c02df97269c8d7f44b57bae)
(cherry picked from commit 147f1c753a225a09485ddd2d575d489ad67428ae)
",git fetch https://review.opendev.org/openstack/nova refs/changes/42/732542/3 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/index.rst', 'doc/source/admin/image-caching.rst']",2,3a7b73ac873319cb9ef9d48f2750aaf46c88c29b,bug/1878024,"============= Image Caching ============= What is Image Caching? ---------------------- In order to understand what image caching is and why it is beneficial, it helps to be familiar with the process by which an instance is booted from a given base image. When a new instance is created on a compute node, the following general steps are performed by the compute manager in conjunction with the virt driver: #. Download the base image from glance #. Copy or COW the base image to create a new root disk image for the instance #. Boot the instance using the new root disk image The first step involves downloading the entire base image to the local disk on the compute node, which could involve many gigabytes of network traffic, storage, and many minutes of latency between the start of the boot process and actually running the instance. When the virt driver supports image caching, step #1 above may be skipped if the base image is already present on the compute node. This is most often the case when another instance has been booted on that node from the same base image recently. If present, the download operation can be skipped, which greatly reduces the time-to-boot for the second and subsequent instances that use the same base image, as well as avoids load on the glance server and the network connection. By default, the compute node will periodically scan the images it has cached, looking for base images that are not used by any instances on the node that are older than a configured lifetime (24 hours by default). Those unused images are deleted from the cache directory until they are needed again. For more information about configuring image cache behavior, see the documentation for the following configuration options: - :oslo.config:option:`image_cache_subdirectory_name` - :oslo.config:option:`image_cache_manager_interval` - :oslo.config:option:`remove_unused_base_images` - :oslo.config:option:`remove_unused_original_minimum_age_seconds` .. note:: Some ephemeral backend drivers may not use or need image caching, or may not behave in the same way as others. For example, when using the ``rbd`` backend with the ``libvirt`` driver and a shared pool with glance, images are COW'd at the storage level and thus need not be downloaded (and thus cached) at the compute node at all. Image Caching Resource Accounting --------------------------------- Generally the size of the image cache is not part of the data Nova includes when reporting available or consumed disk space. This means that when ``nova-compute`` reports 100G of total disk space, the scheduler will assume that 100G of instances may be placed there. Usually disk is the most plentiful resource and thus the last to be exhausted, so this is often not problematic. However, if many instances are booted from distinct images, all of which need to be cached in addition to the disk space used by the instances themselves, Nova may overcommit the disk unintentionally by failing to consider the size of the image cache. There are two approaches to addressing this situation: #. **Mount the image cache as a separate filesystem**. This will cause Nova to report the amount of disk space available purely to instances, independent of how much is consumed by the cache. Nova will continue to disregard the size of the image cache and, if the cache space is exhausted, builds will fail. However, available disk space for instances will be correctly reported by ``nova-compute`` and accurately considered by the scheduler. #. **Enable optional reserved disk amount behavior**. The configuration workaround :oslo.config:option:`workarounds.reserve_disk_resource_for_image_cache` will cause ``nova-compute`` to periodically update the reserved disk amount to include the statically configured value, as well as the amount currently consumed by the image cache. This will cause the scheduler to see the available disk space decrease as the image cache grows. This is not updated synchronously and thus is not a perfect solution, but should vastly increase the scheduler's visibility resulting in better decisions. (Note this solution is currently libvirt-specific) As above, not all backends and virt drivers use image caching, and thus a third option may be to consider alternative infrastructure to eliminate this problem altogether. ",,92,0
openstack%2Fnova~stable%2Ftrain~I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,openstack/nova,stable/train,I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a,Fix cherry-pick check for merge patch,MERGED,2020-07-03 08:25:02.000000000,2020-07-08 15:35:30.000000000,2020-07-08 15:30:45.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 08:25:02.000000000', 'files': ['tools/check-cherry-picks.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/7a5111ba2943014b6fd53a5fe7adcd9bc445315e', 'message': ""Fix cherry-pick check for merge patch\n\nCherry-pick check script validates the proposed patch's commit message.\nIf a patch is not on top of the given branch then Zuul rebases it to\nthe top and the patch becomes a merge patch. In this case the script\nvalidates the merge patch's commit message instead of the original\npatch's commit message and fails.\n\nThis fix selects the parent of the patch if it is a merge patch.\n\nChange-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a\n(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)\n(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)\n""}]",0,739177,7a5111ba2943014b6fd53a5fe7adcd9bc445315e,13,5,1,17685,,,0,"Fix cherry-pick check for merge patch

Cherry-pick check script validates the proposed patch's commit message.
If a patch is not on top of the given branch then Zuul rebases it to
the top and the patch becomes a merge patch. In this case the script
validates the merge patch's commit message instead of the original
patch's commit message and fails.

This fix selects the parent of the patch if it is a merge patch.

Change-Id: I8e4e5afc773d53dee9c1c24951bb07a45ddc2f1a
(cherry picked from commit c7c48c6f52c9159767b60a4576ba37726156a5f7)
(cherry picked from commit 02f213b831d8e1d4a1d8ebb18d1260571fe20b84)
",git fetch https://review.opendev.org/openstack/nova refs/changes/77/739177/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/check-cherry-picks.sh'],1,7a5111ba2943014b6fd53a5fe7adcd9bc445315e,backport-hash-check,"commit_hash="""" # Check if the patch is a merge patch by counting the number of parents. # If the patch has 2 parents, then the 2nd parent is the patch we want # to validate. parent_number=$(git show --format='%P' --quiet | awk '{print NF}') if [ $parent_number -eq 2 ]; then commit_hash=$(git show --format='%P' --quiet | awk '{print $NF}') fi hashes=$(git show --format='%b' --quiet $commit_hash | sed -nr 's/^.cherry picked from commit (.*).$/\1/p')",hashes=$(git show --format='%b' --quiet $1 | sed -nr 's/^.cherry picked from commit (.*).$/\1/p'),11,1
openstack%2Fneutron~master~Iaf08c75d6a3721c05db9e3858c0136847b0102a6,openstack/neutron,master,Iaf08c75d6a3721c05db9e3858c0136847b0102a6,Remove _router_exists  method,MERGED,2020-07-03 10:50:44.000000000,2020-07-08 15:34:40.000000000,2020-07-08 15:30:15.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-03 10:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/96a0288736803af5d5c86c5f3dc644220643dce9', 'message': 'Optimize router exists method\n\nInstead of retrieving the full DB object, ""count"" method will be\nfaster. There is no need to filter by RBAC or access type because\nthis method uses the admin context.\n\nTrivial-Fix\n\nChange-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6\n'}, {'number': 2, 'created': '2020-07-03 10:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93c7dbe6095011190b2c7960b98faac7cf4fb172', 'message': 'Optimize router exists method\n\nInstead of retrieving the full DB object, ""count"" method will be\nfaster. There is no need to filter by RBAC or access type because\nthis method uses the admin context.\n\nTrivial-Fix\n\nChange-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6\n'}, {'number': 3, 'created': '2020-07-06 10:20:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a9f86b4329ad7725bdf79a4d18d251af2700a86', 'message': 'Optimize router exists method\n\nInstead of retrieving the full DB object, ""count"" method will be\nfaster. There is no need to filter by RBAC or access type because\nthis method uses the admin context.\n\nTrivial-Fix\n\nChange-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6\n'}, {'number': 4, 'created': '2020-07-06 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/33cd8b367cc16baf905b0e9579d5e317fe55a496', 'message': 'Optimize router exists method\n\nInstead of retrieving the full DB object, ""count"" method will be\nfaster. There is no need to filter by RBAC or access type because\nthis method uses the admin context.\n\nTrivial-Fix\n\nChange-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6\n'}, {'number': 5, 'created': '2020-07-07 18:03:45.000000000', 'files': ['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a427bcd2aa3dc444c8362429405786dde21d2f0', 'message': 'Remove _router_exists  method\n\nInstead of retrieving the full DB object, ""objects_exist"" OVO method\nwill be faster.\n\nTrivial-Fix\n\nChange-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6\n'}]",9,739204,7a427bcd2aa3dc444c8362429405786dde21d2f0,29,7,5,16688,,,0,"Remove _router_exists  method

Instead of retrieving the full DB object, ""objects_exist"" OVO method
will be faster.

Trivial-Fix

Change-Id: Iaf08c75d6a3721c05db9e3858c0136847b0102a6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/04/739204/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_dvr_db.py', 'neutron/db/l3_db.py', 'neutron/objects/router.py']",3,96a0288736803af5d5c86c5f3dc644220643dce9,remove_router_exists," @staticmethod def router_exists(context, router_id): """"""Return if a router exists filtering by ID Because this method will use the admin context, there is no need to filter by RBAC or access type. """""" return bool(context.elevate().session.query(l3.Router).filter( l3.Router.id == router_id).count()) ",,12,9
openstack%2Fironic-tempest-plugin~master~I920675b8a61a65c850b245283c3613b03f33ee6a,openstack/ironic-tempest-plugin,master,I920675b8a61a65c850b245283c3613b03f33ee6a,Improve test_baremetal_basic_ops,MERGED,2020-06-16 16:20:19.000000000,2020-07-08 15:34:29.000000000,2020-07-08 15:32:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-16 16:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/a4756d629b75e7578e2b2987cd758f4c4c8f3065', 'message': 'Add tests for uefi\n\nThis patch adds two tests:\n- uefi + wholedisk images\n- uefi + partition images\n\nChange-Id: I920675b8a61a65c850b245283c3613b03f33ee6a\n'}, {'number': 2, 'created': '2020-06-24 12:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/f13ad7622351d51542743f7d61ebbaae5f440973', 'message': 'Add tests for uefi\n\nThis patch adds two tests:\n- uefi + wholedisk images\n- uefi + partition images\n\nChange-Id: I920675b8a61a65c850b245283c3613b03f33ee6a\n'}, {'number': 3, 'created': '2020-06-24 15:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d8b9e33235ad627ccb5867f97ba6310f5dcefb4b', 'message': 'Add tests for uefi\n\nAdd a new configuration for tempest `boot_mode`.\n\nAdd two scenarios for uefi:\n- uefi + wholedisk images\n- uefi + partition images\n\nChange-Id: I920675b8a61a65c850b245283c3613b03f33ee6a\n'}, {'number': 4, 'created': '2020-06-30 13:44:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/6b2c5686e6d582d51e6c374e5002728f9fd89725', 'message': 'Improve test_baremetal_basic_ops\n\n- test_baremetal_basic_ops now can test scenarios\nfor partition/wholedisk images.\n- added a new configuration for tempest `boot_mode`.\n- if boot_mode is uefi the test_baremetal_basic_ops\nwill run a verification to make sure the VM is using\nuefi.\n\nChange-Id: I920675b8a61a65c850b245283c3613b03f33ee6a\n'}, {'number': 5, 'created': '2020-06-30 16:11:07.000000000', 'files': ['ironic_tempest_plugin/config.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/d180a3ef76a332f059f420889fb19ddd2695f4f1', 'message': 'Improve test_baremetal_basic_ops\n\n- test_baremetal_basic_ops now can test scenarios\nfor partition/wholedisk images.\n- added a new configuration for tempest `boot_mode`.\n- if boot_mode is uefi the test_baremetal_basic_ops\nwill run a verification to make sure the VM is using\nuefi.\n\nChange-Id: I920675b8a61a65c850b245283c3613b03f33ee6a\n'}]",8,735960,d180a3ef76a332f059f420889fb19ddd2695f4f1,26,4,5,15519,,,0,"Improve test_baremetal_basic_ops

- test_baremetal_basic_ops now can test scenarios
for partition/wholedisk images.
- added a new configuration for tempest `boot_mode`.
- if boot_mode is uefi the test_baremetal_basic_ops
will run a verification to make sure the VM is using
uefi.

Change-Id: I920675b8a61a65c850b245283c3613b03f33ee6a
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/60/735960/4 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_tempest_plugin/tests/scenario/baremetal_manager.py', 'ironic_tempest_plugin/tests/scenario/test_baremetal_bootmode.py']",2,a4756d629b75e7578e2b2987cd758f4c4c8f3065,improve_basic_ops," # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common import utils from tempest import config from tempest.lib import decorators from ironic_tempest_plugin.tests.scenario import baremetal_manager CONF = config.CONF class BaremetalUefiWholedisk(baremetal_manager.BaremetalBootModeScenario): driver = 'ipmi' deploy_interface = 'iscsi' image_ref = CONF.baremetal.whole_disk_image_ref wholedisk_image = True @decorators.idempotent_id('d7d48aa1-0395-4f31-a908-60969adc4322') @utils.services('compute', 'image', 'network') def test_baremetal_uefi_wholedisk(self): self.keypair = self.create_keypair() self.instance, self.node = self.boot_instance() self.validate_ports() self.validate_scheduling() ip_address = self.get_server_ip(self.instance) self.get_remote_client(ip_address) self.terminate_instance(self.instance) class BaremetalUefiPartitioned(baremetal_manager.BaremetalBootModeScenario): driver = 'ipmi' deploy_interface = 'iscsi' image_ref = CONF.baremetal.partition_image_ref wholedisk_image = False boot_option = 'netboot' @decorators.idempotent_id('73bf4516-26e6-4569-8cf1-dc27bde762ae') @utils.services('compute', 'image', 'network') def test_baremetal_uefi_wholedisk(self): self.keypair = self.create_keypair() self.instance, self.node = self.boot_instance() self.validate_ports() self.validate_scheduling() ip_address = self.get_server_ip(self.instance) self.get_remote_client(ip_address) self.terminate_instance(self.instance) ",,187,0
openstack%2Fnova~stable%2Fstein~I253f4f305ecf8b5331212be87caef41f2ebb747e,openstack/nova,stable/stein,I253f4f305ecf8b5331212be87caef41f2ebb747e,libvirt: avoid cpu check at s390x arch,MERGED,2020-01-08 10:06:11.000000000,2020-07-08 15:34:09.000000000,2020-07-08 15:30:20.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28182}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-01-08 10:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebf52b63cb556bc5e1d02f264d751dd7efd39c21', 'message': 'libvirt: avoid cpu check at s390x arch\n\nnova compute will call check_can_live_migrate_destination when doing\nlive migration and it will compare cpu model, however, following info\nindicated that cpu compare is not supported at s390x arch.\n\nURI qemu:///system does not support full set of host capabilities: this\nfunction is not supported by the connection driver:\ncannot compute baseline CPU of s390x architecture\n\nhttps://www.libvirt.org/news.html has the info\nv5.9.0 has Improvements part indicated the compare was added at 5.9\n\nso the workaround is to avoid the check and let the migration proceed.\n\nChange-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e\nCloses-Bug: 1854126\n(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)\n'}, {'number': 2, 'created': '2020-06-10 16:32:34.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21642202ffe834a8086d428dd500bf09413bc002', 'message': 'libvirt: avoid cpu check at s390x arch\n\nnova compute will call check_can_live_migrate_destination when doing\nlive migration and it will compare cpu model, however, following info\nindicated that cpu compare is not supported at s390x arch.\n\nURI qemu:///system does not support full set of host capabilities: this\nfunction is not supported by the connection driver:\ncannot compute baseline CPU of s390x architecture\n\nhttps://www.libvirt.org/news.html has the info\nv5.9.0 has Improvements part indicated the compare was added at 5.9\n\nso the workaround is to avoid the check and let the migration proceed.\n\nChange-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e\nCloses-Bug: 1854126\n(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)\n(cherry picked from commit 7d7a3ba70a36f05b07ee471490f1b587663348f8)\n'}]",0,701526,21642202ffe834a8086d428dd500bf09413bc002,29,9,2,6062,,,0,"libvirt: avoid cpu check at s390x arch

nova compute will call check_can_live_migrate_destination when doing
live migration and it will compare cpu model, however, following info
indicated that cpu compare is not supported at s390x arch.

URI qemu:///system does not support full set of host capabilities: this
function is not supported by the connection driver:
cannot compute baseline CPU of s390x architecture

https://www.libvirt.org/news.html has the info
v5.9.0 has Improvements part indicated the compare was added at 5.9

so the workaround is to avoid the check and let the migration proceed.

Change-Id: I253f4f305ecf8b5331212be87caef41f2ebb747e
Closes-Bug: 1854126
(cherry picked from commit 011cce6adb30c50737b45ec02e161fd71ab5b3e3)
(cherry picked from commit 7d7a3ba70a36f05b07ee471490f1b587663348f8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/26/701526/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ebf52b63cb556bc5e1d02f264d751dd7efd39c21,bug/1854126," def test_compare_cpu_virt_platform_s390x(self): _fake_s390xcpu_info = { ""arch"": ""s390x"", ""model"": ""test_model"", ""vendor"": ""test_vendor"", ""topology"": { ""sockets"": 1, ""cores"": 8, ""threads"": 16 }, ""features"": [""feature1"", ""feature2""] } instance = objects.Instance(**self.test_instance) conn = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) ret = conn._compare_cpu(None, jsonutils.dumps(_fake_s390xcpu_info), instance) self.assertIsNone(ret) ",,32,0
openstack%2Fcharm-nova-compute~stable%2F20.05~I96e4e5ce9eb670974506371b2f6d6ca797ba0909,openstack/charm-nova-compute,stable/20.05,I96e4e5ce9eb670974506371b2f6d6ca797ba0909,Fix multipath mount issue with apparmor profile,MERGED,2020-06-01 16:59:30.000000000,2020-07-08 15:31:53.000000000,2020-07-08 15:31:53.000000000,"[{'_account_id': 2424}, {'_account_id': 6737}, {'_account_id': 10058}, {'_account_id': 17097}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2020-06-01 16:59:30.000000000', 'files': ['templates/usr.bin.nova-compute'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/389f317023cac3d676a0ae8f5aa3593dc73704e7', 'message': 'Fix multipath mount issue with apparmor profile\n\nWhen nova-compute is deployed with aa-profile-mode=enforce,\napparmor is currently blocking the file lock operation on\n/etc/multipath/wwids and /etc/multipath/bindings.\n\nThis patch fixes that by adding the file locking flag to those\nfiles on the nova-compute apparmor profile.\n\nChange-Id: I96e4e5ce9eb670974506371b2f6d6ca797ba0909\nCloses-bug: 1881017\n(cherry picked from commit a7999d8145a0320935a3f531c526000780dd4fc1)\n'}]",0,732419,389f317023cac3d676a0ae8f5aa3593dc73704e7,27,8,1,17097,,,0,"Fix multipath mount issue with apparmor profile

When nova-compute is deployed with aa-profile-mode=enforce,
apparmor is currently blocking the file lock operation on
/etc/multipath/wwids and /etc/multipath/bindings.

This patch fixes that by adding the file locking flag to those
files on the nova-compute apparmor profile.

Change-Id: I96e4e5ce9eb670974506371b2f6d6ca797ba0909
Closes-bug: 1881017
(cherry picked from commit a7999d8145a0320935a3f531c526000780dd4fc1)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/19/732419/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/usr.bin.nova-compute'],1,389f317023cac3d676a0ae8f5aa3593dc73704e7,bug/1881017-stable/20.05," /etc/multipath/bindings wrk, /etc/multipath/wwids wrk,"," /etc/multipath/bindings wr, /etc/multipath/wwids wr,",2,2
openstack%2Fnova~stable%2Fstein~If874f018ea996587e178219569c2903c2ee923cf,openstack/nova,stable/stein,If874f018ea996587e178219569c2903c2ee923cf,Reserve DISK_GB resource for the image cache,MERGED,2020-06-02 11:35:06.000000000,2020-07-08 15:30:30.000000000,2020-07-08 15:30:29.000000000,"[{'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-02 11:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/169fd60b99576bff07dd0a680ea51ba457ef69f0', 'message': 'Reserve DISK_GB resource for the image cache\n\nIf the nova compute image cache is on the same disk as the instance\ndirectory then the images in the cache will consume the same disk\nresource as the nova instances which can lead to disk overallocation.\n\nThis patch adds a new config option\n[workarounds]/reserve_disk_resource_for_image_cache . If it is set the\nlibvirt driver will reserve DISK_GB resources in placement for the\nactual size of the image cache.\n\nThis is a low complexity solution with known limitations:\n* Reservation is updated long after the image is downloaded\n* This code allows the reservation to push the provider into negative\navailable resource if the reservation + allocations exceed the total\ninventory.\n\nConflicts:\n  nova/conf/workarounds.py due to\n  7c7a25aa1eda9b1815f12cce25dda0a840d562f1 is not in stable/train\n\n  nova/virt/libvirt/driver.py due to\n  I52fbbcac9dc386f24ee81b3321dd0d8355e01976 is not in stable/train\n\nChanges in imagechache.py, workarounds.py and test_imagecache.py are\ndue to I3c49825ac0d70152b6c8ee4c8ca01546265f4b80 not in stable/train\n\nConflicts:\n  nova/conf/workarounds.py due to\n  Ie38aa625dff543b5980fd437ad2febeba3b50079 is not in stable/stein\n\n  nova/tests/unit/virt/libvirt/test_driver.py due to\n  I25d70aa09080b22d1bfa0aa097f0a114de8bf15a is not in stable/stein\n\nChange-Id: If874f018ea996587e178219569c2903c2ee923cf\nCloses-Bug: #1878024\n(cherry picked from commit 89fe504abfbd41a9c37f9b544c0ce98b23b45799)\n(cherry picked from commit 968981b5853724a8225cfc16b04ea83b4f485a9a)\n(cherry picked from commit 90c70f04d777e444eb8e2f0bccb8aa616e69dc66)\n'}, {'number': 2, 'created': '2020-06-11 08:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fd8328007f918c7cf07baedc250d01f26f760f1', 'message': 'Reserve DISK_GB resource for the image cache\n\nIf the nova compute image cache is on the same disk as the instance\ndirectory then the images in the cache will consume the same disk\nresource as the nova instances which can lead to disk overallocation.\n\nThis patch adds a new config option\n[workarounds]/reserve_disk_resource_for_image_cache . If it is set the\nlibvirt driver will reserve DISK_GB resources in placement for the\nactual size of the image cache.\n\nThis is a low complexity solution with known limitations:\n* Reservation is updated long after the image is downloaded\n* This code allows the reservation to push the provider into negative\navailable resource if the reservation + allocations exceed the total\ninventory.\n\nConflicts:\n  nova/conf/workarounds.py due to\n  Ie38aa625dff543b5980fd437ad2febeba3b50079 (""Add support for translating CPU\n  policy extra specs, image meta"") is not in stable/stein\n\n  nova/tests/unit/virt/libvirt/test_driver.py due to\n  I25d70aa09080b22d1bfa0aa097f0a114de8bf15a (""Add reshaper for PCPU"")\n  is not in stable/stein\n\nChange-Id: If874f018ea996587e178219569c2903c2ee923cf\nCloses-Bug: #1878024\n(cherry picked from commit 89fe504abfbd41a9c37f9b544c0ce98b23b45799)\n(cherry picked from commit 968981b5853724a8225cfc16b04ea83b4f485a9a)\n(cherry picked from commit 90c70f04d777e444eb8e2f0bccb8aa616e69dc66)\n'}, {'number': 3, 'created': '2020-07-06 10:38:40.000000000', 'files': ['nova/virt/libvirt/imagecache.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'releasenotes/notes/bug-1878024-reserve-disk-for-image-cache-ef6688f869b12bcb.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86be251451716e3fa64f030c1f44954251bbee5d', 'message': 'Reserve DISK_GB resource for the image cache\n\nIf the nova compute image cache is on the same disk as the instance\ndirectory then the images in the cache will consume the same disk\nresource as the nova instances which can lead to disk overallocation.\n\nThis patch adds a new config option\n[workarounds]/reserve_disk_resource_for_image_cache . If it is set the\nlibvirt driver will reserve DISK_GB resources in placement for the\nactual size of the image cache.\n\nThis is a low complexity solution with known limitations:\n* Reservation is updated long after the image is downloaded\n* This code allows the reservation to push the provider into negative\navailable resource if the reservation + allocations exceed the total\ninventory.\n\nConflicts:\n  nova/conf/workarounds.py due to\n  Ie38aa625dff543b5980fd437ad2febeba3b50079 (""Add support for translating CPU\n  policy extra specs, image meta"") is not in stable/stein\n\n  nova/tests/unit/virt/libvirt/test_driver.py due to\n  I25d70aa09080b22d1bfa0aa097f0a114de8bf15a (""Add reshaper for PCPU"")\n  is not in stable/stein\n\nChange-Id: If874f018ea996587e178219569c2903c2ee923cf\nCloses-Bug: #1878024\n(cherry picked from commit 89fe504abfbd41a9c37f9b544c0ce98b23b45799)\n(cherry picked from commit 968981b5853724a8225cfc16b04ea83b4f485a9a)\n(cherry picked from commit 90c70f04d777e444eb8e2f0bccb8aa616e69dc66)\n'}]",6,732529,86be251451716e3fa64f030c1f44954251bbee5d,25,10,3,28332,,,0,"Reserve DISK_GB resource for the image cache

If the nova compute image cache is on the same disk as the instance
directory then the images in the cache will consume the same disk
resource as the nova instances which can lead to disk overallocation.

This patch adds a new config option
[workarounds]/reserve_disk_resource_for_image_cache . If it is set the
libvirt driver will reserve DISK_GB resources in placement for the
actual size of the image cache.

This is a low complexity solution with known limitations:
* Reservation is updated long after the image is downloaded
* This code allows the reservation to push the provider into negative
available resource if the reservation + allocations exceed the total
inventory.

Conflicts:
  nova/conf/workarounds.py due to
  Ie38aa625dff543b5980fd437ad2febeba3b50079 (""Add support for translating CPU
  policy extra specs, image meta"") is not in stable/stein

  nova/tests/unit/virt/libvirt/test_driver.py due to
  I25d70aa09080b22d1bfa0aa097f0a114de8bf15a (""Add reshaper for PCPU"")
  is not in stable/stein

Change-Id: If874f018ea996587e178219569c2903c2ee923cf
Closes-Bug: #1878024
(cherry picked from commit 89fe504abfbd41a9c37f9b544c0ce98b23b45799)
(cherry picked from commit 968981b5853724a8225cfc16b04ea83b4f485a9a)
(cherry picked from commit 90c70f04d777e444eb8e2f0bccb8aa616e69dc66)
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/732529/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/imagecache.py', 'nova/virt/imagecache.py', 'nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_imagecache.py', 'releasenotes/notes/bug-1878024-reserve-disk-for-image-cache-ef6688f869b12bcb.yaml', 'nova/conf/workarounds.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",7,169fd60b99576bff07dd0a680ea51ba457ef69f0,bug/1878024," @mock.patch('nova.virt.libvirt.imagecache.ImageCacheManager.' 'get_disk_usage', return_value=1000) def test_image_cache_disk_reservation(self, mock_cache_manager): self.flags(reserved_host_disk_mb=1024) self.flags(group='workarounds', reserve_disk_resource_for_image_cache=False) self.driver.update_provider_tree(self.pt, self.cn_rp['name']) disk_reservation = self.pt.data( self.cn_rp['uuid']).inventory['DISK_GB']['reserved'] # Only the reserved_host_disk_mb is counted self.assertEqual(1, disk_reservation) # Turn the cache reservation on self.flags(group='workarounds', reserve_disk_resource_for_image_cache=True) self.driver.update_provider_tree(self.pt, self.cn_rp['name']) disk_reservation = self.pt.data( self.cn_rp['uuid']).inventory['DISK_GB']['reserved'] # Now both the reserved_host_disk_mb and the cache size is counted # Note that the mock returns bytes which is rounded up to the next GB self.assertEqual(2, disk_reservation) ",,166,1
openstack%2Fbifrost~master~Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e,openstack/bifrost,master,Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e,Remove bifrost-openstack-ci-prep role,MERGED,2020-07-08 13:07:31.000000000,2020-07-08 15:23:02.000000000,2020-07-08 15:20:40.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-08 13:07:31.000000000', 'files': ['playbooks/roles/bifrost-openstack-ci-prep/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'releasenotes/notes/bifrost-openstack-ci-prep-172cbb159e0a2b78.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/meta/main.yml', 'playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml', 'playbooks/roles/bifrost-openstack-ci-prep/README.md'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/12bbea5ea628c5748d4ae3e05940dbc9debe1b96', 'message': ""Remove bifrost-openstack-ci-prep role\n\nIt no longer has any effect: the only action that is not skipped\n(stopping unbound) actually fails nowadays.\n\nAlso remove an invalid action from test-bifrost (the path it's looking\nfor does not seem to exist).\n\nThis removes the amount of special-casing for CI.\n\nChange-Id: Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e\n""}]",0,739978,12bbea5ea628c5748d4ae3e05940dbc9debe1b96,8,3,1,10239,,,0,"Remove bifrost-openstack-ci-prep role

It no longer has any effect: the only action that is not skipped
(stopping unbound) actually fails nowadays.

Also remove an invalid action from test-bifrost (the path it's looking
for does not seem to exist).

This removes the amount of special-casing for CI.

Change-Id: Iaabeb3d6dfd964afc17f7a703c5e4301a3b0ad1e
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/78/739978/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-openstack-ci-prep/defaults/main.yml', 'playbooks/test-bifrost.yaml', 'releasenotes/notes/bifrost-openstack-ci-prep-172cbb159e0a2b78.yaml', 'playbooks/roles/bifrost-openstack-ci-prep/meta/main.yml', 'playbooks/roles/bifrost-openstack-ci-prep/tasks/main.yml', 'playbooks/roles/bifrost-openstack-ci-prep/README.md']",6,12bbea5ea628c5748d4ae3e05940dbc9debe1b96,bifrost-openstack-ci-prep,,"bifrost-openstack-ci-prep ========================= This role is intended to be utilized in order to set the installation environment and various job settings that are specific to OpenStack CI such that the bifrost CI job is able to complete successfully. Requirements ------------ This role requires: - Ansible 2.9 Role Variables -------------- ssh_public_key_path: The path to where the SSH public key can be located. If missing, it is created. ironic_git_folder: The folder where the ironic codebase has been cloned to. ironicclient_git_folder: The folder where the python-ironicclient code base has been cloned to. Dependencies ------------ None at this time. Example Playbook ---------------- In this example below, specific facts based on environment variables are utilized to engage the role, which first calls bifrost-prep-for-install which clones the repositories and resets their state to a known state. The ci_testing_zuul fact is set in the pre_tasks below to allow for activation of the logic to properly handle an OpenStack CI environment node. - hosts: localhost connection: local name: ""Prepare for installation"" become: no gather_facts: yes pre_tasks: - name: ""Set ci_testing_zuul if it appears we are running in upstream OpenStack CI"" set_fact: ci_testing: true ci_testing_zuul: true ironic_git_url: /opt/git/openstack/ironic ironicclient_git_url: /opt/git/openstack/python-ironicclient when: lookup('env', 'ZUUL_BRANCH') != """" roles: - { role: bifrost-prep-for-install, when: skip_install is not defined } - { role: bifrost-openstack-ci-prep, when: ci_testing_zuul is defined } License ------- Copyright (c) 2015 Hewlett-Packard Development Company, L.P. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. Author Information ------------------ Ironic Developers ",5,161
openstack%2Ftripleo-upgrade~stable%2Fstein~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/stein,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-07 16:37:54.000000000,2020-07-08 15:18:17.000000000,2020-07-08 15:18:17.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 16:37:54.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/deaae2cde52a99436dc80d639bb11a10763f52b9', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)\n'}]",0,739812,deaae2cde52a99436dc80d639bb11a10763f52b9,8,3,1,11090,,,0,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/12/739812/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",3,deaae2cde52a99436dc80d639bb11a10763f52b9,bug/1885637-stable/stein,- name: adjust role-data for upgrade,- name: Make sure ceph-ansible is installed if ceph is deployed package: name: ceph-ansible state: latest become: true become_user: root when: ceph_osd_enabled|bool - name: adjust role-data for R->S upgrade,14,11
openstack%2Fglance_store~master~I79d647e8c8a060eacfa5cbee39a99344adc0ae94,openstack/glance_store,master,I79d647e8c8a060eacfa5cbee39a99344adc0ae94,Fix mock import in unit tests,MERGED,2020-07-02 20:10:08.000000000,2020-07-08 15:17:07.000000000,2020-07-08 15:14:56.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-02 20:10:08.000000000', 'files': ['glance_store/tests/unit/common/test_fs_mount.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/31bd6ad1a14edb3f2d9c00cc6f341fbe849d6e70', 'message': 'Fix mock import in unit tests\n\nWe allowed the use of the third party mock lib, even though we no longer\ndeclare it as a test-requirement. That should have failed, but there\nmust still be a dependency that pulls it in for us. But unit tests will\nstart failing once more dependencies move away from it, so we need to\nclean that up.\n\nChange-Id: I79d647e8c8a060eacfa5cbee39a99344adc0ae94\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,739140,31bd6ad1a14edb3f2d9c00cc6f341fbe849d6e70,9,4,1,11904,,,0,"Fix mock import in unit tests

We allowed the use of the third party mock lib, even though we no longer
declare it as a test-requirement. That should have failed, but there
must still be a dependency that pulls it in for us. But unit tests will
start failing once more dependencies move away from it, so we need to
clean that up.

Change-Id: I79d647e8c8a060eacfa5cbee39a99344adc0ae94
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/40/739140/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/tests/unit/common/test_fs_mount.py'],1,31bd6ad1a14edb3f2d9c00cc6f341fbe849d6e70,unittest.mock,from unittest import mock import fixtures,import fixtures import mock,2,2
openstack%2Fkolla~stable%2Fussuri~I0d8fe379d27962b5adf604d1c999371d52f570ed,openstack/kolla,stable/ussuri,I0d8fe379d27962b5adf604d1c999371d52f570ed,version-check: handle using of stable branch tarballs,ABANDONED,2020-07-01 17:51:17.000000000,2020-07-08 15:11:31.000000000,,"[{'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-01 17:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/831bcd0bcd5621f99b14e6ec4a2e3e727591e895', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: I0d8fe379d27962b5adf604d1c999371d52f570ed\n'}, {'number': 2, 'created': '2020-07-01 18:11:55.000000000', 'files': ['tools/version-check.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/b07c31ef7674110d589e781554300597f2f21058', 'message': 'version-check: handle using of stable branch tarballs\n\nFor Ussuri we decided to follow stable branch tarballs instead of using\nrelease ones. This gives us all fixes just as they land in a repository.\n\nChange-Id: Iff600179630484228fb359417687e3d2a1a8b9f9\n(cherry-picked from master + updated SOURCES in config.py)\n'}]",0,738907,b07c31ef7674110d589e781554300597f2f21058,9,3,2,24072,,,0,"version-check: handle using of stable branch tarballs

For Ussuri we decided to follow stable branch tarballs instead of using
release ones. This gives us all fixes just as they land in a repository.

Change-Id: Iff600179630484228fb359417687e3d2a1a8b9f9
(cherry-picked from master + updated SOURCES in config.py)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/738907/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/version-check.py', 'kolla/common/config.py']",2,831bcd0bcd5621f99b14e6ec4a2e3e727591e895,," 'aodh-stable-ussuri.tar.gz')}, 'barbican-stable-ussuri.tar.gz')}, 'bifrost-stable-ussuri.tar.gz')}, 'blazar-stable-ussuri.tar.gz')}, 'ceilometer-stable-ussuri.tar.gz')}, 'panko-stable-ussuri.tar.gz')}, 'cinder-stable-ussuri.tar.gz')}, 'congress-stable-ussuri.tar.gz')}, 'cloudkitty-stable-ussuri.tar.gz')}, 'cyborg-stable-ussuri.tar.gz')}, 'designate-stable-ussuri.tar.gz')}, 'ec2-api-stable-ussuri.tar.gz')}, 'freezer-api-stable-ussuri.tar.gz')}, 'freezer-stable-ussuri.tar.gz')}, 'glance-stable-ussuri.tar.gz')}, 'heat-stable-ussuri.tar.gz')}, 'horizon-stable-ussuri.tar.gz')}, 'blazar-dashboard-stable-ussuri.tar.gz')}, 'congress-dashboard-stable-ussuri.tar.gz')}, 'cloudkitty-dashboard-stable-ussuri.tar.gz')}, 'designate-dashboard-stable-ussuri.tar.gz')}, 'neutron-fwaas-dashboard-stable-ussuri.tar.gz')}, 'freezer-web-ui-stable-ussuri.tar.gz')}, 'heat-dashboard-stable-ussuri.tar.gz')}, 'ironic-ui-stable-ussuri.tar.gz')}, 'karbor-dashboard-stable-ussuri.tar.gz')}, 'magnum-ui-stable-ussuri.tar.gz')}, 'manila-ui-stable-ussuri.tar.gz')}, 'masakari-dashboard-stable-ussuri.tar.gz')}, 'mistral-dashboard-stable-ussuri.tar.gz')}, 'monasca-ui-stable-ussuri.tar.gz')}, 'murano-dashboard-stable-ussuri.tar.gz')}, 'neutron-vpnaas-dashboard-stable-ussuri.tar.gz')}, 'octavia-dashboard-stable-ussuri.tar.gz')}, 'qinling-dashboard-stable-ussuri.tar.gz')}, 'sahara-dashboard-stable-ussuri.tar.gz')}, 'searchlight-ui-stable-ussuri.tar.gz')}, 'senlin-dashboard-stable-ussuri.tar.gz')}, 'solum-dashboard-stable-ussuri.tar.gz')}, 'tacker-horizon-stable-ussuri.tar.gz')}, 'trove-dashboard-stable-ussuri.tar.gz')}, 'vitrage-dashboard-stable-ussuri.tar.gz')}, 'watcher-dashboard-stable-ussuri.tar.gz')}, 'zaqar-ui-stable-ussuri.tar.gz')}, 'zun-ui-stable-ussuri.tar.gz')}, 'ironic-stable-ussuri.tar.gz')}, 'ironic-inspector-stable-ussuri.tar.gz')}, 'karbor-stable-ussuri.tar.gz')}, 'keystone-stable-ussuri.tar.gz')}, 'kuryr-stable-ussuri.tar.gz')}, 'kuryr-libnetwork-stable-ussuri.tar.gz')}, 'magnum-stable-ussuri.tar.gz')}, 'manila-stable-ussuri.tar.gz')}, 'masakari-stable-ussuri.tar.gz')}, 'masakari-monitors-stable-ussuri.tar.gz')}, 'mistral-stable-ussuri.tar.gz')}, 'tacker-stable-ussuri.tar.gz')}, 'monasca-agent-stable-ussuri.tar.gz')}, 'monasca-api-stable-ussuri.tar.gz')}, 'monasca-notification-stable-ussuri.tar.gz')}, 'monasca-persister-stable-ussuri.tar.gz')}, 'monasca-statsd-stable-ussuri.tar.gz')}, 'murano-stable-ussuri.tar.gz')}, 'neutron-stable-ussuri.tar.gz')}, 'neutron-fwaas-stable-ussuri.tar.gz')}, 'networking-ansible-stable-ussuri.tar.gz')}, 'networking-baremetal-stable-ussuri.tar.gz')}, 'networking-generic-switch-stable-ussuri.tar.gz')}, 'networking-mlnx-stable-ussuri.tar.gz')}, 'networking-sfc-stable-ussuri.tar.gz')}, 'neutron-vpnaas-stable-ussuri.tar.gz')}, 'neutron-dynamic-routing-stable-ussuri.tar.gz')}, 'networking-odl-stable-ussuri.tar.gz')}, 'networking-bgpvpn-stable-ussuri.tar.gz')}, 'networking-l2gw-stable-ussuri.tar.gz')}, 'networking-sfc-stable-ussuri.tar.gz')}, 'neutron-dynamic-routing-stable-ussuri.tar.gz')}, 'vmware-nsxlib-stable-ussuri.tar.gz')}, 'neutron-vpnaas-stable-ussuri.tar.gz')}, 'nova-stable-ussuri.tar.gz')}, 'blazar-nova-stable-ussuri.tar.gz')}, 'octavia-stable-ussuri.tar.gz')}, 'ovn-octavia-provider-stable-ussuri.tar.gz')}, 'panko-stable-ussuri.tar.gz')}, 'placement-stable-ussuri.tar.gz')}, 'qinling-stable-ussuri.tar.gz')}, 'sahara-stable-ussuri.tar.gz')}, 'sahara-plugin-ambari-stable-ussuri.tar.gz')}, 'sahara-plugin-cdh-stable-ussuri.tar.gz')}, 'sahara-plugin-mapr-stable-ussuri.tar.gz')}, 'sahara-plugin-spark-stable-ussuri.tar.gz')}, 'sahara-plugin-storm-stable-ussuri.tar.gz')}, 'sahara-plugin-vanilla-stable-ussuri.tar.gz')}, 'searchlight-stable-ussuri.tar.gz')}, 'senlin-stable-ussuri.tar.gz')}, 'solum-stable-ussuri.tar.gz')}, 'swift-stable-ussuri.tar.gz')}, 'tacker-stable-ussuri.tar.gz')}, 'networking-sfc-stable-ussuri.tar.gz')}, 'tripleoclient-stable-ussuri.tar.gz')}, 'trove-stable-ussuri.tar.gz')}, 'vitrage-stable-ussuri.tar.gz')}, 'watcher-stable-ussuri.tar.gz')}, 'zaqar-stable-ussuri.tar.gz')}, 'zun-stable-ussuri.tar.gz')}"," 'aodh-10.0.0.tar.gz')}, 'barbican-10.0.0.tar.gz')}, 'bifrost-8.1.0.tar.gz')}, 'blazar-5.0.0.tar.gz')}, 'ceilometer-14.0.0.tar.gz')}, 'panko-8.0.0.tar.gz')}, 'cinder-16.1.0.tar.gz')}, 'openstack-congress-11.0.0.tar.gz')}, 'cloudkitty-12.0.0.tar.gz')}, 'openstack-cyborg-4.0.0.tar.gz')}, 'designate-10.0.0.tar.gz')}, 'ec2-api-10.0.0.tar.gz')}, 'freezer-api-8.0.0.tar.gz')}, 'freezer-8.0.0.tar.gz')}, 'glance-20.0.0.tar.gz')}, 'openstack-heat-14.0.0.tar.gz')}, 'horizon-18.3.2.tar.gz')}, 'blazar-dashboard-3.0.0.tar.gz')}, 'congress-dashboard-6.0.0.tar.gz')}, 'cloudkitty-dashboard-10.0.0.tar.gz')}, 'designate-dashboard-10.0.0.tar.gz')}, 'neutron-fwaas-dashboard-3.0.0.tar.gz')}, 'freezer-web-ui-8.0.0.tar.gz')}, 'heat-dashboard-3.0.0.tar.gz')}, 'ironic-ui-4.0.0.tar.gz')}, 'karbor-dashboard-1.4.0.tar.gz')}, 'magnum-ui-6.0.0.tar.gz')}, 'manila-ui-3.0.0.tar.gz')}, 'masakari-dashboard-2.0.0.tar.gz')}, 'mistral-dashboard-10.0.0.tar.gz')}, 'monasca-ui-2.0.1.tar.gz')}, 'murano-dashboard-9.0.0.tar.gz')}, 'neutron-vpnaas-dashboard-2.0.0.tar.gz')}, 'octavia-dashboard-5.0.0.tar.gz')}, 'qinling-dashboard-3.0.0.tar.gz')}, 'sahara-dashboard-12.0.0.tar.gz')}, 'searchlight-ui-8.0.0.tar.gz')}, 'senlin-dashboard-1.0.0.tar.gz')}, 'solum-dashboard-4.0.0.tar.gz')}, 'tacker-horizon-1.0.0.tar.gz')}, 'trove-dashboard-14.0.0.tar.gz')}, 'vitrage-dashboard-3.1.0.tar.gz')}, 'watcher-dashboard-3.0.0.tar.gz')}, 'zaqar-ui-8.0.0.tar.gz')}, 'zun-ui-5.0.0.tar.gz')}, 'ironic-15.0.0.tar.gz')}, 'ironic-inspector-10.1.0.tar.gz')}, 'karbor-1.5.0.tar.gz')}, 'keystone-17.0.0.tar.gz')}, 'kuryr-lib-2.0.0.tar.gz')}, 'kuryr-libnetwork-5.0.0.tar.gz')}, 'magnum-10.0.0.tar.gz')}, 'manila-10.0.0.tar.gz')}, 'masakari-9.0.0.tar.gz')}, 'masakari-monitors-9.0.0.tar.gz')}, 'mistral-10.0.0.tar.gz')}, 'tacker-3.0.0.tar.gz')}, 'monasca-agent-3.0.1.tar.gz')}, 'monasca-api-4.0.0.tar.gz')}, 'monasca-notification-2.0.0.tar.gz')}, 'monasca-persister-2.0.0.tar.gz')}, 'monasca-statsd-2.0.0.tar.gz')}, 'murano-9.0.0.tar.gz')}, 'neutron-16.0.0.tar.gz')}, 'neutron-fwaas-16.0.0.tar.gz')}, 'networking-ansible-${openstack_branch}.tar.gz')}, 'networking-baremetal-2.0.0.tar.gz')}, 'networking-generic-switch-3.0.0.tar.gz')}, 'networking-mlnx-${openstack_branch}.tar.gz')}, 'networking-sfc-10.0.0.tar.gz')}, 'neutron-vpnaas-16.0.0.tar.gz')}, 'neutron-dynamic-routing-16.0.0.tar.gz')}, 'networking-odl-16.0.0.tar.gz')}, 'networking-bgpvpn-12.0.0.tar.gz')}, 'networking-l2gw-16.0.0.tar.gz')}, 'networking-sfc-10.0.0.tar.gz')}, 'neutron-dynamic-routing-16.0.0.tar.gz')}, 'vmware-nsxlib-16.0.1.tar.gz')}, 'neutron-vpnaas-16.0.0.tar.gz')}, 'nova-21.0.0.tar.gz')}, 'blazar-nova-2.0.0.tar.gz')}, 'octavia-6.0.1.tar.gz')}, 'ovn-octavia-provider-0.1.0.tar.gz')}, 'panko-8.0.0.tar.gz')}, 'openstack-placement-3.0.0.tar.gz')}, 'qinling-4.0.0.tar.gz')}, 'sahara-12.0.0.tar.gz')}, 'sahara-plugin-ambari-3.0.0.tar.gz')}, 'sahara-plugin-cdh-3.0.0.tar.gz')}, 'sahara-plugin-mapr-3.0.0.tar.gz')}, 'sahara-plugin-spark-3.0.0.tar.gz')}, 'sahara-plugin-storm-3.0.0.tar.gz')}, 'sahara-plugin-vanilla-3.0.0.tar.gz')}, 'searchlight-8.0.0.tar.gz')}, 'senlin-9.0.0.tar.gz')}, 'solum-8.0.0.tar.gz')}, 'swift-2.25.0.tar.gz')}, 'tacker-3.0.0.tar.gz')}, 'networking-sfc-10.0.0.tar.gz')}, 'tripleoclient-13.2.0.tar.gz')}, 'trove-13.0.0.tar.gz')}, 'vitrage-7.1.0.tar.gz')}, 'python-watcher-4.0.0.tar.gz')}, 'zaqar-10.0.0.tar.gz')}, 'zun-5.0.0.tar.gz')}",156,106
openstack%2Fkolla-ansible~master~Ia1743e202e310fc88a61476c80eadf3855256c20,openstack/kolla-ansible,master,Ia1743e202e310fc88a61476c80eadf3855256c20,Use kolla_logs volume for Elasticsearch,MERGED,2020-01-10 11:04:12.000000000,2020-07-08 15:08:29.000000000,2020-01-10 23:29:11.000000000,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-01-10 11:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c94577cbc469cef0bf4c7cb8bbab74f9c800a141', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n'}, {'number': 2, 'created': '2020-01-10 11:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a638008a8a7b0532f80c1fea974084760b15847d', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n'}, {'number': 3, 'created': '2020-01-10 11:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d98fc99a808edd94a23b7f04efd7f7868f3c21c5', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n'}, {'number': 4, 'created': '2020-01-10 11:29:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7906e58ee57ae2e728dc3e46cbd7e6faa8e1c57d', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n'}, {'number': 5, 'created': '2020-01-10 13:08:22.000000000', 'files': ['releasenotes/notes/fix-issue-with-elasticsearch-kolla-logs-a0ba85d91d1a2c31.yaml', 'ansible/roles/elasticsearch/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1917d1a9f54a86b1376b54652804070b307673ea', 'message': 'Use kolla_logs volume for Elasticsearch\n\nThis patch mounts the kolla_logs volume into the Elasticsearch\ncontainer so that logs are no longer written to the container\nfilesystem. It is up to the user to migrate any existing logs\ninto the kolla_logs volume, if they so desire.\n\nCloses-Bug: #1859162\nChange-Id: Ia1743e202e310fc88a61476c80eadf3855256c20\n'}]",4,701930,1917d1a9f54a86b1376b54652804070b307673ea,19,5,5,17669,,,0,"Use kolla_logs volume for Elasticsearch

This patch mounts the kolla_logs volume into the Elasticsearch
container so that logs are no longer written to the container
filesystem. It is up to the user to migrate any existing logs
into the kolla_logs volume, if they so desire.

Closes-Bug: #1859162
Change-Id: Ia1743e202e310fc88a61476c80eadf3855256c20
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/30/701930/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/elasticsearch/defaults/main.yml'],1,c94577cbc469cef0bf4c7cb8bbab74f9c800a141,bug/1859162," - ""kolla_logs:/var/log/kolla/""",,1,0
openstack%2Fironic~stable%2Fussuri~Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb,openstack/ironic,stable/ussuri,Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb,Increase vm ram size in uefi netbooted jobs,MERGED,2020-07-07 12:39:36.000000000,2020-07-08 15:07:29.000000000,2020-07-08 14:55:20.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3a892085ecddc38a88cbb0bfb067553677937bf5', 'message': ""Increase vm ram size in uefi netoobted jobs\n\nThis is to prevent the issues we're seeing where the size of\nthe dib based centos8 ipa ramdisks can't be unpacked causing\nkernel panic and subsequent failure.\n\nChange-Id: Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb\n""}, {'number': 2, 'created': '2020-07-07 12:41:06.000000000', 'files': ['zuul.d/ironic-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/27df8e851ca410cf60bc248c7b311e4e2f40d02a', 'message': ""Increase vm ram size in uefi netbooted jobs\n\nThis is to prevent the issues we're seeing where the size of\nthe dib based centos8 ipa ramdisks can't be unpacked causing\nkernel panic and subsequent failure.\n\nChange-Id: Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb\n""}]",0,739728,27df8e851ca410cf60bc248c7b311e4e2f40d02a,14,4,2,23851,,,0,"Increase vm ram size in uefi netbooted jobs

This is to prevent the issues we're seeing where the size of
the dib based centos8 ipa ramdisks can't be unpacked causing
kernel panic and subsequent failure.

Change-Id: Iaa2cf80896ba9fcecf6a4f528255bd81f8b754cb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/28/739728/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/ironic-jobs.yaml'],1,3a892085ecddc38a88cbb0bfb067553677937bf5,increase-vm-ram-uefi, IRONIC_VM_SPECS_RAM: 4096 IRONIC_VM_SPECS_RAM: 4096, IRONIC_VM_SPECS_RAM: 3096,2,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,stable/train,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-08 04:06:06.000000000,2020-07-08 15:02:25.000000000,2020-07-08 15:02:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 04:06:06.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/molecule/login/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93f36830428a00682393d66feb60e30789554c28', 'message': ""Use registry:2.7.0 instead of registry:2\n\nhtpasswd is removed in latest registry image[1]\nand it's breaking molecule job for tripleo_podman\nrole, let's use working registry image.\n\n[1] https://github.com/docker/distribution-library-image/issues/106\nChange-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793\n(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)\nConflicts:\n    tripleo_ansible/roles/tripleo-podman/molecule/login/prepare.yml\n""}]",0,739888,93f36830428a00682393d66feb60e30789554c28,6,4,1,13861,,,0,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
(cherry picked from commit 439671e77011ef638a280041ad4469e4a764bf7c)
Conflicts:
    tripleo_ansible/roles/tripleo-podman/molecule/login/prepare.yml
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/739888/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-podman/molecule/login/prepare.yml'],1,93f36830428a00682393d66feb60e30789554c28,, docker run --entrypoint htpasswd registry:2.7.0 -Bbn testuser testpassword > auth/htpasswd registry:2.7.0, docker run --entrypoint htpasswd registry:2 -Bbn testuser testpassword > auth/htpasswd registry:2,2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,openstack/tripleo-ansible,stable/ussuri,Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,Introduce an Action Plugin to fetch container infos,MERGED,2020-07-08 08:41:32.000000000,2020-07-08 15:02:24.000000000,2020-07-08 15:02:24.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 08:41:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/check_exit_code.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4fbd48cc3e97b0fd6115a93acda1c371fe6cae3', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}]",0,739927,a4fbd48cc3e97b0fd6115a93acda1c371fe6cae3,8,4,1,3153,,,0,"Introduce an Action Plugin to fetch container infos

Instead of running a bunch of tasks to figure out what container
commands have been run, which ones did not terminate after 5 minutes,
which ones failed or finished with a wrong exit code. We now have an
action plugin that will do it faster and with better logging.

Faster before it reduces the number of tasks.
Better logging is provided, now displaying all errors during a run and
fail at the end.

Supporting check-mode.

Re-using tripleo_container_manage role for molecule testing.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/739927/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/check_exit_code.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py']",6,a4fbd48cc3e97b0fd6115a93acda1c371fe6cae3,module/check_status-stable/ussuri,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import, division, print_function __metaclass__ = type import copy import tenacity import yaml from ansible.errors import AnsibleActionFail from ansible.plugins.action import ActionBase from ansible.utils.display import Display DISPLAY = Display() # Default delay/retries used to fetch containers status and wait for them to be # finished. DELAY = 10 RETRIES = 30 TIMEOUT = DELAY * RETRIES ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" module: container_status author: - ""TripleO team"" version_added: '2.9' short_description: Check and report containers status notes: [] description: - For each container that isn't an exec or a container supposed to be controlled by systemd, we expect it to terminate with a return code. This module will check that code and make sure it's correct. If not, it will report the failure for easier debug. requirements: - None options: container_async_results: description: - Async results of a podman_container invocation. type: list container_data: description: - List of dictionaries which have the container configurations. type: list valid_exit_codes: description: - List of valid container exit codes. default: [] type: list debug: description: - Whether or not debug is enabled. default: False type: boolean """""" EXAMPLES = """""" - name: Check containers status containers_status: container_async_results: ""{{ create_async_poll_results.results }}"" container_data: - keystone: image: docker.io/keystone - mysql_bootstrap: image: docker.io/mysql valid_exit_codes: - 0 - 2 """""" RETURN = """""" changed_containers: description: List of containers which changed. returned: always type: list sample: - keystone - mysql commands: description: List of container cli commands that would be run. returned: always type: list sample: - podman rm -f keystone - podman run keystone """""" class ActionModule(ActionBase): """"""Action plugin for container status"""""" _VALID_ARGS = yaml.safe_load(DOCUMENTATION)['options'] def _get_args(self): missing = [] args = {} for option, vals in self._VALID_ARGS.items(): if 'default' not in vals: if self._task.args.get(option, None) is None: missing.append(option) continue args[option] = self._task.args.get(option) else: args[option] = self._task.args.get(option, vals['default']) if missing: raise AnsibleActionFail('Missing required parameters: {}'.format( ', '.join(missing))) return args def _get_containers_to_check(self, data): """"""Return a list of containers that we need to check. Given some container_data, figure out what containers terminate with a return code so later we can check that code. :param data: Dictionary of container data. :returns: List of containers that need to be checked. """""" containers = [] # loop through container data to get specific container for container in data: # get container name and data for name, values in container.items(): if 'action' in values or 'restart' in values: continue if 'image' in values: # We assume that container configs that don't have a # restart policy nor action (used for podman exec) but have # an image set, will run something and then exit with a # return code. containers.append(name) if self.debug and len(containers) > 0: DISPLAY.display('These containers are supposed to terminate with ' 'a valid exit code and will be checked: ' '{}'.format(containers)) return containers def _get_create_commands(self, results): """"""Return a list of commands that were executed by container tool. :param results: Ansible task results. :returns commands: List of commands. """""" commands = [] for item in results: if item['changed']: commands.extend(item['podman_actions']) return commands def _is_container_running(self, container): """"""Return True if a container has Running State. :params container: Dictionary for container infos. :returns running: Boolean of container running status. """""" state = container.get('State', {}) running = state.get('Running', False) return running def _get_container_infos(self, containers, task_vars): """"""Return container infos. :params containers: List of containers. :params task_vars: Dictionary of Ansible tasks variables. :returns container_results: Dictionary of container infos. """""" tvars = copy.deepcopy(task_vars) result = self._execute_module( module_name='podman_container_info', module_args=dict(name=containers), task_vars=tvars ) return [c for c in result[""containers""]] @tenacity.retry( reraise=True, stop=tenacity.stop_after_attempt(RETRIES), wait=tenacity.wait_fixed(DELAY) ) def _fetch_container_state(self, containers, task_vars): """"""Return container states of finished containers with retries. :params containers: List of containers. :params task_vars: Dictionary of Ansible tasks variables. :returns container_results: Dictionary of container infos. """""" containers_results = self._get_container_infos(containers, task_vars) for container in containers_results: name = container.get('Name') if self._is_container_running(container): raise AnsibleActionFail('Container {} has not finished yet, ' 'retrying...'.format(name)) return containers_results def _check_container_state(self, containers, exit_codes, task_vars): """"""Return a tuple of running and failed containers. :params containers: List of containers to check. :params exit_codes: List of valid exit codes. :params task_vars: Dictionary of Ansible tasks variables. :returns running, failed: Tuple of lists. """""" running = [] failed = [] try: self._fetch_container_state(containers, task_vars) except AnsibleActionFail: # We fail at the end with all the other infos if self.debug: DISPLAY.display('One or more containers did not finish on ' 'time, the failure will be reported later.') pass containers_results = self._get_container_infos(containers, task_vars) for container in containers_results: container_name = container.get('Name') container_state = container.get('State') if self._is_container_running(container): running.append(container_name) elif container_state.get('ExitCode') not in exit_codes: failed.append(container_name) return (running, failed) def _check_errors_in_ansible_async_results(self, results): """"""Get a tuple with changed and failed containers. :param results: Ansible results from ""Check podman create status"" :returns: Tuple of containers that changed or failed """""" changed = [] failed = [] for item in results: # if Ansible is run in check mode, the async_results items will # not contain failed or finished keys. if self._play_context.check_mode: break async_result_item = item['create_async_result_item'] if item['changed']: for name, c in async_result_item['container_data'].items(): changed.append(name) if (item['failed'] or not item['finished'] or ('stderr' in async_result_item and async_result_item['stderr'] != '')): for name, c in async_result_item['container_data'].items(): failed.append(name) return (changed, failed) def run(self, tmp=None, task_vars=None): self._supports_check_mode = True self.changed = False self.changed_containers = [] container_commands = [] running = [] failed = [] if task_vars is None: task_vars = dict() result = super(ActionModule, self).run(tmp, task_vars) del tmp # parse args args = self._get_args() async_results = args['container_async_results'] container_data = args['container_data'] valid_exit_codes = args['valid_exit_codes'] self.debug = args['debug'] containers_to_check = self._get_containers_to_check(container_data) # Check that the containers which are supposed to finish have # actually finished and also terminated with the right exit code. if len(valid_exit_codes) > 0 and len(containers_to_check) > 0: (running, failed) = self._check_container_state( containers_to_check, valid_exit_codes, task_vars) # Check the Ansible async results for containers which: # - reported a changed resources (podman_container created or updated # a container) and return it as self.changed_containers. # - reported a failed resource (podman_container failed to create # the container and return it as self.failed_containers. # - didn't finish on time and return it as self.failed_containers. (self.changed_containers, async_failed) = ( self._check_errors_in_ansible_async_results(async_results)) if len(failed) > 0: DISPLAY.error('Container(s) which finished with wrong return code' ': {}'.format(failed)) if len(async_failed) > 0: DISPLAY.error('Container(s) which failed to be created by ' 'podman_container module: {}'.format(async_failed)) if len(running) > 0: DISPLAY.error('Container(s) which did not finish after {} ' 'minutes: {}'.format(TIMEOUT, running)) total_errors = list(set(failed + async_failed + running)) if len(total_errors) > 0: raise AnsibleActionFail('Failed container(s): {}, check logs in ' '/var/log/containers/' 'stdouts/'.format(total_errors)) container_commands = self._get_create_commands(async_results) if len(container_commands) > 0 and \ (self._play_context.check_mode or self.debug): for cmd in container_commands: DISPLAY.display(cmd) if len(container_commands) > 0: self.changed = True result['changed_containers'] = self.changed_containers result['commands'] = container_commands result['changed'] = self.changed return result ",,347,117
openstack%2Fcharm-ceph-rbd-mirror~master~I6772e104b883b79cf85b5c19dc401b431c087878,openstack/charm-ceph-rbd-mirror,master,I6772e104b883b79cf85b5c19dc401b431c087878,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:28:58.000000000,2020-07-08 15:00:20.000000000,2020-07-08 15:00:20.000000000,"[{'_account_id': 12549}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:28:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/b3ca1cfddcee30cad2a595aab3f181cfc8f75afc', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I6772e104b883b79cf85b5c19dc401b431c087878\n'}, {'number': 2, 'created': '2020-06-14 12:27:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/12ad42a09a03f35e8e7a4f258298add24be66d55', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I6772e104b883b79cf85b5c19dc401b431c087878\n'}, {'number': 3, 'created': '2020-07-08 09:36:25.000000000', 'files': ['rebuild', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-rbd-mirror/commit/280a034fd0d4b6b1d20d4b0df225669b65ad80fe', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I6772e104b883b79cf85b5c19dc401b431c087878\n'}]",0,732633,280a034fd0d4b6b1d20d4b0df225669b65ad80fe,22,6,3,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I6772e104b883b79cf85b5c19dc401b431c087878
",git fetch https://review.opendev.org/openstack/charm-ceph-rbd-mirror refs/changes/33/732633/2 && git format-patch -1 --stdout FETCH_HEAD,"['rebuild', 'src/metadata.yaml']",2,b3ca1cfddcee30cad2a595aab3f181cfc8f75afc,batch-groovy-ch-libs,- openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal - groovy, - openstack - storage - file-servers - misc series: - xenial - bionic - eoan - focal,10,9
openstack%2Fcharm-designate~master~I54b235de947e63e3d7b86ccfdba9f1b968b75650,openstack/charm-designate,master,I54b235de947e63e3d7b86ccfdba9f1b968b75650,Request a restart of memcached after a service upgrade after queens,MERGED,2020-06-03 12:03:09.000000000,2020-07-08 14:42:26.000000000,2020-06-13 21:35:07.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-03 12:03:09.000000000', 'files': ['src/lib/charm/openstack/designate.py', 'unit_tests/test_lib_charm_openstack_designate.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/5c929b3ba950257cd612c1ba94d57c145ec03526', 'message': 'Request a restart of memcached after a service upgrade after queens\n\nChange-Id: I54b235de947e63e3d7b86ccfdba9f1b968b75650\nCloses-Bug: #1828534\n'}]",0,733121,5c929b3ba950257cd612c1ba94d57c145ec03526,11,4,1,20634,,,0,"Request a restart of memcached after a service upgrade after queens

Change-Id: I54b235de947e63e3d7b86ccfdba9f1b968b75650
Closes-Bug: #1828534
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/21/733121/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/lib/charm/openstack/designate.py', 'unit_tests/test_lib_charm_openstack_designate.py']",2,5c929b3ba950257cd612c1ba94d57c145ec03526,bug/1828534," class TestDesignateQueensCharm(Helper): def test_upgrade(self): self.patch(designate.DesignateCharm, 'run_upgrade') self.patch(designate.relations, 'endpoint_from_flag') endpoint = mock.MagicMock() self.endpoint_from_flag.return_value = endpoint a = designate.DesignateCharmQueens(release='queens') a.run_upgrade() self.run_upgrade.assert_called_once_with(interfaces_list=None) endpoint.request_restart.assert_called_once_with()",,25,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I57d5a8bb8b125727983df188968ae19366c3ebd4,openstack/tripleo-ansible,stable/ussuri,I57d5a8bb8b125727983df188968ae19366c3ebd4,Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles,MERGED,2020-07-02 15:09:38.000000000,2020-07-08 14:12:57.000000000,2020-07-08 14:12:57.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-02 15:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c41b645c9e62dacfdc80f166c1ef97c4b267f65c', 'message': 'Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles\n\nWe set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions\nissues. Bug 1885917 was introduced because it was set to a\nvariable which can make the path too long for a Unix domain\nsocket. We can fix it by hard coding it to something short\nwhich will not vary.\n\nChange-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4\nCloses-Bug: #1885917\n(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)\n'}, {'number': 2, 'created': '2020-07-08 08:02:39.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4dff2a0838905d0f53a6d87c1d88727d679b5756', 'message': 'Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles\n\nWe set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions\nissues. Bug 1885917 was introduced because it was set to a\nvariable which can make the path too long for a Unix domain\nsocket. We can fix it by hard coding it to something short\nwhich will not vary.\n\nChange-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4\nCloses-Bug: #1885917\n(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)\n'}]",0,739068,4dff2a0838905d0f53a6d87c1d88727d679b5756,26,8,2,6796,,,0,"Set short ANSIBLE_SSH_CONTROL_PATH_DIR for all ceph roles

We set ANSIBLE_SSH_CONTROL_PATH_DIR to deal with permissions
issues. Bug 1885917 was introduced because it was set to a
variable which can make the path too long for a Unix domain
socket. We can fix it by hard coding it to something short
which will not vary.

Change-Id: I57d5a8bb8b125727983df188968ae19366c3ebd4
Closes-Bug: #1885917
(cherry picked from commit ca165ec94018293dfbbbd37c44a2704b8144f203)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/739068/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml', 'tripleo_ansible/roles/tripleo_ceph_uuid/tasks/gather.yml']",3,c41b645c9e62dacfdc80f166c1ef97c4b267f65c,bug/1884816," - ANSIBLE_SSH_CONTROL_PATH_DIR=""/tmp/ceph_ansible_control_path"""," - ANSIBLE_SSH_CONTROL_PATH_DIR=""{{ playbook_dir }}/ceph-ansible/""",3,2
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5,openstack/tripleo-ansible,stable/train,Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5,Debug buildah login train,ABANDONED,2020-07-08 06:24:02.000000000,2020-07-08 14:10:30.000000000,,"[{'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-08 06:24:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19dc347974c6231ce96e0c25b3120fd7a6c773e0', 'message': 'Debug buildah login train\n\nChange-Id: Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5\n'}, {'number': 2, 'created': '2020-07-08 07:42:18.000000000', 'files': ['tripleo_ansible/roles/tripleo-podman/tasks/tripleo_podman_login.yml', 'tripleo_ansible/roles/tripleo-podman/molecule/login/playbook.yml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/035d7a0096f9cce961582d072001b104a9aae648', 'message': 'Debug buildah login train\n\nChange-Id: Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5\n'}]",0,739898,035d7a0096f9cce961582d072001b104a9aae648,8,4,2,13861,,,0,"Debug buildah login train

Change-Id: Ic38b84d17e7f8e6d7758a2b658f043d41ce7abb5
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/739898/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-podman/molecule/login/playbook.yml', 'zuul.d/layout.yaml']",2,19dc347974c6231ce96e0c25b3120fd7a6c773e0,buildah/train, check: jobs: [], - release-notes-jobs-python3 - openstack-python3-ussuri-jobs check: jobs: - openstack-tox-linters - openstack-tox-docs: &tripleo-docs files: - ^doc/.* - ^README.rst - tripleo-ci-centos-7-containers-multinode: &containers_multinode files: - ^tripleo_ansible/.* irrelevant-files: &irrelevant_scenario_files - .*.md$ - .*.rst$ - .*.txt$ - ^tripleo_ansible/.*molecule.* - ^tripleo_ansible/.*meta.* - ^tripleo_ansible/roles/test_deps/.* - tripleo-ci-centos-7-scenario001-standalone: &scenario001 files: - ^tripleo_ansible/roles/tripleo-ceph-*/.* - ^tripleo_ansible/roles/tripleo-hieradata/.* - ^tripleo_ansible/roles/tripleo-upgrade-hiera/.* - ^setup.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-scenario002-standalone: &scenario002 files: - ^tripleo_ansible/roles/tripleo-hieradata/.* - ^tripleo_ansible/roles/tripleo-upgrade-hiera/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-scenario003-standalone: &scenario003 files: - ^tripleo_ansible/roles/tripleo-create-admin/.* - ^tripleo_ansible/roles/tripleo-hieradata/.* - ^tripleo_ansible/roles/tripleo-upgrade-hiera/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-scenario004-standalone: &scenario004 files: - ^tripleo_ansible/roles/tripleo-ceph-*/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-scenario010-standalone: &scenario010 files: - ^tripleo_ansible/.*octavia.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-standalone-upgrade-train : &standalone_upgrade files: - ^tripleo_ansible/roles/tripleo-hieradata/.* - ^tripleo_ansible/roles/tripleo-upgrade-hiera/.* - ^tripleo_ansible/roles/tripleo-container-manage/.* - ^tripleo_ansible/roles/tripleo-container-rm/.* irrelevant-files: *irrelevant_scenario_files gate: jobs: - openstack-tox-linters - openstack-tox-docs: *tripleo-docs - tripleo-ci-centos-7-containers-multinode: *containers_multinode - tripleo-ci-centos-7-scenario001-standalone: *scenario001 - tripleo-ci-centos-7-scenario002-standalone: *scenario002 - tripleo-ci-centos-7-scenario003-standalone: *scenario003 - tripleo-ci-centos-7-scenario004-standalone: *scenario004 - tripleo-ci-centos-7-scenario010-standalone: *scenario010 post: jobs: - publish-openstack-python-branch-tarball promote: jobs: - promote-openstack-tox-docs: *tripleo-docs,2,67
openstack%2Fcinderlib~master~I5d73027f8eb57aa9d149a4d106d3579e61b9c82d,openstack/cinderlib,master,I5d73027f8eb57aa9d149a4d106d3579e61b9c82d,WIP: Figure out why XtremIO cI fails,NEW,2019-12-19 14:04:44.000000000,2020-07-08 14:09:26.000000000,,"[{'_account_id': 7160}, {'_account_id': 9535}, {'_account_id': 10379}, {'_account_id': 12016}, {'_account_id': 12033}, {'_account_id': 13671}, {'_account_id': 14624}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-19 14:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/1650a36339fcb9d0447fde6640d09654354aca4e', 'message': ""WIP: Figure out why XtremIO cI fails\n\nThis patch is just to try to figure out what's going on in XtremIO CI\nwhen it fails on the test_stats_with_creation tests.\n\nChange-Id: I5d73027f8eb57aa9d149a4d106d3579e61b9c82d\n""}, {'number': 2, 'created': '2020-01-09 15:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/52bb9fb3520d3b41384d45999f6496cd42faf580', 'message': ""WIP: Figure out why XtremIO cI fails\n\nThis patch is just to try to figure out what's going on in XtremIO CI\nwhen it fails on the test_stats_with_creation tests.\n\nChange-Id: I5d73027f8eb57aa9d149a4d106d3579e61b9c82d\n""}, {'number': 3, 'created': '2020-01-10 15:53:12.000000000', 'files': ['cinderlib/tests/functional/test_basic.py'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/62639819daada6ba660218d8c15458c13e0e17ce', 'message': ""WIP: Figure out why XtremIO cI fails\n\nThis patch is just to try to figure out what's going on in XtremIO CI\nwhen it fails on the test_stats_with_creation tests.\n\nDepends-On: https://review.opendev.org/701989\nChange-Id: I5d73027f8eb57aa9d149a4d106d3579e61b9c82d\n""}]",0,699993,62639819daada6ba660218d8c15458c13e0e17ce,19,8,3,9535,,,0,"WIP: Figure out why XtremIO cI fails

This patch is just to try to figure out what's going on in XtremIO CI
when it fails on the test_stats_with_creation tests.

Depends-On: https://review.opendev.org/701989
Change-Id: I5d73027f8eb57aa9d149a4d106d3579e61b9c82d
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/93/699993/2 && git format-patch -1 --stdout FETCH_HEAD,['cinderlib/tests/functional/test_basic.py'],1,1650a36339fcb9d0447fde6640d09654354aca4e,xtremio_issues,"import sys # Trying to figure out what's going on in XtremIO CI sys.stderr.write('\nInitial stats: %s\nCurrent stats: %s\n' % (initial_stats, new_stats)) sys.stderr.write('\nInitial vols: %s\nCurrent vols: %s\n' % (initial_volumes, new_volumes)) sys.stderr.write('\nInitial size: %s\nCurrent size: %s\n' % (initial_size, new_size))",,8,0
openstack%2Fnetworking-odl~master~I560aa5db3053a2b19819d64fc514f4eff8928603,openstack/networking-odl,master,I560aa5db3053a2b19819d64fc514f4eff8928603,DNM: test CI,ABANDONED,2019-12-17 16:23:19.000000000,2020-07-08 14:08:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-12-17 16:23:19.000000000', 'files': ['networking_odl/tests/base.py'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/30d0de73898d23e8cf265e95869f2693d5f6386c', 'message': 'DNM: test CI\n\nChange-Id: I560aa5db3053a2b19819d64fc514f4eff8928603\n'}]",0,699449,30d0de73898d23e8cf265e95869f2693d5f6386c,4,1,1,17685,,,0,"DNM: test CI

Change-Id: I560aa5db3053a2b19819d64fc514f4eff8928603
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/49/699449/1 && git format-patch -1 --stdout FETCH_HEAD,['networking_odl/tests/base.py'],1,30d0de73898d23e8cf265e95869f2693d5f6386c,,# Dummy change,,1,0
openstack%2Fneutron~stable%2Frocky~I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,openstack/neutron,stable/rocky,I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,"Add ""igmp_snooping_enable"" config option for OVS agent",MERGED,2020-06-12 15:03:32.000000000,2020-07-08 14:05:08.000000000,2020-07-08 14:02:35.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-12 15:03:32.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/de322da9e0d91a321823332d89c4e17072641e61', 'message': 'Add ""igmp_snooping_enable"" config option for OVS agent\n\nNeutron-ovs-agent can now enable IGMP snooping in integration bridge\nif config option ""igmp_snooping_enable"" in OVS section in config will\nbe set to True.\nIt will also set mcast-snooping-disable-flood-unregistered=true\nso flooding of multicast packets to all unregistered ports will be\ndisabled also.\nBoth changes are applied on integration bridge.\n\nChange-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b\nCloses-Bug: #1840136\n(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)\n'}]",0,735355,de322da9e0d91a321823332d89c4e17072641e61,18,7,1,13995,,,0,"Add ""igmp_snooping_enable"" config option for OVS agent

Neutron-ovs-agent can now enable IGMP snooping in integration bridge
if config option ""igmp_snooping_enable"" in OVS section in config will
be set to True.
It will also set mcast-snooping-disable-flood-unregistered=true
so flooding of multicast packets to all unregistered ports will be
disabled also.
Both changes are applied on integration bridge.

Change-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b
Closes-Bug: #1840136
(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/735355/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml']",7,de322da9e0d91a321823332d89c4e17072641e61,bug/1840136-stable/rocky,--- features: - | Add new configuration option ``igmp_snooping_enable``. New option is in ``OVS`` config section and is used by openvswitch agent. This option is used to enable support for Internet Group Management Protocol (IGMP) in integration bridge. ,,66,5
openstack%2Fansible-role-systemd_networkd~stable%2Fussuri~I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,openstack/ansible-role-systemd_networkd,stable/ussuri,I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd,Add CentOS 8 support,MERGED,2020-07-02 17:14:53.000000000,2020-07-08 14:04:18.000000000,2020-07-08 14:01:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-02 17:14:53.000000000', 'files': ['tasks/main.yml', 'vars/redhat-8.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-systemd_networkd/commit/0640f99363b3db845bae6bfbe22538502fe20b7f', 'message': 'Add CentOS 8 support\n\nChange-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd\n(cherry picked from commit 438e946a064074765b8dda560ff0ad5a2bee5bb8)\n'}]",0,739106,0640f99363b3db845bae6bfbe22538502fe20b7f,10,3,1,28619,,,0,"Add CentOS 8 support

Change-Id: I8eb7b1ce7cadc910386cfb8bf1d9b41194b2ecdd
(cherry picked from commit 438e946a064074765b8dda560ff0ad5a2bee5bb8)
",git fetch https://review.opendev.org/openstack/ansible-role-systemd_networkd refs/changes/06/739106/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'vars/redhat-8.yml', 'defaults/main.yml']",3,0640f99363b3db845bae6bfbe22538502fe20b7f,osa/el8-stable/ussuri,"systemd_networkd_epel_mirror: ""{{ centos_epel_mirror | default('http://download.fedoraproject.org/pub/epel') }}"" ",,43,0
openstack%2Fopenstack-helm~master~I73f2ced2b09dbb93146334b59fe4571fa13dbfb0,openstack/openstack-helm,master,I73f2ced2b09dbb93146334b59fe4571fa13dbfb0,Add TungstenFabric compatibility to charts,MERGED,2019-06-05 17:46:46.000000000,2020-07-08 14:03:44.000000000,2020-07-08 13:47:49.000000000,"[{'_account_id': 2726}, {'_account_id': 6558}, {'_account_id': 7769}, {'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 9312}, {'_account_id': 10234}, {'_account_id': 16771}, {'_account_id': 17130}, {'_account_id': 17960}, {'_account_id': 18810}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28208}, {'_account_id': 28471}, {'_account_id': 30551}, {'_account_id': 31768}, {'_account_id': 32056}]","[{'number': 1, 'created': '2019-06-05 17:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5749b6d4b7e108f6fd15a2a2ec989cdc432792c2', 'message': 'Add TungstenFabric compatibility to charts\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n'}, {'number': 2, 'created': '2019-06-07 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64b58ed4a0d7bb5fef38dd173d32ed8ba3331de6', 'message': 'Add TungstenFabric compatibility to charts\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n'}, {'number': 3, 'created': '2019-06-07 12:01:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c502f0597228bbf26fc8abe016a7cf50bda23d7e', 'message': 'Add TungstenFabric compatibility to charts\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n'}, {'number': 4, 'created': '2019-06-07 12:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0286fb7b4e7a0b48c39565ba78083c20214645d9', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 5, 'created': '2019-06-07 13:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8767230cd8ab0723e5e3d72f47d8953204c56d15', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 6, 'created': '2019-06-07 14:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3549a1addddda692cf482299b2c39580b095de19', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 7, 'created': '2019-08-02 11:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6dc9aea0dcef42d120effb92ce9b565cdf37e7ae', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 8, 'created': '2019-10-03 14:49:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3dc96bdf5ba2f030279635afd88999b13225a690', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 9, 'created': '2019-10-22 13:18:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d10af4be2beae9ed23154e708729dbb6eebd6526', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 10, 'created': '2019-11-12 13:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/67bfe3f6f1f95b040b8b145a2a5218af89221436', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 11, 'created': '2019-11-12 14:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9a0ff36faffab9315c30986f7d947173a313f8f5', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 12, 'created': '2019-11-12 14:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1eb72f3b1f9211bdb9a0ccd35e8976224ee13b94', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 13, 'created': '2019-11-12 15:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ce7ee2188228d6ab3ff6aaaa6ab5ba0cd1717ba1', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 14, 'created': '2019-12-25 16:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6758f7c777bde0672aae18fb3eee2cdf48a6be4c', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 15, 'created': '2019-12-26 11:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5b3f78cf3d1231a738ed878acce3afb748dd3fa5', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 16, 'created': '2019-12-26 12:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a079da723c669e492cc4b1dc209f5296bbb1df86', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 17, 'created': '2019-12-26 13:36:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3169bd598a2c4b2b6eafbd21379b5f88fedc6226', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 18, 'created': '2019-12-26 13:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/edabeb3c26c367ba7f18f206d19f13a686d51b72', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 19, 'created': '2020-01-13 10:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8db37539c344c2f115f5e02c9030f1a2bebd7327', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 20, 'created': '2020-01-13 11:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8b9e186e794497cad33ed0103d2379b78fcf3acb', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 21, 'created': '2020-01-13 11:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ac789570e86d798dd7cff0781dfab505c1c4d269', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 22, 'created': '2020-01-13 12:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7bee4dc74240e3e420ca3a582296c7e2785e7a6d', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 23, 'created': '2020-01-13 12:19:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a8f671d42e553f9a65fc08275523c23a6cfde317', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 24, 'created': '2020-01-13 15:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3fbd11b77b7007f5db6cb3533d2ce50d04a14f3d', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 25, 'created': '2020-02-06 06:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c708f031b2a1ca06845894261d1ce9886de9aaed', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 26, 'created': '2020-02-06 06:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/194957af230abb12caa3a35b03b4f9c7f9c0a01e', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 27, 'created': '2020-02-08 12:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d67731a10f8e7958b07f338fac18d35a86c13df', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 28, 'created': '2020-02-14 15:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0fab20acd15653be3f8a48c143e471a4b7430127', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 29, 'created': '2020-03-13 13:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/811cb9b28e99b303d5e01c8f1f8ffcd067b1be30', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 30, 'created': '2020-03-16 10:37:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3ca273b732f54a0acef7e9763f5300e5f05dc9f1', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 31, 'created': '2020-03-26 10:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d71e08ca8a30ab596d9e8f7d0cf7bc5f0bbf2180', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment of various clouds based on Tungsten Fabric SDN. Right now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in OpenStack Helm project because of absence of tests and platform for that.\n\nThis patchset doesn't have Heat-related changes, they'll be added later.\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 32, 'created': '2020-03-26 10:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bdb2bee9cbcde173e8b42ef7263e5292fa8aeaf4', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 33, 'created': '2020-03-31 21:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fe982e84a1c9771ca4d128faa0cbd535a710f76e', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 34, 'created': '2020-04-01 20:25:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2b9519fc15ce36707bbce927a6330b2708b319c9', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 35, 'created': '2020-04-04 09:43:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d5ec69c78eded1fcd408f523fbf3602319aa6626', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 36, 'created': '2020-04-14 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/90614083294036c8a8d71b6ef34b8d5e92fcb5b5', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 37, 'created': '2020-04-14 10:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/410ce02134a0192b4260ccd7afc059c4a0f8b37f', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 38, 'created': '2020-04-14 11:30:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/602747ac7ca361928f7dd1498da70ebdd4fbb157', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 39, 'created': '2020-04-28 16:12:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ddd13344d2886eda569ac5edd6d14de9abba877a', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 40, 'created': '2020-06-05 08:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0bdc24c0785fb3ab9f23817a7968ecc1b8a1c7b', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 41, 'created': '2020-06-05 08:52:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/739e6791fe303c1c56e8ce6ff76e36b3878d29ff', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 42, 'created': '2020-06-09 15:25:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/02e1bdb9393e115903884126af0b813f8439b516', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 43, 'created': '2020-06-09 15:29:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d9381c3ef495471493ec7a8256a02e976dff29f4', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 44, 'created': '2020-06-09 15:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f0c7f008fab6300aaeacf22b6ba30a546671a936', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\n""}, {'number': 45, 'created': '2020-06-09 16:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3edf861e4ed0b21725a2fbc1d3947e4b8086dbaa', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 46, 'created': '2020-06-09 18:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56bb0a8e3b5aa6973dc9be96c104285dc986a70c', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 47, 'created': '2020-06-15 08:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/2657640daa680fb907773755f548c1782a730ee0', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 48, 'created': '2020-06-15 09:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f304f3a19ad4250654d99ca88a611709728d75d0', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 49, 'created': '2020-06-15 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9eb0e9a180d67ddc4c5f504d97ba1f397c996950', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 50, 'created': '2020-06-15 16:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3bcd180f74f95b9642b33c7c1fb8a7e2af80262e', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 51, 'created': '2020-06-15 16:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/1fc0a6aefcadd1ef899a4a74316e38dd4e31ff3a', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 52, 'created': '2020-06-15 19:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c78985a489ffd1be83e54943667ab8f6e765ee24', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 53, 'created': '2020-06-15 19:34:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8d5c2154d54b1f9d77643ab8db7e8122a57f8ffa', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 54, 'created': '2020-06-15 19:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/14fb9e704d090beb0636fbc6547db51fa3e3da7a', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 55, 'created': '2020-06-16 08:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bd98ded2aae46ae05e72d033b306e2f62bb48cec', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 56, 'created': '2020-06-16 12:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/43fb667fd979b8ad60d44426a92ae6012ee93336', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 57, 'created': '2020-06-16 13:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/7ffb31afb138141c1dad43ca79ad32b9134087dc', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 58, 'created': '2020-06-16 14:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/59463ae371a80bdb0ea62798eeeb802ce9f70913', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 59, 'created': '2020-06-18 12:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b560b4fd853729d37b43e0aa12f4fcfca22416f2', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 60, 'created': '2020-06-18 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/35f8b0a2614913044803d4f876836cc9637c8b70', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 61, 'created': '2020-06-19 11:42:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b8618a3cad19b4b881fe86a50e67f0bb2aee4f02', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 62, 'created': '2020-06-19 14:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/6833fbe86aadbbe3fc68a30d9443922f08971b8b', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 63, 'created': '2020-06-19 16:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab60992de300261f07879b0b90507a889ddf9dda', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 64, 'created': '2020-06-19 21:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/bfcb4b9fcc0dbc2f93359ffc63fbfc77490fb9cc', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 65, 'created': '2020-06-22 09:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5c7ae17f385aeda063e1017b26e4c608205f0150', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 66, 'created': '2020-06-22 11:28:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5d2c9400c338a83effaede8d50ad2a425a12302d', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 67, 'created': '2020-06-22 11:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28a42cbb1a7e021d41513cf9969010853d3b6d0f', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 68, 'created': '2020-06-22 12:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d997bf80b445d6277b4112fddef85bd683d52109', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 69, 'created': '2020-06-22 14:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ab7885d10dcd08f2e35474583b7fd9480946f896', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 70, 'created': '2020-06-22 16:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8bf47bc507db4621b0d4c1970aa9b1f7221918dc', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 71, 'created': '2020-06-22 16:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/499f7e250ba04a99bb3734bdef70fb0dfa3ae3a1', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 72, 'created': '2020-06-23 07:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/d31870233c3668db754c311d0c056ff05d38b0c1', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 73, 'created': '2020-06-23 07:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa200b968e4c3cdb37ca246d04e6a99b852b5edf', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 74, 'created': '2020-06-24 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/20687ef12a5c33ea58bc36f3e998a55b73431664', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 75, 'created': '2020-06-24 10:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17cd4ee110d620ec1288ec252087767635c17d4f', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 76, 'created': '2020-06-24 11:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/fa29883f4ea8ec0b2f06ab3a7a7d76ee577e7957', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 77, 'created': '2020-06-24 13:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3014558f79600386ea7435a3aab443d364b62413', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 78, 'created': '2020-06-24 13:11:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/78ec277efc77623f2e163d77edfb1c3ae72bd118', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 79, 'created': '2020-06-24 13:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3241d506b85c3eeb341aa817ed7824fa2858ed76', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 80, 'created': '2020-06-24 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7cc6571068d5b6d432c13c5a63ad17b4332f93a', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 81, 'created': '2020-06-24 15:37:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/e9fe2150aa22683e10b19b89a4caab30af516cea', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 82, 'created': '2020-06-24 16:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/3e13f0cc35fab4be1a39a151850a219835aef2eb', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 83, 'created': '2020-06-24 18:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/17eec27c4ee1308d1b8287852fbb59e6d7ceb4d4', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 84, 'created': '2020-06-24 19:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9cf735474f509335427a15147c44ac659feaa107', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 85, 'created': '2020-06-25 09:48:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/daedbd7944256f668a6a65d041830134d02b5668', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 86, 'created': '2020-06-25 11:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b415d4f2437f62e9dba9619e224b57d6f758e94c', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 87, 'created': '2020-06-25 12:31:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/aec9d4ddf7b70c683efb323de279a23a9b5d2272', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 88, 'created': '2020-06-25 14:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2cc991fea2569e650ada7c9797b6e45ddaf2f41', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 89, 'created': '2020-06-25 19:39:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/212120f5dd7e03b1796028453406904e1262f687', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 90, 'created': '2020-06-25 19:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/53522e37a05c61b40f26092a095c8c1ac02f7ce2', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}, {'number': 91, 'created': '2020-06-26 07:39:39.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'doc/source/install/developer/deploy-with-tungsten-fabric.rst', 'tools/deployment/component/compute-kit/tungsten-fabric.sh', 'neutron/templates/bin/_neutron-server.sh.tpl', 'zuul.d/jobs-openstack-helm.yaml', 'neutron/values_overrides/tf.yaml', 'doc/source/install/developer/index.rst', 'tools/deployment/component/compute-kit/compute-kit.sh', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'nova/values_overrides/tf.yaml', 'zuul.d/project.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/configmap-etc.yaml', 'nova/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4f2eb8cac6929bc4f5225a1a0117785c59e95a49', 'message': ""Add TungstenFabric compatibility to charts\n\nThe charts changes are required for deployment\nof various clouds based on Tungsten Fabric SDN.\nRight now it's tested for Airship-in-a-bottle.\n\nThe code cannot be tested currently in\nOpenStack Helm project because of absence of\ntests and platform for that.\n\nThis patchset doesn't have Heat-related changes,\nthey'll be added later.\n\nChange-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0\nDepends-On: https://review.opendev.org/#/c/734635/\n""}]",76,663390,4f2eb8cac6929bc4f5225a1a0117785c59e95a49,277,19,91,30551,,,0,"Add TungstenFabric compatibility to charts

The charts changes are required for deployment
of various clouds based on Tungsten Fabric SDN.
Right now it's tested for Airship-in-a-bottle.

The code cannot be tested currently in
OpenStack Helm project because of absence of
tests and platform for that.

This patchset doesn't have Heat-related changes,
they'll be added later.

Change-Id: I73f2ced2b09dbb93146334b59fe4571fa13dbfb0
Depends-On: https://review.opendev.org/#/c/734635/
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/90/663390/36 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'neutron/templates/bin/_db-sync.sh.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/templates/job-db-sync.yaml', 'nova/templates/daemonset-compute.yaml', 'neutron/templates/configmap-etc.yaml']",6,5749b6d4b7e108f6fd15a2a2ec989cdc432792c2,tf_support," {{- if ( has ""tungstenfabric"" $envAll.Values.network.backend ) -}} {{- if empty $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE.auth_url -}} {{- $_ := tuple ""identity"" ""internal"" ""api"" . | include ""helm-toolkit.endpoints.keystone_endpoint_uri_lookup"" | set $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE ""auth_url"" -}} {{- end -}} {{- if empty $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE.admin_user -}} {{- $_ := set $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE ""admin_user"" $envAll.Values.endpoints.identity.auth.admin.username -}} {{- end -}} {{- if empty $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE.admin_password -}} {{- $_ := set $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE ""admin_password"" $envAll.Values.endpoints.identity.auth.admin.password -}} {{- end -}} {{- if empty $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE.admin_tenant_name -}} {{- $_ := set $envAll.Values.conf.plugins.tungstenfabric.KEYSTONE ""admin_tenant_name"" $envAll.Values.endpoints.identity.auth.admin.project_name -}} {{- end -}} {{- end -}} tf_plugin.ini: {{ include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.tungstenfabric | b64enc }}",,99,2
openstack%2Freleases~master~I95e5eefda3fb950859b9c72528977ad2aaf6b0f5,openstack/releases,master,I95e5eefda3fb950859b9c72528977ad2aaf6b0f5,Release bifrost 8.2.0 for victoria,MERGED,2020-07-07 11:20:55.000000000,2020-07-08 13:40:19.000000000,2020-07-08 13:40:19.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 11:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/d2f3b1aa848395efab6e247b8a7865f3b58e186d', 'message': 'Release bifrost 8.2.0 for victoria\n\nChange-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5\n'}, {'number': 2, 'created': '2020-07-08 09:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a6fb1311bf91a35168a367cbac858eea92873107', 'message': 'Release bifrost 8.2.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5\n'}, {'number': 3, 'created': '2020-07-08 09:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/301e48c9c3abb0418802c96dfdb35b5bfdf4c2c4', 'message': 'Release bifrost 8.2.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5\n'}, {'number': 4, 'created': '2020-07-08 12:29:06.000000000', 'files': ['deliverables/victoria/bifrost.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2028b7434f1bd36e0d2c22d714f5df9dfbc5621b', 'message': 'Release bifrost 8.2.0 for victoria\n\nAlso add stable-branch-type: std-with-versions to reflect change\nin the release model.\n\nChange-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5\n'}]",1,739714,2028b7434f1bd36e0d2c22d714f5df9dfbc5621b,18,4,4,23851,,,0,"Release bifrost 8.2.0 for victoria

Also add stable-branch-type: std-with-versions to reflect change
in the release model.

Change-Id: I95e5eefda3fb950859b9c72528977ad2aaf6b0f5
",git fetch https://review.opendev.org/openstack/releases refs/changes/14/739714/3 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/bifrost.yaml'],1,d2f3b1aa848395efab6e247b8a7865f3b58e186d,bifrost-victoria-820,releases: - version: 8.2.0 projects: - repo: openstack/bifrost hash: 0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5,,5,0
openstack%2Fsushy-tools~master~I838c93f3db477bb00d27ddca5bd30e94f5b9321c,openstack/sushy-tools,master,I838c93f3db477bb00d27ddca5bd30e94f5b9321c,Use victoria tests,MERGED,2020-07-03 07:34:56.000000000,2020-07-08 13:36:20.000000000,2020-07-08 13:26:49.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 07:34:56.000000000', 'files': ['zuul.d/project.yaml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4c717c376485f6c2501e5872512c34375c52cc1b', 'message': 'Use victoria tests\n\nAlso fix the behavior change of the tostring() function in\nPython 3.8 in test_libvirt.\n\nChange-Id: I838c93f3db477bb00d27ddca5bd30e94f5b9321c\n'}]",0,739173,4c717c376485f6c2501e5872512c34375c52cc1b,8,3,1,23851,,,0,"Use victoria tests

Also fix the behavior change of the tostring() function in
Python 3.8 in test_libvirt.

Change-Id: I838c93f3db477bb00d27ddca5bd30e94f5b9321c
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/73/739173/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'sushy_tools/tests/unit/emulator/resources/systems/test_libvirt.py']",2,4c717c376485f6c2501e5872512c34375c52cc1b,victoria-tests," # NOTE(rpittau): starting from Python 3.8 the tostring() function # preserves the attribute order specified by the user. if sys.version_info[1] >= 8: expected_disk = ('<disk type=""file"" device=""cdrom"">' '<target dev=""hdc"" bus=""ide"" />' '<address type=""drive"" controller=""0""' ' bus=""0"" target=""0"" unit=""0"" />') # NOTE(rpittau): starting from Python 3.8 the tostring() function # preserves the attribute order specified by the user. if sys.version_info[1] >= 8: expected_disk = ('<disk type=""file"" device=""cdrom"">' '<target dev=""sdc"" bus=""sata"" />' '<address type=""drive"" controller=""0""' ' bus=""0"" target=""0"" unit=""1"" />') # NOTE(rpittau): starting from Python 3.8 the tostring() function # preserves the attribute order specified by the user. if sys.version_info[1] >= 8: expected_disk = ('<disk type=""file"" device=""cdrom"">' '<target dev=""sdc"" bus=""scsi"" />' '<address type=""drive"" controller=""0""' ' bus=""0"" target=""0"" unit=""1"" />') ",,26,1
openstack%2Fnova~master~I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16,openstack/nova,master,I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16,WIP block_device: Ensure volume returns to in-use if attachment_delete fails,ABANDONED,2020-05-28 11:52:58.000000000,2020-07-08 13:25:40.000000000,,"[{'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-28 11:52:58.000000000', 'files': ['nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/36fe942ea6bbe662670bf533bd1fc5f1d725bb75', 'message': 'WIP block_device: Ensure volume returns to in-use if attachment_delete fails\n\nChange-Id: I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16\n'}]",0,731505,36fe942ea6bbe662670bf533bd1fc5f1d725bb75,11,9,1,10135,,,0,"WIP block_device: Ensure volume returns to in-use if attachment_delete fails

Change-Id: I0f7ca5ab5ee887c88e973f4a188f12b2ac248f16
",git fetch https://review.opendev.org/openstack/nova refs/changes/05/731505/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/block_device.py'],1,36fe942ea6bbe662670bf533bd1fc5f1d725bb75,,"from cinderclient import exceptions as cinder_exception try: volume_api.attachment_delete(context, self['attachment_id']) except cinder_exception.ClientException: with excutils.save_and_reraise_exception(): LOG.exception('cinderclient failed to delete attachment ' '%(attachment_id)s for %(volume_id)s, ' 'rolling back volume to in-use.', {'attachment_id': self['attachment_id'], 'volume_id': volume_id}, instance=instance) volume_api.roll_detaching(context, volume_id) except Exception: with excutils.save_and_reraise_exception(): LOG.exception('Unknown failure to delete attachment ' '%(attachment_id)s for %(volume_id)s, ' 'rolling back volume to in-use.', {'attachment_id': self['attachment_id'], 'volume_id': volume_id}, instance=instance) volume_api.roll_detaching(context, volume_id)"," volume_api.attachment_delete(context, self['attachment_id'])",21,1
openstack%2Fneutron~master~I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc,openstack/neutron,master,I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc,Use the correct value for the DHCP client port number,MERGED,2020-06-08 19:31:57.000000000,2020-07-08 13:23:51.000000000,2020-07-08 13:20:00.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-08 19:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f53b4758ed325c2cc8ed9ef0602ce6b5a4402b44', 'message': 'Use a hardcoded value for the DHCP client port number\n\nThe client and server DHCP port numbers are opposite\nof what they should be according to the IANA definitions.\n\nUntil a neutron-lib with the correct values is tagged,\njust hardcode the value to 68, else that release will\nbreak things.  Will need to be changed to the correct\nconstant value afterwards.\n\nPartial-bug: #1882588\n\nChange-Id: I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc\n'}, {'number': 2, 'created': '2020-06-30 20:09:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76b48449e77b197d12ac8d7fb3df392c940776ff', 'message': 'Use the correct value for the DHCP client port number\n\nVersion 2.4.0 of neutron-lib has the DHCP port numbers\ncorrect, so start using them.\n\nAlso updated other code in linux/dhcp.py to use the\nconstants as well, instead of re-defining them.\n\nCloses-bug: #1882588\n\nChange-Id: I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc\n'}, {'number': 3, 'created': '2020-07-01 10:29:10.000000000', 'files': ['requirements.txt', 'neutron/tests/unit/agent/dhcp/test_agent.py', 'lower-constraints.txt', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ffaac1db23d916c7a73437b13fab56bb9f6b6da', 'message': 'Use the correct value for the DHCP client port number\n\nVersion 2.4.0 of neutron-lib has the DHCP port numbers\ncorrect, so start using them.\n\nAlso updated other code in linux/dhcp.py to use the\nconstants as well, instead of re-defining them.\n\nCloses-bug: #1882588\n\nChange-Id: I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc\n'}]",4,734182,0ffaac1db23d916c7a73437b13fab56bb9f6b6da,40,9,3,1131,,,0,"Use the correct value for the DHCP client port number

Version 2.4.0 of neutron-lib has the DHCP port numbers
correct, so start using them.

Also updated other code in linux/dhcp.py to use the
constants as well, instead of re-defining them.

Closes-bug: #1882588

Change-Id: I5dc1d8e7bcc94efd1fab68d980d60e3130d5e5bc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/734182/3 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/dhcp/test_agent.py', 'neutron/agent/linux/dhcp.py']",2,f53b4758ed325c2cc8ed9ef0602ce6b5a4402b44,bug/1881297, # NOTE(haleyb): Fix after bug 1882588 is fixed in neutron-lib % 68), % constants.DHCP_RESPONSE_PORT),4,2
openstack%2Fnova~stable%2Fstein~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/stein,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:22:10.000000000,2020-07-08 13:20:07.000000000,,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-12 10:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6406414ae8dfaf852a334ffc74ce9818104d17b', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n""}, {'number': 2, 'created': '2020-05-12 13:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/55fb6cc57d34b57e500cca749f9e464244f3c01d', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n""}, {'number': 3, 'created': '2020-05-26 08:41:13.000000000', 'files': ['devstack/tempest-dsvm-cells-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/28428b74782a37aad1cdc44e82396e0b47f23e7d', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n""}]",3,727147,28428b74782a37aad1cdc44e82396e0b47f23e7d,22,8,3,10135,,,0,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/727147/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-cells-rc'],1,b6406414ae8dfaf852a334ffc74ce9818104d17b,,"# skip volume backup tests r=""$r|(?:(tempest\.api\.volume\.admin\.test_volumes_backup*)"" ",,3,0
openstack%2Fnova~stable%2Frocky~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/rocky,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:22:28.000000000,2020-07-08 13:20:04.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-12 10:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3e66c84f73fd07de7fe3215bdb90209766b44054', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n(cherry picked from commit b6406414ae8dfaf852a334ffc74ce9818104d17b)\n""}, {'number': 2, 'created': '2020-05-12 13:47:57.000000000', 'files': ['devstack/tempest-dsvm-cells-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/9ca7248cadc717bf961eae5275c54df6923fdfb3', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)\n""}]",0,727148,9ca7248cadc717bf961eae5275c54df6923fdfb3,13,5,2,10135,,,0,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/727148/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-cells-rc'],1,3e66c84f73fd07de7fe3215bdb90209766b44054,,"# skip volume backup tests r=""$r|(?:(tempest\.api\.volume\.admin\.test_volumes_backup*)"" ",,3,0
openstack%2Fnova~stable%2Fqueens~Ic719f2406cfdeb5779a3d85358791da40b9b8791,openstack/nova,stable/queens,Ic719f2406cfdeb5779a3d85358791da40b9b8791,stable-only: skip volume backup tests in cellsv1 job,ABANDONED,2020-05-12 10:23:16.000000000,2020-07-08 13:20:02.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-12 10:23:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8f6b1b391c20e3411d2dd40d64ea15e830860347', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n(cherry picked from commit b6406414ae8dfaf852a334ffc74ce9818104d17b)\n(cherry picked from commit 3e66c84f73fd07de7fe3215bdb90209766b44054)\n""}, {'number': 2, 'created': '2020-05-12 13:48:48.000000000', 'files': ['devstack/tempest-dsvm-cells-rc'], 'web_link': 'https://opendev.org/openstack/nova/commit/c9ed8e14045c845b3cf098265d0efad324d2a60d', 'message': ""stable-only: skip volume backup tests in cellsv1 job\n\nThese tests have long been skipped by the removal of the c-bak service\nfrom the deployed test envs in Nova and have no relevance to cellsv1.\nAs we can't adjust the deployed services just skip the tests for now in\nthe cellsv1 jobs.\n\nChange-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791\n(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)\n(cherry picked from commit 9ca7248cadc717bf961eae5275c54df6923fdfb3)\n""}]",0,727150,c9ed8e14045c845b3cf098265d0efad324d2a60d,13,5,2,10135,,,0,"stable-only: skip volume backup tests in cellsv1 job

These tests have long been skipped by the removal of the c-bak service
from the deployed test envs in Nova and have no relevance to cellsv1.
As we can't adjust the deployed services just skip the tests for now in
the cellsv1 jobs.

Change-Id: Ic719f2406cfdeb5779a3d85358791da40b9b8791
(cherry picked from commit 55fb6cc57d34b57e500cca749f9e464244f3c01d)
(cherry picked from commit 9ca7248cadc717bf961eae5275c54df6923fdfb3)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/727150/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/tempest-dsvm-cells-rc'],1,8f6b1b391c20e3411d2dd40d64ea15e830860347,,"# skip volume backup tests r=""$r|(?:(tempest\.api\.volume\.admin\.test_volumes_backup*)"" ",,3,0
openstack%2Fironic~master~I226e329151e0f71e793ade432c80a1628aa21511,openstack/ironic,master,I226e329151e0f71e793ade432c80a1628aa21511,Enforce autospec in test_task_manager,MERGED,2020-07-07 13:46:19.000000000,2020-07-08 13:17:16.000000000,2020-07-08 13:00:50.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 13:46:19.000000000', 'files': ['ironic/tests/unit/conductor/test_task_manager.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic/commit/359d6bca92b4a5f6f0d843ee73f39ba2fbb20fb7', 'message': 'Enforce autospec in test_task_manager\n\nAnd remove corresponding filter from tox.ini\n\nChange-Id: I226e329151e0f71e793ade432c80a1628aa21511\n'}]",0,739758,359d6bca92b4a5f6f0d843ee73f39ba2fbb20fb7,11,5,1,23851,,,0,"Enforce autospec in test_task_manager

And remove corresponding filter from tox.ini

Change-Id: I226e329151e0f71e793ade432c80a1628aa21511
",git fetch https://review.opendev.org/openstack/ironic refs/changes/58/739758/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/conductor/test_task_manager.py', 'tox.ini']",2,359d6bca92b4a5f6f0d843ee73f39ba2fbb20fb7,enforce-autospec,, ironic/tests/unit/conductor/test_task_manager.py:H210,9,10
openstack%2Fdevstack-plugin-ceph~master~I885ff78586540d01590f98cca2a00d55161dbe04,openstack/devstack-plugin-ceph,master,I885ff78586540d01590f98cca2a00d55161dbe04,[manila][ci] Disable tempest opt for snapshot cloning,MERGED,2020-07-08 05:11:16.000000000,2020-07-08 13:11:52.000000000,2020-07-08 13:08:30.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 05:11:16.000000000', 'files': ['manila/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/9036cca28506a964e1f4928980b2c27987e2ea73', 'message': ""[manila][ci] Disable tempest opt for snapshot cloning\n\nCephFS drivers don't support cloning snapshots\ninto shares. Manila's tempest tests need to be\ntold this explicitly. So, update the gate hooks\nthat control tempest configuration.\n\nThis affects all legacy style CephFS jobs that\nuse devstack-gate. These jobs will go away soon,\nand be replaced with Zuulv3 native style job\ndefinitions and this patch is a stop-gap,\nbecause devstack-plugin-ceph is a branchless\ndevstack plugin, and we need to support legacy\nstyle jobs for a while.\n\nChange-Id: I885ff78586540d01590f98cca2a00d55161dbe04\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",0,739893,9036cca28506a964e1f4928980b2c27987e2ea73,7,2,1,16643,,,0,"[manila][ci] Disable tempest opt for snapshot cloning

CephFS drivers don't support cloning snapshots
into shares. Manila's tempest tests need to be
told this explicitly. So, update the gate hooks
that control tempest configuration.

This affects all legacy style CephFS jobs that
use devstack-gate. These jobs will go away soon,
and be replaced with Zuulv3 native style job
definitions and this patch is a stop-gap,
because devstack-plugin-ceph is a branchless
devstack plugin, and we need to support legacy
style jobs for a while.

Change-Id: I885ff78586540d01590f98cca2a00d55161dbe04
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/93/739893/1 && git format-patch -1 --stdout FETCH_HEAD,['manila/post_test_hook.sh'],1,9036cca28506a964e1f4928980b2c27987e2ea73,bp/update-cephfs-drivers,# Manila drivers don't support creating shares from snapshots even if # snapshots themselves are supported. Let's turn off this capability # in tempest.conf iniset $TEMPEST_CONFIG share capability_create_share_from_snapshot_support False ,,5,0
openstack%2Fironic~master~I35e2eb04306cf7538f715e077e0ad12f5bebea49,openstack/ironic,master,I35e2eb04306cf7538f715e077e0ad12f5bebea49,Follow up of enforce autospec in test_manager,MERGED,2020-07-02 14:55:48.000000000,2020-07-08 13:09:02.000000000,2020-07-08 13:00:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-02 14:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/21c1eef653b058cdf736a87cb2885638cec274db', 'message': 'Follow up of enforce autospec in test_manager\n\nConvert mock.ANY to actual call when possible.\n\nChange-Id: I35e2eb04306cf7538f715e077e0ad12f5bebea49\n'}, {'number': 2, 'created': '2020-07-07 13:46:19.000000000', 'files': ['ironic/tests/unit/conductor/test_manager.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/f26b500efb157c9e12828a74200de6c5cfeb784e', 'message': 'Follow up of enforce autospec in test_manager\n\nConvert mock.ANY to actual call when possible.\n\nChange-Id: I35e2eb04306cf7538f715e077e0ad12f5bebea49\n'}]",0,739063,f26b500efb157c9e12828a74200de6c5cfeb784e,16,5,2,23851,,,0,"Follow up of enforce autospec in test_manager

Convert mock.ANY to actual call when possible.

Change-Id: I35e2eb04306cf7538f715e077e0ad12f5bebea49
",git fetch https://review.opendev.org/openstack/ironic refs/changes/63/739063/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/conductor/test_manager.py'],1,21c1eef653b058cdf736a87cb2885638cec274db,enforce-autospec," mock_tear_down.assert_called_once_with(task.driver.deploy, task) mock_console.assert_called_once_with(task.driver.console, task) mock_inspect.assert_called_once_with(task.driver.inspect, task) mock_inspect.assert_called_once_with(task.driver.inspect, task) mock_inspect.assert_called_once_with(task.driver.inspect, task) mock_inspect.assert_called_once_with(task.driver.inspect, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task) mock_start_console.assert_called_once_with(task.driver.console, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task) mock_start_console.assert_called_once_with(task.driver.console, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task) mock_start_console.assert_called_once_with(task.driver.console, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task) mock_prepare.assert_called_once_with(task.driver.deploy, task) mock_take_over.assert_called_once_with(task.driver.deploy, task)"," mock_tear_down.assert_called_once_with(mock.ANY, task) mock_console.assert_called_once_with(mock.ANY, task) mock_inspect.assert_called_once_with(mock.ANY, task) mock_inspect.assert_called_once_with(mock.ANY, task) mock_inspect.assert_called_once_with(mock.ANY, task) mock_inspect.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task) mock_start_console.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task) mock_start_console.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task) mock_start_console.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task) mock_prepare.assert_called_once_with(mock.ANY, task) mock_take_over.assert_called_once_with(mock.ANY, task)",21,21
openstack%2Fironic-inspector~master~I17cde409aba823f1d39540d8061ab5960b37cd87,openstack/ironic-inspector,master,I17cde409aba823f1d39540d8061ab5960b37cd87,Add release version to release notes,MERGED,2020-07-07 16:48:33.000000000,2020-07-08 13:04:18.000000000,2020-07-08 13:00:52.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-07 16:48:33.000000000', 'files': ['releasenotes/source/train.rst', 'releasenotes/source/ussuri.rst'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b1e79e0b4dd2fd06bc8e8027a66883f6941258a5', 'message': 'Add release version to release notes\n\nChange-Id: I17cde409aba823f1d39540d8061ab5960b37cd87\n'}]",0,739814,b1e79e0b4dd2fd06bc8e8027a66883f6941258a5,8,3,1,10239,,,0,"Add release version to release notes

Change-Id: I17cde409aba823f1d39540d8061ab5960b37cd87
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/14/739814/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/train.rst', 'releasenotes/source/ussuri.rst']",2,b1e79e0b4dd2fd06bc8e8027a66883f6941258a5,,============================================= Ussuri Series (10.0.0 - 10.1.x) Release Notes =============================================,=========================== Ussuri Series Release Notes ===========================,6,6
openstack%2Fironic-python-agent~master~I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,openstack/ironic-python-agent,master,I9c10bf05186dcebb37f175d61bf4ac9ff86b6510,Refactor part of image module,MERGED,2020-07-03 15:05:55.000000000,2020-07-08 13:03:56.000000000,2020-07-08 13:00:46.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-03 15:05:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/610ddff12c8a90b0026cbfcfa94590f466ded69a', 'message': 'Refactor part of image module\n\nShuffle some functions around and reduce size of _is_bootloader_loaded\nmoving logic out to a new function.\n\nChange-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510\n'}, {'number': 2, 'created': '2020-07-07 08:44:57.000000000', 'files': ['ironic_python_agent/extensions/image.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/9d9a6bce5c246d18d50dc405265e865fb77142eb', 'message': 'Refactor part of image module\n\nShuffle some functions around and reduce size of _is_bootloader_loaded\nmoving logic out to a new function.\n\nChange-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510\n'}]",4,739251,9d9a6bce5c246d18d50dc405265e865fb77142eb,17,5,2,23851,,,0,"Refactor part of image module

Shuffle some functions around and reduce size of _is_bootloader_loaded
moving logic out to a new function.

Change-Id: I9c10bf05186dcebb37f175d61bf4ac9ff86b6510
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/51/739251/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/extensions/image.py'],1,610ddff12c8a90b0026cbfcfa94590f466ded69a,refactor-image,"def _has_boot_sector(device): """"""Check the device for a boot sector indiator."""""" stdout, stderr = utils.execute('file', '-s', device) if 'boot sector' in stdout: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False def _find_bootable_device(partitions, dev): """"""Find the bootable device, and check the base device and partition for bootloader contents. """""" LOG.debug('Looking for a bootable device in %s', dev) for line in partitions.splitlines(): partition = line.split(':') try: if 'boot' in partition[6]: if _has_boot_sector(dev) or _has_boot_sector(partition[0]): return True except IndexError: continue return False return _find_bootable_device(stdout, dev)"," def _has_boot_sector(device): """"""Check the device for a boot sector indiator."""""" stdout, stderr = utils.execute('file', '-s', device) if 'boot sector' in stdout: # Now lets check the signature ddout, dderr = utils.execute( 'dd', 'if=%s' % device, 'bs=218', 'count=1', binary=True) stdout, stderr = utils.execute('file', '-', process_input=ddout) # The bytes recovered by dd show as a ""dos executable"" when # examined with file. In other words, the bootloader is present. if 'executable' in stdout: return True return False lines = stdout.splitlines() for line in lines: partition = line.split(':') try: # Find the bootable device, and check the base # device and partition for bootloader contents. if 'boot' in partition[6]: if (_has_boot_sector(dev) or _has_boot_sector(partition[0])): return True except IndexError: continue return False",33,27
openstack%2Fos-ken~master~Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7,openstack/os-ken,master,Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7,Update some URLs in README and tox,MERGED,2020-07-08 12:09:19.000000000,2020-07-08 13:00:29.000000000,2020-07-08 12:57:44.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 12:09:19.000000000', 'files': ['README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/9c04dc0c6f86f7984a47eb7250e8250ba322241a', 'message': 'Update some URLs in README and tox\n\nUse opendev.org URLs, point to storyboard instead of launchpad\n\nChange-Id: Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7\n'}]",0,739965,9c04dc0c6f86f7984a47eb7250e8250ba322241a,8,3,1,21798,,,0,"Update some URLs in README and tox

Use opendev.org URLs, point to storyboard instead of launchpad

Change-Id: Ib609aeadfde08cb4c3767d51c3c9ec906504f8a7
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/65/739965/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'tox.ini']",2,9c04dc0c6f86f7984a47eb7250e8250ba322241a,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},3,3
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I5992edf43bf1995eebdf401c6bd886e77e528695,openstack/tripleo-heat-templates,stable/train,I5992edf43bf1995eebdf401c6bd886e77e528695,Always clear cached facts first,MERGED,2020-07-06 14:13:24.000000000,2020-07-08 12:58:52.000000000,2020-07-08 12:58:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:13:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa26d5bb758214652a7ebc4c3ee22ca0fa294150', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n(cherry picked from commit 1f9942fd755a168f8a9b75afa09e8af7027d61d4)\n""}, {'number': 2, 'created': '2020-07-07 13:35:00.000000000', 'files': ['common/deploy-steps-playbooks-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40e2bf5dd1d9063c15573bf7b8a1bcdb81fc1035', 'message': ""Always clear cached facts first\n\nBecause you could be running against different clouds or hosts, we need\nto always clear the facts at the start of the deployment playbook to\nensure we aren't using incorrectly cached facts. That being said, the\ncaching mechanism should persist between the plays in the overall\ndeployment.\n\nChange-Id: I5992edf43bf1995eebdf401c6bd886e77e528695\nCloses-Bug: #1884654\n(cherry picked from commit 1f9942fd755a168f8a9b75afa09e8af7027d61d4)\n""}]",0,739494,40e2bf5dd1d9063c15573bf7b8a1bcdb81fc1035,14,5,2,3153,,,0,"Always clear cached facts first

Because you could be running against different clouds or hosts, we need
to always clear the facts at the start of the deployment playbook to
ensure we aren't using incorrectly cached facts. That being said, the
caching mechanism should persist between the plays in the overall
deployment.

Change-Id: I5992edf43bf1995eebdf401c6bd886e77e528695
Closes-Bug: #1884654
(cherry picked from commit 1f9942fd755a168f8a9b75afa09e8af7027d61d4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/94/739494/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps-playbooks-common.yaml'],1,aa26d5bb758214652a7ebc4c3ee22ca0fa294150,bug/1884654-stable/train,- hosts: all name: Clear cached facts tasks: - meta: clear_facts ,,5,0
openstack%2Ftripleo-heat-templates~master~I337aa287f1c88a0e2707b441fc6b19b997d52385,openstack/tripleo-heat-templates,master,I337aa287f1c88a0e2707b441fc6b19b997d52385,Allow more tasks to be run in check mode,MERGED,2020-06-11 15:27:46.000000000,2020-07-08 12:58:49.000000000,2020-07-08 12:58:49.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-06-11 15:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a199da6a08d82bbd23f81c432ad544da527530a3', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 2, 'created': '2020-06-15 13:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4eb121a36e8ac348489e3af8def24c066a1b0118', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 3, 'created': '2020-06-17 14:28:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/01e1a062f5be74bce86cdf29418f66341663e4d1', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 4, 'created': '2020-06-19 02:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/722b2fc4a2c2bdae78612e449d84ebcfe0634262', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 5, 'created': '2020-06-19 13:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e116683011904d4c27b7de49f0d435a727dbbb98', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 6, 'created': '2020-06-24 23:59:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31f39a5c06e5e745e0fa513356a2256de261775a', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 7, 'created': '2020-07-03 20:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/518737e46e0f0ba9f5f26a529bde0dd3261e3e2f', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 8, 'created': '2020-07-05 20:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d011105ed9d406b6211a79a34f85f7c1f5fa98e2', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 9, 'created': '2020-07-06 13:56:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92f3196e7874c4963f0df8dced4310b1ac3f2673', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}, {'number': 10, 'created': '2020-07-06 21:38:13.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/df8003384ab347f8dd3265909ba4a416c105e77a', 'message': 'Allow more tasks to be run in check mode\n\nWhen running Ansible in check mode (aka dry run), some tasks need some\nchanges, specially around variables and make sure they are actually\ndefined.\n\nChange-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385\n'}]",6,735179,df8003384ab347f8dd3265909ba4a416c105e77a,69,7,10,3153,,,0,"Allow more tasks to be run in check mode

When running Ansible in check mode (aka dry run), some tasks need some
changes, specially around variables and make sure they are actually
defined.

Change-Id: I337aa287f1c88a0e2707b441fc6b19b997d52385
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/79/735179/7 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/neutron/neutron-dhcp-container-puppet.yaml', 'deployment/neutron/neutron-l3-container-puppet.yaml', 'deployment/haproxy/haproxy-public-tls-inject.yaml', 'deployment/ovn/ovn-metadata-container-puppet.yaml', 'deployment/cinder/cinder-common-container-puppet.yaml', 'common/deploy-steps-tasks.yaml']",7,a199da6a08d82bbd23f81c432ad544da527530a3,dry/again, when: - not ansible_check_mode|bool - enable_puppet|bool,,20,3
openstack%2Fneutron-tempest-plugin~master~Ic032924cf90ba94f226c223053568f0708749531,openstack/neutron-tempest-plugin,master,Ic032924cf90ba94f226c223053568f0708749531,Fix cert handling for dynamic routing tests,MERGED,2020-07-02 10:53:05.000000000,2020-07-08 12:57:15.000000000,2020-07-08 12:57:15.000000000,"[{'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 10:53:05.000000000', 'files': ['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/neutron_dynamic_routing/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/3cd2e1aa7c15a10159b946554122cbdb348b41fa', 'message': 'Fix cert handling for dynamic routing tests\n\nInstead of ignoring ca_certs, use the same configuration as the\nremainder of the tests.\n\nChange-Id: Ic032924cf90ba94f226c223053568f0708749531\n'}]",3,739018,3cd2e1aa7c15a10159b946554122cbdb348b41fa,10,5,1,13252,,,0,"Fix cert handling for dynamic routing tests

Instead of ignoring ca_certs, use the same configuration as the
remainder of the tests.

Change-Id: Ic032924cf90ba94f226c223053568f0708749531
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/18/739018/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/neutron_dynamic_routing/api/test_bgp_speaker_extensions.py', 'neutron_tempest_plugin/neutron_dynamic_routing/scenario/base.py']",2,3cd2e1aa7c15a10159b946554122cbdb348b41fa,enable-tls, ca_certs = CONF.identity.ca_certificates_file, ca_certs = None,2,2
openstack%2Fkolla~master~Ie9ce18f83c62bf133add5c9a464354d65c05722a,openstack/kolla,master,Ie9ce18f83c62bf133add5c9a464354d65c05722a,[doc] Update example in release management,MERGED,2020-07-03 13:05:47.000000000,2020-07-08 12:47:15.000000000,2020-07-08 12:45:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-03 13:05:47.000000000', 'files': ['doc/source/contributor/release-management.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e00e27e2280de9f423787b0e90ae068d2d4baaa', 'message': '[doc] Update example in release management\n\nChange-Id: Ie9ce18f83c62bf133add5c9a464354d65c05722a\n'}]",0,739226,2e00e27e2280de9f423787b0e90ae068d2d4baaa,9,4,1,30491,,,0,"[doc] Update example in release management

Change-Id: Ie9ce18f83c62bf133add5c9a464354d65c05722a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/739226/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/release-management.rst'],1,2e00e27e2280de9f423787b0e90ae068d2d4baaa,release-docs, * example for Ussuri: https://review.opendev.org/739206, * example for Train: https://review.opendev.org/#/c/702666/2/www/project-data/train.yaml,1,1
openstack%2Fkolla-ansible~master~I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c,openstack/kolla-ansible,master,I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c,[doc] Add missing required packages,MERGED,2020-07-07 16:13:14.000000000,2020-07-08 12:44:57.000000000,2020-07-08 12:40:06.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 16:13:14.000000000', 'files': ['doc/source/reference/networking/octavia.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5cc52155150d328f657381cb4c9897ecc767cbd5', 'message': '[doc] Add missing required packages\n\nadd missing required packages for octavia doc when build images\ntrivial fix\n\nChange-Id: I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c\n'}]",3,739808,5cc52155150d328f657381cb4c9897ecc767cbd5,10,4,1,26285,,,0,"[doc] Add missing required packages

add missing required packages for octavia doc when build images
trivial fix

Change-Id: I4f10fdcbaa128fdb8d64c1490896ec6e29928f3c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/739808/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/reference/networking/octavia.rst'],1,5cc52155150d328f657381cb4c9897ecc767cbd5,, sudo dnf install -y debootstrap qemu-img git e2fsprogs policycoreutils-python-utils sudo apt -y install debootstrap qemu-utils git kpartx, sudo dnf install -y debootstrap sudo apt -y install debootstrap,2,2
openstack%2Fkolla-ansible~master~Iaa69b2096b09a448345de50911e21436875d48d6,openstack/kolla-ansible,master,Iaa69b2096b09a448345de50911e21436875d48d6,Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf,MERGED,2020-07-07 19:51:40.000000000,2020-07-08 12:43:04.000000000,2020-07-08 12:40:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 19:51:40.000000000', 'files': ['releasenotes/notes/bug-1886711-a1a1fd1343f1a644.yaml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9a0f8c319358b9b4a78bc38d8391dc61104ad49d', 'message': 'Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf\n\nThe value should be the full path to the keyring file, not just the\nname. Without this fix Gnocchi fails to connect to Ceph.\n\nChange-Id: Iaa69b2096b09a448345de50911e21436875d48d6\nCloses-Bug: #1886711\n'}]",0,739843,9a0f8c319358b9b4a78bc38d8391dc61104ad49d,9,3,1,15197,,,0,"Fix incorrect value of [storage]/ceph_keyring in gnocchi.conf

The value should be the full path to the keyring file, not just the
name. Without this fix Gnocchi fails to connect to Ceph.

Change-Id: Iaa69b2096b09a448345de50911e21436875d48d6
Closes-Bug: #1886711
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/739843/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1886711-a1a1fd1343f1a644.yaml', 'ansible/roles/gnocchi/templates/gnocchi.conf.j2']",2,9a0f8c319358b9b4a78bc38d8391dc61104ad49d,bug/1886711,ceph_keyring = /etc/ceph/{{ ceph_gnocchi_keyring }},ceph_keyring = {{ ceph_gnocchi_keyring }},7,1
openstack%2Ftripleo-operator-ansible~master~Ie4df9d621376935c441e89c73b6cffa9f18d52b6,openstack/tripleo-operator-ansible,master,Ie4df9d621376935c441e89c73b6cffa9f18d52b6,Update introspection and discovery with latest options,MERGED,2020-07-06 09:01:20.000000000,2020-07-08 12:25:28.000000000,2020-07-08 12:25:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 09:01:20.000000000', 'files': ['roles/tripleo_overcloud_node_introspect/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_discover/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_discover/defaults/main.yml', 'roles/tripleo_overcloud_node_introspect/README.md', 'roles/tripleo_overcloud_node_discover/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/defaults/main.yml', 'roles/tripleo_overcloud_node_discover/README.md'], 'web_link': 'https://opendev.org/openstack/tripleo-operator-ansible/commit/00fba6dea3dd1985de3fabc0ca028a1fca556bf4', 'message': 'Update introspection and discovery with latest options\n\nAdd new options for introspection in discovery and introspection\nroles.\nOptions are from client patch: https://review.opendev.org/#/c/737568\nChange-Id: Ie4df9d621376935c441e89c73b6cffa9f18d52b6\n'}]",0,739432,00fba6dea3dd1985de3fabc0ca028a1fca556bf4,7,5,1,10969,,,0,"Update introspection and discovery with latest options

Add new options for introspection in discovery and introspection
roles.
Options are from client patch: https://review.opendev.org/#/c/737568
Change-Id: Ie4df9d621376935c441e89c73b6cffa9f18d52b6
",git fetch https://review.opendev.org/openstack/tripleo-operator-ansible refs/changes/32/739432/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo_overcloud_node_introspect/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_discover/defaults/main.yml', 'roles/tripleo_overcloud_node_discover/molecule/default/converge.yml', 'roles/tripleo_overcloud_node_introspect/README.md', 'roles/tripleo_overcloud_node_discover/tasks/main.yml', 'roles/tripleo_overcloud_node_introspect/defaults/main.yml', 'roles/tripleo_overcloud_node_discover/README.md']",8,00fba6dea3dd1985de3fabc0ca028a1fca556bf4,opts,* `tripleo_overcloud_node_introspect_node_timeout`: (Integer) Maximum timeout for node introspection. * `tripleo_overcloud_node_introspect_max_retries`: (Integer) Maximum introspection retries. * `tripleo_overcloud_node_introspect_retry_timeout`: (Integer) Maximum timeout between introspection retries.,,112,2
openstack%2Fironic~master~I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,openstack/ironic,master,I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671,Correct Redfish boot once fallback conditional,MERGED,2020-06-25 02:02:05.000000000,2020-07-08 12:24:34.000000000,2020-07-08 12:08:43.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 10250}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23847}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 30100}, {'_account_id': 31616}]","[{'number': 1, 'created': '2020-06-25 02:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/28083055a25d09745c8fddecd0536beab338e471', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n""}, {'number': 2, 'created': '2020-07-03 04:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73d3869c458e9b5f41c8e5a3dba327b25f3a4f1b', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n""}, {'number': 3, 'created': '2020-07-04 05:39:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a38dd8f2184230c0b05753ba30e259a53bd86cf4', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n""}, {'number': 4, 'created': '2020-07-04 18:13:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/48e635c7311fbca49cf4897c13774ac6a74c855d', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n""}, {'number': 5, 'created': '2020-07-05 07:52:33.000000000', 'files': ['ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/91b0f738347cdbcb87c320e80023657b1824b6a5', 'message': ""Correct Redfish boot once fallback conditional\n\nThis corrects the variable examined to determine if falling back from\nRedfish boot source override enabled continuous to once should be\nperformed. The value of the variable 'enabled', instead of\n'desired_enabled', should be used.\n\nStory: 2007733\nTask: 40273\nChange-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671\n""}]",7,737892,91b0f738347cdbcb87c320e80023657b1824b6a5,48,15,5,23847,,,0,"Correct Redfish boot once fallback conditional

This corrects the variable examined to determine if falling back from
Redfish boot source override enabled continuous to once should be
performed. The value of the variable 'enabled', instead of
'desired_enabled', should be used.

Story: 2007733
Task: 40273
Change-Id: I26bf32c7f824e8e5ca7018d491e0bc9dc96a8671
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/737892/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/redfish/management.py'],1,28083055a25d09745c8fddecd0536beab338e471,story/2007733, if enabled == sushy.BOOT_SOURCE_ENABLED_CONTINUOUS:, if desired_enabled == sushy.BOOT_SOURCE_ENABLED_CONTINUOUS:,1,1
openstack%2Fkolla~master~I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f,openstack/kolla,master,I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f,Remove sensu images,ABANDONED,2020-06-09 15:46:05.000000000,2020-07-08 12:13:20.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 15:46:05.000000000', 'files': ['README.rst', 'docker/sensu/sensu-base/extend_start.sh', 'kolla/template/repos.yaml', 'docker/sensu/sensu-api/Dockerfile.j2', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'releasenotes/notes/remove-sensu-05e8751cfe0a920c.yaml', 'doc/source/matrix_aarch64.csv', 'tools/validate-binary-build.sh', 'docker/base/Dockerfile.j2', 'docker/sensu/sensu-base/Dockerfile.j2', 'docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3cb466d04aac6db3ce8d9a160156571d75f769f', 'message': 'Remove sensu images\n\nChange-Id: I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f\n'}]",0,734632,a3cb466d04aac6db3ce8d9a160156571d75f769f,5,3,1,167,,,0,"Remove sensu images

Change-Id: I6f04ee8243747ffeccdfe61e664e1aa6b1f9c78f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/734632/1 && git format-patch -1 --stdout FETCH_HEAD,"['README.rst', 'docker/sensu/sensu-base/extend_start.sh', 'kolla/template/repos.yaml', 'docker/sensu/sensu-api/Dockerfile.j2', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'releasenotes/notes/remove-sensu-05e8751cfe0a920c.yaml', 'doc/source/matrix_aarch64.csv', 'tools/validate-binary-build.sh', 'docker/base/Dockerfile.j2', 'docker/sensu/sensu-base/Dockerfile.j2', 'docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2']",15,a3cb466d04aac6db3ce8d9a160156571d75f769f,remove-sensu,,"FROM {{ namespace }}/{{ image_prefix }}sensu-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block sensu_client_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {{ macros.enable_extra_repos(['ceph']) }} {% if base_package_type == 'rpm' %} {% set sensu_client_packages = [ 'ceph-common', 'cyrus-sasl-devel', 'docker-client', 'gcc-c++', 'make', 'mariadb', 'ntp', 'python3-pymongo', 'ruby-devel' ] %} {% elif base_package_type == 'deb' %} {% set sensu_client_packages = [ 'build-essential', 'ceph-common', 'docker.io', 'inetutils-ping', 'libsasl2-dev', 'mysql-client', 'ntp', 'python3-cephfs', 'python3-pymongo', 'python3-rados', 'python3-rbd' ] %} {% else %} RUN echo '{{ image_name }} not yet available for {{ base_distro }}' \ && /bin/false {% endif %} {{ macros.install_packages(sensu_client_packages | customizable(""packages"")) }} {% block sensu_clients_install %} # Sensu plugins are all using semantic versioning. # Let's cap them to the known major version that works with the ruby shipped on # rhel/centos (currently 2.0) {% set sensu_plugins = [ 'cpu-checks:""~>1""', 'disk-checks:""~>2""', 'dns:""~>1""', 'docker:""~>3""', 'elasticsearch:""~>1""', 'filesystem-checks:""~>1""', 'haproxy:""~>1""', 'http:""~>1""', 'io-checks:""~>1""', 'load-checks:""~>3""', 'memcached:""~>0""', 'memory-checks:""~>1""', 'mongodb:""~>0""', 'mysql:""~>2""', 'network-checks:""~>2""', 'ntp:""~>1""', 'openstack:""~>1""', 'rabbitmq:""~>3""', 'redis:""~>2""', 'uptime-checks:""~>1""', 'vmstats:""~>1""' ] %} # TODO(mandre) Use packaged sensu plugins from centos-opstools for binary distro # http://cbs.centos.org/koji/search?match=glob&type=package&terms=*sensu* # NOTE(hrw): whois 5.0.0 requires Ruby 2.4+ while CentOS has 2.0 # NOTE(yoctozepto): pinning minitest for the same reason RUN {%if base_package_type == 'rpm' %} gem install whois:""<5"" minitest:""~>5.11.3"" && {% endif %} sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }} {% endblock %} {% block sensu_client_footer %}{% endblock %} {% block footer %}{% endblock %} ",5,191
openstack%2Ftripleo-ansible~master~Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e,openstack/tripleo-ansible,master,Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e,DNM: Testing molecule job for tripleo_clients_install,ABANDONED,2020-06-23 00:47:46.000000000,2020-07-08 12:13:16.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 00:47:46.000000000', 'files': ['tripleo_ansible/roles/tripleo_clients_install/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f9a4e59e9b6380fc697e98efc4c313f56e5c7ff', 'message': 'DNM: Testing molecule job for tripleo_clients_install\n\nChange-Id: Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e\n'}]",0,737398,9f9a4e59e9b6380fc697e98efc4c313f56e5c7ff,4,2,1,9816,,,0,"DNM: Testing molecule job for tripleo_clients_install

Change-Id: Ic6c2f0c8b9bd7096eecbc4d1b1fff8f7a597299e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/737398/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_clients_install/molecule/default/converge.yml'],1,9f9a4e59e9b6380fc697e98efc4c313f56e5c7ff,dnm, cinder: installed,,1,0
openstack%2Ftripleo-heat-templates~master~I131e9e044fc2c62945c523a3b1f4d7145f1616d2,openstack/tripleo-heat-templates,master,I131e9e044fc2c62945c523a3b1f4d7145f1616d2,Try console logger of Horizon,ABANDONED,2020-05-24 00:53:08.000000000,2020-07-08 12:12:08.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-24 00:53:08.000000000', 'files': ['deployment/horizon/horizon-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23b10416dd3c9224b30d086af89e871eb4016265', 'message': 'Try console logger of Horizon\n\nDepends-on: https://review.opendev.org/#/c/729585/\nChange-Id: I131e9e044fc2c62945c523a3b1f4d7145f1616d2\n'}]",0,730484,23b10416dd3c9224b30d086af89e871eb4016265,7,3,1,9816,,,0,"Try console logger of Horizon

Depends-on: https://review.opendev.org/#/c/729585/
Change-Id: I131e9e044fc2c62945c523a3b1f4d7145f1616d2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/730484/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/horizon/horizon-container-puppet.yaml'],1,23b10416dd3c9224b30d086af89e871eb4016265,horizon-console, horizon::log_handler: 'console',,1,0
openstack%2Foctavia~master~I3e2d25d0a9f698f5ce7d093306873e839b04027c,openstack/octavia,master,I3e2d25d0a9f698f5ce7d093306873e839b04027c,[doc] add missing but required package,ABANDONED,2020-07-08 11:18:54.000000000,2020-07-08 11:47:34.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-07-08 11:18:54.000000000', 'files': ['diskimage-create/README.rst'], 'web_link': 'https://opendev.org/openstack/octavia/commit/c56e8799af785a6d83e18fb6300878d06ae43b3b', 'message': '[doc] add missing but required package\n\ndebootstrap is also needed on centos during build image.\n\nChange-Id: I3e2d25d0a9f698f5ce7d093306873e839b04027c\n'}]",0,739953,c56e8799af785a6d83e18fb6300878d06ae43b3b,5,3,1,26285,,,0,"[doc] add missing but required package

debootstrap is also needed on centos during build image.

Change-Id: I3e2d25d0a9f698f5ce7d093306873e839b04027c
",git fetch https://review.opendev.org/openstack/octavia refs/changes/53/739953/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage-create/README.rst'],1,c56e8799af785a6d83e18fb6300878d06ae43b3b,, $ sudo dnf install qemu-img git e2fsprogs policycoreutils-python-utils debootstrap, $ sudo dnf install qemu-img git e2fsprogs policycoreutils-python-utils,1,1
openstack%2Fcinder~master~I5b011f1a34ba00966cf3829d3502b0a3699a7a6e,openstack/cinder,master,I5b011f1a34ba00966cf3829d3502b0a3699a7a6e,Added manage/unmanage volume and snapshot support to Infinidat driver.,NEW,2020-01-23 01:57:26.000000000,2020-07-08 11:46:46.000000000,,"[{'_account_id': 1736}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11611}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12032}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 12988}, {'_account_id': 14384}, {'_account_id': 14624}, {'_account_id': 15386}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22126}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22495}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 26968}, {'_account_id': 28801}, {'_account_id': 29705}, {'_account_id': 29716}, {'_account_id': 30590}, {'_account_id': 30688}, {'_account_id': 31305}, {'_account_id': 31354}, {'_account_id': 31809}, {'_account_id': 31854}, {'_account_id': 32071}, {'_account_id': 32096}]","[{'number': 1, 'created': '2020-01-23 01:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a2cc9f99b7d3647b5cc62a97bfa52f28d3c9683e', 'message': 'Initializate instance variables in __init__ and then use later.\nAdded Manage/Unmanage API for volume and snapshot.\nAdded unit_tests for manage/unmanage api.\nAdded some name transformation hack since we cant change the backend\nvolume name due to backward compatibility.\nAdded release note (infinidat-manage-unmanage-api).\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 2, 'created': '2020-01-23 02:02:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0a97b8b0562bef5e399e25be96383c8862cf65d', 'message': 'Added manage/unmanage support to Infinidat driver.\n\nAdded Manage/Unmanage API for volume and snapshot.\nAdded some name transformation hack since we cant change the backend\nvolume name due to backward compatibility.\nAdded unit_tests for manage/unmanage api.\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 3, 'created': '2020-01-24 02:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/33f9a1ad9869bd28f3c28675cd00bd6071148ef5', 'message': 'Initializate instance variables in __init__ and then use later.\nAdded Manage/Unmanage API for volume and snapshot.\nAdded unit_tests for manage/unmanage api.\nAdded some name transformation hack since we cant change the backend\nvolume name due to backward compatibility.\nAdded release note (infinidat-manage-unmanage-api).\n\nAddressed comments in Code-Review-1.\nFixed pep8 and pylint errors.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 4, 'created': '2020-01-24 03:00:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2ed3ddc1032232c204267d196e3fbce527b08a32', 'message': 'Added manage/unmanage support to Infinidat driver.\n\nAdded Manage/Unmanage API for volume and snapshot.\nAdded some name transformation hack since we cant change the backend\nvolume name due to backward compatibility.\nAdded unit_tests for manage/unmanage api.\nRelease note: infinidat-manage-unmanage-api.\n\nAddressed comments in Code-Review-1.\nFixed pep8 and pylint errors.\n\nChanged commit message.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 5, 'created': '2020-03-10 19:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/6d7da42d3d5a250fd3a4f43837adfd3c01907a46', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 6, 'created': '2020-05-08 18:01:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/988244e4dd86eb4693e29664faeca68a595e7271', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 7, 'created': '2020-05-26 11:26:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c373aca7b8b6ec756b291f7eba3aece2ed6645d3', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 8, 'created': '2020-06-14 10:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/320c8fe324e1956f8afbbec000a86da3fc50af12', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 9, 'created': '2020-06-19 16:34:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7a2adbdda8f31eb57a28fd098cc783142d1ce3a4', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 10, 'created': '2020-06-20 10:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ee31e6464e900d89ceacb5e753e7d392953beb1e', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}, {'number': 11, 'created': '2020-06-20 13:18:41.000000000', 'files': ['releasenotes/notes/infinidat-manage-unmanage-api-83fa4d0ef20f51b5.yaml', 'doc/source/configuration/block-storage/drivers/infinidat-volume-driver.rst', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/eeab3c3352cab558ba77774a3aed8a8b9846a0c9', 'message': 'Added manage/unmanage volume and snapshot support to Infinidat driver.\n\nRelease note: infinidat-manage-unmanage-api.\n\nChange-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e\n'}]",23,703907,eeab3c3352cab558ba77774a3aed8a8b9846a0c9,376,51,11,31354,,,0,"Added manage/unmanage volume and snapshot support to Infinidat driver.

Release note: infinidat-manage-unmanage-api.

Change-Id: I5b011f1a34ba00966cf3829d3502b0a3699a7a6e
",git fetch https://review.opendev.org/openstack/cinder refs/changes/07/703907/9 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/infinidat-manage-unmanage-api-83fa4d0ef20f51b5.yaml', 'cinder/tests/unit/volume/drivers/test_infinidat.py', 'cinder/volume/drivers/infinidat.py']",3,a2cc9f99b7d3647b5cc62a97bfa52f28d3c9683e,manage_unmanage_api,"""""""INFINIDAT InfiniBox Volume Driver"""""" from contextlib import contextmanager from math import ceilfrom cinder.i18n import _ from cinder.objects import fieldsfrom cinder.volume.drivers.san import san# noinspection PyAbstractClass self.management_address = None self._system = None self._backend_name = None self._protocol = None self._volume_stats = None @staticmethod def _setup_and_get_system_object(management_address, auth): self._system = self._setup_and_get_system_object(self.management_address, auth) @staticmethod def _make_ds_name(cinder_volume, dataset_type): return 'openstack-{}-{}'.format(dataset_type, cinder_volume.id) @staticmethod def _make_ds_name_id(cinder_ds_id, dataset_type): return 'openstack-{}-{}'.format(dataset_type, cinder_ds_id) def _get_infinidat_ds_name(self, existing_ref, dataset_type): """""" This is required to differentiate between the following use cases: 1. A volume can be created on the backend (using its cli or gui) and then provided to the dashboard to manage. The backend volume name may not be uuid-based and wont have the form openstack-vol-uuid either. 2. The volume is created using create_volume, which results in a volume of the form openstack-vol-uuid, and the name provided to manage_existing is not the cinder id, but cinder name of the form volume-uuid. :param dataset_type: """""" splitter = 'volume-' if dataset_type == 'vol' else 'snapshot-' ds_split = existing_ref['source-name'].split(splitter, 2) existing_ds_name = ds_split[0] if len(ds_split) == 1 else self._make_ds_name_id(ds_split[1], dataset_type) return existing_ds_name @staticmethod def _make_host_name(port): @staticmethod def _make_cg_name(cinder_group): @staticmethod def _make_group_snapshot_name(cinder_group_snap): @staticmethod def _set_cinder_object_metadata(infinidat_object, cinder_object): ""backend_volume_name"": infinidat_object.get_name(), @staticmethod def _get_cinder_object_metadata(infinidat_object): return infinidat_object.get_all_metadata() @staticmethod def _add_cinder_object_metadata(infinidat_object, extra_metadata): infinidat_object.set_metadata_from_dict(extra_metadata) @staticmethod def _set_host_metadata(infinidat_object): def _get_infinidat_volumes_in_pool(self, pool_name=None): if not pool_name: pool_name = self.configuration.infinidat_pool_name pool = self._system.pools.safe_get(name=pool_name) # TODO (VENU): should we be checking v.is_master instead of not v.is_snapshot? return [v for v in pool.get_volumes() if not v.is_snapshot()] def _get_infinidat_snapshots_in_pool(self, pool_name=None): if not pool_name: pool_name = self.configuration.infinidat_pool_name pool = self._system.pools.safe_get(name=pool_name) return [v for v in pool.get_volumes() if v.is_snapshot()] def _get_infinidat_volume(self, cinder_volume): volume_name = self._make_ds_name(cinder_volume, 'vol') snap_name = self._make_ds_name(cinder_snapshot, 'snap') @staticmethod def _get_mapping(host, volume): @staticmethod def _get_backend_qos_specs(cinder_volume): volume_name = self._make_ds_name(volume, 'vol') lun = None @staticmethod def _get_iscsi_portal(netspace): volume_name = self._make_ds_name(volume, 'vol') chap_username = None chap_password = None volume_name = self._make_ds_name(volume, 'vol') volume_name = self._make_ds_name(volume, 'vol') name = self._make_ds_name(snapshot, 'snap') clone_name = self._make_ds_name(volume, 'vol') + '-internal' snapshot_name = self._make_ds_name(cinder_snapshot, 'snap') @infinisdk_to_cinder_exceptions def manage_existing(self, volume, existing_ref): """"""Imports an exisiting Infinibox volume to be managed by cinder. Rename the volume on the backend to openstack volume format and set appropriate metadata. If size is provided in cinder volume object it is ignored and updated with the backend volume size. Only volumes that are in the configured pool are allowed to be imported. Mismatched provisioning and compression between backend volume and configured values is ignored. :param volume: the cinder volume object :param existing_ref: existing volume name """""" LOG.debug('volume: {}, existing_ref: {}'.format(volume, existing_ref)) existing_vol_name = self._get_infinidat_ds_name(existing_ref, 'vol') infinidat_volume = self._get_infinidat_volume_by_name(existing_vol_name) expected_pool = self.configuration.infinidat_pool_name received_pool = infinidat_volume.get_pool_name() if expected_pool != received_pool: msg = (""Backend volume's pool({}/{}) is not configured cinder pool({})"". format(existing_vol_name, received_pool, expected_pool)) LOG.error(msg) raise exception.InvalidInput(reason=msg) expected_provtype = ""THIN"" if self.configuration.san_thin_provision else ""THICK"" received_provtype = infinidat_volume.get_provisioning() if expected_provtype != received_provtype: msg = (""Backend volume's provisioning({}/{}) is not the configured cinder provisioning({})"". format(infinidat_volume, received_provtype, expected_provtype)) LOG.debug(msg) infinidat_vol_size_in_gib = infinidat_volume.get_size()/capacity.GiB if volume.size > infinidat_vol_size_in_gib: LOG.debug(""CINDER volume requested larger size - will be ignored and the size set to the backend volumes"") volume.size = infinidat_vol_size_in_gib if self._system.compat.has_compression(): expected_compression = self.configuration.infinidat_use_compression received_compression = infinidat_volume.is_compression_enabled() if (expected_compression and not received_compression) or (received_compression and not expected_compression): msg = (""Backend volume's compression({}/{}) is not the configured cinder compression({})"". format(infinidat_volume, received_compression, expected_compression)) LOG.debug(msg) volume_name = self._make_ds_name(volume, 'vol') LOG.info(""Renaming backend volume {} to cinder format {}"".format(existing_vol_name, volume_name)) infinidat_volume.update_name(volume_name) self._set_qos(volume, infinidat_volume) self._set_cinder_object_metadata(infinidat_volume, volume) self._add_cinder_object_metadata(infinidat_volume, {'original_name': existing_vol_name}) LOG.debug('backend volume: {}'.format(infinidat_volume)) @infinisdk_to_cinder_exceptions def manage_existing_get_size(self, volume, existing_ref): """""" Return size of volume to be managed by manage_existing. When calculating the size, round up to the next GB. :param volume: the cinder volume object :param existing_ref: existing volume name """""" LOG.debug('volume: {}, existing_ref: {}'.format(volume, existing_ref)) existing_vol_name = self._get_infinidat_ds_name(existing_ref, 'vol') infinidat_volume = self._get_infinidat_volume_by_name(existing_vol_name) actual_size = infinidat_volume.get_size()/capacity.GiB size = int(ceil(actual_size)) LOG.debug('actual_size: {}, size: {}'.format(actual_size, size)) return size @infinisdk_to_cinder_exceptions def unmanage(self, volume): """""" Removes the specified volume from Cinder management. Does not delete the underlying backend storage object. :param volume: the cinder volume object """""" LOG.debug('volume: {}'.format(volume)) volume_name = self._make_ds_name(volume, 'vol') infinidat_volume = self._get_infinidat_volume_by_name(volume_name) # all ok, nothing to do since backend volume is left alone @infinisdk_to_cinder_exceptions def manage_existing_snapshot(self, snapshot, existing_ref): """"""Manages an exisiting Infinibox snapshot using cinder. Rename the snapshot on the backend to openstack volume format and set appropriate metadata. :param snapshot: the cinder snapshot object :param existing_ref: existing snapshot name """""" LOG.debug('snapshot: {}, existing_ref: {}'.format(snapshot, existing_ref)) existing_snap_name = self._get_infinidat_ds_name(existing_ref, 'snap') infinidat_snapshot = self._get_infinidat_snapshot_by_name(existing_snap_name) snap_name = self._make_ds_name(snapshot, 'snap') LOG.info(""Renaming backend snapshot {} to cinder format {}"".format(existing_snap_name, snap_name)) infinidat_snapshot.update_name(snap_name) self._set_cinder_object_metadata(infinidat_snapshot, snapshot) self._add_cinder_object_metadata(infinidat_snapshot, {'original_name': existing_snap_name}) LOG.debug('backend snap: {}'.format(existing_snap_name)) @infinisdk_to_cinder_exceptions def manage_existing_snapshot_get_size(self, snapshot, existing_ref): """""" Return size of snapshot to be managed by manage_existing_snapshot. When calculating the size, round up to the next GB. :param snapshot: the cinder snapshot object :param existing_ref: existing snapshot name """""" LOG.debug('snapshot: {}, existing_ref: {}'.format(snapshot, existing_ref)) existing_snap_name = self._get_infinidat_ds_name(existing_ref, 'snap') infinidat_snapshot = self._get_infinidat_snapshot_by_name(existing_snap_name) actual_size = infinidat_snapshot.get_size()/capacity.GiB size = int(ceil(actual_size)) LOG.debug('actual_size: {}, size: {}'.format(actual_size, size)) return size @infinisdk_to_cinder_exceptions def unmanage_snapshot(self, snapshot): """""" Removes the specified snapshot from Cinder management. Does not delete the underlying backend storage object. :param snapshot: the cinder snapshot object """""" # nothing to do return @infinisdk_to_cinder_exceptions def get_manageable_volumes(self, cinder_volumes, marker, limit, offset, sort_keys, sort_dirs): """""" List volumes on the backend available for management by Cinder. Get all volumes in the cinder pool, and mark those in cinder_volumes already with safe_to_manage as False, reason as ""volume in use"", and cinder_id (backend volume name without ""openstack-vol-"" prefix :param cinder_volumes  A list of volumes in this host that Cinder currently manages, used to determine if a volume is manageable or not. :param marker  The last item of the previous page; we return the next results after this value (after sorting) :param limit  Maximum number of items to return :param offset  Number of items to skip after marker :param sort_keys  List of keys to sort results (valid keys are identifier and size) :param sort_dirs  List of sort directions, corresponding to sort_keys (valid directions are asc and desc) :return Returns a list of dictionaries, each specifying a volume in the host, with the following keys: reference (dictionary): The reference for a volume, which can be passed to manage_existing. size (int): The size of the volume according to the storage backend, rounded up to the nearest GiB. safe_to_manage (boolean): Whether or not this volume is safe to manage according to the storage backend. For example, is the volume in use or invalid for any reason. reason_not_safe (string): If safe_to_manage is False, the reason why. cinder_id (string): If already managed, provide the Cinder ID extra_info (string): Any extra information to return to the user """""" LOG.debug('cinder_volumes: {}'.format(cinder_volumes)) backend_volumes = self._get_infinidat_volumes_in_pool() manageable_volumes = [] existing_vols = {self._make_ds_name(v, 'vol'): v.id for v in cinder_volumes} for v in backend_volumes: metadata = v.get_all_metadata() vi = dict( reference = {'name': v.get_name()}, size = int(ceil(v.get_size()/capacity.GiB)), extra_info = dict( pool_name = v.get_pool_name(), type = v.get_type(), qos_policy = v.get_qos_policy(), metadata = str(metadata), ), ) cinder_id = existing_vols.get(vi['reference']['name']) if existing_vols else None if cinder_id: vi['cinder_id'] = cinder_id vi['safe_to_manage'] = False base = 'Already managed by cinder'.format(cinder_id) more = ' but has no backend metadata' if not metadata or not metadata.get('cinder_id') else '' vi['reason_not_safe'] = base + more else: vi['cinder_id'] = None vi['safe_to_manage'] = True vi['reason_not_safe'] = '' manageable_volumes.append(vi) LOG.debug('manageable_volumes: {}'.format(manageable_volumes)) return volume_utils.paginate_entries_list(manageable_volumes, marker, limit, offset, sort_keys, sort_dirs) @infinisdk_to_cinder_exceptions def get_manageable_snapshots(self, cinder_snapshots, marker, limit, offset, sort_keys, sort_dirs): """""" List snapshots on the backend available for management by Cinder. :param cinder_snapshots  A list of snapshots in this host that Cinder currently manages, used to determine if a snapshot is manageable or not. :param marker  The last item of the previous page; we return the next results after this value (after sorting) :param limit  Maximum number of items to return :param offset  Number of items to skip after marker :param sort_keys  List of keys to sort results by (valid keys are identifier and size) :param sort_dirs  List of sort directions, corresponding to sort_keys (valid directions are asc and desc) :return Returns a list of dictionaries, each specifying a snapshot in the host, with the following keys: reference (dictionary): The reference for a snapshot, which can be passed to manage_existing_snapshot. size (int): The size of the snapshot according to the storage backend, rounded up to the nearest GiB. safe_to_manage (boolean): Whether or not this snapshot is safe to manage according to the storage backend. For example, is the snapshot in use or invalid for any reason. reason_not_safe (string): If safe_to_manage is False, the reason why. cinder_id (string): If already managed, provide the Cinder ID. extra_info (string): Any extra information to return to the user source_reference (string): Similar to reference, but for the snapshots source volume. """""" LOG.debug('cinder_snapshots: {}'.format(cinder_snapshots)) backend_snaps = self._get_infinidat_snapshots_in_pool() manageable_snaps = [] existing_snaps = {self._make_ds_name(s, 'snap'): s.id for s in cinder_snapshots} for s in backend_snaps: metadata = s.get_all_metadata() parent = s.get_parent() si = dict( reference = {'name': s.get_name()}, size = int(ceil(s.get_size()/capacity.GiB)), source_reference = {'name': parent.get_name()}, extra_info = dict( pool_name = s.get_pool_name(), type = s.get_type(), qos_policy = s.get_qos_policy(), metadata = str(metadata), ), ) cinder_id = existing_snaps.get(si['reference']['name']) if existing_snaps else None if cinder_id: si['cinder_id'] = cinder_id si['safe_to_manage'] = False base = 'Already managed by cinder'.format(cinder_id) more = ' but has no backend metadata' if not metadata or not metadata.get('cinder_id') else '' si['reason_not_safe'] = base + more else: si['cinder_id'] = None si['safe_to_manage'] = True si['reason_not_safe'] = '' manageable_snaps.append(si) LOG.debug('manageable_snaps: {}'.format(manageable_snaps)) return volume_utils.paginate_entries_list(manageable_snaps, marker, limit, offset, sort_keys, sort_dirs) ","""""""INFINIDAT InfiniBox Volume Driver."""""" from contextlib import contextmanagerfrom cinder.i18n import _from cinder.objects import fieldsfrom cinder.volume.drivers.san import san def _setup_and_get_system_object(self, management_address, auth): self._system = ( self._setup_and_get_system_object(self.management_address, auth)) def _make_volume_name(self, cinder_volume): return 'openstack-vol-%s' % cinder_volume.id def _make_snapshot_name(self, cinder_snapshot): return 'openstack-snap-%s' % cinder_snapshot.id def _make_host_name(self, port): def _make_cg_name(self, cinder_group): def _make_group_snapshot_name(self, cinder_group_snap): def _set_cinder_object_metadata(self, infinidat_object, cinder_object): def _set_host_metadata(self, infinidat_object): def _get_infinidat_volume(self, cinder_volume): volume_name = self._make_volume_name(cinder_volume) snap_name = self._make_snapshot_name(cinder_snapshot) def _get_mapping(self, host, volume): def _get_backend_qos_specs(self, cinder_volume): volume_name = self._make_volume_name(volume) def _get_iscsi_portal(self, netspace): volume_name = self._make_volume_name(volume) volume_name = self._make_volume_name(volume) volume_name = self._make_volume_name(volume) name = self._make_snapshot_name(snapshot) clone_name = self._make_volume_name(volume) + '-internal' snapshot_name = self._make_snapshot_name(cinder_snapshot)",546,36
openstack%2Fneutron~master~Iecca2649fc5e066fabe7f4b4746094506b595f0b,openstack/neutron,master,Iecca2649fc5e066fabe7f4b4746094506b595f0b,[OVN] Stop using neutron_tempest_plugin in OVN singlenode job,MERGED,2020-06-23 12:25:37.000000000,2020-07-08 11:04:25.000000000,2020-07-08 10:57:00.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-23 12:25:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eba758fff3feb2344e0e34a985a6e3d804f351db', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 2, 'created': '2020-06-24 12:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/db91b567c8dbe0429b64d57de1d07c4737d1fdd8', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 3, 'created': '2020-06-24 15:11:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9408599b11ee57f2e751df3d22f7b7c5cbe9ccd4', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 4, 'created': '2020-06-25 08:25:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d352821c8fc24166ff9ab3719aae6050da79fb9', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 5, 'created': '2020-06-25 12:53:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0c207787c404fe3f4076e59c25a9574dd1fa14ba', 'message': '[WIP][OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 6, 'created': '2020-06-29 09:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f643e82c561c8bea737e767d2a9386734bb330ec', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 7, 'created': '2020-06-30 11:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/29bf04f69a2d0a5f4e252fe54f537120bf8cd8c2', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 8, 'created': '2020-07-03 14:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3fd7829955dada8c0105fb94098d5edb1aabc5a', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singelnode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 9, 'created': '2020-07-03 14:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e4cd47b4c576688db2f16357f91474cbdd0e6a64', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singlenode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}, {'number': 10, 'created': '2020-07-07 22:06:20.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/193df8279dbca4af6cb12fe25b79de4c1716f663', 'message': '[OVN] Stop using neutron_tempest_plugin in OVN singlenode job\n\nIn patch [1] we moved neutron_tempest_plugin test executions to\nneutron-tempest-plugin repository.\nThat moves us forward with unifying the way of executing tests\nafter OVN merge.\n\n[1] https://review.opendev.org/#/c/734832/\n\nChange-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b\n'}]",7,737518,193df8279dbca4af6cb12fe25b79de4c1716f663,44,8,10,24791,,,0,"[OVN] Stop using neutron_tempest_plugin in OVN singlenode job

In patch [1] we moved neutron_tempest_plugin test executions to
neutron-tempest-plugin repository.
That moves us forward with unifying the way of executing tests
after OVN merge.

[1] https://review.opendev.org/#/c/734832/

Change-Id: Iecca2649fc5e066fabe7f4b4746094506b595f0b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/737518/10 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",2,eba758fff3feb2344e0e34a985a6e3d804f351db,, |neutron-tempest-plugin-scenario-ovn | neutron_tempest_plugin.scenario | 3.6 | 1 | ovn | ovn | --- | False | False | False | Yes | +----------------------------------------------+----------------------------------+---------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+, | |and neutron_tempest_plugi tests | | | | | | | | | |,2,7
openstack%2Fdevstack~master~Ib8691c3eeee59758fbd98989d9460f1458ea422f,openstack/devstack,master,Ib8691c3eeee59758fbd98989d9460f1458ea422f,Remove n-api-metadata service from compute nodes,MERGED,2020-07-07 07:03:21.000000000,2020-07-08 11:04:16.000000000,2020-07-08 10:57:04.000000000,"[{'_account_id': 11347}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 07:03:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/cbfcf76be8de5be2a95095853c7a573bba6dc4fa', 'message': ""Remove n-api-metadata service from compute nodes\n\nStarting up n-api-metadata service on every compute nodes does\nnot solve the problem of isolated networks (no route to metadata\nservice). It all depends on how 'enable_isolated_metadata' and\nrelated options (e.g. force_metadata) are set in dhcp agent and\nwhat is configured for the 'nova_metadata_host' option of q-meta\nservice. Having a global n-api-metadata service in the control\nnode is sufficient for a mult-node lab setup.\nBesides, the n-api-metadata services on compute nodes are not\nreally working due to https://bugs.launchpad.net/nova/+bug/1815082\n\nChange-Id: Ib8691c3eeee59758fbd98989d9460f1458ea422f\n""}, {'number': 2, 'created': '2020-07-08 02:44:21.000000000', 'files': ['doc/source/guides/multinode-lab.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6184dea966d56f13f15d926dbb09e527ae3ba39e', 'message': ""Remove n-api-metadata service from compute nodes\n\nStarting up n-api-metadata service on every compute nodes does\nnot solve the problem of isolated networks (no route to metadata\nservice). It all depends on how 'enable_isolated_metadata' and\nrelated options (e.g. force_metadata) are set in dhcp agent and\nwhat is configured for the 'nova_metadata_host' option of q-meta\nservice. Having a global n-api-metadata service in the control\nnode is sufficient for a mult-node lab setup.\nBesides, the n-api-metadata services on compute nodes are not\nreally working due to https://bugs.launchpad.net/nova/+bug/1815082\n\nChange-Id: Ib8691c3eeee59758fbd98989d9460f1458ea422f\nRelated-Bug: 1815082\n""}]",4,739664,6184dea966d56f13f15d926dbb09e527ae3ba39e,12,4,2,11347,,,0,"Remove n-api-metadata service from compute nodes

Starting up n-api-metadata service on every compute nodes does
not solve the problem of isolated networks (no route to metadata
service). It all depends on how 'enable_isolated_metadata' and
related options (e.g. force_metadata) are set in dhcp agent and
what is configured for the 'nova_metadata_host' option of q-meta
service. Having a global n-api-metadata service in the control
node is sufficient for a mult-node lab setup.
Besides, the n-api-metadata services on compute nodes are not
really working due to https://bugs.launchpad.net/nova/+bug/1815082

Change-Id: Ib8691c3eeee59758fbd98989d9460f1458ea422f
Related-Bug: 1815082
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/739664/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guides/multinode-lab.rst'],1,cbfcf76be8de5be2a95095853c7a573bba6dc4fa,bug/1815082," ENABLED_SERVICES=n-cpu,q-agt,c-vol,placement-client"," ENABLED_SERVICES=n-cpu,q-agt,n-api-meta,c-vol,placement-client**Note:** the ``n-api-meta`` service is a version of the api server that only serves the metadata service. It's needed because the computes created won't have a routing path to the metadata service on the controller. ",1,6
openstack%2Fpython-zaqarclient~master~Ia32c2262d4d871c31b141c23e8f49bade7720a8a,openstack/python-zaqarclient,master,Ia32c2262d4d871c31b141c23e8f49bade7720a8a,Fix the error of parameter passing,MERGED,2020-07-08 09:09:56.000000000,2020-07-08 11:02:09.000000000,2020-07-08 10:54:56.000000000,"[{'_account_id': 8846}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 09:09:56.000000000', 'files': ['zaqarclient/queues/v2/cli.py'], 'web_link': 'https://opendev.org/openstack/python-zaqarclient/commit/27a628f03b81917dbddae9eec6861d11c577fe15', 'message': 'Fix the error of parameter passing\n\nChange-Id: Ia32c2262d4d871c31b141c23e8f49bade7720a8a\nSigned-off-by: ZijianGuo <guozijn@gmail.com>\n'}]",0,739931,27a628f03b81917dbddae9eec6861d11c577fe15,7,3,1,28367,,,0,"Fix the error of parameter passing

Change-Id: Ia32c2262d4d871c31b141c23e8f49bade7720a8a
Signed-off-by: ZijianGuo <guozijn@gmail.com>
",git fetch https://review.opendev.org/openstack/python-zaqarclient refs/changes/31/739931/1 && git format-patch -1 --stdout FETCH_HEAD,['zaqarclient/queues/v2/cli.py'],1,27a628f03b81917dbddae9eec6861d11c577fe15,kwargs," subscription = client.subscription(parsed_args.queue_name, auto_create=False, **kwargs)"," subscription = client.subscription(parsed_args.queue_name, kwargs, auto_create=False)",2,2
openstack%2Foctavia~master~Id52745f4751a62c53afbde94038b18b614f9b2dd,openstack/octavia,master,Id52745f4751a62c53afbde94038b18b614f9b2dd,Remove translation sections from setup.cfg,MERGED,2020-05-14 10:55:50.000000000,2020-07-08 10:26:55.000000000,2020-07-08 10:22:13.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17130}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-05-14 10:55:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d11aa9803c5ff6a59ecb014a47a9efa9edc6d481', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Id52745f4751a62c53afbde94038b18b614f9b2dd\n'}, {'number': 2, 'created': '2020-05-15 18:16:25.000000000', 'files': ['babel.cfg', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/octavia/commit/2f610b953463a3d186ac1e86edd56e93b1115c98', 'message': 'Remove translation sections from setup.cfg\n\nThese translation sections are not needed anymore, Babel can\ngenerate translation files without them.\n\nChange-Id: Id52745f4751a62c53afbde94038b18b614f9b2dd\n'}]",0,728025,2f610b953463a3d186ac1e86edd56e93b1115c98,14,6,2,17130,,,0,"Remove translation sections from setup.cfg

These translation sections are not needed anymore, Babel can
generate translation files without them.

Change-Id: Id52745f4751a62c53afbde94038b18b614f9b2dd
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/728025/2 && git format-patch -1 --stdout FETCH_HEAD,"['babel.cfg', 'setup.cfg']",2,d11aa9803c5ff6a59ecb014a47a9efa9edc6d481,,, [compile_catalog] directory = octavia/locale domain = octavia [update_catalog] domain = octavia output_dir = octavia/locale input_file = octavia/locale/octavia.pot [extract_messages] keywords = _ gettext ngettext l_ lazy_gettext mapping_file = babel.cfg output_file = octavia/locale/octavia.pot,0,16
openstack%2Fironic~master~I8f6abbad1612311887f16a88c0fd3b7de8659e27,openstack/ironic,master,I8f6abbad1612311887f16a88c0fd3b7de8659e27,Add documentation on how to propose a release,MERGED,2020-07-07 08:38:43.000000000,2020-07-08 10:22:16.000000000,2020-07-08 10:14:05.000000000,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 08:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e961538c7c97484f2605bad26881acf4b1e1f4ca', 'message': 'Add documentation on how to propose a release\n\nChange-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27\n'}, {'number': 2, 'created': '2020-07-07 08:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/518405788cf83965a4efc09daa4949f4e55417e0', 'message': 'Add documentation on how to propose a release\n\nChange-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27\n'}, {'number': 3, 'created': '2020-07-07 09:04:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5aa5604646dae17f810a58932f549a35e87e94a', 'message': 'Add documentation on how to propose a release\n\nChange-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27\n'}, {'number': 4, 'created': '2020-07-08 06:57:45.000000000', 'files': ['doc/source/contributor/releasing.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/759b722a5951d8d610e02bd491898702af7044dd', 'message': 'Add documentation on how to propose a release\n\nChange-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27\n'}]",6,739678,759b722a5951d8d610e02bd491898702af7044dd,22,6,4,23851,,,0,"Add documentation on how to propose a release

Change-Id: I8f6abbad1612311887f16a88c0fd3b7de8659e27
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/739678/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/releasing.rst'],1,e961538c7c97484f2605bad26881acf4b1e1f4ca,propose-release,"* Check for any open patches that are close to be merged or release critical. This usually includes important bug fixes and/or features that we'd like to release, including the related documentation. How to propose a release ======================== The steps that lead to a release proposal are mainly manual, while proposing the release itself is almost a 100% automated process, accomplished by following the next steps: * Clone the `openstack/releases <https://opendev.org/openstack/releases>`_ repository. This is where deliverables are tracked and all the automation resides. * Under the ``deliverables`` directory you can see yaml files for each deliverable (i.e. subproject) grouped by release cycles. * The ``_independent`` directory contains yaml files for deliverables that are not bound to (official) cycles (e.g. ironic-python-agent-builder). * To check the changes we're about to release we can use the script ``list_unreleased_changes.sh``, that can be found under the ``tools`` directory, with this syntax: .. code-block:: bash list_unreleased_changes.sh <branch> <deliverable> The ``branch`` argument is a branch, not a release series (i.e. master or stable/train, not ussuri or train). For example, assuming we're in the main directory of the releases repository, to check the changes in the master branch for ironic-python-agent-builder type: .. code-block:: bash ./toos/list_unreleased_changes.sh master openstack/ironic-python-agent-builder * To update the deliverable file for the new release, we use a scripted process in the form of a tox environment called ``new-release``. To get familiar with it and see all the options, type: .. code-block:: bash tox -e venv -- new-release -h Now, based on the list of changes we found in the precedent step, and the release notes, we need to decide on whether the next version will be major, minor (feature) or patch (bugfix). Note that in this case ``series`` is a code name (train, ussuri), not a branch. The ``--stable-branch argument`` is used only for branching in the end of a cycle, independent projects are not branched this way though. To propose the release, use the script to update the deliverable file, then commit the change, and propose it for review. For example, to propose a minor release for ironic in the master branch use: .. code-block:: bash tox -e venv -- new-release -v master ironic feature Remember to use a meaningful topic, usually using the name of the deliverable, the new version and the branch, if applicable. A good commit message title should also include the same, for example ""Release ironic 1.2.3 for ussuri"" * As an optional step, we can use ``tox -e list-changes`` to double-check the changes before submitting them for review. Also ``tox -e validate`` (it might take a while to run based on the numbed of changes) does some some sanity-checks, but since everything is scripted, there shouldn't be any issue. All the scripts are designed and maintained by the release team; in case of questions or doubts or if any errors should arise, you can reach to them in the IRC channel ``#openstack-release``; all release liaisons should be present there. * After the change is up for review, the PTL or equivalent will have to approve it before it can get approved by the release team. Then, it will be processed automatically by zuul. ",,90,0
openstack%2Fcharm-swift-proxy~master~I2d29812dc370065b010c49adbcc090c30b2d327e,openstack/charm-swift-proxy,master,I2d29812dc370065b010c49adbcc090c30b2d327e,Updates for 20.08 cycle start for groovy and libs,MERGED,2020-06-02 13:37:18.000000000,2020-07-08 10:22:12.000000000,2020-07-08 10:22:12.000000000,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 24824}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-06-02 13:37:18.000000000', 'files': ['charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6f4fdc97e98266413a4f65210483327a2c6e021e', 'message': 'Updates for 20.08 cycle start for groovy and libs\n\n- Adds groovy to the series in the metadata\n- Classic charms: sync charm-helpers.\n- Classic ceph based charms:  also sync charms.ceph\n- Reactive charms: trigger a rebuild\n\nChange-Id: I2d29812dc370065b010c49adbcc090c30b2d327e\n'}]",0,732676,6f4fdc97e98266413a4f65210483327a2c6e021e,16,5,1,20870,,,0,"Updates for 20.08 cycle start for groovy and libs

- Adds groovy to the series in the metadata
- Classic charms: sync charm-helpers.
- Classic ceph based charms:  also sync charms.ceph
- Reactive charms: trigger a rebuild

Change-Id: I2d29812dc370065b010c49adbcc090c30b2d327e
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/76/732676/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/peerstorage/__init__.py', 'charmhelpers/fetch/snap.py', 'charmhelpers/contrib/storage/linux/ceph.py', 'metadata.yaml']",4,6f4fdc97e98266413a4f65210483327a2c6e021e,batch-groovy-ch-libs," OpenStack Object Storage (code-named Swift) is open source software for creating redundant, scalable object storage using clusters of standardized servers to store petabytes of accessible data. It is not a file system or real-time data storage system, but rather a long-term storage system for a more permanent type of static data that can be retrieved, leveraged, and then updated if necessary. Primary examples of data that best fit this type of storage model are virtual machine images, photo storage, email storage and backup archiving. Having no central ""brain"" or master point of control provides greater scalability, redundancy and permanence. . This charm deploys the Swift proxy service, providing HTTP based access onto underlying Swift storage services. tags: - openstack - cache-proxy series: - xenial - bionic - eoan - focal - trusty - groovy"," OpenStack Object Storage (code-named Swift) is open source software for creating redundant, scalable object storage using clusters of standardized servers to store petabytes of accessible data. It is not a file system or real-time data storage system, but rather a long-term storage system for a more permanent type of static data that can be retrieved, leveraged, and then updated if necessary. Primary examples of data that best fit this type of storage model are virtual machine images, photo storage, email storage and backup archiving. Having no central ""brain"" or master point of control provides greater scalability, redundancy and permanence. . This charm deploys the Swift proxy service, providing HTTP based access onto underlying Swift storage services. tags: - openstack - cache-proxy series: - xenial - bionic - eoan - focal - trusty",26,25
openstack%2Fnova~master~Iebe2f629a2dcd6430dbce080243afbd3b4b509b9,openstack/nova,master,Iebe2f629a2dcd6430dbce080243afbd3b4b509b9,WIP: Sanity check for NumInstancesFilter,NEW,2017-12-22 17:39:37.000000000,2020-07-08 10:20:19.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2017-12-22 17:39:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/26467087baac534b0b0931490843ca02e6c51a10', 'message': 'WIP: Sanity check for NumInstancesFilter\n\nSomeone was reporting that num_instances was 0 when the\nnode clearly had instances on it, so this change adds a\nsanity check and logs a warning so we can see if this can\nbe hit in CI testing.\n\nChange-Id: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9\n'}, {'number': 2, 'created': '2020-07-07 07:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9f928c5d941ba6e6ab53cf93162ae966b99d06e', 'message': 'WIP: Sanity check for NumInstancesFilter\n\nSomeone was reporting that num_instances was 0 when the\nnode clearly had instances on it, so this change adds a\nsanity check and logs a warning so we can see if this can\nbe hit in CI testing.\n\nChange-Id: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9\n'}, {'number': 3, 'created': '2020-07-07 07:08:08.000000000', 'files': ['nova/scheduler/filters/num_instances_filter.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d5f8a3521e9ab8a9dc750ab1d948f14f7a4b3a9e', 'message': 'WIP: Sanity check for NumInstancesFilter\n\nSomeone was reporting that num_instances was 0 when the\nnode clearly had instances on it, so this change adds a\nsanity check and logs a warning so we can see if this can\nbe hit in CI testing.\n\nRelated-Bug: #1740320\n\nChange-Id: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9\n'}]",1,529866,d5f8a3521e9ab8a9dc750ab1d948f14f7a4b3a9e,28,15,3,6873,,,0,"WIP: Sanity check for NumInstancesFilter

Someone was reporting that num_instances was 0 when the
node clearly had instances on it, so this change adds a
sanity check and logs a warning so we can see if this can
be hit in CI testing.

Related-Bug: #1740320

Change-Id: Iebe2f629a2dcd6430dbce080243afbd3b4b509b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/529866/3 && git format-patch -1 --stdout FETCH_HEAD,['nova/scheduler/filters/num_instances_filter.py'],1,26467087baac534b0b0931490843ca02e6c51a10,num-instances-filter," # Sanity check for num_instances which comes from stats on the # ComputeNode and when a host is claimed for a given request. # If the node is reporting 0 tracked instances but HostState.instances # is tracking something, we have a problem. if num_instances == 0 and num_instances != len(host_state.instances): LOG.warning('Reported number of instances (%i) does not match ' 'the tracked number of instances (%i).', num_instances, len(host_state.instances))",,8,0
openstack%2Fnetworking-ovn~stable%2Frocky~Ia0ba2e78d4f97294a93ff127d9098978af21ba53,openstack/networking-ovn,stable/rocky,Ia0ba2e78d4f97294a93ff127d9098978af21ba53,Fix broken gate because of OVS module compilation,MERGED,2020-06-24 14:25:21.000000000,2020-07-08 10:17:43.000000000,2020-07-08 10:17:43.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-06-24 14:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7ca6fdf65f40feeacd0f113179ae8e14861fec04', 'message': 'Fix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 2, 'created': '2020-07-07 09:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e9cd98f21b79fd42904770aac5dcfc8b9643dc62', 'message': 'Fix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nThere is no need to compile OVS kernel module for functional tests,\nso disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 3, 'created': '2020-07-07 12:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1ec41f35bbc1a2b344ef118cb31c85dbb8ee4cd8', 'message': 'Fix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nThere is no need to compile OVS kernel module for tempest and\nfunctional tests, so disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 4, 'created': '2020-07-07 12:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d27d7c9dbf4e13482cf7e658fa023482f648e74e', 'message': 'Fix broken gate because of OVS module compilation\n\nFix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nThere is no need to compile OVS kernel module for tempest and\nfunctional tests, so disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 5, 'created': '2020-07-07 13:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4998068b420c2c7459912e12b387a70cbc61ba94', 'message': 'Fix broken gate because of OVS module compilation\n\nFix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nUpdate OVS/OVN to version 2.12 in order to have possibility to\ncompile it under Ubuntu Bionic.\n\nThere is no need to compile OVS kernel module for tempest and\nfunctional tests, so disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 6, 'created': '2020-07-07 13:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/851747f93ebdd4b641e5e5b785384e683db1f6c4', 'message': 'Fix broken gate because of OVS module compilation\n\nFix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nUpdate OVS/OVN to version 2.12 in order to have possibility to\ncompile it under Ubuntu Bionic.\n\nThere is no need to compile OVS kernel module for tempest and\nfunctional tests, so disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}, {'number': 7, 'created': '2020-07-07 14:39:09.000000000', 'files': ['networking_ovn/tests/contrib/gate_hook.sh', 'zuul.d/networkin-ovn-rally-task.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional/run.yaml', 'playbooks/legacy/networking-ovn-dsvm-functional-py27/run.yaml', 'devstack/lib/networking-ovn', 'devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b623c77e72e4d312c2d6c4bfe2efe4637d416520', 'message': 'Fix broken gate because of OVS module compilation\n\nFix functional jobs by installing missing dependencies\n\nSix is needed for the OVS/OVN compilation and tox to run the tests\nitself.\n\nUpdate OVS/OVN to version 2.12 in order to have possibility to\ncompile it under Ubuntu Bionic.\n\nThere is no need to compile OVS kernel module for functional tests,\nso disable it.\n\nChange-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nCo-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>\n(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)\n'}]",0,737816,b623c77e72e4d312c2d6c4bfe2efe4637d416520,16,4,7,24791,,,0,"Fix broken gate because of OVS module compilation

Fix functional jobs by installing missing dependencies

Six is needed for the OVS/OVN compilation and tox to run the tests
itself.

Update OVS/OVN to version 2.12 in order to have possibility to
compile it under Ubuntu Bionic.

There is no need to compile OVS kernel module for functional tests,
so disable it.

Change-Id: Ia0ba2e78d4f97294a93ff127d9098978af21ba53
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Co-Authored-By: Maciej Jzefczyk <mjozefcz@redhat.com>
(cherry picked from commit b568395182bd6c9d1c6046375adfa44289c757b0)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/16/737816/4 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/contrib/gate_hook.sh'],1,7ca6fdf65f40feeacd0f113179ae8e14861fec04,, if python3_enabled; then install_package python3-six python3-tox else install_package python-six python-tox fi, sudo pip install six,5,1
openstack%2Fdiskimage-builder~master~If2402bb02fc8a4778fa9434fa167ea1fafd87c28,openstack/diskimage-builder,master,If2402bb02fc8a4778fa9434fa167ea1fafd87c28,Fix DIB scripts python version,MERGED,2020-07-07 19:53:52.000000000,2020-07-08 10:09:15.000000000,2020-07-08 10:06:50.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-07 19:53:52.000000000', 'files': ['diskimage_builder/elements/package-installs/bin/package-installs-squash', 'diskimage_builder/lib/outfilter.py', 'diskimage_builder/lib/common-functions', 'diskimage_builder/lib/disk-image-create', 'diskimage_builder/lib/img-functions', 'diskimage_builder/elements/svc-map/extra-data.d/10-merge-svc-map-files'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8b08d212c30c3c75eb23084f1e5552f970fe8b1d', 'message': 'Fix DIB scripts python version\n\nNow that DIB is python3 only we can remove a hack that made sure\nscripts outside the chroot ran with the correct version of python.\nThis is necessary as python3 does not resolve symbolic links to the\nbinary like python2.x did, which causes element scripts to fail finding\nmodules when DIB was run from inside a venv.\n\nThis patch does the following:\n1. Reverts 9c7b8d17144ae04dcd56cd736a8f05c76ec87cc1 which was the\n   workaround for mixed python2/3 environments.\n2. Updates the scripts to use ""python3"" instead of ""python"".\n\nChange-Id: If2402bb02fc8a4778fa9434fa167ea1fafd87c28\n'}]",0,739844,8b08d212c30c3c75eb23084f1e5552f970fe8b1d,14,8,1,11628,,,0,"Fix DIB scripts python version

Now that DIB is python3 only we can remove a hack that made sure
scripts outside the chroot ran with the correct version of python.
This is necessary as python3 does not resolve symbolic links to the
binary like python2.x did, which causes element scripts to fail finding
modules when DIB was run from inside a venv.

This patch does the following:
1. Reverts 9c7b8d17144ae04dcd56cd736a8f05c76ec87cc1 which was the
   workaround for mixed python2/3 environments.
2. Updates the scripts to use ""python3"" instead of ""python"".

Change-Id: If2402bb02fc8a4778fa9434fa167ea1fafd87c28
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/44/739844/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/package-installs/bin/package-installs-squash', 'diskimage_builder/lib/outfilter.py', 'diskimage_builder/lib/common-functions', 'diskimage_builder/lib/disk-image-create', 'diskimage_builder/lib/img-functions', 'diskimage_builder/elements/svc-map/extra-data.d/10-merge-svc-map-files']",6,8b08d212c30c3c75eb23084f1e5552f970fe8b1d,,#!/usr/bin/env python3,#!/usr/bin/env python,3,21
openstack%2Ftripleo-heat-templates~master~I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7,openstack/tripleo-heat-templates,master,I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7,[DNM] Drop noop isolated network resources,ABANDONED,2020-03-31 11:18:04.000000000,2020-07-08 09:46:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-03-31 11:18:04.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64ba688543c23139fe4352c3c323a7e45ab9213f', 'message': ""[DNM] Drop noop isolated network resources\n\nThis change is probably going to break a lot of CI.\n\nWe have always had the issue of operators accidentally\nforgetting to include environments/network-isolation.yaml\non an stack update, which result in the defaults for all\nisolated networks in overcloud-resource-registry-puppet to\nkick in and replace everything with NOOP.\n\nNot including these resources in overcloud-resource-registry-puppet\nshould instead cause a heat validation error before anything bad\nhappens. This is an attemt at remove one gun so there is less chance\nfor the operator too shoot themselves in the foot.\n\nIf this change is merged deployment's without isolated networks will\nhave to specify /dev/null or a network_data.yaml with all networks\nremoved or disabled.\n\nChange-Id: I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7\n""}]",0,716243,64ba688543c23139fe4352c3c323a7e45ab9213f,5,3,1,24245,,,0,"[DNM] Drop noop isolated network resources

This change is probably going to break a lot of CI.

We have always had the issue of operators accidentally
forgetting to include environments/network-isolation.yaml
on an stack update, which result in the defaults for all
isolated networks in overcloud-resource-registry-puppet to
kick in and replace everything with NOOP.

Not including these resources in overcloud-resource-registry-puppet
should instead cause a heat validation error before anything bad
happens. This is an attemt at remove one gun so there is less chance
for the operator too shoot themselves in the foot.

If this change is merged deployment's without isolated networks will
have to specify /dev/null or a network_data.yaml with all networks
removed or disabled.

Change-Id: I0fddd2dd4619556aa8c8e2bb5e66cc882e033cf7
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/716243/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,64ba688543c23139fe4352c3c323a7e45ab9213f,drop-noop-defaults-in-resource-registry,, # Port assignments for the {{role.name}} role {%- for network in networks if network.enabled|default(true) and network.name in role.networks|default([]) %} OS::TripleO::{{role.name}}::Ports::{{network.name}}Port: network/ports/noop.yaml {%- endfor %} {%- for network in networks if network.enabled|default(true) %} OS::TripleO::Network::{{network.name}}: OS::Heat::None {%- endfor %} # Port assignments for the VIPs {%- for network in networks if network.vip|default(false) and network.enabled|default(true) %} OS::TripleO::Network::Ports::{{network.name}}VipPort: network/ports/noop.yaml {%- endfor %} ,0,13
openstack%2Fneutron~stable%2Fqueens~I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,openstack/neutron,stable/queens,I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6,[OVS] Make QoS OVS agent deletion operations more resilient,MERGED,2020-06-26 09:24:52.000000000,2020-07-08 09:41:52.000000000,2020-07-08 09:41:52.000000000,"[{'_account_id': 4694}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-26 09:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3d0d5997ee9aae48a16a5cf7650427a773caf365', 'message': '[OVS] Make QoS OVS agent deletion operations more resilient\n\nWhen a Port is deleted, the QoS extension will reset any rule (QoS\nand Queue registers) applied on this port or will reset the\nrelated Interface policing parameters.\n\nIf the Port and the related Interface are deleted during the QoS\nextension operation, those commands will fail. This patch makes those\noperations more resiliant by not checking the errors when writing on\nthe Port or the Interface register.\n\nChange-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6\nCloses-Bug: #1884512\n(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)\n(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)\n(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)\n(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)\n(cherry picked from commit 32e08a55edeb13eb575ec2d9181f17cb6906f528)\n'}, {'number': 2, 'created': '2020-07-03 10:17:24.000000000', 'files': ['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/583c0313edb35afdc0afe94914f2e568cfe7a657', 'message': '[OVS] Make QoS OVS agent deletion operations more resilient\n\nWhen a Port is deleted, the QoS extension will reset any rule (QoS\nand Queue registers) applied on this port or will reset the\nrelated Interface policing parameters.\n\nIf the Port and the related Interface are deleted during the QoS\nextension operation, those commands will fail. This patch makes those\noperations more resiliant by not checking the errors when writing on\nthe Port or the Interface register.\n\nNOTE: this patch is squashed with [1]. That will fix the problem\nwith empty ""vsctl"" transactions when using this OVS DB implementation.\n\n[1]https://review.opendev.org/#/c/738574/\n\nChange-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6\nCloses-Bug: #1884512\n(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)\n(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)\n(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)\n(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)\n(cherry picked from commit 94271ad8661a36558172d141a84fdd3891786090)\n'}]",0,738173,583c0313edb35afdc0afe94914f2e568cfe7a657,23,5,2,16688,,,0,"[OVS] Make QoS OVS agent deletion operations more resilient

When a Port is deleted, the QoS extension will reset any rule (QoS
and Queue registers) applied on this port or will reset the
related Interface policing parameters.

If the Port and the related Interface are deleted during the QoS
extension operation, those commands will fail. This patch makes those
operations more resiliant by not checking the errors when writing on
the Port or the Interface register.

NOTE: this patch is squashed with [1]. That will fix the problem
with empty ""vsctl"" transactions when using this OVS DB implementation.

[1]https://review.opendev.org/#/c/738574/

Change-Id: I2cc4cdf5be25fab6adbc64acabb3fffebb693fa6
Closes-Bug: #1884512
(cherry picked from commit e2d1c2869a2c8883157d29cf47d7a5236e63dbc1)
(cherry picked from commit 84ac8cf9ffb66d826d9d7875bb0d1addc9120034)
(cherry picked from commit 3785868bfb387002f4a89d3fa18c20210e8f17db)
(cherry picked from commit 7edfb0ef4aba338e0225dffda7c8bf0918ef71cb)
(cherry picked from commit 94271ad8661a36558172d141a84fdd3891786090)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/738173/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/ovs_lib.py', 'neutron/tests/unit/agent/common/test_ovs_lib.py']",2,3d0d5997ee9aae48a16a5cf7650427a773caf365,bug/1884512," set_egress_mock.assert_called_once_with(""test_port"", 0, 0, check_error=False)"," set_egress_mock.assert_called_once_with(""test_port"", 0, 0)",7,8
openstack%2Frally~master~I4a10dda03078c51380e8faad7684d2ba810f097f,openstack/rally,master,I4a10dda03078c51380e8faad7684d2ba810f097f,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 12:16:34.000000000,2020-07-08 09:40:57.000000000,2020-07-08 09:40:57.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 12:16:34.000000000', 'files': ['tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/rally/commit/7a5e8945f1ef70a76ba7de172c60b049e84c68f2', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I4a10dda03078c51380e8faad7684d2ba810f097f\n'}]",0,739361,7a5e8945f1ef70a76ba7de172c60b049e84c68f2,6,2,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I4a10dda03078c51380e8faad7684d2ba810f097f
",git fetch https://review.opendev.org/openstack/rally refs/changes/61/739361/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/unit/common/test_utils.py'],1,7a5e8945f1ef70a76ba7de172c60b049e84c68f2,, self.assertCountEqual(, self.assertItemsEqual(,1,1
openstack%2Freleases~master~I8ca4ca8f72d374a2fee026acb397b8005254a0c9,openstack/releases,master,I8ca4ca8f72d374a2fee026acb397b8005254a0c9,Release ironic-python-agent 5.0.3 for train,MERGED,2020-07-07 09:07:33.000000000,2020-07-08 09:30:32.000000000,2020-07-08 09:30:32.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 09:07:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3c5901c96e1afe0688a138f9d752359e95bb86c7', 'message': 'Release ironic-pytho-agent 5.0.3 for train\n\nChange-Id: I8ca4ca8f72d374a2fee026acb397b8005254a0c9\n'}, {'number': 2, 'created': '2020-07-07 09:49:22.000000000', 'files': ['deliverables/train/ironic-python-agent.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/db5f30215776b867162fbd98300fc4572920f3b6', 'message': 'Release ironic-python-agent 5.0.3 for train\n\nChange-Id: I8ca4ca8f72d374a2fee026acb397b8005254a0c9\n'}]",0,739681,db5f30215776b867162fbd98300fc4572920f3b6,11,4,2,23851,,,0,"Release ironic-python-agent 5.0.3 for train

Change-Id: I8ca4ca8f72d374a2fee026acb397b8005254a0c9
",git fetch https://review.opendev.org/openstack/releases refs/changes/81/739681/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic-python-agent.yaml'],1,3c5901c96e1afe0688a138f9d752359e95bb86c7,ironic-python-agent-train-503, - version: 5.0.3 projects: - repo: openstack/ironic-python-agent hash: 46759750e0d34296c218a71c78cc7b60115693ef,,4,0
openstack%2Freleases~master~I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d,openstack/releases,master,I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d,Release ironic 13.0.5 for train,MERGED,2020-07-07 07:42:46.000000000,2020-07-08 09:30:31.000000000,2020-07-08 09:30:31.000000000,"[{'_account_id': 10239}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-07 07:42:46.000000000', 'files': ['deliverables/train/ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/cded38f4a79328f9d0dc63af532a6ce887273923', 'message': 'Release ironic 13.0.5 for train\n\nChange-Id: I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d\n'}]",0,739671,cded38f4a79328f9d0dc63af532a6ce887273923,11,5,1,23851,,,0,"Release ironic 13.0.5 for train

Change-Id: I3d02f8fe15a7afb0e2c13fa7ab0207c98314a68d
",git fetch https://review.opendev.org/openstack/releases refs/changes/71/739671/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/ironic.yaml'],1,cded38f4a79328f9d0dc63af532a6ce887273923,release-ironic-train-1305, - version: 13.0.5 projects: - repo: openstack/ironic hash: ecd64ea2caf5a92233e3bfc0d9935f02e487656a,,4,0
openstack%2Fkolla~stable%2Fussuri~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/ussuri,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:44:54.000000000,2020-07-08 09:30:14.000000000,2020-07-08 09:26:34.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 14:44:54.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e667c10c67f7bbbc7682c775a37b35ad064697ad', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)\n'}]",0,739507,e667c10c67f7bbbc7682c775a37b35ad064697ad,10,4,1,30491,,,0,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/739507/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml']",2,e667c10c67f7bbbc7682c775a37b35ad064697ad,disable-systemd-getent-stable/ussuri,--- fixes: - | Drop systemd support from nsswitch.conf on RHEL-based distros. This avoids unneeded systemd nss lookups inside containers and it also avoids possible selinux denials when a container bind mounts /run and makes the dbus socket available inside the container only to be denied by selinux on the host. ,,9,1
openstack%2Fkolla~stable%2Ftrain~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/train,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:45:03.000000000,2020-07-08 09:30:03.000000000,2020-07-08 09:26:33.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 14:45:03.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0e6465543e4ae91c9b791944444e72905a716a6d', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)\n'}]",0,739508,0e6465543e4ae91c9b791944444e72905a716a6d,9,4,1,30491,,,0,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/739508/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml']",2,0e6465543e4ae91c9b791944444e72905a716a6d,disable-systemd-getent-stable/ussuri-stable/train,--- fixes: - | Drop systemd support from nsswitch.conf on RHEL-based distros. This avoids unneeded systemd nss lookups inside containers and it also avoids possible selinux denials when a container bind mounts /run and makes the dbus socket available inside the container only to be denied by selinux on the host. ,,9,1
openstack%2Fkolla~stable%2Fstein~I81e5b7abf4571fece13a029e25911e9e4dece673,openstack/kolla,stable/stein,I81e5b7abf4571fece13a029e25911e9e4dece673,Drop systemd support from nsswitch.conf on RHEL-based distros,MERGED,2020-07-06 14:45:10.000000000,2020-07-08 09:30:00.000000000,2020-07-08 09:26:36.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 14:45:10.000000000', 'files': ['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7038e3ff03c6d08e7b794f9087675964ddbbed0a', 'message': 'Drop systemd support from nsswitch.conf on RHEL-based distros\n\nA bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we\nshould remove the nss-systemd lookup from containers. The reasons for\nthis are as follows:\n1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5\nwhen this nss module is triggered it tries to talk to dbus.\nIt triggers a bunch of selinux denials and it makes little sense\nto open all containers to talk to dbus.\nIn particular, if a container is run as non-privileged and bind-mounts\n/run from the host, we will hit selinux denials like the following:\n\n  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg=\'avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?\'UID=""dbus"" AUID=""unset"" SAUID=""dbus""\n\n2) It just makes little sense in a kolla-world to have containers\ntalk to dbus/systemd and it saves us some time when a lookup triggers\nthe systemd module for whatever reason. Especially because the\nnss-systemd module does a few things which are not useful in a container\n(ensures that the root and nobody users and groups remain resolvable,\nSystemD\'s DynamicUser= feature, provide Lookup API via Varlink)\n\nThe sed regex gives us the wanted results:\n$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf\n--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000\n+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000\n@@ -53,9 +53,9 @@\n # group:     db files\n\n # In order of likelihood of use to accelerate lookup.\n-passwd:      sss files systemd\n+passwd:      sss files\n shadow:     files sss\n-group:       sss files systemd\n+group:       sss files\n hosts:      files dns myhostname\n services:   files sss\n netgroup:   sss\n\nRelated-Bug: #1883849\n\nChange-Id: I81e5b7abf4571fece13a029e25911e9e4dece673\n(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)\n'}]",0,739509,7038e3ff03c6d08e7b794f9087675964ddbbed0a,8,4,1,30491,,,0,"Drop systemd support from nsswitch.conf on RHEL-based distros

A bit like we did for I3e0e86026f5a4a78473bed824cd1682d3a020cd5 we
should remove the nss-systemd lookup from containers. The reasons for
this are as follows:
1) Just like for I3e0e86026f5a4a78473bed824cd1682d3a020cd5
when this nss module is triggered it tries to talk to dbus.
It triggers a bunch of selinux denials and it makes little sense
to open all containers to talk to dbus.
In particular, if a container is run as non-privileged and bind-mounts
/run from the host, we will hit selinux denials like the following:

  type=USER_AVC msg=audit(1592337775.860:74119): pid=1284 uid=81 auid=4294967295 ses=4294967295 subj=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 msg='avc:  denied  { send_msg } for msgtype=method_call interface=org.freedesktop.DBus member=Hello dest=org.freedesktop.DBus spid=406228 scontext=system_u:system_r:container_t:s0:c162,c886 tcontext=system_u:system_r:system_dbusd_t:s0-s0:c0.c1023 tclass=dbus permissive=0  exe=""/usr/bin/dbus-daemon"" sauid=81 hostname=? addr=? terminal=?'UID=""dbus"" AUID=""unset"" SAUID=""dbus""

2) It just makes little sense in a kolla-world to have containers
talk to dbus/systemd and it saves us some time when a lookup triggers
the systemd module for whatever reason. Especially because the
nss-systemd module does a few things which are not useful in a container
(ensures that the root and nobody users and groups remain resolvable,
SystemD's DynamicUser= feature, provide Lookup API via Varlink)

The sed regex gives us the wanted results:
$ diff -u /etc/nsswitch.conf.orig /etc/nsswitch.conf
--- /etc/nsswitch.conf.orig     2020-06-19 07:18:10.974580755 +0000
+++ /etc/nsswitch.conf  2020-06-19 07:20:12.260230103 +0000
@@ -53,9 +53,9 @@
 # group:     db files

 # In order of likelihood of use to accelerate lookup.
-passwd:      sss files systemd
+passwd:      sss files
 shadow:     files sss
-group:       sss files systemd
+group:       sss files
 hosts:      files dns myhostname
 services:   files sss
 netgroup:   sss

Related-Bug: #1883849

Change-Id: I81e5b7abf4571fece13a029e25911e9e4dece673
(cherry picked from commit dc2ddfa9750f94430a5b04b62fc1fa6adcb234f8)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/739509/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'releasenotes/notes/disable-systemd-nss-on-rhel-based-distros-5d586fcdb9a82da7.yaml']",2,7038e3ff03c6d08e7b794f9087675964ddbbed0a,disable-systemd-getent-stable/ussuri-stable/train-stable/stein,--- fixes: - | Drop systemd support from nsswitch.conf on RHEL-based distros. This avoids unneeded systemd nss lookups inside containers and it also avoids possible selinux denials when a container bind mounts /run and makes the dbus socket available inside the container only to be denied by selinux on the host. ,,9,1
openstack%2Fironic~master~If6fc0b99c4cb8654ba0b50400d51a184518a32cb,openstack/ironic,master,If6fc0b99c4cb8654ba0b50400d51a184518a32cb,Do not verify error messages from jsonpatch in unit tests,MERGED,2020-07-07 15:44:06.000000000,2020-07-08 09:24:03.000000000,2020-07-08 09:06:29.000000000,"[{'_account_id': 14288}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 15:44:06.000000000', 'files': ['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/addbdf7c2b325288d9a024e699fd5d626b6885aa', 'message': 'Do not verify error messages from jsonpatch in unit tests\n\nThey are not guaranteed to be stable and actually change in the next\nversion of jsonpatch.\n\nChange-Id: If6fc0b99c4cb8654ba0b50400d51a184518a32cb\n'}]",0,739803,addbdf7c2b325288d9a024e699fd5d626b6885aa,11,6,1,10239,,,0,"Do not verify error messages from jsonpatch in unit tests

They are not guaranteed to be stable and actually change in the next
version of jsonpatch.

Change-Id: If6fc0b99c4cb8654ba0b50400d51a184518a32cb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/03/739803/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/api/controllers/v1/test_utils.py', 'ironic/tests/unit/api/controllers/v1/test_deploy_template.py']",2,addbdf7c2b325288d9a024e699fd5d626b6885aa,jsonpatch," def _test_update_bad_request(self, mock_save, patch, error_msg=None): if error_msg: self.assertRegex(response.json['error_message'], error_msg) self._test_update_bad_request(mock_save, patch) def _test_remove_not_allowed(self, mock_save, field, error_msg=None): self._test_remove_not_allowed(mock_save, 'foo') self._test_update_bad_request(mock_save, patch) self._test_update_bad_request(mock_save, patch) self._test_update_bad_request(mock_save, patch) self._test_update_bad_request(mock_save, patch)"," def _test_update_bad_request(self, mock_save, patch, error_msg): self.assertRegex(response.json['error_message'], error_msg) self._test_update_bad_request( mock_save, patch, ""list assignment index out of range|"" ""can't replace outside of list"") def _test_remove_not_allowed(self, mock_save, field, error_msg): self._test_remove_not_allowed( mock_save, 'foo', ""can't remove non-existent object 'foo'"") self._test_update_bad_request( mock_save, patch, ""can't remove non-existent object 'non-existent'"") self._test_update_bad_request( mock_save, patch, ""can't remove non-existent object '1'"") self._test_update_bad_request( mock_save, patch, ""can't remove non-existent object 'non-existent'"") self._test_update_bad_request( mock_save, patch, ""can't insert outside of list"")",14,25
openstack%2Fcinder~stable%2Frocky~I08487575e52c5cfd5a268a23d97b6bd931aeaa45,openstack/cinder,stable/rocky,I08487575e52c5cfd5a268a23d97b6bd931aeaa45,Fix service_uuid migration for volumes with no host,MERGED,2019-12-05 15:31:26.000000000,2020-07-08 09:23:01.000000000,2020-01-03 19:33:02.000000000,"[{'_account_id': 1736}, {'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12369}, {'_account_id': 15197}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-12-05 15:31:26.000000000', 'files': ['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d70fc16718bce37404dd62aba24e2f0b7782a7cc', 'message': ""Fix service_uuid migration for volumes with no host\n\nFor volumes that have no host assigned, this\nmigration will fail.  Skip those volumes, as they\ndon't need to be updated.\n\nCloses-Bug: #1821207\nChange-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45\n(cherry picked from commit 47d2a98fa63fb1bdf122c8a40bd06ea9c1709855)\n(cherry picked from commit 997af3aa6b55d24c55c7cb9d179ca63819e40157)\n""}]",0,697502,d70fc16718bce37404dd62aba24e2f0b7782a7cc,35,16,1,15197,,,0,"Fix service_uuid migration for volumes with no host

For volumes that have no host assigned, this
migration will fail.  Skip those volumes, as they
don't need to be updated.

Closes-Bug: #1821207
Change-Id: I08487575e52c5cfd5a268a23d97b6bd931aeaa45
(cherry picked from commit 47d2a98fa63fb1bdf122c8a40bd06ea9c1709855)
(cherry picked from commit 997af3aa6b55d24c55c7cb9d179ca63819e40157)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/697502/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/test_db_api.py', 'cinder/db/sqlalchemy/api.py']",2,d70fc16718bce37404dd62aba24e2f0b7782a7cc,bug/1821207-stable/rocky, models.Volume).filter_by(service_uuid=None).\ filter(models.Volume.host.isnot(None)), models.Volume).filter_by(service_uuid=None),8,3
openstack%2Fironic~master~I27fee44d8c89ed5dff310822af2a103e5e6e682c,openstack/ironic,master,I27fee44d8c89ed5dff310822af2a103e5e6e682c,Log when a node should be fast-track-able but it's not,MERGED,2020-07-03 09:22:41.000000000,2020-07-08 09:15:25.000000000,2020-07-08 09:06:27.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-03 09:22:41.000000000', 'files': ['ironic/conductor/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/1a02c79ed135291814695462bad633d6464af266', 'message': ""Log when a node should be fast-track-able but it's not\n\nChange-Id: I27fee44d8c89ed5dff310822af2a103e5e6e682c\n""}]",0,739189,1a02c79ed135291814695462bad633d6464af266,14,7,1,10239,,,0,"Log when a node should be fast-track-able but it's not

Change-Id: I27fee44d8c89ed5dff310822af2a103e5e6e682c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/739189/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/conductor/utils.py'],1,1a02c79ed135291814695462bad633d6464af266,fast-track-log," if (not fast_track_able(task) or task.driver.power.get_power_state(task) != states.POWER_ON): if task.node.last_error: LOG.debug('Node %(node)s is not fast-track-able because it has ' 'an error: %(error)s', {'node': task.node.uuid, 'error': task.node.last_error}) return False if value_within_timeout( task.node.driver_internal_info.get('agent_last_heartbeat'), CONF.deploy.fast_track_timeout): return True else: LOG.debug('Node %(node)s should be fast-track-able, but the agent ' 'doesn\'t seem to be running. Last heartbeat: %(last)s', {'node': task.node.uuid, 'last': task.node.driver_internal_info.get( 'agent_last_heartbeat')}) return False"," return (fast_track_able(task) and value_within_timeout( task.node.driver_internal_info.get('agent_last_heartbeat'), CONF.deploy.fast_track_timeout) and task.driver.power.get_power_state(task) == states.POWER_ON)",19,5
openstack%2Fpython-tripleoclient~master~I555acc1553f4fb55f9aa34c990e476f685270da0,openstack/python-tripleoclient,master,I555acc1553f4fb55f9aa34c990e476f685270da0,Stop to use the __future__ module.,ABANDONED,2020-06-02 18:53:51.000000000,2020-07-08 09:04:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-02 18:53:51.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/workflows/baremetal.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/v1/tripleo_launch_heat.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_roles.py', 'tripleoclient/v1/overcloud_cell.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/122d62ae2a49fafe02226a7cedd7b07ca4e6b78c', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 [2] and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nImports commonly used and their related PEPs:\n- `division` is related to PEP 238 [3]\n- `print_function` is related to PEP 3105 [4]\n- `unicode_literals` is related to PEP 3112 [5]\n- `with_statement` is related to PEP 343 [6]\n- `absolute_import` is related to PEP 328 [7]\n\n[1] https://docs.python.org/3/library/__future__.html\n[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html\n[3] https://www.python.org/dev/peps/pep-0238\n[4] https://www.python.org/dev/peps/pep-3105\n[5] https://www.python.org/dev/peps/pep-3112\n[6] https://www.python.org/dev/peps/pep-0343\n[7] https://www.python.org/dev/peps/pep-0328\n\nChange-Id: I555acc1553f4fb55f9aa34c990e476f685270da0\n""}]",0,732938,122d62ae2a49fafe02226a7cedd7b07ca4e6b78c,10,3,1,28522,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 [2] and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Imports commonly used and their related PEPs:
- `division` is related to PEP 238 [3]
- `print_function` is related to PEP 3105 [4]
- `unicode_literals` is related to PEP 3112 [5]
- `with_statement` is related to PEP 343 [6]
- `absolute_import` is related to PEP 328 [7]

[1] https://docs.python.org/3/library/__future__.html
[2] https://governance.openstack.org/tc/goals/selected/ussuri/drop-py27.html
[3] https://www.python.org/dev/peps/pep-0238
[4] https://www.python.org/dev/peps/pep-3105
[5] https://www.python.org/dev/peps/pep-3112
[6] https://www.python.org/dev/peps/pep-0343
[7] https://www.python.org/dev/peps/pep-0328

Change-Id: I555acc1553f4fb55f9aa34c990e476f685270da0
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/732938/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/workflows/baremetal.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/v1/tripleo_launch_heat.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_roles.py', 'tripleoclient/v1/overcloud_cell.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py']",16,122d62ae2a49fafe02226a7cedd7b07ca4e6b78c,drop_future_imports,,from __future__ import print_function,0,23
openstack%2Fdesignate~master~Idef54da1134e14511f336911b7c82f6a0bb282ce,openstack/designate,master,Idef54da1134e14511f336911b7c82f6a0bb282ce,Replace mock with unittest.mock,ABANDONED,2020-07-08 05:31:39.000000000,2020-07-08 08:52:29.000000000,,"[{'_account_id': 6469}, {'_account_id': 6994}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 05:31:39.000000000', 'files': ['designate/tests/test_quota/test_quota.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/03fb2bf8605b6ab92bca346a4d00c4e08370fb38', 'message': 'Replace mock with unittest.mock\n\nUnittest is in the std library since py3\n\nChange-Id: Idef54da1134e14511f336911b7c82f6a0bb282ce\n'}]",0,739894,03fb2bf8605b6ab92bca346a4d00c4e08370fb38,5,3,1,6994,,,0,"Replace mock with unittest.mock

Unittest is in the std library since py3

Change-Id: Idef54da1134e14511f336911b7c82f6a0bb282ce
",git fetch https://review.opendev.org/openstack/designate refs/changes/94/739894/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/test_quota/test_quota.py'],1,03fb2bf8605b6ab92bca346a4d00c4e08370fb38,mock_removal, from unittest import mock,import mock ,1,1
openstack%2Ftripleo-ansible~master~Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,openstack/tripleo-ansible,master,Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77,Introduce an Action Plugin to fetch container infos,MERGED,2020-06-29 12:56:18.000000000,2020-07-08 08:41:32.000000000,2020-07-08 07:21:24.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 12:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/86d4a6eb4671439e465e40234fb15054dc092122', 'message': 'WIP containers_status module\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 2, 'created': '2020-06-29 22:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f69d7b69c23dfab97596ce6eba87ff8c28a052d', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 3, 'created': '2020-06-30 13:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23633d3f02ad2134317c9d0d29f7c0982fb89d07', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 4, 'created': '2020-06-30 18:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ad5bda3b2408972d35b837166bc61c502a712f3f', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 5, 'created': '2020-06-30 19:20:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/667dc41ac292480311c255619584c9e737efbaee', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 6, 'created': '2020-06-30 19:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7bf4cbe70ad45204bfbf0538eeafadefb79ed722', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 7, 'created': '2020-06-30 20:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02a1de44f21b6b94ff14fdac1c4b0926d379c6b3', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 8, 'created': '2020-06-30 21:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c82009de7fb56bc874c404adb7446c376c3c0d0d', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 9, 'created': '2020-06-30 21:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/68e31125e59a65ff3fbc2d6373c9a960af12696a', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 10, 'created': '2020-06-30 21:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/586e1a02f94358a1dda9480341f22c52862759c6', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 11, 'created': '2020-07-02 21:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd3d475a083a84f38e63086438cbde5f4dbf50d0', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 12, 'created': '2020-07-03 13:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ca61f148aaa138e0bc30e7231ad86529e7924722', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 13, 'created': '2020-07-03 13:31:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c608647dc1c12970092a325a6fdff696bc76027f', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}, {'number': 14, 'created': '2020-07-03 20:02:57.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/check_exit_code.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/get_commands_create.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml', 'tripleo_ansible/ansible_plugins/action/container_status.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/19774d0be436034ff2d5510d9cea2abbee296af1', 'message': 'Introduce an Action Plugin to fetch container infos\n\nInstead of running a bunch of tasks to figure out what container\ncommands have been run, which ones did not terminate after 5 minutes,\nwhich ones failed or finished with a wrong exit code. We now have an\naction plugin that will do it faster and with better logging.\n\nFaster before it reduces the number of tasks.\nBetter logging is provided, now displaying all errors during a run and\nfail at the end.\n\nSupporting check-mode.\n\nRe-using tripleo_container_manage role for molecule testing.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77\n'}]",9,738436,19774d0be436034ff2d5510d9cea2abbee296af1,57,5,14,3153,,,0,"Introduce an Action Plugin to fetch container infos

Instead of running a bunch of tasks to figure out what container
commands have been run, which ones did not terminate after 5 minutes,
which ones failed or finished with a wrong exit code. We now have an
action plugin that will do it faster and with better logging.

Faster before it reduces the number of tasks.
Better logging is provided, now displaying all errors during a run and
fail at the end.

Supporting check-mode.

Re-using tripleo_container_manage role for molecule testing.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: Ie7f8c9cceaf9540d7d33a9bb5f33258c46185e77
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/36/738436/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/action/containers_status.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/create.yml']",2,86d4a6eb4671439e465e40234fb15054dc092122,module/check_status,"- name: Check containers status containers_status: container_async_results: ""{{ create_async_poll_results.results }}"" container_data: ""{{ batched_container_data }}"" valid_exit_codes: ""{{ tripleo_container_manage_valid_exit_code }}"" # convert below here",,261,0
openstack%2Fcharm-nova-compute~master~I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e,openstack/charm-nova-compute,master,I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e,Add disco-stein bundle to gate tests,ABANDONED,2019-08-27 17:58:19.000000000,2020-07-08 08:27:09.000000000,,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30670}]","[{'number': 1, 'created': '2019-08-27 17:58:19.000000000', 'files': ['tests/gate-basic-disco-stein', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/98b72f23e33a49bf26d0e4b797136cb435a565de', 'message': 'Add disco-stein bundle to gate tests\n\nThe bundle disco-stein was in the dev bundles because\na bug with the Python 3.7 syntax prevented the success of\nthe deployment of HA clusters. This bug is fixed, we can\nreintegrate disco-stein in the gate bundles.\n\nOther small additions:\n- removing sitepackages in tox.ini to avoid test env pollution\n- skip_missing_interpreters in tox.ini set to False to avoid false\npositives by skipping missing interpreters.\n\nLP Related-Bug: #1823718\nChange-Id: I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e\n'}]",0,678925,98b72f23e33a49bf26d0e4b797136cb435a565de,10,4,1,30670,,,0,"Add disco-stein bundle to gate tests

The bundle disco-stein was in the dev bundles because
a bug with the Python 3.7 syntax prevented the success of
the deployment of HA clusters. This bug is fixed, we can
reintegrate disco-stein in the gate bundles.

Other small additions:
- removing sitepackages in tox.ini to avoid test env pollution
- skip_missing_interpreters in tox.ini set to False to avoid false
positives by skipping missing interpreters.

LP Related-Bug: #1823718
Change-Id: I83850f9149a4b2c0d6ffb5aa559d5e3bd8109f8e
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/25/678925/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/gate-basic-disco-stein', 'tox.ini']",2,98b72f23e33a49bf26d0e4b797136cb435a565de,bug/1823718,# NOTE(beisner): Avoid build/test env pollution by not enabling sitepackages. sitepackages = False # NOTE(beisner): Avoid false positives by not skipping missing interpreters. skip_missing_interpreters = False,skip_missing_interpreters = True,4,1
openstack%2Fnova~stable%2Fussuri~I9619338ad0f60253b628d96543f8ce3ac86242e3,openstack/nova,stable/ussuri,I9619338ad0f60253b628d96543f8ce3ac86242e3,"libvirt: Don't allow ""reserving"" file-backed memory",MERGED,2020-06-17 13:37:43.000000000,2020-07-08 08:15:44.000000000,2020-07-08 08:12:55.000000000,"[{'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-17 13:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4f6dfe106b4ff7e3d1e3a4255b3e41cc1aefea6e', 'message': 'libvirt: Don\'t allow ""reserving"" file-backed memory\n\nWhen file-backed memory is configured, it is the only ""memory"" reported\nby nova and used by instances, with RAM used in caching capacity. We\nshould be warning users of this and insisting they explicitly configure\nthe \'[DEFAULT] reserved_host_memory_mb\' config option to 0. However,\ndoing so now would be breaking change. Instead, start logging a warning\ninstead, failing only for the truly broken combination of reserving more\nfile-backed memory than we have allocated.\n\nChange-Id: I9619338ad0f60253b628d96543f8ce3ac86242e3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882821\n(cherry picked from commit 3b99747b42e460567d52cc6d748396cb349d56b8)\n'}, {'number': 2, 'created': '2020-06-30 15:42:10.000000000', 'files': ['releasenotes/notes/bug-1882821-file-backed-memory-reserved-conflict-3ad4c04ab993ebf8.yaml', 'nova/virt/libvirt/driver.py', 'doc/source/admin/file-backed-memory.rst', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9d3ebd58aa6a7514ab4db401980848570415706a', 'message': 'libvirt: Don\'t allow ""reserving"" file-backed memory\n\nWhen file-backed memory is configured, it is the only ""memory"" reported\nby nova and used by instances, with RAM used in caching capacity. We\nshould be warning users of this and insisting they explicitly configure\nthe \'[DEFAULT] reserved_host_memory_mb\' config option to 0. However,\ndoing so now would be breaking change. Instead, start logging a warning\ninstead, failing only for the truly broken combination of reserving more\nfile-backed memory than we have allocated.\n\nChange-Id: I9619338ad0f60253b628d96543f8ce3ac86242e3\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882821\n(cherry picked from commit 3b99747b42e460567d52cc6d748396cb349d56b8)\n'}]",0,736219,9d3ebd58aa6a7514ab4db401980848570415706a,34,8,2,15334,,,0,"libvirt: Don't allow ""reserving"" file-backed memory

When file-backed memory is configured, it is the only ""memory"" reported
by nova and used by instances, with RAM used in caching capacity. We
should be warning users of this and insisting they explicitly configure
the '[DEFAULT] reserved_host_memory_mb' config option to 0. However,
doing so now would be breaking change. Instead, start logging a warning
instead, failing only for the truly broken combination of reserving more
file-backed memory than we have allocated.

Change-Id: I9619338ad0f60253b628d96543f8ce3ac86242e3
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882821
(cherry picked from commit 3b99747b42e460567d52cc6d748396cb349d56b8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/19/736219/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1882821-file-backed-memory-reserved-conflict-3ad4c04ab993ebf8.yaml', 'nova/virt/libvirt/driver.py', 'doc/source/admin/file-backed-memory.rst', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,4f6dfe106b4ff7e3d1e3a4255b3e41cc1aefea6e,bug/1882821," def test__check_file_backed_memory_support__total_lt_reserved(self): """"""Ensure an error is raised if total memory < reserved. Placement won't allow $resource.total < $resource.reserved, so we need to catch this early. """""" self.flags(file_backed_memory=1024, group='libvirt') self.flags(ram_allocation_ratio=1.0, reserved_host_memory_mb=4096) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) self.assertRaises( exception.InternalError, drvr._check_file_backed_memory_support, ) @mock.patch.object(libvirt_driver.LOG, 'warning') def test__check_file_backed_memory_support__has_reserved(self, mock_log): """"""Ensure a warning is issued if memory is reserved. It doesn't make sense to ""reserve"" memory when file-backed memory is in use. We should report things so as to avoid confusion. """""" self.flags(file_backed_memory=8192, group='libvirt') self.flags(ram_allocation_ratio=1.0) # we don't need to configure '[DEFAULT] reserved_host_memory_mb' since # it defaults to 512 (MB) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), True) drvr._check_file_backed_memory_support() mock_log.assert_called_once() self.assertIn( ""Reserving memory via '[DEFAULT] reserved_host_memory_mb' is not "" ""compatible"", six.text_type(mock_log.call_args[0]), ) ",,96,19
openstack%2Frequirements~master~I158bcc8c249ad7ec981707c0d96ad8db87eb23d9,openstack/requirements,master,I158bcc8c249ad7ec981707c0d96ad8db87eb23d9,"Add ""isort"" library to blacklist",MERGED,2020-07-06 12:23:21.000000000,2020-07-08 07:54:12.000000000,2020-07-07 12:36:24.000000000,"[{'_account_id': 6773}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-06 12:23:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/8b399876b0bc083a087d8ee99ba4ccec139070b5', 'message': 'Set maximum isort library version to 4.3.21\n\n""pylint"" requires a class named ""SortImports"", not present in\nversions >=5.0.0.\n\nUntil ""pylint"" fixes this problem, we should block newer versions\nof this library to unblock CI pep8 jobs.\n\nChange-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9\nRelated-Bug: #1886422\n'}, {'number': 2, 'created': '2020-07-06 12:25:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/f726825c5c8dc285df02bff42e194050153c16cc', 'message': 'Set maximum isort library version to 4.3.21\n\n""pylint"" requires a class named ""SortImports"", not present in\nversions >=5.0.0.\n\nUntil ""pylint"" fixes this problem, we should block newer versions\nof this library to unblock CI pep8 jobs.\n\nChange-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9\nRelated-Bug: #1886422\n'}, {'number': 3, 'created': '2020-07-06 13:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/ae598fdeeb93e8482665bded8a6315d948dde332', 'message': 'Set maximum isort library version to 4.3.21\n\n""pylint"" requires a class named ""SortImports"", not present in\nversions >=5.0.0.\n\nUntil ""pylint"" fixes this problem, we should block newer versions\nof this library to unblock CI pep8 jobs.\n\nChange-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9\nRelated-Bug: #1886422\n'}, {'number': 4, 'created': '2020-07-06 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/0b7966fb830aa36303ff18551447091365b1fcf5', 'message': 'Set maximum isort library version to 4.3.21\n\n""pylint"" requires a class named ""SortImports"", not present in\nversions >=5.0.0.\n\nUntil ""pylint"" fixes this problem, we should block newer versions\nof this library to unblock CI pep8 jobs.\n\nChange-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9\nRelated-Bug: #1886422\n'}, {'number': 5, 'created': '2020-07-07 09:53:41.000000000', 'files': ['blacklist.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/be1dca06e04a68e6ad02f293369124d3c24875ba', 'message': 'Add ""isort"" library to blacklist\n\n""pylint"" requires a class named ""SortImports"", not present in\n""isort"" versions >=5.0.0. Until ""pylint"" fixes this problem, we\nshould allow each projecty to install its own ""isort"" library\nversion to unblock CI pep8 jobs.\n\nChange-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9\nRelated-Bug: #1886422\n'}]",5,739469,be1dca06e04a68e6ad02f293369124d3c24875ba,31,10,5,16688,,,0,"Add ""isort"" library to blacklist

""pylint"" requires a class named ""SortImports"", not present in
""isort"" versions >=5.0.0. Until ""pylint"" fixes this problem, we
should allow each projecty to install its own ""isort"" library
version to unblock CI pep8 jobs.

Change-Id: I158bcc8c249ad7ec981707c0d96ad8db87eb23d9
Related-Bug: #1886422
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/739469/4 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8b399876b0bc083a087d8ee99ba4ccec139070b5,bug/1886422,<<<<<<< HEAD======= -e file:///opt/stack/horizon#egg=horizon APScheduler===3.6.3 Babel===2.8.0 CouchDB===1.2 Django===2.2.13 Flask===1.1.2 Flask-RESTful===0.3.8 GitPython===3.1.3 Jinja2===2.11.2 Logbook===1.5.3 Mako===1.1.3 MarkupSafe===1.1.1 Paste===3.4.1 PasteDeploy===2.1.0 Pillow===7.1.2 Pint===0.12 PyJWT===1.7.1 PyKMIP===0.10.0 PyMySQL===0.9.3 PyNaCl===1.4.0 PyYAML===5.3.1 Pygments===2.6.1 Routes===2.4.1 SQLAlchemy===1.3.17 SQLAlchemy-Utils===0.36.6 SecretStorage===3.1.2 Sphinx===3.1.0 Tempita===0.5.2 URLObject===2.4.3 WSME===0.10.0 WebOb===1.8.6 WebTest===2.0.35 Werkzeug===1.0.1 XStatic===1.0.2 XStatic-Angular===1.5.8.0 XStatic-Angular-Bootstrap===2.5.0.0 XStatic-Angular-FileUpload===12.0.4.0 XStatic-Angular-Gettext===2.4.1.0 XStatic-Angular-Schema-Form===0.8.13.0 XStatic-Angular-UUID===0.0.4.0 XStatic-Angular-Vis===4.16.0.0 XStatic-Angular-lrdragndrop===1.0.2.4 XStatic-Bootstrap-Datepicker===1.4.0.0 XStatic-Bootstrap-SCSS===3.4.1.0 XStatic-D3===3.5.17.0 XStatic-Dagre===0.6.4.0 XStatic-Dagre-D3===0.4.17.0 XStatic-FileSaver===1.3.2.0 XStatic-Font-Awesome===4.7.0.0 XStatic-Graphlib===2.1.7.0 XStatic-Hogan===2.0.0.3 XStatic-JQuery-Migrate===1.2.1.2 XStatic-JQuery.TableSorter===2.14.5.2 XStatic-JQuery.quicksearch===2.0.3.2 XStatic-JS-Yaml===3.8.1.0 XStatic-JSEncrypt===2.3.1.1 XStatic-Jasmine===2.4.1.2 XStatic-Json2yaml===0.1.1.0 XStatic-Moment-Timezone===0.5.22.0 XStatic-Rickshaw===1.5.1.0 XStatic-Spin===1.2.5.3 XStatic-bootswatch===3.3.7.0 XStatic-jQuery===1.12.4.1 XStatic-jquery-ui===1.12.1.1 XStatic-lodash===4.16.4.1 XStatic-mdi===1.6.50.2 XStatic-moment===2.8.4.2 XStatic-objectpath===1.2.1.0 XStatic-roboto-fontface===0.5.0.0 XStatic-smart-table===1.4.13.2 XStatic-term.js===0.0.7.0 XStatic-tv4===1.2.7.0 XenAPI===2.14 abclient===0.2.3 actdiag===2.0.0 alabaster===0.7.12 alembic===1.4.2 amqp===2.6.0 aniso8601===8.0.0 ansible-runner===1.4.6 anyjson===0.3.3 aodhclient===2.0.1 api-object-schema===2.0.0 apipkg===1.5 appdirs===1.4.4 arrow===0.15.6 asyncio===3.4.3 attrs===19.3.0 autobahn===20.4.3 automaton===2.1.0 bashate===2.0.0 bcrypt===3.1.7 beautifulsoup4===4.9.1 betamax===0.8.1 bitmath===1.3.3.1 blockdiag===2.0.1 boto===2.49.0 boto3===1.13.26 botocore===1.16.26 bottle===0.12.18 cachetools===4.1.0 cachez===0.1.2 capacity===1.3.14 cassandra-driver===3.23.0 castellan===3.1.0 ceilometer===14.0.0 ceilometermiddleware===2.0.0 certifi===2020.4.5.2 cffi===1.14.0 chardet===3.0.4 -e file:///opt/stack/cinder#egg=cinder click===7.1.2 cliff===3.2.0 cmd2===0.8.9 colorama===0.4.3 confetti===2.5.3 confget===2.3.4 confluent-kafka===1.4.2 construct===2.10.56 cotyledon===1.7.3 coverage===5.1 crc16===0.1.1 croniter===0.3.32 cryptography===2.9.2 cursive===0.2.2 daiquiri===2.1.1 dataclasses===0.7;python_version=='3.6' ddt===1.4.1 debtcollector===2.1.0 decorator===4.4.2 defusedxml===0.6.0 demjson===2.2.4 deprecation===2.1.0 dfs-sdk===1.2.26 dib-utils===0.0.11 diskimage-builder===3.0.0 distlib===0.3.0 distro===1.5.0 django-appconf===1.0.4 django-compressor===2.4 django-debreach===2.0.1 django-formtools===2.2 django-nose===1.4.6 django-pyscss===2.0.2 dnspython===1.16.0 doc8===0.8.1 docker===4.2.1 docutils===0.15.2 dogpile.cache===0.9.2 dogtag-pki===10.7.4.1 dulwich===0.20.2 edgegrid-python===1.1.1 elasticsearch===2.4.1 enmerkar===0.7.1 enum-compat===0.0.3 etcd3===0.12.0 etcd3gw===0.2.5 eventlet===0.25.2 exabgp===4.2.10 execnet===1.7.1 extras===1.0.0 falcon===2.0.0 fasteners===0.14.1 filelock===3.0.12 fixtures===3.0.0 flux===1.3.5 freezegun===0.3.15 frozendict===1.2 funcparserlib===0.3.6 future===0.18.2 futurist===2.2.0 gabbi===2.0.3 geomet===0.1.2 gitdb===4.0.5 gitdb2===4.0.2 -e file:///opt/stack/glance#egg=glance glance-store===2.0.0 gnocchiclient===7.0.6 google-api-core===1.20.0 google-api-python-client===1.9.2 google-auth===1.16.1 google-auth-httplib2===0.0.3 googleapis-common-protos===1.52.0 gossip===2.4.0 graphviz===0.14 greenlet===0.4.16 grpcio===1.29.0 gunicorn===20.0.4 heat-translator===2.0.0 hiredis===1.0.1 httplib2===0.18.1 hvac===0.10.3 icalendar===4.0.6 idna===2.9 ifaddr===0.1.7 imagesize===1.2.0 importlib-metadata===1.6.1 importlib-resources===1.5.0;python_version=='3.6' infi.dtypes.iqn===0.4.0 infi.dtypes.wwn===0.1.1 infinisdk===151.1.1 influxdb===5.2.3 ironic-lib===4.3.0 iso8601===0.1.12 isort===4.3.21 itsdangerous===1.1.0 jaeger-client===4.3.0 jeepney===0.4.3 jira===2.0.0 jmespath===0.10.0 joblib===0.15.1 jsonmodels===2.4 jsonpatch===1.25 jsonpath-rw===1.4.0 jsonpath-rw-ext===1.2.2 jsonpointer===2.0 jsonschema===3.2.0 kafka-python===2.0.1 kazoo===2.7.0 keyring===21.2.1 -e file:///opt/stack/keystone#egg=keystone keystoneauth1===4.0.0 keystonemiddleware===9.0.0 kombu===4.6.10 krest===1.3.1 kubernetes===11.0.0 kuryr-lib===2.0.0 ldap3===2.7 ldappool===2.4.1 libvirt-python===6.4.0 linecache2===1.0.0 lockfile===0.12.2 logutils===0.3.5 lxml===4.5.1 marathon===0.12.0 metalsmith===1.0.0 microversion-parse===1.0.1 mistral-lib===2.1.0 mitba===1.1.1 mock===3.0.5 monasca-common===3.1.0 monasca-statsd===2.0.0 monotonic===1.5 more-itertools===8.3.0 mox3===1.1.0 mpmath===1.1.0 msgpack===0.6.1 munch===2.5.0 murano-pkg-check===0.3.0 mypy===0.780 mypy-extensions===0.4.3 natsort===7.0.1 ndg-httpsclient===0.5.1 netaddr===0.7.19 netifaces===0.10.9 netmiko===3.1.1 networkx===2.4 -e file:///opt/stack/neutron#egg=neutron neutron-lib===2.3.0 nodeenv===1.4.0 >>>>>>> 4545b2029... Set maximum isort library version to 4.3.21nose-exclude===0.5.0<<<<<<< HEAD======= nosexcover===1.0.11 notifier===1.0.3 -e file:///opt/stack/nova#egg=nova ntlm-auth===1.4.0 numpy===1.18.5 nwdiag===2.0.0 oauth2client===4.1.3 oauthlib===3.1.0 octavia-lib===2.0.0 openstack-doc-tools===3.0.0 -e file:///opt/stack/heat#egg=openstack-heat -e file:///opt/stack/placement#egg=openstack-placement openstack-release-test===3.1.0 openstack.nose-plugin===0.11 openstackdocstheme===2.2.2 openstacksdk===0.46.0 opentracing===2.3.0 os-api-ref===2.0.1 os-apply-config===11.2.0 os-brick===3.1.0 os-client-config===2.1.0 os-collect-config===11.0.0 os-ken===1.0.0 os-net-config===12.3.0 os-refresh-config===10.4.0 os-resource-classes===1.0.0 os-service-types===1.7.0 os-testr===2.0.0 os-traits===2.3.0 os-vif===2.0.0 os-win===5.0.2 os-xenapi===0.3.4 osc-lib===2.1.0 osc-placement===2.0.0 oslo.cache===2.4.1 oslo.concurrency===4.1.0 oslo.config===8.1.0 oslo.context===3.1.0 oslo.db===8.2.0 oslo.i18n===5.0.0 oslo.limit===1.1.0 oslo.log===4.2.1 oslo.messaging===12.2.0 oslo.middleware===4.1.0 oslo.policy===3.2.0 oslo.privsep===2.2.0 oslo.reports===2.1.0 oslo.rootwrap===6.1.0 oslo.serialization===3.2.0 oslo.service===2.2.0 oslo.upgradecheck===1.1.0 oslo.utils===4.2.0 oslo.versionedobjects===2.1.0 oslo.vmware===3.4.0 oslosphinx===4.18.0 oslotest===4.3.0 osprofiler===3.2.0 ovs===2.13.0 ovsdbapp===1.3.0 >>>>>>> 4545b2029... Set maximum isort library version to 4.3.21pact===1.12.0 paramiko===2.7.1 passlib===1.7.2 pathlib2===2.3.5 pbr===5.4.5 pecan===1.3.3 persist-queue===0.5.0 pexpect===4.8.0 pifpaf===2.5.0 pika===1.1.0 pluggy===0.13.1 ply===3.11 prettytable===0.7.2 proboscis===1.2.6.0 prometheus-client===0.8.0 protobuf===3.12.2<<<<<<< HEAD======= psycopg2===2.8.5 psycopg2-binary===2.8.5 ptyprocess===0.6.0 purestorage===1.18.1 py===1.8.1 pyOpenSSL===19.1.0 pyScss===1.3.7 pyasn1===0.4.8 pyasn1-modules===0.2.8 pycadf===3.0.0 pycparser===2.20 pycrypto===2.6.1;python_version=='3.6' pycryptodomex===3.9.7 pydot===1.4.1 pydotplus===2.0.2 pyeclib===1.6.0 pyghmi===1.5.14 pyinotify===0.9.6 pykerberos===1.2.1 pylxd===2.2.11 pymemcache===3.2.0 pymongo===3.10.1 pyngus===2.3.1 pyparsing===2.4.7 pyperclip===1.8.0 pypowervm===1.1.24 pyroute2===0.5.12 pyrsistent===0.16.0 pysaml2===5.1.0 pysendfile===2.0.1 pyserial===3.4 pysmi===0.3.4 pysnmp===4.4.12 pystache===0.5.4 pytest===5.4.3 pytest-django===3.9.0 pytest-forked===1.1.3 pytest-html===2.1.1 pytest-metadata===1.9.0 pytest-xdist===1.32.0 python-3parclient===4.2.11 python-barbicanclient===4.10.0 python-blazarclient===3.0.1 python-ceilometerclient===2.9.0 python-cinderclient===7.0.0 python-cloudkittyclient===4.0.0 python-consul===1.1.0 python-daemon===2.2.4 python-dateutil===2.8.1 python-designateclient===4.0.0 python-editor===1.0.4 python-freezerclient===3.0.1 python-glanceclient===3.1.1 python-glareclient===0.5.3 python-heatclient===2.1.0 python-ironic-inspector-client===4.1.0 python-ironicclient===4.1.0 python-json-logger===0.1.11 python-karborclient===2.0.0 python-keystoneclient===4.0.0 python-ldap===3.2.0 python-magnumclient===3.1.0 python-manilaclient===2.1.0 python-masakariclient===6.0.0 python-memcached===1.59 python-mimeparse===1.6.0 python-mistralclient===4.0.1 python-monascaclient===2.1.0 python-muranoclient===2.0.1 python-neutronclient===7.1.1 python-novaclient===17.0.0 python-nss===1.0.1 python-octaviaclient===2.0.1 python-openstackclient===5.2.0 python-pcre===0.7 python-pytun===2.3.0 python-qinlingclient===5.0.1 python-qpid-proton===0.31.0 python-rsdclient===1.0.2 python-saharaclient===3.1.0 python-searchlightclient===2.0.1 python-senlinclient===2.0.1 python-solumclient===3.1.0 python-subunit===1.4.0 python-swiftclient===3.9.0 python-tackerclient===1.1.0 python-troveclient===4.0.0 python-vitrageclient===4.0.1 python-watcherclient===3.0.0 python-zaqarclient===1.13.1 python-zunclient===4.0.1 pytz===2020.1 pyudev===0.22.0 pywbem===0.17.2 pywinrm===0.4.1 pyzabbix===0.8.2 pyzmq===19.0.1 rcssmin===1.0.6 redis===3.5.3 reno===3.1.0 repoze.lru===0.7 requests===2.23.0 requests-aws===0.1.8 requests-kerberos===0.12.0 requests-mock===1.8.0 requests-ntlm===1.1.0 requests-oauthlib===1.3.0 requests-toolbelt===0.9.1 requests-unixsocket===0.2.0 requestsexceptions===1.4.0 restructuredtext-lint===1.3.1 retrying===1.3.3 retryz===0.1.9 rfc3986===1.4.0 rjsmin===1.1.0 rsa===4.0 rsd-lib===1.2.0 rtslib-fb===2.1.72 ryu===4.34 s3transfer===0.3.3 sadisplay===0.4.9 salt===3000.3;python_version=='3.6' scikit-learn===0.23.1 scipy===1.4.1 scp===0.13.2 scrypt===0.8.15 selenium===3.141.0 semantic-version===2.8.5 sentinels===1.0.0 seqdiag===2.0.0 setproctitle===1.1.10 simplegeneric===0.8.1 simplejson===3.17.0 six===1.15.0 skydive-client===0.8.0 smmap===3.0.4 snowballstemmer===2.0.0 sortedcontainers===2.2.2 soupsieve===2.0.1 sphinx-feature-classification===1.0.1 sphinx-testing===1.0.1 sphinxcontrib-actdiag===2.0.0 sphinxcontrib-apidoc===0.3.0 sphinxcontrib-applehelp===1.0.2 sphinxcontrib-blockdiag===2.0.0 sphinxcontrib-devhelp===1.0.2 sphinxcontrib-htmlhelp===1.0.3 sphinxcontrib-httpdomain===1.7.0 sphinxcontrib-jsmath===1.0.1 sphinxcontrib-nwdiag===2.0.0 sphinxcontrib-pecanwsme===0.10.0 sphinxcontrib-programoutput===0.16 sphinxcontrib-qthelp===1.0.3 sphinxcontrib-seqdiag===2.0.0 sphinxcontrib-serializinghtml===1.1.4 sphinxcontrib-svg2pdfconverter===1.0.1 sphinxcontrib.datatemplates===0.6.1 sphinxmark===0.2.0 sqlalchemy-filters===0.12.0 sqlalchemy-migrate===0.13.0 sqlparse===0.3.1 statsd===3.3.0 stestr===3.0.1 stevedore===2.0.0 storage-interfaces===1.0.3 storops===1.2.5 storpool===5.4.0 storpool.spopenstack===3.0.0 suds-jurko===0.6 sushy===3.2.0 sympy===1.6 systemd-python===234 sysv-ipc===1.0.1 tabulate===0.8.7 tap-as-a-service===3.0.0 taskflow===4.2.0 -e file:///opt/stack/tempest#egg=tempest tenacity===6.2.0 termcolor===1.1.0 testrepository===0.0.20 testresources===2.0.1 testscenarios===0.5.0 testtools===2.4.0 textfsm===1.1.0 threadloop===1.0.2 threadpoolctl===2.1.0 thrift===0.13.0 tinyrpc===1.0.4 tooz===2.5.0 tornado===6.0.4 tosca-parser===2.0.0 traceback2===1.4.0 tricircleclient===1.0.0 tripleo-common===12.4.0 txaio===20.4.1 typed-ast===1.4.1 typing===3.7.4.1 typing-extensions===3.7.4.2 tzlocal===2.1 ujson===3.0.0 unittest2===1.1.0 uritemplate===3.0.1 urllib3===1.25.9 validations-libs===1.0.0 vine===1.3.0 vintage===0.4.1 virtualbmc===2.1.0 virtualenv===20.0.21 voluptuous===0.11.7 waiting===1.4.1 waitress===1.4.4 warlock===1.3.3 wcwidth===0.2.4 webcolors===1.11.1 websocket-client===0.57.0 websockify===0.9.0 whereto===0.4.0 wrapt===1.12.1 ws4py===0.5.1 wsgi-intercept===1.9.2 xattr===0.9.7 xmltodict===0.12.0 xvfbwrapper===0.2.9 yappi===1.2.5 yaql===1.1.3 zVMCloudConnector===1.4.1 zake===0.2.2 zeroconf===0.27.1 zipp===3.1.0 zuul-sphinx===0.5.0 >>>>>>> 4545b2029... Set maximum isort library version to 4.3.21,XStatic-Dagre-D3===0.4.17.0 nose-exclude===0.5.0,575,2
openstack%2Fneutron~master~I91ab5a0f2533cee60b0888a4c57fe41017ae9225,openstack/neutron,master,I91ab5a0f2533cee60b0888a4c57fe41017ae9225,Change default ipv6_ptr_zone_prefix_size to 64,ABANDONED,2020-05-27 09:04:35.000000000,2020-07-08 07:52:48.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-27 09:04:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a3282df7e3339cd5b8ba117b8c21ef088e9d6727', 'message': 'Change default ipv6_ptr_zone_prefix_size to 64\n\nThe natural IPv6 network prefix size is a /64 at least when using SLAAC.\nThe old default would create a lot of different zones in designate when\ncreating PTR records for such a network, which all would need to be\ndelegated properly in order to get rDNS work correctly. With the new\ndefault, there will be just a single zone that can be handled much\neasier.\n\nChange-Id: I91ab5a0f2533cee60b0888a4c57fe41017ae9225\n'}, {'number': 2, 'created': '2020-05-28 14:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a656eaacc930206c52b812a09c84263d03b80c94', 'message': 'Change default ipv6_ptr_zone_prefix_size to 64\n\nThe natural IPv6 network prefix size is a /64 at least when using SLAAC.\nThe old default would create a lot of different zones in designate when\ncreating PTR records for such a network, which all would need to be\ndelegated properly in order to get rDNS work correctly. With the new\ndefault, there will be just a single zone that can be handled much\neasier.\n\nChange-Id: I91ab5a0f2533cee60b0888a4c57fe41017ae9225\n'}, {'number': 3, 'created': '2020-06-09 12:43:07.000000000', 'files': ['releasenotes/notes/change-ipv6-ptr-zone-prefix-size-02811f40717de29a.yaml', 'doc/source/admin/config-dns-int-ext-serv.rst', 'neutron/conf/services/extdns_designate_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8fa8d329be14f41c360dd9a1f7b0580f44665e73', 'message': 'Change default ipv6_ptr_zone_prefix_size to 64\n\nThe natural IPv6 network prefix size is a /64 at least when using SLAAC.\nThe old default would create a lot of different zones in designate when\ncreating PTR records for such a network, which all would need to be\ndelegated properly in order to get rDNS work correctly. With the new\ndefault, there will be just a single zone that can be handled much\neasier.\n\nAmend the documentation accordingly and do a bit more of cleanup there\nfor consistency.\n\nChange-Id: I91ab5a0f2533cee60b0888a4c57fe41017ae9225\n'}]",3,731119,8fa8d329be14f41c360dd9a1f7b0580f44665e73,27,11,3,13252,,,0,"Change default ipv6_ptr_zone_prefix_size to 64

The natural IPv6 network prefix size is a /64 at least when using SLAAC.
The old default would create a lot of different zones in designate when
creating PTR records for such a network, which all would need to be
delegated properly in order to get rDNS work correctly. With the new
default, there will be just a single zone that can be handled much
easier.

Amend the documentation accordingly and do a bit more of cleanup there
for consistency.

Change-Id: I91ab5a0f2533cee60b0888a4c57fe41017ae9225
",git fetch https://review.opendev.org/openstack/neutron refs/changes/19/731119/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/conf/services/extdns_designate_driver.py'],1,a3282df7e3339cd5b8ba117b8c21ef088e9d6727,dns-v6-size," 'ipv6_ptr_zone_prefix_size', default=64,"," 'ipv6_ptr_zone_prefix_size', default=120,",1,1
openstack%2Ffreezer-api~master~I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3,openstack/freezer-api,master,I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3,Add Devstack installation guide in README.rst,MERGED,2020-07-08 06:45:09.000000000,2020-07-08 07:45:46.000000000,2020-07-08 07:43:01.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 06:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/a0a91eb4192e4a68db0b59ae8cb4ee76c2cb994a', 'message': 'Add Devstack installation guide in README.rst\n\nAdd  DevStak installation  guide for the freezer-api project.\n\nChange-Id: I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3\n'}, {'number': 2, 'created': '2020-07-08 07:19:25.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-api/commit/4bb4ec03834442a9ac1fd3221c32ce05b27e6993', 'message': 'Add Devstack installation guide in README.rst\n\nAdd  DevStak installation  guide for the freezer-api project.\n\nChange-Id: I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3\n'}]",0,739902,4bb4ec03834442a9ac1fd3221c32ce05b27e6993,9,2,2,21069,,,0,"Add Devstack installation guide in README.rst

Add  DevStak installation  guide for the freezer-api project.

Change-Id: I3187b652da0cf9e0b6211d8317d5cf3e50a4aba3
",git fetch https://review.opendev.org/openstack/freezer-api refs/changes/02/739902/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,a0a91eb4192e4a68db0b59ae8cb4ee76c2cb994a,,"Running Freezer tempest tests ============================= Install DevStack step by step ============================= 1. Download DevStack:: git clone https://git.openstack.org/openstack-dev/devstack.git cd devstack 2. Add stack user and change devstack directory user group:: ./create_stack_user.sh chown -R stack ./devstack/ chown -R stack.stack ./devstack/ 3. Add this repo as an external repository.This is a sample local.conf file for freezer developer::4. Use stack user to run ``stack.sh``:: su stack ./stack.sh Running Freezer tempest tests ============================= 1. Listing Freezer tempest tests:: tempest list-plugins 2. Config the ""tempest.conf"" file:: cd /opt/stack/tempest tox -e genconfig cd /opt/stack/tempest/etc cp tempest.conf.sample tempest.conf 3. This is a sample ""tempest.conf"" file:: [auth] admin_username = admin admin_project_name = admin admin_password = stack admin_domain_name = Default [identity] uri_v3 = http://172.16.1.108/identity/v3 4. Running freezer tempest tests:: cd /opt/stack/tempest tempest run -r freezer_tempest_plugin 5. Running one tempest test case:: cd /opt/stack/tempest tempest run -r freezer_tempest_plugin.tests.freezer_api.api.test_api_jobs.TestFreezerApiJobs.test_api_jobs_post https://docs.openstack.org/tempest/latest/",This is a sample local.conf file for freezer developer::,61,1
openstack%2Ffreezer-tempest-plugin~master~I5d5c1e762c92d235df5dc3673e9475457a84ea40,openstack/freezer-tempest-plugin,master,I5d5c1e762c92d235df5dc3673e9475457a84ea40,Update DevStack installation guide,MERGED,2020-07-08 06:49:31.000000000,2020-07-08 07:45:05.000000000,2020-07-08 07:45:05.000000000,"[{'_account_id': 21069}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-08 06:49:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/c92da4e51315227bb3e5d7badb31bc18c5ac3794', 'message': 'Update DevStack installation guide\n\nUpdate DevStack installation guide for the project\n\nChange-Id: I5d5c1e762c92d235df5dc3673e9475457a84ea40\n'}, {'number': 2, 'created': '2020-07-08 07:20:38.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/freezer-tempest-plugin/commit/d82ad4bda677690e3284ab4880da6a3dd09f5cdd', 'message': 'Update DevStack installation guide\n\nUpdate DevStack installation guide for the project\n\nChange-Id: I5d5c1e762c92d235df5dc3673e9475457a84ea40\n'}]",0,739903,d82ad4bda677690e3284ab4880da6a3dd09f5cdd,8,2,2,21069,,,0,"Update DevStack installation guide

Update DevStack installation guide for the project

Change-Id: I5d5c1e762c92d235df5dc3673e9475457a84ea40
",git fetch https://review.opendev.org/openstack/freezer-tempest-plugin refs/changes/03/739903/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,c92da4e51315227bb3e5d7badb31bc18c5ac3794,,4. Use stack user to run ``stack.sh``::4. Running freezer tempest tests::5. Running one tempest test case:: https://docs.openstack.org/devstack/latest/index.html,4. Use stack user to run ``stack.sh``3. Running freezer tempest tests::4. Running one tempest test case::,4,3
openstack%2Fansible-role-python_venv_build~stable%2Fussuri~I1a8f4961358c9551c5493b332187b411177b2769,openstack/ansible-role-python_venv_build,stable/ussuri,I1a8f4961358c9551c5493b332187b411177b2769,Remove the virtualenv version check,MERGED,2020-07-06 17:57:24.000000000,2020-07-08 07:36:43.000000000,2020-07-08 07:32:36.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-06 17:57:24.000000000', 'files': ['tasks/python_venv_preflight.yml', 'tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-python_venv_build/commit/e7a165b1d05ae9b07b4a75e096af184da9609a6c', 'message': 'Remove the virtualenv version check\n\nSimplify this code by making the assumption that we always have a\nnew enough version of virtualenv present. Centos-7 ships 15.1.0 so\nit is now possible to remove some conditional logic as well.\n\nThis patch removes the version check and replaces it with a check\nthat the virtualenv command is present on the system patch and\nis usable.\n\nChange-Id: I1a8f4961358c9551c5493b332187b411177b2769\n(cherry picked from commit aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14)\n'}]",0,739565,e7a165b1d05ae9b07b4a75e096af184da9609a6c,8,3,1,25023,,,0,"Remove the virtualenv version check

Simplify this code by making the assumption that we always have a
new enough version of virtualenv present. Centos-7 ships 15.1.0 so
it is now possible to remove some conditional logic as well.

This patch removes the version check and replaces it with a check
that the virtualenv command is present on the system patch and
is usable.

Change-Id: I1a8f4961358c9551c5493b332187b411177b2769
(cherry picked from commit aabd3c07c29fd89a56cadc01ec3a2e3b682e5e14)
",git fetch https://review.opendev.org/openstack/ansible-role-python_venv_build refs/changes/65/739565/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/python_venv_preflight.yml', 'tasks/python_venv_wheel_build.yml', 'tasks/python_venv_install.yml']",3,e7a165b1d05ae9b07b4a75e096af184da9609a6c,, --no-download, {{ _venv_create_extra_options }},9,28
openstack%2Ftripleo-ansible~master~I614766bd9b111bda9ddfea0a60b032e1dee09abc,openstack/tripleo-ansible,master,I614766bd9b111bda9ddfea0a60b032e1dee09abc,Introduce an Action Plugin to manage systemd services for containers,MERGED,2020-06-25 22:02:35.000000000,2020-07-08 07:21:25.000000000,2020-07-08 07:21:25.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-25 22:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/30bd0c37643463ec8f9f1d29be19185aff33f131', 'message': 'WIP - containers_systemd action plugin\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 2, 'created': '2020-06-25 22:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/772afa67cc7b6e82b110f32f9e05b1a871f926e2', 'message': 'WIP - containers_systemd action plugin\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 3, 'created': '2020-06-29 15:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6c8f2884c007983839116889b7e44beaf21cdf47', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 4, 'created': '2020-06-29 15:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2769d378548f25f5903ba9a418b4a22c3d9858c4', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 5, 'created': '2020-06-29 22:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3359d873d5a00c3b7a70d9e8b5372a369db725e2', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 6, 'created': '2020-06-30 13:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5ffbddec8aaea23a4956b284ff62416914fd0ee9', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 7, 'created': '2020-06-30 17:40:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bf9ba459bd8cf90cac62723b4ab3378abdbfe75', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 8, 'created': '2020-06-30 17:50:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aaac4f62fdef12535647382bb796b1de7e559caa', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 9, 'created': '2020-06-30 19:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/230ea09be503f0262813409cc78c66b5d6358d44', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 10, 'created': '2020-06-30 21:22:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/189393f622535f5ad0ce4a8993981d6b4e67f915', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 11, 'created': '2020-07-01 13:35:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e239a58acec2166bdd03b8eca6520f3ca4ed817e', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 12, 'created': '2020-07-01 13:35:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d5c70dacfae8e62a37ddcda30e64850eff065e34', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 13, 'created': '2020-07-02 15:27:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2e261048da72e0aa11dc45231eab703877d8183e', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 14, 'created': '2020-07-03 13:00:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1bda39d2b1d2a57e8beedfcd20ab19eed8d506ef', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on healthchecks: this module doesn\'t handle yet the healthcheck\ncleanup; this is work in progress for now. In Train, it\'ll also have to\nmanage the healthcheck files instead of its cleanup.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 15, 'created': '2020-07-03 20:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/77034087a103d8385a5832bdce889333633de576', 'message': 'WIP - Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 16, 'created': '2020-07-03 20:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/65e286b0f28abd7bcfd0b087d0a1ef479507fde8', 'message': 'WIP - Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 17, 'created': '2020-07-03 20:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1da86ce842ce995af9b2927d515d22462401c062', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 18, 'created': '2020-07-03 20:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7a980faabd09bd619de0a587b1c9e300d843a30', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 19, 'created': '2020-07-03 20:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4dcf09aae0935a2b20c1ee4090846829d5aed569', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 20, 'created': '2020-07-06 14:58:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a56a6458cfab2787485b70ac6f5e31912a0de111', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}, {'number': 21, 'created': '2020-07-07 12:56:09.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/create.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/ansible_plugins/action/container_systemd.py', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/stat_healthcheck.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/systemd.yml', 'tripleo_ansible/roles/tripleo_container_manage/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_container_manage/tasks/podman/cleanup_healthcheck.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/af7f083066574dcefe637b3aae5026de4573d954', 'message': 'Introduce an Action Plugin to manage systemd services for containers\n\nInstead of running a bunch of tasks to manage systemd resources, move\nit into an action plugin which should make the execution faster and\neasier to debug as well.\n\nExample of task:\n- name: Manage container systemd services\n  container_systemd:\n    container_config:\n      - keystone:\n          image: quay.io/tripleo/keystone\n          restart: always\n      - mysql:\n          image: quay.io/tripleo/mysql\n          stop_grace_period: 25\n          restart: always\n\nThe output is ""restarted"" for the list of services that were actually\nrestarted in systemd.\n\nNote on testing: since that module is consummed by\ntripleo_container_manage role, there is no need to create dedicated\nmolecule tests, we already cover containers with restart policy in that\nrole\'s molecule tests. So we\'ll re-use it.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\n\nChange-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc\n'}]",20,738118,af7f083066574dcefe637b3aae5026de4573d954,70,7,21,3153,,,0,"Introduce an Action Plugin to manage systemd services for containers

Instead of running a bunch of tasks to manage systemd resources, move
it into an action plugin which should make the execution faster and
easier to debug as well.

Example of task:
- name: Manage container systemd services
  container_systemd:
    container_config:
      - keystone:
          image: quay.io/tripleo/keystone
          restart: always
      - mysql:
          image: quay.io/tripleo/mysql
          stop_grace_period: 25
          restart: always

The output is ""restarted"" for the list of services that were actually
restarted in systemd.

Note on testing: since that module is consummed by
tripleo_container_manage role, there is no need to create dedicated
molecule tests, we already cover containers with restart policy in that
role's molecule tests. So we'll re-use it.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>

Change-Id: I614766bd9b111bda9ddfea0a60b032e1dee09abc
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/18/738118/20 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/action/containers_systemd.py'],1,30bd0c37643463ec8f9f1d29be19185aff33f131,stat_healthcheck/plugin,"#!/usr/bin/python # -*- coding: utf-8 -*- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import absolute_import, division, print_function __metaclass__ = type import copy import os import yaml from ansible.errors import AnsibleActionFail from ansible.errors import AnsibleActionSkip from ansible.module_utils.parsing.convert_bool import boolean from ansible.plugins.action import ActionBase ANSIBLE_METADATA = { 'metadata_version': '1.1', 'status': ['preview'], 'supported_by': 'community' } DOCUMENTATION = """""" module: containers_systemd author: - ""TripleO team"" version_added: '2.9' short_description: Create systemd files and manage services to run containers notes: [] description: - Manage the systemd unit files for containers with a restart policy and then make sure the services are started so the containers are running. It takes the container config data in entry to figure out how the unit files will be configured. requirements: - None options: container_config: description: - List of container configurations type: list systemd_healthchecks: default: false description: - Whether or not we manage the healthchecks with SystemD. type: boolean restart_containers: description: - list of container names to be restarted default: [] type: list """""" EXAMPLES = """""" - name: Manage container systemd services containers_systemd: container_config: - keystone: image: quay.io/tripleo/keystone restart: always - mysql: image: quay.io/tripleo/mysql stop_grace_period: 25 restart: always """""" UNIT_PATH = '../../roles/tripleo_container_manage/templates/systemd-service.j2' class ActionModule(ActionBase): _VALID_ARGS = yaml.safe_load(DOCUMENTATION)['options'] def _get_args(self): missing = [] args = {} for option, vals in self._VALID_ARGS.items(): if 'default' not in vals: if self._task.args.get(option, None) is None: missing.append(option) continue args[option] = self._task.args.get(option) else: args[option] = self._task.args.get(option, vals['default']) if missing: raise AnsibleActionFail('Missing required parameters: {}'.format( ', '.join(missing))) return args def _cleanup_requires(self, container_names, task_vars): for name in container_names: path = ""/etc/systemd/system/tripleo_{}.requires"".format(name) results = self._execute_module( module_name='file', module_args=dict(path=path, state='absent'), task_vars=task_vars ) # TODO: check results for errors/failures print(results) return results def _cleanup_healthchecks(self, container_names, tasks_vars): pass def _get_unit_template(self): if self._task._role: file_path = self._task._role._role_path else: file_path = self._loader.get_basedir() # NOTE: if templates doesn't exist, it'll always return # file_path/systemd-service.j2 source = self._loader.path_dwim_relative( file_path, 'templates', 'systemd-service.j2' ) if not os.path.exists(source): raise Exception(""fixme file doesn't exist"") with open(source) as f: data = f.read() return data def _create_units(self, container_config, task_vars): print(""create units"") """"""Create system units and get list of changed services :param: container_config: list of dicts :param: tmp: temp location :param: task_vars: magic """""" try: remote_user = self._get_remote_user() except Exception: remote_user = task_vars.get('ansible_user') if not remote_user: remote_user = self._play_context.remote_user tmp = self._make_tmp_path(remote_user) unit_template = self._get_unit_template() changed_containers = [] for container in container_config: for name, config in container.items(): dest = '/etc/systemd/system/tripleo_{}.service'.format(name) task_vars['container_data_unit'] = container unit = (self._templar.template(unit_template, preserve_trailing_newlines=True, escape_backslashes=False, convert_data=False)) del task_vars['container_data_unit'] remote_data = self._transfer_data(self._connection._shell.join_path(tmp, 'source'), unit) result = self._execute_module( module_name='copy', module_args=dict(src=remote_data, dest=dest, mode='0644', owner='root', group='root'), task_vars=task_vars) print(result) #TODO check results for a failure if result.get('changed', False): changed_containers.append(name) return changed_containers def _systemd_reload(self, task_vars): print(""reloads systemd"") results = self._execute_module( module_name = 'systemd', module_args=dict(daemon_reload=True), task_vars=task_vars ) return results def _restart_services(self, service_names, task_vars): print(""restart services"") changed = False vars = copy.deepcopy(task_vars) vars['retries'] = 5 vars['delay'] = 5 vars['register'] = 'systemd_service_enable' vars['until'] = [ 'systemd_service_enable.status is defined) and (systemd_service_enable.status.Result == ""success"")' ] for name in service_names: result = self._execute_module( module_name = 'systemd', module_args=dict(state='restarted', name='tripleo_{}.service'.format(name), enabled=True, daemon_reload=False), task_vars=vars ) print(result) # TODO: check results for a failure if not changed and result.get('changed', False): changed = true return changed def run(self, tmp=None, task_vars=None): changed = False if task_vars is None: task_vars = dict() result = super(ActionModule, self).run(tmp, task_vars) del tmp # parse args args = self._get_args() container_config = args['container_config'] systemd_healthchecks = args['systemd_healthchecks'] restart_containers = args['restart_containers'] container_names = [] for container in container_config: for k, v in container.items(): container_names.append(k) self._cleanup_requires(container_names, task_vars) if not systemd_healthchecks: self._cleanup_healthchecks(container_names, task_vars) changed_services = self._create_units(container_config, task_vars) if len(changed_services) > 0: self._systemd_reload(task_vars) service_names = set(changed_services + restart_containers) self._restart_services(service_names, task_vars) result['changed'] = changed return result ",,248,0
openstack%2Ftaskflow~master~Ice3633075a3ac58d05b8535b9bc8340f36130524,openstack/taskflow,master,Ice3633075a3ac58d05b8535b9bc8340f36130524,Add requirements for jobboard backends,ABANDONED,2020-07-07 07:29:46.000000000,2020-07-08 06:53:28.000000000,,"[{'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 07:29:46.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/07bce54b337e3c03555f04471489a03b2668081d', 'message': 'Add requirements for jobboard backends\n\nRequirements for python libraries were added only in\ntest-requirements.yaml although redis/kazoo should be installed\nif jobboard is used.\n\nChange-Id: Ice3633075a3ac58d05b8535b9bc8340f36130524\n'}]",0,739670,07bce54b337e3c03555f04471489a03b2668081d,6,4,1,7249,,,0,"Add requirements for jobboard backends

Requirements for python libraries were added only in
test-requirements.yaml although redis/kazoo should be installed
if jobboard is used.

Change-Id: Ice3633075a3ac58d05b8535b9bc8340f36130524
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/70/739670/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,07bce54b337e3c03555f04471489a03b2668081d,, # zookeeper kazoo>=2.6.0 # Apache-2.0 zake>=0.1.6 # Apache-2.0 # redis redis>=2.10.0 # MIT,,7,0
openstack%2Ftripleo-quickstart~master~I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb,openstack/tripleo-quickstart,master,I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb,[DNM] testing new container workflow,ABANDONED,2020-06-30 14:25:04.000000000,2020-07-08 06:30:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 14:25:04.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/85de0f8bfc06a2db7467dc7f8900dc9b0fc13b3c', 'message': '[DNM] testing new container workflow\n\nChange-Id: I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,738633,85de0f8bfc06a2db7467dc7f8900dc9b0fc13b3c,4,2,1,12393,,,0,"[DNM] testing new container workflow

Change-Id: I8cc1e6e05f52a9d08ca506c01285aa77a1349ecb
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/33/738633/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,85de0f8bfc06a2db7467dc7f8900dc9b0fc13b3c,newcontainerbuild,docker_registry_namespace: testingmaster,docker_registry_namespace: tripleomaster,1,1
openstack%2Fglance-specs~master~I169a7aed53f6ff53415449ad9f2fc92e73fab937,openstack/glance-specs,master,I169a7aed53f6ff53415449ad9f2fc92e73fab937,Spec for the Glance part of Image Encryption,MERGED,2018-10-11 10:56:32.000000000,2020-07-08 06:14:46.000000000,2020-07-08 06:13:00.000000000,"[{'_account_id': 2472}, {'_account_id': 4523}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 7973}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27665}, {'_account_id': 28271}]","[{'number': 1, 'created': '2018-10-11 10:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1213676ab53c20abb63e6e5f602c408c29773888', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 2, 'created': '2018-10-11 12:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/56c80abba613b23d23627f4203433ec361e9d87a', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 3, 'created': '2018-10-19 15:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/068805c343834a9e40ca469b34f0eea5e66c66fc', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 4, 'created': '2018-11-19 14:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/c1f0ab9201c91d54cf0bdbbc08bdee8b0c444596', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 5, 'created': '2019-06-18 12:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/1268198c1fbc2b83dcdfe1554cfcad0a983e1217', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 6, 'created': '2019-07-18 08:17:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/34370f822c2faf672c2d3ccadca35ab22372b6f9', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 7, 'created': '2019-08-19 11:47:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/7975f8c127fc81c86ace515e2da9703a0dea0662', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 8, 'created': '2020-01-20 12:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/e8e0883d496d92a03d787aeb79b024eda1999d1f', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 9, 'created': '2020-05-18 13:25:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/656d808d582b1ebf26dda0a9f3c8d8da62eef1e8', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 10, 'created': '2020-05-18 13:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/135e1c5c4ec11c3428128d7001b2c34619b96be1', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 11, 'created': '2020-05-19 06:02:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/a1e52abe9151cd68467359fdd7a7e8e01a75cd5d', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 12, 'created': '2020-06-22 14:48:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/8803837a405a35f58abc364b4dc11f5bd3dabd27', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}, {'number': 13, 'created': '2020-07-06 08:44:44.000000000', 'files': ['specs/victoria/approved/index.rst', 'specs/victoria/approved/glance/image-encryption.rst'], 'web_link': 'https://opendev.org/openstack/glance-specs/commit/ca9cfd82a5f221691d4428e8cf99ff7523d3f15c', 'message': 'Spec for the Glance part of Image Encryption\n\nWe want to propose Image Encryption for Openstack, which would affect\nGlance, but also Nova and Cinder. This spec contains the details of the\nGlance part for the Image Encryption and an overview over all needed\nchanges.\n\nChange-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937\nCo-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>\n'}]",75,609667,ca9cfd82a5f221691d4428e8cf99ff7523d3f15c,71,10,13,28271,,,0,"Spec for the Glance part of Image Encryption

We want to propose Image Encryption for Openstack, which would affect
Glance, but also Nova and Cinder. This spec contains the details of the
Glance part for the Image Encryption and an overview over all needed
changes.

Change-Id: I169a7aed53f6ff53415449ad9f2fc92e73fab937
Co-Authored-By: Markus Hentsch <markus.hentsch@secustack.com>
",git fetch https://review.opendev.org/openstack/glance-specs refs/changes/67/609667/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/stein/approved/glance/image-encryption.rst'],1,1213676ab53c20abb63e6e5f602c408c29773888,609667,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Image Encryption and Decryption ========================================== OpenStack already has the ability to create encrypted volumes and ephemeral storage to ensure the confidentiality of block data. In contrast to that, images are currently handled without protection towards confidentiality, only providing the possibility to ensure integrity using image signatures. For further protection of user data - e.g. when a user uploads an image containing private data or confidential information - the image data should not be accessible for unauthorized entities. For this purpose, an encrypted image format is to be introduced in OpenStack. In conclusion, several adjustments to support image encryption/decryption in various projects, e.g. Nova, Glance, Cinder and OSC, need to be implemented. Problem description =================== An image, when uploaded to Glance or being created through Nova from an existing server (VM), may contain sensitive information. The already provided signature functionality only protects images against alteration. Images may be stored on several hosts over long periods of time. First and foremost this includes the image storage hosts of Glance itself. Furthermore it might also involve caches on systems like compute hosts. In conclusion they are exposed to a multitude of potential scenarios involving different hosts with different access patterns and attack surfaces. The OpenStack components involved in those scenarios do not protect the confidentiality of image data. Thats why we propose the introduction of an encrypted image format. Use Cases --------- 1. A user wants to upload an image, which includes sensitive information. To ensure the integrity of the image, a signature can be generated and used for verification. Additionally, the user wants to protect the confidentiality of the image data through encryption. The user generates or uploads a key in the key manager (e.g. Barbican) and uses it to encrypt the image locally using the OpenStack client (osc) when uploading it. Consequently, the image stored on the Glance host is encrypted. 2. A user wants to create an image from an existing server with ephemeral storage. This server may contain sensitive user data. The corresponding compute host then generates the image based on the data of the ephemeral storage disk. To protect the confidentiality of the data within the image, the user wants Nova to also encrypt the image using a key from the key manager, specified by its secret ID. Consequently, the image stored on the Glance host is encrypted. 3. A user wants to create a new server or volume based on an encrypted image created by any of the use cases described above. The corresponding compute or volume host has to be able to decrypt the image using the symmetric key stored in the key manager and transform it into the requested resource (server disk or volume). 4. A user wants to create a server or a volume based on an encrypted image. The corresponding compute or volume host has to be able to decrypt the image using the symmetric key stored in the key manager and transform it into the requested resource. Proposed change =============== For Glance we want to add a container type for encrypted images that supports different mechanisms (format, cipher algorithms, secret ID) via a metadata property. Whether introducing several container types or outsourcing the mechanism definition into metadata properties may still be up for discussion, although we do favor the latter. To upload an encrypted image to Glance we want to add support for encrypting images using a secret ID which references the symmetric key in the key manager (e.g. Barbican) in OpenStack Client. This also involves new CLI arguments to specify the secret ID and encryption method and this implementation should make use of a centralized encryption implementation provided by a global library, shared between all involved OpenStack components to prevent individual implementations of the encryption mechanism. We propose to use an implementation of symmetric AES 256 encryption provided by GnuPG as a basic mechanism supported by this draft. It is a well established implementation of PGP and supports streamable encryption/decryption processes, which is important as illustrated below. We also explored the possibility of using more elaborated and dynamic approaches like PKCS#7 (CMS) but ultimately failed to find a free open-source implementation (e.g. OpenSSL) that supports streamable decryption of CMS-wrapped encrypted data. More precisely, no implementation we tested was able to decrypt a symmetrically encrypted, CMS-wrapped container without trying to completely load it into memory or suffering from other limitations regarding big files. We require the streamability of the encryption/decryption mechanism for two reasons: 1. Loading entire images into the memory of compute hosts or a users system is unacceptable. 2. We propose direct decryption-streaming into the target storage (e.g. encrypted volume) to prevent the creation of temporary unencrypted files. There is already one existing case in Cinders current implementation where encrypted images are created (use case 2.2). This is when an image is created directly from an encrypted volume. Since the encrypted block data is simply copied into the image, the encryption (usually LUKS) is automatically inherited - as is the encryption key, which is simply cloned in Barbican. The resulting image's container_format is set to ""bare"". Therefore we want to incorporate this special case into the new image encryption concept. This means, we plan to set the resulting image's container_format to ""encrypted"" instead and set its encryption metadata properties appropriately to indicate that the image is a direct volume copy based on LUKS encryption. Alternatives ------------ We could introduce individual container types in Glance for each combination of data format and cipher algorithm instead of a single container type with metadata. This decision affects the implementation in nova and cinder. Regarding the image encryption, we also explored the possibility of using more elaborated and dynamic approaches like PKCS#7 (CMS) but ultimately failed to find a free open-source implementation (e.g. OpenSSL) that supports streamable decryption of CMS-wrapped encrypted data. More precisely, no implementation we tested was able to decrypt a symmetrically encrypted, CMS-wrapped container without trying to completely load it into memory or suffering from other limitations regarding big files. Data model impact ----------------- The impact depends on whether the implementation will make actual changes to the image data model or simply use the custom property field in the metadata. REST API impact --------------- While uploading an image, which should be encrypted, additional properties in the request body will need to be introduced to specify the desired encryption format and key id. Both to be used while encrypting the image locally before uploading it. Security impact --------------- There are impacts on the security of OpenStack: * confidentiality of data in images will be addressed in this spec * image encryption is introduced, thus cryptographic algorithms will be used in all involved components (Nova, Cinder, OSC) Notifications impact -------------------- None Other end user impact --------------------- * Users should be able to optionally, but knowingly upload an encrypted image. Performance Impact ------------------ The proposed encryption/decryption mechanisms in the OpenStack components will only be utilized on-demand and skipped entirely for image container types that arent encrypted. Thus, any performance impact is only applicable to the newly introduced encrypted image type where the processing of the image will have increased computational costs and longer processing times than regular images. Impact will vary depending on the individual host performance and supported CPU extensions for cipher algorithms. Other deployer impact --------------------- * Configuration options added: new container type(s) in Glance. * A key manager - like Barbican - is required. Developer impact ---------------- None Upgrade impact -------------- none Implementation ============== Assignee(s) ----------- Primary assignee: Markus Hentsch (IRC: mhen) Other contributors: Josephine Seifert (IRC: Luzi) Work Items ---------- * Add container type(s) with encryption support to Glance Furthermore: * Add encryption functionality to OSC for creating images from local files Dependencies ============ * GPG is required to be installed on all systems that are required to perform encryption/decryption operations in order to support the proposed base encryption mechanism. * This spec requires the implementation of appropriate encryption/decryption functionality in a global library shared between the components involved in image encryption workflows (Nova, Cinder, OSC), like OpenStack SDK for example Testing ======= Tempest tests would require access to encrypted images for testing. This means that Tempest either needs to be provided with an image file that is already encrypted and its corresponding key or needs to be able to encrypt images itself. This point is still open for discussion. Documentation Impact ==================== It should be documented for deployers, how to enable this feature in the OpenStack configuration. An end user should have a documentation, how to use encrypted images. References ========== Nova-Spec: https://review.openstack.org/#/c/608696/ Cinder Spec: https://review.openstack.org/#/c/608663/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced ",,270,0
openstack%2Frpm-packaging~stable%2Frocky~If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5,openstack/rpm-packaging,stable/rocky,If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5,oswin-tempest-plugin: go with 0.1.0,MERGED,2020-07-07 13:31:01.000000000,2020-07-08 06:14:30.000000000,2020-07-08 06:14:30.000000000,"[{'_account_id': 1916}, {'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 12542}, {'_account_id': 12907}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 13:31:01.000000000', 'files': ['openstack/oswin-tempest-plugin/oswin-tempest-plugin.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/29134faeca568e1b5d98ea1db3e898da894e6d28', 'message': ""oswin-tempest-plugin: go with 0.1.0\n\nNewer versions don't build with Rocky anymore\n\nChange-Id: If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5\n""}]",0,739745,29134faeca568e1b5d98ea1db3e898da894e6d28,9,9,1,6593,,,0,"oswin-tempest-plugin: go with 0.1.0

Newer versions don't build with Rocky anymore

Change-Id: If67437e1888fe6e6ad835e07c85e6cbb0b5f0ea5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/45/739745/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/oswin-tempest-plugin/oswin-tempest-plugin.spec.j2'],1,29134faeca568e1b5d98ea1db3e898da894e6d28,,{% set source = fetch_source('https://tarballs.openstack.org/oswin-tempest-plugin/oswin-tempest-plugin-0.1.0.tar.gz') %} {% set upstream_version = upstream_version('0.1.0') %},{% set source = fetch_source('https://tarballs.openstack.org/oswin-tempest-plugin/oswin-tempest-plugin-master.tar.gz') %} {% set upstream_version = upstream_version() %},2,2
openstack%2Ftripleo-ci~master~I1989f4fcb94a9bc2e8504e8263377aa154efb549,openstack/tripleo-ci,master,I1989f4fcb94a9bc2e8504e8263377aa154efb549,Fix container build role to support new container workflow,MERGED,2020-06-24 09:41:08.000000000,2020-07-08 06:06:58.000000000,2020-07-07 18:08:51.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-24 09:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/34afb772c8485d74d04005f799d72f5bc9a4e5af', 'message': 'Add support for passing authfile with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-25 11:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6716e9e4087dc8ae82d9a1528e91c6221ee2f91f', 'message': 'Add support for passing authfile with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-06-25 11:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a5ea3aac8e7af42f36fc3b335a6b615d5c9c43c8', 'message': 'Add support for passing authfile with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-06-25 12:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bad5a6d873361a5b507d1fc618f12772c627dc4c', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-06-25 13:28:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/73a95cb10623e23de4982424eaee64dc82f59b7a', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 6, 'created': '2020-06-25 14:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/615538653ca75c98a827d49ce858bf4ec86f9837', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 7, 'created': '2020-06-25 17:17:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a90b46f3fa69653ff2f477c53b00537c5c26d8ad', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 8, 'created': '2020-06-26 14:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/efce3777f8c9c4da038f6274d790abe05c0db044', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 9, 'created': '2020-06-29 10:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7b7c4265cdfe9df5988a81d43f5329148fed6073', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 10, 'created': '2020-06-29 12:25:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/92a7153d0ace887328a335ad8aeb3fdd6fb276fc', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 11, 'created': '2020-06-29 12:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/36621c4706133ec943bfc1482bb7f72508af8ada', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 12, 'created': '2020-06-30 10:09:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d9cab1b48160423451955272ae2b1502fbe6d03', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 13, 'created': '2020-07-01 09:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b33d41e50a7d79b11d25d8f392f57eb30024906c', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 14, 'created': '2020-07-01 10:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/de96eab4a3565f95fc0279cb57038ac0bd018c6b', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 15, 'created': '2020-07-01 11:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1f74e7e364a9ceb2c2a99966ab7e49d8c272c88f', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 16, 'created': '2020-07-01 12:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d61aacf48a63cbb4bea61e2fd4cf9ba4b9ff1a3d', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 17, 'created': '2020-07-01 12:41:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c12aa73c89100c199265d9d0059e8d3a066b4ae0', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 18, 'created': '2020-07-01 16:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8df29d83281f81ccdee2ecbbe0217b5f28257a79', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 19, 'created': '2020-07-01 18:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b7a60df896bd88aff21697a2bff9e0328ca16042', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 20, 'created': '2020-07-02 11:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4d72271de7ed637fd550c4163ca32bbc4c573e8e', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 21, 'created': '2020-07-02 11:37:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/1a3e604bfe6e9bced7fc87cc6b3a16cf7773d52f', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 22, 'created': '2020-07-02 11:50:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d99f7936015a633b5fdb20f61745c6a1e0baf956', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 23, 'created': '2020-07-05 12:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e36ac49332c266ef8f1dbb9cc2305111de8bd7f3', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 24, 'created': '2020-07-05 14:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb2681b6043cd87b6e5dbd589a65d88a1435c436', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 25, 'created': '2020-07-06 04:55:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b04d145f20ebce8b113d402dc1d63de5da2b21c0', 'message': 'Add support for passing authfile and registry with container build\n\nWhen push_containers is set to true, then authfile is needed,\ncan be passed via --authfile [1] with\nopenstack tripleo container image build command\nin order to authenticate with registry to push the containers if\nregistry requires authenication.\n\nauthfile path can be setted by setting\nbuildcontainers_authfile_path var while running build containers\nrole.\n\nIt will be used while pushing container to registry using new\ncontainer workflow.\n\nAlso set registry flag when push_containers is defined.\nSet registry names also with new container workflow.\nSet container tag when buildcontainers_override_repos is defined.\nFixed exclude containers params\n\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 26, 'created': '2020-07-06 07:38:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6421c06592e445ec3f30c83dabdd1f1b72c088da', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace and tag.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 27, 'created': '2020-07-06 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a389c7a6d5533e4b982c5a1653843a23b448da10', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace and tag.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 28, 'created': '2020-07-06 11:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/531fcdbf7f0c8bab88055c8fa6f3c0becc250bee', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace and tag.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 29, 'created': '2020-07-06 12:55:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b0f1ef1a40495e4732ca23fb68d00d7d8943a3b7', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace, prefix\nand tag.\n\nThe default prefix is openstack but it needs to be\ncentos-binary.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 30, 'created': '2020-07-07 05:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/305a16c5005b6787d814a56c8d491a46ef58a841', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace, prefix\nand tag.\n\nThe default prefix is openstack but it needs to be\ncentos-binary.\n\nUse version_hash to tag the containers.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 31, 'created': '2020-07-07 06:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7808fca26e6a0c1cdb5c85fbcd3f220d6f87e648', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace, prefix\nand tag.\n\nThe default prefix is openstack but it needs to be\ncentos-binary.\n\nUse version_hash to tag the containers and grep successful\ncontainers based on ansible distribution as it defaults points\nto kolla base.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}, {'number': 32, 'created': '2020-07-07 07:04:36.000000000', 'files': ['roles/build-containers/templates/build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c2ce879c4fe84b3ebb9cc8d7d7202690e3d1cae1', 'message': 'Fix container build role to support new container workflow\n\nWhen push_containers is set to true, it needs to be pushed\nto a particular registry with proper namespace, prefix\nand tag.\n\nThe default prefix is openstack but it needs to be\ncentos-binary.\n\nUse version_hash to tag the containers and grep successful\ncontainers based on ansible distribution as it defaults points\nto kolla base.\n\nIt fixes the build.sh.j2 script for the same based on the\nfollowing doc[1.]\n[1].\nhttps://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build\n\nIt is getting tested here: https://review.rdoproject.org/r/#/c/28194\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1834\n\nChange-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nCo-authored-by: Bhagyashri Shewale <bshewale@redhat.com>\n'}]",12,737727,c2ce879c4fe84b3ebb9cc8d7d7202690e3d1cae1,88,14,32,12393,,,0,"Fix container build role to support new container workflow

When push_containers is set to true, it needs to be pushed
to a particular registry with proper namespace, prefix
and tag.

The default prefix is openstack but it needs to be
centos-binary.

Use version_hash to tag the containers and grep successful
containers based on ansible distribution as it defaults points
to kolla base.

It fixes the build.sh.j2 script for the same based on the
following doc[1.]
[1].
https://docs.openstack.org/project-deploy-guide/tripleo-docs/latest/deployment/3rd_party.html#building-new-containers-with-tripleo-container-image-build

It is getting tested here: https://review.rdoproject.org/r/#/c/28194

https://tree.taiga.io/project/tripleo-ci-board/task/1834

Change-Id: I1989f4fcb94a9bc2e8504e8263377aa154efb549
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Co-authored-by: Bhagyashri Shewale <bshewale@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/27/737727/32 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-containers/templates/build.sh.j2', 'roles/build-containers/defaults/main.yaml']",2,34afb772c8485d74d04005f799d72f5bc9a4e5af,newcontainerbuild,"# When push_containers is set to true, then --authfile is needed for # pushing containers to registry. The default auth file is # ${XDG_RUNTIME_DIR}/containers/auth.json, It will be auto # generated on doing podman login -u <user> -p <pass> registry url buildcontainers_authfile_path: '${XDG_RUNTIME_DIR}/containers/auth.json'",,8,0
openstack%2Ftripleo-common~stable%2Fussuri~Iff8eec43bd73bc6486f56e741e740869d1b8acbb,openstack/tripleo-common,stable/ussuri,Iff8eec43bd73bc6486f56e741e740869d1b8acbb,Switch to tripleo_dense,MERGED,2020-07-06 18:43:29.000000000,2020-07-08 05:44:26.000000000,2020-07-08 05:42:34.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:43:29.000000000', 'files': ['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d7f60c5c3461312734f222100e9d423c2374bde', 'message': 'Switch to tripleo_dense\n\nChange-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb\nDepends-On: https://review.opendev.org/#/c/726479/\n(cherry picked from commit 0186702a41c8a917013931a4dd2a1164777380fb)\n'}]",0,739577,0d7f60c5c3461312734f222100e9d423c2374bde,16,5,1,3153,,,0,"Switch to tripleo_dense

Change-Id: Iff8eec43bd73bc6486f56e741e740869d1b8acbb
Depends-On: https://review.opendev.org/#/c/726479/
(cherry picked from commit 0186702a41c8a917013931a4dd2a1164777380fb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/77/739577/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/actions/ansible.py', 'tripleo_common/tests/actions/test_ansible.py']",2,0d7f60c5c3461312734f222100e9d423c2374bde,callback-improvements-stable/ussuri," 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo_dense,tripleo_profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo_dense',"," 'ANSIBLE_CALLBACK_WHITELIST': 'tripleo,profile_tasks', 'ANSIBLE_STDOUT_CALLBACK': 'tripleo',",7,5
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I373636bbc9d296f41b63de76719320727d3f4fb9,openstack/tripleo-heat-templates,stable/train,I373636bbc9d296f41b63de76719320727d3f4fb9,Add filestore to bluestore migration tags,MERGED,2020-07-06 21:44:55.000000000,2020-07-08 05:42:36.000000000,2020-07-08 05:42:36.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-06 21:44:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/081a340b009b0c60dec9c23c041c09ade9c3f251', 'message': ""Add filestore to bluestore migration tags\n\nCurrently ceph-ansible assumes the cluster\n(which is updated to ceph4) is using bluestore\njust because it's the default on ceph-ansible.\nThis patch adds some missing tags to make sure\nthe variable contained in the heat stack are\nproperly regenerated and the fs2bs playbook can\nbe executed with the right variables.\n\nChange-Id: I373636bbc9d296f41b63de76719320727d3f4fb9\n(cherry picked from commit c9cd67124fb758e9023395e5ae4f8223111e2e51)\n""}, {'number': 2, 'created': '2020-07-07 06:47:00.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/883d778f8ad0f78932c38da069727f48f8b9bb22', 'message': ""Add filestore to bluestore migration tags\n\nCurrently ceph-ansible assumes the cluster\n(which is updated to ceph4) is using bluestore\njust because it's the default on ceph-ansible.\nThis patch adds some missing tags to make sure\nthe variable contained in the heat stack are\nproperly regenerated and the fs2bs playbook can\nbe executed with the right variables.\n\nChange-Id: I373636bbc9d296f41b63de76719320727d3f4fb9\n(cherry picked from commit c9cd67124fb758e9023395e5ae4f8223111e2e51)\n""}]",0,739611,883d778f8ad0f78932c38da069727f48f8b9bb22,16,5,2,6796,,,0,"Add filestore to bluestore migration tags

Currently ceph-ansible assumes the cluster
(which is updated to ceph4) is using bluestore
just because it's the default on ceph-ansible.
This patch adds some missing tags to make sure
the variable contained in the heat stack are
properly regenerated and the fs2bs playbook can
be executed with the right variables.

Change-Id: I373636bbc9d296f41b63de76719320727d3f4fb9
(cherry picked from commit c9cd67124fb758e9023395e5ae4f8223111e2e51)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/739611/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml']",10,081a340b009b0c60dec9c23c041c09ade9c3f251,, tags: - ceph - ceph_fstobs - ceph_systemd, tags: ceph,40,10
openstack%2Ftripleo-upgrade~stable%2Ftrain~I3eadfad34aa563084fd4cc68990cb247e734d508,openstack/tripleo-upgrade,stable/train,I3eadfad34aa563084fd4cc68990cb247e734d508,Refactor ceph-ansible upgrade,MERGED,2020-07-02 08:45:52.000000000,2020-07-08 05:42:33.000000000,2020-07-08 05:42:33.000000000,"[{'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-02 08:45:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f250ec95108cbe2290e05b06289efe316a6e3f1a', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)\n'}, {'number': 2, 'created': '2020-07-07 15:41:57.000000000', 'files': ['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/2ca2ca4a4607cfc68875a110f711ddf4cd45be29', 'message': 'Refactor ceph-ansible upgrade\n\nceph-ansible and python-tripleoclient have different ""minimum"" required\nversion of ansible in specification. This patch upgrades ceph-ansible as\nprerequisite so all dependencies will be met. In fast-forward script\nchecks if ceph-ansible is installed.If yes, it will upgrade it to latest\nversions in repositories.\n\nChange-Id: I3eadfad34aa563084fd4cc68990cb247e734d508\nRelated-Bug: 1885637\n(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)\n'}]",0,738990,2ca2ca4a4607cfc68875a110f711ddf4cd45be29,10,6,2,6816,,,0,"Refactor ceph-ansible upgrade

ceph-ansible and python-tripleoclient have different ""minimum"" required
version of ansible in specification. This patch upgrades ceph-ansible as
prerequisite so all dependencies will be met. In fast-forward script
checks if ceph-ansible is installed.If yes, it will upgrade it to latest
versions in repositories.

Change-Id: I3eadfad34aa563084fd4cc68990cb247e734d508
Related-Bug: 1885637
(cherry picked from commit 3fb8fe1912a7fe2f484390d2adc4e618e147a554)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/90/738990/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/undercloud_upgrade.sh.j2', 'tasks/common/undercloud_prerequisites.yaml', 'tasks/upgrade/overcloud_upgrade_prepare.yml']",3,f250ec95108cbe2290e05b06289efe316a6e3f1a,bug/1885637-stable/train,,- name: Make sure ceph-ansible is installed if ceph is deployed package: name: ceph-ansible state: latest become: true become_user: root when: ceph_osd_enabled|bool ,12,9
openstack%2Ftripleo-ci~master~I7fd16db29850cf115253fee7926a50bebe50c8a7,openstack/tripleo-ci,master,I7fd16db29850cf115253fee7926a50bebe50c8a7,Add openstack-tempest-skiplist to list of external repos,MERGED,2020-06-25 13:37:33.000000000,2020-07-08 04:50:21.000000000,2020-07-08 04:50:21.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-25 13:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bc899cb9387053c500b3ec7f71f553f71ad0e647', 'message': 'DNM - Testing tempest skiplist\n\nChange-Id: I7fd16db29850cf115253fee7926a50bebe50c8a7\n'}, {'number': 2, 'created': '2020-06-29 08:41:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6537e4f5d0b53053b60c06dcf8b0290af1e72f17', 'message': 'Add openstack-tempest-skiplist to list of external repos\n\nThe new openstack-tempest-skiplist repo needs to be in the external\nrepo list in order to proper be gated by tripleo\n\nChange-Id: I7fd16db29850cf115253fee7926a50bebe50c8a7\n'}, {'number': 3, 'created': '2020-07-06 17:26:22.000000000', 'files': ['roles/run-test/templates/toci_gate_test.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/93fdd6f220931fd99f617ec6fb5dcc1804d8173f', 'message': 'Add openstack-tempest-skiplist to list of external repos\n\nThe new openstack-tempest-skiplist repo needs to be in the external\nrepo list in order to proper be gated by tripleo\n\nChange-Id: I7fd16db29850cf115253fee7926a50bebe50c8a7\n'}]",0,738022,93fdd6f220931fd99f617ec6fb5dcc1804d8173f,57,12,3,8367,,,0,"Add openstack-tempest-skiplist to list of external repos

The new openstack-tempest-skiplist repo needs to be in the external
repo list in order to proper be gated by tripleo

Change-Id: I7fd16db29850cf115253fee7926a50bebe50c8a7
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/22/738022/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/templates/toci_gate_test.sh.j2'],1,bc899cb9387053c500b3ec7f71f553f71ad0e647,tempest-skiplist,"openstack/tripleo-operator-ansible openstack/ansible-collections-openstack openstack/tripleo-ansible x/tripleo-ipa \ openstack/openstack-tempest-skiplist""","openstack/tripleo-operator-ansible openstack/ansible-collections-openstack openstack/tripleo-ansible x/tripleo-ipa""",2,1
openstack%2Ftripleo-ansible~master~I644210a2dcc4cb3810d0999e8c69f8d54f602793,openstack/tripleo-ansible,master,I644210a2dcc4cb3810d0999e8c69f8d54f602793,Use registry:2.7.0 instead of registry:2,MERGED,2020-07-07 12:36:07.000000000,2020-07-08 03:58:01.000000000,2020-07-07 17:20:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:36:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29ef5780fa622bc61757d81e107d6942fc7fe168', 'message': ""Use registry:2.7.0 instead of registry:2\n\nhtpasswd is removed in latest registry image[1]\nand it's breaking molecule job for tripleo_podman\nrole, let's use working registry image.\n\n[1] https://github.com/docker/distribution-library-image/issues/106\nChange-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793\n""}, {'number': 2, 'created': '2020-07-07 12:46:58.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/439671e77011ef638a280041ad4469e4a764bf7c', 'message': ""Use registry:2.7.0 instead of registry:2\n\nhtpasswd is removed in latest registry image[1]\nand it's breaking molecule job for tripleo_podman\nrole, let's use working registry image.\n\n[1] https://github.com/docker/distribution-library-image/issues/106\nChange-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793\n""}]",0,739726,439671e77011ef638a280041ad4469e4a764bf7c,9,4,2,13861,,,0,"Use registry:2.7.0 instead of registry:2

htpasswd is removed in latest registry image[1]
and it's breaking molecule job for tripleo_podman
role, let's use working registry image.

[1] https://github.com/docker/distribution-library-image/issues/106
Change-Id: I644210a2dcc4cb3810d0999e8c69f8d54f602793
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/739726/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml'],1,29ef5780fa622bc61757d81e107d6942fc7fe168,739415," podman run --entrypoint htpasswd registry:2.7.0 -Bbn testuser testpassword > {{ ansible_user_dir }}/auth/htpasswd image: ""registry:2.7.0"""," podman run --entrypoint htpasswd registry:2 -Bbn testuser testpassword > {{ ansible_user_dir }}/auth/htpasswd image: ""registry:2""",2,2
openstack%2Fneutron~master~I1753263cb15ce2988ac4ccae03b7395069f2c4e9,openstack/neutron,master,I1753263cb15ce2988ac4ccae03b7395069f2c4e9,Relocate _delete_expired_default_network_segment_ranges,MERGED,2020-07-02 17:43:21.000000000,2020-07-08 03:34:26.000000000,2020-07-08 03:30:54.000000000,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-02 17:43:21.000000000', 'files': ['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/plugins/ml2/drivers/type_tunnel.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fa6e4135cf2caa9523b2aed01b10fd82856d5b9', 'message': 'Relocate _delete_expired_default_network_segment_ranges\n\nRelocate ""_delete_expired_default_network_segment_ranges"" to avoid\ncode redundancy.\n\nNow instead of searching all objects and deleting one by one,\n""delete_objects"" is used.\n\nTrivial-Fix\n\nChange-Id: I1753263cb15ce2988ac4ccae03b7395069f2c4e9\n'}]",0,739124,6fa6e4135cf2caa9523b2aed01b10fd82856d5b9,19,8,1,16688,,,0,"Relocate _delete_expired_default_network_segment_ranges

Relocate ""_delete_expired_default_network_segment_ranges"" to avoid
code redundancy.

Now instead of searching all objects and deleting one by one,
""delete_objects"" is used.

Trivial-Fix

Change-Id: I1753263cb15ce2988ac4ccae03b7395069f2c4e9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/739124/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/type_vlan.py', 'neutron/plugins/ml2/drivers/helpers.py', 'neutron/plugins/ml2/drivers/type_tunnel.py']",3,6fa6e4135cf2caa9523b2aed01b10fd82856d5b9,relocate_segments_delete,," def _delete_expired_default_network_segment_ranges(self): ctx = context.get_admin_context() with db_api.CONTEXT_WRITER.using(ctx): filters = { 'default': True, 'network_type': self.get_type(), } old_default_range_objs = range_obj.NetworkSegmentRange.get_objects( ctx, **filters) for obj in old_default_range_objs: obj.delete() @db_api.retry_db_errors",8,26
openstack%2Fglance~stable%2Ftrain~I845bce79e487656a284e52e4c605d648a5411822,openstack/glance,stable/train,I845bce79e487656a284e52e4c605d648a5411822,Use grenade-multinode instead of the custom legacy job,MERGED,2020-07-05 23:06:42.000000000,2020-07-08 03:33:55.000000000,2020-07-08 03:30:57.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-05 23:06:42.000000000', 'files': ['.zuul.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/post.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/bdba1feacb7fa088650667e69290aa6e9bfad65c', 'message': 'Use grenade-multinode instead of the custom legacy job\n\nglance-dsvm-grenade-multinode is a simple multinode grenade job and\nit can thus be replaced by the existing grenade-multinode.\n\nConflicts:\n\t.zuul.yaml\n\tplaybooks/legacy/glance-dsvm-grenade-multinode/run.yaml\nConflicts due to the evolution of the 2 files over the releases.\n\nChange-Id: I845bce79e487656a284e52e4c605d648a5411822\n(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)\n(cherry picked from commit 0855cc1eaa6b25b823db3253afee10ca13fc39c2)\n'}]",0,739376,bdba1feacb7fa088650667e69290aa6e9bfad65c,12,4,1,10459,,,0,"Use grenade-multinode instead of the custom legacy job

glance-dsvm-grenade-multinode is a simple multinode grenade job and
it can thus be replaced by the existing grenade-multinode.

Conflicts:
	.zuul.yaml
	playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml
Conflicts due to the evolution of the 2 files over the releases.

Change-Id: I845bce79e487656a284e52e4c605d648a5411822
(cherry picked from commit a506e941152d1dacba57c800c34623d9ad02bebe)
(cherry picked from commit 0855cc1eaa6b25b823db3253afee10ca13fc39c2)
",git fetch https://review.opendev.org/openstack/glance refs/changes/76/739376/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/post.yaml', 'playbooks/legacy/glance-dsvm-grenade-multinode/run.yaml']",3,bdba1feacb7fa088650667e69290aa6e9bfad65c,native-zuulv3-migration,,"- hosts: primary name: Autoconverted job legacy-glance-dsvm-grenade-multinode from old job gate-glance-dsvm-grenade-multinode-ubuntu-xenial-nv tasks: - name: Ensure legacy workspace directory file: path: '{{ ansible_user_dir }}/workspace' state: directory - shell: cmd: | set -e set -x cat > clonemap.yaml << EOF clonemap: - name: openstack/devstack-gate dest: devstack-gate EOF /usr/zuul-env/bin/zuul-cloner -m clonemap.yaml --cache-dir /opt/git \ https://opendev.org \ openstack/devstack-gate executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' - shell: cmd: | set -e set -x export PYTHONUNBUFFERED=true export DEVSTACK_GATE_NEUTRON=1 export DEVSTACK_GATE_CONFIGDRIVE=0 export DEVSTACK_GATE_GRENADE=pullup export PROJECTS=""openstack/grenade $PROJECTS"" export BRANCH_OVERRIDE=default if [ ""$BRANCH_OVERRIDE"" != ""default"" ] ; then export OVERRIDE_ZUUL_BRANCH=$BRANCH_OVERRIDE fi export DEVSTACK_GATE_TOPOLOGY=""multinode"" cp devstack-gate/devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh ./safe-devstack-vm-gate-wrap.sh executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",1,72
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Id6f612a91255b3158be821c363ca852c6b5d7496,openstack/tripleo-heat-templates,stable/train,Id6f612a91255b3158be821c363ca852c6b5d7496,Add new parameter PublicTLSCACert,MERGED,2020-06-29 20:44:51.000000000,2020-07-08 03:19:10.000000000,2020-07-08 03:17:35.000000000,"[{'_account_id': 3153}, {'_account_id': 8833}, {'_account_id': 9914}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-06-29 20:44:51.000000000', 'files': ['sample-env-generator/ssl.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'environments/public-tls-undercloud.yaml', 'environments/ssl/enable-tls.yaml', 'releasenotes/notes/add-publictlscafile-parameter-0fd9c19dcd20be0b.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/889163cd83c80708e96f9f2fb6c63b2af5555604', 'message': ""Add new parameter PublicTLSCACert\n\nWe've been using InternalTLSCAFile parameter when enabling\npublic TLS for undercloud and is quite confusing. We recently\nchanged to use it in clouds.yaml and it would break when\nboth public and internal TLS are enabled for overcloud and both\nuse different CA certs. This adds a new parameter which we\nwill use in clouds.yaml, that would default to empty string\nassuming that the certificates are trusted.\n\nCloses-Bug: #1883818\nChange-Id: Id6f612a91255b3158be821c363ca852c6b5d7496\nDepends-On: https://review.opendev.org/737998\n(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)\n""}]",0,738507,889163cd83c80708e96f9f2fb6c63b2af5555604,21,7,1,11589,,,0,"Add new parameter PublicTLSCACert

We've been using InternalTLSCAFile parameter when enabling
public TLS for undercloud and is quite confusing. We recently
changed to use it in clouds.yaml and it would break when
both public and internal TLS are enabled for overcloud and both
use different CA certs. This adds a new parameter which we
will use in clouds.yaml, that would default to empty string
assuming that the certificates are trusted.

Closes-Bug: #1883818
Change-Id: Id6f612a91255b3158be821c363ca852c6b5d7496
Depends-On: https://review.opendev.org/737998
(cherry picked from commit 2acb0d376b66375ba000369b24fc3354365b2601)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/738507/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/ssl.yaml', 'environments/ssl/enable-internal-tls.j2.yaml', 'environments/public-tls-undercloud.yaml', 'environments/ssl/enable-tls.yaml', 'releasenotes/notes/add-publictlscafile-parameter-0fd9c19dcd20be0b.yaml', 'deployment/keystone/keystone-container-puppet.yaml']",6,889163cd83c80708e96f9f2fb6c63b2af5555604,, PublicTLSCAFile: default: '' services in the public network. - {get_param: PublicTLSCAFile}, InternalTLSCAFile: default: '/etc/ipa/ca.crt' services in the internal network. - {get_param: InternalTLSCAFile},15,16
openstack%2Fpuppet-tripleo~stable%2Fussuri~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,stable/ussuri,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-07 14:41:06.000000000,2020-07-08 03:17:33.000000000,2020-07-08 03:17:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-07 14:41:06.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a34eb1c669120dde05332189f125d3a1586b9fb', 'message': 'Add FFU support for ceph_nfs\n\nThis patch fixes the ceph_nfs upgrade process checking\nfor the short_name variable definition.\nThis is required to properly handle the FFU process for\nthis service.\n\nChange-Id: I89c848bdae1b997b38a5164302acdcca94619471\n(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)\n'}]",0,739781,2a34eb1c669120dde05332189f125d3a1586b9fb,11,9,1,25402,,,0,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
(cherry picked from commit 4243119d09ff9ee88aea71496753658f9d06d934)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/81/739781/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,2a34eb1c669120dde05332189f125d3a1586b9fb,ffu-ceph-nfs-stable/ussuri," if (hiera('ceph_nfs_short_node_names_override', undef)) { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names_override') } else { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names') } ", $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names'),6,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,stable/train,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-07-06 14:14:56.000000000,2020-07-08 03:17:31.000000000,2020-07-08 03:17:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:14:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c8ea9aef3841d35492e02054ab0db0f738a22b74', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)\n'}, {'number': 2, 'created': '2020-07-07 13:43:02.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/39945d5630c0d83a8b7fafd6b45e945c3e89c800', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)\n'}]",0,739497,39945d5630c0d83a8b7fafd6b45e945c3e89c800,15,6,2,3153,,,0,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/97/739497/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,c8ea9aef3841d35492e02054ab0db0f738a22b74,bug/1885619-stable/train," ro_files+=""/etc/hosts /etc/localtime /etc/hostname"" # Cleanup any special files that might have been copied into place # previously because fixes for LP#1860607 did not cleanup and required # manual intervention if a container hit this. We can safely remove these # files because they should be bind mounted into containers for ro in $ro_files; do if [ -e ""${puppet_generated_path}/${ro}"" ]; then rm -rf ""${puppet_generated_path}/${ro}"" fi done "," ro_files+=""/etc/hosts /etc/localtime""",11,2
openstack%2Ftripleo-ci~master~I5f4a771ebdbb9b2496e9534624a48f38dc87c98f,openstack/tripleo-ci,master,I5f4a771ebdbb9b2496e9534624a48f38dc87c98f,Trigger standalone ipa job on changes to puppet rabbitmq,MERGED,2020-07-02 19:14:22.000000000,2020-07-08 02:25:28.000000000,2020-07-08 02:25:27.000000000,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 19:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/242faec7c4438a278d5639c9f04b323d9eb00ca0', 'message': 'trigger standalone ipa job on changes to puppet rabbitmq\n\nRelated-Bug: #1884922\nChange-Id: I5f4a771ebdbb9b2496e9534624a48f38dc87c98f\n'}, {'number': 2, 'created': '2020-07-07 16:06:23.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c3dbd8b6f7a68dcb2dc633986d8ce84f083403d5', 'message': 'Trigger standalone ipa job on changes to puppet rabbitmq\n\nThe multinode-IPA jobs broke due to changes in\nhttps://review.opendev.org/#/c/739133.\nSee comments in: \nhttps://bugs.launchpad.net/tripleo/+bug/1886068.\n\nThis review adds the multinode-IPA job to\ntrigger on changes to puppet rabbitmq that\ncould impact TLS internal used in the IPA job.\n\nRelated-Bug: #1884922\nChange-Id: I5f4a771ebdbb9b2496e9534624a48f38dc87c98f\n'}]",1,739133,c3dbd8b6f7a68dcb2dc633986d8ce84f083403d5,15,5,2,9592,,,0,"Trigger standalone ipa job on changes to puppet rabbitmq

The multinode-IPA jobs broke due to changes in
https://review.opendev.org/#/c/739133.
See comments in: 
https://bugs.launchpad.net/tripleo/+bug/1886068.

This review adds the multinode-IPA job to
trigger on changes to puppet rabbitmq that
could impact TLS internal used in the IPA job.

Related-Bug: #1884922
Change-Id: I5f4a771ebdbb9b2496e9534624a48f38dc87c98f
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/33/739133/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,242faec7c4438a278d5639c9f04b323d9eb00ca0,1884922, # puppet - manifests/profile/base/rabbitmq.pp,,2,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I2670840c9beac06f8b8ffc6eaecc88b9119ad298,openstack/tripleo-heat-templates,stable/train,I2670840c9beac06f8b8ffc6eaecc88b9119ad298,Collapse host prep tasks,MERGED,2020-07-06 16:03:02.000000000,2020-07-08 02:25:25.000000000,2020-07-08 02:25:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:03:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/71d4ba5b0dc48716414dec7a473ac0e0e79d4d55', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}, {'number': 2, 'created': '2020-07-07 11:36:49.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f3597daf91409d1c287a271d452bb148e50d42a', 'message': 'Collapse host prep tasks\n\nSince plays cannot be parallelized with a free-like strategy, we should\nhave a single play that runs all host prep tasks rather than blocks of\nplays for each defined role. By switching to this method we have a\nsingle play that handles the host prep tasks concept that can be run all\nat once across a cloud.\n\nChange-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298\n(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)\n'}]",0,739528,4f3597daf91409d1c287a271d452bb148e50d42a,11,5,2,3153,,,0,"Collapse host prep tasks

Since plays cannot be parallelized with a free-like strategy, we should
have a single play that runs all host prep tasks rather than blocks of
plays for each defined role. By switching to this method we have a
single play that handles the host prep tasks concept that can be run all
at once across a cloud.

Change-Id: I2670840c9beac06f8b8ffc6eaecc88b9119ad298
(cherry picked from commit 3ef8f6008d41a88642d66a6a24c67210f773f87e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/739528/2 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,71d4ba5b0dc48716414dec7a473ac0e0e79d4d55,collaps/host/train, - hosts: {{primary_role_name}}:DEPLOY_TARGET_HOST name: Host prep steps{%- for role in roles %} - name: {{role.name}} Host prep block when: - tripleo_role_name == '{{role.name}}' block: - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task '{{role.name}} Host prep steps' to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml {%- endfor %},"{%- for role in roles %} - hosts: {{role.name}} name: {{role.name}} Host prep steps - name: {{role.name}} Host prep steps delegate_to: localhost run_once: true debug: msg: Use --start-at-task ""{{role.name}} Host prep steps"" to resume from this task - import_tasks: {{role.name}}/host_prep_tasks.yaml{%- endfor %}",14,10
openstack%2Ftripleo-ansible~master~I3d38d406e9f63008f7060f31cc9ff378e97120bb,openstack/tripleo-ansible,master,I3d38d406e9f63008f7060f31cc9ff378e97120bb,Login with buildah too to allow registry access with buildah,MERGED,2020-07-06 06:54:02.000000000,2020-07-08 01:49:26.000000000,2020-07-08 00:36:25.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 06:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1a0ee04972ac369687d8decc6bef50d9948480ad', 'message': '[WIP] Login with buildah to enable push\n\nContainers are being pushed with sudo buildah push\nand loging with podman login do not work with it,\nso ensure sudo buildah login is also ran.\n\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n'}, {'number': 2, 'created': '2020-07-07 10:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f9ffec260b2aa5d29b15a0ed7d6dbde19dff503c', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n""}, {'number': 3, 'created': '2020-07-07 13:43:08.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/067a315df92248f83103e5b4b7ec8424c9b5d6a9', 'message': ""Login with buildah too to allow registry access with buildah\n\nbuildah login and podman login with root do not share same\nauthfile, buildah uses /run/containers/0/auth.json while\npodman uses /run/user/0/containers/auth.json resulted from\n$XDG_RUNTIME_DIR.\n\nTo ensure both podman and buildah can access the configured\nregistry, run login command with both.\n\nIt's mainly needed as container images are being pushed\nwith tripleoclient using sudo buildah push and buildah creds\nare not setup.\n\nRelated-Bug: #1886555\nChange-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb\n""}]",0,739415,067a315df92248f83103e5b4b7ec8424c9b5d6a9,22,7,3,13861,,,0,"Login with buildah too to allow registry access with buildah

buildah login and podman login with root do not share same
authfile, buildah uses /run/containers/0/auth.json while
podman uses /run/user/0/containers/auth.json resulted from
$XDG_RUNTIME_DIR.

To ensure both podman and buildah can access the configured
registry, run login command with both.

It's mainly needed as container images are being pushed
with tripleoclient using sudo buildah push and buildah creds
are not setup.

Related-Bug: #1886555
Change-Id: I3d38d406e9f63008f7060f31cc9ff378e97120bb
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/15/739415/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/vars/redhat.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml']",2,1a0ee04972ac369687d8decc6bef50d9948480ad,739415," - name: Perform container registry login(s) buildah with sudo shell: |- sudo buildah login --username=$REGISTRY_USERNAME \ --password=$REGISTRY_PASSWORD \ --tls-verify={{ tripleo_podman_tls_verify }} \ $REGISTRY environment: REGISTRY_USERNAME: ""{{ lookup('dict', item.value).key }}"" REGISTRY_PASSWORD: ""{{ lookup('dict', item.value).value }}"" REGISTRY: ""{{ item.key }}"" no_log: ""{{ tripleo_podman_hide_sensitive_logs | bool }}"" loop: ""{{ query('dict', tripleo_container_registry_logins) }}"" register: registry_login_podman",,15,0
openstack%2Fmanila~master~If91c651437e3f0701f025cf5d62064387d6d71f1,openstack/manila,master,If91c651437e3f0701f025cf5d62064387d6d71f1,TrivialFix: Correct cephfs support release note,MERGED,2020-07-07 17:22:51.000000000,2020-07-08 01:45:51.000000000,2020-07-07 17:58:38.000000000,"[{'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 17:22:51.000000000', 'files': ['releasenotes/notes/cephfs-support-statement-for-victoria-and-beyond-e94baa7857b1624c.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/03cb8a39efb998b12dfc26ec319c4a268624c134', 'message': 'TrivialFix: Correct cephfs support release note\n\nChange-Id: If91c651437e3f0701f025cf5d62064387d6d71f1\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",0,739823,03cb8a39efb998b12dfc26ec319c4a268624c134,12,5,1,16643,,,0,"TrivialFix: Correct cephfs support release note

Change-Id: If91c651437e3f0701f025cf5d62064387d6d71f1
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/23/739823/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/cephfs-support-statement-for-victoria-and-beyond-e94baa7857b1624c.yaml'],1,03cb8a39efb998b12dfc26ec319c4a268624c134,bp/update-cephfs-drivers, prior to Nautilus. CephFS drivers interact with Ceph clusters, prior to Nautilus. The CephFS drivers interact with with Ceph clusters,1,1
openstack%2Fmanila~master~Id847b1b5e6623172f2600afd69e51182067444cb,openstack/manila,master,Id847b1b5e6623172f2600afd69e51182067444cb,Add Ceph support statement,MERGED,2020-06-18 18:11:24.000000000,2020-07-08 01:31:17.000000000,2020-07-07 17:17:16.000000000,"[{'_account_id': 6413}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-18 18:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e3b25ede649dd6de7f7e9ac80173d6f9bc3d7bd4', 'message': ""Add Ceph support statement\n\nThe manila discussed cephfs futures\nduring the Victoria cycle PTG [1]. To support newer\nfeatures in ceph, we'll need to start using the\nceph-mgr interface that debuted in Nautilus.\n\nWhen we start adopting ceph-mgr, we can no longer\nsupport Mimic, Luminous and older releases of Ceph\nwithout maintaining code workarounds and a continuous\nintegration system to ensure they're not broken.\nThis takes considerable effort from community members.\n\nWe've supported the Luminous release since OpenStack\nQueens, and there have been at least\nthree other major releases of Ceph in the meantime,\nlet's add a release note and adjust the ceph driver\ndocumentation calling out our support/testing stance.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Id847b1b5e6623172f2600afd69e51182067444cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2020-06-18 23:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/8355316b2cc5fe16aa74aa236de6aff041b2351e', 'message': ""Add Ceph support statement\n\nThe manila discussed cephfs futures\nduring the Victoria cycle PTG [1]. To support newer\nfeatures in ceph, we'll need to start using the\nceph-mgr interface that debuted in Nautilus.\n\nWhen we start adopting ceph-mgr, we can no longer\nsupport Mimic, Luminous and older releases of Ceph\nwithout maintaining code workarounds and a continuous\nintegration system to ensure they're not broken.\nThis takes considerable effort from community members.\n\nWe've supported the Luminous release since OpenStack\nQueens, and there have been at least\nthree other major releases of Ceph in the meantime,\nlet's add a release note and adjust the ceph driver\ndocumentation calling out our support/testing stance.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Id847b1b5e6623172f2600afd69e51182067444cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 3, 'created': '2020-06-19 19:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/c9d79c9b9431ebddb3bebca2082879eb95d46963', 'message': ""Add Ceph support statement\n\nThe manila discussed cephfs futures\nduring the Victoria cycle PTG [1]. To support newer\nfeatures in ceph, we'll need to start using the\nceph-mgr interface that debuted in Nautilus.\n\nWhen we start adopting ceph-mgr, we can no longer\nsupport Mimic, Luminous and older releases of Ceph\nwithout maintaining code workarounds and a continuous\nintegration system to ensure they're not broken.\nThis takes considerable effort from community members.\n\nWe've supported the Luminous release since OpenStack\nQueens, and there have been at least\nthree other major releases of Ceph in the meantime,\nlet's add a release note and adjust the ceph driver\ndocumentation calling out our support/testing stance.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Id847b1b5e6623172f2600afd69e51182067444cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 4, 'created': '2020-07-07 00:15:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/df89c5bdb65cb9475ca108739296e876da1e8238', 'message': ""Add Ceph support statement\n\nThe manila discussed cephfs futures\nduring the Victoria cycle PTG [1]. To support newer\nfeatures in ceph, we'll need to start using the\nceph-mgr interface that debuted in Nautilus.\n\nWhen we start adopting ceph-mgr, we can no longer\nsupport Mimic, Luminous and older releases of Ceph\nwithout maintaining code workarounds and a continuous\nintegration system to ensure they're not broken.\nThis takes considerable effort from community members.\n\nWe've supported the Luminous release since OpenStack\nQueens, and there have been at least\nthree other major releases of Ceph in the meantime,\nlet's add a release note and adjust the ceph driver\ndocumentation calling out our support/testing stance.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Id847b1b5e6623172f2600afd69e51182067444cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 5, 'created': '2020-07-07 00:19:14.000000000', 'files': ['doc/source/admin/cephfs_driver.rst', 'releasenotes/notes/cephfs-support-statement-for-victoria-and-beyond-e94baa7857b1624c.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/524ad986e33e6b75cba76b1790dd031565ba1225', 'message': ""Add Ceph support statement\n\nThe manila discussed cephfs futures\nduring the Victoria cycle PTG [1]. To support newer\nfeatures in ceph, we'll need to start using the\nceph-mgr interface that debuted in Nautilus.\n\nWhen we start adopting ceph-mgr, we can no longer\nsupport Mimic, Luminous and older releases of Ceph\nwithout maintaining code workarounds and a continuous\nintegration system to ensure they're not broken.\nThis takes considerable effort from community members.\n\nWe've supported the Luminous release since OpenStack\nQueens, and there have been at least\nthree other major releases of Ceph in the meantime,\nlet's add a release note and adjust the ceph driver\ndocumentation calling out our support/testing stance.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html\n\nPartially-implements: bp update-cephfs-drivers\nChange-Id: Id847b1b5e6623172f2600afd69e51182067444cb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}]",18,736793,524ad986e33e6b75cba76b1790dd031565ba1225,38,10,5,16643,,,0,"Add Ceph support statement

The manila discussed cephfs futures
during the Victoria cycle PTG [1]. To support newer
features in ceph, we'll need to start using the
ceph-mgr interface that debuted in Nautilus.

When we start adopting ceph-mgr, we can no longer
support Mimic, Luminous and older releases of Ceph
without maintaining code workarounds and a continuous
integration system to ensure they're not broken.
This takes considerable effort from community members.

We've supported the Luminous release since OpenStack
Queens, and there have been at least
three other major releases of Ceph in the meantime,
let's add a release note and adjust the ceph driver
documentation calling out our support/testing stance.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015494.html

Partially-implements: bp update-cephfs-drivers
Change-Id: Id847b1b5e6623172f2600afd69e51182067444cb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/93/736793/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/cephfs_driver.rst', 'releasenotes/notes/cephfs-support-statement-for-victoria-and-beyond-e94baa7857b1624c.yaml']",2,e3b25ede649dd6de7f7e9ac80173d6f9bc3d7bd4,bp/update-cephfs-drivers,"--- upgrade: - | This version of OpenStack Manila has not been tested with Ceph clusters prior to Nautilus. The CephFS drivers interact with with Ceph clusters via a python binding called ""ceph_volume_client"". This is being replaced by supplying management operations via the ceph manager interface that was introduced in the Nautilus release of Ceph. So it is advised that you upgrade your Ceph deployment prior to upgrading to Manila's Victoria release. ",,136,147
openstack%2Fneutron~stable%2Frocky~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/rocky,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 21:00:24.000000000,2020-07-08 00:30:48.000000000,2020-07-08 00:30:48.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}, {'_account_id': 26622}, {'_account_id': 28182}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-06-29 21:00:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdc0c586443d36d3e0fc4eab8e62961ac633d762', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}, {'number': 2, 'created': '2020-07-06 20:05:45.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cc48edf85cf66277423b0eb52ae6353f8028d2a6', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}]",0,738511,cc48edf85cf66277423b0eb52ae6353f8028d2a6,17,8,2,11975,,,0,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/738511/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,fdc0c586443d36d3e0fc4eab8e62961ac633d762,bug/1869808, # following drop operations are not necessary for # dvr agent setup_dvr_flows. So skip it if dvr enabled # the reason is for br_int it is duplicate # for br_physical drop_port is dangerous because when dvr # enabled the highest flow on table=0 is 2 which means # basically everything will be dropped until setup_dvr_flows # got executed. if not self.enable_distributed_routing: self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport), # block all untranslated traffic between bridges self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport),10,3
openstack%2Fneutron~stable%2Frocky~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/rocky,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:15:03.000000000,2020-07-08 00:29:47.000000000,2020-07-08 00:29:47.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 28182}]","[{'number': 1, 'created': '2020-07-01 07:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfef6b9a03a187a2920247b0435463f1eea477c1', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}, {'number': 2, 'created': '2020-07-01 12:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d89c0519457132583aa1c9ecaa31359358c18b90', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nDepends-On: https://review.opendev.org/735615\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}, {'number': 3, 'created': '2020-07-06 20:05:38.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9e13f518ea784a882b157b9b6fd8b2496ad43c65', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nDepends-On: https://review.opendev.org/735615\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}]",0,738743,9e13f518ea784a882b157b9b6fd8b2496ad43c65,21,6,3,11975,,,0,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Depends-On: https://review.opendev.org/735615
Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/738743/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,dfef6b9a03a187a2920247b0435463f1eea477c1,improve-ovs-agent-logging-stable/ussuri-stable/train-stable/stein-stable/rocky," ""its vlan tag '%(vlan_tag)d'! "" ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'vlan_tag': lvm.vlan, 'new_vlan_tag': port_tags[port.port_name]}"," ""its vlan tag '%(vlan_tag)d'!"", 'vlan_tag': lvm.vlan}",4,2
openstack%2Fneutron~stable%2Fqueens~I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,openstack/neutron,stable/queens,I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b,"Add ""igmp_snooping_enable"" config option for OVS agent",MERGED,2020-06-12 15:03:47.000000000,2020-07-08 00:26:07.000000000,2020-07-08 00:23:10.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-12 15:03:47.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/794a29a2d2afe2a77de3a32e5739d1545d394142', 'message': 'Add ""igmp_snooping_enable"" config option for OVS agent\n\nNeutron-ovs-agent can now enable IGMP snooping in integration bridge\nif config option ""igmp_snooping_enable"" in OVS section in config will\nbe set to True.\nIt will also set mcast-snooping-disable-flood-unregistered=true\nso flooding of multicast packets to all unregistered ports will be\ndisabled also.\nBoth changes are applied on integration bridge.\n\nChange-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b\nCloses-Bug: #1840136\n(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)\n'}]",0,735356,794a29a2d2afe2a77de3a32e5739d1545d394142,19,8,1,13995,,,0,"Add ""igmp_snooping_enable"" config option for OVS agent

Neutron-ovs-agent can now enable IGMP snooping in integration bridge
if config option ""igmp_snooping_enable"" in OVS section in config will
be set to True.
It will also set mcast-snooping-disable-flood-unregistered=true
so flooding of multicast packets to all unregistered ports will be
disabled also.
Both changes are applied on integration bridge.

Change-Id: I12f4030a35d10d1715d3b4bfb3ed5efb9aa28f2b
Closes-Bug: #1840136
(cherry picked from commit 5b341150e29137e3dab671453a9a6c0908e74585)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/56/735356/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/agent/common/ovs_lib.py', 'neutron/tests/functional/agent/l2/base.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_tunnel.py', 'neutron/tests/functional/agent/test_ovs_lib.py', 'neutron/conf/agent/ovs_conf.py', 'releasenotes/notes/add-igmp_snooping_enable-config-option-6a0e15e4ed0a2cf7.yaml']",7,794a29a2d2afe2a77de3a32e5739d1545d394142,bug/1840136-stable/queens,--- features: - | Add new configuration option ``igmp_snooping_enable``. New option is in ``OVS`` config section and is used by openvswitch agent. This option is used to enable support for Internet Group Management Protocol (IGMP) in integration bridge. ,,66,5
openstack%2Fneutron~stable%2Fqueens~I231e624f460510decc6d2237040c8bef207e2e8e,openstack/neutron,stable/queens,I231e624f460510decc6d2237040c8bef207e2e8e,Improve log message when port losts its vlan tag,MERGED,2020-07-01 07:15:13.000000000,2020-07-08 00:23:17.000000000,2020-07-08 00:23:17.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-01 07:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30ff804b74781e3a6c44393de25bf2dc8122529e', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}, {'number': 2, 'created': '2020-07-07 14:44:20.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0ee2fc0e15621461cd0f342e8eb43bf633c8ab42', 'message': 'Improve log message when port losts its vlan tag\n\nIn some cases it may be useful to log new vlan tag which is found\non the port when it losts old vlan tag which should is expected to\nbe there.\nSo this patch adds such value to the log message.\n\nTrivialFix\n\nChange-Id: I231e624f460510decc6d2237040c8bef207e2e8e\n(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)\n'}]",0,738744,0ee2fc0e15621461cd0f342e8eb43bf633c8ab42,14,5,2,11975,,,0,"Improve log message when port losts its vlan tag

In some cases it may be useful to log new vlan tag which is found
on the port when it losts old vlan tag which should is expected to
be there.
So this patch adds such value to the log message.

TrivialFix

Change-Id: I231e624f460510decc6d2237040c8bef207e2e8e
(cherry picked from commit 3ac63422eaebf6edfd581571406266a07a85b883)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/738744/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,30ff804b74781e3a6c44393de25bf2dc8122529e,improve-ovs-agent-logging-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens," ""its vlan tag '%(vlan_tag)d'! "" ""Current vlan tag on this port is '%(new_vlan_tag)d'."", 'vlan_tag': lvm.vlan, 'new_vlan_tag': port_tags[port.port_name]}"," ""its vlan tag '%(vlan_tag)d'!"", 'vlan_tag': lvm.vlan}",4,2
openstack%2Fneutron~stable%2Fqueens~I51050c600ba7090fea71213687d94340bac0674a,openstack/neutron,stable/queens,I51050c600ba7090fea71213687d94340bac0674a,Do not block connection between br-int and br-phys on startup,MERGED,2020-06-29 21:00:53.000000000,2020-07-08 00:23:14.000000000,2020-07-08 00:23:14.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-06-29 21:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f503fd49da135329cd9db872fcbea7d737678fea', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}, {'number': 2, 'created': '2020-07-07 14:44:36.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/131bbc9a53411033cf27664d8f1fd7afc72c57bf', 'message': ""Do not block connection between br-int and br-phys on startup\n\nBlock traffic between br-int and br-physical is over kill\nand will at least\n\n1. interrupt vlan flow during startup, and is particularly\nso if dvr enabled\n2. if let's rabbitmq is not stable, it is possible data plane\nwill be affected and vlan will never work.\n\nUsing openstack on k8s particularly amplifies the problem\nbecause pod could be killed pretty easily by liveness\nprobes.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I51050c600ba7090fea71213687d94340bac0674a\nCloses-Bug: #1869808\n(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)\n""}]",0,738512,131bbc9a53411033cf27664d8f1fd7afc72c57bf,15,6,2,11975,,,0,"Do not block connection between br-int and br-phys on startup

Block traffic between br-int and br-physical is over kill
and will at least

1. interrupt vlan flow during startup, and is particularly
so if dvr enabled
2. if let's rabbitmq is not stable, it is possible data plane
will be affected and vlan will never work.

Using openstack on k8s particularly amplifies the problem
because pod could be killed pretty easily by liveness
probes.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I51050c600ba7090fea71213687d94340bac0674a
Closes-Bug: #1869808
(cherry picked from commit 90212b12cdf62e92d811997ebba699cab431d696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/12/738512/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,f503fd49da135329cd9db872fcbea7d737678fea,bug/1869808-stable/queens, # following drop operations are not necessary for # dvr agent setup_dvr_flows. So skip it if dvr enabled # the reason is for br_int it is duplicate # for br_physical drop_port is dangerous because when dvr # enabled the highest flow on table=0 is 2 which means # basically everything will be dropped until setup_dvr_flows # got executed. if not self.enable_distributed_routing: self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport), # block all untranslated traffic between bridges self.int_br.drop_port(in_port=int_ofport) br.drop_port(in_port=phys_ofport),10,3
openstack%2Fopenstack-helm-infra~master~I26882956f96c961b6202b1004b8cf0faee6e73eb,openstack/openstack-helm-infra,master,I26882956f96c961b6202b1004b8cf0faee6e73eb,MariaDB backup and restore with grants of all users,MERGED,2020-07-03 17:54:07.000000000,2020-07-07 23:48:39.000000000,2020-07-07 23:46:48.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 18236}, {'_account_id': 18250}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23140}, {'_account_id': 24816}, {'_account_id': 28849}, {'_account_id': 29131}, {'_account_id': 30746}]","[{'number': 1, 'created': '2020-07-03 17:54:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13c8e27d261129d896c0b32216573acd64945245', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 2, 'created': '2020-07-03 18:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ebd897b821f70a158e618f0bdc7d837848010e2a', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 3, 'created': '2020-07-03 19:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ba3b75493f4c840fc6d67b1c3f44682eb322aa1', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 4, 'created': '2020-07-05 20:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bf6637e274c60b2952e0a493ce00eec09511d445', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 5, 'created': '2020-07-05 21:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1fb76d57d04ced705d2664b6aeea8a53af21eaa9', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 6, 'created': '2020-07-06 03:01:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cf60f3356fc0669ed0da49f53cae3efd44821eed', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 7, 'created': '2020-07-06 20:09:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8613dec7ccad6d1fdb573ef3978cdae308a7ad4a', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\nPercona tool pt-show-grants is installed to the image to\naccomplish the task in this PS:\nhttps://review.opendev.org/#/c/739149/\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 8, 'created': '2020-07-06 20:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/95d15d03b143a7d51140d090f40f8a3f30b792de', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\nPercona tool pt-show-grants is installed to the image to\naccomplish the task in this PS:\nhttps://review.opendev.org/#/c/739149/\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 9, 'created': '2020-07-06 21:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7702bb5a84d0c9df6d28a76a0d8044cee7df42f0', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\nPercona tool pt-show-grants is installed to the image to\naccomplish the task in this PS:\nhttps://review.opendev.org/#/c/739149/\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}, {'number': 10, 'created': '2020-07-07 21:22:03.000000000', 'files': ['mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/bin/_restore_mariadb.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a23a60921ab7546a1475cedd10a4d03148ef142b', 'message': 'MariaDB backup and restore with grants of all users\n\nThis patchset captures the grants of all the MariaDB users\nin the backup tarball and restores the grants during the\nall databases restore.\nPercona tool pt-show-grants is installed to the image to\naccomplish the task in this PS:\nhttps://review.opendev.org/#/c/739149/\n\nChange-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb\n'}]",3,739268,a23a60921ab7546a1475cedd10a4d03148ef142b,50,12,10,18236,,,0,"MariaDB backup and restore with grants of all users

This patchset captures the grants of all the MariaDB users
in the backup tarball and restores the grants during the
all databases restore.
Percona tool pt-show-grants is installed to the image to
accomplish the task in this PS:
https://review.opendev.org/#/c/739149/

Change-Id: I26882956f96c961b6202b1004b8cf0faee6e73eb
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/68/739268/8 && git format-patch -1 --stdout FETCH_HEAD,"['mariadb/templates/bin/_backup_mariadb.sh.tpl', 'mariadb/templates/bin/_restore_mariadb.sh.tpl']",2,13c8e27d261129d896c0b32216573acd64945245,," $MYSQL --execute=""FLUSH PRIVILEGES;"" if [[ -f ${TMP_DIR}/grants.sql ]] $MYSQL < ${TMP_DIR}/grants.sql 2>$RESTORE_LOG if [[ ""$?"" -eq 0 ]] then $MYSQL --execute=""FLUSH PRIVILEGES;"" echo ""Databases Permission Restore successful."" else cat $RESTORE_LOG echo ""Databases Permission Restore failed."" return 1 fi else echo ""There is no permission file available"" return 1"," if [ -n ""$DBS"" ] for db in $DBS do if [ -f ${TMP_DIR}/${db}_grant.sql ] then $MYSQL < ${TMP_DIR}/${db}_grant.sql 2>>$RESTORE_LOG if [[ ""$?"" -eq 0 ]] then echo ""Database $db Permission Restore successful."" else cat $RESTORE_LOG echo ""Database $db Permission Restore failed."" return 1 fi else echo ""There is no permission file available for $db"" return 1 fi done",24,20
openstack%2Fovsdbapp~master~I22965ef38c1e0bfdfa79389a265bac12cafcc28b,openstack/ovsdbapp,master,I22965ef38c1e0bfdfa79389a265bac12cafcc28b,Handle index lookups in DbFindCommand,MERGED,2020-05-27 02:44:01.000000000,2020-07-07 23:37:52.000000000,2020-07-07 23:34:23.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 11952}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2020-05-27 02:44:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/4fd0ce7e8868a76df7a1cd922005e731a8d2527e', 'message': 'Handle index lookups in DbFindCommand\n\nTODO: Currently just uses the first index found if multiple\nconditions are passed.\n\nChange-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b\n'}, {'number': 2, 'created': '2020-05-27 20:26:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/cf64c6deb577ca097ea68d069980f3706f605080', 'message': ""Handle index lookups in DbFindCommand\n\nThis adds index lookup support to DbFindCommand. If multiple\nconditions are passed that match different indexes, it will use\nthe intersection of the results to limit the search space.\n\nStill needed would be support for multi-column indexes which we\ncurrently don't use anywhere. At some point it starts looking like\na query optimizer.\nChange-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b\n""}, {'number': 3, 'created': '2020-05-27 21:22:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/8a5b23527ee90ccd2592a3565dd43bfc7af3fd9c', 'message': ""Handle index lookups in DbFindCommand\n\nThis adds index lookup support to DbFindCommand. If multiple\nconditions are passed that match different indexes, it will use\nthe intersection of the results to limit the search space.\n\nStill needed would be support for multi-column indexes which we\ncurrently don't use anywhere. At some point it starts looking like\na query optimizer.\nChange-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b\n""}, {'number': 4, 'created': '2020-06-25 14:04:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/d340536fb041ceac02f9d378ff9a802f083c4d11', 'message': ""Handle index lookups in DbFindCommand\n\nThis adds index lookup support to DbFindCommand. If multiple\nconditions are passed that match different indexes, it will use\nthe intersection of the results to limit the search space.\n\nStill needed would be support for multi-column indexes which we\ncurrently don't use anywhere. At some point it starts looking like\na query optimizer.\nChange-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b\n""}, {'number': 5, 'created': '2020-07-07 19:55:24.000000000', 'files': ['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/backend/ovs_idl/idlutils.py', 'ovsdbapp/tests/unit/backend/ovs_idl/test_idlutils.py'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/409e8a44f250874f8e0e43ec9cfecc37eccf4cff', 'message': ""Handle index lookups in DbFindCommand\n\nThis adds index lookup support to DbFindCommand. If multiple\nconditions are passed that match different indexes, it will use\nthe intersection of the results to limit the search space.\n\nStill needed would be support for multi-column indexes which we\ncurrently don't use anywhere. At some point it starts looking like\na query optimizer.\nChange-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b\n""}]",5,731019,409e8a44f250874f8e0e43ec9cfecc37eccf4cff,23,6,5,5756,,,0,"Handle index lookups in DbFindCommand

This adds index lookup support to DbFindCommand. If multiple
conditions are passed that match different indexes, it will use
the intersection of the results to limit the search space.

Still needed would be support for multi-column indexes which we
currently don't use anywhere. At some point it starts looking like
a query optimizer.
Change-Id: I22965ef38c1e0bfdfa79389a265bac12cafcc28b
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/19/731019/3 && git format-patch -1 --stdout FETCH_HEAD,"['ovsdbapp/backend/ovs_idl/command.py', 'ovsdbapp/backend/ovs_idl/idlutils.py']",2,4fd0ce7e8868a76df7a1cd922005e731a8d2527e,,"def index_lookup_all(table, **matches): :returns: An iterator of Row objects return idx.irange(search, search) def index_lookup(table, **matches): return next(index_lookup_all(table, **matches)) def table_lookup_all(table, column, match): return (r for r in table.rows.values() if getattr(r, column) == match) return next(table_lookup_all(talbe, column, match)) def rows_by_value(idl_, table, column, match): return index_lookup_all(tab, **{column: match}) return table_lookup_all(tab, column, match) def row_by_value(idl_, table, column, match, default=_NO_DEFAULT): try: return next(rows_by_value(idl_, table, column, match)) except StopIteration: if default is not _NO_DEFAULT: return default","def index_lookup(table, **matches): :returns: A Row object return next(idx.irange(search, search)) return next(r for r in table.rows.values() if getattr(r, column) == match) def row_by_value(idl_, table, column, match, default=_NO_DEFAULT): return index_lookup(tab, **{column: match}) try: return table_lookup(tab, column, match) except StopIteration: pass except StopIteration: # match not found via index pass if default is not _NO_DEFAULT: return default",30,16
openstack%2Fneutron-lib~master~I7e683f52f47bbb7ce7c598c98332c5dbb5d97643,openstack/neutron-lib,master,I7e683f52f47bbb7ce7c598c98332c5dbb5d97643,[FWaaS] Add note about deprecation of the neutron-fwaas project,MERGED,2020-07-06 09:37:29.000000000,2020-07-07 23:14:42.000000000,2020-07-07 23:12:30.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 09:37:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/c4eb3525dd80d1c5a9d4d2398e3b1372dc246601', 'message': '[FWaaS] Add note about deprecation of the neutron-fwaas project\n\nAs we agreed in the drivers team, we will keep FWaaS API ref as official\nAPI in the neutron-lib but we will not have any official implementation\nof this API.\nThis patch adds such information to the FWaaS API ref document.\n\nChange-Id: I7e683f52f47bbb7ce7c598c98332c5dbb5d97643\n'}, {'number': 2, 'created': '2020-07-07 07:11:22.000000000', 'files': ['api-ref/source/v2/fwaas-v2.inc'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3d6e16de32a41737e620802a888027ab2a949197', 'message': '[FWaaS] Add note about deprecation of the neutron-fwaas project\n\nAs we agreed in the drivers team, we will keep FWaaS API ref as official\nAPI in the neutron-lib but we will not have any official implementation\nof this API.\nThis patch adds such information to the FWaaS API ref document.\n\nChange-Id: I7e683f52f47bbb7ce7c598c98332c5dbb5d97643\n'}]",10,739441,3d6e16de32a41737e620802a888027ab2a949197,12,8,2,11975,,,0,"[FWaaS] Add note about deprecation of the neutron-fwaas project

As we agreed in the drivers team, we will keep FWaaS API ref as official
API in the neutron-lib but we will not have any official implementation
of this API.
This patch adds such information to the FWaaS API ref document.

Change-Id: I7e683f52f47bbb7ce7c598c98332c5dbb5d97643
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/41/739441/2 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v2/fwaas-v2.inc'],1,c4eb3525dd80d1c5a9d4d2398e3b1372dc246601,retire-neutron-fwaas,".. warning:: Due to lack of maintenance of the ``neutron-fwaas`` project, reference implementation of the FWaaS API is now deprecated and not maintained anymore. This document describes FWaaS API definition without any official implementation. This API can be implemented by some third party solutions. ",,9,0
openstack%2Fopenstack-helm-infra~master~Ie53b3407dbd7345d37c92c60a04f3badf735f6a6,openstack/openstack-helm-infra,master,Ie53b3407dbd7345d37c92c60a04f3badf735f6a6,Fix service account name for ceph-mon keyring generator,MERGED,2020-07-07 20:09:52.000000000,2020-07-07 22:42:28.000000000,2020-07-07 22:40:34.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29144}, {'_account_id': 29161}, {'_account_id': 30777}]","[{'number': 1, 'created': '2020-07-07 20:09:52.000000000', 'files': ['ceph-mon/templates/job-keyring.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/41f02d3c986b844e1e386e1cd83941c7c3dbbf06', 'message': ""Fix service account name for ceph-mon keyring generator\n\nFix issues introduced by https://review.opendev.org/#/c/735648\nwith extra 'ceph-' in service_account and security context not\nrendered for keyring generator containers.\n\nChange-Id: Ie53b3407dbd7345d37c92c60a04f3badf735f6a6\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n""}]",0,739845,41f02d3c986b844e1e386e1cd83941c7c3dbbf06,11,7,1,8863,,,0,"Fix service account name for ceph-mon keyring generator

Fix issues introduced by https://review.opendev.org/#/c/735648
with extra 'ceph-' in service_account and security context not
rendered for keyring generator containers.

Change-Id: Ie53b3407dbd7345d37c92c60a04f3badf735f6a6
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/45/739845/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-mon/templates/job-keyring.yaml'],1,41f02d3c986b844e1e386e1cd83941c7c3dbbf06,,"{{- $serviceAccountName := $jobName }}{{ dict ""envAll"" $envAll ""application"" ""ceph"" ""container"" $jobName | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}","{{- $serviceAccountName := print ""ceph-"" $jobName }}{{ dict ""envAll"" $envAll ""application"" ""ceph"" ""container"" ""$jobName"" | include ""helm-toolkit.snippets.kubernetes_container_security_context"" | indent 10 }}",2,2
openstack%2Fironic-inspector~stable%2Fussuri~I131c8189b25ee2de66f08c742a21052ef1b266aa,openstack/ironic-inspector,stable/ussuri,I131c8189b25ee2de66f08c742a21052ef1b266aa,Use node.id instead of node.uuid in record_node,MERGED,2020-07-07 16:46:06.000000000,2020-07-07 22:19:38.000000000,2020-07-07 22:17:29.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-07 16:46:06.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/node-id-920629472f01c83a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/4cb904fb13ec7d1aebaefd84d64a59da9331b9c9', 'message': ""Use node.id instead of node.uuid in record_node\n\nThis function does not have a compatibility shim that adds 'uuid'.\n\nChange-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa\n(cherry picked from commit 06390e372384d15448c5ed10f77d93faa494816a)\n""}]",0,739813,4cb904fb13ec7d1aebaefd84d64a59da9331b9c9,11,4,1,10239,,,0,"Use node.id instead of node.uuid in record_node

This function does not have a compatibility shim that adds 'uuid'.

Change-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa
(cherry picked from commit 06390e372384d15448c5ed10f77d93faa494816a)
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/13/739813/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/node-id-920629472f01c83a.yaml']",3,4cb904fb13ec7d1aebaefd84d64a59da9331b9c9,node-id-stable/ussuri,--- fixes: - | Fixes ``AttributeError: 'Node' object has no attribute 'uuid'`` when trying to introspect an active node that is not currently in the cache. ,,8,3
openstack%2Ftripleo-quickstart~master~I33452873c829d36fba1bbb49e28efbc4d325ea25,openstack/tripleo-quickstart,master,I33452873c829d36fba1bbb49e28efbc4d325ea25,Fix delorean.repo url for centos-8 master,ABANDONED,2020-03-19 20:52:59.000000000,2020-07-07 22:16:44.000000000,,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 18846}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-03-19 20:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8085bfb5d4da88aebdecee3f82b7d50f9ed22a1b', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}, {'number': 2, 'created': '2020-03-23 21:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/eaf862bcae2a0921979254b01278a28e8917c43a', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}, {'number': 3, 'created': '2020-03-23 21:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/563110de3a720cf3f45ea5a28ebeeb20917ca986', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}, {'number': 4, 'created': '2020-03-23 21:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/a95622e812dc3a98e85b71e1b4ec5454cd7fab92', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}, {'number': 5, 'created': '2020-04-07 01:27:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/87c9e783e58836dd1fc116bdae0bb9e4f6069e2d', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}, {'number': 6, 'created': '2020-04-15 21:56:33.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ef430556b0c34f5265e5b1ea7285c390626754d4', 'message': 'Fix delorean.repo url for centos-8 master\n\ndlrn_has_path has the 12/34/12345... format needed for the new\ncomponent based repos[1]\n\nhttps://trunk.rdoproject.org/centos8-master/current-tripleo/\n\nChange-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25\n'}]",4,713979,ef430556b0c34f5265e5b1ea7285c390626754d4,28,7,6,4571,,,0,"Fix delorean.repo url for centos-8 master

dlrn_has_path has the 12/34/12345... format needed for the new
component based repos[1]

https://trunk.rdoproject.org/centos8-master/current-tripleo/

Change-Id: I33452873c829d36fba1bbb49e28efbc4d325ea25
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/79/713979/6 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,8085bfb5d4da88aebdecee3f82b7d50f9ed22a1b,dlrn_hash_tag," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/current-tripleo/{{ dlrn_hash_path|default(dlrn_hash_tag, true) }}/delorean.repo"""," down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/{{ dlrn_hash_tag }}/delorean.repo""",1,1
openstack%2Fopenstack-ansible-os_neutron~master~I5958eaa7095013b7ed9b7aeb090a0535edc455ec,openstack/openstack-ansible-os_neutron,master,I5958eaa7095013b7ed9b7aeb090a0535edc455ec,Add centos-8 support,MERGED,2020-07-02 12:15:48.000000000,2020-07-07 21:43:27.000000000,2020-07-07 19:03:43.000000000,"[{'_account_id': 1004}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-02 12:15:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/d788bde5c5c1cab61203dadeb222f29e632c4f7d', 'message': 'Add centos-8 support\n\nChange-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec\n'}, {'number': 2, 'created': '2020-07-06 13:01:01.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4859a9ab179839398133fe6cd92da0bd75eb0e39', 'message': 'Add centos-8 support\n\nDepends-On: https://review.opendev.org/739479\nChange-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec\n'}]",0,739026,4859a9ab179839398133fe6cd92da0bd75eb0e39,15,5,2,28619,,,0,"Add centos-8 support

Depends-On: https://review.opendev.org/739479
Change-Id: I5958eaa7095013b7ed9b7aeb090a0535edc455ec
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/26/739026/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,d788bde5c5c1cab61203dadeb222f29e632c4f7d,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-memcached', 'python3-memcached') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - python-memcached - systemd-python,2,2
openstack%2Fneutron~stable%2Fqueens~I299031a505f05cd0469e2476b867b9dbca59c5bf,openstack/neutron,stable/queens,I299031a505f05cd0469e2476b867b9dbca59c5bf,Unnecessary routers should not be created,MERGED,2020-05-29 14:14:29.000000000,2020-07-07 21:39:43.000000000,2020-07-07 21:39:43.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}]","[{'number': 1, 'created': '2020-05-29 14:14:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54c03bbe78cb2ebcc8910f717be12d0a54889629', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nConflicts:\n    neutron/tests/unit/db/test_agentschedulers_db.py\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 2, 'created': '2020-07-07 14:45:00.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7b36eefd1d63c24d25ae6387a88b00600730447e', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nConflicts:\n    neutron/tests/unit/db/test_agentschedulers_db.py\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}]",0,731763,7b36eefd1d63c24d25ae6387a88b00600730447e,17,6,2,11975,,,0,"Unnecessary routers should not be created

We observe an excessive amount of routers created on
compute node on which some virtual machines got a fixed
ip on floating network.

Rpc servers should filter out those unnecessary routers
during syncing.

Conflicts:
    neutron/tests/unit/db/test_agentschedulers_db.py

Change-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf
Partial-Bug: #1840579
(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/731763/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,54c03bbe78cb2ebcc8910f717be12d0a54889629,1840579-stable/stein-stable/rocky-stable/queens,"from neutron_lib.api.definitions import portbindings def test_sync_dvr_router_with_fixedip_on_fip_net(self): l3_rpc_cb = l3_rpc.L3RpcCallback() self._register_dvr_agents() with self.subnet() as s: # first create an external network net_id = s['subnet']['network_id'] self._set_net_external(net_id) # create router with external gateway router_data = {'name': 'router1', 'external_gateway_info': {'network_id': net_id}, 'tenant_id': 'tenant_id', 'admin_state_up': True, 'distributed': True} router = self.l3plugin.create_router(self.adminContext, {'router': router_data}) self.l3plugin.schedule_router(self.adminContext, router['id']) with self.port(subnet=s, device_owner=DEVICE_OWNER_COMPUTE) as port: # bind port to L3_HOSTB updated_port = { ""port"": { portbindings.HOST_ID: L3_HOSTB } } self.plugin.update_port( self.adminContext, port['port']['id'], updated_port ) ret_b = l3_rpc_cb.sync_routers( self.adminContext, host=L3_HOSTB, router_ids=[router['id']]) router_ids = [r['id'] for r in ret_b] self.assertEqual(0, len(router_ids)) ",,47,2
openstack%2Fpuppet-tripleo~stable%2Fussuri~I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,openstack/puppet-tripleo,stable/ussuri,I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7,Enable to modify params of logrotate-crond.conf,MERGED,2020-07-02 16:18:53.000000000,2020-07-07 21:36:32.000000000,2020-07-07 21:36:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 31804}]","[{'number': 1, 'created': '2020-07-02 16:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f770707261d20c40233147bd541c9169cb6b7d2e', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)\n'}, {'number': 2, 'created': '2020-07-05 20:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/eec1a62cf4be47a82a0f9594e77a6f30af1f45e9', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)\n'}, {'number': 3, 'created': '2020-07-07 11:25:41.000000000', 'files': ['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7097c48b117c17125987b1b99a56170747004713', 'message': 'Enable to modify params of logrotate-crond.conf\n\nParameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf\nin the container logrotate_crond should be changeable even if this\ndoesn\'t\tcomply with GDPR. This is because there might be users who\ndon\'t want to comply with it for some reason such as their internal\nrule, testing purpose, etc.\n\nThis patch adds the following Puppet hieradata.\n\ntripleo::profile::base::logging::logrotate::minsize (default: 1)\ntripleo::profile::base::logging::logrotate::notifempty (default: True)\n\nChange-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7\nCloses-Bug: #1884415\n(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)\n'}]",0,739090,7097c48b117c17125987b1b99a56170747004713,26,5,3,14985,,,0,"Enable to modify params of logrotate-crond.conf

Parameters ""minsize"" and ""notifempty"" of /etc/logrotate-crond.conf
in the container logrotate_crond should be changeable even if this
doesn't	comply with GDPR. This is because there might be users who
don't want to comply with it for some reason such as their internal
rule, testing purpose, etc.

This patch adds the following Puppet hieradata.

tripleo::profile::base::logging::logrotate::minsize (default: 1)
tripleo::profile::base::logging::logrotate::notifempty (default: True)

Change-Id: I623c711921cf7fe52f15cc1ba4a1dafb3c9479b7
Closes-Bug: #1884415
(cherry picked from commit f6f878d4b36540ecc8b99552d3f5d14d92d509df)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/90/739090/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/logrotate/containers_logrotate.conf.erb', 'manifests/profile/base/logging/logrotate.pp']",2,f770707261d20c40233147bd541c9169cb6b7d2e,bug/1884415-stable/ussuri,"# [*minsize*] # (optional) Defaults to '1'. # Configures the logrotate minsize parameter. ## [*notifempty*] # (optional) Defaults to True. # Configures the logrotate notifempty parameter. # $minsize = 1, $notifempty = true,",,13,1
openstack%2Fironic~master~I51a31204ddef83fe36a55631f1a81bff346d176b,openstack/ironic,master,I51a31204ddef83fe36a55631f1a81bff346d176b,"Use assertCountEqual instead of assertItemsEqual, part 2",MERGED,2020-07-07 14:33:43.000000000,2020-07-07 21:35:50.000000000,2020-07-07 17:56:16.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 14:33:43.000000000', 'files': ['ironic/tests/unit/drivers/modules/network/test_common.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c85a33d650066827836257461da764c08a964226', 'message': 'Use assertCountEqual instead of assertItemsEqual, part 2\n\nFollow up of https://review.opendev.org/735127\n\nThe assertItemsEqual method has been removed in Python 3.3 [1] but\nit was kept alive by unittest2, imported by testtools.\nTo prevent mayhem and despair caused by testtools removing unittest2\nfrom its requirements in the near future, we switch to assertCountEqual.\n\nFor an unknown reason, some asserts were forgotten, this patch fixes\nthem all, for real, I swear.\n\n[1] https://bugs.python.org/issue17866\n\nChange-Id: I51a31204ddef83fe36a55631f1a81bff346d176b\n'}]",0,739776,c85a33d650066827836257461da764c08a964226,11,5,1,23851,,,0,"Use assertCountEqual instead of assertItemsEqual, part 2

Follow up of https://review.opendev.org/735127

The assertItemsEqual method has been removed in Python 3.3 [1] but
it was kept alive by unittest2, imported by testtools.
To prevent mayhem and despair caused by testtools removing unittest2
from its requirements in the near future, we switch to assertCountEqual.

For an unknown reason, some asserts were forgotten, this patch fixes
them all, for real, I swear.

[1] https://bugs.python.org/issue17866

Change-Id: I51a31204ddef83fe36a55631f1a81bff346d176b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/739776/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/tests/unit/drivers/modules/network/test_common.py'],1,c85a33d650066827836257461da764c08a964226,items-to-count, self.assertCountEqual( self.assertCountEqual( self.assertCountEqual( self.assertCountEqual(, self.assertItemsEqual( self.assertItemsEqual( self.assertItemsEqual( self.assertItemsEqual(,4,4
openstack%2Fneutron~stable%2Fqueens~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/queens,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-06-03 09:47:32.000000000,2020-07-07 21:33:17.000000000,2020-07-07 21:33:17.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-03 09:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/05894eaeee9dc6be83bb4d1eacaacd8ce4337b2c', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}, {'number': 2, 'created': '2020-06-03 10:58:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1e39eab985af754f271845c374553fd993ab0da', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}, {'number': 3, 'created': '2020-07-07 14:44:41.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2baf0aa83f551b5c88caad64da837630b9daea46', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}]",0,733082,2baf0aa83f551b5c88caad64da837630b9daea46,25,6,3,11975,,,0,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/733082/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,05894eaeee9dc6be83bb4d1eacaacd8ce4337b2c,bug/1864822-stable/queens," if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False LOG.info(""Agent rpc_loop - iteration:%(iter_num)d - "" ""cleanup stale flows. Elapsed:%(elapsed).3f"", {'iter_num': self.iter_num, 'elapsed': time.time() - start}) ", if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False,12,3
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I182f8c5a8ce283b675aa18712e84fcd692200eb1,openstack/tripleo-heat-templates,stable/ussuri,I182f8c5a8ce283b675aa18712e84fcd692200eb1,Fix default BlockStorageCinderVolume template,MERGED,2020-07-07 10:27:41.000000000,2020-07-07 21:23:18.000000000,2020-07-07 21:23:18.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 10:27:41.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4465977d9f36cc5e7db9eec187af399d94db4d8b', 'message': 'Fix default BlockStorageCinderVolume template\n\nThe BlockStorageCinderVolume tripleo service (used by the BlockStorage\nand DistributedComputeHCI roles) is meant to deploy the cinder-volume\nservice without pacemaker. Unfortunately, [1] inadvertently switched\nit to the pcmk version of the template, and this patch moves it back.\n\n[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f\n\nCloses-Bug: #1886095\nChange-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1\n(cherry picked from commit bff0c6cfa1226836569ea016a71284e127c04b2c)\n'}]",0,739700,4465977d9f36cc5e7db9eec187af399d94db4d8b,9,5,1,6796,,,0,"Fix default BlockStorageCinderVolume template

The BlockStorageCinderVolume tripleo service (used by the BlockStorage
and DistributedComputeHCI roles) is meant to deploy the cinder-volume
service without pacemaker. Unfortunately, [1] inadvertently switched
it to the pcmk version of the template, and this patch moves it back.

[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f

Closes-Bug: #1886095
Change-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1
(cherry picked from commit bff0c6cfa1226836569ea016a71284e127c04b2c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/739700/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,4465977d9f36cc5e7db9eec187af399d94db4d8b,bug/1886095-stable/ussuri, # BlockStorageCinderVolume uses the non-pcmk cinder-volume template OS::TripleO::Services::BlockStorageCinderVolume: deployment/cinder/cinder-volume-container-puppet.yaml, OS::TripleO::Services::BlockStorageCinderVolume: deployment/cinder/cinder-volume-pacemaker-puppet.yaml,2,1
openstack%2Fironic~master~I183133da0b12352a72206f048e5f4167a25e1f5c,openstack/ironic,master,I183133da0b12352a72206f048e5f4167a25e1f5c,Fix missing print format in log message,MERGED,2020-07-07 07:19:11.000000000,2020-07-07 21:14:29.000000000,2020-07-07 21:05:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-07 07:19:11.000000000', 'files': ['ironic/drivers/modules/drac/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/af897bc8287afe9a5c2350e37d191a13530b1f99', 'message': 'Fix missing print format in log message\n\nThis is to fix the missing print format issue in log message.\n\nChange-Id: I183133da0b12352a72206f048e5f4167a25e1f5c\n'}]",0,739667,af897bc8287afe9a5c2350e37d191a13530b1f99,18,7,1,20190,,,0,"Fix missing print format in log message

This is to fix the missing print format issue in log message.

Change-Id: I183133da0b12352a72206f048e5f4167a25e1f5c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/67/739667/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/drac/raid.py'],1,af897bc8287afe9a5c2350e37d191a13530b1f99,missing_print, LOG.error('DRAC driver failed to list raid settings ', LOG.error('DRAC driver failed to list raid settings' 'on %(raid_controller_fqdd)s ',1,2
openstack%2Fos-brick~master~I7767abc2ed4317288303fc9a2235e869f46a63b0,openstack/os-brick,master,I7767abc2ed4317288303fc9a2235e869f46a63b0,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-23 12:14:58.000000000,2020-07-07 21:00:55.000000000,2020-07-07 20:58:16.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 27710}]","[{'number': 1, 'created': '2020-06-23 12:14:58.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/windows/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_disco.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/188cbed3134a7fa0b4955fc5614bb5273f295a62', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I7767abc2ed4317288303fc9a2235e869f46a63b0\n'}]",0,737509,188cbed3134a7fa0b4955fc5614bb5273f295a62,24,13,1,6593,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I7767abc2ed4317288303fc9a2235e869f46a63b0
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/09/737509/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/windows/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_disco.py']",4,188cbed3134a7fa0b4955fc5614bb5273f295a62,," self.assertCountEqual(expected, actual)"," self.assertItemsEqual(expected, actual)",4,4
openstack%2Ftripleo-ansible~stable%2Fussuri~I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,openstack/tripleo-ansible,stable/ussuri,I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0,Make tripleo_ceph_run_ansible handle change in remote_tmp,MERGED,2020-06-24 12:31:45.000000000,2020-07-07 21:00:16.000000000,2020-07-07 21:00:16.000000000,"[{'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-24 12:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9f1a4f0df3fbf021d204ad715f92b9858e0dd634', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n""}, {'number': 2, 'created': '2020-06-24 16:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1dbe3a3eea21f43f7be1fe0b86948f503e16b019', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)\n""}, {'number': 3, 'created': '2020-07-06 15:43:19.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/91f22bd56f8d829092850562701a2cf019b53512', 'message': ""Make tripleo_ceph_run_ansible handle change in remote_tmp\n\nAnsible's remote_tmp module changed in 2.9.10 [1] causing\nthe reported bug this patch addresses. The error from the\nmodule suggests creating the remote_tmp dir with the correct\npermissions. This patch does that within external_deploy_steps\nby having tripleo-ansible create the remote_tmp dir accordingly\nbefore running ceph-ansible (which uses that remote_tmp dir).\n\n[1] https://github.com/ansible/ansible/issues/68218\n\nChange-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0\nCloses-Bug: #1884816\n(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)\n""}]",1,737759,91f22bd56f8d829092850562701a2cf019b53512,44,7,3,18002,,,0,"Make tripleo_ceph_run_ansible handle change in remote_tmp

Ansible's remote_tmp module changed in 2.9.10 [1] causing
the reported bug this patch addresses. The error from the
module suggests creating the remote_tmp dir with the correct
permissions. This patch does that within external_deploy_steps
by having tripleo-ansible create the remote_tmp dir accordingly
before running ceph-ansible (which uses that remote_tmp dir).

[1] https://github.com/ansible/ansible/issues/68218

Change-Id: I0350d5253571a2b0d12a0a2f25e5469c9d1fefe0
Closes-Bug: #1884816
(cherry picked from commit 1b440db7f69b1f0e69016ed5a409e84b6fab1f9d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/59/737759/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/create_ceph_ansible_remote_tmp.yml', 'tripleo_ansible/roles/tripleo_ceph_run_ansible/tasks/main.yml']",2,9f1a4f0df3fbf021d204ad715f92b9858e0dd634,bug/1884816,"- import_tasks: create_ceph_ansible_remote_tmp.yml vars: ceph_ansible_remote_tmp: '/tmp/ceph_ansible_tmp' - ANSIBLE_REMOTE_TEMP=""{{ ceph_ansible_remote_tmp }}""", - ANSIBLE_REMOTE_TEMP=/tmp/ceph_ansible_tmp,69,1
openstack%2Fironic~master~I9b2d0eb417211b01ae36c461b19652ff9db7d658,openstack/ironic,master,I9b2d0eb417211b01ae36c461b19652ff9db7d658,Do not put the whole JSON error from the agent in last_error,MERGED,2020-07-06 09:31:05.000000000,2020-07-07 20:58:58.000000000,2020-07-07 20:50:16.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-06 09:31:05.000000000', 'files': ['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b41bace326496770b1b22af864045782102f6f25', 'message': ""Do not put the whole JSON error from the agent in last_error\n\nIt's usually enough to provide only command[command_error][details],\nbut this patch also places some safeguards for abnormal responses.\n\nAlso fixes error detection for TypeError (we don't have faultstatus\nwhen we have command_error).\n\nChange-Id: I9b2d0eb417211b01ae36c461b19652ff9db7d658\nStory: #2002063\nTask: #19716\n""}]",0,739439,b41bace326496770b1b22af864045782102f6f25,23,7,1,10239,,,0,"Do not put the whole JSON error from the agent in last_error

It's usually enough to provide only command[command_error][details],
but this patch also places some safeguards for abnormal responses.

Also fixes error detection for TypeError (we don't have faultstatus
when we have command_error).

Change-Id: I9b2d0eb417211b01ae36c461b19652ff9db7d658
Story: #2002063
Task: #19716
",git fetch https://review.opendev.org/openstack/ironic refs/changes/39/739439/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent.py', 'ironic/drivers/modules/agent_client.py', 'ironic/drivers/modules/agent_base.py']",3,b41bace326496770b1b22af864045782102f6f25,story/2002063/command-error," '%(result)s') % {'node': task.node.uuid, 'result': result}) {'result': agent_client.get_command_error(result)}) 'err': agent_client.get_command_error(command), 'error': agent_client.get_command_error(result)}) 'error': agent_client.get_command_error(result)})"," '%(result)s') % {'node': task.node.uuid, 'result': result.get('command_error')}) {'result': result.get('command_error')}) 'err': command.get('command_error'), 'error': result['command_error']}) 'error': result['command_error']})",26,8
openstack%2Freleases~master~Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8,openstack/releases,master,Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8,Fix tox command in tool help,MERGED,2020-07-07 15:40:41.000000000,2020-07-07 20:31:54.000000000,2020-07-07 20:31:54.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 15:40:41.000000000', 'files': ['tools/new_release.sh'], 'web_link': 'https://opendev.org/openstack/releases/commit/339af5321ac03580bc1288fab7d010693b65ed00', 'message': 'Fix tox command in tool help\n\nAlso prefer to use retrive command name dynamically.\n\nChange-Id: Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8\n'}]",0,739801,339af5321ac03580bc1288fab7d010693b65ed00,6,2,1,28522,,,0,"Fix tox command in tool help

Also prefer to use retrive command name dynamically.

Change-Id: Iffe7fe3216256ddb52001e4fcfa49cc3ea82d6e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/739801/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/new_release.sh'],1,339af5321ac03580bc1288fab7d010693b65ed00,new_release_help," echo ""Usage: $(basename $0) <series> <deliverable> <updatetype>"" echo ""Example: $(basename $0) mitaka oslo.rootwrap feature"" echo ""Example: $(basename $0) independent reno bugfix"" echo ""tox -e venv -- new-release --help"""," echo ""Usage: new_release.sh <series> <deliverable> <updatetype>"" echo ""Example: new_release.sh mitaka oslo.rootwrap feature"" echo ""Example: new_release.sh independent reno bugfix"" echo ""tox -e venv new-release --help""",4,4
openstack%2Fproject-config~master~I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f,openstack/project-config,master,I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f,Propose Review-Difficulty label for Kayobe,ABANDONED,2020-06-03 17:15:24.000000000,2020-07-07 19:55:37.000000000,,"[{'_account_id': 782}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 18368}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2020-06-03 17:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/50bbc92c41728ebb8387c5cd5f02d0e091e27f5b', 'message': 'Propose Review-Difficulty label for Kayobe\n\nWhen very limited time is available for reviews, it can be difficult to\nchoose from a long list of open changes. I would like to propose the\nReview-Difficulty label (initially for Kayobe), to flag easy or trivial\nchanges that can be reviewed in a few minutes or seconds.\n\nThe goal is to make our review queue shorter by focusing core reviewers\nwhen they have very limited time available. Of course Review-Priority\nshould take precedence when more time is available for reviews.\n\nChange-Id: I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f\n'}, {'number': 2, 'created': '2020-06-03 17:29:10.000000000', 'files': ['tools/normalize_acl.py', 'gerrit/acls/openstack/kayobe.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/acab213f741e5968f4ee638581531b2871020196', 'message': 'Propose Review-Difficulty label for Kayobe\n\nWhen very limited time is available for reviews, it can be difficult to\nchoose from a long list of open changes. I would like to propose the\nReview-Difficulty label (initially for Kayobe), to flag easy or trivial\nchanges that can be reviewed in a few minutes or seconds.\n\nThe goal is to make our review queue shorter by focusing core reviewers\nwhen they have very limited time available. Of course Review-Priority\nshould take precedence when more time is available for reviews.\n\nChange-Id: I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f\n'}]",2,733283,acab213f741e5968f4ee638581531b2871020196,10,7,2,15197,,,0,"Propose Review-Difficulty label for Kayobe

When very limited time is available for reviews, it can be difficult to
choose from a long list of open changes. I would like to propose the
Review-Difficulty label (initially for Kayobe), to flag easy or trivial
changes that can be reviewed in a few minutes or seconds.

The goal is to make our review queue shorter by focusing core reviewers
when they have very limited time available. Of course Review-Priority
should take precedence when more time is available for reviews.

Change-Id: I9c2b4fdbc48d5cbcb026a362ed49bd65b0afe09f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/733283/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/normalize_acl.py', 'gerrit/acls/openstack/kayobe.config']",2,50bbc92c41728ebb8387c5cd5f02d0e091e27f5b,review-difficulty,"label-Review-Difficulty = 0..+2 group Registered Users[label ""Review-Difficulty""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = 0 No Difficulty Information value = +1 Easy Review value = +2 Trivial Review ",,13,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,stable/train,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-07-06 16:20:35.000000000,2020-07-07 19:53:04.000000000,2020-07-07 19:53:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f49995668223e142d76546f3a3212869cd8c9119', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)\n'}, {'number': 2, 'created': '2020-07-07 13:33:39.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo-hieradata/tasks/ansible_hieradata.yml', 'tripleo_ansible/roles/tripleo-hieradata/tasks/hieradata_vars.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d1e80761c48c86897d4d023488af3c81e2666f87', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)\n'}]",0,739541,d1e80761c48c86897d4d023488af3c81e2666f87,11,5,2,3153,,,0,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/41/739541/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo-hieradata/tasks/ansible_hieradata.yml', 'tripleo_ansible/roles/tripleo-hieradata/tasks/hieradata_vars.yaml']",3,f49995668223e142d76546f3a3212869cd8c9119,hieradata/perm, become: true become: true,,5,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,stable/ussuri,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-07-07 08:31:40.000000000,2020-07-07 19:28:49.000000000,2020-07-07 19:28:49.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 08:31:40.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fe64cf37a17cc2d61bdd4f8a77fdbcca37085803', 'message': 'Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)\n'}]",0,739676,fe64cf37a17cc2d61bdd4f8a77fdbcca37085803,7,3,1,6796,,,0,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/76/739676/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,fe64cf37a17cc2d61bdd4f8a77fdbcca37085803,," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /swift/healthcheck' ] }),"," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ] }),",1,1
openstack%2Fos-brick~master~If1a8caa006efb19e58a3dc3262a305d15d35a6a5,openstack/os-brick,master,If1a8caa006efb19e58a3dc3262a305d15d35a6a5,Switch from unittest2 compat methods to py3 methods,ABANDONED,2020-07-07 19:21:18.000000000,2020-07-07 19:23:46.000000000,,[],"[{'number': 1, 'created': '2020-07-07 19:21:18.000000000', 'files': ['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/windows/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_disco.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/eb8a8c4b75cbdcea3c800119c4d46c494b72be4a', 'message': 'Switch from unittest2 compat methods to py3 methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: If1a8caa006efb19e58a3dc3262a305d15d35a6a5\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,739834,eb8a8c4b75cbdcea3c800119c4d46c494b72be4a,2,0,1,11904,,,0,"Switch from unittest2 compat methods to py3 methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: If1a8caa006efb19e58a3dc3262a305d15d35a6a5
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/34/739834/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/connectors/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_iscsi.py', 'os_brick/tests/windows/test_fibre_channel.py', 'os_brick/tests/initiator/connectors/test_disco.py']",4,eb8a8c4b75cbdcea3c800119c4d46c494b72be4a,unittest2," self.assertCountEqual(expected, actual)"," self.assertItemsEqual(expected, actual)",4,4
openstack%2Fpuppet-tripleo~stable%2Ftrain~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,stable/train,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-07-07 08:33:55.000000000,2020-07-07 19:22:05.000000000,2020-07-07 19:22:05.000000000,"[{'_account_id': 3153}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 08:33:55.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/77da001cd4b8ce0fd9d9bf57d4ddfb701414c29a', 'message': 'Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)\n(cherry picked from commit fe64cf37a17cc2d61bdd4f8a77fdbcca37085803)\n'}]",0,739677,77da001cd4b8ce0fd9d9bf57d4ddfb701414c29a,7,3,1,6796,,,0,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
(cherry picked from commit f1994dba33e09033f3a142ef202c6b0afe322b94)
(cherry picked from commit fe64cf37a17cc2d61bdd4f8a77fdbcca37085803)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/77/739677/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,77da001cd4b8ce0fd9d9bf57d4ddfb701414c29a,," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /swift/healthcheck' ] }),"," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ] }),",1,1
openstack%2Fkeystone~master~I33d37366ea9caf320f3738db637dea7386ff6448,openstack/keystone,master,I33d37366ea9caf320f3738db637dea7386ff6448,Add an enhanced debug configuration technique to caching guide,MERGED,2020-06-29 14:51:54.000000000,2020-07-07 19:21:01.000000000,2020-07-07 19:16:37.000000000,"[{'_account_id': 8482}, {'_account_id': 8866}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-29 14:51:54.000000000', 'files': ['doc/source/admin/caching-layer.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/63e1181294dc9b68761ffd57c25245743a83f1a9', 'message': ""Add an enhanced debug configuration technique to caching guide\n\nWe often have operators ask why cache logging isn't included in their\nlogs despite setting `keystone.conf [DEFAULT] debug=True`. This is\nbecause cache logging requires additional configuration that isn't\nobvious unless your familiar with oslo.cache and dogpile already.\n\nThis commit adds a section to the caching guide that shows people how to\nupdate their configuration files when they need to debug caching issues.\n\nChange-Id: I33d37366ea9caf320f3738db637dea7386ff6448\n""}]",0,738459,63e1181294dc9b68761ffd57c25245743a83f1a9,10,6,1,5046,,,0,"Add an enhanced debug configuration technique to caching guide

We often have operators ask why cache logging isn't included in their
logs despite setting `keystone.conf [DEFAULT] debug=True`. This is
because cache logging requires additional configuration that isn't
obvious unless your familiar with oslo.cache and dogpile already.

This commit adds a section to the caching guide that shows people how to
update their configuration files when they need to debug caching issues.

Change-Id: I33d37366ea9caf320f3738db637dea7386ff6448
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/738459/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/caching-layer.inc'],1,63e1181294dc9b68761ffd57c25245743a83f1a9,," Verbose cache logging --------------------- We do not recommend using verbose cache logging by default in production systems since it's extremely noisy. However, you may need to debug cache issues. One way to see how keystone is interacting with a cache backend is to enhance logging. The following configuration will aggregate oslo and dogpile logs into keystone's log file with increased verbosity: .. code-block:: ini [DEFAULT] default_log_levels = oslo.cache=DEBUG,dogpile.core.dogpile=DEBUG [cache] debug_cache_backend = True These logs will include cache hits and misses, making it easier to diagnose cache configuration and connectivity issues.",,20,0
openstack%2Fkeystone~master~If288c3406e2fa840f698fec83d9643cfc0584f53,openstack/keystone,master,If288c3406e2fa840f698fec83d9643cfc0584f53,"Add ""explicit_domain_id"" to api-ref",MERGED,2020-06-22 09:52:06.000000000,2020-07-07 19:19:20.000000000,2020-07-07 19:16:34.000000000,"[{'_account_id': 5046}, {'_account_id': 8866}, {'_account_id': 9373}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-06-22 09:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/0f33b2d9ef07b50fe26de04e22ecdb5f851ac8cf', 'message': 'Add ""explicit_domain_id"" to api-ref\n\nIn [1] a new parameter to domain API was added. This patch\nupdates the api-ref about the same.\n\n[1] https://review.opendev.org/#/c/605235/\n\nChange-Id: If288c3406e2fa840f698fec83d9643cfc0584f53\nCloses-Bug: #1884062\n'}, {'number': 2, 'created': '2020-06-30 17:30:20.000000000', 'files': ['api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/domains.inc'], 'web_link': 'https://opendev.org/openstack/keystone/commit/ee9be2e92b3de25f82298f21b9b1d559613e1960', 'message': 'Add ""explicit_domain_id"" to api-ref\n\nIn [1] a new parameter to domain API was added. This patch\nupdates the api-ref about the same.\n\n[1] https://review.opendev.org/#/c/605235/\n\nChange-Id: If288c3406e2fa840f698fec83d9643cfc0584f53\nCloses-Bug: #1884062\n'}]",4,737248,ee9be2e92b3de25f82298f21b9b1d559613e1960,15,6,2,27621,,,0,"Add ""explicit_domain_id"" to api-ref

In [1] a new parameter to domain API was added. This patch
updates the api-ref about the same.

[1] https://review.opendev.org/#/c/605235/

Change-Id: If288c3406e2fa840f698fec83d9643cfc0584f53
Closes-Bug: #1884062
",git fetch https://review.opendev.org/openstack/keystone refs/changes/48/737248/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/parameters.yaml', 'api-ref/source/v3/domains.inc']",2,0f33b2d9ef07b50fe26de04e22ecdb5f851ac8cf,bug/1884062, - explicit_domain_id: request_explicit_domain_id_body_not_required,,10,0
openstack%2Fdevstack~master~I4b18a0a388ed7e7a392fabeac613778e0d23dee7,openstack/devstack,master,I4b18a0a388ed7e7a392fabeac613778e0d23dee7,Remove GLANCE_V1_ENABLED option,MERGED,2019-12-12 21:20:10.000000000,2020-07-07 19:19:17.000000000,2020-07-07 19:16:32.000000000,"[{'_account_id': 8556}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28948}]","[{'number': 1, 'created': '2019-12-12 21:20:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/44fa3cc28162f568b08bc8fa3cfdf7c4db5da8c8', 'message': 'Remove GLANCE_V1_ENABLED option\n\nThis option sets enable_v1_api in glance-api.conf, a setting that\nwas removed by change Ia086230cc8c92f7b7dfd5b001923110d5bc55d4d\nin July 2018, so remove the devstack option from lib/glance.\n\nIt occurs in two other places:\n\nThis option is used in lib/cinder to set an option that was removed\nfrom Cinder by change Ice379db9ae83420bacf9e96e242c7515930eae86 in\nQueens, so remove the related code.\n\nWhen this option is False, it is used in lib/tempest to set\n[image-feature-enabled]/api_v1 to False in the tempest config file.\nHowever, the default value of ths setting has been False since\nchange Iab3a209c744375bf2618afc00a3f7731b62f557e in Sept 2018,\nso remove the related code.\n\nChange-Id: I4b18a0a388ed7e7a392fabeac613778e0d23dee7\n'}, {'number': 2, 'created': '2020-06-27 08:48:10.000000000', 'files': ['lib/cinder', 'lib/glance', 'lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ee5cf747d8826b9f9dbf565a7a9ba2c1e25f068a', 'message': 'Remove GLANCE_V1_ENABLED option\n\nThis option sets enable_v1_api in glance-api.conf, a setting that\nwas removed by change Ia086230cc8c92f7b7dfd5b001923110d5bc55d4d\nin July 2018, so remove the devstack option from lib/glance.\n\nIt occurs in two other places:\n\nThis option is used in lib/cinder to set an option that was removed\nfrom Cinder by change Ice379db9ae83420bacf9e96e242c7515930eae86 in\nQueens, so remove the related code.\n\nWhen this option is False, it is used in lib/tempest to set\n[image-feature-enabled]/api_v1 to False in the tempest config file.\nHowever, the default value of ths setting has been False since\nchange Iab3a209c744375bf2618afc00a3f7731b62f557e in Sept 2018,\nso remove the related code.\n\nChange-Id: I4b18a0a388ed7e7a392fabeac613778e0d23dee7\n'}]",2,698808,ee5cf747d8826b9f9dbf565a7a9ba2c1e25f068a,27,6,2,5314,,,0,"Remove GLANCE_V1_ENABLED option

This option sets enable_v1_api in glance-api.conf, a setting that
was removed by change Ia086230cc8c92f7b7dfd5b001923110d5bc55d4d
in July 2018, so remove the devstack option from lib/glance.

It occurs in two other places:

This option is used in lib/cinder to set an option that was removed
from Cinder by change Ice379db9ae83420bacf9e96e242c7515930eae86 in
Queens, so remove the related code.

When this option is False, it is used in lib/tempest to set
[image-feature-enabled]/api_v1 to False in the tempest config file.
However, the default value of ths setting has been False since
change Iab3a209c744375bf2618afc00a3f7731b62f557e in Sept 2018,
so remove the related code.

Change-Id: I4b18a0a388ed7e7a392fabeac613778e0d23dee7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/08/698808/2 && git format-patch -1 --stdout FETCH_HEAD,"['lib/cinder', 'lib/glance', 'lib/tempest']",3,44fa3cc28162f568b08bc8fa3cfdf7c4db5da8c8,no-v1-api,," # Image Features if [ ""$GLANCE_V1_ENABLED"" != ""True"" ]; then iniset $TEMPEST_CONFIG image-feature-enabled api_v1 False fi ",0,16
openstack%2Fneutron~master~I8cbd2ca14a442037b671ba13f6e07de26d31c48a,openstack/neutron,master,I8cbd2ca14a442037b671ba13f6e07de26d31c48a,ovn: Add TODO to remove Port Groups migration,MERGED,2020-06-10 13:49:33.000000000,2020-07-07 19:19:02.000000000,2020-07-07 19:16:29.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 9732}, {'_account_id': 9845}, {'_account_id': 11952}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-06-10 13:49:33.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b9c428a2dbfd9a44f62fa8b88014399e11fdbb8c', 'message': 'ovn: Add TODO to remove Port Groups migration\n\nChange-Id: I8cbd2ca14a442037b671ba13f6e07de26d31c48a\nSigned-off-by: Jakub Libosvar <libosvar@redhat.com>\n'}]",0,734845,b9c428a2dbfd9a44f62fa8b88014399e11fdbb8c,20,9,1,8655,,,0,"ovn: Add TODO to remove Port Groups migration

Change-Id: I8cbd2ca14a442037b671ba13f6e07de26d31c48a
Signed-off-by: Jakub Libosvar <libosvar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/45/734845/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'],1,b9c428a2dbfd9a44f62fa8b88014399e11fdbb8c,port-groups-removal, # TODO(jlibosva): Remove the migration to port groups at some point. It's # been around since Queens release so it is good to drop this soon.,,2,0
openstack%2Ftripleo-common~stable%2Fussuri~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,stable/ussuri,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-07 10:38:08.000000000,2020-07-07 19:15:58.000000000,2020-07-07 19:13:58.000000000,"[{'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 10:38:08.000000000', 'files': ['tripleo_common/tests/utils/test_stack_parameters.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b11292adcc410725f3cfdd546775e5ecbdf59199', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)\n""}]",0,739701,b11292adcc410725f3cfdd546775e5ecbdf59199,8,3,1,30126,,,0,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
(cherry picked from commit 7d2c25319b10daad3d3ef6ba2ff656b10b716beb)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/01/739701/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/utils/test_stack_parameters.py', 'tripleo_common/utils/nodes.py']",2,b11292adcc410725f3cfdd546775e5ecbdf59199,,"from ironicclient import exceptions as ironicexceptions try: bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name} except ironicexceptions.NotFound: LOG.warning('Baremetal node for server %s not found - skipping it', node.id) pass "," bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name}",71,4
openstack%2Fpython-tripleoclient~master~I19fbdebe406575d2567f98a322ff68e6e992fac7,openstack/python-tripleoclient,master,I19fbdebe406575d2567f98a322ff68e6e992fac7,Stop to use the __future__ module.,MERGED,2020-06-20 16:01:47.000000000,2020-07-07 18:54:24.000000000,2020-07-07 18:52:12.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26285}]","[{'number': 1, 'created': '2020-06-20 16:01:47.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/workflows/baremetal.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/v1/tripleo_launch_heat.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_roles.py', 'tripleoclient/v1/overcloud_cell.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9d16152e3932b2c5191e71c16d1dd603200e7414', 'message': ""Stop to use the __future__ module.\n\nThe __future__ module [1] was used in this context to ensure compatibility\nbetween python 2 and python 3.\n\nWe previously dropped the support of python 2.7 and now we only support\npython 3 so we don't need to continue to use this module and the imports\nlisted below.\n\nChange-Id: I19fbdebe406575d2567f98a322ff68e6e992fac7\n""}]",0,737140,9d16152e3932b2c5191e71c16d1dd603200e7414,10,5,1,30356,,,0,"Stop to use the __future__ module.

The __future__ module [1] was used in this context to ensure compatibility
between python 2 and python 3.

We previously dropped the support of python 2.7 and now we only support
python 3 so we don't need to continue to use this module and the imports
listed below.

Change-Id: I19fbdebe406575d2567f98a322ff68e6e992fac7
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/40/737140/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/workflows/baremetal.py', 'tripleoclient/workflows/scale.py', 'tripleoclient/v1/tripleo_launch_heat.py', 'tripleoclient/workflows/deployment.py', 'tripleoclient/utils.py', 'tripleoclient/workflows/package_update.py', 'tripleoclient/v1/overcloud_netenv_validate.py', 'tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/v1/overcloud_export.py', 'tripleoclient/v1/tripleo_config.py', 'tripleoclient/heat_launcher.py', 'tripleoclient/v1/overcloud_roles.py', 'tripleoclient/v1/overcloud_cell.py', 'tripleoclient/v1/overcloud_plan.py', 'tripleoclient/v1/overcloud_deploy.py']",16,9d16152e3932b2c5191e71c16d1dd603200e7414,,,from __future__ import print_function,0,22
openstack%2Fpython-tripleoclient~stable%2Fussuri~I9c245dbc258c9714bb5a581d6d4d23b42cf53198,openstack/python-tripleoclient,stable/ussuri,I9c245dbc258c9714bb5a581d6d4d23b42cf53198,Add CLI options for introspection command,MERGED,2020-07-06 08:24:07.000000000,2020-07-07 18:53:52.000000000,2020-07-07 18:52:13.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 08:24:07.000000000', 'files': ['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f45b95fa57888195479e5ca7e3b4afb4bd61d8e8', 'message': 'Add CLI options for introspection command\n\n--node-timeout - Maximum timeout for node introspection\n--max-retries - Maximum introspection retries\n--retry-timeout - Maximum timeout between introspection retries\n\nChange-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198\n(cherry picked from commit c9d057651e32ee81fd8e315e35dfe17d4d1e95ac)\n'}]",0,739427,f45b95fa57888195479e5ca7e3b4afb4bd61d8e8,10,6,1,10969,,,0,"Add CLI options for introspection command

--node-timeout - Maximum timeout for node introspection
--max-retries - Maximum introspection retries
--retry-timeout - Maximum timeout between introspection retries

Change-Id: I9c245dbc258c9714bb5a581d6d4d23b42cf53198
(cherry picked from commit c9d057651e32ee81fd8e315e35dfe17d4d1e95ac)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/27/739427/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/baremetal.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/tests/workflows/test_baremetal.py', 'tripleoclient/v1/overcloud_node.py']",5,f45b95fa57888195479e5ca7e3b4afb4bd61d8e8,," parser.add_argument('--node-timeout', type=int, default=1200, help=_('Maximum timeout for node introspection.')) parser.add_argument('--max-retries', type=int, default=1, help=_('Maximum introspection retries.')) parser.add_argument('--retry-timeout', type=int, default=120, help=_('Maximum timeout between introspection' 'retries')) concurrency=parsed_args.concurrency, node_timeout=parsed_args.node_timeout, max_retries=parsed_args.max_retries, retry_timeout=parsed_args.retry_timeout,", concurrency=parsed_args.concurrency,65,10
openstack%2Ftaskflow~master~Iaa8251a1e9965a00fe99b7a740a104c011260340,openstack/taskflow,master,Iaa8251a1e9965a00fe99b7a740a104c011260340,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-05 12:04:58.000000000,2020-07-07 18:47:14.000000000,2020-07-07 18:45:15.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-05 12:04:58.000000000', 'files': ['taskflow/test.py', 'taskflow/tests/unit/patterns/test_graph_flow.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/tests/unit/test_retries.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/cf327a2e2d4e2c504b5080fbf7bd48421fe7b4c7', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: Iaa8251a1e9965a00fe99b7a740a104c011260340\n'}]",0,739360,cf327a2e2d4e2c504b5080fbf7bd48421fe7b4c7,8,3,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: Iaa8251a1e9965a00fe99b7a740a104c011260340
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/60/739360/1 && git format-patch -1 --stdout FETCH_HEAD,"['taskflow/test.py', 'taskflow/tests/unit/patterns/test_graph_flow.py', 'taskflow/tests/unit/action_engine/test_compile.py', 'taskflow/tests/unit/test_retries.py']",4,cf327a2e2d4e2c504b5080fbf7bd48421fe7b4c7,," self.assertCountEqual(capturer.values, expected) self.assertCountEqual(capturer.values, expected) self.assertCountEqual(capturer.values, expected) self.assertCountEqual(capturer.values[:8], expected) self.assertCountEqual(capturer.values[:4], expected) self.assertCountEqual(expected, capturer.values[4:]) self.assertCountEqual(capturer.values, expected) self.assertCountEqual(capturer.values, expected)"," self.assertItemsEqual(capturer.values, expected) self.assertItemsEqual(capturer.values, expected) self.assertItemsEqual(capturer.values, expected) self.assertItemsEqual(capturer.values[:8], expected) self.assertItemsEqual(capturer.values[:4], expected) self.assertItemsEqual(expected, capturer.values[4:]) self.assertItemsEqual(capturer.values, expected) self.assertItemsEqual(capturer.values, expected)",50,50
openstack%2Foctavia~master~I3e8725eb77ea947e71d85ea406a60ed94c7bf971,openstack/octavia,master,I3e8725eb77ea947e71d85ea406a60ed94c7bf971,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-07-07 01:53:14.000000000,2020-07-07 18:41:59.000000000,2020-07-07 18:38:36.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 01:53:14.000000000', 'files': ['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/103653503cc641a59e6efd145567d98d7fbdb5b3', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277\n\nChange-Id: I3e8725eb77ea947e71d85ea406a60ed94c7bf971\n'}]",0,739638,103653503cc641a59e6efd145567d98d7fbdb5b3,8,3,1,17130,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277

Change-Id: I3e8725eb77ea947e71d85ea406a60ed94c7bf971
",git fetch https://review.opendev.org/openstack/octavia refs/changes/38/739638/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_health_monitor.py', 'octavia/tests/functional/api/v2/test_pool.py', 'octavia/tests/functional/api/v2/test_quotas.py', 'octavia/tests/functional/api/v2/test_amphora.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/tests/functional/api/v2/test_member.py', 'octavia/tests/functional/api/v2/test_l7policy.py', 'octavia/tests/functional/api/v2/test_load_balancer.py', 'octavia/tests/functional/api/v2/test_listener.py']",9,103653503cc641a59e6efd145567d98d7fbdb5b3,," self.assertCountEqual(['previous', 'next'], self.assertCountEqual([sni_id1, sni_id2],"," self.assertItemsEqual(['previous', 'next'], self.assertItemsEqual([sni_id1, sni_id2],",10,10
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,stable/ussuri,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-07 01:16:32.000000000,2020-07-07 18:37:20.000000000,2020-07-07 18:37:20.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 01:16:32.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d423af38a1bec45c3316c89d0d7a55e201792a50', 'message': 'undercloud/heat: set YAQL memory quota to 200000\n\nSince the ""optimization"" [1] of host entries in Heat and it\'s YAQLization,\nwe need to increase the memory quota for YAQL queries or the resource\nwill fail to process at large scale (250 nodes).\n\n[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc\n\nChange-Id: I04cb72210fbd25a720158988698a300140f4e7db\nCloses-Bug: #1886203\n(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)\n'}]",0,739631,d423af38a1bec45c3316c89d0d7a55e201792a50,8,4,1,3153,,,0,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
(cherry picked from commit c67c53a8d8094382bc75e7d56480ecb3f8897610)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/739631/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,d423af38a1bec45c3316c89d0d7a55e201792a50,bug/1886203-stable/ussuri, HeatYaqlMemoryQuota: 200000,,1,0
openstack%2Fneutron~stable%2Frocky~I710f00f0f542bcf7fa2fc60800797b90f9f77e14,openstack/neutron,stable/rocky,I710f00f0f542bcf7fa2fc60800797b90f9f77e14,[DVR] Reconfigure re-created physical bridges for dvr routers,MERGED,2020-05-27 20:24:49.000000000,2020-07-07 18:28:43.000000000,2020-07-07 18:28:42.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16011}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-05-27 20:24:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6c70a7f4701b7bee480e5222cf608f19264ec50', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 2, 'created': '2020-06-03 09:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4b178919ac1155f9e34bd06470b246683a56ac31', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 3, 'created': '2020-06-03 10:47:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93d25b38cbeefef39426a8a7d40ce0ad1e535b7c', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 4, 'created': '2020-06-03 10:58:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c9974bcc7fedc9b5210007165019072cd43e2f7d', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}, {'number': 5, 'created': '2020-07-06 20:05:31.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3d93b4077428c399349208df9819b8413184ef7', 'message': ""[DVR] Reconfigure re-created physical bridges for dvr routers\n\nIn case when physical bridge is removed and created again it\nis initialized by neutron-ovs-agent.\nBut if agent has enabled distributed routing, dvr related\nflows wasn't configured again and that lead to connectivity issues\nin case of DVR routers.\n\nThis patch fixes it by adding configuration of dvr related flows\nif distributed routing is enabled in agent's configuration.\n\nIt also adds reset list of phys_brs in dvr_agent. Without that there\nwere different objects used in ovs agent and dvr_agent classes thus\ne.g. 2 various cookie ids were set on flows in physical bridge.\nThis was also the same issue in case when openvswitch was restarted and\nall bridges were reconfigured.\nNow in such case there is correctly new cookie_id configured for all\nflows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14\nCloses-Bug: #1864822\n(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)\n""}]",0,731321,d3d93b4077428c399349208df9819b8413184ef7,31,6,5,11975,,,0,"[DVR] Reconfigure re-created physical bridges for dvr routers

In case when physical bridge is removed and created again it
is initialized by neutron-ovs-agent.
But if agent has enabled distributed routing, dvr related
flows wasn't configured again and that lead to connectivity issues
in case of DVR routers.

This patch fixes it by adding configuration of dvr related flows
if distributed routing is enabled in agent's configuration.

It also adds reset list of phys_brs in dvr_agent. Without that there
were different objects used in ovs agent and dvr_agent classes thus
e.g. 2 various cookie ids were set on flows in physical bridge.
This was also the same issue in case when openvswitch was restarted and
all bridges were reconfigured.
Now in such case there is correctly new cookie_id configured for all
flows.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I710f00f0f542bcf7fa2fc60800797b90f9f77e14
Closes-Bug: #1864822
(cherry picked from commit 91f0bf3c8511bf3b0cc63746f767d8d4dce601bd)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/731321/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/ovs_dvr_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",3,e6c70a7f4701b7bee480e5222cf608f19264ec50,bug/1864822," def test_ext_br_recreated(self): self._setup_for_dvr_test() reset_methods = ( 'reset_ovs_parameters', 'reset_dvr_parameters', 'setup_dvr_flows_on_integ_br', 'setup_dvr_flows_on_tun_br', 'setup_dvr_flows_on_phys_br', 'setup_dvr_mac_flows_on_all_brs') for method in reset_methods: mock.patch.object(self.agent.dvr_agent, method).start() bridge_mappings = {'physnet0': 'br-ex0', 'physnet1': 'br-ex1'} ex_br_mocks = [mock.Mock(br_name='br-ex0'), mock.Mock(br_name='br-ex1')] phys_bridges = {'physnet0': ex_br_mocks[0], 'physnet1': ex_br_mocks[1]}, bridges_added = ['br-ex0'] with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_NORMAL), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.dict(self.agent.bridge_mappings, bridge_mappings, clear=True), \ mock.patch.dict(self.agent.phys_brs, phys_bridges, clear=True), \ mock.patch.object(self.agent, 'setup_physical_bridges') as \ setup_physical_bridges, \ mock.patch.object(self.agent.ovs.ovsdb, 'idl_monitor') as \ mock_idl_monitor: mock_idl_monitor.bridges_added = bridges_added try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass # Setup bridges should be called once even if it will raise Runtime # Error because TypeError is raised in _agent_has_updates to stop # agent after first loop iteration setup_physical_bridges.assert_called_once_with({'physnet0': 'br-ex0'}) # Ensure dvr_agent methods were called correctly self.agent.dvr_agent.reset_ovs_parameters.assert_called_once_with( self.agent.int_br, self.agent.tun_br, self.agent.phys_brs, self.agent.patch_int_ofport, self.agent.patch_tun_ofport) self.agent.dvr_agent.reset_dvr_parameters.assert_called_once_with() (self.agent.dvr_agent.setup_dvr_flows_on_phys_br. assert_called_once_with({'physnet0': 'br-ex0'})) (self.agent.dvr_agent.setup_dvr_flows_on_integ_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_flows_on_tun_br. assert_called_once_with()) (self.agent.dvr_agent.setup_dvr_mac_flows_on_all_brs. assert_called_once_with()) ",,76,14
openstack%2Fneutron~stable%2Frocky~I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,openstack/neutron,stable/rocky,I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f,Ensure that stale flows are cleaned from phys_bridges,MERGED,2020-06-03 09:46:56.000000000,2020-07-07 18:28:40.000000000,2020-07-07 18:28:40.000000000,"[{'_account_id': 4694}, {'_account_id': 9732}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-06-03 09:46:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abf4ea19a192ffc72a67caa346207a3f8e8227c2', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}, {'number': 2, 'created': '2020-06-03 10:58:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dac52d3abcb0943de92dda2fde12a8d942407b40', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}, {'number': 3, 'created': '2020-07-06 20:05:52.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9087c3a4ea309d3c4f0a11b297cc8573f2d6df06', 'message': 'Ensure that stale flows are cleaned from phys_bridges\n\nIn case when neutron-ovs-agent will notice that any of physical\nbridges was ""re-created"", we should also ensure that stale Open\nFlow rules (with old cookie id) are cleaned.\nThis patch is doing exactly that.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f\nRelated-Bug: #1864822\n(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)\n'}]",0,733080,9087c3a4ea309d3c4f0a11b297cc8573f2d6df06,25,7,3,11975,,,0,"Ensure that stale flows are cleaned from phys_bridges

In case when neutron-ovs-agent will notice that any of physical
bridges was ""re-created"", we should also ensure that stale Open
Flow rules (with old cookie id) are cleaned.
This patch is doing exactly that.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I7c7c8a4c371d6f4afdaab51ed50950e2b20db30f
Related-Bug: #1864822
(cherry picked from commit 63c45b37666efc7fb33fc154fa828050b3dc7945)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/733080/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py'],1,abf4ea19a192ffc72a67caa346207a3f8e8227c2,bug/1864822," if bridges_recreated: # In case when any bridge was ""re-created"", we need to ensure # that there is no any stale flows in bridges left need_clean_stale_flow = True if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False LOG.info(""Agent rpc_loop - iteration:%(iter_num)d - "" ""cleanup stale flows. Elapsed:%(elapsed).3f"", {'iter_num': self.iter_num, 'elapsed': time.time() - start}) ", if need_clean_stale_flow: self.cleanup_stale_flows() need_clean_stale_flow = False,12,3
openstack%2Fopenstack-helm-infra~master~Ic5e327cf40c4b09c90738baff56419a6cef132da,openstack/openstack-helm-infra,master,Ic5e327cf40c4b09c90738baff56419a6cef132da,Undo octal-values restriction together with corresponding code,MERGED,2020-07-06 20:11:05.000000000,2020-07-07 18:10:49.000000000,2020-07-07 18:04:58.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 20:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/602bb0b4f0f255690c72a5d8211712e48e1c0e14', 'message': 'Undo octal-values restriction together with corresponding code\n\nUnrestrict octal values rule since benefits of file modes readability\nexceed possible issues with yaml 1.2 adoption in future k8s versions.\nThese issues will be addressed when/if they occur.\n\nChange-Id: Ic5e327cf40c4b09c90738baff56419a6cef132da\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-07-06 20:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/956ef20f593d85f10c254994a6639e888004fdbd', 'message': 'Undo octal-values restriction together with corresponding code\n\nUnrestrict octal values rule since benefits of file modes readability\nexceed possible issues with yaml 1.2 adoption in future k8s versions.\nThese issues will be addressed when/if they occur.\n\nAlso ensure osh-infra is a required project for lint job, that matters\nwhen running job against another project.\n\nChange-Id: Ic5e327cf40c4b09c90738baff56419a6cef132da\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-07 15:42:53.000000000', 'files': ['kibana/templates/job-register-kibana-indexes.yaml', 'yamllint.conf', 'elasticsearch/templates/job-elasticsearch-template.yaml', 'ingress/templates/deployment-ingress.yaml', 'fluentd/templates/deployment-fluentd.yaml', 'gnocchi/templates/deployment-api.yaml', 'elasticsearch/templates/pod-helm-tests.yaml', 'mariadb/templates/deployment-ingress.yaml', 'memcached/templates/deployment.yaml', 'falco/templates/daemonset.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'ceph-mon/templates/job-keyring.yaml', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'elastic-apm-server/templates/deployment.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'ceph-osd/templates/job-bootstrap.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'nagios/templates/pod-helm-tests.yaml', 'gnocchi/templates/cron-job-resources-cleaner.yaml', 'grafana/templates/job-db-init-session.yaml', 'postgresql/templates/pod-test.yaml', 'grafana/templates/job-set-admin-user.yaml', 'calico/templates/job-calico-settings.yaml', 'grafana/templates/job-add-home-dashboard.yaml', 'ceph-client/templates/deployment-checkdns.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'yamllint-templates.conf', 'zuul.d/jobs.yaml', 'rabbitmq/templates/statefulset.yaml', 'kafka/templates/statefulset.yaml', 'gnocchi/templates/job-storage-init.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'daemonjob-controller/templates/deployment.yaml', 'grafana/templates/deployment.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'elasticsearch/templates/deployment-gateway.yaml', 'grafana/templates/job-db-init.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'powerdns/templates/job-db-sync.yaml', 'registry/templates/deployment-registry.yaml', 'gnocchi/templates/job-db-sync.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'elastic-filebeat/templates/daemonset.yaml', 'elastic-metricbeat/templates/deployment-modules.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'mariadb/templates/pod-test.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'postgresql/templates/statefulset.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'mongodb/templates/statefulset.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kafka/templates/pod-helm-test.yaml', 'rabbitmq/templates/pod-test.yaml', 'kubernetes-keystone-webhook/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'kibana/templates/job-flush-kibana-metadata.yaml', 'gnocchi/templates/pod-gnocchi-test.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'elasticsearch/templates/cron-job-curator.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'registry/templates/daemonset-registry-proxy.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'zookeeper/templates/statefulset.yaml', 'grafana/templates/job-db-session-sync.yaml', 'grafana/templates/pod-helm-tests.yaml', 'kafka/templates/job-generate-acl.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'kibana/templates/deployment.yaml', 'nagios/templates/deployment.yaml', 'ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'elastic-packetbeat/templates/daemonset.yaml', 'elasticsearch/templates/job-es-cluster-wait.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'fluentbit/templates/daemonset-fluent-bit.yaml', 'powerdns/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'redis/templates/pod_test.yaml', 'registry/templates/job-bootstrap.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'gnocchi/templates/job-db-init-indexer.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'ceph-client/templates/deployment-mds.yaml', 'etcd/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl', 'prometheus-node-exporter/templates/daemonset.yaml', 'gnocchi/templates/job-clean.yaml', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'libvirt/templates/daemonset-libvirt.yaml', 'ceph-rgw/templates/job-bootstrap.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'mariadb/templates/statefulset.yaml', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'kubernetes-keystone-webhook/templates/pod-test.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'prometheus/templates/pod-helm-tests.yaml', 'ceph-client/templates/deployment-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/824f168efc4bef03981b19d5212c1e69eacd26dc', 'message': 'Undo octal-values restriction together with corresponding code\n\nUnrestrict octal values rule since benefits of file modes readability\nexceed possible issues with yaml 1.2 adoption in future k8s versions.\nThese issues will be addressed when/if they occur.\n\nAlso ensure osh-infra is a required project for lint job, that matters\nwhen running job against another project.\n\nChange-Id: Ic5e327cf40c4b09c90738baff56419a6cef132da\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,739600,824f168efc4bef03981b19d5212c1e69eacd26dc,14,4,3,8863,,,0,"Undo octal-values restriction together with corresponding code

Unrestrict octal values rule since benefits of file modes readability
exceed possible issues with yaml 1.2 adoption in future k8s versions.
These issues will be addressed when/if they occur.

Also ensure osh-infra is a required project for lint job, that matters
when running job against another project.

Change-Id: Ic5e327cf40c4b09c90738baff56419a6cef132da
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/739600/2 && git format-patch -1 --stdout FETCH_HEAD,"['kibana/templates/job-register-kibana-indexes.yaml', 'yamllint.conf', 'elasticsearch/templates/job-elasticsearch-template.yaml', 'ingress/templates/deployment-ingress.yaml', 'fluentd/templates/deployment-fluentd.yaml', 'gnocchi/templates/deployment-api.yaml', 'elasticsearch/templates/pod-helm-tests.yaml', 'mariadb/templates/deployment-ingress.yaml', 'memcached/templates/deployment.yaml', 'falco/templates/daemonset.yaml', 'ceph-client/templates/job-bootstrap.yaml', 'elasticsearch/templates/statefulset-master.yaml', 'ceph-mon/templates/job-keyring.yaml', 'helm-toolkit/templates/manifests/_job-db-sync.tpl', 'calico/templates/daemonset-calico-node.yaml', 'prometheus/templates/statefulset.yaml', 'ceph-mon/templates/job-storage-admin-keys.yaml', 'ceph-rgw/templates/deployment-rgw.yaml', 'elastic-apm-server/templates/deployment.yaml', 'prometheus-openstack-exporter/templates/deployment.yaml', 'ceph-osd/templates/job-bootstrap.yaml', 'openvswitch/templates/daemonset-ovs-vswitchd.yaml', 'nagios/templates/pod-helm-tests.yaml', 'gnocchi/templates/cron-job-resources-cleaner.yaml', 'grafana/templates/job-db-init-session.yaml', 'postgresql/templates/pod-test.yaml', 'grafana/templates/job-set-admin-user.yaml', 'calico/templates/job-calico-settings.yaml', 'grafana/templates/job-add-home-dashboard.yaml', 'ceph-client/templates/deployment-checkdns.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-provisioners/templates/deployment-cephfs-provisioner.yaml', 'yamllint-templates.conf', 'rabbitmq/templates/statefulset.yaml', 'kafka/templates/statefulset.yaml', 'gnocchi/templates/job-storage-init.yaml', 'helm-toolkit/templates/manifests/_job-db-init-mysql.tpl', 'ceph-mon/templates/job-bootstrap.yaml', 'elasticsearch/templates/cron-job-verify-repositories.yaml', 'daemonjob-controller/templates/deployment.yaml', 'grafana/templates/deployment.yaml', 'ceph-provisioners/templates/deployment-rbd-provisioner.yaml', 'ceph-rgw/templates/pod-helm-tests.yaml', 'elasticsearch/templates/statefulset-data.yaml', 'ceph-client/templates/job-rbd-pool.yaml', 'elasticsearch/templates/deployment-gateway.yaml', 'grafana/templates/job-db-init.yaml', 'ceph-osd/templates/daemonset-osd.yaml', 'gnocchi/templates/daemonset-metricd.yaml', 'powerdns/templates/job-db-sync.yaml', 'registry/templates/deployment-registry.yaml', 'gnocchi/templates/job-db-sync.yaml', 'ceph-provisioners/templates/job-namespace-client-key.yaml', 'elastic-filebeat/templates/daemonset.yaml', 'elastic-metricbeat/templates/deployment-modules.yaml', 'prometheus-openstack-exporter/templates/job-ks-user.yaml', 'mariadb/templates/pod-test.yaml', 'ceph-rgw/templates/job-s3-admin.yaml', 'postgresql/templates/statefulset.yaml', 'calico/templates/deployment-calico-kube-controllers.yaml', 'ceph-client/templates/cronjob-checkPGs.yaml', 'rabbitmq/templates/job-cluster-wait.yaml', 'elasticsearch/templates/deployment-client.yaml', 'elastic-metricbeat/templates/daemonset-node-metrics.yaml', 'mongodb/templates/statefulset.yaml', 'ceph-mon/templates/deployment-moncheck.yaml', 'prometheus-kube-state-metrics/templates/deployment.yaml', 'kafka/templates/pod-helm-test.yaml', 'rabbitmq/templates/pod-test.yaml', 'kubernetes-keystone-webhook/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-s3-user.yaml.tpl', 'kibana/templates/job-flush-kibana-metadata.yaml', 'gnocchi/templates/pod-gnocchi-test.yaml', 'ceph-osd/templates/job-post-apply.yaml', 'helm-toolkit/templates/manifests/_job_image_repo_sync.tpl', 'elasticsearch/templates/cron-job-curator.yaml', 'helm-toolkit/templates/manifests/_job-ks-user.yaml.tpl', 'registry/templates/daemonset-registry-proxy.yaml', 'ceph-provisioners/templates/job-cephfs-client-key.yaml', 'gnocchi/templates/daemonset-statsd.yaml', 'zookeeper/templates/statefulset.yaml', 'grafana/templates/job-db-session-sync.yaml', 'grafana/templates/pod-helm-tests.yaml', 'kafka/templates/job-generate-acl.yaml', 'ceph-osd/templates/pod-helm-tests.yaml', 'kibana/templates/deployment.yaml', 'nagios/templates/deployment.yaml', 'ceph-provisioners/templates/job-bootstrap.yaml', 'ceph-provisioners/templates/pod-helm-tests.yaml', 'elastic-packetbeat/templates/daemonset.yaml', 'elasticsearch/templates/job-es-cluster-wait.yaml', 'ceph-provisioners/templates/job-namespace-client-key-cleaner.yaml', 'fluentbit/templates/daemonset-fluent-bit.yaml', 'powerdns/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-db-drop-mysql.tpl', 'redis/templates/pod_test.yaml', 'registry/templates/job-bootstrap.yaml', 'openvswitch/templates/daemonset-ovs-db.yaml', 'gnocchi/templates/job-db-init-indexer.yaml', 'prometheus-alertmanager/templates/statefulset.yaml', 'ceph-client/templates/deployment-mds.yaml', 'etcd/templates/deployment.yaml', 'helm-toolkit/templates/manifests/_job-ks-service.tpl', 'helm-toolkit/templates/manifests/_job-s3-bucket.yaml.tpl', 'prometheus-node-exporter/templates/daemonset.yaml', 'gnocchi/templates/job-clean.yaml', 'helm-toolkit/templates/manifests/_job-ks-endpoints.tpl', 'libvirt/templates/daemonset-libvirt.yaml', 'ceph-rgw/templates/job-bootstrap.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'mariadb/templates/statefulset.yaml', 'helm-toolkit/templates/manifests/_job-rabbit-init.yaml.tpl', 'kubernetes-keystone-webhook/templates/pod-test.yaml', 'helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'ceph-mon/templates/daemonset-mon.yaml', 'elasticsearch/templates/job-register-snapshot-repository.yaml', 'ceph-rgw/templates/job-rgw-storage-init.yaml', 'prometheus/templates/pod-helm-tests.yaml', 'ceph-client/templates/deployment-mgr.yaml']",119,602bb0b4f0f255690c72a5d8211712e48e1c0e14,yamllint, defaultMode: 0555 defaultMode: 0444, defaultMode: 365 defaultMode: 292,205,205
openstack%2Ftripleo-ci~master~Ie45d29de935b51db555598fdc6eba18582f79e68,openstack/tripleo-ci,master,Ie45d29de935b51db555598fdc6eba18582f79e68,Add artg_repos_dir to featureset override,MERGED,2020-06-29 08:24:05.000000000,2020-07-07 18:08:54.000000000,2020-07-07 18:08:53.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-29 08:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3bf8fdae344fd3cb7e9bbcdfa6c4c607a08f69fd', 'message': 'Add artg_repos_dir to featureset override\n\nartg_repos_dir var is used in buildtestpackages for using the\ncloned repo on the nodepool. In downstream or for local testing\nthe path is different, so moving it to featureset overrride.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1789\n\nDepends-On: https://review.opendev.org/#/c/727200\n\nChange-Id: Ie45d29de935b51db555598fdc6eba18582f79e68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 2, 'created': '2020-06-30 11:24:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f9a6f69ebb72297c78fb02133069c88edabc3883', 'message': 'Add artg_repos_dir to featureset override\n\nartg_repos_dir var is used in buildtestpackages for using the\ncloned repo on the nodepool. In downstream or for local testing\nthe path is different, so moving it to featureset overrride.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1789\n\nDepends-On: https://review.opendev.org/#/c/727200\n\nChange-Id: Ie45d29de935b51db555598fdc6eba18582f79e68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 3, 'created': '2020-07-01 10:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3e26a56c3225992f1df6448035f50493d8394650', 'message': 'Add artg_repos_dir to featureset override\n\nartg_repos_dir var is used in buildtestpackages for using the\ncloned repo on the nodepool. In downstream or for local testing\nthe path is different, so moving it to featureset overrride.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1789\n\nDepends-On: https://review.opendev.org/#/c/727200\n\nChange-Id: Ie45d29de935b51db555598fdc6eba18582f79e68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 4, 'created': '2020-07-02 06:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/df094f239190d39675e5873214218356d2498f94', 'message': 'Add artg_repos_dir to featureset override\n\nartg_repos_dir var is used in buildtestpackages for using the\ncloned repo on the nodepool. In downstream or for local testing\nthe path is different, so moving it to featureset overrride.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1789\n\nDepends-On: https://review.opendev.org/#/c/727200\n\nChange-Id: Ie45d29de935b51db555598fdc6eba18582f79e68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}, {'number': 5, 'created': '2020-07-05 11:47:03.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/658296a1358a9b5ba9e33e3b070010201f1ef46e', 'message': 'Add artg_repos_dir to featureset override\n\nartg_repos_dir var is used in buildtestpackages for using the\ncloned repo on the nodepool. In downstream or for local testing\nthe path is different, so moving it to featureset overrride.\n\nhttps://tree.taiga.io/project/tripleo-ci-board/task/1789\n\nDepends-On: https://review.opendev.org/#/c/727200\n\nChange-Id: Ie45d29de935b51db555598fdc6eba18582f79e68\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\n'}]",0,738394,658296a1358a9b5ba9e33e3b070010201f1ef46e,22,7,5,12393,,,0,"Add artg_repos_dir to featureset override

artg_repos_dir var is used in buildtestpackages for using the
cloned repo on the nodepool. In downstream or for local testing
the path is different, so moving it to featureset overrride.

https://tree.taiga.io/project/tripleo-ci-board/task/1789

Depends-On: https://review.opendev.org/#/c/727200

Change-Id: Ie45d29de935b51db555598fdc6eba18582f79e68
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/738394/4 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,3bf8fdae344fd3cb7e9bbcdfa6c4c607a08f69fd,buildtestpackages, - 'artg_repos_dir',,1,0
openstack%2Ftripleo-quickstart-extras~master~Ie61065107ec1aed207e9207a0d59db706e96941a,openstack/tripleo-quickstart-extras,master,Ie61065107ec1aed207e9207a0d59db706e96941a,Move tls deps install before DNS changes,MERGED,2020-07-02 19:21:09.000000000,2020-07-07 18:08:49.000000000,2020-07-07 18:08:49.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-07-02 19:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/d5b363f04fe93c635a5ca2230a0018c629ef8d0c', 'message': 'WIP: Test moving tls deps install before DNS changes\n\nChange-Id: Ie61065107ec1aed207e9207a0d59db706e96941a\nRelated-Bug: #1884570\n'}, {'number': 2, 'created': '2020-07-02 23:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/404326e5cc6ef98aaa1fccb1d5522b838f5c62c8', 'message': 'WIP: Test moving tls deps install before DNS changes\n\nChange-Id: Ie61065107ec1aed207e9207a0d59db706e96941a\nRelated-Bug: #1884570\n'}, {'number': 3, 'created': '2020-07-05 22:57:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/55203b95d2bbc33ebef5895ec211c93e8cd8ea82', 'message': 'WIP: Test moving tls deps install before DNS changes\n\nChange-Id: Ie61065107ec1aed207e9207a0d59db706e96941a\nRelated-Bug: #1884570\n'}, {'number': 4, 'created': '2020-07-06 12:08:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b38d4e473b1af7d61e8fe495e595b72b809759e6', 'message': 'Move tls deps install before DNS changes\n\nEnsure that required TLS dependencies are installed\nbefore standard DNS entries are removed and the new TLS setup\nhas not yet completed.\n\nChange-Id: Ie61065107ec1aed207e9207a0d59db706e96941a\nRelated-Bug: #1884570\n'}, {'number': 5, 'created': '2020-07-07 02:00:40.000000000', 'files': ['roles/ipa-multinode/defaults/main.yml', 'roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/7fea87335557b3b07e61a9f5800b25ac9497541d', 'message': 'Move tls deps install before DNS changes\n\nEnsure that required TLS dependencies are installed\nbefore standard DNS entries are removed and the new TLS setup\nhas not yet completed.\n\nChange-Id: Ie61065107ec1aed207e9207a0d59db706e96941a\nRelated-Bug: #1884570\n'}]",0,739135,7fea87335557b3b07e61a9f5800b25ac9497541d,28,6,5,9976,,,0,"Move tls deps install before DNS changes

Ensure that required TLS dependencies are installed
before standard DNS entries are removed and the new TLS setup
has not yet completed.

Change-Id: Ie61065107ec1aed207e9207a0d59db706e96941a
Related-Bug: #1884570
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/35/739135/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/ipa-multinode/tasks/ipaserver-undercloud-setup.yml'],1,d5b363f04fe93c635a5ca2230a0018c629ef8d0c,move-tls-dep,- name: install tls dependencies become: true package: name: '{{ tls_packages }}' state: latest when: - enable_tls | bool ,- name: install tls dependencies become: true package: name: '{{ tls_packages }}' state: latest when: - enable_tls | bool ,8,8
openstack%2Fcharm-rabbitmq-server~master~Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee,openstack/charm-rabbitmq-server,master,Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee,"Revert ""Add workload message when waiting for clustering""",MERGED,2020-07-07 15:34:15.000000000,2020-07-07 17:45:00.000000000,2020-07-07 17:45:00.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-07 15:34:15.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/d04627d1995b42c7557542623eb36e1bb27e32cd', 'message': 'Revert ""Add workload message when waiting for clustering""\n\nThis reverts commit 0d4216b764cf71fd35daf5d5d0f68ff3a301fecc.\n\nChange-Id: Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee\n'}]",0,739799,d04627d1995b42c7557542623eb36e1bb27e32cd,7,4,1,12549,,,0,"Revert ""Add workload message when waiting for clustering""

This reverts commit 0d4216b764cf71fd35daf5d5d0f68ff3a301fecc.

Change-Id: Ie3cd2f6535f8f4ddb3268961b2cd7a9e3db9dcee
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/99/739799/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,d04627d1995b42c7557542623eb36e1bb27e32cd,statue-msg-for-cluster-wait, if state == 'active' and clustered(): message = 'Unit is ready and clustered', if state == 'active': if clustered(): message = 'Unit is ready and clustered' else: state == 'waiting' message = 'Waiting for internal clustering to complete',2,6
openstack%2Fnova~master~Ic67b45b524417e8351be86a4d320e068ca4fc1e1,openstack/nova,master,Ic67b45b524417e8351be86a4d320e068ca4fc1e1,DNM: test mypy,ABANDONED,2020-07-07 06:56:05.000000000,2020-07-07 17:33:22.000000000,,"[{'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-07 06:56:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ba742f1d16b08d3f9fe7ddbe153d6f67f0f76fcb', 'message': 'DNM: test mypy\n\nChange-Id: Ic67b45b524417e8351be86a4d320e068ca4fc1e1\n'}, {'number': 2, 'created': '2020-07-07 16:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b57f1bf2bc07e35cef68a9bfa890cda83a6a92b6', 'message': 'DNM: test mypy\n\nChange-Id: Ic67b45b524417e8351be86a4d320e068ca4fc1e1\n'}, {'number': 3, 'created': '2020-07-07 16:08:08.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ca6647f055c7441fee95f3a6503e39af351aecfa', 'message': 'DNM: test mypy\n\nChange-Id: Ic67b45b524417e8351be86a4d320e068ca4fc1e1\n'}]",0,739663,ca6647f055c7441fee95f3a6503e39af351aecfa,15,9,3,9708,,,0,"DNM: test mypy

Change-Id: Ic67b45b524417e8351be86a4d320e068ca4fc1e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/63/739663/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,ba742f1d16b08d3f9fe7ddbe153d6f67f0f76fcb,," instance: objects.Instance,"," instance: 'objects.Instance',",1,1
openstack%2Ftripleo-ansible~stable%2Ftrain~I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,openstack/tripleo-ansible,stable/train,I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,Make throttle optional,MERGED,2020-07-06 19:08:02.000000000,2020-07-07 17:20:57.000000000,2020-07-07 17:20:57.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d20ca836ee9279d1d4b5f6c2f8474cc82c44e1c7', 'message': ""Make throttle optional\n\nTasks did not have the concept of throttling prior to ansible 2.9 so if\nwe want to allow this to be re-used with older versions then we need to\nskip the throttling code if task doesn't contain the throttle attribute.\nThis will help if we want to backport this for upgrades.\n\nChange-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0\n(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)\n""}, {'number': 2, 'created': '2020-07-07 11:33:38.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9d6e68759aaf976cc51bd79fc964bf952d8eb617', 'message': ""Make throttle optional\n\nTasks did not have the concept of throttling prior to ansible 2.9 so if\nwe want to allow this to be re-used with older versions then we need to\nskip the throttling code if task doesn't contain the throttle attribute.\nThis will help if we want to backport this for upgrades.\n\nChange-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0\n(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)\n""}]",0,739588,9d6e68759aaf976cc51bd79fc964bf952d8eb617,13,5,2,3153,,,0,"Make throttle optional

Tasks did not have the concept of throttling prior to ansible 2.9 so if
we want to allow this to be re-used with older versions then we need to
skip the throttling code if task doesn't contain the throttle attribute.
This will help if we want to backport this for upgrades.

Change-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0
(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/88/739588/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,d20ca836ee9279d1d4b5f6c2f8474cc82c44e1c7,throttle/train," # if task has a throttle attribute, check throttle e.g. ansible > 2.9 throttle = getattr(task, 'throttle', None) if throttle is not None: try: throttle = int(templar.template(throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak()"," try: throttle = int(templar.template(task.throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak()",11,8
openstack%2Fcinder~stable%2Fpike~I0dc3e1a850b4f9041ba2a9a6268168706adc3665,openstack/cinder,stable/pike,I0dc3e1a850b4f9041ba2a9a6268168706adc3665,Remove grenade jobs,ABANDONED,2020-06-05 16:43:59.000000000,2020-07-07 16:48:13.000000000,,"[{'_account_id': 1736}, {'_account_id': 1916}, {'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14892}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 20813}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28522}, {'_account_id': 28801}, {'_account_id': 31016}]","[{'number': 1, 'created': '2020-06-05 16:43:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb8936a8d1bc5ce06e9e6ea62d73c2f5b05b22c5', 'message': 'Remove grenade jobs\n\nThis branch is in extended maintenance. As part of EM, it was agreed we\nwould run jobs as long as we could keep them passing. The grenade jobs\nhave some issues that would take a lot of work to fix up, so given the\nstable status and the lack of resources on these older stable branches,\njust remove them.\n\nChange-Id: I0dc3e1a850b4f9041ba2a9a6268168706adc3665\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2020-06-05 16:59:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9d21756d982b2b3775d3ca3f389e4242272f9da9', 'message': 'Remove grenade jobs\n\nThis branch is in extended maintenance. As part of EM, it was agreed we\nwould run jobs as long as we could keep them passing. The grenade jobs\nhave some issues that would take a lot of work to fix up, so given the\nstable status and the lack of resources on these older stable branches,\njust remove them.\n\nChange-Id: I0dc3e1a850b4f9041ba2a9a6268168706adc3665\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 3, 'created': '2020-06-19 22:06:43.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b7008faff12cc2d7d3080db2e479266779479dc1', 'message': 'Remove grenade jobs\n\nThis branch is in extended maintenance. As part of EM, it was agreed we\nwould run jobs as long as we could keep them passing. The grenade jobs\nhave some issues that would take a lot of work to fix up, so given the\nstable status and the lack of resources on these older stable branches,\njust remove them.\n\nChange-Id: I0dc3e1a850b4f9041ba2a9a6268168706adc3665\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",2,733889,b7008faff12cc2d7d3080db2e479266779479dc1,65,21,3,11904,,,0,"Remove grenade jobs

This branch is in extended maintenance. As part of EM, it was agreed we
would run jobs as long as we could keep them passing. The grenade jobs
have some issues that would take a lot of work to fix up, so given the
stable status and the lack of resources on these older stable branches,
just remove them.

Change-Id: I0dc3e1a850b4f9041ba2a9a6268168706adc3665
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/cinder refs/changes/89/733889/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,fb8936a8d1bc5ce06e9e6ea62d73c2f5b05b22c5,deadstablejobs,, - legacy-grenade-dsvm-cinder-mn-sub-volbak: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - neutron-grenade: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ gate: jobs: - legacy-grenade-dsvm-cinder-mn-sub-volbak: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$ - neutron-grenade: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^api-ref/.*$ - ^cinder/hacking/.*$ - ^cinder/locale/.*$ - ^cinder/tests/functional.*$ - ^cinder/tests/unit.*$ - ^contrib/block-box.*$ - ^doc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tools/.*$ - ^tox.ini$,0,62
openstack%2Fironic-inspector~master~I131c8189b25ee2de66f08c742a21052ef1b266aa,openstack/ironic-inspector,master,I131c8189b25ee2de66f08c742a21052ef1b266aa,Use node.id instead of node.uuid in record_node,MERGED,2020-07-07 12:41:40.000000000,2020-07-07 16:46:06.000000000,2020-07-07 15:51:45.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-07 12:41:40.000000000', 'files': ['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/node-id-920629472f01c83a.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/06390e372384d15448c5ed10f77d93faa494816a', 'message': ""Use node.id instead of node.uuid in record_node\n\nThis function does not have a compatibility shim that adds 'uuid'.\n\nChange-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa\n""}]",0,739730,06390e372384d15448c5ed10f77d93faa494816a,10,4,1,10239,,,0,"Use node.id instead of node.uuid in record_node

This function does not have a compatibility shim that adds 'uuid'.

Change-Id: I131c8189b25ee2de66f08c742a21052ef1b266aa
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/30/739730/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/node_cache.py', 'ironic_inspector/test/unit/test_node_cache.py', 'releasenotes/notes/node-id-920629472f01c83a.yaml']",3,06390e372384d15448c5ed10f77d93faa494816a,node-id,--- fixes: - | Fixes ``AttributeError: 'Node' object has no attribute 'uuid'`` when trying to introspect an active node that is not currently in the cache. ,,8,3
openstack%2Foctavia~master~I152d854c091d1e1410d21ea6a04975b5a479bb65,openstack/octavia,master,I152d854c091d1e1410d21ea6a04975b5a479bb65,DNM: Testing for IPv6 job debug,ABANDONED,2020-07-02 17:16:24.000000000,2020-07-07 16:17:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-02 17:16:24.000000000', 'files': ['octavia/amphorae/drivers/haproxy/rest_api_driver.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/634b09bfd32a7c926f06274624786fc9c2cc2fda', 'message': 'DNM: Testing for IPv6 job debug\n\nChange-Id: I152d854c091d1e1410d21ea6a04975b5a479bb65\n'}]",0,739119,634b09bfd32a7c926f06274624786fc9c2cc2fda,3,1,1,11628,,,0,"DNM: Testing for IPv6 job debug

Change-Id: I152d854c091d1e1410d21ea6a04975b5a479bb65
",git fetch https://review.opendev.org/openstack/octavia refs/changes/19/739119/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia/amphorae/drivers/haproxy/rest_api_driver.py'],1,634b09bfd32a7c926f06274624786fc9c2cc2fda,,"from octavia.common import clients conn_max_retries = 120 self._nova_client = clients.NovaAuth.get_nova_client( endpoint=CONF.nova.endpoint, region=CONF.nova.region_name, endpoint_type=CONF.nova.endpoint_type, insecure=CONF.nova.insecure, cacert=CONF.nova.ca_certificates_file) console_log = self._nova_client.servers.get_console_output( server=amp.compute_id) LOG.error(console_log)",,11,0
openstack%2Foctavia-tempest-plugin~master~I390faffccf9d834e9622c8461bdde615f9675cf3,openstack/octavia-tempest-plugin,master,I390faffccf9d834e9622c8461bdde615f9675cf3,DNM: Debugging the IPv6 job,ABANDONED,2020-06-30 23:16:31.000000000,2020-07-07 16:17:26.000000000,,"[{'_account_id': 1131}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 23:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/20ad2aacd9c91bad55f7c2d7a6ddd9141ba802c4', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors and to enable amphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 2, 'created': '2020-06-30 23:18:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e504df4cf620877f46e0c019fa77ff75ad34e576', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors, set tempest check rate higher, and to enable\namphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 3, 'created': '2020-07-01 15:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/62c799cf0e455232c041b2e591325d65f53bd66d', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors, set tempest check rate higher, and to enable\namphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 4, 'created': '2020-07-01 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7b712d4cda70111dcf13844a85f024914e5571af', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors, set tempest check rate higher, and to enable\namphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 5, 'created': '2020-07-01 20:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/e1aa1382f3e6a56d1667b9b47fcf1d5b07a2f871', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors, set tempest check rate higher, and to enable\namphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 6, 'created': '2020-07-01 23:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b69e599e50c776d23c39951782558cccbb568327', 'message': 'Update IPv6 job for mirrors and log offloading\n\nThe IPv6-only job is parented by devstack-tempest-ipv6, so it does\nnot pick up our base job settings. This patch updates the ipv6 job\nto use the ci mirrors, set tempest check rate higher, and to enable\namphora log offloading.\n\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 7, 'created': '2020-07-02 17:17:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/582d19afee2330c082b5072d7f0630c1731c5642', 'message': 'DNM: Debugging the IPv6 job\n\nDepends-On: https://review.opendev.org/739119\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}, {'number': 8, 'created': '2020-07-06 17:27:38.000000000', 'files': ['octavia_tempest_plugin/tests/test_base.py', 'zuul.d/projects.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/cdef1b40e09ab44580abd94178d7a8a60977b24a', 'message': 'DNM: Debugging the IPv6 job\n\nDepends-On: https://review.opendev.org/739557\nChange-Id: I390faffccf9d834e9622c8461bdde615f9675cf3\n'}]",1,738715,cdef1b40e09ab44580abd94178d7a8a60977b24a,19,3,8,11628,,,0,"DNM: Debugging the IPv6 job

Depends-On: https://review.opendev.org/739557
Change-Id: I390faffccf9d834e9622c8461bdde615f9675cf3
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/15/738715/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,20ad2aacd9c91bad55f7c2d7a6ddd9141ba802c4,, DIB_LOCAL_ELEMENTS: openstack-ci-mirrors amphora_agent: forward_all_logs: True zuul_copy_output: '/var/log/dib-build' : logs '/var/log/octavia-amphora.log': logs '/var/log/octavia-tenant-traffic.log': logs,,7,0
openstack%2Fnova~master~I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9,openstack/nova,master,I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9,Lock down evacuate request spec to the same cell,NEW,2020-07-03 01:18:18.000000000,2020-07-07 16:11:31.000000000,,"[{'_account_id': 3031}, {'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-03 01:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/622302f093f821991dd2d2a0e9c521bc38291a6c', 'message': 'WIP: Lock down evacuate request spec to the same cell\n\nCloses-Bug: #1885987\n\nChange-Id: I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9\n'}, {'number': 2, 'created': '2020-07-03 03:49:45.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/65dd754cb7f92ed0499145a3303c6650fa648cba', 'message': 'Lock down evacuate request spec to the same cell\n\nCurrently in a multi cell environment evacuate could rebuild an\ninstance on a host in a different cell. To fix this we seed the\nrequest spec with the source hosts cell to restrict hosts to the\nsame cell.\n\nCloses-Bug: #1885987\n\nChange-Id: I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9\n'}]",3,739157,65dd754cb7f92ed0499145a3303c6650fa648cba,20,12,2,3031,,,0,"Lock down evacuate request spec to the same cell

Currently in a multi cell environment evacuate could rebuild an
instance on a host in a different cell. To fix this we seed the
request spec with the source hosts cell to restrict hosts to the
same cell.

Closes-Bug: #1885987

Change-Id: I81a47caa5a4d3d6f61dd9d5d74b176b6b290dbc9
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/739157/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,622302f093f821991dd2d2a0e9c521bc38291a6c,bug/1885987," cell_mapping = None try: cell_mapping = objects.InstanceMapping.get_by_instance_uuid( context, instance.uuid).cell_mapping except exception.InstanceMappingNotFound: raise exception.MigrationPreCheckError( reason=(_('Unable to determine in which cell ' 'instance %s lives.') % instance.uuid)) if ('requested_destination' in request_spec and request_spec.requested_destination): request_spec.requested_destination.cell = cell_mapping else: request_spec.requested_destination = objects.Destination( cell=cell_mapping) ",,17,0
openstack%2Fdevstack-plugin-ceph~master~Id925fe667472f7a71ac236aec136dd7b59e43794,openstack/devstack-plugin-ceph,master,Id925fe667472f7a71ac236aec136dd7b59e43794,Enable volume revert to snapshot RBD tests from Ussuri,MERGED,2020-05-11 22:22:55.000000000,2020-07-07 15:58:03.000000000,2020-07-07 15:56:00.000000000,"[{'_account_id': 4690}, {'_account_id': 5314}, {'_account_id': 6413}, {'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-05-11 22:22:55.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/437ebc54b1a513897ee24c5f7d8340f8459d9a44', 'message': 'Enable volume revert to snapshot RBD tests from Ussuri\n\nQA people pointed out that It should be set here, not in the job.\n\nChange-Id: Id925fe667472f7a71ac236aec136dd7b59e43794\n'}]",0,726964,437ebc54b1a513897ee24c5f7d8340f8459d9a44,15,7,1,10459,,,0,"Enable volume revert to snapshot RBD tests from Ussuri

QA people pointed out that It should be set here, not in the job.

Change-Id: Id925fe667472f7a71ac236aec136dd7b59e43794
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/64/726964/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,437ebc54b1a513897ee24c5f7d8340f8459d9a44,enable-volume-revert," # Volume revert to snapshot support for rbd was introduced in Ussuri by # If8a5eb3a03e18f9043ff29f7648234c9b46376a0 if [[ ""$TARGET_BRANCH"" =~ stable/(ocata|pike|queens|rocky|stein|train) ]]; then iniset $TEMPEST_CONFIG volume-feature-enabled volume_revert False else iniset $TEMPEST_CONFIG volume-feature-enabled volume_revert True fi",,7,0
openstack%2Fcharm-rabbitmq-server~master~I351c1790b02298c67f957cad53b50e89370fa983,openstack/charm-rabbitmq-server,master,I351c1790b02298c67f957cad53b50e89370fa983,Add workload message when waiting for clustering,MERGED,2020-07-01 16:57:23.000000000,2020-07-07 15:34:15.000000000,2020-07-07 13:34:06.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-01 16:57:23.000000000', 'files': ['hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/0d4216b764cf71fd35daf5d5d0f68ff3a301fecc', 'message': 'Add workload message when waiting for clustering\n\nAdd workload status message to show charm is waiting for internal\nrabbit clustering to complete.\n\nChange-Id: I351c1790b02298c67f957cad53b50e89370fa983\n'}]",0,738893,0d4216b764cf71fd35daf5d5d0f68ff3a301fecc,10,4,1,12549,,,0,"Add workload message when waiting for clustering

Add workload status message to show charm is waiting for internal
rabbit clustering to complete.

Change-Id: I351c1790b02298c67f957cad53b50e89370fa983
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/93/738893/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/rabbit_utils.py'],1,0d4216b764cf71fd35daf5d5d0f68ff3a301fecc,statue-msg-for-cluster-wait, if state == 'active': if clustered(): message = 'Unit is ready and clustered' else: state == 'waiting' message = 'Waiting for internal clustering to complete', if state == 'active' and clustered(): message = 'Unit is ready and clustered',6,2
openstack%2Fdesignate~stable%2Frocky~I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,openstack/designate,stable/rocky,I0a85c5df5c323d6f636c8cb92ee5201c14cdb306,Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.,MERGED,2020-04-17 16:05:08.000000000,2020-07-07 15:05:03.000000000,2020-07-07 15:05:03.000000000,"[{'_account_id': 6994}, {'_account_id': 8099}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2020-04-17 16:05:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/de86e0befcba8d89a9f225d4706166ed783a0c92', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}, {'number': 2, 'created': '2020-05-04 17:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/518d0bf1aa5f4dc11f2a1845bd4f9808205f7db7', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}, {'number': 3, 'created': '2020-05-08 21:50:04.000000000', 'files': ['designate/tests/test_workers/test_service.py', 'designate/worker/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e4ee680f24d00b9633284c061edebaf0f62d7b3c', 'message': ""Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.\n\nChange-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306\nCloses-Bug: #1785769\n(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)\n""}]",0,720765,e4ee680f24d00b9633284c061edebaf0f62d7b3c,39,7,3,11628,,,0,"Worker should send NOTIFY also to all servers in 'also_notifies' pool settings.

Change-Id: I0a85c5df5c323d6f636c8cb92ee5201c14cdb306
Closes-Bug: #1785769
(cherry picked from commit 6e79c2e0816ca59cff9a8b0eb238e1e5add7b943)
",git fetch https://review.opendev.org/openstack/designate refs/changes/65/720765/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/tests/test_workers/test_service.py', 'designate/worker/service.py']",2,de86e0befcba8d89a9f225d4706166ed783a0c92,bug/1785769-stable/rocky,"class AlsoNotifyTask(object): """""" Placeholder to define options for also_notify targets """""" pass all_tasks = [] all_tasks.append(zonetasks.ZoneAction( )) # Send a NOTIFY to each also-notifies for also_notify in pool.also_notifies: notify_target = AlsoNotifyTask() notify_target.options = {'host': also_notify.host, 'port': also_notify.port} all_tasks.append(zonetasks.SendNotify(self.executor, zone, notify_target)) return self.executor.run(all_tasks)", task = zonetasks.ZoneAction( ) return self.executor.run(task),23,4
openstack%2Fironic~master~I805a65478f469b1b4e25c1bf2397f034f61d6ec7,openstack/ironic,master,I805a65478f469b1b4e25c1bf2397f034f61d6ec7,Follow up of fix uefi jobs with ovmf native ubuntu package,MERGED,2020-07-03 14:14:42.000000000,2020-07-07 15:03:02.000000000,2020-07-07 14:32:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 15519}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30100}]","[{'number': 1, 'created': '2020-07-03 14:14:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/95f3d9cf3bbf83f237dd91c955147df02fd92b51', 'message': 'Follow up of fix uefi jobs with ovmf native ubuntu package\n\nFollowing up on comments from https://review.opendev.org/716889\n\nChange-Id: I805a65478f469b1b4e25c1bf2397f034f61d6ec7\n'}, {'number': 2, 'created': '2020-07-07 10:05:06.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'bindep.txt', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/daca490226d0a0048d3d215b2a184f10108082e5', 'message': 'Follow up of fix uefi jobs with ovmf native ubuntu package\n\nFollowing up on comments from https://review.opendev.org/716889\n\nChange-Id: I805a65478f469b1b4e25c1bf2397f034f61d6ec7\n'}]",0,739244,daca490226d0a0048d3d215b2a184f10108082e5,24,8,2,23851,,,0,"Follow up of fix uefi jobs with ovmf native ubuntu package

Following up on comments from https://review.opendev.org/716889

Change-Id: I805a65478f469b1b4e25c1bf2397f034f61d6ec7
",git fetch https://review.opendev.org/openstack/ironic refs/changes/44/739244/2 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'bindep.txt', 'devstack/files/debs/ironic']",3,95f3d9cf3bbf83f237dd91c955147df02fd92b51,fix-uefi-ovmf,,libvirt-daemon-driver-storage-gluster # dist:focal libvirt-daemon-driver-lxc # dist:focal libvirt-daemon-driver-storage-rbd # dist:focal,1,5
openstack%2Fneutron~stable%2Fqueens~Ie846a8cb481da65999b12f5547b407cc7bdc3138,openstack/neutron,stable/queens,Ie846a8cb481da65999b12f5547b407cc7bdc3138,"Fix queens gates, multiple fixes",MERGED,2020-07-06 10:13:56.000000000,2020-07-07 14:43:32.000000000,2020-07-07 14:43:32.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 11904}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2020-07-06 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e926bdaff1f3ee5e06dbe1d5507c652e8fec88f1', 'message': 'Fix queens gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/737940/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n'}, {'number': 2, 'created': '2020-07-06 14:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b538ea71ab7e588b55e587a4e910d164e9c41227', 'message': 'Fix queens gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional/fullstack/neutron-tempest-iptables_hybrid\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional/fullstack/neutron-tempest-iptables_hybrid\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/737940/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n'}, {'number': 3, 'created': '2020-07-07 08:56:48.000000000', 'files': ['playbooks/legacy/neutron-tempest-ovsfw/run.yaml', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack/run.yaml', 'playbooks/legacy/neutron-functional/run.yaml', 'playbooks/legacy/neutron-rally-neutron/run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/774b3ff89e5ec01494d7ca66773aba8984f0cd80', 'message': 'Fix queens gates, multiple fixes\n\n1. Make grenade jobs experimental for EM branches\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\nAdditionally, it was proposed in neutron CI meeting [2] that non-voting\njobs would be moved to experimental, so move grenade jobs there instead\nof keeping them non-voting\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101\n\nStableOnly\n\nConflicts:\n\t.zuul.yaml\n\n(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)\n\n2. Install pip2 for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nElse both jobs fail with ""sudo: pip: command not found""\n\n3. Add ensure-tox for functional, fullstack,\n   neutron-tempest-iptables_hybrid, rally\n\nSimilar error message for tox\n\n4. Disable OVS compilation for fullstack and move job to experimental\n\nCompilation fails similarly to recent master failures:\n/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup\n\nBut branch 2.9 is not updated anymore. Use official package\n\nThis triggers a few tests failures, so move it to experimental (instead\nof marking non-voting), same as grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tneutron/tests/contrib/gate_hook.sh\n\nDepends-On: https://review.opendev.org/737940/\nChange-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138\n(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)\n'}]",0,739455,774b3ff89e5ec01494d7ca66773aba8984f0cd80,20,8,3,21798,,,0,"Fix queens gates, multiple fixes

1. Make grenade jobs experimental for EM branches

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

Additionally, it was proposed in neutron CI meeting [2] that non-voting
jobs would be moved to experimental, so move grenade jobs there instead
of keeping them non-voting

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html
[2] http://eavesdrop.openstack.org/meetings/neutron_ci/2020/neutron_ci.2020-07-01-15.00.log.html#l-101

StableOnly

Conflicts:
	.zuul.yaml

(cherry picked from commit 9313dce4590116b13b24570c5455df415575817e)

2. Install pip2 for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Else both jobs fail with ""sudo: pip: command not found""

3. Add ensure-tox for functional, fullstack,
   neutron-tempest-iptables_hybrid, rally

Similar error message for tox

4. Disable OVS compilation for fullstack and move job to experimental

Compilation fails similarly to recent master failures:
/opt/stack/new/ovs/datapath/linux/geneve.c:943:15: error: const struct ipv6_stub has no member named ipv6_dst_lookup

But branch 2.9 is not updated anymore. Use official package

This triggers a few tests failures, so move it to experimental (instead
of marking non-voting), same as grenade jobs

Conflicts:
	.zuul.yaml
	neutron/tests/contrib/gate_hook.sh

Depends-On: https://review.opendev.org/737940/
Change-Id: Ie846a8cb481da65999b12f5547b407cc7bdc3138
(cherry picked from commit 57f527a748f292597ee548e8d386720b72346d17)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/739455/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/neutron-tempest-ovsfw/run.yaml', 'neutron/tests/contrib/gate_hook.sh', '.zuul.yaml', 'playbooks/legacy/neutron-fullstack/run.yaml', 'playbooks/legacy/neutron-functional/run.yaml']",5,e926bdaff1f3ee5e06dbe1d5507c652e8fec88f1,fix_queens_gate, - name: Ensure tox is installed include_role: name: ensure-tox vars: ensure_global_symlinks: True,,25,32
openstack%2Fpuppet-tripleo~master~I89c848bdae1b997b38a5164302acdcca94619471,openstack/puppet-tripleo,master,I89c848bdae1b997b38a5164302acdcca94619471,Add FFU support for ceph_nfs,MERGED,2020-07-03 07:13:25.000000000,2020-07-07 14:41:41.000000000,2020-07-07 11:33:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 27092}]","[{'number': 1, 'created': '2020-07-03 07:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5af6b01688a1012e027d111db6dd4b87b575f523', 'message': 'WIP Add FFU support for ceph_nfs\n\nChange-Id: I89c848bdae1b997b38a5164302acdcca94619471\n'}, {'number': 2, 'created': '2020-07-06 06:46:57.000000000', 'files': ['manifests/profile/pacemaker/ceph_nfs.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4243119d09ff9ee88aea71496753658f9d06d934', 'message': 'Add FFU support for ceph_nfs\n\nThis patch fixes the ceph_nfs upgrade process checking\nfor the short_name variable definition.\nThis is required to properly handle the FFU process for\nthis service.\n\nChange-Id: I89c848bdae1b997b38a5164302acdcca94619471\n'}]",0,739170,4243119d09ff9ee88aea71496753658f9d06d934,19,10,2,20172,,,0,"Add FFU support for ceph_nfs

This patch fixes the ceph_nfs upgrade process checking
for the short_name variable definition.
This is required to properly handle the FFU process for
this service.

Change-Id: I89c848bdae1b997b38a5164302acdcca94619471
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/70/739170/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/ceph_nfs.pp'],1,5af6b01688a1012e027d111db6dd4b87b575f523,ffu-ceph-nfs," if (hiera('ceph_nfs_short_node_names_override', undef)) { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names_override') } else { $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names') } ", $ceph_nfs_short_node_names = hiera('ceph_nfs_short_node_names'),6,1
openstack%2Fosc-lib~master~I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb,openstack/osc-lib,master,I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb,switch to stevedore for entry points,ABANDONED,2020-07-07 14:34:07.000000000,2020-07-07 14:36:01.000000000,,[],"[{'number': 1, 'created': '2020-07-07 14:34:07.000000000', 'files': ['requirements.txt', 'osc_lib/command/commandmanager.py', 'lower-constraints.txt', 'osc_lib/tests/command/test_commandmanager.py'], 'web_link': 'https://opendev.org/openstack/osc-lib/commit/5e0db50d932e2d799f3d64f45b33dbdac0db51e2', 'message': 'switch to stevedore for entry points\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. Stevedore is adding a new caching layer using\nimportlib.metadata, which will not.  Switching to the stevedore should\neventually speed up load times, especially for command line apps. This\nchange makes the switch now to ensure API compatibility.\n\nWe were already using stevedore for tests, so this moves the dependency\nfrom test-requirements.txt to requirements.txt and raises the minimum\nversion to something more recent.\n\nChange-Id: I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb\n'}]",0,739777,5e0db50d932e2d799f3d64f45b33dbdac0db51e2,3,0,1,2,,,0,"switch to stevedore for entry points

Importing pkg_resources scans every installed distribution to find
all of the entry points. Stevedore is adding a new caching layer using
importlib.metadata, which will not.  Switching to the stevedore should
eventually speed up load times, especially for command line apps. This
change makes the switch now to ensure API compatibility.

We were already using stevedore for tests, so this moves the dependency
from test-requirements.txt to requirements.txt and raises the minimum
version to something more recent.

Change-Id: I2e36a6ea5061c776d0b3cedc3afb8b8380bdd1fb
",git fetch https://review.opendev.org/openstack/osc-lib refs/changes/77/739777/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'osc_lib/command/commandmanager.py', 'lower-constraints.txt', 'osc_lib/tests/command/test_commandmanager.py']",4,5e0db50d932e2d799f3d64f45b33dbdac0db51e2,osc-performance," mock_return_value = mock.Mock( 'stevedore.ExtensionManager', mock_return_value, ) as mock_extension_manager: mock_extension_manager.assert_called_once_with('test')"," mock_pkg_resources = mock.Mock( 'pkg_resources.iter_entry_points', mock_pkg_resources, ) as iter_entry_points: iter_entry_points.assert_called_once_with('test')",11,9
openstack%2Fcastellan~stable%2Ftrain~I1c0d00675a479cf05d92cec7b69fd720a88023d3,openstack/castellan,stable/train,I1c0d00675a479cf05d92cec7b69fd720a88023d3,"Removes context ""validation"".",MERGED,2020-06-11 14:55:50.000000000,2020-07-07 14:26:38.000000000,2020-07-07 14:24:25.000000000,"[{'_account_id': 1736}, {'_account_id': 7973}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}, {'_account_id': 29013}]","[{'number': 1, 'created': '2020-06-11 14:55:50.000000000', 'files': ['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/tests/functional/key_manager/test_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/1f8529e8ea533604e55eb25abb6abd129c0da827', 'message': 'Removes context ""validation"".\n\nThe Vault backend doesn\'t really care about context. Even an empty\nstring would suffice these checks.\n\nChange-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3\nSigned-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>\n(cherry picked from commit 8e88919f02781d699a73e815cf8f7be72d4db352)\n'}]",0,735163,1f8529e8ea533604e55eb25abb6abd129c0da827,15,6,1,1736,,,0,"Removes context ""validation"".

The Vault backend doesn't really care about context. Even an empty
string would suffice these checks.

Change-Id: I1c0d00675a479cf05d92cec7b69fd720a88023d3
Signed-off-by: Moiss Guimares de Medeiros <moguimar@redhat.com>
(cherry picked from commit 8e88919f02781d699a73e815cf8f7be72d4db352)
",git fetch https://review.opendev.org/openstack/castellan refs/changes/63/735163/1 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/vault_key_manager.py', 'castellan/tests/functional/key_manager/test_vault_key_manager.py', 'castellan/tests/functional/key_manager/test_key_manager.py']",3,1f8529e8ea533604e55eb25abb6abd129c0da827,hvac-stable/train, self.ctxt = None,,4,80
openstack%2Ftripleo-ansible~master~I5e238676b78a52759227e0bce6e1b9ce3fef2d26,openstack/tripleo-ansible,master,I5e238676b78a52759227e0bce6e1b9ce3fef2d26,Add mock to test-requirements,MERGED,2020-07-07 12:42:33.000000000,2020-07-07 14:19:57.000000000,2020-07-07 14:17:04.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:42:33.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ebb3f2ba40dd2213ee90e17266013dfe9a2902d7', 'message': 'Add mock to test-requirements\n\nChange-Id: I5e238676b78a52759227e0bce6e1b9ce3fef2d26\n'}]",0,739731,ebb3f2ba40dd2213ee90e17266013dfe9a2902d7,10,5,1,10969,,,0,"Add mock to test-requirements

Change-Id: I5e238676b78a52759227e0bce6e1b9ce3fef2d26
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/739731/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,ebb3f2ba40dd2213ee90e17266013dfe9a2902d7,,mock,,1,0
openstack%2Fcharm-deployment-guide~master~Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5,openstack/charm-deployment-guide,master,Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5,Rewrite Masakari appendix,MERGED,2020-06-19 17:37:04.000000000,2020-07-07 14:13:27.000000000,2020-07-07 14:10:27.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-19 17:37:04.000000000', 'files': ['deploy-guide/source/app-masakari.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3e5e038fd2459a24e50c1d64bf4e4ecb999d9b08', 'message': 'Rewrite Masakari appendix\n\nChange-Id: Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5\n'}]",0,737053,3e5e038fd2459a24e50c1d64bf4e4ecb999d9b08,7,2,1,30561,,,0,"Rewrite Masakari appendix

Change-Id: Ic5d1bd95cdfb2ac125ebe9990291ae787c3557c5
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/53/737053/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-masakari.rst'],1,3e5e038fd2459a24e50c1d64bf4e4ecb999d9b08,refresh-masakari-appendix-for-supported-status,"==================== Appendix L: Masakari ====================-------- As of the 20.05 charm release, Masakari can be deployed to provide automated instance recovery for clouds that use shared storage for its instances. The following functionality is provided: #. **Evacuation of instances** (supported since OpenStack Stein) In the event of hypervisor software failure the associated compute node is shut down and instance images are started on another hypervisor. #. **Restarting of instances** (supported since OpenStack Ussuri) A failed instance can be restarted on its current hypervisor. See the `Masakari charm`_ for an overview of the charms involved. .. note:: `MAAS`_ is required when enabling Masakari on Charmed OpenStack. Software -------- Install the software necessary for configuring Masakari: .. code-block:: none sudo snap install openstackclients Verify that the ``segment`` sub-command is available (this is provided by the ``python-masakariclient`` plugin): .. code-block:: none openstack segment --help .. important:: If the ``segment`` sub-command is not available you will need a more recent version of the ``openstackclients`` snap. For example, you may need to use the 'edge' channel: :command:`sudo snap refresh openstackclients --channel=edge`. Instance evacuation mechanics ----------------------------- In order for an instance to be relocated to another hypervisor some form of shared storage must be implemented. As a result, the scenario where a hypervisor has lost network access to its peers yet continues to access that shared storage must be considered. The mechanics of instance evacuation is now described: Masakari Monitors, on a peer hypervisor, detects that its peer is unavailable and notifies the Masakari API server. This in turn triggers the Masakari engine to initiate a failover of the instance via Nova. Assuming that Nova concurs that the hypervisor is absent, it will attempt to start the instance on another hypervisor. At this point there are two instances competing for the same disk image, which can lead to data corruption. The solution is to enable a STONITH Pacemaker plugin, which will power off the compute node via the MAAS API when Pacemaker detects the hypervisor as being offline. .. caution:: Since nova-compute is typically deployed on bare metal, which may host containerised applications and possibly even applications alongside nova-compute (e.g. ceph-osd), care is advised when designing a cloud with Masakari to avoid a powered-off compute node from disrupting crucial non-HA cloud services. Ensure that Masakari functionality has been fully validated in a staging environment prior to using it in production. Usage ----- Configuration ~~~~~~~~~~~~~ The below overlay bundle can be used to deploy Masakari when using a bundle to deploy OpenStack. Ensure that the ``machines`` section and the placement directives (i.e. the ``to`` option under the masakari application) can co-exist with your OpenStack bundle. Provide values for the ``maas_url``, ``maas_credentials``, and ``vip`` hacluster charm options . A VIP is a virtual IP needed for Masakari to enable HA (a requirement when using the masakari charm). If multiple networks are used, multiple (space separated) VIPs should be provided. See `OpenStack high availability`_ for HA guidance. Enable STONITH via the ``enable-stonith`` pacemaker-remote charm option. Provide values for the ``binding`` (network spaces) masakari charm option according to your local environment. For simplicity (or for testing), the same network space can be used for all Masakari bindings. .. code-block:: yaml machines: '0': series: bionic '1': series: bionic '2': series: bionic '3': series: bionic relations: - - nova-compute:juju-info - masakari-monitors:container - - masakari:ha - hacluster:ha - - keystone:identity-credentials - masakari-monitors:identity-credentials - - nova-compute:juju-info - pacemaker-remote:juju-info - - hacluster:pacemaker-remote - pacemaker-remote:pacemaker-remote - - masakari:identity-service - keystone:identity-service - - masakari:shared-db - mysql:shared-db - - masakari:amqp - rabbitmq-server:amqp series: bionic applications: masakari-monitors: charm: cs:masakari-monitors hacluster: charm: cs:hacluster options: maas_url: <INSERT MAAS URL> maas_credentials: <INSERT MAAS API KEY> pacemaker-remote: charm: cs:pacemaker-remote options: enable-stonith: True enable-resources: False masakari: charm: cs:masakari series: bionic num_units: 3 options: openstack-origin: cloud:bionic-stein vip: <INSERT VIP(S)> bindings: public: public admin: admin internal: internal shared-db: internal amqp: internal to: - 'lxd:1' - 'lxd:2' - 'lxd:3'~~~~~~~~~~ To deploy Masakari during the deployment of a new cloud (e.g. via the `openstack-base`_ bundle): .. code-block:: none juju deploy ./bundle.yaml --overlay masakari-overlay.yaml To add Masakari to an existing deployment (i.e. the Juju model has pre-existing machines) the ``--map-machines`` option should be used. The cloud should then be configured for usage. See `Configure OpenStack`_ for assistance. For the purposes of this document the below hypervisors are presumed: .. code-block:: console +-------------------+---------+-------+ | Host | Status | State | +-------------------+---------+-------+ | virt-node-01.maas | enabled | up | | virt-node-10.maas | enabled | up | | virt-node-02.maas | enabled | up | +-------------------+---------+-------+ In addition let us assume that instance 'bionic-1' now resides on host 'virt-node-02.maas': .. code-block:: console +----------------------+-------------------+ | Field | Value | +----------------------+-------------------+ | OS-EXT-SRV-ATTR:host | virt-node-02.maas | +----------------------+-------------------+ The above information was obtained by the following two commands, respectively: .. code-block:: none openstack compute service list -c Host -c Status -c State --service nova-compute openstack server show bionic-1 -c OS-EXT-SRV-ATTR:host Instance evacuation recovery methods ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ With Masakari, compute nodes are grouped into failover segments. In the event of a compute node failure, that node's instances are moved onto another compute node within the same segment. The destination node is determined by the recovery method configured for the affected segment. There are four methods: * ``reserved_host`` * ``auto`` * ``rh_priority`` * ``auto_priority`` A compute node failure can be simulated by bringing down its primary network interface. For example, to bring down a node that corresponds to unit ``nova-compute/2``: .. code-block:: none juju run --unit nova-compute/2 sudo ip link set br-ens3 down 'reserved_host' ^^^^^^^^^^^^^^^ The ``reserved_host`` recovery method relocates instances to a subset of non-active nodes. Because these nodes are not active and are typically resourced adequately for failover duty, there is a guarantee that sufficient resources will exist on a reserved node to accommodate migrated instances. For example, to create segment 'S1', configure it to use the ``reserved_host`` method, and assign it three compute nodes, with one being tagged as a reserved node: .. code-block:: none openstack segment create S1 reserved_host COMPUTE openstack segment host create virt-node-10.maas COMPUTE SSH S1 openstack segment host create virt-node-02.maas COMPUTE SSH S1 openstack segment host create --reserved True virt-node-01.maas COMPUTE SSH S1 View the details of a segment: .. code-block:: none openstack segment list Sample output: .. code-block:: console +--------------------------------------+------+-------------+--------------+-----------------+ | uuid | name | description | service_type | recovery_method | +--------------------------------------+------+-------------+--------------+-----------------+ | 3af6dfe7-1619-486f-a2c6-8453488c6a66 | S2 | None | COMPUTE | auto | +--------------------------------------+------+-------------+--------------+-----------------+ A segment's hosts can be listed like this: .. code-block:: none openstack segment host list -c name -c reserved -c on_maintenance S2 The output should show a value of 'True' in the 'reserved' column for the appropriate node: .. code-block:: console +-------------------+----------+----------------+ | name | reserved | on_maintenance | +-------------------+----------+----------------+ | virt-node-01.maas | True | False | | virt-node-10.maas | False | False | | virt-node-02.maas | False | False | +-------------------+----------+----------------+ Finally, disable the reserved node in Nova so that it becomes non-active, and thus available for failover: .. code-block:: none openstack compute service set --disable virt-node-01.maas nova-compute The cloud's compute node list should show a status of 'disabled' for the appropriate node: .. code-block:: console +-------------------+----------+-------+ | Host | Status | State | +-------------------+----------+-------+ | virt-node-01.maas | disabled | up | | virt-node-10.maas | enabled | up | | virt-node-02.maas | enabled | up | +-------------------+----------+-------+ When a compute node failure is detected, Masakari will, in Nova, disable the failed node and enable a reserved node. The state of the node should also show as 'down'. Presuming that node 'virt-node-02.maas' has failed the cloud's compute node list should become: .. code-block:: console +-------------------+----------+-------+ | Host | Status | State | +-------------------+----------+-------+ | virt-node-01.maas | enabled | up | | virt-node-10.maas | enabled | up | | virt-node-02.maas | disabled | down | +-------------------+----------+-------+ The reserved node will begin hosting evacuated instances and Masakari will remove the reserved flag from it. It will also place the failed node in maintenance mode. The segment's host list should show: .. code-block:: console +-------------------+----------+----------------+ | name | reserved | on_maintenance | +-------------------+----------+----------------+ | virt-node-01.maas | False | False | | virt-node-10.maas | False | False | | virt-node-02.maas | False | True | +-------------------+----------+----------------+ The expectation is that instance 'bionic-1' has been moved from 'virt-node-02.maas' to the reserved node, host 'virt-node-01.maas': .. code-block:: console +----------------------+-------------------+ | Field | Value | +----------------------+-------------------+ | OS-EXT-SRV-ATTR:host | virt-node-01.maas | +----------------------+-------------------+ 'auto' ^^^^^^ The ``auto`` recovery method relocates instances to any available node in the same segment. Because all the nodes are active, contrarily to the ``reserved_host`` method, there is no guarantee that sufficient resources will exist on the destination node to accommodate migrated instances. For example, to create segment 'S2', configure it to use the ``auto`` method, and assign it three compute nodes: .. code-block:: none openstack segment create S2 auto COMPUTE openstack segment host create virt-node-01.maas COMPUTE SSH S2 openstack segment host create virt-node-02.maas COMPUTE SSH S2 openstack segment host create virt-node-10.maas COMPUTE SSH S2 In contrast to the ``reserved_host`` method all the nodes show as active (i.e. none are reserved): .. code-block:: console +-------------------+----------+----------------+ | name | reserved | on_maintenance | +-------------------+----------+----------------+ | virt-node-10.maas | False | False | | virt-node-02.maas | False | False | | virt-node-01.maas | False | False | +-------------------+----------+----------------+ Continuing with the above observation, upon node failure, there are no hypervisors for Masakari to enable in Nova. A failed node will however be put ``on_maintenance`` in Masakari: .. code-block:: console +-------------------+----------+----------------+ | name | reserved | on_maintenance | +-------------------+----------+----------------+ | virt-node-10.maas | False | False | | virt-node-02.maas | False | False | | virt-node-01.maas | False | True | +-------------------+----------+----------------+ 'rh_priority' and 'auto_priority' ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ The below recovery methods utilise one of the previously described methods but use the other as a failover. * ``rh_priority`` Attempts to evacuate instances using the ``reserved_host`` method. If the latter is unsuccessful the ``auto`` method will be used. * ``auto_priority`` Attempts to evacuate instances using the ``auto`` method. If the latter is unsuccessful the ``reserved_host`` method will be used. Instance restart ~~~~~~~~~~~~~~~~ The enabling of the instance restart feature is done on a per-instance basis. For example, tag instance 'bionic-1' as HA-enabled in order to have it restarted automatically on its hypervisor: .. code-block:: none openstack server set --property HA_Enabled=True bionic-1 .. important:: Perhaps non-intuitively, if the instance evacuation feature is not desired a hypervisor must nonetheless be assigned a failover segment in order for the restart feature to be available to its instances. An instance failure can be simulated by killing its process. First determine its hypervisor and ``qemu`` guest name: .. code-block:: none openstack server show bionic-1 -c OS-EXT-SRV-ATTR:host -c OS-EXT-SRV-ATTR:instance_name Output: .. code-block:: console +-------------------------------+-------------------+ | Field | Value | +-------------------------------+-------------------+ | OS-EXT-SRV-ATTR:host | virt-node-02.maas | | OS-EXT-SRV-ATTR:instance_name | instance-00000001 | +-------------------------------+-------------------+ If you do not have admin rights in the cloud the above fields may not be visible. This hypervisor corresponds to unit ``nova-compute/2`` in this example cloud. Check the current PID, kill the process, wait a minute, and verify that a new process gets started: .. code-block:: none juju run --unit nova-compute/2 'pgrep -f guest=instance-00000001' juju run --unit nova-compute/2 'sudo pkill -f -9 guest=instance-00000001' juju run --unit nova-compute/2 'pgrep -f guest=instance-00000001' Supplementary information ------------------------- This section contains information that can be useful when working with Masakari. * Once a failed node has been re-inserted into the cloud it will show, in Nova, as 'disabled' but 'up' and, in Masakari, as 'on_maintenance'. It can become an active hypervisor with: .. code-block:: none openstack compute service set --enable <host-name> nova-compute openstack segment host update --on_maintenance=False <segment-name> <host-name> * A segment's recovery method can be updated with: .. code-block:: none openstack segment update --recovery_method <method> --service_type COMPUTE <segment-name> * A node cannot be assigned to a segment while it's assigned to another segment. It must first be removed from the current segment with: .. code-block:: none openstack segment host delete <segment-name> <host-name> * A node's reserved status can be updated with: .. code-block:: none openstack segment host update --reserved=<boolean> <segment-name> <host-name> .. LINKS .. _MAAS: https://maas.io .. _Masakari charm: http://jaas.ai/masakari .. _openstack-base: https://jaas.ai/openstack-base .. _OpenStack high availability: app-ha.html#ha-applications .. _Configure OpenStack: config-openstack.html","Appendix L: Automated Instance Recovery =======================================++++++++ As of the 19.04 charm release, with OpenStack Stein and later, Masakari can be a deployed to provide automated instance recovery for guests using shared storage. Masakari responds to two different failures types, individual guest failure and the loss of an entire compute node. .. warning:: These charms bring forward upstream Masakari features which need to be carefully considered and pre-validated in test labs by cloud operators. Further upstream Masakari development, charm feature work and scenario validation is likely going to be necessary before the solution can be considered mature on the whole. STONITH +++++++ It is important that guests using shared storage cannot continue to run in the event of a compute node becoming isolated. The risk being that masakari attempts to bring the same guest up on a new compute node when the old one is still running which could lead to data corruption. To ensure that this does not occur stonith can be setup for the compute nodes. For stonith to be configured the **maas_url** and **maas_credentials** config option must be set in the hacluster charm related to the masakari charm. Also the **enable-stonith** config option should be set to **True** in the pacemaker-remote charm.++++++++++ Three new charms are needeed to deploy this solution: masakari, masakari-monitors and pacemaker-remote. The masakari charm provides api services and is a principal or standalone charm. The masakari-monitors charm is deployed as a subordinate to the nova-compute charm as it monitors nova-compute directly and sends messages to the masakari API charm. The pacemaker-remote charm is also a subordinate to the nova-compute charm and is required to monitor the compute nodes health. Below is an overlay which can be used to add masakari to an existing deployment: .. code:: machines: '0': series: bionic '1': series: bionic '2': series: bionic '3': series: bionic relations: - - nova-compute:juju-info - masakari-monitors:container - - masakari:ha - hacluster:ha - - keystone:identity-credentials - masakari-monitors:identity-credentials - - nova-compute:juju-info - pacemaker-remote:juju-info - - hacluster:pacemaker-remote - pacemaker-remote:pacemaker-remote - - masakari:identity-service - keystone:identity-service - - masakari:shared-db - mysql:shared-db - - masakari:amqp - rabbitmq-server:amqp series: bionic applications: masakari-monitors: charm: cs:masakari-monitors hacluster: charm: cs:hacluster options: maas_url: <INSERT MAAS URL> maas_credentials: <INSERT MAAS API KEY> pacemaker-remote: charm: cs:pacemaker-remote options: enable-stonith: True enable-resources: False masakari: charm: cs:masakari series: bionic num_units: 3 options: openstack-origin: cloud:bionic-stein vip: <INSERT VIP(S)> bindings: public: public admin: admin internal: internal shared-db: internal amqp: internal to: - 'lxd:1' - 'lxd:2' - 'lxd:3' .. warning:: The bundle above with need customising to correct maas_url, maas_credentials and vip settings. The machine mappings will almost certainly need updating too. To use the overlay with an existing model remember to use the **--map-machines** switch to juju .. code:: $ juju deploy base.yaml --overlay masakari-overlay.yaml --map-machines=existing Configuring Masakari ++++++++++++++++++++ In Masakari the compute nodes are grouped into failover segments. In the event of a failure guests are moved onto other nodes within the same segment. Which compute node is chosen to house the evacuated guests is determined by the recovery method of that segment. 'AUTO' Recovery Method ---------------------- With auto recovery the guests are relocated to any of the available nodes in the same segment. The problem with this approach is that there is no guarantee that resources will be available to accommodate guests from a failed compute node. To configure a group of compute hosts for auto recovery, first create a segment with the recovery method set to auto: .. code:: $ openstack segment create segment1 auto COMPUTE +-----------------+--------------------------------------+ | Field | Value | +-----------------+--------------------------------------+ | created_at | 2019-04-12T13:59:50.000000 | | updated_at | None | | uuid | 691b8ef3-7481-48b2-afb6-908a98c8a768 | | name | segment1 | | description | None | | id | 1 | | service_type | COMPUTE | | recovery_method | auto | +-----------------+--------------------------------------+ Next the hypervisors need to be added into the segment, these should be referenced by their unqualified hostname: .. code:: $ openstack segment host create tidy-goose COMPUTE SSH 691b8ef3-7481-48b2-afb6-908a98c8a768 +---------------------+--------------------------------------+ | Field | Value | +---------------------+--------------------------------------+ | created_at | 2019-04-12T14:18:24.000000 | | updated_at | None | | uuid | 11b85c9d-2b97-4b83-b773-0e9565e407b5 | | name | tidy-goose | | type | COMPUTE | | control_attributes | SSH | | reserved | False | | on_maintenance | False | | failover_segment_id | 691b8ef3-7481-48b2-afb6-908a98c8a768 | +---------------------+--------------------------------------+ Repeat above for all remaining hypervisors: .. code:: $ openstack segment host list 691b8ef3-7481-48b2-afb6-908a98c8a768 +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | uuid | name | type | control_attributes | reserved | on_maintenance | failover_segment_id | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | 75afadbb-67cc-47b2-914e-e3bf848028e4 | frank-colt | COMPUTE | SSH | False | False | 691b8ef3-7481-48b2-afb6-908a98c8a768 | | 11b85c9d-2b97-4b83-b773-0e9565e407b5 | tidy-goose | COMPUTE | SSH | False | False | 691b8ef3-7481-48b2-afb6-908a98c8a768 | | f1e9b0b4-3ac9-4f07-9f83-5af2f9151109 | model-crow | COMPUTE | SSH | False | False | 691b8ef3-7481-48b2-afb6-908a98c8a768 | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ 'RESERVED_HOST' Recovery Method ------------------------------- With reserved_host recovery compute hosts are allocated as reserved which allows an operator to guarantee there is sufficient capacity available for any guests in need of evacuation. Firstly create a segment with the reserved_host recovery method: .. code:: $ openstack segment create segment1 reserved_host COMPUTE -c uuid -f value 2598f8aa-3612-4731-9716-e126ca6cc280 Add a host using the --reserved switch to indicate that it will act as a standby: .. code:: $ openstack segment host create model-crow --reserved True COMPUTE SSH 2598f8aa-3612-4731-9716-e126ca6cc280 Add the remaining hypervisors as before: .. code:: $ openstack segment host create frank-colt COMPUTE SSH 2598f8aa-3612-4731-9716-e126ca6cc280 $ openstack segment host create tidy-goose COMPUTE SSH 2598f8aa-3612-4731-9716-e126ca6cc280 Listing the segment hosts shows that model-crow is a reserved host: .. code:: $ openstack segment host list 2598f8aa-3612-4731-9716-e126ca6cc280 +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | uuid | name | type | control_attributes | reserved | on_maintenance | failover_segment_id | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | 4769e08c-ed52-440a-866e-832b977aa5e2 | tidy-goose | COMPUTE | SSH | False | False | 2598f8aa-3612-4731-9716-e126ca6cc280 | | 90aedbd2-e03b-4dbd-b330-a1c848f300df | frank-colt | COMPUTE | SSH | False | False | 2598f8aa-3612-4731-9716-e126ca6cc280 | | c77574cc-b6e7-440e-9c86-84e91981f15e | model-crow | COMPUTE | SSH | True | False | 2598f8aa-3612-4731-9716-e126ca6cc280 | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ Finally disable the reserved host in nova so that it remains available for failover: .. code:: $ openstack compute service set --disable model-crow nova-compute $ openstack compute service list +----+----------------+---------------------+----------+----------+-------+----------------------------+ | ID | Binary | Host | Zone | Status | State | Updated At | +----+----------------+---------------------+----------+----------+-------+----------------------------+ | 1 | nova-scheduler | juju-44b912-3-lxd-3 | internal | enabled | up | 2019-04-13T10:59:10.000000 | | 5 | nova-conductor | juju-44b912-3-lxd-3 | internal | enabled | up | 2019-04-13T10:59:08.000000 | | 7 | nova-compute | tidy-goose | nova | enabled | up | 2019-04-13T10:59:11.000000 | | 8 | nova-compute | frank-colt | nova | enabled | up | 2019-04-13T10:59:05.000000 | | 9 | nova-compute | model-crow | nova | disabled | up | 2019-04-13T10:59:12.000000 | +----+----------------+---------------------+----------+----------+-------+----------------------------+ When a compute node failure is detected, masakari will disable the failed node and enable the reserve node in nova. After simulating a failure of frank-colt the service list now looks like this: .. code:: $ openstack compute service list +----+----------------+---------------------+----------+----------+-------+----------------------------+ | ID | Binary | Host | Zone | Status | State | Updated At | +----+----------------+---------------------+----------+----------+-------+----------------------------+ | 1 | nova-scheduler | juju-44b912-3-lxd-3 | internal | enabled | up | 2019-04-13T11:05:20.000000 | | 5 | nova-conductor | juju-44b912-3-lxd-3 | internal | enabled | up | 2019-04-13T11:05:28.000000 | | 7 | nova-compute | tidy-goose | nova | enabled | up | 2019-04-13T11:05:21.000000 | | 8 | nova-compute | frank-colt | nova | disabled | down | 2019-04-13T11:03:56.000000 | | 9 | nova-compute | model-crow | nova | enabled | up | 2019-04-13T11:05:22.000000 | +----+----------------+---------------------+----------+----------+-------+----------------------------+ Since the reserved host has now been enabled and is hosting evacuated guests, masakari has removed the reserved flag from it. Masakari has also placed the failed node in maintenance mode. .. code:: $ openstack segment host list 2598f8aa-3612-4731-9716-e126ca6cc280 +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | uuid | name | type | control_attributes | reserved | on_maintenance | failover_segment_id | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ | 4769e08c-ed52-440a-866e-832b977aa5e2 | tidy-goose | COMPUTE | SSH | False | False | 2598f8aa-3612-4731-9716-e126ca6cc280 | | 90aedbd2-e03b-4dbd-b330-a1c848f300df | frank-colt | COMPUTE | SSH | False | True | 2598f8aa-3612-4731-9716-e126ca6cc280 | | c77574cc-b6e7-440e-9c86-84e91981f15e | model-crow | COMPUTE | SSH | False | False | 2598f8aa-3612-4731-9716-e126ca6cc280 | +--------------------------------------+------------+---------+--------------------+----------+----------------+--------------------------------------+ AUTO_PRIORITY and RH_PRIORITY Recovery Methods -------------------------------------------------- These methods appear to chain the previous methods together. So, auto_priority attempts to move the guest using the auto method first and if that fails it tries the reserved_host method. rh_priority does the same thing but in the reverse order. See `Masakari Pike Release Note <https://docs.openstack.org/releasenotes/masakari/pike.html>`_ for details. Individual Instance Recovery ---------------------------- Finally, to use the masakari feature which reacts to a single guest failing rather than a whole hypervisor, the guest(s) need to be marked with a small piece of metadata: .. code:: $ openstack server set --property HA_Enabled=True server_120419134342",440,236
openstack%2Fpython-barbicanclient~master~I5e02a7ed7803e21ad2baa93fccd00a23cda3da79,openstack/python-barbicanclient,master,I5e02a7ed7803e21ad2baa93fccd00a23cda3da79,Switch from unittest2 compat methods to Python 3.x methods,MERGED,2020-06-11 09:41:24.000000000,2020-07-07 14:04:40.000000000,2020-07-07 14:01:23.000000000,"[{'_account_id': 1091}, {'_account_id': 7973}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 11561}, {'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-06-11 09:41:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/58d336ccfec91ac9ec9262dc2c5367e792018d6a', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nChange-Id: I5e02a7ed7803e21ad2baa93fccd00a23cda3da79\n'}, {'number': 2, 'created': '2020-06-11 09:45:41.000000000', 'files': ['barbicanclient/tests/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/python-barbicanclient/commit/441ac7c0bf74fef94678e91ae577894ca66693c8', 'message': 'Switch from unittest2 compat methods to Python 3.x methods\n\nWith the removal of Python 2.x we can remove the unittest2 compat\nwrappers and switch to assertCountEqual instead of assertItemsEqual\n\nWe have been able to use them since then, because\ntesttools required unittest2, which still included it. With testtools\nremoving Python 2.7 support [3][4], we will lose support for\nassertItemsEqual, so we should switch to use assertCountEqual.\n\n[1] - https://bugs.python.org/issue17866\n[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd\n[3] - testing-cabal/testtools#286\n[4] - testing-cabal/testtools#277^\n\nChange-Id: I5e02a7ed7803e21ad2baa93fccd00a23cda3da79\n'}]",0,735089,441ac7c0bf74fef94678e91ae577894ca66693c8,9,7,2,6593,,,0,"Switch from unittest2 compat methods to Python 3.x methods

With the removal of Python 2.x we can remove the unittest2 compat
wrappers and switch to assertCountEqual instead of assertItemsEqual

We have been able to use them since then, because
testtools required unittest2, which still included it. With testtools
removing Python 2.7 support [3][4], we will lose support for
assertItemsEqual, so we should switch to use assertCountEqual.

[1] - https://bugs.python.org/issue17866
[2] - https://hg.python.org/cpython/rev/d9921cb6e3cd
[3] - testing-cabal/testtools#286
[4] - testing-cabal/testtools#277^

Change-Id: I5e02a7ed7803e21ad2baa93fccd00a23cda3da79
",git fetch https://review.opendev.org/openstack/python-barbicanclient refs/changes/89/735089/2 && git format-patch -1 --stdout FETCH_HEAD,['barbicanclient/tests/v1/test_containers.py'],1,58d336ccfec91ac9ec9262dc2c5367e792018d6a,," self.assertCountEqual(self.container.certificate_secret_refs_json, self.assertCountEqual(self.container.certificate_secret_refs_json, self.assertCountEqual(self.container.rsa_secret_refs_json, self.assertCountEqual(self.container.rsa_secret_refs_json,"," self.assertItemsEqual(self.container.certificate_secret_refs_json, self.assertItemsEqual(self.container.certificate_secret_refs_json, self.assertItemsEqual(self.container.rsa_secret_refs_json, self.assertItemsEqual(self.container.rsa_secret_refs_json,",4,4
openstack%2Frpm-packaging~master~Ib3841289cc6fba98dde2f1b5250a2c1fbe260583,openstack/rpm-packaging,master,Ib3841289cc6fba98dde2f1b5250a2c1fbe260583,manila: add glanceclient dependency,MERGED,2020-07-01 16:02:26.000000000,2020-07-07 14:03:39.000000000,2020-07-07 14:03:39.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-01 16:02:26.000000000', 'files': ['openstack/manila/manila.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e1b60b64a1a295ba0ae97c83cfe5745c3bc118e8', 'message': 'manila: add glanceclient dependency\n\nChange-Id: Ib3841289cc6fba98dde2f1b5250a2c1fbe260583\n'}]",0,738876,e1b60b64a1a295ba0ae97c83cfe5745c3bc118e8,10,6,1,6593,,,0,"manila: add glanceclient dependency

Change-Id: Ib3841289cc6fba98dde2f1b5250a2c1fbe260583
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/738876/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/manila/manila.spec.j2'],1,e1b60b64a1a295ba0ae97c83cfe5745c3bc118e8,,BuildRequires: {{ py3('python-glanceclient') }}Requires: {{ py3('python-glanceclient') }},,2,0
openstack%2Ftripleo-ansible~master~Iea96b3515aee5243726a2366d939b282fcdf76ac,openstack/tripleo-ansible,master,Iea96b3515aee5243726a2366d939b282fcdf76ac,Remove mock from molecule requirements,ABANDONED,2020-07-07 12:46:37.000000000,2020-07-07 14:01:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-07 12:46:37.000000000', 'files': ['molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ada733926bfa1d2ee5c5dc55a648b46e0bf902f0', 'message': 'Remove mock from molecule requirements\n\nChange-Id: Iea96b3515aee5243726a2366d939b282fcdf76ac\n'}]",0,739733,ada733926bfa1d2ee5c5dc55a648b46e0bf902f0,3,1,1,10969,,,0,"Remove mock from molecule requirements

Change-Id: Iea96b3515aee5243726a2366d939b282fcdf76ac
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/33/739733/1 && git format-patch -1 --stdout FETCH_HEAD,['molecule-requirements.txt'],1,ada733926bfa1d2ee5c5dc55a648b46e0bf902f0,,,mock,0,1
openstack%2Fbifrost~stable%2Fussuri~I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,openstack/bifrost,stable/ussuri,I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,Do not use 'sudo pip install' when venv is used,MERGED,2020-07-07 11:50:20.000000000,2020-07-07 13:43:28.000000000,2020-07-07 13:41:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-07 11:50:20.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/dc87231588b9dd11dc63fe569ce9c8e2ee1e7c9c', 'message': ""Do not use 'sudo pip install' when venv is used\n\nWe end up installing bindep and bifrost deps in the system otherwise.\n\nChange-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0\n(cherry picked from commit 0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5)\n""}]",0,739718,dc87231588b9dd11dc63fe569ce9c8e2ee1e7c9c,7,2,1,10239,,,0,"Do not use 'sudo pip install' when venv is used

We end up installing bindep and bifrost deps in the system otherwise.

Change-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0
(cherry picked from commit 0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5)
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/18/739718/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,dc87231588b9dd11dc63fe569ce9c8e2ee1e7c9c,sudo-pip-stable/ussuri,"if [ -n ""${VENV-}"" ]; then ${PIP} install bindep else sudo -H -E ${PIP} install bindep fiif [ -n ""${VENV-}"" ]; then ${PIP} install -r ""$(dirname $0)/../requirements.txt"" else sudo -H -E ${PIP} install -r ""$(dirname $0)/../requirements.txt"" fi","sudo -H -E ${PIP} install bindepsudo -H -E ${PIP} install -r ""$(dirname $0)/../requirements.txt""",10,2
openstack%2Fcharm-neutron-api~master~Ib2d0859a9a7d033c49c135a3db7c87a08a49b713,openstack/charm-neutron-api,master,Ib2d0859a9a7d033c49c135a3db7c87a08a49b713,Add Victoria test bundles,MERGED,2020-07-07 12:06:15.000000000,2020-07-07 13:36:49.000000000,2020-07-07 13:36:49.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 12:06:15.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/62db5726a798176cafd9bb2583f7966ba99fd8e0', 'message': 'Add Victoria test bundles\n\nChange-Id: Ib2d0859a9a7d033c49c135a3db7c87a08a49b713\n'}]",0,739720,62db5726a798176cafd9bb2583f7966ba99fd8e0,7,3,1,31289,,,0,"Add Victoria test bundles

Change-Id: Ib2d0859a9a7d033c49c135a3db7c87a08a49b713
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/20/739720/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/focal-victoria.yaml', 'tests/bundles/groovy-victoria.yaml']",3,62db5726a798176cafd9bb2583f7966ba99fd8e0,victoria,"variables: openstack-origin: &openstack-origin cloud:groovy-victoria series: &series groovy applications: keystone-mysql-router: charm: cs:~openstack-charmers-next/mysql-router neutron-mysql-router: charm: cs:~openstack-charmers-next/mysql-router mysql-innodb-cluster: charm: cs:~openstack-charmers-next/mysql-innodb-cluster num_units: 3 options: source: *openstack-origin rabbitmq-server: charm: cs:~openstack-charmers-next/rabbitmq-server num_units: 1 options: source: *openstack-origin neutron-api: charm: cs:~openstack-charmers-next/neutron-api series: *series num_units: 1 options: manage-neutron-plugin-legacy-mode: True flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin keystone: charm: cs:~openstack-charmers-next/keystone num_units: 1 options: openstack-origin: *openstack-origin relations: - - neutron-api:amqp - rabbitmq-server:amqp - - neutron-api:identity-service - keystone:identity-service - [""keystone:shared-db"", ""keystone-mysql-router:shared-db""] - [""neutron-api:shared-db"", ""neutron-mysql-router:shared-db""] - [""keystone-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] - [""neutron-mysql-router:db-router"", ""mysql-innodb-cluster:db-router""] ",,90,1
openstack%2Ftripleo-heat-templates~master~I567839785a72813a382a00253562894e19eb6715,openstack/tripleo-heat-templates,master,I567839785a72813a382a00253562894e19eb6715,Don't set RABBITMQ_SERVER_ERL_ARGS,MERGED,2020-06-23 19:02:48.000000000,2020-07-07 13:36:04.000000000,2020-07-07 13:35:27.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-23 19:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5f063fbd151310e59b122afd2837bb682aced740', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}, {'number': 2, 'created': '2020-06-24 10:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb3a452d691af2c24f6461323b1a2db114b394fa', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nLet\'s also move the current RabbitAdditionalErlArgs to a new dedicated\noverride hiera key.\n\nNB: To get this properly working we need a puppet-rabbitmq that contains\n    https://github.com/voxpupuli/puppet-rabbitmq/pull/841\nDepends-On: I3bf244a70538209773804eb85fae6be035c587f4\n\nCloses-Bug: #1884922\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}, {'number': 3, 'created': '2020-06-25 08:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/30381774c6aca76e4368b86721d5bd696d238c6b', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nLet\'s also move the current RabbitAdditionalErlArgs to a new dedicated\noverride hiera key.\n\nNB: To get this properly working we need a puppet-rabbitmq that contains\n    https://github.com/voxpupuli/puppet-rabbitmq/pull/841\nDepends-On: I3bf244a70538209773804eb85fae6be035c587f4\n\nCloses-Bug: #1884922\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}, {'number': 4, 'created': '2020-07-04 07:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9de22f0272811b80a2ee920ab721f640e247635a', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nLet\'s also move the current RabbitAdditionalErlArgs to a new dedicated\noverride hiera key.\n\nNB: To get this properly working we need a puppet-rabbitmq that contains\n    https://github.com/voxpupuli/puppet-rabbitmq/pull/841\nDepends-On: I3bf244a70538209773804eb85fae6be035c587f4\n\nCloses-Bug: #1884922\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}, {'number': 5, 'created': '2020-07-06 11:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18a6dd325a424c757087c15d1dfa0c723164709a', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nLet\'s also move the current RabbitAdditionalErlArgs to a new dedicated\noverride hiera key.\n\nNB: To get this properly working we need a puppet-rabbitmq that contains\n    https://github.com/voxpupuli/puppet-rabbitmq/pull/841\nDepends-On: I3bf244a70538209773804eb85fae6be035c587f4\n\nCloses-Bug: #1884922\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}, {'number': 6, 'created': '2020-07-06 17:55:58.000000000', 'files': ['deployment/rabbitmq/rabbitmq-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/938166b93b8fc525d575c53509f8364a8f3d04e5', 'message': 'Don\'t set RABBITMQ_SERVER_ERL_ARGS\n\nFrom the RabbitMQ docs[1]:\n\n""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command\nused when invoking the RabbitMQ Server. This should be overridden for\ndebugging purposes only. Overriding this variable replaces the default\nvalue.""\n\nWe do not need any of the current values because of this commit from\n2015 in rabbitmq 3.5.4:\n\nhttps://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846\n\nIn which the ""+K true"" and ""-kernel inet_default_connect_options\n""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server\nscript.  Meanwhile the ""+P 1048576"" configuration was moved to the\nrabbitmq-env script under the SERVER_ERL_ARGS variable, which is the\ndefaults used when RABBITMQ_SERVER_ERL_ARGS is unset.\n\n[1] https://www.rabbitmq.com/configure.html#supported-environment-variables\n\nLet\'s also move the current RabbitAdditionalErlArgs to a new dedicated\noverride hiera key.\n\nNB: To get this properly working we need a puppet-rabbitmq that contains\n    https://github.com/voxpupuli/puppet-rabbitmq/pull/841\nDepends-On: I3bf244a70538209773804eb85fae6be035c587f4\n\nCloses-Bug: #1884922\n\nChange-Id: I567839785a72813a382a00253562894e19eb6715\n'}]",0,737604,938166b93b8fc525d575c53509f8364a8f3d04e5,51,5,6,9257,,,0,"Don't set RABBITMQ_SERVER_ERL_ARGS

From the RabbitMQ docs[1]:

""RABBITMQ_SERVER_ERL_ARGS - Standard parameters for the erl command
used when invoking the RabbitMQ Server. This should be overridden for
debugging purposes only. Overriding this variable replaces the default
value.""

We do not need any of the current values because of this commit from
2015 in rabbitmq 3.5.4:

https://github.com/rabbitmq/rabbitmq-server/commit/5c3c0e6f38792ca37289888ce39996e6baf4d846

In which the ""+K true"" and ""-kernel inet_default_connect_options
""[{nodelay,true}]"" options were hard-coded to the rabbitmq-server
script.  Meanwhile the ""+P 1048576"" configuration was moved to the
rabbitmq-env script under the SERVER_ERL_ARGS variable, which is the
defaults used when RABBITMQ_SERVER_ERL_ARGS is unset.

[1] https://www.rabbitmq.com/configure.html#supported-environment-variables

Let's also move the current RabbitAdditionalErlArgs to a new dedicated
override hiera key.

NB: To get this properly working we need a puppet-rabbitmq that contains
    https://github.com/voxpupuli/puppet-rabbitmq/pull/841
Depends-On: I3bf244a70538209773804eb85fae6be035c587f4

Closes-Bug: #1884922

Change-Id: I567839785a72813a382a00253562894e19eb6715
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/04/737604/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/rabbitmq/rabbitmq-container-puppet.yaml'],1,5f063fbd151310e59b122afd2837bb682aced740,,," RABBITMQ_SERVER_ERL_ARGS: '""+K true +P 1048576 -kernel inet_default_connect_options [{nodelay,true}]""'",0,1
openstack%2Fneutron-dynamic-routing~master~I42e9ae98e925ad0236b1bf134cbd80d111098aad,openstack/neutron-dynamic-routing,master,I42e9ae98e925ad0236b1bf134cbd80d111098aad,Fix devstack README.rst formatting,MERGED,2020-07-07 13:04:04.000000000,2020-07-07 13:31:27.000000000,2020-07-07 13:28:06.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 13:04:04.000000000', 'files': ['devstack/README.rst'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9025dc72d0a6ee44515762715bcfc2b1de757fc5', 'message': 'Fix devstack README.rst formatting\n\nMissing newlines caused incorrect rendering for code blocks\n\nTrivialFix\n\nChange-Id: I42e9ae98e925ad0236b1bf134cbd80d111098aad\n'}]",0,739738,9025dc72d0a6ee44515762715bcfc2b1de757fc5,7,2,1,21798,,,0,"Fix devstack README.rst formatting

Missing newlines caused incorrect rendering for code blocks

TrivialFix

Change-Id: I42e9ae98e925ad0236b1bf134cbd80d111098aad
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/38/739738/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.rst'],1,9025dc72d0a6ee44515762715bcfc2b1de757fc5,devstack_readme,,,2,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,openstack/tripleo-ansible,stable/ussuri,Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa,Set retry timeout for nodes introspection,MERGED,2020-07-06 08:22:02.000000000,2020-07-07 13:24:29.000000000,2020-07-07 13:24:28.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 08:22:02.000000000', 'files': ['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a8d1382b44a1da57c6095c8f68a0ec147a569a33', 'message': 'Set retry timeout for nodes introspection\n\nWhen restarting node introspection wait a configured amount of time\nso that node can be unlocked.\nChange-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa\n(cherry picked from commit a368a641efc582c5f544e2e16238a6e12e2f9c78)\n'}]",0,739426,a8d1382b44a1da57c6095c8f68a0ec147a569a33,9,6,1,10969,,,0,"Set retry timeout for nodes introspection

When restarting node introspection wait a configured amount of time
so that node can be unlocked.
Change-Id: Iff582edfe8ebbf9f30e5cdc13402986fea1c39aa
(cherry picked from commit a368a641efc582c5f544e2e16238a6e12e2f9c78)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/26/739426/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/playbooks/cli-baremetal-introspect.yaml', 'tripleo_ansible/ansible_plugins/modules/os_tripleo_baremetal_node_introspection.py']",2,a8d1382b44a1da57c6095c8f68a0ec147a569a33,retry_timeout-stable/ussuri," retry_timeout: description: - How much time to wait for node to be unlocked before introspection retry type: int default: 120 node_timeout, retry_timeout): self.retry_timeout = retry_timeout self.retry_timeout, def __init__( self, node_id, os_client, timeout, max_retries, retry_timeout, log): self.retry_timeout = retry_timeout # Wait until node is unlocked self.os_client.wait_for_node_reservation( self.node_id, timeout=self.retry_timeout) ""abort and unlock it: %s"" % (self.node_id, str(e))) module.params[""node_timeout""], module.params[""retry_timeout""]"," node_timeout): def __init__(self, node_id, os_client, timeout, max_retries, log): ""abort it: %s"" % (self.node_id, str(e))) module.params[""node_timeout""]",22,4
openstack%2Ftripleo-ci~master~Ib57a96b50376c03cfb14bab1411586268bfaeaf9,openstack/tripleo-ci,master,Ib57a96b50376c03cfb14bab1411586268bfaeaf9,Add tempest_use_skiplist in allowed overrides,MERGED,2020-07-01 10:57:39.000000000,2020-07-07 13:24:26.000000000,2020-07-07 13:24:26.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-01 10:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9796070fe1a856eaa1d1735e1b551d304143fc58', 'message': 'Add tempest_use_skiplist in allowed overrides\n\nThis will be the variable name to be used to switch between old skiplist\nto the new openstack-tempest-skiplist management\n\nChange-Id: Ib57a96b50376c03cfb14bab1411586268bfaeaf9\n'}, {'number': 2, 'created': '2020-07-06 17:27:19.000000000', 'files': ['roles/run-test/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/eb5e3863f9832b81f69cc22898b4656f0a35ea1f', 'message': 'Add tempest_use_skiplist in allowed overrides\n\nThis will be the variable name to be used to switch between old skiplist\nto the new openstack-tempest-skiplist management\n\nChange-Id: Ib57a96b50376c03cfb14bab1411586268bfaeaf9\n'}]",0,738788,eb5e3863f9832b81f69cc22898b4656f0a35ea1f,14,5,2,8367,,,0,"Add tempest_use_skiplist in allowed overrides

This will be the variable name to be used to switch between old skiplist
to the new openstack-tempest-skiplist management

Change-Id: Ib57a96b50376c03cfb14bab1411586268bfaeaf9
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/88/738788/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/run-test/tasks/main.yaml'],1,9796070fe1a856eaa1d1735e1b551d304143fc58,allowed-skiplist-override, - 'tempest_use_skiplist',,1,0
openstack%2Fmonasca-specs~master~Idb7514a23335392e88ea44fd0aa81159c4e2ae49,openstack/monasca-specs,master,Idb7514a23335392e88ea44fd0aa81159c4e2ae49,Add Victoria release cycle priorities,MERGED,2020-06-30 12:47:15.000000000,2020-07-07 13:18:35.000000000,2020-07-07 13:15:10.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26141}, {'_account_id': 28062}]","[{'number': 1, 'created': '2020-06-30 12:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/588e5ec611e6d868343c94fe62c25b6ff450f17b', 'message': 'Add Victoria release cycle priorities\n\nChange-Id: Idb7514a23335392e88ea44fd0aa81159c4e2ae49\n'}, {'number': 2, 'created': '2020-07-07 08:23:00.000000000', 'files': ['priorities/victoria-priorities.rst'], 'web_link': 'https://opendev.org/openstack/monasca-specs/commit/a9a886f326373d1842be009091b0ee3ba8d32d42', 'message': 'Add Victoria release cycle priorities\n\nChange-Id: Idb7514a23335392e88ea44fd0aa81159c4e2ae49\n'}]",0,738596,a9a886f326373d1842be009091b0ee3ba8d32d42,12,5,2,28062,,,0,"Add Victoria release cycle priorities

Change-Id: Idb7514a23335392e88ea44fd0aa81159c4e2ae49
",git fetch https://review.opendev.org/openstack/monasca-specs refs/changes/96/738596/2 && git format-patch -1 --stdout FETCH_HEAD,['priorities/victoria-priorities.rst'],1,588e5ec611e6d868343c94fe62c25b6ff450f17b,,".. _victoria-priorities: ========================= Victoria Project Priorities ========================= List of priorities the Monasca drivers team is prioritizing in Victoria. The owners listed are responsible for tracking the status of that work and helping get that work done. They are not the only contributors to this work, and not necessarily doing most of the coding! The implementation progress on these priorities and other identified important tasks is tracked in `this board`_. .. _this board: https://storyboard.openstack.org/#!/board/217 Essential Priorities ~~~~~~~~~~~~~~~~~~~~ +-------------------------------------------------+---------------------------+ | Title | Owners | +=================================================+===========================+ | `Middleware upgrades Grafana 4.0 -> 7.0.1`_ | dougszu | +-------------------------------------------------+---------------------------+ | `Kafka/InfluxDB Sharding`_ | witek | +-------------------------------------------------+---------------------------+ | `Merge events-api into monasca-api`_ | adriancz | +-------------------------------------------------+---------------------------+ High Priorities ~~~~~~~~~~~~~~~ +----------------------------------------------------+-------------------------+ | Title | Owners | +====================================================+=========================+ | `Thresh POC with faust`_ | chaconpiza | +----------------------------------------------------+-------------------------+ | `Application Credentials`_ | | +----------------------------------------------------+-------------------------+ | `Define Prometheus based architecture`_ | | +----------------------------------------------------+-------------------------+ | `Selenium Tests for Monasca-UI`_ | | +----------------------------------------------------+-------------------------+ | `Middleware upgrades ELK 7.3.0 -> 7.7.0`_ | dougszu | +----------------------------------------------------+-------------------------+ | `Middleware upgrades Apache Kafka 2.0.1 -> 2.5.0`_ | | +----------------------------------------------------+-------------------------+ | Middleware upgrades InfluxDB 1.7.6 -> 1.8.0 `_ | | +----------------------------------------------------+-------------------------+ Optional Priorities ~~~~~~~~~~~~~~~~~~~ +---------------------------------------------+-------------------------+ | Title | Owners | +=============================================+=========================+ | `Extend Monasca API`_ | | +---------------------------------------------+-------------------------+ | `Add Time and Times in Monasca UI`_ | | +---------------------------------------------+-------------------------+ | `Monasca agents RPM Packaging`_ | | +---------------------------------------------+-------------------------+ | `OpenStack Client Integration`_ | | +---------------------------------------------+-------------------------+ | `Refresh Monasca transform engine`_ | dougsz | +---------------------------------------------+-------------------------+ Details ~~~~~~~ New thresholding engine -------------------------------------------- `Faust library`_ has been evaluated and the prototype of the thresholding engine based on this library has been implemented. The goal of this effort is to implement the new thresholding engine for Monasca to replace Apache Storm Java application. .. _Faust library: https://faust.readthedocs.io InfluxDB HA Setup ----------------- Story: https://storyboard.openstack.org/#!/story/2005620 Application Credentials ----------------------- `Keystone appliction credentials <https://docs.openstack .org/keystone/latest/user/application_credentials.html>`_ offer the mechanism to allow applications to authenticate to Keystone. The ability to specify `access rules <http://specs.openstack .org/openstack/keystone-specs/specs/keystone/stein/capabilities-app-creds .html>`_ for application credentials has been implemented in the Train cycle. The goal of this story is to add application credentials support in *monasca-agent*. This will prevent the security risk of revealing OpenStack user's password when installing the agent on the tenants environment. The access rules of these application credentials should be limited to posting measurements. *monasca-setup* should be extended to automatically generate such credentials and save them in configuration file if needed. Similar task should be implemented in *monasca-grafana-datasource*. Stories: * https://storyboard.openstack.org/#!/story/2005622 * https://storyboard.openstack.org/#!/story/2005623 Middleware upgrade ------------------ Story: https://storyboard.openstack.org/#!/story/2006768 ",,116,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~Ie1efb437059d37fe04ece0e23c9baa5c4df063a6,openstack/python-tripleoclient,stable/ussuri,Ie1efb437059d37fe04ece0e23c9baa5c4df063a6,DNM - run tripleo-build-containers-ubi-8-ussuri  Please enter the commit message for your changes. Lines starting,ABANDONED,2020-07-07 13:03:06.000000000,2020-07-07 13:16:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-07 13:03:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42107a22e45204a2a57e2b20afd1cf179f75ba1e', 'message': 'DNM - run tripleo-build-containers-ubi-8-ussuri\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: Ie1efb437059d37fe04ece0e23c9baa5c4df063a6\n'}, {'number': 2, 'created': '2020-07-07 13:06:48.000000000', 'files': ['tripleoclient/v2/tripleo_container_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/24e6abc5e5afc585e9cb2044cde3d252be65896a', 'message': 'DNM - run tripleo-build-containers-ubi-8-ussuri\n Please enter the commit message for your changes. Lines starting\n\nChange-Id: Ie1efb437059d37fe04ece0e23c9baa5c4df063a6\n'}]",0,739737,24e6abc5e5afc585e9cb2044cde3d252be65896a,5,1,2,3153,,,0,"DNM - run tripleo-build-containers-ubi-8-ussuri
 Please enter the commit message for your changes. Lines starting

Change-Id: Ie1efb437059d37fe04ece0e23c9baa5c4df063a6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/739737/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v2/tripleo_container_image.py'],1,42107a22e45204a2a57e2b20afd1cf179f75ba1e,test,# anot use this file except in compliance with the License. You may obtain,# not use this file except in compliance with the License. You may obtain,1,1
openstack%2Ftripleo-ansible~master~Ib6f72e74087f62c41be709a548992a25bf4a36d1,openstack/tripleo-ansible,master,Ib6f72e74087f62c41be709a548992a25bf4a36d1,Check that module execution returns required data,ABANDONED,2020-07-07 09:11:37.000000000,2020-07-07 13:04:57.000000000,,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-07 09:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d2f6cb16d7041ca9e49ec0a80cf5bc20fbc1b83a', 'message': ""Check that module execution has required data\n\nSometimes modules doesn't return data correctly in async task,\nthere are examples in the bug. Make sure variable has 'containers'\nbefore checking the second condition.\n\nCloses-Bug: #1886636\nChange-Id: Ib6f72e74087f62c41be709a548992a25bf4a36d1\n""}, {'number': 2, 'created': '2020-07-07 09:12:16.000000000', 'files': ['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/check_exit_code.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e9f9dca30ee4859bdbf064afb5a1fa34dd378fc1', 'message': ""Check that module execution returns required data\n\nSometimes modules doesn't return data correctly in async task,\nthere are examples in the bug. Make sure variable has 'containers'\nbefore checking the second condition.\n\nCloses-Bug: #1886636\nChange-Id: Ib6f72e74087f62c41be709a548992a25bf4a36d1\n""}]",0,739683,e9f9dca30ee4859bdbf064afb5a1fa34dd378fc1,11,7,2,10969,,,0,"Check that module execution returns required data

Sometimes modules doesn't return data correctly in async task,
there are examples in the bug. Make sure variable has 'containers'
before checking the second condition.

Closes-Bug: #1886636
Change-Id: Ib6f72e74087f62c41be709a548992a25bf4a36d1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/83/739683/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_container_manage/tasks/podman/check_exit_code.yml'],1,d2f6cb16d7041ca9e49ec0a80cf5bc20fbc1b83a,," until: - ""'containers' in podman_containers_infos"" - (podman_containers_infos.containers | selectattr('State.Running', 'equalto', True) |list|length ) == 0"," until: ( podman_containers_infos.containers | selectattr('State.Running', 'equalto', True) |list|length ) == 0",3,1
openstack%2Fkolla~master~I0727be1e969296316aedcc1adc2392aead48873d,openstack/kolla,master,I0727be1e969296316aedcc1adc2392aead48873d,Move definition of OpenStack sources into YAML file,ABANDONED,2019-11-07 17:47:26.000000000,2020-07-07 12:54:53.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-11-07 17:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75ea684cf1d8b78b9ff6c3ec8808bc2e4ae4c5f1', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 2, 'created': '2019-11-08 09:26:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dd0e3ad19db52a3f13e77de7c6151d767b6698fc', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 3, 'created': '2019-11-08 10:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b2212f0d302c4799a5eb577ad802e48e89289163', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 4, 'created': '2019-11-08 10:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c625493819f9a0b633f75823f60a77da7015d5f2', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 5, 'created': '2019-11-08 13:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3bb4e6a5c503ab0949be17a0628f8f6568e15a42', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 6, 'created': '2019-11-08 13:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a44fbfb339366299daf73379b4c4c81ed8e6ec26', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 7, 'created': '2019-11-08 14:01:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ac1e7372ee1c01159b6c8ba0be1cddc4397eba0a', 'message': ""WIP: Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to YAML formatted file and load when needed.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\nNOTE: tools/version-check.py not yet converted\n""}, {'number': 8, 'created': '2019-11-08 14:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/311f244b72de315c50fa0847ab8d845d6338e938', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 9, 'created': '2019-11-08 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5766fdd476390e8bcb3e3d2e181d148065e4acd6', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 10, 'created': '2019-11-21 14:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/01033b79a2e8537284c1d577149c226882b6635f', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 11, 'created': '2019-11-22 17:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d314b3cc11a2df1610b88468165b7db22ab2de66', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 12, 'created': '2019-11-22 20:50:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/aec1718ce9402c3affd8c95ce9af7dbdbf2c844e', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 13, 'created': '2019-11-25 09:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f71c77c5678aec27bd6a27a22540b13d881697b4', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 14, 'created': '2020-01-07 16:08:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd72da7bc4656be3a4f5cb2afe9b586c22f6ba08', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}, {'number': 15, 'created': '2020-01-08 09:32:26.000000000', 'files': ['kolla/common/sources.yaml', 'tools/version-check.py', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/1da76ddda253baaa038eec5532757d9b34c0fb4a', 'message': ""Move definition of OpenStack sources into YAML file\n\nSOURCES list is long and is in Python code file. And we update it\nseveral times during stable cycle.\n\nLet's move it to a YAML-formatted file and load when needed.\n\nLays ground for external sourcing.\n\nCo-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>\nChange-Id: I0727be1e969296316aedcc1adc2392aead48873d\n""}]",22,693398,1da76ddda253baaa038eec5532757d9b34c0fb4a,58,6,15,24072,,,0,"Move definition of OpenStack sources into YAML file

SOURCES list is long and is in Python code file. And we update it
several times during stable cycle.

Let's move it to a YAML-formatted file and load when needed.

Lays ground for external sourcing.

Co-authored-by: Radosaw Piliszek <radoslaw.piliszek@gmail.com>
Change-Id: I0727be1e969296316aedcc1adc2392aead48873d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/98/693398/15 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/common/sources.yaml', 'kolla/common/config.py']",2,75ea684cf1d8b78b9ff6c3ec8808bc2e4ae4c5f1,marcin,"import yaml sources = os.path.dirname(os.path.realpath(__file__)) + '/sources.yaml' for name, params in yaml.load(open(sources, 'r'), Loader=yaml.SafeLoader).items(): location = params['location'].replace('TARBALLS_BASE', TARBALLS_BASE)"," SOURCES = { 'openstack-base': { 'type': 'url', 'location': ('$tarballs_base/requirements/' 'requirements-stable-train.tar.gz')}, 'almanach-base': { 'type': 'url', 'location': ('$tarballs_base/almanach/' 'almanach-4.1.0.tar.gz')}, 'aodh-base': { 'type': 'url', 'location': ('$tarballs_base/aodh/' 'aodh-9.0.0.tar.gz')}, 'barbican-base': { 'type': 'url', 'location': ('$tarballs_base/barbican/' 'barbican-9.0.0.tar.gz')}, 'bifrost-base': { 'type': 'url', 'location': ('$tarballs_base/bifrost/' 'bifrost-7.0.0.tar.gz')}, 'blazar-base': { 'type': 'url', 'location': ('$tarballs_base/blazar/' 'blazar-4.0.0.tar.gz')}, 'ceilometer-base': { 'type': 'url', 'location': ('$tarballs_base/ceilometer/' 'ceilometer-13.0.0.tar.gz')}, 'ceilometer-base-plugin-panko': { 'type': 'url', 'location': ('$tarballs_base/panko/' 'panko-7.0.0.tar.gz')}, 'cinder-base': { 'type': 'url', 'location': ('$tarballs_base/cinder/' 'cinder-15.0.0.tar.gz')}, 'congress-base': { 'type': 'url', 'location': ('$tarballs_base/congress/' 'openstack-congress-10.0.0.tar.gz')}, 'cloudkitty-base': { 'type': 'url', 'location': ('$tarballs_base/cloudkitty/' 'cloudkitty-11.0.1.tar.gz')}, 'cyborg-base': { 'type': 'url', 'location': ('$tarballs_base/cyborg/' 'openstack-cyborg-3.0.0.tar.gz')}, 'designate-base': { 'type': 'url', 'location': ('$tarballs_base/designate/' 'designate-9.0.0.tar.gz')}, 'dragonflow-base': { 'type': 'url', 'location': ('$tarballs_base/dragonflow/' 'dragonflow-3.0.0.tar.gz')}, 'ec2-api': { 'type': 'url', 'location': ('$tarballs_base/ec2-api/' 'ec2-api-9.0.0.tar.gz')}, 'freezer-api': { 'type': 'url', 'location': ('$tarballs_base/freezer-api/' 'freezer-api-7.2.0.tar.gz')}, 'freezer-base': { 'type': 'url', 'location': ('$tarballs_base/freezer/' 'freezer-7.2.0.tar.gz')}, 'glance-base': { 'type': 'url', 'location': ('$tarballs_base/glance/' 'glance-19.0.0.tar.gz')}, 'gnocchi-base': { 'type': 'git', 'reference': '4.3.4', 'location': ('https://github.com/gnocchixyz/' 'gnocchi.git')}, 'heat-base': { 'type': 'url', 'location': ('$tarballs_base/heat/' 'openstack-heat-13.0.0.tar.gz')}, 'horizon': { 'type': 'url', 'location': ('$tarballs_base/horizon/' 'horizon-16.0.0.tar.gz')}, 'horizon-plugin-blazar-dashboard': { 'type': 'url', 'location': ('$tarballs_base/blazar-dashboard/' 'blazar-dashboard-2.0.0.tar.gz')}, 'horizon-plugin-congress-dashboard': { 'type': 'url', 'location': ('$tarballs_base/congress-dashboard/' 'congress-dashboard-5.0.0.tar.gz')}, 'horizon-plugin-cloudkitty-dashboard': { 'type': 'url', 'location': ('$tarballs_base/cloudkitty-dashboard/' 'cloudkitty-dashboard-9.0.0.tar.gz')}, 'horizon-plugin-designate-dashboard': { 'type': 'url', 'location': ('$tarballs_base/designate-dashboard/' 'designate-dashboard-9.0.0.tar.gz')}, 'horizon-plugin-fwaas-dashboard': { 'type': 'url', 'location': ('$tarballs_base/neutron-fwaas-dashboard/' 'neutron-fwaas-dashboard-2.1.0.tar.gz')}, 'horizon-plugin-freezer-web-ui': { 'type': 'url', 'location': ('$tarballs_base/freezer-web-ui/' 'freezer-web-ui-7.2.0.tar.gz')}, 'horizon-plugin-heat-dashboard': { 'type': 'url', 'location': ('$tarballs_base/heat-dashboard/' 'heat-dashboard-2.0.0.tar.gz')}, 'horizon-plugin-ironic-ui': { 'type': 'url', 'location': ('$tarballs_base/ironic-ui/' 'ironic-ui-3.5.3.tar.gz')}, 'horizon-plugin-karbor-dashboard': { 'type': 'url', 'location': ('$tarballs_base/karbor-dashboard/' 'karbor-dashboard-1.3.0.tar.gz')}, 'horizon-plugin-magnum-ui': { 'type': 'url', 'location': ('$tarballs_base/magnum-ui/' 'magnum-ui-5.2.0.tar.gz')}, 'horizon-plugin-manila-ui': { 'type': 'url', 'location': ('$tarballs_base/manila-ui/' 'manila-ui-2.19.1.tar.gz')}, 'horizon-plugin-masakari-dashboard': { 'type': 'url', 'location': ('$tarballs_base/masakari-dashboard/' 'masakari-dashboard-1.0.0.tar.gz')}, 'horizon-plugin-mistral-dashboard': { 'type': 'url', 'location': ('$tarballs_base/mistral-dashboard/' 'mistral-dashboard-9.0.0.tar.gz')}, 'horizon-plugin-monasca-ui': { 'type': 'url', 'location': ('$tarballs_base/monasca-ui/' 'monasca-ui-1.17.0.tar.gz')}, 'horizon-plugin-murano-dashboard': { 'type': 'url', 'location': ('$tarballs_base/murano-dashboard/' 'murano-dashboard-8.0.0.tar.gz')}, 'horizon-plugin-neutron-vpnaas-dashboard': { 'type': 'url', 'location': ('$tarballs_base/neutron-vpnaas-dashboard/' 'neutron-vpnaas-dashboard-1.6.0.tar.gz')}, 'horizon-plugin-octavia-dashboard': { 'type': 'url', 'location': ('$tarballs_base/octavia-dashboard/' 'octavia-dashboard-4.0.0.tar.gz')}, 'horizon-plugin-qinling-dashboard': { 'type': 'url', 'location': ('$tarballs_base/qinling-dashboard/' 'qinling-dashboard-2.0.0.tar.gz')}, 'horizon-plugin-sahara-dashboard': { 'type': 'url', 'location': ('$tarballs_base/sahara-dashboard/' 'sahara-dashboard-11.0.0.tar.gz')}, 'horizon-plugin-searchlight-ui': { 'type': 'url', 'location': ('$tarballs_base/searchlight-ui/' 'searchlight-ui-7.0.0.tar.gz')}, 'horizon-plugin-senlin-dashboard': { 'type': 'url', 'location': ('$tarballs_base/senlin-dashboard/' 'senlin-dashboard-0.11.0.tar.gz')}, 'horizon-plugin-solum-dashboard': { 'type': 'url', 'location': ('$tarballs_base/solum-dashboard/' 'solum-dashboard-3.0.0.tar.gz')}, 'horizon-plugin-tacker-dashboard': { 'type': 'url', 'location': ('$tarballs_base/tacker-horizon/' 'tacker-horizon-0.15.0.tar.gz')}, 'horizon-plugin-trove-dashboard': { 'type': 'url', 'location': ('$tarballs_base/trove-dashboard/' 'trove-dashboard-13.0.0.tar.gz')}, 'horizon-plugin-vitrage-dashboard': { 'type': 'url', 'location': ('$tarballs_base/vitrage-dashboard/' 'vitrage-dashboard-2.0.0.tar.gz')}, 'horizon-plugin-watcher-dashboard': { 'type': 'url', 'location': ('$tarballs_base/watcher-dashboard/' 'watcher-dashboard-2.0.0.tar.gz')}, 'horizon-plugin-zaqar-ui': { 'type': 'url', 'location': ('$tarballs_base/zaqar-ui/' 'zaqar-ui-7.0.0.tar.gz')}, 'horizon-plugin-zun-ui': { 'type': 'url', 'location': ('$tarballs_base/zun-ui/' 'zun-ui-4.0.0.tar.gz')}, 'ironic-base': { 'type': 'url', 'location': ('$tarballs_base/ironic/' 'ironic-13.0.2.tar.gz')}, 'ironic-inspector': { 'type': 'url', 'location': ('$tarballs_base/ironic-inspector/' 'ironic-inspector-9.2.0.tar.gz')}, 'karbor-base': { 'type': 'url', 'location': ('$tarballs_base/karbor/' 'karbor-1.4.0.tar.gz')}, 'keystone-base': { 'type': 'url', 'location': ('$tarballs_base/keystone/' 'keystone-16.0.0.tar.gz')}, 'kuryr-base': { 'type': 'url', 'location': ('$tarballs_base/kuryr/' 'kuryr-lib-1.1.1.tar.gz')}, 'kuryr-libnetwork': { 'type': 'url', 'location': ('$tarballs_base/kuryr-libnetwork/' 'kuryr-libnetwork-4.0.0.tar.gz')}, 'magnum-base': { 'type': 'url', 'location': ('$tarballs_base/magnum/' 'magnum-9.0.0.tar.gz')}, 'manila-base': { 'type': 'url', 'location': ('$tarballs_base/manila/' 'manila-9.0.0.tar.gz')}, 'masakari-base': { 'type': 'url', 'location': ('$tarballs_base/masakari/' 'masakari-8.0.0.tar.gz')}, 'masakari-monitors': { 'type': 'url', 'location': ('$tarballs_base/masakari-monitors/' 'masakari-monitors-8.0.0.tar.gz')}, 'mistral-base': { 'type': 'url', 'location': ('$tarballs_base/mistral/' 'mistral-9.0.0.tar.gz')}, 'mistral-base-plugin-tacker': { 'type': 'url', 'location': ('$tarballs_base/tacker/' 'tacker-2.0.0.tar.gz')}, 'monasca-agent': { 'type': 'url', 'location': ('$tarballs_base/monasca-agent/' 'monasca-agent-2.11.0.tar.gz')}, 'monasca-api': { 'type': 'url', 'location': ('$tarballs_base/monasca-api/' 'monasca-api-3.1.0.tar.gz')}, 'monasca-log-api': { 'type': 'url', 'location': ('$tarballs_base/monasca-log-api/' 'monasca-log-api-2.10.0.tar.gz')}, 'monasca-notification': { 'type': 'url', 'location': ('$tarballs_base/monasca-notification/' 'monasca-notification-1.18.0.tar.gz')}, 'monasca-persister': { 'type': 'url', 'location': ('$tarballs_base/monasca-persister/' 'monasca-persister-1.15.0.tar.gz')}, 'monasca-statsd': { 'type': 'url', 'location': ('$tarballs_base/monasca-statsd/' 'monasca-statsd-1.12.0.tar.gz')}, # FIXME(dszumski): Use openstack tar when infra is fixed 'monasca-thresh': { 'type': 'url', 'location': ('https://github.com/openstack/monasca-thresh/archive/' 'master.tar.gz')}, 'monasca-thresh-additions-monasca-common': { 'type': 'url', 'location': ('$tarballs_base/monasca-common/' 'monasca-common-2.16.1.tar.gz')}, 'murano-base': { 'type': 'url', 'location': ('$tarballs_base/murano/' 'murano-8.0.0.tar.gz')}, 'neutron-base': { 'type': 'url', 'location': ('$tarballs_base/neutron/' 'neutron-15.0.0.tar.gz')}, 'neutron-base-plugin-neutron-fwaas': { 'type': 'url', 'location': ('$tarballs_base/neutron-fwaas/' 'neutron-fwaas-15.0.0.tar.gz')}, 'neutron-base-plugin-networking-ansible': { 'type': 'url', 'location': ('$tarballs_base/networking-ansible/' 'networking-ansible-1.1.0.tar.gz')}, 'neutron-base-plugin-networking-baremetal': { 'type': 'url', 'location': ('$tarballs_base/networking-baremetal/' 'networking-baremetal-1.4.0.tar.gz')}, 'neutron-base-plugin-networking-generic-switch': { 'type': 'url', 'location': ('$tarballs_base/networking-generic-switch/' 'networking-generic-switch-2.1.0.tar.gz')}, 'neutron-base-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/networking-sfc/' 'networking-sfc-9.0.0.tar.gz')}, 'neutron-base-plugin-vmware-nsx': { 'type': 'url', 'location': ('$tarballs_base/vmware-nsx/' 'vmware-nsx-14.0.0.tar.gz')}, 'neutron-base-plugin-vpnaas-agent': { 'type': 'url', 'location': ('$tarballs_base/neutron-vpnaas/' 'neutron-vpnaas-15.0.0.tar.gz')}, 'neutron-bgp-dragent': { 'type': 'url', 'location': ('$tarballs_base/neutron-dynamic-routing/' 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-odl': { 'type': 'url', 'location': ('$tarballs_base/networking-odl/' 'networking-odl-15.0.0.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-bgpvpn': { 'type': 'url', 'location': ('$tarballs_base/networking-bgpvpn/' 'networking-bgpvpn-11.0.0.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-l2gw': { 'type': 'url', 'location': ('$tarballs_base/networking-l2gw/' 'networking-l2gw-15.0.0.tar.gz')}, 'neutron-server-opendaylight-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/networking-sfc/' 'networking-sfc-9.0.0.tar.gz')}, 'neutron-server-plugin-neutron-dynamic-routing': { 'type': 'url', 'location': ('$tarballs_base/neutron-dynamic-routing/' 'neutron-dynamic-routing-15.0.0.tar.gz')}, 'neutron-server-plugin-vmware-nsxlib': { 'type': 'url', 'location': ('$tarballs_base/vmware-nsxlib/' 'vmware-nsxlib-14.0.3.tar.gz')}, 'neutron-vpnaas-agent': { 'type': 'url', 'location': ('$tarballs_base/neutron-vpnaas/' 'neutron-vpnaas-15.0.0.tar.gz')}, 'neutron-server-ovn-plugin-networking-ovn': { 'type': 'url', 'location': ('$tarballs_base/networking-ovn/' 'networking-ovn-7.0.0.tar.gz')}, 'neutron-metadata-agent-ovn-plugin-networking-ovn': { 'type': 'url', 'location': ('$tarballs_base/networking-ovn/' 'networking-ovn-7.0.0.tar.gz')}, 'nova-base': { 'type': 'url', 'location': ('$tarballs_base/nova/' 'nova-20.0.0.tar.gz')}, 'nova-base-plugin-blazar': { 'type': 'url', 'location': ('$tarballs_base/blazar-nova/' 'blazar-nova-1.3.0.tar.gz')}, 'nova-base-plugin-mksproxy': { 'type': 'url', 'location': ('$tarballs_base/nova-mksproxy/' 'nova-mksproxy-0.0.2.tar.gz')}, 'novajoin-base': { 'type': 'url', 'location': ('$tarballs_base/novajoin/' 'novajoin-1.2.0.tar.gz')}, 'octavia-base': { 'type': 'url', 'location': ('$tarballs_base/octavia/' 'octavia-5.0.0.tar.gz')}, 'panko-base': { 'type': 'url', 'location': ('$tarballs_base/panko/' 'panko-7.0.0.tar.gz')}, 'placement-base': { 'type': 'url', 'location': ('$tarballs_base/placement/' 'openstack-placement-2.0.0.tar.gz')}, 'qinling-base': { 'type': 'url', 'location': ('$tarballs_base/qinling/' 'qinling-3.0.0.tar.gz')}, 'tempest-plugin-tempest-conf': { 'type': 'url', 'location': ('$tarballs_base/python-tempestconf/' 'python-tempestconf-2.3.0.tar.gz')}, 'tempest-plugin-barbican': { 'type': 'url', 'location': ('$tarballs_base/barbican-tempest-plugin/' 'barbican_tempest_plugin-0.3.0.tar.gz')}, 'tempest-plugin-blazar': { 'type': 'url', 'location': ('$tarballs_base/blazar-tempest-plugin/' 'blazar_tempest_plugin-0.3.0.tar.gz')}, 'tempest-plugin-cinder': { 'type': 'url', 'location': ('$tarballs_base/cinder-tempest-plugin/' 'cinder-tempest-plugin-0.3.0.tar.gz')}, 'tempest-plugin-congress': { 'type': 'url', 'location': ('$tarballs_base/congress-tempest-plugin/' 'congress-tempest-plugin-0.3.0.tar.gz')}, 'tempest-plugin-ec2api': { 'type': 'url', 'location': ('$tarballs_base/ec2api-tempest-plugin/' 'ec2api-tempest-plugin-0.3.0.tar.gz')}, 'tempest-plugin-heat': { 'type': 'url', 'location': ('$tarballs_base/heat-tempest-plugin/' 'heat-tempest-plugin-0.4.0.tar.gz')}, 'tempest-plugin-ironic': { 'type': 'url', 'location': ('$tarballs_base/ironic-tempest-plugin/' 'ironic-tempest-plugin-1.5.1.tar.gz')}, 'tempest-plugin-keystone': { 'type': 'url', 'location': ('$tarballs_base/keystone-tempest-plugin/' 'keystone_tempest_plugin-0.3.0.tar.gz')}, 'tempest-plugin-magnum': { 'type': 'url', 'location': ('$tarballs_base/magnum-tempest-plugin/' 'magnum_tempest_plugin-0.3.0.tar.gz')}, 'tempest-plugin-manila': { 'type': 'url', 'location': ('$tarballs_base/manila-tempest-plugin/' 'manila-tempest-plugin-0.4.1.tar.gz')}, 'tempest-plugin-mistral': { 'type': 'url', 'location': ('$tarballs_base/mistral-tempest-plugin/' 'mistral_tempest_tests-0.3.0.tar.gz')}, 'tempest-plugin-monasca': { 'type': 'url', 'location': ('$tarballs_base/monasca-tempest-plugin/' 'monasca-tempest-plugin-1.1.0.tar.gz')}, 'tempest-plugin-murano': { 'type': 'url', 'location': ('$tarballs_base/murano-tempest-plugin/' 'murano-tempest-plugin-1.1.0.tar.gz')}, 'tempest-plugin-neutron': { 'type': 'url', 'location': ('$tarballs_base/neutron-tempest-plugin/' 'neutron-tempest-plugin-0.6.0.tar.gz')}, 'tempest-plugin-patrole': { 'type': 'url', 'location': ('$tarballs_base/patrole/' 'patrole-0.7.0.tar.gz')}, 'tempest-plugin-telemetry': { 'type': 'url', 'location': ('$tarballs_base/telemetry-tempest-plugin/' 'telemetry_tempest_plugin-0.4.0.tar.gz')}, 'tempest-plugin-tripleo-common': { 'type': 'url', 'location': ('$tarballs_base/tripleo-common-tempest-plugin/' 'tripleo-common-tempest-plugin-master.tar.gz')}, 'tempest-plugin-trove': { 'type': 'url', 'location': ('$tarballs_base/trove-tempest-plugin/' 'trove_tempest_plugin-0.3.0.tar.gz')}, 'tempest-plugin-vitrage': { 'type': 'url', 'location': ('$tarballs_base/vitrage-tempest-plugin/' 'vitrage-tempest-plugin-3.0.0.tar.gz')}, 'tempest-plugin-watcher': { 'type': 'url', 'location': ('$tarballs_base/watcher-tempest-plugin/' 'watcher-tempest-plugin-1.2.0.tar.gz')}, 'tempest-plugin-zaqar': { 'type': 'url', 'location': ('$tarballs_base/zaqar-tempest-plugin/' 'zaqar_tempest_plugin-0.3.0.tar.gz')}, 'rally': { 'type': 'url', 'location': ('$tarballs_base/rally/' 'rally-2.0.0.tar.gz')}, 'sahara-base': { 'type': 'url', 'location': ('$tarballs_base/sahara/' 'sahara-11.0.0.tar.gz')}, 'sahara-base-plugin-ambari': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-ambari/' 'sahara-plugin-ambari-2.0.0.tar.gz')}, 'sahara-base-plugin-cdh': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-cdh/' 'sahara-plugin-cdh-2.0.0.tar.gz')}, 'sahara-base-plugin-mapr': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-mapr/' 'sahara-plugin-mapr-2.0.0.tar.gz')}, 'sahara-base-plugin-spark': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-spark/' 'sahara-plugin-spark-2.0.0.tar.gz')}, 'sahara-base-plugin-storm': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-storm/' 'sahara-plugin-storm-2.0.0.tar.gz')}, 'sahara-base-plugin-vanilla': { 'type': 'url', 'location': ('$tarballs_base/sahara-plugin-vanilla/' 'sahara-plugin-vanilla-2.0.0.tar.gz')}, 'searchlight-base': { 'type': 'url', 'location': ('$tarballs_base/searchlight/' 'searchlight-7.0.0.tar.gz')}, 'senlin-base': { 'type': 'url', 'location': ('$tarballs_base/senlin/' 'senlin-8.0.0.tar.gz')}, 'solum-base': { 'type': 'url', 'location': ('$tarballs_base/solum/' 'solum-7.0.0.tar.gz')}, 'swift-base': { 'type': 'url', 'location': ('$tarballs_base/swift/' 'swift-2.23.1.tar.gz')}, 'tacker-base': { 'type': 'url', 'location': ('$tarballs_base/tacker/' 'tacker-2.0.0.tar.gz')}, 'tacker-base-plugin-networking-sfc': { 'type': 'url', 'location': ('$tarballs_base/networking-sfc/' 'networking-sfc-9.0.0.tar.gz')}, 'tempest': { 'type': 'url', 'location': ('$tarballs_base/tempest/' 'tempest-22.1.0.tar.gz')}, 'tripleoclient': { 'type': 'url', 'location': ('$tarballs_base/python-tripleoclient/' 'tripleoclient-12.3.0.tar.gz')}, 'trove-base': { 'type': 'url', 'location': ('$tarballs_base/trove/' 'trove-12.0.0.tar.gz')}, 'vitrage-base': { 'type': 'url', 'location': ('$tarballs_base/vitrage/' 'vitrage-5.0.1.tar.gz')}, 'vmtp': { 'type': 'url', 'location': ('$tarballs_base/vmtp/' 'vmtp-master.tar.gz')}, 'watcher-base': { 'type': 'url', 'location': ('$tarballs_base/watcher/' 'python-watcher-3.0.0.tar.gz')}, 'zaqar-base': { 'type': 'url', 'location': ('$tarballs_base/zaqar/' 'zaqar-9.0.0.tar.gz')}, 'zun-base': { 'type': 'url', 'location': ('$tarballs_base/zun/' 'zun-4.0.0.tar.gz')} } for name, params in SOURCES.items(): location = params['location']",426,569
openstack%2Fdevstack~stable%2Fpike~I82f539bfa533349293dd5a8ce309c9cc0ffb0393,openstack/devstack,stable/pike,I82f539bfa533349293dd5a8ce309c9cc0ffb0393,"Fix gate, squashing multiple fixes",MERGED,2020-06-15 15:21:27.000000000,2020-07-07 12:07:56.000000000,2020-07-07 12:07:56.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-15 15:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/93da6189de2136667db0ee1bae5f09d476671f33', 'message': ""Use packaged uwsgi on Fedora and Ubuntu\n\nBuilding uwsgi from source was a workaround that was introduced a long\ntime ago, it doesn't seem like it is needed anymore and will actually\nfail for Ubuntu 20.04.\n\nAlso it doesn't match what will happen for most real-world\ninstallations, so let's try to get back to using distro packages. We'll\nstill use the source install for RHEL/Centos, it remains to be tested\nwhether we can get back to using distro versions there, too.\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n""}, {'number': 2, 'created': '2020-07-03 21:16:14.000000000', 'files': ['lib/placement', 'lib/cinder', 'roles/process-stackviz/tasks/main.yaml', 'lib/nova', 'lib/keystone', 'roles/process-stackviz/defaults/main.yaml', 'lib/glance', 'playbooks/pre.yaml', '.zuul.yaml', 'lib/apache', 'roles/process-stackviz/README.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e963dc2fd4add7c438a15407b5e047957f690c4a', 'message': 'Fix gate, squashing multiple fixes\n\nThis commit includes multiple fixes to\nmake gate happy:\n\n1. Use packaged uwsgi on Fedora and Ubuntu\n- https://review.opendev.org/#/c/735615/7\n\n2. Move process-stackviz role from Tempest to Devstack\n- https://review.opendev.org/#/c/737078/4\n\n3. Add ensure-pip to pre.yaml\n- https://review.opendev.org/#/c/738495/2\n\n4. Use uwsgi binary from path\n- https://review.opendev.org/#/c/739072/\n\n5. Temporarily disable the grenade jobs\n\nConflicts:\n\t.zuul.yaml\n\tlib/neutron\n\tlib/neutron-legacy\n\nChange-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393\n(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)\n(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)\n'}]",2,735616,e963dc2fd4add7c438a15407b5e047957f690c4a,23,9,2,8556,,,0,"Fix gate, squashing multiple fixes

This commit includes multiple fixes to
make gate happy:

1. Use packaged uwsgi on Fedora and Ubuntu
- https://review.opendev.org/#/c/735615/7

2. Move process-stackviz role from Tempest to Devstack
- https://review.opendev.org/#/c/737078/4

3. Add ensure-pip to pre.yaml
- https://review.opendev.org/#/c/738495/2

4. Use uwsgi binary from path
- https://review.opendev.org/#/c/739072/

5. Temporarily disable the grenade jobs

Conflicts:
	.zuul.yaml
	lib/neutron
	lib/neutron-legacy

Change-Id: I82f539bfa533349293dd5a8ce309c9cc0ffb0393
(cherry picked from commit 2d903568ed4158aa668bbda6986307a8780c71a4)
(cherry picked from commit ad6cc52c746f1fbdb1d89b14c09dc4aa7907bfe4)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/735616/2 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,93da6189de2136667db0ee1bae5f09d476671f33,uwsgi-stable/pike," # This varies based on packaged/installed. If we've # pip_installed, then the pip setup will only build a ""python"" # module that will be either python2 or python3 depending on what # it was built with. # For package installs, the distro ships both plugins and you need # to select the right one ... it will not be autodetected. if python3_enabled; then UWSGI_PYTHON_PLUGIN=python3 else UWSGI_PYTHON_PLUGIN=python fi if is_ubuntu; then install_package uwsgi \ uwsgi-plugin-python \ uwsgi-plugin-python3 \ libapache2-mod-proxy-uwsgi elif [[ $os_VENDOR == ""Fedora"" ]]; then # Note httpd comes with mod_proxy_uwsgi and it is loaded by # default; the mod_proxy_uwsgi package actually conflicts now. # See: # https://bugzilla.redhat.com/show_bug.cgi?id=1574335 # # Thus there is nothing else to do after this install install_package uwsgi \ uwsgi-plugin-python3 else # Centos actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir UWSGI_PYTHON_PLUGIN=python fi iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN} iniset ""$file"" uwsgi plugins http,${UWSGI_PYTHON_PLUGIN}"," # Ubuntu xenial is back level on uwsgi so the proxy doesn't # actually work. Hence we have to build from source for now. # Centos 7 actually has the module in epel, but there was a big # push to disable epel by default. As such, compile from source # there as well. local dir dir=$(mktemp -d) pushd $dir pip_install uwsgi pip download uwsgi -c $REQUIREMENTS_DIR/upper-constraints.txt local uwsgi uwsgi=$(ls uwsgi*) tar xvf $uwsgi cd uwsgi*/apache2 sudo $apxs -i -c mod_proxy_uwsgi.c popd # delete the temp directory sudo rm -rf $dir iniset ""$file"" uwsgi plugins python iniset ""$file"" uwsgi plugins python",46,20
openstack%2Fironic-python-agent~stable%2Fussuri~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,stable/ussuri,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-06 18:21:18.000000000,2020-07-07 11:52:49.000000000,2020-07-07 11:49:49.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 18:21:18.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/inspect-to-clean-b3616d843775c187.yaml', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/8ab527e72ed2996c077f75e1118608cd30feb61f', 'message': 'Limit Inspection->Lookup->Heartbeat lag\n\nCaches hardware information collected during inspection\nso that the initial lookup can occur without any delay.\n\nAlso adds logging to track how long inventory collection takes.\n\nConflicts:\n\tironic_python_agent/tests/unit/base.py\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a\n(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)\n'}]",0,739569,8ab527e72ed2996c077f75e1118608cd30feb61f,11,4,1,10239,,,0,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Conflicts:
	ironic_python_agent/tests/unit/base.py

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/69/739569/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/inspect-to-clean-b3616d843775c187.yaml', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py']",8,8ab527e72ed2996c077f75e1118608cd30feb61f,, self.assertTrue(mock_wait.called) self.assertTrue(mock_wait.called), self.assertFalse(mock_wait.called) self.assertFalse(mock_wait.called),72,6
openstack%2Fbifrost~master~I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,openstack/bifrost,master,I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0,Do not use 'sudo pip install' when venv is used,MERGED,2020-07-07 09:44:21.000000000,2020-07-07 11:50:20.000000000,2020-07-07 11:02:16.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-07 09:44:21.000000000', 'files': ['scripts/install-deps.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5', 'message': ""Do not use 'sudo pip install' when venv is used\n\nWe end up installing bindep and bifrost deps in the system otherwise.\n\nChange-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0\n""}]",0,739693,0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5,9,3,1,10239,,,0,"Do not use 'sudo pip install' when venv is used

We end up installing bindep and bifrost deps in the system otherwise.

Change-Id: I3d3b24ba5313013051e8b18d1ce4ec42a61d20f0
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/93/739693/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/install-deps.sh'],1,0b58a05ac6bcabb8d5dc65a32e1526df4e0251e5,sudo-pip,"if [ -n ""${VENV-}"" ]; then ${PIP} install bindep else sudo -H -E ${PIP} install bindep fiif [ -n ""${VENV-}"" ]; then ${PIP} install -r ""$(dirname $0)/../requirements.txt"" else sudo -H -E ${PIP} install -r ""$(dirname $0)/../requirements.txt"" fi","sudo -H -E ${PIP} install bindepsudo -H -E ${PIP} install -r ""$(dirname $0)/../requirements.txt""",10,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I0162e7dec09242a8d3981d1796f4cc6d911c7c4a,openstack/tripleo-heat-templates,stable/train,I0162e7dec09242a8d3981d1796f4cc6d911c7c4a,[Q->T] Add FFU steps for manila,MERGED,2020-06-23 18:49:17.000000000,2020-07-07 11:33:31.000000000,2020-07-07 11:33:31.000000000,"[{'_account_id': 6413}, {'_account_id': 6796}, {'_account_id': 6816}, {'_account_id': 9003}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23215}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-06-23 18:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e22015cd43d15d625a09d2625e69293e4e40d3c', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\n'}, {'number': 2, 'created': '2020-06-23 19:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/49a245dd365b5fa42c3adb8c4413a6697cac05ae', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 3, 'created': '2020-06-24 12:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6b12f0b89e1eeebda613568fea99a4fac53f34cb', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 4, 'created': '2020-06-24 22:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84a7a9e4af944eede7bbd617dee632d73ce808bf', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 5, 'created': '2020-06-24 22:24:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9ac69e5ab57f28b8d1fa8a5c381032b4c261411d', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 6, 'created': '2020-06-24 22:48:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6bba3080d83378f322171cd9e5bf31aea9d47db', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\nThis patch also includes some batch optimization\nfor step 0 of the FFU.\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 7, 'created': '2020-06-24 23:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7bab899d2a887f22a95420d9297dd8e58c6f1e5b', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 8, 'created': '2020-07-06 12:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/de5c89a53148885530d64ee15b9a87295ba43c08', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}, {'number': 9, 'created': '2020-07-06 21:56:30.000000000', 'files': ['deployment/manila/manila-api-container-puppet.yaml', 'environments/lifecycle/upgrade-converge.yaml', 'container_config_scripts/manila_ffu_db_sync.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea7c886e22e18a79fda64f159ff524bd587a277e', 'message': '[Q->T] Add FFU steps for manila\n\nThese steps were added for other overcloud\nservices in [1] and [2].\n\n[1] https://review.opendev.org/713482/\n[2] https://review.opendev.org/720490/\n\nDepends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515\nDepends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nResolves: rhbz#1849098\nCloses-bug: #1884818\nChange-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n'}]",9,737602,ea7c886e22e18a79fda64f159ff524bd587a277e,58,12,9,16643,,,0,"[Q->T] Add FFU steps for manila

These steps were added for other overcloud
services in [1] and [2].

[1] https://review.opendev.org/713482/
[2] https://review.opendev.org/720490/

Depends-On: I6a98140b7df8d3460ff8ec54f8b7a0d5abbef515
Depends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Resolves: rhbz#1849098
Closes-bug: #1884818
Change-Id: I0162e7dec09242a8d3981d1796f4cc6d911c7c4a
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/737602/5 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-share-pacemaker-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'container_config_scripts/manila_ffu_db_sync.sh']",3,4e22015cd43d15d625a09d2625e69293e4e40d3c,ffwd-upgrade2-stable/train,"#!/bin/bash # Copyright 2020 Red Hat Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # manila-manage db sync is always idempotent # No errors are expected when the script is run, even multiple times, unless # the database has been sync'ed to a code version and the code has been # downgraded (which shouldn't ever happen in tripleo environments) set -e PRE_DB_SYNC_VERSION=$( sudo -u manila manila-manage db version ) sudo -u manila manila-manage db sync POST_DB_SYNC_VERSION=$( sudo -u manila manila-manage db version ) echo PRE_UPGRADE_DB_VERSION: $PRE_DB_SYNC_VERSION POST_UPGRADE_DB_VERSION: $POST_DB_SYNC_VERSION ",,104,41
openstack%2Fpuppet-tripleo~stable%2Ftrain~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,stable/train,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-07-02 13:46:19.000000000,2020-07-07 11:33:29.000000000,2020-07-07 11:33:29.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-02 13:46:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3e75fd8c3e035670190abad7d49358118b0e79a6', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}, {'number': 2, 'created': '2020-07-06 22:03:27.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/90a28fd10a259dd1e4d354fa739817caa911639c', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nDepends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}]",0,739044,90a28fd10a259dd1e4d354fa739817caa911639c,24,5,2,25402,,,0,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Depends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/44/739044/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,3e75fd8c3e035670190abad7d49358118b0e79a6,,"# Defaults to hiera('ceph_grafana_enabled', false) $ceph_dashboard = hiera('ceph_grafana_enabled', false),","# Defaults to hiera('ceph_mgr_enabled', false) $ceph_dashboard = hiera('ceph_mgr_enabled', false),",2,2
openstack%2Fcharm-swift-proxy~master~Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59,openstack/charm-swift-proxy,master,Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59,Policyd override implementation,MERGED,2020-07-01 07:24:51.000000000,2020-07-07 11:23:50.000000000,2020-07-07 11:23:50.000000000,"[{'_account_id': 9247}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-01 07:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f26a86b6bcfbd996ef196bd41815a997337c6bcc', 'message': 'Add policyd for swift-proxy\n\nChange-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59\nClosed-Bug: #1848576\n'}, {'number': 2, 'created': '2020-07-01 07:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/830f56b58440476d653e4d263cf0fa331add090d', 'message': 'Add policyd for swift-proxy\n\nChange-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59\nClosed-Bug: #1741723\n'}, {'number': 3, 'created': '2020-07-01 09:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/2c7ed5ebcdc31770b4c5563047e370987ef1e7cf', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for glance.  It uses the\ncode in charmhelpers.\n\nClosed-Bug: #1741723\nChange-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59\n'}, {'number': 4, 'created': '2020-07-01 10:02:40.000000000', 'files': ['hooks/swift_hooks.py', 'tests/tests.yaml', 'config.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d21648e67106c48e222a3f698eeb2255593326dd', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for swift-proxy.  It uses\nthe code in charmhelpers.\n\nClosed-Bug: #1741723\nChange-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59\n'}]",0,738745,d21648e67106c48e222a3f698eeb2255593326dd,16,4,4,9247,,,0,"Policyd override implementation

This patchset implements policy overrides for swift-proxy.  It uses
the code in charmhelpers.

Closed-Bug: #1741723
Change-Id: Ic51ee5d181558b63dfd968c5b0c7d40760a5ac59
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/45/738745/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/swift_hooks.py', 'unit_tests/test_swift_hooks.py', 'config.yaml', 'metadata.yaml']",4,f26a86b6bcfbd996ef196bd41815a997337c6bcc,bug/1741723,resources: policyd-override: type: file filename: policyd-override.zip description: The policy.d overrides file,,27,0
openstack%2Fpython-openstackclient~master~I510383f8e0cbf05ec24caa1cad330f12f82a913d,openstack/python-openstackclient,master,I510383f8e0cbf05ec24caa1cad330f12f82a913d,Make volume backup record commands available in v3,MERGED,2020-07-05 07:55:50.000000000,2020-07-07 10:59:55.000000000,2020-07-07 10:58:15.000000000,"[{'_account_id': 2}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-05 07:55:50.000000000', 'files': ['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b1fc587a6d4eac795a5bc27c2dffd2d876161caa', 'message': 'Make volume backup record commands available in v3\n\nThey work just fine in Volume API v3 but they were limited in OSC\nto v2.\n\nChange-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d\nStory: 2007896\nTask: 40279\n'}]",0,739342,b1fc587a6d4eac795a5bc27c2dffd2d876161caa,15,5,1,30491,,,0,"Make volume backup record commands available in v3

They work just fine in Volume API v3 but they were limited in OSC
to v2.

Change-Id: I510383f8e0cbf05ec24caa1cad330f12f82a913d
Story: 2007896
Task: 40279
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/42/739342/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'releasenotes/notes/task-40279-eb0d718ac1959c50.yaml']",2,b1fc587a6d4eac795a5bc27c2dffd2d876161caa,story/2007896,--- fixes: - | Makes ``volume backup record`` commands available in Volume API v3. `Task 40279 <https://storyboard.openstack.org/#!/story/2007896>`__ ,,8,0
openstack%2Fkolla~master~I562d2f42f470de58aaae909d470e7c3f14eec272,openstack/kolla,master,I562d2f42f470de58aaae909d470e7c3f14eec272,monasca-thresh: build always,ABANDONED,2020-07-06 10:27:38.000000000,2020-07-07 10:55:46.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 30523}]","[{'number': 1, 'created': '2020-07-06 10:27:38.000000000', 'files': ['kolla/image/build.py', 'docker/monasca/monasca-thresh/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/99de0896839087c51aa5106840043918778dbaad', 'message': 'monasca-thresh: build always\n\nThis package is part of infrastructure so binary/source split does not\nmake any sense here.\n\nChange-Id: I562d2f42f470de58aaae909d470e7c3f14eec272\n'}]",0,739461,99de0896839087c51aa5106840043918778dbaad,11,8,1,24072,,,0,"monasca-thresh: build always

This package is part of infrastructure so binary/source split does not
make any sense here.

Change-Id: I562d2f42f470de58aaae909d470e7c3f14eec272
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/739461/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/image/build.py', 'docker/monasca/monasca-thresh/Dockerfile.j2']",2,99de0896839087c51aa5106840043918778dbaad,,,{% if install_type == 'binary' %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% elif install_type == 'source' %} {% endif %} ,0,10
openstack%2Fpuppet-tripleo~stable%2Fqueens~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/queens,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:39:23.000000000,2020-07-07 10:52:34.000000000,2020-07-07 10:52:34.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 13:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c1e0ad3c67bacc3757e6edce053e69d1996af93', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n""}, {'number': 2, 'created': '2020-07-03 06:44:10.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/55c8faea5c4acd19aebb36173938aaf9c35b53fe', 'message': 'Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default \'+sbwt none\'.\n\nLet\'s do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nSince the original master change had an issue when the THT parameter\nwas unset (aka when I567839785a72813a382a00253562894e19eb6715 was not\napplied to THT), we also add the subsequent fixup ""Make the additional_erl_args\nchange more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to\nthis change)\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n'}]",0,738623,55c8faea5c4acd19aebb36173938aaf9c35b53fe,15,5,2,20172,,,0,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/23/738623/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,5c1e0ad3c67bacc3757e6edce053e69d1996af93,fix-override-stable/ussuri-stable/train-stable/stein-stable/queens,"# [*additional_erl_args*] # (Optional) Additional string to be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS # Defaults to undef # $additional_erl_args = undef, # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate} ${additional_erl_args_real}\"""" if $additional_erl_args != undef { # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real}\"""" $environment_real = merge($environment, { 'RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, }) } else { $environment_real = $environment }"," $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate}\"""" $environment_real = $environment",21,2
openstack%2Fansible-role-collect-logs~master~Ie05403406e175030e62e9d0911d12a78887e45d0,openstack/ansible-role-collect-logs,master,Ie05403406e175030e62e9d0911d12a78887e45d0,Remove jinja2 templating from when condition,MERGED,2020-07-03 12:14:43.000000000,2020-07-07 10:49:37.000000000,2020-07-07 10:49:36.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-07-03 12:14:43.000000000', 'files': ['tasks/collect.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/124b7f53adbb401d962baddcdfa60d3bfce604d9', 'message': ""Remove jinja2 templating from when condition\n\nLogs collection dumps warning like below, remove usage of it\nas it's not necessary:-\n\n[WARNING]: conditional statements should not include jinja2 templating\ndelimiters such as {{ }} or {% %}. Found: {{ item.when | default(true) }}\n\nChange-Id: Ie05403406e175030e62e9d0911d12a78887e45d0\n""}]",0,739221,124b7f53adbb401d962baddcdfa60d3bfce604d9,19,10,1,13861,,,0,"Remove jinja2 templating from when condition

Logs collection dumps warning like below, remove usage of it
as it's not necessary:-

[WARNING]: conditional statements should not include jinja2 templating
delimiters such as {{ }} or {% %}. Found: {{ item.when | default(true) }}

Change-Id: Ie05403406e175030e62e9d0911d12a78887e45d0
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/21/739221/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/collect.yml'],1,124b7f53adbb401d962baddcdfa60d3bfce604d9,, when: item.when | default(true)," when: ""{{ item.when | default(true) }}""",1,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I3bf244a70538209773804eb85fae6be035c587f4,openstack/puppet-tripleo,stable/stein,I3bf244a70538209773804eb85fae6be035c587f4,Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent,MERGED,2020-06-30 13:39:02.000000000,2020-07-07 10:41:37.000000000,2020-07-07 10:41:37.000000000,"[{'_account_id': 6796}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 13:39:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/04686279a758e5d06dfbfad758beb36155485ede', 'message': ""Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default '+sbwt none'.\n\nLet's do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n""}, {'number': 2, 'created': '2020-07-03 06:43:59.000000000', 'files': ['manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/856f946f78593f8d175be857947db07dc95cbddf', 'message': 'Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent\n\nIn THT we allow RabbitAdditionalErlArgs to set some additional\nparameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS\nwhen starting rabbit. The problem is that when we use internal tls\nthat parameter gets ignored and so we lose our default \'+sbwt none\'.\n\nLet\'s do this via a proper parameter while also considering the fact\nthat historically the default value of RabbitAdditionalErlArgs had\napices around it.\n\nSince the original master change had an issue when the THT parameter\nwas unset (aka when I567839785a72813a382a00253562894e19eb6715 was not\napplied to THT), we also add the subsequent fixup ""Make the additional_erl_args\nchange more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to\nthis change)\n\nChange-Id: I3bf244a70538209773804eb85fae6be035c587f4\nRelated-Bug: #1884922\n(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)\n'}]",0,738622,856f946f78593f8d175be857947db07dc95cbddf,14,4,2,20172,,,0,"Fix RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS usage with a proper override mechanism + Make the additional_erl_args change more independent

In THT we allow RabbitAdditionalErlArgs to set some additional
parameters which should be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS
when starting rabbit. The problem is that when we use internal tls
that parameter gets ignored and so we lose our default '+sbwt none'.

Let's do this via a proper parameter while also considering the fact
that historically the default value of RabbitAdditionalErlArgs had
apices around it.

Since the original master change had an issue when the THT parameter
was unset (aka when I567839785a72813a382a00253562894e19eb6715 was not
applied to THT), we also add the subsequent fixup ""Make the additional_erl_args
change more independent"" I9fa9ba95410ed3994f608beb2c5e1578dc3a7c7a to
this change)

Change-Id: I3bf244a70538209773804eb85fae6be035c587f4
Related-Bug: #1884922
(cherry picked from commit 4d3864249dc27e033499b8a0855ce095be848a44)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/22/738622/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/rabbitmq.pp'],1,04686279a758e5d06dfbfad758beb36155485ede,fix-override-stable/ussuri-stable/train-stable/stein,"# [*additional_erl_args*] # (Optional) Additional string to be passed to RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS # Defaults to undef # $additional_erl_args = undef, # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate} ${additional_erl_args_real}\"""" if $additional_erl_args != undef { # Historically in THT the default value of RabbitAdditionalErlArgs was ""'+sbwt none'"", we # want to strip leading and trailing ' chars. $additional_erl_args_real = regsubst($additional_erl_args, ""(^'|'$)"", '', 'G') $rabbitmq_additional_erl_args = ""\""${additional_erl_args_real}\"""" $environment_real = merge($environment, { 'RABBITMQ_SERVER_ADDITIONAL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, }) } else { $environment_real = $environment }"," $rabbitmq_additional_erl_args = ""\""${cert_option} ${key_option} ${ciphers_option} ${secure_renegotiate}\"""" $environment_real = $environment",21,2
openstack%2Ftripleo-common~master~I397f8d641504ac2ceed36fa975cf97fac5bbb81a,openstack/tripleo-common,master,I397f8d641504ac2ceed36fa975cf97fac5bbb81a,Catch exception if servers are in error state with no bm_node attached,MERGED,2020-07-01 09:22:16.000000000,2020-07-07 10:38:08.000000000,2020-07-07 10:21:19.000000000,"[{'_account_id': 10239}, {'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2020-07-01 09:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bf8730e5ac14b42fc27531293670b6fb05b433ff', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 2, 'created': '2020-07-01 09:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/24eba013ac05776360d0efc807df0ccbc854d251', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 3, 'created': '2020-07-01 10:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/78db91002dc44ff22024e5cf140df54a07c40513', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 4, 'created': '2020-07-01 12:04:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/08333f57b244e419eeac30e741077c987e54a6f0', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 5, 'created': '2020-07-02 11:02:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/284c912679524b56dfacac14dc05eec9872469dc', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 6, 'created': '2020-07-02 11:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/abe0edae150a5944af59598491cb56754e2258a2', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}, {'number': 7, 'created': '2020-07-03 06:05:25.000000000', 'files': ['tripleo_common/tests/utils/test_stack_parameters.py', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/7d2c25319b10daad3d3ef6ba2ff656b10b716beb', 'message': ""Catch exception if servers are in error state with no bm_node attached\n\nThere have been reports (rhbz#1851507) where generating the fencing\nparameters fails because of one or more servers in error state, like\nwhen a scale out operation doesn't go as planned.\n\nThis commit wraps get_by_instance_uuid in a try/except block to prevent\nthis from happening, skipping the node in error state and allowing\nusers to still get a valid fencing config for the remaining servers.\n\nChange-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a\n""}]",5,738768,7d2c25319b10daad3d3ef6ba2ff656b10b716beb,27,6,7,30126,,,0,"Catch exception if servers are in error state with no bm_node attached

There have been reports (rhbz#1851507) where generating the fencing
parameters fails because of one or more servers in error state, like
when a scale out operation doesn't go as planned.

This commit wraps get_by_instance_uuid in a try/except block to prevent
this from happening, skipping the node in error state and allowing
users to still get a valid fencing config for the remaining servers.

Change-Id: I397f8d641504ac2ceed36fa975cf97fac5bbb81a
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/68/738768/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/utils/nodes.py'],1,bf8730e5ac14b42fc27531293670b6fb05b433ff,," try: bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name} except: # we didn't find a bm_node corresponding to the instance # probably server is in error state with no corresponding # ironic node assigned. return "," bm_node = baremetal_client.node.get_by_instance_uuid(node.id) for port in baremetal_client.port.list(node=bm_node.uuid): hostmap[port.address] = {""compute_name"": node.name, ""baremetal_name"": bm_node.name}",11,4
openstack%2Ftripleo-heat-templates~master~I182f8c5a8ce283b675aa18712e84fcd692200eb1,openstack/tripleo-heat-templates,master,I182f8c5a8ce283b675aa18712e84fcd692200eb1,Fix default BlockStorageCinderVolume template,MERGED,2020-07-02 20:41:23.000000000,2020-07-07 10:27:41.000000000,2020-07-07 10:00:59.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-02 20:41:23.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bff0c6cfa1226836569ea016a71284e127c04b2c', 'message': 'Fix default BlockStorageCinderVolume template\n\nThe BlockStorageCinderVolume tripleo service (used by the BlockStorage\nand DistributedComputeHCI roles) is meant to deploy the cinder-volume\nservice without pacemaker. Unfortunately, [1] inadvertently switched\nit to the pcmk version of the template, and this patch moves it back.\n\n[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f\n\nCloses-Bug: #1886095\nChange-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1\n'}]",4,739145,bff0c6cfa1226836569ea016a71284e127c04b2c,17,5,1,21129,,,0,"Fix default BlockStorageCinderVolume template

The BlockStorageCinderVolume tripleo service (used by the BlockStorage
and DistributedComputeHCI roles) is meant to deploy the cinder-volume
service without pacemaker. Unfortunately, [1] inadvertently switched
it to the pcmk version of the template, and this patch moves it back.

[1] I0f61016df6a9f07971c5eab51cc9674a1458c66f

Closes-Bug: #1886095
Change-Id: I182f8c5a8ce283b675aa18712e84fcd692200eb1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/739145/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud-resource-registry-puppet.j2.yaml'],1,bff0c6cfa1226836569ea016a71284e127c04b2c,bug/1886095, # BlockStorageCinderVolume uses the non-pcmk cinder-volume template OS::TripleO::Services::BlockStorageCinderVolume: deployment/cinder/cinder-volume-container-puppet.yaml, OS::TripleO::Services::BlockStorageCinderVolume: deployment/cinder/cinder-volume-pacemaker-puppet.yaml,2,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23,openstack/tripleo-heat-templates,stable/train,Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23,Add project template for IPA multinode,MERGED,2020-06-30 09:02:58.000000000,2020-07-07 10:21:20.000000000,2020-07-07 10:21:20.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2020-06-30 09:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/52c90c263509c51c7e030603316fbfcfc167030f', 'message': 'DNM : Add project template for IPA multinode\n\nAdded ipa multinode project template\nfor stable train.\n\nChange-Id: Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23\n'}, {'number': 2, 'created': '2020-07-06 13:28:38.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d0a3da09c87f8c12aaa77ee961e1ef07a2407cab', 'message': 'Add project template for IPA multinode\n\nAdded ipa multinode project template\nfor stable train.\n\nChange-Id: Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23\n'}]",1,738568,d0a3da09c87f8c12aaa77ee961e1ef07a2407cab,12,7,2,31075,,,0,"Add project template for IPA multinode

Added ipa multinode project template
for stable train.

Change-Id: Ib1eb7338779c4e1d4c8dce1e6b931b4eadefcb23
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/68/738568/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,52c90c263509c51c7e030603316fbfcfc167030f,add_multinode_ipa_template, - tripleo-standalone-multinode-ipa,,1,0
openstack%2Ftripleo-quickstart-extras~master~I1d31343161b6a228426f3b63f477ed839a2fbef9,openstack/tripleo-quickstart-extras,master,I1d31343161b6a228426f3b63f477ed839a2fbef9,Fix newly-introduced 'Wait until nodes will be manageable' task,MERGED,2020-06-30 12:57:28.000000000,2020-07-07 10:21:17.000000000,2020-07-07 10:21:17.000000000,"[{'_account_id': 6681}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-30 12:57:28.000000000', 'files': ['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a585b509b1c1ceb215501761e3d36a14c98ab718', 'message': ""Fix newly-introduced 'Wait until nodes will be manageable' task\n\nIn change I5a35ca95c5f0e7b295f7bcf76e2ebb530e73c1a0 we added the\n'Wait until nodes will be manageable' in order to cope for slow\nenvironments. That change always assumed that step_introspect is\nset to true. When step_introspect is set to false, then\ntripleo_overcloud_node_import_provide is set to true and that means that\nthe nodes get imported with 'openstack overcloud node import\ninstackenv.json --provide'. Having --provide means the nodes will\nshow up with 'available' and not 'manageable'.\n\nChange-Id: I1d31343161b6a228426f3b63f477ed839a2fbef9\n""}]",0,738605,a585b509b1c1ceb215501761e3d36a14c98ab718,17,6,1,20172,,,0,"Fix newly-introduced 'Wait until nodes will be manageable' task

In change I5a35ca95c5f0e7b295f7bcf76e2ebb530e73c1a0 we added the
'Wait until nodes will be manageable' in order to cope for slow
environments. That change always assumed that step_introspect is
set to true. When step_introspect is set to false, then
tripleo_overcloud_node_import_provide is set to true and that means that
the nodes get imported with 'openstack overcloud node import
instackenv.json --provide'. Having --provide means the nodes will
show up with 'available' and not 'manageable'.

Change-Id: I1d31343161b6a228426f3b63f477ed839a2fbef9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/05/738605/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/tasks/overcloud-prep-images.yml'],1,a585b509b1c1ceb215501761e3d36a14c98ab718,fix-manageable," openstack --os-cloud undercloud baremetal node list -f value -c ""Provisioning State"" | grep -v -e manageable -e available"," openstack --os-cloud undercloud baremetal node list -f value -c ""Provisioning State"" | grep -v manageable",1,1
openstack%2Fpuppet-tripleo~master~Ie48a78a30d9a2824155a9f7388660cab7b5935dd,openstack/puppet-tripleo,master,Ie48a78a30d9a2824155a9f7388660cab7b5935dd,Remove stonith level warning when running on a non cluster node,MERGED,2020-07-01 13:38:14.000000000,2020-07-07 10:21:16.000000000,2020-07-07 10:21:16.000000000,"[{'_account_id': 3153}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-01 13:38:14.000000000', 'files': ['lib/facter/stonith_levels.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1b341962af912bc60eeda6da959777f0b0f3cfb', 'message': ""Remove stonith level warning when running on a non cluster node\n\nCurrently when we run with puppet --debug on a non cluster node we get:\novercloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error\nDebug: Facter: Error: unable to get cib\n\nLet's just remove stderr from the pcs command. After the fix:\novercloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error\novercloud-novacompute-0 ~$\n\nChange-Id: Ie48a78a30d9a2824155a9f7388660cab7b5935dd\n""}]",0,738847,f1b341962af912bc60eeda6da959777f0b0f3cfb,12,4,1,20172,,,0,"Remove stonith level warning when running on a non cluster node

Currently when we run with puppet --debug on a non cluster node we get:
overcloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error
Debug: Facter: Error: unable to get cib

Let's just remove stderr from the pcs command. After the fix:
overcloud-novacompute-0 ~$ puppet facts --debug --color=false|grep Error
overcloud-novacompute-0 ~$

Change-Id: Ie48a78a30d9a2824155a9f7388660cab7b5935dd
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/47/738847/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/facter/stonith_levels.rb'],1,f1b341962af912bc60eeda6da959777f0b0f3cfb,remove-facter-warning," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level 2>&1 | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}).to_i"," stonith_levels = Facter::Core::Execution.execute(""pcs stonith level | sed -n \""/^Target: #{hostname}$/,/^Target:/{/^Target: #{hostname}$/b;/^Target:/b;p}\"" |tail -1 | awk '{print $2}' 2> /dev/null"", {}).to_i",1,1
openstack%2Fcharm-gnocchi~master~Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315,openstack/charm-gnocchi,master,Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315,Policyd override implementation,MERGED,2020-07-03 18:27:35.000000000,2020-07-07 10:20:55.000000000,2020-07-07 10:20:55.000000000,"[{'_account_id': 9247}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2020-07-03 18:27:35.000000000', 'files': ['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-gnocchi/commit/7bec3ddee6163a566d2a9c0aaadacc1be27be9a7', 'message': 'Policyd override implementation\n\nThis patchset implements policy overrides for gnocchi\n\nChange-Id: Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315\nClosed-Bug: #1741723\n'}]",1,739274,7bec3ddee6163a566d2a9c0aaadacc1be27be9a7,10,4,1,9247,,,0,"Policyd override implementation

This patchset implements policy overrides for gnocchi

Change-Id: Ie7a02c536d5085cd2548b84d94b7a6bf8ac6a315
Closed-Bug: #1741723
",git fetch https://review.opendev.org/openstack/charm-gnocchi refs/changes/74/739274/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'src/config.yaml', 'src/lib/charm/openstack/gnocchi.py', 'src/metadata.yaml']",4,7bec3ddee6163a566d2a9c0aaadacc1be27be9a7,bug/1741723,resources: policyd-override: type: file filename: policyd-override.zip description: The policy.d overrides file,,48,3
openstack%2Fnova~stable%2Frocky~I4e03295548af5272a02ca81162fcd685c7986470,openstack/nova,stable/rocky,I4e03295548af5272a02ca81162fcd685c7986470,Make greande jobs n-v for EM and oldest stable,ABANDONED,2020-07-02 10:56:58.000000000,2020-07-07 10:20:29.000000000,,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-02 10:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4a560eca7d49fb545a75e2bb9c3390facdfb768c', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n    .zuul.yaml\n\nDepends-On: https://review.opendev.org/#/c/737384/\nDepends-On: https://review.opendev.org/#/c/737826/\n\nChange-Id: I4e03295548af5272a02ca81162fcd685c7986470\n(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)\n'}, {'number': 2, 'created': '2020-07-02 13:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c78f9709aaa0695d09668d14661099866dccbd7e', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n    .zuul.yaml\n\nDepends-On: https://review.opendev.org/#/c/737384/\nDepends-On: https://review.opendev.org/#/c/737826/\n\nChange-Id: I4e03295548af5272a02ca81162fcd685c7986470\n(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)\n'}, {'number': 3, 'created': '2020-07-06 21:23:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/25a0f4eb01b0c384bfde9edc4a2068b74eea3d32', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n    .zuul.yaml\n\nDepends-On: https://review.opendev.org/#/c/737384/\nDepends-On: https://review.opendev.org/#/c/737826/\n\nChange-Id: I4e03295548af5272a02ca81162fcd685c7986470\n(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)\n'}, {'number': 4, 'created': '2020-07-06 21:32:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/892208434a87fb904220ba713c4d483f99c76781', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n    .zuul.yaml\n\nDepends-On: https://review.opendev.org/#/c/737384/\nDepends-On: https://review.opendev.org/#/c/737826/\n\nNOTE(lyarwood): This change also makes the nova-live-migration job\nnon-voting for now allowing us to follow up and land a seperate changet\nto correct it under Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c.\n\nChange-Id: I4e03295548af5272a02ca81162fcd685c7986470\n(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)\n'}, {'number': 5, 'created': '2020-07-06 21:50:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/b9a699a7737fc13eda72dc6a78efb3abbbfe1f68', 'message': 'Make greande jobs n-v for EM and oldest stable\n\nAs discussed in ML thread[1], we are going to\nmake grenade jobs as non voting for all EM stable and\noldest stable. grenade jobs are failing not and it might take\ntime to fix those if we are able to fix. Once it jobs are\nworking depends on project team, they can bring them back to\nvoting or keep non-voting.\n\nIf those jobs are failing consistently and no one is fixing them\nthen removing those n-v jobs in future also fine.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html\n\nStableOnly\n\nConflicts:\n    .zuul.yaml\n\nDepends-On: https://review.opendev.org/#/c/737384/\nDepends-On: https://review.opendev.org/#/c/737826/\n\nNOTE(lyarwood): This change also makes the nova-live-migration job\nnon-voting for now allowing us to follow up and land a seperate changet\nto correct it under Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c.\n\nChange-Id: I4e03295548af5272a02ca81162fcd685c7986470\n(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)\n'}]",4,739020,b9a699a7737fc13eda72dc6a78efb3abbbfe1f68,35,7,5,10135,,,0,"Make greande jobs n-v for EM and oldest stable

As discussed in ML thread[1], we are going to
make grenade jobs as non voting for all EM stable and
oldest stable. grenade jobs are failing not and it might take
time to fix those if we are able to fix. Once it jobs are
working depends on project team, they can bring them back to
voting or keep non-voting.

If those jobs are failing consistently and no one is fixing them
then removing those n-v jobs in future also fine.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-June/015499.html

StableOnly

Conflicts:
    .zuul.yaml

Depends-On: https://review.opendev.org/#/c/737384/
Depends-On: https://review.opendev.org/#/c/737826/

NOTE(lyarwood): This change also makes the nova-live-migration job
non-voting for now allowing us to follow up and land a seperate changet
to correct it under Iea6288fe6d341ee92f87a35e0b0a59fe564ab96c.

Change-Id: I4e03295548af5272a02ca81162fcd685c7986470
(cherry picked from commit b05bf09b2d50bd77d33a31babe204ba7969f0221)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/739020/4 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a560eca7d49fb545a75e2bb9c3390facdfb768c,, voting: false voting: false,,2,0
openstack%2Ftripleo-quickstart-extras~master~I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e,openstack/tripleo-quickstart-extras,master,I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e,Allow to run tripleo registry on different ip,MERGED,2020-06-19 13:16:28.000000000,2020-07-07 10:18:44.000000000,2020-07-07 10:18:43.000000000,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-06-19 13:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6fcf7adb5e44ff4eab5c96e4c52c66f868f4f1d3', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}, {'number': 2, 'created': '2020-06-23 02:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/efbab858acd107fdc6c57e09bf0c9933b789b42e', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}, {'number': 3, 'created': '2020-06-26 07:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/cb5b579405438158ee11946ce64bf188fed1be08', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}, {'number': 4, 'created': '2020-06-26 16:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/96cb5c87cb07e5c8f398f8f70b72a3eb86f6fc86', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}, {'number': 5, 'created': '2020-06-29 04:16:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fbace0fb1299f52687e2ea7dcdc1c1a41e5aaeeb', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}, {'number': 6, 'created': '2020-07-06 03:59:00.000000000', 'files': ['roles/standalone/templates/standalone_config.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/452538cd12531258fb55c265d4eb8865b38c8f15', 'message': 'Allow to run tripleo registry on different ip\n\nUse local_docker_registry_host to run tripleo\nregistry on different ip on host.\n\nChange-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e\n'}]",8,737000,452538cd12531258fb55c265d4eb8865b38c8f15,44,8,6,13861,,,0,"Allow to run tripleo registry on different ip

Use local_docker_registry_host to run tripleo
registry on different ip on host.

Change-Id: I5bfb6cf0c6063ebd6f91705e27e759b51a18df1e
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/00/737000/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/standalone/templates/standalone_config.yaml.j2'],1,6fcf7adb5e44ff4eab5c96e4c52c66f868f4f1d3,, LocalContainerRegistry: {{ local_docker_registry_host }},,1,0
openstack%2Fblazar~stable%2Fstein~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/stein,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:34:44.000000000,2020-07-07 10:10:16.000000000,2020-07-07 10:08:17.000000000,"[{'_account_id': 3031}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-07-01 07:34:44.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/6bbad1bc79eb2f9535e58f0c9ff19669eaac1373', 'message': 'Fix up adding availability zone (AZ) to a host on creation\n\n1. Nova AZ returns hosts as service hosts as opposed to hypervisor\n   hostnames\n2. Handle case where a Nova AZ has no hosts\n\nChange-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627\nCloses-Bug: #1880646\n(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)\n'}]",0,738749,6bbad1bc79eb2f9535e58f0c9ff19669eaac1373,7,3,1,15197,,,0,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/49/738749/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py']",3,6bbad1bc79eb2f9535e58f0c9ff19669eaac1373,bug/1880646-stable/stein, hypervisor_hostname = 'fake_name.openstack.org', hypervisor_hostname = 'fake_name',9,3
openstack%2Fblazar~stable%2Ftrain~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/train,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:34:22.000000000,2020-07-07 10:10:11.000000000,2020-07-07 10:08:16.000000000,"[{'_account_id': 3031}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-07-01 07:34:22.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/d15c6ce078c0bfab5e471f60808fdd35120532ce', 'message': 'Fix up adding availability zone (AZ) to a host on creation\n\n1. Nova AZ returns hosts as service hosts as opposed to hypervisor\n   hostnames\n2. Handle case where a Nova AZ has no hosts\n\nChange-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627\nCloses-Bug: #1880646\n(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)\n'}]",0,738748,d15c6ce078c0bfab5e471f60808fdd35120532ce,7,3,1,15197,,,0,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/48/738748/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py']",3,d15c6ce078c0bfab5e471f60808fdd35120532ce,bug/1880646-stable/train, hypervisor_hostname = 'fake_name.openstack.org', hypervisor_hostname = 'fake_name',9,3
openstack%2Fblazar~stable%2Fussuri~If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,openstack/blazar,stable/ussuri,If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627,Fix up adding availability zone (AZ) to a host on creation,MERGED,2020-07-01 07:33:57.000000000,2020-07-07 10:08:13.000000000,2020-07-07 10:05:40.000000000,"[{'_account_id': 3031}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2020-07-01 07:33:57.000000000', 'files': ['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py'], 'web_link': 'https://opendev.org/openstack/blazar/commit/fd652cba5d49c046b4765b4616b8546726de98e3', 'message': 'Fix up adding availability zone (AZ) to a host on creation\n\n1. Nova AZ returns hosts as service hosts as opposed to hypervisor\n   hostnames\n2. Handle case where a Nova AZ has no hosts\n\nChange-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627\nCloses-Bug: #1880646\n(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)\n'}]",0,738747,fd652cba5d49c046b4765b4616b8546726de98e3,7,3,1,15197,,,0,"Fix up adding availability zone (AZ) to a host on creation

1. Nova AZ returns hosts as service hosts as opposed to hypervisor
   hostnames
2. Handle case where a Nova AZ has no hosts

Change-Id: If6f6cf21170e95c58dd8a0a1b41b9b5f4797a627
Closes-Bug: #1880646
(cherry picked from commit 532544efbf5fc3a2daf60af5d3c216b0b6a62c42)
",git fetch https://review.opendev.org/openstack/blazar refs/changes/47/738747/1 && git format-patch -1 --stdout FETCH_HEAD,"['blazar/utils/openstack/nova.py', 'releasenotes/notes/bug-1880646-f1af8c48f895f00e.yaml', 'blazar/tests/utils/openstack/test_nova.py']",3,fd652cba5d49c046b4765b4616b8546726de98e3,bug/1880646-stable/ussuri, hypervisor_hostname = 'fake_name.openstack.org', hypervisor_hostname = 'fake_name',9,3
openstack%2Ftripleo-ci~master~I30508c68f62c7de6893b393836a604d22221303d,openstack/tripleo-ci,master,I30508c68f62c7de6893b393836a604d22221303d,add neutron-server-odl and mlnx to skip,MERGED,2020-07-06 15:40:02.000000000,2020-07-07 10:01:02.000000000,2020-07-07 10:01:02.000000000,"[{'_account_id': 9592}, {'_account_id': 10022}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 15:40:02.000000000', 'files': ['roles/build-containers/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8f53a8c38579f9747f417fc5252cb520e723bffb', 'message': 'add neutron-server-odl and mlnx to skip\n\nChange-Id: I30508c68f62c7de6893b393836a604d22221303d\n'}]",0,739523,8f53a8c38579f9747f417fc5252cb520e723bffb,17,4,1,9592,,,0,"add neutron-server-odl and mlnx to skip

Change-Id: I30508c68f62c7de6893b393836a604d22221303d
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/23/739523/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/vars/main.yaml'],1,8f53a8c38579f9747f417fc5252cb520e723bffb,, - neutron-server-opendaylight - neutron-mlnx-agent,,2,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,openstack/puppet-tripleo,stable/ussuri,I70d2ef2a64f0a46203d7a60b564eaa287e5708d6,Fix haproxy ceph dashboard condition,MERGED,2020-07-02 13:46:10.000000000,2020-07-07 10:00:58.000000000,2020-07-07 10:00:58.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-07-02 13:46:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7d0dae41a73b7a44d8926e3d8525e0699a544352', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}, {'number': 2, 'created': '2020-07-06 13:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/38a2950bed7fc579a08ceccf9622b41bc85f61e2', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}, {'number': 3, 'created': '2020-07-06 21:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/07c6f3ce03977bdb79daeabdd28661cacc2a4d33', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nDepends-On: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}, {'number': 4, 'created': '2020-07-06 22:00:30.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/30c8cb3b1bdda695621e0db5674cc55c6c5dd7a8', 'message': ""Fix haproxy ceph dashboard condition\n\nIf grafana is not enabled in the overcloud the\ndashboard section shouldn't be created. We\ncurrently hit an issue during upgrades because\nthe haproxy exists (because of ceph_mgr_enabled)\neven though the dashboard bits aren't deployed.\nUsing the same condition for both services should\nbe safe enough.\n\nCloses-Bug: #1885122\nCo-Authored-By: Giulio Fidente <gfidente@redhat.com>\nChange-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6\n(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)\n""}]",0,739043,30c8cb3b1bdda695621e0db5674cc55c6c5dd7a8,31,5,4,25402,,,0,"Fix haproxy ceph dashboard condition

If grafana is not enabled in the overcloud the
dashboard section shouldn't be created. We
currently hit an issue during upgrades because
the haproxy exists (because of ceph_mgr_enabled)
even though the dashboard bits aren't deployed.
Using the same condition for both services should
be safe enough.

Closes-Bug: #1885122
Co-Authored-By: Giulio Fidente <gfidente@redhat.com>
Change-Id: I70d2ef2a64f0a46203d7a60b564eaa287e5708d6
(cherry picked from commit a21b5ee7ce44270828a12b823b33e5e4117bf4c1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/739043/4 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,7d0dae41a73b7a44d8926e3d8525e0699a544352,,"# Defaults to hiera('ceph_grafana_enabled', false) $ceph_dashboard = hiera('ceph_grafana_enabled', false),","# Defaults to hiera('ceph_mgr_enabled', false) $ceph_dashboard = hiera('ceph_mgr_enabled', false),",2,2
openstack%2Fcastellan~stable%2Ftrain~I83bafe5b7e0c4cca67f773858007fb59d98a93a5,openstack/castellan,stable/train,I83bafe5b7e0c4cca67f773858007fb59d98a93a5,"add ""verify_ssl_path"" config for barbican key manager",MERGED,2020-06-29 08:33:02.000000000,2020-07-07 09:55:01.000000000,2020-07-07 09:52:51.000000000,"[{'_account_id': 6928}, {'_account_id': 9914}, {'_account_id': 15334}, {'_account_id': 21757}, {'_account_id': 22348}, {'_account_id': 24849}, {'_account_id': 27594}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-06-29 08:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/castellan/commit/433bcdd120a322d79a94d53b737a09f81f778a04', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\nConflicts:\n\tcastellan/options.py\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}, {'number': 2, 'created': '2020-07-06 06:23:59.000000000', 'files': ['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/884dee77b7f71ee46de8bc85b48482ffb30b1478', 'message': 'add ""verify_ssl_path"" config for barbican key manager\n\nNow we cann\'t use the verify_ssl if we set True, so we\nadd the ""verify_ssl_path"" config to solve it.\n\nCloses-Bug: #1876102\n(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)\n\nChange-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5\n'}]",2,738398,884dee77b7f71ee46de8bc85b48482ffb30b1478,12,9,2,27594,,,0,"add ""verify_ssl_path"" config for barbican key manager

Now we cann't use the verify_ssl if we set True, so we
add the ""verify_ssl_path"" config to solve it.

Closes-Bug: #1876102
(cherry picked from commit 89f311dfbd264a5d4309ea1ca4283f2746d6fa24)

Change-Id: I83bafe5b7e0c4cca67f773858007fb59d98a93a5
",git fetch https://review.opendev.org/openstack/castellan refs/changes/98/738398/2 && git format-patch -1 --stdout FETCH_HEAD,"['castellan/key_manager/barbican_key_manager.py', 'releasenotes/notes/bug-1876102-7c7288fb6e90b11d.yaml', 'castellan/options.py', 'castellan/tests/unit/test_options.py']",4,433bcdd120a322d79a94d53b737a09f81f778a04,bug/1876102," verify_ssl = False options.set_defaults(conf, verify_ssl=False) verify_ssl_path = '/mnt' options.set_defaults(conf, verify_ssl_path='/mnt') self.assertEqual(verify_ssl_path, conf.barbican.verify_ssl_path) "," verify_ssl = True options.set_defaults(conf, verify_ssl=True)",30,5
openstack%2Foctavia~stable%2Fstein~Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,openstack/octavia,stable/stein,Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed,Fix batch member create for v1 amphora driver,MERGED,2020-06-21 01:46:22.000000000,2020-07-07 09:28:45.000000000,2020-07-07 09:26:55.000000000,"[{'_account_id': 841}, {'_account_id': 2245}, {'_account_id': 4694}, {'_account_id': 6469}, {'_account_id': 10273}, {'_account_id': 10850}, {'_account_id': 11628}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-21 01:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/715b6c455022fb22c66cdbe1b91770af74239dd1', 'message': 'Fix batch member create for v1 amphora driver\n\nA previous patch[1] missed batch_member_update when adding database\nrepository ""get"" method retries for new object creation actions.\nThis patch fixes batch member create to retry the database get call\nwhen new members are being created via batch member update.\nThis issue only impacts the v1 amphora driver as the v2 driver\ndoes not need to get these objects from the database.\n\nStory: 2007581\nTask: 39503\n\n[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd\n\nChange-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed\n'}, {'number': 2, 'created': '2020-06-29 08:37:54.000000000', 'files': ['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/controller/worker/controller_worker.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d2bef9a47c6497b479d91471fbaec60d993e86ac', 'message': 'Fix batch member create for v1 amphora driver\n\nA previous patch[1] missed batch_member_update when adding database\nrepository ""get"" method retries for new object creation actions.\nThis patch fixes batch member create to retry the database get call\nwhen new members are being created via batch member update.\nThis issue only impacts the v1 amphora driver as the v2 driver\ndoes not need to get these objects from the database.\n\nStory: 2007581\nTask: 39503\n\n[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd\n\nChange-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed\n'}]",0,737156,d2bef9a47c6497b479d91471fbaec60d993e86ac,12,9,2,10366,,,0,"Fix batch member create for v1 amphora driver

A previous patch[1] missed batch_member_update when adding database
repository ""get"" method retries for new object creation actions.
This patch fixes batch member create to retry the database get call
when new members are being created via batch member update.
This issue only impacts the v1 amphora driver as the v2 driver
does not need to get these objects from the database.

Story: 2007581
Task: 39503

[1] https://github.com/openstack/octavia/commit/48e85569f7e43e3dd5f09fd1ef4cb165526a92cd

Change-Id: Ia3476ab7b24dc3fd6e29ff2abe6eb6bacd9908ed
",git fetch https://review.opendev.org/openstack/octavia refs/changes/56/737156/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/test_controller_worker.py', 'octavia/controller/worker/controller_worker.py']",2,715b6c455022fb22c66cdbe1b91770af74239dd1,," @tenacity.retry( retry=tenacity.retry_if_exception_type(db_exceptions.NoResultFound), wait=tenacity.wait_incrementing( RETRY_INITIAL_DELAY, RETRY_BACKOFF, RETRY_MAX), stop=tenacity.stop_after_attempt(RETRY_ATTEMPTS)) # The API may not have commited all of the new member records yet. # Make sure we retry looking them up. if None in new_members or len(new_members) != len(new_member_ids): LOG.warning('Failed to fetch one of the new members from DB. ' 'Retrying for up to 60 seconds.') raise db_exceptions.NoResultFound old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]"," old_members = [self._member_repo.get(db_apis.get_session(), id=mid) for mid in old_member_ids]",16,3
openstack%2Fironic-python-agent~stable%2Ftrain~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,stable/train,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-06 16:50:46.000000000,2020-07-07 09:01:17.000000000,2020-07-07 08:58:41.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 16:50:46.000000000', 'files': ['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/7c036fa18dca97c93e36eb91e30fd6fe4e3a48f0', 'message': 'Fix serializing ironic-lib exceptions\n\nChange-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e\nStory: #2007889\nTask: #40268\n(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)\n'}]",0,739553,7c036fa18dca97c93e36eb91e30fd6fe4e3a48f0,8,3,1,10239,,,0,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/53/739553/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py']",3,7c036fa18dca97c93e36eb91e30fd6fe4e3a48f0,lib-exc-stable/train,"from ironic_lib import exception as lib_exc def serialize_lib_exc(exc): """"""Serialize an ironic-lib exception."""""" return {'type': exc.__class__.__name__, 'code': exc.code, 'message': str(exc), 'details': ''} elif isinstance(o, lib_exc.IronicException): return serialize_lib_exc(o)",,39,0
openstack%2Fironic-python-agent~stable%2Fussuri~If1408e4b81d263c56b4bbab618dd0737db5f762e,openstack/ironic-python-agent,stable/ussuri,If1408e4b81d263c56b4bbab618dd0737db5f762e,Fix serializing ironic-lib exceptions,MERGED,2020-07-06 16:50:34.000000000,2020-07-07 09:00:16.000000000,2020-07-07 08:58:37.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 16:50:34.000000000', 'files': ['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/74e9ed159abf40bb016bd3cdffe8dc02d72c1342', 'message': 'Fix serializing ironic-lib exceptions\n\nChange-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e\nStory: #2007889\nTask: #40268\n(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)\n'}]",0,739552,74e9ed159abf40bb016bd3cdffe8dc02d72c1342,8,3,1,10239,,,0,"Fix serializing ironic-lib exceptions

Change-Id: If1408e4b81d263c56b4bbab618dd0737db5f762e
Story: #2007889
Task: #40268
(cherry picked from commit a4855c544cac35e92ce7c20143536ca7a3bb847a)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/52/739552/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/lib-exc-41ee122eb4a04bc4.yaml', 'ironic_python_agent/tests/unit/test_encoding.py', 'ironic_python_agent/encoding.py']",3,74e9ed159abf40bb016bd3cdffe8dc02d72c1342,lib-exc-stable/ussuri,"from ironic_lib import exception as lib_exc def serialize_lib_exc(exc): """"""Serialize an ironic-lib exception."""""" return {'type': exc.__class__.__name__, 'code': exc.code, 'message': str(exc), 'details': ''} elif isinstance(o, lib_exc.IronicException): return serialize_lib_exc(o)",,39,0
openstack%2Frequirements~master~Id1662fdaaef99f17835df086eaa4e789bd1af503,openstack/requirements,master,Id1662fdaaef99f17835df086eaa4e789bd1af503,Update oslotest constraint to 4.4.0,MERGED,2020-07-06 16:10:47.000000000,2020-07-07 09:00:11.000000000,2020-07-07 08:58:21.000000000,"[{'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-06 16:10:47.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e0d7ac6629006cfd33a20629e48b6c8b41cb7f77', 'message': ""Update oslotest constraint to 4.4.0\n\noslotest constraint to 4.4.0 in generate-constraints patch\nfailed due to nova bug(fix is depends-on).\n- https://review.opendev.org/#/c/739330/\n\nLet's update is with nova fix.\nDepends-On: https://review.opendev.org/#/c/739333/\n\nChange-Id: Id1662fdaaef99f17835df086eaa4e789bd1af503\n""}]",0,739531,e0d7ac6629006cfd33a20629e48b6c8b41cb7f77,17,4,1,8556,,,0,"Update oslotest constraint to 4.4.0

oslotest constraint to 4.4.0 in generate-constraints patch
failed due to nova bug(fix is depends-on).
- https://review.opendev.org/#/c/739330/

Let's update is with nova fix.
Depends-On: https://review.opendev.org/#/c/739333/

Change-Id: Id1662fdaaef99f17835df086eaa4e789bd1af503
",git fetch https://review.opendev.org/openstack/requirements refs/changes/31/739531/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e0d7ac6629006cfd33a20629e48b6c8b41cb7f77,,oslotest===4.4.0,oslotest===4.3.0,1,1
openstack%2Fneutron~stable%2Frocky~I299031a505f05cd0469e2476b867b9dbca59c5bf,openstack/neutron,stable/rocky,I299031a505f05cd0469e2476b867b9dbca59c5bf,Unnecessary routers should not be created,MERGED,2020-03-11 00:09:40.000000000,2020-07-07 08:58:19.000000000,2020-07-07 08:58:19.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 29071}, {'_account_id': 32029}]","[{'number': 1, 'created': '2020-03-11 00:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30969955d6caf1969d40d7c62730864a5da930f2', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 2, 'created': '2020-05-13 04:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/da225787290246f91074b4542ca7623eae5ab9a7', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 3, 'created': '2020-05-29 13:39:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/823172cb56c6cfa7d80496e13d4cd6ac47ff1e8e', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 4, 'created': '2020-05-29 14:05:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d2d0e69c28f72b8c59fdb77fc2c01f77a6138d69', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}, {'number': 5, 'created': '2020-07-06 23:55:51.000000000', 'files': ['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f6401020f7ba406623d49fb43671cb359aca2372', 'message': 'Unnecessary routers should not be created\n\nWe observe an excessive amount of routers created on\ncompute node on which some virtual machines got a fixed\nip on floating network.\n\nRpc servers should filter out those unnecessary routers\nduring syncing.\n\nChange-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf\nPartial-Bug: #1840579\n(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)\n'}]",2,712209,f6401020f7ba406623d49fb43671cb359aca2372,37,9,5,29071,,,0,"Unnecessary routers should not be created

We observe an excessive amount of routers created on
compute node on which some virtual machines got a fixed
ip on floating network.

Rpc servers should filter out those unnecessary routers
during syncing.

Change-Id: I299031a505f05cd0469e2476b867b9dbca59c5bf
Partial-Bug: #1840579
(cherry picked from commit 480b04ce04f98bae6ff4ab13cec9e01b34204134)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/712209/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_dvrscheduler_db.py', 'neutron/tests/unit/db/test_agentschedulers_db.py']",2,30969955d6caf1969d40d7c62730864a5da930f2,bug/1840579-stable/stein-stable/rocky,"from neutron_lib.api.definitions import portbindings def test_sync_dvr_router_with_fixedip_on_fip_net(self): l3_rpc_cb = l3_rpc.L3RpcCallback() self._register_dvr_agents() with self.subnet() as s: # first create an external network net_id = s['subnet']['network_id'] self._set_net_external(net_id) # create router with external gateway router = {'name': 'router1', 'external_gateway_info': {'network_id': net_id}, 'tenant_id': 'tenant_id', 'admin_state_up': True, 'distributed': True} r = self.l3plugin.create_router(self.adminContext, {'router': router}) self.l3plugin.schedule_router(self.adminContext, r['id']) with self.port(subnet=s, device_owner=DEVICE_OWNER_COMPUTE) as port: # bind port to L3_HOSTB updated_port = { ""port"": { portbindings.HOST_ID: L3_HOSTB } } self.plugin.update_port( self.adminContext, port['port']['id'], updated_port ) ret_b = l3_rpc_cb.sync_routers( self.adminContext, host=L3_HOSTB, router_ids=[r['id']]) router_ids = [r['id'] for r in ret_b] self.assertEqual(0, len(router_ids)) ",,47,2
openstack%2Fkolla~master~I0cfde46c29eedce77c70c1c677220814a801ff3a,openstack/kolla,master,I0cfde46c29eedce77c70c1c677220814a801ff3a,Remove sensu images,MERGED,2020-07-06 09:32:23.000000000,2020-07-07 08:52:49.000000000,2020-07-07 08:50:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}]","[{'number': 1, 'created': '2020-07-06 09:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b164bd8e90e954fecec52874ec0202e92e5f55de', 'message': 'Remove sensu images\n\nThey have been deprecated in Ussuri [1].\n\n[1]: https://review.opendev.org/#/c/711636/\n\nChange-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a\n'}, {'number': 2, 'created': '2020-07-06 09:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d04efad3a4b6e389e7d13e78b0c0a5ea82f3f1f5', 'message': 'Remove sensu images\n\nThey have been deprecated in Ussuri [1].\n\n[1]: https://review.opendev.org/#/c/711636/\n\nChange-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a\n'}, {'number': 3, 'created': '2020-07-06 09:50:21.000000000', 'files': ['docker/sensu/sensu-base/extend_start.sh', 'kolla/template/repos.yaml', 'docker/sensu/sensu-api/Dockerfile.j2', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'doc/source/matrix_aarch64.csv', 'tools/validate-binary-build.sh', 'docker/sensu/sensu-base/Dockerfile.j2', 'releasenotes/notes/remove-sensu-a20b01d025385aa1.yaml', 'docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0cfd36292cccb8d3af9c65a1dff9696f50870df6', 'message': 'Remove sensu images\n\nThey have been deprecated in Ussuri [1].\n\n[1]: https://review.opendev.org/#/c/711636/\n\nChange-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a\n'}]",0,739440,0cfd36292cccb8d3af9c65a1dff9696f50870df6,15,5,3,22629,,,0,"Remove sensu images

They have been deprecated in Ussuri [1].

[1]: https://review.opendev.org/#/c/711636/

Change-Id: I0cfde46c29eedce77c70c1c677220814a801ff3a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/739440/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/sensu/sensu-base/Dockerfile.j2', 'docker/sensu/sensu-base/extend_start.sh', 'docker/sensu/sensu-api/Dockerfile.j2', 'docker/sensu/sensu-server/Dockerfile.j2', 'docker/sensu/sensu-client/Dockerfile.j2']",5,b164bd8e90e954fecec52874ec0202e92e5f55de,remove_sensu,,"FROM {{ namespace }}/{{ image_prefix }}sensu-base:{{ tag }} {% block labels %} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% endblock %} {% block sensu_client_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {{ macros.enable_extra_repos(['ceph']) }} {% if base_package_type == 'rpm' %} {% set sensu_client_packages = [ 'ceph-common', 'cyrus-sasl-devel', 'docker-client', 'gcc-c++', 'make', 'mariadb', 'ntp', 'python3-pymongo', 'ruby-devel' ] %} {% elif base_package_type == 'deb' %} {% set sensu_client_packages = [ 'build-essential', 'ceph-common', 'docker.io', 'inetutils-ping', 'libsasl2-dev', 'mysql-client', 'ntp', 'python3-cephfs', 'python3-pymongo', 'python3-rados', 'python3-rbd' ] %} {% else %} RUN echo '{{ image_name }} not yet available for {{ base_distro }}' \ && /bin/false {% endif %} {{ macros.install_packages(sensu_client_packages | customizable(""packages"")) }} {% block sensu_clients_install %} # Sensu plugins are all using semantic versioning. # Let's cap them to the known major version that works with the ruby shipped on # rhel/centos (currently 2.0) {% set sensu_plugins = [ 'cpu-checks:""~>1""', 'disk-checks:""~>2""', 'dns:""~>1""', 'docker:""~>3""', 'elasticsearch:""~>1""', 'filesystem-checks:""~>1""', 'haproxy:""~>1""', 'http:""~>1""', 'io-checks:""~>1""', 'load-checks:""~>3""', 'memcached:""~>0""', 'memory-checks:""~>1""', 'mongodb:""~>0""', 'mysql:""~>2""', 'network-checks:""~>2""', 'ntp:""~>1""', 'openstack:""~>1""', 'rabbitmq:""~>3""', 'redis:""~>2""', 'uptime-checks:""~>1""', 'vmstats:""~>1""' ] %} # TODO(mandre) Use packaged sensu plugins from centos-opstools for binary distro # http://cbs.centos.org/koji/search?match=glob&type=package&terms=*sensu* # NOTE(hrw): whois 5.0.0 requires Ruby 2.4+ while CentOS has 2.0 # NOTE(yoctozepto): pinning minitest for the same reason RUN {%if base_package_type == 'rpm' %} gem install whois:""<5"" minitest:""~>5.11.3"" && {% endif %} sensu-install --plugins {{ sensu_plugins | customizable('plugins') | join (',') }} {% endblock %} {% block sensu_client_footer %}{% endblock %} {% block footer %}{% endblock %} ",0,174
openstack%2Fdevstack~master~I5459b8976539924cd6cc6c1e681b6753a76b804c,openstack/devstack,master,I5459b8976539924cd6cc6c1e681b6753a76b804c,Allow IP-based subject alt names,MERGED,2018-11-30 22:43:54.000000000,2020-07-07 08:45:48.000000000,2020-07-07 08:43:50.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-30 22:43:54.000000000', 'files': ['lib/tls'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0137703825ea5f493e7486e19c2d83b328ca2998', 'message': ""Allow IP-based subject alt names\n\n... even when no other subject alt names provided\n\nPreviously, a non-voting job in barbican's gate would fail with something like\n\n  X509 V3 routines:X509V3_parse_list:invalid null name:v3_utl.c:319:\n  X509 V3 routines:DO_EXT_NCONF:invalid extension string:v3_conf.c:140:name=subjectAltName,section=DNS:pykmip-server,,IP:198.72.124.103\n  X509 V3 routines:X509V3_EXT_nconf:error in extension:v3_conf.c:95:name=subjectAltName, value=DNS:pykmip-server,,IP:198.72.124.103\n\nbecause we'd have an invalid empty string.\n\nChange-Id: I5459b8976539924cd6cc6c1e681b6753a76b804c\n""}]",0,621307,0137703825ea5f493e7486e19c2d83b328ca2998,13,6,1,15343,,,0,"Allow IP-based subject alt names

... even when no other subject alt names provided

Previously, a non-voting job in barbican's gate would fail with something like

  X509 V3 routines:X509V3_parse_list:invalid null name:v3_utl.c:319:
  X509 V3 routines:DO_EXT_NCONF:invalid extension string:v3_conf.c:140:name=subjectAltName,section=DNS:pykmip-server,,IP:198.72.124.103
  X509 V3 routines:X509V3_EXT_nconf:error in extension:v3_conf.c:95:name=subjectAltName, value=DNS:pykmip-server,,IP:198.72.124.103

because we'd have an invalid empty string.

Change-Id: I5459b8976539924cd6cc6c1e681b6753a76b804c
",git fetch https://review.opendev.org/openstack/devstack refs/changes/07/621307/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tls'],1,0137703825ea5f493e7486e19c2d83b328ca2998,," if [[ -z ""$alt_names"" ]]; then alt_names=""IP:$SERVICE_HOST"" else alt_names=""$alt_names,IP:$SERVICE_HOST"" fi"," alt_names=""$alt_names,IP:$SERVICE_HOST""",5,1
openstack%2Fdiskimage-builder~master~I374f7f22f9e93ef35eb5813712ca59e75f0733e8,openstack/diskimage-builder,master,I374f7f22f9e93ef35eb5813712ca59e75f0733e8,Use kpartx option to update partition mappings,MERGED,2020-05-18 12:32:25.000000000,2020-07-07 08:29:53.000000000,2020-07-07 08:27:29.000000000,"[{'_account_id': 2}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 16068}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-05-18 12:32:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3450176dd647c3d587784021eeceb41cce4f1643', 'message': 'Use kpartx option to update partition mappings\n\nRelated issue https://bugs.launchpad.net/diskimage-builder/+bug/1698337\n\nThis fixed the following issue:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\n'}, {'number': 2, 'created': '2020-05-18 13:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4762a384d1796a33d5df63febd3b802dda587ac0', 'message': 'Use kpartx option to update partition mappings\n\nRelated issue https://bugs.launchpad.net/diskimage-builder/+bug/1698337\n\nThis fixed the following issue:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\n'}, {'number': 3, 'created': '2020-05-18 13:41:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ae580ab8fe18b23642c8d42cdc4eec12cf369415', 'message': 'Use kpartx option to update partition mappings\n\nRelated issue https://bugs.launchpad.net/diskimage-builder/+bug/1698337\n\nThis fixed the following issue:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\n'}, {'number': 4, 'created': '2020-05-19 07:21:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7e9c7a8e816ef16646387eade4fe86dbf8a83b45', 'message': 'Use kpartx option to update partition mappings\n\nRelated issue https://bugs.launchpad.net/diskimage-builder/+bug/1698337\n\nThis fixed the following issue:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\n'}, {'number': 5, 'created': '2020-06-02 05:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/9920c6a58c86aaab7786b7abfb027c5c18d7e75a', 'message': 'Use kpartx option to update partition mappings\n\nRelated issue https://bugs.launchpad.net/diskimage-builder/+bug/1698337\n\nThis fixed the following issue:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\n'}, {'number': 6, 'created': '2020-06-09 10:55:25.000000000', 'files': ['releasenotes/notes/block-device-update-partition-table-eb4ff077f90dfb19.yaml', 'diskimage_builder/block_device/tests/test_gpt.py', 'diskimage_builder/block_device/tests/test_lvm.py', 'diskimage_builder/block_device/level1/partitioning.py'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4a424ecabbb14e230be45864ee7eeca3722d49e8', 'message': 'Use kpartx option to update partition mappings\n\nFix cases of \'mkfs\' failing because the partitions never showed up. Partition\nmappings will now be updated instead of just adding them with \'kpartx\'. That\nmeans that \'kpartx\' will also remove devmappings for deleted partitions.\n\nTraceback of failing mkfs call:\n\n2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]\n2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]\n2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]\n2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated\n2020-05-11 22:03:25.700 | Traceback (most recent call last):\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.700 |     node.create()\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.700 |     exec_sudo(cmd)\n2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.700 |     raise e\n2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach\n2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]\n2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]\n2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting\n2020-05-11 22:03:25.740 | Traceback (most recent call last):\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>\n2020-05-11 22:03:25.740 |     sys.exit(main())\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main\n2020-05-11 22:03:25.740 |     return bdc.main()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main\n2020-05-11 22:03:25.740 |     self.args.func()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create\n2020-05-11 22:03:25.740 |     self.bd.cmd_create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create\n2020-05-11 22:03:25.740 |     node.create()\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create\n2020-05-11 22:03:25.740 |     exec_sudo(cmd)\n2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo\n2020-05-11 22:03:25.740 |     raise e\n2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed\n\nChange-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8\nRelated-Bug: #1698337\n'}]",0,728824,4a424ecabbb14e230be45864ee7eeca3722d49e8,34,8,6,27582,,,0,"Use kpartx option to update partition mappings

Fix cases of 'mkfs' failing because the partitions never showed up. Partition
mappings will now be updated instead of just adding them with 'kpartx'. That
means that 'kpartx' will also remove devmappings for deleted partitions.

Traceback of failing mkfs call:

2020-05-11 22:03:25.523 | INFO diskimage_builder.block_device.utils [-] Calling [sudo sync]
2020-05-11 22:03:25.539 | INFO diskimage_builder.block_device.utils [-] Calling [sudo kpartx -avs /dev/loop0]
2020-05-11 22:03:25.581 | INFO diskimage_builder.block_device.utils [-] Calling [sudo mkfs -t ext4 -i 4096 -J size=64 -L cloudimg-rootfs -U 21c6f9eb-4d52-4e5c-b9b7-796735de8909 -q /dev/mapper/loop0p1]
2020-05-11 22:03:25.700 | ERROR diskimage_builder.block_device.blockdevice [-] Create failed; rollback initiated
2020-05-11 22:03:25.700 | Traceback (most recent call last):
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create
2020-05-11 22:03:25.700 |     node.create()
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create
2020-05-11 22:03:25.700 |     exec_sudo(cmd)
2020-05-11 22:03:25.700 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo
2020-05-11 22:03:25.700 |     raise e
2020-05-11 22:03:25.700 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed
2020-05-11 22:03:25.700 | INFO diskimage_builder.block_device.level0.localloop [-] loopdev detach
2020-05-11 22:03:25.701 | INFO diskimage_builder.block_device.utils [-] Calling [sudo losetup -d /dev/loop0]
2020-05-11 22:03:25.732 | INFO diskimage_builder.block_device.level0.localloop [-] Remove image file [/tmp/dib_image.muyw7t1h/image0.raw]
2020-05-11 22:03:25.734 | ERROR diskimage_builder.block_device.blockdevice [-] Rollback complete, exiting
2020-05-11 22:03:25.740 | Traceback (most recent call last):
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/bin/dib-block-device"", line 8, in <module>
2020-05-11 22:03:25.740 |     sys.exit(main())
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 120, in main
2020-05-11 22:03:25.740 |     return bdc.main()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 115, in main
2020-05-11 22:03:25.740 |     self.args.func()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/cmd.py"", line 36, in cmd_create
2020-05-11 22:03:25.740 |     self.bd.cmd_create()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/blockdevice.py"", line 406, in cmd_create
2020-05-11 22:03:25.740 |     node.create()
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/level2/mkfs.py"", line 133, in create
2020-05-11 22:03:25.740 |     exec_sudo(cmd)
2020-05-11 22:03:25.740 |   File ""/home/zuul/dib/lib/python3.6/site-packages/diskimage_builder/block_device/utils.py"", line 143, in exec_sudo
2020-05-11 22:03:25.740 |     raise e
2020-05-11 22:03:25.740 | diskimage_builder.block_device.exception.BlockDeviceSetupException: exec_sudo failed

Change-Id: I374f7f22f9e93ef35eb5813712ca59e75f0733e8
Related-Bug: #1698337
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/24/728824/5 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/block_device/level1/partitioning.py'],1,3450176dd647c3d587784021eeceb41cce4f1643,blockdev," exec_sudo([""kpartx"", ""-auvs"", self.device_path])"," exec_sudo([""kpartx"", ""-avs"", self.device_path])",1,1
openstack%2Fopenstack-ansible~master~Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,openstack/openstack-ansible,master,Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f,Fix tmpfiles-setup wait handler,MERGED,2020-07-02 12:09:50.000000000,2020-07-07 08:27:42.000000000,2020-07-06 22:53:33.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-02 12:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/50e6e176d2f946e413b440ddc7c7e4abcceffd6f', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f\n'}, {'number': 2, 'created': '2020-07-02 12:18:28.000000000', 'files': ['playbooks/common-tasks/os-lxc-container-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/61941eaa8fbf024387fda886b89df7dc601945b4', 'message': 'Fix tmpfiles-setup wait handler\n\nPrecess column was present only for CentOS 8 and is not applicable for\nother distros. In the meanwhile Active column is present in all distros.\n\nChange-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f\n'}]",0,739025,61941eaa8fbf024387fda886b89df7dc601945b4,12,3,2,28619,,,0,"Fix tmpfiles-setup wait handler

Precess column was present only for CentOS 8 and is not applicable for
other distros. In the meanwhile Active column is present in all distros.

Change-Id: Ie84eddef70d4fa7a9a42cdc2c82ec101f888545f
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/25/739025/2 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/os-lxc-container-setup.yml'],1,50e6e176d2f946e413b440ddc7c7e4abcceffd6f,, raw: systemctl status systemd-tmpfiles-setup.service | grep 'Active:' | grep 'exited' >/dev/null, raw: systemctl status systemd-tmpfiles-setup.service | grep Process | grep 'code=exited' >/dev/null,1,1
openstack%2Ftripleo-heat-templates~master~I6863b5fb112c828304a23c368c3dbaf12902e0eb,openstack/tripleo-heat-templates,master,I6863b5fb112c828304a23c368c3dbaf12902e0eb,Let redundant HostEntryValue (with YAQL in it) go,ABANDONED,2020-07-06 16:18:13.000000000,2020-07-07 08:27:11.000000000,,"[{'_account_id': 8833}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2020-07-06 16:18:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a3d3a4724aa6a04ad6adcc717686050ee661ef8', 'message': 'Let redundant HostEntryValue (with YAQL in it) go\n\nStoring HostEntryValue in Heat provide no value but\n""niceness"" of storing /etc/hosts entries. That is by the price of the\nincreased YAQL memory footprint.\n\nDrop that value and use HostEntry instead, just ""ugly"" as is. Empty\nvalues will not be filtered. Deduplication will be partially handled by\nlist_concat_unique instead.\n\nChange-Id: I6863b5fb112c828304a23c368c3dbaf12902e0eb\nCloses-Bug: #1886203\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2020-07-06 16:24:09.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4e6a5a304e9852a56f7bc4f3d5e5b3f4b0edb230', 'message': 'Let redundant HostEntryValue (with YAQL in it) go\n\nStoring HostEntryValue in Heat provide no value but\n""niceness"" of storing /etc/hosts entries. That is by the price of the\nincreased YAQL memory footprint.\n\nDrop that value and use HostsValue instead, just ""ugly"" as is. Empty\nvalues will not be filtered. Deduplication will be partially handled by\nlist_concat_unique instead.\n\nChange-Id: I6863b5fb112c828304a23c368c3dbaf12902e0eb\nCloses-Bug: #1886203\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",0,739539,4e6a5a304e9852a56f7bc4f3d5e5b3f4b0edb230,7,7,2,6926,,,0,"Let redundant HostEntryValue (with YAQL in it) go

Storing HostEntryValue in Heat provide no value but
""niceness"" of storing /etc/hosts entries. That is by the price of the
increased YAQL memory footprint.

Drop that value and use HostsValue instead, just ""ugly"" as is. Empty
values will not be filtered. Deduplication will be partially handled by
list_concat_unique instead.

Change-Id: I6863b5fb112c828304a23c368c3dbaf12902e0eb
Closes-Bug: #1886203
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/739539/2 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,5a3d3a4724aa6a04ad6adcc717686050ee661ef8,," HostsEntry: {get_attr: [HostsEntry, value, entries]} - {get_attr: [HostsEntry, value, entries]}"," HostsEntryValue: type: OS::Heat::Value properties: value: yaql: expression: coalesce($.data, []).where($ != null).where($ != []).flatten().distinct() data: {get_attr: [HostsValue, value, entries]} HostsEntry: {get_attr: [HostsEntryValue, value]} - {get_attr: [HostsEntryValue, value]}",2,10
openstack%2Fhorizon~master~I569097d6088a99542f3694e18c8d00a2b0dcf9a1,openstack/horizon,master,I569097d6088a99542f3694e18c8d00a2b0dcf9a1,Add plugin cross jobs,MERGED,2020-06-25 01:31:53.000000000,2020-07-07 08:15:07.000000000,2020-07-07 08:11:08.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-25 01:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/0c12f0127a4ee50c87ac70086d6e6858d801d97c', 'message': 'WIP: Add plugin cross jobs\n\nChange-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1\n'}, {'number': 2, 'created': '2020-06-25 01:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/c10a44e20fef5a3dd5b60966d14683889ae01203', 'message': 'WIP: Add plugin cross jobs\n\nChange-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1\n'}, {'number': 3, 'created': '2020-06-26 07:49:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6b8a9ac94ead2fd5f8fe18d9b985e392ec1a7f64', 'message': ""Add plugin cross jobs\n\nThis commit adds two types of cross repository jobs: python unit test\nand npm test. The initial commit covers the following plugins.\nThey can be used as templates if more projects are tested as cross jobs.\n\n* manila-ui for python unit test\n* ironic-ui for npm test\n\nNote that ironic-ui python unit test has only one test which checks\nthe panel is registered expectedly, so I don't think we need to cover\nironic-ui as a cross python unit test job.\n\nChange-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1\n""}, {'number': 4, 'created': '2020-07-01 03:29:36.000000000', 'files': ['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/5ef68211722b6bef0174606038cc5ab8a3f8cc82', 'message': ""Add plugin cross jobs\n\nThis commit adds two types of cross repository jobs: python unit test and\nnpm test. The initial commit covers the following plugins as non-voting jobs.\nThey can be used as templates if more projects are tested as cross jobs.\n\n* manila-ui for python unit test\n* ironic-ui for npm test\n\nNote that ironic-ui python unit test has only one test which checks\nthe panel is registered expectedly, so I don't think we need to cover\nironic-ui as a cross python unit test job.\n\nChange-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1\n""}]",2,737891,5ef68211722b6bef0174606038cc5ab8a3f8cc82,22,4,4,841,,,0,"Add plugin cross jobs

This commit adds two types of cross repository jobs: python unit test and
npm test. The initial commit covers the following plugins as non-voting jobs.
They can be used as templates if more projects are tested as cross jobs.

* manila-ui for python unit test
* ironic-ui for npm test

Note that ironic-ui python unit test has only one test which checks
the panel is registered expectedly, so I don't think we need to cover
ironic-ui as a cross python unit test job.

Change-Id: I569097d6088a99542f3694e18c8d00a2b0dcf9a1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/91/737891/4 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/cross-jobs.yaml']",2,0c12f0127a4ee50c87ac70086d6e6858d801d97c,cross-jobs,"- project-template: name: horizon-cross-jobs check: jobs: - horizon-cross-manila-ui - job: name: horizon-cross-manila-ui parent: openstack-tox vars: tox_envlist: py38 zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/manila-ui'].src_dir }}"" required-projects: - openstack/manila-ui ",,15,0
openstack%2Fgovernance-sigs~master~I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7,openstack/governance-sigs,master,I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7,Added the Cloud Research SIG in the forming state,MERGED,2020-07-06 22:04:39.000000000,2020-07-07 08:06:31.000000000,2020-07-07 08:04:44.000000000,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 12404}, {'_account_id': 15993}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 22:04:39.000000000', 'files': ['sigs.yaml'], 'web_link': 'https://opendev.org/openstack/governance-sigs/commit/f6e43d04ec55981121677b6cad57ff03ab1d2b3f', 'message': 'Added the Cloud Research SIG in the forming state\n\nChange-Id: I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7\n'}]",0,739616,f6e43d04ec55981121677b6cad57ff03ab1d2b3f,10,5,1,30855,,,0,"Added the Cloud Research SIG in the forming state

Change-Id: I3c39a9f241cf9e0a0e9c3ba33bb81441228538c7
",git fetch https://review.opendev.org/openstack/governance-sigs refs/changes/16/739616/1 && git format-patch -1 --stdout FETCH_HEAD,['sigs.yaml'],1,f6e43d04ec55981121677b6cad57ff03ab1d2b3f,,"Cloud Research: chairs: - name: Mohamed Elsakhawy irc: melsakhawy email: m2elsakha@gmail.com scope: > The Cloud Research SIG aims to bridge the gap between Academic Research in Cloud Computing and Technology projects within OpenStack by establishing a collaboration space for Cloud researchers to discuss advancements in Cloud research and methodologies to implement them in OpenStack. The group is also a communication space for researchers that are looking for guidance on how to evaluate their research work ( e.g., placement algorithms, model-free frameworks...etc.) in Openstack. status: forming url: https://etherpad.opendev.org/p/cloud-research-sig ",,16,0
openstack%2Fceilometer~master~I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea,openstack/ceilometer,master,I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea,Fix dynamic pollster samples indentation in the documentation,MERGED,2020-07-03 22:09:10.000000000,2020-07-07 07:43:20.000000000,2020-07-07 07:39:54.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 22:09:10.000000000', 'files': ['doc/source/admin/telemetry-dynamic-pollster.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/49e9744f8d476a474c0b2fbe1ca112b62f15ba0e', 'message': 'Fix dynamic pollster samples indentation in the documentation\n\nChange-Id: I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea\n'}]",0,739288,49e9744f8d476a474c0b2fbe1ca112b62f15ba0e,8,3,1,28356,,,0,"Fix dynamic pollster samples indentation in the documentation

Change-Id: I2c07bf43d1a230c0a6bf48755d91d41c64abc9ea
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/88/739288/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/telemetry-dynamic-pollster.rst'],1,49e9744f8d476a474c0b2fbe1ca112b62f15ba0e,fix-dynamic-pollster-doc-configs," sample_type: ""gauge"" unit: ""ipsec_site_connection"" value_attribute: ""status"" endpoint_type: ""network"" url_path: ""v2.0/vpn/ipsec-site-connections"" metadata_fields: - ""name"" - ""vpnservice_id"" - ""description"" - ""status"" - ""peer_address"" value_mapping: ACTIVE: ""1"" metadata_mapping: name: ""display_name"" default_value: 0 sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>,<secret_key>,<rados_gateway_server>"" user_id_attribute: ""user"" project_id_attribute: ""user"" resource_id_attribute: ""user"" response_entries_key: ""summary"" sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.successful_ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>, <secret_key>,<rados_gateway_server>"" user_id_attribute: ""user"" project_id_attribute: ""user"" resource_id_attribute: ""user"" response_entries_key: ""summary"" sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.successful_ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>,<secret_key>,<rados_gateway_server>"" user_id_attribute: ""user | value.split ('$') | value[0]"" project_id_attribute: ""user | value.split ('$') | value[0]"" resource_id_attribute: ""user | value.split ('$') | value[0]"" response_entries_key: ""summary"""," sample_type: ""gauge"" unit: ""ipsec_site_connection"" value_attribute: ""status"" endpoint_type: ""network"" url_path: ""v2.0/vpn/ipsec-site-connections"" metadata_fields: - ""name"" - ""vpnservice_id"" - ""description"" - ""status"" - ""peer_address"" value_mapping: ACTIVE: ""1"" metadata_mapping: name: ""display_name"" default_value: 0 sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>, <secret_key>, <rados_gateway_server>"" user_id_attribute: ""user"" project_id_attribute: ""user"" resource_id_attribute: ""user"" response_entries_key: ""summary"" sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.successful_ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>, <secret_key>, <rados_gateway_server>"" user_id_attribute: ""user"" project_id_attribute: ""user"" resource_id_attribute: ""user"" response_entries_key: ""summary"" sample_type: ""gauge"" unit: ""request"" value_attribute: ""total.successful_ops"" url_path: ""http://rgw.service.stage.i.ewcs.ch/admin/usage"" module: ""awsauth"" authentication_object: ""S3Auth"" authentication_parameters: ""<access_key>, <secret_key>, <rados_gateway_server>"" user_id_attribute: ""user | value.split ('$') | value[0]"" project_id_attribute: ""user | value.split ('$') | value[0]"" resource_id_attribute: ""user | value.split ('$') | value[0]"" response_entries_key: ""summary""",49,52
openstack%2Fnova~master~If1cb51404c9c99b1f638a8fafdba5ae01d671aef,openstack/nova,master,If1cb51404c9c99b1f638a8fafdba5ae01d671aef,online data migration for cpuset of dedicated instance,ABANDONED,2020-04-08 15:37:31.000000000,2020-07-07 07:29:28.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9f7eb30fded3f4487bbfd7217869ce5fc6b75581', 'message': 'online data migration for cpuset of dedicated instance\n\nThis patch offers an online data migration method for dedicated\ninstance since we have offerred `InstanceNUMACell.pcpuset` for\ndedicated cpuset, which is kept in `InstanceNUMACell.cpuset`\nfield before Ussuri.\n\nChange-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef\n'}, {'number': 2, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/476029f11805ee016f88a088d7e6e39ea253160a', 'message': 'online data migration for cpuset of dedicated instance\n\nThis patch offers an online data migration method for dedicated\ninstance since we have offerred `InstanceNUMACell.pcpuset` for\ndedicated cpuset, which is kept in `InstanceNUMACell.cpuset`\nfield before Ussuri.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 3, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/effe5aaa0c24b60304b994da21fc0026f6e38bd0', 'message': 'online data migration for cpuset of dedicated instance\n\nThis patch offers an online data migration method for dedicated\ninstance since we have offerred `InstanceNUMACell.pcpuset` for\ndedicated cpuset, which is kept in `InstanceNUMACell.cpuset`\nfield before Ussuri.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 4, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5629535fc63090b2ed4f6e126b7dcf6af9773219', 'message': 'online data migration for cpuset of dedicated instance\n\nThis patch offers an online data migration method for dedicated\ninstance since we have offerred `InstanceNUMACell.pcpuset` for\ndedicated cpuset, which is kept in `InstanceNUMACell.cpuset`\nfield before Ussuri.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}, {'number': 5, 'created': '2020-06-19 15:35:36.000000000', 'files': ['nova/tests/functional/db/test_instance.py', 'nova/cmd/manage.py', 'nova/objects/instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/01ebd86204375cdca8f6a4f8f78fad5b7d727073', 'message': 'online data migration for cpuset of dedicated instance\n\nThis patch offers an online data migration method for dedicated\ninstance since we have offerred `InstanceNUMACell.pcpuset` for\ndedicated cpuset, which is kept in `InstanceNUMACell.cpuset`\nfield before Ussuri.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n'}]",22,718493,01ebd86204375cdca8f6a4f8f78fad5b7d727073,44,14,5,30209,,,0,"online data migration for cpuset of dedicated instance

This patch offers an online data migration method for dedicated
instance since we have offerred `InstanceNUMACell.pcpuset` for
dedicated cpuset, which is kept in `InstanceNUMACell.cpuset`
field before Ussuri.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: If1cb51404c9c99b1f638a8fafdba5ae01d671aef
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/93/718493/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/db/test_instance.py', 'nova/cmd/manage.py', 'nova/objects/instance.py']",3,9f7eb30fded3f4487bbfd7217869ce5fc6b75581,bp/use-pcpu-and-vcpu-in-one-instance,"@db_api.pick_context_manager_writer def migrate_dedicated_instance_cpuset(context, count): """"""Migrate pre-Ussuri 'cpuset' to 'pcpuset' for dedicated instance."""""" instances = (context.session.query(models.InstanceExtra) .filter(models.InstanceExtra.numa_topology != null()) .filter(models.InstanceExtra.numa_topology.contains( 'nova_object.name')) .filter_by(deleted=0) .limit(count).all()) count_all = 0 count_hit = 0 for instance in instances: primitive = jsonutils.loads(instance.numa_topology) topo = objects.InstanceNUMATopology.obj_from_primitive(primitive) # all instance NUMA cells should have the same CPU allocation policy, # so here take the policy from the first NUMA cell. if (not len(topo) or topo.cells[0].cpu_policy != fields.CPUAllocationPolicy.DEDICATED): continue topo_data = primitive['nova_object.data'] cell0_cpuset = topo_data['cells'][0]['nova_object.data']['cpuset'] if not cell0_cpuset: continue count_all += 1 instance.numa_topology = jsonutils.dumps(topo.obj_to_primitive()) instance.save(context.session) count_hit += 1 return count_all, count_hit ",,86,0
openstack%2Fnova~master~I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8,openstack/nova,master,I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8,Setup 'mixed' instance through 'PCPU' and 'VCPU' resource,NEW,2020-03-17 00:55:27.000000000,2020-07-07 07:26:38.000000000,,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 29963}, {'_account_id': 30209}]","[{'number': 1, 'created': '2020-03-17 00:55:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2b33ed05f342b23179445bef55be4bb3adeb2553', 'message': ""Introduce the interface of creating 'MIXED' policy instance through 'PCPU' and 'VCPU'\n\nIntroduce another interface for creating the 'MIXED' instance through 'PCPU' and 'VCPU'\nresources interface.\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 2, 'created': '2020-03-24 14:30:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb8f290d7ed8dbf970157b404c60bbc46654c357', 'message': ""Introduce the interface of creating 'MIXED' policy instance through 'PCPU' and 'VCPU'\n\nIntroduce another interface for creating the 'MIXED' instance through 'PCPU' and 'VCPU'\nresources interface.\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 3, 'created': '2020-03-25 09:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/a9207a167de9733a19b0f5a7199962d517256dc8', 'message': ""Introduce the interface of creating 'MIXED' policy instance through 'PCPU' and 'VCPU'\n\nIntroduce another interface for creating the 'MIXED' instance through 'PCPU' and 'VCPU'\nresources interface.\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 4, 'created': '2020-03-26 16:25:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/35a16cc75bc474260fa583b168fd51994b1cfb92', 'message': ""Introduce the interface of creating 'MIXED' policy instance through 'PCPU' and 'VCPU'\n\nIntroduce another interface for creating the 'MIXED' instance through 'PCPU' and 'VCPU'\nresources interface.\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 5, 'created': '2020-03-31 12:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7de1ef650ea6cd8261e855ffb9d57208a793ce42', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 6, 'created': '2020-04-08 02:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/44d06406beb4304e7935ae732086f6911cd9e6a4', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 7, 'created': '2020-04-08 02:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1652833238ad2a1653945c3f97ea53ea47035363', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 8, 'created': '2020-04-08 02:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/436a39bf9fd52a4e07aaff4e4bb3c0e9f6923204', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 9, 'created': '2020-04-08 10:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9dd71a06bd2ee606a25627deb21aaa8bd70e51ad', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 10, 'created': '2020-04-08 15:37:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f00949edee47a532f93be2784b673325b582302a', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\n""}, {'number': 11, 'created': '2020-05-15 15:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e677cd005e847f7438cd0b3a8f8abf828ad10581', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 12, 'created': '2020-05-15 16:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f38d269c56dbd09bfe8ddb75f2ed796a10ea3b8d', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 13, 'created': '2020-06-19 15:11:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/11419ab0477a96b4e6965f11c464244f3c558a20', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}, {'number': 14, 'created': '2020-06-19 15:35:36.000000000', 'files': ['nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e9f41bb2aab9bcf6641e891cf4ebae201dbdf42', 'message': ""Setup 'mixed' instance through 'PCPU' and 'VCPU' resource\n\nIntroduced another interface for creating the 'MIXED' instance\nthrough 'PCPU' and 'VCPU' resources interface.\n\nAlso introduced a helper, the _dedicated_cpus_from_resource,\nwith the purpose to put the instance dedicated CPUs behind\nthe shared CPUs.\n\nPart of blueprint use-pcpu-and-vcpu-in-one-instance\n\nChange-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8\nSigned-off-by: Wang Huaqiang <huaqiang.wang@intel.com>\n""}]",39,713355,0e9f41bb2aab9bcf6641e891cf4ebae201dbdf42,96,15,14,30209,,,0,"Setup 'mixed' instance through 'PCPU' and 'VCPU' resource

Introduced another interface for creating the 'MIXED' instance
through 'PCPU' and 'VCPU' resources interface.

Also introduced a helper, the _dedicated_cpus_from_resource,
with the purpose to put the instance dedicated CPUs behind
the shared CPUs.

Part of blueprint use-pcpu-and-vcpu-in-one-instance

Change-Id: I6a14688aa9d9091b19c744b23d0ec0e1ce6b96b8
Signed-off-by: Wang Huaqiang <huaqiang.wang@intel.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/713355/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_hardware.py', 'nova/tests/unit/scheduler/test_utils.py', 'nova/virt/hardware.py']",3,2b33ed05f342b23179445bef55be4bb3adeb2553,bp/use-pcpu-and-vcpu-in-one-instance,"def pinned_cpus_from_resource(numa_topology, vcpus, resource_vcpus): """"""Set instance pinning CPUs For a 'mixed' instance created by requesting 'resorucesNN:VCPU' and 'resourcesNN:PCPU' resources, it need a policy for how the resources to be distributed on instance, that is which vCPU is pinned and which is not. Here we use a policy to guarantee the unpinned CPU will be put at the beginning of the NUMA cell, and if vCPU resource is very few, it ensures it will be put on the NUMA cell of a smaller cell ID. """""" vcpu_position = dict() cell_count = len(numa_topology.cells) cpus_per_cell = [len(cell.cpuset) for cell in numa_topology.cells] cellid = 0 coluid = 0 i = 0 while i < vcpus: if coluid < cpus_per_cell[cellid]: vcpu = sum(cpus_per_cell[:cellid]) + coluid vcpu_position[i] = vcpu i += 1 cellid += 1 if cellid == cell_count: cellid = 0 coluid += 1 vcpu_position = {k: v for k, v in vcpu_position.items() if k >= resource_vcpus} return set(vcpu_position.values()) if (emu_threads_policy == fields.CPUEmulatorThreadsPolicy.ISOLATE and flavor.vcpus + 1 != requested_pcpus + requested_vcpus): raise exception.InvalidRequest( ""You have requested 'hw:emulator_threads_policy=isolate' but "" ""have not requested sufficient PCPUs or VCPUs to handle this "" ""policy; the PCPUs and VCPUs number in total must be equal to "" ""flavor.vcpus + 1"") if (emu_threads_policy != fields.CPUEmulatorThreadsPolicy.ISOLATE and flavor.vcpus != requested_pcpus + requested_vcpus): raise exception.InvalidRequest( ""There is a mismatch between the number of PCPUs and VCPUs "" ""requested via 'resourcesNN:PCPU' and 'resourcesNN::VCPU' and "" ""the flavor); the VCPUs and PCPUs resource number in total "" ""must be equal to flavor.vcpus"") cpu_policy = fields.CPUAllocationPolicy.MIXED elif requested_pcpus: elif requested_vcpus: if requested_pcpus: cpuset_pinned = pinned_cpus_from_resource(numa_topology, flavor.vcpus, requested_vcpus) "," raise exception.InvalidRequest( ""It is not possible to specify both 'resources:VCPU' and "" ""'resources:PCPU' extra specs; use one or the other"") if requested_pcpus: if requested_vcpus:",189,6
openstack%2Fkolla~master~I21be28113c6448e0a70747a907a3825c44158dfe,openstack/kolla,master,I21be28113c6448e0a70747a907a3825c44158dfe,Remove opendaylight image,ABANDONED,2020-06-09 15:39:05.000000000,2020-07-07 07:07:15.000000000,,"[{'_account_id': 167}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-09 15:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d96b1c130243b3130e4505f6f211daca8c75a71d', 'message': 'Remove opendaylight image\n\nChange-Id: I21be28113c6448e0a70747a907a3825c44158dfe\n'}, {'number': 2, 'created': '2020-06-09 15:41:07.000000000', 'files': ['doc/source/admin/template-override/opendaylight-source.rst', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'kolla/template/repos.yaml', 'releasenotes/notes/remove-opendaylight-25c8757cfc3e2bce.yaml', 'kolla/common/config.py', 'docker/base/sources.list.ubuntu', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'contrib/template-override/opendaylight-template-overrides.j2', 'doc/source/matrix_aarch64.csv', 'docker/base/Dockerfile.j2', 'docker/opendaylight/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5539596019e837bd33ffb6a39ba5d275b5b5b6e5', 'message': 'Remove opendaylight image\n\nChange-Id: I21be28113c6448e0a70747a907a3825c44158dfe\n'}]",0,734630,5539596019e837bd33ffb6a39ba5d275b5b5b6e5,8,5,2,167,,,0,"Remove opendaylight image

Change-Id: I21be28113c6448e0a70747a907a3825c44158dfe
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/734630/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/template-override/opendaylight-source.rst', 'docker/base/opendaylight.repo', 'docker/opendaylight/Dockerfile.j2', 'kolla/template/repos.yaml', 'releasenotes/notes/remove-opendaylight-25c8757cfc3e2bce.yaml', 'kolla/common/config.py', 'kolla/image/build.py', 'doc/source/matrix_x86.csv', 'contrib/template-override/opendaylight-template-overrides.j2', 'doc/source/matrix_aarch64.csv', 'docker/base/Dockerfile.j2', 'docker/opendaylight/extend_start.sh']",12,d96b1c130243b3130e4505f6f211daca8c75a71d,remove-opendaylight,,"#!/bin/bash OPENDAYLIGHT_LOG_DIR=/var/log/kolla/opendaylight if [[ ! -d ""${OPENDAYLIGHT_LOG_DIR}"" ]]; then mkdir -p ""${OPENDAYLIGHT_LOG_DIR}"" fi if [[ $(stat -c %a ""${OPENDAYLIGHT_LOG_DIR}"") != ""755"" ]]; then chmod 755 ""${OPENDAYLIGHT_LOG_DIR}"" fi ",4,109
openstack%2Fpython-openstackclient~master~I3e3632783bc745979b6db73e610df8a77ffaceb0,openstack/python-openstackclient,master,I3e3632783bc745979b6db73e610df8a77ffaceb0,switch to stevedore for entry points,MERGED,2020-07-04 18:12:19.000000000,2020-07-07 06:27:10.000000000,2020-07-07 06:23:55.000000000,"[{'_account_id': 2}, {'_account_id': 841}, {'_account_id': 2472}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-04 18:12:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b521a97df4c21b7e4c803928d86f0bc4646f0e12', 'message': 'switch to stevedore for entry points\n\nTake advantage of the new entry point scanner cache handling in\nstevedore.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 2, 'created': '2020-07-04 18:29:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f051c2412b1769d2195e75e8df60bca21e7369e6', 'message': 'switch to stevedore for entry points\n\nTake advantage of the new entry point scanner cache handling in\nstevedore.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nDepends-On: https://review.opendev.org/739326\nDepends-On: https://review.opendev.org/739328\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 3, 'created': '2020-07-04 21:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ccb96f07c16a933ecb109e8deba6bc3e7de45397', 'message': 'switch to stevedore for entry points\n\nTake advantage of the new entry point scanner cache handling in\nstevedore.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nDepends-On: https://review.opendev.org/739326\nDepends-On: https://review.opendev.org/739328\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 4, 'created': '2020-07-05 19:20:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/50dad1a7da73597096f912adc07526c03f5d5348', 'message': 'switch to stevedore for entry points\n\nTake advantage of the new entry point scanner cache handling in\nstevedore.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nDepends-On: I8b08f289d446f4775eac1e1a91997fa96f25f641\nDepends-On: I9917b10292d191710b37838b3cf099d75139f123\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2020-07-05 22:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/ca6c6ac3bda273fb86a579fd3950789405adee14', 'message': 'switch to stevedore for entry points\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. Stevedore is adding a new caching layer using\nimportlib.metadata, which will not.  Switching to the stevedore should\neventually speed up load times, especially for command line apps. This\nchange makes the switch now to ensure API compatibility.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 6, 'created': '2020-07-06 00:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/08d8390c4fa9929a5b906a9f894919ce049d4d99', 'message': 'switch to stevedore for entry points\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. Stevedore is adding a new caching layer using\nimportlib.metadata, which will not.  Switching to the stevedore should\neventually speed up load times, especially for command line apps. This\nchange makes the switch now to ensure API compatibility.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 7, 'created': '2020-07-06 12:45:17.000000000', 'files': ['requirements.txt', 'test-requirements.txt', 'lower-constraints.txt', 'openstackclient/common/clientmanager.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/870cf0114848f145f15a78415e3f4203c6338cd1', 'message': 'switch to stevedore for entry points\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. Stevedore is adding a new caching layer using\nimportlib.metadata, which will not.  Switching to the stevedore should\neventually speed up load times, especially for command line apps. This\nchange makes the switch now to ensure API compatibility.\n\nWe were already using stevedore for tests, so this moves the dependency\nfrom test-requirements.txt to requirements.txt and raises the minimum\nversion to something more recent.\n\nChange-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,739327,870cf0114848f145f15a78415e3f4203c6338cd1,25,6,7,2472,,,0,"switch to stevedore for entry points

Importing pkg_resources scans every installed distribution to find
all of the entry points. Stevedore is adding a new caching layer using
importlib.metadata, which will not.  Switching to the stevedore should
eventually speed up load times, especially for command line apps. This
change makes the switch now to ensure API compatibility.

We were already using stevedore for tests, so this moves the dependency
from test-requirements.txt to requirements.txt and raises the minimum
version to something more recent.

Change-Id: I3e3632783bc745979b6db73e610df8a77ffaceb0
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/27/739327/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'openstackclient/common/clientmanager.py']",2,b521a97df4c21b7e4c803928d86f0bc4646f0e12,osc-performance,from stevedore import entrypoints_cache as entrypoints for ep in entrypoints.get_group_all(group):,import pkg_resources for ep in pkg_resources.iter_entry_points(group):,3,2
openstack%2Fzaqar~master~Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe,openstack/zaqar,master,Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe,Remove neutron-fwaas from the jobs' required project,MERGED,2020-06-16 10:35:04.000000000,2020-07-07 06:26:46.000000000,2020-07-07 06:19:30.000000000,"[{'_account_id': 6159}, {'_account_id': 6413}, {'_account_id': 6427}, {'_account_id': 6484}, {'_account_id': 7385}, {'_account_id': 8556}, {'_account_id': 8846}, {'_account_id': 11975}, {'_account_id': 12321}, {'_account_id': 14203}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 31882}]","[{'number': 1, 'created': '2020-06-16 10:35:04.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/98ae5dac8003cc543edd7a99295142876d872987', 'message': ""Remove neutron-fwaas from the jobs' required project\n\nNeutron-fwaas is going to be deprecated in master branch with [1].\n\n[1] https://review.opendev.org/#/c/735828/\n\nChange-Id: Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe\n""}]",0,735861,98ae5dac8003cc543edd7a99295142876d872987,10,13,1,11975,,,0,"Remove neutron-fwaas from the jobs' required project

Neutron-fwaas is going to be deprecated in master branch with [1].

[1] https://review.opendev.org/#/c/735828/

Change-Id: Ia8f9a90c0b22680bf33c6f58ef7a3a49b2cc30fe
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/61/735861/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,98ae5dac8003cc543edd7a99295142876d872987,retire-neutron-fwaas,, - openstack/neutron-fwaas,0,1
openstack%2Ftripleo-ansible~stable%2Ftrain~Icd0512cb2a92faef1109144e48d93901cf2e8371,openstack/tripleo-ansible,stable/train,Icd0512cb2a92faef1109144e48d93901cf2e8371,Run scenario004 for changes to tripleo-ceph-* roles,MERGED,2020-07-06 21:54:04.000000000,2020-07-07 05:19:37.000000000,2020-07-07 05:19:37.000000000,"[{'_account_id': 9592}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 21:54:04.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2a6d7c19c234d2bacb3ad3375cd242fc67db2c07', 'message': 'Run scenario004 for changes to tripleo-ceph-* roles\n\nAlso enables scenario001 for changes to tripleo-ceph-* roles\n\nChange-Id: Icd0512cb2a92faef1109144e48d93901cf2e8371\n'}]",0,739614,2a6d7c19c234d2bacb3ad3375cd242fc67db2c07,9,3,1,6796,,,0,"Run scenario004 for changes to tripleo-ceph-* roles

Also enables scenario001 for changes to tripleo-ceph-* roles

Change-Id: Icd0512cb2a92faef1109144e48d93901cf2e8371
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/739614/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,2a6d7c19c234d2bacb3ad3375cd242fc67db2c07,, - ^tripleo_ansible/roles/tripleo-ceph-*/.* - tripleo-ci-centos-7-scenario004-standalone: &scenario004 files: - ^tripleo_ansible/roles/tripleo-ceph-*/.* irrelevant-files: *irrelevant_scenario_files - tripleo-ci-centos-7-scenario004-standalone: *scenario004,,6,0
openstack%2Ftripleo-ansible~stable%2Ftrain~I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,openstack/tripleo-ansible,stable/train,I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb,Use ansible_user instead of ANSIBLE_REMOTE_USER env var,MERGED,2020-07-06 21:54:04.000000000,2020-07-07 05:19:36.000000000,2020-07-07 05:19:36.000000000,"[{'_account_id': 6796}, {'_account_id': 9592}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 21:54:04.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4a15acbe32376b9623369519685c36f67ae48d4', 'message': ""Use ansible_user instead of ANSIBLE_REMOTE_USER env var\n\nIn 'genereate create_ceph_ansible_remote_tmp playbook' we should\nbe using ansible_user because the env var ANSIBLE_REMOTE_USER\nmight not always being set.\n\nChange-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb\nCloses-Bug: 1886497\n(cherry picked from commit 5f07c12adc17bc8ed0e569542b3035b0e5f1dd50)\n""}]",0,739613,a4a15acbe32376b9623369519685c36f67ae48d4,11,5,1,6796,,,0,"Use ansible_user instead of ANSIBLE_REMOTE_USER env var

In 'genereate create_ceph_ansible_remote_tmp playbook' we should
be using ansible_user because the env var ANSIBLE_REMOTE_USER
might not always being set.

Change-Id: I1229d3a0cd2f08dabdcd3b47d9823f6a939cfbdb
Closes-Bug: 1886497
(cherry picked from commit 5f07c12adc17bc8ed0e569542b3035b0e5f1dd50)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/13/739613/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/create_ceph_ansible_remote_tmp.yml'],1,a4a15acbe32376b9623369519685c36f67ae48d4,," owner: ""{{ ansible_user | default('tripleo-admin', true) }}"" group: ""{{ ansible_user | default('tripleo-admin', true) }}"""," owner: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default('tripleo-admin', true) }}"" group: ""{{ lookup('env','ANSIBLE_REMOTE_USER') | default('tripleo-admin', true) }}""",2,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,openstack/tripleo-ansible,stable/train,I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,Max percentage failure support,MERGED,2020-07-06 19:06:29.000000000,2020-07-07 05:17:26.000000000,2020-07-07 05:17:26.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:06:29.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/baa1829cfc59e103d1d6e86d5fa5da6844924c85', 'message': 'Max percentage failure support\n\nIn this patch we update the new strategies so they support a max failure\npercentage on a play. Which will be useful for the tripleo roles so we\ncan tolerate some % of failure (e.g. on computes) during a deployment.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0\n(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)\n'}]",0,739586,baa1829cfc59e103d1d6e86d5fa5da6844924c85,7,3,1,3153,,,0,"Max percentage failure support

In this patch we update the new strategies so they support a max failure
percentage on a play. Which will be useful for the tripleo roles so we
can tolerate some % of failure (e.g. on computes) during a deployment.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0
(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/86/739586/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",3,baa1829cfc59e103d1d6e86d5fa5da6844924c85,maxfail/train," self._fail_cache = {} def _get_fail_percent(self, host): """"""Return maximum percentage failure per role"""""" if host and host in self._fail_cache: return self._fail_cache[host] fail_vars = self._variable_manager.get_vars(play=self._iterator._play, host=host, task=None) percent = fail_vars.get('max_fail_percentage', 0) role = fail_vars.get('tripleo_role_name', 'default') self._fail_cache[host] = (percent, role) return (percent, role) def _check_fail_percent(self, host, current_failures): """"""Check if max fail pourcentage was reached When a failure occurs for a host, check if we reached the max percentage of failure for the group in which the host is part from. """""" percent, role = self._get_fail_percent(host) current_failed = current_failures.get(role, 1) groups = self._inventory.get_groups_dict() group_count = len(groups.get(role, [])) if group_count == 0: return True failed_percent = (current_failed / group_count) * 100 if failed_percent > percent: return True return False def _get_current_failures(self): """"""Return the number of failures per role"""""" failures = {} for host, _ in self._iterator.get_failed_hosts().items(): host_obj = self._inventory.get_host(host) per, role = self._get_fail_percent(host_obj) if role in failures: failures[role] += 1 else: failures[role] = 1 return failures ",,57,5
openstack%2Fopenstack-ansible-os_trove~master~I51c46f1432cd71357f1f2d18bf6cc4446296f96a,openstack/openstack-ansible-os_trove,master,I51c46f1432cd71357f1f2d18bf6cc4446296f96a,Add centos-8 support,ABANDONED,2020-07-06 05:44:53.000000000,2020-07-07 05:17:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-06 05:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/2a94e58d4fbbef609a7a0adc2e229294533dc4e9', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I51c46f1432cd71357f1f2d18bf6cc4446296f96a\n'}, {'number': 2, 'created': '2020-07-07 05:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_trove/commit/6496eb416777b1809aa6b2a423eba93895ef409e', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: I51c46f1432cd71357f1f2d18bf6cc4446296f96a\n'}]",1,739404,6496eb416777b1809aa6b2a423eba93895ef409e,7,3,2,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: I51c46f1432cd71357f1f2d18bf6cc4446296f96a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_trove refs/changes/04/739404/2 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,2a94e58d4fbbef609a7a0adc2e229294533dc4e9,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}""", - systemd-devel,1,1
openstack%2Fmasakari~master~I179816a68fe10202951061d30bd543ea1427b887,openstack/masakari,master,I179816a68fe10202951061d30bd543ea1427b887,Use uwsgi binary from path,MERGED,2020-06-30 08:31:53.000000000,2020-07-07 05:15:32.000000000,2020-07-07 05:14:18.000000000,"[{'_account_id': 1011}, {'_account_id': 2394}, {'_account_id': 8716}, {'_account_id': 8988}, {'_account_id': 12950}, {'_account_id': 22348}, {'_account_id': 25267}, {'_account_id': 26458}]","[{'number': 1, 'created': '2020-06-30 08:31:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/1e3e4dfc02b80d92fca793425bfac36014a8b5d1', 'message': 'fix CI job\n\nChange-Id: I179816a68fe10202951061d30bd543ea1427b887\n'}, {'number': 2, 'created': '2020-06-30 08:55:41.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9492987c31b063ec92da661453fdd6eb74b1a4bc', 'message': 'Use uwsgi binary from path\n\nChange-Id: I179816a68fe10202951061d30bd543ea1427b887\n'}]",0,738565,9492987c31b063ec92da661453fdd6eb74b1a4bc,11,8,2,24501,,,0,"Use uwsgi binary from path

Change-Id: I179816a68fe10202951061d30bd543ea1427b887
",git fetch https://review.opendev.org/openstack/masakari refs/changes/65/738565/2 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,1e3e4dfc02b80d92fca793425bfac36014a8b5d1,," run_process ""masakari-api"" ""$(which uwsgi) --procname-prefix masakari-api --ini $MASAKARI_UWSGI_CONF"""," run_process ""masakari-api"" ""$MASAKARI_BIN_DIR/uwsgi --procname-prefix masakari-api --ini $MASAKARI_UWSGI_CONF""",1,1
openstack%2Ftrove-dashboard~master~Id4cfbb53947760420ba8f5a0ef394e112a58c8fb,openstack/trove-dashboard,master,Id4cfbb53947760420ba8f5a0ef394e112a58c8fb,Imported Translations from Zanata,MERGED,2020-06-17 11:02:52.000000000,2020-07-07 05:08:09.000000000,2020-07-07 05:06:43.000000000,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2020-06-17 11:02:52.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove-dashboard/commit/60a19b2c95f423c81381cd491d878d338a3a54ba', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Id4cfbb53947760420ba8f5a0ef394e112a58c8fb\n'}]",0,736159,60a19b2c95f423c81381cd491d878d338a3a54ba,7,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Id4cfbb53947760420ba8f5a0ef394e112a58c8fb
",git fetch https://review.opendev.org/openstack/trove-dashboard refs/changes/59/736159/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,60a19b2c95f423c81381cd491d878d338a3a54ba,zanata/translations,"""POT-Creation-Date: 2020-05-26 11:31+0000\n""""PO-Revision-Date: 2020-06-15 05:43+0000\n""msgid ""14.0.0"" msgstr ""14.0.0"" msgid ""Ussuri Series Release Notes"" msgstr ""Ussuri Series Release Notes""","""POT-Creation-Date: 2020-04-08 11:28+0000\n""""PO-Revision-Date: 2020-04-16 12:45+0000\n""msgid ""13.0.0-14"" msgstr ""13.0.0-14""",7,4
openstack%2Fopenstack-ansible-os_gnocchi~master~Ief6fd82fbd2f208798237ac228f9904e2e6c0132,openstack/openstack-ansible-os_gnocchi,master,Ief6fd82fbd2f208798237ac228f9904e2e6c0132,Add centos-8 support,ABANDONED,2020-07-06 03:58:46.000000000,2020-07-07 05:05:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-07-06 03:58:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e15c031f0b60835098879b96fc6e07bb935603ba', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Ief6fd82fbd2f208798237ac228f9904e2e6c0132\n'}, {'number': 2, 'created': '2020-07-07 04:57:42.000000000', 'files': ['vars/redhat.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_gnocchi/commit/e8cba1c5e4e599e58e37dd7c57fb331fd9bfba7d', 'message': 'Add centos-8 support\n\nRenaming redhat-7.yml to redhat.yml for centos-8 support.\n\nChange-Id: Ief6fd82fbd2f208798237ac228f9904e2e6c0132\n'}]",0,739389,e8cba1c5e4e599e58e37dd7c57fb331fd9bfba7d,4,1,2,28752,,,0,"Add centos-8 support

Renaming redhat-7.yml to redhat.yml for centos-8 support.

Change-Id: Ief6fd82fbd2f208798237ac228f9904e2e6c0132
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_gnocchi refs/changes/89/739389/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/redhat.yml'],1,e15c031f0b60835098879b96fc6e07bb935603ba,osa/el8," - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('python-devel', 'python36-devel') }}"" - ""{{ ansible_distribution_major_version is version('8', '<') | ternary('systemd-python', 'python3-systemd') }}""", - python-devel - systemd-devel,2,2
openstack%2Ftripleo-ansible~stable%2Ftrain~I593f193f98112dbf1d493ffd22040837597db11c,openstack/tripleo-ansible,stable/train,I593f193f98112dbf1d493ffd22040837597db11c,Create tripleo base strategy class,MERGED,2020-07-06 18:54:49.000000000,2020-07-07 05:00:06.000000000,2020-07-07 05:00:06.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:54:49.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/29dd87c0dcd0a65cbd63d3efec6945dc0ddc484b', 'message': 'Create tripleo base strategy class\n\nIn order to allow us to share some logic between the linear and free\nstrategies, we need to create a base strategy to use for our shared\nlogic.\n\nChange-Id: I593f193f98112dbf1d493ffd22040837597db11c\n(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)\n'}]",0,739582,29dd87c0dcd0a65cbd63d3efec6945dc0ddc484b,7,4,1,3153,,,0,"Create tripleo base strategy class

In order to allow us to share some logic between the linear and free
strategies, we need to create a base strategy to use for our shared
logic.

Change-Id: I593f193f98112dbf1d493ffd22040837597db11c
(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/82/739582/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",3,29dd87c0dcd0a65cbd63d3efec6945dc0ddc484b,strategy-improvements-stable/train,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type from ansible.errors import AnsibleError from ansible.module_utils._text import to_text from ansible.playbook.included_file import IncludedFile from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_base short_description: Base tripleo strategy shared with linear & free description: version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoBase(StrategyBase): def __init__(self, *args, **kwargs): super(TripleoBase, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._play_context = None self._strat_results = [] self.noop_task = None # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _get_action(self, task): """"""Get action based on task"""""" self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send a task callback for task start"""""" self._debug('_send_task_callback...') if self._callback_sent: return name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: self._debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name self._callback_sent = True def process_includes(self, host_results, noop=False): """"""Handle includes This function processes includes and adds them tasks to the hosts. It will return False if there was a failure during the include """""" self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success ",,179,207
openstack%2Ftripleo-ansible~stable%2Ftrain~I8539a6ad747a3923256f8c14c0a140e7670cc135,openstack/tripleo-ansible,stable/train,I8539a6ad747a3923256f8c14c0a140e7670cc135,Add tripleo linear strategy,MERGED,2020-07-06 18:54:33.000000000,2020-07-07 05:00:05.000000000,2020-07-07 05:00:05.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:54:33.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab894ee213436cb9464b549c31277814b19a067c', 'message': 'Add tripleo linear strategy\n\nChange-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135\n(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)\n'}]",0,739581,ab894ee213436cb9464b549c31277814b19a067c,7,4,1,3153,,,0,"Add tripleo linear strategy

Change-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135
(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/739581/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'],1,ab894ee213436cb9464b549c31277814b19a067c,strategy-improvements-stable/train,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type import time from ansible import constants as C from ansible.errors import AnsibleAssertionError from ansible.errors import AnsibleError from ansible.executor.play_iterator import PlayIterator from ansible.module_utils._text import to_text from ansible.module_utils.six import iteritems from ansible.playbook.block import Block from ansible.playbook.included_file import IncludedFile from ansible.playbook.task import Task from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.template import Templar from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_linear short_description: TripleO specific linear strategy description: - Based on the 'linear' strategy from Ansible - Logic broken up to allow for future improvements version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoLinearTerminated(Exception): """"""Exception for terminated state"""""" pass class TripleoLinearNoHostTask(Exception): """"""Exception for no host task"""""" pass class TripleoLinearRunOnce(Exception): """"""Exception for run once"""""" pass class StrategyModule(StrategyBase): def __init__(self, *args, **kwargs): super(StrategyModule, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = True self._hosts_left = [] self._iterator = None self._play_context = None self._strat_results = [] self.noop_task = None # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _create_noop_task(self): """"""Create noop task"""""" self._debug('_create_noop_task...') noop_task = Task() noop_task.action = 'meta' noop_task.args['_raw_params'] = 'noop' noop_task.set_loader(self._iterator._play._loader) return noop_task def _advance_hosts(self, hosts, host_tasks, cur_block, cur_state): """"""Move hosts to next task"""""" self._debug('_advance_hosts...') noop_task = self._create_noop_task() returns = [] for host in hosts: host_state_task = host_tasks.get(host.name) if host_state_task is None: continue (s, t) = host_state_task self._print('task: {}'.format(t)) s = self._iterator.get_active_state(s) if t is None: continue self._print('task.action: {}'.format(t.action)) if s.run_state == cur_state and s.cur_block == cur_block: _ = self._iterator.get_next_task_for_host(host) returns.append((host, t)) else: returns.append((host, noop_task)) return returns def _get_next_tasks(self, hosts): """"""Get next set of tasks"""""" self._debug('_get_next_tasks...') host_tasks = {} task_counts = {} self._debug('populate next tasks for all hosts') for host in hosts: host_tasks[host.name] = self._iterator.get_next_task_for_host( host, peek=True) self._debug('organize tasks by state') host_tasks_to_run = [(host, state_task) for host, state_task in iteritems(host_tasks) if state_task and state_task[1]] # figure out our current block if host_tasks_to_run: try: lowest_cur_block = min( (self._iterator.get_active_state(s).cur_block for h, (s, t) in host_tasks_to_run if s.run_state != PlayIterator.ITERATING_COMPLETE)) except ValueError: lowest_cur_block = None else: lowest_cur_block = None # build counts for tasks by run state for (k, v) in host_tasks_to_run: (s, t) = v s = self._iterator.get_active_state(s) if s.cur_block > lowest_cur_block: continue # count up tasks based on state, we only care about: # PlayIterator.ITERATING_SETUP # PlayIterator.ITERATING_TASKS # PlayIterator.ITERATING_RESCUE # PlayIterator.ITERATING_ALWAYS if not task_counts.get(s.run_state): task_counts[s.run_state] = 1 else: task_counts[s.run_state] += 1 # Iterate through the different task states we care about # to execute them in a specific order. If there are tasks # in that state, we run all those tasks and then noop the # rest of the hosts with tasks not currently in that state for state_type in [PlayIterator.ITERATING_SETUP, PlayIterator.ITERATING_TASKS, PlayIterator.ITERATING_RESCUE, PlayIterator.ITERATING_ALWAYS]: if state_type in task_counts: return self._advance_hosts(hosts, host_tasks, lowest_cur_block, state_type) # all done so move on by returning None for the next task in # the return value. return [(host, None) for host in hosts] def _replace_with_noop(self, target): """"""Replace task with a noop task"""""" self._debug('_replace_with_noop...') if self.noop_task is None: raise AnsibleAssertionError('noop_task is None') result = [] for t in target: if isinstance(t, Task): result.append(self.noop_task) elif isinstance(t, Block): result.append(self._create_noop_block_from(t, t._parent)) return result def _create_noop_block_from(self, original_block, parent): """"""Create a noop block from a block"""""" self._debug('_create_noop_block_from...') noop_block = Block(parent_block=parent) noop_block.block = self._replace_with_noop(original_block.block) noop_block.always = self._replace_with_noop(original_block.always) noop_block.rescue = self._replace_with_noop(original_block.rescue) return noop_block def _prepare_and_create_noop_block_from(self, original_block, parent): """"""Create noop block"""""" self._debug('_prepare_and_create_noop_block_from...') self.noop_task = self._create_noop_task() return self._create_noop_block_from(original_block, parent) def _get_action(self, task): """"""Get action from task"""""" # TODO(mwhahaha): move to base task self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send a task callback for task start"""""" # TODO(mwhahaha): do we need the bool? can we move to base class? self._debug('_send_task_callback...') if self._callback_sent: return name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: display.debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name self._callback_sent = True def _process_host_tasks(self, host, task): """"""Process host task and execute"""""" self._debug('process_host_tasks...') results = [] if self._tqm._terminated: raise TripleoLinearTerminated() run_once = False action = self._get_action(task) # Skip already executed roles if task._role and task._role.has_run(host): if (task._role._metadata is None or task._role._metadata and not task._role._metadata.allow_duplicates): raise TripleoLinearNoHostTask() if task.action == 'meta': results.extend(self._execute_meta(task, self._play_context, self._iterator, host)) if (task.args.get('_raw_params', None) not in ('noop', 'reset_connection', 'end_host')): run_once = True if (task.any_errors_fatal or run_once and not task.ignore_errors): self._any_errors_fatal = True else: # todo handle steps like in linear # build get_vars call params vars_params = {'play': self._iterator._play, 'host': host, 'task': task} # if we have >= 2.9 we can use the hosts cache if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) self.add_tqm_variables(task_vars, play=self._iterator._play) templar = Templar(loader=self._loader, variables=task_vars) run_once = (templar.template(task.run_once) or action and getattr(action, 'BYPASS_HOST_LOOP', False)) self._send_task_callback(task, templar) self._blocked_hosts[host.get_name()] = True self._queue_task(host, task, task_vars, self._play_context) del task_vars if run_once: raise TripleoLinearRunOnce() max_passes = max(1, int(len(self._tqm._workers) * 0.1)) results.extend(self._process_pending_results( self._iterator, max_passes=max_passes)) return results def process_includes(self, host_results, noop=False): """"""Process our includes"""""" # TODO(mwhahaha): move to a base class self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) # TODO(mwhahaha): fix include_failure uage include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) # TODO(mwhahaha): noop is used for linear not free if noop: noop_block = self._prepare_and_create_noop_block_from( final_block, block._parent) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) elif noop: all_blocks[host].append(noop_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success def _process_failures(self): """"""Handle failures"""""" self._debug('_process_failures...') non_fail_states = frozenset([self._iterator.ITERATING_RESCUE, self._iterator.ITERATING_ALWAYS]) result = self._tqm.RUN_OK for host in self._hosts_left: (s, _) = self._iterator.get_next_task_for_host(host, peek=True) s = self._iterator.get_active_state(s) if ((s.run_state not in non_fail_states) or (s.run_state == self._iterator.ITERATING_RESCUE and s.fail_state & self._iterator.FAILED_RESCUE != 0)): self._tqm._failed_hosts[host.name] = True result |= self._tqm.RUN_FAILED_BREAK_PLAY return result def process_work(self): """"""Run pending tasks"""""" self._debug('process_work...') self._callback_sent = False result = self._tqm.RUN_OK host_tasks = self._get_next_tasks(self._hosts_left) self._strat_results = [] results = [] for (host, task) in host_tasks: if not task: continue try: self._has_work = True results.extend(self._process_host_tasks(host, task)) except TripleoLinearNoHostTask: continue except (TripleoLinearTerminated, TripleoLinearRunOnce): break if self._pending_results > 0: results.extend(self._wait_on_pending_results( self._iterator)) self._strat_results.extend(results) self.update_active_connections(results) return result def run(self, iterator, play_context): """"""Run our straregy"""""" self._debug('run...') self._iterator = iterator self._play_context = play_context self._has_work = True result = self._tqm.RUN_OK # check for < 2.9 and set vars so we know if we can use hosts cache if getattr(self, '_set_hosts_cache', False): self._set_hosts_cache(self._iterator._play) self._has_hosts_cache = True if getattr(self, '_set_hosts_cache_all', False): self._has_hosts_cache_all = True while self._has_work and not self._tqm._terminated: self._has_work = False self._print('play: {}'.format(iterator._play)) try: self._hosts_left = self.get_hosts_left(self._iterator) result = self.process_work() # NOTE(mwhahaha): process_includes returns a status however # we will pick up on these failures further down because # failed_hosts will be set. We don't need the status # in this strategy so we just ignore it. self.process_includes(self._strat_results, noop=True) failed_hosts = [] unreachable_hosts = [] for res in self._strat_results: if ((res.is_failed() or res._task.action == 'meta') and self._iterator.is_failed(res._host)): failed_hosts.append(res._host.name) elif res.is_unreachable(): unreachable_hosts.append(res._host.name) # TODO(mwhahaha): handle max_fail_percentage by tripleo role if (self._any_errors_fatal and (len(failed_hosts) > 0 or len(unreachable_hosts) > 0)): result = self._process_failures() failed_hosts = len(self._tqm._failed_hosts) hosts_left = len(self._hosts_left) if (result != self._tqm.RUN_OK and (failed_hosts >= hosts_left)): self._tqm.send_callback( 'v2_playbook_on_no_hosts_remaining') return result except (IOError, EOFError) as e: display.warning(""Exception while in task loop: {}"".format(e)) return self._tqm.RUN_UNKNOWN_ERROR self._debug('sleeping... {}'.format( C.DEFAULT_INTERNAL_POLL_INTERVAL) ) time.sleep(C.DEFAULT_INTERNAL_POLL_INTERVAL) return super(StrategyModule, self).run(iterator, play_context, result) ",,466,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Iaa1278763d56429b2886371a18477e1f54680e19,openstack/tripleo-ansible,stable/train,Iaa1278763d56429b2886371a18477e1f54680e19,Implement run_once,MERGED,2020-07-06 18:54:17.000000000,2020-07-07 04:21:43.000000000,2020-07-07 04:21:43.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:54:17.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/313108543a3052e1e832db46bccc917e2f3f2c02', 'message': 'Implement run_once\n\nPrior to this patch, run_once was basically ignored. This patch adds\ntracking on tasks that are tagged with run_once and will only allow it\nto be invoked once. This means if the run_once task fails, all the other\nhosts will continue to process their tasks like nothing happened. The\nplay itself will exit if the run_once task fails at the end. For tripleo\nthis means that run_once should not be used for any required tasks\nwithin a play but can be used to make sure a task will only run once\ntime for a given play.\n\nChange-Id: Iaa1278763d56429b2886371a18477e1f54680e19\n(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)\n'}]",0,739580,313108543a3052e1e832db46bccc917e2f3f2c02,7,4,1,3153,,,0,"Implement run_once

Prior to this patch, run_once was basically ignored. This patch adds
tracking on tasks that are tagged with run_once and will only allow it
to be invoked once. This means if the run_once task fails, all the other
hosts will continue to process their tasks like nothing happened. The
play itself will exit if the run_once task fails at the end. For tripleo
this means that run_once should not be used for any required tasks
within a play but can be used to make sure a task will only run once
time for a given play.

Change-Id: Iaa1278763d56429b2886371a18477e1f54680e19
(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/80/739580/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,313108543a3052e1e832db46bccc917e2f3f2c02,strategy-improvements-stable/train," - Handles run_once to only invoke the task a single time for a given run. It should be noted that run_once does not ensure the task actually is successful but rather that it is only triggered once time for the host groups. If the task fails, the playbook will fail at the end of the play but there is no assurance that the task will actually complete successfully for a given playbook execution. Other tasks will continue on the other hosts. self._run_once_tasks = set() if run_once: display.warning('tripleo_free run_once does not ensure a task ' 'is successful for a given playbook but rather ' 'it is only attempted to execute once.') if task._uuid in self._run_once_tasks: # If the task was previously executed, just drop it # by clearing the blocked host and telling the parent # function to continue. self._debug(""Skipping run_once task {} on {}"".format( task._uuid, host)) del self._blocked_hosts[host_name] raise TripleoFreeContinue() else: self._run_once_tasks.add(task._uuid)"," # TODO(mwhahaha): make it work by caching it across all hosts if run_once: display.warning(""Using run_once does not work with the"" ""tripleo_free strategy"")",21,3
openstack%2Fopenstack-ansible-os_cinder~stable%2Frocky~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,stable/rocky,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,ABANDONED,2020-07-07 02:58:16.000000000,2020-07-07 04:12:26.000000000,,"[{'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 02:58:16.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/7cec97e76e96391de7e5ab56c1fcf32c55e3223b', 'message': 'Fix policy configuration\n\nSince cinder moved to policy-in-code, oslopolicy-policy-generator\nmust be used to compile a policy file that can be distributed to\nHorizon for policy settings. For cinder, it will only output its\ndefault policy unless cinder.conf contains an oslo_policy\nconfiguration section pointing to the policy config file.\n\nChange-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50\n(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)\n'}]",0,739642,7cec97e76e96391de7e5ab56c1fcf32c55e3223b,3,2,1,28619,,,0,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/42/739642/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,7cec97e76e96391de7e5ab56c1fcf32c55e3223b,policy-in-code-stable/stein-stable/rocky, [oslo_policy] policy_file = /etc/cinder/policy.json ,,4,0
openstack%2Fopenstack-ansible-os_cinder~stable%2Fqueens~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,stable/queens,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,ABANDONED,2020-07-07 02:59:49.000000000,2020-07-07 04:12:13.000000000,,"[{'_account_id': 17799}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-07 02:59:49.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/915d93fa72e0a251f12fa5e3a5a38116db6c333d', 'message': 'Fix policy configuration\n\nSince cinder moved to policy-in-code, oslopolicy-policy-generator\nmust be used to compile a policy file that can be distributed to\nHorizon for policy settings. For cinder, it will only output its\ndefault policy unless cinder.conf contains an oslo_policy\nconfiguration section pointing to the policy config file.\n\nChange-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50\n(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)\n'}]",0,739643,915d93fa72e0a251f12fa5e3a5a38116db6c333d,3,2,1,28619,,,0,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
(cherry picked from commit dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/43/739643/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,915d93fa72e0a251f12fa5e3a5a38116db6c333d,policy-in-code-stable/queens, [oslo_policy] policy_file = /etc/cinder/policy.json ,,4,0
openstack%2Fceilometer~stable%2Ftrain~I55f0667c71ba4f3a33959a44bef43c3b05bc097c,openstack/ceilometer,stable/train,I55f0667c71ba4f3a33959a44bef43c3b05bc097c,Trigger volume deletes only on volume deleted,MERGED,2020-06-30 08:24:26.000000000,2020-07-07 03:08:22.000000000,2020-07-07 03:07:09.000000000,"[{'_account_id': 4264}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-30 08:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/5da366dc0bb4177a9c7905b89e2d2a9c7fb5622f', 'message': 'Trigger volume deletes only on volume deleted\n\nIt was possible to create a volume and to do the following operations\nwith the volume; at the end, the volume itself is marked as ended, but\nthe volume is still available.\n\nopenstack volume create --size x foo\nopenstack volume snapshot create --volume <id> foo_snap\nopenstack volume create --snapshot <id_of_snap> clone\nopenstack volume delete --purge <id_of_foo>\n\nopenstack metric resource show <id_of_foo>\n\nThis commit fixes that issue.\n\nChange-Id: I55f0667c71ba4f3a33959a44bef43c3b05bc097c\n(cherry picked from commit f8992d40a135188a9d89c86f78868d340f3a1b96)\n(cherry picked from commit 4185147ddd6824c26cbe41c1ce25ce36559288be)\n'}, {'number': 2, 'created': '2020-07-06 07:02:33.000000000', 'files': ['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/tests/unit/publisher/test_gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/4aab9fac33785d8c07e6c7c0e1763f7024c48eae', 'message': 'Trigger volume deletes only on volume deleted\n\nIt was possible to create a volume and to do the following operations\nwith the volume; at the end, the volume itself is marked as ended, but\nthe volume is still available.\n\nopenstack volume create --size x foo\nopenstack volume snapshot create --volume <id> foo_snap\nopenstack volume create --snapshot <id_of_snap> clone\nopenstack volume delete --purge <id_of_foo>\n\nopenstack metric resource show <id_of_foo>\n\nThis commit fixes that issue.\n\nChange-Id: I55f0667c71ba4f3a33959a44bef43c3b05bc097c\n(cherry picked from commit f8992d40a135188a9d89c86f78868d340f3a1b96)\n(cherry picked from commit 4185147ddd6824c26cbe41c1ce25ce36559288be)\n'}]",0,738563,4aab9fac33785d8c07e6c7c0e1763f7024c48eae,11,3,2,4264,,,0,"Trigger volume deletes only on volume deleted

It was possible to create a volume and to do the following operations
with the volume; at the end, the volume itself is marked as ended, but
the volume is still available.

openstack volume create --size x foo
openstack volume snapshot create --volume <id> foo_snap
openstack volume create --snapshot <id_of_snap> clone
openstack volume delete --purge <id_of_foo>

openstack metric resource show <id_of_foo>

This commit fixes that issue.

Change-Id: I55f0667c71ba4f3a33959a44bef43c3b05bc097c
(cherry picked from commit f8992d40a135188a9d89c86f78868d340f3a1b96)
(cherry picked from commit 4185147ddd6824c26cbe41c1ce25ce36559288be)
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/63/738563/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/publisher/data/gnocchi_resources.yaml', 'ceilometer/tests/unit/publisher/test_gnocchi.py']",2,5da366dc0bb4177a9c7905b89e2d2a9c7fb5622f,cinder_busy-stable/ussuri-stable/train,"VOLUME_DELETE_END = models.Event( event_type=u'volume.delete.end', VOLUME_DELETE_END,","VOLUME_DELETE_START = models.Event( event_type=u'volume.delete.start', VOLUME_DELETE_START,",5,5
openstack%2Ftripleo-ansible~stable%2Ftrain~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,stable/train,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-07-06 18:53:30.000000000,2020-07-07 03:04:19.000000000,2020-07-07 03:04:18.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:53:30.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0147457083302e93d44584ff01d204e700fa3308', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)\n'}]",0,739579,0147457083302e93d44584ff01d204e700fa3308,9,5,1,3153,,,0,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/739579/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,0147457083302e93d44584ff01d204e700fa3308,strategy-improvements-stable/train,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type import time from ansible import constants as C from ansible.errors import AnsibleError from ansible.module_utils._text import to_text from ansible.playbook.included_file import IncludedFile from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.template import Templar from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_free short_description: TripleO specific free strategy description: - Based on the 'free' strategy from Ansible - Logic broken up to allow for future improvements/extending - Will fail playbook if any hosts have a failure during the execution and any_errors_fatal is true (free does not do this). - Should be backwards compatible for Ansible 2.8 version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoFreeBreak(Exception): """"""Exception used to break loops"""""" pass class TripleoFreeContinue(Exception): """"""Exception used to continue loops"""""" pass class StrategyModule(StrategyBase): # this strategy handles throttling ALLOW_BASE_THROTTLING = False def __init__(self, *args, **kwargs): super(StrategyModule, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._last_host = 0 self._play_context = None self._strat_results = [] self._workers_free = 0 # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _filter_notified_hosts(self, notified_hosts): """"""Filter notified hosts"""""" return [host for host in notified_hosts if host in self._flushed_hosts and self._flushed_hosts[host]] def _increment_last_host(self): """"""Increment last host pointer If the last host pointer exceeds the number of hosts, we set it back to zero so we can start checking again with the first host """""" self._debug('_increment_last_host') self._last_host += 1 self._debug('last_host is {}'.format(self._last_host)) if self._last_host > len(self._hosts_left) - 1: self._debug('resetting last host') self._last_host = 0 def _check_throttle(self, throttle, task): """"""Check if we should throttle"""""" if throttle > 0: same_task = 0 for worker in self._workers: if (worker and worker.is_alive() and worker._task._uuid == task._uuid): same_task += 1 if same_task >= throttle: return True return False def _check_failures(self, results): """"""Check results for failures If any errors are fatal, kill the playbook at the end of execution. All non-failed hosts will continue to run the playbook but it won't move on to the next playbook. This function returns True if there were failures and False if there are no failures. """""" if self._any_errors_fatal: for res in results: if ((res.is_failed() or res._task.action == 'meta') and self._iterator.is_failed(res._host)): return True return False def _get_action(self, task): """"""Get action based on task"""""" self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send task start callback"""""" self._debug('_send_task_callback...') name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: self._debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name def _advance_host(self, host, task): """"""Advance the host's task as necessary"""""" self._debug('_advance_host {}'.format(host), host) host_name = host.get_name() # build get_vars call params vars_params = {'play': self._iterator._play, 'host': host, 'task': task} # If we have >= 2.9 we can use the hosts cache if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) templar = Templar(loader=self._loader, variables=task_vars) try: throttle = int(templar.template(task.throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak() # _blocked_hosts is used in the base strategy to keep track of hosts in # that have tasks in queue self._blocked_hosts[host_name] = True # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host) action = self._get_action(task) try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: display.warning('templating of task name failed', host=host_name) # run once doesn't work with free because we run all of them run_once = (templar.template(task.run_once) or action and getattr(action, 'BYPASS_HOST_LOOP', False)) # TODO(mwhahaha): make it work by caching it across all hosts if run_once: if action and getattr(action, 'BYPASS_HOST_LOOP', False): raise AnsibleError('Cannot bypass host loop with strategy') else: display.warning(""Using run_once does not work with the"" ""tripleo_free strategy"") # handle role deduplication logic if task._role and task._role.has_run(host): if (task._role._metadata is None or task._role._metadata and not task._role._metadata.allow_duplicates): del self._blocked_hosts[host_name] raise TripleoFreeContinue() if task.action == 'meta': self._execute_meta(task, self._play_context, self._iterator, target_host=host) self._blocked_hosts[host_name] = False else: if not self._step or self._take_step(task, host_name): if task.any_errors_fatal: display.warning('any_errors_fatal only stops any future ' 'tasks running on the host that fails ' 'with the tripleo_free strategy.') self._any_errors_fatal = True self._send_task_callback(task, templar) self._queue_task(host, task, task_vars, self._play_context) self._workers_free -= 1 del task_vars return True def process_work(self): """"""Run pending tasks"""""" self._debug('process_work....') result = self._tqm.RUN_OK start_host = self._last_host self._strat_results = [] while True: self._debug('process_work loop') host = self._hosts_left[self._last_host] host_name = host.get_name() self._increment_last_host() (s, t) = self._iterator.get_next_task_for_host(host, peek=True) self._print(""host: {}, task: {}"".format(host, t)) if host_name not in self._tqm._unreachable_hosts and t: self._debug('{} has work to do, has_work = True'.format( host_name)) self._has_work = True if not self._blocked_hosts.get(host_name, False): try: self._advance_host(host, t) except TripleoFreeBreak: break except TripleoFreeContinue: continue else: self._print('{} still blocked'.format(host_name)) else: self._debug('{} is unreachable or no task'.format(host_name)) # handle host pinned by going back to the start and waiting # for the next free host if (self._host_pinned and self._workers_free == 0 and self._has_work): self._last_host = start_host if self._last_host == start_host: self._debug('We hit the start host, break our loop') break self._debug('pending results....') results = self._process_pending_results(self._iterator) self._debug('results: {}'.format(results)) self._strat_results.extend(results) if self._check_failures(results): # NOTE(mwhahaha): this is the bit of code that the upstream free # does not do result |= self._tqm.RUN_FAILED_BREAK_PLAY self._workers_free += len(results) self._debug('update connections....') self.update_active_connections(results) return result def process_includes(self, host_results, noop=False): """"""Handle includes This function processes includes and adds them tasks to the hosts. It will return False if there was a failure during the include """""" self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success def run(self, iterator, play_context): """"""Run out strategy"""""" self._iterator = iterator self._play_context = play_context self._has_work = True self._workers_free = len(self._workers) result = self._tqm.RUN_OK # check for < 2.9 and set vars so we know if we can use hosts cache if getattr(self, '_set_hosts_cache', False): self._set_hosts_cache(self._iterator._play) self._has_hosts_cache = True if getattr(self, '_set_hosts_cache_all', False): self._has_hosts_cache_all = True # while we still have tasks and ansible is still running while self._has_work and not self._tqm._terminated: self._has_work = False self._debug('play: {}'.format(self._iterator._play)) try: # get the hosts with tasks self._hosts_left = self.get_hosts_left(self._iterator) if len(self._hosts_left) == 0: self._tqm.send_callback( 'v2_playbook_on_no_hosts_remaining') # check if we previously had an error... if result == self._tqm.RUN_OK: # by setting this to false, the parent run function # will determine if the run was ok based on a check # of the unreachable/failed hosts. result = False break # do work result |= self.process_work() # handle includes include_result = self.process_includes(self._strat_results) if self._any_errors_fatal and not include_result: # NOTE(mwhahaha): This bit of code fails the playbook if # an include fails. Upstream free does not have this today display.error('An include failure occurred, we will not ' 'continue to process after this play ' 'completes.') result |= self._tqm.RUN_FAILED_BREAK_PLAY except (IOError, EOFError) as e: display.error(""Exception while running task loop: "" ""{}"".format(e)) return self._tqm.RUN_UNKNOWN_ERROR self._debug('sleeping... {}'.format( C.DEFAULT_INTERNAL_POLL_INTERVAL) ) time.sleep(C.DEFAULT_INTERNAL_POLL_INTERVAL) # wait for any pending results _ = self._wait_on_pending_results(iterator) # call parent run to handle status return super(StrategyModule, self).run(self._iterator, self._play_context, result) ",,411,0
openstack%2Fopenstack-ansible-os_cinder~master~I66a76fdb30ae6afd8a8faf4119bef495600aec50,openstack/openstack-ansible-os_cinder,master,I66a76fdb30ae6afd8a8faf4119bef495600aec50,Fix policy configuration,MERGED,2019-06-15 00:40:07.000000000,2020-07-07 02:59:49.000000000,2019-08-24 19:33:42.000000000,"[{'_account_id': 17799}, {'_account_id': 18279}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 26297}, {'_account_id': 28619}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-15 00:40:07.000000000', 'files': ['templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca', 'message': 'Fix policy configuration\n\nSince cinder moved to policy-in-code, oslopolicy-policy-generator\nmust be used to compile a policy file that can be distributed to\nHorizon for policy settings. For cinder, it will only output its\ndefault policy unless cinder.conf contains an oslo_policy\nconfiguration section pointing to the policy config file.\n\nChange-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50\n'}]",0,665499,dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca,19,7,1,17799,,,0,"Fix policy configuration

Since cinder moved to policy-in-code, oslopolicy-policy-generator
must be used to compile a policy file that can be distributed to
Horizon for policy settings. For cinder, it will only output its
default policy unless cinder.conf contains an oslo_policy
configuration section pointing to the policy config file.

Change-Id: I66a76fdb30ae6afd8a8faf4119bef495600aec50
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/99/665499/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/cinder.conf.j2'],1,dbaf649e0c3992f9ab6495ad2f8f55a0a97cd3ca,policy-in-code, [oslo_policy] policy_file = /etc/cinder/policy.json ,,4,0
openstack%2Fopenstack-helm-infra~master~Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7,openstack/openstack-helm-infra,master,Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7,[rabbitmq] Upgrade to 3.7.26,MERGED,2020-06-25 20:34:58.000000000,2020-07-07 02:58:40.000000000,2020-07-07 02:57:14.000000000,"[{'_account_id': 8863}, {'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 20:34:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/031ccfa424e739d948f61faf0ef02b907b84dd7d', 'message': '[rabbitmq] Upgrade to 3.7.26\n\nStaying current.  Many bugfixes.\n\nChange-Id: Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7\n'}, {'number': 2, 'created': '2020-06-25 23:34:53.000000000', 'files': ['rabbitmq/templates/bin/_rabbitmq-test.sh.tpl', 'rabbitmq/templates/bin/_rabbitmq-password-hash.py.tpl', 'rabbitmq/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6d032c3971d556893d50b1f71b9a692bfab44e6f', 'message': '[rabbitmq] Upgrade to 3.7.26\n\nStaying current.  Many bugfixes.\n\nChange-Id: Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7\n'}]",0,738104,6d032c3971d556893d50b1f71b9a692bfab44e6f,21,5,2,8898,,,0,"[rabbitmq] Upgrade to 3.7.26

Staying current.  Many bugfixes.

Change-Id: Ib95c30380d89c336774d5c74e02ce5cbd9efb5d7
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/04/738104/2 && git format-patch -1 --stdout FETCH_HEAD,['rabbitmq/values.yaml'],1,031ccfa424e739d948f61faf0ef02b907b84dd7d,nru, rabbitmq: docker.io/rabbitmq:3.7.26 scripted_test: docker.io/rabbitmq:3.7.26-management, rabbitmq: docker.io/rabbitmq:3.7.13 scripted_test: docker.io/rabbitmq:3.7.13-management,2,2
openstack%2Fnova~master~I212a84e5cae15bc133aafd538d55f85149ab360f,openstack/nova,master,I212a84e5cae15bc133aafd538d55f85149ab360f,Add traits for new AVX512 CPU feature,MERGED,2020-05-27 18:15:56.000000000,2020-07-07 02:13:40.000000000,2020-07-07 02:11:33.000000000,"[{'_account_id': 5754}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 12597}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-27 18:15:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9289931efa0cfb5690bbe16ea2a73dc454a86638', 'message': ""Add traits for new AVX512 CPU feature\n\nTo support new AVX512 cpu feature, this patch adds the mapping\nbetween cpu features reported by libvirt [1] and corresponding\nos-traits [2]. The traits include 'AVX512VBMI', 'AVX512IFMA',\n'AVX512VBMI2', 'AVX512BITALG', 'AVX512VAES', 'AVX512GFNI',\n'AVX512VPCLMULQDQ' and 'AVX512VPOPCNTDQ'.\n\n[1] https://github.com/libvirt/libvirt/blob/master/src/cpu_map/x86_features.xml\n[2] https://review.opendev.org/#/c/728576/\n\nDepends-On: I58cba02f204d2e19a1a838852c628694edd47d73\nChange-Id: I212a84e5cae15bc133aafd538d55f85149ab360f\n""}, {'number': 2, 'created': '2020-07-06 16:30:45.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'nova/virt/libvirt/utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8fa83ff62a6eaad0bfe6be036033067ee42de146', 'message': ""Add traits for new AVX512 CPU feature\n\nTo support new AVX512 cpu feature, this patch adds the mapping\nbetween cpu features reported by libvirt [1] and corresponding\nos-traits [2]. The traits include 'AVX512VBMI', 'AVX512IFMA',\n'AVX512VBMI2', 'AVX512BITALG', 'AVX512VAES', 'AVX512GFNI',\n'AVX512VPCLMULQDQ' and 'AVX512VPOPCNTDQ'.\n\n[1] https://github.com/libvirt/libvirt/blob/master/src/cpu_map/x86_features.xml\n[2] https://review.opendev.org/#/c/728576/\n\nDepends-On: I58cba02f204d2e19a1a838852c628694edd47d73\nChange-Id: I212a84e5cae15bc133aafd538d55f85149ab360f\n""}]",1,731288,8fa83ff62a6eaad0bfe6be036033067ee42de146,30,15,2,12597,,,0,"Add traits for new AVX512 CPU feature

To support new AVX512 cpu feature, this patch adds the mapping
between cpu features reported by libvirt [1] and corresponding
os-traits [2]. The traits include 'AVX512VBMI', 'AVX512IFMA',
'AVX512VBMI2', 'AVX512BITALG', 'AVX512VAES', 'AVX512GFNI',
'AVX512VPCLMULQDQ' and 'AVX512VPOPCNTDQ'.

[1] https://github.com/libvirt/libvirt/blob/master/src/cpu_map/x86_features.xml
[2] https://review.opendev.org/#/c/728576/

Depends-On: I58cba02f204d2e19a1a838852c628694edd47d73
Change-Id: I212a84e5cae15bc133aafd538d55f85149ab360f
",git fetch https://review.opendev.org/openstack/nova refs/changes/88/731288/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/utils.py'],1,9289931efa0cfb5690bbe16ea2a73dc454a86638,," 'avx512vbmi': os_traits.HW_CPU_X86_AVX512VBMI, 'avx512ifma': os_traits.HW_CPU_X86_AVX512IFMA, 'avx512vbmi2': os_traits.HW_CPU_X86_AVX512VBMI2, 'avx512bitalg': os_traits.HW_CPU_X86_AVX512BITALG, 'vaes': os_traits.HW_CPU_X86_AVX512VAES, 'gfni': os_traits.HW_CPU_X86_AVX512GFNI, 'vpclmulqdq': os_traits.HW_CPU_X86_AVX512VPCLMULQDQ, 'avx512-vpopcntdq': os_traits.HW_CPU_X86_AVX512VPOPCNTDQ,",,8,0
openstack%2Fproject-config~master~I2e731b7825574e7f8a704444095c53036ca93169,openstack/project-config,master,I2e731b7825574e7f8a704444095c53036ca93169,"Add ""Review-Priority"" label to qa projects",MERGED,2020-07-06 16:45:49.000000000,2020-07-07 01:23:07.000000000,2020-07-07 01:11:10.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 16:45:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/476882b0b0aafef5ecb7107437ecca9ad40ebf1e', 'message': 'Add ""Review-Priority"" label to qa projects\n\nChange-Id: I2e731b7825574e7f8a704444095c53036ca93169\n'}, {'number': 2, 'created': '2020-07-06 16:47:09.000000000', 'files': ['gerrit/acls/openstack/patrole.config', 'gerrit/acls/openstack/tempest.config', 'gerrit/acls/openstack/grenade.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/88982d5549d7f4c9c4b9ba99e266e758fd6f7285', 'message': 'Add ""Review-Priority"" label to qa projects\n\nChange-Id: I2e731b7825574e7f8a704444095c53036ca93169\n'}]",0,739550,88982d5549d7f4c9c4b9ba99e266e758fd6f7285,9,3,2,8556,,,0,"Add ""Review-Priority"" label to qa projects

Change-Id: I2e731b7825574e7f8a704444095c53036ca93169
",git fetch https://review.opendev.org/openstack/project-config refs/changes/50/739550/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/patrole.config', 'gerrit/acls/openstack/tempest.config', 'gerrit/acls/openstack/grenade.config']",3,476882b0b0aafef5ecb7107437ecca9ad40ebf1e,,"label-Review-Priority = -1..+2 group greande-core[label ""Review-Priority""] copyAllScoresIfNoCodeChange = true copyAllScoresOnTrivialRebase = true copyMaxScore = true copyMinScore = true defaultValue = 0 function = AnyWithBlock value = -1 Branch Freeze value = 0 No Priority value = +1 Important Change value = +2 Gate Blocker Fix / Urgent Change ",,39,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I364fb42a41b4cb4ae076f07704c72c6ea442a198,openstack/python-tripleoclient,stable/ussuri,I364fb42a41b4cb4ae076f07704c72c6ea442a198,Add tripleo container image hotfix command,MERGED,2020-07-06 16:09:57.000000000,2020-07-07 01:17:49.000000000,2020-07-07 01:15:19.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 16:09:57.000000000', 'files': ['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v2/tripleo_container_image.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/39c270006d98ec5a20992a575cd5a145762bc40d', 'message': 'Add tripleo container image hotfix command\n\nThis change adds a CLI command to invoke hotfixes via the TripleO modify\nimage role. This CLI command will ensure a uniform experience for operators\nwhen needing to apply a hotfixes to containers.\n\nChange-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)\n'}]",0,739530,39c270006d98ec5a20992a575cd5a145762bc40d,7,2,1,3153,,,0,"Add tripleo container image hotfix command

This change adds a CLI command to invoke hotfixes via the TripleO modify
image role. This CLI command will ensure a uniform experience for operators
when needing to apply a hotfixes to containers.

Change-Id: I364fb42a41b4cb4ae076f07704c72c6ea442a198
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 4967f4f6eec7de8745a43fb1cd73e56ccc50a6a1)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/30/739530/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'tripleoclient/v2/tripleo_container_image.py', 'setup.cfg']",3,39c270006d98ec5a20992a575cd5a145762bc40d,hotfix/ussuri, tripleo_container_image_hotfix = tripleoclient.v2.tripleo_container_image:HotFix,,135,2
openstack%2Fproject-config~master~I3f724d1c0678c0addd025e07c951ed8ea7879af1,openstack/project-config,master,I3f724d1c0678c0addd025e07c951ed8ea7879af1,Add openstack/devstack-plugin-ceph in vexxhost tenant,MERGED,2020-07-06 20:56:42.000000000,2020-07-07 01:17:27.000000000,2020-07-07 00:48:50.000000000,"[{'_account_id': 1004}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 20:56:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/2effc4bd7b8a758a7652dc89a1f575e289092370', 'message': 'Add openstack/devstack-plugin-ceph in vexxhost tenant\n\nChange-Id: I3f724d1c0678c0addd025e07c951ed8ea7879af1\n'}, {'number': 2, 'created': '2020-07-06 21:03:27.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/21c1f5b53d32ed093dd47e58220365ca51de49ec', 'message': 'Add openstack/devstack-plugin-ceph in vexxhost tenant\n\nNeeded-By: https://review.opendev.org/739603/\nChange-Id: I3f724d1c0678c0addd025e07c951ed8ea7879af1\n'}]",0,739602,21c1f5b53d32ed093dd47e58220365ca51de49ec,9,3,2,31746,,,0,"Add openstack/devstack-plugin-ceph in vexxhost tenant

Needed-By: https://review.opendev.org/739603/
Change-Id: I3f724d1c0678c0addd025e07c951ed8ea7879af1
",git fetch https://review.opendev.org/openstack/project-config refs/changes/02/739602/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,2effc4bd7b8a758a7652dc89a1f575e289092370,, - openstack/devstack-plugin-ceph,,1,0
openstack%2Ftripleo-heat-templates~master~Iaced2ba676a4e4f651c67da082797cc1c1ffccd1,openstack/tripleo-heat-templates,master,Iaced2ba676a4e4f651c67da082797cc1c1ffccd1,Ensure we use only /run instead of /var/run,MERGED,2020-06-18 10:04:17.000000000,2020-07-07 01:16:43.000000000,2020-07-07 01:15:20.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6962}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17823}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30742}]","[{'number': 1, 'created': '2020-06-18 10:04:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8628f59886dc98cec0ecc2f2dbb275d6205553ea', 'message': 'Ensure we use only /run instead of /var/run\n\nThere is no real value using /var/run instead of /run, especially since\n/var/run is a symlink to /run.\n\nThis patch also removes duplicated mounts due to this very symlink.\n\nChange-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1\n'}, {'number': 2, 'created': '2020-06-25 05:26:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/539219e406bd83efee08ae5f309c7a774263e95c', 'message': 'Ensure we use only /run instead of /var/run\n\nThere is no real value using /var/run instead of /run, especially since\n/var/run is a symlink to /run.\n\nThis patch also removes duplicated mounts due to this very symlink.\n\nChange-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1\n'}, {'number': 3, 'created': '2020-07-02 05:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5c714e9ea2234362c57ef446e6519042d600d32', 'message': 'Ensure we use only /run instead of /var/run\n\nThere is no real value using /var/run instead of /run, especially since\n/var/run is a symlink to /run.\n\nThis patch also removes duplicated mounts due to this very symlink.\n\nChange-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1\n'}, {'number': 4, 'created': '2020-07-06 07:19:02.000000000', 'files': ['deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'releasenotes/notes/converge-var_run-to-run-20286a74e780e999.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e047d8314218ca25da88786809d63f1cbe90428e', 'message': 'Ensure we use only /run instead of /var/run\n\nThere is no real value using /var/run instead of /run, especially since\n/var/run is a symlink to /run.\n\nThis patch also removes duplicated mounts due to this very symlink.\n\nChange-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1\n'}]",4,736521,e047d8314218ca25da88786809d63f1cbe90428e,64,13,4,28223,,,0,"Ensure we use only /run instead of /var/run

There is no real value using /var/run instead of /run, especially since
/var/run is a symlink to /run.

This patch also removes duplicated mounts due to this very symlink.

Change-Id: Iaced2ba676a4e4f651c67da082797cc1c1ffccd1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/21/736521/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/redis-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/manila/manila-share-common.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/neutron/neutron-ovs-agent-container-puppet.yaml', 'releasenotes/notes/converge-var_run-to-run-20286a74e780e999.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'deployment/mistral/mistral-executor-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/metrics/collectd-container-puppet.yaml']",13,8628f59886dc98cec0ecc2f2dbb275d6205553ea,converge-var-run-to-run, collectd::plugin::unixsock::socketfile: /run/collectd-socket - /run/:/run:rw, collectd::plugin::unixsock::socketfile: /var/run/collectd-socket - /var/run/:/var/run:rw,38,35
openstack%2Ftripleo-heat-templates~master~I04cb72210fbd25a720158988698a300140f4e7db,openstack/tripleo-heat-templates,master,I04cb72210fbd25a720158988698a300140f4e7db,undercloud/heat: set YAQL memory quota to 200000,MERGED,2020-07-03 14:59:49.000000000,2020-07-07 01:16:40.000000000,2020-07-07 01:15:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 14:59:49.000000000', 'files': ['environments/undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c67c53a8d8094382bc75e7d56480ecb3f8897610', 'message': 'undercloud/heat: set YAQL memory quota to 200000\n\nSince the ""optimization"" [1] of host entries in Heat and it\'s YAQLization,\nwe need to increase the memory quota for YAQL queries or the resource\nwill fail to process at large scale (250 nodes).\n\n[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc\n\nChange-Id: I04cb72210fbd25a720158988698a300140f4e7db\nCloses-Bug: #1886203\n'}]",1,739249,c67c53a8d8094382bc75e7d56480ecb3f8897610,19,7,1,3153,,,0,"undercloud/heat: set YAQL memory quota to 200000

Since the ""optimization"" [1] of host entries in Heat and it's YAQLization,
we need to increase the memory quota for YAQL queries or the resource
will fail to process at large scale (250 nodes).

[1] 3b8e6f78e19e776c087dc5c3ff225703b5c487bc

Change-Id: I04cb72210fbd25a720158988698a300140f4e7db
Closes-Bug: #1886203
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/739249/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/undercloud.yaml'],1,c67c53a8d8094382bc75e7d56480ecb3f8897610,bug/1886203, HeatYaqlMemoryQuota: 200000,,1,0
openstack%2Fpython-tripleoclient~stable%2Fussuri~I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,openstack/python-tripleoclient,stable/ussuri,I7651144cdb7142647b1c6303c4af4ba2ca2e2c58,Bump tripleo-common,MERGED,2020-07-06 12:53:10.000000000,2020-07-07 01:16:37.000000000,2020-07-07 01:15:15.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 12:53:10.000000000', 'files': ['requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2375426cdcd4dda7f4eb213a7a0bebad0787b985', 'message': 'Bump tripleo-common\n\nFor the Container Image Build command, we need new functionalities from\nthe BuildahBuilder that were released after 12.4.0 tag.\n\nThis patch makes sure tripleo-common >= 12.4.0 is pulled in the Python\njobs.\n\nChange-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58\n(cherry picked from commit 185d9f89542366bafb891cf725384e310b0137e0)\n'}]",0,739483,2375426cdcd4dda7f4eb213a7a0bebad0787b985,10,3,1,3153,,,0,"Bump tripleo-common

For the Container Image Build command, we need new functionalities from
the BuildahBuilder that were released after 12.4.0 tag.

This patch makes sure tripleo-common >= 12.4.0 is pulled in the Python
jobs.

Change-Id: I7651144cdb7142647b1c6303c4af4ba2ca2e2c58
(cherry picked from commit 185d9f89542366bafb891cf725384e310b0137e0)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/83/739483/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt']",2,2375426cdcd4dda7f4eb213a7a0bebad0787b985,tripleo-common-stable/ussuri,tripleo-common==12.4.0,tripleo-common==12.2.0,2,2
openstack%2Fpython-tripleoclient~stable%2Fussuri~I279e95722fe7a10148d36c99c7179c33a3a767a0,openstack/python-tripleoclient,stable/ussuri,I279e95722fe7a10148d36c99c7179c33a3a767a0,Add openstack tripleo container image build,MERGED,2020-07-03 13:55:35.000000000,2020-07-07 01:15:16.000000000,2020-07-07 01:15:16.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-03 13:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5718014d99750a58cd28d12465b28cc236e19c74', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)\n'}, {'number': 2, 'created': '2020-07-06 12:54:32.000000000', 'files': ['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'bindep.txt', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v2/container_image/__init__.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/28d1d62c7fea529f78fd5e363ff808900a713b97', 'message': 'Add openstack tripleo container image build\n\nThis change adds a v2 entry point to allow us to build images within the\nnative tripleoclient. Images will leverage the new\n`tripleo_container_image_build` role which will produce simplified\ncontainer files and and an image structure inline with the simple\ncontainer generation spec.\n\nDepends-On: https://review.opendev.org/722486\n\nChange-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)\n'}]",0,739236,28d1d62c7fea529f78fd5e363ff808900a713b97,9,3,2,3153,,,0,"Add openstack tripleo container image build

This change adds a v2 entry point to allow us to build images within the
native tripleoclient. Images will leverage the new
`tripleo_container_image_build` role which will produce simplified
container files and and an image structure inline with the simple
container generation spec.

Depends-On: https://review.opendev.org/722486

Change-Id: I279e95722fe7a10148d36c99c7179c33a3a767a0
Signed-off-by: Kevin Carter <kecarter@redhat.com>
(cherry picked from commit 1c09e83744d5c98437db7b756c6cda52d7225d5e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/36/739236/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v2/container_image/test_tripleo_container_image.py', 'bindep.txt', 'tripleoclient/v2/tripleo_container_image.py', 'tripleoclient/tests/v2/container_image/__init__.py', 'setup.cfg']",5,5718014d99750a58cd28d12465b28cc236e19c74,images/new-stable/ussuri, tripleo_container_image_build = tripleoclient.v2.tripleo_container_image:Build,,775,0
openstack%2Fpuppet-tripleo~stable%2Fussuri~Idf106c9ffa23ed00c497e1e5014e1b5718254320,openstack/puppet-tripleo,stable/ussuri,Idf106c9ffa23ed00c497e1e5014e1b5718254320,Ensure that the HAProxy certificate is updated,MERGED,2020-07-06 16:17:02.000000000,2020-07-07 01:15:14.000000000,2020-07-07 01:15:14.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:17:02.000000000', 'files': ['files/certmonger-haproxy-refresh.sh'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/146674dcea0bca513a6d9ea0087f06c4c300a0bc', 'message': ""Ensure that the HAProxy certificate is updated\n\nWhile doing research for this bugzilla[1] I found that since the\nactual certificate PEM file is being bind mounted the mount is acting\nas a hard link to the inode of the PEM rather than just a pointer to\nit's location in the directory.  When the new file is copied over the\ninode is updated but the container still maintains a link to the stale\ninode.  This patch copies the contents of the certificate into the\ncontainer so that the HUP of HAProxy will reload the certificate.\n\n[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839\n\nChange-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320\nCloses-Bug: 1871663\n(cherry picked from commit c1e09672a52fea82d853d17145901109291ac1f1)\n""}]",0,739537,146674dcea0bca513a6d9ea0087f06c4c300a0bc,7,3,1,3153,,,0,"Ensure that the HAProxy certificate is updated

While doing research for this bugzilla[1] I found that since the
actual certificate PEM file is being bind mounted the mount is acting
as a hard link to the inode of the PEM rather than just a pointer to
it's location in the directory.  When the new file is copied over the
inode is updated but the container still maintains a link to the stale
inode.  This patch copies the contents of the certificate into the
container so that the HUP of HAProxy will reload the certificate.

[1]: https://bugzilla.redhat.com/show_bug.cgi?id=1765839

Change-Id: Idf106c9ffa23ed00c497e1e5014e1b5718254320
Closes-Bug: 1871663
(cherry picked from commit c1e09672a52fea82d853d17145901109291ac1f1)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/739537/1 && git format-patch -1 --stdout FETCH_HEAD,['files/certmonger-haproxy-refresh.sh'],1,146674dcea0bca513a6d9ea0087f06c4c300a0bc,bug/1871663-stable/ussuri," # Refresh the cert at the mount-point $container_cli cp $service_pem ""$haproxy_container_name:/var/lib/kolla/config_files/src-tls/$service_pem"" ",,3,0
openstack%2Fpuppet-tripleo~master~I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,openstack/puppet-tripleo,master,I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8,Switch RGW HAProxy healthcheck to use special RGW healthcheck url,MERGED,2020-06-30 12:53:37.000000000,2020-07-07 01:15:13.000000000,2020-07-07 01:15:13.000000000,"[{'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2020-06-30 12:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/df715604fb8696ea5268d7ed859056e7b209fc80', 'message': 'Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n'}, {'number': 2, 'created': '2020-07-03 12:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/8a7c784912608d491c2fcee20910bc7b8ea19d9a', 'message': 'Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n'}, {'number': 3, 'created': '2020-07-06 12:01:04.000000000', 'files': ['manifests/haproxy.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1994dba33e09033f3a142ef202c6b0afe322b94', 'message': 'Switch RGW HAProxy healthcheck to use special RGW healthcheck url\n\nThe change is made because /swift/healthcheck weights less on RGW\nand avoids overloading the nodes CPU for basic HAProxy checks\n\nFor more information also see [1]\n\n1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16\n\nChange-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8\n'}]",0,738600,f1994dba33e09033f3a142ef202c6b0afe322b94,24,6,3,6796,,,0,"Switch RGW HAProxy healthcheck to use special RGW healthcheck url

The change is made because /swift/healthcheck weights less on RGW
and avoids overloading the nodes CPU for basic HAProxy checks

For more information also see [1]

1. https://bugzilla.redhat.com/show_bug.cgi?id=1850036#c16

Change-Id: I3e2805a922c0e90dc493a3e065bbdc229e5fc7a8
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/00/738600/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/haproxy.pp'],1,df715604fb8696ea5268d7ed859056e7b209fc80,," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /swift/healthcheck' ] }),"," listen_options => merge($default_listen_options, { 'option' => [ 'httpchk GET /' ] }),",1,1
openstack%2Ftripleo-ansible~stable%2Fussuri~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,stable/ussuri,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-07-06 18:40:11.000000000,2020-07-07 01:03:08.000000000,2020-07-07 01:03:08.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:40:11.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7d85cf55de7b5c74a635325c6618ffcb93037903', 'message': ""Prepend timestamp callback output\n\nIt's useful to know when a command last ran as well as being able to\ncross coordinate when something was running between the ansible output\nand other logs. We can use the output timestamp do this.\n\nChange-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589\n(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)\n""}]",0,739574,7d85cf55de7b5c74a635325c6618ffcb93037903,7,4,1,3153,,,0,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/739574/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py']",2,7d85cf55de7b5c74a635325c6618ffcb93037903,callback-improvements-stable/ussuri,"from datetime import datetime def _output(self, msg, color=None): timestamp = datetime.now().strftime(""%Y-%m-%d %H:%M:%S.%f"") if isinstance(msg, list): output = ' | '.join([timestamp] + msg) else: output = timestamp + ' | ' + msg"," def _output(self, msg, color): if isinstance(msg, list): output = ' | '.join(msg) else: output = msg",21,10
openstack%2Fproject-config~master~Ife2442c2f1cef3f672d41cc2c07da6e40dd66098,openstack/project-config,master,Ife2442c2f1cef3f672d41cc2c07da6e40dd66098,Publish Ubuntu Xenial ARM64 wheels,ABANDONED,2018-03-07 19:44:32.000000000,2020-07-07 01:02:59.000000000,,"[{'_account_id': 6088}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-07 19:44:32.000000000', 'files': ['playbooks/wheel/release.yaml', 'zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/06832b34da3f2614238cb5ecd7714170c428123d', 'message': 'Publish Ubuntu Xenial ARM64 wheels\n\nDepends-On: https://review.openstack.org/550578\nChange-Id: Ife2442c2f1cef3f672d41cc2c07da6e40dd66098\n'}]",0,550582,06832b34da3f2614238cb5ecd7714170c428123d,5,3,1,6088,,,0,"Publish Ubuntu Xenial ARM64 wheels

Depends-On: https://review.openstack.org/550578
Change-Id: Ife2442c2f1cef3f672d41cc2c07da6e40dd66098
",git fetch https://review.opendev.org/openstack/project-config refs/changes/82/550582/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/wheel/release.yaml', 'zuul.d/projects.yaml']",2,06832b34da3f2614238cb5ecd7714170c428123d,arm64-testing, - publish-wheel-mirror-ubuntu-xenial-arm64 - publish-wheel-mirror-ubuntu-xenial-arm64,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I84287d9c1ef110511c66743f9a3a22709077b0cb,openstack/tripleo-heat-templates,stable/ussuri,I84287d9c1ef110511c66743f9a3a22709077b0cb,Exclude /etc/hostname,MERGED,2020-07-06 14:14:35.000000000,2020-07-07 00:55:30.000000000,2020-07-07 00:55:30.000000000,"[{'_account_id': 7353}, {'_account_id': 9592}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:14:35.000000000', 'files': ['common/container-puppet.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ab3de5899440c4ce98a7ea8c7344bc5f13cafdb', 'message': 'Exclude /etc/hostname\n\nSimilar to the previous patch where we excluded /etc/hosts, it turns out\nthat /etc/hostname is also a special file that cannot be synced in via\nkolla because they are bindmounted internally.\n\nhttps://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236\n\nAdditionally this change includes cleanup for end users who may have hit\nLP#1860607 and allows folks who have hit this to just simply rerun the\ndeployment and not have to manually cleanup the synced files.\n\nChange-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb\nCloses-Bug: #1885619\n(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)\n'}]",0,739496,7ab3de5899440c4ce98a7ea8c7344bc5f13cafdb,9,6,1,3153,,,0,"Exclude /etc/hostname

Similar to the previous patch where we excluded /etc/hosts, it turns out
that /etc/hostname is also a special file that cannot be synced in via
kolla because they are bindmounted internally.

https://github.com/containers/libpod/blob/6ac009d5304127f6758be157c7302646e5a481e5/libpod/container_internal_linux.go#L1236

Additionally this change includes cleanup for end users who may have hit
LP#1860607 and allows folks who have hit this to just simply rerun the
deployment and not have to manually cleanup the synced files.

Change-Id: I84287d9c1ef110511c66743f9a3a22709077b0cb
Closes-Bug: #1885619
(cherry picked from commit 777920dfba58fa7b26c063fa5d6df0203009d12c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/739496/1 && git format-patch -1 --stdout FETCH_HEAD,['common/container-puppet.sh'],1,7ab3de5899440c4ce98a7ea8c7344bc5f13cafdb,bug/1885619-stable/ussuri," ro_files+=""/etc/hosts /etc/localtime /etc/hostname"" # Cleanup any special files that might have been copied into place # previously because fixes for LP#1860607 did not cleanup and required # manual intervention if a container hit this. We can safely remove these # files because they should be bind mounted into containers for ro in $ro_files; do if [ -e ""${puppet_generated_path}/${ro}"" ]; then rm -rf ""${puppet_generated_path}/${ro}"" fi done "," ro_files+=""/etc/hosts /etc/localtime""",11,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,openstack/tripleo-ansible,stable/ussuri,I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01,Molecule testing for TripleO Strategy Plugins,MERGED,2020-07-03 13:56:25.000000000,2020-07-07 00:27:17.000000000,2020-07-07 00:27:17.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 13:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aca582ff11b04ccf2f3696836a8b201ffbd228f8', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 2, 'created': '2020-07-06 14:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ba67f6baa9b589b27371373d7b4637924a79b3fc', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}, {'number': 3, 'created': '2020-07-06 18:58:31.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-free.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-fail', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-success', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-linear.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fcefdf809c525f34e6d92858b3d5424f76ad88a0', 'message': ""Molecule testing for TripleO Strategy Plugins\n\nFor both tripleo_free and tripleo_linear, add molecule tests that will\nexecute a simple task (for now) and test the max_fail_percentage value\nthat is defined in the Ansible inventory.\n\nWe simulate a failure on one compute node, which shouldn't make the\nplaybook failing since we tolerate 50% of failure (we have 6 nodes and\none failure).\n\nChange-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01\n(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)\n""}]",0,739237,fcefdf809c525f34e6d92858b3d5424f76ad88a0,14,3,3,3153,,,0,"Molecule testing for TripleO Strategy Plugins

For both tripleo_free and tripleo_linear, add molecule tests that will
execute a simple task (for now) and test the max_fail_percentage value
that is defined in the Ansible inventory.

We simulate a failure on one compute node, which shouldn't make the
playbook failing since we tolerate 50% of failure (we have 6 nodes and
one failure).

Change-Id: I97a0171f9e7ba08f020ac7cf224a9ff9f6a34d01
(cherry picked from commit 54ea54c26b777709fd636b376cce1d5078ae287c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/37/739237/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-free.yml', 'ansible-test-env.rc', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/converge.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-fail', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/inventory-success', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/tripleo_strategies/tripleo-linear.yml']",8,aca582ff11b04ccf2f3696836a8b201ffbd228f8,molecule/strats-stable/ussuri,"--- # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Run a first play with tests for the tripleo_linear strategy hosts: all any_errors_fatal: true gather_facts: false strategy: tripleo_linear tasks: - name: Run a task that will fail on one host debug: msg: ""Task running with tripleo_linear strategy with max_fail_percentage set to {{ max_fail_percentage|default('undefined') }}"" failed_when: - ansible_host in ['instance5'] - name: Run a task after a potential failure on a node debug: msg: ""Task running on {{ ansible_host }} after a potential failure"" - name: Run a second play with tests for the tripleo_linear strategy hosts: all any_errors_fatal: true gather_facts: false strategy: tripleo_linear tasks: - name: Run a task on a node debug: msg: ""Task running on {{ ansible_host }}"" ",,211,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,openstack/tripleo-ansible,stable/ussuri,I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0,Max percentage failure support,MERGED,2020-07-06 18:58:04.000000000,2020-07-07 00:24:44.000000000,2020-07-07 00:24:44.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:58:04.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7965ae030b34f8196628910c2f53a8ff7cc94e37', 'message': 'Max percentage failure support\n\nIn this patch we update the new strategies so they support a max failure\npercentage on a play. Which will be useful for the tripleo roles so we\ncan tolerate some % of failure (e.g. on computes) during a deployment.\n\nCo-Authored-By: Alex Schultz <aschultz@redhat.com>\nCo-Authored-By: Kevin Carter <kecarter@redhat.com>\nCo-Authored-By: Emilien Macchi <emilien@redhat.com>\n\nChange-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0\n(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)\n'}]",0,739584,7965ae030b34f8196628910c2f53a8ff7cc94e37,7,3,1,3153,,,0,"Max percentage failure support

In this patch we update the new strategies so they support a max failure
percentage on a play. Which will be useful for the tripleo roles so we
can tolerate some % of failure (e.g. on computes) during a deployment.

Co-Authored-By: Alex Schultz <aschultz@redhat.com>
Co-Authored-By: Kevin Carter <kecarter@redhat.com>
Co-Authored-By: Emilien Macchi <emilien@redhat.com>

Change-Id: I30a930e4f7b8200ffa67c17b967db8a1fb60b4c0
(cherry picked from commit 87f9c9354884eace00bf7d42fbaa775055217e3f)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/84/739584/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",3,7965ae030b34f8196628910c2f53a8ff7cc94e37,maxfail/ussuri," self._fail_cache = {} def _get_fail_percent(self, host): """"""Return maximum percentage failure per role"""""" if host and host in self._fail_cache: return self._fail_cache[host] fail_vars = self._variable_manager.get_vars(play=self._iterator._play, host=host, task=None) percent = fail_vars.get('max_fail_percentage', 0) role = fail_vars.get('tripleo_role_name', 'default') self._fail_cache[host] = (percent, role) return (percent, role) def _check_fail_percent(self, host, current_failures): """"""Check if max fail pourcentage was reached When a failure occurs for a host, check if we reached the max percentage of failure for the group in which the host is part from. """""" percent, role = self._get_fail_percent(host) current_failed = current_failures.get(role, 1) groups = self._inventory.get_groups_dict() group_count = len(groups.get(role, [])) if group_count == 0: return True failed_percent = (current_failed / group_count) * 100 if failed_percent > percent: return True return False def _get_current_failures(self): """"""Return the number of failures per role"""""" failures = {} for host, _ in self._iterator.get_failed_hosts().items(): host_obj = self._inventory.get_host(host) per, role = self._get_fail_percent(host_obj) if role in failures: failures[role] += 1 else: failures[role] = 1 return failures ",,57,5
openstack%2Ftripleo-ansible~stable%2Ftrain~I3f55f0a7f966f025a9938576ccf735f50f4c8589,openstack/tripleo-ansible,stable/train,I3f55f0a7f966f025a9938576ccf735f50f4c8589,Prepend timestamp callback output,MERGED,2020-07-06 18:40:21.000000000,2020-07-07 00:18:36.000000000,2020-07-07 00:18:36.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:40:21.000000000', 'files': ['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/935f3ddd8d2b559f1faa343b079810be5a90a724', 'message': ""Prepend timestamp callback output\n\nIt's useful to know when a command last ran as well as being able to\ncross coordinate when something was running between the ansible output\nand other logs. We can use the output timestamp do this.\n\nChange-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589\n(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)\n""}]",0,739575,935f3ddd8d2b559f1faa343b079810be5a90a724,7,4,1,3153,,,0,"Prepend timestamp callback output

It's useful to know when a command last ran as well as being able to
cross coordinate when something was running between the ansible output
and other logs. We can use the output timestamp do this.

Change-Id: I3f55f0a7f966f025a9938576ccf735f50f4c8589
(cherry picked from commit 97b68ec0597123840ee3d1c5b58422e6c437cb05)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/75/739575/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/callback/tripleo_profile_tasks.py', 'tripleo_ansible/ansible_plugins/callback/tripleo_dense.py']",2,935f3ddd8d2b559f1faa343b079810be5a90a724,callback-improvements-stable/train,"from datetime import datetime def _output(self, msg, color=None): timestamp = datetime.now().strftime(""%Y-%m-%d %H:%M:%S.%f"") if isinstance(msg, list): output = ' | '.join([timestamp] + msg) else: output = timestamp + ' | ' + msg"," def _output(self, msg, color): if isinstance(msg, list): output = ' | '.join(msg) else: output = msg",21,10
openstack%2Ftripleo-ansible~stable%2Fussuri~I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,openstack/tripleo-ansible,stable/ussuri,I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0,Make throttle optional,MERGED,2020-07-06 19:04:38.000000000,2020-07-07 00:16:35.000000000,2020-07-07 00:16:35.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 19:04:38.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8d4059e51272837d031d15f804787208b5e814c4', 'message': ""Make throttle optional\n\nTasks did not have the concept of throttling prior to ansible 2.9 so if\nwe want to allow this to be re-used with older versions then we need to\nskip the throttling code if task doesn't contain the throttle attribute.\nThis will help if we want to backport this for upgrades.\n\nChange-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0\n(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)\n""}]",0,739585,8d4059e51272837d031d15f804787208b5e814c4,7,4,1,3153,,,0,"Make throttle optional

Tasks did not have the concept of throttling prior to ansible 2.9 so if
we want to allow this to be re-used with older versions then we need to
skip the throttling code if task doesn't contain the throttle attribute.
This will help if we want to backport this for upgrades.

Change-Id: I01f6e3a69dec25ec69782c087d6b81ce3f33e6c0
(cherry picked from commit ee3c9c841e466c7fed7639bf3b5e19dbbe42abba)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/85/739585/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,8d4059e51272837d031d15f804787208b5e814c4,throttle/ussuri," # if task has a throttle attribute, check throttle e.g. ansible > 2.9 throttle = getattr(task, 'throttle', None) if throttle is not None: try: throttle = int(templar.template(throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak()"," try: throttle = int(templar.template(task.throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak()",11,8
openstack%2Ftripleo-ansible~stable%2Ftrain~I501f31b52db6e10826bd9a346d38e34f95ae8b75,openstack/tripleo-ansible,stable/train,I501f31b52db6e10826bd9a346d38e34f95ae8b75,Implement container_startup_config module,MERGED,2020-07-03 19:36:09.000000000,2020-07-07 00:16:34.000000000,2020-07-07 00:16:33.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-03 19:36:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cb01e0420701f07191af2878582debbb7ec79085', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)\n(cherry picked from commit 80f9ccd7f433fdffbef38cfd40c00b7b574b4bae)\n""}, {'number': 2, 'created': '2020-07-06 18:37:44.000000000', 'files': ['tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/playbook.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/254922887b2a5aea665d1e325e7ab2eb60915e43', 'message': ""Implement container_startup_config module\n\ncontainer_startup_config will replace a bunch of tasks that we did in\nTHT to generate the .json file for each container in\n/var/lib/tripleo-config/container-startup-config.\n\nIt'll accelerate a bit the deployment by replacing tasks into a\nsingle module, so we can generate the startup configs much faster.\n\nAlso tolerate empty configs in container_config_data, switching a\nfailure into a debug. If the config is empty, there is no need to run\nthe rest of the role tasks in tripleo_container_manage.\n\nNote: we manage the SElinux context at the openstack-selinux:\nhttps://github.com/redhat-openstack/openstack-selinux/commit/0b62\n\nCherry-pick note: rename converge.yml to playbook.yml for comptatibility\nwith how Molecule is running under stable/train branch.\n\nChange-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75\n(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)\n(cherry picked from commit 80f9ccd7f433fdffbef38cfd40c00b7b574b4bae)\n""}]",0,739279,254922887b2a5aea665d1e325e7ab2eb60915e43,10,3,2,3153,,,0,"Implement container_startup_config module

container_startup_config will replace a bunch of tasks that we did in
THT to generate the .json file for each container in
/var/lib/tripleo-config/container-startup-config.

It'll accelerate a bit the deployment by replacing tasks into a
single module, so we can generate the startup configs much faster.

Also tolerate empty configs in container_config_data, switching a
failure into a debug. If the config is empty, there is no need to run
the rest of the role tasks in tripleo_container_manage.

Note: we manage the SElinux context at the openstack-selinux:
https://github.com/redhat-openstack/openstack-selinux/commit/0b62

Cherry-pick note: rename converge.yml to playbook.yml for comptatibility
with how Molecule is running under stable/train branch.

Change-Id: I501f31b52db6e10826bd9a346d38e34f95ae8b75
(cherry picked from commit 76bb50476247f367c85d0e8a64dabebb6da1ee4c)
(cherry picked from commit 80f9ccd7f433fdffbef38cfd40c00b7b574b4bae)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/79/739279/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/container-configs.yml', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-manage/tasks/main.yml', 'tripleo_ansible/ansible_plugins/modules/container_config_data.py', 'tripleo_ansible/ansible_plugins/modules/container_startup_config.py', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/prepare.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/molecule.yml', 'tripleo_ansible/ansible_plugins/tests/molecule/container_startup_config/converge.yml']",8,cb01e0420701f07191af2878582debbb7ec79085,container_startup_config/train,"--- - name: Converge hosts: all become: true tasks: - name: Create temporary for container configs tempfile: state: directory suffix: container_startup_config_tmp register: container_startup_config_tmp_dir - name: Generate container startup configs container_startup_config: config_data: ""{{ lookup('file', playbook_dir + '/container-configs.yml', errors='ignore') | default({}, True) | from_yaml }}"" config_base_dir: ""{{ container_startup_config_tmp_dir.path }}"" - name: Check that HAproxy container configuration file was created stat: path: ""{{ container_startup_config_tmp_dir.path }}/step_1/haproxy.json"" register: st_haproxy failed_when: - not st_haproxy.stat.exists - name: Check that HAproxy container configuration is correct slurp: src: ""{{ container_startup_config_tmp_dir.path }}/step_1/haproxy.json"" register: slurp_haproxy failed_when: - ('openstack-haproxy' not in slurp_haproxy['content']|b64decode) ",,271,15
openstack%2Fopenstack-ansible-os_keystone~stable%2Ftrain~Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,openstack/openstack-ansible-os_keystone,stable/train,Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd,Identity Providers support improvments,MERGED,2020-07-06 18:22:31.000000000,2020-07-06 23:55:11.000000000,2020-07-06 23:53:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29865}]","[{'number': 1, 'created': '2020-07-06 18:22:31.000000000', 'files': ['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/44b7ca7d3f8f53a6e2434cfaff103c5c647abfb0', 'message': 'Identity Providers support improvments\n\nIdentity providers can be created with specified domain\nIDPs are linked to a keystone domain. Currently when we provision a new IDP\nit gets created within a new autogenerated domain. Provisioners can now\ngive a domain_id in an IDP entry within the trusted_idp_list and the IDP\nwill be created within that domain.\n\nAdd IDP display_name to defaults\nAllows operator a name different to the one used in the backend\nto display to the user in the horizon Identity Provider dropdown.\n\nChange-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd\n(cherry picked from commit 4c9642765e632d409c6d9028aae26f4514af7033)\n'}]",0,739571,44b7ca7d3f8f53a6e2434cfaff103c5c647abfb0,8,4,1,25023,,,0,"Identity Providers support improvments

Identity providers can be created with specified domain
IDPs are linked to a keystone domain. Currently when we provision a new IDP
it gets created within a new autogenerated domain. Provisioners can now
give a domain_id in an IDP entry within the trusted_idp_list and the IDP
will be created within that domain.

Add IDP display_name to defaults
Allows operator a name different to the one used in the backend
to display to the user in the horizon Identity Provider dropdown.

Change-Id: Iaf9f1b9198f14c903f9801e0ce7da86b74d9c5bd
(cherry picked from commit 4c9642765e632d409c6d9028aae26f4514af7033)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/71/739571/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/keystone_federation_sp_idp_setup.yml', 'defaults/main.yml']",2,44b7ca7d3f8f53a6e2434cfaff103c5c647abfb0,idp-improvements-stable/train,"# domain_id: ""default"" # display_name: ""Keystone IDP"" # Optional, used in Horizon IDP dropdown",,3,0
openstack%2Fnova~stable%2Fstein~I2d8bbffb3f58f5d0190e970ff860162c122a9b0e,openstack/nova,stable/stein,I2d8bbffb3f58f5d0190e970ff860162c122a9b0e,"Revert ""Make greande jobs n-v for EM and oldest stable""",MERGED,2020-07-06 11:15:17.000000000,2020-07-06 23:26:36.000000000,2020-07-06 23:22:50.000000000,"[{'_account_id': 8556}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-06 11:15:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/42e63203978095c598e21e9a74baec20e262b416', 'message': 'Revert ""Make greande jobs n-v for EM and oldest stable""\n\nThis reverts commit b05bf09b2d50bd77d33a31babe204ba7969f0221.\n\nNOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started\nto pass. We can enable grenades again to restore testing as it was\nbefore.\n\nChange-Id: I2d8bbffb3f58f5d0190e970ff860162c122a9b0e\n'}]",0,739464,42e63203978095c598e21e9a74baec20e262b416,12,6,1,17685,,,0,"Revert ""Make greande jobs n-v for EM and oldest stable""

This reverts commit b05bf09b2d50bd77d33a31babe204ba7969f0221.

NOTE(elod.illes): devstack in Rocky is fixed and grenade jobs started
to pass. We can enable grenades again to restore testing as it was
before.

Change-Id: I2d8bbffb3f58f5d0190e970ff860162c122a9b0e
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/739464/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,42e63203978095c598e21e9a74baec20e262b416,grenade-em-nv, - nova-grenade-live-migration - nova-grenade-live-migration - grenade-py3: irrelevant-files: *dsvm-irrelevant-files, voting: false - nova-grenade-live-migration: voting: false voting: false,4,4
openstack%2Fopenstack-ansible~stable%2Ftrain~I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf,openstack/openstack-ansible,stable/train,I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf,Fix inventory_manage when the component for a host is not defined,MERGED,2020-06-24 14:22:27.000000000,2020-07-06 23:15:48.000000000,2020-07-06 23:13:43.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-06-24 14:22:27.000000000', 'files': ['osa_toolkit/manage.py'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5eee6976d170872c7036898efd7e583e410ca360', 'message': 'Fix inventory_manage when the component for a host is not defined\n\nPreviously this would fail with a stacktrace, so now display something\nuseful when the component is not defined.\n\nChange-Id: I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf\n(cherry picked from commit 5c53b88e4c4401d2baf9af98dc0676255ff31899)\n'}]",0,737814,5eee6976d170872c7036898efd7e583e410ca360,18,3,1,25023,,,0,"Fix inventory_manage when the component for a host is not defined

Previously this would fail with a stacktrace, so now display something
useful when the component is not defined.

Change-Id: I27aa0d0b32fd1db47cc2fc43afbad085ea22d0bf
(cherry picked from commit 5c53b88e4c4401d2baf9af98dc0676255ff31899)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/14/737814/1 && git format-patch -1 --stdout FETCH_HEAD,['osa_toolkit/manage.py'],1,5eee6976d170872c7036898efd7e583e410ca360,," if _rl == 'component': if values.get(_rl) is None: values[_rl] = ""-undefined-""",,3,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,stable/train,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-07-06 16:20:13.000000000,2020-07-06 22:45:26.000000000,2020-07-06 22:45:26.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 16:20:13.000000000', 'files': ['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e3fb917193cc2a568c899c9e178da5222b91bad1', 'message': 'Fix host entries permissions\n\nThe cleanup tasks needs become: true because it was created with root.\n\nChange-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b\nRelated-Bug: #1883609\n(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)\n'}]",0,739540,e3fb917193cc2a568c899c9e178da5222b91bad1,7,4,1,3153,,,0,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/739540/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hosts-entries/tasks/main.yml'],1,e3fb917193cc2a568c899c9e178da5222b91bad1,host/perm/train, become: true,,1,0
openstack%2Fironic-python-agent~stable%2Ftrain~I3e0d237d37219e783d81913fa6cc490492b3f96a,openstack/ironic-python-agent,stable/train,I3e0d237d37219e783d81913fa6cc490492b3f96a,Limit Inspection->Lookup->Heartbeat lag,MERGED,2020-07-06 18:24:10.000000000,2020-07-06 22:25:15.000000000,2020-07-06 22:21:58.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 18:24:10.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/inspect-to-clean-b3616d843775c187.yaml', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/3e053f05be424c00fb7ba5733f72db6beeaff393', 'message': 'Limit Inspection->Lookup->Heartbeat lag\n\nCaches hardware information collected during inspection\nso that the initial lookup can occur without any delay.\n\nAlso adds logging to track how long inventory collection takes.\n\nConflicts:\n\tironic_python_agent/hardware.py\n\tironic_python_agent/tests/unit/base.py\n\tironic_python_agent/tests/unit/test_hardware.py\n\tironic_python_agent/tests/unit/test_inspector.py\n\nCo-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>\nChange-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a\n(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)\n'}]",0,739572,3e053f05be424c00fb7ba5733f72db6beeaff393,8,3,1,10239,,,0,"Limit Inspection->Lookup->Heartbeat lag

Caches hardware information collected during inspection
so that the initial lookup can occur without any delay.

Also adds logging to track how long inventory collection takes.

Conflicts:
	ironic_python_agent/hardware.py
	ironic_python_agent/tests/unit/base.py
	ironic_python_agent/tests/unit/test_hardware.py
	ironic_python_agent/tests/unit/test_inspector.py

Co-Authored-By: Dmitry Tantsur <dtantsur@protonmail.com>
Change-Id: I3e0d237d37219e783d81913fa6cc490492b3f96a
(cherry picked from commit c76b8b2c217d57680baec977b374e821304198f9)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/72/739572/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_inspector.py', 'ironic_python_agent/inspector.py', 'ironic_python_agent/tests/unit/base.py', 'releasenotes/notes/inspect-to-clean-b3616d843775c187.yaml', 'ironic_python_agent/agent.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/test_agent.py']",8,3e053f05be424c00fb7ba5733f72db6beeaff393,, self.assertTrue(mock_wait.called) self.assertTrue(mock_wait.called), self.assertFalse(mock_wait.called) self.assertFalse(mock_wait.called),66,6
openstack%2Fdevstack~master~I4475247dfe986114d37678b3d3d552c0c7d02ddc,openstack/devstack,master,I4475247dfe986114d37678b3d3d552c0c7d02ddc,"Revert ""Drop keystone dedicated ports""",MERGED,2020-07-06 18:42:30.000000000,2020-07-06 22:23:51.000000000,2020-07-06 22:21:41.000000000,"[{'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27329}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-07-06 18:42:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/901150c7de54e20321304ee103315f0d553a363c', 'message': 'Revert ""Drop keystone dedicated ports""\n\nThis reverts commit f6286cb586eb1f861866bfdf85c4f873c79fd592.\n\nThis patch is blocking glance as it needs mod_wsgi to perform new import workflow.\n\nChange-Id: I4475247dfe986114d37678b3d3d552c0c7d02ddc\n'}, {'number': 2, 'created': '2020-07-06 19:01:24.000000000', 'files': ['lib/keystone', 'doc/source/configuration.rst', 'tools/create_userrc.sh', 'openrc', 'tools/fixup_stuff.sh', 'files/apache-keystone.template'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f8dbfd394a826779f3af403fd5316b9d86492802', 'message': 'Revert ""Drop keystone dedicated ports""\n\nThis reverts commit f6286cb586eb1f861866bfdf85c4f873c79fd592.\n\nThis patch is blocking glance as it needs mod_wsgi to perform new import workflow.\n\nChange-Id: I4475247dfe986114d37678b3d3d552c0c7d02ddc\n'}]",0,739576,f8dbfd394a826779f3af403fd5316b9d86492802,11,6,2,9303,,,0,"Revert ""Drop keystone dedicated ports""

This reverts commit f6286cb586eb1f861866bfdf85c4f873c79fd592.

This patch is blocking glance as it needs mod_wsgi to perform new import workflow.

Change-Id: I4475247dfe986114d37678b3d3d552c0c7d02ddc
",git fetch https://review.opendev.org/openstack/devstack refs/changes/76/739576/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/keystone', 'doc/source/configuration.rst', 'tools/create_userrc.sh', 'openrc', 'tools/fixup_stuff.sh', 'files/apache-keystone.template']",6,901150c7de54e20321304ee103315f0d553a363c,drop-keystone-ports,"Listen %PUBLICPORT% Listen %ADMINPORT%<VirtualHost *:%PUBLICPORT%> WSGIDaemonProcess keystone-public processes=3 threads=1 user=%USER% display-name=%{GROUP} %VIRTUALENV% WSGIProcessGroup keystone-public WSGIScriptAlias / %KEYSTONE_BIN%/keystone-wsgi-public WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On ErrorLogFormat ""%M"" ErrorLog /var/log/%APACHE_NAME%/keystone.log CustomLog /var/log/%APACHE_NAME%/keystone_access.log keystone_combined %SSLENGINE% %SSLCERTFILE% %SSLKEYFILE% </VirtualHost> <VirtualHost *:%ADMINPORT%> WSGIDaemonProcess keystone-admin processes=3 threads=1 user=%USER% display-name=%{GROUP} %VIRTUALENV% WSGIProcessGroup keystone-admin WSGIScriptAlias / %KEYSTONE_BIN%/keystone-wsgi-admin WSGIApplicationGroup %{GLOBAL} WSGIPassAuthorization On ErrorLogFormat ""%M"" ErrorLog /var/log/%APACHE_NAME%/keystone.log CustomLog /var/log/%APACHE_NAME%/keystone_access.log keystone_combined %SSLENGINE% %SSLCERTFILE% %SSLKEYFILE% </VirtualHost> ",,137,12
openstack%2Fproject-config~master~Ia6ced2330df3f6ee4d2794743ef9436aac800b96,openstack/project-config,master,Ia6ced2330df3f6ee4d2794743ef9436aac800b96,Air Handler is failed - turn OE off for now,MERGED,2020-07-06 21:15:19.000000000,2020-07-06 21:48:22.000000000,2020-07-06 21:35:21.000000000,"[{'_account_id': 1004}, {'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 21:15:19.000000000', 'files': ['nodepool/nl02.openstack.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/da3f5808039fc7ee559ad542abf406323d3745e1', 'message': 'Air Handler is failed - turn OE off for now\n\nChange-Id: Ia6ced2330df3f6ee4d2794743ef9436aac800b96\n'}]",0,739605,da3f5808039fc7ee559ad542abf406323d3745e1,8,3,1,20754,,,0,"Air Handler is failed - turn OE off for now

Change-Id: Ia6ced2330df3f6ee4d2794743ef9436aac800b96
",git fetch https://review.opendev.org/openstack/project-config refs/changes/05/739605/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl02.openstack.org.yaml'],1,da3f5808039fc7ee559ad542abf406323d3745e1,674091, max-servers: 0 max-servers: 0, max-servers: 20 max-servers: 12,2,2
openstack%2Fnova~master~Ic5e60c8e28263365fad5867e483b6ad55cee7281,openstack/nova,master,Ic5e60c8e28263365fad5867e483b6ad55cee7281,catch libvirt exception when nodedev not found.,MERGED,2020-07-02 10:51:15.000000000,2020-07-06 21:45:28.000000000,2020-07-06 17:48:09.000000000,"[{'_account_id': 7166}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}, {'_account_id': 32071}]","[{'number': 1, 'created': '2020-07-02 10:51:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54d8514adf821127cfa1221c67b91dabb6d3c3b2', 'message': 'catch libvirt exception when nodedev not found.\n\nThis is a minimal fix to workaround instance where libvirt\nretruns stale data due to internal caching. In some cases\nlibivrt can return stale data vai the nodedev api when the\nmac adress of an interface such as an sriov virtual function\ncanages, i.e. when a mac adress is reset after a vm with\na virtual funciton is migrated.\n\nChange-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281\nPartial-Bug: #1883671\n'}, {'number': 2, 'created': '2020-07-06 12:57:13.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/af80c3ffd116837b296e79858595d42c893708a6', 'message': 'catch libvirt exception when nodedev not found.\n\nThis is a minimal fix to workaround instance where libvirt\nretruns stale data due to internal caching. In some cases\nlibivrt can return stale data vai the nodedev api when the\nmac adress of an interface such as an sriov virtual function\ncanages, i.e. when a mac adress is reset after a vm with\na virtual funciton is migrated.\n\nChange-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281\nPartial-Bug: #1883671\n'}]",2,739017,af80c3ffd116837b296e79858595d42c893708a6,34,14,2,11604,,,0,"catch libvirt exception when nodedev not found.

This is a minimal fix to workaround instance where libvirt
retruns stale data due to internal caching. In some cases
libivrt can return stale data vai the nodedev api when the
mac adress of an interface such as an sriov virtual function
canages, i.e. when a mac adress is reset after a vm with
a virtual funciton is migrated.

Change-Id: Ic5e60c8e28263365fad5867e483b6ad55cee7281
Partial-Bug: #1883671
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/739017/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,54d8514adf821127cfa1221c67b91dabb6d3c3b2,bug/1883671," try: virtdev = self._host.device_lookup_by_name(devname) xmlstr = virtdev.XMLDesc(0) cfgdev = vconfig.LibvirtConfigNodeDevice() cfgdev.parse_str(xmlstr) return {'name': cfgdev.name, 'capabilities': cfgdev.pci_capability.features} except libvirt.libvirtError as ex: LOG.warning(ex)"," virtdev = self._host.device_lookup_by_name(devname) xmlstr = virtdev.XMLDesc(0) cfgdev = vconfig.LibvirtConfigNodeDevice() cfgdev.parse_str(xmlstr) return {'name': cfgdev.name, 'capabilities': cfgdev.pci_capability.features}",9,6
openstack%2Ftripleo-heat-templates~master~I373636bbc9d296f41b63de76719320727d3f4fb9,openstack/tripleo-heat-templates,master,I373636bbc9d296f41b63de76719320727d3f4fb9,Add filestore to bluestore migration tags,MERGED,2020-07-03 15:21:06.000000000,2020-07-06 21:44:40.000000000,2020-07-06 19:39:52.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 26343}]","[{'number': 1, 'created': '2020-07-03 15:21:06.000000000', 'files': ['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c9cd67124fb758e9023395e5ae4f8223111e2e51', 'message': ""Add filestore to bluestore migration tags\n\nCurrently ceph-ansible assumes the cluster\n(which is updated to ceph4) is using bluestore\njust because it's the default on ceph-ansible.\nThis patch adds some missing tags to make sure\nthe variable contained in the heat stack are\nproperly regenerated and the fs2bs playbook can\nbe executed with the right variables.\n\nChange-Id: I373636bbc9d296f41b63de76719320727d3f4fb9\n""}]",0,739253,c9cd67124fb758e9023395e5ae4f8223111e2e51,12,9,1,25402,,,0,"Add filestore to bluestore migration tags

Currently ceph-ansible assumes the cluster
(which is updated to ceph4) is using bluestore
just because it's the default on ceph-ansible.
This patch adds some missing tags to make sure
the variable contained in the heat stack are
properly regenerated and the fs2bs playbook can
be executed with the right variables.

Change-Id: I373636bbc9d296f41b63de76719320727d3f4fb9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/53/739253/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/ceph-ansible/ceph-osd.yaml', 'deployment/ceph-ansible/ceph-mon.yaml', 'deployment/ceph-ansible/ceph-nfs.yaml', 'deployment/ceph-ansible/ceph-client.yaml', 'deployment/ceph-ansible/ceph-rgw.yaml', 'deployment/ceph-ansible/ceph-mds.yaml', 'deployment/ceph-ansible/ceph-rbdmirror.yaml', 'deployment/ceph-ansible/ceph-external.yaml', 'deployment/ceph-ansible/ceph-grafana.yaml', 'deployment/ceph-ansible/ceph-mgr.yaml']",10,c9cd67124fb758e9023395e5ae4f8223111e2e51,, tags: - ceph - ceph_fstobs - ceph_systemd, tags: ceph,40,10
openstack%2Fnova~master~I9d6d97563114380f9a7549f08cede4b808352a3e,openstack/nova,master,I9d6d97563114380f9a7549f08cede4b808352a3e,Fix mock for 'autospec' and 'new' together,MERGED,2020-07-05 00:20:59.000000000,2020-07-06 21:39:25.000000000,2020-07-06 21:36:45.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 28522}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-05 00:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0bb33b18daa24e4e404bf10e199e2b36b8687e0', 'message': ""Fix mock for 'autospec' and 'new' together\n\nmock does not accept 'autospec' and 'new' attributes\ntogether to create mock object for tests. If autospec\nis True the mock object is created using create_autospec()\nand pass the keyword args to called function.\n\nIf both are passed then it start failing with oslotest 4.4.0\nwhich is migrated to unittest.mock.\n- https://d088a63e8edc60022939-485bd9eedc766dc9e54cbbb4001038bd.ssl.cf5.rackcdn.com/739330/1/check/cross-nova-py36/843ec44/testr_results.html\n\nCreating mock with autospec only to fix this test to make\nnova pass for oslo 4.4.0 so that requirement\ncan constraint oslotest to 4.4.0 (needed-by patch).\n\nChange-Id: I9d6d97563114380f9a7549f08cede4b808352a3e\nNeeded-By: https://review.opendev.org/#/c/739330/\n""}, {'number': 2, 'created': '2020-07-06 16:11:17.000000000', 'files': ['nova/tests/unit/scheduler/test_filter_scheduler.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2ee9ad25167629f58fb374d8266a27996eadc174', 'message': ""Fix mock for 'autospec' and 'new' together\n\nmock does not accept 'autospec' and 'new' attributes\ntogether to create mock object for tests. If autospec\nis True the mock object is created using create_autospec()\nand pass the keyword args to called function.\n\nIf both are passed then it start failing with oslotest 4.4.0\nwhich is migrated to unittest.mock.\n- https://d088a63e8edc60022939-485bd9eedc766dc9e54cbbb4001038bd.ssl.cf5.rackcdn.com/739330/1/check/cross-nova-py36/843ec44/testr_results.html\n\nCreating mock with autospec only to fix this test to make\nnova pass for oslo 4.4.0 so that requirement\ncan constraint oslotest to 4.4.0 (needed-by patch).\n\nChange-Id: I9d6d97563114380f9a7549f08cede4b808352a3e\nNeeded-By: https://review.opendev.org/#/c/739531/\n""}]",0,739333,2ee9ad25167629f58fb374d8266a27996eadc174,21,10,2,8556,,,0,"Fix mock for 'autospec' and 'new' together

mock does not accept 'autospec' and 'new' attributes
together to create mock object for tests. If autospec
is True the mock object is created using create_autospec()
and pass the keyword args to called function.

If both are passed then it start failing with oslotest 4.4.0
which is migrated to unittest.mock.
- https://d088a63e8edc60022939-485bd9eedc766dc9e54cbbb4001038bd.ssl.cf5.rackcdn.com/739330/1/check/cross-nova-py36/843ec44/testr_results.html

Creating mock with autospec only to fix this test to make
nova pass for oslo 4.4.0 so that requirement
can constraint oslotest to 4.4.0 (needed-by patch).

Change-Id: I9d6d97563114380f9a7549f08cede4b808352a3e
Needed-By: https://review.opendev.org/#/c/739531/
",git fetch https://review.opendev.org/openstack/nova refs/changes/33/739333/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/scheduler/test_filter_scheduler.py'],1,d0bb33b18daa24e4e404bf10e199e2b36b8687e0,," autospec=True) autospec=True) def setUp(self, mock_sch_query, mock_sch_report):"," autospec=True, new=mock.Mock()) autospec=True, new=mock.Mock()) def setUp(self):",3,3
openstack%2Fopenstacksdk~master~Ia8a88587d74d3a4081c8f9e23099e3da2077820e,openstack/openstacksdk,master,Ia8a88587d74d3a4081c8f9e23099e3da2077820e,Tolerate images created with other means,MERGED,2020-07-06 17:24:12.000000000,2020-07-06 21:39:07.000000000,2020-07-06 21:36:37.000000000,"[{'_account_id': 2}, {'_account_id': 9542}, {'_account_id': 13252}, {'_account_id': 14510}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2020-07-06 17:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/52cde658707e811fc27b0f31200cebc4c6432512', 'message': 'Tolerate images created with other means\n\nwhen image was created by other means (or older openstacksdk)\nthe `openstack.image.v2.image.Image[""properties""]` may be present but be\n`None`.\n\nWhen such image is present and one tries to create another image with\nthe same name but different content, current openstacksdk fails with\n\nAttributeError: \'NoneType\' object has no attribute \'get\'\n\nChange-Id: Ia8a88587d74d3a4081c8f9e23099e3da2077820e\nStory: 2007898\nTask: 40287\n'}, {'number': 2, 'created': '2020-07-06 17:46:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8536bafee26bc6dac27e796cfbe71dd6db5e7a0b', 'message': 'Tolerate images created with other means\n\nwhen image was created by other means (or older openstacksdk)\nthe `openstack.image.v2.image.Image[""properties""]` may be present but be\n`None`.\n\nWhen such image is present and one tries to create another image with\nthe same name but different content, current openstacksdk fails with\n\nAttributeError: \'NoneType\' object has no attribute \'get\'\n\nChange-Id: Ia8a88587d74d3a4081c8f9e23099e3da2077820e\nStory: 2007898\nTask: 40287\n'}, {'number': 3, 'created': '2020-07-06 18:38:26.000000000', 'files': ['openstack/image/_base_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b23654e53a4577c2a6b3c6b29356c3d9860fe496', 'message': 'Tolerate images created with other means\n\nwhen image was created by other means (or older openstacksdk)\nthe `openstack.image.v2.image.Image[""properties""]` may be present but be\n`None`.\n\nWhen such image is present and one tries to create another image with\nthe same name but different content, current openstacksdk fails with\n\nAttributeError: \'NoneType\' object has no attribute \'get\'\n\nChange-Id: Ia8a88587d74d3a4081c8f9e23099e3da2077820e\nStory: 2007898\nTask: 40287\n'}]",2,739556,b23654e53a4577c2a6b3c6b29356c3d9860fe496,15,6,3,9542,,,0,"Tolerate images created with other means

when image was created by other means (or older openstacksdk)
the `openstack.image.v2.image.Image[""properties""]` may be present but be
`None`.

When such image is present and one tries to create another image with
the same name but different content, current openstacksdk fails with

AttributeError: 'NoneType' object has no attribute 'get'

Change-Id: Ia8a88587d74d3a4081c8f9e23099e3da2077820e
Story: 2007898
Task: 40287
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/739556/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/image/_base_proxy.py'],1,52cde658707e811fc27b0f31200cebc4c6432512,image-create-same," props = current_image.get('properties', {}) or {}"," props = current_image.get('properties', {})",1,1
openstack%2Fironic~stable%2Ftrain~Ibac5d07b988438719bf414f314cbc610562e7599,openstack/ironic,stable/train,Ibac5d07b988438719bf414f314cbc610562e7599,Software RAID: don't try to set local_gb to MAX,MERGED,2020-07-06 13:44:01.000000000,2020-07-06 21:26:58.000000000,2020-07-06 17:13:43.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2020-07-06 13:44:01.000000000', 'files': ['releasenotes/notes/raid-max-c0920cc44b9779ee.yaml', 'ironic/tests/unit/common/test_raid.py', 'ironic/common/raid.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/fa6c71ff17dc6f015b734fed1f47124e9baadb51', 'message': ""Software RAID: don't try to set local_gb to MAX\n\nChange-Id: Ibac5d07b988438719bf414f314cbc610562e7599\n(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)\n""}]",0,739489,fa6c71ff17dc6f015b734fed1f47124e9baadb51,9,4,1,10239,,,0,"Software RAID: don't try to set local_gb to MAX

Change-Id: Ibac5d07b988438719bf414f314cbc610562e7599
(cherry picked from commit cedc4a24167de205db25cc45fd37275f3e4956bd)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/89/739489/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/raid-max-c0920cc44b9779ee.yaml', 'ironic/tests/unit/common/test_raid.py', 'ironic/common/raid.py']",3,fa6c71ff17dc6f015b734fed1f47124e9baadb51,raid-max-stable/train, if root_logical_disk['size_gb'] != 'MAX': properties['local_gb'] = root_logical_disk['size_gb'], properties['local_gb'] = root_logical_disk['size_gb'],20,3
openstack%2Fnova~stable%2Frocky~I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23,openstack/nova,stable/rocky,I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23,DNM - Testing g-api on subnode fix,ABANDONED,2020-07-02 15:30:50.000000000,2020-07-06 21:23:57.000000000,,"[{'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-02 15:30:50.000000000', 'files': ['.DNM'], 'web_link': 'https://opendev.org/openstack/nova/commit/b08cbb37cc923d440a2cf059b364cc30e59d2eb0', 'message': 'DNM - Testing g-api on subnode fix\n\nChange-Id: I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23\nDepends-On: https://review.opendev.org/739072\n'}]",0,739074,b08cbb37cc923d440a2cf059b364cc30e59d2eb0,6,4,1,10135,,,0,"DNM - Testing g-api on subnode fix

Change-Id: I72c5deb7b8739e07dc8c23a6afc6bde8a2f4aa23
Depends-On: https://review.opendev.org/739072
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/739074/1 && git format-patch -1 --stdout FETCH_HEAD,['.DNM'],1,b08cbb37cc923d440a2cf059b364cc30e59d2eb0,,,,0,0
openstack%2Fpython-openstackclient~master~I1d1ac1ac46f49f64794ffc8631e166935537966c,openstack/python-openstackclient,master,I1d1ac1ac46f49f64794ffc8631e166935537966c,Add '--force; parameter to 'openstack quota set',MERGED,2020-03-19 13:36:52.000000000,2020-07-06 20:54:00.000000000,2020-07-06 20:50:24.000000000,"[{'_account_id': 2}, {'_account_id': 136}, {'_account_id': 2033}, {'_account_id': 10068}, {'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 28522}, {'_account_id': 31733}]","[{'number': 1, 'created': '2020-03-19 13:36:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/03b67cd4a52f3ddd7a09664902f47a0822be5074', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 2, 'created': '2020-03-20 16:01:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/13e88d42c75d05c6bba7f44eb4ad3b07a5528351', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 3, 'created': '2020-03-20 16:49:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/0e563b943ea306390aba30d92f254cdd86313102', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 4, 'created': '2020-03-20 17:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/7c02978743ef0278ff78198a202042a3a90b90e3', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 5, 'created': '2020-03-21 17:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c3bd9a100be336f6daf8a5cb4b47b52d09bd73a0', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 6, 'created': '2020-03-23 13:02:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/425f46e2a654669754e9a01a8414118e8a9ddc1a', 'message': 'FIX for openstack quota set --force\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n'}, {'number': 7, 'created': '2020-03-23 20:11:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/be59e7d59b77719cab1ae5fffdb4d6a3c1d4fb08', 'message': ""Add '--force; parameter to 'openstack quota set'/\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 8, 'created': '2020-03-25 13:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/873941d6269494984e202238674550e01b81c9a4', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 9, 'created': '2020-03-27 11:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f30c1aea92647eae022ecd0d0bb44790658a53a7', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 10, 'created': '2020-03-27 11:19:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/98ffcd6ca7c8a9922ee4a71a4d74a7ceb69ea2a6', 'message': ""Add '--force' parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 11, 'created': '2020-04-02 12:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/c0236e550ee5ec601f8ac8249e6439c44c46408e', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 12, 'created': '2020-04-02 14:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/61543913bcdea4e11c0b729ed21009daa1543d5b', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 13, 'created': '2020-04-03 07:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/75ea66c7eace8b83d57b08fcbcc2097c8b52eb72', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 14, 'created': '2020-04-07 09:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/87e63015c1455f1f5f7f7c297529e3c2bd7f08cf', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 15, 'created': '2020-04-14 10:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/fd2147ccba3123259687e7dd515cb782908672fa', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}, {'number': 16, 'created': '2020-04-14 21:00:11.000000000', 'files': ['openstackclient/tests/unit/common/test_quota.py', 'openstackclient/tests/functional/common/test_quota.py', 'releasenotes/notes/force-flag-openstackclient-c172de2717e5cfac.yaml', 'openstackclient/common/quota.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b328cf74df7f94a20de85b3c0992dcb65e818458', 'message': ""Add '--force; parameter to 'openstack quota set'\n\nThe compute service allows us to to force set a quota, setting a\nquota value that is less than the amount of the resource currently\nconsumed. Expose this feature by way of a '--force' boolean\nparameter.\n\nChange-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c\n""}]",15,713881,b328cf74df7f94a20de85b3c0992dcb65e818458,50,11,16,31733,,,0,"Add '--force; parameter to 'openstack quota set'

The compute service allows us to to force set a quota, setting a
quota value that is less than the amount of the resource currently
consumed. Expose this feature by way of a '--force' boolean
parameter.

Change-Id: I1d1ac1ac46f49f64794ffc8631e166935537966c
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/81/713881/11 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/common/quota.py'],1,03b67cd4a52f3ddd7a09664902f47a0822be5074,bug/2007440," parser.add_argument( '--force', action='store_true', help=_('Force quota update'), ) if parsed_args.force: compute_kwargs['force'] = True",,7,0
openstack%2Fkeystone~master~Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9,openstack/keystone,master,Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9,Adding note for create a project without domain info,MERGED,2020-04-13 18:07:59.000000000,2020-07-06 20:52:59.000000000,2020-07-06 20:50:33.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-04-13 18:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/87db1b04661141a80671b8b5c596543a7ea9b9ce', 'message': 'Adding note for create a project without domain info\n\nWhen we create a project, using a project scoped token,\nwithout add the domain_id or domain information in the\nproject creation parameters, this project will be\nautomatically created on the default domain.\n\nChange-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9\n'}, {'number': 2, 'created': '2020-05-22 17:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/925bf0fe84b8e2d9c66006ed1f0f470d270da5bf', 'message': 'Adding note for create a project without domain info\n\nWhen we create a project, using a project scoped token,\nwithout add the domain_id or domain information in the\nproject creation parameters, this project will be\nautomatically created on the default domain.\n\nChange-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9\n'}, {'number': 3, 'created': '2020-07-03 13:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/aaa06409ddd76c52b291dbf5f7e77a8ff4b28206', 'message': 'Adding note for create a project without domain info\n\nWhen we create a project, using a project scoped token,\nwithout add the domain_id or domain information in the\nproject creation parameters, this project will be\nautomatically created on the default domain.\n\nChange-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9\n'}, {'number': 4, 'created': '2020-07-03 14:36:17.000000000', 'files': ['api-ref/source/v3/projects.inc', 'doc/source/admin/cli-manage-projects-users-and-roles.rst'], 'web_link': 'https://opendev.org/openstack/keystone/commit/12020a0b8303d20ba7afaa6a932bedcb92884693', 'message': 'Adding note for create a project without domain info\n\nWhen we create a project, using a project scoped token,\nwithout add the domain_id or domain information in the\nproject creation parameters, this project will be\nautomatically created on the default domain.\n\nChange-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9\n'}]",4,719656,12020a0b8303d20ba7afaa6a932bedcb92884693,17,4,4,8866,,,0,"Adding note for create a project without domain info

When we create a project, using a project scoped token,
without add the domain_id or domain information in the
project creation parameters, this project will be
automatically created on the default domain.

Change-Id: Ib7a2d47c2204b0639f029c3079f4fa86ee78e3a9
",git fetch https://review.opendev.org/openstack/keystone refs/changes/56/719656/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/v3/projects.inc', 'doc/source/admin/cli-manage-projects-users-and-roles.rst']",2,87db1b04661141a80671b8b5c596543a7ea9b9ce,docs-default-domain,"- Note that creating a project, using a project scoped, token without specifying a domain or domain_id, the project will automatically be created on the default domain. ",,7,0
openstack%2Fcinder~stable%2Ftrain~Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,openstack/cinder,stable/train,Icb621ff5966133f59d9d43ca2dd9f8e1919b1149,Fix cross-project incremental backups,MERGED,2020-07-02 22:41:35.000000000,2020-07-06 20:52:42.000000000,2020-07-06 20:50:26.000000000,"[{'_account_id': 5314}, {'_account_id': 10118}, {'_account_id': 10459}, {'_account_id': 11904}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 14567}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 31849}]","[{'number': 1, 'created': '2020-07-02 22:41:35.000000000', 'files': ['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/f3cdc27563766b2f49a1d88500f32c8d86838c96', 'message': ""Fix cross-project incremental backups\n\nThis patch addresses the scenario where an\nincremental backup can be created having a\nparent backup that was taken in a different\nproject. This scenario ultimately leads to\na silent error when creating/deleting the\nincremental backup and quotas going out of\nsync.\n\nThe proposed fix is to narrow the backup search\ndown to the same project. To achieve this, a\nmethod's signature had to be updated to achieve\nthe desired optimized behavior of passing the\nvolume's project_id parameter.\n\nCloses-bug: #1869746\nCloses-bug: #1873518\n\nconflicts:\n    cinder/tests/unit/backup/test_backup.py\n\nTest test_create_backup_failed_with_empty_backup_objects\nrequired a mock for\ntest_create_backup_failed_with_empty_backup_objects\nwhich had been removed in ussuri, as part of commit\nf0211b53b82cde96eb39e9914c3e5fae232db07c. That\ncommit removed code and leftover the mock, which I\nhad removed in the change this patch was\ncherry-picked from, as it was unnecessary.\n\nThe removed code section of cinder/backup/api.py\nfrom commit f0211b53b82cde96eb39e9914c3e5fae232db07c\ndoes not impact the functionality of this change at all.\n\nChange-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149\n(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)\n(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)\n""}]",0,739154,f3cdc27563766b2f49a1d88500f32c8d86838c96,37,19,1,14567,,,0,"Fix cross-project incremental backups

This patch addresses the scenario where an
incremental backup can be created having a
parent backup that was taken in a different
project. This scenario ultimately leads to
a silent error when creating/deleting the
incremental backup and quotas going out of
sync.

The proposed fix is to narrow the backup search
down to the same project. To achieve this, a
method's signature had to be updated to achieve
the desired optimized behavior of passing the
volume's project_id parameter.

Closes-bug: #1869746
Closes-bug: #1873518

conflicts:
    cinder/tests/unit/backup/test_backup.py

Test test_create_backup_failed_with_empty_backup_objects
required a mock for
test_create_backup_failed_with_empty_backup_objects
which had been removed in ussuri, as part of commit
f0211b53b82cde96eb39e9914c3e5fae232db07c. That
commit removed code and leftover the mock, which I
had removed in the change this patch was
cherry-picked from, as it was unnecessary.

The removed code section of cinder/backup/api.py
from commit f0211b53b82cde96eb39e9914c3e5fae232db07c
does not impact the functionality of this change at all.

Change-Id: Icb621ff5966133f59d9d43ca2dd9f8e1919b1149
(cherry picked from commit 8ebeafcbbafb700052f3abfc1f7ba004269a92e8)
(cherry picked from commit 5358c996b40bbb0fd749ec182ff3ef67f5d71c16)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/54/739154/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1869746-cross-project-incremental-backup-error.yaml', 'cinder/tests/unit/test_db_api.py', 'cinder/backup/api.py', 'cinder/tests/unit/objects/test_backup.py', 'cinder/db/api.py', 'cinder/tests/unit/backup/test_backup.py', 'cinder/objects/backup.py', 'cinder/db/sqlalchemy/api.py']",8,f3cdc27563766b2f49a1d88500f32c8d86838c96,bug/1869746,"def backup_get_all_by_volume(context, volume_id, vol_project_id, filters=None): authorize_project_context(context, vol_project_id)","def backup_get_all_by_volume(context, volume_id, filters=None): authorize_project_context(context, volume_id)",45,25
openstack%2Fcinder~stable%2Fstein~I8cb7b1eccbc63ef4077e86324afdd1a11409343d,openstack/cinder,stable/stein,I8cb7b1eccbc63ef4077e86324afdd1a11409343d,SF: Handle qos values on extend volume,MERGED,2020-05-07 23:20:00.000000000,2020-07-06 20:52:25.000000000,2020-07-06 20:50:29.000000000,"[{'_account_id': 1736}, {'_account_id': 7198}, {'_account_id': 10118}, {'_account_id': 12032}, {'_account_id': 12369}, {'_account_id': 17685}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22510}, {'_account_id': 23613}, {'_account_id': 24921}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28710}, {'_account_id': 28801}, {'_account_id': 30555}]","[{'number': 1, 'created': '2020-05-07 23:20:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/ef355b9c755921ca2395641a34c32a7f53fba341', 'message': 'SF: Handle qos values on extend volume\n\nFor the Solidfire cinder driver when volume extend is called on a volume\nthat has a qos with scaledIOPs=True, the values scaleMin, scaleMax,\nscaleBurst are ignored, thus when a volume grows the iops values stay\nthe same when they should either grow or shrink.\n\nTo correct the bug _retrieve_qos_setting has a new argument size with a\ndefault value of zero. This allows all previous calls to function\nproperly, and saved duplicating code.\n\nExtend volume now calls _retrive_qos_settings with the new size argument\nand then includes that qos with the call to solidfire api  ModifyVolume.\n\nCloses-Bug: #1783588\nChange-Id: I8cb7b1eccbc63ef4077e86324afdd1a11409343d\n(cherry picked from commit 12a7bf699df1558f081513b1686d9c389bd3b812)\n'}, {'number': 2, 'created': '2020-05-14 17:29:11.000000000', 'files': ['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/bug-1782588-7e058b379da95309.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/6bcb6fea741267b72175e5936c6f6a656fb2fffc', 'message': 'SF: Handle qos values on extend volume\n\nFor the Solidfire cinder driver when volume extend is called on a volume\nthat has a qos with scaledIOPs=True, the values scaleMin, scaleMax,\nscaleBurst are ignored, thus when a volume grows the iops values stay\nthe same when they should either grow or shrink.\n\nTo correct the bug _retrieve_qos_setting has a new argument size with a\ndefault value of zero. This allows all previous calls to function\nproperly, and saved duplicating code.\n\nExtend volume now calls _retrive_qos_settings with the new size argument\nand then includes that qos with the call to solidfire api  ModifyVolume.\n\nCloses-Bug: #1783588\nChange-Id: I8cb7b1eccbc63ef4077e86324afdd1a11409343d\n(cherry picked from commit 12a7bf699df1558f081513b1686d9c389bd3b812)\n'}]",0,726262,6bcb6fea741267b72175e5936c6f6a656fb2fffc,63,19,2,30555,,,0,"SF: Handle qos values on extend volume

For the Solidfire cinder driver when volume extend is called on a volume
that has a qos with scaledIOPs=True, the values scaleMin, scaleMax,
scaleBurst are ignored, thus when a volume grows the iops values stay
the same when they should either grow or shrink.

To correct the bug _retrieve_qos_setting has a new argument size with a
default value of zero. This allows all previous calls to function
properly, and saved duplicating code.

Extend volume now calls _retrive_qos_settings with the new size argument
and then includes that qos with the call to solidfire api  ModifyVolume.

Closes-Bug: #1783588
Change-Id: I8cb7b1eccbc63ef4077e86324afdd1a11409343d
(cherry picked from commit 12a7bf699df1558f081513b1686d9c389bd3b812)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/62/726262/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/solidfire.py', 'cinder/tests/unit/volume/drivers/solidfire/test_solidfire.py', 'releasenotes/notes/bug-1782588-7e058b379da95309.yaml']",3,ef355b9c755921ca2395641a34c32a7f53fba341,bug/1783588-stable/stein,--- fixes: - | Solidfire fix extend volume with qos-Scaling to honor the increased size with increased iops on the extended volume. ,,95,9
openstack%2Fdevstack~master~Ia4b4350c287c81313d83193625a9b2bbc6235b4d,openstack/devstack,master,Ia4b4350c287c81313d83193625a9b2bbc6235b4d,lib/apache: fix uWSGI installation from source,NEW,2020-07-06 17:47:23.000000000,2020-07-06 20:47:27.000000000,,"[{'_account_id': 9061}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 17:47:23.000000000', 'files': ['lib/apache'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ee78232ed913792f8b5862f682990108674402c4', 'message': 'lib/apache: fix uWSGI installation from source\n\nThe source archive has capital letters (i.e, uWSGI-2.0.19.1.tar.gz) so\ndoing a ""ls uwsgi*"" will not work unless we match the capitalization.\n\nIn addition, the archive extracts to the current working directory, not\nunder uWSGI* and so fix the apache2 directory accordingly.\n\nChange-Id: Ia4b4350c287c81313d83193625a9b2bbc6235b4d\n'}]",0,739561,ee78232ed913792f8b5862f682990108674402c4,5,3,1,9061,,,0,"lib/apache: fix uWSGI installation from source

The source archive has capital letters (i.e, uWSGI-2.0.19.1.tar.gz) so
doing a ""ls uwsgi*"" will not work unless we match the capitalization.

In addition, the archive extracts to the current working directory, not
under uWSGI* and so fix the apache2 directory accordingly.

Change-Id: Ia4b4350c287c81313d83193625a9b2bbc6235b4d
",git fetch https://review.opendev.org/openstack/devstack refs/changes/61/739561/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/apache'],1,ee78232ed913792f8b5862f682990108674402c4,, uwsgi=$(ls uWSGI*) cd apache2, uwsgi=$(ls uwsgi*) cd uwsgi*/apache2,2,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I593f193f98112dbf1d493ffd22040837597db11c,openstack/tripleo-ansible,stable/ussuri,I593f193f98112dbf1d493ffd22040837597db11c,Create tripleo base strategy class,MERGED,2020-07-06 14:41:17.000000000,2020-07-06 20:32:46.000000000,2020-07-06 20:32:46.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:41:17.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b11fec97bc04c698dd19458382349c7bc3866e1e', 'message': 'Create tripleo base strategy class\n\nIn order to allow us to share some logic between the linear and free\nstrategies, we need to create a base strategy to use for our shared\nlogic.\n\nChange-Id: I593f193f98112dbf1d493ffd22040837597db11c\n(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)\n'}]",0,739506,b11fec97bc04c698dd19458382349c7bc3866e1e,7,4,1,3153,,,0,"Create tripleo base strategy class

In order to allow us to share some logic between the linear and free
strategies, we need to create a base strategy to use for our shared
logic.

Change-Id: I593f193f98112dbf1d493ffd22040837597db11c
(cherry picked from commit e52089e8dfceba7bff81a8acc96b73d6e6ec3983)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/739506/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_free.py', 'tripleo_ansible/ansible_plugins/strategy/tripleo_base.py']",3,b11fec97bc04c698dd19458382349c7bc3866e1e,class,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type from ansible.errors import AnsibleError from ansible.module_utils._text import to_text from ansible.playbook.included_file import IncludedFile from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_base short_description: Base tripleo strategy shared with linear & free description: version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoBase(StrategyBase): def __init__(self, *args, **kwargs): super(TripleoBase, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._play_context = None self._strat_results = [] self.noop_task = None # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _get_action(self, task): """"""Get action based on task"""""" self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send a task callback for task start"""""" self._debug('_send_task_callback...') if self._callback_sent: return name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: self._debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name self._callback_sent = True def process_includes(self, host_results, noop=False): """"""Handle includes This function processes includes and adds them tasks to the hosts. It will return False if there was a failure during the include """""" self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success ",,179,207
openstack%2Ftripleo-ansible~stable%2Fussuri~I8539a6ad747a3923256f8c14c0a140e7670cc135,openstack/tripleo-ansible,stable/ussuri,I8539a6ad747a3923256f8c14c0a140e7670cc135,Add tripleo linear strategy,MERGED,2020-07-06 14:40:57.000000000,2020-07-06 20:32:45.000000000,2020-07-06 20:32:45.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:40:57.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/88082db75ea29fe7486fa4fe2d3d2e0d47156b7f', 'message': 'Add tripleo linear strategy\n\nChange-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135\n(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)\n'}]",0,739505,88082db75ea29fe7486fa4fe2d3d2e0d47156b7f,7,4,1,3153,,,0,"Add tripleo linear strategy

Change-Id: I8539a6ad747a3923256f8c14c0a140e7670cc135
(cherry picked from commit 09da864f8c11184e5dc537d838109a2794cc4048)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/739505/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_linear.py'],1,88082db75ea29fe7486fa4fe2d3d2e0d47156b7f,linear,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type import time from ansible import constants as C from ansible.errors import AnsibleAssertionError from ansible.errors import AnsibleError from ansible.executor.play_iterator import PlayIterator from ansible.module_utils._text import to_text from ansible.module_utils.six import iteritems from ansible.playbook.block import Block from ansible.playbook.included_file import IncludedFile from ansible.playbook.task import Task from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.template import Templar from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_linear short_description: TripleO specific linear strategy description: - Based on the 'linear' strategy from Ansible - Logic broken up to allow for future improvements version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoLinearTerminated(Exception): """"""Exception for terminated state"""""" pass class TripleoLinearNoHostTask(Exception): """"""Exception for no host task"""""" pass class TripleoLinearRunOnce(Exception): """"""Exception for run once"""""" pass class StrategyModule(StrategyBase): def __init__(self, *args, **kwargs): super(StrategyModule, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = True self._hosts_left = [] self._iterator = None self._play_context = None self._strat_results = [] self.noop_task = None # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _create_noop_task(self): """"""Create noop task"""""" self._debug('_create_noop_task...') noop_task = Task() noop_task.action = 'meta' noop_task.args['_raw_params'] = 'noop' noop_task.set_loader(self._iterator._play._loader) return noop_task def _advance_hosts(self, hosts, host_tasks, cur_block, cur_state): """"""Move hosts to next task"""""" self._debug('_advance_hosts...') noop_task = self._create_noop_task() returns = [] for host in hosts: host_state_task = host_tasks.get(host.name) if host_state_task is None: continue (s, t) = host_state_task self._print('task: {}'.format(t)) s = self._iterator.get_active_state(s) if t is None: continue self._print('task.action: {}'.format(t.action)) if s.run_state == cur_state and s.cur_block == cur_block: _ = self._iterator.get_next_task_for_host(host) returns.append((host, t)) else: returns.append((host, noop_task)) return returns def _get_next_tasks(self, hosts): """"""Get next set of tasks"""""" self._debug('_get_next_tasks...') host_tasks = {} task_counts = {} self._debug('populate next tasks for all hosts') for host in hosts: host_tasks[host.name] = self._iterator.get_next_task_for_host( host, peek=True) self._debug('organize tasks by state') host_tasks_to_run = [(host, state_task) for host, state_task in iteritems(host_tasks) if state_task and state_task[1]] # figure out our current block if host_tasks_to_run: try: lowest_cur_block = min( (self._iterator.get_active_state(s).cur_block for h, (s, t) in host_tasks_to_run if s.run_state != PlayIterator.ITERATING_COMPLETE)) except ValueError: lowest_cur_block = None else: lowest_cur_block = None # build counts for tasks by run state for (k, v) in host_tasks_to_run: (s, t) = v s = self._iterator.get_active_state(s) if s.cur_block > lowest_cur_block: continue # count up tasks based on state, we only care about: # PlayIterator.ITERATING_SETUP # PlayIterator.ITERATING_TASKS # PlayIterator.ITERATING_RESCUE # PlayIterator.ITERATING_ALWAYS if not task_counts.get(s.run_state): task_counts[s.run_state] = 1 else: task_counts[s.run_state] += 1 # Iterate through the different task states we care about # to execute them in a specific order. If there are tasks # in that state, we run all those tasks and then noop the # rest of the hosts with tasks not currently in that state for state_type in [PlayIterator.ITERATING_SETUP, PlayIterator.ITERATING_TASKS, PlayIterator.ITERATING_RESCUE, PlayIterator.ITERATING_ALWAYS]: if state_type in task_counts: return self._advance_hosts(hosts, host_tasks, lowest_cur_block, state_type) # all done so move on by returning None for the next task in # the return value. return [(host, None) for host in hosts] def _replace_with_noop(self, target): """"""Replace task with a noop task"""""" self._debug('_replace_with_noop...') if self.noop_task is None: raise AnsibleAssertionError('noop_task is None') result = [] for t in target: if isinstance(t, Task): result.append(self.noop_task) elif isinstance(t, Block): result.append(self._create_noop_block_from(t, t._parent)) return result def _create_noop_block_from(self, original_block, parent): """"""Create a noop block from a block"""""" self._debug('_create_noop_block_from...') noop_block = Block(parent_block=parent) noop_block.block = self._replace_with_noop(original_block.block) noop_block.always = self._replace_with_noop(original_block.always) noop_block.rescue = self._replace_with_noop(original_block.rescue) return noop_block def _prepare_and_create_noop_block_from(self, original_block, parent): """"""Create noop block"""""" self._debug('_prepare_and_create_noop_block_from...') self.noop_task = self._create_noop_task() return self._create_noop_block_from(original_block, parent) def _get_action(self, task): """"""Get action from task"""""" # TODO(mwhahaha): move to base task self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send a task callback for task start"""""" # TODO(mwhahaha): do we need the bool? can we move to base class? self._debug('_send_task_callback...') if self._callback_sent: return name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: display.debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name self._callback_sent = True def _process_host_tasks(self, host, task): """"""Process host task and execute"""""" self._debug('process_host_tasks...') results = [] if self._tqm._terminated: raise TripleoLinearTerminated() run_once = False action = self._get_action(task) # Skip already executed roles if task._role and task._role.has_run(host): if (task._role._metadata is None or task._role._metadata and not task._role._metadata.allow_duplicates): raise TripleoLinearNoHostTask() if task.action == 'meta': results.extend(self._execute_meta(task, self._play_context, self._iterator, host)) if (task.args.get('_raw_params', None) not in ('noop', 'reset_connection', 'end_host')): run_once = True if (task.any_errors_fatal or run_once and not task.ignore_errors): self._any_errors_fatal = True else: # todo handle steps like in linear # build get_vars call params vars_params = {'play': self._iterator._play, 'host': host, 'task': task} # if we have >= 2.9 we can use the hosts cache if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) self.add_tqm_variables(task_vars, play=self._iterator._play) templar = Templar(loader=self._loader, variables=task_vars) run_once = (templar.template(task.run_once) or action and getattr(action, 'BYPASS_HOST_LOOP', False)) self._send_task_callback(task, templar) self._blocked_hosts[host.get_name()] = True self._queue_task(host, task, task_vars, self._play_context) del task_vars if run_once: raise TripleoLinearRunOnce() max_passes = max(1, int(len(self._tqm._workers) * 0.1)) results.extend(self._process_pending_results( self._iterator, max_passes=max_passes)) return results def process_includes(self, host_results, noop=False): """"""Process our includes"""""" # TODO(mwhahaha): move to a base class self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) # TODO(mwhahaha): fix include_failure uage include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) # TODO(mwhahaha): noop is used for linear not free if noop: noop_block = self._prepare_and_create_noop_block_from( final_block, block._parent) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) elif noop: all_blocks[host].append(noop_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success def _process_failures(self): """"""Handle failures"""""" self._debug('_process_failures...') non_fail_states = frozenset([self._iterator.ITERATING_RESCUE, self._iterator.ITERATING_ALWAYS]) result = self._tqm.RUN_OK for host in self._hosts_left: (s, _) = self._iterator.get_next_task_for_host(host, peek=True) s = self._iterator.get_active_state(s) if ((s.run_state not in non_fail_states) or (s.run_state == self._iterator.ITERATING_RESCUE and s.fail_state & self._iterator.FAILED_RESCUE != 0)): self._tqm._failed_hosts[host.name] = True result |= self._tqm.RUN_FAILED_BREAK_PLAY return result def process_work(self): """"""Run pending tasks"""""" self._debug('process_work...') self._callback_sent = False result = self._tqm.RUN_OK host_tasks = self._get_next_tasks(self._hosts_left) self._strat_results = [] results = [] for (host, task) in host_tasks: if not task: continue try: self._has_work = True results.extend(self._process_host_tasks(host, task)) except TripleoLinearNoHostTask: continue except (TripleoLinearTerminated, TripleoLinearRunOnce): break if self._pending_results > 0: results.extend(self._wait_on_pending_results( self._iterator)) self._strat_results.extend(results) self.update_active_connections(results) return result def run(self, iterator, play_context): """"""Run our straregy"""""" self._debug('run...') self._iterator = iterator self._play_context = play_context self._has_work = True result = self._tqm.RUN_OK # check for < 2.9 and set vars so we know if we can use hosts cache if getattr(self, '_set_hosts_cache', False): self._set_hosts_cache(self._iterator._play) self._has_hosts_cache = True if getattr(self, '_set_hosts_cache_all', False): self._has_hosts_cache_all = True while self._has_work and not self._tqm._terminated: self._has_work = False self._print('play: {}'.format(iterator._play)) try: self._hosts_left = self.get_hosts_left(self._iterator) result = self.process_work() # NOTE(mwhahaha): process_includes returns a status however # we will pick up on these failures further down because # failed_hosts will be set. We don't need the status # in this strategy so we just ignore it. self.process_includes(self._strat_results, noop=True) failed_hosts = [] unreachable_hosts = [] for res in self._strat_results: if ((res.is_failed() or res._task.action == 'meta') and self._iterator.is_failed(res._host)): failed_hosts.append(res._host.name) elif res.is_unreachable(): unreachable_hosts.append(res._host.name) # TODO(mwhahaha): handle max_fail_percentage by tripleo role if (self._any_errors_fatal and (len(failed_hosts) > 0 or len(unreachable_hosts) > 0)): result = self._process_failures() failed_hosts = len(self._tqm._failed_hosts) hosts_left = len(self._hosts_left) if (result != self._tqm.RUN_OK and (failed_hosts >= hosts_left)): self._tqm.send_callback( 'v2_playbook_on_no_hosts_remaining') return result except (IOError, EOFError) as e: display.warning(""Exception while in task loop: {}"".format(e)) return self._tqm.RUN_UNKNOWN_ERROR self._debug('sleeping... {}'.format( C.DEFAULT_INTERNAL_POLL_INTERVAL) ) time.sleep(C.DEFAULT_INTERNAL_POLL_INTERVAL) return super(StrategyModule, self).run(iterator, play_context, result) ",,466,0
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaa1278763d56429b2886371a18477e1f54680e19,openstack/tripleo-ansible,stable/ussuri,Iaa1278763d56429b2886371a18477e1f54680e19,Implement run_once,MERGED,2020-07-06 14:40:03.000000000,2020-07-06 20:28:48.000000000,2020-07-06 20:28:48.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:40:03.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d25145163714be92ad1ac20f426bd98e420443cd', 'message': 'Implement run_once\n\nPrior to this patch, run_once was basically ignored. This patch adds\ntracking on tasks that are tagged with run_once and will only allow it\nto be invoked once. This means if the run_once task fails, all the other\nhosts will continue to process their tasks like nothing happened. The\nplay itself will exit if the run_once task fails at the end. For tripleo\nthis means that run_once should not be used for any required tasks\nwithin a play but can be used to make sure a task will only run once\ntime for a given play.\n\nChange-Id: Iaa1278763d56429b2886371a18477e1f54680e19\n(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)\n'}]",0,739504,d25145163714be92ad1ac20f426bd98e420443cd,7,4,1,3153,,,0,"Implement run_once

Prior to this patch, run_once was basically ignored. This patch adds
tracking on tasks that are tagged with run_once and will only allow it
to be invoked once. This means if the run_once task fails, all the other
hosts will continue to process their tasks like nothing happened. The
play itself will exit if the run_once task fails at the end. For tripleo
this means that run_once should not be used for any required tasks
within a play but can be used to make sure a task will only run once
time for a given play.

Change-Id: Iaa1278763d56429b2886371a18477e1f54680e19
(cherry picked from commit 894a853a5ef0af869624376a04a8f12dfe5c801c)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/04/739504/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,d25145163714be92ad1ac20f426bd98e420443cd,runonce," - Handles run_once to only invoke the task a single time for a given run. It should be noted that run_once does not ensure the task actually is successful but rather that it is only triggered once time for the host groups. If the task fails, the playbook will fail at the end of the play but there is no assurance that the task will actually complete successfully for a given playbook execution. Other tasks will continue on the other hosts. self._run_once_tasks = set() if run_once: display.warning('tripleo_free run_once does not ensure a task ' 'is successful for a given playbook but rather ' 'it is only attempted to execute once.') if task._uuid in self._run_once_tasks: # If the task was previously executed, just drop it # by clearing the blocked host and telling the parent # function to continue. self._debug(""Skipping run_once task {} on {}"".format( task._uuid, host)) del self._blocked_hosts[host_name] raise TripleoFreeContinue() else: self._run_once_tasks.add(task._uuid)"," # TODO(mwhahaha): make it work by caching it across all hosts if run_once: display.warning(""Using run_once does not work with the"" ""tripleo_free strategy"")",21,3
openstack%2Ftripleo-ansible~stable%2Fussuri~Id921ed48a948211b9a90def4a4667d015ec11d2f,openstack/tripleo-ansible,stable/ussuri,Id921ed48a948211b9a90def4a4667d015ec11d2f,Implement a tripleo free strategy,MERGED,2020-07-06 14:39:20.000000000,2020-07-06 20:28:47.000000000,2020-07-06 20:28:47.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:39:20.000000000', 'files': ['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/375f831b9d048abd2e96d4b255325faff4d3107c', 'message': 'Implement a tripleo free strategy\n\nThis strategy is to be used for the execution of deployment steps so\nthat tasks run on all hosts (up to # of workers) freely without locking\nat each task.  This is closer to what we had when Heat drove the\ndeployments as each of the software deployments would execute\nsimultaneously on all nodes at the same time.\n\nThis strategy does two important things for us:\n\n  1) Hosts execute their tasks freely with no dependencies on the other\n     hosts that are running the same tasks\n  2) Failures on any given host will not stop future tasks from\n     executing on other hosts, but will cause the overall playbook\n     execution to stop at the end of the ""PLAY"".\n\nThese specific things are how the previous deployment executed when Heat\nwas the driver of deployment actions. The nodes would fetch their list\nof actions, execute and report back to status. Heat would fail the\ndeployment if any of the hosts failed to execute their work however a\nfailure on one host did not impact the other hosts.  The TripleO\ndeployment framework already has the step concept in itself to allow\nfor the individual steps (1 through 5) to execute in a parallael on all\nhosts at the same time. At the end of the ""PLAY"", ansible waits for all\nnodes to complete before proceeding on to the next ""PLAY"". So Step 1 is\na ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any\nhost, we would not proceed to the Step 2 play.\n\nChange-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f\n(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)\n'}]",0,739503,375f831b9d048abd2e96d4b255325faff4d3107c,7,4,1,3153,,,0,"Implement a tripleo free strategy

This strategy is to be used for the execution of deployment steps so
that tasks run on all hosts (up to # of workers) freely without locking
at each task.  This is closer to what we had when Heat drove the
deployments as each of the software deployments would execute
simultaneously on all nodes at the same time.

This strategy does two important things for us:

  1) Hosts execute their tasks freely with no dependencies on the other
     hosts that are running the same tasks
  2) Failures on any given host will not stop future tasks from
     executing on other hosts, but will cause the overall playbook
     execution to stop at the end of the ""PLAY"".

These specific things are how the previous deployment executed when Heat
was the driver of deployment actions. The nodes would fetch their list
of actions, execute and report back to status. Heat would fail the
deployment if any of the hosts failed to execute their work however a
failure on one host did not impact the other hosts.  The TripleO
deployment framework already has the step concept in itself to allow
for the individual steps (1 through 5) to execute in a parallael on all
hosts at the same time. At the end of the ""PLAY"", ansible waits for all
nodes to complete before proceeding on to the next ""PLAY"". So Step 1 is
a ""PLAY"" followed by Step 2. If a failure occurs during Step 1 on any
host, we would not proceed to the Step 2 play.

Change-Id: Id921ed48a948211b9a90def4a4667d015ec11d2f
(cherry picked from commit f873e31f5874ea0dad6997ee2f9c8186f3d1058d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/739503/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/strategy/tripleo_free.py'],1,375f831b9d048abd2e96d4b255325faff4d3107c,strategy-improvements-stable/ussuri,"# Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from __future__ import (absolute_import, division, print_function) __metaclass__ = type import time from ansible import constants as C from ansible.errors import AnsibleError from ansible.module_utils._text import to_text from ansible.playbook.included_file import IncludedFile from ansible.plugins.loader import action_loader from ansible.plugins.strategy import StrategyBase from ansible.template import Templar from ansible.utils.display import Display DOCUMENTATION = ''' strategy: tripleo_free short_description: TripleO specific free strategy description: - Based on the 'free' strategy from Ansible - Logic broken up to allow for future improvements/extending - Will fail playbook if any hosts have a failure during the execution and any_errors_fatal is true (free does not do this). - Should be backwards compatible for Ansible 2.8 version_added: ""2.9"" author: Alex Schultz <aschultz@redhat.com> ''' display = Display() class TripleoFreeBreak(Exception): """"""Exception used to break loops"""""" pass class TripleoFreeContinue(Exception): """"""Exception used to continue loops"""""" pass class StrategyModule(StrategyBase): # this strategy handles throttling ALLOW_BASE_THROTTLING = False def __init__(self, *args, **kwargs): super(StrategyModule, self).__init__(*args, **kwargs) self._any_errors_fatal = False self._callback_sent = False self._has_work = False self._host_pinned = False self._hosts_left = [] self._iterator = None self._last_host = 0 self._play_context = None self._strat_results = [] self._workers_free = 0 # these were defined in 2.9 self._has_hosts_cache = False self._has_hosts_cache_all = False def _print(self, msg, host=None, level=1): display.verbose(msg, host=host, caplevel=level) def _debug(self, msg, host=None): self._print(msg, host, 3) def _filter_notified_hosts(self, notified_hosts): """"""Filter notified hosts"""""" return [host for host in notified_hosts if host in self._flushed_hosts and self._flushed_hosts[host]] def _increment_last_host(self): """"""Increment last host pointer If the last host pointer exceeds the number of hosts, we set it back to zero so we can start checking again with the first host """""" self._debug('_increment_last_host') self._last_host += 1 self._debug('last_host is {}'.format(self._last_host)) if self._last_host > len(self._hosts_left) - 1: self._debug('resetting last host') self._last_host = 0 def _check_throttle(self, throttle, task): """"""Check if we should throttle"""""" if throttle > 0: same_task = 0 for worker in self._workers: if (worker and worker.is_alive() and worker._task._uuid == task._uuid): same_task += 1 if same_task >= throttle: return True return False def _check_failures(self, results): """"""Check results for failures If any errors are fatal, kill the playbook at the end of execution. All non-failed hosts will continue to run the playbook but it won't move on to the next playbook. This function returns True if there were failures and False if there are no failures. """""" if self._any_errors_fatal: for res in results: if ((res.is_failed() or res._task.action == 'meta') and self._iterator.is_failed(res._host)): return True return False def _get_action(self, task): """"""Get action based on task"""""" self._debug('_get_action...') try: action = action_loader.get(task.action, class_only=True) except KeyError: action = None return action def _send_task_callback(self, task, templar): """"""Send task start callback"""""" self._debug('_send_task_callback...') name = task.name try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: self._debug('templating failed') self._tqm.send_callback('v2_playbook_on_task_start', task, is_conditional=False) task.name = name def _advance_host(self, host, task): """"""Advance the host's task as necessary"""""" self._debug('_advance_host {}'.format(host), host) host_name = host.get_name() # build get_vars call params vars_params = {'play': self._iterator._play, 'host': host, 'task': task} # If we have >= 2.9 we can use the hosts cache if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) templar = Templar(loader=self._loader, variables=task_vars) try: throttle = int(templar.template(task.throttle)) except Exception as e: raise AnsibleError(""Failed to throttle: {}"".format(e), obj=task._df, orig_exc=e) if self._check_throttle(throttle, task): raise TripleoFreeBreak() # _blocked_hosts is used in the base strategy to keep track of hosts in # that have tasks in queue self._blocked_hosts[host_name] = True # we already have the task and state from our peek call so we don't # need these again. This call just pops it of the task list for the # host. (_, _) = self._iterator.get_next_task_for_host(host) action = self._get_action(task) try: task.name = to_text(templar.template(task.name, fail_on_undefined=False), nonstring='empty') except Exception: display.warning('templating of task name failed', host=host_name) # run once doesn't work with free because we run all of them run_once = (templar.template(task.run_once) or action and getattr(action, 'BYPASS_HOST_LOOP', False)) # TODO(mwhahaha): make it work by caching it across all hosts if run_once: if action and getattr(action, 'BYPASS_HOST_LOOP', False): raise AnsibleError('Cannot bypass host loop with strategy') else: display.warning(""Using run_once does not work with the"" ""tripleo_free strategy"") # handle role deduplication logic if task._role and task._role.has_run(host): if (task._role._metadata is None or task._role._metadata and not task._role._metadata.allow_duplicates): del self._blocked_hosts[host_name] raise TripleoFreeContinue() if task.action == 'meta': self._execute_meta(task, self._play_context, self._iterator, target_host=host) self._blocked_hosts[host_name] = False else: if not self._step or self._take_step(task, host_name): if task.any_errors_fatal: display.warning('any_errors_fatal only stops any future ' 'tasks running on the host that fails ' 'with the tripleo_free strategy.') self._any_errors_fatal = True self._send_task_callback(task, templar) self._queue_task(host, task, task_vars, self._play_context) self._workers_free -= 1 del task_vars return True def process_work(self): """"""Run pending tasks"""""" self._debug('process_work....') result = self._tqm.RUN_OK start_host = self._last_host self._strat_results = [] while True: self._debug('process_work loop') host = self._hosts_left[self._last_host] host_name = host.get_name() self._increment_last_host() (s, t) = self._iterator.get_next_task_for_host(host, peek=True) self._print(""host: {}, task: {}"".format(host, t)) if host_name not in self._tqm._unreachable_hosts and t: self._debug('{} has work to do, has_work = True'.format( host_name)) self._has_work = True if not self._blocked_hosts.get(host_name, False): try: self._advance_host(host, t) except TripleoFreeBreak: break except TripleoFreeContinue: continue else: self._print('{} still blocked'.format(host_name)) else: self._debug('{} is unreachable or no task'.format(host_name)) # handle host pinned by going back to the start and waiting # for the next free host if (self._host_pinned and self._workers_free == 0 and self._has_work): self._last_host = start_host if self._last_host == start_host: self._debug('We hit the start host, break our loop') break self._debug('pending results....') results = self._process_pending_results(self._iterator) self._debug('results: {}'.format(results)) self._strat_results.extend(results) if self._check_failures(results): # NOTE(mwhahaha): this is the bit of code that the upstream free # does not do result |= self._tqm.RUN_FAILED_BREAK_PLAY self._workers_free += len(results) self._debug('update connections....') self.update_active_connections(results) return result def process_includes(self, host_results, noop=False): """"""Handle includes This function processes includes and adds them tasks to the hosts. It will return False if there was a failure during the include """""" self._debug('process_includes...') include_files = IncludedFile.process_include_results( host_results, iterator=self._iterator, loader=self._loader, variable_manager=self._variable_manager ) include_success = True if len(include_files) == 0: self._debug('No include files') return include_success all_blocks = dict((host, []) for host in self._hosts_left) for include in include_files: self._debug('Adding include...{}'.format(include)) try: if include._is_role: ir = self._copy_included_file(include) new_blocks, handler_blocks = ir.get_block_list( play=self._iterator._play, variable_manager=self._variable_manager, loader=self._loader) else: new_blocks = self._load_included_file( include, iterator=self._iterator) for block in new_blocks: vars_params = {'play': self._iterator._play, 'task': block._parent} # ansible <2.9 compatibility if self._has_hosts_cache: vars_params['_hosts'] = self._hosts_cache if self._has_hosts_cache_all: vars_params['_hosts_all'] = self._hosts_cache_all task_vars = self._variable_manager.get_vars(**vars_params) final_block = block.filter_tagged_tasks(task_vars) for host in self._hosts_left: if host in include._hosts: all_blocks[host].append(final_block) except AnsibleError as e: for host in include._hosts: self._tqm._failed_hosts[host.get_name()] = True self._iterator.mark_host_failed(host) display.error(to_text(e), wrap_text=False) include_success = False continue for host in self._hosts_left: self._iterator.add_tasks(host, all_blocks[host]) return include_success def run(self, iterator, play_context): """"""Run out strategy"""""" self._iterator = iterator self._play_context = play_context self._has_work = True self._workers_free = len(self._workers) result = self._tqm.RUN_OK # check for < 2.9 and set vars so we know if we can use hosts cache if getattr(self, '_set_hosts_cache', False): self._set_hosts_cache(self._iterator._play) self._has_hosts_cache = True if getattr(self, '_set_hosts_cache_all', False): self._has_hosts_cache_all = True # while we still have tasks and ansible is still running while self._has_work and not self._tqm._terminated: self._has_work = False self._debug('play: {}'.format(self._iterator._play)) try: # get the hosts with tasks self._hosts_left = self.get_hosts_left(self._iterator) if len(self._hosts_left) == 0: self._tqm.send_callback( 'v2_playbook_on_no_hosts_remaining') # check if we previously had an error... if result == self._tqm.RUN_OK: # by setting this to false, the parent run function # will determine if the run was ok based on a check # of the unreachable/failed hosts. result = False break # do work result |= self.process_work() # handle includes include_result = self.process_includes(self._strat_results) if self._any_errors_fatal and not include_result: # NOTE(mwhahaha): This bit of code fails the playbook if # an include fails. Upstream free does not have this today display.error('An include failure occurred, we will not ' 'continue to process after this play ' 'completes.') result |= self._tqm.RUN_FAILED_BREAK_PLAY except (IOError, EOFError) as e: display.error(""Exception while running task loop: "" ""{}"".format(e)) return self._tqm.RUN_UNKNOWN_ERROR self._debug('sleeping... {}'.format( C.DEFAULT_INTERNAL_POLL_INTERVAL) ) time.sleep(C.DEFAULT_INTERNAL_POLL_INTERVAL) # wait for any pending results _ = self._wait_on_pending_results(iterator) # call parent run to handle status return super(StrategyModule, self).run(self._iterator, self._play_context, result) ",,411,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I24b118220ce2371f651cad6b8dfbbf5d031ee118,openstack/tripleo-ansible,stable/ussuri,I24b118220ce2371f651cad6b8dfbbf5d031ee118,Fix tripleo_hierdata permissions,MERGED,2020-07-06 14:15:52.000000000,2020-07-06 20:28:46.000000000,2020-07-06 20:28:46.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:15:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/ansible_hieradata.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a7f9c2c0a37fe0b490a569108016d6cbb68521e7', 'message': 'Fix tripleo_hierdata permissions\n\nAdd become: true to the tasks that need to be able to write to /etc/\n\nChange-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118\nRelated-Bug: #1883609\n(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)\n'}]",0,739500,a7f9c2c0a37fe0b490a569108016d6cbb68521e7,7,4,1,3153,,,0,"Fix tripleo_hierdata permissions

Add become: true to the tasks that need to be able to write to /etc/

Change-Id: I24b118220ce2371f651cad6b8dfbbf5d031ee118
Related-Bug: #1883609
(cherry picked from commit c8d8e9adaf62f1b3e6a274fbb5ec17dae4dc8449)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/00/739500/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_hieradata/tasks/main.yml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/hieradata_vars.yaml', 'tripleo_ansible/roles/tripleo_hieradata/tasks/ansible_hieradata.yml']",3,a7f9c2c0a37fe0b490a569108016d6cbb68521e7,bug/1883609-stable/ussuri, become: true,,5,0
openstack%2Freleases~master~I2c26f2d00df09db529bd5385b7741bc57a17b54f,openstack/releases,master,I2c26f2d00df09db529bd5385b7741bc57a17b54f,Release blazar for stable/train,ABANDONED,2020-06-10 20:55:24.000000000,2020-07-06 20:17:24.000000000,,"[{'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-10 20:55:24.000000000', 'files': ['deliverables/train/blazar.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/45c9aa4512d24cd1fa7e90677c3b94f7b23722e2', 'message': 'Release blazar for stable/train\n\nThis release picks up new commits to blazar since\nthe last release from stable/train.\n\nThis is being proposed as a convenience to help make sure stable\nchanges are being released. If the team is good with this going out,\nplease respond with a +1 to let the release team know it is OK to\nproceed.\n\nIf it is not wanted at this time, or if there are more changes that\nwould be good to get merged before doing a  stable release, please\nleave a -1 with a comment with what the team would prefer. We can\nthen either abandon this patch, or wait for an update with a new\ncommit hash to use instead.\n\nChange-Id: I2c26f2d00df09db529bd5385b7741bc57a17b54f\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,734921,45c9aa4512d24cd1fa7e90677c3b94f7b23722e2,5,2,1,11904,,,0,"Release blazar for stable/train

This release picks up new commits to blazar since
the last release from stable/train.

This is being proposed as a convenience to help make sure stable
changes are being released. If the team is good with this going out,
please respond with a +1 to let the release team know it is OK to
proceed.

If it is not wanted at this time, or if there are more changes that
would be good to get merged before doing a  stable release, please
leave a -1 with a comment with what the team would prefer. We can
then either abandon this patch, or wait for an update with a new
commit hash to use instead.

Change-Id: I2c26f2d00df09db529bd5385b7741bc57a17b54f
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/21/734921/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/blazar.yaml'],1,45c9aa4512d24cd1fa7e90677c3b94f7b23722e2,train-stable, - version: 4.0.1 projects: - repo: openstack/blazar hash: b30cece36ea143a97544799fb807644a51fd1c60,,4,0
openstack%2Fopenstack-helm-infra~master~Ic1df870165463cb3f62da779a160886f55cd96b5,openstack/openstack-helm-infra,master,Ic1df870165463cb3f62da779a160886f55cd96b5,Switch from octal to decimal value in toolkit,ABANDONED,2020-06-27 05:43:13.000000000,2020-07-06 20:11:16.000000000,,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2020-06-27 05:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/398dc3e8a20522bad8c0843978c6331178b18142', 'message': 'Switch from octal to decimal value in toolkit\n\nChange-Id: Ic1df870165463cb3f62da779a160886f55cd96b5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 2, 'created': '2020-06-27 05:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b15bb3c38ab1161819eb393971013d1dff8a6b5f', 'message': 'Switch from octal to decimal value in toolkit\n\nChange-Id: Ic1df870165463cb3f62da779a160886f55cd96b5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 3, 'created': '2020-07-01 22:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f7d66a79696fe42b42254166b9f59481004a99b9', 'message': 'Switch from octal to decimal value in toolkit\n\nChange-Id: Ic1df870165463cb3f62da779a160886f55cd96b5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}, {'number': 4, 'created': '2020-07-02 00:35:34.000000000', 'files': ['helm-toolkit/templates/manifests/_job-bootstrap.tpl', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8fa6ad0475462486577e7a9b502ebd719e8a8b87', 'message': 'Switch from octal to decimal value in toolkit\n\nAlso ensure osh-infra is a required project for lint job, that matters\nwhen running job against another project.\n\nChange-Id: Ic1df870165463cb3f62da779a160886f55cd96b5\nSigned-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>\n'}]",0,738301,8fa6ad0475462486577e7a9b502ebd719e8a8b87,9,5,4,8863,,,0,"Switch from octal to decimal value in toolkit

Also ensure osh-infra is a required project for lint job, that matters
when running job against another project.

Change-Id: Ic1df870165463cb3f62da779a160886f55cd96b5
Signed-off-by: Andrii Ostapenko <andrii.ostapenko@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/738301/2 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/manifests/_job-bootstrap.tpl'],1,398dc3e8a20522bad8c0843978c6331178b18142,, defaultMode: 292, defaultMode: 0444,1,1
openstack%2Fopenstacksdk~master~I9917b10292d191710b37838b3cf099d75139f123,openstack/openstacksdk,master,I9917b10292d191710b37838b3cf099d75139f123,switch to importlib.metadata for entrypoint loading,MERGED,2020-07-04 18:28:17.000000000,2020-07-06 20:10:54.000000000,2020-07-06 20:07:31.000000000,"[{'_account_id': 2}, {'_account_id': 2472}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-04 18:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/909e469de2c89fa58053ac51f4e5649742bb5776', 'message': ""switch to stevedore for entrypoint loading\n\nImporting pkg_resources scans every installed distribution to find all\nof the entry points. The 'entrypoints' package vendored in stevedore\ndoes not. Switching to the new package should speed up load times,\nespecially for command line apps.\n\nChange-Id: I9917b10292d191710b37838b3cf099d75139f123\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 2, 'created': '2020-07-04 21:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/16db9c6f660999fa7eb0bf17d5bb914271f9c042', 'message': ""switch to stevedore for entrypoint loading\n\nImporting pkg_resources scans every installed distribution to find all\nof the entry points. The 'entrypoints' package vendored in stevedore\ndoes not. Switching to the new package should speed up load times,\nespecially for command line apps.\n\nChange-Id: I9917b10292d191710b37838b3cf099d75139f123\nDepends-On: https://review.opendev.org/739326\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 3, 'created': '2020-07-05 19:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4577740abc8682172f6e8ed10ec13b0f8283de80', 'message': ""switch to stevedore for entrypoint loading\n\nImporting pkg_resources scans every installed distribution to find all\nof the entry points. The 'entrypoints' package vendored in stevedore\ndoes not. Switching to the new package should speed up load times,\nespecially for command line apps.\n\nChange-Id: I9917b10292d191710b37838b3cf099d75139f123\nDepends-On: I8b08f289d446f4775eac1e1a91997fa96f25f641\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n""}, {'number': 4, 'created': '2020-07-05 22:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d98e834876016c4817e594754a234d7aed483c6f', 'message': 'switch to stevedore for entrypoint loading\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. Stevedore is adding a new caching layer using\nimportlib.metadata, which will not.  Switching to the stevedore should\neventually speed up load times, especially for command line apps. This\nchange makes the switch now to ensure API compatibility.\n\nChange-Id: I9917b10292d191710b37838b3cf099d75139f123\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}, {'number': 5, 'created': '2020-07-05 23:48:34.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'openstack/connection.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/77e2f67d3856153f875552f84f0a3565f557f2c3', 'message': 'switch to importlib.metadata for entrypoint loading\n\nImporting pkg_resources scans every installed distribution to find\nall of the entry points. importlib.metadata can import entry points\nwithout scanning all of the installed packages.\n\nChange-Id: I9917b10292d191710b37838b3cf099d75139f123\nSigned-off-by: Doug Hellmann <doug@doughellmann.com>\n'}]",3,739328,77e2f67d3856153f875552f84f0a3565f557f2c3,20,4,5,2472,,,0,"switch to importlib.metadata for entrypoint loading

Importing pkg_resources scans every installed distribution to find
all of the entry points. importlib.metadata can import entry points
without scanning all of the installed packages.

Change-Id: I9917b10292d191710b37838b3cf099d75139f123
Signed-off-by: Doug Hellmann <doug@doughellmann.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/739328/3 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'openstack/connection.py']",2,909e469de2c89fa58053ac51f4e5649742bb5776,osc-performance,"from stevedore import entrypoints_cache ep = entrypoints_cache.EntryPoint.from_string( vendor_hook, name='vendor_hook') hook = ep.load() except (ImportError, TypeError, AttributeError) as e:"," import pkg_resources ep = pkg_resources.EntryPoint( 'vendor_hook', package_name, attrs=(function,)) hook = ep.resolve() except (ImportError, TypeError) as e:",7,5
openstack%2Ftripleo-upgrade~stable%2Fussuri~I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,openstack/tripleo-upgrade,stable/ussuri,I969d901be4eeb93e0abe4e8b06f6c54399b52ea2,Workload during updates can be launched with SRIOV ports,MERGED,2020-06-19 11:32:10.000000000,2020-07-06 19:52:43.000000000,2020-07-06 19:52:43.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}, {'_account_id': 31291}]","[{'number': 1, 'created': '2020-06-19 11:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/f75f3ffdadd1b07f96ffddbda5538317196a3935', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2\n'}, {'number': 2, 'created': '2020-06-24 12:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b3f844dddc8ae8b6272bbfeddf23e82f77ba6c13', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2\n'}, {'number': 3, 'created': '2020-07-01 21:28:51.000000000', 'files': ['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/workload_launch.sh.j2', 'templates/fip_http_check_start.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/b9023c58578890638e7a2923d429cc24407eb3f2', 'message': 'Workload during updates can be launched with SRIOV ports\n\nWhen upgrade-workloadsriov is set, workload is generated with an SRIOV\nPF port on the existing external network\nA mechanism has been added to remove workload previously created after\nupdate/upgrade is completed, when upgrade-workloadcleanup is set\n\nChange-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2\n(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)\n'}]",0,736978,b9023c58578890638e7a2923d429cc24407eb3f2,11,4,3,11090,,,0,"Workload during updates can be launched with SRIOV ports

When upgrade-workloadsriov is set, workload is generated with an SRIOV
PF port on the existing external network
A mechanism has been added to remove workload previously created after
update/upgrade is completed, when upgrade-workloadcleanup is set

Change-Id: I969d901be4eeb93e0abe4e8b06f6c54399b52ea2
(cherry picked from commit 85c12706d145162d85c2c519e01e35393364d4c8)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/78/736978/3 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/main.yml', 'README.rst', 'infrared_plugin/plugin.spec', 'templates/fip_http_check_start.sh.j2', 'templates/workload_launch.sh.j2', 'infrared_plugin/main.yml', 'templates/nova_actions_check.sh.j2', 'defaults/main.yml', 'templates/l3_agent_start_ping.sh.j2']",9,f75f3ffdadd1b07f96ffddbda5538317196a3935,sriov_workload-stable/ussuri,"if [ -f {{ working_dir }}/vm_ip.sh ]; then source {{ working_dir }}/vm_ip.sh {% if workload_sriov | bool %} echo export VM_IP=$(openstack server list -f json | jq -r -c '.[0][""Networks""]' | cut -d""="" -f2) > {{ working_dir }}/vm_ip.sh {% else %} echo export VM_IP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/vm_ip.sh {% endif %} source {{ working_dir }}/vm_ip.shping -D ${VM_IP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &","if [ -f {{ working_dir }}/fip.sh ]; then source {{ working_dir }}/fip.sh echo export FIP=$(openstack floating ip list -f json | jq -r -c '.[] | select(.Port) | .[""Floating IP Address""]' | head -1) > {{ working_dir }}/fip.sh source {{ working_dir }}/fip.shping -D ${FIP} >> ~/ping_results_$(date +%Y%m%d%H%M).log &",295,177
openstack%2Fnova~stable%2Fussuri~I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75,openstack/nova,stable/ussuri,I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75,libvirt: Mark e1000e VIF as supported,MERGED,2020-06-19 08:45:01.000000000,2020-07-06 19:47:55.000000000,2020-07-06 17:50:18.000000000,"[{'_account_id': 4690}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-06-19 08:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/52dbf4981c89f1582faa3f2f9ebdf707c09f4c2a', 'message': ""libvirt: Mark e1000e VIF as supported\n\nThis is supported by the QEMU/KVM backends in libvirt. There's no reason\nnot to support it in nova. This appears to have been an oversight.\n\nChange-Id: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882919\n(cherry picked from commit 644cb5cb8bf44184d9b3f046cc67746b13550dd6)\n""}, {'number': 2, 'created': '2020-06-26 09:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/fd275f5da6dd511230ce41dda524a44d30bd0390', 'message': ""libvirt: Mark e1000e VIF as supported\n\nThis is supported by the QEMU/KVM backends in libvirt. There's no reason\nnot to support it in nova. This appears to have been an oversight.\n\nChange-Id: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882919\n(cherry picked from commit 644cb5cb8bf44184d9b3f046cc67746b13550dd6)\n""}, {'number': 3, 'created': '2020-07-06 13:40:59.000000000', 'files': ['nova/virt/libvirt/vif.py', 'releasenotes/notes/bug-1882919-support-e1000e-vif-5437a45c13dff978.yaml', 'nova/tests/unit/virt/libvirt/test_vif.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/840de3b8924612fa3fc47a4c9032a4723d536613', 'message': ""libvirt: Mark e1000e VIF as supported\n\nThis is supported by the QEMU/KVM backends in libvirt. There's no reason\nnot to support it in nova. This appears to have been an oversight.\n\nChange-Id: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1882919\n(cherry picked from commit 644cb5cb8bf44184d9b3f046cc67746b13550dd6)\n""}]",0,736957,840de3b8924612fa3fc47a4c9032a4723d536613,40,9,3,15334,,,0,"libvirt: Mark e1000e VIF as supported

This is supported by the QEMU/KVM backends in libvirt. There's no reason
not to support it in nova. This appears to have been an oversight.

Change-Id: I12a5d28d75bc32a76a4f3765cb4db4cbc46c0c75
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1882919
(cherry picked from commit 644cb5cb8bf44184d9b3f046cc67746b13550dd6)
",git fetch https://review.opendev.org/openstack/nova refs/changes/57/736957/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/vif.py', 'nova/tests/unit/virt/libvirt/test_vif.py', 'releasenotes/notes/bug-1882919-support-e1000e-vif-5437a45c13dff978.yaml']",3,52dbf4981c89f1582faa3f2f9ebdf707c09f4c2a,bug/1882919,"--- fixes: - | Previously, attempting to configure an instance with the ``e1000e`` or legacy ``VirtualE1000e`` VIF types on a host using the QEMU/KVM driver would result in an incorrect ``UnsupportedHardware`` exception. These interfaces are now correctly marked as supported. ",,11,0
openstack%2Fgovernance~master~I9beee84153847c36748b0bb47fe0ba519c72cf0f,openstack/governance,master,I9beee84153847c36748b0bb47fe0ba519c72cf0f,"Add ""tc:approved-release"" tag to manila",MERGED,2020-06-25 20:35:23.000000000,2020-07-06 19:37:31.000000000,2020-07-06 19:35:25.000000000,"[{'_account_id': 308}, {'_account_id': 1004}, {'_account_id': 6413}, {'_account_id': 6754}, {'_account_id': 7160}, {'_account_id': 7321}, {'_account_id': 7353}, {'_account_id': 8099}, {'_account_id': 8556}, {'_account_id': 9003}, {'_account_id': 11139}, {'_account_id': 13995}, {'_account_id': 16643}, {'_account_id': 16708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-25 20:35:23.000000000', 'files': ['reference/projects.yaml'], 'web_link': 'https://opendev.org/openstack/governance/commit/031afca18e273a4ccf90867b1c64cbb67db12277', 'message': 'Add ""tc:approved-release"" tag to manila\n\nOpenStack Manila (Shared File Systems as a service)\nhas been a project under the OpenStack governance\nsince the Kilo release. The project follows all the\nguidelines set forth by the OpenStack Technical\nCommittee with regard to project structure, development\nand releases. It has been increasingly useful in\nproduction OpenStack deployments for a number of\nyears now.\n\nThe ""tc:approved-release"" tag was introduced in\nOpenStack to denote a subset of the projects in the\nOpenStack governance that could be used in as\ncandidates for trademark use under the OpenStack\nFoundation trademark policy [1]. At the time that\nthe tag was introduced, all graduated projects\nwere added to this list [2]. Manila was not yet\nconsidered a graduated project before the incubation\nsystem of yore gave way to the ""big tent"" model.\n\nThis commit formally requests the ""tc:approved-release""\nbe added to manila, considering the steady growth of the\nproject, its growing user base, and its consistent\nadherence to the TC guidelines.\n\n[1] https://opendev.org/openstack/governance/blame/commit/fb341fe0d9a10acb7662ea507b8b69483e08d21b/reference/tags/tc_approved-release.rst#L17-L19\n[2] https://review.opendev.org/198295/\n\nChange-Id: I9beee84153847c36748b0bb47fe0ba519c72cf0f\n'}]",0,738105,031afca18e273a4ccf90867b1c64cbb67db12277,26,15,1,16643,,,0,"Add ""tc:approved-release"" tag to manila

OpenStack Manila (Shared File Systems as a service)
has been a project under the OpenStack governance
since the Kilo release. The project follows all the
guidelines set forth by the OpenStack Technical
Committee with regard to project structure, development
and releases. It has been increasingly useful in
production OpenStack deployments for a number of
years now.

The ""tc:approved-release"" tag was introduced in
OpenStack to denote a subset of the projects in the
OpenStack governance that could be used in as
candidates for trademark use under the OpenStack
Foundation trademark policy [1]. At the time that
the tag was introduced, all graduated projects
were added to this list [2]. Manila was not yet
considered a graduated project before the incubation
system of yore gave way to the ""big tent"" model.

This commit formally requests the ""tc:approved-release""
be added to manila, considering the steady growth of the
project, its growing user base, and its consistent
adherence to the TC guidelines.

[1] https://opendev.org/openstack/governance/blame/commit/fb341fe0d9a10acb7662ea507b8b69483e08d21b/reference/tags/tc_approved-release.rst#L17-L19
[2] https://review.opendev.org/198295/

Change-Id: I9beee84153847c36748b0bb47fe0ba519c72cf0f
",git fetch https://review.opendev.org/openstack/governance refs/changes/05/738105/1 && git format-patch -1 --stdout FETCH_HEAD,['reference/projects.yaml'],1,031afca18e273a4ccf90867b1c64cbb67db12277,formal-vote, - tc:approved-release,,1,0
openstack%2Fironic~stable%2Ftrain~I62b2d32c545b6ad6487aead98c8fab212ed5e83f,openstack/ironic,stable/train,I62b2d32c545b6ad6487aead98c8fab212ed5e83f,Fix the error message when reached max number of traits,MERGED,2020-07-06 12:37:48.000000000,2020-07-06 19:25:14.000000000,2020-07-06 17:03:53.000000000,"[{'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2020-07-06 12:37:48.000000000', 'files': ['ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/a436d666da403d75a6fc651c1e53010b4f84244a', 'message': 'Fix the error message when reached max number of traits\n\nThe error message is not properly tranlated as desired, raw string\nis returned when reached maximum number of traits.\n\nChange-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f\n(cherry picked from commit d90459a87fce4a84d34bdf24604de3edfb23dda7)\n'}]",0,739478,a436d666da403d75a6fc651c1e53010b4f84244a,9,5,1,10239,,,0,"Fix the error message when reached max number of traits

The error message is not properly tranlated as desired, raw string
is returned when reached maximum number of traits.

Change-Id: I62b2d32c545b6ad6487aead98c8fab212ed5e83f
(cherry picked from commit d90459a87fce4a84d34bdf24604de3edfb23dda7)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/739478/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,a436d666da403d75a6fc651c1e53010b4f84244a,trait-errormsg-stable/train," msg = (_(""Could not modify traits for node %(node_id)s as it "" ""would exceed the maximum number of traits per node "" ""(%(num_traits)d vs. %(max_traits)d)"") % {'node_id': node_id, 'num_traits': num_traits, 'max_traits': MAX_TRAITS_PER_NODE}) raise exception.InvalidParameterValue(err=msg)"," msg = _(""Could not modify traits for node %(node_id)s as it would "" ""exceed the maximum number of traits per node "" ""(%(num_traits)d vs. %(max_traits)d)"") raise exception.InvalidParameterValue( msg, node_id=node_id, num_traits=num_traits, max_traits=MAX_TRAITS_PER_NODE)",6,6
openstack%2Fkolla-ansible~master~I80864f82a74d3c6ffb12816685ccb65e66f89fe0,openstack/kolla-ansible,master,I80864f82a74d3c6ffb12816685ccb65e66f89fe0,Add support for encrypting etcd traffic,ABANDONED,2020-06-17 23:08:40.000000000,2020-07-06 19:24:53.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2020-06-17 23:08:40.000000000', 'files': ['releasenotes/notes/encrypt-backend-haproxy-fb96285d74fb464c.yaml', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/etcd/tasks/copy-certs.yml', 'ansible/roles/etcd/templates/etcd.json.j2', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/qinling/templates/qinling.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40863c8b98070819440d626025feac8655436ae7', 'message': 'Add support for encrypting etcd traffic\n\nThis patch fixes the deployment of the etcd service when backend\nencryption is enabled. It also fixes the configuration for other\nservices that use etcd when backend encryption is enabled.\n\nChange-Id: I80864f82a74d3c6ffb12816685ccb65e66f89fe0\nPartially-Implements: blueprint add-ssl-internal-network\n'}]",1,736400,40863c8b98070819440d626025feac8655436ae7,7,3,1,30810,,,0,"Add support for encrypting etcd traffic

This patch fixes the deployment of the etcd service when backend
encryption is enabled. It also fixes the configuration for other
services that use etcd when backend encryption is enabled.

Change-Id: I80864f82a74d3c6ffb12816685ccb65e66f89fe0
Partially-Implements: blueprint add-ssl-internal-network
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/736400/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/encrypt-backend-haproxy-fb96285d74fb464c.yaml', 'ansible/roles/etcd/tasks/copy-certs.yml', 'ansible/roles/skydive/templates/skydive-agent.conf.j2', 'ansible/roles/etcd/templates/etcd.json.j2', 'ansible/roles/etcd/tasks/config.yml', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/skydive/templates/skydive-analyzer.conf.j2', 'ansible/roles/qinling/templates/qinling.conf.j2']",9,40863c8b98070819440d626025feac8655436ae7,,protocol = {{ 'https' if kolla_enable_tls_backend | bool else 'http' }},protocol = {{ internal_protocol }},87,14
openstack%2Ftripleo-ansible~stable%2Fussuri~Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,openstack/tripleo-ansible,stable/ussuri,Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be,Fix missing requirements for tests,MERGED,2020-07-06 14:16:34.000000000,2020-07-06 19:19:47.000000000,2020-07-06 19:16:10.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-06 14:16:34.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b93a1c61a6d7a1e9e9c380afe2df927e89490c8c', 'message': 'Fix missing requirements for tests\n\nWe added heatclient and metalsmith requirements as part of our modules\nso we need to make sure to properly capture them.\n\nChange-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be\n(cherry picked from commit cdb59feb206cf0ff3e079695c23ecfdb07271e25)\n'}]",0,739501,b93a1c61a6d7a1e9e9c380afe2df927e89490c8c,7,3,1,3153,,,0,"Fix missing requirements for tests

We added heatclient and metalsmith requirements as part of our modules
so we need to make sure to properly capture them.

Change-Id: Ia5859ecf0822f19b9f04dda79d5b8b5eaf5220be
(cherry picked from commit cdb59feb206cf0ff3e079695c23ecfdb07271e25)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/01/739501/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,b93a1c61a6d7a1e9e9c380afe2df927e89490c8c,container-not-running-stable/ussuri,python-heatclient # Apache-2.0metalsmith # Apache-2.0,,2,0
openstack%2Fansible-role-redhat-subscription~master~Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d,openstack/ansible-role-redhat-subscription,master,Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d,Adjustments to detect Satellite version/mode,MERGED,2020-07-02 15:50:16.000000000,2020-07-06 19:18:44.000000000,2020-07-06 19:18:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-07-02 15:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/3429d6f539ef9ef721511c7c1d1fdb6960fc4972', 'message': ""Adjustments to detect Satellite version/mode\n\n1) Fail if we couldn't figure out what version of Satellite is running.\n   Otherwise we end up including a playbook that doesn't exist and the\n   error is misleading.\n\n2) Change the Satellite 6 version check, to use /pulp/api/v2/status\n   instead of /katello/api/ping; which seems to work better when a\n   Capsule is used. This URL should work for both Satellite 6 and\n   Capsule.\n\n3) Document that rhsm_rhsm_port needs to be changed to 8443 if a capsule\n   is used.\n\nChange-Id: Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d\n""}, {'number': 2, 'created': '2020-07-03 15:39:38.000000000', 'files': ['tasks/satellite.yml', 'defaults/main.yml', 'README.md'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/bcda84e1c41a119775f4e85c630dad060f82e0fa', 'message': ""Adjustments to detect Satellite version/mode\n\n1) Fail if we couldn't figure out what version of Satellite is running.\n   Otherwise we end up including a playbook that doesn't exist and the\n   error is misleading.\n\n2) Change the Satellite 6 version check, to use /pulp/api/v2/status\n   instead of /katello/api/ping; which seems to work better when a\n   Capsule is used. This URL should work for both Satellite 6 and\n   Capsule.\n\n3) Document that rhsm_rhsm_port needs to be changed to 8443 if a capsule\n   is used.\n\nChange-Id: Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d\n""}]",2,739080,bcda84e1c41a119775f4e85c630dad060f82e0fa,13,3,2,3153,,,0,"Adjustments to detect Satellite version/mode

1) Fail if we couldn't figure out what version of Satellite is running.
   Otherwise we end up including a playbook that doesn't exist and the
   error is misleading.

2) Change the Satellite 6 version check, to use /pulp/api/v2/status
   instead of /katello/api/ping; which seems to work better when a
   Capsule is used. This URL should work for both Satellite 6 and
   Capsule.

3) Document that rhsm_rhsm_port needs to be changed to 8443 if a capsule
   is used.

Change-Id: Ibc7c05260f01adf520f5d18f3ea8e23e266e4f6d
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/80/739080/2 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/satellite.yml', 'defaults/main.yml', 'README.md']",3,3429d6f539ef9ef721511c7c1d1fdb6960fc4972,bz/1853374,| `rhsm_rhsm_port` | `443` | Port to use when connecting to subscription server. Must be 8443 if a capsule is used otherwise 443 for Satellite or RHN. |,| `rhsm_rhsm_port` | `443` | Port to use when connecting to subscription server. |,10,2
openstack%2Ftripleo-ansible~stable%2Fussuri~Iaa39aa301be182722e0650583d1ad17c0e8dc82b,openstack/tripleo-ansible,stable/ussuri,Iaa39aa301be182722e0650583d1ad17c0e8dc82b,Fix host entries permissions,MERGED,2020-07-06 14:15:27.000000000,2020-07-06 19:16:09.000000000,2020-07-06 19:16:09.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-06 14:15:27.000000000', 'files': ['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b2ea17cc8ae9ab905993763a49fb9b152af71986', 'message': 'Fix host entries permissions\n\nThe cleanup tasks needs become: true because it was created with root.\n\nChange-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b\nRelated-Bug: #1883609\n(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)\n'}]",0,739498,b2ea17cc8ae9ab905993763a49fb9b152af71986,7,4,1,3153,,,0,"Fix host entries permissions

The cleanup tasks needs become: true because it was created with root.

Change-Id: Iaa39aa301be182722e0650583d1ad17c0e8dc82b
Related-Bug: #1883609
(cherry picked from commit 746bd9a52b2a4288af705f161ec41736a4e3b5e3)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/739498/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_hosts_entries/tasks/main.yml'],1,b2ea17cc8ae9ab905993763a49fb9b152af71986,bug/1883609-stable/ussuri, become: true,,1,0
