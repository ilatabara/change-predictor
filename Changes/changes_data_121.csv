id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fpuppet-horizon~master~Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea,openstack/puppet-horizon,master,Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea,Add support for OPENSTACK_USE_SIMPLE_TENANT_USAGE,MERGED,2022-01-10 05:09:19.000000000,2022-01-11 17:20:04.000000000,2022-01-11 17:13:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 05:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ddc3b148f23ae519a3fe612289c053259de66e1c', 'message': 'Add support for OPENSTACK_USE_SIMPLE_TENANT_USAGE\n\nChange-Id: Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea\n'}, {'number': 2, 'created': '2022-01-10 23:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c342148d4dd029fdc761a9002e1da6c536c52617', 'message': 'Add support for OPENSTACK_USE_SIMPLE_TENANT_USAGE\n\nChange-Id: Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea\n'}, {'number': 3, 'created': '2022-01-10 23:49:42.000000000', 'files': ['releasenotes/notes/use_simple_tenant_usage-f53e475bf7a5252f.yaml', 'templates/local_settings.py.erb', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/3e711f170d3b5f3b8e2c8b0f155c3145bb803c65', 'message': 'Add support for OPENSTACK_USE_SIMPLE_TENANT_USAGE\n\nChange-Id: Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea\n'}]",2,823930,3e711f170d3b5f3b8e2c8b0f155c3145bb803c65,14,3,3,9816,,,0,"Add support for OPENSTACK_USE_SIMPLE_TENANT_USAGE

Change-Id: Ia55ba01bbc45c3f304b56f59a9a59232a8fb5cea
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/30/823930/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/use_simple_tenant_usage-f53e475bf7a5252f.yaml', 'templates/local_settings.py.erb', 'manifests/init.pp']",3,ddc3b148f23ae519a3fe612289c053259de66e1c,,"# [*use_simple_tenant_usage*] # (optional) Use SimpleTenantUsage nova API in the usage overview. # (Defaults to undef) # $use_simple_tenant_usage = undef,",,20,0
openstack%2Fopenstackdocstheme~master~Iab10f4165d1cff61cf8f80a419be098417423ce7,openstack/openstackdocstheme,master,Iab10f4165d1cff61cf8f80a419be098417423ce7,Only build translated docs for supported locales,NEW,2021-07-28 16:50:40.000000000,2022-01-11 16:55:42.000000000,,"[{'_account_id': 4146}, {'_account_id': 14482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-28 16:50:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/064b0a2ae8445cfe842db5b5c786512afc3d76b7', 'message': ""Only build translated docs for supported locales\n\nRecent changes to docutils [1] means that it will no longer accept\nlocales that it itself does not support. Work around this by filtering\nthese languages, ignoring the ones we don't support.\n\n[1] https://sourceforge.net/p/docutils/code/8465/\n\nChange-Id: Iab10f4165d1cff61cf8f80a419be098417423ce7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2021-07-28 16:58:10.000000000', 'files': ['bin/docstheme-build-translated.sh'], 'web_link': 'https://opendev.org/openstack/openstackdocstheme/commit/f3d406098042088bd97201a4b5f476751c6fda33', 'message': ""Only build translated docs for supported locales\n\nRecent changes to docutils [1] means that it will no longer accept\nlocales that it itself does not support. Work around this by filtering\nthese languages, ignoring the ones we don't support.\n\n[1] https://sourceforge.net/p/docutils/code/8465/\n\nChange-Id: Iab10f4165d1cff61cf8f80a419be098417423ce7\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",4,802758,f3d406098042088bd97201a4b5f476751c6fda33,12,4,2,15334,,,0,"Only build translated docs for supported locales

Recent changes to docutils [1] means that it will no longer accept
locales that it itself does not support. Work around this by filtering
these languages, ignoring the ones we don't support.

[1] https://sourceforge.net/p/docutils/code/8465/

Change-Id: Iab10f4165d1cff61cf8f80a419be098417423ce7
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/openstackdocstheme refs/changes/58/802758/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/docstheme-build-translated.sh'],1,064b0a2ae8445cfe842db5b5c786512afc3d76b7,sphinx-4.x,"# List of languages supported by docutils, from # https://repo.or.cz/docutils.git/tree/HEAD:/docutils/docutils/languages LANGS=(af ar ca cs da de en eo es fa fi fr gl he it ja ko lt lv nl pl pt_br ru sk sv zh_cn zh_tw) short_language=""$(cut -d '_' -f1 <<< $language)"" supported=false # skip if it is not a language supported by docutils. for supported_language in ""${LANGS[@]}""; do if [ ""$language"" == ""$supported_language"" ]; then supported=true break fi if [ ""$short_language"" == ""$supported_language"" ]; then supported=true break fi done if $supported; then echo ""Skipping $language translation; unsupported by docutils"" continue fi",,25,0
openstack%2Fswift~master~I5cfabb7255567d80160f9096ddaee85ac9ed5cfc,openstack/swift,master,I5cfabb7255567d80160f9096ddaee85ac9ed5cfc,WIP: use async pending to expire MPU,NEW,2021-12-21 02:30:16.000000000,2022-01-11 16:31:42.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-21 02:30:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/63f39ce70658fa95f82f553f9975cc36ba0cc024', 'message': 'WIP: use async pending to expire MPU\n\nThis is still just a best effort cleanup, s3api MPUs are known to\ngenerate orphaned segments [1], but if if this turns out to be\nreasonable it might also be useful for MPU overwrite.\n\n1. lp bug #1813202\n\nChange-Id: I5cfabb7255567d80160f9096ddaee85ac9ed5cfc\n'}, {'number': 2, 'created': '2022-01-07 22:06:25.000000000', 'files': ['swift/obj/server.py', 'swift/obj/expirer.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/48b5a13344f6b203bc879608c1d0139c5e643afd', 'message': 'WIP: use async pending to expire MPU\n\nThis is still just a best effort cleanup, s3api MPUs are known to\ngenerate orphaned segments [1], but if if this turns out to be\nreasonable it might also be useful for MPU overwrite.\n\n1. lp bug #1813202\n\nChange-Id: I5cfabb7255567d80160f9096ddaee85ac9ed5cfc\n'}]",12,822377,48b5a13344f6b203bc879608c1d0139c5e643afd,10,1,2,1179,,,0,"WIP: use async pending to expire MPU

This is still just a best effort cleanup, s3api MPUs are known to
generate orphaned segments [1], but if if this turns out to be
reasonable it might also be useful for MPU overwrite.

1. lp bug #1813202

Change-Id: I5cfabb7255567d80160f9096ddaee85ac9ed5cfc
",git fetch https://review.opendev.org/openstack/swift refs/changes/77/822377/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'swift/obj/expirer.py', 'test/probe/test_object_expirer.py']",3,63f39ce70658fa95f82f553f9975cc36ba0cc024,object-expire-mpu," # and one more time to process the async delete for service in ('object', 'container'): Manager(['%s-updater' % service]).once() self.expirer.once()",,131,17
openstack%2Fneutron~master~I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a,openstack/neutron,master,I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a,Delete MAC binding for LRP when the port is deleted,MERGED,2021-12-20 09:53:31.000000000,2022-01-11 16:11:29.000000000,2022-01-11 16:07:13.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 28056}]","[{'number': 1, 'created': '2021-12-20 09:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e176ca0384be900c5c1932e19ebe2ae9e1f4e512', 'message': 'Fix bug about reconnect subnet not learn mac\n\nIf router_A connect subnet by ip <x.x.x.x> and\n there are packets through it when always_learn_from_arp_request\n is set to False(patch[1]), the mac_binding table of ovn south\n db will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\n exits in mac_binding table. When reconnecting subnet by\n the same ip as <x.x.x.x>, the mac_binding can not\n update the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\n can not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\n mac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n'}, {'number': 2, 'created': '2021-12-20 11:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee8f76cc622c8c5ce6d9f95e797ab9a2ae3e7ea0', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n'}, {'number': 3, 'created': '2021-12-20 11:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3386133c4d195d501b2d44bbc96757f6bdca34b5', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n'}, {'number': 4, 'created': '2021-12-28 06:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2007f7c8bc3a76722ad3ca7fd3e4be1451de6611', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n'}, {'number': 5, 'created': '2022-01-07 09:25:28.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n'}]",21,822299,f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c,54,8,5,34125,,,0,"Delete MAC binding for LRP when the port is deleted

If router_A connect subnet by ip <x.x.x.x> and
there are packets through it when always_learn_from_arp_request
is set to False(patch[1]), the mac_binding table of ovn south
db will learn mac address of <x.x.x.x>.
If disconnect the subnet, the mac of <x.x.x.x> still
exits in mac_binding table. When reconnecting subnet by
the same ip as <x.x.x.x>, the mac_binding can not
update the mac of <x.x.x.x> to the latest mac address.
This will cause packets that need pass <x.x.x.x>
can not normal arrival destination address.
Fix it by clearing mac address of the <x.x.x.x> in
mac_binding tables when disconnects the subnet.

[1]https://review.opendev.org/c/openstack/neutron/+/814421

Closes-Bug: #1954771
Change-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a
",git fetch https://review.opendev.org/openstack/neutron refs/changes/99/822299/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,e176ca0384be900c5c1932e19ebe2ae9e1f4e512,bug/1954771,"from oslo_concurrency import processutilsimport tenacity @tenacity.retry(wait=tenacity.wait_random(min=2, max=3), stop=tenacity.stop_after_attempt(100)) def delete_mac_binding_entries_by_mac(self, mac): """"""Delete all MAC_Binding entries associated to this IP/mac address"""""" cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection(), '--timeout', str(ovn_conf.get_ovn_ovsdb_timeout())] if ovn_conf.get_ovn_sb_private_key(): cmd += ['-p', ovn_conf.get_ovn_sb_private_key(), '-c', ovn_conf.get_ovn_sb_certificate(), '-C', ovn_conf.get_ovn_sb_ca_cert()] cmd += ['[""OVN_Southbound"", {""op"": ""delete"", ""table"": ""MAC_Binding"", ' '""where"": [[""mac"", ""=="", ""%s""]]}]' % mac] return processutils.execute(*cmd, log_errors=processutils.LOG_FINAL_ERROR) port_mac = ovn_port.mac if port_mac: self.delete_mac_binding_entries_by_mac(port_mac) if port_mac: self.delete_mac_binding_entries_by_mac(port_mac)",,22,0
openstack%2Fkolla-ansible~master~I6ffc8caae1aef757d37c629fbc05bb129f80147b,openstack/kolla-ansible,master,I6ffc8caae1aef757d37c629fbc05bb129f80147b,Add logrotate configuration for placement service,MERGED,2021-12-14 02:04:40.000000000,2022-01-11 16:06:18.000000000,2022-01-11 16:02:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23266}, {'_account_id': 26285}, {'_account_id': 30491}, {'_account_id': 32587}, {'_account_id': 33543}]","[{'number': 1, 'created': '2021-12-14 02:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0a24c76be78190fd084ad8a393ed54ec43ebe2e2', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n'}, {'number': 2, 'created': '2022-01-10 07:48:50.000000000', 'files': ['releasenotes/notes/bug-1954723-2d49335022492891.yaml', 'ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fae8769440dc7a5c4d1e9df4fe6dc809956785e', 'message': 'Add logrotate configuration for placement service\n\nCloses-Bug: #1954723\nChange-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b\n'}]",3,821642,0fae8769440dc7a5c4d1e9df4fe6dc809956785e,20,7,2,23266,,,0,"Add logrotate configuration for placement service

Closes-Bug: #1954723
Change-Id: I6ffc8caae1aef757d37c629fbc05bb129f80147b
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/42/821642/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/templates/cron-logrotate-placement.conf.j2', 'ansible/roles/common/tasks/config.yml']",2,0a24c76be78190fd084ad8a393ed54ec43ebe2e2,bug/1954723," - { name: ""placement"", enabled: ""{{ enable_placement | bool }}"" }",,4,0
openstack%2Fopenstack-ansible~stable%2Fussuri~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,stable/ussuri,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,ABANDONED,2022-01-11 12:13:01.000000000,2022-01-11 15:57:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 12:13:01.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d611f1ac81f9ec9f5d07768762b391080a4b6f3e', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)\n""}]",0,824029,d611f1ac81f9ec9f5d07768762b391080a4b6f3e,4,2,1,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
(cherry picked from commit a67fd5e4c5ec9d93110c92aac44bf16056389199)
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/29/824029/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/gate-check-commit.sh'],1,d611f1ac81f9ec9f5d07768762b391080a4b6f3e,," # TODO(noonedeadpunk): Drop rich with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt 'rich>=9.5.1,<11.0.0'", ${PIP_COMMAND} install --isolated ${PIP_OPTS} -r ${OSA_CLONE_DIR}/test-requirements.txt,2,1
openstack%2Fopenstack-ansible~master~I8c2e9394dc51d0930b2c340afd0b28fde86a966b,openstack/openstack-ansible,master,I8c2e9394dc51d0930b2c340afd0b28fde86a966b,Add openstack-ansible-plugins as a collection,MERGED,2021-12-08 10:41:16.000000000,2022-01-11 15:43:05.000000000,2022-01-11 15:39:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2021-12-08 10:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a6ef01b7849d65135edd66e0495f842946b1cd88', 'message': 'Add openstack-ansible-utils collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}, {'number': 2, 'created': '2021-12-08 11:53:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8247d9a7207b4ff68c9abb025341a01edbdc798e', 'message': 'Add openstack-ansible-plugins as a collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}, {'number': 3, 'created': '2021-12-08 11:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6178aebb171ff94cc8d7eb925d0447b2db75e125', 'message': 'Add openstack-ansible-plugins as a collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}, {'number': 4, 'created': '2021-12-15 13:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/db98e038aef87ec9177752bc8c9fb6177ef8fd12', 'message': 'Add openstack-ansible-plugins as a collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}, {'number': 5, 'created': '2022-01-04 09:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/341c6ad5bc0e69ee7e76ec2ca8aecca70c03f91e', 'message': 'Add openstack-ansible-plugins as a collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}, {'number': 6, 'created': '2022-01-05 15:29:44.000000000', 'files': ['ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0972c8228c166461371617cd4e8f06be6398a66d', 'message': 'Add openstack-ansible-plugins as a collection\n\nThis collection contains utilities used across many other roles in\nopenstack-ansible, initially for database, message queue and service\nsetup.\n\nDepends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1\nChange-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b\n'}]",4,820998,0972c8228c166461371617cd4e8f06be6398a66d,26,3,6,25023,,,0,"Add openstack-ansible-plugins as a collection

This collection contains utilities used across many other roles in
openstack-ansible, initially for database, message queue and service
setup.

Depends-On: Ice2dbac8a2b23e33523e9b6f120f8f16588b43e1
Change-Id: I8c2e9394dc51d0930b2c340afd0b28fde86a966b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/98/820998/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible-collection-requirements.yml'],1,a6ef01b7849d65135edd66e0495f842946b1cd88,, - name: https://github.com/jrosser/openstack-ansible-utils version: master type: git,,3,0
openstack%2Fos-ken~stable%2Fvictoria~If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,openstack/os-ken,stable/victoria,If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,Add requirements.txt to tox environment,MERGED,2022-01-11 08:10:02.000000000,2022-01-11 15:41:28.000000000,2022-01-11 15:31:32.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 08:10:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/a7c6a8547a50334a0c7e3b39e48716c013382f90', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n'}, {'number': 2, 'created': '2022-01-11 08:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e3c333234ad8f1d0326b5127bbe939d6301849ce', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\nFor wallaby and older, fix the docs job with adapted backport of [1] and\nadd eventlet to doc requirements (it is loaded in doc generation)\n\n[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)\n'}, {'number': 3, 'created': '2022-01-11 08:58:02.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/c58c8019858d051f51fd33dc2d49af8b1b34d0e4', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\nFor wallaby and older, fix the docs job with adapted backport of [1] and\nadd eventlet to doc requirements (it is loaded in doc generation)\n\n[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32\n\nConflicts:\n\t.zuul.yaml\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)\n(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)\n'}]",0,824091,c58c8019858d051f51fd33dc2d49af8b1b34d0e4,11,3,3,21798,,,0,"Add requirements.txt to tox environment

This was spotted in [0] backport, upper constraints are not applied
correctly without it (and this aligns with the typical deps in other
projects)

[0] https://review.opendev.org/c/openstack/os-ken/+/823758

For stable branches, also drop lower-constraints job as done in other
projects
For wallaby and older, fix the docs job with adapted backport of [1] and
add eventlet to doc requirements (it is loaded in doc generation)

[1] Ica52306c9c2ca2d64161b09317735ed740bd4d32

Conflicts:
	.zuul.yaml
	tox.ini

Change-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c
(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)
(cherry picked from commit 290f29cdb90b2263ae4e587c14337b6ef0dd59f1)
(cherry picked from commit 99361db159f47e7cafcd52612d0f678891f84a8d)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/91/824091/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,a7c6a8547a50334a0c7e3b39e48716c013382f90,, -r{toxinidir}/requirements.txt, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,1,153
openstack%2Fpython-openstackclient~master~Ib70cfa1c241ce94426214c7a05c550213f427caa,openstack/python-openstackclient,master,Ib70cfa1c241ce94426214c7a05c550213f427caa,Fix volume set functional test,MERGED,2022-01-10 18:47:15.000000000,2022-01-11 15:08:33.000000000,2022-01-11 15:06:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 32667}]","[{'number': 1, 'created': '2022-01-10 18:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/df0535d65027ff9e926a7677660b1b98e173464f', 'message': 'Fix volume set functional test\n\nSometimes it can happen that when extending a volume it is shown as\nstatus ""extending"" with the original size for a while. Wait for the\nvolume to enter state ""available"" again before checking the result.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib70cfa1c241ce94426214c7a05c550213f427caa\n'}, {'number': 2, 'created': '2022-01-11 06:25:01.000000000', 'files': ['openstackclient/tests/functional/volume/v3/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/f533dca520127446f2769b88f239799336954833', 'message': 'Fix volume set functional test\n\nSometimes it can happen that when extending a volume it is shown as\nstatus ""extending"" with the original size for a while. Wait for the\nvolume to enter state ""available"" again before checking the result.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib70cfa1c241ce94426214c7a05c550213f427caa\n'}]",2,824049,f533dca520127446f2769b88f239799336954833,16,3,2,13252,,,0,"Fix volume set functional test

Sometimes it can happen that when extending a volume it is shown as
status ""extending"" with the original size for a while. Wait for the
volume to enter state ""available"" again before checking the result.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib70cfa1c241ce94426214c7a05c550213f427caa
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/49/824049/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/tests/functional/volume/v3/test_volume.py'],1,df0535d65027ff9e926a7677660b1b98e173464f,fix-volume-set-test," self.wait_for_status(""volume"", name, ""available"")",,1,0
openstack%2Fci-log-processing~master~I25dd954d42107f67a18408cc83c66240c8fd0cd3,openstack/ci-log-processing,master,I25dd954d42107f67a18408cc83c66240c8fd0cd3,Add job-name parameter to better filter zuul logs,MERGED,2021-12-16 08:42:19.000000000,2022-01-11 14:55:34.000000000,2022-01-11 14:53:03.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 08:42:19.000000000', 'files': ['doc/source/logscraper.rst', 'logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/8fad262442067dc3d3901837da5835dd973ece20', 'message': 'Add job-name parameter to better filter zuul logs\n\nSometimes it is useful to collect logs from just one job.\n\nChange-Id: I25dd954d42107f67a18408cc83c66240c8fd0cd3\n'}]",3,821945,8fad262442067dc3d3901837da5835dd973ece20,12,5,1,20676,,,0,"Add job-name parameter to better filter zuul logs

Sometimes it is useful to collect logs from just one job.

Change-Id: I25dd954d42107f67a18408cc83c66240c8fd0cd3
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/45/821945/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/logscraper.rst', 'logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py']",3,8fad262442067dc3d3901837da5835dd973ece20,," parser.add_argument(""--job-name"", help=""CI job name(s). Parameter can be "" ""set multiple times. If not set it would scrape "" ""every latest builds."", action='append') def __init__(self, args, zuul_api_url, job_name=None): if job_name: self.filename = ""%s-%s"" % (self.filename, job_name) def get_builds(zuul_url, insecure, job_name): extra = (""&job_name="" + job_name) if job_name else """" extra = extra + zuul_completedef filter_available_jobs(zuul_api_url, job_names, insecure): filtered_jobs = [] url = zuul_api_url + ""/jobs"" logging.info(""Getting available jobs %s"", url) available_jobs = requests_get_json(url, verify=insecure) if not available_jobs: return [] for defined_job in job_names: for job in available_jobs: if defined_job == job.get('name'): filtered_jobs.append(defined_job) return filtered_jobs def get_last_job_results(zuul_url, insecure, max_skipped, last_uuid, job_name): for build in get_builds(zuul_url, insecure, job_name):def run_scraping(args, zuul_api_url, job_name=None): config = Config(args, zuul_api_url, job_name) args.max_skipped, config.checkpoint, job_name): if args.job_name: jobs_in_zuul = filter_available_jobs(zuul_api_url, args.job_name, args.insecure) logging.info(""Available jobs for %s are %s"" % ( zuul_api_url, jobs_in_zuul)) for job_name in jobs_in_zuul: logging.info(""Starting checking logs for job %s in %s"" % ( job_name, zuul_api_url)) run_scraping(args, zuul_api_url, job_name) else: logging.info(""Starting checking logs for %s"" % zuul_api_url) run_scraping(args, zuul_api_url)"," def __init__(self, args, zuul_api_url):def get_builds(zuul_url, insecure): extra = """" + zuul_completedef get_last_job_results(zuul_url, insecure, max_skipped, last_uuid): for build in get_builds(zuul_url, insecure):def run_scraping(args, zuul_api_url): config = Config(args, zuul_api_url) args.max_skipped, config.checkpoint): logging.info(""Starting checking logs for %s"" % zuul_api_url) run_scraping(args, zuul_api_url)",96,13
openstack%2Frally~master~Ief328c82f43d4717880da17b62cb4a089e1ed9cf,openstack/rally,master,Ief328c82f43d4717880da17b62cb4a089e1ed9cf,[ci] force reinstall of pip,MERGED,2022-01-11 12:42:45.000000000,2022-01-11 14:37:06.000000000,2022-01-11 14:37:06.000000000,"[{'_account_id': 9545}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-11 12:42:45.000000000', 'files': ['tests/ci/playbooks/tox-install.yaml'], 'web_link': 'https://opendev.org/openstack/rally/commit/72859c8f6793ad55ee5528cd7d297ddb7e62dfcf', 'message': '[ci] force reinstall of pip\n\nChange-Id: Ief328c82f43d4717880da17b62cb4a089e1ed9cf\n'}]",0,824172,72859c8f6793ad55ee5528cd7d297ddb7e62dfcf,6,2,1,9545,,,0,"[ci] force reinstall of pip

Change-Id: Ief328c82f43d4717880da17b62cb4a089e1ed9cf
",git fetch https://review.opendev.org/openstack/rally refs/changes/72/824172/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/tox-install.yaml'],1,72859c8f6793ad55ee5528cd7d297ddb7e62dfcf,pip_install, python{{ python_version.stdout }} get-pip.py --force-reinstall, python{{ python_version.stdout }} get-pip.py,1,1
openstack%2Fnova~master~I77d94c40351d4f872efe2f88abee7fbb729a275e,openstack/nova,master,I77d94c40351d4f872efe2f88abee7fbb729a275e,support use_multipath for nvme driver,ABANDONED,2022-01-09 14:12:58.000000000,2022-01-11 14:32:24.000000000,,"[{'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 13425}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 14:12:58.000000000', 'files': ['nova/virt/libvirt/volume/nvme.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/dc69f094a0ab5550f1c28e663a7e6f9c1953d5db', 'message': 'support use_multipath for nvme driver\n\nChange-Id: I77d94c40351d4f872efe2f88abee7fbb729a275e\n'}]",2,823914,dc69f094a0ab5550f1c28e663a7e6f9c1953d5db,8,6,1,34173,,,0,"support use_multipath for nvme driver

Change-Id: I77d94c40351d4f872efe2f88abee7fbb729a275e
",git fetch https://review.opendev.org/openstack/nova refs/changes/14/823914/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/volume/nvme.py'],1,dc69f094a0ab5550f1c28e663a7e6f9c1953d5db,multipath_nvme," use_multipath=CONF.libvirt.volume_use_multipath,",,1,0
openstack%2Fnova-specs~master~Iecad5941f3e1e1af6fb774e9cca087c4232169ad,openstack/nova-specs,master,Iecad5941f3e1e1af6fb774e9cca087c4232169ad,libvirt: Allow Manila shares to be directly attached to instances,MERGED,2021-10-08 12:20:58.000000000,2022-01-11 14:17:46.000000000,2022-01-11 12:25:18.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-10-08 12:20:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/81dc09f43401f05d4f6436be6f6e1eece8aaec21', 'message': 'WIP libvirt: Allow Manila shares to be directly attached to instances\n\nChange-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad\n'}, {'number': 2, 'created': '2021-11-03 12:00:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ae840415359df17060e02e5179b7efe5bf66feeb', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will outline API,\ndatabase, compute and libvirt driver changes required in Nova to allow the\nshares provided by Manila to be associated with and attached to instances.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad\n'}, {'number': 3, 'created': '2021-11-24 06:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/1c775e9746fb5aca003a174111bb23c2bb84ff8e', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad\n'}, {'number': 4, 'created': '2021-11-24 11:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/5d73b6fc21858c9cf113e2922f4ed37739ea0c95', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad\n'}, {'number': 5, 'created': '2022-01-04 13:49:49.000000000', 'files': ['specs/yoga/approved/libvirt-virtiofs-attach-manila-shares.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/2cc7d78d7f0f3dcf6bd93afd1e10b76f3848bc82', 'message': 'libvirt: Allow Manila shares to be directly attached to instances\n\nManila is the OpenStack Shared Filesystems service. This spec will\noutline API, database, compute and libvirt driver changes required in\nNova to allow the shares provided by Manila to be associated with and\nattached to instances.\n\nblueprint: libvirt-virtiofs-attach-manila-shares\nChange-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad\n'}]",149,813180,2cc7d78d7f0f3dcf6bd93afd1e10b76f3848bc82,43,5,5,10135,,,0,"libvirt: Allow Manila shares to be directly attached to instances

Manila is the OpenStack Shared Filesystems service. This spec will
outline API, database, compute and libvirt driver changes required in
Nova to allow the shares provided by Manila to be associated with and
attached to instances.

blueprint: libvirt-virtiofs-attach-manila-shares
Change-Id: Iecad5941f3e1e1af6fb774e9cca087c4232169ad
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/80/813180/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/yoga/approved/manila.rst'],1,81dc09f43401f05d4f6436be6f6e1eece8aaec21,specs/xena/approved/manila.rst,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================== Allow Manila shares to be directly attached to an instance ========================================================== TODOs: * Create blueprint * Expand problem description * List additional usecases * Improve the API changes section to include param types etc * List the required versions of libvirt and QEMU * List vhost-user memory sharing requirements * Given the above update the security section https://blueprints.launchpad.net/nova/+spec/libvirt-virtiofs-attach-manila-shares Manila is the OpenStack Shared Filesystems service. This spec will outline API, database, compute and libvirt driver changes required in Nova to allow the shares provided by Manila to be associated with and attached to instances. Problem description =================== At present users must manually connect to and mount shares provided by Manila within their instances. As a result of this the Manila has to expose details of the backend storage infrastructure to the user and allow the datapath to flow over tenant addressable networks into the users instances. An alternative to this is for Nova to mount these shares on the underlying compute host and then pass through the provided filesystems to the instance, keeping the datapath outside of any tenant addressable network and without exposing details about the backend storage infrastructure. Use Cases --------- - As a user I want to attach Manila shares directly to my instance and have a simple interface with which to mount them within the instance. - As a user I want to detach a directly attached Manila share from my instance. - As a user I want to track the Manila shares attached to my instance. - As an operator I want the Manila datapath to be seperate to any tenant accessible networks. - As an operator I don't want to expose details of my storage infrastructure to users. Proposed change =============== TODO - break the following into more manageable sections. This initial implementation will only provide support for attaching a share to and later detaching a share from an instance. The ability to express attachments during the initial creation of an instance will not be covered by this spec. Additionally support for move operations once a share is attached will also not be covered by this spec, any requests to evacuate, resize, cold migrate or live migrate an instance with a share attached will be rejected for the time being. A new server ``os-share_attachments`` API will be introduced under a new microversion. This will list current attachments, show their details, allow a share to be attached and detached. A new ``share_mapping`` database table and associated ``ShareMapping`` versioned objects will be introduced to capture details of the share attachment. A base ShareMapping versioned object will be provided from which virt driver and backend share specific objects can be derived providing specific share attach and detach implementations. .. note:: One thing to note here is that no Manila state will be stored within Nova aside from export details used to initially attach the share. These details later being used when detaching the share. If the share is then reattached Nova will request fresh export details from Manila and stored these in a new share attachment within Nova. The libvirt driver will be extended to support the above with initial support for cold attach and detach until live attach and detach support lands in libvirt itself. Depending on the timing that could be a fresh spec during the Z cycle or an amendment to this spec during Yoga. This initial libvirt support will target the basic NFS and slightly more complex CephFS backends within Manila. Shares will be mapped through to the underlying libvirt domains using ``virtio-fs``. TODO - Add required versions and more details on vhost-user reqs here. Users will be able to mount the attached shares using a mount tag they either provide with their request to attach the share or that is auto generated and returned to them in the response of that request. A previously discussed ``os-share`` library will not be created with this initial implementation but could be in the future if the logic required to mount and track shares on the underlying host is also required by other projects. For the time being existing code within the libvirt driver used to attach volumes hosted on ``remoteFS`` based storage (such as NFS, SMB etc) will be reused as much as possible. Alternatives ------------ The only alternative is to continue with the current situation where users must mount the shares within their instances manually. REST API impact --------------- A new server level ``os-share_attachments`` API will be introduced under a new microversion with the following methods: * GET ``/servers/{server_id}/os-share_attachments`` List all shares attached to an instance. Return Code(s): 200,400,401,403,404,409 .. code-block:: json { ""shareAttachments"": [ { ""id"": ""227cc671-f30b-4488-96fd-7d0bf13648d8"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""48c16a1a-183f-4052-9dac-0e4fc1e498ad"", ""status"": ""attached"", ""mount_tag"": ""foo"" }, { ""id"": ""715335c1-7a00-4dfe-82df-9dc2a67bd8bf"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""mount_tag"": ""bar"" } ] } * GET ``/servers/{server_id}/os-share_attachments/{share_id}`` Show details of a specific share attached to an instance. Return Code(s): 200,400,401,403,404,409 .. code-block:: json { ""shareAttachment"": { ""id"": ""715335c1-7a00-4dfe-82df-9dc2a67bd8bf"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""mount_tag"": ""bar"" } } Admins will be able to see details of the export location used by the attachment and stored within Nova: .. code-block:: json { ""shareAttachment"": { ""id"": ""715335c1-7a00-4dfe-82df-9dc2a67bd8bf"", ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attached"", ""mount_tag"": ""bar"", ""export_location"": ""server.com/nfs_mount,foo=bar"" } } * ``POST /servers/{server_id}/os-share_attachments`` Attach a share to an instance. This is an asynchronous API, callers will need to poll one of the above GET methods to determine when the attachment is complete. Return Code(s): 202,400,401,403,404,409 Request body: .. note:: ``mount_tag`` will be an optional request parameter, when not provided it will be generated by the underlying virt driver with the value returned in the response. .. code-block:: json { ""shareAttachment"": { ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""mount_tag"": ""bar"", } } Response body: .. code-block:: json { ""shareAttachment"": { ""serverId"": ""d5e4ae35-ac0e-4311-a8c5-0ee863e951d9"", ""shareId"": ""e8debdc0-447a-4376-a10a-4cd9122d7986"", ""status"": ""attaching"", ""mount_tag"": ""bar"", } } * ``DELETE /servers/{server_id}/os-share_attachments/{share_id}`` Detach a share from an instance. Return Code(s): 202,400,401,403,404,409 Data model impact ----------------- A new ``share_mapping`` database table will be introduced. * ``id`` - Unique UUID to identify the particular share attachment * ``instance_uuid`` - The UUID of the instance the share will be attached to * ``share_id`` - The UUID of the share in Manila * ``status`` - The status of the share attachment within Nova. - ``detached`` - ``attaching`` - ``attached`` - ``detaching`` - ``error`` * ``mount_tag`` - The mount tag to be used by users to mount the share within the instance * ``export_location`` - The export location used to attach the share to the underlying host. A new base ``ShareMapping`` versioned object will be introduced to encapsulate the above database entries and to be used as the parent class of specific virt driver implementations. This base ``ShareMapping`` object will provide stub ``attach`` and ``detach`` methods that will need to be implemented by any child objects. New ``ShareMappingLibvirt``, ``ShareMappingLibvirtNFS`` and ``ShareMappingLibvirtCephFS`` objects will be introduced as part of the libvirt implementation. Security impact --------------- This should improve the security model of using Manila by removing the datapath from tenant networks while also removing the need for users to know details of the underlying storage environment. Notifications impact -------------------- New notifications will be added to represent the attaching and detaching of a share to an instance. Other end user impact --------------------- TODO Performance Impact ------------------ TODO - discuss virtio-fs performance here. Other deployer impact --------------------- TODO - Discuss that we now require datapath access on the computes. Developer impact ---------------- None? Upgrade impact -------------- TODO - This should be handled by a new compute service version and compatibility traits. Add these above. Implementation ============== Assignee(s) ----------- Primary assignee: lyarwood Other contributors: Feature Liaison --------------- Feature liaison: lyarwood Work Items ---------- TODO Dependencies ============ TODO For live attach and detach we are waiting on the following libvirt work: https://listman.redhat.com/archives/libvir-list/2021-October/msg00097.html Testing ======= TODO - Functional, Tempest etc. Documentation Impact ==================== TODO - Extensive References ========== History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced ",,357,0
openstack%2Fneutron~stable%2Fussuri~I206c31201470f178efdde8839622be7900c6ae3e,openstack/neutron,stable/ussuri,I206c31201470f178efdde8839622be7900c6ae3e,[OVN] Prevent deleting the only IP of a router port,MERGED,2022-01-04 15:46:58.000000000,2022-01-11 14:08:57.000000000,2022-01-11 14:06:31.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 15:46:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6ca95a64b6d1011469141f4addb5e79fd13e4c3a', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCompared to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fb3f92fcd0bbc4c390c0b40034d3cdbe41460ae1)\n""}, {'number': 2, 'created': '2022-01-07 11:15:25.000000000', 'files': ['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f56def26152c0fcab3594d542ea06480bdfbb466', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCompared to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fb3f92fcd0bbc4c390c0b40034d3cdbe41460ae1)\n""}]",1,823407,f56def26152c0fcab3594d542ea06480bdfbb466,15,3,2,34118,,,0,"[OVN] Prevent deleting the only IP of a router port

Neutron allows deleting the only IP of a router port but
the OVN NB DB doesn't, since it expects that the
network value of a port is greater than 0. This should
not be possible since it causes that the DB are not
perfectly sync.

It is needed to check BEFORE_UPDATE if the port
that will be updated is of type router owned and
if it will have an IP after the update. If not
an error needs to be raised.

Compared to master patch, this has changed payload to kwargs
Conflicts:
    neutron/services/ovn_l3/plugin.py

Closes-Bug: #1948457
Change-Id: I206c31201470f178efdde8839622be7900c6ae3e
(cherry picked from commit fb3f92fcd0bbc4c390c0b40034d3cdbe41460ae1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/823407/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,6ca95a64b6d1011469141f4addb5e79fd13e4c3a,," def test_port_update_before_update_router_port_without_ip(self): context = 'fake_context' port = {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF, 'fixed_ips': [], 'id': 'port-id'} self.assertRaises( n_exc.ServicePortInUse, self.l3_inst._port_update, resources.PORT, events.BEFORE_UPDATE, None, payload=events.DBEventPayload( context, states=(port,)) ) ",,43,2
openstack%2Fneutron~master~Id421c5fb36e50f7fdc5a84e04ad6a654c03e4244,openstack/neutron,master,Id421c5fb36e50f7fdc5a84e04ad6a654c03e4244,"keepalived ""no_track"" implemented in version 2.0.3",MERGED,2022-01-10 11:52:33.000000000,2022-01-11 13:59:14.000000000,2022-01-11 13:56:31.000000000,"[{'_account_id': 1131}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 11:52:33.000000000', 'files': ['neutron/cmd/runtime_checks.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/03d08dee3844710f09f15bb34f557d86666530da', 'message': 'keepalived ""no_track"" implemented in version 2.0.3\n\nFix the version when keepalived implemented ""no_track"" feature [1].\n\n[1]https://github.com/acassen/keepalived/blob/master/ChangeLog#L2722\n\nCloses-Bug: #1956770\nChange-Id: Id421c5fb36e50f7fdc5a84e04ad6a654c03e4244\n'}]",1,823970,03d08dee3844710f09f15bb34f557d86666530da,11,4,1,16688,,,0,"keepalived ""no_track"" implemented in version 2.0.3

Fix the version when keepalived implemented ""no_track"" feature [1].

[1]https://github.com/acassen/keepalived/blob/master/ChangeLog#L2722

Closes-Bug: #1956770
Change-Id: Id421c5fb36e50f7fdc5a84e04ad6a654c03e4244
",git fetch https://review.opendev.org/openstack/neutron refs/changes/70/823970/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/cmd/runtime_checks.py'],1,03d08dee3844710f09f15bb34f557d86666530da,bug/1956770, keepalived_with_track = version.parse('2.0.3')," keepalived_with_track = version.parse(""2.0.0"")",1,1
openstack%2Fkuryr-kubernetes~master~I59a9de2f6cd3314b1326c43c4c1eefa8e445b9ee,openstack/kuryr-kubernetes,master,I59a9de2f6cd3314b1326c43c4c1eefa8e445b9ee,DevStack: Allow kuryr-cni SA to create Events,MERGED,2021-12-23 09:56:01.000000000,2022-01-11 13:58:41.000000000,2022-01-11 13:55:57.000000000,"[{'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2021-12-23 09:56:01.000000000', 'files': ['devstack/lib/kuryr_kubernetes'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/fe6f2c8b742a61c2156c777bd94579637b9f508a', 'message': 'DevStack: Allow kuryr-cni SA to create Events\n\nPermissions to create Events was added to the kuryr-controller\nServiceAccount, but not to the kuryr-cni one. This commit fixes this,\nallowing kuryr-daemon to create Events in DevStack.\n\nChange-Id: I59a9de2f6cd3314b1326c43c4c1eefa8e445b9ee\n'}]",2,822788,fe6f2c8b742a61c2156c777bd94579637b9f508a,12,4,1,11600,,,0,"DevStack: Allow kuryr-cni SA to create Events

Permissions to create Events was added to the kuryr-controller
ServiceAccount, but not to the kuryr-cni one. This commit fixes this,
allowing kuryr-daemon to create Events in DevStack.

Change-Id: I59a9de2f6cd3314b1326c43c4c1eefa8e445b9ee
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/88/822788/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/kuryr_kubernetes'],1,fe6f2c8b742a61c2156c777bd94579637b9f508a,cni-events,"- apiGroups: ["""", ""events.k8s.io""] resources: - events verbs: - create",,5,0
openstack%2Fpuppet-nova~master~I36d08bf413df578bd631c568f24baa95ef6edba3,openstack/puppet-nova,master,I36d08bf413df578bd631c568f24baa95ef6edba3,Use systemd units to enable tcp/tls in libvirt,ABANDONED,2020-10-08 12:19:04.000000000,2022-01-11 13:37:47.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-10-08 12:19:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c2fa80fb855fc1030156c0a9569e41e49456e6e4', 'message': 'Use systemd units to enable tcp/tls in libvirt\n\nIf a new libvirt-version (>v5.7.0) is used (which is default for\nussuri in UCA) we should use systemd socket units instead of the\nold --listen flag to libvirtd.\n\nChange-Id: I36d08bf413df578bd631c568f24baa95ef6edba3\nCloses-Bug: #1898553\nRelated-Bug: #1880619\nSigned-off-by: Eigil Obrestad <eigil-git@obrestad.org>\n'}, {'number': 2, 'created': '2020-10-08 12:25:07.000000000', 'files': ['manifests/compute/libvirt/version.pp', 'manifests/migration/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0839a11698f84d3600eb6eb50d502bd50b99e485', 'message': 'Use systemd units to enable tcp/tls in libvirt\n\nIf a new libvirt-version (>v5.7.0) is used (which is default for\nussuri in UCA) we should use systemd socket units instead of the\nold --listen flag to libvirtd.\n\nChange-Id: I36d08bf413df578bd631c568f24baa95ef6edba3\nCloses-Bug: #1898553\nRelated-Bug: #1880619\nSigned-off-by: Eigil Obrestad <eigil-git@obrestad.org>\n'}]",0,756691,0839a11698f84d3600eb6eb50d502bd50b99e485,4,1,2,28542,,,0,"Use systemd units to enable tcp/tls in libvirt

If a new libvirt-version (>v5.7.0) is used (which is default for
ussuri in UCA) we should use systemd socket units instead of the
old --listen flag to libvirtd.

Change-Id: I36d08bf413df578bd631c568f24baa95ef6edba3
Closes-Bug: #1898553
Related-Bug: #1880619
Signed-off-by: Eigil Obrestad <eigil-git@obrestad.org>
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/756691/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/libvirt/version.pp', 'manifests/migration/libvirt.pp']",2,c2fa80fb855fc1030156c0a9569e41e49456e6e4,bug/1898553," # If libvirt newer than 5.6: if versioncmp($libvirt_version, '5.6') >= 0 { # Enable the tls or tcp socket if appropriate $manage_services = pick($::nova::compute::libvirt::manage_libvirt_services, true) if $manage_services { if $transport_real == 'tls' { service { 'libvirtd-tls': ensure => 'running', name => 'libvirtd-tls.socket', enable => true, require => Anchor['nova::config::end'] } Service['libvirtd-tls'] -> Service<| title == 'libvirt' |> } elsif $transport_real == 'tcp' { service { 'libvirtd-tcp': ensure => 'running', name => 'libvirtd-tcp.socket', enable => true, require => Anchor['nova::config::end'] } Service['libvirtd-tcp'] -> Service<| title == 'libvirt' |> } } # Remove the old listen-flag if it is set (this will help people upgrading # from train or earlier). case $::osfamily { 'RedHat': { file_line { '/etc/sysconfig/libvirtd libvirtd args': path => '/etc/sysconfig/libvirtd', line => 'LIBVIRTD_ARGS=""""', match => '^LIBVIRTD_ARGS=', tag => 'libvirt-file_line', } } 'Debian': { file_line { ""/etc/default/${::nova::compute::libvirt::libvirt_service_name} libvirtd opts"": path => ""/etc/default/${::nova::compute::libvirt::libvirt_service_name}"", line => 'libvirtd_opts=""""', match => 'libvirtd_opts=', tag => 'libvirt-file_line', } } default: {} } # If libvirt is older than 5.6, use the old-style listen-flag } else if $transport_real != 'ssh' { case $::osfamily { 'RedHat': { file_line { '/etc/sysconfig/libvirtd libvirtd args': path => '/etc/sysconfig/libvirtd', line => 'LIBVIRTD_ARGS=""--listen""', match => '^LIBVIRTD_ARGS=', tag => 'libvirt-file_line', } } 'Debian': { default: { warning(""Unsupported osfamily: ${::osfamily}, make sure you are configuring this yourself"") }"," case $::osfamily { 'RedHat': { if versioncmp($libvirt_version, '5.6') >= 0 { $manage_services = pick($::nova::compute::libvirt::manage_libvirt_services, true) if $manage_services { if $transport_real == 'tls' { service { 'libvirtd-tls': ensure => 'running', name => 'libvirtd-tls.socket', enable => true, require => Anchor['nova::config::end'] } Service['libvirtd-tls'] -> Service<| title == 'libvirt' |> } elsif $transport_real == 'tcp' { service { 'libvirtd-tcp': ensure => 'running', name => 'libvirtd-tcp.socket', enable => true, require => Anchor['nova::config::end'] } Service['libvirtd-tcp'] -> Service<| title == 'libvirt' |> } } } else { if $transport_real != 'ssh' { file_line { '/etc/sysconfig/libvirtd libvirtd args': path => '/etc/sysconfig/libvirtd', line => 'LIBVIRTD_ARGS=""--listen""', match => '^LIBVIRTD_ARGS=', tag => 'libvirt-file_line', } } } } 'Debian': { if $transport_real != 'ssh' { } default: { warning(""Unsupported osfamily: ${::osfamily}, make sure you are configuring this yourself"")",57,43
openstack%2Fopenstack-ansible-plugins~master~I610246ec7d688c40de9f843eed99cd1988c121ad,openstack/openstack-ansible-plugins,master,I610246ec7d688c40de9f843eed99cd1988c121ad,"Switch collection to openstack namespace, rename to 'osa'",MERGED,2022-01-11 09:45:27.000000000,2022-01-11 13:37:26.000000000,2022-01-11 13:29:11.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 09:45:27.000000000', 'files': ['galaxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/d9b9ca25853be19b259e5c64e3232e141c014e81', 'message': ""Switch collection to openstack namespace, rename to 'osa'\n\nRoles can be called with openstack.osa.<role>\n\nChange-Id: I610246ec7d688c40de9f843eed99cd1988c121ad\n""}]",0,824115,d9b9ca25853be19b259e5c64e3232e141c014e81,8,3,1,25023,,,0,"Switch collection to openstack namespace, rename to 'osa'

Roles can be called with openstack.osa.<role>

Change-Id: I610246ec7d688c40de9f843eed99cd1988c121ad
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/15/824115/1 && git format-patch -1 --stdout FETCH_HEAD,['galaxy.yml'],1,d9b9ca25853be19b259e5c64e3232e141c014e81,,"namespace: ""openstack""name: ""osa""","namespace: ""osa""name: ""plugins""",2,2
openstack%2Fopenstack-ansible-plugins~master~I8ec972dd1782b3a0e4746c13da03defed19913a2,openstack/openstack-ansible-plugins,master,I8ec972dd1782b3a0e4746c13da03defed19913a2,Remove incorrect comment about role synchronisation,MERGED,2022-01-11 09:39:42.000000000,2022-01-11 13:35:48.000000000,2022-01-11 13:29:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-01-11 09:39:42.000000000', 'files': ['roles/service_setup/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-plugins/commit/c0ca6447272035986710243a4604bb7e88575220', 'message': 'Remove incorrect comment about role synchronisation\n\nChange-Id: I8ec972dd1782b3a0e4746c13da03defed19913a2\n'}]",0,824109,c0ca6447272035986710243a4604bb7e88575220,8,3,1,25023,,,0,"Remove incorrect comment about role synchronisation

Change-Id: I8ec972dd1782b3a0e4746c13da03defed19913a2
",git fetch https://review.opendev.org/openstack/openstack-ansible-plugins refs/changes/09/824109/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/service_setup/tasks/main.yml'],1,c0ca6447272035986710243a4604bb7e88575220,,,"# WARNING: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/sync/tasks/service_setup.yml # If you need to modify this file, update the one in the openstack-ansible-tests # repository. Once it merges there, the changes will automatically be proposed to # all the repositories which use it. ",0,7
openstack%2Fos-traits~master~I4be58a69548a037d1920183fd1d58f91ec30e382,openstack/os-traits,master,I4be58a69548a037d1920183fd1d58f91ec30e382,Updating python testing classifier as per Yoga testing runtime,MERGED,2021-11-25 00:08:14.000000000,2022-01-11 13:34:47.000000000,2022-01-11 13:28:23.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 8556}, {'_account_id': 9708}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-11-25 00:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/c5ec25986bd9568cf9149240f0b2fda7120a2910', 'message': 'Updating python testing as per Yoga testing runtime\n\nYoga testing runtime has been updated with py38 and py39\nas voting and removed the py36 testing. Unit tests update are\nhandled by the job template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/818609\n\nthis commit makes other required changes in the metadata in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4be58a69548a037d1920183fd1d58f91ec30e382\n'}, {'number': 2, 'created': '2021-12-14 02:27:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-traits/commit/d2eedc7f141610ab17966d4d0a467e84deda701a', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file and tox.ini.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4be58a69548a037d1920183fd1d58f91ec30e382\n'}, {'number': 3, 'created': '2021-12-14 12:25:54.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/d81a6f2ca8fa77af65c05f6ae10253471b55a9f1', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file and tox.ini.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I4be58a69548a037d1920183fd1d58f91ec30e382\n'}]",3,819205,d81a6f2ca8fa77af65c05f6ae10253471b55a9f1,16,6,3,8556,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file and tox.ini.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I4be58a69548a037d1920183fd1d58f91ec30e382
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/05/819205/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,c5ec25986bd9568cf9149240f0b2fda7120a2910,yoga-python-testing,"envlist = py39,pep8","envlist = py37,pep8",3,3
openstack%2Ftripleo-ci~master~If1c6e4ef7440a9d640ba436477452626179e6f37,openstack/tripleo-ci,master,If1c6e4ef7440a9d640ba436477452626179e6f37,CS9 has zuul-worker default directory.,ABANDONED,2021-10-21 04:10:36.000000000,2022-01-11 13:20:01.000000000,,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-10-21 04:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/06f07777b511d0fa942fe9184114f47f71c078dd', 'message': 'CS9 has zuul-worker default directory.\n\nModified tripleo-quickstart-logs.html with cs9\npath.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: If1c6e4ef7440a9d640ba436477452626179e6f37\n'}, {'number': 2, 'created': '2021-10-21 17:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f8e6df6e72fcf654d85a175f63040cd306a5fab9', 'message': 'CS9 has zuul-worker default directory.\n\nModified tripleo-quickstart-logs.html with cs9\npath.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: If1c6e4ef7440a9d640ba436477452626179e6f37\n'}, {'number': 3, 'created': '2021-10-21 18:00:59.000000000', 'files': ['docs/tripleo-quickstart-logs.html'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e200515117a88061a2df9bde31b0ad00573b9916', 'message': 'CS9 has zuul-worker default directory.\n\nModified tripleo-quickstart-logs.html with cs9\npath.\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: If1c6e4ef7440a9d640ba436477452626179e6f37\n'}]",4,814854,e200515117a88061a2df9bde31b0ad00573b9916,12,5,3,30750,,,0,"CS9 has zuul-worker default directory.

Modified tripleo-quickstart-logs.html with cs9
path.

Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: If1c6e4ef7440a9d640ba436477452626179e6f37
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/54/814854/1 && git format-patch -1 --stdout FETCH_HEAD,['docs/tripleo-quickstart-logs.html'],1,06f07777b511d0fa942fe9184114f47f71c078dd,cs9,<li><a href='undercloud/home/zuul-worker/'>undercloud/home/zuul-worker/</a><li><a href='undercloud/home/zuul-worker/tempest/etc/'>undercloud/home/zuul-worker/tempest/etc/</a>be found in <a href='undercloud/home/zuul-worker'>undercloud/home/zuul-worker</a>,<li><a href='undercloud/home/zuul/'>undercloud/home/zuul/</a><li><a href='undercloud/home/zuul/tempest/etc/'>undercloud/home/zuul/tempest/etc/</a>be found in <a href='undercloud/home/zuul'>undercloud/home/zuul</a>,3,3
openstack%2Fos-ken~stable%2Fxena~If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,openstack/os-ken,stable/xena,If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,Add requirements.txt to tox environment,MERGED,2022-01-10 13:46:15.000000000,2022-01-11 13:19:46.000000000,2022-01-11 13:12:51.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 13:46:15.000000000', 'files': ['.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/290f29cdb90b2263ae4e587c14337b6ef0dd59f1', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nFor stable branches, also drop lower-constraints job as done in other\nprojects\n\nConflicts:\n\ttox.ini\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)\n'}]",1,823988,290f29cdb90b2263ae4e587c14337b6ef0dd59f1,11,4,1,21798,,,0,"Add requirements.txt to tox environment

This was spotted in [0] backport, upper constraints are not applied
correctly without it (and this aligns with the typical deps in other
projects)

[0] https://review.opendev.org/c/openstack/os-ken/+/823758

For stable branches, also drop lower-constraints job as done in other
projects

Conflicts:
	tox.ini

Change-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c
(cherry picked from commit a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca)
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/88/823988/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",3,290f29cdb90b2263ae4e587c14337b6ef0dd59f1,, -r{toxinidir}/requirements.txt, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,1,143
openstack%2Fnova~master~If299d4ca6f35e91cdb004f86a78cc3edaaf874b0,openstack/nova,master,If299d4ca6f35e91cdb004f86a78cc3edaaf874b0,WIP: libvirt dom caps config: start supporting CPU die_id attrib,NEW,2022-01-07 21:45:20.000000000,2022-01-11 13:04:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-07 21:45:20.000000000', 'files': ['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba99a8564d1e19f4b138f66e2ca8cb2d10018880', 'message': 'WIP: libvirt dom caps config: start supporting CPU die_id attrib\n\nIn order to eventually be ""smarter"" about we place guest CPUs onto\nhost CPUs, we first need to have a more complete picture of the host\ntopology in the libvirt driver. This patch starts by parsing out the\nCPU die_id attribute.\n\nTODO (artom) Figure out if we need a min libvirt version for this, and\nbump if if necessary.\n\nImplements blueprint libvirt-smarter-cpu-placement\n\nChange-Id: If299d4ca6f35e91cdb004f86a78cc3edaaf874b0\n'}]",0,823865,ba99a8564d1e19f4b138f66e2ca8cb2d10018880,6,1,1,8864,,,0,"WIP: libvirt dom caps config: start supporting CPU die_id attrib

In order to eventually be ""smarter"" about we place guest CPUs onto
host CPUs, we first need to have a more complete picture of the host
topology in the libvirt driver. This patch starts by parsing out the
CPU die_id attribute.

TODO (artom) Figure out if we need a min libvirt version for this, and
bump if if necessary.

Implements blueprint libvirt-smarter-cpu-placement

Change-Id: If299d4ca6f35e91cdb004f86a78cc3edaaf874b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/823865/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/config.py', 'nova/tests/unit/virt/libvirt/test_config.py']",2,ba99a8564d1e19f4b138f66e2ca8cb2d10018880,bp/libvirt-smarter-cpu-placement, <cpu id='0' socket_id='0' die_id='0' core_id='0' siblings='0'/> <cpu id='1' socket_id='0' die_id='0' core_id='1' siblings='1'/> <cpu id='2' socket_id='0' die_id='1' core_id='2' siblings='2'/> <cpu id='3' socket_id='0' die_id='1' core_id='3' siblings='3'/> <cpu id='4' socket_id='1' die_id='0' core_id='0' siblings='4'/> <cpu id='5' socket_id='1' die_id='0' core_id='1' siblings='5'/> <cpu id='6' socket_id='1' die_id='0' core_id='2' siblings='6'/> <cpu id='7' socket_id='1' die_id='0' core_id='3' siblings='7'/>, <cpu id='0' socket_id='0' core_id='0' siblings='0'/> <cpu id='1' socket_id='0' core_id='1' siblings='1'/> <cpu id='2' socket_id='0' core_id='2' siblings='2'/> <cpu id='3' socket_id='0' core_id='3' siblings='3'/> <cpu id='4' socket_id='1' core_id='0' siblings='4'/> <cpu id='5' socket_id='1' core_id='1' siblings='5'/> <cpu id='6' socket_id='1' core_id='2' siblings='6'/> <cpu id='7' socket_id='1' core_id='3' siblings='7'/>,21,8
openstack%2Fopenstack-tempest-skiplist~master~I199b1eb628d84f0e2d7d7089f3b136ee4cbdb502,openstack/openstack-tempest-skiplist,master,I199b1eb628d84f0e2d7d7089f3b136ee4cbdb502,Move volume tests to skip lists,MERGED,2022-01-11 08:40:19.000000000,2022-01-11 13:01:49.000000000,2022-01-11 12:59:20.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-11 08:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/5cf28e42b8d59a47b85a43ab1aac524040468288', 'message': 'Move volume tests to skip lists\n\nIt moves following tests to skiplist:\n* tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server\n* tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume\n* tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached\n* tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume\n\nRelated-Bug: #1957031\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I199b1eb628d84f0e2d7d7089f3b136ee4cbdb502\n'}, {'number': 2, 'created': '2022-01-11 12:25:21.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/194a167a30bd63325ee61db675d102336dd7cadc', 'message': 'Move volume tests to skip lists\n\nIt moves following tests to skiplist:\n* tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server\n* tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume\n* tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached\n* tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume\n\nRelated-Bug: #1957031\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I199b1eb628d84f0e2d7d7089f3b136ee4cbdb502\n'}]",0,824097,194a167a30bd63325ee61db675d102336dd7cadc,11,5,2,12393,,,0,"Move volume tests to skip lists

It moves following tests to skiplist:
* tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server
* tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume
* tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached
* tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume

Related-Bug: #1957031

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I199b1eb628d84f0e2d7d7089f3b136ee4cbdb502
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/97/824097/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,5cf28e42b8d59a47b85a43ab1aac524040468288,cs9, - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeShelveTestJSON.test_attach_volume_shelved_or_offload_server' deployment: - 'overcloud' releases: - name: master reason: failed to detach from server with in required time installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1957031 jobs: - periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master - test: 'tempest.api.compute.volumes.test_attach_volume.AttachVolumeTestJSON.test_attach_detach_volume' deployment: - 'overcloud' releases: - name: master reason: failed to detach from server with in required time installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1957031 jobs: - periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master - test: 'tempest.api.compute.servers.test_server_actions.ServerActionsTestJSON.test_rebuild_server_with_volume_attached' deployment: - 'overcloud' releases: - name: master reason: failed to detach from server with in required time installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1957031 jobs: - periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master - test: 'tempest.api.compute.servers.test_server_rescue_negative.ServerRescueNegativeTestJSON.test_rescued_vm_detach_volume' deployment: - 'overcloud' releases: - name: master reason: failed to detach from server with in required time installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1957031 jobs: - periodic-tripleo-ci-centos-9-standalone-full-tempest-api-master,,44,0
openstack%2Fneutron~master~Icea0a8b756f210761b635d2d34e2af04a939a640,openstack/neutron,master,Icea0a8b756f210761b635d2d34e2af04a939a640,Fix a error when l3-agent gets filter id for ip,MERGED,2021-12-27 06:21:26.000000000,2022-01-11 12:48:41.000000000,2022-01-11 12:45:12.000000000,"[{'_account_id': 5948}, {'_account_id': 6062}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11536}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/75916a121e7ddf18f7f42c1ce1d5bbee3187b746', 'message': 'Fix a error when l3-agent gets filter id for ip\n\nBefore using filter_id in _get_filterid_for_ip(), check whether it has been assignment.\n\nCloses-Bug: #1955775\n\nChange-Id: Icea0a8b756f210761b635d2d34e2af04a939a640\n'}, {'number': 2, 'created': '2022-01-07 03:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ed221f80119ed8dbab231810bb380560d166e669', 'message': 'Fix a error when l3-agent gets filter id for ip\n\nBefore using filter_id in _get_filterid_for_ip(), we should assignment it first.\n\nCloses-Bug: #1955775\n\nChange-Id: Icea0a8b756f210761b635d2d34e2af04a939a640\n'}, {'number': 3, 'created': '2022-01-10 06:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9eb398a36d917731dea2ff9b630fecc56be0e918', 'message': 'Fix a error when l3-agent gets filter id for ip\n\nBefore using filter_id in _get_filterid_for_ip(), we should assignment it first.\n\nCloses-Bug: #1955775\n\nChange-Id: Icea0a8b756f210761b635d2d34e2af04a939a640\n'}, {'number': 4, 'created': '2022-01-10 07:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e60a736cbea682b6953b1da4bdfcc71653bc84bf', 'message': 'Fix a error when l3-agent gets filter id for ip\n\nBefore using filter_id in _get_filterid_for_ip(), we should assignment it first.\n\nCloses-Bug: #1955775\n\nChange-Id: Icea0a8b756f210761b635d2d34e2af04a939a640\n'}, {'number': 5, 'created': '2022-01-11 01:28:17.000000000', 'files': ['neutron/tests/unit/agent/linux/test_l3_tc_lib.py', 'neutron/agent/linux/l3_tc_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0255eb31e5c3ce31ed08069c4e5c0fcb1fc29074', 'message': 'Fix a error when l3-agent gets filter id for ip\n\nBefore using filter_id in _get_filterid_for_ip(), we should assign it first.\n\nCloses-Bug: #1955775\n\nChange-Id: Icea0a8b756f210761b635d2d34e2af04a939a640\n'}]",7,822987,0255eb31e5c3ce31ed08069c4e5c0fcb1fc29074,34,7,5,28781,,,0,"Fix a error when l3-agent gets filter id for ip

Before using filter_id in _get_filterid_for_ip(), we should assign it first.

Closes-Bug: #1955775

Change-Id: Icea0a8b756f210761b635d2d34e2af04a939a640
",git fetch https://review.opendev.org/openstack/neutron refs/changes/87/822987/5 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/l3_tc_lib.py'],1,75916a121e7ddf18f7f42c1ce1d5bbee3187b746,1955775, if ip + '/32' in parts and 'filter_id' in dir():, if ip + '/32' in parts:,1,1
openstack%2Fkolla-ansible~master~Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,openstack/kolla-ansible,master,Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3,rabbitmq: enable/disable prometheus plugin follow up,MERGED,2022-01-11 09:10:19.000000000,2022-01-11 12:32:31.000000000,2022-01-11 12:29:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-11 09:10:19.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/71f24586debf556b35df702ce3113ae5b24a75ec', 'message': 'rabbitmq: enable/disable prometheus plugin follow up\n\nMove new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to\nrole defaults.\n\nChange-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3\n'}]",0,824101,71f24586debf556b35df702ce3113ae5b24a75ec,9,3,1,14826,,,0,"rabbitmq: enable/disable prometheus plugin follow up

Move new variables added in I4d694d6224c813285d228d6bc7eece5731db1078 to
role defaults.

Change-Id: Ie09a2dbae2701cb18fd1eb5bfab76e82f9920fb3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/824101/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/defaults/main.yml']",2,71f24586debf556b35df702ce3113ae5b24a75ec,," #################### # Plugins #################### rabbitmq_enable_prometheus_plugin: ""{{ enable_prometheus }}"" rabbitmq_plugins: - name: ""rabbitmq_management"" enabled: True - name: ""rabbitmq_prometheus"" enabled: ""{{ rabbitmq_enable_prometheus_plugin | bool }}"" rabbitmq_enabled_plugins: ""{{ rabbitmq_plugins | selectattr('enabled', 'equalto', true) | list }}""",,12,8
openstack%2Fskyline-apiserver~master~I80eae423ba3c308bb7f4d817f9142d9877855e7a,openstack/skyline-apiserver,master,I80eae423ba3c308bb7f4d817f9142d9877855e7a,refactor: Remove skyline-console submodule,MERGED,2021-12-22 09:02:18.000000000,2022-01-11 12:13:34.000000000,2022-01-11 12:13:34.000000000,"[{'_account_id': 6282}, {'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30906}]","[{'number': 1, 'created': '2021-12-22 09:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/f35e6532d26f5f7033e87fd234a50a5da9d76cfc', 'message': 'Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 2, 'created': '2021-12-22 09:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/fbffa067d6e68c4deda5f70be36c8761ff0e6695', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 3, 'created': '2021-12-23 02:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/4d7587c0574740a01177976961f7a1c2b21eb917', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 4, 'created': '2021-12-23 03:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6e6c89e3b331e37abc57b790a097180006af1c16', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 5, 'created': '2021-12-24 02:48:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/c954a782daafdb03c940dff12a625ba99d8fa429', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 6, 'created': '2021-12-24 03:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/39f9640b73f6bf6820755155d680cc14e4ee9b98', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 7, 'created': '2021-12-27 10:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/6946730d05eff858c53a8dc068b5898e0e81318c', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n4. Update the Dockerfile\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}, {'number': 8, 'created': '2022-01-06 05:43:56.000000000', 'files': ['README-zh_CN.md', 'libs/skyline-nginx/poetry.lock', '.gitmodules', 'Makefile', 'devstack/plugin.sh', 'poetry.lock', 'README.md', 'container/Dockerfile', 'devstack/settings', 'libs/skyline-console', 'pyproject.toml', 'tox.ini', 'libs/skyline-nginx/pyproject.toml'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/047f1978443e55421afa0945426b456581369876', 'message': 'refactor: Remove skyline-console submodule\n\n1. Remove libs/skyline-console submodule\n2. Delete .gitmodules file\n3. Update the dependencies\n4. Update the Dockerfile\n\nChange-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a\n'}]",9,822638,047f1978443e55421afa0945426b456581369876,23,4,8,28706,,,0,"refactor: Remove skyline-console submodule

1. Remove libs/skyline-console submodule
2. Delete .gitmodules file
3. Update the dependencies
4. Update the Dockerfile

Change-Id: I80eae423ba3c308bb7f4d817f9142d9877855e7a
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/38/822638/8 && git format-patch -1 --stdout FETCH_HEAD,"['README-zh_CN.md', 'libs/skyline-nginx/poetry.lock', '.gitmodules', 'Makefile', 'devstack/plugin.sh', 'poetry.lock', 'README.md', 'devstack/settings', 'libs/skyline-console', 'pyproject.toml', 'tox.ini', 'libs/skyline-nginx/pyproject.toml']",12,f35e6532d26f5f7033e87fd234a50a5da9d76cfc,remove-submodule,"skyline-console = {git = ""https://opendev.org/skyline/skyline-console.git""}","skyline-console = {path = ""../skyline-console"", develop = true}",611,680
openstack%2Fos-ken~master~If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,openstack/os-ken,master,If2bbc92db09f3240ef9848f0db26ebcb709a2d3c,Add requirements.txt to tox environment,MERGED,2022-01-10 10:39:50.000000000,2022-01-11 12:09:11.000000000,2022-01-11 12:07:18.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 10:39:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca', 'message': 'Add requirements.txt to tox environment\n\nThis was spotted in [0] backport, upper constraints are not applied\ncorrectly without it (and this aligns with the typical deps in other\nprojects)\n\n[0] https://review.opendev.org/c/openstack/os-ken/+/823758\n\nChange-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c\n'}]",0,823956,a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca,8,3,1,21798,,,0,"Add requirements.txt to tox environment

This was spotted in [0] backport, upper constraints are not applied
correctly without it (and this aligns with the typical deps in other
projects)

[0] https://review.opendev.org/c/openstack/os-ken/+/823758

Change-Id: If2bbc92db09f3240ef9848f0db26ebcb709a2d3c
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/56/823956/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a72de9a81d2853bc0c56bbe2cf6f99308de0d9ca,, -r{toxinidir}/requirements.txt,,1,0
openstack%2Fneutron~stable%2Fwallaby~I206c31201470f178efdde8839622be7900c6ae3e,openstack/neutron,stable/wallaby,I206c31201470f178efdde8839622be7900c6ae3e,[OVN] Prevent deleting the only IP of a router port,MERGED,2022-01-04 15:11:59.000000000,2022-01-11 12:05:08.000000000,2022-01-11 12:03:07.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nConflict: had to convert payload to kwargs\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}, {'number': 2, 'created': '2022-01-04 15:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0284c5dc36aeef03ed10c61d274cfcde70614397', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nComparet to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}, {'number': 3, 'created': '2022-01-05 09:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/57dfa804cb0466b7912193ad87130d23809a2de9', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nComparet to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}, {'number': 4, 'created': '2022-01-05 15:55:16.000000000', 'files': ['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34b4a8d5c894c48f98dbb4ec5469f6564167d7eb', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nComparet to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}]",2,823402,34b4a8d5c894c48f98dbb4ec5469f6564167d7eb,23,4,4,34118,,,0,"[OVN] Prevent deleting the only IP of a router port

Neutron allows deleting the only IP of a router port but
the OVN NB DB doesn't, since it expects that the
network value of a port is greater than 0. This should
not be possible since it causes that the DB are not
perfectly sync.

It is needed to check BEFORE_UPDATE if the port
that will be updated is of type router owned and
if it will have an IP after the update. If not
an error needs to be raised.

Comparet to master patch, this has changed payload to kwargs
Conflicts:
    neutron/services/ovn_l3/plugin.py

Closes-Bug: #1948457
Change-Id: I206c31201470f178efdde8839622be7900c6ae3e
(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/823402/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0,," def test_port_update_before_update_router_port_without_ip(self): context = 'fake_context' port = {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF, 'fixed_ips': [], 'id': 'port-id'} self.assertRaises( n_exc.ServicePortInUse, self.l3_inst._port_update, resources.PORT, events.BEFORE_UPDATE, None, payload=events.DBEventPayload( context, states=(port,)) ) ",,43,2
openstack%2Fdiskimage-builder~master~I985f7863def5247f00761e8509082affdab262cf,openstack/diskimage-builder,master,I985f7863def5247f00761e8509082affdab262cf,Update handling of repo files for CentOS 8.3,ABANDONED,2020-12-09 08:33:47.000000000,2022-01-11 11:59:51.000000000,,"[{'_account_id': 7118}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-12-09 08:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/76a1b1d0588566d5496cc5a4f84cc840fe6dc3fe', 'message': 'Update handling of repo files for CentOS 8.3\n\nIn the centos element, the option DIB_DISTRIBUTION_MIRROR can be\nused to set a local mirror for package repos.  The implementation\nof this was broken by CentOS 8.3 renaming package repo files.\n\nThis fix updates to the new package file names, now provided by the\ncentos-linux-repos RPM, and assumes these will apply going forwards\nfrom 8.3 on the CentOS 8 release cycle.\n\nChange-Id: I985f7863def5247f00761e8509082affdab262cf\n'}, {'number': 2, 'created': '2020-12-09 22:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/128b949ebc8c7573fdc11cf173a20a3aa9d625a1', 'message': 'Update handling of repo files for CentOS 8.3\n\nIn the centos element, the option DIB_DISTRIBUTION_MIRROR can be\nused to set a local mirror for package repos.  The implementation\nof this was broken by CentOS 8.3 renaming package repo files.\n\nThis fix updates to the new package file names, now provided by the\ncentos-linux-repos RPM, and assumes these will apply going forwards\nfrom 8.3 on the CentOS 8 release cycle.\n\nChange-Id: I985f7863def5247f00761e8509082affdab262cf\n'}, {'number': 3, 'created': '2020-12-09 23:18:15.000000000', 'files': ['diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3ad1ad3bc8ca874c2ff3fd6f3cac26949a1d2fc4', 'message': 'Update handling of repo files for CentOS 8.3\n\nIn the centos element, the option DIB_DISTRIBUTION_MIRROR can be\nused to set a local mirror for package repos.  The implementation\nof this was broken by CentOS 8.3 renaming package repo files.\n\nThis fix updates to the new package file names, now provided by the\ncentos-linux-repos RPM, when present (ie in a base image from 8.3\nonwards)\n\nChange-Id: I985f7863def5247f00761e8509082affdab262cf\n'}]",0,766164,3ad1ad3bc8ca874c2ff3fd6f3cac26949a1d2fc4,9,3,3,10910,,,0,"Update handling of repo files for CentOS 8.3

In the centos element, the option DIB_DISTRIBUTION_MIRROR can be
used to set a local mirror for package repos.  The implementation
of this was broken by CentOS 8.3 renaming package repo files.

This fix updates to the new package file names, now provided by the
centos-linux-repos RPM, when present (ie in a base image from 8.3
onwards)

Change-Id: I985f7863def5247f00761e8509082affdab262cf
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/64/766164/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/centos/pre-install.d/01-set-centos-mirror'],1,76a1b1d0588566d5496cc5a4f84cc840fe6dc3fe,centos-8.3-mirror,"elif [[ ${DIB_RELEASE} > '7' && ${DIB_RELEASE} < '8' || ${DIB_RELEASE} > '8' && ${DIB_RELEASE} < '8.3' ]]; thenelif [[ ${DIB_RELEASE} == '8' || ${DIB_RELEASE} >= '8.3' ]]; then # CentOS 8.3 renamed the repo files sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-BaseOS.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-AppStream.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-ContinuousRelease.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Debuginfo.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Devel.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Extras.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-FastTrack.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-HighAvailability.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Media.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Plus.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-PowerTools.repo sed -e ""s,^#baseurl=http[s]*://mirror.centos.org/\$contentdir/,baseurl=$DIB_DISTRIBUTION_MIRROR/,;/^mirrorlist=/d"" -i /etc/yum.repos.d/CentOS-Linux-Sources.repo",elif [[ ${DIB_RELEASE} > '7' ]]; then,15,1
openstack%2Fneutron~stable%2Ftrain~Iba90b44331fdc63273fd3d19c583a24b5295c0ac,openstack/neutron,stable/train,Iba90b44331fdc63273fd3d19c583a24b5295c0ac,Don't fail subnet validation if gw_ip is actually not changed,MERGED,2021-12-21 15:54:47.000000000,2022-01-11 11:52:14.000000000,2022-01-11 11:50:19.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-21 15:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/984a8f75b8c467d52faebec63cd10349f6c1cc2b', 'message': ""Don't fail subnet validation if gw_ip is actually not changed\n\nIn subnet update API call Neutron checks if gateway_ip was send to be\nupdated and if so, it checkes if old gateway_ip isn't already allocated\nto some router port. If it's already used, Neutron returns 409 response.\nThis is valid behaviour but sometimes, some automation tools may do\nsubnet update request and pass the same gateway ip as already used by\nthe subnet. In such case, as gateway_ip is actually not changed Neutron\nshould not raise exception in that validation.\n\nCloses-Bug: #1955121\nChange-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac\n(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)\n(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)\n(cherry picked from commit faee38f3280ecef6a7e87ef7cac3b53068202754)\n""}, {'number': 2, 'created': '2021-12-22 08:34:40.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c926190607369c45d10cc771b956da7828cea3b4', 'message': ""Don't fail subnet validation if gw_ip is actually not changed\n\nIn subnet update API call Neutron checks if gateway_ip was send to be\nupdated and if so, it checkes if old gateway_ip isn't already allocated\nto some router port. If it's already used, Neutron returns 409 response.\nThis is valid behaviour but sometimes, some automation tools may do\nsubnet update request and pass the same gateway ip as already used by\nthe subnet. In such case, as gateway_ip is actually not changed Neutron\nshould not raise exception in that validation.\n\nCloses-Bug: #1955121\nChange-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac\n(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)\n(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)\n(cherry picked from commit faee38f3280ecef6a7e87ef7cac3b53068202754)\n""}]",6,822530,c926190607369c45d10cc771b956da7828cea3b4,24,4,2,11975,,,0,"Don't fail subnet validation if gw_ip is actually not changed

In subnet update API call Neutron checks if gateway_ip was send to be
updated and if so, it checkes if old gateway_ip isn't already allocated
to some router port. If it's already used, Neutron returns 409 response.
This is valid behaviour but sometimes, some automation tools may do
subnet update request and pass the same gateway ip as already used by
the subnet. In such case, as gateway_ip is actually not changed Neutron
should not raise exception in that validation.

Closes-Bug: #1955121
Change-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac
(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)
(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)
(cherry picked from commit faee38f3280ecef6a7e87ef7cac3b53068202754)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/30/822530/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,984a8f75b8c467d52faebec63cd10349f6c1cc2b,bug/1955121-stable/train, s_gateway_ip = netaddr.IPAddress(s['gateway_ip']) if (cur_subnet and s_gateway_ip != cur_subnet['gateway_ip'] and not ipv6_utils.is_ipv6_pd_enabled(s)): alloc = port_obj.IPAllocation.get_alloc_routerports( if alloc and alloc.port_id: port_id=alloc.port_id), if cur_subnet and not ipv6_utils.is_ipv6_pd_enabled(s): allocated = port_obj.IPAllocation.get_alloc_routerports( if allocated and allocated.port_id: port_id=allocated.port_id),71,4
openstack%2Fopenstack-ansible~master~Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,openstack/openstack-ansible,master,Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8,Fix rich version for ansible-lint,MERGED,2022-01-10 11:53:11.000000000,2022-01-11 11:46:41.000000000,2022-01-11 11:44:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-01-10 11:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/8718a03be7c2ec97e9d694e7b544f4ea8eb299cd', 'message': 'Fix reach version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n'}, {'number': 2, 'created': '2022-01-10 12:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/1a91289936f21533bbe2e75c58eebb6d92ec4626', 'message': ""Fix reach version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n""}, {'number': 3, 'created': '2022-01-10 12:53:46.000000000', 'files': ['scripts/gate-check-commit.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a67fd5e4c5ec9d93110c92aac44bf16056389199', 'message': ""Fix rich version for ansible-lint\n\nAnsible-lint prior to v5.3.1 has issue with reach version >=11.0.0.\nIn order to cherry-pick fix to stable branches we fix rich version.\n\nWe can't use requirements as rich is neither in blacklist nor in\nglobal-requirements, so must be handled independently\n\nThis should be reverted with ansible-lint version bump.\n\nChange-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8\n""}]",1,823971,a67fd5e4c5ec9d93110c92aac44bf16056389199,13,5,3,28619,,,0,"Fix rich version for ansible-lint

Ansible-lint prior to v5.3.1 has issue with reach version >=11.0.0.
In order to cherry-pick fix to stable branches we fix rich version.

We can't use requirements as rich is neither in blacklist nor in
global-requirements, so must be handled independently

This should be reverted with ansible-lint version bump.

Change-Id: Idb42c1ebd138fdfeaa4e87e383e3bac0e1fdedf8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/71/823971/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,8718a03be7c2ec97e9d694e7b544f4ea8eb299cd,,"# TODO(noonedeadpunk): Drop with ansible-lint bump, bug closed with https://github.com/ansible-community/ansible-lint/pull/1797 rich>=9.5.1,<11.0.0 # MIT",,2,0
openstack%2Fneutron~master~I804f55701c3c92c13eecb5f12c3fcac8f428f415,openstack/neutron,master,I804f55701c3c92c13eecb5f12c3fcac8f428f415,Adopt rehomed QoS FIP extension from neutron-lib 2.18.0,MERGED,2021-12-15 12:28:13.000000000,2022-01-11 11:29:12.000000000,2022-01-11 11:26:51.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 6062}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-15 12:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bcb338b06876eb6c416d2670569cd476dda7e0d3', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}, {'number': 2, 'created': '2021-12-15 13:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6abe992c75e864be8c319d0e68e810bdb5452eb6', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}, {'number': 3, 'created': '2021-12-16 08:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdc02799dbf06337285d9c9fa752d11838e834db', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}, {'number': 4, 'created': '2021-12-20 17:46:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/082f777bd8d1cbca69245243dac68af16884be03', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}, {'number': 5, 'created': '2022-01-04 16:20:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/38ae2c11eeef0a27ddc3d6965f56cf5e525e7767', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}, {'number': 6, 'created': '2022-01-05 12:10:26.000000000', 'files': ['neutron/extensions/qos_fip.py', 'neutron/db/l3_db.py', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/extensions/test_qos_fip.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bd38ba77dc665ef547e9c4d5955411a5a76818ff', 'message': 'Adopt rehomed QoS FIP extension from neutron-lib 2.18.0\n\nTrivial-Fix\n\nChange-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415\n'}]",6,821838,bd38ba77dc665ef547e9c4d5955411a5a76818ff,48,7,6,16688,,,0,"Adopt rehomed QoS FIP extension from neutron-lib 2.18.0

Trivial-Fix

Change-Id: I804f55701c3c92c13eecb5f12c3fcac8f428f415
",git fetch https://review.opendev.org/openstack/neutron refs/changes/38/821838/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'neutron/extensions/qos_fip.py', 'lower-constraints.txt', 'neutron/db/l3_db.py', 'neutron/tests/unit/extensions/test_qos_fip.py']",5,bcb338b06876eb6c416d2670569cd476dda7e0d3,bug/remohed_qos_fip_extension,from neutron_lib.api.definitions import qos_fip as qos_fip_apidef qos_fip_apidef.ALIAS] qos_fip_apidef.ALIAS], qos_fip.FIP_QOS_ALIAS] qos_fip.FIP_QOS_ALIAS],9,45
openstack%2Fdiskimage-builder~master~I01689cfb01b095ef69573a48be55353ea7aa2931,openstack/diskimage-builder,master,I01689cfb01b095ef69573a48be55353ea7aa2931,Bump Ubuntu release to focal,MERGED,2021-08-27 02:28:53.000000000,2022-01-11 11:23:03.000000000,2022-01-11 11:21:13.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 02:28:53.000000000', 'files': ['releasenotes/notes/bump-ubuntu-release-42469e6868ee162b.yaml', 'diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/442d11b2361ed8f3de0d73432e5a89eabc2456c6', 'message': 'Bump Ubuntu release to focal\n\nChange-Id: I01689cfb01b095ef69573a48be55353ea7aa2931\n'}]",4,806296,442d11b2361ed8f3de0d73432e5a89eabc2456c6,27,3,1,32411,,,0,"Bump Ubuntu release to focal

Change-Id: I01689cfb01b095ef69573a48be55353ea7aa2931
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/96/806296/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bump-ubuntu-release-42469e6868ee162b.yaml', 'diskimage_builder/elements/ubuntu-common/environment.d/10-ubuntu-distro-name.bash']",2,442d11b2361ed8f3de0d73432e5a89eabc2456c6,,export DIB_RELEASE=${DIB_RELEASE:-focal},export DIB_RELEASE=${DIB_RELEASE:-bionic},5,1
openstack%2Fkolla~master~I51ee4c8f7532144433602dd190c8a85040466631,openstack/kolla,master,I51ee4c8f7532144433602dd190c8a85040466631,[CI] Make changes to fluentd trigger the EFK job,MERGED,2021-12-28 13:53:00.000000000,2022-01-11 11:15:11.000000000,2022-01-11 11:05:03.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-28 13:53:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e048b12052ca569176bc25c1e18e68ee0d73ac1', 'message': '[CI] Make changes to fluentd trigger the EFK job\n\nAs F in EFK stands for fluentd.\n\nThe job is in the experimental pipeline so it still requires\n""check experimental"" incantation to run at all.\n\nChange-Id: I51ee4c8f7532144433602dd190c8a85040466631\n'}, {'number': 2, 'created': '2021-12-28 13:53:57.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/4b0d8d4d478de4ad6ba697e766920a46cb7267df', 'message': '[CI] Make changes to fluentd trigger the EFK job\n\nAs F in EFK stands for fluentd.\n\nThe job is in the experimental pipeline so it still requires\n""check experimental"" incantation to run at all.\n\nChange-Id: I51ee4c8f7532144433602dd190c8a85040466631\n'}]",1,823091,4b0d8d4d478de4ad6ba697e766920a46cb7267df,12,4,2,30491,,,0,"[CI] Make changes to fluentd trigger the EFK job

As F in EFK stands for fluentd.

The job is in the experimental pipeline so it still requires
""check experimental"" incantation to run at all.

Change-Id: I51ee4c8f7532144433602dd190c8a85040466631
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/823091/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml']",2,8e048b12052ca569176bc25c1e18e68ee0d73ac1,ci-fluentd-trigger-efk, files: ^docker/(base|elasticsearch|fluentd|grafana|kibana|prometheus)/, files: ^docker/(base|elasticsearch|grafana|kibana|prometheus)/,2,2
openstack%2Fkolla~master~I10ff098b3356eb02ad4a1006b988812356768fec,openstack/kolla,master,I10ff098b3356eb02ad4a1006b988812356768fec,Add fluentd grok-parser plugin on CentOS on aarch64,MERGED,2021-12-28 09:13:18.000000000,2022-01-11 11:12:44.000000000,2022-01-11 11:05:00.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-28 09:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/839fc0d67c50d087a4a03f4932632962feed5975', 'message': 'Add fluentd elasticsearch plugin on CentOS on aarch64\n\nThis conditional was missed in the original patch moving aarch64\nto td-agent. [1]\n\n[1] I86ecdc1ac45dfd76b94a34d1b837f7c0bc975dcd\n\nCloses-Bug: #1955889\nChange-Id: I10ff098b3356eb02ad4a1006b988812356768fec\n'}, {'number': 2, 'created': '2021-12-28 13:38:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e1acae9baf62ae42ca77e3163b1c34dfd2f761af', 'message': 'Add fluentd grok-parser plugin on CentOS on aarch64\n\nThis conditional was missed in the original patch moving aarch64\nto td-agent. [1]\n\nAfter this change, other plugins will have newer versions\ninstalled as well, as it happens in other image flavours.\n\n[1] I86ecdc1ac45dfd76b94a34d1b837f7c0bc975dcd\n\nCloses-Bug: #1955889\nChange-Id: I10ff098b3356eb02ad4a1006b988812356768fec\n'}, {'number': 3, 'created': '2021-12-28 13:38:20.000000000', 'files': ['docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1955889-92d98ef6527a75ef.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d3cb86a8373e7619f09e5852cdeff3be94fe153c', 'message': 'Add fluentd grok-parser plugin on CentOS on aarch64\n\nThis conditional was missed in the original patch moving aarch64\nto td-agent. [1]\n\nAfter this change, other plugins will have newer versions\ninstalled as well, as it happens in other image flavours.\n\n[1] I86ecdc1ac45dfd76b94a34d1b837f7c0bc975dcd\n\nCloses-Bug: #1955889\nChange-Id: I10ff098b3356eb02ad4a1006b988812356768fec\n'}]",5,823068,d3cb86a8373e7619f09e5852cdeff3be94fe153c,22,7,3,30491,,,0,"Add fluentd grok-parser plugin on CentOS on aarch64

This conditional was missed in the original patch moving aarch64
to td-agent. [1]

After this change, other plugins will have newer versions
installed as well, as it happens in other image flavours.

[1] I86ecdc1ac45dfd76b94a34d1b837f7c0bc975dcd

Closes-Bug: #1955889
Change-Id: I10ff098b3356eb02ad4a1006b988812356768fec
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/823068/2 && git format-patch -1 --stdout FETCH_HEAD,"['docker/fluentd/Dockerfile.j2', 'releasenotes/notes/bug-1955889-92d98ef6527a75ef.yaml']",2,839fc0d67c50d087a4a03f4932632962feed5975,bug/1955889,--- fixes: - | fluentd on CentOS on aarch64 is no longer missing the elasticsearch plugin. `LP#1955889 <https://launchpad.net/bugs/1955889>`__ ,,6,1
openstack%2Fneutron-lib~master~Iad627bcfb95699febd504d7dc7fc9e8a7d813a9e,openstack/neutron-lib,master,Iad627bcfb95699febd504d7dc7fc9e8a7d813a9e,Fix collect duplicates TypeError for dict values,MERGED,2022-01-07 18:49:22.000000000,2022-01-11 11:05:41.000000000,2022-01-11 11:03:17.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 18:49:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/aa3901e63143d8fbaafb6ec372b97996eb039a2f', 'message': 'Fix collect duplicates TypeError for dict values\n\nThe _collect_duplicates uses a set for duplicates. This\ndoes not work when the values in the list are dictionaries.\n\nInstead of using a set, use a list and extend the condition to\nonly add to the list if seen and not already in dups.\n\nCloses-Bug: #1956785\nChange-Id: Iad627bcfb95699febd504d7dc7fc9e8a7d813a9e\n'}, {'number': 2, 'created': '2022-01-10 14:29:24.000000000', 'files': ['neutron_lib/tests/unit/api/validators/test_validators.py', 'releasenotes/notes/fix-api-list-validation-collect-duplicates-f4d45bf5d5abbdff.yaml', 'neutron_lib/api/validators/__init__.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/88b755c0e86414ce8d6b57d6335d22bb892eaffb', 'message': 'Fix collect duplicates TypeError for dict values\n\nThe _collect_duplicates uses a set for duplicates. This\ndoes not work when the values in the list are dictionaries.\n\nInstead of using a set, use a list and extend the condition to\nonly add to the list if seen and not already in dups.\n\nCloses-Bug: #1956785\nChange-Id: Iad627bcfb95699febd504d7dc7fc9e8a7d813a9e\n'}]",5,823857,88b755c0e86414ce8d6b57d6335d22bb892eaffb,21,6,2,24245,,,0,"Fix collect duplicates TypeError for dict values

The _collect_duplicates uses a set for duplicates. This
does not work when the values in the list are dictionaries.

Instead of using a set, use a list and extend the condition to
only add to the list if seen and not already in dups.

Closes-Bug: #1956785
Change-Id: Iad627bcfb95699febd504d7dc7fc9e8a7d813a9e
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/57/823857/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/tests/unit/api/validators/test_validators.py', 'releasenotes/notes/fix-api-list-validation-collect-duplicates-f4d45bf5d5abbdff.yaml', 'neutron_lib/api/validators/__init__.py']",3,aa3901e63143d8fbaafb6ec372b97996eb039a2f,bug/1956785," :returns: A list of items that are duplicates in data_list. If no duplicates are found, the returned list is empty. dups = [] for datum in data_list: if datum in seen and datum not in dups: dups.append(datum)"," :returns: A set of items that are duplicates in data_list. If no duplicates are found, the returned set is empty. dups = set() for datum in data_list: if datum in seen: dups.add(datum)",31,5
openstack%2Fswift~master~I85f379170e792f42d9a2c32351d0b373c588193a,openstack/swift,master,I85f379170e792f42d9a2c32351d0b373c588193a,squash: leave stats encapsulated from iter,ABANDONED,2022-01-10 16:29:58.000000000,2022-01-11 10:51:58.000000000,,"[{'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 16:29:58.000000000', 'files': ['swift/obj/updater.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5a9c1e810cbabb163a59c90d92668b5c4f9ef3c1', 'message': 'squash: leave stats encapsulated from iter\n\nChange-Id: I85f379170e792f42d9a2c32351d0b373c588193a\n'}]",2,824030,5a9c1e810cbabb163a59c90d92668b5c4f9ef3c1,6,3,1,1179,,,0,"squash: leave stats encapsulated from iter

Change-Id: I85f379170e792f42d9a2c32351d0b373c588193a
",git fetch https://review.opendev.org/openstack/swift refs/changes/30/824030/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,5a9c1e810cbabb163a59c90d92668b5c4f9ef3c1,bucket-ratelimiter," def setUp(self): self.logger = debug_logger() self.stats = object_updater.SweepStats() [3, 1], self.logger, self.stats, 1000, 10) iter([3, 1]), self.logger, self.stats, 9, 0) iter([3, 1]), self.logger, self.stats, 0, 1) iter(update_ctxs), self.logger, self.stats, 9, 0) self.assertEqual(0, self.stats.skips) self.assertEqual(0, self.stats.drains) self.assertEqual(0, self.stats.deferrals) iter(update_ctxs), self.logger, self.stats, 1, 0.1) self.assertEqual(1, self.stats.skips) self.assertEqual(0, self.stats.drains) self.assertEqual(0, self.stats.deferrals) iter(update_ctxs[:3]), self.logger, self.stats, 1, 10, self.assertEqual(0, self.stats.skips) self.assertEqual(2, self.stats.drains) self.assertEqual(2, self.stats.deferrals) self.stats.reset() iter(update_ctxs[:3]), self.logger, self.stats, 1, 10, self.assertEqual(1, self.stats.skips) self.assertEqual(1, self.stats.drains) self.assertEqual(2, self.stats.deferrals) self.stats.reset() iter(update_ctxs[:3]), self.logger, self.stats, 1, 10, self.assertEqual(1, self.stats.skips) self.assertEqual(1, self.stats.drains) self.assertEqual(2, self.stats.deferrals) self.stats.reset() iter(update_ctxs), self.logger, self.stats, 1, 10, self.assertEqual(2, self.stats.skips) self.assertEqual(1, self.stats.drains) self.assertEqual(3, self.stats.deferrals) self.stats.reset() iter(update_ctxs_1 + update_ctxs_2), self.logger, self.stats, 4, 10, self.assertEqual(0, self.stats.skips) self.assertEqual(4, self.stats.drains) self.assertEqual(4, self.stats.deferrals) self.stats.reset() iter(update_ctxs_1 + update_ctxs_2), self.logger, self.stats, 4, 10, self.assertEqual(1, self.stats.skips) self.assertEqual(3, self.stats.drains) self.assertEqual(4, self.stats.deferrals) self.stats.reset() iter(update_ctxs_1 + update_ctxs_2), self.logger, self.stats, 4, 10, self.assertEqual(2, self.stats.skips) self.assertEqual(2, self.stats.drains) self.assertEqual(4, self.stats.deferrals) self.stats.reset()"," [3, 1], debug_logger(), 1000, 10) iter([3, 1]), debug_logger(), 9, 0) iter([3, 1]), debug_logger(), 0, 1) iter(update_ctxs), debug_logger(), 9, 0) self.assertEqual(0, it.skips) self.assertEqual(0, it.drains) self.assertEqual(0, it.deferrals) iter(update_ctxs), debug_logger(), 1, 0.1) self.assertEqual(1, it.skips) self.assertEqual(0, it.drains) self.assertEqual(0, it.deferrals) iter(update_ctxs[:3]), debug_logger(), 1, 10, self.assertEqual(0, it.skips) self.assertEqual(2, it.drains) self.assertEqual(2, it.deferrals) iter(update_ctxs[:3]), debug_logger(), 1, 10, self.assertEqual(1, it.skips) self.assertEqual(1, it.drains) self.assertEqual(2, it.deferrals) iter(update_ctxs[:3]), debug_logger(), 1, 10, self.assertEqual(1, it.skips) self.assertEqual(1, it.drains) self.assertEqual(2, it.deferrals) iter(update_ctxs), debug_logger(), 1, 10, self.assertEqual(2, it.skips) self.assertEqual(1, it.drains) self.assertEqual(3, it.deferrals) iter(update_ctxs_1 + update_ctxs_2), debug_logger(), 4, 10, self.assertEqual(0, it.skips) self.assertEqual(4, it.drains) self.assertEqual(4, it.deferrals) iter(update_ctxs_1 + update_ctxs_2), debug_logger(), 4, 10, self.assertEqual(1, it.skips) self.assertEqual(3, it.drains) self.assertEqual(4, it.deferrals) iter(update_ctxs_1 + update_ctxs_2), debug_logger(), 4, 10, self.assertEqual(2, it.skips) self.assertEqual(2, it.drains) self.assertEqual(4, it.deferrals)",68,63
openstack%2Fkolla-ansible~stable%2Fxena~I2e6b6ecd3717ff0811b47892aad406376c89a18c,openstack/kolla-ansible,stable/xena,I2e6b6ecd3717ff0811b47892aad406376c89a18c,docs: adjust to current defaults,MERGED,2022-01-07 15:53:37.000000000,2022-01-11 10:41:14.000000000,2022-01-11 10:38:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-01-07 15:53:37.000000000', 'files': ['doc/source/admin/mariadb-backup-and-restore.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5e0e986b9820e88ebf29000f0077ef892b72433', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)\n'}]",0,823767,a5e0e986b9820e88ebf29000f0077ef892b72433,8,4,1,14826,,,0,"docs: adjust to current defaults

Change-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c
(cherry picked from commit aaf06fb2a08bfceab3e85947b83475190de2e4f0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/67/823767/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/mariadb-backup-and-restore.rst'],1,a5e0e986b9820e88ebf29000f0077ef892b72433,, quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \ quay.io/openstack.kolla/centos-source-mariadb-server:|KOLLA_OPENSTACK_RELEASE| \, kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \ kolla/centos-binary-mariadb:train \,3,3
openstack%2Fkolla-ansible~master~I2c34a6b5894402bbebeb3fb96768789bc3c7fe84,openstack/kolla-ansible,master,I2c34a6b5894402bbebeb3fb96768789bc3c7fe84,OpenID Connect certifiate file is optional,MERGED,2022-01-09 21:57:33.000000000,2022-01-11 10:40:50.000000000,2022-01-11 10:38:16.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 29100}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-09 21:57:33.000000000', 'files': ['ansible/roles/keystone/tasks/config-federation-oidc.yml', 'doc/source/reference/shared-services/keystone-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/78f29fdc5deecdf00e86930ca7737b3e67fc9eed', 'message': 'OpenID Connect certifiate file is optional\n\nSome ID provider configurations do not require a certificate file.\nChange the logic to allow this, and update documentation accordingly.\n\nChange-Id: I2c34a6b5894402bbebeb3fb96768789bc3c7fe84\n'}]",3,823921,78f29fdc5deecdf00e86930ca7737b3e67fc9eed,15,5,1,10910,,,0,"OpenID Connect certifiate file is optional

Some ID provider configurations do not require a certificate file.
Change the logic to allow this, and update documentation accordingly.

Change-Id: I2c34a6b5894402bbebeb3fb96768789bc3c7fe84
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/823921/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/config-federation-oidc.yml', 'doc/source/reference/shared-services/keystone-guide.rst']",2,78f29fdc5deecdf00e86930ca7737b3e67fc9eed,OIDC-cert-optional,"Optional path to the Identity Provider certificate file. If included, the file must be named as 'certificate-key-id.pem'. E.g.:","Path to the Identity Provider certificate file, the file must be named as 'certificate-key-id.pem'. E.g.",3,2
openstack%2Fkolla-ansible~stable%2Fvictoria~I4b0ac001b38bee81d983dd68534b9d0e78b4f6d7,openstack/kolla-ansible,stable/victoria,I4b0ac001b38bee81d983dd68534b9d0e78b4f6d7,Register resources info for octavia upgrading,MERGED,2021-05-20 09:40:50.000000000,2022-01-11 10:40:41.000000000,2022-01-11 10:38:21.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-20 09:40:50.000000000', 'files': ['ansible/roles/octavia/tasks/get_resources_info.yml', 'ansible/roles/octavia/tasks/upgrade.yml', 'ansible/roles/octavia/templates/octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dc5f3700f3886667ce11ce7f5b9680820527e9f5', 'message': ""Register resources info for octavia upgrading\n\nkolla-ansible upgrade failed when octavia_auto_configure set\nto true. because upgrade action don't register the resources\ninfo.\nthis change adds some tasks to query the resources info\nfor upgrade action in octavia role.\n\nChange-Id: I4b0ac001b38bee81d983dd68534b9d0e78b4f6d7\n(cherry picked from commit 7f7bb1b44816a13748e3e87f72722e0dcb940fe0)\n""}]",3,792279,dc5f3700f3886667ce11ce7f5b9680820527e9f5,11,5,1,28048,,,0,"Register resources info for octavia upgrading

kolla-ansible upgrade failed when octavia_auto_configure set
to true. because upgrade action don't register the resources
info.
this change adds some tasks to query the resources info
for upgrade action in octavia role.

Change-Id: I4b0ac001b38bee81d983dd68534b9d0e78b4f6d7
(cherry picked from commit 7f7bb1b44816a13748e3e87f72722e0dcb940fe0)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/79/792279/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/octavia/tasks/get_resources_info.yml', 'ansible/roles/octavia/tasks/upgrade.yml', 'ansible/roles/octavia/templates/octavia.conf.j2']",3,dc5f3700f3886667ce11ce7f5b9680820527e9f5,bp/implement-automatic-deploy-of-octavia-stable/victoria,amp_flavor_id = {{ amphora_flavor_info.id }},amp_flavor_id = {{ amphora_flavor_info.flavor.id }},71,1
openstack%2Fironic~master~I54a45fab1aefc03b2252c655e14b375dea3d9f12,openstack/ironic,master,I54a45fab1aefc03b2252c655e14b375dea3d9f12,Enable foreign keys in SQLite,MERGED,2021-12-09 14:14:35.000000000,2022-01-11 10:39:57.000000000,2022-01-11 10:36:32.000000000,"[{'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-09 14:14:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c3adea89c87a5540fded87d3dd92afd105390c11', 'message': '[WIP] Enable foreign keys in SQLite\n\nChange-Id: I54a45fab1aefc03b2252c655e14b375dea3d9f12\n'}, {'number': 2, 'created': '2021-12-14 10:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f929aee59d1b5a676bf987ac2fa8e91b1b9b38e2', 'message': '[WIP] Enable foreign keys in SQLite\n\nChange-Id: I54a45fab1aefc03b2252c655e14b375dea3d9f12\n'}, {'number': 3, 'created': '2021-12-14 18:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e7e89064080ed85acf711a4e0f7d26e8bc0ce20f', 'message': '[WIP] Enable foreign keys in SQLite\n\nChange-Id: I54a45fab1aefc03b2252c655e14b375dea3d9f12\n'}, {'number': 4, 'created': '2021-12-15 14:05:14.000000000', 'files': ['ironic/tests/unit/db/test_volume_connectors.py', 'ironic/tests/unit/api/test_acl.py', 'ironic/tests/unit/api/controllers/v1/test_portgroup.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/db/test_volume_targets.py', 'ironic/tests/unit/api/controllers/v1/test_port.py', 'ironic/tests/unit/api/controllers/v1/test_volume_connector.py', 'ironic/db/sqlalchemy/__init__.py', 'ironic/tests/unit/api/controllers/v1/test_allocation.py', 'ironic/tests/unit/db/test_ports.py', 'ironic/tests/unit/db/test_portgroups.py', 'releasenotes/notes/sqlite-fk-8c87a308a02d49bf.yaml', 'ironic/tests/unit/objects/test_volume_connector.py', 'ironic/tests/unit/db/test_node_history.py', 'ironic/tests/unit/drivers/modules/network/test_noop.py', 'ironic/tests/unit/objects/test_volume_target.py', 'ironic/tests/unit/api/controllers/v1/test_volume_target.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b93ecd5dbf0b1d8ce09f1c44053af3d62929012', 'message': ""Enable foreign keys in SQLite\n\nFor backward compatibility reasons, they're off by default.\n\nFix all unit tests that rely on dangling foreign keys.\n\nChange-Id: I54a45fab1aefc03b2252c655e14b375dea3d9f12\n""}]",0,821219,4b93ecd5dbf0b1d8ce09f1c44053af3d62929012,28,3,4,10239,,,0,"Enable foreign keys in SQLite

For backward compatibility reasons, they're off by default.

Fix all unit tests that rely on dangling foreign keys.

Change-Id: I54a45fab1aefc03b2252c655e14b375dea3d9f12
",git fetch https://review.opendev.org/openstack/ironic refs/changes/19/821219/4 && git format-patch -1 --stdout FETCH_HEAD,['ironic/db/sqlalchemy/api.py'],1,c3adea89c87a5540fded87d3dd92afd105390c11,sqlite-fk,# NOTE(dtantsur): we want sqlite as close to a real database as possible. enginefacade.configure(sqlite_fk=True) ,,3,0
openstack%2Fneutron~master~I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2,openstack/neutron,master,I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2,"[FT] Workaround for ""test_gateway_chassis_rebalance"" test",MERGED,2022-01-05 11:26:25.000000000,2022-01-11 10:36:57.000000000,2022-01-11 10:33:11.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 11:26:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6d8b0711c83838f956499ab065fb132d014e5ac', 'message': '[FT] Workaround for ""test_gateway_chassis_rebalance"" test\n\nThere seems to be an error in SQLite3. The ""port"" DB object is not\nstored in the DB or the index is not populated. In the same\ntransaction, when the ""ml2_port_binding"" object is created, the\n""port.id"" reference is not found and a ""DBReferenceError"" exception\nis raised.\n\nRelated-Bug: #1956344\nChange-Id: I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2\n'}, {'number': 2, 'created': '2022-01-05 14:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c046b3d143ddc44e44bfed9ea5044e8eccbb4b6a', 'message': '[FT] Workaround for ""test_gateway_chassis_rebalance"" test\n\nThere seems to be an error in SQLite3. The ""port"" DB object is not\nstored in the DB or the index is not populated. In the same\ntransaction, when the ""ml2_port_binding"" object is created, the\n""port.id"" reference is not found and a ""DBReferenceError"" exception\nis raised.\n\nRelated-Bug: #1956344\nChange-Id: I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2\n'}, {'number': 3, 'created': '2022-01-05 14:13:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/abf9daace3995386627e15b4c7ea444e03878f68', 'message': '[FT] Workaround for ""test_gateway_chassis_rebalance"" test\n\nThere seems to be an error in SQLite3. The ""port"" DB object is not\nstored in the DB or the index is not populated. In the same\ntransaction, when the ""ml2_port_binding"" object is created, the\n""port.id"" reference is not found and a ""DBReferenceError"" exception\nis raised.\n\nRelated-Bug: #1956344\nChange-Id: I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2\n'}, {'number': 4, 'created': '2022-01-05 17:24:55.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ecb0b428ee7dd5eeb5b4790914abaad224d0ea52', 'message': '[FT] Workaround for ""test_gateway_chassis_rebalance"" test\n\nThere seems to be an error in SQLite3. The ""port"" DB object is not\nstored in the DB or the index is not populated. In the same\ntransaction, when the ""ml2_port_binding"" object is created, the\n""port.id"" reference is not found and a ""DBReferenceError"" exception\nis raised.\n\nRelated-Bug: #1956344\nChange-Id: I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2\n'}]",12,823498,ecb0b428ee7dd5eeb5b4790914abaad224d0ea52,38,5,4,16688,,,0,"[FT] Workaround for ""test_gateway_chassis_rebalance"" test

There seems to be an error in SQLite3. The ""port"" DB object is not
stored in the DB or the index is not populated. In the same
transaction, when the ""ml2_port_binding"" object is created, the
""port.id"" reference is not found and a ""DBReferenceError"" exception
is raised.

Related-Bug: #1956344
Change-Id: I39eab8f0aaa8cc1ec6d03813f6726bb27b52ddc2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/98/823498/4 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/functional/services/ovn_l3/test_plugin.py'],1,e6d8b0711c83838f956499ab065fb132d014e5ac,bug/1956344,"from oslo_db import exception as db_exc num_routers = 20 for i in range(num_routers): try: router = self._create_router('router%d' % i, gw_info=gw_info) except db_exc.DBReferenceError: # NOTE(ralonsoh): this is a workaround for LP#1956344. There # seems to be a bug in SQLite3. The ""port"" DB object is not # persistently stored in the DB and raises a ""DBReferenceError"" # exception occasionally. num_routers -= 1 continue expected = {chassis4: {1: num_routers}} self.assertEqual({2: num_routers}, _get_result_dict()[chassis4]) self.assertEqual({1: num_routers}, _get_result_dict()[chassis5])"," for i in range(20): router = self._create_router('router%d' % i, gw_info=gw_info) expected = {chassis4: {1: 20}} self.assertEqual({2: 20}, _get_result_dict()[chassis4]) self.assertEqual({1: 20}, _get_result_dict()[chassis5])",16,5
openstack%2Ftripleo-quickstart~master~If8062b609d2b4aad1f1b99de06e353f39b500f11,openstack/tripleo-quickstart,master,If8062b609d2b4aad1f1b99de06e353f39b500f11,Fix reinstall quickstart/extras upon bootstrap,ABANDONED,2021-12-22 09:24:43.000000000,2022-01-11 10:32:58.000000000,,"[{'_account_id': 6926}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 09:24:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3cd682fdc773fb13e98f94b0af59a590a5130d6', 'message': 'Force reinstall quickstart/extras upon bootstrap\n\nWhen quickstart.sh is called to bootstrap, make sure\nthe needed release cofngi files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 10:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2d5342b2eea3b230553a68e75349f95c1f0edab0', 'message': 'Force reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-12-22 11:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e9736ae6b25c2b4e40268c57aabf04f14dccb581', 'message': 'Force reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2021-12-22 11:47:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/58d112dce260972c5222356cbc234076d192a3ac', 'message': 'Force reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2021-12-22 12:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/82eba66dd8a00b65214e0644260c61f5969a26bf', 'message': 'Fix reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 6, 'created': '2021-12-22 15:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4445465dbf7483c9b7dc31bf919d101267d415ed', 'message': 'Fix reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\n\nRelated-bug: #1955574\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 7, 'created': '2021-12-23 18:18:24.000000000', 'files': ['quickstart.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b72ef424c215ce827c3482974112461a74a12540', 'message': 'Fix reinstall quickstart/extras upon bootstrap\n\nWhen `quickstart.sh` is called to bootstrap, make sure\nthe needed release config files and quickstart-extras roles,\nlike extras-common, are installed by the expected paths.\n\nThat fixes an issue with tripleo CI reproducer, when\ntoci script fails when ansible fails to locate\n/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles\nwhen it runs more that once on the same host.\n\nRelated-bug: #1955574\nChange-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",13,822639,b72ef424c215ce827c3482974112461a74a12540,50,6,7,6926,,,0,"Fix reinstall quickstart/extras upon bootstrap

When `quickstart.sh` is called to bootstrap, make sure
the needed release config files and quickstart-extras roles,
like extras-common, are installed by the expected paths.

That fixes an issue with tripleo CI reproducer, when
toci script fails when ansible fails to locate
/home/zuul/workspace/.quickstart/usr/local/share/ansible/roles
when it runs more that once on the same host.

Related-bug: #1955574
Change-Id: If8062b609d2b4aad1f1b99de06e353f39b500f11
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/39/822639/5 && git format-patch -1 --stdout FETCH_HEAD,['quickstart.sh'],1,c3cd682fdc773fb13e98f94b0af59a590a5130d6,1955574, $(python_cmd) setup.py install --force $(python_cmd) setup.py install --force,,2,0
openstack%2Ftripleo-quickstart~master~I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3,openstack/tripleo-quickstart,master,I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3,Move config from quickstart-extras,ABANDONED,2021-12-22 15:38:55.000000000,2022-01-11 10:32:51.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 15:38:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fac3355b5f72a8dd2857562fd1ea7c882fd32e70', 'message': 'Move config from quickstart-extras\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nChange-Id: I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3\nCloses-bug: #1955574\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 15:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2fa305dc7ce2f382ac5311323e2271116d26c60c', 'message': 'Move config from quickstart-extras\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nChange-Id: I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3\nCloses-bug: #1955574\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-01-03 13:58:07.000000000', 'files': ['config/environments/ovb-common.yml', 'config/environments/rdocloud-ci.yml.example', 'config/general_config/centosci-logs.yml', 'config/general_config/local-logs.yml', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/ovb-multiple-nics.yml', 'config/general_config/rdoproject-logs.yml', 'config/general_config/deprecated/scale_compute.yml', 'config/environments/rdocloud.yml', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/512877469f4b5f929b1f7f7bbe08b41cc6683e7b', 'message': 'Move config from quickstart-extras\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nChange-Id: I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3\nCloses-bug: #1955574\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,822724,512877469f4b5f929b1f7f7bbe08b41cc6683e7b,20,7,3,6926,,,0,"Move config from quickstart-extras

Avoid conflicting data_files so both repos can be
installed into a shared venv

Change-Id: I7c576bdefd30f121abd4e8bf967fd8bdfadf45a3
Closes-bug: #1955574
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/24/822724/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/environments/ovb-common.yml', 'config/environments/rdocloud-ci.yml.example', 'config/general_config/centosci-logs.yml', 'config/general_config/local-logs.yml', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/deprecated/scale_compute.yml', 'config/general_config/ovb-multiple-nics.yml', 'config/general_config/rdoproject-logs.yml', 'config/environments/rdocloud.yml', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml']",10,fac3355b5f72a8dd2857562fd1ea7c882fd32e70,1955574,"--- # baremetal settings step_introspect: true network_isolation_type: public-bond network_isolation: true # template copies baremetal_nic_configs: ""{{ local_working_dir }}/openstack-virtual-baremetal/bond-network-templates/nic-configs"" use_resource_registry_nic_configs: true # This enables container deployments with Pike and later containerized_overcloud: >- {% if release in ['newton', 'ocata'] -%} false {%- else -%} true {%- endif -%} delete_docker_cache: true extra_args: "" --control-flavor baremetal --compute-flavor baremetal "" # This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint # Disabled by default in ussuri telemetry_args: >- {% if release in ['queens', 'stein', 'train'] %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %} run_tempest: false tempest_config: false test_ping: true enable_pacemaker: true ",,426,0
openstack%2Ftripleo-quickstart-extras~master~I059e9921bd1f2ea6d020f3b1144f8f63495c5124,openstack/tripleo-quickstart-extras,master,I059e9921bd1f2ea6d020f3b1144f8f63495c5124,Move config to quickstart,ABANDONED,2021-12-22 15:42:33.000000000,2022-01-11 10:32:45.000000000,,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 15:42:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c31a69330bec47edf59dc323ff6a70df247d9932', 'message': 'Move config to quickstart\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nChange-Id: I059e9921bd1f2ea6d020f3b1144f8f63495c5124\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/822724\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-12-22 15:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4242ba6e7ff537168595e0c2d2460445ced35e18', 'message': 'Move config to quickstart\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nRelated-bug: #1955574\nChange-Id: I059e9921bd1f2ea6d020f3b1144f8f63495c5124\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/822724\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-12-22 16:15:57.000000000', 'files': ['roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'config/general_config/ovb-multiple-nics.yml', 'config/general_config/rdoproject-logs.yml', 'config/environments/rdocloud.yml', 'config/environments/ovb-common.yml', 'config/environments/rdocloud-ci.yml.example', 'config/general_config/centosci-logs.yml', 'config/general_config/local-logs.yml', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/deprecated/scale_compute.yml', 'setup.cfg', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/437b7b06e58d31e2cf881d86cd5a07f8176fea60', 'message': 'Move config to quickstart\n\nAvoid conflicting data_files so both repos can be\ninstalled into a shared venv\n\nChange-Id: I059e9921bd1f2ea6d020f3b1144f8f63495c5124\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/822724\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",3,822725,437b7b06e58d31e2cf881d86cd5a07f8176fea60,20,7,3,6926,,,0,"Move config to quickstart

Avoid conflicting data_files so both repos can be
installed into a shared venv

Change-Id: I059e9921bd1f2ea6d020f3b1144f8f63495c5124
Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart/+/822724
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/25/822725/3 && git format-patch -1 --stdout FETCH_HEAD,"['config/environments/ovb-common.yml', 'config/environments/rdocloud-ci.yml.example', 'roles/create-reproducer-script/templates/reproducer-quickstart.sh.j2', 'config/general_config/centosci-logs.yml', 'config/general_config/local-logs.yml', 'config/general_config/deprecated/containers_minimal.yml', 'config/general_config/deprecated/scale_compute.yml', 'config/general_config/ovb-multiple-nics.yml', 'config/general_config/rdoproject-logs.yml', 'config/environments/rdocloud.yml', 'config/general_config/ovb-minimal-pacemaker-public-bond.yml']",11,c31a69330bec47edf59dc323ff6a70df247d9932,1955574,,"--- # baremetal settings step_introspect: true network_isolation_type: public-bond network_isolation: true # template copies baremetal_nic_configs: ""{{ local_working_dir }}/openstack-virtual-baremetal/bond-network-templates/nic-configs"" use_resource_registry_nic_configs: true # This enables container deployments with Pike and later containerized_overcloud: >- {% if release in ['newton', 'ocata'] -%} false {%- else -%} true {%- endif -%} delete_docker_cache: true extra_args: "" --control-flavor baremetal --compute-flavor baremetal "" # This featureset is extremely resource intensive, so we disable telemetry # in order to reduce the overall memory footprint # Disabled by default in ussuri telemetry_args: >- {% if release in ['queens', 'stein', 'train'] %} -e {{ overcloud_templates_path }}/environments/disable-telemetry.yaml {% endif %} run_tempest: false tempest_config: false test_ping: true enable_pacemaker: true ",1,427
openstack%2Fironic~master~If0643bebcee6aea81b6a199353f9dc81656365ac,openstack/ironic,master,If0643bebcee6aea81b6a199353f9dc81656365ac,Use driver_internal_info methods for redfish driver,MERGED,2021-11-19 04:22:35.000000000,2022-01-11 10:17:04.000000000,2022-01-11 10:13:18.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 27909}]","[{'number': 1, 'created': '2021-11-19 04:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/03ee125d6278443695ec8620266c9ae213d9aa5c', 'message': 'Use driver_internal_info methods for redfish driver\n\nThis change switches the redfish driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: If0643bebcee6aea81b6a199353f9dc81656365ac\n'}, {'number': 2, 'created': '2021-12-03 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e4d2f20cea89fa6c11cff39f6c25c27acafff5f9', 'message': 'Use driver_internal_info methods for redfish driver\n\nThis change switches the redfish driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: If0643bebcee6aea81b6a199353f9dc81656365ac\n'}, {'number': 3, 'created': '2021-12-14 02:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f2f35353ab74f302b2d7c37ea565c0865721db2', 'message': 'Use driver_internal_info methods for redfish driver\n\nThis change switches the redfish driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: If0643bebcee6aea81b6a199353f9dc81656365ac\n'}, {'number': 4, 'created': '2021-12-21 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25a52f6e207337d695f9b5b3878ddce8dd8421b0', 'message': 'Use driver_internal_info methods for redfish driver\n\nThis change switches the redfish driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: If0643bebcee6aea81b6a199353f9dc81656365ac\n'}, {'number': 5, 'created': '2022-01-05 03:06:20.000000000', 'files': ['ironic/drivers/modules/redfish/bios.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/drivers/modules/redfish/management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7047eb8db9e77d925b717d70ebf67f72bd0929ca', 'message': 'Use driver_internal_info methods for redfish driver\n\nThis change switches the redfish driver classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nChange-Id: If0643bebcee6aea81b6a199353f9dc81656365ac\n'}]",3,818508,7047eb8db9e77d925b717d70ebf67f72bd0929ca,45,4,5,4571,,,0,"Use driver_internal_info methods for redfish driver

This change switches the redfish driver classes to using
set_driver_internal_info, del_driver_internal_info,
timestamp_driver_internal_info node methods for modifying
driver_internal_info.

Change-Id: If0643bebcee6aea81b6a199353f9dc81656365ac
",git fetch https://review.opendev.org/openstack/ironic refs/changes/08/818508/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/bios.py', 'ironic/drivers/modules/redfish/raid.py', 'ironic/drivers/modules/redfish/management.py']",3,03ee125d6278443695ec8620266c9ae213d9aa5c,story/2008301," node.set_driver_internal_info('firmware_updates', firmware_updates) node.set_driver_internal_info('firmware_updates', firmware_updates) node.del_driver_internal_info('firmware_updates')"," driver_internal_info = node.driver_internal_info driver_internal_info['firmware_updates'] = firmware_updates node.driver_internal_info = driver_internal_info driver_internal_info = node.driver_internal_info driver_internal_info['firmware_updates'] = firmware_updates node.driver_internal_info = driver_internal_info driver_internal_info = node.driver_internal_info driver_internal_info.pop('firmware_updates', None) node.driver_internal_info = driver_internal_info",18,31
openstack%2Ftripleo-quickstart-extras~master~I884a12f5c408d238e37a959f56609c823522d40d,openstack/tripleo-quickstart-extras,master,I884a12f5c408d238e37a959f56609c823522d40d,Fix ansible-lint failure,MERGED,2022-01-10 13:02:51.000000000,2022-01-11 10:16:01.000000000,2022-01-11 10:16:01.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-10 13:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8ed7b4a8fe6d4589ebd64208c69ccc0d5fe8f062', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 2, 'created': '2022-01-10 14:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/e1b534157c5dbfc3f9796fdced00f80366f0c985', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 3, 'created': '2022-01-10 16:16:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b37665ea0354bf3eb0e86fd380d199fbbf8ecfd', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 4, 'created': '2022-01-10 17:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/8aad18a99d5f436ba9a5ff5c89b054100ce38460', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 5, 'created': '2022-01-10 17:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2ada23e71af7d41a188559676aee5ef34604f098', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 6, 'created': '2022-01-10 20:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0ce3f53c817841680a02c7108385ac4afd8edde0', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}, {'number': 7, 'created': '2022-01-10 22:28:47.000000000', 'files': ['.ansible-lint', '.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/c63d021a999f39b92ceff68e93efd1ade99efa80', 'message': 'Fix ansible-lint failure\n\nUpdate to newest version\n\nChange-Id: I884a12f5c408d238e37a959f56609c823522d40d\n'}]",3,823981,c63d021a999f39b92ceff68e93efd1ade99efa80,38,6,7,10969,,,0,"Fix ansible-lint failure

Update to newest version

Change-Id: I884a12f5c408d238e37a959f56609c823522d40d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/81/823981/2 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,8ed7b4a8fe6d4589ebd64208c69ccc0d5fe8f062,a-lint, rev: v5.3.2, rev: v4.3.7,1,1
openstack%2Fci-log-processing~master~I0234c46339557a444cadd190e030275bee7390fc,openstack/ci-log-processing,master,I0234c46339557a444cadd190e030275bee7390fc,remove unicode from code,MERGED,2021-12-24 01:12:17.000000000,2022-01-11 10:14:07.000000000,2022-01-11 10:11:31.000000000,"[{'_account_id': 8367}, {'_account_id': 20676}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-24 01:12:17.000000000', 'files': ['doc/source/conf.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/7747e03417ba2fa6fab7b9bbc2cad85da08b9608', 'message': 'remove unicode from code\n\nChange-Id: I0234c46339557a444cadd190e030275bee7390fc\n'}]",0,822862,7747e03417ba2fa6fab7b9bbc2cad85da08b9608,8,3,1,33881,,,0,"remove unicode from code

Change-Id: I0234c46339557a444cadd190e030275bee7390fc
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/62/822862/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/conf.py'],1,7747e03417ba2fa6fab7b9bbc2cad85da08b9608,,"project = 'Openstack System Documentation' ('index', 'system-config.tex', 'system-config Documentation', 'OpenStack CI Log Processing team', 'manual'),","project = u'Openstack System Documentation' ('index', 'system-config.tex', u'system-config Documentation', u'OpenStack CI Log Processing team', 'manual'),",3,3
openstack%2Fmanila-tempest-plugin~master~Id2ac6988a082b09ec3b367ac3a70407f9b000709,openstack/manila-tempest-plugin,master,Id2ac6988a082b09ec3b367ac3a70407f9b000709,DNM,ABANDONED,2022-01-10 12:16:50.000000000,2022-01-11 10:04:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-10 12:16:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f3fc8486ddc40213b83402c1b2a045c9ff719aff', 'message': 'DNM\n\nChange-Id: Id2ac6988a082b09ec3b367ac3a70407f9b000709\n'}, {'number': 2, 'created': '2022-01-10 14:08:08.000000000', 'files': ['DNM', 'manila_tempest_tests/config.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/c1d74b9219ae1ec9a3153b95ffe85bddb716db6a', 'message': 'DNM\n\nChange-Id: Id2ac6988a082b09ec3b367ac3a70407f9b000709\n'}]",0,823973,c1d74b9219ae1ec9a3153b95ffe85bddb716db6a,6,1,2,19262,,,0,"DNM

Change-Id: Id2ac6988a082b09ec3b367ac3a70407f9b000709
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/73/823973/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,f3fc8486ddc40213b83402c1b2a045c9ff719aff,DNM,,,0,0
openstack%2Fcharm-swift-storage~master~I0ab3e8abd4732ef2ccbcaeae58341796210a3af3,openstack/charm-swift-storage,master,I0ab3e8abd4732ef2ccbcaeae58341796210a3af3,Update Makefile to reference Zaza and Python3,MERGED,2020-08-26 23:41:41.000000000,2022-01-11 09:56:45.000000000,2022-01-11 09:56:45.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-08-26 23:41:41.000000000', 'files': ['Makefile'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/a866308957ed2e9dd40643c72266db385696b961', 'message': 'Update Makefile to reference Zaza and Python3\n\nChange-Id: I0ab3e8abd4732ef2ccbcaeae58341796210a3af3\n'}]",0,748326,a866308957ed2e9dd40643c72266db385696b961,7,3,1,30793,,,0,"Update Makefile to reference Zaza and Python3

Change-Id: I0ab3e8abd4732ef2ccbcaeae58341796210a3af3
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/26/748326/1 && git format-patch -1 --stdout FETCH_HEAD,['Makefile'],1,a866308957ed2e9dd40643c72266db385696b961,makefile-update-to-zaza-py3, @tox -e py3 @echo Starting Zaza tests... @tox -e func, @tox -e py27 @echo Starting Amulet tests... @tox -e func27,3,3
openstack%2Fcharms.ceph~master~Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95,openstack/charms.ceph,master,Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95,Explicitly enable msgr2 for Nautilus and later,MERGED,2021-12-05 13:11:08.000000000,2022-01-11 09:54:44.000000000,2022-01-11 09:54:44.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-05 13:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/97bc045c3551d1428d48f552216867f60c685369', 'message': 'Explicitly enable msgr2 for Nautilus and later\n\nCeph Nautilus and later will provide a warning that msgr2 is not\nenabled. Additionally, without msgr2 it will not be possible for new\nceph-mon units to join the quorum.\n\nCloses-Bug: #1840701\nChange-Id: Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95\n'}, {'number': 2, 'created': '2021-12-05 17:32:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/b89ab567f15d943d9cbb95dcd4e9e66d6aec85c8', 'message': ""Explicitly enable msgr2 for Nautilus and later\n\nWhen updating to Ceph Nautilus (OpenStack Train) or later releases from\na pre-Nautilus release, msgr2 will not be enabled without manual\nintervention (e.g. running `juju ssh ceph-mon/leader 'sudo ceph mon\nenable-msgr2'`).\n\nLeaving msgr2 disabled (i.e. using msgr1 only) isn't an issue for normal\noperations; Ceph will simply show a warning in `sudo ceph status` that\nthis is the case. However, Ceph Nautilus and later releases default to\nmsgr2, meaning that new ceph-mon units will attempt to communicate with\nthe existing cluster using msgr2.\n\nThis commit enables msgr2 on package upgrades on all Ceph releases\nincluding and after Nautilus.\n\nCloses-Bug: #1840701\nChange-Id: Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95\n""}, {'number': 3, 'created': '2021-12-14 13:51:11.000000000', 'files': ['charms_ceph/utils.py', 'unit_tests/test_mon_upgrade_roll.py'], 'web_link': 'https://opendev.org/openstack/charms.ceph/commit/ff752de0f06d8a06a4da722211931905fd4a827f', 'message': ""Explicitly enable msgr2 for Nautilus and later\n\nWhen updating to Ceph Nautilus (OpenStack Train) or later releases from\na pre-Nautilus release, msgr2 will not be enabled without manual\nintervention (e.g. running `juju ssh ceph-mon/leader 'sudo ceph mon\nenable-msgr2'`).\n\nLeaving msgr2 disabled (i.e. using msgr1 only) isn't an issue for normal\noperations; Ceph will simply show a warning in `sudo ceph status` that\nthis is the case. However, Ceph Nautilus and later releases default to\nmsgr2, meaning that new ceph-mon units will attempt to communicate with\nthe existing cluster using msgr2.\n\nThis commit enables msgr2 on package upgrades on all Ceph releases\nincluding and after Nautilus.\n\nCloses-Bug: #1840701\nChange-Id: Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95\n""}]",0,820455,ff752de0f06d8a06a4da722211931905fd4a827f,10,2,3,32203,,,0,"Explicitly enable msgr2 for Nautilus and later

When updating to Ceph Nautilus (OpenStack Train) or later releases from
a pre-Nautilus release, msgr2 will not be enabled without manual
intervention (e.g. running `juju ssh ceph-mon/leader 'sudo ceph mon
enable-msgr2'`).

Leaving msgr2 disabled (i.e. using msgr1 only) isn't an issue for normal
operations; Ceph will simply show a warning in `sudo ceph status` that
this is the case. However, Ceph Nautilus and later releases default to
msgr2, meaning that new ceph-mon units will attempt to communicate with
the existing cluster using msgr2.

This commit enables msgr2 on package upgrades on all Ceph releases
including and after Nautilus.

Closes-Bug: #1840701
Change-Id: Ib90cd03b16f2062fa6c6a43d242d51306ae8ca95
",git fetch https://review.opendev.org/openstack/charms.ceph refs/changes/55/820455/2 && git format-patch -1 --stdout FETCH_HEAD,['charms_ceph/utils.py'],1,97bc045c3551d1428d48f552216867f60c685369,bug/1840701," # NOTE(icey) # (Note updated by jmcvaughn) LP: #1840701 # In Ceph Nautilus, the msgr2 messaging protocol is preferred # so we enable it here after an upgrade. While any Ceph version after # Nautilus should pick it up automatically as it should be set # at bootstrap, there have been some reports of trouble upgrading # between newer versions as well in LP #1840701. Therefore, we enable # it for all Ceph versions Nautilus and newer. nautilus_or_later = cmp_pkgrevno('ceph-common', '14.0.0') >= 0 if nautilus_or_later: wait_for_all_monitors_to_upgrade(new_version=new_version, upgrade_key=upgrade_key) enable_msgr2()def enable_msgr2(): """""" Enables msgr2 :raises: subprocess.CalledProcessError if the command fails """""" cmd = ['ceph', 'mon', 'enable-msgr2'] subprocess.check_call(cmd) ",,24,0
openstack%2Fcharm-aodh~master~I6394c49a111a719e9a84927d390b59389dc5e4a1,openstack/charm-aodh,master,I6394c49a111a719e9a84927d390b59389dc5e4a1,DNM: Test https://review.opendev.org/c/openstack/charms.openstack/+/787611,ABANDONED,2021-04-27 11:57:05.000000000,2022-01-11 09:53:59.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 11:57:05.000000000', 'files': ['src/build.lock'], 'web_link': 'https://opendev.org/openstack/charm-aodh/commit/2d6fe7a54b017f2ea3161349c5ba59ff59daea3b', 'message': ""DNM: Test https://review.opendev.org/c/openstack/charms.openstack/+/787611\n\nDo not merge. This is testing the above patch (from master) on OpenStack\nversions where there isn't a openstack-release package and where there is.\n\nChange-Id: I6394c49a111a719e9a84927d390b59389dc5e4a1\n""}]",0,788254,2d6fe7a54b017f2ea3161349c5ba59ff59daea3b,7,2,1,11805,,,0,"DNM: Test https://review.opendev.org/c/openstack/charms.openstack/+/787611

Do not merge. This is testing the above patch (from master) on OpenStack
versions where there isn't a openstack-release package and where there is.

Change-Id: I6394c49a111a719e9a84927d390b59389dc5e4a1
",git fetch https://review.opendev.org/openstack/charm-aodh refs/changes/54/788254/1 && git format-patch -1 --stdout FETCH_HEAD,['src/build.lock'],1,2d6fe7a54b017f2ea3161349c5ba59ff59daea3b,openstack-release-package," ""branch"": ""refs/heads/master"",} "," ""branch"": ""refs/heads/stable/21.04"",}",2,2
openstack%2Fcharm-nova-compute~master~Id77d3bd28d745fb48817eff0993b9676902d4a8f,openstack/charm-nova-compute,master,Id77d3bd28d745fb48817eff0993b9676902d4a8f,Add logrotate configurations and options,ABANDONED,2019-04-10 16:51:21.000000000,2022-01-11 09:52:38.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30132}]","[{'number': 1, 'created': '2019-04-10 16:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/ad28a1f95d6d1fa827c5b7a939efed90180ecfd2', 'message': 'Add logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nThis is following the changes done in\nhttps://review.openstack.org/#/c/648168/5\n\nChange-Id: Id77d3bd28d745fb48817eff0993b9676902d4a8f\nPartial-Bug: #1692118\n'}, {'number': 2, 'created': '2019-04-10 16:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/959f419e3dda0a00f13f30acfac1dd1d01662d8f', 'message': 'Add logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nThis is following the changes done in\nhttps://review.openstack.org/#/c/648168/5\n\nChange-Id: Id77d3bd28d745fb48817eff0993b9676902d4a8f\nPartial-Bug: #1692118\n'}, {'number': 3, 'created': '2019-04-10 20:02:11.000000000', 'files': ['hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_nova_compute_utils.py', 'config.yaml', 'templates/etc_logrotate.d_nova-common'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4fc81c44fbcc4c4495095f2e6faf6066d64d9b1a', 'message': 'Add logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nThis is following the changes done in\nhttps://review.openstack.org/#/c/648168/5\n\nChange-Id: Id77d3bd28d745fb48817eff0993b9676902d4a8f\nPartial-Bug: #1692118\n'}]",0,651606,4fc81c44fbcc4c4495095f2e6faf6066d64d9b1a,10,3,3,30132,,,0,"Add logrotate configurations and options

Two new configuration options in config.yaml
 * logrotate-interval
 * logrotate-count

New context generator added to the resource map in the utils.
Using the generic openstack context/templates with a symlink
to the actual template in the templates folder.

Added new logrotate context generator in charmhelpers lib.

This is following the changes done in
https://review.openstack.org/#/c/648168/5

Change-Id: Id77d3bd28d745fb48817eff0993b9676902d4a8f
Partial-Bug: #1692118
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/06/651606/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/nova_compute_utils.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'config.yaml']",4,ad28a1f95d6d1fa827c5b7a939efed90180ecfd2,bug/1692118," logrotate-interval: type: string default: 'weekly' description: | Valid settings: 'daily', 'weekly', 'monthly', 'yearly' The logrotate interval describes how often log files should be created. logrotate-count: type: int default: 4 description: | The logrotate count option configures the count times log files are being rotated before being removed.",,25,2
openstack%2Fcharm-nova-cloud-controller~master~If6077f2977178872de058c339a808bac1a9ddd98,openstack/charm-nova-cloud-controller,master,If6077f2977178872de058c339a808bac1a9ddd98,Added logrotate configurations and options,ABANDONED,2019-03-27 16:03:19.000000000,2022-01-11 09:52:17.000000000,,"[{'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-27 16:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0717e7cb3e43b8bec78831db7b59d7fa26623813', 'message': ""Added logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew function for config-changed hook added to generate the logrotate\ntemplate and poppulate it in /etc/logrotate.d/\n\nThe generic openstack context/templates generators couldn't be used\nbecause every charm/service has different file in /etc/logrotate.d/\nand template matching fails. For this reason a separate register is\nimplemented, using the config_template option, getting the template\nfrom string, which is generated by reading the template file in\ncharmhelpers/contrib/openstack/templates\n\nThis is dependant on https://github.com/juju/charm-helpers/pull/303\n\nChange-Id: If6077f2977178872de058c339a808bac1a9ddd98\nPartial-Bug: #1692118\n""}, {'number': 2, 'created': '2019-03-27 20:10:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/56ab59e3f5b472ab345d91ca72e29bb7389af4a9', 'message': ""Added logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew function for config-changed hook added to generate the logrotate\ntemplate and poppulate it in /etc/logrotate.d/\n\nThe generic openstack context/templates generators couldn't be used\nbecause every charm/service has different file in /etc/logrotate.d/\nand template matching fails. For this reason a separate register is\nimplemented, using the config_template option, getting the template\nfrom string, which is generated by reading the template file in\ncharmhelpers/contrib/openstack/templates\n\nThis is dependant on https://github.com/juju/charm-helpers/pull/303\n\nChange-Id: If6077f2977178872de058c339a808bac1a9ddd98\nPartial-Bug: #1692118\n""}, {'number': 3, 'created': '2019-04-03 08:09:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/a25f32a1293f5fa275b6954ad350298d1fc3f040', 'message': 'Added logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nChange-Id: If6077f2977178872de058c339a808bac1a9ddd98\nPartial-Bug: #1692118\n'}, {'number': 4, 'created': '2019-04-03 09:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cd0115cd8f695dc92312186124c3aedc45678cd7', 'message': 'Added logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nChange-Id: If6077f2977178872de058c339a808bac1a9ddd98\nPartial-Bug: #1692118\n'}, {'number': 5, 'created': '2019-04-03 10:19:58.000000000', 'files': ['config.yaml', 'charmhelpers/contrib/openstack/context.py', 'hooks/nova_cc_utils.py', 'templates/etc_logrotate.d_nova-common', 'charmhelpers/contrib/openstack/templates/logrotate'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/23c93b4d23e99e0f6734f8fe122576f907aa2121', 'message': 'Added logrotate configurations and options\n\nTwo new configuration options in config.yaml\n * logrotate-interval\n * logrotate-count\n\nNew context generator added to the resource map in the utils.\nUsing the generic openstack context/templates with a symlink\nto the actual template in the templates folder.\n\nAdded new logrotate context generator in charmhelpers lib.\n\nChange-Id: If6077f2977178872de058c339a808bac1a9ddd98\nPartial-Bug: #1692118\n'}]",9,648168,23c93b4d23e99e0f6734f8fe122576f907aa2121,21,3,5,29889,,,0,"Added logrotate configurations and options

Two new configuration options in config.yaml
 * logrotate-interval
 * logrotate-count

New context generator added to the resource map in the utils.
Using the generic openstack context/templates with a symlink
to the actual template in the templates folder.

Added new logrotate context generator in charmhelpers lib.

Change-Id: If6077f2977178872de058c339a808bac1a9ddd98
Partial-Bug: #1692118
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/68/648168/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'hooks/nova_cc_utils.py', 'hooks/nova_cc_hooks.py']",3,0717e7cb3e43b8bec78831db7b59d7fa26623813,bug/1692118, # Configure logrotate ncc_utils.configure_logrotate() ,,57,0
openstack%2Fcharm-interface-hacluster~master~I34693bb0e30bce96144a983e55e212e27029ba52,openstack/charm-interface-hacluster,master,I34693bb0e30bce96144a983e55e212e27029ba52,Update relation data even if the new value is empty,MERGED,2021-12-13 13:25:19.000000000,2022-01-11 09:41:36.000000000,2022-01-11 09:41:36.000000000,"[{'_account_id': 935}, {'_account_id': 2424}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/5954e84448e2d6868304d58812f051be6daecf7e', 'message': 'Update relation data even if the new value is empty\n\nThis will enable removal of previously created\nresources. Originaly, the empty values were not\npropagated so the resource ended up in both fields\n""json_delete_resources"" and ""json_resources"".\n\nChange-Id: I34693bb0e30bce96144a983e55e212e27029ba52\n'}, {'number': 2, 'created': '2021-12-13 13:28:23.000000000', 'files': ['unit_tests/test_requires.py', 'interface_hacluster/common.py'], 'web_link': 'https://opendev.org/openstack/charm-interface-hacluster/commit/56710fdaf4ece82fd4febef8ed49b6e7c084d909', 'message': 'Update relation data even if the new value is empty\n\nThis will enable removal of previously created\nresources. Originaly, the empty values were not\npropagated so the resource ended up in both fields\n""json_delete_resources"" and ""json_resources"".\n\nCloses-Bug: #1953623\nChange-Id: I34693bb0e30bce96144a983e55e212e27029ba52\n'}]",6,821558,56710fdaf4ece82fd4febef8ed49b6e7c084d909,12,3,2,32288,,,0,"Update relation data even if the new value is empty

This will enable removal of previously created
resources. Originaly, the empty values were not
propagated so the resource ended up in both fields
""json_delete_resources"" and ""json_resources"".

Closes-Bug: #1953623
Change-Id: I34693bb0e30bce96144a983e55e212e27029ba52
",git fetch https://review.opendev.org/openstack/charm-interface-hacluster refs/changes/58/821558/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_requires.py', 'interface_hacluster/common.py']",2,5954e84448e2d6868304d58812f051be6daecf7e,bug/1953623," for k, v in crm.items()"," for k, v in crm.items() if v",10,4
openstack%2Fdiskimage-builder~master~I327f5e7a95e47905c01138c8c4483f3f03e8efff,openstack/diskimage-builder,master,I327f5e7a95e47905c01138c8c4483f3f03e8efff,centos: work around 9-stream BLS issues,MERGED,2021-12-14 19:07:29.000000000,2022-01-11 09:41:08.000000000,2022-01-11 09:38:35.000000000,"[{'_account_id': 4571}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 11655}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-14 19:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/3b600e07c4442779089b0f07c5f2e463a55f1448', 'message': '[dnm] boot test with centos 9-stream\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 2, 'created': '2021-12-14 20:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e3be31059ba87a25c4dd4eab18d4c65c17482161', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 3, 'created': '2021-12-14 20:44:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/58d4ed72d6ec327a67c6dc298e25c05bda9b031f', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 4, 'created': '2021-12-14 21:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c66bf5ace8107c8a41e7b4bae6d22e44fa400562', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 5, 'created': '2021-12-14 21:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/c26467443b45d3a8399fecf39e9b5193e3594726', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 6, 'created': '2021-12-15 02:50:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/fc4934fb6bff8fa4157223e659ff3c970ab15d99', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 7, 'created': '2021-12-15 03:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d211826ac9c146df21fc4e9df94c70cbfeddcd3f', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 8, 'created': '2021-12-15 03:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ab4a154e5f6d468868faf3fb8aed356c1a0f0fe6', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 9, 'created': '2021-12-15 03:51:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/154b00a83c94e20b8c70171281ab2bfe8c3d24e0', 'message': '[dnm] add vm element to 9-stream image test to test bootloader\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n'}, {'number': 10, 'created': '2021-12-15 23:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/8521da4dcfaf1b7df0dc9db841779ad165e09f51', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 11, 'created': '2021-12-16 02:04:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/4b2e8936ff42f21f489323cca646288d74f296ae', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 12, 'created': '2021-12-16 20:56:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/5517331d8fee2e05447d817ba4ae62e5a7a37aec', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 13, 'created': '2021-12-21 10:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/46fb9720411aea9b9e6ac14915ceb0104e77a74d', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 14, 'created': '2021-12-21 20:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cae659bb5ab251a329f03c491ff4be9a01ebf60e', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 15, 'created': '2021-12-22 02:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/cfc12841c53193809f748371caf7844b97b46674', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}, {'number': 16, 'created': '2021-12-22 10:07:44.000000000', 'files': ['diskimage_builder/elements/centos/pre-install.d/03-reset-bls-entries', 'diskimage_builder/elements/centos/test-elements/9-stream-build-succeeds/element-deps'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/53d04d27c605639c509942d32f5d1604d6372b13', 'message': ""centos: work around 9-stream BLS issues\n\nPer the bug mentioned upstream, grub2-mkconfig will currently not set\nthe kernel options for BLS entries prefixed with a machine-id\ndifferent to the running system.\n\nThis affects the centos element, as the upstream .qcow2 comes with a\npre-existing BLS entry but a blank machine-id.  This only affects\n9-stream -- prior releases either don't use BLS or have entries\nconfigured to use a common variable from grubenv which is updated\ncorrectly.\n\nWe currently can not end-to-end test this in OpenDev because we run\nour functional tests on Ubuntu Focal (they use devstack), whose kernel\ncan not read the XFS format on the 9-stream .qcow2.  This expands the\nfunctional tests (that run on Debian Buster, with a later kernel) to\nadd the vm element, so the bootloader path is exercised (this requires\na block-device too).  This at least runs the bootloader install, we\ncan confirm the kernel options look right from the dumping provided\nthe logs.\n\nChange-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff\n""}]",24,821772,53d04d27c605639c509942d32f5d1604d6372b13,99,8,16,7118,,,0,"centos: work around 9-stream BLS issues

Per the bug mentioned upstream, grub2-mkconfig will currently not set
the kernel options for BLS entries prefixed with a machine-id
different to the running system.

This affects the centos element, as the upstream .qcow2 comes with a
pre-existing BLS entry but a blank machine-id.  This only affects
9-stream -- prior releases either don't use BLS or have entries
configured to use a common variable from grubenv which is updated
correctly.

We currently can not end-to-end test this in OpenDev because we run
our functional tests on Ubuntu Focal (they use devstack), whose kernel
can not read the XFS format on the 9-stream .qcow2.  This expands the
functional tests (that run on Debian Buster, with a later kernel) to
add the vm element, so the bootloader path is exercised (this requires
a block-device too).  This at least runs the bootloader install, we
can confirm the kernel options look right from the dumping provided
the logs.

Change-Id: I327f5e7a95e47905c01138c8c4483f3f03e8efff
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/72/821772/16 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/project.yaml', '.zuul.d/jobs.yaml']",2,3b600e07c4442779089b0f07c5f2e463a55f1448,centos-bootloader, base_element: centos, base_element: centos-minimal,1,36
openstack%2Fneutron~master~I2e3b0c1635627edb2c86c6120b0410ab3c4678b2,openstack/neutron,master,I2e3b0c1635627edb2c86c6120b0410ab3c4678b2,Check whether vxlan group and local addresses are IPv4 or IPv6,MERGED,2021-12-03 11:55:29.000000000,2022-01-11 09:39:11.000000000,2022-01-11 09:36:16.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 11:55:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04c34281e03137872c7b1aef508d9a9c7b964d6d', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 2, 'created': '2021-12-03 14:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e150c887a6e0921d59c22dbed4d9b46977f99103', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 3, 'created': '2021-12-04 12:12:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74f9fda2546f433a145c503ad6adc71dea93c361', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 4, 'created': '2021-12-05 10:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bf13bafc9bac081d8373595de38af7f1724b85e6', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 5, 'created': '2021-12-05 12:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a25f187d7a5e3d777a60f7bff651f1b341c59828', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 6, 'created': '2021-12-06 09:32:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2d2dc65d059ae40222580b46531aeabafd07cf8', 'message': 'Check whether vxlan group and local addresses are IPv4 or IPv6 and\n\nIf addresses are IPv6 change vxlan_group and vxlan_local arguments to\nvxlan_group6 and vxlan_local6\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n'}, {'number': 7, 'created': '2021-12-06 10:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/694f5f2d525d3f4c30d27c30ce67e510db22d898', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 8, 'created': '2021-12-06 13:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8cd1ee5916776dd63ed66c05edce79dc9a2acfaa', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 9, 'created': '2021-12-06 15:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/40578557fcfd179626a39c43857690c78e21d9e3', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 10, 'created': '2021-12-06 21:27:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/17f46ee7d260c8332457895635d5e1f1234f3f27', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 11, 'created': '2021-12-06 22:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e19a417212708ecc9dc5765042728ba99dac20b7', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 12, 'created': '2021-12-06 22:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0b51174acb52e8e5bdbfeedea8d62cb13ebfb76', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 13, 'created': '2021-12-09 15:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2df82a59819852497328bdd22e7e581cd2ab98e6', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 14, 'created': '2021-12-10 07:48:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/22ad91149303a69cff19dd80bb1c998c9f6b777d', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 15, 'created': '2021-12-10 10:14:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ff72cc49c236d4cd057e916fcd63bc7534dd0fb', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 16, 'created': '2021-12-10 13:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c83022769f516585b67ca56d927aed617895fa2f', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 17, 'created': '2021-12-28 16:01:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c7d4e94440e9abd83e578527ee6c4613f59f4b5', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 18, 'created': '2021-12-29 09:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/66f56cfacd71367711807dce491e1fbd148c0c21', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}, {'number': 19, 'created': '2022-01-10 13:11:47.000000000', 'files': ['neutron/tests/functional/agent/linux/test_ip_lib.py', 'neutron/agent/linux/ip_lib.py', 'neutron/tests/unit/agent/linux/test_ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a47e9494c1d8895425ad3a05a2c2290c74f0b647', 'message': ""Check whether vxlan group and local addresses are IPv4 or IPv6\n\nCheck if group and/or local addresses passed to ip_lib / add_vxlan()\nare IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'\narguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'\narguments to be passed down to privileged create_interface() method.\nIn case of an invalid address format raise an AddrFormatError exception.\n\nCloses-Bug: #1952897\nChange-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2\n""}]",62,820376,a47e9494c1d8895425ad3a05a2c2290c74f0b647,113,7,19,34329,,,0,"Check whether vxlan group and local addresses are IPv4 or IPv6

Check if group and/or local addresses passed to ip_lib / add_vxlan()
are IPv4 or IPv6. In case of IPv4 fill 'vxlan_group' and 'vxlan_local'
arguments and in case of IPv6 fill 'vxlan_group6' and 'vxlan_local6'
arguments to be passed down to privileged create_interface() method.
In case of an invalid address format raise an AddrFormatError exception.

Closes-Bug: #1952897
Change-Id: I2e3b0c1635627edb2c86c6120b0410ab3c4678b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/820376/17 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,04c34281e03137872c7b1aef508d9a9c7b964d6d,bug/1952897, if netaddr.IPAddress(group).version == 6: kwargs['vxlan_group6'] = group else: kwargs['vxlan_group'] = group if netaddr.IPAddress(local).version == 6: kwargs['vxlan_local6'] = local else: kwargs['vxlan_local'] = local, kwargs['vxlan_group'] = group kwargs['vxlan_local'] = local,8,2
openstack%2Fcharm-guide~master~I8fc3c5db9fd7d053a461b554c07fabf97cf8021e,openstack/charm-guide,master,I8fc3c5db9fd7d053a461b554c07fabf97cf8021e,Remove HTML links for internal pages,MERGED,2021-11-16 21:35:45.000000000,2022-01-11 09:38:01.000000000,2022-01-11 09:35:23.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-16 21:35:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/53d45c0c93019ab4af3ba7368b2f66ca09d07b01', 'message': 'Remove HTML links for internal pages\n\nRemove HTML links for pages internal to this\ndocumentation set. Such a linking method can\nhamper efforts that operate within Sphinx/RST,\nsuch as converting to PDF format.\n\nChange-Id: I8fc3c5db9fd7d053a461b554c07fabf97cf8021e\n'}, {'number': 2, 'created': '2021-12-08 02:53:26.000000000', 'files': ['doc/source/reference/release-timeline-2008.rst', 'doc/source/release-notes/1907.rst', 'doc/source/reference/release-schedule.rst', 'doc/source/reference/release-timeline-2104.rst', 'doc/source/release-notes/2204.rst', 'doc/source/reference/release-timeline-2101.rst', 'doc/source/release-notes/2101.rst', 'doc/source/release-notes/1808.rst', 'doc/source/release-notes/release-notes-template.rst', 'doc/source/reference/release-timeline-2110.rst', 'doc/source/release-notes/2010.rst', 'doc/source/release-notes/2104.rst', 'doc/source/release-notes/2008.rst', 'doc/source/release-notes/1904.rst', 'doc/source/reference/release-timeline-2010.rst', 'doc/source/release-notes/1811.rst', 'doc/source/release-notes/index.rst', 'doc/source/release-notes/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/caaefdd136ec3a6def1ab8f076a87623a5286746', 'message': 'Remove HTML links for internal pages\n\nRemove HTML links for pages internal to this\ndocumentation set. Such a linking method can\nhamper efforts that operate within Sphinx/RST,\nsuch as converting to PDF format.\n\nChange-Id: I8fc3c5db9fd7d053a461b554c07fabf97cf8021e\n'}]",1,818146,caaefdd136ec3a6def1ab8f076a87623a5286746,11,2,2,30561,,,0,"Remove HTML links for internal pages

Remove HTML links for pages internal to this
documentation set. Such a linking method can
hamper efforts that operate within Sphinx/RST,
such as converting to PDF format.

Change-Id: I8fc3c5db9fd7d053a461b554c07fabf97cf8021e
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/46/818146/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/reference/release-timeline-2008.rst', 'doc/source/release-notes/1907.rst', 'doc/source/reference/release-schedule.rst', 'doc/source/reference/release-timeline-2104.rst', 'doc/source/release-notes/2204.rst', 'doc/source/reference/release-timeline-2101.rst', 'doc/source/release-notes/2101.rst', 'doc/source/release-notes/1808.rst', 'doc/source/release-notes/release-notes-template.rst', 'doc/source/reference/release-timeline-2110.rst', 'doc/source/release-notes/2010.rst', 'doc/source/release-notes/2104.rst', 'doc/source/release-notes/2008.rst', 'doc/source/release-notes/1904.rst', 'doc/source/reference/release-timeline-2010.rst', 'doc/source/release-notes/1811.rst', 'doc/source/release-notes/index.rst', 'doc/source/release-notes/2110.rst']",18,53d45c0c93019ab4af3ba7368b2f66ca09d07b01,remove-html-links-for-internal-pages,"the :doc:`../reference/openstack-charms` page. As of this release, the project consists of 62 stable charms.For scheduling information of past and future releases see the :doc:`../reference/release-schedule`.","the `Supported charms`_ page. As of this release, the project consists of 62 stable charms.For scheduling information of past and future releases see the `Release schedule`_... _Supported charms: ../reference/openstack-charms.html.. _Release schedule: ../reference/release-schedule.html",66,122
openstack%2Fkayobe~stable%2Fxena~Ifaf28e85189bf438e373f165a9b3c2af1b47e834,openstack/kayobe,stable/xena,Ifaf28e85189bf438e373f165a9b3c2af1b47e834,Fix Sphinx syntax typo,MERGED,2022-01-10 10:13:37.000000000,2022-01-11 09:36:33.000000000,2022-01-11 09:34:38.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 10:13:37.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e0627ac4125cc1ac25df5bb913946b0a761dd8be', 'message': 'Fix Sphinx syntax typo\n\nA double colon (where only a single colon is wanted) was fouling up\nparsing.\n\nChange-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834\n(cherry picked from commit 561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7)\n'}]",0,823841,e0627ac4125cc1ac25df5bb913946b0a761dd8be,8,4,1,15197,,,0,"Fix Sphinx syntax typo

A double colon (where only a single colon is wanted) was fouling up
parsing.

Change-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834
(cherry picked from commit 561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/41/823841/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,e0627ac4125cc1ac25df5bb913946b0a761dd8be,ntp-doc-fix-stable/xena,``ntp`` group. The default hosts in this group are: .. code-block:: ini,``ntp`` group. The default hosts in this group are:: .. code-block:: console,2,2
openstack%2Frpm-packaging~master~Ica98d29af74757b229d8ebc7f2120a1f8d5c1c20,openstack/rpm-packaging,master,Ica98d29af74757b229d8ebc7f2120a1f8d5c1c20,aodhclient: update to 2.4.0,MERGED,2022-01-11 00:11:57.000000000,2022-01-11 09:35:33.000000000,2022-01-11 09:35:33.000000000,"[{'_account_id': 6593}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-11 00:11:57.000000000', 'files': ['openstack/aodhclient/aodhclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/6bde709312ff8157e4de67cf22adefe401b2c55f', 'message': 'aodhclient: update to 2.4.0\n\nChange-Id: Ica98d29af74757b229d8ebc7f2120a1f8d5c1c20\n'}]",0,824076,6bde709312ff8157e4de67cf22adefe401b2c55f,9,5,1,6593,,,0,"aodhclient: update to 2.4.0

Change-Id: Ica98d29af74757b229d8ebc7f2120a1f8d5c1c20
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/76/824076/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/aodhclient/aodhclient.spec.j2'],1,6bde709312ff8157e4de67cf22adefe401b2c55f,,{% set upstream_version = upstream_version('2.4.0') %},{% set upstream_version = upstream_version('2.2.0') %},1,1
openstack%2Fkayobe~stable%2Fwallaby~Ifaf28e85189bf438e373f165a9b3c2af1b47e834,openstack/kayobe,stable/wallaby,Ifaf28e85189bf438e373f165a9b3c2af1b47e834,Fix Sphinx syntax typo,MERGED,2022-01-10 10:14:01.000000000,2022-01-11 09:35:26.000000000,2022-01-11 09:33:18.000000000,"[{'_account_id': 10910}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 10:14:01.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ed3a0556e0bb87454200316bbfe4c1b8c592b2a1', 'message': 'Fix Sphinx syntax typo\n\nA double colon (where only a single colon is wanted) was fouling up\nparsing.\n\nChange-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834\n(cherry picked from commit 561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7)\n'}]",1,823842,ed3a0556e0bb87454200316bbfe4c1b8c592b2a1,9,4,1,15197,,,0,"Fix Sphinx syntax typo

A double colon (where only a single colon is wanted) was fouling up
parsing.

Change-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834
(cherry picked from commit 561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/42/823842/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,ed3a0556e0bb87454200316bbfe4c1b8c592b2a1,ntp-doc-fix-stable/wallaby,``ntp`` group. The default hosts in this group are: .. code-block:: ini,``ntp`` group. The default hosts in this group are:: .. code-block:: console,2,2
openstack%2Fkuryr-tempest-plugin~master~I58503a6a51e9877ea28e623b89a9775ec25afc75,openstack/kuryr-tempest-plugin,master,I58503a6a51e9877ea28e623b89a9775ec25afc75,Add reno support to Kuryr Tempest Plugin,ABANDONED,2018-02-23 12:11:09.000000000,2022-01-11 09:24:53.000000000,,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-23 12:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e1bd29e12a0b4c95f1893fbf66e59d4518ac67e4', 'message': 'Add reno support to Kuryr Tempest Plugin\n\nThis commit bootstraps and adds release notes support for the kuryr\ntempest plugin repo.\n\nChange-Id: I58503a6a51e9877ea28e623b89a9775ec25afc75\n'}, {'number': 2, 'created': '2018-02-23 12:30:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b2ae9fc72d615577abf400be2cb0b2807f18cbe6', 'message': 'Add reno support to Kuryr Tempest Plugin\n\nThis commit bootstraps and adds release notes support for the kuryr\ntempest plugin repo.\n\nChange-Id: I58503a6a51e9877ea28e623b89a9775ec25afc75\n'}, {'number': 3, 'created': '2018-02-23 12:34:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8e7e07f55791012657c5863cf3768ad37d293b44', 'message': 'Add reno support to Kuryr Tempest Plugin\n\nThis commit bootstraps and adds release notes support for the kuryr\ntempest plugin repo.\n\nDepends-On: https://review.openstack.org/547390\nChange-Id: I58503a6a51e9877ea28e623b89a9775ec25afc75\n'}, {'number': 4, 'created': '2018-02-23 12:59:25.000000000', 'files': ['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'kuryr_tempest_plugin/tests/scenario/test_port_pool.py', 'test-requirements.txt', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/reno_support-d9a25b91b6f5e74c.yaml', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/108ea8c377d17a89dce752e59ef3814f668fa174', 'message': 'Add reno support to Kuryr Tempest Plugin\n\nThis commit bootstraps and adds release notes support for the kuryr\ntempest plugin repo.\n\nDepends-On: https://review.openstack.org/547390\nChange-Id: I58503a6a51e9877ea28e623b89a9775ec25afc75\n'}]",1,547404,108ea8c377d17a89dce752e59ef3814f668fa174,12,3,4,14885,,,0,"Add reno support to Kuryr Tempest Plugin

This commit bootstraps and adds release notes support for the kuryr
tempest plugin repo.

Depends-On: https://review.openstack.org/547390
Change-Id: I58503a6a51e9877ea28e623b89a9775ec25afc75
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/04/547404/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/.placeholder', 'releasenotes/source/unreleased.rst', 'test-requirements.txt', 'releasenotes/source/_static/.placeholder', 'releasenotes/notes/reno_support-d9a25b91b6f5e74c.yaml', 'releasenotes/source/_templates/.placeholder', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",9,e1bd29e12a0b4c95f1893fbf66e59d4518ac67e4,add_release_notes,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'Kuryr Tempest Plugin Release Notes' copyright = u'2017, OpenStack Developers' # openstackdocstheme options repository_name = 'openstack/kuryr-tempest-plugin' bug_project = 'launchpad.net/kuryr-kubernetes' bug_tag = '' # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'kuryr_tempest_pluginReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'kuryr_tempest_pluginReleaseNotes.tex', u'kuryr_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'kuryr_tempest_pluginrereleasenotes', u'kuryr_tempest_plugin Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'kuryr_tempest_plugin ReleaseNotes', u'kuryr_tempest_plugin Release Notes Documentation', u'OpenStack Foundation', 'kuryr_tempest_pluginReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",,302,0
openstack%2Fkuryr-kubernetes~master~I76af0242582235332a778f424269f47be128786a,openstack/kuryr-kubernetes,master,I76af0242582235332a778f424269f47be128786a,Add crictl tool when deploying with cri-o,ABANDONED,2019-03-14 11:08:46.000000000,2022-01-11 09:24:24.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-03-14 11:08:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/197fd9e5c2e4bee2dab54ce1c3be7435bb7b7bbc', 'message': 'Add crictl tool when deploying with cri-o\n\nThis commit adds crictl ad debuggint tool when cri-o is used as\ncontainer runtime.\n\nChange-Id: I76af0242582235332a778f424269f47be128786a\n'}, {'number': 2, 'created': '2019-03-14 12:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2aea932d082d62dc27bcb5f6a73efafffe287559', 'message': 'Add crictl tool when deploying with cri-o\n\nThis commit adds crictl ad debuggint tool when cri-o is used as\ncontainer runtime.\n\nChange-Id: I76af0242582235332a778f424269f47be128786a\n'}, {'number': 3, 'created': '2019-03-15 08:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/2a8ea04e614c51ad5fca8a200570941348dec32b', 'message': 'Add crictl tool when deploying with cri-o\n\nThis commit adds crictl as debugging tool when cri-o is used as\ncontainer runtime.\n\nChange-Id: I76af0242582235332a778f424269f47be128786a\n'}, {'number': 4, 'created': '2019-03-15 08:12:17.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/235421ab9ef88ba37e9c1aa55f2b0de36dc308a2', 'message': 'Add crictl tool when deploying with cri-o\n\nThis commit adds crictl as debugging tool when cri-o is used as\ncontainer runtime.\n\nChange-Id: I76af0242582235332a778f424269f47be128786a\n'}]",1,643294,235421ab9ef88ba37e9c1aa55f2b0de36dc308a2,13,5,4,14885,,,0,"Add crictl tool when deploying with cri-o

This commit adds crictl as debugging tool when cri-o is used as
container runtime.

Change-Id: I76af0242582235332a778f424269f47be128786a
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/94/643294/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,197fd9e5c2e4bee2dab54ce1c3be7435bb7b7bbc,add_crictl," # Add crictl for debugging local crictl_tarball crictl_tarball=crictl-${KURYR_HYPERKUBE_VERSION}-linux-amd64.tar.gz wget ""https://github.com/kubernetes-sigs/cri-tools/releases/download/${KURYR_HYPERKUBE_VERSION}/${crictl_tarball}"" sudo tar zxvf ${crictl_tarball} -C /usr/local/bin rm -f ""crictl-${KURYR_HYPERKUBE_VERSION}-linux-amd64.tar.gz""",,7,0
openstack%2Fkuryr-tempest-plugin~master~I2e5fc910f3151117aa5d429866f679b8ac6fc637,openstack/kuryr-tempest-plugin,master,I2e5fc910f3151117aa5d429866f679b8ac6fc637,Add network policy security group rules tests,ABANDONED,2018-09-19 09:24:25.000000000,2022-01-11 09:24:09.000000000,,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 21302}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 26287}, {'_account_id': 27086}]","[{'number': 1, 'created': '2018-09-19 09:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/e83d0a2f214d8a8022309dd11152b9366ed10943', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 2, 'created': '2018-09-19 11:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2b695444f518a2bb993ea787b9894458dcef03ca', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 3, 'created': '2018-09-19 14:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/445191501497035f782dda639190467c388a4487', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 4, 'created': '2018-11-05 16:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ca41d3f8502690a466b1d3532d42305a1c2199cf', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 5, 'created': '2018-11-05 17:11:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fbfc35ab52b81e1440ecb3aaed3dfeadd5573f7c', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 6, 'created': '2018-11-20 14:13:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ef339cd35ef0583e41fd98df5cb44a0f522bc823', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 7, 'created': '2018-11-28 14:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/5aac2ee8efe9e2fd93e16fe6e35cf9c24d4b5838', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 8, 'created': '2018-11-28 15:12:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/38769ebe9c03edd0f40d389ab74f301e03141dac', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 9, 'created': '2018-12-11 08:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/36ee257a8641ad6249576ffc2c14998111317724', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 10, 'created': '2018-12-11 15:33:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/900dbbacf52618a141e17c4eabf63db90d4ff07e', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/592349\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 11, 'created': '2018-12-12 08:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/1647b71bd0d18335547e3aca4a3e78bedba15024', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/624604/\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 12, 'created': '2018-12-12 08:15:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/fc6e0cac5fe295de9b1f13f816c8cc8619bcead7', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/624604/\nDepends-On: https://review.openstack.org/#/c/624453/\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 13, 'created': '2019-03-26 10:34:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/19c30ba830e7bc9693c2b1b04f10de073fcdc371', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/647421/\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}, {'number': 14, 'created': '2019-03-26 10:58:15.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/b62da80bb8fd989b9eefb6b98c0a33499c1f8c7b', 'message': 'Add network policy security group rules tests\n\nThis commit extends kuryr scenario tests network policy creation\nfunctionality by allowing to select egress and ingress ports and adds a\nnew test for it.\n\nDepends-On: https://review.openstack.org/#/c/647421/\nPartially-Implements: bp/k8s-network-policies\nChange-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637\nSigned-off-by: Daniel Mellado <dmellado@redhat.com>\n'}]",31,603618,b62da80bb8fd989b9eefb6b98c0a33499c1f8c7b,52,9,14,14885,,,0,"Add network policy security group rules tests

This commit extends kuryr scenario tests network policy creation
functionality by allowing to select egress and ingress ports and adds a
new test for it.

Depends-On: https://review.openstack.org/#/c/647421/
Partially-Implements: bp/k8s-network-policies
Change-Id: I2e5fc910f3151117aa5d429866f679b8ac6fc637
Signed-off-by: Daniel Mellado <dmellado@redhat.com>
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/18/603618/13 && git format-patch -1 --stdout FETCH_HEAD,"['kuryr_tempest_plugin/tests/scenario/test_network_policy.py', 'kuryr_tempest_plugin/tests/scenario/base.py']",2,e83d0a2f214d8a8022309dd11152b9366ed10943,add_ipblock_support," def create_network_policy(cls, name=None, namespace='default', egress_port=None, ingress_port=None, egress_port_protocol='tcp', ingress_port_protocol='tcp'): egress=[cls.k8s_client.V1NetworkPolicyEgressRule( ports=[cls.k8s_client.V1NetworkPolicyPort( port=egress_port, protocol=egress_port_protocol)], to=None)], ingress=[cls.k8s_client.V1NetworkPolicyIngressRule( _from=None, ports=[cls.k8s_client.V1NetworkPolicyPort( port=ingress_port, protocol=ingress_port_protocol)])],"," def create_network_policy(cls, name=None, namespace='default'): egress=[cls.k8s_client.V1NetworkPolicyEgressRule(ports=None, to=None)], ingress=[cls.k8s_client.V1NetworkPolicyIngressRule(_from=None, ports=None)],",42,7
openstack%2Fcharm-glance~master~I0ffadf2234a04c3f4078273cb5f0d043a5b058ec,openstack/charm-glance,master,I0ffadf2234a04c3f4078273cb5f0d043a5b058ec,Added lxd-profile.yaml,ABANDONED,2020-06-22 19:42:16.000000000,2022-01-11 09:23:59.000000000,,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-06-22 19:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/08fa87d02e370d4023be5052c7333ff7579638e7', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: LP1884527\n'}, {'number': 2, 'created': '2020-06-22 19:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b33779fa398d4fa2c6d08f1c844539428b8976f9', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: LP1884527\n'}, {'number': 3, 'created': '2020-06-22 19:45:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/156483786153c3e8c057090699d824c0ee41fbea', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: LP:1884527\n'}, {'number': 4, 'created': '2020-06-22 19:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/005955ca21f8cff30a259219e46f669006d14d14', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: #1884527\n'}, {'number': 5, 'created': '2020-06-22 19:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/ac7579d50e3dbdcdd4d2e414bae89512389a9d59', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: #1884572\n'}, {'number': 6, 'created': '2020-06-29 13:24:51.000000000', 'files': ['lxd-profile.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/3da2508e759dedc88395df117b6e7f1cafecb561', 'message': 'Added lxd-profile.yaml\n\n\tSet security.privileged to true\n\tAllow NFS mounts via apparmor\n\nThere are cases where Ceph is not used in a cluster, and the\nglance charm currently only supports either a related ceph\ncluster, or local file store.\n\nIn a clustered glance environment, when glance is deployed\nin a hyper-converged/converged manner (via LXD containers),\nit is required to have an external NFS available so that\nall nodes of the glance cluster will have the same data.\n\nChange-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec\nCloses-Bug: #1884572\n'}]",6,737366,3da2508e759dedc88395df117b6e7f1cafecb561,15,5,6,27676,,,0,"Added lxd-profile.yaml

	Set security.privileged to true
	Allow NFS mounts via apparmor

There are cases where Ceph is not used in a cluster, and the
glance charm currently only supports either a related ceph
cluster, or local file store.

In a clustered glance environment, when glance is deployed
in a hyper-converged/converged manner (via LXD containers),
it is required to have an external NFS available so that
all nodes of the glance cluster will have the same data.

Change-Id: I0ffadf2234a04c3f4078273cb5f0d043a5b058ec
Closes-Bug: #1884572
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/66/737366/1 && git format-patch -1 --stdout FETCH_HEAD,['lxd-profile.yaml'],1,08fa87d02e370d4023be5052c7333ff7579638e7,bug/1884572,"config: security.privileged: true raw.apparmor: mount fstype=nfs, ",,3,0
openstack%2Fcharm-mysql-innodb-cluster~master~I741c77dd9954608c397fdfe18d55c9f3d70f4dfe,openstack/charm-mysql-innodb-cluster,master,I741c77dd9954608c397fdfe18d55c9f3d70f4dfe,Enforce mandatory address action parametre,MERGED,2021-12-16 13:24:09.000000000,2022-01-11 09:22:28.000000000,2022-01-11 09:22:28.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 13:24:09.000000000', 'files': ['src/actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/7dd34067e0b453558c8100eed58c14a3d9f3e073', 'message': 'Enforce mandatory address action parametre\n\nChange-Id: I741c77dd9954608c397fdfe18d55c9f3d70f4dfe\nCloses-Bug: #1952615\n'}]",0,821976,7dd34067e0b453558c8100eed58c14a3d9f3e073,7,3,1,12549,,,0,"Enforce mandatory address action parametre

Change-Id: I741c77dd9954608c397fdfe18d55c9f3d70f4dfe
Closes-Bug: #1952615
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/76/821976/1 && git format-patch -1 --stdout FETCH_HEAD,['src/actions.yaml'],1,7dd34067e0b453558c8100eed58c14a3d9f3e073,bug/1952615, required: - address required: - address required: - address,,6,0
openstack%2Fkolla-ansible~master~I4d694d6224c813285d228d6bc7eece5731db1078,openstack/kolla-ansible,master,I4d694d6224c813285d228d6bc7eece5731db1078,Support enable/disable rabbitmq prometheus plugins,MERGED,2021-12-13 03:38:43.000000000,2022-01-11 09:11:14.000000000,2022-01-10 19:00:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-12-13 03:38:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4eaed0da5ed1ccabbd7b8b513c5c135819bbd253', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 2, 'created': '2021-12-13 04:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4760eba2a48d4e0ae1c0d1caa488d84b13ce5172', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 3, 'created': '2021-12-13 07:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d05a3a5cf2be2fc81ece880aacd17c9203c7e846', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 4, 'created': '2021-12-21 07:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb8385758ffffc27cf7d1256da8ddfae3cd651c9', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 5, 'created': '2021-12-21 07:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/444e7ccfa16be8fe4fa50344c4cee9c0caf2ec0a', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 6, 'created': '2021-12-21 07:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a849e443a5a9364a7160987c584dcdff6d866a22', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 7, 'created': '2021-12-21 16:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2e62dc1f9ba5c987e6dba108c450fdc3a88e0f5', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 8, 'created': '2021-12-22 02:13:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16427df1cb7bcae961b4496ea6bc3eb55936365f', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 9, 'created': '2021-12-29 08:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d093d2d87ec119f4038e0ea65e517047d15c29d8', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\nCloses-Bug: #1810763\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 10, 'created': '2021-12-29 11:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bdc73b8cf47b3e6170dbb471a33e14da6ec79ae0', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 11, 'created': '2021-12-30 11:00:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3bbafde3dc6d3df11c27f8c10486631c67c539fe', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 12, 'created': '2021-12-30 14:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/afca1e1741358e389f8460b9b69b713ce8c4589a', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 13, 'created': '2021-12-31 01:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cab37b58ff3559862f32119de3b1c6ebb1d7c936', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 14, 'created': '2022-01-08 07:44:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b38d89e2b0243768398e3478ae1162e7dfebc242', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}, {'number': 15, 'created': '2022-01-09 09:50:03.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.json.j2', 'ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/group_vars/all.yml', 'ansible/site.yml', 'releasenotes/notes/bug-1885106-2347d7458a8f9cb0.yaml', 'ansible/roles/rabbitmq/templates/enabled_plugins.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1f3dcce5ac84414174f066dc20735e02ffebf041', 'message': 'Support enable/disable rabbitmq prometheus plugins\n\nrabbitmq starting from 3.8.0, built-in Prometheus support,\nprometheus plugins are enabled by default, when the environment is\n""enable_prometheus is no"", rabbitmq role will disable prometheus plugins\n\nCloses-Bug: #1885106\n\nChange-Id: I4d694d6224c813285d228d6bc7eece5731db1078\n'}]",64,821507,1f3dcce5ac84414174f066dc20735e02ffebf041,80,5,15,31506,,,0,"Support enable/disable rabbitmq prometheus plugins

rabbitmq starting from 3.8.0, built-in Prometheus support,
prometheus plugins are enabled by default, when the environment is
""enable_prometheus is no"", rabbitmq role will disable prometheus plugins

Closes-Bug: #1885106

Change-Id: I4d694d6224c813285d228d6bc7eece5731db1078
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/07/821507/14 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/tasks/config.yml', 'ansible/roles/rabbitmq/templates/rabbitmq_prometheus.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/rabbitmq/tasks/set_rabbitmq_prometheus_plugins.yml', 'ansible/site.yml']",5,4eaed0da5ed1ccabbd7b8b513c5c135819bbd253,bug/1885106," role_rabbitmq_prometheus_port: '{{ rabbitmq_prometheus_port }}', role_rabbitmq_prometheus_port: '{{ outward_rabbitmq_prometheus_port }}',",,21,4
openstack%2Fnova~master~I1796690ca1851e5379d3ec5ddb8df0cb95cc0ac5,openstack/nova,master,I1796690ca1851e5379d3ec5ddb8df0cb95cc0ac5,it takes too long to update novadb.instance_info_caches and operations such as `openstack server add floating ip` won't be visible with `openstack server list` before heal_instance_info_cache_interval x nb instances Change : iterate over all instances rather than one by one.,NEW,2022-01-05 10:36:50.000000000,2022-01-11 09:01:50.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 10:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9419a6f558a5d80149d8f895de668b10e5f4b54f', 'message': ""it takes too long to update novadb.instance_info_caches and operations\nsuch as `openstack server add floating ip` won't be visible with\n`openstack server list` before heal_instance_info_cache_interval x nb instances\nChange : iterate over all instances rather than one by one.\n\nChange-Id: I1796690ca1851e5379d3ec5ddb8df0cb95cc0ac5\n""}, {'number': 2, 'created': '2022-01-05 15:44:40.000000000', 'files': ['nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ad8eb6ada4caa249a3331a677cba2c3fc8f069e4', 'message': ""it takes too long to update novadb.instance_info_caches and operations\nsuch as `openstack server add floating ip` won't be visible with\n`openstack server list` before heal_instance_info_cache_interval x nb instances\nChange : iterate over all instances rather than one by one.\n\nChange-Id: I1796690ca1851e5379d3ec5ddb8df0cb95cc0ac5\n""}]",7,823494,ad8eb6ada4caa249a3331a677cba2c3fc8f069e4,24,2,2,29422,,,0,"it takes too long to update novadb.instance_info_caches and operations
such as `openstack server add floating ip` won't be visible with
`openstack server list` before heal_instance_info_cache_interval x nb instances
Change : iterate over all instances rather than one by one.

Change-Id: I1796690ca1851e5379d3ec5ddb8df0cb95cc0ac5
",git fetch https://review.opendev.org/openstack/nova refs/changes/94/823494/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/manager.py'],1,9419a6f558a5d80149d8f895de668b10e5f4b54f,instance_info_caches," if instance: # We have an instance now to refresh try: # Fix potential mismatch in port binding if evacuation failed # after reassigning the port binding to the dest host but # before the instance host is changed. # Do this only when instance has no pending task. if instance.task_state is None and \ self._require_nw_info_update(context, instance): LOG.info(""Updating ports in neutron"", instance=instance) self.network_api.setup_instance_network_on_host( context, instance, self.host) # Call to network API to get instance info.. this will # force an update to the instance's info_cache self.network_api.get_instance_nw_info( context, instance, force_refresh=True) LOG.debug('Updated the network info_cache for instance', instance=instance) except exception.InstanceNotFound: # Instance is gone. LOG.debug('Instance no longer exists. Unable to refresh', instance=instance) return except exception.InstanceInfoCacheNotFound: # InstanceInfoCache is gone. LOG.debug('InstanceInfoCache no longer exists. ' 'Unable to refresh', instance=instance) except Exception: LOG.error('An error occurred while refreshing the network ' 'cache.', instance=instance, exc_info=True) else: LOG.debug(""Didn't find any instances for network info cache "" ""update."")"," break if instance: # We have an instance now to refresh try: # Fix potential mismatch in port binding if evacuation failed # after reassigning the port binding to the dest host but # before the instance host is changed. # Do this only when instance has no pending task. if instance.task_state is None and \ self._require_nw_info_update(context, instance): LOG.info(""Updating ports in neutron"", instance=instance) self.network_api.setup_instance_network_on_host( context, instance, self.host) # Call to network API to get instance info.. this will # force an update to the instance's info_cache self.network_api.get_instance_nw_info( context, instance, force_refresh=True) LOG.debug('Updated the network info_cache for instance', instance=instance) except exception.InstanceNotFound: # Instance is gone. LOG.debug('Instance no longer exists. Unable to refresh', instance=instance) return except exception.InstanceInfoCacheNotFound: # InstanceInfoCache is gone. LOG.debug('InstanceInfoCache no longer exists. ' 'Unable to refresh', instance=instance) except Exception: LOG.error('An error occurred while refreshing the network ' 'cache.', instance=instance, exc_info=True) else: LOG.debug(""Didn't find any instances for network info cache "" ""update."")",33,34
openstack%2Fproject-config~master~Ic311af5d667c01c1845251270fd2fdda7d99ebcb,openstack/project-config,master,Ic311af5d667c01c1845251270fd2fdda7d99ebcb,Remove opensuse-tumbleweed from nodepool,MERGED,2022-01-10 22:03:05.000000000,2022-01-11 08:23:38.000000000,2022-01-11 07:02:27.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-01-10 22:03:05.000000000', 'files': ['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/07e9803134e59bbd20297e410fde382197a75b22', 'message': 'Remove opensuse-tumbleweed from nodepool\n\nThis removes the label, nodes, and images for opensuse-tumbleweed across\nour cloud providers. We also update grafana to stop graphing stats for\nthe label.\n\nDepends-On: https://review.opendev.org/c/opendev/base-jobs/+/824068\nChange-Id: Ic311af5d667c01c1845251270fd2fdda7d99ebcb\n'}]",0,824071,07e9803134e59bbd20297e410fde382197a75b22,9,4,1,4146,,,0,"Remove opensuse-tumbleweed from nodepool

This removes the label, nodes, and images for opensuse-tumbleweed across
our cloud providers. We also update grafana to stop graphing stats for
the label.

Depends-On: https://review.opendev.org/c/opendev/base-jobs/+/824068
Change-Id: Ic311af5d667c01c1845251270fd2fdda7d99ebcb
",git fetch https://review.opendev.org/openstack/project-config refs/changes/71/824071/1 && git format-patch -1 --stdout FETCH_HEAD,"['nodepool/nl01.opendev.org.yaml', 'nodepool/nl04.opendev.org.yaml', 'nodepool/nodepool.yaml', 'nodepool/nl02.opendev.org.yaml', 'nodepool/nl03.opendev.org.yaml', 'grafana/create-nodepool-dib.sh', 'grafana/nodepool-dib.yaml']",7,07e9803134e59bbd20297e410fde382197a75b22,remove-tumbleweed,,"# AUTOGENERATED : openSUSE Tumbleweed - title: openSUSE Tumbleweed showTitle: true height: 200px panels: - title: Build status colorBackground: true type: singlestat valueName: current valueMaps: - value: 0 text: ""OK"" - value: 1 text: ""FAILED"" thresholds: 0.1,0.9 span: 2 targets: - target: ""stats.gauges.nodepool.dib_image_build.opensuse-tumbleweed.status.rc"" valueFontSize: ""50%"" - title: Last build type: singlestat span: 2 format: dateTimeFromNow targets: - target: ""stats.gauges.nodepool.dib_image_build.opensuse-tumbleweed.status.last_build"" valueFontSize: ""50%"" - title: Image size type: graph span: 3 yaxes: - format: decbytes min: 0 - format: decbytes min: 0 targets: - target: aliasByNode(stats.gauges.nodepool.dib_image_build.opensuse-tumbleweed.*.size, 5) refId: A - title: Build duration type: graph span: 3 yaxes: - format: ms min: 0 - format: ms min: 0 targets: - target: alias(keepLastValue(stats.timers.nodepool.dib_image_build.opensuse-tumbleweed.status.duration.mean, 'None'), ""Time"") refId: A",0,121
openstack%2Fproject-config~master~I5ab3a0627874e302289deb442f80a782509df2c3,openstack/project-config,master,I5ab3a0627874e302289deb442f80a782509df2c3,Set tumbleweed min-ready to 0,MERGED,2022-01-10 22:03:05.000000000,2022-01-11 08:06:07.000000000,2022-01-11 06:54:39.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 22:03:05.000000000', 'files': ['nodepool/nl01.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/05afaaa9eabd32f2af4a4cea74b756204bf4ba54', 'message': 'Set tumbleweed min-ready to 0\n\nThis is in preparation to remove the image and label entirely. Nothing\nseems to use the image so clean it up.\n\nChange-Id: I5ab3a0627874e302289deb442f80a782509df2c3\n'}]",0,824070,05afaaa9eabd32f2af4a4cea74b756204bf4ba54,8,3,1,4146,,,0,"Set tumbleweed min-ready to 0

This is in preparation to remove the image and label entirely. Nothing
seems to use the image so clean it up.

Change-Id: I5ab3a0627874e302289deb442f80a782509df2c3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/70/824070/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl01.opendev.org.yaml'],1,05afaaa9eabd32f2af4a4cea74b756204bf4ba54,remove-tumbleweed, min-ready: 0, min-ready: 1,1,1
openstack%2Fneutron~master~I9f914e721201072e43a8c6c266ed97ca85fcc13d,openstack/neutron,master,I9f914e721201072e43a8c6c266ed97ca85fcc13d,[OVN] Correctly set dns_server in dhcpv4/v6 options,MERGED,2021-12-23 16:00:48.000000000,2022-01-11 08:05:26.000000000,2022-01-11 08:03:37.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 16:00:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/749b8e9f0d9c1562cf64c7d7be6a57314e4905a9', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also,\nthis set's only last 4 octet of ipv6 dns nameserver\nin the vm.\n\nThis patch filters ipv4/ipv6 dns nameservers and\nset dhcpv4/dhcpv6 accordingly.\n\nAlso fix some unit tests which were setting\nipv4 dns nameservers on ipv6 subnet, this is\nnot allowed with api.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 2, 'created': '2021-12-30 10:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e055b4ce6aaeb3e8d3774b0731dc5a344b9a261', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an ipv6 address)\nis set in the instances.\n\nThis patch filters ipv4/ipv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for ipv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with ipv4 subnets.\n\nAdditionally fix some unit tests which were setting ipv4 dns\nnameservers on ipv6 subnet, this is not allowed with api.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 3, 'created': '2022-01-05 08:45:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/77f671dfa3f330b4fd94017f622fdbb1444e2214', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an ipv6 address)\nis set in the instances.\n\nThis patch filters ipv4/ipv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for ipv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with ipv4 subnets. Updated\nget_system_dns_resolvers to pick both ipv4/ipv6 valid\nips.\n\nAdditionally fix some unit tests which were setting ipv4 dns\nnameservers on ipv6 subnet, this is not allowed with api.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 4, 'created': '2022-01-05 08:47:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d1421f3535f9e4c3caafef73b1bf1df315545c6', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an ipv6 address)\nis set in the instances.\n\nThis patch filters ipv4/ipv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for ipv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with ipv4 subnets. Updated\nget_system_dns_resolvers to pick both ipv4/ipv6 valid\nips.\n\nAdditionally fix some unit tests which were setting ipv4 dns\nnameservers on ipv6 subnet, this is not allowed with api.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 5, 'created': '2022-01-05 12:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b5726bb60f6febd6d5a8756dccc18c79f0c61ad8', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an ipv6 address)\nis set in the instances.\n\nThis patch filters ipv4/ipv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for ipv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with ipv4 subnets. Updated\nget_system_dns_resolvers to pick both ipv4/ipv6 valid\nips.\n\nAdditionally fix some unit tests which were setting ipv4 dns\nnameservers on ipv6 subnet, this is not allowed with api.\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 6, 'created': '2022-01-05 14:34:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e2748443ad568d25a577c9770b79fb8cf1c4a42', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of ipv6 dns nameservers,\nit was getting added to ipv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an ipv6 address)\nis set in the instances.\n\nThis patch filters ipv4/ipv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for ipv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with ipv4 subnets. Updated\nget_system_dns_resolvers to pick both ipv4/ipv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for ipv4[1].\n\nAdditionally fix some unit tests which were setting ipv4 dns\nnameservers on ipv6 subnet, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}, {'number': 7, 'created': '2022-01-06 05:08:08.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'requirements.txt', 'neutron/tests/unit/common/ovn/test_utils.py', 'releasenotes/notes/ovn-default-dns-servers-ipv6-subnets-f2d525abc70b01b3.yaml', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4a06685098cc2e9b69c1b961eecef957314faf85', 'message': ""[OVN] Correctly set dns_server in dhcpv4/v6 options\n\nWhen ovn/dns_servers consist of IPv6 dns nameservers,\nit was getting added to IPv4 dhcp options also, and due to\nthis an invalid nameserver(last 4 octets of an IPv6 address)\nis set in the instances.\n\nThis patch filters IPv4/IPv6 dns nameservers and set\ndhcpv4/dhcpv6 options accordingly.\n\nAlso when dns_nameservers are not set for IPv6 subnets,\nget those from ovn/dns_servers config or system nameservers\njust like it's done with the IPv4 subnets. Updated\nget_system_dns_resolvers to pick both IPv4/IPv6 valid\nips, this also requires bump of oslo.utils minimum version\nto 4.8.0 to use strict option for IPv4[1].\n\nAdditionally fix some unit tests which were setting IPv4 dns\nnameservers on the IPv6 subnets, this is not allowed with api.\n\n[1] https://github.com/openstack/oslo.utils/commit/3288539\n\nCloses-Bug: #1951816\nChange-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d\n""}]",29,822843,4a06685098cc2e9b69c1b961eecef957314faf85,58,6,7,13861,,,0,"[OVN] Correctly set dns_server in dhcpv4/v6 options

When ovn/dns_servers consist of IPv6 dns nameservers,
it was getting added to IPv4 dhcp options also, and due to
this an invalid nameserver(last 4 octets of an IPv6 address)
is set in the instances.

This patch filters IPv4/IPv6 dns nameservers and set
dhcpv4/dhcpv6 options accordingly.

Also when dns_nameservers are not set for IPv6 subnets,
get those from ovn/dns_servers config or system nameservers
just like it's done with the IPv4 subnets. Updated
get_system_dns_resolvers to pick both IPv4/IPv6 valid
ips, this also requires bump of oslo.utils minimum version
to 4.8.0 to use strict option for IPv4[1].

Additionally fix some unit tests which were setting IPv4 dns
nameservers on the IPv6 subnets, this is not allowed with api.

[1] https://github.com/openstack/oslo.utils/commit/3288539

Closes-Bug: #1951816
Change-Id: I9f914e721201072e43a8c6c266ed97ca85fcc13d
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/822843/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py']",2,749b8e9f0d9c1562cf64c7d7be6a57314e4905a9,bug/1951816," def test_get_ovn_dhcp_options_ovn_conf_ip4_ip6_dns(self): ovn_conf.cfg.CONF.set_override('dns_servers', '8.8.8.8,10::3', group='ovn') subnet = {'id': 'foo-subnet', 'network_id': 'network-id', 'cidr': '10.0.0.0/24', 'ip_version': 4, 'enable_dhcp': True, 'host_routes': [], 'gateway_ip': '10.0.0.1'} network = {'id': 'network-id', 'mtu': 1400} expected_dhcp_options = {'cidr': '10.0.0.0/24', 'external_ids': { 'subnet_id': 'foo-subnet', ovn_const.OVN_REV_NUM_EXT_ID_KEY: '1'}} expected_dhcp_options['options'] = { 'server_id': subnet['gateway_ip'], 'server_mac': '01:02:03:04:05:06', 'lease_time': str(12 * 60 * 60), 'mtu': '1400', 'router': subnet['gateway_ip'], 'dns_server': '{8.8.8.8}' } self._test_get_ovn_dhcp_options_helper(subnet, network, expected_dhcp_options) 'dns_nameservers': ['10::3', '11::3']} 'dns_server': '{10::3, 11::3}'}} 'dns_nameservers': ['10::3', '11::3']} 'dns_server': '{10::3, 11::3}'}} 'dns_nameservers': ['10::3', '11::3'], 'dns_server': '{10::3, 11::3}',"," 'dns_nameservers': ['7.7.7.7', '8.8.8.8']} 'dns_server': '{7.7.7.7, 8.8.8.8}'}} 'dns_nameservers': ['7.7.7.7', '8.8.8.8']} 'dns_server': '{7.7.7.7, 8.8.8.8}'}} 'dns_nameservers': ['7.7.7.7', '8.8.8.8'], 'dns_server': '{7.7.7.7, 8.8.8.8}',",41,10
openstack%2Fproject-config~master~I8ab8d8b70f93d8c64f54f6fc45b369375be0fdbc,openstack/project-config,master,I8ab8d8b70f93d8c64f54f6fc45b369375be0fdbc,Add gerrit rename-project plugin to Zuul,MERGED,2022-01-10 17:21:04.000000000,2022-01-11 07:22:33.000000000,2022-01-11 06:54:17.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 17:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/5bcb32df6f023bbeb8a5fb165d1f73be20d622ae', 'message': 'Add gerrit rename-project plugin to Zuul\n\nWe want to start experimenting with the use of this plugin instead of\nour manual rename process. To do that we need to build Gerrit images\nwith the plugin and the first step to doing that is to have Zuul manage\nthe plugin repo for us.\n\nIf you are curious details about the plugin can be found at:\n  https://gerrit.googlesource.com/plugins/rename-project/+/refs/heads/stable-3.3/src/main/resources/Documentation/about.md\n\nChange-Id: I8ab8d8b70f93d8c64f54f6fc45b369375be0fdbc\n'}, {'number': 2, 'created': '2022-01-10 19:30:07.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5251f8967fccf3c90aeee7894e220b1fa97bdcfa', 'message': 'Add gerrit rename-project plugin to Zuul\n\nWe want to start experimenting with the use of this plugin instead of\nour manual rename process. To do that we need to build Gerrit images\nwith the plugin and the first step to doing that is to have Zuul manage\nthe plugin repo for us.\n\nIf you are curious details about the plugin can be found at:\n  https://gerrit.googlesource.com/plugins/rename-project/+/refs/heads/stable-3.3/src/main/resources/Documentation/about.md\n\nChange-Id: I8ab8d8b70f93d8c64f54f6fc45b369375be0fdbc\n'}]",0,824038,5251f8967fccf3c90aeee7894e220b1fa97bdcfa,10,3,2,4146,,,0,"Add gerrit rename-project plugin to Zuul

We want to start experimenting with the use of this plugin instead of
our manual rename process. To do that we need to build Gerrit images
with the plugin and the first step to doing that is to have Zuul manage
the plugin repo for us.

If you are curious details about the plugin can be found at:
  https://gerrit.googlesource.com/plugins/rename-project/+/refs/heads/stable-3.3/src/main/resources/Documentation/about.md

Change-Id: I8ab8d8b70f93d8c64f54f6fc45b369375be0fdbc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/38/824038/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,5bcb32df6f023bbeb8a5fb165d1f73be20d622ae,gerrit-rename-plugin, - plugins/rename-project,,1,0
openstack%2Fcinder~master~Icb2e6f6d6a73d0dcdbcc0154c551378e6aff4e22,openstack/cinder,master,Icb2e6f6d6a73d0dcdbcc0154c551378e6aff4e22,fix 'huawei dorado v6' FC initiator can be added to host,ABANDONED,2022-01-11 03:04:02.000000000,2022-01-11 07:10:24.000000000,,[],"[{'number': 1, 'created': '2022-01-11 03:04:02.000000000', 'files': ['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcd63635f11fd889720f3377838d22135755a870', 'message': ""fix 'huawei dorado v6' FC initiator can be added to host\n\nchange the fc initiator filter conditions. we add a config\nmin_fc_ini_online when the number of online fc initiator\nmore than the min_fc_ini_online, the online initiator will\nadded to host\n\nCloses-Bug: #1942218\nChange-Id: Icb2e6f6d6a73d0dcdbcc0154c551378e6aff4e22\n""}]",0,824084,dcd63635f11fd889720f3377838d22135755a870,6,0,1,34247,,,0,"fix 'huawei dorado v6' FC initiator can be added to host

change the fc initiator filter conditions. we add a config
min_fc_ini_online when the number of online fc initiator
more than the min_fc_ini_online, the online initiator will
added to host

Closes-Bug: #1942218
Change-Id: Icb2e6f6d6a73d0dcdbcc0154c551378e6aff4e22
",git fetch https://review.opendev.org/openstack/cinder refs/changes/84/824084/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/huawei/constants.py', 'cinder/volume/drivers/huawei/huawei_conf.py', 'cinder/tests/unit/volume/drivers/huawei/test_huawei_drivers.py', 'cinder/volume/drivers/huawei/huawei_driver.py']",4,dcd63635f11fd889720f3377838d22135755a870,bug/1942218," wwns.remove(wwn) msg = ((""Can't add FC initiator %(wwn)s to host "" ""%(host)s, please check if this initiator has"" "" been added to other host or isn't present "" ""on array."") % {""wwn"": wwn, ""host"": host_id}) LOG.warning(msg) if (self.configuration.min_fc_ini_online == constants.DEFAULT_MINIMUM_FC_INITIATOR_ONLINE): wwns_in_host = ( self.client.get_host_fc_initiators(host_id)) iqns_in_host = ( self.client.get_host_iscsi_initiators(host_id)) if not (wwns_in_host or iqns_in_host or self.client.is_host_associated_to_hostgroup( host_id)): self.client.remove_host(host_id) msg = (""There is an FC initiator in an invalid "" ""state. If you want to continue to attach "" ""volume to host, configure MinFCIniOnline "" ""in the XML file."") LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) if len(wwns) < self.configuration.min_fc_ini_online: msg = ((""The number of online FC initiator %(wwns)s less than"" "" the set number: %(set)s."") % {""wwns"": wwns, ""set"": self.configuration.min_fc_ini_online}) LOG.error(msg) raise exception.VolumeBackendAPIException(data=msg) ", wwns_in_host = ( self.client.get_host_fc_initiators(host_id)) iqns_in_host = ( self.client.get_host_iscsi_initiators(host_id)) if not (wwns_in_host or iqns_in_host or self.client.is_host_associated_to_hostgroup(host_id)): self.client.remove_host(host_id),56,7
openstack%2Fpuppet-vswitch~master~Ifc148c3f65434e9b51643caed6fb65e39b6224bb,openstack/puppet-vswitch,master,Ifc148c3f65434e9b51643caed6fb65e39b6224bb,WIP: Prototyping ovs port management with nmcli,NEW,2021-06-09 05:41:05.000000000,2022-01-11 06:56:53.000000000,,"[{'_account_id': 7353}, {'_account_id': 9816}, {'_account_id': 12398}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 05:41:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6d4dbecfc0d07f57b5e5cc936fb61470b822fe3b', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 2, 'created': '2021-06-09 05:51:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d0166d6771ca8ebe03027052fec37475dcb16bc5', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 3, 'created': '2021-06-09 05:54:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/8b51d1d0e0f1ea55025c6eeb9b47de6e751830c4', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 4, 'created': '2021-06-09 09:26:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/65d9e8a3397035eb38f77436d9c2a0edcd274475', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 5, 'created': '2021-06-09 12:56:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/550895eeb3fdb41598341449a3669f23104a71e0', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 6, 'created': '2021-06-09 13:34:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/1543533e66aa4d914e48d1dd4edcc415ef52b8eb', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 7, 'created': '2021-06-09 14:34:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5b0c706989c62b952ca5ef092be0b5402fea4e2e', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 8, 'created': '2021-07-05 17:16:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/aae52987ca09262d260aaba461c0185285c896c0', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 9, 'created': '2021-07-06 03:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/b2b7579c261d4796f5878e6a1455795033122867', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 10, 'created': '2021-07-06 03:16:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/a4e4db0e9c53a501c2afc163caa6784c07778d8d', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 11, 'created': '2021-07-08 13:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/23576cc3493995875498b52f09a538fc321a4888', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 12, 'created': '2021-07-08 14:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/fe6ec195e83493127df741ce905b1d57e48abd62', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 13, 'created': '2021-07-14 18:59:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6dbacba479c003e2e2860f041283950712803c2c', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 14, 'created': '2021-07-15 20:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/2c725b84176661d2a35f25411829ee0670fb280f', 'message': 'WIP: Prototyping ovs port management with nmcli\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n'}, {'number': 15, 'created': '2021-07-15 20:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5888ccfdef74ba56b09ec57c473a47d2523097fa', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 16, 'created': '2021-07-15 20:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/fb346a24323914e7023ea95360d43d86645332ae', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 17, 'created': '2021-07-20 18:24:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d73223a6d1b14a851956419976cd019c726d73b1', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 18, 'created': '2021-07-21 14:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/87c8fae400a7e803cdeb561e25adf119ce598b5e', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 19, 'created': '2021-07-21 14:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/dd1c87ccbddf4aedaa45e3fb37be234a414219e8', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 20, 'created': '2021-07-21 15:36:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d672a9e2ea4a9a406557be1568ca4db85ec8fdde', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 21, 'created': '2021-07-21 19:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/a83a6833ebf9ea42ee060e581c4ce91781cdb724', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 22, 'created': '2021-07-21 20:11:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/3ea5711ff93e55549818425f03f4954f99cefc9d', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 23, 'created': '2021-07-21 20:31:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5ab6820d668dcd097740ed6377f731b171b321f1', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 24, 'created': '2021-07-26 14:17:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/67de260ec58a60a4e79cf4f0f01ee86308780514', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 25, 'created': '2021-08-03 00:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/f8e5b3199618ca2b82380ba3088bb70bb05cd3fc', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 26, 'created': '2021-08-03 01:17:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/32f2edecc06c58eb16ddce8584634a5bfb0a617b', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 27, 'created': '2021-08-03 01:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d7eb3ff3dcf8f041ae4ed36a03459f0821e235ce', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 28, 'created': '2021-08-05 14:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/33db8e2b9a5b26b6cc383cf67df7876b29408033', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 29, 'created': '2021-08-05 15:01:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/06db4e1b9549f48dae08815109afaa4f6ff2a3ae', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 30, 'created': '2021-08-05 15:29:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/aeb097fe146444131eb3a84112477144f3c1a8ea', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 31, 'created': '2021-08-10 13:09:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6592494c8688830acae0b22ff76d308d1bfb3826', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\n\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 127.2.0.1/24 autoconnect yes',\n  refreshonly => true,\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif'],\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn modify br-ex-ovs-interface ipv4.method manual ipv4.addresses 172.24.5.1/24',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 32, 'created': '2021-08-16 13:24:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4ac9e65a03b9da74ba6067308e96b17ea106b0f4', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 33, 'created': '2021-08-16 13:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e69e3fe47775122ab800ccc79778c2a1e61107d1', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 34, 'created': '2021-08-16 13:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/c309b136cedb196666e932a0fa09c783572d4c5e', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 35, 'created': '2021-08-16 13:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/00a4645d917cf45c868069b693379bf59b80e34c', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 36, 'created': '2021-08-16 14:40:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/356d62617893e3576b96828d69a89672c38f7ee7', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 37, 'created': '2021-08-16 14:52:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/92963fa3e65fac6f641129b82f0a3b43d1f40ec0', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 38, 'created': '2022-01-11 05:06:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/7f3f1ea9e534d07bc30a996af23ad603b6e9340f', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}, {'number': 39, 'created': '2022-01-11 05:24:11.000000000', 'files': ['lib/puppet/provider/vs_bridge/networkmanager.rb', 'lib/puppet/provider/vs_port/ovs_redhat.rb', 'metadata.json', 'manifests/ovs.pp', 'lib/puppet/provider/vs_port/networkmanager.rb', 'manifests/params.pp', 'lib/puppet/provider/vs_bridge/ovs_redhat.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/aa71daa8c1f0f2dc632b1ed6ca4dab74f9168906', 'message': ""WIP: Prototyping ovs port management with nmcli\n\nTested with:\n\ninclude vswitch::ovs\nvs_bridge { 'br-ex':\n  ensure => present,\n  notify => Exec['create_loop1'],\n}\nexec { 'create_loop1':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',\n}\n-> vs_port { 'loop1':\n  ensure => present,\n  bridge => 'br-ex',\n  notify => Exec['create_br-ex_vif']\n}\nexec { 'create_br-ex_vif':\n  path        => '/usr/bin:/bin:/usr/sbin:/sbin',\n  provider    => shell,\n  command     => 'ip addr add 172.24.5.1/24 dev br-ex',\n  refreshonly => true,\n}\n\nChange-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb\n""}]",31,795476,aa71daa8c1f0f2dc632b1ed6ca4dab74f9168906,76,7,39,9816,,,0,"WIP: Prototyping ovs port management with nmcli

Tested with:

include vswitch::ovs
vs_bridge { 'br-ex':
  ensure => present,
  notify => Exec['create_loop1'],
}
exec { 'create_loop1':
  path        => '/usr/bin:/bin:/usr/sbin:/sbin',
  provider    => shell,
  command     => 'nmcli conn add type dummy ifname loop1 con-name loop1 ipv4.method manual ipv4.addresses 192.168.100.101/24 autoconnect yes',
}
-> vs_port { 'loop1':
  ensure => present,
  bridge => 'br-ex',
  notify => Exec['create_br-ex_vif']
}
exec { 'create_br-ex_vif':
  path        => '/usr/bin:/bin:/usr/sbin:/sbin',
  provider    => shell,
  command     => 'ip addr add 172.24.5.1/24 dev br-ex',
  refreshonly => true,
}

Change-Id: Ifc148c3f65434e9b51643caed6fb65e39b6224bb
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/76/795476/8 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/provider/vs_port/ovs_redhat_nm.rb'],1,6d4dbecfc0d07f57b5e5cc936fb61470b822fe3b,ovs-networkmanager,"require File.expand_path(File.join(File.dirname(__FILE__), '..', '..', '..', 'puppetx', 'redhat', 'ifcfg.rb')) require File.expand_path(File.join(File.dirname(__FILE__), '.','ovs.rb')) Puppet::Type.type(:vs_port).provide( :ovs_redhat, :parent => Puppet::Type.type(:vs_port).provider(:ovs) ) do desc 'Openvswitch port manipulation for RedHat OSes family with NetworkManager' confine :osfamily => :redhat, :operatingsystemmajrelease => 9 defaultfor :osfamily => :redhat, :operatingsystemmajrelease => 9 commands :vsctl => 'ovs-vsctl' commands :nmcli => 'nmcli' def initialize(value={}) super(value) # Set interface property although it's not really # supported on this provider. This ensures that all # methodes inherited from the ovs provider work as # expected. @resource[:interface] = @resource[:port] end def create unless vsctl('list-ports', @resource[:bridge]).include? @resource[:port] super end if interface_physical? nmcli('conn', 'add', 'type', 'ovs-bridge', 'conn.interface', @resource[:bridge]) # TODO(tkajinam): fail_mode is not handled now # TODO(tkajinam): Some parameters maintained by dynamic_defualt should be kept as well # TODO(tkajinam): Do we need any special consideration in case # the port is the vlan interface ? nmcli('conn', 'add', 'type', 'ovs-port', 'conn.interface', ""ovs-#{@resource[:port]}"") nmcli('conn', 'add', 'type', 'ethernet', 'conn.interface', @resource[:port], 'master', @resource[:port]) nmcli('conn', 'down', @resource[:bridge]) nmcli('conn', 'down', ""ovs-#{@resource[:port]}"") nmcli('conn', 'down', @resource[:port]) nmcli('conn', 'up', @resource[:port]) nmcli('conn', 'up', ""ovs-#{@resource[:port]}"") nmcli('conn', 'up', @resource[:bridge]) end end def exists? if interface_physical? # TODO(tkajinam) These should be re-implemented by nmcli show # we can check return code 0(exists) or 10(doesn't exist) super && IFCFG::OVS.exists?(@resource[:port]) && IFCFG::OVS.exists?(@resource[:bridge]) else super end end def destroy if interface_physical? nmcli('conn', 'down', @resource[:bridge]) nmcli('conn', 'down', ""ovs-#{@resource[:port]}"") nmcli('conn', 'down', @resource[:port]) nmcli('conn', 'delete', @resource[:port]) nmcli('conn', 'delete', ""ovs-#{@resource[:port]}"") nmcli('conn', 'delete', @resource[:bridge]) end super end private def dynamic? device = '' device = ip('addr', 'show', @resource[:port]) return device =~ /dynamic/ ? true : false end def link? if File.read(""/sys/class/net/#{@resource[:port]}/operstate"") =~ /up/ return true else return false end rescue Errno::ENOENT return false end def dynamic_default list = { 'OVSDHCPINTERFACES' => @resource[:port] } # Persistent MAC address taken from interface bridge_mac_address = File.read(""/sys/class/net/#{@resource[:port]}/address"").chomp if bridge_mac_address != '' list.merge!({ 'OVS_EXTRA' => ""\""set bridge #{@resource[:bridge]} other-config:hwaddr=#{bridge_mac_address} fail_mode=#{@resource[:fail_mode]}\"""" }) end list end def interface_physical? # OVS ports don't have entries in /sys/class/net # Alias interfaces (ethX:Y) must use ethX entries interface = @resource[:port].sub(/:\d/, '') ! Dir[""/sys/class/net/#{interface}""].empty? end end ",,110,0
openstack%2Fproject-config~master~Id93a2bc0b452bafca1dca8550ffc825d72533cdc,openstack/project-config,master,Id93a2bc0b452bafca1dca8550ffc825d72533cdc,Update ansible-lint to fix the rich dep,MERGED,2022-01-10 19:30:07.000000000,2022-01-11 06:55:50.000000000,2022-01-11 06:53:55.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 19:30:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e99d3cb40711c4a4e28d1b4ad9bd643497f34dfb', 'message': ""Update ansible-lint to fix the rich dep\n\nansible-lint is currently broken when older than a recent release. This\nis due to to the 'rich' dependency updating without a pin and not\nworking with older ansible.\n\nChange-Id: Id93a2bc0b452bafca1dca8550ffc825d72533cdc\n""}]",2,824051,e99d3cb40711c4a4e28d1b4ad9bd643497f34dfb,11,3,1,4146,,,0,"Update ansible-lint to fix the rich dep

ansible-lint is currently broken when older than a recent release. This
is due to to the 'rich' dependency updating without a pin and not
working with older ansible.

Change-Id: Id93a2bc0b452bafca1dca8550ffc825d72533cdc
",git fetch https://review.opendev.org/openstack/project-config refs/changes/51/824051/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e99d3cb40711c4a4e28d1b4ad9bd643497f34dfb,ansible-lint," ansible-lint>=5.0.0,<6.0.0 hacking>=4.0.0,<5.0.0"," ansible-lint>=4.2.0,<5 hacking>=2.0.0,<2.1.0",2,2
openstack%2Fopenstack-zuul-jobs~master~I38284fef54213e0fceb1b348d5839129cc15148e,openstack/openstack-zuul-jobs,master,I38284fef54213e0fceb1b348d5839129cc15148e,Update ansible-lint to fix deps problem,MERGED,2022-01-10 19:35:44.000000000,2022-01-11 06:44:38.000000000,2022-01-11 06:43:04.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 19:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/f1a689ca25df7bc87c0ea6832aeed47cf94da1a1', 'message': ""Update ansible-lint to fix deps problem\n\nOlder ansible-lint has an uncapped dep on 'rich' and newer rich breaks\nansible-lint. New ansible-lint has addressed this. We update\nansible-lint to get those fixes.\n\nChange-Id: I38284fef54213e0fceb1b348d5839129cc15148e\n""}, {'number': 2, 'created': '2022-01-10 20:01:05.000000000', 'files': ['roles/build-pdf-docs/tasks/main.yaml', 'roles/configure-swap/tasks/root.yaml', 'test-requirements.txt', 'roles/configure-swap/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1bc98d2ee8dafe1bdea078a6e9f386e9426d4e42', 'message': ""Update ansible-lint to fix deps problem\n\nOlder ansible-lint has an uncapped dep on 'rich' and newer rich breaks\nansible-lint. New ansible-lint has addressed this. We update\nansible-lint to get those fixes.\n\nThis adds task names to a number of tasks to correct a linting error.\n\nChange-Id: I38284fef54213e0fceb1b348d5839129cc15148e\n""}]",0,824054,1bc98d2ee8dafe1bdea078a6e9f386e9426d4e42,10,3,2,4146,,,0,"Update ansible-lint to fix deps problem

Older ansible-lint has an uncapped dep on 'rich' and newer rich breaks
ansible-lint. New ansible-lint has addressed this. We update
ansible-lint to get those fixes.

This adds task names to a number of tasks to correct a linting error.

Change-Id: I38284fef54213e0fceb1b348d5839129cc15148e
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/54/824054/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,f1a689ca25df7bc87c0ea6832aeed47cf94da1a1,ansible-lint,"hacking>=4.0.0,<5.0.0 # Apache-2.0ansible-lint>=5.0.0,<=6.0.0","hacking>=3.0,<3.1.0 # Apache-2.0ansible-lint>=4.3.6,<=5",2,2
openstack%2Ftripleo-ci~master~I2a6fec4f2769ad0f9f60ed3197d6ae51547069ba,openstack/tripleo-ci,master,I2a6fec4f2769ad0f9f60ed3197d6ae51547069ba,[WIP] Make cs9 jobs voting,ABANDONED,2022-01-10 12:59:31.000000000,2022-01-11 06:06:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 12:59:31.000000000', 'files': ['zuul.d/content-provider.yaml', 'zuul.d/undercloud-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/7a511b24522b65d4e5211efd92b443e752169b55', 'message': '[WIP] Make cs9 jobs voting\n\nDone:\n- content provider\n- undercloud\n\nRemaining\n- standalone\n- updates\n- multinode\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I2a6fec4f2769ad0f9f60ed3197d6ae51547069ba\n'}]",0,823980,7a511b24522b65d4e5211efd92b443e752169b55,4,2,1,12393,,,0,"[WIP] Make cs9 jobs voting

Done:
- content provider
- undercloud

Remaining
- standalone
- updates
- multinode

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I2a6fec4f2769ad0f9f60ed3197d6ae51547069ba
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/80/823980/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/content-provider.yaml', 'zuul.d/undercloud-jobs.yaml']",2,7a511b24522b65d4e5211efd92b443e752169b55,cs9, - tripleo-ci-centos-9-content-provider - tripleo-ci-centos-9-undercloud-containers: irrelevant-files: *undercloud_ignored vars: *undercloud_consumer_vars dependencies: - tripleo-ci-centos-9-content-provider, voting: false,6,2
openstack%2Fdiskimage-builder~master~I7ff67208f24369944106a7fed59487f0fcab0ecb,openstack/diskimage-builder,master,I7ff67208f24369944106a7fed59487f0fcab0ecb,Remove opensuse related funtests,MERGED,2022-01-10 14:39:59.000000000,2022-01-11 05:45:12.000000000,2022-01-10 21:09:45.000000000,"[{'_account_id': 4146}, {'_account_id': 4571}, {'_account_id': 5263}, {'_account_id': 8449}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 32411}]","[{'number': 1, 'created': '2022-01-10 14:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/7fa75b8ea6a039ae53ab909d20bb573a3f33890a', 'message': 'Remove opensuse/build-succeeds funtests\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=dib-functests&project=openstack/diskimage-builder\nis currently broken and is not actively maintained.\n\nIn order to get other DIB patches in, It removes the\ntesting of opensuse element.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7ff67208f24369944106a7fed59487f0fcab0ecb\n'}, {'number': 2, 'created': '2022-01-10 16:16:01.000000000', 'files': ['tests/run_functests.sh', '.zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e5617355fa5c50eb5566a2507592de3959ea060d', 'message': 'Remove opensuse related funtests\n\nhttps://zuul.opendev.org/t/openstack/builds?job_name=dib-functests&project=openstack/diskimage-builder\nis currently broken and is not actively maintained.\n\nIn order to get other DIB patches in, It removes the\ntesting of opensuse element.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I7ff67208f24369944106a7fed59487f0fcab0ecb\n'}]",5,824002,e5617355fa5c50eb5566a2507592de3959ea060d,16,8,2,12393,,,0,"Remove opensuse related funtests

https://zuul.opendev.org/t/openstack/builds?job_name=dib-functests&project=openstack/diskimage-builder
is currently broken and is not actively maintained.

In order to get other DIB patches in, It removes the
testing of opensuse element.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I7ff67208f24369944106a7fed59487f0fcab0ecb
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/02/824002/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run_functests.sh', '.zuul.d/jobs.yaml']",2,7fa75b8ea6a039ae53ab909d20bb573a3f33890a,cs9,, - opensuse/build-succeeds,0,2
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I972fce006c787f91e4a56b1a560d202aa9db46c9,openstack/tripleo-heat-templates,stable/train,I972fce006c787f91e4a56b1a560d202aa9db46c9,Fix killscript regex match for libpod-conmon-*,MERGED,2021-12-22 08:03:56.000000000,2022-01-11 04:21:17.000000000,2022-01-11 04:21:17.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-22 08:03:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92b6ccaac8ef184c5d1e2a550ea711ae21d1b4ee', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 4ffb4835eaba73db3baca793b03b3f0e92c0dbe5)\n'}, {'number': 2, 'created': '2021-12-22 08:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/136b91d6fdaac082e556c32a51e456e0042552ad', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)\n'}, {'number': 3, 'created': '2021-12-22 08:26:12.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/345ac02389e349f2f8c7ee8eb75f54af68b6b0f7', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nCloses-bug: #1955491\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)\n'}]",2,822606,345ac02389e349f2f8c7ee8eb75f54af68b6b0f7,14,5,3,6926,,,0,"Fix killscript regex match for libpod-conmon-*

Whenever a process belongs to libpod-conmon-* scope
instead of libpod-*, wrong container name ""conmon"" is matched as
the container ID.

That increases memory footprint for neutron-dhcp-agent as it puts
sidecars in an endless loop, since the killscript fails with code 125.
That mostly affects higly loaded systems.

Closes-bug: #1955491
Change-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9
Related: rhbz#2032010
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/06/822606/3 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,92b6ccaac8ef184c5d1e2a550ea711ae21d1b4ee,," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/{print $(NF-1); exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /:pids:/{print $3}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-heat-templates~master~I25cf4c534aeb24a2bf42273ea769c868ef799cbb,openstack/tripleo-heat-templates,master,I25cf4c534aeb24a2bf42273ea769c868ef799cbb,"Revert ""Revert ""Add chrony waitsync back in""""",MERGED,2021-12-28 19:17:44.000000000,2022-01-11 04:21:13.000000000,2022-01-11 04:21:13.000000000,"[{'_account_id': 6926}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-12-28 19:17:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/73d14a6ef926c86d07c5421deee44d1d47abca16', 'message': 'Revert ""Revert ""Add chrony waitsync back in""""\n\nThis reverts commit 21bd42b4f1d3782875a625fa77bf3eddc76736e7.\n\nReason for revert: We need to validate ntp servers, the original was\nreverted due to issues with the IPA job. This should land after we\nfix whatever is causing the issue with the ipa job.\n\nChange-Id: I25cf4c534aeb24a2bf42273ea769c868ef799cbb\n'}, {'number': 2, 'created': '2021-12-28 19:21:26.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dfd28f7b13976a6c4f2f80cbe12c4e5476af1e0e', 'message': 'Revert ""Revert ""Add chrony waitsync back in""""\n\nThis reverts commit 21bd42b4f1d3782875a625fa77bf3eddc76736e7.\n\nReason for revert: We need to validate ntp servers, the original was\nreverted due to issues with the IPA job. This should land after we\nfix whatever is causing the issue with the ipa job.\n\nChange-Id: I25cf4c534aeb24a2bf42273ea769c868ef799cbb\n'}]",7,822948,dfd28f7b13976a6c4f2f80cbe12c4e5476af1e0e,26,14,2,14985,,,0,"Revert ""Revert ""Add chrony waitsync back in""""

This reverts commit 21bd42b4f1d3782875a625fa77bf3eddc76736e7.

Reason for revert: We need to validate ntp servers, the original was
reverted due to issues with the IPA job. This should land after we
fix whatever is causing the issue with the ipa job.

Change-Id: I25cf4c534aeb24a2bf42273ea769c868ef799cbb
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/822948/2 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml']",2,73d14a6ef926c86d07c5421deee44d1d47abca16,bug/1955414, chronyc waitsync 30,,4,1
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I972fce006c787f91e4a56b1a560d202aa9db46c9,openstack/tripleo-heat-templates,stable/ussuri,I972fce006c787f91e4a56b1a560d202aa9db46c9,Fix killscript regex match for libpod-conmon-*,MERGED,2022-01-10 15:19:53.000000000,2022-01-11 04:21:10.000000000,2022-01-11 04:21:10.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 15:19:53.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0a0d5ba9663ca05bfa681a9a4db224ce9265dd3a', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nCloses-bug: #1955491\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)\n'}]",0,823848,0a0d5ba9663ca05bfa681a9a4db224ce9265dd3a,7,3,1,6926,,,0,"Fix killscript regex match for libpod-conmon-*

Whenever a process belongs to libpod-conmon-* scope
instead of libpod-*, wrong container name ""conmon"" is matched as
the container ID.

That increases memory footprint for neutron-dhcp-agent as it puts
sidecars in an endless loop, since the killscript fails with code 125.
That mostly affects higly loaded systems.

Closes-bug: #1955491
Change-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9
Related: rhbz#2032010
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/823848/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,0a0d5ba9663ca05bfa681a9a4db224ce9265dd3a,," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /:pids:/{print $3}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I972fce006c787f91e4a56b1a560d202aa9db46c9,openstack/tripleo-heat-templates,stable/victoria,I972fce006c787f91e4a56b1a560d202aa9db46c9,Fix killscript regex match for libpod-conmon-*,MERGED,2022-01-10 15:20:05.000000000,2022-01-11 04:21:07.000000000,2022-01-11 04:21:07.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 15:20:05.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/50a28df0855954a2a4c031e9e7c6d755194af430', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nCloses-bug: #1955491\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)\n'}]",0,823849,50a28df0855954a2a4c031e9e7c6d755194af430,7,3,1,6926,,,0,"Fix killscript regex match for libpod-conmon-*

Whenever a process belongs to libpod-conmon-* scope
instead of libpod-*, wrong container name ""conmon"" is matched as
the container ID.

That increases memory footprint for neutron-dhcp-agent as it puts
sidecars in an endless loop, since the killscript fails with code 125.
That mostly affects higly loaded systems.

Closes-bug: #1955491
Change-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9
Related: rhbz#2032010
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 947b18cf44f2755b260104f4207add70111e5116)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/49/823849/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,50a28df0855954a2a4c031e9e7c6d755194af430,," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /:pids:/{print $3}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I972fce006c787f91e4a56b1a560d202aa9db46c9,openstack/tripleo-heat-templates,stable/wallaby,I972fce006c787f91e4a56b1a560d202aa9db46c9,Fix killscript regex match for libpod-conmon-*,MERGED,2022-01-10 15:19:12.000000000,2022-01-11 04:21:04.000000000,2022-01-11 04:21:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-10 15:19:12.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9e8299eb6e866fa668b15ce34732fc3810ffe88c', 'message': 'Fix killscript regex match for libpod-conmon-*\n\nWhenever a process belongs to libpod-conmon-* scope\ninstead of libpod-*, wrong container name ""conmon"" is matched as\nthe container ID.\n\nThat increases memory footprint for neutron-dhcp-agent as it puts\nsidecars in an endless loop, since the killscript fails with code 125.\nThat mostly affects higly loaded systems.\n\nCloses-bug: #1955491\nChange-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9\nRelated: rhbz#2032010\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 4f7e4fd18997c597d57b1ca398a4f55737d68847)\n'}]",0,823847,9e8299eb6e866fa668b15ce34732fc3810ffe88c,7,3,1,6926,,,0,"Fix killscript regex match for libpod-conmon-*

Whenever a process belongs to libpod-conmon-* scope
instead of libpod-*, wrong container name ""conmon"" is matched as
the container ID.

That increases memory footprint for neutron-dhcp-agent as it puts
sidecars in an endless loop, since the killscript fails with code 125.
That mostly affects higly loaded systems.

Closes-bug: #1955491
Change-Id: I972fce006c787f91e4a56b1a560d202aa9db46c9
Related: rhbz#2032010
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 4f7e4fd18997c597d57b1ca398a4f55737d68847)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/823847/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,9e8299eb6e866fa668b15ce34732fc3810ffe88c,," CT_ID=$(awk 'BEGIN {FS="".scope|-""} /0::|:pids:/ {if ($(NF-1)) print $(NF-1);exit}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /0::|:pids:/{print $3; exit}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I30165c8ee5aa4b777b73ad89ac709e2c8a375382,openstack/tripleo-heat-templates,stable/train,I30165c8ee5aa4b777b73ad89ac709e2c8a375382,Use public endpoint for [keystone_authtoken] www_authenticate_uri,MERGED,2022-01-06 01:55:37.000000000,2022-01-11 04:21:01.000000000,2022-01-11 04:21:01.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 01:55:37.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/deprecated/ec2/ec2-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27ab145548e99442ab3908bbd3420f75630122ab', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nBackport note:\nThis change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515\nwhich fixes the remaining usage of internal endpoint. Also, commit\n02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included\nto remove the following ineffective puppet parameter.\n neutron::server::placement::www_authenticate_uri\n\n(to victoria)\nConflicts:\n\tdeployment/aodh/aodh-api-container-puppet.yaml\n\tdeployment/experimental/designate/designate-api-container-puppet.yaml\n\tdeployment/manila/manila-share-container-puppet.yaml\n\nBackport note:\nThis backport covers some services like zaqar which were removed in\nstable/wallaby.\n\n(to train)\nConflicts:\n\tdeployment/octavia/octavia-api-container-puppet.yaml\n\nBackport note:\nThis backport covers panko and ec2api which were removed in\nstable/ussuri. The authtoken parameters in ceilometer template are left\nbecause these parameters have no effect. These will be removed by a\nseparate commit.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)\n(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)\n(cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)\n'}]",0,823611,27ab145548e99442ab3908bbd3420f75630122ab,8,4,1,9816,,,0,"Use public endpoint for [keystone_authtoken] www_authenticate_uri

According to the parameter description, www_authenticate_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml
	deployment/swift/swift-proxy-container-puppet.yaml

Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
 neutron::server::placement::www_authenticate_uri

(to victoria)
Conflicts:
	deployment/aodh/aodh-api-container-puppet.yaml
	deployment/experimental/designate/designate-api-container-puppet.yaml
	deployment/manila/manila-share-container-puppet.yaml

Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.

(to train)
Conflicts:
	deployment/octavia/octavia-api-container-puppet.yaml

Backport note:
This backport covers panko and ec2api which were removed in
stable/ussuri. The authtoken parameters in ceilometer template are left
because these parameters have no effect. These will be removed by a
separate commit.

Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)
(cherry picked from commit cc81d668b8ebea35e47124b216eeb5e0625f0a8b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/823611/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/deprecated/panko/panko-api-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml', 'deployment/sahara/sahara-base.yaml', 'deployment/deprecated/ec2/ec2-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/placement/placement-api-container-puppet.yaml']",24,27ab145548e99442ab3908bbd3420f75630122ab,bug/1955397," placement::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}"," placement::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",24,25
openstack%2Ftripleo-heat-templates~stable%2Fussuri~I30165c8ee5aa4b777b73ad89ac709e2c8a375382,openstack/tripleo-heat-templates,stable/ussuri,I30165c8ee5aa4b777b73ad89ac709e2c8a375382,Use public endpoint for [keystone_authtoken] www_authenticate_uri,MERGED,2022-01-06 01:49:42.000000000,2022-01-11 04:20:58.000000000,2022-01-11 04:20:58.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 01:49:42.000000000', 'files': ['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-base.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cc81d668b8ebea35e47124b216eeb5e0625f0a8b', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nBackport note:\nThis change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515\nwhich fixes the remaining usage of internal endpoint. Also, commit\n02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included\nto remove the following ineffective puppet parameter.\n neutron::server::placement::www_authenticate_uri\n\n(to victoria)\nConflicts:\n\tdeployment/aodh/aodh-api-container-puppet.yaml\n\tdeployment/experimental/designate/designate-api-container-puppet.yaml\n\tdeployment/manila/manila-share-container-puppet.yaml\n\nBackport note:\nThis backport covers some services like zaqar which were removed in\nstable/wallaby.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)\n(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)\n'}]",0,823610,cc81d668b8ebea35e47124b216eeb5e0625f0a8b,8,4,1,9816,,,0,"Use public endpoint for [keystone_authtoken] www_authenticate_uri

According to the parameter description, www_authenticate_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml
	deployment/swift/swift-proxy-container-puppet.yaml

Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
 neutron::server::placement::www_authenticate_uri

(to victoria)
Conflicts:
	deployment/aodh/aodh-api-container-puppet.yaml
	deployment/experimental/designate/designate-api-container-puppet.yaml
	deployment/manila/manila-share-container-puppet.yaml

Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.

Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
(cherry picked from commit 5314c792be5727737041f7da3b3d7645d641eaa7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/823610/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-base.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/nova/novajoin-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/mistral/mistral-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",22,cc81d668b8ebea35e47124b216eeb5e0625f0a8b,bug/1955397," manila::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}"," manila::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",22,23
openstack%2Ftripleo-heat-templates~stable%2Fvictoria~I30165c8ee5aa4b777b73ad89ac709e2c8a375382,openstack/tripleo-heat-templates,stable/victoria,I30165c8ee5aa4b777b73ad89ac709e2c8a375382,Use public endpoint for [keystone_authtoken] www_authenticate_uri,MERGED,2022-01-06 01:48:55.000000000,2022-01-11 04:20:54.000000000,2022-01-11 04:20:54.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 01:48:55.000000000', 'files': ['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-base.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5314c792be5727737041f7da3b3d7645d641eaa7', 'message': 'Use public endpoint for [keystone_authtoken] www_authenticate_uri\n\nAccording to the parameter description, www_authenticate_uri should be\ncomplete public Identity endpoint, which is accessible by all end\nusers.\nThis change replaces internal endpoint by public endpoint to meet that\nrequirement.\n\nConflicts:\n\tdeployment/ironic/ironic-conductor-container-puppet.yaml\n\tdeployment/swift/swift-proxy-container-puppet.yaml\n\nBackport note:\nThis change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515\nwhich fixes the remaining usage of internal endpoint. Also, commit\n02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included\nto remove the following ineffective puppet parameter.\n neutron::server::placement::www_authenticate_uri\n\n(to victoria)\nConflicts:\n\tdeployment/aodh/aodh-api-container-puppet.yaml\n\tdeployment/experimental/designate/designate-api-container-puppet.yaml\n\tdeployment/manila/manila-share-container-puppet.yaml\n\nBackport note:\nThis backport covers some services like zaqar which were removed in\nstable/wallaby.\n\nCloses-Bug: #1955397\nChange-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382\n(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)\n(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)\n'}]",0,823589,5314c792be5727737041f7da3b3d7645d641eaa7,8,4,1,9816,,,0,"Use public endpoint for [keystone_authtoken] www_authenticate_uri

According to the parameter description, www_authenticate_uri should be
complete public Identity endpoint, which is accessible by all end
users.
This change replaces internal endpoint by public endpoint to meet that
requirement.

Conflicts:
	deployment/ironic/ironic-conductor-container-puppet.yaml
	deployment/swift/swift-proxy-container-puppet.yaml

Backport note:
This change includes commit 2b9461e97fc5c4ceb0848d1cc4484f656bb85515
which fixes the remaining usage of internal endpoint. Also, commit
02bb4b8aa095619f2bc07aeb7302c2f333093569 was partially included
to remove the following ineffective puppet parameter.
 neutron::server::placement::www_authenticate_uri

(to victoria)
Conflicts:
	deployment/aodh/aodh-api-container-puppet.yaml
	deployment/experimental/designate/designate-api-container-puppet.yaml
	deployment/manila/manila-share-container-puppet.yaml

Backport note:
This backport covers some services like zaqar which were removed in
stable/wallaby.

Closes-Bug: #1955397
Change-Id: I30165c8ee5aa4b777b73ad89ac709e2c8a375382
(cherry picked from commit 160936df134a471cfd245bd60964046027a571ea)
(cherry picked from commit 58129434ac1269b0da306371e28a2cb2f8a05b12)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/823589/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/deprecated/mistral/mistral-base.yaml', 'deployment/experimental/designate/designate-api-container-puppet.yaml', 'deployment/ironic/ironic-inspector-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/deprecated/sahara/sahara-base.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml', 'deployment/glance/glance-api-container-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/zaqar/zaqar-container-puppet.yaml', 'deployment/barbican/barbican-api-container-puppet.yaml', 'deployment/ironic/ironic-api-container-puppet.yaml', 'deployment/octavia/octavia-api-container-puppet.yaml', 'deployment/deprecated/novajoin/novajoin-container-puppet.yaml', 'deployment/gnocchi/gnocchi-api-container-puppet.yaml', 'deployment/neutron/neutron-api-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml', 'deployment/manila/manila-share-container-puppet.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/placement/placement-api-container-puppet.yaml', 'deployment/manila/manila-api-container-puppet.yaml']",22,5314c792be5727737041f7da3b3d7645d641eaa7,bug/1955397," manila::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]}"," manila::keystone::authtoken::www_authenticate_uri: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}",22,23
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I767052050f63a9d1ed305466dd0aaeb995a5ca9f,openstack/tripleo-heat-templates,stable/wallaby,I767052050f63a9d1ed305466dd0aaeb995a5ca9f,Move *NetworkConfigTemplate to parameter_defaults,MERGED,2022-01-08 02:41:37.000000000,2022-01-11 02:43:04.000000000,2022-01-11 02:43:04.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-08 02:41:37.000000000', 'files': ['environments/neutron-ovs-dvr.yaml', 'environments/services/neutron-ovs-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/524493363e028439141dad032026f061f3c593e7', 'message': 'Move *NetworkConfigTemplate to parameter_defaults\n\nRegression from I28892e638f30321b271ceaf54b60020a43ceebb6.\n\nChange-Id: I767052050f63a9d1ed305466dd0aaeb995a5ca9f\n(cherry picked from commit 5326c3d5e393538bff2821f561af644dfb98bb5c)\n'}]",2,823881,524493363e028439141dad032026f061f3c593e7,13,3,1,8833,,,0,"Move *NetworkConfigTemplate to parameter_defaults

Regression from I28892e638f30321b271ceaf54b60020a43ceebb6.

Change-Id: I767052050f63a9d1ed305466dd0aaeb995a5ca9f
(cherry picked from commit 5326c3d5e393538bff2821f561af644dfb98bb5c)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/823881/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ovs-dvr.yaml', 'environments/services/neutron-ovs-dvr.yaml']",2,524493363e028439141dad032026f061f3c593e7,, ComputeDVRNetworkConfigTemplate: 'templates/net_config_bridge.j2' , ComputeDVRNetworkConfigTemplate: 'templates/net_config_bridge.j2',6,5
openstack%2Fpuppet-keystone~master~Ib56fb71570dad471f37c9ebb666b50c496e9502f,openstack/puppet-keystone,master,Ib56fb71570dad471f37c9ebb666b50c496e9502f,Use fact to determine the service command,ABANDONED,2022-01-11 01:58:23.000000000,2022-01-11 02:06:28.000000000,,[],"[{'number': 1, 'created': '2022-01-11 01:58:23.000000000', 'files': ['manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/5109d9ab2883eebd3fc9abad0cbbaea48add7da9', 'message': 'Use fact to determine the service command\n\n... instead of hard-coding the systemctl command.\n\nChange-Id: Ib56fb71570dad471f37c9ebb666b50c496e9502f\n'}]",0,824081,5109d9ab2883eebd3fc9abad0cbbaea48add7da9,2,0,1,9816,,,0,"Use fact to determine the service command

... instead of hard-coding the systemctl command.

Change-Id: Ib56fb71570dad471f37c9ebb666b50c496e9502f
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/81/824081/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",2,5109d9ab2883eebd3fc9abad0cbbaea48add7da9,bug/1957023," if facts[:service_provider] == 'systemd' it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""systemctl restart #{platform_params[:httpd_service_name]}"", ) } else it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""service #{platform_params[:httpd_service_name]} restart"", ) } end if facts[:service_provider] == 'systemd' it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""systemctl restart #{platform_params[:service_name]}"", ) } else it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""service #{platform_params[:service_name]} restart"", ) } end"," it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""systemctl restart #{platform_params[:httpd_service_name]}"", ) } it { is_expected.to contain_exec('restart_keystone').with( 'command' => ""systemctl restart #{platform_params[:service_name]}"", ) }",23,7
openstack%2Fneutron~stable%2Fvictoria~Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,openstack/neutron,stable/victoria,Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,[stable only][ovn]Update get datapath id to network from Port_Binding,MERGED,2022-01-06 06:21:26.000000000,2022-01-11 01:56:07.000000000,2022-01-11 01:53:37.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:21:26.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cff314f92e158c8142dcd238a072fe2a7ca04d87', 'message': ""[stable only][ovn]Update get datapath id to network from Port_Binding\n\nThe value about neutron-metadata-proxy-networks of Chassis's\n external_ids are network_id, and the datapath field of\n Port_Binding table is the uuid of Datapath_Binding tables.\nWhen call function set_port_status_up after boot server instance,\n it check datapath in neutron-metadata-proxy-networks of\n Chassis's external_ids, the datapath id is not match with\n network id, so change get datapath id from Port_Binding\n to get network id.\nSince [1], this is not needed in Xena.\n[1]https://review.opendev.org/c/openstack/neutron/+/791997\n\nCloses-Bug: #1946588\nChange-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d\n(cherry picked from commit f5ea47b09507e7bd620ba3bcd1af771238d79d6d)\n""}]",2,823591,cff314f92e158c8142dcd238a072fe2a7ca04d87,13,3,1,13686,,,0,"[stable only][ovn]Update get datapath id to network from Port_Binding

The value about neutron-metadata-proxy-networks of Chassis's
 external_ids are network_id, and the datapath field of
 Port_Binding table is the uuid of Datapath_Binding tables.
When call function set_port_status_up after boot server instance,
 it check datapath in neutron-metadata-proxy-networks of
 Chassis's external_ids, the datapath id is not match with
 network id, so change get datapath id from Port_Binding
 to get network id.
Since [1], this is not needed in Xena.
[1]https://review.opendev.org/c/openstack/neutron/+/791997

Closes-Bug: #1946588
Change-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d
(cherry picked from commit f5ea47b09507e7bd620ba3bcd1af771238d79d6d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/823591/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",2,cff314f92e158c8142dcd238a072fe2a7ca04d87,bug/1946588-stable/victoria," network_id = binding.datapath.external_ids['name'].replace( 'neutron-', '') (chassis.name, network_id),"," (chassis.name, str(binding.datapath.uuid)),",6,3
openstack%2Fneutron~stable%2Fxena~I206c31201470f178efdde8839622be7900c6ae3e,openstack/neutron,stable/xena,I206c31201470f178efdde8839622be7900c6ae3e,[OVN] Prevent deleting the only IP of a router port,MERGED,2022-01-04 11:13:00.000000000,2022-01-11 01:55:59.000000000,2022-01-11 01:53:42.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 11:13:00.000000000', 'files': ['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca06a2e62b01ab9b0e0c9dee0a7b9d79b95b2894', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}]",6,823377,ca06a2e62b01ab9b0e0c9dee0a7b9d79b95b2894,17,4,1,34118,,,0,"[OVN] Prevent deleting the only IP of a router port

Neutron allows deleting the only IP of a router port but
the OVN NB DB doesn't, since it expects that the
network value of a port is greater than 0. This should
not be possible since it causes that the DB are not
perfectly sync.

It is needed to check BEFORE_UPDATE if the port
that will be updated is of type router owned and
if it will have an IP after the update. If not
an error needs to be raised.

Closes-Bug: #1948457
Change-Id: I206c31201470f178efdde8839622be7900c6ae3e
(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/823377/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,ca06a2e62b01ab9b0e0c9dee0a7b9d79b95b2894,," def test_port_update_before_update_router_port_without_ip(self): context = 'fake_context' port = {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF, 'fixed_ips': [], 'id': 'port-id'} self.assertRaises( n_exc.ServicePortInUse, self.l3_inst._port_update, resources.PORT, events.BEFORE_UPDATE, None, payload=events.DBEventPayload( context, states=(port,)) ) ",,43,2
openstack%2Fnova~stable%2Fvictoria~Ie3129ee395427337e9abcef2f938012608f643e1,openstack/nova,stable/victoria,Ie3129ee395427337e9abcef2f938012608f643e1,Ensure MAC addresses characters are in the same case,MERGED,2021-11-08 00:12:47.000000000,2022-01-11 01:55:55.000000000,2022-01-11 01:53:47.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6062}, {'_account_id': 7130}, {'_account_id': 7166}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-08 00:12:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dee3dd01060c55957d53c1cc70a87ce5932518b8', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 2, 'created': '2021-11-08 11:48:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b6058d54c2e10773e10c494ece85d3accccbba4e', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 3, 'created': '2021-12-15 19:26:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/496b2ee73b833b8e19322fd7d8cca66f42fa9124', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n""}, {'number': 4, 'created': '2021-12-16 14:12:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1455051a9f28a38fc89229dfb48eab5e161b5f9e', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n""}, {'number': 5, 'created': '2021-12-16 14:19:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8fd7d0870de8db6cd4574a234e234c81af19d87c', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n""}, {'number': 6, 'created': '2021-12-16 18:03:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5b93e17d0527759a5fc2132de45d241849412615', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n""}, {'number': 7, 'created': '2021-12-23 14:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c6b3688a4ce638fddaf62bcc8e708266228b703', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n(cherry picked from commit b47b4c7f42fe75ee2dd35ddcf55ec12bb7ee160f)\n""}, {'number': 8, 'created': '2021-12-23 14:03:02.000000000', 'files': ['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/28d0059c1f52e51add31bff50f1f6e443c938792', 'message': ""Ensure MAC addresses characters are in the same case\n\nCurrently neutron can report ports to have MAC addresses\nin upper case when they're created like that. In the meanwhile\nlibvirt configuration file always stores MAC in lower case\nwhich leads to KeyError while trying to retrieve migrate_vif.\n\nConflicts:\n  nova/tests/unit/virt/libvirt/test_migration.py\n\nNote: conflict is caused by not having six.text_type removal patch\nI779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.\nOriginal assertion method was preserved to resolve this conflict.\n\nCloses-Bug: #1945646\nChange-Id: Ie3129ee395427337e9abcef2f938012608f643e1\n(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)\n(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)\n(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)\n""}]",28,816927,28d0059c1f52e51add31bff50f1f6e443c938792,91,11,8,7130,,,0,"Ensure MAC addresses characters are in the same case

Currently neutron can report ports to have MAC addresses
in upper case when they're created like that. In the meanwhile
libvirt configuration file always stores MAC in lower case
which leads to KeyError while trying to retrieve migrate_vif.

Conflicts:
  nova/tests/unit/virt/libvirt/test_migration.py

Note: conflict is caused by not having six.text_type removal patch
I779bd1446dc1f070fa5100ccccda7881fa508d79 in stable/victoria.
Original assertion method was preserved to resolve this conflict.

Closes-Bug: #1945646
Change-Id: Ie3129ee395427337e9abcef2f938012608f643e1
(cherry picked from commit 6a15169ed9f16672c2cde1d7f27178bb7868c41f)
(cherry picked from commit 63a6388f6a0265f84232731aba8aec1bff3c6d18)
(cherry picked from commit 6c3d5de659e558e8f6ee353475b54ff3ca7240ee)
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/816927/7 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/migration.py', 'nova/tests/unit/virt/libvirt/test_migration.py']",2,dee3dd01060c55957d53c1cc70a87ce5932518b8,bug/1945646," self.assertIn(""ca:fe:de:ad:be:ef"", str(ex)) def test_update_vif_xml_lower_case_mac(self): """"""Tests that the vif in the migrate data is not found in the existing guest interfaces. """""" conf = vconfig.LibvirtConfigGuestInterface() conf.net_type = ""bridge"" conf.source_dev = ""qbra188171c-ea"" conf.target_dev = ""tapa188171c-ea"" conf.mac_addr = ""DE:AD:BE:EF:CA:FE"" conf.model = ""virtio"" original_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""de:ad:be:ef:ca:fe""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <virtualport type=""openvswitch""> <parameters interfaceid=""%s""/> </virtualport> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" % uuids.ovs expected_xml = """"""<domain> <uuid>3de6550a-8596-4937-8046-9d862036bca5</uuid> <devices> <interface type=""bridge""> <mac address=""DE:AD:BE:EF:CA:FE""/> <model type=""virtio""/> <source bridge=""qbra188171c-ea""/> <target dev=""tapa188171c-ea""/> <address type='pci' domain='0x0000' bus='0x00' slot='0x04' function='0x0'/> </interface> </devices> </domain>"""""" self._test_update_vif_xml(conf, original_xml, expected_xml)"," self.assertIn(""CA:FE:DE:AD:BE:EF"", six.text_type(ex)) ",50,3
openstack%2Fdevstack~master~I9fb6f010842a495c838d468b47dc5081596f41a2,openstack/devstack,master,I9fb6f010842a495c838d468b47dc5081596f41a2,Added AlmaLinux to CentOS 8 family,MERGED,2021-07-15 16:27:50.000000000,2022-01-11 01:55:46.000000000,2022-01-11 01:53:55.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-15 16:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/401ed72aa0070f2a9225b064d551e65750e71285', 'message': 'Add almalinux to CentOS 8 family\n\nChange-Id: I9fb6f010842a495c838d468b47dc5081596f41a2\n'}, {'number': 2, 'created': '2021-07-15 18:49:20.000000000', 'files': ['functions-common'], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f4eafb823e498a8d5eb344376c41f5bec8a1b04', 'message': 'Added AlmaLinux to CentOS 8 family\n\nChange-Id: I9fb6f010842a495c838d468b47dc5081596f41a2\n'}]",7,800968,6f4eafb823e498a8d5eb344376c41f5bec8a1b04,18,3,2,31654,,,0,"Added AlmaLinux to CentOS 8 family

Change-Id: I9fb6f010842a495c838d468b47dc5081596f41a2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/68/800968/2 && git format-patch -1 --stdout FETCH_HEAD,['functions-common'],1,401ed72aa0070f2a9225b064d551e65750e71285,," ""$os_VENDOR"" =~ (AlmaLinux) || \ [ ""$os_VENDOR"" = ""AlmaLinux"" ] || \",,2,0
openstack%2Frequirements~master~I445d3abb9552b94ec6a0803019676d057dd5922a,openstack/requirements,master,I445d3abb9552b94ec6a0803019676d057dd5922a,update pysaml2 to 7.1.x,MERGED,2021-11-19 17:49:00.000000000,2022-01-11 01:55:41.000000000,2022-01-11 01:53:59.000000000,"[{'_account_id': 14288}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-19 17:49:00.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d3b2fe403d3d226116339c11cb8cf14410788356', 'message': 'update pysaml2 to 7.1.x\n\nChange-Id: I445d3abb9552b94ec6a0803019676d057dd5922a\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",2,818612,d3b2fe403d3d226116339c11cb8cf14410788356,19,3,1,14288,,,0,"update pysaml2 to 7.1.x

Change-Id: I445d3abb9552b94ec6a0803019676d057dd5922a
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/12/818612/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d3b2fe403d3d226116339c11cb8cf14410788356,pysaml2-7.1,pysaml2===7.1.0,pysaml2===7.0.1,1,1
openstack%2Fneutron~stable%2Fussuri~Id25ca8a67b52393a1c24c9d659189adc9c16a011,openstack/neutron,stable/ussuri,Id25ca8a67b52393a1c24c9d659189adc9c16a011,Fix privileged create_netns function,MERGED,2022-01-10 11:00:32.000000000,2022-01-11 01:55:41.000000000,2022-01-10 22:31:58.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 11:00:32.000000000', 'files': ['neutron/privileged/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/abe24c27056020f47f14d2bb40ea0f27bede90cc', 'message': 'Fix privileged create_netns function\n\nIn the patch [1] create_netns function from the Neutron\'s\nprivileged ip_lib module was changed in the way that it was\nimplemented in the same way like original pyroute2\'s create_netns\nfunction.\nUnfortunately during backporing that patch to stable/ussuri and\nstable/train branches, we probably made mistake and instead of\ncalling pyroute2\'s private function _netns() we still called\npublic function netns() (which we tried to ""reimplement"" really).\n\nSo this patch updates it and changes to use private _netns() function\nfrom pyroute2, in the same way like it is done in the branches newer\nthan stable/ussuri.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/778735\n\nRelated-Bug: #1917487\nChange-Id: Id25ca8a67b52393a1c24c9d659189adc9c16a011\n'}]",2,823962,abe24c27056020f47f14d2bb40ea0f27bede90cc,10,4,1,11975,,,0,"Fix privileged create_netns function

In the patch [1] create_netns function from the Neutron's
privileged ip_lib module was changed in the way that it was
implemented in the same way like original pyroute2's create_netns
function.
Unfortunately during backporing that patch to stable/ussuri and
stable/train branches, we probably made mistake and instead of
calling pyroute2's private function _netns() we still called
public function netns() (which we tried to ""reimplement"" really).

So this patch updates it and changes to use private _netns() function
from pyroute2, in the same way like it is done in the branches newer
than stable/ussuri.

[1] https://review.opendev.org/c/openstack/neutron/+/778735

Related-Bug: #1917487
Change-Id: Id25ca8a67b52393a1c24c9d659189adc9c16a011
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/823962/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/privileged/agent/linux/ip_lib.py'],1,abe24c27056020f47f14d2bb40ea0f27bede90cc,bug/1917487," netns._create(name, libc=_get_cdll())"," netns.create(name, libc=_get_cdll())",1,1
openstack%2Fneutron~stable%2Fussuri~I8877c658446fed155130add6f1c69f2772113c27,openstack/neutron,stable/ussuri,I8877c658446fed155130add6f1c69f2772113c27,Allocate IPs in bulk requests in separate transactions,MERGED,2021-12-23 14:21:42.000000000,2022-01-11 01:47:54.000000000,2022-01-11 01:45:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 14:21:42.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5595239435f799926eb3e0397b3bc9d79b62e473', 'message': 'Allocate IPs in bulk requests in separate transactions\n\nIn the ML2 plugin in create_port_bulk method, we are iterating over\nlist of the ports to be created and do everything for all ports in\nsingle DB transaction (which makes totally sense as this is bulk\nrequest).\nBut one of the things which was done during that huge transaction was\nallocation of the IP addresses for all ports. That action is prone for\nrace conditions and can fail often, especially when there is no many IP\naddresses available in the subnet(s) for the ports.\nIn case of the error while allocating IP address even for one port from\nthe whole bulk request, whole create_port_bulk method was retried so\nallocations (and everything else) for all ports was reverted and started\nfrom scratch. That takes a lot of time so some requests may be processed\nvery long time, like e.g. 2-3 minutes in my tests.\n\nTo reproduce that issue I did simple script which created network with\n/24 subnet and then sent 24 requests to create 10 ports in bulk in each\nrequest. That was in totall 240 ports created in that subnet.\nI measured time of the creation of all those ports in the current master\nbranch (without this patch) and with the patch. Results are like below:\n\n+-----+---------------+------------+---------------------------+\n| Run | Master branch | This patch | Simulate bulk by creation |\n|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |\n+-----+---------------+------------+---------------------------+\n| 1   | 01:37         | 01:02      | 00:57                     |\n| 2   | 02:06         | 00:40      | 01:03                     |\n| 3   | 02:08         | 00:41      | 00:59                     |\n| 4   | 02:14         | 00:45      | 00:55                     |\n| 5   | 01:58         | 00:45      | 00:57                     |\n| 6   | 02:37         | 00:53      | 01:05                     |\n| 7   | 01:59         | 00:42      | 00:58                     |\n| 8   | 02:01         | 00:41      | 00:57                     |\n| 9   | 02:39         | 00:42      | 00:55                     |\n| 10  | 01:59         | 00:41      | 00:56                     |\n+-----+---------------+------------+---------------------------+\n| AVG | 00:02:07      | 00:00:45   | 00:58                     |\n+-----+---------------+------------+---------------------------+\n\nCloses-Bug: #1954763\nChange-Id: I8877c658446fed155130add6f1c69f2772113c27\n(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)\n'}]",2,822797,5595239435f799926eb3e0397b3bc9d79b62e473,14,3,1,11975,,,0,"Allocate IPs in bulk requests in separate transactions

In the ML2 plugin in create_port_bulk method, we are iterating over
list of the ports to be created and do everything for all ports in
single DB transaction (which makes totally sense as this is bulk
request).
But one of the things which was done during that huge transaction was
allocation of the IP addresses for all ports. That action is prone for
race conditions and can fail often, especially when there is no many IP
addresses available in the subnet(s) for the ports.
In case of the error while allocating IP address even for one port from
the whole bulk request, whole create_port_bulk method was retried so
allocations (and everything else) for all ports was reverted and started
from scratch. That takes a lot of time so some requests may be processed
very long time, like e.g. 2-3 minutes in my tests.

To reproduce that issue I did simple script which created network with
/24 subnet and then sent 24 requests to create 10 ports in bulk in each
request. That was in totall 240 ports created in that subnet.
I measured time of the creation of all those ports in the current master
branch (without this patch) and with the patch. Results are like below:

+-----+---------------+------------+---------------------------+
| Run | Master branch | This patch | Simulate bulk by creation |
|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |
+-----+---------------+------------+---------------------------+
| 1   | 01:37         | 01:02      | 00:57                     |
| 2   | 02:06         | 00:40      | 01:03                     |
| 3   | 02:08         | 00:41      | 00:59                     |
| 4   | 02:14         | 00:45      | 00:55                     |
| 5   | 01:58         | 00:45      | 00:57                     |
| 6   | 02:37         | 00:53      | 01:05                     |
| 7   | 01:59         | 00:42      | 00:58                     |
| 8   | 02:01         | 00:41      | 00:57                     |
| 9   | 02:39         | 00:42      | 00:55                     |
| 10  | 01:59         | 00:41      | 00:56                     |
+-----+---------------+------------+---------------------------+
| AVG | 00:02:07      | 00:00:45   | 00:58                     |
+-----+---------------+------------+---------------------------+

Closes-Bug: #1954763
Change-Id: I8877c658446fed155130add6f1c69f2772113c27
(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/822797/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",3,5595239435f799926eb3e0397b3bc9d79b62e473,bug/1954763-stable/xena-stable/wallaby-stable/victoria-stable/ussuri," def allocate_ips_for_ports(self, context, ports): for port in ports: port['port']['id'] = ( port['port'].get('id') or uuidutils.generate_uuid()) # Call IPAM to allocate IP addresses try: port['ipams'] = self.ipam.allocate_ips_for_port(context, port) port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED) return ports def create_port_bulk(self, context, ports): port_list = self.allocate_ips_for_ports(context, port_list) try: return self._create_port_bulk(context, port_list) except Exception: with excutils.save_and_reraise_exception(): # If any issue happened allocated IP addresses needs to be # deallocated now for port in port_list: self.ipam.deallocate_ips_from_port( context, port, port['ipams']) @db_api.retry_if_session_inactive() def _create_port_bulk(self, context, port_list): # TODO(njohnston): Break this up into smaller functions. id=port['port']['id'], # Call IPAM to store allocated IP addresses ipams = port.pop(""ipams"") self.ipam.store_ip_allocation_for_port( context, ipams, network_id, port) ipam_fixed_ips = [] for ip in ipams: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = port.pop('ip_allocation')"," @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): # TODO(njohnston): Break this up into smaller functions. id=uuidutils.generate_uuid(), # Call IPAM to allocate IP addresses try: # TODO(njohnston): IPAM allocation needs to be revamped to # be bulk-friendly. ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED)",104,36
openstack%2Fswift~master~Ib29816c4626bb0d914929783bd676e8b6cb19bbf,openstack/swift,master,Ib29816c4626bb0d914929783bd676e8b6cb19bbf,tests: Improve FakeMemcache call tracking,MERGED,2022-01-06 18:11:07.000000000,2022-01-11 01:47:48.000000000,2022-01-11 01:46:03.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 18:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ffe1c1d95fe4baa5e2b08803de1e34639ef65fc5', 'message': 'test: Improve FakeMemcache call tracking\n\nMake it much more like mock tracking, so we can easily add new kwargs.\n\nChange-Id: Ib29816c4626bb0d914929783bd676e8b6cb19bbf\n'}, {'number': 2, 'created': '2022-01-06 19:05:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/764c6c939e975f3c59b613615da329d51157f6d1', 'message': 'tests: Improve FakeMemcache call tracking\n\nMake it much more like mock tracking, so we can easily add new kwargs.\n\nChange-Id: Ib29816c4626bb0d914929783bd676e8b6cb19bbf\n'}, {'number': 3, 'created': '2022-01-07 21:09:51.000000000', 'files': ['test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/874a5865b8e7a1ffe253fcab5b5eb7febfaa4cbf', 'message': 'tests: Improve FakeMemcache call tracking\n\nMake it much more like mock tracking, so we can easily add new kwargs.\n\nChange-Id: Ib29816c4626bb0d914929783bd676e8b6cb19bbf\n'}]",8,823725,874a5865b8e7a1ffe253fcab5b5eb7febfaa4cbf,17,3,3,15343,,,0,"tests: Improve FakeMemcache call tracking

Make it much more like mock tracking, so we can easily add new kwargs.

Change-Id: Ib29816c4626bb0d914929783bd676e8b6cb19bbf
",git fetch https://review.opendev.org/openstack/swift refs/changes/25/823725/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/__init__.py', 'test/unit/proxy/controllers/test_container.py']",2,ffe1c1d95fe4baa5e2b08803de1e34639ef65fc5,fake-mock-or-mock-fake," [mock.call.get('container/a/c'), mock.call.set('shard-listing/a/c', self.sr_dicts, time=exp_recheck_listing), mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[2][1][1]['sharding_state']) [mock.call.get('container/a/c'), mock.call.get('shard-listing/a/c')], [mock.call.delete('container/a/c'), mock.call.delete('shard-listing/a/c')], [mock.call.get('container/a/c'), mock.call.get('shard-listing/a/c'), mock.call.set('container/a/c', mock.ANY, time=6.0)], self.assertEqual(404, self.memcache.calls[2][1][1]['status']) [mock.call.get('container/a/c'), mock.call.get('shard-listing/a/c')], [mock.call.get('container/a/c'), mock.call.set('shard-listing/a/c', self.sr_dicts, time=600), mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[2][1][1]['sharding_state']) [mock.call.set('shard-listing/a/c', self.sr_dicts, time=600), mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[1][1][1]['sharding_state']) [mock.call.get('container/a/c'), mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[1][1][1]['sharding_state']) [mock.call.get('container/a/c'), mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[1][1][1]['sharding_state']) [mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[0][1][1]['sharding_state']) [mock.call.set('container/a/c', mock.ANY, time=60)], self.memcache.calls[0][1][1]['sharding_state'])"," [('get', 'container/a/c', None, None), ('set', 'shard-listing/a/c', self.sr_dicts, exp_recheck_listing), ('set', 'container/a/c', mock.ANY, 60)], self.assertEqual(self.sr_dicts, self.memcache.calls[1][2]) self.memcache.calls[2][2]['sharding_state']) [('get', 'container/a/c', None, None), ('get', 'shard-listing/a/c', None, None)], [('delete', 'container/a/c', None, None), ('delete', 'shard-listing/a/c', None, None)], [('get', 'container/a/c', None, None), ('get', 'shard-listing/a/c', None, None), ('set', 'container/a/c', mock.ANY, 6.0)], self.assertEqual(404, self.memcache.calls[2][2]['status']) [('get', 'container/a/c', None, None), ('get', 'shard-listing/a/c', None, None)], [('get', 'container/a/c', None, None), ('set', 'shard-listing/a/c', self.sr_dicts, 600), ('set', 'container/a/c', mock.ANY, 60)], self.assertEqual(self.sr_dicts, self.memcache.calls[1][2]) self.memcache.calls[2][2]['sharding_state']) [('set', 'shard-listing/a/c', self.sr_dicts, 600), ('set', 'container/a/c', mock.ANY, 60)], self.assertEqual(self.sr_dicts, self.memcache.calls[0][2]) self.memcache.calls[1][2]['sharding_state']) [('get', 'container/a/c', None, None), ('set', 'container/a/c', mock.ANY, 60)], self.memcache.calls[1][2]['sharding_state']) [('get', 'container/a/c', None, None), ('set', 'container/a/c', mock.ANY, 60)], self.memcache.calls[1][2]['sharding_state']) [('set', 'container/a/c', mock.ANY, 60)], self.memcache.calls[0][2]['sharding_state']) [('set', 'container/a/c', mock.ANY, 60)], self.memcache.calls[0][2]['sharding_state'])",47,44
openstack%2Fneutron~master~I4c209fa4f504440a44d21a05f2703259f62519a5,openstack/neutron,master,I4c209fa4f504440a44d21a05f2703259f62519a5,Fix expected exception raised when new scope types are enforced,MERGED,2021-10-28 13:06:55.000000000,2022-01-11 01:43:26.000000000,2022-01-11 01:41:34.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-28 13:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcefaa55e0891b86e9a8a681ac6fc76de9235cee', 'message': 'Fix expected exception raised when new scope types are enforced\n\nAfter fix for the related bug will be fixed in oslo_policy [1],\nInvalidScope exception will be raised for the API requests done with\nproject scope when ""system"" scope is required.\nThis patch changes our API policies unit tests to expect proper\nexception to be raised in such cases.\n\nRelated-Bug: #1923503\nChange-Id: I4c209fa4f504440a44d21a05f2703259f62519a5\n'}, {'number': 2, 'created': '2021-10-28 13:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7122bdf243e3d395307c312aeb3c234329ca109', 'message': 'Fix expected exception raised when new scope types are enforced\n\nAfter fix for the related bug will be fixed in oslo_policy [1],\nInvalidScope exception will be raised for the API requests done with\nproject scope when ""system"" scope is required.\nThis patch changes our API policies unit tests to expect proper\nexception to be raised in such cases.\n\nThis patch also re-enables enforcing scope in those UT.\n\nRelated-Bug: #1923503\nChange-Id: I4c209fa4f504440a44d21a05f2703259f62519a5\n'}, {'number': 3, 'created': '2021-12-20 13:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/48d084d5b8952c1eb9658e6058d11ca3b6e0eec1', 'message': 'Fix expected exception raised when new scope types are enforced\n\nAfter fix for the related bug will be fixed in oslo_policy [1],\nInvalidScope exception will be raised for the API requests done with\nproject scope when ""system"" scope is required.\nThis patch changes our API policies unit tests to expect proper\nexception to be raised in such cases.\n\nThis patch also re-enables enforcing scope in those UT.\n\nRelated-Bug: #1923503\nChange-Id: I4c209fa4f504440a44d21a05f2703259f62519a5\n'}, {'number': 4, 'created': '2021-12-20 14:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b151771dacb00a329191c4e79656228fe3884719', 'message': 'Fix expected exception raised when new scope types are enforced\n\nAfter fix for the related bug will be fixed in oslo_policy [1],\nInvalidScope exception will be raised for the API requests done with\nproject scope when ""system"" scope is required.\nThis patch changes our API policies unit tests to expect proper\nexception to be raised in such cases.\n\nThis patch also bumps minimum required oslo.policy version to\n3.10.1 which contains fix for the scope enforcement in the\ncustom rules.\nFinally it also re-enables enforcing scope in those UT.\n\nRelated-Bug: #1923503\nChange-Id: I4c209fa4f504440a44d21a05f2703259f62519a5\n'}, {'number': 5, 'created': '2021-12-20 14:27:08.000000000', 'files': ['neutron/tests/unit/conf/policies/test_flavor.py', 'neutron/tests/unit/conf/policies/test_quotas.py', 'neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/tests/unit/conf/policies/test_subnetpool.py', 'neutron/tests/unit/conf/policies/test_port.py', 'lower-constraints.txt', 'neutron/tests/unit/conf/policies/test_subnet.py', 'neutron/tests/unit/conf/policies/base.py', 'neutron/tests/unit/conf/policies/test_agent.py', 'requirements.txt', 'neutron/tests/unit/conf/policies/test_logging.py', 'neutron/tests/unit/conf/policies/test_network.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/tests/unit/conf/policies/test_router.py', 'neutron/tests/unit/conf/policies/test_segment.py', 'neutron/tests/unit/conf/policies/test_network_segment_range.py', 'neutron/tests/unit/conf/policies/test_network_ip_availability.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/da8d0eaeea08bac469a4236c546103d7bfb12471', 'message': 'Fix expected exception raised when new scope types are enforced\n\nAfter fix for the related bug will be fixed in oslo_policy [1],\nInvalidScope exception will be raised for the API requests done with\nproject scope when ""system"" scope is required.\nThis patch changes our API policies unit tests to expect proper\nexception to be raised in such cases.\n\nThis patch also bumps minimum required oslo.policy version to\n3.10.1 which contains fix for the scope enforcement in the\ncustom rules.\nFinally it also re-enables enforcing scope in those UT.\n\n[1] https://review.opendev.org/c/openstack/oslo.policy/+/804980\n\nRelated-Bug: #1923503\nChange-Id: I4c209fa4f504440a44d21a05f2703259f62519a5\n'}]",6,815837,da8d0eaeea08bac469a4236c546103d7bfb12471,37,6,5,11975,,,0,"Fix expected exception raised when new scope types are enforced

After fix for the related bug will be fixed in oslo_policy [1],
InvalidScope exception will be raised for the API requests done with
project scope when ""system"" scope is required.
This patch changes our API policies unit tests to expect proper
exception to be raised in such cases.

This patch also bumps minimum required oslo.policy version to
3.10.1 which contains fix for the scope enforcement in the
custom rules.
Finally it also re-enables enforcing scope in those UT.

[1] https://review.opendev.org/c/openstack/oslo.policy/+/804980

Related-Bug: #1923503
Change-Id: I4c209fa4f504440a44d21a05f2703259f62519a5
",git fetch https://review.opendev.org/openstack/neutron refs/changes/37/815837/5 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/conf/policies/test_flavor.py', 'neutron/tests/unit/conf/policies/test_quotas.py', 'neutron/tests/unit/conf/policies/test_availability_zone.py', 'neutron/tests/unit/conf/policies/test_subnetpool.py', 'neutron/tests/unit/conf/policies/test_port.py', 'neutron/tests/unit/conf/policies/test_subnet.py', 'neutron/tests/unit/conf/policies/test_agent.py', 'neutron/tests/unit/conf/policies/test_logging.py', 'neutron/tests/unit/conf/policies/test_network.py', 'neutron/tests/unit/conf/policies/test_qos.py', 'neutron/tests/unit/conf/policies/test_router.py', 'neutron/tests/unit/conf/policies/test_segment.py', 'neutron/tests/unit/conf/policies/test_network_segment_range.py', 'neutron/tests/unit/conf/policies/test_network_ip_availability.py']",14,fcefaa55e0891b86e9a8a681ac6fc76de9235cee,bug/1923503," base_policy.InvalidScope,"," base_policy.PolicyNotAuthorized,",214,214
openstack%2Fneutron~stable%2Fussuri~Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,openstack/neutron,stable/ussuri,Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d,[stable only][ovn]Update get datapath id to network from Port_Binding,MERGED,2022-01-06 06:22:48.000000000,2022-01-11 01:39:48.000000000,2022-01-11 01:37:37.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:22:48.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/135e618c22326d6a23b47662d16443a43db840bb', 'message': ""[stable only][ovn]Update get datapath id to network from Port_Binding\n\nThe value about neutron-metadata-proxy-networks of Chassis's\n external_ids are network_id, and the datapath field of\n Port_Binding table is the uuid of Datapath_Binding tables.\nWhen call function set_port_status_up after boot server instance,\n it check datapath in neutron-metadata-proxy-networks of\n Chassis's external_ids, the datapath id is not match with\n network id, so change get datapath id from Port_Binding\n to get network id.\nSince [1], this is not needed in Xena.\n[1]https://review.opendev.org/c/openstack/neutron/+/791997\n\nCloses-Bug: #1946588\nChange-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d\n(cherry picked from commit f5ea47b09507e7bd620ba3bcd1af771238d79d6d)\n(cherry picked from commit cff314f92e158c8142dcd238a072fe2a7ca04d87)\n""}]",1,823592,135e618c22326d6a23b47662d16443a43db840bb,10,3,1,13686,,,0,"[stable only][ovn]Update get datapath id to network from Port_Binding

The value about neutron-metadata-proxy-networks of Chassis's
 external_ids are network_id, and the datapath field of
 Port_Binding table is the uuid of Datapath_Binding tables.
When call function set_port_status_up after boot server instance,
 it check datapath in neutron-metadata-proxy-networks of
 Chassis's external_ids, the datapath id is not match with
 network id, so change get datapath id from Port_Binding
 to get network id.
Since [1], this is not needed in Xena.
[1]https://review.opendev.org/c/openstack/neutron/+/791997

Closes-Bug: #1946588
Change-Id: Ib3c1bea9b805dc7d9967f66b3b0136efb3e8e08d
(cherry picked from commit f5ea47b09507e7bd620ba3bcd1af771238d79d6d)
(cherry picked from commit cff314f92e158c8142dcd238a072fe2a7ca04d87)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/823592/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",2,135e618c22326d6a23b47662d16443a43db840bb,bug/1946588-stable/victoria-stable/ussuri," network_id = binding.datapath.external_ids['name'].replace( 'neutron-', '') (chassis.name, network_id),"," (chassis.name, str(binding.datapath.uuid)),",6,3
openstack%2Fcharm-guide~master~I516429a93563205148d18b96e32d428d424a681a,openstack/charm-guide,master,I516429a93563205148d18b96e32d428d424a681a,Move howto contents to admin directory,MERGED,2022-01-07 19:06:39.000000000,2022-01-11 01:28:21.000000000,2022-01-11 01:26:53.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 19:06:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/646ced1c20c5e811d9e7eb99a7ee4db82115ab21', 'message': 'Move howto contents to admin directory\n\nChange-Id: I516429a93563205148d18b96e32d428d424a681a\n'}, {'number': 2, 'created': '2022-01-07 19:08:53.000000000', 'files': ['doc/source/admin/ops-replace-rabbitmq-node.rst', 'doc/source/admin/index.rst', 'doc/source/admin/managing-power-events-juju-status.rst', 'doc/source/admin/managing-power-events.rst', 'doc/source/admin/ops-repair-rabbitmq-node.rst', 'doc/test/redirect-tests.txt', 'doc/source/howto/index.rst', 'doc/source/index.rst', 'doc/source/admin/managing-power-events-topology.rst', 'doc/source/admin/deferred-events.rst', 'doc/source/_extra/.htaccess', 'doc/source/admin/ops-start-innodb-from-outage.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/8bf87e2c8ac0729a591c00d76ba75a5583aaec87', 'message': 'Move howto contents to admin directory\n\nThis is needed because it was discovered that the\n""admin guide"" link from upstream (docs.openstack.org)\ncannot be a redirect (to our current howto dir). I\nlike the new organisation better anyway.\n\nChange-Id: I516429a93563205148d18b96e32d428d424a681a\n'}]",1,823859,8bf87e2c8ac0729a591c00d76ba75a5583aaec87,8,2,2,30561,,,0,"Move howto contents to admin directory

This is needed because it was discovered that the
""admin guide"" link from upstream (docs.openstack.org)
cannot be a redirect (to our current howto dir). I
like the new organisation better anyway.

Change-Id: I516429a93563205148d18b96e32d428d424a681a
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/59/823859/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/ops-replace-rabbitmq-node.rst', 'doc/source/admin/index.rst', 'doc/source/admin/managing-power-events-juju-status.rst', 'doc/source/admin/managing-power-events.rst', 'doc/source/admin/ops-repair-rabbitmq-node.rst', 'doc/test/redirect-tests.txt', 'doc/source/howto/index.rst', 'doc/source/index.rst', 'doc/source/admin/managing-power-events-topology.rst', 'doc/source/admin/deferred-events.rst', 'doc/source/_extra/.htaccess', 'doc/source/admin/ops-start-innodb-from-outage.rst']",12,646ced1c20c5e811d9e7eb99a7ee4db82115ab21,rename-howto-to-admin,the :doc:`Managing power events <managing-power-events>` page for full,the :doc:`Managing power events <../howto/managing-power-events>` page for full,56,58
openstack%2Frpm-packaging~master~Icf9413e566a37e61f8d6fc02f6f664261eb4d1eb,openstack/rpm-packaging,master,Icf9413e566a37e61f8d6fc02f6f664261eb4d1eb,Move to latest listed versions,MERGED,2021-12-20 11:55:03.000000000,2022-01-11 00:22:05.000000000,2022-01-11 00:22:05.000000000,"[{'_account_id': 6593}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-20 11:55:03.000000000', 'files': ['openstack/oslo.middleware/oslo.middleware.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/os-api-ref/os-api-ref.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/oslo.metrics/oslo.metrics.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/e325894d339df400f86cb841760eee9db14822bd', 'message': 'Move to latest listed versions\n\nChange-Id: Icf9413e566a37e61f8d6fc02f6f664261eb4d1eb\n'}]",0,822310,e325894d339df400f86cb841760eee9db14822bd,9,5,1,6593,,,0,"Move to latest listed versions

Change-Id: Icf9413e566a37e61f8d6fc02f6f664261eb4d1eb
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/10/822310/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslo.middleware/oslo.middleware.spec.j2', 'openstack/oslo.utils/oslo.utils.spec.j2', 'openstack/os-api-ref/os-api-ref.spec.j2', 'openstack/openstacksdk/openstacksdk.spec.j2', 'openstack/oslo.service/oslo.service.spec.j2', 'openstack/keystoneauth1/keystoneauth1.spec.j2', 'openstack/oslo.metrics/oslo.metrics.spec.j2', 'openstack/ovsdbapp/ovsdbapp.spec.j2']",8,e325894d339df400f86cb841760eee9db14822bd,,{% set upstream_version = upstream_version('1.13.0') %},{% set upstream_version = upstream_version('1.12.0') %},8,8
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Id99346ac0fc336b306550e71da0f9b746ff83ef1,openstack/python-tripleoclient,stable/wallaby,Id99346ac0fc336b306550e71da0f9b746ff83ef1,Handle missing ipv6 boolean in network_data.yaml for Ceph,MERGED,2022-01-10 13:07:31.000000000,2022-01-10 23:31:30.000000000,2022-01-10 23:29:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-10 13:07:31.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c41459a61d8c0154f0724e78c1bdc53fbf6c518a', 'message': ""Handle missing ipv6 boolean in network_data.yaml for Ceph\n\nIt's not valid input to exclude the ipv6 boolean when\nusing IPv6, but when this happens the client fails with\na type error. Handle this situation better and return\na better error message.\n\nCloses-Bug: 1956517\nChange-Id: Id99346ac0fc336b306550e71da0f9b746ff83ef1\n(cherry picked from commit 79fa6fbe1cd73c55a2b56dcb81ace2c2c01ce75b)\n""}]",1,823845,c41459a61d8c0154f0724e78c1bdc53fbf6c518a,8,2,1,18002,,,0,"Handle missing ipv6 boolean in network_data.yaml for Ceph

It's not valid input to exclude the ipv6 boolean when
using IPv6, but when this happens the client fails with
a type error. Handle this situation better and return
a better error message.

Closes-Bug: 1956517
Change-Id: Id99346ac0fc336b306550e71da0f9b746ff83ef1
(cherry picked from commit 79fa6fbe1cd73c55a2b56dcb81ace2c2c01ce75b)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/45/823845/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,c41459a61d8c0154f0724e78c1bdc53fbf6c518a,bug/1956517-stable/wallaby," ip_subnets = list(map(lambda x: x.get(ip_subnet, ''), ""value set. To use an ipv6_subnet add "" ""key 'ipv6: true' to %s in %s."" net_value, ip_subnet, net_value, network_data_path))"," ip_subnets = list(map(lambda x: x.get(ip_subnet), ""value set."" net_value, ip_subnet))",5,3
openstack%2Fpython-tripleoclient~master~Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685,openstack/python-tripleoclient,master,Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685,Make deployed ceph baremetal file optional,MERGED,2021-12-22 15:49:02.000000000,2022-01-10 23:31:24.000000000,2022-01-10 23:29:32.000000000,"[{'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2021-12-22 15:49:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/0fbb57c808eb8de6eec6a302984d37c9e1d871c7', 'message': ""Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to 'openstack\novercloud ceph deploy', then it is not necessary\nfor the path to the environment file output from\n'openstack overcloud node provision' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n""}, {'number': 2, 'created': '2021-12-22 16:45:02.000000000', 'files': ['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/84055814f9303a3fea6a252a24c2d9d123535bea', 'message': ""Make deployed ceph baremetal file optional\n\nIf the --ceph-spec option is passed to 'openstack\novercloud ceph deploy', then it is not necessary\nfor the path to the environment file output from\n'openstack overcloud node provision' to be passed.\n\nAdd conditional to ensure that either --ceph-spec\nor <deployed_baremetal.yaml> are used and add two\nunit tests to cover all three scenarios: a. metal\nis passed, b. spec is passed and c. neither are\npassed so a failure is asserted.\n\nDepends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773\nChange-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685\n""}]",1,822726,84055814f9303a3fea6a252a24c2d9d123535bea,13,4,2,18002,,,0,"Make deployed ceph baremetal file optional

If the --ceph-spec option is passed to 'openstack
overcloud ceph deploy', then it is not necessary
for the path to the environment file output from
'openstack overcloud node provision' to be passed.

Add conditional to ensure that either --ceph-spec
or <deployed_baremetal.yaml> are used and add two
unit tests to cover all three scenarios: a. metal
is passed, b. spec is passed and c. neither are
passed so a failure is asserted.

Depends-On: I9a6bd27f825d226b508053e4b7d2670a14f6f773
Change-Id: Ibd350956f401fa48aaeae89fdd5e0bd9c28d0685
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/26/822726/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v2/overcloud_ceph.py', 'tripleoclient/tests/v2/overcloud_ceph/test_overcloud_ceph.py']",2,0fbb57c808eb8de6eec6a302984d37c9e1d871c7,metal_optional," @mock.patch('tripleoclient.utils.get_ceph_networks', autospect=True) @mock.patch('tripleoclient.utils.TempDirs', autospect=True) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) @mock.patch('tripleoclient.utils.run_ansible_playbook', autospec=True) def test_deploy_ceph_spec(self, mock_playbook, mock_abspath, mock_path_exists, mock_tempdirs, mock_get_ceph_networks): arglist = ['--yes', '--stack', 'overcloud', '--skip-user-create', '--mon-ip', '127.0.0.1', '--ceph-spec', 'ceph_spec.yaml', '--cephadm-ssh-user', 'jimmy', '--output', 'deployed-ceph.yaml', '--container-namespace', 'quay.io/ceph', '--container-image', 'ceph', '--container-tag', 'latest'] parsed_args = self.check_parser(self.cmd, arglist, []) self.cmd.take_action(parsed_args) mock_playbook.assert_called_once_with( playbook='cli-deployed-ceph.yaml', inventory=mock.ANY, workdir=mock.ANY, playbook_dir=mock.ANY, verbosity=3, skip_tags='cephadm_ssh_user', reproduce_command=False, extra_vars={ ""deployed_ceph_tht_path"": mock.ANY, ""working_dir"": mock.ANY, ""stack_name"": 'overcloud', 'tripleo_roles_path': mock.ANY, 'tripleo_cephadm_first_mon_ip': '127.0.0.1', 'dynamic_ceph_spec': False, 'ceph_spec_path': mock.ANY, 'tripleo_cephadm_container_ns': 'quay.io/ceph', 'tripleo_cephadm_container_image': 'ceph', 'tripleo_cephadm_container_tag': 'latest', 'tripleo_cephadm_ssh_user': 'jimmy', } ) @mock.patch('os.path.abspath', autospect=True) @mock.patch('os.path.exists', autospect=True) def test_overcloud_deploy_ceph_no_metal(self, mock_abspath, mock_path_exists): arglist = ['--stack', 'overcloud', '--output', 'deployed-ceph.yaml'] parsed_args = self.check_parser(self.cmd, arglist, []) self.assertRaises(osc_lib_exc.CommandError, self.cmd.take_action, parsed_args) ",,78,13
openstack%2Fpython-tripleoclient~stable%2Ftrain~I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c,openstack/python-tripleoclient,stable/train,I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c,Passes playbook to the validation action as a list,MERGED,2022-01-07 13:22:04.000000000,2022-01-10 23:31:14.000000000,2022-01-10 23:29:22.000000000,"[{'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-01-07 13:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bc8d6e103326f7a6378f1278c14e0c0fdcc2d91c', 'message': ""Passes playbook to the validation action as a list\n\nRecent removal of the 'validations_libs.utils.convert_data'\nfunction, implemented by the Ief9459e914ea73fbd59a85c07a55c26078e0126a,\nresulted in a change of accepted argument types of\nthe 'validations_libs.validation_actions' methods.\n\nThis patch turns the passed argument from string into a list.\n\nCloses-bug: #1936465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c\n(cherry picked from commit efdefd92de54d2dd0803f0367bf89bb577927037)\n(cherry picked from commit 265c15ab2ff13f2a50f0e75773550a824365b517)\n""}, {'number': 2, 'created': '2022-01-07 13:22:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a4eab903da90405e0512468c96f8a23e4f5f6258', 'message': ""Passes playbook to the validation action as a list\n\nRecent removal of the 'validations_libs.utils.convert_data'\nfunction, implemented by the Ief9459e914ea73fbd59a85c07a55c26078e0126a,\nresulted in a change of accepted argument types of\nthe 'validations_libs.validation_actions' methods.\n\nThis patch turns the passed argument from string into a list.\n\nCloses-bug: #1936465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c\n(cherry picked from commit efdefd92de54d2dd0803f0367bf89bb577927037)\n(cherry picked from commit 265c15ab2ff13f2a50f0e75773550a824365b517)\n""}, {'number': 3, 'created': '2022-01-07 18:24:22.000000000', 'files': ['tripleoclient/v1/undercloud_preflight.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/db6a3287f465ab90d3cc0be393f6d29d10f5fc48', 'message': ""Passes playbook to the validation action as a list\n\nRecent removal of the 'validations_libs.utils.convert_data'\nfunction, implemented by the Ief9459e914ea73fbd59a85c07a55c26078e0126a,\nresulted in a change of accepted argument types of\nthe 'validations_libs.validation_actions' methods.\n\nThis patch turns the passed argument from string into a list.\n\nCloses-bug: #1936465\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c\n(cherry picked from commit efdefd92de54d2dd0803f0367bf89bb577927037)\n(cherry picked from commit 265c15ab2ff13f2a50f0e75773550a824365b517)\n""}]",5,823760,db6a3287f465ab90d3cc0be393f6d29d10f5fc48,14,5,3,16515,,,0,"Passes playbook to the validation action as a list

Recent removal of the 'validations_libs.utils.convert_data'
function, implemented by the Ief9459e914ea73fbd59a85c07a55c26078e0126a,
resulted in a change of accepted argument types of
the 'validations_libs.validation_actions' methods.

This patch turns the passed argument from string into a list.

Closes-bug: #1936465

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I4e96f5a0e013de5abcde837dad3c5f9d5228dd4c
(cherry picked from commit efdefd92de54d2dd0803f0367bf89bb577927037)
(cherry picked from commit 265c15ab2ff13f2a50f0e75773550a824365b517)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/60/823760/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud_preflight.py'],1,bc8d6e103326f7a6378f1278c14e0c0fdcc2d91c,fix-1936465-stable/train,<<<<<<< HEAD (bd45a7 Don't assume json network config in validations)======= validation_name=[playbook_args['playbook']]) >>>>>>> CHANGE (265c15 Passes playbook to the validation action as a list),,4,0
openstack%2Ftripleo-ci~master~Ieaadeef84781b0eef3e842f44bb21f6348034e09,openstack/tripleo-ci,master,Ieaadeef84781b0eef3e842f44bb21f6348034e09,Fix ansible-lint failure,MERGED,2022-01-10 07:49:20.000000000,2022-01-10 23:29:35.000000000,2022-01-10 23:29:35.000000000,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-10 07:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5d25dc2fdbfc704affa2218d4252e54a83cbde1c', 'message': 'Fix ansible-lint by limiting rich module\n\nChange-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09\n'}, {'number': 2, 'created': '2022-01-10 11:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f2738e46425d70f6d875ee5f648639bcf04f7e8c', 'message': 'Fix ansible-lint failure\n\nFix is committed to ansible-lint, but not released.\n\nChange-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09\n'}, {'number': 3, 'created': '2022-01-10 11:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/565855fef23f6ab0e9169ee2502658c601cfbd64', 'message': 'Fix ansible-lint failure\n\nFix is committed to ansible-lint, but not released.\n\nChange-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09\n'}, {'number': 4, 'created': '2022-01-10 13:00:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b04642fa0a8349620fde9b279a64fae2f4f24bfe', 'message': 'Fix ansible-lint failure\n\nUpdate version to newest one\nChange-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09\n'}, {'number': 5, 'created': '2022-01-10 14:26:26.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a7d162e502d15f29521d9ac36ad136d6b249c6e9', 'message': 'Fix ansible-lint failure\n\nUpdate version to newest one\nChange-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09\n'}]",0,823937,a7d162e502d15f29521d9ac36ad136d6b249c6e9,24,8,5,10969,,,0,"Fix ansible-lint failure

Update version to newest one
Change-Id: Ieaadeef84781b0eef3e842f44bb21f6348034e09
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/823937/5 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,5d25dc2fdbfc704affa2218d4252e54a83cbde1c,a-lint,"rich>=9.5.1,<11.0.0",,1,0
openstack%2Ftripleo-ansible~stable%2Ftrain~Ic7743e7cd640703d166aecd97f59cbaf11c65500,openstack/tripleo-ansible,stable/train,Ic7743e7cd640703d166aecd97f59cbaf11c65500,Use service_net_map for ganesha_vip,MERGED,2021-12-16 20:23:25.000000000,2022-01-10 23:29:27.000000000,2022-01-10 23:29:27.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-12-16 20:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c80170ea2a8185f885edf30843c0be79b411c911', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: I5804621a3081209bbae63193c1e09601826f4275\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n""}, {'number': 2, 'created': '2022-01-04 23:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c867fd19f2cc4a21c987df3894eed21562980afb', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822681\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)\n""}, {'number': 3, 'created': '2022-01-04 23:22:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/747872c9cc28ae06c1d8fe15e0a854c7f342e78f', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)\n""}, {'number': 4, 'created': '2022-01-04 23:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96d2583fee1277751cf10c2771e445c01402fa52', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)\n""}, {'number': 5, 'created': '2022-01-07 14:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06b1c2cb2282020c3f111bf0ed415cdd217e0410', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\nDepends-On: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/822681\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)\n""}, {'number': 6, 'created': '2022-01-10 11:27:07.000000000', 'files': ['tripleo_ansible/roles/tripleo-hieradata/templates/vip_data.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5e744eb622bf02dcb104e6c21dc22b8cc6e65c09', 'message': ""Use service_net_map for ganesha_vip\n\nInstead of if conditionals on hard-coded network names, use the\nServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a\nfallback to 'external' and then to 'ctlplane' in the ServiceNetMap.\n\nThis will allow custom network names to be used,\neither via overriding GaneshaNetwork in ServiceNetMap or using the\nservice_net_map_replace in network data.\n\nRelated-Bug: #1946239\n\nChange-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500\n(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)\n(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)\n(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)\n""}]",6,822044,5e744eb622bf02dcb104e6c21dc22b8cc6e65c09,28,6,6,9003,,,0,"Use service_net_map for ganesha_vip

Instead of if conditionals on hard-coded network names, use the
ServiceNetMap. GaneshaNetwork defaults to 'storage_nfs' with a
fallback to 'external' and then to 'ctlplane' in the ServiceNetMap.

This will allow custom network names to be used,
either via overriding GaneshaNetwork in ServiceNetMap or using the
service_net_map_replace in network data.

Related-Bug: #1946239

Change-Id: Ic7743e7cd640703d166aecd97f59cbaf11c65500
(cherry picked from commit 2894ef9d3e4208ee967b8eed8ccc7bef268414cd)
(cherry picked from commit dc7f164ffa0c36b0c0f660d69bd1ab3b5ede63fa)
(cherry picked from commit fcb25bd25606a92393845406b93376c47501dd43)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/822044/5 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-hieradata/templates/vip_data.j2'],1,c80170ea2a8185f885edf30843c0be79b411c911,,"{% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[service_net_map['ganesha_network']])) %}","{% for network in enabled_networks %} {% if network == 'StorageNFS' %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['StorageNFS']['name_lower']])) %} {% endif %} {% if not vip_data.ganesha_vip is defined %} {% if 'External' in enabled_networks %} {% set _ = vip_data.__setitem__('ganesha_vip', (net_vip_map[networks['External']['name_lower']])) %} {% endif %} {% endif %} {% endfor %}",1,10
openstack%2Fkolla-ansible~stable%2Fxena~If8c569e1f7815520c84627671e3cbf275bed8ff9,openstack/kolla-ansible,stable/xena,If8c569e1f7815520c84627671e3cbf275bed8ff9,CI: check-logs - add another exception,MERGED,2022-01-07 19:30:37.000000000,2022-01-10 23:26:55.000000000,2022-01-10 23:25:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 19:30:37.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/681bcc59ec241e1b22f495bc40ffd6def7e53db1', 'message': 'CI: check-logs - add another exception\n\nIt was seen in [1] and some other occassions, possibly neutron was trying\nto fetch token while keystone was being upgraded.\n\n[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt\n\nChange-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9\n(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)\n'}]",1,823834,681bcc59ec241e1b22f495bc40ffd6def7e53db1,14,4,1,30491,,,0,"CI: check-logs - add another exception

It was seen in [1] and some other occassions, possibly neutron was trying
to fetch token while keystone was being upgraded.

[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt

Change-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9
(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/823834/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,681bcc59ec241e1b22f495bc40ffd6def7e53db1,," grep -v ""Failed to fetch token data from identity server""",,1,0
openstack%2Ftaskflow~master~I9078086cd4c3dbfa954422dfa3d5b19fefd7264f,openstack/taskflow,master,I9078086cd4c3dbfa954422dfa3d5b19fefd7264f,Handle invalid redis entries in RedisJobBoard,MERGED,2021-11-05 09:24:39.000000000,2022-01-10 22:57:59.000000000,2022-01-10 22:56:19.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-11-05 09:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/0009940209852821797615fc6d025faebd83aa67', 'message': 'Handle invalid redis entries in RedisJobBoard\n\nWhen catching that a redis buffer is not formatted correctly,\n_fetch_jobs now deletes the data from the hashmap, so the same error\nwill not occur during the next call to the function.\n\nThe commit also adds JobFailure in the list of caught exceptions (might\nbe raised by _loads) in _fetch_jobs\n\nCloses-Bug: #1949950\n\nChange-Id: I9078086cd4c3dbfa954422dfa3d5b19fefd7264f\n'}, {'number': 2, 'created': '2022-01-10 09:35:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/taskflow/commit/3df4c396d996179203230c860ab80fdd86f06358', 'message': 'Handle invalid redis entries in RedisJobBoard\n\nWhen catching that a redis buffer is not formatted correctly,\n_fetch_jobs now deletes the data from the hashmap, so the same error\nwill not occur during the next call to the function.\n\nThe commit also adds JobFailure in the list of caught exceptions (might\nbe raised by _loads) in _fetch_jobs\n\nCloses-Bug: #1949950\n\nChange-Id: I9078086cd4c3dbfa954422dfa3d5b19fefd7264f\n'}, {'number': 3, 'created': '2022-01-10 11:40:37.000000000', 'files': ['taskflow/jobs/backends/impl_redis.py'], 'web_link': 'https://opendev.org/openstack/taskflow/commit/ba2cbd72f9deee5fedf15864dac41471f4402c82', 'message': 'Handle invalid redis entries in RedisJobBoard\n\nWhen catching that a redis buffer is not formatted correctly,\n_fetch_jobs now deletes the data from the hashmap, so the same error\nwill not occur during the next call to the function.\n\nThe commit also adds JobFailure in the list of caught exceptions (might\nbe raised by _loads) in _fetch_jobs\n\nCloses-Bug: #1949950\n\nChange-Id: I9078086cd4c3dbfa954422dfa3d5b19fefd7264f\n'}]",9,816798,ba2cbd72f9deee5fedf15864dac41471f4402c82,18,3,3,29244,,,0,"Handle invalid redis entries in RedisJobBoard

When catching that a redis buffer is not formatted correctly,
_fetch_jobs now deletes the data from the hashmap, so the same error
will not occur during the next call to the function.

The commit also adds JobFailure in the list of caught exceptions (might
be raised by _loads) in _fetch_jobs

Closes-Bug: #1949950

Change-Id: I9078086cd4c3dbfa954422dfa3d5b19fefd7264f
",git fetch https://review.opendev.org/openstack/taskflow refs/changes/98/816798/3 && git format-patch -1 --stdout FETCH_HEAD,['taskflow/jobs/backends/impl_redis.py'],1,0009940209852821797615fc6d025faebd83aa67,," except (ValueError, TypeError, KeyError, exc.JobFailure): LOG.info(""Deleting invalid job data at key: %s[%s]"", self.listings_key, raw_job_key) self._client.hdel(self.listings_key, raw_job_key)"," except (ValueError, TypeError, KeyError):",4,1
openstack%2Fneutron~stable%2Fwallaby~Ib5de7e65839f52c35c43801969e3f0c16dead5bb,openstack/neutron,stable/wallaby,Ib5de7e65839f52c35c43801969e3f0c16dead5bb,[Functional] Fix expected number of the enqueue_state_change calls,MERGED,2021-12-22 14:13:20.000000000,2022-01-10 22:35:02.000000000,2022-01-10 22:31:40.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:13:20.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/39b138ca26bc9d975804835c285fe5d4970439ed', 'message': '[Functional] Fix expected number of the enqueue_state_change calls\n\nIn the HA router\'s keepalived state change monitor tests, it was\nexpected that enqueue_state_change method will be called 3 or 4 times.\nBut after some changes in the keepalived_state_change monitor which were\ndone some time ago, it may be now that it will be called just 2 or 3\ntimes:\n- 2 when initial status will be ""primary"" and it will be just\n  transition to ""backup"",\n- 3 when initial status will be ""backup"", then it will transition to\n  ""primary"" and finally to ""backup"" again.\n\nTo reflect those 2 possibilities, test was changed that it will expect\n2 or 3 calls and will check only that last 2 will be always transition\nto ""primary"" and then to ""backup"".\n\nAdditionally this patch adds some extra logging in that test so it will\nbe easier to check what was going on in that test.\n\nCloses-Bug: #1954751\nChange-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb\n(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)\n'}]",0,822674,39b138ca26bc9d975804835c285fe5d4970439ed,12,4,1,11975,,,0,"[Functional] Fix expected number of the enqueue_state_change calls

In the HA router's keepalived state change monitor tests, it was
expected that enqueue_state_change method will be called 3 or 4 times.
But after some changes in the keepalived_state_change monitor which were
done some time ago, it may be now that it will be called just 2 or 3
times:
- 2 when initial status will be ""primary"" and it will be just
  transition to ""backup"",
- 3 when initial status will be ""backup"", then it will transition to
  ""primary"" and finally to ""backup"" again.

To reflect those 2 possibilities, test was changed that it will expect
2 or 3 calls and will check only that last 2 will be always transition
to ""primary"" and then to ""backup"".

Additionally this patch adds some extra logging in that test so it will
be easier to check what was going on in that test.

Closes-Bug: #1954751
Change-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb
(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/822674/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,39b138ca26bc9d975804835c285fe5d4970439ed,bug/1954751-stable/xena-stable/wallaby,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def enqueue_call_count_match(): LOG.debug(""enqueue_mock called %s times."", enqueue_mock.call_count) return enqueue_mock.call_count in [2, 3] common_utils.wait_until_true(enqueue_call_count_match) self.assertEqual((router.router_id, 'primary'), calls[-2])"," common_utils.wait_until_true(lambda: (enqueue_mock.call_count == 3 or enqueue_mock.call_count == 4)) self.assertEqual((router.router_id, 'backup'), calls[0]) self.assertEqual((router.router_id, 'primary'), calls[1])",13,4
openstack%2Fneutron~stable%2Ftrain~Ib5de7e65839f52c35c43801969e3f0c16dead5bb,openstack/neutron,stable/train,Ib5de7e65839f52c35c43801969e3f0c16dead5bb,[Functional] Fix expected number of the enqueue_state_change calls,MERGED,2021-12-22 14:18:17.000000000,2022-01-10 22:34:33.000000000,2022-01-10 22:31:53.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:18:17.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d037895c75a9ca401a2b3cdd519be6739983157', 'message': '[Functional] Fix expected number of the enqueue_state_change calls\n\nIn the HA router\'s keepalived state change monitor tests, it was\nexpected that enqueue_state_change method will be called 3 or 4 times.\nBut after some changes in the keepalived_state_change monitor which were\ndone some time ago, it may be now that it will be called just 2 or 3\ntimes:\n- 2 when initial status will be ""primary"" and it will be just\n  transition to ""backup"",\n- 3 when initial status will be ""backup"", then it will transition to\n  ""primary"" and finally to ""backup"" again.\n\nTo reflect those 2 possibilities, test was changed that it will expect\n2 or 3 calls and will check only that last 2 will be always transition\nto ""primary"" and then to ""backup"".\n\nAdditionally this patch adds some extra logging in that test so it will\nbe easier to check what was going on in that test.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_ha_router.py\n\nCloses-Bug: #1954751\nChange-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb\n(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)\n(cherry picked from commit 533ca2c99c454c171f2b8d6577a39bb7be6376e6)\n(cherry picked from commit bed8c6d58028b7d5a426dbd474dccbe34048fd63)\n'}]",0,822710,0d037895c75a9ca401a2b3cdd519be6739983157,10,4,1,11975,,,0,"[Functional] Fix expected number of the enqueue_state_change calls

In the HA router's keepalived state change monitor tests, it was
expected that enqueue_state_change method will be called 3 or 4 times.
But after some changes in the keepalived_state_change monitor which were
done some time ago, it may be now that it will be called just 2 or 3
times:
- 2 when initial status will be ""primary"" and it will be just
  transition to ""backup"",
- 3 when initial status will be ""backup"", then it will transition to
  ""primary"" and finally to ""backup"" again.

To reflect those 2 possibilities, test was changed that it will expect
2 or 3 calls and will check only that last 2 will be always transition
to ""primary"" and then to ""backup"".

Additionally this patch adds some extra logging in that test so it will
be easier to check what was going on in that test.

Conflicts:
    neutron/tests/functional/agent/l3/test_ha_router.py

Closes-Bug: #1954751
Change-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb
(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)
(cherry picked from commit 533ca2c99c454c171f2b8d6577a39bb7be6376e6)
(cherry picked from commit bed8c6d58028b7d5a426dbd474dccbe34048fd63)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/822710/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,0d037895c75a9ca401a2b3cdd519be6739983157,bug/1954751-stable/train,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def enqueue_call_count_match(): LOG.debug(""enqueue_mock called %s times."", enqueue_mock.call_count) return enqueue_mock.call_count in [2, 3] common_utils.wait_until_true(enqueue_call_count_match) self.assertEqual((router.router_id, 'master'), calls[-2])"," common_utils.wait_until_true(lambda: (enqueue_mock.call_count == 3 or enqueue_mock.call_count == 4)) self.assertEqual((router.router_id, 'backup'), calls[0]) self.assertEqual((router.router_id, 'master'), calls[1])",13,4
openstack%2Fneutron~stable%2Fussuri~Ib5de7e65839f52c35c43801969e3f0c16dead5bb,openstack/neutron,stable/ussuri,Ib5de7e65839f52c35c43801969e3f0c16dead5bb,[Functional] Fix expected number of the enqueue_state_change calls,MERGED,2021-12-22 14:16:39.000000000,2022-01-10 22:34:25.000000000,2022-01-10 22:31:49.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:16:39.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bed8c6d58028b7d5a426dbd474dccbe34048fd63', 'message': '[Functional] Fix expected number of the enqueue_state_change calls\n\nIn the HA router\'s keepalived state change monitor tests, it was\nexpected that enqueue_state_change method will be called 3 or 4 times.\nBut after some changes in the keepalived_state_change monitor which were\ndone some time ago, it may be now that it will be called just 2 or 3\ntimes:\n- 2 when initial status will be ""primary"" and it will be just\n  transition to ""backup"",\n- 3 when initial status will be ""backup"", then it will transition to\n  ""primary"" and finally to ""backup"" again.\n\nTo reflect those 2 possibilities, test was changed that it will expect\n2 or 3 calls and will check only that last 2 will be always transition\nto ""primary"" and then to ""backup"".\n\nAdditionally this patch adds some extra logging in that test so it will\nbe easier to check what was going on in that test.\n\nConflicts:\n    neutron/tests/functional/agent/l3/test_ha_router.py\n\nCloses-Bug: #1954751\nChange-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb\n(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)\n(cherry picked from commit 533ca2c99c454c171f2b8d6577a39bb7be6376e6)\n'}]",2,822709,bed8c6d58028b7d5a426dbd474dccbe34048fd63,14,4,1,11975,,,0,"[Functional] Fix expected number of the enqueue_state_change calls

In the HA router's keepalived state change monitor tests, it was
expected that enqueue_state_change method will be called 3 or 4 times.
But after some changes in the keepalived_state_change monitor which were
done some time ago, it may be now that it will be called just 2 or 3
times:
- 2 when initial status will be ""primary"" and it will be just
  transition to ""backup"",
- 3 when initial status will be ""backup"", then it will transition to
  ""primary"" and finally to ""backup"" again.

To reflect those 2 possibilities, test was changed that it will expect
2 or 3 calls and will check only that last 2 will be always transition
to ""primary"" and then to ""backup"".

Additionally this patch adds some extra logging in that test so it will
be easier to check what was going on in that test.

Conflicts:
    neutron/tests/functional/agent/l3/test_ha_router.py

Closes-Bug: #1954751
Change-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb
(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)
(cherry picked from commit 533ca2c99c454c171f2b8d6577a39bb7be6376e6)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/822709/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,bed8c6d58028b7d5a426dbd474dccbe34048fd63,bug/1954751-stable/ussuri,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def enqueue_call_count_match(): LOG.debug(""enqueue_mock called %s times."", enqueue_mock.call_count) return enqueue_mock.call_count in [2, 3] common_utils.wait_until_true(enqueue_call_count_match) self.assertEqual((router.router_id, 'master'), calls[-2])"," common_utils.wait_until_true(lambda: (enqueue_mock.call_count == 3 or enqueue_mock.call_count == 4)) self.assertEqual((router.router_id, 'backup'), calls[0]) self.assertEqual((router.router_id, 'master'), calls[1])",13,4
openstack%2Fneutron~stable%2Fvictoria~Ib5de7e65839f52c35c43801969e3f0c16dead5bb,openstack/neutron,stable/victoria,Ib5de7e65839f52c35c43801969e3f0c16dead5bb,[Functional] Fix expected number of the enqueue_state_change calls,MERGED,2021-12-22 14:13:37.000000000,2022-01-10 22:34:23.000000000,2022-01-10 22:31:45.000000000,"[{'_account_id': 5948}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:13:37.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/533ca2c99c454c171f2b8d6577a39bb7be6376e6', 'message': '[Functional] Fix expected number of the enqueue_state_change calls\n\nIn the HA router\'s keepalived state change monitor tests, it was\nexpected that enqueue_state_change method will be called 3 or 4 times.\nBut after some changes in the keepalived_state_change monitor which were\ndone some time ago, it may be now that it will be called just 2 or 3\ntimes:\n- 2 when initial status will be ""primary"" and it will be just\n  transition to ""backup"",\n- 3 when initial status will be ""backup"", then it will transition to\n  ""primary"" and finally to ""backup"" again.\n\nTo reflect those 2 possibilities, test was changed that it will expect\n2 or 3 calls and will check only that last 2 will be always transition\nto ""primary"" and then to ""backup"".\n\nAdditionally this patch adds some extra logging in that test so it will\nbe easier to check what was going on in that test.\n\nCloses-Bug: #1954751\nChange-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb\n(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)\n'}]",0,822675,533ca2c99c454c171f2b8d6577a39bb7be6376e6,11,4,1,11975,,,0,"[Functional] Fix expected number of the enqueue_state_change calls

In the HA router's keepalived state change monitor tests, it was
expected that enqueue_state_change method will be called 3 or 4 times.
But after some changes in the keepalived_state_change monitor which were
done some time ago, it may be now that it will be called just 2 or 3
times:
- 2 when initial status will be ""primary"" and it will be just
  transition to ""backup"",
- 3 when initial status will be ""backup"", then it will transition to
  ""primary"" and finally to ""backup"" again.

To reflect those 2 possibilities, test was changed that it will expect
2 or 3 calls and will check only that last 2 will be always transition
to ""primary"" and then to ""backup"".

Additionally this patch adds some extra logging in that test so it will
be easier to check what was going on in that test.

Closes-Bug: #1954751
Change-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb
(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/822675/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,533ca2c99c454c171f2b8d6577a39bb7be6376e6,bug/1954751-stable/xena-stable/wallaby-stable/victoria,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def enqueue_call_count_match(): LOG.debug(""enqueue_mock called %s times."", enqueue_mock.call_count) return enqueue_mock.call_count in [2, 3] common_utils.wait_until_true(enqueue_call_count_match) self.assertEqual((router.router_id, 'primary'), calls[-2])"," common_utils.wait_until_true(lambda: (enqueue_mock.call_count == 3 or enqueue_mock.call_count == 4)) self.assertEqual((router.router_id, 'backup'), calls[0]) self.assertEqual((router.router_id, 'primary'), calls[1])",13,4
openstack%2Fdesignate-tempest-plugin~master~If09d793f786de7c2530eb08026afeda76b2df766,openstack/designate-tempest-plugin,master,If09d793f786de7c2530eb08026afeda76b2df766,Covering more DNS record types to be tested,MERGED,2021-12-23 17:19:51.000000000,2022-01-10 22:20:19.000000000,2022-01-10 22:18:34.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 15025}, {'_account_id': 18894}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29681}, {'_account_id': 34067}]","[{'number': 1, 'created': '2021-12-23 17:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/f5d6b7ef56605d16f5383f5398fcabe579ddb9b8', 'message': 'Add more DNS record types to be tested\n\nThis patch extends the existing test:\n""test_create_and_delete_records_on_existing_zone\nto cover more DNS record types.\n\nChange-Id: If09d793f786de7c2530eb08026afeda76b2df766\n'}, {'number': 2, 'created': '2021-12-23 19:23:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/1f05b0f72a03afcce83d3198f03f567a9112be8e', 'message': 'Add more DNS record types to be tested\n\nThis patch extends the existing test:\n""test_create_and_delete_records_on_existing_zone\nto cover more DNS record types.\n\nChange-Id: If09d793f786de7c2530eb08026afeda76b2df766\n'}, {'number': 3, 'created': '2021-12-27 08:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/fc41f8b815878f5b0ee09ffa134bf663544164f1', 'message': 'Covering more DNS record types to be tested\n\n1) test_create_and_delete_records_on_existing_zone\n   Extending of the existing test to cover more recordset types.\n2) test_create_soa_record_not_permitted\n   No user is able to create a SOA record.\n\nChange-Id: If09d793f786de7c2530eb08026afeda76b2df766\n'}, {'number': 4, 'created': '2022-01-09 10:18:39.000000000', 'files': ['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/recordset_data.json'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/a0ed64ed870f97714c572814ddf31371b0089bec', 'message': 'Covering more DNS record types to be tested\n\n1) test_create_and_delete_records_on_existing_zone\n   Extending of the existing test to cover more recordset types.\n2) test_create_soa_record_not_permitted\n   No user is able to create a SOA record.\n\nChange-Id: If09d793f786de7c2530eb08026afeda76b2df766\n'}]",11,822852,a0ed64ed870f97714c572814ddf31371b0089bec,19,9,4,28609,,,0,"Covering more DNS record types to be tested

1) test_create_and_delete_records_on_existing_zone
   Extending of the existing test to cover more recordset types.
2) test_create_soa_record_not_permitted
   No user is able to create a SOA record.

Change-Id: If09d793f786de7c2530eb08026afeda76b2df766
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/52/822852/4 && git format-patch -1 --stdout FETCH_HEAD,"['designate_tempest_plugin/tests/scenario/v2/test_recordsets.py', 'designate_tempest_plugin/tests/scenario/v2/recordset_data.json']",2,f5d6b7ef56605d16f5383f5398fcabe579ddb9b8,change-822852," }, ""SPF"": { ""name"": ""*.sub"", ""type"": ""SPF"", ""records"": [""\""v=spf1; a -all\""""] }, ""NS"": { ""name"": ""NS_Record"", ""type"": ""NS"", ""records"": [""ns1.example.org.""] }, ""PTR_IPV4"": { ""name"": ""PTR_Record_IPV4"", ""type"": ""PTR"", ""records"": [""34.216.184.93.in-addr.arpa.""] }, ""PTR_IPV6"":{ ""name"":""PTR_Record_IPV6"", ""type"":""PTR"", ""records"":[ ""6.4.9.1.8.c.5.2.3.9.8.1.8.4.2.0.1.0.0.0.0.2.2.0.0.0.8.2.6.0.6.2.ip6.arpa."" ] }, ""SOA_Record"": { ""name"": ""SOA_Record"", ""type"": ""SOA"", ""records"": [{""MNAME"": ""ns.primaryserver.com""}] }, ""SOA_Record"":{ ""name"":""SOA_Record"", ""type"":""SOA"", ""records"":[""s1.devstack.org. admin.example.net. 1510721487 3510 600 86400 3600""] }, ""CAA_Record"": { ""name"": ""CAA_Record"", ""type"": ""CAA"", ""records"": [""0 issue letsencrypt.org""]",,78,22
openstack%2Fkeystone~master~Ia2046dc32e3ac270b1dbcf2fe540104c1a8d95d8,openstack/keystone,master,Ia2046dc32e3ac270b1dbcf2fe540104c1a8d95d8,Add 'WarningsFixture',MERGED,2022-01-06 10:48:49.000000000,2022-01-10 22:18:26.000000000,2022-01-10 22:13:51.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': ['keystone/tests/unit/ksfixtures/__init__.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/core.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/771c943ad2116193e7bb118c74993c829d93bd71', 'message': ""Add 'WarningsFixture'\n\nThis duplicates what exists in nova and various other projects. The\nimportant difference between this and what we're doing currently is that\nit *restores*, rather than reset, the warning filters. There are more\nvarious warning filters pre-configured in a typical Python environment,\nincluding a few from third-party libraries such as requests [1][2] and\nurllib3 [3] as well as stdlib [4]. By calling 'warnings.resetwarnings', we\n*reset* all the warning filters [5]. This is clearly not something we want to\ndo, and resulted in tests puking warnings after the initial test run.\n\n[1] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L127\n[2] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L152\n[3] https://github.com/urllib3/urllib3/blob/1.26.7/src/urllib3/__init__.py#L68-L78\n[4] https://docs.python.org/3.8/library/warnings.html#default-warning-filter\n[5] https://docs.python.org/3.8/library/warnings.html#warnings.resetwarnings\n\nChange-Id: Ia2046dc32e3ac270b1dbcf2fe540104c1a8d95d8\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",1,823659,771c943ad2116193e7bb118c74993c829d93bd71,12,3,1,15334,,,0,"Add 'WarningsFixture'

This duplicates what exists in nova and various other projects. The
important difference between this and what we're doing currently is that
it *restores*, rather than reset, the warning filters. There are more
various warning filters pre-configured in a typical Python environment,
including a few from third-party libraries such as requests [1][2] and
urllib3 [3] as well as stdlib [4]. By calling 'warnings.resetwarnings', we
*reset* all the warning filters [5]. This is clearly not something we want to
do, and resulted in tests puking warnings after the initial test run.

[1] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L127
[2] https://github.com/psf/requests/blob/v2.26.0/requests/__init__.py#L152
[3] https://github.com/urllib3/urllib3/blob/1.26.7/src/urllib3/__init__.py#L68-L78
[4] https://docs.python.org/3.8/library/warnings.html#default-warning-filter
[5] https://docs.python.org/3.8/library/warnings.html#warnings.resetwarnings

Change-Id: Ia2046dc32e3ac270b1dbcf2fe540104c1a8d95d8
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/59/823659/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/ksfixtures/__init__.py', 'keystone/tests/unit/ksfixtures/warnings.py', 'keystone/tests/unit/core.py']",3,771c943ad2116193e7bb118c74993c829d93bd71,bp/remove-sqlalchemy-migrate, self.useFixture(ksfixtures.WarningsFixture()) ,"import warningsfrom sqlalchemy import exc warnings.filterwarnings('error', category=DeprecationWarning, module='^keystone\\.') warnings.filterwarnings( 'ignore', category=DeprecationWarning, message=r""Using function/method 'db_version\(\)' is deprecated"") warnings.simplefilter('error', exc.SAWarning) if hasattr(exc, ""RemovedIn20Warning""): warnings.simplefilter('ignore', exc.RemovedIn20Warning) self.addCleanup(warnings.resetwarnings)",57,12
openstack%2Fkeystone~master~Ia3a43e96af0e5d42a4ad3cc9594e1cebc7e71d08,openstack/keystone,master,Ia3a43e96af0e5d42a4ad3cc9594e1cebc7e71d08,tox: Random fixups,MERGED,2022-01-06 10:48:49.000000000,2022-01-10 22:16:27.000000000,2022-01-10 22:13:43.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/36295cfb4b33bd026c57e49c99e342da1413ce5f', 'message': ""tox: Random fixups\n\n- Set 'ignore_basepython_conflict' so that e.g. the 'py37' environment\n  actually uses Python 3.7\n- De-duplicate some environments\n- Use upper-constraints for functional tests\n\nChange-Id: Ia3a43e96af0e5d42a4ad3cc9594e1cebc7e71d08\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,823657,36295cfb4b33bd026c57e49c99e342da1413ce5f,9,3,1,15334,,,0,"tox: Random fixups

- Set 'ignore_basepython_conflict' so that e.g. the 'py37' environment
  actually uses Python 3.7
- De-duplicate some environments
- Use upper-constraints for functional tests

Change-Id: Ia3a43e96af0e5d42a4ad3cc9594e1cebc7e71d08
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/57/823657/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,36295cfb4b33bd026c57e49c99e342da1413ce5f,bp/remove-sqlalchemy-migrate,"ignore_basepython_conflict = truedeps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt .[ldap,memcache,mongodb] .[bandit] {[testenv]deps}deps = {[testenv:pep8]deps}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt .[bandit]deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txtenvdir = {toxworkdir}/docs deps = {[testenv:docs]deps}[testenv:api-ref] envdir = {toxworkdir}/docs deps = {[testenv:docs]deps} commands = bash -c ""rm -rf api-ref/build"" sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html ","skipsdist = Truedeps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt .[ldap,memcache,mongodb][testenv:api-ref] deps = -r{toxinidir}/doc/requirements.txt commands = bash -c ""rm -rf api-ref/build"" sphinx-build -W -b html -d api-ref/build/doctrees api-ref/source api-ref/build/html .[bandit] {[testenv]deps}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/requirements.txt .[bandit]deps = -r{toxinidir}/test-requirements.txtdeps = -r{toxinidir}/doc/requirements.txt",24,20
openstack%2Fnova~stable%2Fxena~Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,openstack/nova,stable/xena,Icaad155e22c9e2d86e464a0deb741c73f0dfb28a,[rt] Apply migration context for incoming migrations,MERGED,2021-12-06 16:21:19.000000000,2022-01-10 22:15:54.000000000,2022-01-10 22:13:57.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33608}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-06 16:21:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aadab95510eef599b13039f6a4d7fdd7330b24db', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\n(cherry picked from commit 4ea8787daf8430911a3fc5a792157e2893b5d3eb)\n'}, {'number': 2, 'created': '2021-12-16 08:25:35.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c', 'message': '[rt] Apply migration context for incoming migrations\n\nThere is a race condition between an incoming resize and an\nupdate_available_resource periodic in the resource tracker. The race\nwindow starts when the resize_instance RPC finishes  and ends when the\nfinish_resize compute RPC finally applies the migration context on the\ninstance.\n\nIn the race window, if the update_available_resource periodic is run on\nthe destination node, then it will see the instance as being tracked on\nthis host as the instance.node is already pointing to the dest. But the\ninstance.numa_topology still points to the source host topology as the\nmigration context is not applied yet. This leads to CPU pinning error if\nthe source topology does not fit to the dest topology. Also it stops the\nperiodic task and leaves the tracker in an inconsistent state. The\ninconsistent state only cleanup up after the periodic is run outside of\nthe race window.\n\nThis patch applies the migration context temporarily to the specific\ninstances during the periodic to keep resource accounting correct.\n\nChange-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a\nCloses-Bug: #1953359\nCloses-Bug: #1952915\n(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)\n'}]",10,820553,1235dc324ebc1c6ac6dc94da0f45ffffcc546d2c,42,8,2,9708,,,0,"[rt] Apply migration context for incoming migrations

There is a race condition between an incoming resize and an
update_available_resource periodic in the resource tracker. The race
window starts when the resize_instance RPC finishes  and ends when the
finish_resize compute RPC finally applies the migration context on the
instance.

In the race window, if the update_available_resource periodic is run on
the destination node, then it will see the instance as being tracked on
this host as the instance.node is already pointing to the dest. But the
instance.numa_topology still points to the source host topology as the
migration context is not applied yet. This leads to CPU pinning error if
the source topology does not fit to the dest topology. Also it stops the
periodic task and leaves the tracker in an inconsistent state. The
inconsistent state only cleanup up after the periodic is run outside of
the race window.

This patch applies the migration context temporarily to the specific
instances during the periodic to keep resource accounting correct.

Change-Id: Icaad155e22c9e2d86e464a0deb741c73f0dfb28a
Closes-Bug: #1953359
Closes-Bug: #1952915
(cherry picked from commit 32c1044d86a8d02712c8e3abdf8b3e4cff234a9c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/820553/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/libvirt/test_numa_servers.py', 'nova/compute/resource_tracker.py']",2,aadab95510eef599b13039f6a4d7fdd7330b24db,bug/1953359," # Check for tracked instances with in-progress, incoming, but not # finished migrations. For those instance the migration context # is not applied yet (it will be during finish_resize when the # migration goes to finished state). We need to manually and # temporary apply the migration context here when the resource usage is # updated. See bug 1953359 for more details. instance_by_uuid = {instance.uuid: instance for instance in instances} for migration in migrations: if ( migration.instance_uuid in instance_by_uuid and migration.dest_compute == self.host and migration.dest_node == nodename ): # we does not check for the 'post-migrating' migration status # as applying the migration context for an instance already # in finished migration status is a no-op anyhow. instance = instance_by_uuid[migration.instance_uuid] LOG.debug( 'Applying migration context for instance %s as it has an ' 'incoming, in-progress migration %s. ' 'Migration status is %s', migration.instance_uuid, migration.uuid, migration.status ) # It is OK not to revert the migration context at the end of # the periodic as the instance is not saved during the periodic instance.apply_migration_context() # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) "," # Now calculate usage based on instance utilization: instance_by_uuid = self._update_usage_from_instances( context, instances, nodename) ",45,13
openstack%2Fkeystone~master~I0489fde7eced9af8a534736960b75a0d2c189933,openstack/keystone,master,I0489fde7eced9af8a534736960b75a0d2c189933,Add support for pysaml2 >= 7.1.0,MERGED,2022-01-06 10:48:49.000000000,2022-01-10 22:13:47.000000000,2022-01-10 22:13:47.000000000,"[{'_account_id': 16465}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:48:49.000000000', 'files': ['keystone/federation/idp.py'], 'web_link': 'https://opendev.org/openstack/keystone/commit/03238e343a595e1cb4fd43a84062db72b094c832', 'message': 'Add support for pysaml2 >= 7.1.0\n\nA constant was renamed in commit 1e59eaa0 [1].\n\n[1] https://github.com/IdentityPython/pysaml2/commit/1e59eaa0\n\nChange-Id: I0489fde7eced9af8a534736960b75a0d2c189933\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",0,823658,03238e343a595e1cb4fd43a84062db72b094c832,8,3,1,15334,,,0,"Add support for pysaml2 >= 7.1.0

A constant was renamed in commit 1e59eaa0 [1].

[1] https://github.com/IdentityPython/pysaml2/commit/1e59eaa0

Change-Id: I0489fde7eced9af8a534736960b75a0d2c189933
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/keystone refs/changes/58/823658/1 && git format-patch -1 --stdout FETCH_HEAD,['keystone/federation/idp.py'],1,03238e343a595e1cb4fd43a84062db72b094c832,bp/remove-sqlalchemy-migrate," # TODO(stephenfin): Drop when we remove support for pysaml < 7.1.0 if hasattr(xmldsig, 'TRANSFORM_C14N'): # >= 7.1.0 canonicalization_method.algorithm = xmldsig.TRANSFORM_C14N else: # < 7.1.0 canonicalization_method.algorithm = xmldsig.ALG_EXC_C14N # TODO(stephenfin): Drop when we remove support for pysaml < 7.1.0 if hasattr(xmldsig, 'TRANSFORM_C14N'): # >= 7.1.0 c14_transform = xmldsig.Transform(algorithm=xmldsig.TRANSFORM_C14N) else: # < 7.1.0 c14_transform = xmldsig.Transform(algorithm=xmldsig.ALG_EXC_C14N)", canonicalization_method.algorithm = xmldsig.ALG_EXC_C14N c14_transform = xmldsig.Transform(algorithm=xmldsig.ALG_EXC_C14N),10,2
openstack%2Fmagnum-specs~master~I8aa5967c24175d24b379b285b61c2f35831a9bce,openstack/magnum-specs,master,I8aa5967c24175d24b379b285b61c2f35831a9bce,Add helm-config,NEW,2020-05-13 13:18:29.000000000,2022-01-10 21:31:03.000000000,,"[{'_account_id': 6484}, {'_account_id': 9995}, {'_account_id': 20498}, {'_account_id': 22348}, {'_account_id': 28022}, {'_account_id': 29425}]","[{'number': 1, 'created': '2020-05-13 13:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/aafce1ba7d9409345a0534e8fa328dc8a84d61c8', 'message': 'Add helm-config\n\nAdd spec to support helm charts configuration\nin the API.\n\nstory: 2003902\ntask: 39762\n\nChange-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 2, 'created': '2020-05-13 14:33:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/b6da33bc9d75c41bfa83d119b94c2c46f8ae884f', 'message': 'Add helm-config\n\nAdd spec to support helm charts configuration\nin the API.\n\nstory: 2003902\ntask: 39762\n\nChange-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 3, 'created': '2020-05-20 08:47:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/29c4845784f5f52dddcceddf3b6d868b93365260', 'message': 'Add helm-config\n\nAdd spec to support helm charts configuration\nin the API.\n\nstory: 2003902\ntask: 39762\n\nChange-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 4, 'created': '2020-05-20 09:13:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/0f9d7d4b5702357816790a549c491193a19b1593', 'message': 'Add helm-config\n\nAdd spec to support helm charts configuration\nin the API.\n\nstory: 2003902\ntask: 39762\n\nChange-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}, {'number': 5, 'created': '2022-01-10 21:22:04.000000000', 'files': ['doc/source/index.rst', 'specs/victoria/helm-config.rst'], 'web_link': 'https://opendev.org/openstack/magnum-specs/commit/0d533ec8457d15cff0f204181b4fa76fb513c385', 'message': 'Add helm-config\n\nAdd spec to support helm charts configuration\nin the API.\n\nstory: 2003902\ntask: 39762\n\nChange-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce\nSigned-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>\n'}]",27,727756,0d533ec8457d15cff0f204181b4fa76fb513c385,59,6,5,20498,,,0,"Add helm-config

Add spec to support helm charts configuration
in the API.

story: 2003902
task: 39762

Change-Id: I8aa5967c24175d24b379b285b61c2f35831a9bce
Signed-off-by: Spyros Trigazis <spyridon.trigazis@cern.ch>
",git fetch https://review.opendev.org/openstack/magnum-specs refs/changes/56/727756/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'specs/victoria/helm-config.rst']",2,aafce1ba7d9409345a0534e8fa328dc8a84d61c8,change-727756,"=========== Helm config =========== https://storyboard.openstack.org/#!/story/2003902 A kubernetes cluster created by magnum includes many add-ons. This spec aims to help improving add-on configuration. Problem description =================== Some of the add-ons in a kubernetes cluster, are configured with helm, some not. Using helm for popular charts is a very good practice to minimize the number of manifests to maintain and benefit from contributors in the ecosystem. Currently, metrics-server, prometheus-operator and metrics-server are the biggest charts deployed with helm. Some helm values can be passed as labels, and there are other default values in magnum's fragments, so not everything can be set with the magnum API and some are the defaults of the chart. Changing, a value may need to patch magnum which is suboptimal given the velocity of the container ecosystem and impractical for tracking since we have yet another set of default values in magnum's codebase. Proposed change =============== Configure the charts that we want to install on a cluster in the cluster template with a meta chart (A meta chart is a chart that has only dependencies on other charts and no templates). The cluster template will be extended with three new fields. * helm_chart, the definition of the chart [#]_ * helm_requirements, the chart dependencies [#]_ * helm_values, the chart values [#]_ Magnum will build the chart at creation time and install all charts defined in helm_chart or helm_requirements. This features are meant to be used by cloud operators who can disallow cluster template creation with charts to users with a policy. To allow user change values or enable/disable a chart, helm_values will be added in the cluster object as well. Alternatives ------------ Do nothing, continue updating the helm values in-code. Everytime we need to change a default value we need to release and deploy magnum or explode the number of labels we have. Implementation ============== Data Model Impact ----------------- New fields in Cluster Template, sqlalchemy.Text for DB and oslo_versionedobjects.fields.DictOfStringsField for the objects: * helm_chart * helm_requirements * helm_values New field in Cluster sqlalchemy.Text for DB and oslo_versionedobjects.fields.DictOfStringsField for the object: * helm_values REST API Impact --------------- New fields in Cluster Template wsme.types.DictType(wtypes.text, wtypes.text): * helm_chart * helm_requirements * helm_values New field in Cluster wsme.types.DictType(wtypes.text, wtypes.text): * helm_values Conductor Implementation ------------------------ The new json objects will be passed from the conductor to heat as parameters. From the fields of the cluster template, the chart will be created in the master nodes and applied in the kubernetes cluster API on creation. Helm will be responsible for merging values per upstream helm implementation, multiple values can be passed. CLI Impact ---------- Example usage for cluster template creation:: cat chart.yaml apiVersion: v1 description: A meta chart to install all magnum add-ons on kubernetes. name: magnum-addons version: 0.0.1 cat cluster-template-values.yaml prometheus-operator: nameOverride: prometheus fullnameOverride: prometheus alertmanager: alertmanagerSpec: image: repository: quay.io/prometheus/alertmanager priorityClassName: ""system-cluster-critical"" # Dashboard grafana: resources: requests: cpu: 100m memory: 128Mi kubeApiServer: tlsConfig: insecureSkipVerify: true nginx-ingress: controller: name: controller image: repository: quay.io/kubernetes-ingress-controller/nginx-ingress-controller tag: 0.31.0 cat requirements.yaml dependencies: - name: prometheus-operator version: 8.13.7 repository: https://kubernetes-charts.storage.googleapis.com/ - name: nginx-ingress version: 1.36.3 repository: https://kubernetes-charts.storage.googleapis.com/ openstack coe cluster template create kube \ --helm-chart chart.yaml \ --helm-requirements requirements.yaml \ --helm-values cluster-template-values.yaml \ ... cat cluster-values.yaml prometheus-operator: grafana: resources: requests: memory: 512Mi nginx-ingress: controller: name: controller image: tag: 0.32.0 openstack coe cluster create --cluster-template kube \ --helm-values cluster-values.yaml \ ... Assignee(s) ----------- Primary assignee: Diogo Guerra <diogo.filipe.tomas.guerra@cern.ch> Work Items ---------- * Implement API and DB changes for Cluster Template * Implement API and DB changes for Cluster * Add client support * Add API reference References ---------- .. [#] https://github.com/helm/helm-www/blob/067d58c694be1f400b5540b0dec2330f4a02a7fb/content/en/docs/topics/charts.md#the-chartyaml-file .. [#] https://github.com/helm/helm-www/blob/067d58c694be1f400b5540b0dec2330f4a02a7fb/content/en/docs/faq/_index.md#consolidation-of-requirementsyaml-into-chartyaml .. [#] https://github.com/helm/helm-www/blob/067d58c694be1f400b5540b0dec2330f4a02a7fb/content/en/docs/topics/charts.md#values-files ",,187,0
openstack%2Fpuppet-ironic~master~I232c0f07223337516e6702b0f277e404924d7c56,openstack/puppet-ironic,master,I232c0f07223337516e6702b0f277e404924d7c56,Deprecate *_network_name parameters,MERGED,2022-01-09 12:55:32.000000000,2022-01-10 21:19:01.000000000,2022-01-10 21:14:18.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 12:55:32.000000000', 'files': ['manifests/conductor.pp', 'releasenotes/notes/deprecate-network_name-e5ae5b2f63cc1d13.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/388ea1be0789d16865afaaf7ff21fab99500d080', 'message': 'Deprecate *_network_name parameters\n\nThe *_network parameters of ironic can accept both network name and\nnetwork id, and it is not required to convert network name to network\nid in puppet layer.\n\nChange-Id: I232c0f07223337516e6702b0f277e404924d7c56\n'}]",0,823912,388ea1be0789d16865afaaf7ff21fab99500d080,8,3,1,9816,,,0,"Deprecate *_network_name parameters

The *_network parameters of ironic can accept both network name and
network id, and it is not required to convert network name to network
id in puppet layer.

Change-Id: I232c0f07223337516e6702b0f277e404924d7c56
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/12/823912/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/conductor.pp', 'releasenotes/notes/deprecate-network_name-e5ae5b2f63cc1d13.yaml']",2,388ea1be0789d16865afaaf7ff21fab99500d080,transform_to,--- deprecations: - | The network name parameters of the `ironic::conductor`` class has been deprecated. Use the network parameters instead. ,,37,28
openstack%2Fpuppet-ironic~master~I34cff90cbeba1b9b3d043386ee1b47e7039588c2,openstack/puppet-ironic,master,I34cff90cbeba1b9b3d043386ee1b47e7039588c2,Add support for [disk_utils] parameters,MERGED,2022-01-09 05:58:03.000000000,2022-01-10 21:17:44.000000000,2022-01-10 21:14:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 05:58:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/010bb4d01da9550429697d7efe027c44a21dc66d', 'message': 'Add support for [disk_utils] parameters\n\nChange-Id: I34cff90cbeba1b9b3d043386ee1b47e7039588c2\n'}, {'number': 2, 'created': '2022-01-09 12:35:01.000000000', 'files': ['manifests/disk_utils.pp', 'spec/classes/ironic_disk_utils_spec.rb', 'releasenotes/notes/disk_utils-ff85c8b00595d8b8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/ba8ff2980f4d8858f35fc2560be8592db17fa45d', 'message': 'Add support for [disk_utils] parameters\n\nChange-Id: I34cff90cbeba1b9b3d043386ee1b47e7039588c2\n'}]",0,823903,ba8ff2980f4d8858f35fc2560be8592db17fa45d,10,3,2,9816,,,0,"Add support for [disk_utils] parameters

Change-Id: I34cff90cbeba1b9b3d043386ee1b47e7039588c2
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/03/823903/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/disk_utils.pp', 'spec/classes/ironic_disk_utils_spec.rb', 'releasenotes/notes/disk_utils-ff85c8b00595d8b8.yaml']",3,010bb4d01da9550429697d7efe027c44a21dc66d,disk_utils,--- features: - | The new ``ironic::disk_utils`` class has been added. ,,125,0
openstack%2Fpuppet-oslo~master~I3ab30adbae3e805aee36bd32854e5490b19b0097,openstack/puppet-oslo,master,I3ab30adbae3e805aee36bd32854e5490b19b0097,barbican_service_user: Accept system scope credential,MERGED,2022-01-08 03:16:25.000000000,2022-01-10 21:17:23.000000000,2022-01-10 21:14:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 03:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4b222c16fff94831a5c24bc3ea66be53e76c53f8', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nChange-Id: I3ab30adbae3e805aee36bd32854e5490b19b0097\n'}, {'number': 2, 'created': '2022-01-08 04:20:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/a474a798c8b68c90d819f3854dc0300212015d10', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nChange-Id: I3ab30adbae3e805aee36bd32854e5490b19b0097\n'}, {'number': 3, 'created': '2022-01-08 06:26:07.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'spec/defines/oslo_key_manager_barbican_service_user_spec.rb', 'releasenotes/notes/system_scope-barbican_service_user-3e9cba1bba4f22b8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/f91cf635606de03cffa657288fe13a7a981b6e20', 'message': 'barbican_service_user: Accept system scope credential\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials, to use service user token when accessing\nBarbican API.\n\nChange-Id: I3ab30adbae3e805aee36bd32854e5490b19b0097\n'}]",0,823883,f91cf635606de03cffa657288fe13a7a981b6e20,11,3,3,9816,,,0,"barbican_service_user: Accept system scope credential

This change allows usage of system scope credentials in addition to
project scope credentials, to use service user token when accessing
Barbican API.

Change-Id: I3ab30adbae3e805aee36bd32854e5490b19b0097
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/83/823883/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'spec/defines/oslo_key_manager_barbican_service_user_spec.rb', 'releasenotes/notes/system_scope-barbican_service_user-3e9cba1bba4f22b8.yaml']",3,4b222c16fff94831a5c24bc3ea66be53e76c53f8,system-scope-params,--- features: - | The ``oslo::key_manager::barbican::service_user`` resource type now supports the ``system_scope`` parameter. ,,43,11
openstack%2Fpuppet-openstacklib~stable%2Fwallaby~I5d857a3fbab2143c490016cd6b9cfc78ecb382e5,openstack/puppet-openstacklib,stable/wallaby,I5d857a3fbab2143c490016cd6b9cfc78ecb382e5,Set python versions for rhel > 8,MERGED,2022-01-10 15:37:56.000000000,2022-01-10 21:08:49.000000000,2022-01-10 21:08:49.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 15:37:56.000000000', 'files': ['manifests/defaults.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/008bcaf8e630e6cbeeeea92b9ee3d95ce62dc232', 'message': ""Set python versions for rhel > 8\n\nEL8 was shipped with python 3.6, EL9 is being shipped with\npython 3.9, so let's set python versions accordingly.\n\nChange-Id: I5d857a3fbab2143c490016cd6b9cfc78ecb382e5\n(cherry picked from commit 91bd836fe5fb546efc21a1cc49566ecabcacf21e)\n""}]",0,824010,008bcaf8e630e6cbeeeea92b9ee3d95ce62dc232,7,4,1,16312,,,0,"Set python versions for rhel > 8

EL8 was shipped with python 3.6, EL9 is being shipped with
python 3.9, so let's set python versions accordingly.

Change-Id: I5d857a3fbab2143c490016cd6b9cfc78ecb382e5
(cherry picked from commit 91bd836fe5fb546efc21a1cc49566ecabcacf21e)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/10/824010/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/defaults.pp'],1,008bcaf8e630e6cbeeeea92b9ee3d95ce62dc232,c9-stable/wallaby, } elsif ($::os['name'] == 'Fedora') { # TODO(tkajinam): This is very outdated and doesn't work with the latest # Fedora. We should fix or drop this. } elsif $::os['family'] == 'RedHat' { if Integer.new($::os['release']['major']) > 8 { $pyvers = '3' $pyver3 = '3.9' } elsif Integer.new($::os['release']['major']) == 8 { $pyvers = '3' $pyver3 = '3.6' } else { $pyvers = '' $pyver3 = '2.7' } } else { # TODO(tkajinam) This is left to keep the previous behavior but we should # revisit this later., } elsif ($::os['name'] == 'Fedora') or ($::os['family'] == 'RedHat' and Integer.new($::os['release']['major']) > 7) { } else {,16,2
openstack%2Fneutron~stable%2Fxena~Ib5de7e65839f52c35c43801969e3f0c16dead5bb,openstack/neutron,stable/xena,Ib5de7e65839f52c35c43801969e3f0c16dead5bb,[Functional] Fix expected number of the enqueue_state_change calls,MERGED,2021-12-22 14:13:05.000000000,2022-01-10 21:07:36.000000000,2022-01-10 21:05:35.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:13:05.000000000', 'files': ['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6265ab319e11006cc707890b2d5fb5ab2cfabb94', 'message': '[Functional] Fix expected number of the enqueue_state_change calls\n\nIn the HA router\'s keepalived state change monitor tests, it was\nexpected that enqueue_state_change method will be called 3 or 4 times.\nBut after some changes in the keepalived_state_change monitor which were\ndone some time ago, it may be now that it will be called just 2 or 3\ntimes:\n- 2 when initial status will be ""primary"" and it will be just\n  transition to ""backup"",\n- 3 when initial status will be ""backup"", then it will transition to\n  ""primary"" and finally to ""backup"" again.\n\nTo reflect those 2 possibilities, test was changed that it will expect\n2 or 3 calls and will check only that last 2 will be always transition\nto ""primary"" and then to ""backup"".\n\nAdditionally this patch adds some extra logging in that test so it will\nbe easier to check what was going on in that test.\n\nCloses-Bug: #1954751\nChange-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb\n(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)\n'}]",1,822673,6265ab319e11006cc707890b2d5fb5ab2cfabb94,15,5,1,11975,,,0,"[Functional] Fix expected number of the enqueue_state_change calls

In the HA router's keepalived state change monitor tests, it was
expected that enqueue_state_change method will be called 3 or 4 times.
But after some changes in the keepalived_state_change monitor which were
done some time ago, it may be now that it will be called just 2 or 3
times:
- 2 when initial status will be ""primary"" and it will be just
  transition to ""backup"",
- 3 when initial status will be ""backup"", then it will transition to
  ""primary"" and finally to ""backup"" again.

To reflect those 2 possibilities, test was changed that it will expect
2 or 3 calls and will check only that last 2 will be always transition
to ""primary"" and then to ""backup"".

Additionally this patch adds some extra logging in that test so it will
be easier to check what was going on in that test.

Closes-Bug: #1954751
Change-Id: Ib5de7e65839f52c35c43801969e3f0c16dead5bb
(cherry picked from commit c6a6c5ae127a97856c880da3f82257977a06a571)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/73/822673/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/agent/l3/framework.py', 'neutron/tests/functional/agent/l3/test_ha_router.py']",2,6265ab319e11006cc707890b2d5fb5ab2cfabb94,bug/1954751-stable/xena,"from oslo_log import log as loggingLOG = logging.getLogger(__name__) def enqueue_call_count_match(): LOG.debug(""enqueue_mock called %s times."", enqueue_mock.call_count) return enqueue_mock.call_count in [2, 3] common_utils.wait_until_true(enqueue_call_count_match) self.assertEqual((router.router_id, 'primary'), calls[-2])"," common_utils.wait_until_true(lambda: (enqueue_mock.call_count == 3 or enqueue_mock.call_count == 4)) self.assertEqual((router.router_id, 'backup'), calls[0]) self.assertEqual((router.router_id, 'primary'), calls[1])",13,4
openstack%2Fneutron-tempest-plugin~master~I93eb8d623945a1fe9b9174523ed8383c9b5f07ed,openstack/neutron-tempest-plugin,master,I93eb8d623945a1fe9b9174523ed8383c9b5f07ed,Add logging API delete corresponding SG test,MERGED,2021-08-11 13:28:25.000000000,2022-01-10 21:05:30.000000000,2022-01-10 21:05:30.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-11 13:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fac505de89c7c09727bb4ae9304965bb7dea252a', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804237\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 2, 'created': '2021-08-30 14:15:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a805088b5f4f17705b6fdf86a7eb12838a73caa3', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804237\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 3, 'created': '2021-09-24 10:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/a3a94fc82d930e4983c4bd77eddae564442aaefb', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/804237\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/810870\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/810871\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/810851\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/810872\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 4, 'created': '2021-11-17 15:32:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/c6fe64e100c934d0e911ff0a0d0b93fe02d841f1', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 5, 'created': '2021-11-30 17:26:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/4e86aa42326dfc50d3b0a58c9fc85b3139fa153a', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 6, 'created': '2021-12-22 07:53:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/26a2f8dbb8bab114e90b99979fe489a47fbbdae8', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/822602\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/822610\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/822611\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/822612\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}, {'number': 7, 'created': '2022-01-03 08:20:20.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/admin/test_logging.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d9fe302088682652c6badd6f390a9a0fc0e2c2f4', 'message': 'Add logging API delete corresponding SG test\n\nThis test ensures that log entries configured for specific security\ngroup are deleted after SG is deleted from Neutron.\n\nRelated-Bug: #1939558\nChange-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed\n'}]",4,804238,d9fe302088682652c6badd6f390a9a0fc0e2c2f4,30,4,7,11975,,,0,"Add logging API delete corresponding SG test

This test ensures that log entries configured for specific security
group are deleted after SG is deleted from Neutron.

Related-Bug: #1939558
Change-Id: I93eb8d623945a1fe9b9174523ed8383c9b5f07ed
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/38/804238/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/api/admin/test_logging.py']",2,fac505de89c7c09727bb4ae9304965bb7dea252a,bug/1939558," @decorators.idempotent_id('1ab4eb2a-76f5-45b9-816b-1aa497a71eea') def test_log_deleted_with_corresponding_security_group(self): security_group = self.create_security_group() name = data_utils.rand_name('test-log') log = self.create_log( name=name, resource_type='security_group', resource_id=security_group['id'], enabled=True) # Ensure log was created retrieved_log = self.admin_client.show_log(log['id'])['log'] self.assertEqual(name, retrieved_log['name']) self.assertEqual(security_group['id'], retrieved_log['resource_id']) self.assertEqual('security_group', retrieved_log['resource_type']) self.assertTrue(retrieved_log['enabled']) # Delete SG self.delete_security_group(security_group) # Ensure log is also deleted self.assertRaises(exceptions.NotFound, self.admin_client.show_log, log['id'])",,26,1
openstack%2Frequirements~master~I5f5eb31d0f2cda35532d918963b7db15b7609927,openstack/requirements,master,I5f5eb31d0f2cda35532d918963b7db15b7609927,Bump validations-libs upper-constraint to 1.5.0,ABANDONED,2022-01-10 10:08:37.000000000,2022-01-10 21:03:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-10 10:08:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/4c27521a9f65183b0a09dd768e407b9018785cd1', 'message': 'Bump validations-libs upper-constraint to 1.5.0\n\nChange-Id: I5f5eb31d0f2cda35532d918963b7db15b7609927\n'}]",2,823954,4c27521a9f65183b0a09dd768e407b9018785cd1,7,1,1,16515,,,0,"Bump validations-libs upper-constraint to 1.5.0

Change-Id: I5f5eb31d0f2cda35532d918963b7db15b7609927
",git fetch https://review.opendev.org/openstack/requirements refs/changes/54/823954/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,4c27521a9f65183b0a09dd768e407b9018785cd1,,validations-libs===1.5.0,validations-libs===1.4.0,1,1
openstack%2Fpuppet-horizon~master~I9e75b62e75aca0905f3a59ecadf83c41e036884c,openstack/puppet-horizon,master,I9e75b62e75aca0905f3a59ecadf83c41e036884c,Fix outdated default of LAUNCH_INSTANCE_*_ENABLED,MERGED,2022-01-10 04:58:32.000000000,2022-01-10 20:56:25.000000000,2022-01-10 20:56:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 04:58:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f26d2ebd396686ff6dcbd9194742bd7ad36002af', 'message': 'Fix outdated default of LAUNCH_INSTANCE_*_ENABLED\n\nThis change fixes the documented default of LAUNCH_INSTANCE_*_ENABLED,\nwhich was updated a while ago by[1].\n\n[1] 2843ce3c0a9d3e3ca7740c25d8d0bbd96134f26e\n\nChange-Id: I9e75b62e75aca0905f3a59ecadf83c41e036884c\n'}, {'number': 2, 'created': '2022-01-10 05:03:19.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6d5dbb71f434007618bcfb6df02947a4e89187f5', 'message': 'Fix outdated default of LAUNCH_INSTANCE_*_ENABLED\n\nThis change fixes the documented default of LAUNCH_INSTANCE_*_ENABLED,\nwhich was updated during Mitaka cycle by[1].\n\n[1] 2843ce3c0a9d3e3ca7740c25d8d0bbd96134f26e\n\nChange-Id: I9e75b62e75aca0905f3a59ecadf83c41e036884c\n'}]",0,823929,6d5dbb71f434007618bcfb6df02947a4e89187f5,8,3,2,9816,,,0,"Fix outdated default of LAUNCH_INSTANCE_*_ENABLED

This change fixes the documented default of LAUNCH_INSTANCE_*_ENABLED,
which was updated during Mitaka cycle by[1].

[1] 2843ce3c0a9d3e3ca7740c25d8d0bbd96134f26e

Change-Id: I9e75b62e75aca0905f3a59ecadf83c41e036884c
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/29/823929/2 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,f26d2ebd396686ff6dcbd9194742bd7ad36002af,,#LAUNCH_INSTANCE_LEGACY_ENABLED = False #LAUNCH_INSTANCE_NG_ENABLED = True,#LAUNCH_INSTANCE_LEGACY_ENABLED = True #LAUNCH_INSTANCE_NG_ENABLED = False,2,2
openstack%2Fpuppet-horizon~master~Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418,openstack/puppet-horizon,master,Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418,Fix missing default_availability_zone,MERGED,2022-01-09 14:52:07.000000000,2022-01-10 20:56:23.000000000,2022-01-10 20:56:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 14:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/814d6ca6cd45a1898d04ec5f8c97071cfe193777', 'message': 'Fix missing default_availability_zone\n\nThis change fixes the missing default_availability_zone[1] in default\nof the LAUNCH_INSTANCE_DEFAULTS.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418\n'}, {'number': 2, 'created': '2022-01-10 04:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/9639e5ff521fb9b1d20d79786988dbbc990f76e2', 'message': 'Fix missing default_availability_zone\n\nThis change fixes the missing default_availability_zone[1] in default\nof the LAUNCH_INSTANCE_DEFAULTS.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418\n'}, {'number': 3, 'created': '2022-01-10 04:53:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/6d7736a3f0533bb426055a30bcb34a6df9bcb823', 'message': 'Fix missing default_availability_zone\n\nThis change fixes the missing default_availability_zone[1] in default\nof the LAUNCH_INSTANCE_DEFAULTS.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418\n'}, {'number': 4, 'created': '2022-01-10 05:02:03.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/010dae3616c5493c362aadf77f7f1dddd5be0dab', 'message': 'Fix missing default_availability_zone\n\nThis change fixes the missing default_availability_zone[1] in default\nof the LAUNCH_INSTANCE_DEFAULTS.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418\n'}]",0,823916,010dae3616c5493c362aadf77f7f1dddd5be0dab,11,3,4,9816,,,0,"Fix missing default_availability_zone

This change fixes the missing default_availability_zone[1] in default
of the LAUNCH_INSTANCE_DEFAULTS.

[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef

Change-Id: Ib0b1f3f5b2c80df76a8b39b76109dab5afa06418
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/16/823916/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,814d6ca6cd45a1898d04ec5f8c97071cfe193777,default_availability_zone," 'default_availability_zone' => 'Any',",,1,0
openstack%2Fpuppet-horizon~master~Id82f6fd416c0f563b181af66f541c850128a5778,openstack/puppet-horizon,master,Id82f6fd416c0f563b181af66f541c850128a5778,Allow customizing policy files,MERGED,2022-01-06 15:58:09.000000000,2022-01-10 20:49:51.000000000,2022-01-10 20:47:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 15:58:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/270ee3cfeb746a83f9c5fb6e44f5598e04722e36', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 2, 'created': '2022-01-07 00:37:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/18f9f1be8c93e4ba31e3af6f97c0416fc32b43b3', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 3, 'created': '2022-01-07 04:47:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5f899ab82318405c84c417e617a2cd83e9cf8c73', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 4, 'created': '2022-01-07 05:00:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/9fc783e6fd7157686ae00ed6d63d47ef17f9a24f', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 5, 'created': '2022-01-07 05:46:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5c06171437ffa4125c9f5a57a8ac94d0ab9c119f', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 6, 'created': '2022-01-07 07:48:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/2312990c01c2e02864bf6754202d67ffd3fca823', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 7, 'created': '2022-01-07 07:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/102229a851f58c96013aef0b5c406e4282b2c221', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 8, 'created': '2022-01-07 07:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a0655ba4905d0356b82ad70f54ee02fc8a8674d8', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 9, 'created': '2022-01-07 08:30:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c4f682e90e905c55fd08b410fdf9efc9a8721ae4', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 10, 'created': '2022-01-07 08:34:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/1a5b7f5eaa93ee81a6269bd043b02385370c244b', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 11, 'created': '2022-01-07 11:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ec518b30b0a8d6a698dae9a4db6e901ecd407b15', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 12, 'created': '2022-01-07 12:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/dc6aeb8c9ceecd311869063e35047fe44b710e07', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 13, 'created': '2022-01-07 12:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/95dca27f41a401809a67dc0243b70f82f786bdfb', 'message': 'WIP: Allow customizing policy files\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 14, 'created': '2022-01-07 13:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4d55024b955e24d1c2d459477e99587fa5e29c74', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 15, 'created': '2022-01-07 14:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/a908a0904d75c8af46af9947a1979ce738623113', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 16, 'created': '2022-01-07 14:47:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/12baff022d81f8edfa666116b7934d41cdb37e77', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 17, 'created': '2022-01-07 15:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/c1869f3fb58d44914949a4338ca562de19f83089', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 18, 'created': '2022-01-08 03:20:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/43aaee00f2f3e6bfb903f52ff2ce419e6c183d6c', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}, {'number': 19, 'created': '2022-01-08 04:25:55.000000000', 'files': ['templates/local_settings.py.erb', 'manifests/init.pp', 'manifests/dashboards/manila.pp', 'manifests/dashboards/octavia.pp', 'releasenotes/notes/policy-05bec63b1ab26902.yaml', 'manifests/policy/base.pp', 'spec/classes/horizon_dashboards_heat_spec.rb', 'spec/classes/horizon_dashboards_octavia_spec.rb', 'spec/defines/horizon_policy_base_spec.rb', 'manifests/dashboards/heat.pp', 'manifests/params.pp', 'manifests/deps.pp', 'spec/classes/horizon_policy_spec.rb', 'manifests/policy.pp', 'spec/classes/horizon_dashboards_manila_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7b96a0bf1c4b13daeab33edfdab25213660fb5cd', 'message': 'Allow customizing policy files\n\nHorizon requires policy files placed in its own config directory\nto enable/disable some features according to policy rules. This change\nintroduces capability to manage contents of each policy files so that\nusers can inject customized rules.\n\nChange-Id: Id82f6fd416c0f563b181af66f541c850128a5778\n'}]",0,823715,7b96a0bf1c4b13daeab33edfdab25213660fb5cd,31,3,19,9816,,,0,"Allow customizing policy files

Horizon requires policy files placed in its own config directory
to enable/disable some features according to policy rules. This change
introduces capability to manage contents of each policy files so that
users can inject customized rules.

Change-Id: Id82f6fd416c0f563b181af66f541c850128a5778
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/15/823715/10 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/deps.pp', 'manifests/policy.pp', 'manifests/policy/base.pp']",3,270ee3cfeb746a83f9c5fb6e44f5598e04722e36,policy,"# == Define horizon::policy::base # # Manage a policy file for Horizon # # == Parameters # # [*policy_file*] # (Optional) Name to the policy file. # Defaults to $name # # [*policies*] # (Optional) Set of policies to configure # # [*file_mode*] # (Optional) Permission mode for the policy file # Defaults to '0640' # # [*file_format*] # (Optional) Format for file contents. Valid values # Defaults to 'yaml'. # # [*purge_config*] # (Optional) Whether to set only the specified policy rules in the policy # file. # Defaults to false. # define horizon::policy::base( $policy_file = $name, $policies = {}, $file_mode = '0640' $file_format = 'yaml', $purge_config = false, ) { include horizon::deps include horizon::params if !defined(Class[horizon]){ fail('The horizon class should be included in advance') } $policy_files_path = $::horizon::policy_files_path # In Ubuntu/Debian, the default policies files are located in source # directories, and the path should be updated to more appropriate path # like /etc. if $::osfamily == 'Debian' { if ! $policy_files_path { fail('Please set the horizon::policy_files_path parameter to customize policies') } } ensure_resource('file', $policy_files_path => { 'ensure' => 'directory', 'mode' => '0755', 'user' => $::horizon::params::wsgi_user, 'group' => $::horizon::params::wsgi_group, }) openstacklib::policy { ""${policy_files_path}/${policy_file}"": policies = $policies, file_user = $::horizon::params::wsgi_user, file_group = $::horizon::params::wsgi_group, file_mode = $file_mode, file_format = $file_format, purge_config = $purge_config } } ",,164,0
openstack%2Fpuppet-glance~master~I12ed8285a2a048880b5a263958f0aba62128ca58,openstack/puppet-glance,master,I12ed8285a2a048880b5a263958f0aba62128ca58,api: Deprecate ineffective scrub_time,MERGED,2022-01-09 16:10:12.000000000,2022-01-10 20:49:32.000000000,2022-01-10 20:47:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 16:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bef55a2cddfea9bcd6aa95a7d4176658cf81b5fa', 'message': 'api: Deprecate ineffective scrub_time\n\nThe scrub_time parameter is not used by glance-api. The parameter is\nused by glance-scrubber which is not yet supported by puppet-glance,\nand should be added to glance-scrubber.conf instead.\n\nThis change deprecates the parameter because it has been ineffective.\n\nChange-Id: I12ed8285a2a048880b5a263958f0aba62128ca58\n'}, {'number': 2, 'created': '2022-01-09 16:11:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/0e8601b1c71a162470a5f51d29980c04ab80f6bd', 'message': 'api: Deprecate ineffective scrub_time\n\nThe scrub_time parameter is not used by glance-api. The parameter is\nused by glance-scrubber which is not yet supported by puppet-glance,\nand should be added to glance-scrubber.conf instead.\n\nThis change deprecates the parameter because it has been ineffective.\n\nChange-Id: I12ed8285a2a048880b5a263958f0aba62128ca58\n'}, {'number': 3, 'created': '2022-01-10 04:41:35.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/deprecate-api-scrub_time-9f2b2f8bb06fe375.yaml', 'spec/classes/glance_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bd6fb8f1756b004aa66af389810cd7200603c2d3', 'message': 'api: Deprecate ineffective scrub_time\n\nThe scrub_time parameter is not used by glance-api. The parameter is\nused by glance-scrubber which is not yet supported by puppet-glance,\nand should be added to glance-scrubber.conf instead.\n\nThis change deprecates the parameter because it has been ineffective.\n\nChange-Id: I12ed8285a2a048880b5a263958f0aba62128ca58\n'}]",0,823918,bd6fb8f1756b004aa66af389810cd7200603c2d3,11,3,3,9816,,,0,"api: Deprecate ineffective scrub_time

The scrub_time parameter is not used by glance-api. The parameter is
used by glance-scrubber which is not yet supported by puppet-glance,
and should be added to glance-scrubber.conf instead.

This change deprecates the parameter because it has been ineffective.

Change-Id: I12ed8285a2a048880b5a263958f0aba62128ca58
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/18/823918/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/deprecate-api-scrub_time-9f2b2f8bb06fe375.yaml', 'spec/classes/glance_api_spec.rb']",3,bef55a2cddfea9bcd6aa95a7d4176658cf81b5fa,scrubber,," :scrub_time => '<SERVICE DEFAULT>', :scrub_time => '10', 'scrub_time',",17,9
openstack%2Fpuppet-horizon~master~I1f67c00a737ebea6f965c92a923652632641528d,openstack/puppet-horizon,master,I1f67c00a737ebea6f965c92a923652632641528d,Handle string value for LAUNCH_INSTANCE_DEFAULTS,MERGED,2022-01-10 04:53:08.000000000,2022-01-10 20:47:58.000000000,2022-01-10 20:47:58.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 04:53:08.000000000', 'files': ['templates/local_settings.py.erb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/f20fa4ab83212d92cdeff415c3ef500c3b7c65e4', 'message': 'Handle string value for LAUNCH_INSTANCE_DEFAULTS\n\nDuring Wallaby cylce, the new default_availablility_zone parameter\nwas added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string\nvalue and the value should be surrounded by \' (or "") when it is put\ninto local_settings.\n\nThis change makes sure that a string value is properly formatted.\n\n[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef\n\nChange-Id: I1f67c00a737ebea6f965c92a923652632641528d\n'}]",0,823928,f20fa4ab83212d92cdeff415c3ef500c3b7c65e4,7,3,1,9816,,,0,"Handle string value for LAUNCH_INSTANCE_DEFAULTS

During Wallaby cylce, the new default_availablility_zone parameter
was added to LAUNCH_INSTANCE_DEFAULTS[1]. This parameter takes a string
value and the value should be surrounded by ' (or "") when it is put
into local_settings.

This change makes sure that a string value is properly formatted.

[1] fc8603a499fb3302aeb2ebef714420e0fdcbdfef

Change-Id: I1f67c00a737ebea6f965c92a923652632641528d
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/28/823928/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/local_settings.py.erb'],1,f20fa4ab83212d92cdeff415c3ef500c3b7c65e4,default_availability_zone," <%- if opt_val.kind_of?(String) -%> '<%= opt_name -%>': '<%= opt_val -%>', <%- else -%> <%-end-%>",,4,0
openstack%2Fneutron~stable%2Fvictoria~I206c31201470f178efdde8839622be7900c6ae3e,openstack/neutron,stable/victoria,I206c31201470f178efdde8839622be7900c6ae3e,[OVN] Prevent deleting the only IP of a router port,MERGED,2022-01-04 14:57:11.000000000,2022-01-10 20:37:44.000000000,2022-01-10 20:35:15.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 14:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c2d79887adefeb36ea328d4bd004b49bfadcea9b', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nConflict: had to convert payload to kwargs\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit fa2179278f064f75e057f7020e4f0c34f358de1b)\n""}, {'number': 2, 'created': '2022-01-04 15:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/79e00d4a77ebef94fabefe6d3b7b6dd5906e05ac', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit 935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0)\n""}, {'number': 3, 'created': '2022-01-04 15:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb3f92fcd0bbc4c390c0b40034d3cdbe41460ae1', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCompared to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit 935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0)\n""}, {'number': 4, 'created': '2022-01-07 11:17:10.000000000', 'files': ['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f7f083c9da48106ae2450fcb94aa16b9f41de71b', 'message': ""[OVN] Prevent deleting the only IP of a router port\n\nNeutron allows deleting the only IP of a router port but\nthe OVN NB DB doesn't, since it expects that the\nnetwork value of a port is greater than 0. This should\nnot be possible since it causes that the DB are not\nperfectly sync.\n\nIt is needed to check BEFORE_UPDATE if the port\nthat will be updated is of type router owned and\nif it will have an IP after the update. If not\nan error needs to be raised.\n\nCompared to master patch, this has changed payload to kwargs\nConflicts:\n    neutron/services/ovn_l3/plugin.py\n\nCloses-Bug: #1948457\nChange-Id: I206c31201470f178efdde8839622be7900c6ae3e\n(cherry picked from commit 935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0)\n""}]",0,823401,f7f083c9da48106ae2450fcb94aa16b9f41de71b,12,3,4,34118,,,0,"[OVN] Prevent deleting the only IP of a router port

Neutron allows deleting the only IP of a router port but
the OVN NB DB doesn't, since it expects that the
network value of a port is greater than 0. This should
not be possible since it causes that the DB are not
perfectly sync.

It is needed to check BEFORE_UPDATE if the port
that will be updated is of type router owned and
if it will have an IP after the update. If not
an error needs to be raised.

Compared to master patch, this has changed payload to kwargs
Conflicts:
    neutron/services/ovn_l3/plugin.py

Closes-Bug: #1948457
Change-Id: I206c31201470f178efdde8839622be7900c6ae3e
(cherry picked from commit 935c88032bd3c0e501c70a18c0f1eb3cfc67c1f0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/823401/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-817525-eef68687dafa97fd.yaml', 'neutron/services/ovn_l3/plugin.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",3,c2d79887adefeb36ea328d4bd004b49bfadcea9b,," def test_port_update_before_update_router_port_without_ip(self): context = 'fake_context' port = {'device_owner': constants.DEVICE_OWNER_ROUTER_INTF, 'fixed_ips': [], 'id': 'port-id'} self.assertRaises( n_exc.ServicePortInUse, self.l3_inst._port_update, resources.PORT, events.BEFORE_UPDATE, None, payload=events.DBEventPayload( context, states=(port,)) ) ",,43,2
openstack%2Fpuppet-magnum~master~Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee,openstack/puppet-magnum,master,Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee,Add support for [keystone_auth] auth_type,MERGED,2022-01-10 13:30:30.000000000,2022-01-10 20:26:44.000000000,2022-01-10 20:24:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 13:30:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/2dfb486b258fbf315069194cb29452436413ef32', 'message': 'Add support for [keystone_auth] auth_type\n\nChange-Id: Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee\n'}, {'number': 2, 'created': '2022-01-10 13:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b72f9b67c6f523f3674655aee5b1b1304b0580b8', 'message': 'Add support for [keystone_auth] auth_type\n\nChange-Id: Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee\n'}, {'number': 3, 'created': '2022-01-10 13:54:16.000000000', 'files': ['releasenotes/notes/keystone_auth-auth_type-15e6fb6d13940181.yaml', 'manifests/keystone/keystone_auth.pp', 'spec/classes/magnum_keystone_keystone_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/470c51a63300d60d670667030a4d0426d7c965f7', 'message': 'Add support for [keystone_auth] auth_type\n\nChange-Id: Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee\n'}]",0,823984,470c51a63300d60d670667030a4d0426d7c965f7,12,3,3,9816,,,0,"Add support for [keystone_auth] auth_type

Change-Id: Ic631806cc4d4d930e4eeef9e77ff97aba443d7ee
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/84/823984/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone_auth-auth_type-15e6fb6d13940181.yaml', 'manifests/keystone/keystone_auth.pp', 'spec/classes/magnum_keystone_keystone_auth_spec.rb']",3,2dfb486b258fbf315069194cb29452436413ef32,keystone_auth," is_expected.to contain_magnum_config('keystone_auth/auth_type').with_value('password') :auth_type => 'v3password', is_expected.to contain_magnum_config('keystone_auth/auth_type').with_value('v3password')",,14,0
openstack%2Fpuppet-trove~master~I028af124586ce366545b189694f9459597ce5ac1,openstack/puppet-trove,master,I028af124586ce366545b189694f9459597ce5ac1,Fix ignored auth_url parameters,MERGED,2022-01-08 04:00:13.000000000,2022-01-10 20:24:51.000000000,2022-01-10 20:22:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 04:00:13.000000000', 'files': ['manifests/taskmanager/service_credentials.pp', 'manifests/conductor.pp', 'manifests/conductor/service_credentials.pp', 'manifests/taskmanager.pp', 'releasenotes/notes/fix-auth_url-330322b223994b41.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/4b3962b803dd973a1f2759949be5f6e4d4f17d16', 'message': 'Fix ignored auth_url parameters\n\nThe change d9759d24884cee443b5e9bd57bde1fb738271fdd incorrectly\nimplement parameter usage and it made auth_url parameters of\nthe following classes ineffective.\n - trove::taskmanager\n - trove::conductor\n\nThis change fixes these two parameters and ensures these the given\nvalues are used to define config values. These parameters are also\ndeprecated to be replaced completely by the service_credential classes.\n\nChange-Id: I028af124586ce366545b189694f9459597ce5ac1\n'}]",0,823887,4b3962b803dd973a1f2759949be5f6e4d4f17d16,8,3,1,9816,,,0,"Fix ignored auth_url parameters

The change d9759d24884cee443b5e9bd57bde1fb738271fdd incorrectly
implement parameter usage and it made auth_url parameters of
the following classes ineffective.
 - trove::taskmanager
 - trove::conductor

This change fixes these two parameters and ensures these the given
values are used to define config values. These parameters are also
deprecated to be replaced completely by the service_credential classes.

Change-Id: I028af124586ce366545b189694f9459597ce5ac1
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/87/823887/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/taskmanager/service_credentials.pp', 'manifests/conductor.pp', 'manifests/conductor/service_credentials.pp', 'manifests/taskmanager.pp', 'releasenotes/notes/fix-auth_url-330322b223994b41.yaml']",5,4b3962b803dd973a1f2759949be5f6e4d4f17d16,,--- deprecations: - | The ``trove::taskmanager::auth_url parameter has been deprecated. Use the ``trove::taskmanager::service_credentials::auth_url`` parameter instead. - | The ``trove::conductor::auth_url parameter has been deprecated. Use the ``trove::conductor::service_credentials::auth_url`` parameter instead. fixes: - | Now the ``trove::taskmanager::auth_url`` parameter and the ``trove:conductor::auth_url`` parameter take effect and are used to define value of ``[service_credentials] auth_url`` parameter. ,,40,32
openstack%2Fmanila~stable%2Ftrain~Iac6507a6e395c55f0fec453650009f08c2bb6563,openstack/manila,stable/train,Iac6507a6e395c55f0fec453650009f08c2bb6563,init_host should be called before RPC consumer is created,MERGED,2021-12-09 07:55:14.000000000,2022-01-10 20:21:44.000000000,2022-01-10 20:19:36.000000000,"[{'_account_id': 9003}, {'_account_id': 18816}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-09 07:55:14.000000000', 'files': ['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/818ca43e78ea7d8a908cefa41970bd26f4ddea26', 'message': 'init_host should be called before RPC consumer is created\n\nThis change adds a new hook to Manager class called init_host_with_rpc()\nto allow services like scheduler to do something once RPC is ready.\n\nCopied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419\nand https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8\n\nChange-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563\nCloses-Bug: #1271568\n(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)\n(cherry picked from commit 887c4bf4c041cfaafaf1c47edb9262574bbb959a)\n(cherry picked from commit d3481f5c2645fa96c710b4298c44ba915f7d9d92)\n(cherry picked from commit ad9042b2551d944aa9bf17488117419daf42e9c2)\n'}]",1,821172,818ca43e78ea7d8a908cefa41970bd26f4ddea26,15,7,1,16643,,,0,"init_host should be called before RPC consumer is created

This change adds a new hook to Manager class called init_host_with_rpc()
to allow services like scheduler to do something once RPC is ready.

Copied from cinder https://opendev.org/openstack/cinder/commit/65fa80c361f71158cc492dfc520dc4a63ccfa419
and https://opendev.org/openstack/cinder/commit/60c563f72d2d6d008fca03f0a058941f3807e1a8

Change-Id: Iac6507a6e395c55f0fec453650009f08c2bb6563
Closes-Bug: #1271568
(cherry picked from commit 0339802a5d0801cda19c464a87853b60982ae011)
(cherry picked from commit 887c4bf4c041cfaafaf1c47edb9262574bbb959a)
(cherry picked from commit d3481f5c2645fa96c710b4298c44ba915f7d9d92)
(cherry picked from commit ad9042b2551d944aa9bf17488117419daf42e9c2)
",git fetch https://review.opendev.org/openstack/manila refs/changes/72/821172/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/service.py', 'releasenotes/notes/bug-1271568-fix-rpc-init-host-with-rpc-6e76afa553b4f2af.yaml', 'manila/manager.py', 'manila/tests/scheduler/test_manager.py', 'manila/scheduler/manager.py']",5,818ca43e78ea7d8a908cefa41970bd26f4ddea26,bug/1271568, def init_host_with_rpc(self):, def init_host(self):,25,5
openstack%2Fpuppet-barbican~master~I696b3e3b1daa346b6667b288c21b5389d59eeac2,openstack/puppet-barbican,master,I696b3e3b1daa346b6667b288c21b5389d59eeac2,Stop converting service name in RHEL/CentOS,MERGED,2022-01-07 15:14:16.000000000,2022-01-10 20:21:00.000000000,2022-01-10 20:18:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2cce25435b0124d6aa5a01890110a8eabad9f133', 'message': ""Stop converting service name in RedHat OS\n\nUsage of service_name='barbican-api' in RedHat OS was deprecated during\nVictoria cycle[1]. This change removes that deprecated usage and\nenforces the actual service name which is 'openstack-barbican-api', as\nis done in the other modules.\n\n[1] 67e4879c75643aaa7f5e5f34b63de7c9e2defe2e\n\nChange-Id: I696b3e3b1daa346b6667b288c21b5389d59eeac2\n""}, {'number': 2, 'created': '2022-01-07 15:15:40.000000000', 'files': ['manifests/api.pp', 'releasenotes/notes/use-actual-service_name-on-redhat-follow-up-7a330703f4982dac.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/d0f34f0d302e4e2314cab73e1e8254b37c76dac3', 'message': ""Stop converting service name in RHEL/CentOS\n\nUsage of service_name='barbican-api' in RHEL/CentOS was deprecated\nduring Victoria cycle[1]. This change removes that deprecated usage and\nenforces the actual service name which is 'openstack-barbican-api', as\nis done in the other modules.\n\n[1] 67e4879c75643aaa7f5e5f34b63de7c9e2defe2e\n\nChange-Id: I696b3e3b1daa346b6667b288c21b5389d59eeac2\n""}]",0,823815,d0f34f0d302e4e2314cab73e1e8254b37c76dac3,9,3,2,9816,,,0,"Stop converting service name in RHEL/CentOS

Usage of service_name='barbican-api' in RHEL/CentOS was deprecated
during Victoria cycle[1]. This change removes that deprecated usage and
enforces the actual service name which is 'openstack-barbican-api', as
is done in the other modules.

[1] 67e4879c75643aaa7f5e5f34b63de7c9e2defe2e

Change-Id: I696b3e3b1daa346b6667b288c21b5389d59eeac2
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/15/823815/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'releasenotes/notes/use-actual-service_name-on-redhat-follow-up-7a330703f4982dac.yaml']",2,2cce25435b0124d6aa5a01890110a8eabad9f133,manage_service,"--- upgrade: - | The ``barbican::api::service_name`` no longer accetps ``barbican-api`` as a valid service name in RedHat OS. Use the actual service name, ``openstack-barbican-api`` instead. ",,8,7
openstack%2Fpuppet-barbican~master~If8f1baacf56cc5a78032a72c8b24f1db487feb58,openstack/puppet-barbican,master,If8f1baacf56cc5a78032a72c8b24f1db487feb58,Do not define service resource when service management is disabled,MERGED,2022-01-07 15:06:00.000000000,2022-01-10 20:18:52.000000000,2022-01-10 20:18:52.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/c89b5d0d23ba606e63cb8fa97df95a5581338c7c', 'message': 'Do not define service resource when service management is disabled\n\nChange-Id: If8f1baacf56cc5a78032a72c8b24f1db487feb58\n'}, {'number': 2, 'created': '2022-01-07 15:07:25.000000000', 'files': ['spec/classes/barbican_api_spec.rb', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/9b0d38b342f570841b355c1f7445dd348fe087cc', 'message': 'Do not define service resource when service management is disabled\n\nChange-Id: If8f1baacf56cc5a78032a72c8b24f1db487feb58\n'}]",0,823814,9b0d38b342f570841b355c1f7445dd348fe087cc,8,3,2,9816,,,0,"Do not define service resource when service management is disabled

Change-Id: If8f1baacf56cc5a78032a72c8b24f1db487feb58
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/14/823814/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_api_spec.rb', 'manifests/api.pp']",2,c89b5d0d23ba606e63cb8fa97df95a5581338c7c,manage_service," if $manage_service { if $enabled { $service_ensure = 'running' } else { $service_ensure = 'stopped' } if $service_name == 'barbican-api' or $service_name == $::barbican::params::api_service_name { if $::operatingsystem == 'Ubuntu' { fail('With Ubuntu packages the service_name must be set to httpd as there is no eventlet init script.') } if $::osfamily == 'RedHat' and $service_name == 'barbican-api' { warning('The usage of barbican-api as service_name in Red Hat based OS is \ de precated and will be removed in a future release. Use openstack-barbican-api instead.') } service { 'barbican-api': ensure => $service_ensure, name => $::barbican::params::api_service_name, enable => $enabled, hasstatus => true, hasrestart => true, tag => 'barbican-service', } # Debian is using UWSGI, not gunicorn if $::operatingsystem != 'Debian' { file_line { 'Modify bind_port in gunicorn-config.py': path => '/etc/barbican/gunicorn-config.py', line => ""bind = '${bind_host}:${bind_port}'"", match => '.*bind = .*', tag => 'modify-bind-port', } } } elsif $service_name == 'httpd' { # Ubuntu packages does not have a barbican-api service if $::operatingsystem != 'Ubuntu' { service { 'barbican-api': ensure => 'stopped', name => $::barbican::params::api_service_name, enable => false, tag => 'barbican-service', } Service <| title == 'httpd' |> { tag +> 'barbican-service' } # we need to make sure barbican-api is stopped before trying to start apache Service['barbican-api'] -> Service[$service_name] } } else { fail('Invalid service_name. Use barbican-api for stand-alone or httpd') }"," if $manage_service { if $enabled { $service_ensure = 'running' } else { $service_ensure = 'stopped' } } if $service_name == 'barbican-api' or $service_name == $::barbican::params::api_service_name { if $::operatingsystem == 'Ubuntu' { fail('With Ubuntu packages the service_name must be set to httpd as there is no eventlet init script.') } if $::osfamily == 'RedHat' and $service_name == 'barbican-api' { warning('The usage of barbican-api as service_name in Red Hat based OS is \ deprecated and will be removed in a future release. Use openstack-barbican-api instead.') } service { 'barbican-api': ensure => $service_ensure, name => $::barbican::params::api_service_name, enable => $enabled, hasstatus => true, hasrestart => true, tag => 'barbican-service', } # Debian is using UWSGI, not gunicorn if $::operatingsystem != 'Debian' { file_line { 'Modify bind_port in gunicorn-config.py': path => '/etc/barbican/gunicorn-config.py', line => ""bind = '${bind_host}:${bind_port}'"", match => '.*bind = .*', tag => 'modify-bind-port', } } } elsif $service_name == 'httpd' { # Ubuntu packages does not have a barbican-api service if $::operatingsystem != 'Ubuntu' { service { 'barbican-api': ensure => 'stopped', name => $::barbican::params::api_service_name, enable => false, tag => 'barbican-service', } Service <| title == 'httpd' |> { tag +> 'barbican-service' } # we need to make sure barbican-api is stopped before trying to start apache Service['barbican-api'] -> Service[$service_name] } } else { fail('Invalid service_name. Use barbican-api for stand-alone or httpd')",46,54
openstack%2Fswift~master~I30625d181aec68208214611fbf1a181121728abe,openstack/swift,master,I30625d181aec68208214611fbf1a181121728abe,updater: Skip updates to overloaded nodes,ABANDONED,2021-12-01 01:11:18.000000000,2022-01-10 20:09:59.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 01:11:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/733c6bd0524181e2b97cf35061375a228ebb05e3', 'message': 'updater: Skip updates to overloaded nodes\n\nObject updates have a few different stages:\n\n  1. Connect to container server\n  2. Send update request\n  3. Wait for response\n\nWe\'ve got two timeouts we can configure:\n\n  * conn_timeout, which covers stages 1 and 2, and\n  * node_timeout, which covers stage 3\n\nNote that by the time we get to stage 3, the container-server is fairly\ncommitted to trying to process the request; the only question is whether\nthe updater will hang around to read the response. As a result,\noperators usually want to set node_timeout fairly high.\n\nNow that we\'re tracking update timings from the client perspective, we\ncan compare against the ""expected"" response timing -- if the actual\ntiming is significantly higher, skip trying to update the overloaded\nnode for a period of time, giving it a chance to recover.\n\nSkip, rather than trying to further ratelimit, so that we can continue\nto process updates destined for non-overloaded container-servers.\n\nChange-Id: I30625d181aec68208214611fbf1a181121728abe\n'}, {'number': 2, 'created': '2021-12-01 01:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e64b94f2ba86222c473bbbed3d5d8a155cb5f781', 'message': 'updater: Skip updates to overloaded nodes\n\nObject updates have a few different stages:\n\n  1. Connect to container server\n  2. Send update request\n  3. Wait for response\n\nWe\'ve got two timeouts we can configure:\n\n  * conn_timeout, which covers stages 1 and 2, and\n  * node_timeout, which covers stage 3\n\nNote that by the time we get to stage 3, the container-server is fairly\ncommitted to trying to process the request; the only question is whether\nthe updater will hang around to read the response. As a result,\noperators usually want to set node_timeout fairly high.\n\nNow that we\'re tracking update timings from the client perspective, we\ncan compare against the ""expected"" response timing -- if the actual\ntiming is significantly higher, skip trying to update the overloaded\nnode for a period of time, giving it a chance to recover.\n\nSkip, rather than trying to further ratelimit, so that we can continue\nto process updates destined for non-overloaded container-servers.\n\nChange-Id: I30625d181aec68208214611fbf1a181121728abe\n'}, {'number': 3, 'created': '2021-12-06 19:34:54.000000000', 'files': ['swift/obj/updater.py', 'etc/object-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/62fe75a16212e356f35715ecc4b97d8ffcd21dd5', 'message': 'updater: Skip updates to overloaded nodes\n\nObject updates have a few different stages:\n\n  1. Connect to container server\n  2. Send update request\n  3. Wait for response\n\nWe\'ve got two timeouts we can configure:\n\n  * conn_timeout, which covers stages 1 and 2, and\n  * node_timeout, which covers stage 3\n\nNote that by the time we get to stage 3, the container-server is fairly\ncommitted to trying to process the request; the only question is whether\nthe updater will hang around to read the response. As a result,\noperators usually want to set node_timeout fairly high.\n\nNow that we\'re tracking update timings from the client perspective, we\ncan compare against the ""expected"" response timing -- if the actual\ntiming is significantly higher, skip trying to update the overloaded\nnode for a period of time, giving it a chance to recover.\n\nSkip, rather than trying to further ratelimit, so that we can continue\nto process updates destined for non-overloaded container-servers.\n\nChange-Id: I30625d181aec68208214611fbf1a181121728abe\n'}]",13,819931,62fe75a16212e356f35715ecc4b97d8ffcd21dd5,14,2,3,15343,,,0,"updater: Skip updates to overloaded nodes

Object updates have a few different stages:

  1. Connect to container server
  2. Send update request
  3. Wait for response

We've got two timeouts we can configure:

  * conn_timeout, which covers stages 1 and 2, and
  * node_timeout, which covers stage 3

Note that by the time we get to stage 3, the container-server is fairly
committed to trying to process the request; the only question is whether
the updater will hang around to read the response. As a result,
operators usually want to set node_timeout fairly high.

Now that we're tracking update timings from the client perspective, we
can compare against the ""expected"" response timing -- if the actual
timing is significantly higher, skip trying to update the overloaded
node for a period of time, giving it a chance to recover.

Skip, rather than trying to further ratelimit, so that we can continue
to process updates destined for non-overloaded container-servers.

Change-Id: I30625d181aec68208214611fbf1a181121728abe
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/819931/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/obj/updater.py'],1,733c6bd0524181e2b97cf35061375a228ebb05e3,,"import collections self.next_update = collections.defaultdict(int) nodes_to_update = [node for node in nodes if node['id'] not in successes] next_update_time, _, limiting_node = max( (self.next_update[node['id']], i, node) for i, node in enumerate(nodes_to_update)) if time.time() < next_update_time: self.stats.failures += 1 self.logger.increment('skips') self.logger.debug( 'Update skipped for %(obj)s %(path)s ' '(waiting on %(ip)s:%(port)s/%(device)s)', {'obj': obj, 'path': update_path, 'ip': node['ip'], 'port': node['port'], 'device': node['device']}) return False, False for node in nodes_to_update] if self.max_objects_per_second: expected_time_per_request = (float(self.concurrency) / self.max_objects_per_second) self.next_update[node['id']] = max( self.next_update[node['id']], time.time() + max(elapsed - expected_time_per_request, 0))", for node in nodes if node['id'] not in successes],25,1
openstack%2Fpuppet-tacker~master~I9e91a0488407df171cd5b39760eff0b0087d4ee2,openstack/puppet-tacker,master,I9e91a0488407df171cd5b39760eff0b0087d4ee2,Add service tunable parameters of tacker-conductor,MERGED,2022-01-08 04:17:42.000000000,2022-01-10 19:39:37.000000000,2022-01-10 19:37:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 04:17:42.000000000', 'files': ['spec/classes/tacker_conductor_spec.rb', 'manifests/conductor.pp', 'releasenotes/notes/service-opts-fb0b928f265220f1.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/dfb2475e183522ef482dcc2eacc145bd5138407a', 'message': 'Add service tunable parameters of tacker-conductor\n\nChange-Id: I9e91a0488407df171cd5b39760eff0b0087d4ee2\n'}]",0,823889,dfb2475e183522ef482dcc2eacc145bd5138407a,8,3,1,9816,,,0,"Add service tunable parameters of tacker-conductor

Change-Id: I9e91a0488407df171cd5b39760eff0b0087d4ee2
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/89/823889/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_conductor_spec.rb', 'manifests/conductor.pp', 'releasenotes/notes/service-opts-fb0b928f265220f1.yaml']",3,dfb2475e183522ef482dcc2eacc145bd5138407a,service-opts,--- features: - | The following parameters have been added to the ``tacker::conductor`` class. - ``report_interval`` - ``periodic_interval`` - ``periodic_fuzzy_delay`` ,,54,3
openstack%2Fpuppet-octavia~master~I5104e5a00f92c951a32c4c058278f6479ab04756,openstack/puppet-octavia,master,I5104e5a00f92c951a32c4c058278f6479ab04756,Add support for [haproxy_amphora] build_retry_interval,MERGED,2022-01-10 07:45:19.000000000,2022-01-10 19:34:40.000000000,2022-01-10 19:32:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 07:45:19.000000000', 'files': ['spec/classes/octavia_controller_spec.rb', 'releasenotes/notes/build_retry_interval-96aa9efb9689362d.yaml', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/ccf6792238db1869911cb457ce9eebfde52f7b49', 'message': 'Add support for [haproxy_amphora] build_retry_interval\n\nChange-Id: I5104e5a00f92c951a32c4c058278f6479ab04756\n'}]",0,823936,ccf6792238db1869911cb457ce9eebfde52f7b49,8,3,1,9816,,,0,"Add support for [haproxy_amphora] build_retry_interval

Change-Id: I5104e5a00f92c951a32c4c058278f6479ab04756
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/36/823936/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_controller_spec.rb', 'releasenotes/notes/build_retry_interval-96aa9efb9689362d.yaml', 'manifests/controller.pp']",3,ccf6792238db1869911cb457ce9eebfde52f7b49,build_retry_interval,"# [*build_retry_interval*] # (optional) Retry timeout between build attempts in seconds. # Defaults to $::os_service_default # $build_retry_interval = $::os_service_default, 'haproxy_amphora/build_retry_interval' : value => $build_retry_interval;",,16,2
openstack%2Fswift~master~I346917c6b7b08e3ef91a1b3e655508a13a0d924b,openstack/swift,master,I346917c6b7b08e3ef91a1b3e655508a13a0d924b,squash: Trim tempurl signature with obscuremap in the logs (CVE-2017-8761),ABANDONED,2022-01-04 21:30:37.000000000,2022-01-10 19:33:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-04 21:30:37.000000000', 'files': ['swift/common/middleware/proxy_logging.py', 'swift/common/middleware/tempurl.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/request_helpers.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/b508e56839ddbfb148ca7e600876abefe239d0c8', 'message': 'squash: Trim tempurl signature with obscuremap in the logs (CVE-2017-8761)\n\nChange-Id: I346917c6b7b08e3ef91a1b3e655508a13a0d924b\n'}]",2,823432,b508e56839ddbfb148ca7e600876abefe239d0c8,5,1,1,15343,,,0,"squash: Trim tempurl signature with obscuremap in the logs (CVE-2017-8761)

Change-Id: I346917c6b7b08e3ef91a1b3e655508a13a0d924b
",git fetch https://review.opendev.org/openstack/swift refs/changes/32/823432/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/proxy_logging.py', 'swift/common/middleware/tempurl.py', 'test/unit/common/middleware/test_proxy_logging.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/request_helpers.py']",5,b508e56839ddbfb148ca7e600876abefe239d0c8,sigs-in-logs,"_sensitive_headers = set() _sensitive_params = set() def get_sensitive_headers(): return set(_sensitive_headers) def register_sensitive_header(header): if not isinstance(header, str): raise TypeError _sensitive_headers.add(header) def get_sensitive_params(): return set(_sensitive_params) def register_sensitive_param(query_param): if not isinstance(query_param, str): raise TypeError _sensitive_params.add(query_param)","def get_obscure_map(env): obscure_map = env.setdefault(""obscure_map"", {}) if not obscure_map: obscure_map.update({'params': [], 'headers': []}) return obscure_map def obscure_map_append(env, param_or_header, key): if param_or_header not in ('params', 'headers'): raise ValueError() obscure_map = get_obscure_map(env) obscure_map[param_or_header].append(key) def obscure_map_append_param(env, param): obscure_map_append(env, 'params', param) def obscure_map_append_header(env, header): obscure_map_append(env, 'headers', header)",51,42
openstack%2Fpuppet-tacker~master~Ie61b618ecec6f9a3691ac24bb57302b5b26ddab9,openstack/puppet-tacker,master,Ie61b618ecec6f9a3691ac24bb57302b5b26ddab9,Add support for [DEFAULT] api_workers,MERGED,2022-01-08 04:10:56.000000000,2022-01-10 19:29:25.000000000,2022-01-10 19:27:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 04:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/8c284bb6ecd584697ff3313e39f092b5ef339b1b', 'message': 'Add support for [DEFAULT] api_workers\n\nChange-Id: Ie61b618ecec6f9a3691ac24bb57302b5b26ddab9\n'}, {'number': 2, 'created': '2022-01-08 04:18:46.000000000', 'files': ['releasenotes/notes/api_workers-19ee939effb3d102.yaml', 'spec/classes/tacker_server_spec.rb', 'manifests/server.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/d37bdac959168e05b41cc5ccac177909536aa58c', 'message': 'Add support for [DEFAULT] api_workers\n\nChange-Id: Ie61b618ecec6f9a3691ac24bb57302b5b26ddab9\n'}]",1,823888,d37bdac959168e05b41cc5ccac177909536aa58c,11,3,2,9816,,,0,"Add support for [DEFAULT] api_workers

Change-Id: Ie61b618ecec6f9a3691ac24bb57302b5b26ddab9
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/88/823888/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/api_workers-19ee939effb3d102.yaml', 'spec/classes/tacker_server_spec.rb', 'manifests/server.pp']",3,8c284bb6ecd584697ff3313e39f092b5ef339b1b,api_workers," $api_workers = $::os_workers, 'DEFAULT/bind_host' : value => $bind_host; 'DEFAULT/bind_port' : value => $bind_port; 'DEFAULT/api_workers': value => $api_workers;", 'DEFAULT/bind_host' : value => $bind_host; 'DEFAULT/bind_port' : value => $bind_port;,12,3
openstack%2Fpuppet-cinder~master~I496671237bd26a1ff9f032725849f5bed1ddcb71,openstack/puppet-cinder,master,I496671237bd26a1ff9f032725849f5bed1ddcb71,rbd: Support more rbd driver parameters,MERGED,2022-01-09 05:33:09.000000000,2022-01-10 19:21:42.000000000,2022-01-10 19:19:55.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 05:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/42fa3ff376276f3f3b263b1060f8dc249f5b4764', 'message': 'rbd: Support more rbd driver parameters\n\nThis change introduces support of the following parameters of the rbd\nvolume driver.\n - report_dynamic_total_capacity\n - rbd_exclusive_cinder_pool\n\nChange-Id: I496671237bd26a1ff9f032725849f5bed1ddcb71\n'}, {'number': 2, 'created': '2022-01-09 06:08:37.000000000', 'files': ['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb', 'releasenotes/notes/rbd-opts-8e6856ca90979340.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/c7ad9f1f252dfec26af239c3eef916b48bb9c15c', 'message': 'rbd: Support more rbd driver parameters\n\nThis change introduces support of the following parameters of the rbd\nvolume driver.\n - report_dynamic_total_capacity\n - rbd_exclusive_cinder_pool\n\nChange-Id: I496671237bd26a1ff9f032725849f5bed1ddcb71\n'}]",0,823901,c7ad9f1f252dfec26af239c3eef916b48bb9c15c,9,3,2,9816,,,0,"rbd: Support more rbd driver parameters

This change introduces support of the following parameters of the rbd
volume driver.
 - report_dynamic_total_capacity
 - rbd_exclusive_cinder_pool

Change-Id: I496671237bd26a1ff9f032725849f5bed1ddcb71
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/01/823901/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/rbd.pp', 'spec/defines/cinder_backend_rbd_spec.rb', 'releasenotes/notes/rbd-opts-8e6856ca90979340.yaml']",3,42fa3ff376276f3f3b263b1060f8dc249f5b4764,rbd-opts,--- features: - | The following parameters have been added to the ``cinder::backend::rbd`` resource type. - ``report_dynamic_total_capacity`` - ``rbd_exclusive_cinder_pool`` ,,25,0
openstack%2Fkolla-ansible~stable%2Fxena~Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,openstack/kolla-ansible,stable/xena,Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,Use Volume V3 API in OpenStack exporter,MERGED,2022-01-07 19:30:10.000000000,2022-01-10 19:01:47.000000000,2022-01-10 18:58:59.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 31503}]","[{'number': 1, 'created': '2022-01-07 19:30:10.000000000', 'files': ['releasenotes/notes/bug-1938194-80dba28f9cdd434c.yaml', 'ansible/roles/prometheus/templates/clouds.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/75fd5c89499213c43da20134924894a283ba097d', 'message': 'Use Volume V3 API in OpenStack exporter\n\nKolla has removed the Volume V2 API by default since OpenStack Wallaby.\nHowever, openstack-exporter attempts to use the Volume V2 API by\ndefault, resulting in clean installs failing to fetch Cinder metrics\nin Prometheus.\n\nThis patch updates the clouds.yml configuration file for\nopenstack-exporter to use the Volume V3 API instead.\n\nCloses-Bug: #1938194\nChange-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9\n(cherry picked from commit 4410ca7802bb8f95e804312fe8d8f5e1e79ad30d)\n'}]",1,823832,75fd5c89499213c43da20134924894a283ba097d,15,4,1,30491,,,0,"Use Volume V3 API in OpenStack exporter

Kolla has removed the Volume V2 API by default since OpenStack Wallaby.
However, openstack-exporter attempts to use the Volume V2 API by
default, resulting in clean installs failing to fetch Cinder metrics
in Prometheus.

This patch updates the clouds.yml configuration file for
openstack-exporter to use the Volume V3 API instead.

Closes-Bug: #1938194
Change-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9
(cherry picked from commit 4410ca7802bb8f95e804312fe8d8f5e1e79ad30d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/823832/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1938194-80dba28f9cdd434c.yaml', 'ansible/roles/prometheus/templates/clouds.yml.j2']",2,75fd5c89499213c43da20134924894a283ba097d,bug/1938194-stable/xena, volume_api_version: 3,,7,0
openstack%2Fkolla-ansible~stable%2Fwallaby~If8c569e1f7815520c84627671e3cbf275bed8ff9,openstack/kolla-ansible,stable/wallaby,If8c569e1f7815520c84627671e3cbf275bed8ff9,CI: check-logs - add another exception,MERGED,2022-01-07 19:30:49.000000000,2022-01-10 18:51:04.000000000,2022-01-10 18:48:09.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 19:30:49.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aca6cbfd0379104077ab51d1ddbe3ec45060e422', 'message': 'CI: check-logs - add another exception\n\nIt was seen in [1] and some other occassions, possibly neutron was trying\nto fetch token while keystone was being upgraded.\n\n[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt\n\nChange-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9\n(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)\n'}]",1,823835,aca6cbfd0379104077ab51d1ddbe3ec45060e422,14,4,1,30491,,,0,"CI: check-logs - add another exception

It was seen in [1] and some other occassions, possibly neutron was trying
to fetch token while keystone was being upgraded.

[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt

Change-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9
(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/823835/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,aca6cbfd0379104077ab51d1ddbe3ec45060e422,," grep -v ""Failed to fetch token data from identity server""",,1,0
openstack%2Fneutron~stable%2Ftrain~I9f5bd8a1404dde3a0aa163ce72aef2961f537676,openstack/neutron,stable/train,I9f5bd8a1404dde3a0aa163ce72aef2961f537676,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE",MERGED,2021-12-06 09:04:12.000000000,2022-01-10 18:22:39.000000000,2022-01-10 18:18:54.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-06 09:04:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/535637abece34c53e5b26a27f0d8ca650972b49a', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}, {'number': 2, 'created': '2021-12-13 10:11:40.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c886bea8d931b83b958b19c10673c3c6f7579ff2', 'message': 'Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE\n\nThere are two types of OF rules in TRANSIENT_TABLE:\n- With priority 100: these rules match by ""in_port"", that is a\n  unique identifier.\n- With priority 90: these rules match by MAC address and VLAN ID.\n  This combination (MAC, VLAN) is unique.\n\nThat means when a deleting an OF rule in TRANSIENT_TABLE, it is\nenough to specify the ""in_port"" or the (MAC, VLAN) tuple. The\n""--strict"" parameter, added to also define the priority, is not\nneeded.\n\nBy removing the ""--strict"" parameter, these deletion commands can\nbe executed synchronously at the end of the OVS deferred context,\nwhen all the OF rule commands (addition or deletion), are executed\nat the same time. That removes the small window, detected in the\nrelated bug, when the OF rule set for a port is not complete.\n\nConflicts:\n    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py\n\nCloses-Bug: #1952770\nChange-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676\n(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)\n'}]",6,820493,c886bea8d931b83b958b19c10673c3c6f7579ff2,19,4,2,11975,,,0,"Do no use ""--strict"" for OF deletion in TRANSIENT_TABLE

There are two types of OF rules in TRANSIENT_TABLE:
- With priority 100: these rules match by ""in_port"", that is a
  unique identifier.
- With priority 90: these rules match by MAC address and VLAN ID.
  This combination (MAC, VLAN) is unique.

That means when a deleting an OF rule in TRANSIENT_TABLE, it is
enough to specify the ""in_port"" or the (MAC, VLAN) tuple. The
""--strict"" parameter, added to also define the priority, is not
needed.

By removing the ""--strict"" parameter, these deletion commands can
be executed synchronously at the end of the OVS deferred context,
when all the OF rule commands (addition or deletion), are executed
at the same time. That removes the small window, detected in the
related bug, when the OF rule set for a port is not complete.

Conflicts:
    neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py

Closes-Bug: #1952770
Change-Id: I9f5bd8a1404dde3a0aa163ce72aef2961f537676
(cherry picked from commit ef7f673098c2a4574365f6f4ed20734f29309f08)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/820493/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/tests/unit/agent/linux/openvswitch_firewall/test_firewall.py']",2,535637abece34c53e5b26a27f0d8ca650972b49a,bug/1952770-stable/xena-stable/wallaby-stable/victoria-stable/ussuri-stable/train," call_args1 = {""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""table"": ovs_consts.TRANSIENT_TABLE, self.mock_bridge.apply_flows.assert_called_once()"," call_args1 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, call_args2 = {""strict"": True, ""priority"": 90, ""table"": ovs_consts.TRANSIENT_TABLE, ""strict"": True, ""priority"": 100, self.assertEqual(2, self.mock_bridge.apply_flows.call_count)",14,39
openstack%2Fpython-manilaclient~stable%2Fussuri~I4a7de404bd02887e7a7b37fff8ce449846109cbb,openstack/python-manilaclient,stable/ussuri,I4a7de404bd02887e7a7b37fff8ce449846109cbb,[CI] Fix CI jobs,MERGED,2022-01-05 22:15:20.000000000,2022-01-10 18:20:31.000000000,2022-01-10 18:12:51.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-05 22:15:20.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/python-manilaclient/commit/11d95ccefe1c1f17a123a578f500435e3c60f73c', 'message': ""[CI] Fix CI jobs\n\nrally-dsvm-manila-multibackend and\nrally-dsvm-manila-multibackend-no-ss were old\njobs whose definition was removed a while ago, however,\nthe check pipeline on this repo had these jobs\nand this config error was not surfaced until\nrecently [1]. Replace these older jobs with the\ncorrect ones.\n\nThe lower constraints job should only be run on\nmaster, since it provides little value to stable branches\nwe've already shipped. We do not allow requirements\nchanges in these branches lightly. [2][3][4]\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html\n[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html\n[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020\n[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html\nChange-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)\n(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)\n(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)\n(cherry picked from commit 3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0)\n""}]",2,823583,11d95ccefe1c1f17a123a578f500435e3c60f73c,8,3,1,16643,,,0,"[CI] Fix CI jobs

rally-dsvm-manila-multibackend and
rally-dsvm-manila-multibackend-no-ss were old
jobs whose definition was removed a while ago, however,
the check pipeline on this repo had these jobs
and this config error was not surfaced until
recently [1]. Replace these older jobs with the
correct ones.

The lower constraints job should only be run on
master, since it provides little value to stable branches
we've already shipped. We do not allow requirements
changes in these branches lightly. [2][3][4]

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-November/025797.html
[2] http://pyfound.blogspot.com/2020/11/pip-20-3-new-resolver.html
[3] https://pip.pypa.io/en/stable/user_guide/#changes-to-the-pip-dependency-resolver-in-20-3-2020
[4] http://lists.openstack.org/pipermail/openstack-discuss/2021-March/021204.html
Change-Id: I4a7de404bd02887e7a7b37fff8ce449846109cbb
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1f72195d316d8fc4fafad107c81d134aae2210b7)
(cherry picked from commit 406ae1c65e63c30bdf68ee613ca753a5bd3e94ca)
(cherry picked from commit 1412265e0a957ecb6462bbfc00e1dcc790e7fc28)
(cherry picked from commit 3feef0c6b2a188c90fa9a6a0415f4dec9f536bd0)
",git fetch https://review.opendev.org/openstack/python-manilaclient refs/changes/83/823583/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,11d95ccefe1c1f17a123a578f500435e3c60f73c,ci-fixes-stable/ussuri, - manila-rally-ss: - manila-rally-no-ss:, - openstack-lower-constraints-jobs - rally-dsvm-manila-multibackend: - rally-dsvm-manila-multibackend-no-ss:,2,3
openstack%2Frequirements~master~I69284af0897eefaf762cf4dd9e32e9b423923431,openstack/requirements,master,I69284af0897eefaf762cf4dd9e32e9b423923431,"[DNR] Revert ""Updated from generate-constraints""",ABANDONED,2022-01-10 17:31:59.000000000,2022-01-10 18:06:06.000000000,,"[{'_account_id': 11131}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 17:31:59.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/41284de3482856a19b1ed76eea8151fd6903323f', 'message': '[DNR] Revert ""Updated from generate-constraints""\n\nThis reverts commit e774b30c8c179468a6b926c89d5c20290cedb41d.\n\nReason for revert: <INSERT REASONING HERE>\n\nChange-Id: I69284af0897eefaf762cf4dd9e32e9b423923431\n'}]",0,824017,41284de3482856a19b1ed76eea8151fd6903323f,4,3,1,29313,,,0,"[DNR] Revert ""Updated from generate-constraints""

This reverts commit e774b30c8c179468a6b926c89d5c20290cedb41d.

Reason for revert: <INSERT REASONING HERE>

Change-Id: I69284af0897eefaf762cf4dd9e32e9b423923431
",git fetch https://review.opendev.org/openstack/requirements refs/changes/17/824017/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,41284de3482856a19b1ed76eea8151fd6903323f,openstack/requirements/constraints,types-enum34===1.1.1moto===2.3.0types-paramiko===2.8.6urllib3===1.26.7mypy===0.930types-ipaddress===1.0.1boto3===1.20.30PyNaCl===1.4.0botocore===1.23.30types-cryptography===3.3.10dulwich===0.20.28decorator===5.1.0;python_version=='3.8'confluent-kafka===1.7.0setuptools===60.2.0;python_version=='3.8',types-enum34===1.1.2moto===2.3.1types-paramiko===2.8.7urllib3===1.26.8mypy===0.931types-ipaddress===1.0.2boto3===1.20.31PyNaCl===1.5.0botocore===1.23.31types-cryptography===3.3.11dulwich===0.20.30decorator===5.1.1;python_version=='3.8'confluent-kafka===1.8.2setuptools===60.3.1;python_version=='3.8',14,14
openstack%2Fironic~master~I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b,openstack/ironic,master,I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b,Use driver_internal_info methods for driver utils,MERGED,2021-11-19 04:22:35.000000000,2022-01-10 17:37:45.000000000,2022-01-10 17:33:07.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-11-19 04:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5ec77c845e92136974c0138b789d67a900948960', 'message': 'Use driver_internal_info methods for driver utils\n\nThis change switches driver utility and base classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nSpecific drivers with switch over later in this series.\n\nChange-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b\n'}, {'number': 2, 'created': '2021-12-03 01:50:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8d1647890ab355b1232d7641fdbf68f7f0b0e87c', 'message': 'Use driver_internal_info methods for driver utils\n\nThis change switches driver utility and base classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nSpecific drivers with switch over later in this series.\n\nChange-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b\n'}, {'number': 3, 'created': '2021-12-14 02:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/152242de3d85d69c3f5688e4a613fca56727ec32', 'message': 'Use driver_internal_info methods for driver utils\n\nThis change switches driver utility and base classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nSpecific drivers with switch over later in this series.\n\nChange-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b\n'}, {'number': 4, 'created': '2021-12-21 21:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4d9b10bb28f24af9f8577bf8eee4d8e2d727c23e', 'message': 'Use driver_internal_info methods for driver utils\n\nThis change switches driver utility and base classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nSpecific drivers with switch over later in this series.\n\nChange-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b\n'}, {'number': 5, 'created': '2022-01-05 03:06:20.000000000', 'files': ['ironic/drivers/utils.py', 'ironic/drivers/modules/boot_mode_utils.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/deploy_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/85c0dd4929d74db87bce9017a19ea471f1f11fbd', 'message': 'Use driver_internal_info methods for driver utils\n\nThis change switches driver utility and base classes to using\nset_driver_internal_info, del_driver_internal_info,\ntimestamp_driver_internal_info node methods for modifying\ndriver_internal_info.\n\nSpecific drivers with switch over later in this series.\n\nChange-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b\n'}]",2,818505,85c0dd4929d74db87bce9017a19ea471f1f11fbd,35,4,5,4571,,,0,"Use driver_internal_info methods for driver utils

This change switches driver utility and base classes to using
set_driver_internal_info, del_driver_internal_info,
timestamp_driver_internal_info node methods for modifying
driver_internal_info.

Specific drivers with switch over later in this series.

Change-Id: I4bdfe447cb4636f3f9efad3f2cb17ebddcacce4b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/818505/3 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/boot_mode_utils.py', 'ironic/drivers/utils.py', 'ironic/drivers/modules/agent_base.py', 'ironic/drivers/modules/deploy_utils.py']",4,5ec77c845e92136974c0138b789d67a900948960,story/2008301," node = task.node node.set_driver_internal_info('agent_erase_devices_iterations', random_iterations) node.set_driver_internal_info('agent_erase_devices_zeroize', zeroize) node.set_driver_internal_info('agent_continue_if_secure_erase_failed', erase_fallback) node.set_driver_internal_info('agent_continue_if_ata_erase_failed', erase_fallback) node.set_driver_internal_info('agent_enable_nvme_secure_erase', nvme_secure_erase) node.set_driver_internal_info('agent_enable_ata_secure_erase', secure_erase) node.set_driver_internal_info('disk_erasure_concurrency', CONF.deploy.disk_erasure_concurrency) node.set_driver_internal_info('agent_erase_skip_read_only', CONF.deploy.erase_skip_read_only) node.save() if 'instance' not in node.driver_internal_info: param_value = int(node.driver_internal_info['instance'][param]) if check_interface_capability(task.driver.boot, boot_capability): node.set_driver_internal_info('boot_from_volume', vol_uuid) node.set_driver_internal_info('boot_from_volume_deploy', vol_uuid) node.del_driver_internal_info('boot_from_volume') node.del_driver_internal_info('boot_from_volume_deploy')def _check_agent_token_prior_to_agent_reboot(node): :param node: The Node object. if not node.driver_internal_info.get('agent_secret_token_pregenerated', False): node.del_driver_internal_info('agent_secret_token') if node.clean_step: reboot_field = 'cleaning_reboot' skip_field = 'skip_current_clean_step' polling_field = 'cleaning_polling' else: reboot_field = 'deployment_reboot' skip_field = 'skip_current_deploy_step' polling_field = 'deployment_polling' if reboot is not None: node.set_driver_internal_info(reboot_field, reboot) _check_agent_token_prior_to_agent_reboot(node) if skip_current_step is not None: node.set_driver_internal_info(skip_field, skip_current_step) if polling is not None: node.set_driver_internal_info(polling_field, polling)"," info = task.node.driver_internal_info info['agent_erase_devices_iterations'] = random_iterations info['agent_erase_devices_zeroize'] = zeroize info['agent_continue_if_secure_erase_failed'] = erase_fallback info['agent_continue_if_ata_erase_failed'] = erase_fallback info['agent_enable_nvme_secure_erase'] = nvme_secure_erase info['agent_enable_ata_secure_erase'] = secure_erase info['disk_erasure_concurrency'] = CONF.deploy.disk_erasure_concurrency info['agent_erase_skip_read_only'] = CONF.deploy.erase_skip_read_only task.node.driver_internal_info = info task.node.save() driver_internal_info = node.driver_internal_info if 'instance' not in driver_internal_info: param_value = int(driver_internal_info['instance'][param]) driver_internal_info = node.driver_internal_info if check_interface_capability(task.driver.boot, boot_capability): driver_internal_info['boot_from_volume'] = vol_uuid driver_internal_info['boot_from_volume_deploy'] = vol_uuid node.driver_internal_info = driver_internal_info driver_internal_info = node.driver_internal_info driver_internal_info.pop('boot_from_volume', None) driver_internal_info.pop('boot_from_volume_deploy', None) node.driver_internal_info = driver_internal_infodef _check_agent_token_prior_to_agent_reboot(driver_internal_info): :param driver_internal_info: The driver_interal_info dict object from a Node object. if not driver_internal_info.get('agent_secret_token_pregenerated', False): driver_internal_info.pop('agent_secret_token', None) info = node.driver_internal_info cleaning = {'reboot': 'cleaning_reboot', 'skip': 'skip_current_clean_step', 'polling': 'cleaning_polling'} deployment = {'reboot': 'deployment_reboot', 'skip': 'skip_current_deploy_step', 'polling': 'deployment_polling'} fields = cleaning if node.clean_step else deployment if reboot is not None: info[fields['reboot']] = reboot _check_agent_token_prior_to_agent_reboot(info) if skip_current_step is not None: info[fields['skip']] = skip_current_step if polling is not None: info[fields['polling']] = polling node.driver_internal_info = info",72,87
openstack%2Frequirements~master~I48257366a0070a6a0334ccb31f68422c2485e4cf,openstack/requirements,master,I48257366a0070a6a0334ccb31f68422c2485e4cf,Updated from generate-constraints,MERGED,2022-01-08 02:52:16.000000000,2022-01-10 17:31:59.000000000,2022-01-08 06:07:33.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 02:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/d04e64176d928ba7e97480bc56a47e953a2198cb', 'message': 'Updated from generate-constraints\n\nChange-Id: I48257366a0070a6a0334ccb31f68422c2485e4cf\n'}, {'number': 2, 'created': '2022-01-08 02:59:20.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e774b30c8c179468a6b926c89d5c20290cedb41d', 'message': 'Updated from generate-constraints\n\nChange-Id: I48257366a0070a6a0334ccb31f68422c2485e4cf\nSigned-off-by: Matthew Thode <mthode@mthode.org>\n'}]",0,823882,e774b30c8c179468a6b926c89d5c20290cedb41d,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: I48257366a0070a6a0334ccb31f68422c2485e4cf
Signed-off-by: Matthew Thode <mthode@mthode.org>
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/823882/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d04e64176d928ba7e97480bc56a47e953a2198cb,openstack/requirements/constraints,rcssmin===1.1.0types-enum34===1.1.2moto===2.3.1XStatic-Angular===1.8.2.1types-paramiko===2.8.7urllib3===1.26.8pkg_resources===0.0.0django-compressor===3.1mypy===0.931types-ipaddress===1.0.2boto3===1.20.31pysaml2===7.1.0PyNaCl===1.5.0botocore===1.23.31types-cryptography===3.3.11dulwich===0.20.30rjsmin===1.2.0decorator===5.1.1;python_version=='3.8'confluent-kafka===1.8.2fasteners===0.16.3,rcssmin===1.0.6types-enum34===1.1.1moto===2.3.0XStatic-Angular===1.5.8.0types-paramiko===2.8.6urllib3===1.26.7django-compressor===2.4.1mypy===0.930types-ipaddress===1.0.1boto3===1.20.30pysaml2===7.0.1PyNaCl===1.4.0botocore===1.23.30types-cryptography===3.3.10dulwich===0.20.28rjsmin===1.1.0decorator===5.1.0;python_version=='3.8'confluent-kafka===1.7.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',20,21
openstack%2Fironic~master~Ic280cc3e1a2bb462d5425efd71b336db8c14bb90,openstack/ironic,master,Ic280cc3e1a2bb462d5425efd71b336db8c14bb90,Make bootloader installation failures fatal for whole disk images,MERGED,2022-01-06 17:13:42.000000000,2022-01-10 17:28:17.000000000,2022-01-10 17:23:51.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 17:13:42.000000000', 'files': ['ironic/drivers/modules/agent_base.py', 'releasenotes/notes/bootloader-install-fatal-6f1b9fed1d2c0ee4.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ca6499b62c47b6588b2382f442dbc690140453d5', 'message': 'Make bootloader installation failures fatal for whole disk images\n\nSince I4f2cecdc0af366364b18232dbd8ea4ffdd3165d2, bootloader installation\nfailures were ignored to facilitate backwards compatibility with older\nIronic Python Agents. However, this means that some genuine failures are\nignored.\n\nWe can now rely on having a sufficiently modern IPA, so this patch makes\nbootloader installation failures fatal for whole disk images.\n\nChange-Id: Ic280cc3e1a2bb462d5425efd71b336db8c14bb90\n'}]",4,823723,ca6499b62c47b6588b2382f442dbc690140453d5,13,3,1,14826,,,0,"Make bootloader installation failures fatal for whole disk images

Since I4f2cecdc0af366364b18232dbd8ea4ffdd3165d2, bootloader installation
failures were ignored to facilitate backwards compatibility with older
Ironic Python Agents. However, this means that some genuine failures are
ignored.

We can now rely on having a sufficiently modern IPA, so this patch makes
bootloader installation failures fatal for whole disk images.

Change-Id: Ic280cc3e1a2bb462d5425efd71b336db8c14bb90
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/823723/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/agent_base.py', 'releasenotes/notes/bootloader-install-fatal-6f1b9fed1d2c0ee4.yaml']",2,ca6499b62c47b6588b2382f442dbc690140453d5,,"--- upgrade: - | Bootloader installation failures are now fatal for whole disk images. Previously these failures were ignored to facilitate backwards compatibility with older Ironic Python Agents, however we can now rely on having a sufficiently modern IPA. ",,12,14
openstack%2Fironic~master~I8bef819dc3101f88f4e04ea986e1039e34d917ed,openstack/ironic,master,I8bef819dc3101f88f4e04ea986e1039e34d917ed,Add dhcp options for each ip_version once,MERGED,2022-01-07 15:28:05.000000000,2022-01-10 17:26:13.000000000,2022-01-10 17:23:41.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/981b471c7a05eab082314353fd0f3049347508b1', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n'}, {'number': 2, 'created': '2022-01-07 15:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9497c365a56809148e93a09db8dfdbf7b6854e91', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n'}, {'number': 3, 'created': '2022-01-07 15:33:13.000000000', 'files': ['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c4721da2d899e1c51e716577e776c6ee14e2e35e', 'message': 'Add dhcp options for each ip_version once\n\nCurrently duplicate DHCP options are added when a port have\nmultiple address in the same address familiy. The duplicate\nentries cause an internal server error in neutron.\n\nThis fixes the issue by only adding DHCP options for each\nIP-version.\n\nStory: 2009774\nTask: 44255\nChange-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed\n'}]",1,823817,c4721da2d899e1c51e716577e776c6ee14e2e35e,13,3,3,24245,,,0,"Add dhcp options for each ip_version once

Currently duplicate DHCP options are added when a port have
multiple address in the same address familiy. The duplicate
entries cause an internal server error in neutron.

This fixes the issue by only adding DHCP options for each
IP-version.

Story: 2009774
Task: 44255
Change-Id: I8bef819dc3101f88f4e04ea986e1039e34d917ed
",git fetch https://review.opendev.org/openstack/ironic refs/changes/17/823817/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/dhcp/neutron.py', 'releasenotes/notes/fix-duplcate-extra-dhcp-options-4edb729cb5bcf552.yaml', 'ironic/tests/unit/dhcp/test_neutron.py']",3,981b471c7a05eab082314353fd0f3049347508b1,story/2009774," ""ip_address"": ""192.168.1.4"", }, { }, { ""ip_address"": ""2001:db8::202"",",,16,3
openstack%2Fpuppet-cinder~master~Ic0df8bdb1b0c891b52cfb82db2a31326525290e5,openstack/puppet-cinder,master,Ic0df8bdb1b0c891b52cfb82db2a31326525290e5,Refactor unit tests of cinder::backend::rbd,MERGED,2022-01-09 05:22:10.000000000,2022-01-10 17:25:11.000000000,2022-01-10 17:25:11.000000000,"[{'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 05:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8943aa39285eb95f0aba8fa511b8a97ce5a14b90', 'message': 'Refactor unit tests of cinder::backend::rbd\n\nChange-Id: Ic0df8bdb1b0c891b52cfb82db2a31326525290e5\n'}, {'number': 2, 'created': '2022-01-09 06:08:37.000000000', 'files': ['spec/defines/cinder_backend_rbd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/77facb506f893c88b9424b7d16471a6a82e4cd1b', 'message': 'Refactor unit tests of cinder::backend::rbd\n\nChange-Id: Ic0df8bdb1b0c891b52cfb82db2a31326525290e5\n'}]",0,823900,77facb506f893c88b9424b7d16471a6a82e4cd1b,9,3,2,9816,,,0,"Refactor unit tests of cinder::backend::rbd

Change-Id: Ic0df8bdb1b0c891b52cfb82db2a31326525290e5
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/00/823900/2 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/cinder_backend_rbd_spec.rb'],1,8943aa39285eb95f0aba8fa511b8a97ce5a14b90,rbd-opts," :volume_backend_name => 'rbd-ssd', :rbd_pool => 'volumes', :rbd_user => 'test', is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_ceph_conf"").with_value('/etc/ceph/ceph.conf') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_flatten_volume_from_snapshot"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_max_clone_depth"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_secret_uuid"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connect_timeout"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_interval"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_retries"").with_value('<SERVICE DEFAULT>') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_store_chunk_size"").with_value('<SERVICE DEFAULT>') context 'with parameters' do let :params do req_params.merge!({ :rbd_ceph_conf => '/opt/ceph.conf', :rbd_flatten_volume_from_snapshot => true, :rbd_secret_uuid => 'b129523a-61a5-4653-86d1-2b055f970801', :rbd_max_clone_depth => 5, :rados_connect_timeout => 10, :rados_connection_interval => 5, :rados_connection_retries => 3, :rbd_store_chunk_size => 4, :report_dynamic_total_capacity => true, :rbd_exclusive_cinder_pool => false, }) end it { is_expected.to contain_package('ceph-common').with_ensure('installed') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/volume_backend_name"").with_value(req_params[:volume_backend_name]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/volume_driver"").with_value('cinder.volume.drivers.rbd.RBDDriver') is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_ceph_conf"").with_value(params[:rbd_ceph_conf]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_flatten_volume_from_snapshot"").with_value(params[:rbd_flatten_volume_from_snapshot]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_max_clone_depth"").with_value(params[:rbd_max_clone_depth]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_pool"").with_value(req_params[:rbd_pool]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_user"").with_value(req_params[:rbd_user]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_secret_uuid"").with_value(params[:rbd_secret_uuid]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/backend_host"").with_value('rbd:'""#{req_params[:rbd_pool]}"") is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connect_timeout"").with_value(params[:rados_connect_timeout]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_interval"").with_value(params[:rados_connection_interval]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_retries"").with_value(params[:rados_connection_retries]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_store_chunk_size"").with_value(params[:rbd_store_chunk_size]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/report_discard_supported"").with_value(true) } end "," :volume_backend_name => 'rbd-ssd', :rbd_pool => 'volumes', :rbd_user => 'test', :rbd_secret_uuid => '<SERVICE DEFAULT>', :rbd_ceph_conf => '/foo/boo/zoo/ceph.conf', :rbd_flatten_volume_from_snapshot => true, :rbd_max_clone_depth => '0', :rados_connect_timeout => '<SERVICE DEFAULT>', :rados_connection_interval => '<SERVICE DEFAULT>', :rados_connection_retries => '<SERVICE DEFAULT>', :rbd_store_chunk_size => '<SERVICE DEFAULT>' is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_ceph_conf"").with_value(req_params[:rbd_ceph_conf]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_flatten_volume_from_snapshot"").with_value(req_params[:rbd_flatten_volume_from_snapshot]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_max_clone_depth"").with_value(req_params[:rbd_max_clone_depth]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_secret_uuid"").with_value(req_params[:rbd_secret_uuid]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connect_timeout"").with_value(req_params[:rados_connect_timeout]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_interval"").with_value(req_params[:rados_connection_interval]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rados_connection_retries"").with_value(req_params[:rados_connection_retries]) is_expected.to contain_cinder_config(""#{req_params[:volume_backend_name]}/rbd_store_chunk_size"").with_value(req_params[:rbd_store_chunk_size])",46,19
openstack%2Fneutron~stable%2Fussuri~Iba90b44331fdc63273fd3d19c583a24b5295c0ac,openstack/neutron,stable/ussuri,Iba90b44331fdc63273fd3d19c583a24b5295c0ac,Don't fail subnet validation if gw_ip is actually not changed,MERGED,2021-12-21 15:52:39.000000000,2022-01-10 16:51:34.000000000,2022-01-10 16:45:06.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 15:52:39.000000000', 'files': ['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/faee38f3280ecef6a7e87ef7cac3b53068202754', 'message': ""Don't fail subnet validation if gw_ip is actually not changed\n\nIn subnet update API call Neutron checks if gateway_ip was send to be\nupdated and if so, it checkes if old gateway_ip isn't already allocated\nto some router port. If it's already used, Neutron returns 409 response.\nThis is valid behaviour but sometimes, some automation tools may do\nsubnet update request and pass the same gateway ip as already used by\nthe subnet. In such case, as gateway_ip is actually not changed Neutron\nshould not raise exception in that validation.\n\nCloses-Bug: #1955121\nChange-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac\n(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)\n(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)\n""}]",1,822515,faee38f3280ecef6a7e87ef7cac3b53068202754,12,4,1,11975,,,0,"Don't fail subnet validation if gw_ip is actually not changed

In subnet update API call Neutron checks if gateway_ip was send to be
updated and if so, it checkes if old gateway_ip isn't already allocated
to some router port. If it's already used, Neutron returns 409 response.
This is valid behaviour but sometimes, some automation tools may do
subnet update request and pass the same gateway ip as already used by
the subnet. In such case, as gateway_ip is actually not changed Neutron
should not raise exception in that validation.

Closes-Bug: #1955121
Change-Id: Iba90b44331fdc63273fd3d19c583a24b5295c0ac
(cherry picked from commit 6809bed632b1c155bf370b78353e6b0fe059b3f0)
(cherry picked from commit 7ab37e92b8ab901b1e0cd99676a2181b6eaa4183)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/822515/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_db_base_plugin_v2.py', 'neutron/db/db_base_plugin_v2.py']",2,faee38f3280ecef6a7e87ef7cac3b53068202754,bug/1955121-stable/victoria-stable/ussuri, s_gateway_ip = netaddr.IPAddress(s['gateway_ip']) if (cur_subnet and s_gateway_ip != cur_subnet['gateway_ip'] and not ipv6_utils.is_ipv6_pd_enabled(s)): alloc = port_obj.IPAllocation.get_alloc_routerports( if alloc and alloc.port_id: port_id=alloc.port_id), if cur_subnet and not ipv6_utils.is_ipv6_pd_enabled(s): allocated = port_obj.IPAllocation.get_alloc_routerports( if allocated and allocated.port_id: port_id=allocated.port_id),71,4
openstack%2Fneutron~stable%2Fussuri~I1a5205303ebede533ffa6b3b85d4ec2f4b112426,openstack/neutron,stable/ussuri,I1a5205303ebede533ffa6b3b85d4ec2f4b112426,"Implement ""IPAllocation"" router ports allocated retrieval",MERGED,2021-12-21 15:52:05.000000000,2022-01-10 16:48:22.000000000,2022-01-10 16:44:57.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 15:52:05.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/b84630ad0f4397196cf763df9f7c0e568297ed4c', 'message': 'Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nTrivial-Fix\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n(cherry picked from commit b7956d80ca481864502ba16a7c3a5f47891e11c4)\n'}]",2,822514,b84630ad0f4397196cf763df9f7c0e568297ed4c,18,4,1,11975,,,0,"Implement ""IPAllocation"" router ports allocated retrieval

Implemented a method, in ""IPAllocation"" OVO class, to retrieve
the allocated router ports.

The new query used dispenses with one of the inner join queries
required in the former query, making it faster.

This method allows to filter by gateway IP address and can return the
whole query list or just the first register found.

Trivial-Fix

Change-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426
(cherry picked from commit b7956d80ca481864502ba16a7c3a5f47891e11c4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/822514/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py']",2,b84630ad0f4397196cf763df9f7c0e568297ed4c,bug/1955121-stable/victoria-stable/ussuri," @classmethod def get_alloc_routerports(cls, context, subnet_id, gateway_ip=None, first=False): alloc_qry = context.session.query(cls.db_model.port_id) alloc_qry = alloc_qry.join( l3.RouterPort, l3.RouterPort.port_id == cls.db_model.port_id) alloc_qry = alloc_qry.filter(cls.db_model.subnet_id == subnet_id) if gateway_ip: alloc_qry = alloc_qry.filter(cls.db_model.ip_address == gateway_ip) if first: return alloc_qry.first() else: return alloc_qry.all() ",,20,8
openstack%2Fneutron~stable%2Ftrain~I1a5205303ebede533ffa6b3b85d4ec2f4b112426,openstack/neutron,stable/train,I1a5205303ebede533ffa6b3b85d4ec2f4b112426,"Implement ""IPAllocation"" router ports allocated retrieval",MERGED,2021-12-21 15:54:47.000000000,2022-01-10 16:48:01.000000000,2022-01-10 16:45:01.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 15:54:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f490595c00dab9ab87f39a21eb43efa0d7f7383a', 'message': 'Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nTrivial-Fix\n\nConflicts:\n    neutron/objects/ports.py\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n(cherry picked from commit b7956d80ca481864502ba16a7c3a5f47891e11c4)\n(cherry picked from commit b84630ad0f4397196cf763df9f7c0e568297ed4c)\n'}, {'number': 2, 'created': '2021-12-22 08:34:28.000000000', 'files': ['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1483934c9b30f66e73a8901441fee8cd42d75098', 'message': 'Implement ""IPAllocation"" router ports allocated retrieval\n\nImplemented a method, in ""IPAllocation"" OVO class, to retrieve\nthe allocated router ports.\n\nThe new query used dispenses with one of the inner join queries\nrequired in the former query, making it faster.\n\nThis method allows to filter by gateway IP address and can return the\nwhole query list or just the first register found.\n\nTrivial-Fix\n\nConflicts:\n    neutron/objects/ports.py\n\nChange-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426\n(cherry picked from commit b7956d80ca481864502ba16a7c3a5f47891e11c4)\n(cherry picked from commit b84630ad0f4397196cf763df9f7c0e568297ed4c)\n'}]",2,822509,1483934c9b30f66e73a8901441fee8cd42d75098,15,3,2,11975,,,0,"Implement ""IPAllocation"" router ports allocated retrieval

Implemented a method, in ""IPAllocation"" OVO class, to retrieve
the allocated router ports.

The new query used dispenses with one of the inner join queries
required in the former query, making it faster.

This method allows to filter by gateway IP address and can return the
whole query list or just the first register found.

Trivial-Fix

Conflicts:
    neutron/objects/ports.py

Change-Id: I1a5205303ebede533ffa6b3b85d4ec2f4b112426
(cherry picked from commit b7956d80ca481864502ba16a7c3a5f47891e11c4)
(cherry picked from commit b84630ad0f4397196cf763df9f7c0e568297ed4c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/822509/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/db_base_plugin_v2.py', 'neutron/objects/ports.py']",2,f490595c00dab9ab87f39a21eb43efa0d7f7383a,bug/1955121-stable/train," @classmethod def get_alloc_routerports(cls, context, subnet_id, gateway_ip=None, first=False): alloc_qry = context.session.query(cls.db_model.port_id) alloc_qry = alloc_qry.join( l3.RouterPort, l3.RouterPort.port_id == cls.db_model.port_id) alloc_qry = alloc_qry.filter(cls.db_model.subnet_id == subnet_id) if gateway_ip: alloc_qry = alloc_qry.filter(cls.db_model.ip_address == gateway_ip) if first: return alloc_qry.first() else: return alloc_qry.all() ",,21,8
openstack%2Fkolla-ansible~stable%2Fwallaby~Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,openstack/kolla-ansible,stable/wallaby,Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,Use Volume V3 API in OpenStack exporter,MERGED,2022-01-07 19:30:17.000000000,2022-01-10 16:34:12.000000000,2022-01-10 16:30:34.000000000,"[{'_account_id': 167}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 31503}]","[{'number': 1, 'created': '2022-01-07 19:30:17.000000000', 'files': ['releasenotes/notes/bug-1938194-80dba28f9cdd434c.yaml', 'ansible/roles/prometheus/templates/clouds.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4515dc1508ee2f3f054ab7ca1c8e71aa86a33b93', 'message': 'Use Volume V3 API in OpenStack exporter\n\nKolla has removed the Volume V2 API by default since OpenStack Wallaby.\nHowever, openstack-exporter attempts to use the Volume V2 API by\ndefault, resulting in clean installs failing to fetch Cinder metrics\nin Prometheus.\n\nThis patch updates the clouds.yml configuration file for\nopenstack-exporter to use the Volume V3 API instead.\n\nCloses-Bug: #1938194\nChange-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9\n(cherry picked from commit 4410ca7802bb8f95e804312fe8d8f5e1e79ad30d)\n'}]",1,823833,4515dc1508ee2f3f054ab7ca1c8e71aa86a33b93,15,4,1,30491,,,0,"Use Volume V3 API in OpenStack exporter

Kolla has removed the Volume V2 API by default since OpenStack Wallaby.
However, openstack-exporter attempts to use the Volume V2 API by
default, resulting in clean installs failing to fetch Cinder metrics
in Prometheus.

This patch updates the clouds.yml configuration file for
openstack-exporter to use the Volume V3 API instead.

Closes-Bug: #1938194
Change-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9
(cherry picked from commit 4410ca7802bb8f95e804312fe8d8f5e1e79ad30d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/33/823833/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1938194-80dba28f9cdd434c.yaml', 'ansible/roles/prometheus/templates/clouds.yml.j2']",2,4515dc1508ee2f3f054ab7ca1c8e71aa86a33b93,bug/1938194-stable/xena-stable/wallaby, volume_api_version: 3,,7,0
openstack%2Fkolla-ansible~stable%2Fvictoria~If8c569e1f7815520c84627671e3cbf275bed8ff9,openstack/kolla-ansible,stable/victoria,If8c569e1f7815520c84627671e3cbf275bed8ff9,CI: check-logs - add another exception,MERGED,2022-01-07 19:30:58.000000000,2022-01-10 16:23:07.000000000,2022-01-10 16:20:08.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-07 19:30:58.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a87ed1a07d1bf3f6a423aee3698caf01ebe6a41', 'message': 'CI: check-logs - add another exception\n\nIt was seen in [1] and some other occassions, possibly neutron was trying\nto fetch token while keystone was being upgraded.\n\n[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt\n\nChange-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9\n(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)\n'}]",1,823836,1a87ed1a07d1bf3f6a423aee3698caf01ebe6a41,14,4,1,30491,,,0,"CI: check-logs - add another exception

It was seen in [1] and some other occassions, possibly neutron was trying
to fetch token while keystone was being upgraded.

[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt

Change-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9
(cherry picked from commit 661ca4dc064d576343a2d88d8d394116d73dfc4a)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/823836/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,1a87ed1a07d1bf3f6a423aee3698caf01ebe6a41,," grep -v ""Failed to fetch token data from identity server""",,1,0
openstack%2Fcloudkitty~master~I725f0f5ad00b67f55bcacaf8447e050af3815c73,openstack/cloudkitty,master,I725f0f5ad00b67f55bcacaf8447e050af3815c73,Support customising Prometheus queries,MERGED,2021-11-09 16:16:59.000000000,2022-01-10 15:54:31.000000000,2022-01-10 15:51:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-11-09 16:16:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/ad7f202c4c520413586fc83cd3e20f3572b189aa', 'message': 'Support customising Prometheus queries\n\nThis commit adds support for adding optional prefix and/or suffix to\nPrometheus queries.\n\nChange-Id: I725f0f5ad00b67f55bcacaf8447e050af3815c73\n'}, {'number': 2, 'created': '2021-11-10 11:56:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/bc0e2cb0e8a60d7603e9c9eec845bdf266f47572', 'message': 'Support customising Prometheus queries\n\nThis commit adds support for adding optional prefix and/or suffix to\nPrometheus queries.\n\nChange-Id: I725f0f5ad00b67f55bcacaf8447e050af3815c73\n'}, {'number': 3, 'created': '2022-01-10 14:20:35.000000000', 'files': ['releasenotes/notes/prometheus-custom-query-ab2dc00e97b14be2.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/prometheus.py', 'cloudkitty/tests/collectors/test_validation.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/fe34ef976817f777ddfd49f1ad27925d91305e4a', 'message': 'Support customising Prometheus queries\n\nThis commit adds support for adding optional prefix and/or suffix to\nPrometheus queries.\n\nFor example, this can be used to perform vector matches between the\ncollected metric and another one, to gather additional metadata.\n\nChange-Id: I725f0f5ad00b67f55bcacaf8447e050af3815c73\n'}]",2,817275,fe34ef976817f777ddfd49f1ad27925d91305e4a,15,3,3,15197,,,0,"Support customising Prometheus queries

This commit adds support for adding optional prefix and/or suffix to
Prometheus queries.

For example, this can be used to perform vector matches between the
collected metric and another one, to gather additional metadata.

Change-Id: I725f0f5ad00b67f55bcacaf8447e050af3815c73
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/75/817275/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/prometheus-custom-query-ab2dc00e97b14be2.yaml', 'doc/source/admin/configuration/collector.rst', 'cloudkitty/collector/prometheus.py']",3,ad7f202c4c520413586fc83cd3e20f3572b189aa,prometheus-custom-query,"from voluptuous import All ]), Optional('query_prefix', default=''): All(str), Optional('query_suffix', default=''): All(str), query_prefix = self.conf[metric_name]['extra_args']['query_prefix'] query_suffix = self.conf[metric_name]['extra_args']['query_suffix'] # Add custom query prefix if query_prefix: query = ""{0} {1}"".format(query_prefix, query) # Add custom query suffix if query_suffix: query = ""{0} {1}"".format(query, query_suffix) ", ]),25,1
openstack%2Fcinder-tempest-plugin~master~I8a6a7945870d30f180bd41940b8ee8b82e2f87b7,openstack/cinder-tempest-plugin,master,I8a6a7945870d30f180bd41940b8ee8b82e2f87b7,Refactor test_volume_backup due to leftovers,MERGED,2021-10-03 16:04:23.000000000,2022-01-10 15:21:53.000000000,2022-01-10 15:21:53.000000000,"[{'_account_id': 8556}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 21187}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-10-03 16:04:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/defb6309624373928d38ff34be52cbe42cfe0d88', 'message': 'Refactor test_volume_backup due to leftovers\n\nCurrent test class does not clean volume / backup resources.\nChange the create for volume and backups from base and not from  client.\n\nThe base create contains waiters and run cleanup resources.\n\nChange-Id: I8a6a7945870d30f180bd41940b8ee8b82e2f87b7\n'}, {'number': 2, 'created': '2021-10-03 18:08:45.000000000', 'files': ['cinder_tempest_plugin/api/volume/admin/test_volume_backup.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/e9834cd87244a827742a6df1cff6e52eb5b78f0c', 'message': 'Refactor test_volume_backup due to leftovers\n\nCurrent test class does not clean volume / backup resources.\nChange the create for volume and backups from base and not from  client.\n\nThe base create contains waiters and run cleanup resources.\n\nChange-Id: I8a6a7945870d30f180bd41940b8ee8b82e2f87b7\n'}]",3,812265,e9834cd87244a827742a6df1cff6e52eb5b78f0c,11,6,2,11075,,,0,"Refactor test_volume_backup due to leftovers

Current test class does not clean volume / backup resources.
Change the create for volume and backups from base and not from  client.

The base create contains waiters and run cleanup resources.

Change-Id: I8a6a7945870d30f180bd41940b8ee8b82e2f87b7
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/65/812265/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder_tempest_plugin/api/volume/admin/test_volume_backup.py'],1,defb6309624373928d38ff34be52cbe42cfe0d88,fix_backup_leftovers," volume = self.create_volume(size=CONF.volume.volume_size) self.create_backup(volume_id=volume['id']) volume = self.create_volume(size=CONF.volume.volume_size) self.create_backup(volume_id=volume['id'], backup_client=self.admin_backups_client) volume = self.create_volume(size=CONF.volume.volume_size) backup_adm = self.create_backup( volume_id=volume['id'], backup_client=self.admin_backups_client) backup_usr = self.create_backup(volume_id=volume['id']) self.create_backup(volume_id=volume['id'], incremental=True, backup_client=self.admin_backups_client) self.create_backup(volume_id=volume['id'], incremental=True)"," volume = self.volumes_client.create_volume( size=CONF.volume.volume_size)['volume'] waiters.wait_for_volume_resource_status( self.volumes_client, volume['id'], 'available') backup = self.backups_client.create_backup( volume_id=volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup['id'], 'available') volume = self.volumes_client.create_volume( size=CONF.volume.volume_size)['volume'] waiters.wait_for_volume_resource_status( self.volumes_client, volume['id'], 'available') backup = self.admin_backups_client.create_backup( volume_id=volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup['id'], 'available') volume = self.volumes_client.create_volume( size=CONF.volume.volume_size)['volume'] waiters.wait_for_volume_resource_status( self.volumes_client, volume['id'], 'available') backup_adm = self.admin_backups_client.create_backup( volume_id=volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup_adm['id'], 'available') backup_usr = self.backups_client.create_backup( volume_id=volume['id'])['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup_usr['id'], 'available') backup_adm_inc = self.admin_backups_client.create_backup( volume_id=volume['id'], incremental=True)['backup'] waiters.wait_for_volume_resource_status( self.admin_backups_client, backup_adm_inc['id'], 'available') backup_usr_inc = self.backups_client.create_backup( volume_id=volume['id'], incremental=True)['backup'] waiters.wait_for_volume_resource_status( self.backups_client, backup_usr_inc['id'], 'available')",14,46
openstack%2Fbifrost~master~Ib1e46e7a9c5eec193082858614026ca4c9f537ac,openstack/bifrost,master,Ib1e46e7a9c5eec193082858614026ca4c9f537ac,Move /httpboot to /var/lib/ironic,MERGED,2021-12-22 16:41:09.000000000,2022-01-10 15:09:44.000000000,2022-01-10 15:06:29.000000000,"[{'_account_id': 14826}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-12-22 16:41:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b7bcad0ace0a4debf775837c0672ca227dfb60d0', 'message': 'Move /{tftp,http}boot to /var/lib/ironic\n\nThere is no guarantee that /var is not on a separate filesystem. Also\nwe should not pollute the root directory with our stuff.\n\nRemoves the wildly outdated statement about purging the image cache\nfrom the documentation.\n\nChange-Id: Ib1e46e7a9c5eec193082858614026ca4c9f537ac\n'}, {'number': 2, 'created': '2022-01-05 15:08:33.000000000', 'files': ['playbooks/inventory/group_vars/baremetal', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/collect-test-info.sh', 'releasenotes/notes/httpboot-f3891f6343c96914.yaml', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'doc/source/user/troubleshooting.rst', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/779e4d8a1c8f7ac91b8ee32cbd6d5fd4f10f499b', 'message': 'Move /httpboot to /var/lib/ironic\n\nThere is no guarantee that /var is not on a separate filesystem. Also\nwe should not pollute the root directory with our stuff.\n\nThe TFTP directory /tftpboot is left where it is, since it needs to be\naccessed by dnsmasq. We may consider moving it later on.\n\nRemoves the wildly outdated statement about purging the image cache\nfrom the documentation.\n\nChange-Id: Ib1e46e7a9c5eec193082858614026ca4c9f537ac\n'}]",6,822743,779e4d8a1c8f7ac91b8ee32cbd6d5fd4f10f499b,17,5,2,10239,,,0,"Move /httpboot to /var/lib/ironic

There is no guarantee that /var is not on a separate filesystem. Also
we should not pollute the root directory with our stuff.

The TFTP directory /tftpboot is left where it is, since it needs to be
accessed by dnsmasq. We may consider moving it later on.

Removes the wildly outdated statement about purging the image cache
from the documentation.

Change-Id: Ib1e46e7a9c5eec193082858614026ca4c9f537ac
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/43/822743/2 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/inventory/group_vars/baremetal', 'playbooks/inventory/group_vars/localhost', 'playbooks/inventory/group_vars/target', 'playbooks/roles/bifrost-ironic-install/defaults/main.yml', 'scripts/collect-test-info.sh', 'releasenotes/notes/httpboot-f3891f6343c96914.yaml', 'doc/source/user/troubleshooting.rst', 'playbooks/roles/bifrost-configdrives-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-ironic-install/tasks/create_tftpboot.yml', 'playbooks/roles/bifrost-ironic-install/templates/ironic.conf.j2', 'playbooks/roles/bifrost-deploy-nodes-dynamic/defaults/main.yml', 'playbooks/roles/bifrost-keystone-install/defaults/main.yml']",12,b7bcad0ace0a4debf775837c0672ca227dfb60d0,httpboot,,# Defaults required by this role that are normally inherited via # other roles. file_url_port: 8080 http_boot_folder: /httpboot ,26,36
openstack%2Frally~master~I94f597d99951459b12f0f0211ec73f2ae7fa908d,openstack/rally,master,I94f597d99951459b12f0f0211ec73f2ae7fa908d,Close stringio objects at sshutils,MERGED,2022-01-10 14:06:26.000000000,2022-01-10 14:58:41.000000000,2022-01-10 14:58:41.000000000,"[{'_account_id': 9545}, {'_account_id': 10267}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 14:06:26.000000000', 'files': ['rally/utils/sshutils.py', 'tests/unit/utils/test_sshutils.py', 'CHANGELOG.rst'], 'web_link': 'https://opendev.org/openstack/rally/commit/2a77c63071abcf2e2088b72f1a81b3ffc69be7c7', 'message': 'Close stringio objects at sshutils\n\nCloses-Bug: #1956956\nChange-Id: I94f597d99951459b12f0f0211ec73f2ae7fa908d\n'}]",0,823996,2a77c63071abcf2e2088b72f1a81b3ffc69be7c7,7,3,1,9545,,,0,"Close stringio objects at sshutils

Closes-Bug: #1956956
Change-Id: I94f597d99951459b12f0f0211ec73f2ae7fa908d
",git fetch https://review.opendev.org/openstack/rally refs/changes/96/823996/1 && git format-patch -1 --stdout FETCH_HEAD,"['rally/utils/sshutils.py', 'tests/unit/utils/test_sshutils.py', 'CHANGELOG.rst']",3,2a77c63071abcf2e2088b72f1a81b3ffc69be7c7,fix_open_descriptors_at_ssh,[unreleased] ------------ Fixed ~~~~~ * rally.utils.sshutils.SSH.execute leaves fifo files. `Launchpad-bug #1956956 <https://launchpad.net/bugs/1956956>`_ ,,46,26
openstack%2Fcloudkitty-specs~master~I22993261010e6e7f8b5c0605efad9d4c0ec92d6c,openstack/cloudkitty-specs,master,I22993261010e6e7f8b5c0605efad9d4c0ec92d6c,Propose reprocessing API,MERGED,2021-05-13 14:05:03.000000000,2022-01-10 14:58:35.000000000,2022-01-10 14:55:58.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-05-13 14:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/cfba49e6120142e9a3c42a308b78923455eb90f5', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 2, 'created': '2021-05-17 14:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e86bc364195420cc816bb4716a00d376855f7ccf', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 3, 'created': '2021-05-17 14:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/3655b8a0e228dce7bc500c4ff01915815419833a', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 4, 'created': '2021-05-31 14:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/eed9c3808bb61be4ae4eb467dc9d5a43294e7e0f', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 5, 'created': '2021-05-31 14:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/db51619bd205c1a547ccaec22c90c57b38565eb6', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 6, 'created': '2021-06-04 14:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/c62b0dbf3a6e45f2a9a248732f2f7747f95ff56f', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 7, 'created': '2021-06-04 19:32:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/f906850f42ebb8912b4dc05318651da3e6336376', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 8, 'created': '2021-06-08 14:24:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/e4b7a218a59ad2d268ac9fa6caec70fe5b099222', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 9, 'created': '2021-06-08 14:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/86ca75af8790ee49ea6f8adf96ae12dae048e9ad', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 10, 'created': '2021-06-11 18:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/0df23ba9656e6ac7abf64ba3e4b8a969c0f8709a', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 11, 'created': '2021-06-11 19:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/da81d4cb8b953c8467a2f0253a3cdead3446bf83', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 12, 'created': '2021-06-11 20:02:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/a1a1e0c3b42d7563f4854c31bc5f3527ad09b4b2', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 13, 'created': '2021-06-17 14:31:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/a0fc5fd1ce6fa0ee2de42189416ddeba2e0ada31', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 14, 'created': '2021-06-17 16:34:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/70e5acb44a3ee01ef1ae4c620f07ee54a6bcf38e', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 15, 'created': '2022-01-10 14:06:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/ee2fcbf0ce6ba274030479c1a4f380f7d1ca5840', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 16, 'created': '2022-01-10 14:09:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/92cdd776beea4c5c528fca82709348a769dfc879', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 17, 'created': '2022-01-10 14:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/89b27bd8622ba158b051efb75fa69d73a27cf66b', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}, {'number': 18, 'created': '2022-01-10 14:28:46.000000000', 'files': ['doc/source/index.rst', 'specs/yoga/reprocessing_api.rst'], 'web_link': 'https://opendev.org/openstack/cloudkitty-specs/commit/3848c30c093405965ff2b6200516049b1eacb5ad', 'message': 'Propose reprocessing API\n\nThis specification proposes an API to enable reprocessing.\n\nChange-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c\n'}]",11,791245,3848c30c093405965ff2b6200516049b1eacb5ad,52,4,18,28356,,,0,"Propose reprocessing API

This specification proposes an API to enable reprocessing.

Change-Id: I22993261010e6e7f8b5c0605efad9d4c0ec92d6c
",git fetch https://review.opendev.org/openstack/cloudkitty-specs refs/changes/45/791245/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/wallaby/reprocessing_api.rst'],1,cfba49e6120142e9a3c42a308b78923455eb90f5,reprocessing_api_upstream,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============================================================== Introduce reprocessing API =============================================================== This specification proposes an API to enable reprocessing. Problem Description =================== Sometimes due to a misconfiguration in rating rules, or due to backfill of data in the collector backend (Gnocchi, Prometheus, or others), operators need to reprocess CloudKitty data. The reprocessing process that is normally taken is the following. - Stop all CloudKitty processors; - reset the `state` (last processed/rated timestamp) in MySQL database for all scopes that need reprocessing; - clean/delete all processed/rated data for the affected timeframe in the processed data backend (e.g. InfluxDB) - restart Cloudkitty processors CloudKitty has an API already to reset the processing/rating state of a scope [1]_. However, this API only resets the state in the MySQL database. Therefore, it is important to have an API that implements the manual steps that operators are normally executing when reprocessing is required. Proposed Change =============== To avoid human error during reprocessing, and also to make it easier for non-CloudKitty experts to execute it, we propose the introduction of a reprocessing API that schedules the reprocessing and also removes the processed/rated data for the affected timeframe from the backend (e.g. InfluxDB). The endpoint for the schedule reprocessing API will be: - `PUT` `/v2/schedule/reprocess` - :param: scope_id -- a list of scope IDs to schedule reprocessing to. - :param: reprocess_timestamp -- a timestamp to start the reprocessing. The `/v2/schedule/reprocess` endpoint will receive a PUT request similar to the following: .. code-block:: python { ""scope_id"": [""scope_id_one"", ""scope_id_two"", ...], ""reprocess_timestamp"": ""2021-05-30 00:00:00"" } If one of the scope IDs informed via `scope_id` does not exist, we will ignore it with a warning message in the log files. The `reprocess_timestamp` will be validated as follows: - It must be a future timestamp; otherwise, an exception is thrown, and an error message is sent to the operator. - if the timestamp is a future one - We will allow any future timestamp as long as all `scope_id` are in their latest possible processing timestamp. - otherwise, we will only allow a future timestamp that is at least equals to the number of hours that the scopes are missing to be up to date. A new field will also be created in the `cloudkitty_storage_states`, which will indicate the schedule reprocessing time. If the field is null, it means that there is no reprocessing scheduled; if the field has a timestamp that is in the past, it means that the reprocessing(rating/processing) can go on; if the field has a timestamp in the future, it means that we cannot process/rate the scope. Therefore, it means that no data must be persisted in the backend (e.g. InfluxDB) and MySQL for the current processing cycle. The proposed new field name is `reprocessing_timestamp`. It is a nullable field. Therefore, if its value is `null`, it means that no reprocessing is scheduled and everything can go on. Otherwise, the previously describe flows are applied. Alternatives ------------ Manually execute the reprocessing steps previously described Data model impact ----------------- A new field (`reprocessing_timestamp`) will be added to the data table `cloudkitty_storage_states`. REST API impact --------------- A new API will be introduced: `PUT /v2/schedule/reprocess`. Security impact --------------- Only admins must have access to this new API Notifications Impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: - Rafael <rafael@apache.org> Work Items ---------- 1) propose, discuss, and merge the spec 2) execute the implementations as described. 3) implement changes in the CloudKitty client to support the new API Dependencies ============ None Testing ======= Unit tested Documentation Impact ==================== None References ========== .. [1] https://docs.openstack.org/cloudkitty/latest/api-reference/v2/index.html?expanded=get-a-rating-summary-detail,reset-the-status-of-several-scopes-detail#reset-the-status-of-several-scopes",,168,0
openstack%2Fansible-role-collect-logs~master~I622a45d472ae3adb007f9d3f6aed5f166c49c302,openstack/ansible-role-collect-logs,master,I622a45d472ae3adb007f9d3f6aed5f166c49c302,Fix ansible-lint failure,MERGED,2022-01-10 13:05:26.000000000,2022-01-10 14:52:28.000000000,2022-01-10 14:39:20.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-01-10 13:05:26.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/1809de92a657c8dae0bd8befe6e857f56cb0b3e2', 'message': 'Fix ansible-lint failure\n\nChange-Id: I622a45d472ae3adb007f9d3f6aed5f166c49c302\n'}]",0,823982,1809de92a657c8dae0bd8befe6e857f56cb0b3e2,11,4,1,10969,,,0,"Fix ansible-lint failure

Change-Id: I622a45d472ae3adb007f9d3f6aed5f166c49c302
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/82/823982/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,1809de92a657c8dae0bd8befe6e857f56cb0b3e2,a-lint, rev: v5.3.2, rev: v5.1.2,1,1
openstack%2Fcloudkitty-dashboard~master~I364d6dc8ed3ca4d1b8d5518093da8783f9d1c2eb,openstack/cloudkitty-dashboard,master,I364d6dc8ed3ca4d1b8d5518093da8783f9d1c2eb,Update python testing classifier,ABANDONED,2021-12-24 01:29:49.000000000,2022-01-10 14:46:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-24 01:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/001e3b599bf8b097636e073b611912f8f35856bb', 'message': 'Update python testing classifier\n\nChange-Id: I364d6dc8ed3ca4d1b8d5518093da8783f9d1c2eb\n'}, {'number': 2, 'created': '2021-12-24 01:31:14.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/cloudkitty-dashboard/commit/e443110dd25e0ec781abe94fb86b58265ca3386f', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I364d6dc8ed3ca4d1b8d5518093da8783f9d1c2eb\n'}]",1,822865,e443110dd25e0ec781abe94fb86b58265ca3386f,5,2,2,33881,,,0,"Update python testing classifier

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I364d6dc8ed3ca4d1b8d5518093da8783f9d1c2eb
",git fetch https://review.opendev.org/openstack/cloudkitty-dashboard refs/changes/65/822865/2 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,001e3b599bf8b097636e073b611912f8f35856bb,,"envlist = py36,py38,py39,pep8","envlist = py36,py38,pep8",2,1
openstack%2Fnova~master~I62a744b929cc2e81c25463761ec8ac293de1456f,openstack/nova,master,I62a744b929cc2e81c25463761ec8ac293de1456f,Remove workaround for old python-ironicclient,NEW,2022-01-03 05:13:22.000000000,2022-01-10 14:42:42.000000000,,"[{'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 05:13:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0904855e7422f31f8a1f7adde306b07b81025bd3', 'message': 'Remove workaround for old python-ironicclient\n\nThe ironicclient module exports client and exc modules since 0.1.5[1],\nand explicit import is no longer required.\n\n[1] https://review.opendev.org/108974\n\nChange-Id: I62a744b929cc2e81c25463761ec8ac293de1456f\n'}, {'number': 2, 'created': '2022-01-03 05:15:34.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/virt/ironic/client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0beaafd7f90550d346288a5ce4d5d87fc3898ce1', 'message': 'Remove workaround for old python-ironicclient\n\nThe ironicclient module exports client and exc modules since 0.1.5[1],\nand explicit import is no longer required.\n\n[1] https://review.opendev.org/108974\n\nChange-Id: I62a744b929cc2e81c25463761ec8ac293de1456f\n'}]",0,823247,0beaafd7f90550d346288a5ce4d5d87fc3898ce1,8,2,2,9816,,,0,"Remove workaround for old python-ironicclient

The ironicclient module exports client and exc modules since 0.1.5[1],
and explicit import is no longer required.

[1] https://review.opendev.org/108974

Change-Id: I62a744b929cc2e81c25463761ec8ac293de1456f
",git fetch https://review.opendev.org/openstack/nova refs/changes/47/823247/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/ironic/client_wrapper.py'],1,0904855e7422f31f8a1f7adde306b07b81025bd3,,," # NOTE(deva): work around a lack of symbols in the current version. if not hasattr(ironic, 'exc'): ironic.exc = importutils.import_module('ironicclient.exc') if not hasattr(ironic, 'client'): ironic.client = importutils.import_module( 'ironicclient.client')",0,6
openstack%2Ftempest~master~I50fd3cf5aedd31e95fd852c433763d953931325d,openstack/tempest,master,I50fd3cf5aedd31e95fd852c433763d953931325d,TEST/DNM - add sleep in ceph tests,ABANDONED,2021-12-02 22:41:39.000000000,2022-01-10 14:38:16.000000000,,"[{'_account_id': 18002}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 22:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e3d82506e58ebce9bba7c03507abe1386f4d0511', 'message': ""TEST/DNM - add sleep in ceph tests\n\nTemporary change to see if we're running into a weird race condition.\n\nChange-Id: I50fd3cf5aedd31e95fd852c433763d953931325d\n""}, {'number': 2, 'created': '2021-12-09 00:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2b3cba32b922d5077d26d11b1557fabe8193ddfb', 'message': ""TEST/DNM - add sleep in ceph tests\n\nTemporary change to see if we're running into a weird race condition.\n\nChange-Id: I50fd3cf5aedd31e95fd852c433763d953931325d\n""}, {'number': 3, 'created': '2022-01-03 07:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f824151ac453bd67af8313f57e0df6fc0034f066', 'message': ""TEST/DNM - add sleep in ceph tests\n\nTemporary change to see if we're running into a weird race condition.\n\nChange-Id: I50fd3cf5aedd31e95fd852c433763d953931325d\n""}, {'number': 4, 'created': '2022-01-04 11:39:08.000000000', 'files': ['tempest/scenario/test_object_storage_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e2c7ca2ea53d57e3ac8bc6a6e3776047d542fc50', 'message': ""TEST/DNM - add sleep in ceph tests\n\nTemporary change to see if we're running into a weird race condition.\n\nChange-Id: I50fd3cf5aedd31e95fd852c433763d953931325d\n""}]",4,820270,e2c7ca2ea53d57e3ac8bc6a6e3776047d542fc50,13,2,4,9914,,,0,"TEST/DNM - add sleep in ceph tests

Temporary change to see if we're running into a weird race condition.

Change-Id: I50fd3cf5aedd31e95fd852c433763d953931325d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/70/820270/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_object_storage_basic_ops.py'],1,e3d82506e58ebce9bba7c03507abe1386f4d0511,fips_changes,import time # temporarily add sleep to see if this fixes this test for ceph time.sleep(120) # temporarily add sleep to see if this fixes this test for ceph time.sleep(120) ,,8,0
openstack%2Fpython-cloudkittyclient~master~Iaf4b4a82b5a50b3ef2dc793c50ef1b0981f37856,openstack/python-cloudkittyclient,master,Iaf4b4a82b5a50b3ef2dc793c50ef1b0981f37856,Re-add python 3.6/3.7 in classifier,MERGED,2021-12-14 01:19:02.000000000,2022-01-10 14:05:48.000000000,2022-01-10 14:01:43.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-14 01:19:02.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/20003a58cec701dd39945246955d5434681e5184', 'message': 'Re-add python 3.6/3.7 in classifier\n\nWe have updated the yoga testing runtime to keep the\npy36 testing.\n\n- https://review.opendev.org/c/openstack/governance/+/820195\n\nUnit tests job template is also updated to keep python\n3.6 as a voting job. So with the py3.6 and py3.9 testing as voting\njob template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as\ntested versions in the Yoga cycle.\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nThis commit re-add the python 3.6/3.7 versions in setup.cfg classifier.\n\nChange-Id: Iaf4b4a82b5a50b3ef2dc793c50ef1b0981f37856\n'}]",0,821634,20003a58cec701dd39945246955d5434681e5184,9,4,1,8556,,,0,"Re-add python 3.6/3.7 in classifier

We have updated the yoga testing runtime to keep the
py36 testing.

- https://review.opendev.org/c/openstack/governance/+/820195

Unit tests job template is also updated to keep python
3.6 as a voting job. So with the py3.6 and py3.9 testing as voting
job template, we are keeping python 3.6, 3.7, 3.8, and 3.8 as
tested versions in the Yoga cycle.

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

This commit re-add the python 3.6/3.7 versions in setup.cfg classifier.

Change-Id: Iaf4b4a82b5a50b3ef2dc793c50ef1b0981f37856
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/34/821634/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,20003a58cec701dd39945246955d5434681e5184,yoga-python-testing, Programming Language :: Python :: 3.6 Programming Language :: Python :: 3.7,,2,0
openstack%2Foslo.limit~master~Ib440f58b589076677be9e90dd960cd4459e63746,openstack/oslo.limit,master,Ib440f58b589076677be9e90dd960cd4459e63746,Add auth plugin options to options list,MERGED,2021-10-11 23:31:31.000000000,2022-01-10 13:35:56.000000000,2022-01-10 13:33:50.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-10-11 23:31:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/7af8c9029a13d7cbb513a4e6e801ad7416b5c59a', 'message': ""Add auth plugin options to options list\n\nCurrently the oslo.config entry_points provided by oslo.limit doesn't\ninclude options for auth plugins, thus the auth parameters like\nusername, password and etc are not picked up by oslo-config-generator.\n\nThis adds the options for auth plugin options to the entry point so\nthat the auth parameters are included by the generated config files\nand users can easily find the parameters to set up system user\ncredentials.\n\nNote that keystoneauth provides several plugins but this change covers\nonly password plugins, assuming the password authentication is most\npopularly used.\n\nChange-Id: Ib440f58b589076677be9e90dd960cd4459e63746\n""}, {'number': 2, 'created': '2021-10-11 23:38:42.000000000', 'files': ['oslo_limit/opts.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/ea5ff2dc126bac5dfae3fe4bbbc423477de043f4', 'message': ""Add auth plugin options to options list\n\nCurrently the oslo.config.opts entry_points provided by oslo.limit\ndoesn't include options for auth plugins, thus the parameters to\ndefine credentials like username, password and etc are not picked up by\noslo-config-generator.\n\nThis adds the options for auth plugin options to the entry point so\nthat the auth parameters are included by the generated config files\nand users can easily find the parameters to define the required user\ncredential.\n\nNote that keystoneauth provides several plugins but this change covers\nonly password plugins, assuming the password authentication is most\npopularly used.\n\nChange-Id: Ib440f58b589076677be9e90dd960cd4459e63746\n""}]",0,813540,ea5ff2dc126bac5dfae3fe4bbbc423477de043f4,9,3,2,9816,,,0,"Add auth plugin options to options list

Currently the oslo.config.opts entry_points provided by oslo.limit
doesn't include options for auth plugins, thus the parameters to
define credentials like username, password and etc are not picked up by
oslo-config-generator.

This adds the options for auth plugin options to the entry point so
that the auth parameters are included by the generated config files
and users can easily find the parameters to define the required user
credential.

Note that keystoneauth provides several plugins but this change covers
only password plugins, assuming the password authentication is most
popularly used.

Change-Id: Ib440f58b589076677be9e90dd960cd4459e63746
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/40/813540/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_limit/opts.py'],1,7af8c9029a13d7cbb513a4e6e801ad7416b5c59a,auth-pluging-opts," loading.get_auth_plugin_conf_options('password'), loading.get_auth_plugin_conf_options('v2password'), loading.get_auth_plugin_conf_options('v3password'),",,3,0
openstack%2Fkuryr-tempest-plugin~master~I57f649709063a6bbeb36e182291b278fcbbec65d,openstack/kuryr-tempest-plugin,master,I57f649709063a6bbeb36e182291b278fcbbec65d,Add octavia_tempest_plugin to requirements.txt,ABANDONED,2021-12-26 07:49:24.000000000,2022-01-10 13:31:56.000000000,,"[{'_account_id': 11600}, {'_account_id': 13692}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}, {'_account_id': 27086}]","[{'number': 1, 'created': '2021-12-26 07:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/2f9670a600a634ee27714f3224d50489542d82b3', 'message': ""Add octavia_tempest_plugin to requirements.txt\n\nAs it's required by some of the tests\n\nChange-Id: I57f649709063a6bbeb36e182291b278fcbbec65d\n""}, {'number': 2, 'created': '2021-12-26 17:56:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8c3a1997bbb623a6d48b9ccdee1062bad7b66149', 'message': ""Add octavia_tempest_plugin to requirements.txt\n\nAs it's required by some of the tests\n\nChange-Id: I57f649709063a6bbeb36e182291b278fcbbec65d\n""}, {'number': 3, 'created': '2021-12-27 08:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/7f2b948e4e9665920099d88171d84672c6b58b4d', 'message': ""Add octavia_tempest_plugin to requirements.txt\n\nAs it's required by some of the tests\n\nChange-Id: I57f649709063a6bbeb36e182291b278fcbbec65d\n""}, {'number': 4, 'created': '2022-01-03 11:14:56.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/00c64d5b5af36549aa81e6647eba04eec9f56d89', 'message': ""Add octavia_tempest_plugin to requirements.txt\n\nAs it's required by some of the tests\n\nChange-Id: I57f649709063a6bbeb36e182291b278fcbbec65d\n""}]",4,822924,00c64d5b5af36549aa81e6647eba04eec9f56d89,16,6,4,4727,,,0,"Add octavia_tempest_plugin to requirements.txt

As it's required by some of the tests

Change-Id: I57f649709063a6bbeb36e182291b278fcbbec65d
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/24/822924/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,2f9670a600a634ee27714f3224d50489542d82b3,octavia,octavia_tempest_plugin,,1,0
openstack%2Ftripleo-common~master~I4b9bc141925f9ef9ec790b4c790df2aaf4fedd2d,openstack/tripleo-common,master,I4b9bc141925f9ef9ec790b4c790df2aaf4fedd2d,Don't enable module stream in rhel9,MERGED,2022-01-07 15:43:45.000000000,2022-01-10 13:15:13.000000000,2022-01-10 13:13:19.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-07 15:43:45.000000000', 'files': ['container-images/tcib/base/base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6688b56221842eb40b0191243640dc96f4c14ff9', 'message': ""Don't enable module stream in rhel9\n\nOn Rhel-9, modules streams are no longer shipped. Updating condition\nwith this patch to only try to enable module stream for rhel-8 case.\n\nCloses-Bug: #1956449\nChange-Id: I4b9bc141925f9ef9ec790b4c790df2aaf4fedd2d\n""}]",4,823820,6688b56221842eb40b0191243640dc96f4c14ff9,18,8,1,29775,,,0,"Don't enable module stream in rhel9

On Rhel-9, modules streams are no longer shipped. Updating condition
with this patch to only try to enable module stream for rhel-8 case.

Closes-Bug: #1956449
Change-Id: I4b9bc141925f9ef9ec790b4c790df2aaf4fedd2d
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/20/823820/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/base.yaml'],1,6688b56221842eb40b0191243640dc96f4c14ff9,cs9-wallaby, if [ '{{ tcib_distro }}' == 'rhel' && '{{ tcib_release }}' == '8' ]; then, if [ '{{ tcib_distro }}' == 'rhel' ]; then,1,1
openstack%2Foslo.limit~master~I8e43dceec76aecd2b2ae23a137e56519efe29777,openstack/oslo.limit,master,I8e43dceec76aecd2b2ae23a137e56519efe29777,Add caching of limits in Enforcer,MERGED,2021-07-28 23:25:27.000000000,2022-01-10 13:13:50.000000000,2022-01-10 13:11:46.000000000,"[{'_account_id': 4393}, {'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 9708}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-28 23:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/53312ccfc67da4091ea9a6c4e9f71d476400b0bb', 'message': 'Add caching of limits in Enforcer\n\nThis adds caching of resource limits for an Enforcer in order to\nimprove performance when repeated limit checks are needed. The cache\nlasts the lifetime of an Enforcer and is enabled by default. It can be\ndisabled by passing cache=False when instantiating an Enforcer.\n\nOne usage pattern for a caching Enforcer would be to create an Enforcer\nper service request so that the caching lives only as long as the\nrequest.\n\nChange-Id: I8e43dceec76aecd2b2ae23a137e56519efe29777\n'}, {'number': 2, 'created': '2021-07-29 17:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/155aef40dd53cfd59f5f985a8224f3e1d6ab0fbb', 'message': 'Add caching of limits in Enforcer\n\nThis adds caching of resource limits for an Enforcer in order to\nimprove performance when repeated limit checks are needed. The cache\nlasts the lifetime of an Enforcer and is enabled by default. It can be\ndisabled by passing cache=False when instantiating an Enforcer.\n\nOne usage pattern for a caching Enforcer would be to create an Enforcer\nper service request so that the caching lives only as long as the\nrequest.\n\nChange-Id: I8e43dceec76aecd2b2ae23a137e56519efe29777\n'}, {'number': 3, 'created': '2021-10-18 21:44:17.000000000', 'files': ['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py', 'oslo_limit/fixture.py', 'releasenotes/notes/enforcer-limit-caching-fb59725aad88b039.yaml'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/43683f543ec196502ed13192518e4eb89be8868c', 'message': 'Add caching of limits in Enforcer\n\nThis adds caching of resource limits for an Enforcer in order to\nimprove performance when repeated limit checks are needed. The cache\nlasts the lifetime of an Enforcer and is enabled by default. It can be\ndisabled by passing cache=False when instantiating an Enforcer.\n\nOne usage pattern for a caching Enforcer would be to create an Enforcer\nper service request so that the caching lives only as long as the\nrequest.\n\nChange-Id: I8e43dceec76aecd2b2ae23a137e56519efe29777\n'}]",9,802814,43683f543ec196502ed13192518e4eb89be8868c,23,7,3,4690,,,0,"Add caching of limits in Enforcer

This adds caching of resource limits for an Enforcer in order to
improve performance when repeated limit checks are needed. The cache
lasts the lifetime of an Enforcer and is enabled by default. It can be
disabled by passing cache=False when instantiating an Enforcer.

One usage pattern for a caching Enforcer would be to create an Enforcer
per service request so that the caching lives only as long as the
request.

Change-Id: I8e43dceec76aecd2b2ae23a137e56519efe29777
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/14/802814/1 && git format-patch -1 --stdout FETCH_HEAD,"['oslo_limit/tests/test_limit.py', 'oslo_limit/limit.py']",2,53312ccfc67da4091ea9a6c4e9f71d476400b0bb,bp/unified-limits-nova,"from collections import defaultdict def __init__(self, usage_callback, cache=True): :param cache: Whether to cache resource limits for the lifetime of this enforcer. Defaults to True. :type cache: boolean self.model = self._get_model_impl(usage_callback, cache=cache) def _get_model_impl(self, usage_callback, cache=True): return impl(usage_callback, cache=cache) for resource, limit in limits} def __init__(self, usage_callback, cache=True): self._utils = _EnforcerUtils(cache=cache) def __init__(self, usage_callback, cache=True): def __init__(self, cache=True): # Cache format: # { # resource_name: registered_limit, # ... # project_id: {resource_name: project_limit}, # ... # } self.cache = defaultdict(dict) if cache else None # If we are configured to cache limits, look in the cache first and use # the cached value if there is one. Else, retrieve the limit and add it # to the cache. Do this for both project limits and registered limits. # Look for a project limit first. if self.cache is not None: if resource_name in self.cache[project_id]: project_limit = self.cache[project_id][resource_name] else: project_limit = self._get_project_limit(project_id, resource_name) if project_limit: self.cache[project_id][resource_name] = project_limit else: project_limit = self._get_project_limit(project_id, resource_name) # If there is no project limit, look for a registered limit. if self.cache is not None: if resource_name in self.cache: registered_limit = self.cache[resource_name] else: registered_limit = self._get_registered_limit(resource_name) if registered_limit: self.cache[resource_name] = registered_limit else: registered_limit = self._get_registered_limit(resource_name) "," def __init__(self, usage_callback): self.model = self._get_model_impl(usage_callback) def _get_model_impl(self, usage_callback): return impl(usage_callback) for resource, limit in dict(limits).items()} def __init__(self, usage_callback): self._utils = _EnforcerUtils() def __init__(self, usage_callback): def __init__(self): # TODO(johngarbutt): might need to cache here project_limit = self._get_project_limit(project_id, resource_name) registered_limit = self._get_registered_limit(resource_name)",130,12
openstack%2Fswift~master~Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb,openstack/swift,master,Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb,object-updater: add stats for deferrals and drains,ABANDONED,2021-12-16 14:30:26.000000000,2022-01-10 12:43:09.000000000,,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 14:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b8e84672087990c180402c5d95c608183a183ca', 'message': 'object-updater: add stats for deferrals and drains\n\nChange-Id: Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb\n'}, {'number': 2, 'created': '2021-12-16 19:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c82ccc4c6e6b18d18b104aab3d8e0c658ce4cd73', 'message': 'object-updater: add stats for deferrals and drains\n\nChange-Id: Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb\n'}, {'number': 3, 'created': '2022-01-06 00:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d4787486f39c8e83d4a57fdeb89feaf1c6b63eaf', 'message': 'object-updater: add stats for deferrals and drains\n\nChange-Id: Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb\n'}, {'number': 4, 'created': '2022-01-10 12:26:21.000000000', 'files': ['swift/obj/updater.py', 'test/debug_logger.py', 'test/unit/obj/test_updater.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bf3f1efe638a55c73cb77ad0bd03b3d9dca64159', 'message': 'object-updater: add stats for deferrals and drains\n\nChange-Id: Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb\n'}]",1,821983,bf3f1efe638a55c73cb77ad0bd03b3d9dca64159,12,2,4,7847,,,0,"object-updater: add stats for deferrals and drains

Change-Id: Ie00f3ff128869d846f75e01dcddf9bb87fdfb4bb
",git fetch https://review.opendev.org/openstack/swift refs/changes/83/821983/3 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/updater.py', 'test/unit/obj/test_updater.py']",2,3b8e84672087990c180402c5d95c608183a183ca,bucket-ratelimiter," info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('2 successes, 0 failures, 0 quarantines, 2 unlinks, ' '0 errors, 0 redirects, 9 skips, 0 deferrals, 0 drains', info_lines[-1]) info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('11 successes, 0 failures, 0 quarantines, 11 unlinks, ' '0 errors, 0 redirects, 0 skips, 0 deferrals, 0 drains', info_lines[-1]) info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('2 successes, 0 failures, 0 quarantines, 2 unlinks, ' '0 errors, 0 redirects, 2 skips, 0 deferrals, 0 drains', info_lines[-1]) info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('3 successes, 0 failures, 0 quarantines, 3 unlinks, ' '0 errors, 0 redirects, 1 skips, 2 deferrals, 1 drains', info_lines[-1]) info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('4 successes, 0 failures, 0 quarantines, 4 unlinks, ' '0 errors, 0 redirects, 1 skips, 3 deferrals, 2 drains', info_lines[-1]) def test_per_container_rate_limit_unsent_deferrals(self, mock_recon): # make some updates defer until interval is reached and cycle # terminates info_lines = self.logger.get_lines_for_level('info') self.assertTrue(info_lines) self.assertIn('5 successes, 0 failures, 0 quarantines, 5 unlinks, ' '0 errors, 0 redirects, 2 skips, 4 deferrals, 2 drains', info_lines[-1])class TestSweepStats(unittest.TestCase): def test_copy(self): stats = object_updater.SweepStats(1, 2, 3, 4, 5, 6, 7, 8, 9) stats2 = stats.copy() self.assertEqual(vars(stats), vars(stats2)) def test_since(self): stats = object_updater.SweepStats(1, 2, 3, 4, 5, 6, 7, 8, 9) stats2 = object_updater.SweepStats(4, 6, 8, 10, 12, 14, 16, 18, 20) expected = object_updater.SweepStats(3, 4, 5, 6, 7, 8, 9, 10, 11) self.assertEqual(vars(expected), vars(stats2.since(stats))) def test_reset(self): stats = object_updater.SweepStats(1, 2, 3, 4, 5, 6, 7, 8, 9) stats.reset() expected = object_updater.SweepStats() self.assertEqual(vars(expected), vars(stats)) def test_str(self): stats = object_updater.SweepStats(1, 2, 3, 4, 5, 6, 7, 8, 9) self.assertEqual( '4 successes, 2 failures, 3 quarantines, 5 unlinks, 1 errors, ' '6 redirects, 7 skips, 8 deferrals, 9 drains', str(stats)) "," def test_per_container_rate_limit_repeated_deferral(self, mock_recon): # make some updates repeatedly defer until interval is reached and # cycle terminates",86,9
openstack%2Fopenstack-tempest-skiplist~master~If3a2c5ab6fd57c972dfe43e1fa53603d86a33480,openstack/openstack-tempest-skiplist,master,If3a2c5ab6fd57c972dfe43e1fa53603d86a33480,Adding standalone job to skip test_trunk_subport_lifecycle,MERGED,2022-01-10 12:19:28.000000000,2022-01-10 12:39:48.000000000,2022-01-10 12:37:58.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 29775}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-10 12:19:28.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/a065f16cf41d4d34fa2ac0e84e4ea3d5f8a059de', 'message': 'Adding standalone job to skip test_trunk_subport_lifecycle\n\nThis is a known bug, just adding the tempest-master job to the list of\njobs that should skip this test.\n\nChange-Id: If3a2c5ab6fd57c972dfe43e1fa53603d86a33480\n'}]",0,823974,a065f16cf41d4d34fa2ac0e84e4ea3d5f8a059de,7,5,1,8367,,,0,"Adding standalone job to skip test_trunk_subport_lifecycle

This is a known bug, just adding the tempest-master job to the list of
jobs that should skip this test.

Change-Id: If3a2c5ab6fd57c972dfe43e1fa53603d86a33480
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/74/823974/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,a065f16cf41d4d34fa2ac0e84e4ea3d5f8a059de,, - periodic-tripleo-ci-centos-8-standalone-full-tempest-scenario-tempest-master,,1,0
openstack%2Fcharm-nova-compute-nvidia-vgpu~master~Idabdbd1518dafd5185dbfec9b36b96711f978040,openstack/charm-nova-compute-nvidia-vgpu,master,Idabdbd1518dafd5185dbfec9b36b96711f978040,[DO NOT MERGE] Debugging unit tests on OSCI,ABANDONED,2022-01-10 11:55:02.000000000,2022-01-10 12:37:57.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-10 11:55:02.000000000', 'files': ['src/charm.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute-nvidia-vgpu/commit/51427cf353390c6256d4ee971c600eab1f6015e0', 'message': '[DO NOT MERGE] Debugging unit tests on OSCI\n\nChange-Id: Idabdbd1518dafd5185dbfec9b36b96711f978040\n'}]",0,823972,51427cf353390c6256d4ee971c600eab1f6015e0,4,2,1,31289,,,0,"[DO NOT MERGE] Debugging unit tests on OSCI

Change-Id: Idabdbd1518dafd5185dbfec9b36b96711f978040
",git fetch https://review.opendev.org/openstack/charm-nova-compute-nvidia-vgpu refs/changes/72/823972/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/charm.py', 'tox.ini']",2,51427cf353390c6256d4ee971c600eab1f6015e0,do-not-merge,commands = stestr run --slowest --concurrency=1 {posargs},commands = stestr run --slowest {posargs},7,1
openstack%2Fkayobe~stable%2Fwallaby~I90223a36ff3fc71585cb9302573154a5921041ff,openstack/kayobe,stable/wallaby,I90223a36ff3fc71585cb9302573154a5921041ff,Fix 'ModuleNotFoundError: No module named 'docker',MERGED,2022-01-07 15:57:38.000000000,2022-01-10 12:37:43.000000000,2022-01-10 12:34:25.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:57:38.000000000', 'files': ['ansible/roles/ntp/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/42c87d2ce00f391aea641a78c5cf735739b3ab1b', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit bf318310e6534c6074d15229c20555b459e517dd)\n""}]",0,823831,42c87d2ce00f391aea641a78c5cf735739b3ab1b,10,4,1,14826,,,0,"Fix 'ModuleNotFoundError: No module named 'docker'

In some cases, for example with custom inventory, we still have an
ordering issue and shouldn't rely only on 'docker.service' check.
We should use 'docker rm' shell command prior 'Docker SDK for Python'
is installed.

Change-Id: I90223a36ff3fc71585cb9302573154a5921041ff
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit bf318310e6534c6074d15229c20555b459e517dd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/823831/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ntp/tasks/prepare.yml'],1,42c87d2ce00f391aea641a78c5cf735739b3ab1b,docker-module-fail," shell: cmd: > if [[ -n $(docker ps -aq -f name=chrony) ]]; then docker rm -f -v chrony fi executable: ""/bin/bash"" register: result changed_when: result.stdout != """" # to the kayobe target venv, so we use 'docker rm' command with force and # don't fail on error. when: - ""'docker.service' in ansible_facts.services"" - ansible_facts.services['docker.service'].status == 'running'"," docker_container: name: chrony state: absent # to the kayobe target venv. when: ""'docker.service' in ansible_facts.services""",13,5
openstack%2Fkayobe~stable%2Fxena~I90223a36ff3fc71585cb9302573154a5921041ff,openstack/kayobe,stable/xena,I90223a36ff3fc71585cb9302573154a5921041ff,Fix 'ModuleNotFoundError: No module named 'docker',MERGED,2022-01-07 15:56:47.000000000,2022-01-10 12:36:25.000000000,2022-01-10 12:34:22.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 15:56:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/badca21b30bfc29a49cb85955f3f6fb406ca148d', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit bf318310e6534c6074d15229c20555b459e517dd)\n""}, {'number': 2, 'created': '2022-01-08 14:19:13.000000000', 'files': ['ansible/roles/ntp/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/14b4e204a49118b3696529d69b9b54f57200b21f', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit bf318310e6534c6074d15229c20555b459e517dd)\n""}]",0,823830,14b4e204a49118b3696529d69b9b54f57200b21f,10,4,2,14826,,,0,"Fix 'ModuleNotFoundError: No module named 'docker'

In some cases, for example with custom inventory, we still have an
ordering issue and shouldn't rely only on 'docker.service' check.
We should use 'docker rm' shell command prior 'Docker SDK for Python'
is installed.

Change-Id: I90223a36ff3fc71585cb9302573154a5921041ff
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit bf318310e6534c6074d15229c20555b459e517dd)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/30/823830/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ntp/tasks/prepare.yml'],1,badca21b30bfc29a49cb85955f3f6fb406ca148d,docker-module-fail," shell: cmd: > if [[ -n $(docker ps -aq -f name=chrony) ]]; then docker rm -f -v chrony fi executable: ""/bin/bash"" register: result changed_when: result.stdout != """" # to the kayobe target venv, so we use 'docker rm' command with force and # don't fail on error. when: - ""'docker.service' in ansible_facts.services"" - ansible_facts.services['docker.service'].status == 'running'"," docker_container: name: chrony state: absent # to the kayobe target venv. when: ""'docker.service' in ansible_facts.services""",13,5
openstack%2Fkayobe~stable%2Fwallaby~I6946b578f23843dd3cbafcb185b8d8cfbb00c080,openstack/kayobe,stable/wallaby,I6946b578f23843dd3cbafcb185b8d8cfbb00c080,Fix seed VM configdrive when admin network is a VLAN,MERGED,2022-01-07 13:35:02.000000000,2022-01-10 12:36:20.000000000,2022-01-10 12:34:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 13:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e66fdbea9134959003f005515bb73341db1275db', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n(cherry picked from commit bc0885f5397af9ee69f8c873e57ad6f3d7a360e1)\n'}, {'number': 2, 'created': '2022-01-07 15:50:48.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'requirements.yml', 'releasenotes/notes/configdrive-vlans-4e8b6ed07b229233.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1c65af8edca3ac3bc169d497b11f2572da096141', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n(cherry picked from commit bc0885f5397af9ee69f8c873e57ad6f3d7a360e1)\n'}]",0,823764,1c65af8edca3ac3bc169d497b11f2572da096141,11,3,2,14826,,,0,"Fix seed VM configdrive when admin network is a VLAN

The jriguera.configdrive role does not add VLAN=yes to the ifcfg script
of a VLAN interface on the seed VM, unless type=vlan is passed in the
network device list. This change passes this field for VLAN interfaces.

Depends on https://github.com/jriguera/ansible-role-configdrive/pull/11

Change-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080
Story: 2008089
Task: 40790
(cherry picked from commit bc0885f5397af9ee69f8c873e57ad6f3d7a360e1)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/64/823764/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/plugins/filter/networks.py', 'requirements.yml', 'releasenotes/notes/configdrive-vlans-4e8b6ed07b229233.yaml']",3,e66fdbea9134959003f005515bb73341db1275db,,--- fixes: - | Fixes an issue with the seed's configdrive when the admin network is a VLAN. See `story 2008089 <https://storyboard.openstack.org/#!/story/2008089>`__ for details. ,,63,0
openstack%2Fkayobe~stable%2Fxena~I6946b578f23843dd3cbafcb185b8d8cfbb00c080,openstack/kayobe,stable/xena,I6946b578f23843dd3cbafcb185b8d8cfbb00c080,Fix seed VM configdrive when admin network is a VLAN,MERGED,2022-01-07 13:34:39.000000000,2022-01-10 12:31:51.000000000,2022-01-10 12:29:09.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 13:34:39.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'requirements.yml', 'releasenotes/notes/configdrive-vlans-4e8b6ed07b229233.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7ca933e70612b1f2afd0a7dd07f5dfd473b1165c', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n(cherry picked from commit bc0885f5397af9ee69f8c873e57ad6f3d7a360e1)\n'}]",0,823762,7ca933e70612b1f2afd0a7dd07f5dfd473b1165c,8,3,1,14826,,,0,"Fix seed VM configdrive when admin network is a VLAN

The jriguera.configdrive role does not add VLAN=yes to the ifcfg script
of a VLAN interface on the seed VM, unless type=vlan is passed in the
network device list. This change passes this field for VLAN interfaces.

Depends on https://github.com/jriguera/ansible-role-configdrive/pull/11

Change-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080
Story: 2008089
Task: 40790
(cherry picked from commit bc0885f5397af9ee69f8c873e57ad6f3d7a360e1)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/62/823762/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/plugins/filter/networks.py', 'requirements.yml', 'releasenotes/notes/configdrive-vlans-4e8b6ed07b229233.yaml']",3,7ca933e70612b1f2afd0a7dd07f5dfd473b1165c,,--- fixes: - | Fixes an issue with the seed's configdrive when the admin network is a VLAN. See `story 2008089 <https://storyboard.openstack.org/#!/story/2008089>`__ for details. ,,15,1
openstack%2Fkayobe~stable%2Fxena~Ief9adfcff28d269fc80a073cdde536e8e803ca37,openstack/kayobe,stable/xena,Ief9adfcff28d269fc80a073cdde536e8e803ca37,Generate kolla config when running database commands,MERGED,2022-01-07 13:34:31.000000000,2022-01-10 12:27:23.000000000,2022-01-10 12:23:39.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-01-07 13:34:31.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/1db55d0981e1fabee33a7c48623449cbc49b1970', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n(cherry picked from commit 4321471a13eb949c2f5d57784557ddebb9b682f0)\n'}]",0,823761,1db55d0981e1fabee33a7c48623449cbc49b1970,8,4,1,14826,,,0,"Generate kolla config when running database commands

Change-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37
Story: 2009648
Task: 43807
(cherry picked from commit 4321471a13eb949c2f5d57784557ddebb9b682f0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/61/823761/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml']",3,1db55d0981e1fabee33a7c48623449cbc49b1970,,--- fixes: - | The set of commands starting with ``kayobe overcloud database`` now generate the kolla configuration necessary to login to the nodes running the database. ,,92,8
openstack%2Fkayobe~stable%2Fxena~I0a2ff5caa01d54b1532d30d501b55ef23a6deff8,openstack/kayobe,stable/xena,I0a2ff5caa01d54b1532d30d501b55ef23a6deff8,Allow enable SNAT service on the seed hypervisor,MERGED,2022-01-08 14:12:15.000000000,2022-01-10 12:25:57.000000000,2022-01-10 12:23:36.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 14:12:15.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/all/seed-hypervisor', 'ansible/group_vars/seed/snat', 'ansible/group_vars/seed-hypervisor/snat', 'etc/kayobe/seed-hypervisor.yml', 'kayobe/cli/commands.py', 'ansible/snat.yml', 'doc/source/configuration/reference/hosts.rst', 'ansible/ip-routing.yml', 'releasenotes/notes/seed-hypervisor-snat-3f4844bd1156bce9.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/48e5cdd22d8a0e3982d2f358e93c147922954b5d', 'message': 'Allow enable SNAT service on the seed hypervisor\n\nAdds an ability to enable SNAT service on the seed hypervisor.\n\nDepends-On: Ie42ab7a0dc9dd1ed1925b3a17134b3770ae8ba98\nChange-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e10b52c588a6bbfe2dfe01d903e6080b3d50d693)\n'}]",1,823895,48e5cdd22d8a0e3982d2f358e93c147922954b5d,8,3,1,14200,,,0,"Allow enable SNAT service on the seed hypervisor

Adds an ability to enable SNAT service on the seed hypervisor.

Depends-On: Ie42ab7a0dc9dd1ed1925b3a17134b3770ae8ba98
Change-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e10b52c588a6bbfe2dfe01d903e6080b3d50d693)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/823895/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-hypervisor', 'kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/seed/snat', 'ansible/group_vars/seed-hypervisor/snat', 'etc/kayobe/seed-hypervisor.yml', 'kayobe/cli/commands.py', 'ansible/snat.yml', 'ansible/ip-routing.yml', 'doc/source/configuration/reference/hosts.rst', 'releasenotes/notes/seed-hypervisor-snat-3f4844bd1156bce9.yaml']",10,48e5cdd22d8a0e3982d2f358e93c147922954b5d,seed-hypervisor-snat,--- features: - | Adds a new variable ``seed_hypervisor_enable_snat`` that allows users to enable SNAT service on the seed hypervisor. The default value is ``false``. ,,30,5
openstack%2Fkayobe~stable%2Fwallaby~Ief9adfcff28d269fc80a073cdde536e8e803ca37,openstack/kayobe,stable/wallaby,Ief9adfcff28d269fc80a073cdde536e8e803ca37,Generate kolla config when running database commands,MERGED,2022-01-07 13:34:48.000000000,2022-01-10 12:25:56.000000000,2022-01-10 12:23:49.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2022-01-07 13:34:48.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e9dd7e0dbb7f4b5e2247649ff2bd86fa838ea5fb', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n(cherry picked from commit 4321471a13eb949c2f5d57784557ddebb9b682f0)\n'}]",0,823763,e9dd7e0dbb7f4b5e2247649ff2bd86fa838ea5fb,8,4,1,14826,,,0,"Generate kolla config when running database commands

Change-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37
Story: 2009648
Task: 43807
(cherry picked from commit 4321471a13eb949c2f5d57784557ddebb9b682f0)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/63/823763/1 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml']",3,e9dd7e0dbb7f4b5e2247649ff2bd86fa838ea5fb,,--- fixes: - | The set of commands starting with ``kayobe overcloud database`` now generate the kolla configuration necessary to login to the nodes running the database. ,,92,8
openstack%2Fpython-tripleoclient~master~Id99346ac0fc336b306550e71da0f9b746ff83ef1,openstack/python-tripleoclient,master,Id99346ac0fc336b306550e71da0f9b746ff83ef1,Handle missing ipv6 boolean in network_data.yaml for Ceph,MERGED,2022-01-05 22:13:48.000000000,2022-01-10 12:22:15.000000000,2022-01-10 12:20:17.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2022-01-05 22:13:48.000000000', 'files': ['tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/79fa6fbe1cd73c55a2b56dcb81ace2c2c01ce75b', 'message': ""Handle missing ipv6 boolean in network_data.yaml for Ceph\n\nIt's not valid input to exclude the ipv6 boolean when\nusing IPv6, but when this happens the client fails with\na type error. Handle this situation better and return\na better error message.\n\nCloses-Bug: 1956517\nChange-Id: Id99346ac0fc336b306550e71da0f9b746ff83ef1\n""}]",4,823582,79fa6fbe1cd73c55a2b56dcb81ace2c2c01ce75b,11,3,1,18002,,,0,"Handle missing ipv6 boolean in network_data.yaml for Ceph

It's not valid input to exclude the ipv6 boolean when
using IPv6, but when this happens the client fails with
a type error. Handle this situation better and return
a better error message.

Closes-Bug: 1956517
Change-Id: Id99346ac0fc336b306550e71da0f9b746ff83ef1
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/823582/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,79fa6fbe1cd73c55a2b56dcb81ace2c2c01ce75b,bug/1956517," ip_subnets = list(map(lambda x: x.get(ip_subnet, ''), ""value set. To use an ipv6_subnet add "" ""key 'ipv6: true' to %s in %s."" net_value, ip_subnet, net_value, network_data_path))"," ip_subnets = list(map(lambda x: x.get(ip_subnet), ""value set."" net_value, ip_subnet))",5,3
openstack%2Fkayobe~stable%2Fxena~Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d,openstack/kayobe,stable/xena,Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d,Adds support for custom Placement configuration.,MERGED,2022-01-08 14:14:20.000000000,2022-01-10 12:08:57.000000000,2022-01-10 12:07:06.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 14:14:20.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-extended-placement-conf-70a4b9a318c1b555.yaml', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/placement.conf.j2', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/2c8818182e13b1a300ec841a84040785b1c12813', 'message': 'Adds support for custom Placement configuration.\n\nChange-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n(cherry picked from commit e87fbf37a8cc5d327b0c67082fa5d283e198ff46)\n'}]",0,823896,2c8818182e13b1a300ec841a84040785b1c12813,8,3,1,14200,,,0,"Adds support for custom Placement configuration.

Change-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
(cherry picked from commit e87fbf37a8cc5d327b0c67082fa5d283e198ff46)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/96/823896/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-extended-placement-conf-70a4b9a318c1b555.yaml', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/placement.conf.j2', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",9,2c8818182e13b1a300ec841a84040785b1c12813,add-extended-placement-conf," - { name: placement, file: placement.conf } kolla_extra_placement: ""{{ kolla_extra_config.placement | default }}""",,37,0
openstack%2Fswift~master~I114d1628bb6dea04f246ff3ab12f4ccfdc4ec358,openstack/swift,master,I114d1628bb6dea04f246ff3ab12f4ccfdc4ec358,tests: Unify FakeMemcaches,MERGED,2022-01-06 16:46:16.000000000,2022-01-10 12:04:16.000000000,2022-01-10 12:02:06.000000000,"[{'_account_id': 7847}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 16:46:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c2dfe769ff400d82a54b01f0fefc6338b41e145d', 'message': 'tests: Unify FakeMemcaches\n\nChange-Id: I114d1628bb6dea04f246ff3ab12f4ccfdc4ec358\n'}, {'number': 2, 'created': '2022-01-06 19:05:33.000000000', 'files': ['test/unit/common/middleware/test_tempauth.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/common/middleware/test_ratelimit.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/f7101f3795edb41e8825fc87ae78021191aaa622', 'message': 'tests: Unify FakeMemcaches\n\nChange-Id: I114d1628bb6dea04f246ff3ab12f4ccfdc4ec358\n'}]",6,823717,f7101f3795edb41e8825fc87ae78021191aaa622,13,2,2,15343,,,0,"tests: Unify FakeMemcaches

Change-Id: I114d1628bb6dea04f246ff3ab12f4ccfdc4ec358
",git fetch https://review.opendev.org/openstack/swift refs/changes/17/823717/2 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/test_tempauth.py', 'test/unit/proxy/test_server.py', 'test/unit/__init__.py', 'test/unit/common/middleware/test_ratelimit.py']",4,c2dfe769ff400d82a54b01f0fefc6338b41e145d,fake-highlander,from test.unit import FakeMemcache,"from swift.common.memcached import MemcacheConnectionErrorclass FakeMemcache(object): def __init__(self): self.store = {} self.error_on_incr = False self.init_incr_return_neg = False def get(self, key): return self.store.get(key) def set(self, key, value, serialize=False, time=0): self.store[key] = value return True def incr(self, key, delta=1, time=0): if self.error_on_incr: raise MemcacheConnectionError('Memcache restarting') if self.init_incr_return_neg: # simulate initial hit, force reset of memcache self.init_incr_return_neg = False return -10000000 self.store[key] = int(self.store.setdefault(key, 0)) + int(delta) if self.store[key] < 0: self.store[key] = 0 return int(self.store[key]) def decr(self, key, delta=1, time=0): return self.incr(key, delta=-delta, time=time) @contextmanager def soft_lock(self, key, timeout=0, retries=5): yield True def delete(self, key): try: del self.store[key] except Exception: pass return True ",25,83
openstack%2Ftempest~master~I20267054af04da3753795f7008abcf1118a31bdd,openstack/tempest,master,I20267054af04da3753795f7008abcf1118a31bdd,Add flavor extra spec validation tests,MERGED,2021-11-30 19:33:27.000000000,2022-01-10 12:04:15.000000000,2022-01-10 12:02:03.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 27478}]","[{'number': 1, 'created': '2021-11-30 19:33:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/997d7c27674ffd187922bc67bdf187003e72ad00', 'message': 'Add flavor extra spec validation tests\n\nTests cover the addition of flavor extra spec validation [1,2]. Tests\ninclude critical and negative style tests. Critical test validates the\nability to create a flavor with extra specs using a custom namespace.\nNegative tests validates that unsupported key/values can not be set for\nproperties with known namespaces. Negative test also validates a\nproperty from a known namespace cannot be updated with an invalid value.\nThis change was introduced in\n2.86. [3]\n\n[1] https://blueprints.launchpad.net/nova/+spec/flavor-extra-spec-image-property-validation-extended\n[2] https://review.opendev.org/c/openstack/nova-specs/+/682655/\n[3] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id79\n\nChange-Id: I20267054af04da3753795f7008abcf1118a31bdd\n'}, {'number': 2, 'created': '2021-12-15 20:18:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/17b1bc1a88d3fefd3f3335d447b467ce38b21d4f', 'message': 'Add flavor extra spec validation tests\n\nTests cover the addition of flavor extra spec validation [1,2]. Test\nvalidates the ability to create a flavor with extra specs using a custom\nnamespace. This change was introduced in 2.86 [3].\n\n[1] https://blueprints.launchpad.net/nova/+spec/flavor-extra-spec-image-property-validation-extended\n[2] https://review.opendev.org/c/openstack/nova-specs/+/682655/\n[3] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id79\n\nChange-Id: I20267054af04da3753795f7008abcf1118a31bdd\n'}, {'number': 3, 'created': '2021-12-16 16:23:54.000000000', 'files': ['doc/source/microversion_testing.rst', 'tempest/api/compute/admin/test_flavors_extra_specs.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ef0da21010406fba92bd497a7743caf00859b766', 'message': 'Add flavor extra spec validation tests\n\nTests cover the addition of flavor extra spec validation [1,2]. Test\nvalidates the ability to create a flavor with extra specs using a custom\nnamespace. This change was introduced in 2.86 [3].\n\n[1] https://blueprints.launchpad.net/nova/+spec/flavor-extra-spec-image-property-validation-extended\n[2] https://review.opendev.org/c/openstack/nova-specs/+/682655/\n[3] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id79\n\nChange-Id: I20267054af04da3753795f7008abcf1118a31bdd\n'}]",18,819920,ef0da21010406fba92bd497a7743caf00859b766,33,4,3,31033,,,0,"Add flavor extra spec validation tests

Tests cover the addition of flavor extra spec validation [1,2]. Test
validates the ability to create a flavor with extra specs using a custom
namespace. This change was introduced in 2.86 [3].

[1] https://blueprints.launchpad.net/nova/+spec/flavor-extra-spec-image-property-validation-extended
[2] https://review.opendev.org/c/openstack/nova-specs/+/682655/
[3] https://docs.openstack.org/nova/latest/reference/api-microversion-history.html#id79

Change-Id: I20267054af04da3753795f7008abcf1118a31bdd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/20/819920/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_flavors_extra_specs.py', 'tempest/api/compute/admin/test_flavors_extra_specs_negative.py']",2,997d7c27674ffd187922bc67bdf187003e72ad00,flavor_extra_spec," class FlavorMetadataNegativeValidation(base.BaseV2ComputeAdminTest): min_microversion = '2.86' @classmethod def resource_setup(cls): super(FlavorMetadataNegativeValidation, cls).resource_setup() cls.flavor_name_prefix = 'test_flavor_validate_metadata_' cls.ram = 512 cls.vcpus = 1 cls.disk = 10 cls.ephemeral = 10 cls.swap = 1024 cls.rxtx = 2 @decorators.attr(type=['negative']) @decorators.idempotent_id('37b4e525-5c7a-4877-9bd4-06aa4c2892ca') def test_flavor_set_with_invalid_property_key(self): """"""Set flavor extra spec valid namespace with invalid property key"""""" flavor_name = data_utils.rand_name(self.flavor_name_prefix) flavor_id = self.create_flavor(ram=self.ram, vcpus=self.vcpus, disk=self.disk, name=flavor_name)['id'] extra_specs = {'hw:cpu_policy': 'shared', 'hw:foo': 'dedicated'} self.assertRaises(lib_exc.BadRequest, self.admin_flavors_client.set_flavor_extra_spec, flavor_id, **extra_specs) @decorators.attr(type=['negative']) @decorators.idempotent_id('eadeb5f7-4b2a-4d59-bd75-db7c4d380da7') def test_flavor_set_with_invalid_property_value(self): """"""Set flavor extra spec valid namespace with invalid property value"""""" flavor_name = data_utils.rand_name(self.flavor_name_prefix) flavor_id = self.create_flavor(ram=self.ram, vcpus=self.vcpus, disk=self.disk, name=flavor_name)['id'] extra_specs = {'hw:cpu_policy': 'foobar', 'hw:numa_nodes': '1'} self.assertRaises(lib_exc.BadRequest, self.admin_flavors_client.set_flavor_extra_spec, flavor_id, **extra_specs) @decorators.attr(type=['negative']) @decorators.idempotent_id('a68b7a72-fb3e-4ec4-af3a-9763ac0c8180') def test_flavor_update_with_invalid_property_value(self): """"""Update valid flavor extra spec with invalid property value"""""" flavor_name = data_utils.rand_name(self.flavor_name_prefix) flavor_id = self.create_flavor(ram=self.ram, vcpus=self.vcpus, disk=self.disk, name=flavor_name)['id'] specs = {'hw:cpu_policy': 'shared', 'foo:bar': 'baz'} body = self.admin_flavors_client.set_flavor_extra_spec( flavor_id, **specs)['extra_specs'] self.assertEqual(body['foo:bar'], 'baz') self.assertEqual(body['hw:cpu_policy'], 'shared') self.assertRaises(lib_exc.BadRequest, self.admin_flavors_client.update_flavor_extra_spec, flavor_id, 'hw:cpu_policy', **{'hw:cpu_policy': 'foobar'})",,98,0
openstack%2Fplacement~master~Idf9c491542d3e03498e2b8f4c7247d9477e606d5,openstack/placement,master,Idf9c491542d3e03498e2b8f4c7247d9477e606d5,Add yoga spec directory,MERGED,2021-11-29 17:23:49.000000000,2022-01-10 12:04:06.000000000,2022-01-10 12:02:10.000000000,"[{'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 31412}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-11-29 17:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/2546594442014e810f5462770feef7c22ebeffcc', 'message': 'Add yoga spec directory\n\nChange-Id: Idf9c491542d3e03498e2b8f4c7247d9477e606d5\n'}, {'number': 2, 'created': '2021-11-30 09:51:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cbc78fec81ca314a41bfcdc2dd0752d5f83dc273', 'message': 'Add yoga spec directory\n\nChange-Id: Idf9c491542d3e03498e2b8f4c7247d9477e606d5\n'}, {'number': 3, 'created': '2021-11-30 14:17:26.000000000', 'files': ['doc/source/specs/index.rst', 'doc/source/specs/yoga/approved/template.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/a5f31071ac00b6644e6e5810ae40b1d62d526f35', 'message': 'Add yoga spec directory\n\nChange-Id: Idf9c491542d3e03498e2b8f4c7247d9477e606d5\n'}]",5,819660,a5f31071ac00b6644e6e5810ae40b1d62d526f35,16,7,3,9708,,,0,"Add yoga spec directory

Change-Id: Idf9c491542d3e03498e2b8f4c7247d9477e606d5
",git fetch https://review.opendev.org/openstack/placement refs/changes/60/819660/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/specs/index.rst', 'doc/source/specs/yoga/.placeholder']",2,2546594442014e810f5462770feef7c22ebeffcc,any-traits-support,,,16,0
openstack%2Fheat~master~Id0407a4c508c5d3b44e0149a2de9650af861c1f9,openstack/heat,master,Id0407a4c508c5d3b44e0149a2de9650af861c1f9,Use Fedora 35 image,ABANDONED,2021-11-08 23:57:54.000000000,2022-01-10 11:42:04.000000000,,"[{'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-11-08 23:57:54.000000000', 'files': ['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh'], 'web_link': 'https://opendev.org/openstack/heat/commit/2c3fc0eaf008aa7ba4e473ae14b7946b3afe48f4', 'message': ""Use Fedora 35 image\n\nUse Fedora 35 image for testing instead of 33\nwhich has now had it's images removed.\n\nChange-Id: Id0407a4c508c5d3b44e0149a2de9650af861c1f9\n""}]",2,817125,2c3fc0eaf008aa7ba4e473ae14b7946b3afe48f4,6,2,1,30073,,,0,"Use Fedora 35 image

Use Fedora 35 image for testing instead of 33
which has now had it's images removed.

Change-Id: Id0407a4c508c5d3b44e0149a2de9650af861c1f9
",git fetch https://review.opendev.org/openstack/heat refs/changes/25/817125/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/getting_started/on_devstack.rst', '.zuul.yaml', 'devstack/lib/heat', 'heat_integrationtests/cleanup_test_env.sh', 'heat_integrationtests/prepare_test_env.sh']",5,2c3fc0eaf008aa7ba4e473ae14b7946b3afe48f4,f35_test_image, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-35-1.2.x86_64, iniset $conf_file heat_plugin image_ref Fedora-Cloud-Base-33-1.2.x86_64,7,7
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9,openstack/tripleo-heat-templates,stable/ussuri,Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9,"[train,ussuri] Set cinder's __DEFAULT__ vol type description",MERGED,2022-01-04 17:17:21.000000000,2022-01-10 11:40:01.000000000,2022-01-10 11:38:23.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-04 17:17:21.000000000', 'files': ['releasenotes/notes/cinder-update-volume-type-description-5f81e2ff5ea8184a.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d30105a28c755d826c85bccf4d02cdca2712c53b', 'message': ""[train,ussuri] Set cinder's __DEFAULT__ vol type description\n\nUpdate the description of cinder's internal __DEFAULT__ volume type\nso that users don't confuse it with the actual default volume type\nestablished by the CinderDefaultVolumeType parameter.\n\nThis patch is a variant of Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,\nwhich in later releases deletes cinder's __DEFAULT__ volume type if\nthere are no volumes associated with it. However, the __DEFAULT__\nvolume type cannot be removed prior to the victoria release because\nit's required for a DB migration.\n\nLastly, CinderDefaultVolumeType is now constrained to prevent it being\nset to an empty string. That should never happen, so this is just a\nsafety net.\n\nChange-Id: Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9\nRelated-Bug: #1782217\n""}]",4,823411,d30105a28c755d826c85bccf4d02cdca2712c53b,15,7,1,21129,,,0,"[train,ussuri] Set cinder's __DEFAULT__ vol type description

Update the description of cinder's internal __DEFAULT__ volume type
so that users don't confuse it with the actual default volume type
established by the CinderDefaultVolumeType parameter.

This patch is a variant of Idf27c14b31dc077ef9a0e567bd502ed6842bd52b,
which in later releases deletes cinder's __DEFAULT__ volume type if
there are no volumes associated with it. However, the __DEFAULT__
volume type cannot be removed prior to the victoria release because
it's required for a DB migration.

Lastly, CinderDefaultVolumeType is now constrained to prevent it being
set to an empty string. That should never happen, so this is just a
safety net.

Change-Id: Ifc35eb09ab3af4d8f3ea232dd20558047c6834b9
Related-Bug: #1782217
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/11/823411/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cinder-update-volume-type-description-5f81e2ff5ea8184a.yaml', 'deployment/cinder/cinder-api-container-puppet.yaml']",2,d30105a28c755d826c85bccf4d02cdca2712c53b,," constraints: - allowed_pattern: ""[a-zA-Z0-9]+"" description: > The default volume type must be at least 1 character and contain only letters and numbers. - name: Manage Cinder's default volume type eval $(openstack volume type show __DEFAULT__ -f shell -c id -c description) if [ -n ""$id"" ]; then tripleo_descr=""For internal use, '{{ default_volume_type }}' is the default volume type"" if [ ""$description"" != ""$tripleo_descr"" ]; then openstack volume type set $id --description ""$tripleo_descr"" fi fi", - name: Manage Cinder Volume Type,19,1
openstack%2Fcharm-ceph-osd~master~I281fe17acaea826b79bfa902a8d9e7a8b59482a9,openstack/charm-ceph-osd,master,I281fe17acaea826b79bfa902a8d9e7a8b59482a9,Spelling fixes from codespell with additional consistency cleanups.,MERGED,2021-11-16 21:58:14.000000000,2022-01-10 11:11:41.000000000,2022-01-10 11:11:41.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-11-16 21:58:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/99bbc6bad10033d7163616a8890040ff858d60b8', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9\n'}, {'number': 2, 'created': '2021-11-16 22:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/f3e5bae01ecd1f639f6834d96dcede121dd88bf7', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9\n'}, {'number': 3, 'created': '2021-11-21 14:16:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/d0f8af4464a033986e8bc1bf861837012d10093c', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9\n'}, {'number': 4, 'created': '2021-12-20 13:05:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/1b1ffcccb00aa5d82d31bbc77f31d1fb47cfc1ed', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nChange-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9\n'}, {'number': 5, 'created': '2021-12-20 13:22:09.000000000', 'files': ['hooks/ceph_hooks.py', 'lib/charms_ceph/utils.py', 'unit_tests/test_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/73fe60b3dfde78c21e2b4ade0654ce750453dc7b', 'message': 'Spelling fixes from codespell with additional consistency cleanups.\n\nIncludes a resync of charms.ceph.\n\nChange-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9\n'}]",7,818148,73fe60b3dfde78c21e2b4ade0654ce750453dc7b,26,4,5,30028,,,0,"Spelling fixes from codespell with additional consistency cleanups.

Includes a resync of charms.ceph.

Change-Id: I281fe17acaea826b79bfa902a8d9e7a8b59482a9
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/48/818148/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/ceph_hooks.py', 'lib/charms_ceph/utils.py', 'unit_tests/test_utils.py']",3,99bbc6bad10033d7163616a8890040ff858d60b8,change-818148,"# Copyright 2016-2021 Canonical Ltd Walk backwards from __file__ looking for config.yaml, load and return the","# Copyright 2016 Canonical Ltd Walk backwords from __file__ looking for config.yaml, load and return the",98,98
openstack%2Fneutron~master~I4c6fd5b0b33bf764c0b182f169173453ea7a4efc,openstack/neutron,master,I4c6fd5b0b33bf764c0b182f169173453ea7a4efc,Add extra debug log with current and new port statuses in ML2 plugin,MERGED,2021-12-23 11:00:43.000000000,2022-01-10 11:07:47.000000000,2022-01-10 11:05:27.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2021-12-23 11:00:43.000000000', 'files': ['neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/34e560fad0b773d4b81032f876994d5340195600', 'message': ""Add extra debug log with current and new port statuses in ML2 plugin\n\nThis patch only adds one extra debug log to log current and new\nport statuses in the method which updates that status in the DB.\nThis may be useful e.g. to understand why notifications about port\nchange aren't send to Nova in some cases (like unshelve instance, see\nrelated bug).\n\nRelated-Bug: #1953478\nChange-Id: I4c6fd5b0b33bf764c0b182f169173453ea7a4efc\n""}]",2,822818,34e560fad0b773d4b81032f876994d5340195600,22,5,1,11975,,,0,"Add extra debug log with current and new port statuses in ML2 plugin

This patch only adds one extra debug log to log current and new
port statuses in the method which updates that status in the DB.
This may be useful e.g. to understand why notifications about port
change aren't send to Nova in some cases (like unshelve instance, see
related bug).

Related-Bug: #1953478
Change-Id: I4c6fd5b0b33bf764c0b182f169173453ea7a4efc
",git fetch https://review.opendev.org/openstack/neutron refs/changes/18/822818/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/plugin.py'],1,34e560fad0b773d4b81032f876994d5340195600,bug/1953478," LOG.debug(""Current status of the port %s is: %s; "" ""New status is: %s"", port_id, port.status, status)",,2,0
openstack%2Freleases~master~I1487a98b49f09a4ac7b5d79dbf10c7eb1eb89e46,openstack/releases,master,I1487a98b49f09a4ac7b5d79dbf10c7eb1eb89e46,[puppet-ironic] Re-create the final stable/ussuri release,MERGED,2022-01-06 02:34:37.000000000,2022-01-10 11:05:53.000000000,2022-01-10 11:05:53.000000000,"[{'_account_id': 308}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-06 02:34:37.000000000', 'files': ['deliverables/ussuri/puppet-ironic.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6dfa6bdefab62043f5aab212f9823df5e590b6c8', 'message': '[puppet-ironic] Re-create the final stable/ussuri release\n\n... to release the fix for bug #1952652 .\n\nChange-Id: I1487a98b49f09a4ac7b5d79dbf10c7eb1eb89e46\n'}]",0,823616,6dfa6bdefab62043f5aab212f9823df5e590b6c8,9,4,1,9816,,,0,"[puppet-ironic] Re-create the final stable/ussuri release

... to release the fix for bug #1952652 .

Change-Id: I1487a98b49f09a4ac7b5d79dbf10c7eb1eb89e46
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/823616/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/puppet-ironic.yaml'],1,6dfa6bdefab62043f5aab212f9823df5e590b6c8,, - projects: - hash: 0e1cfd2ea256b3127b5f60beccc9196b33a5b12a repo: openstack/puppet-ironic version: 16.5.0,,4,0
openstack%2Freleases~master~I7193b38d4a1c8c1ccda0c27df67f8ebf2fb87b4a,openstack/releases,master,I7193b38d4a1c8c1ccda0c27df67f8ebf2fb87b4a,Release neutron 19.1.0 for xena,MERGED,2022-01-06 19:38:09.000000000,2022-01-10 11:05:50.000000000,2022-01-10 11:05:50.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 19:38:09.000000000', 'files': ['deliverables/xena/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7918dde9de131723e57d3cb74903a0961e879e9e', 'message': 'Release neutron 19.1.0 for xena\n\nChange-Id: I7193b38d4a1c8c1ccda0c27df67f8ebf2fb87b4a\n'}]",3,823730,7918dde9de131723e57d3cb74903a0961e879e9e,10,6,1,11805,,,0,"Release neutron 19.1.0 for xena

Change-Id: I7193b38d4a1c8c1ccda0c27df67f8ebf2fb87b4a
",git fetch https://review.opendev.org/openstack/releases refs/changes/30/823730/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron.yaml'],1,7918dde9de131723e57d3cb74903a0961e879e9e,, - version: 19.1.0 projects: - repo: openstack/neutron hash: 1a4353d2877b2d1d54cc9eeb701c728ae4fc84a5,,4,0
openstack%2Fopenstacksdk~feature%2Fr1~I2a52a12bdcde51e7e1358c4818040042e92afb39,openstack/openstacksdk,feature/r1,I2a52a12bdcde51e7e1358c4818040042e92afb39,Merge remote-tracking branch 'origin/feature/r1' into merge-branch,ABANDONED,2022-01-10 10:56:18.000000000,2022-01-10 11:00:23.000000000,,[],"[{'number': 1, 'created': '2022-01-10 10:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/fa3979c9ae246e3b029513085402aa54aaeeeb0f', 'message': ""Merge remote-tracking branch 'origin/feature/r1' into merge-branch\n\nChange-Id: I2a52a12bdcde51e7e1358c4818040042e92afb39\n""}]",0,823959,fa3979c9ae246e3b029513085402aa54aaeeeb0f,2,0,1,27900,,,0,"Merge remote-tracking branch 'origin/feature/r1' into merge-branch

Change-Id: I2a52a12bdcde51e7e1358c4818040042e92afb39
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/59/823959/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,fa3979c9ae246e3b029513085402aa54aaeeeb0f,merge-branch,,,0,0
openstack%2Fskyline-console~master~I84c9470a06a5bc41eba19c91c40d40d8cab7f26a,openstack/skyline-console,master,I84c9470a06a5bc41eba19c91c40d40d8cab7f26a,refact: Refactoring generation of the link of network and security group when creating instance,MERGED,2022-01-10 07:34:45.000000000,2022-01-10 10:52:42.000000000,2022-01-10 10:52:42.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-01-10 07:34:45.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7419565aa2070a78b55697654971e55f3f28cea6', 'message': 'refact: Refactoring generation of the link of network and security group when creating instance\n\nUse route name in menu to generate network && security group link\n\nChange-Id: I84c9470a06a5bc41eba19c91c40d40d8cab7f26a\n'}]",0,823935,7419565aa2070a78b55697654971e55f3f28cea6,6,2,1,30434,,,0,"refact: Refactoring generation of the link of network and security group when creating instance

Use route name in menu to generate network && security group link

Change-Id: I84c9470a06a5bc41eba19c91c40d40d8cab7f26a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/35/823935/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/pages/compute/containers/Instance/actions/CreateIronic/NetworkStep/index.jsx']",2,7419565aa2070a78b55697654971e55f3f28cea6,master2,"import { getLinkRender } from 'utils/route-map'; {getLinkRender({ key: 'network', value: `${t('create a new network/subnet')} > `, })} {getLinkRender({ key: 'securityGroup', value: `${t('create a new security group')}> `, })}","import { Link } from 'react-router-dom'; <Link to=""/network/networks""> {t('create a new network/subnet')}&gt;{' '} </Link> <Link to=""/network/security-group""> {t('create a new security group')}&gt;{' '} </Link>",18,14
openstack%2Ftripleo-common~stable%2Fwallaby~Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4,openstack/tripleo-common,stable/wallaby,Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4,Remove libcgroup-tools from libvirt container,MERGED,2022-01-06 15:30:08.000000000,2022-01-10 10:29:37.000000000,2022-01-10 10:28:00.000000000,"[{'_account_id': 8833}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-06 15:30:08.000000000', 'files': ['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b800f471ee3a38651b95280b936e11af136f1a1f', 'message': 'Remove libcgroup-tools from libvirt container\n\nlibcgroup-tools was added to the libvirt container image\nwith I469b4f51c57e1651f42064b0134aa3916af72d80.\n\nSince OCP on OCP is right now discontinued and libcgroup\nis planned to be removed from RHEL 9, lets remove it also\nfrom the libvirt container image.\n\nIf there is the plan to start it again, we could probably\nuse systemd-run instead.\n\nCloses-Bug: #1956600\n\nChange-Id: Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4\n(cherry picked from commit 5e469e42cf06c86713e54885bfcd344a1b40d662)\n'}]",3,823608,b800f471ee3a38651b95280b936e11af136f1a1f,12,6,1,12393,,,0,"Remove libcgroup-tools from libvirt container

libcgroup-tools was added to the libvirt container image
with I469b4f51c57e1651f42064b0134aa3916af72d80.

Since OCP on OCP is right now discontinued and libcgroup
is planned to be removed from RHEL 9, lets remove it also
from the libvirt container image.

If there is the plan to start it again, we could probably
use systemd-run instead.

Closes-Bug: #1956600

Change-Id: Ic946d0ef686cb178e0f02db012f2767c9ec5d6d4
(cherry picked from commit 5e469e42cf06c86713e54885bfcd344a1b40d662)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/08/823608/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/nova-base/nova-libvirt/nova-libvirt.yaml'],1,b800f471ee3a38651b95280b936e11af136f1a1f,remove_libcgroup-tools-stable/wallaby,, - libcgroup-tools,0,1
openstack%2Fopenstackclient~master~I79b49dfd490bbd4574884840c9ce4c33e82543a5,openstack/openstackclient,master,I79b49dfd490bbd4574884840c9ce4c33e82543a5,Add python-masakariclient,ABANDONED,2021-03-03 18:41:50.000000000,2022-01-10 10:18:25.000000000,,"[{'_account_id': 841}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-03 18:41:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/44e4acc921975df3850c8dbcc13a006a23d85c47', 'message': 'Add python-masakariclient\n\nThis is to make masakariclient an official OSC plugin. [1]\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/01a53fa96fe2fbd67682850ee7ce9ab140c9211b/doc/source/contributor/plugins.rst#checklist-for-adding-new-openstack-plugins\n\nDepends-On: https://review.opendev.org/c/openstack/python-masakariclient/+/778513\nChange-Id: I79b49dfd490bbd4574884840c9ce4c33e82543a5\n'}, {'number': 2, 'created': '2021-03-03 19:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/40be0845f43a23aa7580f9421cf873d995bfdb69', 'message': 'Add python-masakariclient\n\nThis is to make masakariclient an official OSC plugin. [1]\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/01a53fa96fe2fbd67682850ee7ce9ab140c9211b/doc/source/contributor/plugins.rst#checklist-for-adding-new-openstack-plugins\n\nDepends-On: https://review.opendev.org/c/openstack/python-masakariclient/+/778513\nChange-Id: I79b49dfd490bbd4574884840c9ce4c33e82543a5\n'}, {'number': 3, 'created': '2021-03-09 18:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/cd473dfa783b45515f659de2e452cfbe1e86a22d', 'message': 'Add python-masakariclient\n\nThis is to make masakariclient an official OSC plugin. [1]\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/01a53fa96fe2fbd67682850ee7ce9ab140c9211b/doc/source/contributor/plugins.rst#checklist-for-adding-new-openstack-plugins\n\nDepends-On: https://review.opendev.org/c/openstack/python-masakariclient/+/778513\nChange-Id: I79b49dfd490bbd4574884840c9ce4c33e82543a5\n'}, {'number': 4, 'created': '2021-03-09 18:10:03.000000000', 'files': ['requirements.txt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/b3d5e78819c31e008d6d188187120feb9127c088', 'message': 'Add python-masakariclient\n\nThis is to make masakariclient an official OSC plugin. [1]\n\n[1] https://opendev.org/openstack/python-openstackclient/src/commit/01a53fa96fe2fbd67682850ee7ce9ab140c9211b/doc/source/contributor/plugins.rst#checklist-for-adding-new-openstack-plugins\n\nChange-Id: I79b49dfd490bbd4574884840c9ce4c33e82543a5\n'}]",0,778542,b3d5e78819c31e008d6d188187120feb9127c088,17,5,4,30491,,,0,"Add python-masakariclient

This is to make masakariclient an official OSC plugin. [1]

[1] https://opendev.org/openstack/python-openstackclient/src/commit/01a53fa96fe2fbd67682850ee7ce9ab140c9211b/doc/source/contributor/plugins.rst#checklist-for-adding-new-openstack-plugins

Change-Id: I79b49dfd490bbd4574884840c9ce4c33e82543a5
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/42/778542/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,44e4acc921975df3850c8dbcc13a006a23d85c47,add-masakari, - openstack/python-masakariclient,,1,0
openstack%2Fhacking~master~If14b32f198447336b5844491e2dd6a3480b68a9d,openstack/hacking,master,If14b32f198447336b5844491e2dd6a3480b68a9d,Update python testing classifier,MERGED,2022-01-10 09:19:13.000000000,2022-01-10 09:56:31.000000000,2022-01-10 09:54:09.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-10 09:19:13.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/hacking/commit/e42996fea9ae6003fdaf859f1785a3798cb0f492', 'message': 'Update python testing classifier\n\nChange-Id: If14b32f198447336b5844491e2dd6a3480b68a9d\n'}]",0,823950,e42996fea9ae6003fdaf859f1785a3798cb0f492,7,2,1,33881,,,0,"Update python testing classifier

Change-Id: If14b32f198447336b5844491e2dd6a3480b68a9d
",git fetch https://review.opendev.org/openstack/hacking refs/changes/50/823950/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e42996fea9ae6003fdaf859f1785a3798cb0f492,,"envlist = py39,pep8","envlist = py,pep8",1,1
openstack%2Fkolla-ansible~master~I76ac73edc78b03f333f1813df1aa07d6116742a4,openstack/kolla-ansible,master,I76ac73edc78b03f333f1813df1aa07d6116742a4,placement: support different internal/public ports,ABANDONED,2022-01-04 14:53:59.000000000,2022-01-10 09:54:19.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-04 14:53:59.000000000', 'files': ['ansible/group_vars/all.yml', 'ansible/roles/placement/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb282a4e00000304feaf952662bf5a4445d97e56', 'message': 'placement: support different internal/public ports\n\nChange-Id: I76ac73edc78b03f333f1813df1aa07d6116742a4\n'}]",1,823400,fb282a4e00000304feaf952662bf5a4445d97e56,6,2,1,22629,,,0,"placement: support different internal/public ports

Change-Id: I76ac73edc78b03f333f1813df1aa07d6116742a4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/00/823400/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/placement/defaults/main.yml']",2,fb282a4e00000304feaf952662bf5a4445d97e56,haproxy_diff_ports," port: ""{{ placement_api_public_port }}""placement_public_endpoint: ""{{ public_protocol }}://{{ placement_external_fqdn | put_address_in_context('url') }}:{{ placement_api_public_port }}"""," port: ""{{ placement_api_port }}""placement_public_endpoint: ""{{ public_protocol }}://{{ placement_external_fqdn | put_address_in_context('url') }}:{{ placement_api_port }}""",3,2
openstack%2Fkolla-ansible~master~I0767bf4d8ce84b389a06596597021a8a8c4960cd,openstack/kolla-ansible,master,I0767bf4d8ce84b389a06596597021a8a8c4960cd,neutron: support different internal/public ports,ABANDONED,2022-01-04 15:41:01.000000000,2022-01-10 09:54:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-04 15:41:01.000000000', 'files': ['ansible/roles/neutron/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b0b9f4bb1235553c68552b337be4fd143b7adc18', 'message': 'neutron: support different internal/public ports\n\nChange-Id: I0767bf4d8ce84b389a06596597021a8a8c4960cd\n'}]",1,823405,b0b9f4bb1235553c68552b337be4fd143b7adc18,5,2,1,22629,,,0,"neutron: support different internal/public ports

Change-Id: I0767bf4d8ce84b389a06596597021a8a8c4960cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/05/823405/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'ansible/roles/neutron/defaults/main.yml']",2,b0b9f4bb1235553c68552b337be4fd143b7adc18,haproxy_diff_ports," port: ""{{ neutron_server_public_port }}"" port: ""{{ neutron_server_public_port }}"""," port: ""{{ neutron_server_port }}"" port: ""{{ neutron_server_port }}""",4,3
openstack%2Fhacking~master~I4e325e9775f07a9052b92be33724cc794d8bfdcb,openstack/hacking,master,I4e325e9775f07a9052b92be33724cc794d8bfdcb,remove unicode from code,MERGED,2022-01-10 09:11:12.000000000,2022-01-10 09:53:39.000000000,2022-01-10 09:52:03.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-10 09:11:12.000000000', 'files': ['doc/source/conf.py', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/hacking/commit/6763c87d68df766199eb33b319bd659dd5590ffe', 'message': 'remove unicode from code\n\nChange-Id: I4e325e9775f07a9052b92be33724cc794d8bfdcb\n'}]",0,823947,6763c87d68df766199eb33b319bd659dd5590ffe,7,2,1,33881,,,0,"remove unicode from code

Change-Id: I4e325e9775f07a9052b92be33724cc794d8bfdcb
",git fetch https://review.opendev.org/openstack/hacking refs/changes/47/823947/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/conf.py', 'releasenotes/source/conf.py']",2,6763c87d68df766199eb33b319bd659dd5590ffe,,"project = 'Hacking Release Notes' copyright = '2015, Hacking Developers' 'Hacking Release Notes Documentation', 'Hacking Developers', 'manual'), ('index', 'hackingreleasenotes', 'Hacking Release Notes Documentation', ['Hacking Developers'], 1) ('index', 'HackingReleaseNotes', 'Hacking Release Notes Documentation', 'Hacking Developers', 'HackingReleaseNotes',","project = u'Hacking Release Notes' copyright = u'2015, Hacking Developers' u'Hacking Release Notes Documentation', u'Hacking Developers', 'manual'), ('index', 'hackingreleasenotes', u'Hacking Release Notes Documentation', [u'Hacking Developers'], 1) ('index', 'HackingReleaseNotes', u'Hacking Release Notes Documentation', u'Hacking Developers', 'HackingReleaseNotes',",12,12
openstack%2Fkayobe~master~Ifaf28e85189bf438e373f165a9b3c2af1b47e834,openstack/kayobe,master,Ifaf28e85189bf438e373f165a9b3c2af1b47e834,Fix Sphinx syntax typo,MERGED,2022-01-09 16:32:37.000000000,2022-01-10 09:34:26.000000000,2022-01-10 09:32:46.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-09 16:32:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/61a39eedb9da67432461d787296fe01f58d2e047', 'message': 'Fix Sphinx syntax typo\n\nA double colon (where only a single colon is wanted) was fouling up parsing.\n\nChange-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834\n'}, {'number': 2, 'created': '2022-01-09 16:36:52.000000000', 'files': ['doc/source/configuration/reference/hosts.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7', 'message': 'Fix Sphinx syntax typo\n\nA double colon (where only a single colon is wanted) was fouling up\nparsing.\n\nChange-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834\n'}]",2,823919,561ee09c03223b63d0f6d6ce8ae56fee6ddb80d7,10,3,2,10910,,,0,"Fix Sphinx syntax typo

A double colon (where only a single colon is wanted) was fouling up
parsing.

Change-Id: Ifaf28e85189bf438e373f165a9b3c2af1b47e834
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/19/823919/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/configuration/reference/hosts.rst'],1,61a39eedb9da67432461d787296fe01f58d2e047,ntp-doc-fix,``ntp`` group. The default hosts in this group are:,``ntp`` group. The default hosts in this group are::,1,1
openstack%2Freleases~master~Ic8e28e858579e14ebbf98f4564b7566baca081eb,openstack/releases,master,Ic8e28e858579e14ebbf98f4564b7566baca081eb,New Xena release for neutron-lib,MERGED,2022-01-07 10:07:15.000000000,2022-01-10 09:11:08.000000000,2022-01-10 09:11:08.000000000,"[{'_account_id': 841}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-07 10:07:15.000000000', 'files': ['deliverables/xena/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/56c69c301cfdea3e0e1116247545de7dddbb480f', 'message': 'New Xena release for neutron-lib\n\n$ git log --no-merges --oneline 2.15.0..HEAD\n997be4d [stable-only] Fix allocation update for min bw rule with different direction\n19cf80f Dropping lower constraints testing (stable Xena)\n11d1cbf Update TOX_CONSTRAINTS_FILE for stable/xena\n9a7bb4e Update .gitreview for stable/xena\n\nChange-Id: Ic8e28e858579e14ebbf98f4564b7566baca081eb\n'}]",2,823780,56c69c301cfdea3e0e1116247545de7dddbb480f,9,5,1,8313,,,0,"New Xena release for neutron-lib

$ git log --no-merges --oneline 2.15.0..HEAD
997be4d [stable-only] Fix allocation update for min bw rule with different direction
19cf80f Dropping lower constraints testing (stable Xena)
11d1cbf Update TOX_CONSTRAINTS_FILE for stable/xena
9a7bb4e Update .gitreview for stable/xena

Change-Id: Ic8e28e858579e14ebbf98f4564b7566baca081eb
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/823780/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/neutron-lib.yaml'],1,56c69c301cfdea3e0e1116247545de7dddbb480f,xena_n_lib_release, - version: 2.15.1 projects: - repo: openstack/neutron-lib hash: 997be4d13b183b5f9bac1462da5aeaec0c44714d,,4,0
openstack%2Freleases~master~I8595ee004fdccf00657a026cf70d9dc0b56179a2,openstack/releases,master,I8595ee004fdccf00657a026cf70d9dc0b56179a2,Push Validation Framework release to 1.5.0,MERGED,2022-01-04 14:08:52.000000000,2022-01-10 09:03:44.000000000,2022-01-10 09:03:44.000000000,"[{'_account_id': 308}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-04 14:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/84a12fb8ae4fc9c4613755a92b29725ade30e59b', 'message': 'Push Validation Framework release to 1.5.0\n\nChange-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\n'}, {'number': 2, 'created': '2022-01-05 10:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/56dfcd99947a49edd9997c20803a1f9006475912', 'message': 'Push Validation Framework release to 1.5.0 and create bugfix branch\n\n* Bump VF to 1.5.0\n* Create bug fix branch for 1.5.0 version\n\nChange-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\n'}, {'number': 3, 'created': '2022-01-05 14:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/ae28280d315d4340918b8e7d56d1078126d44b69', 'message': 'Push Validation Framework release to 1.5.0\n\n* Bump VF to 1.5.0\n\nChange-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\n'}, {'number': 4, 'created': '2022-01-06 16:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/64a07c2d520c84c42db85834ca0ca2113b0b71c8', 'message': 'Push Validation Framework release to 1.5.0\n\n* Bump VF to 1.5.0\n\nChange-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\n'}, {'number': 5, 'created': '2022-01-07 07:01:37.000000000', 'files': ['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dd06f18ef3d1833d148e1fcee37a104d1c3cd665', 'message': 'Push Validation Framework release to 1.5.0\n\n* Bump VF to 1.5.0\n\nChange-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2\n'}]",3,823394,dd06f18ef3d1833d148e1fcee37a104d1c3cd665,18,8,5,16515,,,0,"Push Validation Framework release to 1.5.0

* Bump VF to 1.5.0

Change-Id: I8595ee004fdccf00657a026cf70d9dc0b56179a2
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/823394/5 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/_independent/validations-common.yaml', 'deliverables/_independent/validations-libs.yaml']",2,84a12fb8ae4fc9c4613755a92b29725ade30e59b,validations/1.5.0, - version: 1.5.0 projects: - repo: openstack/validations-libs hash: e875e1671b718262cf4778127e088b7bc009b9aa,,8,0
openstack%2Ftripleo-heat-templates~master~I25e5246fa916b0e4bca8c8e957310fccc3428efc,openstack/tripleo-heat-templates,master,I25e5246fa916b0e4bca8c8e957310fccc3428efc,DNM,ABANDONED,2021-09-01 13:22:55.000000000,2022-01-10 08:02:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-01 13:22:55.000000000', 'files': ['deployment/haproxy/haproxy-public-tls-certmonger.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/12adb4faf4bdde112edad1c2b77ecdb42513e312', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I25e5246fa916b0e4bca8c8e957310fccc3428efc\n'}]",0,806931,12adb4faf4bdde112edad1c2b77ecdb42513e312,4,2,1,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I25e5246fa916b0e4bca8c8e957310fccc3428efc
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/806931/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/haproxy/haproxy-public-tls-certmonger.yaml'],1,12adb4faf4bdde112edad1c2b77ecdb42513e312,, name: certmonger-0.79.13, name: certmonger,1,1
openstack%2Ftripleo-quickstart~master~If4de4893b0c0ee21d011b472d675aa1d59015753,openstack/tripleo-quickstart,master,If4de4893b0c0ee21d011b472d675aa1d59015753,DNM,ABANDONED,2021-09-10 12:47:14.000000000,2022-01-10 08:00:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-09-10 12:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bdc37572b267cc2b77bacb2d6fe305ddd6d71a51', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If4de4893b0c0ee21d011b472d675aa1d59015753\n'}, {'number': 2, 'created': '2021-09-10 13:15:43.000000000', 'files': ['playbooks/enable-fips.yml', 'roles/enable-fips/README.rst', '.ansible-lint', 'roles/enable-fips/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f242ef6a4ef7c1f7d4709c01d4f63cd1615f4eb3', 'message': 'DNM\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: If4de4893b0c0ee21d011b472d675aa1d59015753\n'}]",0,808207,f242ef6a4ef7c1f7d4709c01d4f63cd1615f4eb3,10,2,2,32926,,,0,"DNM

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: If4de4893b0c0ee21d011b472d675aa1d59015753
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/07/808207/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/enable-fips.yml'],1,bdc37572b267cc2b77bacb2d6fe305ddd6d71a51,,--- - hosts: all roles: - enable-fips ,,4,0
openstack%2Ftripleo-ci~master~I07b2344f85c6997c10c3e50a86ba8e16dfcb1355,openstack/tripleo-ci,master,I07b2344f85c6997c10c3e50a86ba8e16dfcb1355,Remove fwupd-redfish.conf file from overcloud images,MERGED,2022-01-06 23:16:57.000000000,2022-01-10 07:39:28.000000000,2022-01-07 21:42:59.000000000,"[{'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 34208}]","[{'number': 1, 'created': '2022-01-06 23:16:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/449d088bd1e664fc6c66061b16e02b86e7526860', 'message': 'WIP: Remove fwupd-redfish.conf file from overcloud images\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}, {'number': 2, 'created': '2022-01-06 23:21:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fd39de6a0b301939df801fc296c5566423deea85', 'message': 'WIP: Remove fwupd-redfish.conf file from overcloud images\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}, {'number': 3, 'created': '2022-01-07 11:59:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ad4a2b6d7af6cc3f3c44f79528299cf0ac79d152', 'message': 'WIP: Remove fwupd-redfish.conf file from overcloud images\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}, {'number': 4, 'created': '2022-01-07 12:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f45b10ae86d420b461337de1fc8730e2c55ccd79', 'message': 'WIP: Remove fwupd-redfish.conf file from overcloud images\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}, {'number': 5, 'created': '2022-01-07 15:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/899bff3aa1b3168740c8390e4d3a2e5d3556e9d7', 'message': 'Remove fwupd-redfish.conf file from overcloud images\n\nRight now, the fwupd package is attempting to load the module ipmi_si\nand this one is failing to be load. This patch customize the qcow2 image\nremoving the fwupd-redfish.conf that is causing this problem.\nIt is, right now hard to just exclude the package because of the\ndependences, as well as downgrade, because of how the repositories are\nconfigured in the image, so the best approach to temporarly solve the\nproblem is in this way with virt-customize.\n\nRelated-Bug: #1956441\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}, {'number': 6, 'created': '2022-01-07 15:05:30.000000000', 'files': ['roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/018f3ecf7e2100d873391a354086f17469514ecf', 'message': 'Remove fwupd-redfish.conf file from overcloud images\n\nRight now, the fwupd package is attempting to load the module ipmi_si\nand this one is failing to be load. This patch customize the qcow2 image\nremoving the fwupd-redfish.conf that is causing this problem.\nIt is, right now hard to just exclude the package because of the\ndependences, as well as downgrade, because of how the repositories are\nconfigured in the image, so the best approach to temporarly solve the\nproblem is in this way with virt-customize.\n\nRelated-Bug: #1956441\n\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n\nChange-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355\n'}]",2,823736,018f3ecf7e2100d873391a354086f17469514ecf,18,5,6,9976,,,0,"Remove fwupd-redfish.conf file from overcloud images

Right now, the fwupd package is attempting to load the module ipmi_si
and this one is failing to be load. This patch customize the qcow2 image
removing the fwupd-redfish.conf that is causing this problem.
It is, right now hard to just exclude the package because of the
dependences, as well as downgrade, because of how the repositories are
configured in the image, so the best approach to temporarly solve the
problem is in this way with virt-customize.

Related-Bug: #1956441

Signed-off-by: Amol Kahat <amolkahat@gmail.com>

Change-Id: I07b2344f85c6997c10c3e50a86ba8e16dfcb1355
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/36/823736/3 && git format-patch -1 --stdout FETCH_HEAD,"['roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/main.yaml']",2,449d088bd1e664fc6c66061b16e02b86e7526860,bug1956441, # TODO akahat Remove once lp https://bugs.launchpad.net/tripleo/+bug/1956441 fixed. - name: Include remove_redfish.yaml include_tasks: remove_redfish.yaml args: apply: become: true vars: overcloud_image: overcloud-full.qcow2 # TODO akahat Remove once lp https://bugs.launchpad.net/tripleo/+bug/1956441 fixed. - name: Include remove_redfish.yaml include_tasks: remove_redfish.yaml args: apply: become: true vars: overcloud_image: overcloud_image: overcloud-hardened-uefi-full.qcow2 ,,49,0
openstack%2Fnova~master~I38b39061bb352eeb5c352fbc163432b4e26d370f,openstack/nova,master,I38b39061bb352eeb5c352fbc163432b4e26d370f,Ignore missing volume attchment during detach,ABANDONED,2022-01-05 16:08:35.000000000,2022-01-10 07:32:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-05 16:08:35.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/883071711ef446c7e091b44dc494040612250c4e', 'message': 'Ignore missing volume attchment during detach\n\nAt the end of a volume detach call (after the volume as already been\ndetached from the instance itself)  we need to remove the volume attachment\nfrom cinder.\nIf the volume attachment is not found for whatever reason the detach\ncall would fail after already detaching the volume from the instance itself.\nThis leads to the need for manual cleanup actions to:\n1. mark the block_device_mapping in the nova database as deleted\n2. potentially clean up cinder\n\nAs the volumes is already detached from the instance we can safely\nignore the error here.\nThis will make sure that at least the nova database is consistent while\nfor cinder administrative intervention is required anyway.\n\nChange-Id: I38b39061bb352eeb5c352fbc163432b4e26d370f\n'}]",2,823554,883071711ef446c7e091b44dc494040612250c4e,7,1,1,29074,,,0,"Ignore missing volume attchment during detach

At the end of a volume detach call (after the volume as already been
detached from the instance itself)  we need to remove the volume attachment
from cinder.
If the volume attachment is not found for whatever reason the detach
call would fail after already detaching the volume from the instance itself.
This leads to the need for manual cleanup actions to:
1. mark the block_device_mapping in the nova database as deleted
2. potentially clean up cinder

As the volumes is already detached from the instance we can safely
ignore the error here.
This will make sure that at least the nova database is consistent while
for cinder administrative intervention is required anyway.

Change-Id: I38b39061bb352eeb5c352fbc163432b4e26d370f
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/823554/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/test_block_device.py', 'nova/virt/block_device.py']",2,883071711ef446c7e091b44dc494040612250c4e,ignore_attachment_missing," try: volume_api.attachment_delete(context, self['attachment_id']) except exception.VolumeAttachmentNotFound: LOG.warning(""Volume attachment not found for volume %(vid)s "" ""attachment_id %(aid)s and instance %(inst)s. "" ""Ignoring as the volume is already detached by "" ""now."", {'vid': volume_id, 'aid': self['attachment_id'], 'inst': instance.uuid})"," volume_api.attachment_delete(context, self['attachment_id'])",45,1
openstack%2Ftripleo-ansible~master~I1dbf46ffcea77de341bf4ddd89d5390f06c79c64,openstack/tripleo-ansible,master,I1dbf46ffcea77de341bf4ddd89d5390f06c79c64,Blacklist ipmi_si for CentOS 8 distros,ABANDONED,2022-01-07 13:37:17.000000000,2022-01-10 07:22:29.000000000,,"[{'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-07 13:37:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db9c98dfc78ed9c880de515f96bad408dc6f7fb6', 'message': 'Blacklist ipmi_si for CentOS 8 distros\n\nCurrently due to a bug in fwupd package fails to insert\nipmi_si causing systemd-modules-load.service failed to start.\n\nAdding to blocklist fixes the issue. It got introduced in\nRHEL-8.6.\n\nRelated-Bug: #1956441\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I1dbf46ffcea77de341bf4ddd89d5390f06c79c64\n'}, {'number': 2, 'created': '2022-01-07 16:24:00.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5adfb9ba201048e95338d18e505c8eae6c00962e', 'message': 'Blacklist ipmi_si for CentOS 8 distros\n\nCurrently due to a bug in fwupd package fails to insert\nipmi_si causing systemd-modules-load.service failed to start.\n\nAdding to blocklist fixes the issue. It got introduced in\nRHEL-8.6.\n\nRelated-Bug: #1956441\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I1dbf46ffcea77de341bf4ddd89d5390f06c79c64\n'}]",1,823798,5adfb9ba201048e95338d18e505c8eae6c00962e,9,7,2,12393,,,0,"Blacklist ipmi_si for CentOS 8 distros

Currently due to a bug in fwupd package fails to insert
ipmi_si causing systemd-modules-load.service failed to start.

Adding to blocklist fixes the issue. It got introduced in
RHEL-8.6.

Related-Bug: #1956441

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I1dbf46ffcea77de341bf4ddd89d5390f06c79c64
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/98/823798/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/main.yml'],1,db9c98dfc78ed9c880de515f96bad408dc6f7fb6,workaround," # Note(chandankumar): Revert this once https://bugs.launchpad.net/tripleo/+bug/1956441 # gets fixed. - name: blacklist ipmi_si for CentOS 8 command: echo ""blacklist ipmi_si"" >> /etc/modprobe.d/ipmi_si.conf when: - ansible_distribution == ""CentOS"" - ansible_distribution_major_version is version('8', '==') ",,8,0
openstack%2Ftripleo-ci~master~I6b1143e1e0a4bec54bf13f14965754ae764aebda,openstack/tripleo-ci,master,I6b1143e1e0a4bec54bf13f14965754ae764aebda,[DNM] Arie test patch,ABANDONED,2022-01-05 08:18:06.000000000,2022-01-10 07:02:43.000000000,,"[{'_account_id': 16615}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-05 08:18:06.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6740979ecc4562f555d4847a52821dddc9f472c6', 'message': '[DNM] Arie test patch\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I6b1143e1e0a4bec54bf13f14965754ae764aebda\n'}]",1,823483,6740979ecc4562f555d4847a52821dddc9f472c6,5,3,1,12393,,,0,"[DNM] Arie test patch

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I6b1143e1e0a4bec54bf13f14965754ae764aebda
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/83/823483/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,6740979ecc4562f555d4847a52821dddc9f472c6,dnm,, - 'tempest.scenario.test_snapshot_pattern.TestSnapshotPattern.test_snapshot_pattern',0,1
openstack%2Ftripleo-ci~master~Ia49d52a600fc9edcbd92c8dcebe1bb66146c4d22,openstack/tripleo-ci,master,Ia49d52a600fc9edcbd92c8dcebe1bb66146c4d22,[DNM] ovb cs8 new image,ABANDONED,2022-01-06 11:44:13.000000000,2022-01-10 07:00:59.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 11:44:13.000000000', 'files': ['roles/oooci-build-images/defaults/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/bf47bb8fad12861e62910ae3add9f30cb823dd83', 'message': '[DNM] ovb cs8 new image\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia49d52a600fc9edcbd92c8dcebe1bb66146c4d22\n'}]",0,823676,bf47bb8fad12861e62910ae3add9f30cb823dd83,4,2,1,12393,,,0,"[DNM] ovb cs8 new image

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia49d52a600fc9edcbd92c8dcebe1bb66146c4d22
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/76/823676/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/defaults/main.yaml'],1,bf47bb8fad12861e62910ae3add9f30cb823dd83,,tripleo_image_source: https://cloud.centos.org/centos/8-stream/x86_64/images/CentOS-Stream-GenericCloud-8-20201019.1.x86_64.qcow2,tripleo_image_source: https://images.rdoproject.org/CentOS-8-Stream-x86_64-GenericCloud.qcow2,1,1
openstack%2Ftripleo-quickstart-extras~master~Id6f914844139fe6dfe7e0ec1e70657379c8241f5,openstack/tripleo-quickstart-extras,master,Id6f914844139fe6dfe7e0ec1e70657379c8241f5,[DNM] use 254 as a gateway ip,ABANDONED,2022-01-06 09:20:37.000000000,2022-01-10 07:00:56.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 09:20:37.000000000', 'files': ['playbooks/tasks/tempest.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fa1d5045e81e2ec3f5d2458a2105eae2abb4b5c3', 'message': '[DNM] use 254 as a gateway ip\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Id6f914844139fe6dfe7e0ec1e70657379c8241f5\n'}]",0,823647,fa1d5045e81e2ec3f5d2458a2105eae2abb4b5c3,6,2,1,12393,,,0,"[DNM] use 254 as a gateway ip

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Id6f914844139fe6dfe7e0ec1e70657379c8241f5
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/823647/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tasks/tempest.yml'],1,fa1d5045e81e2ec3f5d2458a2105eae2abb4b5c3,cs9, tempest_public_subnet_gateway_ip: '{{ tempest_cidr|nthhost(254) }}', tempest_public_subnet_gateway_ip: '{{ tempest_cidr|nthhost(1) }}',1,1
openstack%2Frequirements~master~Ia6fff9a86bfac22eb20cc015bce0d31afc1f3770,openstack/requirements,master,Ia6fff9a86bfac22eb20cc015bce0d31afc1f3770,Updated from generate-constraints,ABANDONED,2022-01-10 02:44:25.000000000,2022-01-10 06:55:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-10 02:44:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/dc651ce1889ac8e7a5936f4588604aa69a0c4ab1', 'message': 'Updated from generate-constraints\n\nChange-Id: Ia6fff9a86bfac22eb20cc015bce0d31afc1f3770\n'}]",0,823923,dc651ce1889ac8e7a5936f4588604aa69a0c4ab1,4,1,1,11131,,,0,"Updated from generate-constraints

Change-Id: Ia6fff9a86bfac22eb20cc015bce0d31afc1f3770
",git fetch https://review.opendev.org/openstack/requirements refs/changes/23/823923/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,dc651ce1889ac8e7a5936f4588604aa69a0c4ab1,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1types-paramiko===2.8.8paramiko===2.9.2pkg_resources===0.0.0django-compressor===3.1exabgp===4.2.17pysaml2===7.1.0types-cryptography===3.3.12rjsmin===1.2.0fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0types-paramiko===2.8.7paramiko===2.8.1django-compressor===2.4.1exabgp===4.2.16pysaml2===7.0.1types-cryptography===3.3.11rjsmin===1.1.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.3.1;python_version=='3.8',11,12
openstack%2Fswift~master~Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439,openstack/swift,master,Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439,internal-client: pass global_conf to loadapp,MERGED,2021-12-01 13:59:57.000000000,2022-01-10 06:31:46.000000000,2021-12-20 21:16:13.000000000,"[{'_account_id': 597}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 13:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2a715977f9afe74e17cfe941d8d9f0c051be7793', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}, {'number': 2, 'created': '2021-12-03 18:46:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b2a6f993383cb8317a9b5f2054224ec3fa4a2a59', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nThe minimum version of PasteDeploy is increased to 2.0.0 to make the\nglobal_conf behavior predictable: in older versions global_conf would\nnot override options in the conf file DEFAULT section, but since 2.0.0\nit will.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}, {'number': 3, 'created': '2021-12-06 11:03:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3b0fae441e0d3b81fe9061114fa3aff2f90a02ca', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nThe minimum version of PasteDeploy is increased to 2.0.0 to make the\nglobal_conf behavior predictable: in older versions global_conf would\nnot override options in the conf file DEFAULT section, but since 2.0.0\nit will.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}, {'number': 4, 'created': '2021-12-14 10:28:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/021b6dc286f482acb6984c3ec69b75e18780f292', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nThe minimum version of PasteDeploy is increased to 2.0.0 to make the\nglobal_conf behavior predictable: in older versions global_conf would\nnot override options in the conf file DEFAULT section, but since 2.0.0\nit will.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}, {'number': 5, 'created': '2021-12-17 17:14:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/157426f03856c673b4be8a37848cf3f81cce8919', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nThe minimum version of PasteDeploy is increased to 2.0.0 to make the\nglobal_conf behavior predictable: in older versions global_conf would\nnot override options in the conf file DEFAULT section, but since 2.0.0\nit will.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}, {'number': 6, 'created': '2021-12-20 18:17:30.000000000', 'files': ['requirements.txt', 'test/unit/common/test_internal_client.py', 'lower-constraints.txt', 'swift/common/wsgi.py', 'test/unit/common/test_wsgi.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/5079d8429d9799e291d098e14487034c7e910a0d', 'message': ""internal-client: pass global_conf to loadapp\n\nThe internal client previously provided no easy way to programatically\ncustomise the configuration of the proxy-server app or other\nmiddlewares in its wsgi pipeline.  This patch allows a global_conf\ndict to be passed via the InternalClient constructor to the wsgi\nloadapp function. Items in the global_conf dict will override options\nloaded from the config file. An example use case would be to change\nthe log_name from the default 'swift', which would be useful to\ndifferentiate logs from different processes using an internal client.\n\nThe minimum version of PasteDeploy is increased to 2.0.0 to make the\nglobal_conf behavior predictable: in older versions global_conf would\nnot override options in the conf file DEFAULT section, but since 2.0.0\nit will.\n\nChange-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439\n""}]",24,820029,5079d8429d9799e291d098e14487034c7e910a0d,81,4,6,7847,,,0,"internal-client: pass global_conf to loadapp

The internal client previously provided no easy way to programatically
customise the configuration of the proxy-server app or other
middlewares in its wsgi pipeline.  This patch allows a global_conf
dict to be passed via the InternalClient constructor to the wsgi
loadapp function. Items in the global_conf dict will override options
loaded from the config file. An example use case would be to change
the log_name from the default 'swift', which would be useful to
differentiate logs from different processes using an internal client.

The minimum version of PasteDeploy is increased to 2.0.0 to make the
global_conf behavior predictable: in older versions global_conf would
not override options in the conf file DEFAULT section, but since 2.0.0
it will.

Change-Id: Ida39ec7eb02a93cf4b2aa68fc07b7f0ae27b5439
",git fetch https://review.opendev.org/openstack/swift refs/changes/29/820029/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'test/unit/common/test_wsgi.py', 'swift/common/internal_client.py']",3,2a715977f9afe74e17cfe941d8d9f0c051be7793,p-internal-client-log-name," allow_modify_pipeline=False, use_replication_network=False, global_conf=None): self.app = loadapp(conf_path, global_conf=global_conf, allow_modify_pipeline=allow_modify_pipeline,)"," allow_modify_pipeline=False, use_replication_network=False): self.app = loadapp(conf_path, allow_modify_pipeline=allow_modify_pipeline)",72,23
openstack%2Ftripleo-ci~master~Ifbe1143cdc473704a25af32c185a111280238ead,openstack/tripleo-ci,master,Ifbe1143cdc473704a25af32c185a111280238ead,Removing fwupd-redfish.conf file from overcloud images,ABANDONED,2022-01-06 13:45:03.000000000,2022-01-10 06:14:07.000000000,,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 13:45:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/9bf5a9c170e80e575770bc564805f2c2ca32b834', 'message': ""[DNM] Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 2, 'created': '2022-01-06 16:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/415aa0d09615530c548f533e51b2576644a08f27', 'message': ""[DNM] Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 3, 'created': '2022-01-06 16:42:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d7bafac7784269ba5325ff5c065aa79cfbf1e2bc', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 4, 'created': '2022-01-06 17:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dfa887eb09ddff051693a269c07058c806d52203', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 5, 'created': '2022-01-06 19:11:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ce4abcdc4777c90ba25494cbe3ced828e80caac0', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 6, 'created': '2022-01-06 20:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ca3594ce79cfce3853e1a41c524c1d2d4753dbf1', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 7, 'created': '2022-01-06 20:52:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/ccbcef2b42e8eb3039dc537fd2cc6a6aa68e95a9', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 8, 'created': '2022-01-06 21:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/8664f859b8ed3782a7127cc6f486cc0a62ff566d', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 9, 'created': '2022-01-06 22:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/710f710bd5eb83bf1ca2ec2af3c7fe23d36408ee', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}, {'number': 10, 'created': '2022-01-06 22:53:13.000000000', 'files': ['roles/oooci-build-images/tasks/remove_redfish.yaml', 'roles/oooci-build-images/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/f5f0a8b5f07cf1a66819ed2dfacb41090b5d2a82', 'message': ""Removing fwupd-redfish.conf file from overcloud images\n\nRemoving fwupd-redfish.conf file is workaround for the related\nbug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.\nThis file leads systemd-modules-load service in failed state.\n\nThis is workaround for related bug.\n\nRelated-Bug: #1956441\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\nChange-Id: Ifbe1143cdc473704a25af32c185a111280238ead\n""}]",2,823694,f5f0a8b5f07cf1a66819ed2dfacb41090b5d2a82,19,4,10,30750,,,0,"Removing fwupd-redfish.conf file from overcloud images

Removing fwupd-redfish.conf file is workaround for the related
bug. The 'ipmi_si' module is defined in fwupd-redfish.conf file.
This file leads systemd-modules-load service in failed state.

This is workaround for related bug.

Related-Bug: #1956441
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
Change-Id: Ifbe1143cdc473704a25af32c185a111280238ead
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/94/823694/8 && git format-patch -1 --stdout FETCH_HEAD,['roles/oooci-build-images/tasks/image_sanity.yaml'],1,9bf5a9c170e80e575770bc564805f2c2ca32b834,," # TODO akahat Remove once lp https://bugs.launchpad.net/tripleo/+bug/1956441 fixed. - name: Remove fwupd-redfish.conf file shell: | virt-customize -a overcloud-full.qcow2 --run-command 'rm -f /usr/lib/modules-load.d/fwupd-redfish.conf' args: chdir: ""{{ workspace }}"" environment: LIBGUESTFS_BACKEND_SETTINGS: force_tcg LIBGUESTFS_BACKEND: direct changed_when: true ",,12,0
openstack%2Fsenlin-dashboard~master~I158fd0e80a95c426ccf90f5336c2caf33c48a84a,openstack/senlin-dashboard,master,I158fd0e80a95c426ccf90f5336c2caf33c48a84a,[DNM] Test Doc job,ABANDONED,2021-12-23 05:50:09.000000000,2022-01-10 04:48:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-23 05:50:09.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/senlin-dashboard/commit/8467d2d2f4c58116344b1d903d3f197260b807e5', 'message': '[DNM] Test Doc job\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/822212\nChange-Id: I158fd0e80a95c426ccf90f5336c2caf33c48a84a\n'}]",0,822777,8467d2d2f4c58116344b1d903d3f197260b807e5,3,1,1,29313,,,0,"[DNM] Test Doc job

Depends-On: https://review.opendev.org/c/openstack/horizon/+/822212
Change-Id: I158fd0e80a95c426ccf90f5336c2caf33c48a84a
",git fetch https://review.opendev.org/openstack/senlin-dashboard refs/changes/77/822777/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,8467d2d2f4c58116344b1d903d3f197260b807e5,, ,,1,0
openstack%2Fcinder~stable%2Fxena~I105395153c57fa1bfa60f8a674b067d74501d4c5,openstack/cinder,stable/xena,I105395153c57fa1bfa60f8a674b067d74501d4c5,DNM: test Xena branch with NetApp CI,ABANDONED,2021-10-18 02:05:14.000000000,2022-01-10 02:28:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-18 02:05:14.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/cinder/commit/510fe13ee28510613263ffcab21876e07a229a94', 'message': 'DNM: test Xena branch with NetApp CI\n\nChange-Id: I105395153c57fa1bfa60f8a674b067d74501d4c5\n'}]",5,814333,510fe13ee28510613263ffcab21876e07a229a94,27,1,1,31721,,,0,"DNM: test Xena branch with NetApp CI

Change-Id: I105395153c57fa1bfa60f8a674b067d74501d4c5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/33/814333/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,510fe13ee28510613263ffcab21876e07a229a94,,,,0,0
openstack%2Fcinder~master~I8109997e74472d3dc59e39dd51e1d69a99606b10,openstack/cinder,master,I8109997e74472d3dc59e39dd51e1d69a99606b10,DNM: test NetApp CI,ABANDONED,2021-10-15 18:52:18.000000000,2022-01-10 02:28:50.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-15 18:52:18.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/cinder/commit/2e466045ad254e5fdb287b048124bddb9931f97e', 'message': 'DNM: test NetApp CI\n\nChange-Id: I8109997e74472d3dc59e39dd51e1d69a99606b10\n'}]",2,814214,2e466045ad254e5fdb287b048124bddb9931f97e,30,2,1,31721,,,0,"DNM: test NetApp CI

Change-Id: I8109997e74472d3dc59e39dd51e1d69a99606b10
",git fetch https://review.opendev.org/openstack/cinder refs/changes/14/814214/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,2e466045ad254e5fdb287b048124bddb9931f97e,,,,0,0
openstack%2Ftripleo-ci~master~I886aa2d68ec8428ea650fa1c22d1cb60f328eb02,openstack/tripleo-ci,master,I886aa2d68ec8428ea650fa1c22d1cb60f328eb02,WIP: Exclude fwupd-1.7.1-1 from  tripleo-repos,ABANDONED,2022-01-07 00:01:03.000000000,2022-01-09 15:18:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-07 00:01:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5cadc4a48469b680494e868f2d286e76a2a1cc8', 'message': 'WIP: Exclude fwupd-1.7.1-1 from  tripleo-repos\n\nThis should exclude the rpm from build-images.\n\nChange-Id: I886aa2d68ec8428ea650fa1c22d1cb60f328eb02\nRelated-Bug: #1956441\n'}, {'number': 2, 'created': '2022-01-07 00:03:31.000000000', 'files': ['roles/tripleo-repos/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c9fe3261820d4a166f31e0785156340415578634', 'message': 'WIP: Exclude fwupd-1.7.1-1 from  tripleo-repos\n\nThis should exclude the rpm from build-images.\n\nChange-Id: I886aa2d68ec8428ea650fa1c22d1cb60f328eb02\nRelated-Bug: #1956441\n'}]",0,823737,c9fe3261820d4a166f31e0785156340415578634,5,2,2,9976,,,0,"WIP: Exclude fwupd-1.7.1-1 from  tripleo-repos

This should exclude the rpm from build-images.

Change-Id: I886aa2d68ec8428ea650fa1c22d1cb60f328eb02
Related-Bug: #1956441
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/37/823737/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-repos/tasks/main.yml'],1,d5cadc4a48469b680494e868f2d286e76a2a1cc8,exclude-fwupd,"# TODO: rlandy - Remove when LP #1956441 is fixed - name: Exclude libvirt/qemu from BaseOS repo become: true lineinfile: dest: /etc/yum.repos.d/CentOS-Stream-BaseOS.repo line: ""exclude=wupd-1.7.1*"" when: - ansible_distribution == 'CentOS' - ansible_distribution_major_version|int == 8 ",,10,0
openstack%2Ftripleo-quickstart~master~I79d65d0b5d4ff3dd60aca4d491799c1e7cfa19f7,openstack/tripleo-quickstart,master,I79d65d0b5d4ff3dd60aca4d491799c1e7cfa19f7,WIP: Exclude fwupd-1.7.1-1 from  baseos repo,ABANDONED,2022-01-07 00:04:56.000000000,2022-01-09 15:18:39.000000000,,"[{'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-07 00:04:56.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/362d12c7735f48be6435a1a0936ddeea578d2a7c', 'message': 'WIP: Exclude fwupd-1.7.1-1 from  baseos repo\n\nThis should exclude the rpm from build-images\nand updates.\n\nChange-Id: I79d65d0b5d4ff3dd60aca4d491799c1e7cfa19f7\nRelated-Bug: #1956441\n'}]",1,823738,362d12c7735f48be6435a1a0936ddeea578d2a7c,7,3,1,9976,,,0,"WIP: Exclude fwupd-1.7.1-1 from  baseos repo

This should exclude the rpm from build-images
and updates.

Change-Id: I79d65d0b5d4ff3dd60aca4d491799c1e7cfa19f7
Related-Bug: #1956441
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/38/823738/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/promotion-testing-hash-master.yml'],1,362d12c7735f48be6435a1a0936ddeea578d2a7c,exclude-fwupd, exclude: - fwupd-1.7.1*,,2,0
openstack%2Fskyline-console~master~Ic7ff74641da63c236e27a146b6f1ab712a780f49,openstack/skyline-console,master,Ic7ff74641da63c236e27a146b6f1ab712a780f49,refact: Refact Monitor page,MERGED,2021-12-28 10:26:29.000000000,2022-01-09 14:02:28.000000000,2022-01-09 14:02:28.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-12-28 10:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c56932ad7558c6b45f910e30f054f07600bb98d0', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 2, 'created': '2021-12-29 11:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8125a26ba7ad4d966ce4e2f3f1ab44b3b42711a9', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 3, 'created': '2022-01-03 16:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/73802a9d7208663d3751e3c318c2c4054b6e471b', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 4, 'created': '2022-01-05 08:14:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/afc336d1d2c5d2100323743cf126c706a4a52ec9', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 5, 'created': '2022-01-05 11:35:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/674b7fb71f5ac8fabae14d659d5a896e80ef4497', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 6, 'created': '2022-01-06 05:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b7c53618d6036977f7af569178f75024cd67e856', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 7, 'created': '2022-01-06 06:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d27de6bcc63f451bdd88051616d7876ce1fbdabd', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 8, 'created': '2022-01-06 06:45:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/fa83f5099d70e397f795fc99653681cf5af8d586', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 9, 'created': '2022-01-06 06:59:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a68b251a709ce7ae8f81b2315638262f792044e0', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 10, 'created': '2022-01-07 01:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/187d668a2ce4f123caf0454a58cb02ef681f9868', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 11, 'created': '2022-01-07 07:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/102efc853bced93753ed315c68ece80dd89789ef', 'message': '[refact]WIP\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 12, 'created': '2022-01-09 05:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/175538a5b46e1b32ea8f005affc5e3d8b0b8f3cc', 'message': 'refact: Refact Monitor page\n\nrefact monitor page\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 13, 'created': '2022-01-09 07:31:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/407e43600f8aa925dfdf2855f3a84d297dcd5348', 'message': 'refact: Refact Monitor page\n\nrefact monitor page\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}, {'number': 14, 'created': '2022-01-09 09:09:54.000000000', 'files': ['src/components/PrometheusChart/utils/index.js', 'src/pages/monitor/containers/Overview/components/AlertInfo/components/AlertChart.jsx', 'src/pages/monitor/containers/Overview/components/Tops/index.jsx', 'src/pages/monitor/containers/OtherService/components/Mysql/Charts.jsx', 'src/pages/monitor/containers/StorageCluster/TabTable.jsx', 'src/pages/monitor/containers/StorageCluster/index.jsx', '.eslintrc', 'src/resources/metricDict.js', 'src/components/PrometheusChart/utils/fetchNodes.js', 'src/pages/monitor/containers/PhysicalNode/index.less', 'src/pages/monitor/containers/OtherService/components/Memcache/index.jsx', 'src/components/PrometheusChart/component/Charts.jsx', 'src/pages/monitor/containers/OpenstackService/Services.jsx', 'src/pages/monitor/containers/Overview/components/StorageClusterMonitor/StorageClusterChart.jsx', 'src/pages/monitor/containers/Overview/components/ClusterMonitor/ClusterCard.jsx', 'src/pages/monitor/containers/PhysicalNode/index.jsx', 'src/components/PrometheusChart/store/BaseMonitorStore.js', 'src/pages/monitor/containers/Overview/config.jsx', 'src/components/PrometheusChart/component/styles.less', 'src/pages/monitor/containers/Overview/components/Tops/TopCard.jsx', 'src/components/PrometheusChart/component/context.js', 'src/stores/prometheus/monitor-base.js', 'src/components/PrometheusChart/BaseCard.jsx', 'src/pages/monitor/containers/Overview/components/StorageClusterMonitor/StorageClusterCard.jsx', 'src/pages/monitor/containers/OpenstackService/index.jsx', 'src/pages/monitor/containers/Overview/components/ClusterMonitor/ClusterChart.jsx', 'src/components/PrometheusChart/component/Intervals.jsx', 'src/components/PrometheusChart/component/hooks/useRangeSelect.jsx', 'src/components/PrometheusChart/component/BaseContent.jsx', 'src/pages/monitor/containers/PhysicalNode/Charts.jsx', 'src/pages/monitor/containers/OtherService/components/Mysql/index.jsx', 'src/pages/monitor/containers/OtherService/components/RabbitMQ/Charts.jsx', 'src/components/PrometheusChart/component/hooks/useIntervals.jsx', 'src/components/PrometheusChart/component/NodeSelect.jsx', 'src/pages/monitor/containers/Overview/index.less', 'src/pages/monitor/containers/OtherService/components/RabbitMQ/index.jsx', 'src/core/index.jsx', 'src/pages/monitor/containers/StorageCluster/RenderTabs.jsx', 'src/components/PrometheusChart/ChartCard.jsx', 'src/pages/monitor/containers/OtherService/components/Memcache/Charts.jsx', 'src/stores/prometheus/openstack-service.js', 'src/components/PrometheusChart/utils/utils.js', 'src/components/PrometheusChart/component/index.less', 'src/pages/monitor/containers/Overview/components/AlertInfo/index.jsx', 'src/pages/monitor/containers/Overview/index.jsx', 'src/components/PrometheusChart/component/hooks/useNodeSelect.jsx', 'src/pages/monitor/containers/StorageCluster/Charts.jsx', 'src/components/PrometheusChart/style.less', 'src/pages/monitor/containers/OpenstackService/index.less', 'src/components/PrometheusChart/component/TimeRangeSelect.jsx', 'src/components/PrometheusChart/store/FetchPrometheusStore.js'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/656ccfc9f6fb02502d1605794b09b59c5abcf053', 'message': 'refact: Refact Monitor page\n\nrefact monitor page\n\nChange-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49\n'}]",3,823075,656ccfc9f6fb02502d1605794b09b59c5abcf053,35,2,14,33636,,,0,"refact: Refact Monitor page

refact monitor page

Change-Id: Ic7ff74641da63c236e27a146b6f1ab712a780f49
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/75/823075/4 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/Test/index.tsx', 'src/components/Test/hooks/useHandleData.ts', 'src/components/Test/style.less', 'src/components/Test/types.ts']",4,c56932ad7558c6b45f910e30f054f07600bb98d0,refact,import { CardProps } from 'antd'; import { Moment } from 'moment'; import React from 'react'; import FetchPrometheusStore from '../PrometheusChart/store/FetchPrometheusStore'; type RequestType = 'current' | 'range'; export interface IFetchPrometheusStore { requestType: RequestType; metricKey: string; } export interface IHandleDataParams { formatDataFn: Function; typeKey: string; deviceKey: string; modifyKeys: Array<string>; } export interface IFetchDataParams { params: Object; currentRange: Array<Moment>; interval: number; } export interface IBaseCardProps { fetchDataParams: IFetchDataParams; handleDataParams: IHandleDataParams; title: string; extra: Function; visibleHeight: number; } export interface IPrometheusChartContext { data: Array<any>; loading: Boolean; } export interface IChartCardProps { extra: (store: FetchPrometheusStore) => React.ReactNode | HTMLElement; device: string; devices: Array<string>; setDevice: (device: string) => void; } ,,152,0
openstack%2Fkolla~stable%2Fwallaby~Ifc815764058238dc90d50d33eea92aa740e28e3e,openstack/kolla,stable/wallaby,Ifc815764058238dc90d50d33eea92aa740e28e3e,DNM: Check CI,ABANDONED,2021-12-22 14:24:34.000000000,2022-01-09 11:04:30.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-22 14:24:34.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ec466d962aabfd55350d3091d1d2a1b247104a3a', 'message': 'DNM: Check CI\n\nChange-Id: Ifc815764058238dc90d50d33eea92aa740e28e3e\n'}]",1,822677,ec466d962aabfd55350d3091d1d2a1b247104a3a,7,1,1,13252,,,0,"DNM: Check CI

Change-Id: Ifc815764058238dc90d50d33eea92aa740e28e3e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/77/822677/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,ec466d962aabfd55350d3091d1d2a1b247104a3a,ci-test-stable/wallaby,# TEST,,1,0
openstack%2Fkolla~stable%2Fvictoria~Ifc815764058238dc90d50d33eea92aa740e28e3e,openstack/kolla,stable/victoria,Ifc815764058238dc90d50d33eea92aa740e28e3e,DNM: Check CI,ABANDONED,2021-12-22 11:46:18.000000000,2022-01-09 11:04:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-22 11:46:18.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6ee1954f4035010a14665a7888b23ad1256cfd6c', 'message': 'DNM: Check CI\n\nChange-Id: Ifc815764058238dc90d50d33eea92aa740e28e3e\n'}]",1,822657,6ee1954f4035010a14665a7888b23ad1256cfd6c,7,1,1,13252,,,0,"DNM: Check CI

Change-Id: Ifc815764058238dc90d50d33eea92aa740e28e3e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/57/822657/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,6ee1954f4035010a14665a7888b23ad1256cfd6c,ci-test,# TEST,,1,0
openstack%2Fkolla~stable%2Fvictoria~I112c0ea510aad80f28fc3f8a9f04cdf09c924b18,openstack/kolla,stable/victoria,I112c0ea510aad80f28fc3f8a9f04cdf09c924b18,Workaround setuptools related breakages,ABANDONED,2021-12-22 18:27:48.000000000,2022-01-09 11:03:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-22 18:27:48.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/23a4f3492a50fefe600289b899c02c0d736476f1', 'message': 'Workaround setuptools related breakages\n\nNot sure yet how this is working.\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I112c0ea510aad80f28fc3f8a9f04cdf09c924b18\n(cherry picked from commit b69c58971895a6ab8a23bcdc4b7b56d01f26e2f5)\n'}]",2,822679,23a4f3492a50fefe600289b899c02c0d736476f1,7,1,1,13252,,,0,"Workaround setuptools related breakages

Not sure yet how this is working.

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I112c0ea510aad80f28fc3f8a9f04cdf09c924b18
(cherry picked from commit b69c58971895a6ab8a23bcdc4b7b56d01f26e2f5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/822679/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,23a4f3492a50fefe600289b899c02c0d736476f1,sledgehammer-setuptools-stable/victoria,{# NOTE(frickler): sledgehammer workaround until pkgs are updated to build with setuptools==60.0.0 properly #} ENV SETUPTOOLS_USE_DISTUTILS=stdlib ,,3,0
openstack%2Fkolla~stable%2Fxena~I112c0ea510aad80f28fc3f8a9f04cdf09c924b18,openstack/kolla,stable/xena,I112c0ea510aad80f28fc3f8a9f04cdf09c924b18,Workaround setuptools==60.0.0 breakages,ABANDONED,2021-12-22 14:21:31.000000000,2022-01-09 11:03:04.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-22 14:21:31.000000000', 'files': ['docker/base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/602578976e0da1377e71dfe62083a2f727a8c0a3', 'message': ""Workaround setuptools==60.0.0 breakages\n\nSetuptools 60.0.0 is trying to use it's own distutils[0]. Once again.\nUse the workaround they propose until all pkgs we need have fixed their\nbuild processes.\n\n[0] https://github.com/pypa/setuptools/blob/main/CHANGES.rst#v6000\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I112c0ea510aad80f28fc3f8a9f04cdf09c924b18\n(cherry picked from commit b69c58971895a6ab8a23bcdc4b7b56d01f26e2f5)\n""}]",4,822676,602578976e0da1377e71dfe62083a2f727a8c0a3,9,2,1,13252,,,0,"Workaround setuptools==60.0.0 breakages

Setuptools 60.0.0 is trying to use it's own distutils[0]. Once again.
Use the workaround they propose until all pkgs we need have fixed their
build processes.

[0] https://github.com/pypa/setuptools/blob/main/CHANGES.rst#v6000

Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I112c0ea510aad80f28fc3f8a9f04cdf09c924b18
(cherry picked from commit b69c58971895a6ab8a23bcdc4b7b56d01f26e2f5)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/76/822676/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/Dockerfile.j2'],1,602578976e0da1377e71dfe62083a2f727a8c0a3,sledgehammer-setuptools-stable/xena,{# NOTE(frickler): sledgehammer workaround until pkgs are updated to build with setuptools==60.0.0 properly #} ENV SETUPTOOLS_USE_DISTUTILS=stdlib ,,3,0
openstack%2Fopenstack-helm~master~I56b37b0e936a504df808f59afc682ff52d6db852,openstack/openstack-helm,master,I56b37b0e936a504df808f59afc682ff52d6db852,neutron: clean-up /var/lib/neutron/ipsec,ABANDONED,2022-01-09 04:46:39.000000000,2022-01-09 06:37:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-09 04:46:39.000000000', 'files': ['neutron/templates/bin/_neutron-l3-agent-init.sh.tpl', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/843315e1aa8e7c9e1ed80dbe9368ac49192ddd19', 'message': ""neutron: clean-up /var/lib/neutron/ipsec\n\nWhen using StrongSwan, it's possible that the agents fail to start\nbecause `/var/lib/neutron/ipsec` contains PID files which have not\nbeen deleted from the previous pod.  This can cause the StrongSwan\nagent to fail to start up.\n\nThis patch adds a small clean up to make sure that folder is 100%\nclean before the L3 agent starts up.\n\nChange-Id: I56b37b0e936a504df808f59afc682ff52d6db852\n""}]",0,823898,843315e1aa8e7c9e1ed80dbe9368ac49192ddd19,3,1,1,1004,,,0,"neutron: clean-up /var/lib/neutron/ipsec

When using StrongSwan, it's possible that the agents fail to start
because `/var/lib/neutron/ipsec` contains PID files which have not
been deleted from the previous pod.  This can cause the StrongSwan
agent to fail to start up.

This patch adds a small clean up to make sure that folder is 100%
clean before the L3 agent starts up.

Change-Id: I56b37b0e936a504df808f59afc682ff52d6db852
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/98/823898/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/bin/_neutron-l3-agent-init.sh.tpl', 'neutron/Chart.yaml', 'releasenotes/notes/neutron.yaml']",3,843315e1aa8e7c9e1ed80dbe9368ac49192ddd19,, - 0.2.11 Clean-up `/var/lib/neutron/ipsec` directory,...,6,2
openstack%2Fneutron-vpnaas~master~I1a0bcb93fed721fbdebfbccf07356be1e7e0bef1,openstack/neutron-vpnaas,master,I1a0bcb93fed721fbdebfbccf07356be1e7e0bef1,Ensure charon.ctl exists before starting,ABANDONED,2022-01-09 05:19:00.000000000,2022-01-09 06:28:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-09 05:19:00.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/f12da4f79e6b37c31203d11318830630b4ac4ad3', 'message': 'Ensure charon.ctl exists before starting\n\nIt is possible that IPsec is not up right away as it takes a few\nseconds to start up which can result in the `up-nb` command failing\nsince the `charon.ctl` socket is not up right away.\n\nThis patch adds a check to make sure the `charon.ctl` file exists\nbefore it proceed.\n\nChange-Id: I1a0bcb93fed721fbdebfbccf07356be1e7e0bef1\n'}]",0,823899,f12da4f79e6b37c31203d11318830630b4ac4ad3,3,1,1,1004,,,0,"Ensure charon.ctl exists before starting

It is possible that IPsec is not up right away as it takes a few
seconds to start up which can result in the `up-nb` command failing
since the `charon.ctl` socket is not up right away.

This patch adds a check to make sure the `charon.ctl` file exists
before it proceed.

Change-Id: I1a0bcb93fed721fbdebfbccf07356be1e7e0bef1
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/99/823899/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/strongswan_ipsec.py'],1,f12da4f79e6b37c31203d11318830630b4ac4ad3,,"import eventlet # NOTE(mnaser): It is possible that it takes a little bit for the # IPsec process to start so we want to make sure that # the `charon.ctl` file exists before we continue. for i in range(30): if os.path.exists(""%s/charon.ctl"" % self._strongswan_piddir): break eventlet.sleep(1) ",,10,0
openstack%2Fdesignate~master~Ic135ec09a0517e6ea981faea6c7ec3e8aef583d4,openstack/designate,master,Ic135ec09a0517e6ea981faea6c7ec3e8aef583d4,[WIP] Tests fix,ABANDONED,2022-01-02 04:06:09.000000000,2022-01-09 03:57:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-02 04:06:09.000000000', 'files': ['designate/central/service.py', 'designate/tests/test_central/test_service.py', 'designate/tests/test_api/test_v2/test_floatingips.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/91cace38e3212e60c7ef6de37fd5745283c8fc66', 'message': '[WIP] Tests fix\n\nChange-Id: Ic135ec09a0517e6ea981faea6c7ec3e8aef583d4\n'}]",0,823224,91cace38e3212e60c7ef6de37fd5745283c8fc66,3,1,1,22623,,,0,"[WIP] Tests fix

Change-Id: Ic135ec09a0517e6ea981faea6c7ec3e8aef583d4
",git fetch https://review.opendev.org/openstack/designate refs/changes/24/823224/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/central/service.py', 'designate/tests/test_api/test_v2/test_floatingips.py', 'designate/tests/test_central/test_service.py']",3,91cace38e3212e60c7ef6de37fd5745283c8fc66,central," zone_id = self.central_service.find_record( elevated_a, criterion).zone_id # Simulate the update on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Simulate the invalidation on the backend zone_serial = self.central_service.get_zone( elevated_a, zone_id).serial self.central_service.update_status( elevated_a, zone_id, ""SUCCESS"", zone_serial) # Ensure that the old record for tenant a for the fip now owned by # tenant b is gone exc = self.assertRaises(rpc_dispatcher.ExpectedException, self.central_service.find_record, elevated_a, criterion) self.assertEqual(exceptions.RecordNotFound, exc.exc_info[0])"," record = self.central_service.find_record(elevated_a, criterion) self.assertEqual('DELETE', record.action) self.assertEqual('PENDING', record.status)",59,20
openstack%2Fdesignate~master~I3c7334984f86bf15a60918448e9e7d8a5730e296,openstack/designate,master,I3c7334984f86bf15a60918448e9e7d8a5730e296,[DNM] Testing,ABANDONED,2022-01-05 02:19:25.000000000,2022-01-09 03:57:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-05 02:19:25.000000000', 'files': ['designate/storage/impl_sqlalchemy/tables.py', 'designate/central/service.py', 'designate/storage/impl_sqlalchemy/__init__.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/e104286ba742f1721615728c5f7af7035a860ae2', 'message': '[DNM] Testing\n\nChange-Id: I3c7334984f86bf15a60918448e9e7d8a5730e296\n'}]",0,823443,e104286ba742f1721615728c5f7af7035a860ae2,3,1,1,22623,,,0,"[DNM] Testing

Change-Id: I3c7334984f86bf15a60918448e9e7d8a5730e296
",git fetch https://review.opendev.org/openstack/designate refs/changes/43/823443/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/tables.py', 'designate/central/service.py', 'designate/storage/impl_sqlalchemy/__init__.py']",3,e104286ba742f1721615728c5f7af7035a860ae2,testing," {'serial': tables.zones.c.serial + 1, 'increment_serial': False}","from oslo_utils import timeutils {'serial': timeutils.utcnow_ts(), 'increment_serial': False}",4,5
openstack%2Frequirements~master~I6bc5ae1f6a26a84846ac7caa8d652dd240e50f60,openstack/requirements,master,I6bc5ae1f6a26a84846ac7caa8d652dd240e50f60,Updated from generate-constraints,ABANDONED,2022-01-09 02:50:19.000000000,2022-01-09 03:20:02.000000000,,[],"[{'number': 1, 'created': '2022-01-09 02:50:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8f070f7ce48aac04c77e3149bfc05f23ce658fde', 'message': 'Updated from generate-constraints\n\nChange-Id: I6bc5ae1f6a26a84846ac7caa8d652dd240e50f60\n'}]",0,823897,8f070f7ce48aac04c77e3149bfc05f23ce658fde,3,0,1,11131,,,0,"Updated from generate-constraints

Change-Id: I6bc5ae1f6a26a84846ac7caa8d652dd240e50f60
",git fetch https://review.opendev.org/openstack/requirements refs/changes/97/823897/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8f070f7ce48aac04c77e3149bfc05f23ce658fde,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1types-paramiko===2.8.8paramiko===2.9.2pkg_resources===0.0.0django-compressor===3.1pysaml2===7.1.0types-cryptography===3.3.12rjsmin===1.2.0fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0types-paramiko===2.8.7paramiko===2.8.1django-compressor===2.4.1pysaml2===7.0.1types-cryptography===3.3.11rjsmin===1.1.0fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.3.1;python_version=='3.8',10,11
openstack%2Felection~master~I24cab80afab5a8c63cbe5a33f077a729411695d6,openstack/election,master,I24cab80afab5a8c63cbe5a33f077a729411695d6,corrected email,MERGED,2022-01-04 18:34:53.000000000,2022-01-09 00:39:55.000000000,2022-01-09 00:38:41.000000000,"[{'_account_id': 14482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 18:34:53.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/election/commit/704c0bf7ef0871abbcffed8f97e88787cce8fb52', 'message': 'corrected email\n\nCorrected my email address\n\nChange-Id: I24cab80afab5a8c63cbe5a33f077a729411695d6\n'}]",1,823421,704c0bf7ef0871abbcffed8f97e88787cce8fb52,7,2,1,15993,,,0,"corrected email

Corrected my email address

Change-Id: I24cab80afab5a8c63cbe5a33f077a729411695d6
",git fetch https://review.opendev.org/openstack/election refs/changes/21/823421/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,704c0bf7ef0871abbcffed8f97e88787cce8fb52,email,"* Amy Marrich (spotz), amy at demarco dot com","* Amy Marrich (spotz), spotz at demarco dot com",1,1
openstack%2Fkolla-ansible~master~Id454c693f570e99ea58d2a6231f01a84b80ca56a,openstack/kolla-ansible,master,Id454c693f570e99ea58d2a6231f01a84b80ca56a,Add ironic-inspector policy configuration,MERGED,2021-12-01 19:22:11.000000000,2022-01-08 22:57:39.000000000,2021-12-30 15:22:33.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-01 19:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e9900f0acf568ad43cca0ffb05bb6c1fa28bb04e', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 2, 'created': '2021-12-01 19:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b900d274671b13383949e9ad8bda7e0f2ca04004', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 3, 'created': '2021-12-01 19:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/885555449ccf7accb565f62784e8c5fff70819bd', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 4, 'created': '2021-12-01 19:28:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/76fc33c748d17746d9a49f7785dd6e679c6608b6', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 5, 'created': '2021-12-02 13:17:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2d8545ab2d9d2117db9dab39651d247da433d80a', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 6, 'created': '2021-12-02 13:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f477be08ce5ef69c4381e84cad09b7aeee28099', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 7, 'created': '2021-12-03 10:02:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df6895153e40a1c9f45152ebbc8be66544904292', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 8, 'created': '2021-12-03 10:09:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/07109f4d563ff43468cc252ac8d0d84bd634557d', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 9, 'created': '2021-12-03 10:42:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6691eae89419dbaaa21abbfdfea29573f4dedd81', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 10, 'created': '2021-12-03 12:10:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1485be629969295921f98b622b70f9e304d4ad8b', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 11, 'created': '2021-12-06 19:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/eace8e32375f70a98a3aa56e5f12e15d340ab066', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 12, 'created': '2021-12-07 07:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/64d745fbdc182cb00a741d8cc0aafe2621ae04f3', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}, {'number': 13, 'created': '2021-12-22 10:50:12.000000000', 'files': ['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/590cd71893b853f2ccc36a5e3cfe6be9e0702c74', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n'}]",26,820063,590cd71893b853f2ccc36a5e3cfe6be9e0702c74,48,4,13,23871,,,0,"Add ironic-inspector policy configuration

Fix configuration for ironic role in order to apply custom
policies for ironic-inspector API

Closes-Bug: #1952948
Change-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/63/820063/8 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ironic/tasks/config.yml'],1,e9900f0acf568ad43cca0ffb05bb6c1fa28bb04e,ironic-inspector-policy," - ""{{ node_custom_config }}/ironic/inspector"" ",,1,0
openstack%2Fpuppet-nova~master~I217e20e3d10fecffd3fb8654f047a7e285331723,openstack/puppet-nova,master,I217e20e3d10fecffd3fb8654f047a7e285331723,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-06 04:38:32.000000000,2022-01-08 19:11:06.000000000,2022-01-08 19:09:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 04:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/886c56590abcd4455a3effd39c25acbc28430b6e', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I217e20e3d10fecffd3fb8654f047a7e285331723\n'}, {'number': 2, 'created': '2022-01-06 04:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/108ddc2bd3fca1bc180a4ef3365c1d232bcdfc1d', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I217e20e3d10fecffd3fb8654f047a7e285331723\n'}, {'number': 3, 'created': '2022-01-06 06:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/21de0ae1737767b38dff7e91aeada746ebbfaa56', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I217e20e3d10fecffd3fb8654f047a7e285331723\n'}, {'number': 4, 'created': '2022-01-06 23:29:26.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-887eb51cb8e9efce.yaml', 'spec/classes/nova_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/nova_key_manager_barbican_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3453611d08ca802e6d18fefab450aee0e427fda9', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I217e20e3d10fecffd3fb8654f047a7e285331723\n'}]",4,823620,3453611d08ca802e6d18fefab450aee0e427fda9,24,4,4,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I217e20e3d10fecffd3fb8654f047a7e285331723
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/20/823620/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-887eb51cb8e9efce.yaml', 'spec/classes/nova_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/nova_key_manager_barbican_service_user_spec.rb']",5,886c56590abcd4455a3effd39c25acbc28430b6e,barbican-service_user,"require 'spec_helper' describe 'nova::key_manager::barbican::service_user' do shared_examples 'nova::key_manager::barbican::service_user' do let :params do { :password => 'secret' } end context 'with default parameters' do it { is_expected.to contain_oslo__key_manager__barbican__service_user('nova_config').with( :username => 'nova', :password => 'secret', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_type => 'password', :auth_version => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :region_name => '<SERVICE DEFAULT>', ) } end context 'with specified parameters' do before :each do params.merge!({ :username => 'alt_nova', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', }) end it { is_expected.to contain_oslo__key_manager__barbican__service_user('nova_config').with( :username => 'alt_nova', :password => 'secret', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', ) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_behaves_like 'nova::key_manager::barbican::service_user' end end end ",,225,35
openstack%2Fcyborg~master~I0e5058d521bd2853700ac7b9e4cd17f700e08ba9,openstack/cyborg,master,I0e5058d521bd2853700ac7b9e4cd17f700e08ba9,Fix missing model of inspur's FPGA,MERGED,2022-01-08 02:03:39.000000000,2022-01-08 10:43:13.000000000,2022-01-08 10:41:53.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-01-08 02:03:39.000000000', 'files': ['cyborg/accelerator/drivers/fpga/inspur/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/77a5b390ad9925de4ee976acb657d31aae0e3ff2', 'message': ""Fix missing model of inspur's FPGA\n\nThis patch modifies incorrect variable 'name' with 'model'.\n\nChange-Id: I0e5058d521bd2853700ac7b9e4cd17f700e08ba9\n""}]",1,823880,77a5b390ad9925de4ee976acb657d31aae0e3ff2,7,4,1,23950,,,0,"Fix missing model of inspur's FPGA

This patch modifies incorrect variable 'name' with 'model'.

Change-Id: I0e5058d521bd2853700ac7b9e4cd17f700e08ba9
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/80/823880/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/accelerator/drivers/fpga/inspur/sysinfo.py'],1,77a5b390ad9925de4ee976acb657d31aae0e3ff2,fix-missing-model," r""(?P<controller>.*) [\[].*]: (?P<model>.*) .*"""," r""(?P<controller>.*) [\[].*]: (?P<name>.*) .*""",1,1
openstack%2Fpuppet-tripleo~master~Ibdaf0ce1f0b03de19015bee61ff60cdb9c3b6ba0,openstack/puppet-tripleo,master,Ibdaf0ce1f0b03de19015bee61ff60cdb9c3b6ba0,ironic-inspector: Allow arbitrary configurations,MERGED,2022-01-06 02:18:16.000000000,2022-01-08 10:17:52.000000000,2022-01-08 10:17:52.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 02:18:16.000000000', 'files': ['manifests/profile/base/ironic_inspector.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/be5ca93a7c2e4932b84074e2fac8a75797789317', 'message': 'ironic-inspector: Allow arbitrary configurations\n\nThis change allows arbitrary configurations of inspector.conf, so that\nusers can customize the parameters even if these are not supported by\npuppet-ironic.\n\nDepends-on: https://review.opendev.org/823613\nChange-Id: Ibdaf0ce1f0b03de19015bee61ff60cdb9c3b6ba0\n'}]",2,823614,be5ca93a7c2e4932b84074e2fac8a75797789317,14,4,1,9816,,,0,"ironic-inspector: Allow arbitrary configurations

This change allows arbitrary configurations of inspector.conf, so that
users can customize the parameters even if these are not supported by
puppet-ironic.

Depends-on: https://review.opendev.org/823613
Change-Id: Ibdaf0ce1f0b03de19015bee61ff60cdb9c3b6ba0
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/14/823614/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/ironic_inspector.pp', 'spec/classes/tripleo_profile_base_ironic_inspector_spec.rb']",2,be5ca93a7c2e4932b84074e2fac8a75797789317,inspector-config, is_expected.to_not contain_class('ironic::inspector::config') is_expected.to contain_class('ironic::inspector::config') is_expected.to_not contain_class('ironic::inspector::config') is_expected.to contain_class('ironic::inspector::config'), is_expected.to_not contain_class('ironic::config') is_expected.to contain_class('ironic::config') is_expected.to_not contain_class('ironic::config') is_expected.to contain_class('ironic::config'),5,5
openstack%2Fpuppet-neutron~master~Ica6724b876850dee85d73bf3e8ee6e356ad1c597,openstack/puppet-neutron,master,Ica6724b876850dee85d73bf3e8ee6e356ad1c597,Deprecate support for [DEFAULT] allow_overlapping_ips,MERGED,2021-11-09 12:46:07.000000000,2022-01-08 08:24:50.000000000,2022-01-08 08:23:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 12:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2c887343160efe667c12bab2b4bfe46faf8f42df', 'message': 'Deprecate support for [DEFAULT] allow_overlapping_ips\n\n... because the parameter was already deprecated in neutron[1].\n\n[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be\n\nChange-Id: Ica6724b876850dee85d73bf3e8ee6e356ad1c597\n'}, {'number': 2, 'created': '2021-11-09 16:17:09.000000000', 'files': ['releasenotes/notes/deprecate-allow_overlapping_ips-3fc66888a00ee6a2.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/32dae92ecc263e6e5305d97bca6de758d4c3f6b1', 'message': 'Deprecate support for [DEFAULT] allow_overlapping_ips\n\n... because the parameter was already deprecated in neutron[1].\n\n[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be\n\nChange-Id: Ica6724b876850dee85d73bf3e8ee6e356ad1c597\n'}]",1,817199,32dae92ecc263e6e5305d97bca6de758d4c3f6b1,15,3,2,9816,,,0,"Deprecate support for [DEFAULT] allow_overlapping_ips

... because the parameter was already deprecated in neutron[1].

[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be

Change-Id: Ica6724b876850dee85d73bf3e8ee6e356ad1c597
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/99/817199/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-allow_overlapping_ips-3fc66888a00ee6a2.yaml', 'manifests/init.pp']",2,2c887343160efe667c12bab2b4bfe46faf8f42df,allow_overlapping_ips,"# [*allow_overlapping_ips*] # (optional) Enables network namespaces # Defaults to undef # $allow_overlapping_ips = undef, if $allow_overlapping_ips != undef { warning('The allow_overlapping_ips parameter is deprecated and \ will be removed in a future release.') } $allow_overlapping_ips_real = pick($allow_overlapping_ips, $::os_service_default) ","# [*allow_overlapping_ips*] # (optional) Enables network namespaces # Defaults to $::os_service_default # $allow_overlapping_ips = $::os_service_default,",16,5
openstack%2Fswift~master~I17638d469f704e106ce691bed51e879c736ce153,openstack/swift,master,I17638d469f704e106ce691bed51e879c736ce153,CI: Add rolling upgrade job coming from stable/xena,MERGED,2021-12-10 21:50:37.000000000,2022-01-08 07:53:35.000000000,2022-01-08 07:31:21.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 21:50:37.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/swift/commit/ac92b3d8d83385eb0652e7894cc36b4f732f0174', 'message': 'CI: Add rolling upgrade job coming from stable/xena\n\nChange-Id: I17638d469f704e106ce691bed51e879c736ce153\n'}]",9,821478,ac92b3d8d83385eb0652e7894cc36b4f732f0174,35,2,1,15343,,,0,"CI: Add rolling upgrade job coming from stable/xena

Change-Id: I17638d469f704e106ce691bed51e879c736ce153
",git fetch https://review.opendev.org/openstack/swift refs/changes/78/821478/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ac92b3d8d83385eb0652e7894cc36b4f732f0174,, name: swift-multinode-rolling-upgrade-xena parent: swift-multinode-rolling-upgrade vars: previous_swift_version: origin/stable/xena - job: - swift-multinode-rolling-upgrade-xena,,7,0
openstack%2Fpuppet-glance~master~Ic7682993b341a7d45b0957f102f5c3dbd52f9043,openstack/puppet-glance,master,Ic7682993b341a7d45b0957f102f5c3dbd52f9043,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 11:49:49.000000000,2022-01-08 07:40:49.000000000,2022-01-08 07:39:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 11:49:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1f4115db17b35324fe6b1bec717ce7388ec93cd9', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}, {'number': 2, 'created': '2021-11-25 11:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/98763c1291244639b3c73dd1ec415310fd88bf4e', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}, {'number': 3, 'created': '2021-11-25 11:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/923892a535892ff4d275207b49a989b6b9c0bf0d', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}, {'number': 4, 'created': '2021-11-25 12:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/8757e90864f9e9b90e33074a00449ca8ed26c802', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}, {'number': 5, 'created': '2022-01-06 06:47:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/3eaedebf03ea4f1d5c473e7e5c0a2fcc91fa8e1d', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for oslo.limit library\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}, {'number': 6, 'created': '2022-01-06 09:01:04.000000000', 'files': ['manifests/limit.pp', 'spec/classes/glance_keystone_auth_spec.rb', 'spec/classes/glance_limit_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'manifests/api/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-386b413aa2f30362.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/27db72f4a0c5c75c3342ac0a718797c1be0eb987', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for oslo.limit library\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nDepends-on: https://review.opendev.org/823629\nChange-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043\n'}]",1,819297,27db72f4a0c5c75c3342ac0a718797c1be0eb987,19,3,6,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following three items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware
 - credential parameters for oslo.limit library

Note that the credential parameters for authtoken middleware are
used in some providers, and these providers still require a project
scope credential. This will be fixed by the subsequent change.

Depends-on: https://review.opendev.org/804325
Depends-on: https://review.opendev.org/823629
Change-Id: Ic7682993b341a7d45b0957f102f5c3dbd52f9043
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/97/819297/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/glance_keystone_auth_spec.rb', 'spec/classes/glance_api_authtoken_spec.rb', 'manifests/api/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-386b413aa2f30362.yaml']",5,1f4115db17b35324fe6b1bec717ce7388ec93cd9,system-scope-params,--- features: - | The ``system_scope`` parameter has been added to the ``glance::keystone::authtoken`` class. - | The ``glance::keystone::auth`` class now supports customizing roles assigned to the glance service user. - | The ``glance::keystone::auth`` class now supports defining assignmet of system-scoped roles to the glance service user. ,,53,5
openstack%2Fpuppet-keystone~master~I7b95079b1ec59da3b4b9d1cd149019acaa80ea7b,openstack/puppet-keystone,master,I7b95079b1ec59da3b4b9d1cd149019acaa80ea7b,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:07:29.000000000,2022-01-08 07:12:23.000000000,2022-01-08 07:12:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:07:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/add54eb14fe3de331c67e6102c7c9c30bf988974', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I7b95079b1ec59da3b4b9d1cd149019acaa80ea7b\n'}, {'number': 2, 'created': '2022-01-05 13:33:32.000000000', 'files': ['manifests/wsgi/uwsgi.pp', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/c32b1e1e74c918487758547113d7c8faa249d954', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I7b95079b1ec59da3b4b9d1cd149019acaa80ea7b\n'}]",1,823516,c32b1e1e74c918487758547113d7c8faa249d954,12,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I7b95079b1ec59da3b4b9d1cd149019acaa80ea7b
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/16/823516/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/uwsgi.pp', 'manifests/init.pp']",2,add54eb14fe3de331c67e6102c7c9c30bf988974,remove-os_package_type, if $service_name == $::keystone::params::service_name and $::os['distro']['id'] != 'Debian'{, if $service_name == $::keystone::params::service_name and $::os_package_type != 'debian'{,2,2
openstack%2Fpuppet-openstack-integration~master~I8cad680e0ec96388cf5fa0e34f50b2c4d5969523,openstack/puppet-openstack-integration,master,I8cad680e0ec96388cf5fa0e34f50b2c4d5969523,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:45:14.000000000,2022-01-08 06:26:27.000000000,2022-01-08 06:26:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:45:14.000000000', 'files': ['manifests/ceph.pp', 'manifests/redis.pp', 'manifests/placement.pp', 'manifests/repos.pp', 'manifests/sahara.pp', 'manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1668df9ec49277b07770e36b9d30ae259414b396', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I8cad680e0ec96388cf5fa0e34f50b2c4d5969523\n'}]",1,823534,1668df9ec49277b07770e36b9d30ae259414b396,11,3,1,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I8cad680e0ec96388cf5fa0e34f50b2c4d5969523
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/34/823534/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/ceph.pp', 'manifests/redis.pp', 'manifests/placement.pp', 'manifests/repos.pp', 'manifests/sahara.pp', 'manifests/swift.pp']",6,1668df9ec49277b07770e36b9d30ae259414b396,remove-os_package_type, if ($::operatingsystem == 'Debian') { if $::operatingsystem == 'Debian' {, if ($::os_package_type == 'debian') { if $::os_package_type == 'debian' {,11,11
openstack%2Fpuppet-ceilometer~master~I21c1f7b46c008131301a86ab01616dd9b63b610d,openstack/puppet-ceilometer,master,I21c1f7b46c008131301a86ab01616dd9b63b610d,compute: Add support for tunables parameters,MERGED,2021-12-17 06:39:50.000000000,2022-01-08 05:43:16.000000000,2022-01-08 05:41:40.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-17 06:39:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/838ead2b515e781e2a017c2448c805ea429fd09f', 'message': 'compute: Add support for tunables parameters\n\nChange-Id: I21c1f7b46c008131301a86ab01616dd9b63b610d\n'}, {'number': 2, 'created': '2021-12-17 07:32:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/7630d5c873a648831a54ae28cf9cf9e514fd8c1e', 'message': 'compute: Add support for tunables parameters\n\nChange-Id: I21c1f7b46c008131301a86ab01616dd9b63b610d\n'}, {'number': 3, 'created': '2021-12-17 09:11:31.000000000', 'files': ['releasenotes/notes/compute-params-ecee48b43a1bdad2.yaml', 'manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/6892474ace1d02260f074c48eabf409cb16fdfb9', 'message': 'compute: Add support for tunables parameters\n\nChange-Id: I21c1f7b46c008131301a86ab01616dd9b63b610d\n'}]",1,822070,6892474ace1d02260f074c48eabf409cb16fdfb9,16,3,3,9816,,,0,"compute: Add support for tunables parameters

Change-Id: I21c1f7b46c008131301a86ab01616dd9b63b610d
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/70/822070/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/compute-params-ecee48b43a1bdad2.yaml', 'manifests/agent/polling.pp', 'spec/classes/ceilometer_agent_polling_spec.rb']",3,838ead2b515e781e2a017c2448c805ea429fd09f,," it { should contain_ceilometer_config('compute/instance_discovery_method').with_value('<SERVICE DEFAULT>') should contain_ceilometer_config('compute/resource_update_interval').with_value('<SERVICE DEFAULT>') should contain_ceilometer_config('compute/resource_cache_expiry').with_value('<SERVICE DEFAULT>') } context 'when compute parameters set' do params.merge!( :instance_discovery_method => 'naive', :resource_update_interval => 0, :resource_update_interval => 3600, ) it { should contain_ceilometer_config('compute/instance_discovery_method').with_value('naive') should contain_ceilometer_config('compute/resource_update_interval').with_value(0) should contain_ceilometer_config('compute/resource_cache_expiry').with_value(3600) }", it { should contain_ceilometer_config('compute/instance_discovery_method').with_value('<SERVICE DEFAULT>') } context 'when setting instance_discovery_method' do params.merge!( :instance_discovery_method => 'naive' ) it { should contain_ceilometer_config('compute/instance_discovery_method').with_value('naive') },34,4
openstack%2Fmurano-agent~master~Ief20dfb3b24c1d3ec743f3e9414bde9815fa5567,openstack/murano-agent,master,Ief20dfb3b24c1d3ec743f3e9414bde9815fa5567,Fix murano-agent DIB,MERGED,2022-01-08 02:43:16.000000000,2022-01-08 03:20:58.000000000,2022-01-08 03:20:58.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-08 02:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/7fd0e077e877642efd6629c98849b5f1a5735895', 'message': 'Fix murano-agent DIB\n\nChange-Id: Ief20dfb3b24c1d3ec743f3e9414bde9815fa5567\n'}, {'number': 2, 'created': '2022-01-08 02:46:53.000000000', 'files': ['contrib/elements/murano-agent-debian/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/murano-agent/commit/b873684f21e40145635e771d537dd64c522002bf', 'message': 'Fix murano-agent DIB\n\nChange-Id: Ief20dfb3b24c1d3ec743f3e9414bde9815fa5567\n'}]",0,823838,b873684f21e40145635e771d537dd64c522002bf,8,2,2,14107,,,0,"Fix murano-agent DIB

Change-Id: Ief20dfb3b24c1d3ec743f3e9414bde9815fa5567
",git fetch https://review.opendev.org/openstack/murano-agent refs/changes/38/823838/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,7fd0e077e877642efd6629c98849b5f1a5735895,,,,0,0
openstack%2Fpuppet-neutron~master~I0115acd15c72dd683b92f6099f685b69fa3cdb7f,openstack/puppet-neutron,master,I0115acd15c72dd683b92f6099f685b69fa3cdb7f,Ensure vmware-nsx package is installed,MERGED,2021-11-21 13:58:35.000000000,2022-01-08 01:26:47.000000000,2022-01-08 01:26:47.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-21 13:58:35.000000000', 'files': ['spec/classes/neutron_plugins_nsx_spec.rb', 'manifests/plugins/nsx.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/1201b37de49ddadd4ee616a3d17c4d6ffd94edf9', 'message': 'Ensure vmware-nsx package is installed\n\n... when NSX plugin is used.\n\nChange-Id: I0115acd15c72dd683b92f6099f685b69fa3cdb7f\n'}]",0,818693,1201b37de49ddadd4ee616a3d17c4d6ffd94edf9,7,3,1,9816,,,0,"Ensure vmware-nsx package is installed

... when NSX plugin is used.

Change-Id: I0115acd15c72dd683b92f6099f685b69fa3cdb7f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/93/818693/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_plugins_nsx_spec.rb', 'manifests/plugins/nsx.pp']",2,1201b37de49ddadd4ee616a3d17c4d6ffd94edf9,," package { 'vmware-nsx': ensure => $package_ensure, name => $::neutron::params::nsx_plugin_package, tag => ['openstack', 'neutron-package'], } ",,14,0
openstack%2Fdesignate~master~I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,openstack/designate,master,I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b,Fix designate-manage pool update bugs,MERGED,2021-12-24 07:15:02.000000000,2022-01-08 01:10:17.000000000,2022-01-08 01:08:47.000000000,"[{'_account_id': 11628}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-24 07:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/b5eacb7d87a4a3aaa885612ed605b8f4c518473a', 'message': '[WIP] Fix designate-manage not handling NS records properly\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n'}, {'number': 2, 'created': '2021-12-24 07:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dbcb652e17dadb575562129e651ec602c6062677', 'message': '[WIP] Fix designate-manage not handling NS records properly\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n'}, {'number': 3, 'created': '2021-12-24 07:22:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28080d117b48c276dcdb22356d3c4104125d3c48', 'message': ""Fix designate-manage not handling NS records properly\n\nThis patch addresses a few problems with the manage\ncommand and NS records. First of all it's possible\nto add NS records to a zone and that would break\nthe command.\n\nIn addition this bug fixes a scenario where the\nNS record at some point was manually edited and\nno longer a being a managed record.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 4, 'created': '2021-12-24 07:36:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/cb3ab95dd8535a9bb18c6d1626f55d268003f06d', 'message': ""Fix designate-manage not handling NS records properly\n\nThis patch addresses a few problems with the manage\ncommand and NS records. First of all it's possible\nto add NS records to a zone and that would break\nthe command.\n\nIn addition this bug fixes a scenario where the\nNS record at some point was manually edited and\nno longer a being a managed record.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 5, 'created': '2021-12-24 07:45:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ed6edb4403b7744ed0e6e080de916c64901ce0e6', 'message': ""Fix designate-manage not handling NS records properly\n\nThis patch addresses a few problems with the manage\ncommand and NS records. First of all it's possible\nto add NS records to a zone and that would break\nthe command.\n\nIn addition this bug fixes a scenario where the\nNS record at some point was manually edited and\nno longer being a managed record, cauing the command\nto fail because the recordset already exists.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 6, 'created': '2021-12-24 07:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/5804d76d7b9b211e19fbbb9d437b627f6c10ec77', 'message': ""Fix designate-manage not handling NS records properly\n\nThis patch addresses a few problems with the manage\ncommand and NS records. First of all it's possible\nto add NS records to a zone with a different name and\nthat would break the command.\n\nIn addition this bug fixes a scenario where the\nNS record at some point was manually edited and\nno longer being a managed record, cauing the command\nto fail because the recordset already exists.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 7, 'created': '2021-12-27 00:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c09af7df4252997be07b3bb7223d6ac75c811ee2', 'message': ""Fix designate-manage pool update bugs\n\nThis patch addresses a few problems with the manage\ncommand for pools and NS records.\n\n- Fixed an issue where having multiple NS records\n  would break the pool command.\n\n- Fixed a scenario where manually (non-managed) NS\n  records could break the pool command.\n\n- Fixed a potential edge case that could break the\n  pool command.\n\nThe biggest change is that we now only manage the NS\nrecord for the zone itself. This was always the case,\nbut because we didn't check for this specifically,\nother NS records would conflict with the command.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 8, 'created': '2021-12-27 19:16:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/fa12671c671b325dd48e32e092d2f2007d211ee6', 'message': ""Fix designate-manage pool update bugs\n\nThis patch addresses a few problems with the manage\ncommand for pools and NS records.\n\n- Fixed an issue where having multiple NS records\n  would break the pool command.\n\n- Fixed a scenario where manually (non-managed) NS\n  records could break the pool command.\n\n- Fixed a potential edge case that could break the\n  pool command.\n\nThe biggest change is that we now only manage the NS\nrecord for the zone itself. This was always the case,\nbut because we didn't check for this specifically,\nother NS records would conflict with the command.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}, {'number': 9, 'created': '2022-01-06 03:51:17.000000000', 'files': ['designate/tests/unit/test_central/test_basic.py', 'designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/bff3d5f6e31fe595a77143ec4ac779c187bf72a8', 'message': ""Fix designate-manage pool update bugs\n\nThis patch addresses a few problems with the manage\ncommand for pools and NS records.\n\n- Fixed an issue where having multiple NS records\n  would break the pool command.\n\n- Fixed a scenario where manually (non-managed) NS\n  records could break the pool command.\n\n- Fixed a potential edge case that could break the\n  pool command.\n\nThe biggest change is that we now only manage the NS\nrecord for the zone itself. This was always the case,\nbut because we didn't check for this specifically,\nother NS records would conflict with the command.\n\nChange-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b\n""}]",16,822891,bff3d5f6e31fe595a77143ec4ac779c187bf72a8,38,3,9,22623,,,0,"Fix designate-manage pool update bugs

This patch addresses a few problems with the manage
command for pools and NS records.

- Fixed an issue where having multiple NS records
  would break the pool command.

- Fixed a scenario where manually (non-managed) NS
  records could break the pool command.

- Fixed a potential edge case that could break the
  pool command.

The biggest change is that we now only manage the NS
record for the zone itself. This was always the case,
but because we didn't check for this specifically,
other NS records would conflict with the command.

Change-Id: I4e6ea0b6b717d2a1b5cc420874d1bb8fb290e04b
",git fetch https://review.opendev.org/openstack/designate refs/changes/91/822891/4 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,b5eacb7d87a4a3aaa885612ed605b8f4c518473a,," 'type': 'NS', increment_serial=False ) context, criterion={ 'zone_id': zone['id'], 'zone_name': zone['name'], 'type': 'NS' } if not recordsets: elif len(recordsets) != 1: raise exceptions.RecordSetNotFound('No valid recordset found') ns_recordset = recordsets[0] objects.Record(data=ns_record, managed=True) ) recordsets = self.find_recordsets( context, criterion={ 'zone_id': zone['id'], 'zone_name': zone['name'], 'type': 'NS' } ) for record in recordsets.records: if not pool.obj_attr_is_set('ns_records'): return elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records( context, pool.id ) # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) if not pool.ns_records: criterion={'pool_id': pool.id} )"," 'type': ""NS"", increment_serial=False) context, criterion={'zone_id': zone['id'], 'type': ""NS""} managed = [] for rs in recordsets: if rs.managed: managed.append(rs) if len(managed) == 0: elif len(managed) != 1: raise exceptions.RecordSetNotFound(""No valid recordset found"") ns_recordset = managed[0] objects.Record(data=ns_record, managed=True)) ns_recordset = self.find_recordset( context, criterion={'zone_id': zone['id'], 'type': ""NS""}) for record in copy.deepcopy(ns_recordset.records): if pool.obj_attr_is_set('ns_records'): elevated_context = context.elevated(all_tenants=True) # TODO(kiall): ListObjects should be able to give you their # original set of values. original_pool_ns_records = self._get_pool_ns_records(context, pool.id) # Find the current NS hostnames existing_ns = set([n.hostname for n in original_pool_ns_records]) # Find the desired NS hostnames request_ns = set([n.hostname for n in pool.ns_records]) # Get the NS's to be created and deleted, ignoring the ones that # are in both sets, as those haven't changed. # TODO(kiall): Factor in priority create_ns = request_ns.difference(existing_ns) delete_ns = existing_ns.difference(request_ns) if len(pool.ns_records) == 0: criterion={'pool_id': pool.id})",45,34
openstack%2Fpuppet-heat~master~I1429b2cc6f3c01c07ec26b1a7242e451072be368,openstack/puppet-heat,master,I1429b2cc6f3c01c07ec26b1a7242e451072be368,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 14:53:33.000000000,2022-01-08 01:04:16.000000000,2022-01-08 01:02:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 14:53:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/3eb66b84404e65b61dd4fc77bacf31939ada760d', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I1429b2cc6f3c01c07ec26b1a7242e451072be368\n'}, {'number': 2, 'created': '2021-11-25 15:59:27.000000000', 'files': ['spec/classes/heat_keystone_auth_cfn_spec.rb', 'spec/classes/heat_keystone_auth_spec.rb', 'spec/classes/heat_keystone_authtoken_spec.rb', 'manifests/keystone/auth_cfn.pp', 'releasenotes/notes/system_scope-keystone-ea935e84e1f0c430.yaml', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/d3a63122cbf743ef5d4fa470dd13d038130e0b39', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I1429b2cc6f3c01c07ec26b1a7242e451072be368\n'}]",0,819332,d3a63122cbf743ef5d4fa470dd13d038130e0b39,9,3,2,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I1429b2cc6f3c01c07ec26b1a7242e451072be368
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/32/819332/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/heat_keystone_auth_cfn_spec.rb', 'spec/classes/heat_keystone_auth_spec.rb', 'spec/classes/heat_keystone_authtoken_spec.rb', 'manifests/keystone/auth_cfn.pp', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/system_scope-keystone-ea935e84e1f0c430.yaml', 'manifests/keystone/auth.pp']",7,3eb66b84404e65b61dd4fc77bacf31939ada760d,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to heat user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to heat user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], Keystone_user_role<| name == ""${auth_name}@${tenant}"" |> -> Anchor['heat::service::end'] Keystone_user_role<| name == ""${auth_name}@::::${system_scope}"" |> -> Anchor['heat::service::end'] if $configure_endpoint { Keystone_endpoint[""${region}/${service_name}::${service_type}""] -> Anchor['heat::service::end'] } roles => $roles system_scope => $system_scope, system_roles => $system_roles,"," if $configure_user_role { Keystone_user_role[""${auth_name}@${tenant}""] ~> Anchor['heat::service::end'] } ",98,8
openstack%2Fpuppet-ironic~stable%2Ftrain~I1b3ccd8ad8f3ce66c66c58b1dfdca158d749c287,openstack/puppet-ironic,stable/train,I1b3ccd8ad8f3ce66c66c58b1dfdca158d749c287,Fix name of iPXE efi bootrom,MERGED,2022-01-06 02:30:32.000000000,2022-01-08 01:02:52.000000000,2022-01-08 01:01:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-01-06 02:30:32.000000000', 'files': ['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/fix-inspector-dnsmasq-uefi-ipxe-boot-filename-83fefc1e48ea7f4f.yaml', 'manifests/pxe/common.pp', 'manifests/drivers/pxe.pp', 'manifests/inspector.pp', 'manifests/pxe.pp', 'templates/inspector_dnsmasq_http.erb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3c15a738cecfbd19e376181685a1fcb9f5b98b2c', 'message': ""Fix name of iPXE efi bootrom\n\nIn change Ia30aff290ec24972f387612851f8f630ddc9403b\nthe file in tftproot was renamed from ipxe.efi to\nsnponly.efi. Later in the filename was parameterized\nin change I565e3ae6388812c358e86fac49b17e0cce97b9df.\n\nThe dnsmasq DHCP configuration was not updated to\npoint to use the new filename, nor the parameter.\n\nThis change adds 'uefi_ipxe_bootfile_name' to\nironic::pxe::common, updates the other manifests to\nuse ironic::pxe::common::uefi_ipxe_bootfile_name if\nset.\n\nAlso add the 'uefi_ipxe_bootfile_name' parameter to\nthe ironic::inspector class and update the dnsmasq\nDHCP tempalte to use the parameter.\n\nBackport note:\nIn stable/wallaby and older, the default uefi_ipxe_bootfile_name is\nipxe.efi(this was updated during Xena cycle), so the inconsistent usage\ndoesn't happen by default. However support for customizing\nuefi_ipxe_bootfile_name is incomplete and it is fixed by this change.\n\nConflicts:\n\tmanifests/inspector.pp\n\nResolved conflict caused by c7966378a036a58018ec0c1155ee6b58f52a49ca\n\n(to train)\nConflicts:\n\tmanifests/drivers/pxe.pp\n\tmanifests/inspector.pp\n\tspec/classes/ironic_inspector_spec.rb\n\nCloses-Bug: #1952652\nChange-Id: I1b3ccd8ad8f3ce66c66c58b1dfdca158d749c287\n(cherry picked from commit 51ea0c95eabe8dd15493dd719b8ee34079ef3bb1)\n(cherry picked from commit 2688458cb0eae1b09c50417477a27a8e8dba682b)\n(cherry picked from commit 806261407470b0085046314d84b394af5bbf5759)\n(cherry picked from commit d33a9f68d57a1c5cf391bd12cdbae8075991222a)\n(cherry picked from commit 0f3581d3b577814d11c14be28269adc617b5e576)\n""}]",0,823615,3c15a738cecfbd19e376181685a1fcb9f5b98b2c,9,4,1,9816,,,0,"Fix name of iPXE efi bootrom

In change Ia30aff290ec24972f387612851f8f630ddc9403b
the file in tftproot was renamed from ipxe.efi to
snponly.efi. Later in the filename was parameterized
in change I565e3ae6388812c358e86fac49b17e0cce97b9df.

The dnsmasq DHCP configuration was not updated to
point to use the new filename, nor the parameter.

This change adds 'uefi_ipxe_bootfile_name' to
ironic::pxe::common, updates the other manifests to
use ironic::pxe::common::uefi_ipxe_bootfile_name if
set.

Also add the 'uefi_ipxe_bootfile_name' parameter to
the ironic::inspector class and update the dnsmasq
DHCP tempalte to use the parameter.

Backport note:
In stable/wallaby and older, the default uefi_ipxe_bootfile_name is
ipxe.efi(this was updated during Xena cycle), so the inconsistent usage
doesn't happen by default. However support for customizing
uefi_ipxe_bootfile_name is incomplete and it is fixed by this change.

Conflicts:
	manifests/inspector.pp

Resolved conflict caused by c7966378a036a58018ec0c1155ee6b58f52a49ca

(to train)
Conflicts:
	manifests/drivers/pxe.pp
	manifests/inspector.pp
	spec/classes/ironic_inspector_spec.rb

Closes-Bug: #1952652
Change-Id: I1b3ccd8ad8f3ce66c66c58b1dfdca158d749c287
(cherry picked from commit 51ea0c95eabe8dd15493dd719b8ee34079ef3bb1)
(cherry picked from commit 2688458cb0eae1b09c50417477a27a8e8dba682b)
(cherry picked from commit 806261407470b0085046314d84b394af5bbf5759)
(cherry picked from commit d33a9f68d57a1c5cf391bd12cdbae8075991222a)
(cherry picked from commit 0f3581d3b577814d11c14be28269adc617b5e576)
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/15/823615/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_spec.rb', 'releasenotes/notes/fix-inspector-dnsmasq-uefi-ipxe-boot-filename-83fefc1e48ea7f4f.yaml', 'manifests/pxe/common.pp', 'manifests/drivers/pxe.pp', 'manifests/inspector.pp', 'manifests/pxe.pp', 'templates/inspector_dnsmasq_http.erb']",7,3c15a738cecfbd19e376181685a1fcb9f5b98b2c,bug/1952652-stable/train,"dhcp-boot=tag:efi,tag:!ipxe,<%= @uefi_ipxe_bootfile_name_real %> dhcp-option=tag:efi6,tag:!ipxe6,option6:bootfile-url,tftp://<%= @dnsmasq_local_ip_real %>/<%= @uefi_ipxe_bootfile_name_real %>","dhcp-boot=tag:efi,tag:!ipxe,ipxe.efi dhcp-option=tag:efi6,tag:!ipxe6,option6:bootfile-url,tftp://<%= @dnsmasq_local_ip_real %>/ipxe.efi",45,14
openstack%2Fpuppet-ironic~master~I84390ee35563bffa7ea1d896cc7a49806e4b6c3b,openstack/puppet-ironic,master,I84390ee35563bffa7ea1d896cc7a49806e4b6c3b,Remove redundant defaults in ironic::inspector::ironic,MERGED,2022-01-06 12:07:36.000000000,2022-01-08 01:01:07.000000000,2022-01-08 01:01:07.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 12:07:36.000000000', 'files': ['spec/classes/ironic_inspector_ironic_spec.rb', 'manifests/inspector/ironic.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/3efbc7533f62300c5e8eec2228ac116eea259946', 'message': 'Remove redundant defaults in ironic::inspector::ironic\n\nThe following two parameters of the ironic::inspector::ironic class\ndefines the actual service defaults. This change removes these\nredundant definitions and let the service default used directly.\n - retry_interval\n - max_retries\n\nChange-Id: I84390ee35563bffa7ea1d896cc7a49806e4b6c3b\n'}]",0,823678,3efbc7533f62300c5e8eec2228ac116eea259946,7,3,1,9816,,,0,"Remove redundant defaults in ironic::inspector::ironic

The following two parameters of the ironic::inspector::ironic class
defines the actual service defaults. This change removes these
redundant definitions and let the service default used directly.
 - retry_interval
 - max_retries

Change-Id: I84390ee35563bffa7ea1d896cc7a49806e4b6c3b
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/78/823678/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_ironic_spec.rb', 'manifests/inspector/ironic.pp']",2,3efbc7533f62300c5e8eec2228ac116eea259946,,"# Defaults to $::os_service_default# Defaults to $::os_service_default $max_retries = $::os_service_default, $retry_interval = $::os_service_default,","# Defaults to 30# Defaults to 2 $max_retries = 30, $retry_interval = 2,",8,10
openstack%2Ftripleo-heat-templates~master~I439fb5a760f0be36b07c403bcb5294db106d1609,openstack/tripleo-heat-templates,master,I439fb5a760f0be36b07c403bcb5294db106d1609,Neutron: Use internal endpoint when accessing Placement API,MERGED,2021-11-29 03:48:38.000000000,2022-01-08 00:38:52.000000000,2022-01-08 00:38:52.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-29 03:48:38.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4df0b3519311c9d5350dc5dc17f7079e145826e8', 'message': 'Neutron: Use internal endpoint when accessing Placement API\n\nChange-Id: I439fb5a760f0be36b07c403bcb5294db106d1609\n'}]",4,819560,4df0b3519311c9d5350dc5dc17f7079e145826e8,21,8,1,9816,,,0,"Neutron: Use internal endpoint when accessing Placement API

Change-Id: I439fb5a760f0be36b07c403bcb5294db106d1609
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/819560/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,4df0b3519311c9d5350dc5dc17f7079e145826e8,placement-internal, neutron::server::placement::endpoint_type: 'internal',,1,0
openstack%2Fpuppet-openstacklib~stable%2Fwallaby~I4bddbf9bb3c6251aa8b68a8bc2ef8799f3c8065e,openstack/puppet-openstacklib,stable/wallaby,I4bddbf9bb3c6251aa8b68a8bc2ef8799f3c8065e,CredentialsV3: Ensure all attributes are cleared by unset,MERGED,2021-12-13 13:27:28.000000000,2022-01-08 00:35:12.000000000,2022-01-08 00:35:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 13:27:28.000000000', 'files': ['spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/723048c7172e02541964e2084ef3f1a005be1e98', 'message': 'CredentialsV3: Ensure all attributes are cleared by unset\n\nCurrently the unset method only clears attributes defined in the base\nCrednetial class and ones specific to CredentialV3 are left set.\nThis change ensures the method clears all attributes.\n\nCloses-Bug: #1942145\nChange-Id: I4bddbf9bb3c6251aa8b68a8bc2ef8799f3c8065e\n(cherry picked from commit d1eb834a2087c6010f1ea4d7f834a219c0603012)\n'}]",0,821514,723048c7172e02541964e2084ef3f1a005be1e98,9,3,1,9816,,,0,"CredentialsV3: Ensure all attributes are cleared by unset

Currently the unset method only clears attributes defined in the base
Crednetial class and ones specific to CredentialV3 are left set.
This change ensures the method clears all attributes.

Closes-Bug: #1942145
Change-Id: I4bddbf9bb3c6251aa8b68a8bc2ef8799f3c8065e
(cherry picked from commit d1eb834a2087c6010f1ea4d7f834a219c0603012)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/14/821514/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb']",2,723048c7172e02541964e2084ef3f1a005be1e98,bug/1942145," self.instance_variables.each do |var| if var.to_s != '@identity_api_version' && self.instance_variable_defined?(var.to_s) set(var.to_s.sub(/^@/,''), '')"," KEYS.each do |key| if key != :identity_api_version && self.instance_variable_defined?(""@#{key}"") set(key, '')",6,4
openstack%2Fpuppet-nova~master~I043e1c1edda6f369740d20d1745654eee0e16016,openstack/puppet-nova,master,I043e1c1edda6f369740d20d1745654eee0e16016,Accept system scope credential for Placement API request,MERGED,2021-11-26 01:13:45.000000000,2022-01-08 00:31:22.000000000,2022-01-08 00:28:48.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-26 01:13:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/bac6eff37376c5328fd3b883dab27c87710920b9', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API request system admin role for\n(almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I043e1c1edda6f369740d20d1745654eee0e16016\n'}, {'number': 2, 'created': '2021-11-26 01:34:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/9f3be1e704a92b6acfcda169e63e1de14e696828', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API request system admin role for\n(almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I043e1c1edda6f369740d20d1745654eee0e16016\n'}, {'number': 3, 'created': '2021-11-26 03:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/4637f8e1681d0cd9557ecf57fb5bfc99fbb54835', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API request system admin role for\n(almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I043e1c1edda6f369740d20d1745654eee0e16016\n'}, {'number': 4, 'created': '2021-11-26 03:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/db15c7f8cf6f2cf4358e9155051ce17fa0dc051b', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I043e1c1edda6f369740d20d1745654eee0e16016\n'}, {'number': 5, 'created': '2021-11-26 04:08:32.000000000', 'files': ['manifests/placement.pp', 'spec/classes/nova_placement_spec.rb', 'releasenotes/notes/system_scope-placement-e92481eb296c9e57.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/cafc1868a58c6b3ff4f7f1b60b7e6d9936a7bf20', 'message': 'Accept system scope credential for Placement API request\n\nWhen SRBAC is enforced, Placement API requires system admin/reader role\nfor (almost) all operations. This change allows usage of system-scoped\ncredential for access to Placement API.\n\nChange-Id: I043e1c1edda6f369740d20d1745654eee0e16016\n'}]",2,819388,cafc1868a58c6b3ff4f7f1b60b7e6d9936a7bf20,17,6,5,9816,,,0,"Accept system scope credential for Placement API request

When SRBAC is enforced, Placement API requires system admin/reader role
for (almost) all operations. This change allows usage of system-scoped
credential for access to Placement API.

Change-Id: I043e1c1edda6f369740d20d1745654eee0e16016
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/88/819388/4 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/placement.pp', 'spec/classes/nova_placement_spec.rb', 'releasenotes/notes/system_scope-placement-e92481eb296c9e57.yaml']",3,bac6eff37376c5328fd3b883dab27c87710920b9,system-scope-params,--- features: - | The new ``sysem_scope`` parameter has been added to the ``nova::placement`` class. ,,51,12
openstack%2Fpuppet-nova~master~Ibd7afcb121b669cf533b077b926637b092e3df19,openstack/puppet-nova,master,Ibd7afcb121b669cf533b077b926637b092e3df19,Accept system scope credentials for Keystone API request,MERGED,2021-08-27 06:38:07.000000000,2022-01-08 00:30:10.000000000,2022-01-08 00:28:45.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-27 06:38:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/08a245ddcaff2721bc65186f542851d1d949f07b', 'message': 'WIP: Add support for the system_scope parameter\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 2, 'created': '2021-09-02 15:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/587cae958b4b4f6ad8956e8fdb98492771bbabbe', 'message': 'WIP: Add support for the system_scope parameter\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 3, 'created': '2021-10-28 14:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/6b36471d1980e59260e6256c85013cb2c16b9e32', 'message': 'Add initial support for the system_scope parameter\n\nThis change introduces support to use system scope credentials.\nThe following two items are covered by this change.\n - service user in Keystone\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 4, 'created': '2021-11-18 14:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7c160ede8bb1fdc7b6f18ca5d06e39b3d27284fa', 'message': 'Add initial support for the system_scope parameter\n\nThis change introduces support to use system scope credentials.\nThe following two items are covered by this change.\n - service user in Keystone\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 5, 'created': '2021-11-25 02:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2c4c677a324000e9a4831d253c8592af838aa523', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - authtoken middleware\n - service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 6, 'created': '2021-11-25 02:50:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/83f815ba87f55b916875eba23c99291c558d4837', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 7, 'created': '2021-11-25 03:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ee0e3834b0224d311bc72d31336286d076d51f3c', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 8, 'created': '2021-11-25 06:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c6c545bb82f3f41ea2ac36dfd967b07113d54318', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 9, 'created': '2021-11-25 11:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ca07d50e90c94ea4178521103ed1e092d52d2d51', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}, {'number': 10, 'created': '2021-11-25 11:37:17.000000000', 'files': ['manifests/keystone/service_user.pp', 'spec/classes/nova_keystone_auth_spec.rb', 'spec/classes/nova_keystone_authtoken_spec.rb', 'spec/classes/nova_keystone_service_user_spec.rb', 'manifests/keystone/authtoken.pp', 'releasenotes/notes/system_scope-keystone-443335bece968e41.yaml', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/af93169d4d4652e63c27d4305a1b8abeb2d3fb3e', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following three items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n - credential parameters for service token feature\n\nNote that the credential parameters for authtoken middleware are\nused in some providers, and these providers still require a project\nscope credential. This will be fixed by the subsequent change.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ibd7afcb121b669cf533b077b926637b092e3df19\n'}]",4,806317,af93169d4d4652e63c27d4305a1b8abeb2d3fb3e,41,3,10,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following three items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware
 - credential parameters for service token feature

Note that the credential parameters for authtoken middleware are
used in some providers, and these providers still require a project
scope credential. This will be fixed by the subsequent change.

Depends-on: https://review.opendev.org/804325
Change-Id: Ibd7afcb121b669cf533b077b926637b092e3df19
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/17/806317/6 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",3,08a245ddcaff2721bc65186f542851d1d949f07b,system-scope-params,"# [*system_scope*] # Scope for system operations # string; optional: default to 'all' # # [*system_roles*] # List of system roles; # string; optional: default to ['admin'] # $system_scope = 'all', $system_roles = ['admin'], system_scope => $system_scope, system_roles => $system_roles,",,21,0
openstack%2Fpuppet-cinder~master~Ica8972741244b18290b6e9b2b2e2f460094d0260,openstack/puppet-cinder,master,Ica8972741244b18290b6e9b2b2e2f460094d0260,Accept system scope credential for Nova API request,MERGED,2021-11-26 13:04:33.000000000,2022-01-08 00:20:54.000000000,2022-01-08 00:19:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 13:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/00fc7bc6f2f8d333ed248af9f4fbacec754386c3', 'message': 'Accept system scope credential for Nova API request\n\nCurrently cinder uses the service user credential to use Nova APIs like\nExternal Events API, which is accessibly only for system admin when\nSRBAC is enforced.\n\nThis change allows using system-scoped credential rather instead of\nproject-scoped one for such API requests.\n\nChange-Id: Ica8972741244b18290b6e9b2b2e2f460094d0260\n'}, {'number': 2, 'created': '2021-11-26 13:39:26.000000000', 'files': ['releasenotes/notes/system_scope-nova-6507548249009928.yaml', 'spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/3b1588eb57fa583d52d588c39c92563c60dd5165', 'message': 'Accept system scope credential for Nova API request\n\nCurrently cinder uses the service user credential to use Nova APIs like\nExternal Events API, which is accessibly only for system admin when\nSRBAC is enforced.\n\nThis change allows using system-scoped credential rather instead of\nproject-scoped one for such API requests.\n\nChange-Id: Ica8972741244b18290b6e9b2b2e2f460094d0260\n'}]",0,819446,3b1588eb57fa583d52d588c39c92563c60dd5165,9,3,2,9816,,,0,"Accept system scope credential for Nova API request

Currently cinder uses the service user credential to use Nova APIs like
External Events API, which is accessibly only for system admin when
SRBAC is enforced.

This change allows using system-scoped credential rather instead of
project-scoped one for such API requests.

Change-Id: Ica8972741244b18290b6e9b2b2e2f460094d0260
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/46/819446/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system_scope-nova-6507548249009928.yaml', 'spec/classes/cinder_nova_spec.rb', 'manifests/nova.pp']",3,00fc7bc6f2f8d333ed248af9f4fbacec754386c3,system-scope-params,"# [*system_scope*] # (Optional) Scope for system operations # Defaults to $::os_service_default # $system_scope = $::os_service_default, if is_service_default($system_scope) { $project_name_real = $project_name $project_domain_name_real = $project_domain_name } else { $project_name_real = $::os_service_default $project_domain_name_real = $::os_service_default } 'nova/system_scope': value => $system_scope;",,35,0
openstack%2Fpuppet-openstacklib~master~If3781cd2ed828126ef1388553f4b85eed78196e7,openstack/puppet-openstacklib,master,If3781cd2ed828126ef1388553f4b85eed78196e7,Support system/domain scope credential,MERGED,2021-08-28 14:47:54.000000000,2022-01-08 00:15:04.000000000,2022-01-08 00:13:46.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-28 14:47:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/793c888ba60b3e8ef746f11cbc4830827510b681', 'message': 'Support system scope credential\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 2, 'created': '2021-08-28 22:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ec48d8be024a2b0178d107c0d965b9b671055232', 'message': 'Support system scope credential\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 3, 'created': '2021-08-28 23:05:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/ed5c38c901613d3f79831a69ffe9dfaaf7c5add3', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 4, 'created': '2021-08-29 00:46:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/9139a1b38143b08284edb60dd297071e7ac39814', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 5, 'created': '2021-08-29 02:56:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f7b07d0a1b878872424037b553a6eb51cf79bee9', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 6, 'created': '2021-08-31 04:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/b7bcf1ef98f67b3ab3a6ace302cdb160df29893d', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 7, 'created': '2021-10-17 23:20:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/5c9a739eb2af7639349bf37ea0e79b6255457558', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 8, 'created': '2021-10-18 11:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f92b7fdb9010036d00ab74b67c31d7394cda7602', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 9, 'created': '2021-10-18 14:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/84785fbce5a765e9890e17453b0a85d766e7fced', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}, {'number': 10, 'created': '2021-10-18 15:09:02.000000000', 'files': ['lib/puppet/provider/openstack/auth.rb', 'releasenotes/notes/system-scope-credential-113608525e12a22d.yaml', 'spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0027bf6893ce4e2643ae6c2bfc26825a48f01cce', 'message': 'Support system/domain scope credential\n\nThis change introduces the base implementation to use system scope\ncredential or domain scope credential to request OpenStack API in each\nprovider implementations.\n\nChange-Id: If3781cd2ed828126ef1388553f4b85eed78196e7\n'}]",0,806473,0027bf6893ce4e2643ae6c2bfc26825a48f01cce,30,4,10,9816,,,0,"Support system/domain scope credential

This change introduces the base implementation to use system scope
credential or domain scope credential to request OpenStack API in each
provider implementations.

Change-Id: If3781cd2ed828126ef1388553f4b85eed78196e7
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/73/806473/5 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system-scope-credential-113608525e12a22d.yaml', 'spec/unit/provider/openstack/credentials_spec.rb', 'lib/puppet/provider/openstack/credentials.rb']",3,793c888ba60b3e8ef746f11cbc4830827510b681,system-scope-creds," :user_id, :system_scope def user_set? @username || @user_id end def scope_set? @system_scope || @project_name || @project_id end return true if user_set? && @password && scope_set? && @auth_url", :user_id return true if (@username || @user_id) && @password && (@project_name || @project_id) && @auth_url,43,5
openstack%2Fpuppet-barbican~master~Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4,openstack/puppet-barbican,master,Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 06:59:53.000000000,2022-01-08 00:13:15.000000000,2022-01-08 00:11:53.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 06:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/388c26861a6e94500f1187ad6190e990b35f0c66', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4\n'}, {'number': 2, 'created': '2021-11-25 08:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/540a17c67bc5064d69aff7bef1f447d4053351ed', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4\n'}, {'number': 3, 'created': '2021-11-25 11:30:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/2152b117d243269bb319a49ea55c8589b54416d8', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4\n'}, {'number': 4, 'created': '2021-11-25 11:38:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/ab26c3018ff498d9575e5e7e358917047a5d6b85', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4\n'}, {'number': 5, 'created': '2021-11-25 12:12:00.000000000', 'files': ['spec/classes/barbican_keystone_auth_spec.rb', 'releasenotes/notes/system_scope-keystone-dfb7566a1f8b1eab.yaml', 'spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/e3a92d77982118ee82bd68047c77e09922d15123', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4\n'}]",0,819256,e3a92d77982118ee82bd68047c77e09922d15123,13,3,5,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: Ifbdde0718d1b6a6782c4f098fd152c3f636aa2c4
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/56/819256/3 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/barbican_keystone_auth_spec.rb', 'releasenotes/notes/system_scope-b59195143956bfc4.yaml', 'spec/classes/barbican_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",5,388c26861a6e94500f1187ad6190e990b35f0c66,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to aodh user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to aodh user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,49,0
openstack%2Frequirements~stable%2Fussuri~I71bc4d118f689448e9e2e6fd36f0e906a3536b9c,openstack/requirements,stable/ussuri,I71bc4d118f689448e9e2e6fd36f0e906a3536b9c,[Ussuri-only] Bumping upper constrain of openstack/validations-libs to 1.2.0,MERGED,2022-01-06 12:40:49.000000000,2022-01-08 00:06:01.000000000,2022-01-08 00:06:01.000000000,"[{'_account_id': 11491}, {'_account_id': 14288}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 12:40:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/144ec38a53d0225bd2b3f37918b19d5c8b1d27af', 'message': '[Ussuri-only] Bumping upper constrain of openstack/validations-libs to 1.2.0\n\nAs a number of newer features is being backported[0]\nto earlier releases the constraints have to be updated accordingly to\nensure that CI is capable of installing the necessary packages.\n\n[0] https://review.opendev.org/c/openstack/python-tripleoclient/+/823604/3\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I71bc4d118f689448e9e2e6fd36f0e906a3536b9c\n'}, {'number': 2, 'created': '2022-01-07 07:28:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/854f747b46936d5117fd2a988f0998dac8e5eea7', 'message': '[Ussuri-only] Bumping upper constrain of openstack/validations-libs to 1.2.0\n\nAs a number of newer features is being backported[0]\nto earlier releases the constraints have to be updated accordingly to\nensure that CI is capable of installing the necessary packages.\n\n[0] https://review.opendev.org/c/openstack/python-tripleoclient/+/823604/3\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I71bc4d118f689448e9e2e6fd36f0e906a3536b9c\n'}]",0,823681,854f747b46936d5117fd2a988f0998dac8e5eea7,13,6,2,32926,,,0,"[Ussuri-only] Bumping upper constrain of openstack/validations-libs to 1.2.0

As a number of newer features is being backported[0]
to earlier releases the constraints have to be updated accordingly to
ensure that CI is capable of installing the necessary packages.

[0] https://review.opendev.org/c/openstack/python-tripleoclient/+/823604/3

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I71bc4d118f689448e9e2e6fd36f0e906a3536b9c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/823681/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,144ec38a53d0225bd2b3f37918b19d5c8b1d27af,VF-versionbump,validations-libs===1.2.0,validations-libs===1.0.0,1,1
openstack%2Fpuppet-ironic~master~Ieaeb38e96559a2841bad63c7c6db9e7f2f433140,openstack/puppet-ironic,master,Ieaeb38e96559a2841bad63c7c6db9e7f2f433140,Support arbitrary configurations of inspector.conf,MERGED,2022-01-06 02:14:32.000000000,2022-01-08 00:05:56.000000000,2022-01-08 00:04:34.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 02:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/b84eaee912114535893e854324061e9b3359a7c9', 'message': 'Support arbitrary configurations of ironic-inspector.conf\n\nThis change introduces the config class for ironic-inspector so that\nusers can inject arbitrary parameters even if these are not implemented\nin manifests.\n\nChange-Id: Ieaeb38e96559a2841bad63c7c6db9e7f2f433140\n'}, {'number': 2, 'created': '2022-01-06 02:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/7fd50cb9214166cf82addd9be8d2d39c37b14b6a', 'message': 'Support arbitrary configurations of inspector.conf\n\nThis change introduces the config class for ironic-inspector so that\nusers can inject arbitrary parameters even if these are not implemented\nin manifests.\n\nChange-Id: Ieaeb38e96559a2841bad63c7c6db9e7f2f433140\n'}, {'number': 3, 'created': '2022-01-06 05:38:11.000000000', 'files': ['spec/classes/ironic_inspector_config_spec.rb', 'manifests/inspector/config.pp', 'releasenotes/notes/inspector-config-0ef3950b548c9542.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/12c1944b3d4a1eb363402c0fc3244fd19a7ccb92', 'message': 'Support arbitrary configurations of inspector.conf\n\nThis change introduces the config class for ironic-inspector so that\nusers can inject arbitrary parameters even if these are not implemented\nin manifests.\n\nChange-Id: Ieaeb38e96559a2841bad63c7c6db9e7f2f433140\n'}]",0,823613,12c1944b3d4a1eb363402c0fc3244fd19a7ccb92,11,3,3,9816,,,0,"Support arbitrary configurations of inspector.conf

This change introduces the config class for ironic-inspector so that
users can inject arbitrary parameters even if these are not implemented
in manifests.

Change-Id: Ieaeb38e96559a2841bad63c7c6db9e7f2f433140
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/13/823613/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/ironic_inspector_config_spec.rb', 'manifests/inspector/config.pp', 'releasenotes/notes/inspector-config-0ef3950b548c9542.yaml']",3,b84eaee912114535893e854324061e9b3359a7c9,inspector-config,--- features: - | The new ``ironic::inspector::config`` class has been added. This class allows arbitrary configurations of ``ironic-inspector.conf``. ,,72,0
openstack%2Fpuppet-glance~master~I96ab0932788737f5e37125fecc0e48357a595030,openstack/puppet-glance,master,I96ab0932788737f5e37125fecc0e48357a595030,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-06 04:43:43.000000000,2022-01-08 00:05:32.000000000,2022-01-08 00:04:01.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 04:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/6d72c0bf0a9cb50199e0ee56d82c7c01efc6e2b6', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I96ab0932788737f5e37125fecc0e48357a595030\n'}, {'number': 2, 'created': '2022-01-06 06:54:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/39a5f37d834fbaccae0a08a794b77a8ac1a78338', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I96ab0932788737f5e37125fecc0e48357a595030\n'}, {'number': 3, 'created': '2022-01-06 23:29:05.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'spec/classes/glance_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'releasenotes/notes/barbican_service_user-606ee71dc0940e2a.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/e9a898f2f0c90b7386c81aa267c9bc6d5e11fcd4', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I96ab0932788737f5e37125fecc0e48357a595030\n'}]",4,823621,e9a898f2f0c90b7386c81aa267c9bc6d5e11fcd4,20,3,3,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I96ab0932788737f5e37125fecc0e48357a595030
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/21/823621/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'spec/classes/glance_key_manager_barbican_spec.rb', 'manifests/key_manager/barbican.pp', 'releasenotes/notes/barbican_service_user-606ee71dc0940e2a.yaml', 'spec/classes/glance_key_manager_barbican_service_user_spec.rb']",5,6d72c0bf0a9cb50199e0ee56d82c7c01efc6e2b6,barbican-service_user,"require 'spec_helper' describe 'glance::key_manager::barbican::service_user' do shared_examples 'glance::key_manager::barbican::service_user' do let :params do { :password => 'secret' } end context 'with default parameters' do it { is_expected.to contain_oslo__key_manager__barbican__service_user('glance_api_config').with( :username => 'glance', :password => 'secret', :auth_url => 'http://localhost:5000', :project_name => 'services', :user_domain_name => 'Default', :project_domain_name => 'Default', :insecure => '<SERVICE DEFAULT>', :auth_type => 'password', :auth_version => '<SERVICE DEFAULT>', :cafile => '<SERVICE DEFAULT>', :certfile => '<SERVICE DEFAULT>', :keyfile => '<SERVICE DEFAULT>', :region_name => '<SERVICE DEFAULT>', ) } end context 'with specified parameters' do before :each do params.merge!({ :username => 'alt_glance', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', }) end it { is_expected.to contain_oslo__key_manager__barbican__service_user('glance_api_config').with( :username => 'alt_glance', :password => 'secret', :auth_url => 'http://127.0.0.1:5000', :project_name => 'alt_services', :user_domain_name => 'Domain1', :project_domain_name => 'Domain2', :insecure => false, :auth_type => 'v3password', :auth_version => 'v3', :cafile => '/opt/stack/data/cafile.pem', :certfile => 'certfile.crt', :keyfile => 'keyfile', :region_name => 'regionOne', ) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge(OSDefaults.get_facts()) end it_behaves_like 'glance::key_manager::barbican::service_user' end end end ",,225,35
openstack%2Fpuppet-openstacklib~stable%2Fwallaby~I3fc6d1192632cc1458d00900508d548f522e9cdb,openstack/puppet-openstacklib,stable/wallaby,I3fc6d1192632cc1458d00900508d548f522e9cdb,Add support for iscsid configuration,MERGED,2022-01-07 13:06:54.000000000,2022-01-07 23:57:05.000000000,2022-01-07 23:55:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 13:06:54.000000000', 'files': ['manifests/iscsid.pp', 'manifests/params.pp', 'releasenotes/notes/iscsid-0a9fe8a9dba4047b.yaml', 'spec/classes/openstacklib_iscsid_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/f93dae64cb0e71d6d18bfd7c65673c3c30b04216', 'message': 'Add support for iscsid configuration\n\nThe iscsid service is used in sevral components like nova, cinder,\nglance and so on to connect to iscsi devices. This change introduces\nthe new class to manage basic configuration of the iscsid service.\n\nCo-authored-by: Alfredo Moralejo <amoralej@redhat.com>\nChange-Id: I3fc6d1192632cc1458d00900508d548f522e9cdb\n(cherry picked from commit 6e67434c27d23d38c4a2bc52b944a9c7df5ff222)\n'}]",0,823795,f93dae64cb0e71d6d18bfd7c65673c3c30b04216,8,4,1,16312,,,0,"Add support for iscsid configuration

The iscsid service is used in sevral components like nova, cinder,
glance and so on to connect to iscsi devices. This change introduces
the new class to manage basic configuration of the iscsid service.

Co-authored-by: Alfredo Moralejo <amoralej@redhat.com>
Change-Id: I3fc6d1192632cc1458d00900508d548f522e9cdb
(cherry picked from commit 6e67434c27d23d38c4a2bc52b944a9c7df5ff222)
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/95/823795/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/iscsid.pp', 'manifests/params.pp', 'releasenotes/notes/iscsid-0a9fe8a9dba4047b.yaml', 'spec/classes/openstacklib_iscsid_spec.rb']",4,f93dae64cb0e71d6d18bfd7c65673c3c30b04216,c9,"require 'spec_helper' describe 'openstacklib::iscsid' do shared_examples_for 'openstacklib::iscsid' do context 'with default params' do it { is_expected.to contain_package('open-iscsi').with( :name => platform_params[:open_iscsi_package_name], :ensure => 'present', :tag => 'openstack', )} it { is_expected.to contain_exec('create-initiatorname-file').with({ :command => 'echo ""InitiatorName=`/usr/sbin/iscsi-iname`"" > /etc/iscsi/initiatorname.iscsi', :path => ['/usr/bin','/usr/sbin','/bin','/usr/bin'], :unless => 'test -e /etc/iscsi/initiatorname.iscsi', }).that_requires('Package[open-iscsi]')} it { is_expected.to contain_service('iscsid').with( :ensure => 'running', :enable => true, ) } end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts()) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :open_iscsi_package_name => 'open-iscsi' } when 'RedHat' { :open_iscsi_package_name => 'iscsi-initiator-utils' } end end it_behaves_like 'openstacklib::iscsid' end end end ",,123,0
openstack%2Fpuppet-gnocchi~master~I08a33e03f68ea8a8b0cbf1945f02750c83ca7da6,openstack/puppet-gnocchi,master,I08a33e03f68ea8a8b0cbf1945f02750c83ca7da6,Make [statsd] flush_delay optional,MERGED,2021-10-19 14:03:11.000000000,2022-01-07 23:54:43.000000000,2022-01-07 23:51:58.000000000,"[{'_account_id': 6681}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 14:03:11.000000000', 'files': ['manifests/statsd.pp', 'releasenotes/notes/statsd-flush_delay-optional-e1aa6d8aac600191.yaml', 'spec/classes/gnocchi_statsd_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/928ae95ab577a76cafcb98bc8278dacf4b97811e', 'message': ""Make [statsd] flush_delay optional\n\nGnocchi doesn't require the [statsd] flush_delay parameter, and it\ndefines the default value (10 seconds). There is no reason to require\nthe parameter in puppet layer because the service default is considered\nto be a reasonable default.\n\nChange-Id: I08a33e03f68ea8a8b0cbf1945f02750c83ca7da6\n""}]",0,814584,928ae95ab577a76cafcb98bc8278dacf4b97811e,9,4,1,9816,,,0,"Make [statsd] flush_delay optional

Gnocchi doesn't require the [statsd] flush_delay parameter, and it
defines the default value (10 seconds). There is no reason to require
the parameter in puppet layer because the service default is considered
to be a reasonable default.

Change-Id: I08a33e03f68ea8a8b0cbf1945f02750c83ca7da6
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/84/814584/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/statsd.pp', 'releasenotes/notes/statsd-flush_delay-optional-e1aa6d8aac600191.yaml', 'spec/classes/gnocchi_statsd_spec.rb']",3,928ae95ab577a76cafcb98bc8278dacf4b97811e,flush_delay, is_expected.to contain_gnocchi_config('statsd/flush_delay').with_value('<SERVICE DEFAULT>') context 'with flush_delay' do before do params.merge!({ :flush_delay => 10 }) end it 'configures the parameter' do is_expected.to contain_gnocchi_config('statsd/flush_delay').with_value(10) end end," :flush_delay => '200', is_expected.to contain_gnocchi_config('statsd/flush_delay').with_value('200')",20,4
openstack%2Fpuppet-gnocchi~master~Ifbe407233c0739038f23c645f2bd544a409bb1cd,openstack/puppet-gnocchi,master,Ifbe407233c0739038f23c645f2bd544a409bb1cd,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 09:59:27.000000000,2022-01-07 23:53:26.000000000,2022-01-07 23:51:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 09:59:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/855db53b2074c8e53c137748447e8324a70817f2', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbe407233c0739038f23c645f2bd544a409bb1cd\n'}, {'number': 2, 'created': '2021-11-25 11:32:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/a9b04d817398338e27895da6da894542b959909e', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbe407233c0739038f23c645f2bd544a409bb1cd\n'}, {'number': 3, 'created': '2021-11-25 11:42:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/867d5636414b508fb6126431a997253f647764ee', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbe407233c0739038f23c645f2bd544a409bb1cd\n'}, {'number': 4, 'created': '2021-11-25 12:14:54.000000000', 'files': ['spec/classes/gnocchi_keystone_authtoken_spec.rb', 'releasenotes/notes/system_scope-keystone-dfb7566a1f8b1eab.yaml', 'spec/classes/gnocchi_keystone_auth_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/f3c8731fcd7021d6e8428181cb738f8da8c3cb65', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Ifbe407233c0739038f23c645f2bd544a409bb1cd\n'}]",0,819280,f3c8731fcd7021d6e8428181cb738f8da8c3cb65,12,3,4,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: Ifbe407233c0739038f23c645f2bd544a409bb1cd
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/80/819280/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/system_scope-42dc92e2c34811d5.yaml', 'spec/classes/gnocchi_keystone_authtoken_spec.rb', 'spec/classes/gnocchi_keystone_auth_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",5,855db53b2074c8e53c137748447e8324a70817f2,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to aodh user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to aodh user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,49,0
openstack%2Fpuppet-designate~master~Iad8849e77d4139e5473c66f699b5bee640e9dceb,openstack/puppet-designate,master,Iad8849e77d4139e5473c66f699b5bee640e9dceb,Add support for [producer_task:*] options,MERGED,2021-12-13 06:30:23.000000000,2022-01-07 23:52:43.000000000,2022-01-07 23:49:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-13 06:30:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/c159aaa7b81176f53156a4183b1ca8ab124bd335', 'message': 'Add support for [producer_task:*] options\n\nThis change introduces support for tunable parameters in the following\nsections.\n\n [producer_task:delayed_notify]\n [producer_task:periodic_exists]\n [producer_task:periodic_secondary_refresh]\n [producer_task:worker_periodic_recovery]\n [producer_task:zone_purge]\n\nChange-Id: Iad8849e77d4139e5473c66f699b5bee640e9dceb\n'}, {'number': 2, 'created': '2021-12-13 07:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d1fa94e3e87fe3f85719e268a6a55468698861ab', 'message': 'Add support for [producer_task:*] options\n\nThis change introduces support for tunable parameters in the following\nsections.\n\n [producer_task:delayed_notify]\n [producer_task:periodic_exists]\n [producer_task:periodic_secondary_refresh]\n [producer_task:worker_periodic_recovery]\n [producer_task:zone_purge]\n\nChange-Id: Iad8849e77d4139e5473c66f699b5bee640e9dceb\n'}, {'number': 3, 'created': '2021-12-13 10:58:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8afa8dc27d66afa571f42f7f9e50afb9d44fa617', 'message': 'Add support for [producer_task:*] options\n\nThis change introduces support for tunable parameters in the following\nsections.\n\n [producer_task:delayed_notify]\n [producer_task:periodic_exists]\n [producer_task:periodic_secondary_refresh]\n [producer_task:worker_periodic_recovery]\n [producer_task:zone_purge]\n\nChange-Id: Iad8849e77d4139e5473c66f699b5bee640e9dceb\n'}, {'number': 4, 'created': '2021-12-13 13:09:19.000000000', 'files': ['spec/classes/designate_producer_task_periodic_secondary_refresh_spec.rb', 'spec/classes/designate_producer_task_periodic_exists_spec.rb', 'manifests/producer_task/delayed_notify.pp', 'spec/classes/designate_producer_task_delayed_notify_spec.rb', 'manifests/producer_task/zone_purge.pp', 'manifests/producer_task/periodic_exists.pp', 'spec/classes/designate_producer_task_worker_periodic_recovery_spec.rb', 'spec/classes/designate_producer_task_zone_purge_spec.rb', 'manifests/producer_task/worker_periodic_recovery.pp', 'manifests/producer_task/periodic_secondary_refresh.pp', 'releasenotes/notes/producer_task-cdddb5df3a459fd7.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/5c53236fc2facb991b3a54a91844a94cc9efa8bc', 'message': 'Add support for [producer_task:*] options\n\nThis change introduces support for tunable parameters in the following\nsections.\n\n [producer_task:delayed_notify]\n [producer_task:periodic_exists]\n [producer_task:periodic_secondary_refresh]\n [producer_task:worker_periodic_recovery]\n [producer_task:zone_purge]\n\nChange-Id: Iad8849e77d4139e5473c66f699b5bee640e9dceb\n'}]",0,821531,5c53236fc2facb991b3a54a91844a94cc9efa8bc,13,3,4,9816,,,0,"Add support for [producer_task:*] options

This change introduces support for tunable parameters in the following
sections.

 [producer_task:delayed_notify]
 [producer_task:periodic_exists]
 [producer_task:periodic_secondary_refresh]
 [producer_task:worker_periodic_recovery]
 [producer_task:zone_purge]

Change-Id: Iad8849e77d4139e5473c66f699b5bee640e9dceb
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/31/821531/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_producer_task_periodic_exists_spec.rb', 'spec/classes/designate_producer_task_periodic_secondary_refresh_spec.rb', 'manifests/producer_task/delayed_notify.pp', 'spec/classes/designate_producer_task_delayed_notify_spec.rb', 'manifests/producer_task/zone_purge.pp', 'manifests/producer_task/periodic_exists.pp', 'spec/classes/designate_producer_task_worker_periodic_recovery_spec.rb', 'spec/classes/designate_producer_task_zone_purge_spec.rb', 'manifests/producer_task/worker_periodic_recovery.pp', 'manifests/producer_task/periodic_secondary_refresh.pp', 'releasenotes/notes/producer_task-cdddb5df3a459fd7.yaml']",11,c159aaa7b81176f53156a4183b1ca8ab124bd335,producer_task,--- features: - | The following classses have been added. - ``designate::producer_task::delayed_notify`` - ``designate::producer_task::periodic_exists`` - ``designate::producer_task::periodic_secondary_refresh`` - ``designate::producer_task::worker_periodic_recovery`` - ``designate::producer_task::zone_purge`` ,,378,0
openstack%2Fpuppet-designate~master~Id0ba4c95005d148477a313f0aa5edddc3c681e15,openstack/puppet-designate,master,Id0ba4c95005d148477a313f0aa5edddc3c681e15,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 09:14:00.000000000,2022-01-07 23:51:39.000000000,2022-01-07 23:49:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 09:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/e61f5c32d4149790cba348f94863641b4238f196', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Id0ba4c95005d148477a313f0aa5edddc3c681e15\n'}, {'number': 2, 'created': '2021-11-25 11:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bf33df464cf30dd72c4ea8d9de9b55a80a3678f1', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Id0ba4c95005d148477a313f0aa5edddc3c681e15\n'}, {'number': 3, 'created': '2021-11-25 11:41:18.000000000', 'files': ['spec/classes/designate_keystone_auth_spec.rb', 'releasenotes/notes/system_scope-keystone-b2c230ab973bd178.yaml', 'spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/d95528c4bf43a9ed5dc74675af86611f4cceaf41', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: Id0ba4c95005d148477a313f0aa5edddc3c681e15\n'}]",0,819274,d95528c4bf43a9ed5dc74675af86611f4cceaf41,11,3,3,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: Id0ba4c95005d148477a313f0aa5edddc3c681e15
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/74/819274/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/designate_keystone_auth_spec.rb', 'spec/classes/designate_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp']",4,e61f5c32d4149790cba348f94863641b4238f196,system-scope-params,"# [*roles*] # (Optional) List of roles assigned to aodh user. # Defaults to ['admin'] # # [*system_scope*] # (Optional) Scope for system operations. # Defaults to 'all' # # [*system_roles*] # (Optional) List of system roles assigned to aodh user. # Defaults to [] # $roles = ['admin'], $system_scope = 'all', $system_roles = [], roles => $roles, system_scope => $system_scope, system_roles => $system_roles,",,36,0
openstack%2Fpuppet-oslo~master~If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b,openstack/puppet-oslo,master,If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b,Accept system scope credentials for Unified Limits API,MERGED,2022-01-06 06:41:02.000000000,2022-01-07 23:50:06.000000000,2022-01-07 23:48:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/c51d46738f5d87bf0243942cd7b2b063b12e5326', 'message': 'Accept system scope credentials for limit API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the limit API in Keystone for unified\nquota feature.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}, {'number': 2, 'created': '2022-01-06 06:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/3fcc5599d06a913ca7e57918d88f6c6a31d7707d', 'message': 'Accept system scope credentials for Unified Limits API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the Unified Limits API in Keystone.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}, {'number': 3, 'created': '2022-01-06 08:53:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/63cdd3c4fa790772c21da9df15ae2d1843217d82', 'message': 'Accept system scope credentials for Unified Limits API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the Unified Limits API in Keystone.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}, {'number': 4, 'created': '2022-01-06 08:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/875f5511d8dbda0b3a22b8dc3254e2c6e57a5779', 'message': 'Accept system scope credentials for Unified Limits API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the Unified Limits API in Keystone.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}, {'number': 5, 'created': '2022-01-06 11:33:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4ebc65c4e775fd7200c70b5eddf4424922d1edf0', 'message': 'Accept system scope credentials for Unified Limits API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the Unified Limits API in Keystone.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}, {'number': 6, 'created': '2022-01-06 13:43:14.000000000', 'files': ['manifests/limit.pp', 'releasenotes/notes/system_scope-keystone-limit-422cbeee81ba84c5.yaml', 'spec/defines/oslo_limit_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/937fcf0644e36060c7e90dc4e7b708fc240b9c25', 'message': 'Accept system scope credentials for Unified Limits API\n\nThis change allows usage of system scope credentials in addition to\nproject scope credentials to use the Unified Limits API in Keystone.\n\nChange-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b\n'}]",0,823629,937fcf0644e36060c7e90dc4e7b708fc240b9c25,16,3,6,9816,,,0,"Accept system scope credentials for Unified Limits API

This change allows usage of system scope credentials in addition to
project scope credentials to use the Unified Limits API in Keystone.

Change-Id: If4f1633c6dd7adf4b80c0a8cc83ddd3d025d099b
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/29/823629/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/limit.pp', 'spec/defines/oslo_limit_spec.rb']",2,c51d46738f5d87bf0243942cd7b2b063b12e5326,system-scope-params," is_expected.to contain_keystone_config('oslo_limit/project_domain_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_limit/project_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_limit/system_scope').with_value('<SERVICE DEFAULT>') :project_name => 'services', is_expected.to contain_keystone_config('oslo_limit/project_name').with_value('services') is_expected.to contain_keystone_config('oslo_limit/system_scope').with_value('<SERVICE DEFAULT>') context 'with system_scope' do let :params do required_params.merge!({ :project_name => 'services', :system_scope => 'all', }) end it 'configures system_scope but ignore project parameters' do is_expected.to contain_keystone_config('oslo_limit/project_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_limit/project_domain_name').with_value('<SERVICE DEFAULT>') is_expected.to contain_keystone_config('oslo_limit/system_scope').with_value('all') end end"," :project_name => 'services', is_expected.to contain_keystone_config('oslo_limit/project_name').with_value('services')",38,5
openstack%2Fneutron~stable%2Fussuri~I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,openstack/neutron,stable/ussuri,I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,[OVN] Fix RowNotFound exception while waiting for metadata networks,MERGED,2022-01-06 06:39:59.000000000,2022-01-07 23:50:05.000000000,2022-01-07 23:48:11.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:39:59.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7699feb4a61661129c79bc7da517f07f1257124c', 'message': '[OVN] Fix RowNotFound exception while waiting for metadata networks\n\nIn the set_port_status_up() the OVN driver waits for the metadata to be\nprovisioned (15 seconds) [0] prior to sending the event to Nova notifying\nthat the provisioning of the port is done (network-vif-plugged). But\nthere could be a race condition while trying to get that information\nwhich results in a RowNotFound being raise in the waiting loop.\n\nOnce that happens, the exception is bubbled up and the OVN driver end up\nnot sending the event to Nova and the instance will fail to deploy (it\nwill be stuck in BUILD state until it times out).\n\nThis patch changes the logic of the method looking for the metadata\nnetwork information to not raise RowNotFound so that the waiting loop\ncan iteract again [0] until the information is available.\n\n[0]\nhttps://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124\n\nChange-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0\nCloses-Bug: #1914394\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)\n(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)\nConflicts cleanly resolved by removing not relevant code added before\nthe addittion of the TestSBImplIdlOvn class.  Also added missing\novsdbapp.backend import:\n    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py\n'}]",2,823628,7699feb4a61661129c79bc7da517f07f1257124c,12,3,1,13686,,,0,"[OVN] Fix RowNotFound exception while waiting for metadata networks

In the set_port_status_up() the OVN driver waits for the metadata to be
provisioned (15 seconds) [0] prior to sending the event to Nova notifying
that the provisioning of the port is done (network-vif-plugged). But
there could be a race condition while trying to get that information
which results in a RowNotFound being raise in the waiting loop.

Once that happens, the exception is bubbled up and the OVN driver end up
not sending the event to Nova and the instance will fail to deploy (it
will be stuck in BUILD state until it times out).

This patch changes the logic of the method looking for the metadata
network information to not raise RowNotFound so that the waiting loop
can iteract again [0] until the information is available.

[0]
https://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124

Change-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0
Closes-Bug: #1914394
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)
(cherry picked from commit cbf3fe098bb44605174b8e582d56814fd36632c7)
Conflicts cleanly resolved by removing not relevant code added before
the addittion of the TestSBImplIdlOvn class.  Also added missing
ovsdbapp.backend import:
    neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py
",git fetch https://review.opendev.org/openstack/neutron refs/changes/28/823628/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py']",3,7699feb4a61661129c79bc7da517f07f1257124c,bug/1914394-ovn-metadata-networks-stable/ussuri,"from ovsdbapp.backend import ovs_idl class TestSBImplIdlOvn(TestDBImplIdlOvn): fake_set = { 'chassis': [ {'name': 'fake-chassis', 'external_ids': {'neutron-metadata-proxy-networks': 'fake-id'}}], } def setUp(self): super(TestSBImplIdlOvn, self).setUp() self.chassis_table = fakes.FakeOvsdbTable.create_one_ovsdb_table() self._tables = {} self._tables['Chassis'] = self.chassis_table with mock.patch.object(impl_idl_ovn.OvsdbSbOvnIdl, 'from_worker', return_value=mock.Mock()): with mock.patch.object(ovs_idl.Backend, 'autocreate_indices', create=True): impl_idl_ovn.OvsdbSbOvnIdl.ovsdb_connection = None self.sb_ovn_idl = impl_idl_ovn.OvsdbSbOvnIdl(mock.MagicMock()) self.sb_ovn_idl.idl.tables = self._tables def _load_sb_db(self): fake_chassis = TestSBImplIdlOvn.fake_set['chassis'] self._load_ovsdb_fake_rows(self.chassis_table, fake_chassis) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks_chassis_empty(self, mock_log): chassis_name = 'fake-chassis' result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) mock_log.assert_called_once_with( ""Couldn't find Chassis named %s in OVN while looking "" ""for metadata networks"", chassis_name) self.assertEqual([], result) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks(self, mock_log): chassis_name = 'fake-chassis' self._load_sb_db() result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) self.assertFalse(mock_log.called) self.assertEqual(['fake-id'], result)",,57,1
openstack%2Frequirements~master~I29356f6087d4635529270cd2d663d9310957bbbe,openstack/requirements,master,I29356f6087d4635529270cd2d663d9310957bbbe,update constraint for python-tackerclient to new release 1.9.0,MERGED,2022-01-07 14:46:20.000000000,2022-01-07 23:49:40.000000000,2022-01-07 23:48:07.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-07 14:46:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/3c7d13bba7425cacb437c4eb2d1b81adc2be56d8', 'message': 'update constraint for python-tackerclient to new release 1.9.0\n\nmeta: version: 1.9.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I39794072d0628cc4fa64272dc80860dbddd23846\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I29356f6087d4635529270cd2d663d9310957bbbe\n'}, {'number': 2, 'created': '2022-01-07 19:49:25.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/b44c447fe6d0201a2b97c443ded289689c8ae84b', 'message': 'update constraint for python-tackerclient to new release 1.9.0\n\nmeta: version: 1.9.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I39794072d0628cc4fa64272dc80860dbddd23846\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I29356f6087d4635529270cd2d663d9310957bbbe\n'}]",0,823809,b44c447fe6d0201a2b97c443ded289689c8ae84b,14,3,2,11131,,,0,"update constraint for python-tackerclient to new release 1.9.0

meta: version: 1.9.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I39794072d0628cc4fa64272dc80860dbddd23846
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I29356f6087d4635529270cd2d663d9310957bbbe
",git fetch https://review.opendev.org/openstack/requirements refs/changes/09/823809/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3c7d13bba7425cacb437c4eb2d1b81adc2be56d8,new-release,python-tackerclient===1.9.0,python-tackerclient===1.8.0,1,1
openstack%2Fpuppet-designate~master~Id94bbfc8693799e0456c9437c05de6477e8ee0af,openstack/puppet-designate,master,Id94bbfc8693799e0456c9437c05de6477e8ee0af,Allow customizing [DEFAULT] state_path,MERGED,2021-12-28 01:54:35.000000000,2022-01-07 23:48:53.000000000,2022-01-07 23:47:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-28 01:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/059093a2cc0c5ca01871178601e019f6fddd2420', 'message': 'Allow customizing [DEFAULT] state_path\n\nChange-Id: Id94bbfc8693799e0456c9437c05de6477e8ee0af\n'}, {'number': 2, 'created': '2022-01-05 11:05:15.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/state_path-8159b7877b81df3a.yaml', 'spec/classes/designate_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/1bd74f65add5f2ed44f526f96093b73b05e611f9', 'message': 'Allow customizing [DEFAULT] state_path\n\nChange-Id: Id94bbfc8693799e0456c9437c05de6477e8ee0af\n'}]",0,823030,1bd74f65add5f2ed44f526f96093b73b05e611f9,10,3,2,9816,,,0,"Allow customizing [DEFAULT] state_path

Change-Id: Id94bbfc8693799e0456c9437c05de6477e8ee0af
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/30/823030/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'manifests/params.pp', 'releasenotes/notes/state_path-8159b7877b81df3a.yaml', 'spec/classes/designate_init_spec.rb']",4,059093a2cc0c5ca01871178601e019f6fddd2420,, context 'without state_path' do it { is_expected.to contain_designate_config('DEFAULT/state_path').with_value('/var/lib/designate') } end context 'with state_path' do let :params do { :state_path => '/var/tmp/designate' } end it { is_expected.to contain_designate_config('DEFAULT/state_path').with_value('/var/tmp/designate') } end,,21,2
openstack%2Fpuppet-designate~stable%2Fwallaby~I2fc87d6a4a166779e34210a377c99b313a0f1b97,openstack/puppet-designate,stable/wallaby,I2fc87d6a4a166779e34210a377c99b313a0f1b97,Add Designate API WSGI support,MERGED,2022-01-06 15:08:49.000000000,2022-01-07 23:48:47.000000000,2022-01-07 23:47:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 15:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/34733390cf1d059b59dd5431030a4febfc699d0b', 'message': 'Add Designate API WSGI support\n\nAdd support for running the Designate API under WSGI with Apache.\n\nConflicts:\n  manifests/api.pp\n\nChange-Id: I2fc87d6a4a166779e34210a377c99b313a0f1b97\n(cherry picked from commit 1288b062e8f0ac88eea9eb6e83ba6cffd119c982)\n'}, {'number': 2, 'created': '2022-01-07 06:11:06.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/designate-api-wsgi-b7a408ecc00f3001.yaml', 'manifests/api.pp', 'manifests/params.pp', 'spec/classes/designate_api_spec.rb', 'spec/classes/designate_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4b35ca1f81ab612f42bd3322ccd4a6082f90b17a', 'message': 'Add Designate API WSGI support\n\nAdd support for running the Designate API under WSGI with Apache.\n\nConflicts:\n  manifests/api.pp\n\nChange-Id: I2fc87d6a4a166779e34210a377c99b313a0f1b97\n(cherry picked from commit 1288b062e8f0ac88eea9eb6e83ba6cffd119c982)\n(cherry picked from commit 9a50eb57b41fd6e3b718fbc4b7cea8e7a18ddb3a)\n'}]",4,823704,4b35ca1f81ab612f42bd3322ccd4a6082f90b17a,16,3,2,6681,,,0,"Add Designate API WSGI support

Add support for running the Designate API under WSGI with Apache.

Conflicts:
  manifests/api.pp

Change-Id: I2fc87d6a4a166779e34210a377c99b313a0f1b97
(cherry picked from commit 1288b062e8f0ac88eea9eb6e83ba6cffd119c982)
(cherry picked from commit 9a50eb57b41fd6e3b718fbc4b7cea8e7a18ddb3a)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/04/823704/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/designate-api-wsgi-b7a408ecc00f3001.yaml', 'manifests/api.pp', 'manifests/params.pp', 'spec/classes/designate_api_spec.rb', 'spec/classes/designate_wsgi_apache_spec.rb']",6,34733390cf1d059b59dd5431030a4febfc699d0b,designate-apache-wallaby,"require 'spec_helper' describe 'designate::wsgi::apache' do shared_examples_for 'apache serving designate with mod_wsgi' do context 'with default parameters' do it { is_expected.to contain_class('designate::params') } it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to_not contain_class('apache::mod::ssl') } it { is_expected.to contain_openstacklib__wsgi__apache('designate_wsgi').with( :bind_port => 9001, :group => 'designate', :path => '/', :servername => facts[:fqdn], :ssl => false, :threads => 1, :user => 'designate', :workers => facts[:os_workers], :wsgi_daemon_process => 'designate', :wsgi_process_group => 'designate', :wsgi_script_dir => platform_params[:wsgi_script_path], :wsgi_script_file => 'app', :wsgi_script_source => platform_params[:wsgi_script_source], :custom_wsgi_process_options => {}, :access_log_file => false, :access_log_format => false, )} end context 'when overriding parameters using different ports' do let :params do { :servername => 'dummy.host', :bind_host => '10.42.51.1', :port => 12345, :ssl => true, :wsgi_process_display_name => 'designate', :workers => 37, :custom_wsgi_process_options => { 'python_path' => '/my/python/path', }, :access_log_file => '/var/log/httpd/access_log', :access_log_format => 'some format', :error_log_file => '/var/log/httpd/error_log', :vhost_custom_fragment => 'Timeout 99' } end it { is_expected.to contain_class('designate::params') } it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to contain_class('apache::mod::ssl') } it { is_expected.to contain_openstacklib__wsgi__apache('designate_wsgi').with( :bind_host => '10.42.51.1', :bind_port => 12345, :group => 'designate', :path => '/', :servername => 'dummy.host', :ssl => true, :threads => 1, :user => 'designate', :workers => 37, :vhost_custom_fragment => 'Timeout 99', :wsgi_daemon_process => 'designate', :wsgi_process_display_name => 'designate', :wsgi_process_group => 'designate', :wsgi_script_dir => platform_params[:wsgi_script_path], :wsgi_script_file => 'app', :wsgi_script_source => platform_params[:wsgi_script_source], :custom_wsgi_process_options => { 'python_path' => '/my/python/path', }, :access_log_file => '/var/log/httpd/access_log', :access_log_format => 'some format', :error_log_file => '/var/log/httpd/error_log' )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts({ :os_workers => 8, :concat_basedir => '/var/lib/puppet/concat', :fqdn => 'some.host.tld' })) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :httpd_service_name => 'apache2', :httpd_ports_file => '/etc/apache2/ports.conf', :wsgi_script_path => '/usr/lib/cgi-bin/designate', :wsgi_script_source => '/usr/bin/designate-api-wsgi' } when 'RedHat' { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/designate', :wsgi_script_source => '/usr/bin/designate-api-wsgi' } end end it_configures 'apache serving designate with mod_wsgi' end end end ",,363,19
openstack%2Fpuppet-vswitch~master~I6a8c65685442477d368820cbb7fcc3a21cddbedd,openstack/puppet-vswitch,master,I6a8c65685442477d368820cbb7fcc3a21cddbedd,Add support for other_config:dpdk-socket-limit,MERGED,2022-01-05 14:51:14.000000000,2022-01-07 23:44:08.000000000,2022-01-07 23:42:31.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 14:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/700a29fb342e87b978d240d8c2e5967d6f4231d8', 'message': 'Add support for other_config:dpdk-socket-limit\n\nThis change adds support for other_config:dpdk-socket-limit, which\nis available since openvswitch 2.12.0[1].\n\n[1] https://github.com/openvswitch/ovs/commit/8411b6ccec\n\nChange-Id: I6a8c65685442477d368820cbb7fcc3a21cddbedd\n'}, {'number': 2, 'created': '2022-01-05 15:00:59.000000000', 'files': ['releasenotes/notes/dpdk-socket-limit-3a03f281787b776e.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/7b91c5ebd7628df687ebc0996604ec93ca596c76', 'message': 'Add support for other_config:dpdk-socket-limit\n\nThis change adds support for other_config:dpdk-socket-limit, which\nis available since openvswitch 2.12.0[1].\n\n[1] https://github.com/openvswitch/ovs/commit/8411b6ccec\n\nChange-Id: I6a8c65685442477d368820cbb7fcc3a21cddbedd\n'}]",0,823542,7b91c5ebd7628df687ebc0996604ec93ca596c76,9,3,2,9816,,,0,"Add support for other_config:dpdk-socket-limit

This change adds support for other_config:dpdk-socket-limit, which
is available since openvswitch 2.12.0[1].

[1] https://github.com/openvswitch/ovs/commit/8411b6ccec

Change-Id: I6a8c65685442477d368820cbb7fcc3a21cddbedd
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/42/823542/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dpdk-socket-limit-3a03f281787b776e.yaml', 'spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp']",3,700a29fb342e87b978d240d8c2e5967d6f4231d8,dpdk-socket-limit,"# [*socket_limit*] # (Optional) Limits the maximum amount of memory that can be used from # the hugepage pool, on a per-socket basis. # Defaults to undef. # $socket_limit = undef, 'other_config:dpdk-socket-limit' => { value => $socket_limit},",,21,2
openstack%2Fneutron~stable%2Ftrain~Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,openstack/neutron,stable/train,Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,"Reduce log level in ""ensure_device_is_ready""",MERGED,2022-01-04 16:58:45.000000000,2022-01-07 23:43:32.000000000,2022-01-07 21:54:51.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 16:58:45.000000000', 'files': ['neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d6faee55fdf110d6561e23ec13f3753b493dc5e', 'message': 'Reduce log level in ""ensure_device_is_ready""\n\nIf the device is not ready, the method should inform about this\nevent. The code calling this method, if needed, can write a higher\nlog message.\n\nChange-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7\nCloses-Bug: #1896920\n(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)\n'}]",1,823360,5d6faee55fdf110d6561e23ec13f3753b493dc5e,14,4,1,7130,,,0,"Reduce log level in ""ensure_device_is_ready""

If the device is not ready, the method should inform about this
event. The code calling this method, if needed, can write a higher
log message.

Change-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7
Closes-Bug: #1896920
(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/823360/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,5d6faee55fdf110d6561e23ec13f3753b493dc5e,bug/1896920-stable/train," LOG.info(""Device %s cannot be used as it has no MAC "" ""address"", device_name)"," LOG.error(""Device %s cannot be used as it has no MAC "" ""address"", device_name)",2,2
openstack%2Fpuppet-ec2api~master~Idf122ad2744acdd020de3cedbd0fe099d5997c4a,openstack/puppet-ec2api,master,Idf122ad2744acdd020de3cedbd0fe099d5997c4a,Support configuring oslo.cache to cache metadata,MERGED,2021-11-15 13:35:03.000000000,2022-01-07 23:43:27.000000000,2022-01-07 23:40:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-15 13:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/06abeccb3d63e7cb5df0010a544887e56e52e914', 'message': 'Support configuring oslo.cache to cache metadata\n\nEc2Api supports caching metadata using the olso.cache library[1]. This\nchange introduces the new parameter/class to configure that usage.\n\n[1] 7939ce17e4e39cb7b0cd1a36d6626258f06dcc70\n\nChange-Id: Idf122ad2744acdd020de3cedbd0fe099d5997c4a\n'}, {'number': 2, 'created': '2021-11-15 15:19:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/1c930d42107ca5b2b2daa87eda0c8e8007fb149a', 'message': 'Support configuring oslo.cache to cache metadata\n\nEc2Api supports caching metadata using the olso.cache library[1]. This\nchange introduces the new parameter/class to configure that usage.\n\n[1] 7939ce17e4e39cb7b0cd1a36d6626258f06dcc70\n\nChange-Id: Idf122ad2744acdd020de3cedbd0fe099d5997c4a\n'}, {'number': 3, 'created': '2022-01-03 02:23:51.000000000', 'files': ['manifests/metadata.pp', 'spec/classes/ec2api_cache_spec.rb', 'spec/classes/ec2api_metadata_spec.rb', 'manifests/cache.pp', 'manifests/deps.pp', 'releasenotes/notes/cache-opts-53453c838655d1cd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/c683b00904764d2500020511f742d7949cc355e1', 'message': 'Support configuring oslo.cache to cache metadata\n\nEc2Api supports caching metadata using the olso.cache library[1]. This\nchange introduces the new parameter/class to configure that usage.\n\n[1] 7939ce17e4e39cb7b0cd1a36d6626258f06dcc70\n\nChange-Id: Idf122ad2744acdd020de3cedbd0fe099d5997c4a\n'}]",4,817946,c683b00904764d2500020511f742d7949cc355e1,17,4,3,9816,,,0,"Support configuring oslo.cache to cache metadata

Ec2Api supports caching metadata using the olso.cache library[1]. This
change introduces the new parameter/class to configure that usage.

[1] 7939ce17e4e39cb7b0cd1a36d6626258f06dcc70

Change-Id: Idf122ad2744acdd020de3cedbd0fe099d5997c4a
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/46/817946/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/metadata.pp', 'spec/classes/ec2api_cache_spec.rb', 'spec/classes/ec2api_metadata_spec.rb', 'manifests/cache.pp', 'releasenotes/notes/cache-opts-53453c838655d1cd.yaml']",5,06abeccb3d63e7cb5df0010a544887e56e52e914,cache-opts,--- features: - | Support for configuring metadata caching using ``oslo.cache`` library has been added. ,,273,0
openstack%2Fpuppet-vswitch~master~I8faeb44b708cf371e98b56a375a6dcc07d82df3e,openstack/puppet-vswitch,master,I8faeb44b708cf371e98b56a375a6dcc07d82df3e,Accept array for dpdk-socket-mem,MERGED,2022-01-05 14:56:17.000000000,2022-01-07 23:42:29.000000000,2022-01-07 23:42:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 14:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6194a756c24eeb8c242feed26000ed878e9e9c01', 'message': 'Accept array for dpdk-socket-mem/limit\n\ndpdk-socket-mem and dpdk-socket-limit accept comma-separated lists\nof memory limits per socket. This change allows usage of native Array\nto define per-socket limits.\n\nChange-Id: I8faeb44b708cf371e98b56a375a6dcc07d82df3e\n'}, {'number': 2, 'created': '2022-01-05 15:00:59.000000000', 'files': ['spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5a009f686fbe48c7503a9148dc5dfb4650713d94', 'message': 'Accept array for dpdk-socket-mem\n\ndpdk-socket-mem accepts a comma-separated list of memory amounts per\nsocket. This change allows usage of native Array to define per-socket\namounts.\n\nChange-Id: I8faeb44b708cf371e98b56a375a6dcc07d82df3e\n'}]",0,823547,5a009f686fbe48c7503a9148dc5dfb4650713d94,8,3,2,9816,,,0,"Accept array for dpdk-socket-mem

dpdk-socket-mem accepts a comma-separated list of memory amounts per
socket. This change allows usage of native Array to define per-socket
amounts.

Change-Id: I8faeb44b708cf371e98b56a375a6dcc07d82df3e
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/47/823547/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/vswitch_dpdk_spec.rb', 'manifests/dpdk.pp']",2,6194a756c24eeb8c242feed26000ed878e9e9c01,dpdk-socket-limit," 'other_config:dpdk-socket-mem' => { value => join(any2array($socket_mem), ',')}, 'other_config:dpdk-socket-limit' => { value => join(any2array($socket_limit), ',')},"," 'other_config:dpdk-socket-mem' => { value => $socket_mem}, 'other_config:dpdk-socket-limit' => { value => $socket_limit},",18,2
openstack%2Fpuppet-aodh~master~I672a988e77e58df0addb1ed4a47d609cbcef1331,openstack/puppet-aodh,master,I672a988e77e58df0addb1ed4a47d609cbcef1331,Accept system scope credentials for Keystone API request,MERGED,2021-08-12 05:59:17.000000000,2022-01-07 23:37:56.000000000,2022-01-07 23:36:32.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-12 05:59:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/0f2283d9a9cf400f3577fe2d7330d11757604f02', 'message': 'Add support for the system_scope parameter\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 2, 'created': '2021-08-12 06:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/5343e7289dce597ad3f3855fa05a86177461a7ff', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the nww system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 3, 'created': '2021-08-12 06:04:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/1dd24b5162427a61a30930e0b17749a0dc494e2a', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 4, 'created': '2021-08-12 07:53:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2a28cbc55745ea9e91244d8bffca2d074a5cca76', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 5, 'created': '2021-08-12 08:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2499ca0f2893414f9e201420ce40469cd3f635dd', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 6, 'created': '2021-08-26 10:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/ef4cbeff04ab21e92b8d31a1f2993d39b06365d6', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 7, 'created': '2021-08-26 11:38:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/03aec9097ff5dae60e944189e4a98f99ef669746', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 8, 'created': '2021-08-27 06:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/27f8ffc7e43a7502c27277c6b3057998f6e22e55', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 9, 'created': '2021-08-27 06:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/d283d8c7b123cea2b3f5cb8d2b4c56587bed9977', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 10, 'created': '2021-08-27 07:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/a885f48463b54afcbb49fd5fe41c536e300c5291', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 11, 'created': '2021-10-20 02:57:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/702ebb8dac47f07c259ce61f829b6fd91d19a301', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 12, 'created': '2021-10-20 06:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/665b8df86162be36794e2811633653ff8bec03ce', 'message': ""Add support for the system_scope parameter\n\nThis change introduces support for the new system_scope parameter, so\nthat we can define keystone user credentials to use system scope token\ninstead of project scope token. The parameter is currently disabled by\ndefault but it is likely that we'll update the default in the future\nwhen all services enforce secure RBAC by default.\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n""}, {'number': 13, 'created': '2021-11-25 02:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/9a77b25b5b80d84454e67d2433afb6ddb18bd992', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 14, 'created': '2021-11-25 02:54:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/291eb58b72e6571170136970cef427e94625d995', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 15, 'created': '2021-11-25 03:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/cb043f049ff61c8e600e0ab3b607d64f3cc942d0', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 16, 'created': '2021-11-25 06:18:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/6f094dd8ade225f819b79b562a87990d963c5389', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 17, 'created': '2021-11-25 11:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/c41c16ef2c660e3800f75d4388de35d8a1629c5f', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 18, 'created': '2021-11-25 11:38:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/54d2e01c7a47122fab2bcaa965ea270789db6d9a', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}, {'number': 19, 'created': '2021-11-25 13:51:08.000000000', 'files': ['spec/classes/aodh_keystone_authtoken_spec.rb', 'spec/classes/aodh_keystone_auth_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-af2d2f0ea5ed7043.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/e13c2c971349c282c83bcfe3c47e61b2e63f89f3', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331\n'}]",2,804350,e13c2c971349c282c83bcfe3c47e61b2e63f89f3,61,5,19,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I672a988e77e58df0addb1ed4a47d609cbcef1331
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/50/804350/17 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/aodh_keystone_authtoken_spec.rb', 'spec/classes/aodh_service_credentials_spec.rb', 'manifests/service_credentials.pp', 'releasenotes/notes/system_scope-e1779763b2a264f4.yaml', 'manifests/keystone/authtoken.pp']",5,0f2283d9a9cf400f3577fe2d7330d11757604f02,system-scope-params,"# [*system_scope*] # (Optional) Scope for system operations # Defaults to $::os_service_default # $system_scope = $::os_service_default, if is_service_default($system_scope) { $project_name_real = $project_name $project_domain_name_real = $project_domain_name } else { # When system scope is used, project parameters should be removed otherwise # project scope is used. $project_name_real = $::os_service_default $project_domain_name_real = $::os_service_default } system_scope => $system_scope,",,52,5
openstack%2Fpuppet-mistral~master~I73f6b7adf4721e64974ebb8c78a6f70ab00d20f6,openstack/puppet-mistral,master,I73f6b7adf4721e64974ebb8c78a6f70ab00d20f6,Accept system scope credentials for Keystone API request,MERGED,2022-01-03 05:50:52.000000000,2022-01-07 23:37:50.000000000,2022-01-07 23:36:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 05:50:52.000000000', 'files': ['spec/classes/mistral_keystone_auth_spec.rb', 'spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-9a41ff0d799142db.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/1934cb65787540f07258a280b249f8baf3230f49', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I73f6b7adf4721e64974ebb8c78a6f70ab00d20f6\n'}]",0,823248,1934cb65787540f07258a280b249f8baf3230f49,8,3,1,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I73f6b7adf4721e64974ebb8c78a6f70ab00d20f6
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/48/823248/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/mistral_keystone_auth_spec.rb', 'spec/classes/mistral_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-9a41ff0d799142db.yaml']",5,1934cb65787540f07258a280b249f8baf3230f49,system-scope-params,--- features: - | The ``system_scope`` parameter has been added to the ``mistral::keystone::authtoken`` class. - | The ``mistral::keystone::auth`` class now supports customizing roles assigned to the mistral service user. - | The ``mistral::keystone::auth`` class now supports defining assignmet of system-scoped roles to the mistral service user. ,,49,0
openstack%2Fpuppet-openstack-integration~stable%2Fwallaby~Id2431a9f40f523f0fa8dd340e442d4c9c126f906,openstack/puppet-openstack-integration,stable/wallaby,Id2431a9f40f523f0fa8dd340e442d4c9c126f906,Bump required versions of dns and rsync modules,MERGED,2022-01-07 13:26:13.000000000,2022-01-07 23:35:37.000000000,2022-01-07 23:35:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 13:26:13.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/43097e401cb56ece72b9204c8a77ede58246302a', 'message': 'Bump required versions of dns and rsync modules\n\nWe need to include patches required to support CentOS Stream 9:\n\nhttps: //github.com/theforeman/puppet-dns/commit/70f5b28cf847d3033a418c0d2776218698a4025a\nhttps: //github.com/puppetlabs/puppetlabs-rsync/commit/ea6397ef55273b7e20d8eccece493cceb795f5eb\nChange-Id: Id2431a9f40f523f0fa8dd340e442d4c9c126f906\n'}]",1,823797,43097e401cb56ece72b9204c8a77ede58246302a,7,4,1,16312,,,0,"Bump required versions of dns and rsync modules

We need to include patches required to support CentOS Stream 9:

https: //github.com/theforeman/puppet-dns/commit/70f5b28cf847d3033a418c0d2776218698a4025a
https: //github.com/puppetlabs/puppetlabs-rsync/commit/ea6397ef55273b7e20d8eccece493cceb795f5eb
Change-Id: Id2431a9f40f523f0fa8dd340e442d4c9c126f906
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/97/823797/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,43097e401cb56ece72b9204c8a77ede58246302a,c9, :ref => 'ea6397ef55273b7e20d8eccece493cceb795f5eb' :ref => '70f5b28cf847d3033a418c0d2776218698a4025a', :ref => '1.1.3' :ref => '8.1.0',2,2
openstack%2Fpuppet-vswitch~master~I6f1dfd33cc85d84a53e346f45359ce382e5fda26,openstack/puppet-vswitch,master,I6f1dfd33cc85d84a53e346f45359ce382e5fda26,vs_config: Accept integer and boolean for value,MERGED,2022-01-03 03:26:21.000000000,2022-01-07 23:33:26.000000000,2022-01-07 23:31:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 03:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e40d46537aab11a096003eba97de0fb58ca6b7f0', 'message': 'vs_config: Accept Integer for value\n\nSome parameters like vlan_limit expect integer values. However current\nvs_config accepts only string values thus we need to convert integer\nto string in manifests.\n\nThis change makes vs_config accept integer values so that we no longer\nneed to implement conversion in manifests.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}, {'number': 2, 'created': '2022-01-03 03:32:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/ed0a612857ca1c78c9e288f194aa21b4f6808af4', 'message': 'vs_config: Accept integer and boolean for value\n\nSome parameters like vlan_limit or hw-offload expect integer values\nand boolean values. However current vs_config accepts only strings\nand we need to convert integer to string in manifests.\n\nThis change makes vs_config accept integers and booleans so that we no\nlonger need to implement redundant conversion in manifests.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}, {'number': 3, 'created': '2022-01-05 11:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/02fed888965bc896699c2e13fbfb3041c8e96521', 'message': 'vs_config: Accept integer and boolean for value\n\nSome parameters like vlan_limit or hw-offload expect integer values\nand boolean values. However current vs_config accepts only strings\nand we need to convert integer to string in manifests.\n\nThis change makes vs_config accept integers and booleans so that we no\nlonger need to implement redundant conversion in manifests.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}, {'number': 4, 'created': '2022-01-05 11:48:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/d45f55cb3cabdc784ce3db25177af585901e952c', 'message': 'vs_config: Accept integer and boolean for value\n\nSome parameters like vlan_limit or hw-offload expect integer values\nand boolean values. However current vs_config accepts only strings\nand we need to convert integer to string in manifests.\n\nThis change makes vs_config accept integers and booleans so that we no\nlonger need to implement redundant conversion in manifests.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}, {'number': 5, 'created': '2022-01-05 13:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/e834273b544cf326aa0a2ef62109759ed3d1c1d6', 'message': 'vs_config: Accept integer and boolean for value\n\nSome parameters like vlan_limit or hw-offload expect integer values\nand boolean values. However current vs_config accepts only strings\nand we need to convert integer to string in manifests.\n\nThis change makes vs_config accept integers and booleans so that we no\nlonger need to implement redundant conversion in manifests.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}, {'number': 6, 'created': '2022-01-05 13:59:12.000000000', 'files': ['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'spec/unit/puppet/lib/type/vs_config_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp', 'releasenotes/notes/vs_config-allow-integer-and-boolean-20f9aec5951b35f8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/becab37c5e39add1e682fca18a0f6a4378b55ab4', 'message': 'vs_config: Accept integer and boolean for value\n\nSome parameters like vlan_limit or hw-offload expect integer values\nand boolean values. However current vs_config accepts only strings\nand we need to convert integer or boolena to string in manifests\nexplicitly.\n\nThis change makes vs_config accept integers and booleans so that\nwe can use more ""native"" types to define values.\n\nChange-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26\n'}]",0,823244,becab37c5e39add1e682fca18a0f6a4378b55ab4,15,3,6,9816,,,0,"vs_config: Accept integer and boolean for value

Some parameters like vlan_limit or hw-offload expect integer values
and boolean values. However current vs_config accepts only strings
and we need to convert integer or boolena to string in manifests
explicitly.

This change makes vs_config accept integers and booleans so that
we can use more ""native"" types to define values.

Change-Id: I6f1dfd33cc85d84a53e346f45359ce382e5fda26
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/44/823244/4 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/vs_config.rb', 'spec/classes/vswitch_dpdk_spec.rb', 'spec/unit/puppet/lib/type/vs_config_spec.rb', 'manifests/ovs.pp', 'spec/classes/vswitch_ovs_spec.rb', 'manifests/dpdk.pp']",6,e40d46537aab11a096003eba97de0fb58ca6b7f0,," value => 0, value => $vlan_limit,"," value => '0', } elsif $vlan_limit == undef { vs_config { 'other_config:vlan-limit': ensure => absent, wait => true, } value => ""${vlan_limit}"",",32,26
openstack%2Fpuppet-designate~stable%2Fwallaby~I6b57a4ea107a59896e39d07146e90bdef65b4d08,openstack/puppet-designate,stable/wallaby,I6b57a4ea107a59896e39d07146e90bdef65b4d08,Add support for oslo_middleware/enable_proxy_headers_parsing,MERGED,2022-01-03 02:49:45.000000000,2022-01-07 23:29:22.000000000,2022-01-07 23:27:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 02:49:45.000000000', 'files': ['releasenotes/notes/add-enable_proxy_headers_parsing-fb76fa3450bd4ed9.yaml', 'manifests/api.pp', 'spec/classes/designate_api_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/1168a17b79f86f26d231880bb70c898c1cb1549c', 'message': 'Add support for oslo_middleware/enable_proxy_headers_parsing\n\nConflicts:\n\tmanifests/api.pp\n\nChange-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08\n(cherry picked from commit 5c7d7e6d58fcfb240673420bc196a75ab888d72c)\n'}]",0,823243,1168a17b79f86f26d231880bb70c898c1cb1549c,8,3,1,9816,,,0,"Add support for oslo_middleware/enable_proxy_headers_parsing

Conflicts:
	manifests/api.pp

Change-Id: I6b57a4ea107a59896e39d07146e90bdef65b4d08
(cherry picked from commit 5c7d7e6d58fcfb240673420bc196a75ab888d72c)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/43/823243/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-enable_proxy_headers_parsing-fb76fa3450bd4ed9.yaml', 'manifests/api.pp', 'spec/classes/designate_api_spec.rb']",3,1168a17b79f86f26d231880bb70c898c1cb1549c,designate-proxy-headers," is_expected.to contain_oslo__middleware('designate_config').with( :enable_proxy_headers_parsing => '<SERVICE DEFAULT>' ) :enable_proxy_headers_parsing => true, is_expected.to contain_oslo__middleware('designate_config').with( :enable_proxy_headers_parsing => params[:enable_proxy_headers_parsing] )",,44,22
openstack%2Fnova~master~I5ee59daeae4053c9f07ae7056fd4b2ecc6257637,openstack/nova,master,I5ee59daeae4053c9f07ae7056fd4b2ecc6257637,WIP: libvirt: build CPU distance matrix upon init,NEW,2022-01-07 21:45:20.000000000,2022-01-07 23:27:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-07 21:45:20.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/8bed86f980b70d89045d3b6b83dc7500c62dede4', 'message': 'WIP: libvirt: build CPU distance matrix upon init\n\nWhen chosing which host CPUs to use when placing guest CPUs, the goal\nis to cluster them together as much as possible. To that end, this\npatch starts building a 2D matrix of CPU distances such that\nmatrix[x][y] is an int representing how close CPUs x and y are - the\nlower the number, the closer.\n\nTODO(artom) Consider making the heuristic smarter. For now it just\nadds 10 every time we cross a core/die/socket boundary.\n\nImplements blueprint libvirt-smarter-cpu-placement\n\nChange-Id: I5ee59daeae4053c9f07ae7056fd4b2ecc6257637\n'}]",1,823866,8bed86f980b70d89045d3b6b83dc7500c62dede4,4,1,1,8864,,,0,"WIP: libvirt: build CPU distance matrix upon init

When chosing which host CPUs to use when placing guest CPUs, the goal
is to cluster them together as much as possible. To that end, this
patch starts building a 2D matrix of CPU distances such that
matrix[x][y] is an int representing how close CPUs x and y are - the
lower the number, the closer.

TODO(artom) Consider making the heuristic smarter. For now it just
adds 10 every time we cross a core/die/socket boundary.

Implements blueprint libvirt-smarter-cpu-placement

Change-Id: I5ee59daeae4053c9f07ae7056fd4b2ecc6257637
",git fetch https://review.opendev.org/openstack/nova refs/changes/66/823866/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,8bed86f980b70d89045d3b6b83dc7500c62dede4,bp/libvirt-smarter-cpu-placement," def test_calc_cpu_distances(self): # 0 and 1 are on die 0, core 0 cpu0 = vconfig.LibvirtConfigCapsNUMACPU() cpu0.id = 0 cpu0.socket_id = 0 cpu0.die_id = 0 cpu0.core_id = 0 cpu1 = vconfig.LibvirtConfigCapsNUMACPU() cpu1.id = 1 cpu1.socket_id = 0 cpu1.die_id = 0 cpu1.core_id = 0 # 2 and 3 are on die 0, core 1 cpu2 = vconfig.LibvirtConfigCapsNUMACPU() cpu2.id = 2 cpu2.socket_id = 0 cpu2.die_id = 0 cpu2.core_id = 1 cpu3 = vconfig.LibvirtConfigCapsNUMACPU() cpu3.id = 3 cpu3.socket_id = 0 cpu3.die_id = 0 cpu3.core_id = 1 # 4 and 5 are on die 1, core 0 cpu4 = vconfig.LibvirtConfigCapsNUMACPU() cpu4.id = 4 cpu4.socket_id = 0 cpu4.die_id = 1 cpu4.core_id = 0 cpu5 = vconfig.LibvirtConfigCapsNUMACPU() cpu5.id = 5 cpu5.socket_id = 0 cpu5.die_id = 1 cpu5.core_id = 0 # 6 and 7 are on die 1, core 1 cpu6 = vconfig.LibvirtConfigCapsNUMACPU() cpu6.id = 6 cpu6.socket_id = 0 cpu6.die_id = 1 cpu6.core_id = 1 cpu7 = vconfig.LibvirtConfigCapsNUMACPU() cpu7.id = 7 cpu7.socket_id = 0 cpu7.die_id = 1 cpu7.core_id = 1 # 0 through 7 are in cell0 cell0 = vconfig.LibvirtConfigCapsNUMACell() cell0.cpus = [cpu0, cpu1, cpu2, cpu3, cpu4, cpu5, cpu6, cpu7] # 8 through 15 are in cell0, copy 0-7 and update the id and socket cell1 = copy.deepcopy(cell0) for cpu in cell1.cpus: cpu.id += 8 cpu.socket_id = 1 caps = vconfig.LibvirtConfigCaps() caps.host = vconfig.LibvirtConfigCapsHost() caps.host.topology = vconfig.LibvirtConfigCapsNUMATopology() caps.host.topology.cells = [cell0, cell1] with mock.patch.object(host.Host, 'get_capabilities', return_value=caps): distances = self.drvr._calc_cpu_distances() # Same core self.assertEqual(0, distances[0][1]) # Different core, same die self.assertEqual(10, distances[1][3]) # Different die, same socket self.assertEqual(20, distances[3][7]) # Different socket self.assertEqual(30, distances[5][11]) ",,107,0
openstack%2Fpuppet-manila~master~I75378fdef418f95cae1790abcd26754453256dbf,openstack/puppet-manila,master,I75378fdef418f95cae1790abcd26754453256dbf,Prepare updating default of emc_ssl_cert_verify,MERGED,2022-01-07 14:01:57.000000000,2022-01-07 23:18:25.000000000,2022-01-07 23:15:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 14:01:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/4846499c6db64ec03ba7931b0015c2708dcc7d9c', 'message': 'Prepare updating default of emc_ssl_cert_verify\n\nCurrently, the emc_ssl_cert_verify parameter defaults for some backends\nis set to false by default though the parameter defaults to true in\nManila itself. Furthermore, it is generally discouraged to disable\nverification of SSL certs.\n\nThis change prepares updating the default value in a future release,\nand provide notice about that change.\n\nChange-Id: I75378fdef418f95cae1790abcd26754453256dbf\n'}, {'number': 2, 'created': '2022-01-07 14:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/0d4b6952a57680bb37109eb47db68bf92658c1bc', 'message': 'Prepare updating default of emc_ssl_cert_verify\n\nCurrently, the emc_ssl_cert_verify parameter defaults for some backends\nis set to false by default though the parameter defaults to true in\nManila itself. Furthermore, it is generally discouraged to disable\nverification of SSL certs.\n\nThis change prepares updating the default value in a future release,\nand provide notice about that change.\n\nChange-Id: I75378fdef418f95cae1790abcd26754453256dbf\n'}, {'number': 3, 'created': '2022-01-07 15:17:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f8649ed362282aa43ca782dff303ada5a22a7dd5', 'message': 'Prepare updating default of emc_ssl_cert_verify\n\nCurrently, the emc_ssl_cert_verify parameter defaults for some backends\nis set to false by default though the parameter defaults to true in\nManila itself. Furthermore, it is generally discouraged to disable\nverification of SSL certs.\n\nThis change prepares updating the default value in a future release,\nand provide notice about that change.\n\nChange-Id: I75378fdef418f95cae1790abcd26754453256dbf\n'}, {'number': 4, 'created': '2022-01-07 15:18:49.000000000', 'files': ['manifests/backend/dellemc_unity.pp', 'releasenotes/notes/change-emc_ssl_cert_verify-2a6204b63853bdf1.yaml', 'manifests/backend/dellemc_vnx.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e197b396a8224b86873aa8d439e57c847d774f57', 'message': 'Prepare updating default of emc_ssl_cert_verify\n\nCurrently, the emc_ssl_cert_verify parameter defaults to false in\nsome backends. However the parameter defaults to true in Manila itself,\nand it is generally discouraged to disable verification of SSL certs.\n\nThis change prepares updating the default value in a future release,\nand provide notice about that change.\n\nChange-Id: I75378fdef418f95cae1790abcd26754453256dbf\n'}]",0,823804,e197b396a8224b86873aa8d439e57c847d774f57,15,3,4,9816,,,0,"Prepare updating default of emc_ssl_cert_verify

Currently, the emc_ssl_cert_verify parameter defaults to false in
some backends. However the parameter defaults to true in Manila itself,
and it is generally discouraged to disable verification of SSL certs.

This change prepares updating the default value in a future release,
and provide notice about that change.

Change-Id: I75378fdef418f95cae1790abcd26754453256dbf
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/04/823804/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/emc_ssl_cert_verify-2719db74bcb6ff9d.yaml', 'manifests/backend/dellemc_unity.pp', 'manifests/backend/dellemc_vnx.pp']",3,4846499c6db64ec03ba7931b0015c2708dcc7d9c,emc_ssl_cert_verify," $emc_ssl_cert_verify = undef, if $emc_ssl_cert_verify == undef { warning('Default of emc_ssl_cert_verify will be changed from false to service default(true).') } emc_ssl_cert_verify_real = pick($emc_ssl_cert_verify, false) "," $emc_ssl_cert_verify = false,",19,2
openstack%2Fpuppet-manila~master~I8c4b4097f1237eb281b78e22c628720fc712e43b,openstack/puppet-manila,master,I8c4b4097f1237eb281b78e22c628720fc712e43b,Unity: Add support for report_default_filter_function,MERGED,2022-01-06 10:02:54.000000000,2022-01-07 23:17:04.000000000,2022-01-07 23:14:04.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e30d265f447eab2ee4b4112504fb6893fe424edb', 'message': 'Unity: Add support for report_default_filter_function\n\nChange-Id: I8c4b4097f1237eb281b78e22c628720fc712e43b\nCloses-Bug: #1876041\n'}, {'number': 2, 'created': '2022-01-06 10:27:46.000000000', 'files': ['manifests/backend/dellemc_unity.pp', 'releasenotes/notes/unity-report_default_filter_function-5d42810bbbeabca7.yaml', 'spec/defines/manila_backend_dellemc_unity_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/5976686b748b59c5e5900e3c15d9e932062e1ff2', 'message': 'Unity: Add support for report_default_filter_function\n\nCloses-Bug: #1876041\nChange-Id: I8c4b4097f1237eb281b78e22c628720fc712e43b\n'}]",0,823652,5976686b748b59c5e5900e3c15d9e932062e1ff2,10,4,2,9816,,,0,"Unity: Add support for report_default_filter_function

Closes-Bug: #1876041
Change-Id: I8c4b4097f1237eb281b78e22c628720fc712e43b
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/52/823652/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_unity.pp', 'releasenotes/notes/unity-report_default_filter_function-5d42810bbbeabca7.yaml', 'spec/defines/manila_backend_dellemc_unity_spec.rb']",3,e30d265f447eab2ee4b4112504fb6893fe424edb,bug/1876041," :report_default_filter_function => false, :report_default_filter_function => '<SERVICE DEFAULT>',",,27,15
openstack%2Fpuppet-manila~master~I26893b21bacb6f86b190cf8eb642bdccc169e6af,openstack/puppet-manila,master,I26893b21bacb6f86b190cf8eb642bdccc169e6af,Refactor defaults of manila::backend::dellemc_unity,MERGED,2022-01-06 10:45:27.000000000,2022-01-07 23:15:46.000000000,2022-01-07 23:15:46.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 10:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d0e8aeada820f10b013443b809014116616f0e8d', 'message': 'Refactor defaults of manila::backend::dellemc_unity\n\n- Use $::os_service_default instead of undef, to rely on service\n  defaults instead of passing an empty value\n\n- The unity_share_meta_pools parameter is required by the driver\n  implementation. Make it required in the puppet module as well to\n  let users notice the missing parameter.\n\nChange-Id: I26893b21bacb6f86b190cf8eb642bdccc169e6af\n'}, {'number': 2, 'created': '2022-01-07 00:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e70423af0089b444fb0267aad119d552f245c59d', 'message': 'Refactor defaults of manila::backend::dellemc_unity\n\n- Use $::os_service_default instead of undef, to rely on service\n  defaults instead of passing an empty value\n\n- The unity_share_meta_pools parameter is required by the driver\n  implementation. Make it required in the puppet module as well to\n  let users notice the missing parameter.\n\nChange-Id: I26893b21bacb6f86b190cf8eb642bdccc169e6af\n'}, {'number': 3, 'created': '2022-01-07 02:01:11.000000000', 'files': ['manifests/backend/dellemc_unity.pp', 'spec/defines/manila_backend_dellemc_unity_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/fc19c688fb367293f6e8f37467cec2255b658740', 'message': 'Refactor defaults of manila::backend::dellemc_unity\n\n- Use $::os_service_default instead of undef, to rely on service\n  defaults instead of passing an empty value\n\n- The unity_share_meta_pools parameter is required by the driver\n  implementation. Make it required in the puppet module as well to\n  let users notice the missing parameter.\n\nChange-Id: I26893b21bacb6f86b190cf8eb642bdccc169e6af\n'}]",4,823656,fc19c688fb367293f6e8f37467cec2255b658740,16,4,3,9816,,,0,"Refactor defaults of manila::backend::dellemc_unity

- Use $::os_service_default instead of undef, to rely on service
  defaults instead of passing an empty value

- The unity_share_meta_pools parameter is required by the driver
  implementation. Make it required in the puppet module as well to
  let users notice the missing parameter.

Change-Id: I26893b21bacb6f86b190cf8eb642bdccc169e6af
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/56/823656/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_unity.pp', 'spec/defines/manila_backend_dellemc_unity_spec.rb']",2,d0e8aeada820f10b013443b809014116616f0e8d,use-service_defaults," let :required_params do { :driver_handles_share_servers => true, :emc_nas_login => 'admin', :emc_nas_password => 'password', :emc_nas_server => '127.0.0.2', :unity_share_data_pools => '*', :network_plugin_ipv6_enabled => true, :emc_ssl_cert_verify => false, default_params.merge!(params) let :params do required_params let :params do required_params.merge!({ :unity_server_meta_pool => 'pool1', :unity_ethernet_ports => 'eth1', :unity_share_server => '192.168.0.1', :report_default_filter_function => false, :network_plugin_ipv6_enabled => true, :emc_ssl_cert_verify => true, :emc_ssl_cert_path => '/etc/ssl/certs/', :backend_availability_zone => 'my_zone', }) end let :params do required_params.merge!({"," let :params do { :driver_handles_share_servers => true, :emc_nas_login => 'admin', :emc_nas_password => 'password', :emc_nas_server => '127.0.0.2', :unity_server_meta_pool => 'pool1', :unity_share_data_pools => '*', :unity_ethernet_ports => 'eth1', :unity_share_server => '192.168.0.1', :report_default_filter_function => false, :network_plugin_ipv6_enabled => true, :emc_ssl_cert_verify => true, :emc_ssl_cert_path => '/etc/ssl/certs/', :backend_availability_zone => 'my_zone', :network_plugin_ipv6_enabled => '<SERVICE DEFAULT>', :emc_ssl_cert_verify => '<SERVICE DEFAULT>', default_params.merge(params) before do params = {} before do params.merge!({",35,31
openstack%2Fpuppet-manila~master~I764a2e8e3cbdb6def071d6092d6652e9f173ad38,openstack/puppet-manila,master,I764a2e8e3cbdb6def071d6092d6652e9f173ad38,Unity: Add support for unity_share_server,MERGED,2022-01-06 09:58:45.000000000,2022-01-07 23:15:40.000000000,2022-01-07 23:14:02.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 09:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/a1bd40cd1094a8a2e9962c025e5202d10ef7ea82', 'message': 'Unity: Add support for unity_share_server\n\nChange-Id: I764a2e8e3cbdb6def071d6092d6652e9f173ad38\n'}, {'number': 2, 'created': '2022-01-06 10:00:29.000000000', 'files': ['manifests/backend/dellemc_unity.pp', 'releasenotes/notes/unity_share_server-31bce3e772e0b617.yaml', 'spec/defines/manila_backend_dellemc_unity_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/3f089d4034e8d44f5839efeefd1cd11f5d8370dc', 'message': 'Unity: Add support for unity_share_server\n\nChange-Id: I764a2e8e3cbdb6def071d6092d6652e9f173ad38\n'}]",0,823651,3f089d4034e8d44f5839efeefd1cd11f5d8370dc,12,4,2,9816,,,0,"Unity: Add support for unity_share_server

Change-Id: I764a2e8e3cbdb6def071d6092d6652e9f173ad38
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/51/823651/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_unity.pp', 'releasenotes/notes/unity_share_server-31bce3e772e0b617.yaml', 'spec/defines/manila_backend_dellemc_unity_spec.rb']",3,a1bd40cd1094a8a2e9962c025e5202d10ef7ea82,unity_share_server," :unity_share_server => '192.168.0.1', :emc_share_backend => 'unity', :unity_server_meta_pool => '<SERVICE DEFAULT>', :unity_share_data_pools => '<SERVICE DEFAULT>', :unity_ethernet_ports => '<SERVICE DEFAULT>', :unity_share_server => '<SERVICE DEFAULT>', :network_plugin_ipv6_enabled => '<SERVICE DEFAULT>', :emc_ssl_cert_verify => '<SERVICE DEFAULT>', :emc_ssl_cert_path => '<SERVICE DEFAULT>', :backend_availability_zone => '<SERVICE DEFAULT>',"," :emc_share_backend => 'unity', :unity_server_meta_pool => '<SERVICE DEFAULT>', :unity_share_data_pools => '<SERVICE DEFAULT>', :unity_ethernet_ports => '<SERVICE DEFAULT>', :network_plugin_ipv6_enabled => '<SERVICE DEFAULT>', :emc_ssl_cert_verify => '<SERVICE DEFAULT>', :emc_ssl_cert_path => '<SERVICE DEFAULT>', :backend_availability_zone => '<SERVICE DEFAULT>',",21,8
openstack%2Fpuppet-octavia~master~I1ae6f0f465f8dfb778b54ac1d2dff11387b2e2c8,openstack/puppet-octavia,master,I1ae6f0f465f8dfb778b54ac1d2dff11387b2e2c8,Add support to manage default quota about l7policy/rule,MERGED,2021-11-09 15:22:25.000000000,2022-01-07 22:57:47.000000000,2022-01-07 22:54:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-09 15:22:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c829c008ad9e0a3c072637bcd95eed689f30b146', 'message': 'Add support to manage default quota about l7policy/rule\n\nChange-Id: I1ae6f0f465f8dfb778b54ac1d2dff11387b2e2c8\n'}, {'number': 2, 'created': '2021-11-09 16:18:26.000000000', 'files': ['spec/classes/octavia_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/l7-default-quota-810c3475d7b3e795.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/cf21e93e7ee34b0b3bd417e3bfe4f63f4e10cb19', 'message': 'Add support to manage default quota about l7policy/rule\n\nChange-Id: I1ae6f0f465f8dfb778b54ac1d2dff11387b2e2c8\n'}]",0,817230,cf21e93e7ee34b0b3bd417e3bfe4f63f4e10cb19,9,3,2,9816,,,0,"Add support to manage default quota about l7policy/rule

Change-Id: I1ae6f0f465f8dfb778b54ac1d2dff11387b2e2c8
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/30/817230/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_quota_spec.rb', 'manifests/quota.pp', 'releasenotes/notes/l7-default-quota-810c3475d7b3e795.yaml']",3,c829c008ad9e0a3c072637bcd95eed689f30b146,,--- features: - | The ``octavia::quota`` class now supports the following two parameters. - ``default_l7policy_quota`` - ``default_l7rule_quota`` ,,30,3
openstack%2Fpuppet-octavia~master~I94001758cbbbc348fff238f5c352202c7e283b2b,openstack/puppet-octavia,master,I94001758cbbbc348fff238f5c352202c7e283b2b,Accept system scope credentials for Keystone API request,MERGED,2021-11-25 14:43:52.000000000,2022-01-07 22:56:18.000000000,2022-01-07 22:54:26.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-25 14:43:52.000000000', 'files': ['spec/classes/octavia_keystone_auth_spec.rb', 'spec/classes/octavia_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-dda7488fa52854e0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c748dc5e7bf20b2eb4f790b2cd94b74d7d9bbb66', 'message': 'Accept system scope credentials for Keystone API request\n\nThis change is the first step to support secure RBAC and allows usage\nof system scope credentials for Keystone API request.\n\nThis change covers the following two items.\n - assignment of system scope roles to system user\n - credential parameters for authtoken middleware\n\nDepends-on: https://review.opendev.org/804325\nChange-Id: I94001758cbbbc348fff238f5c352202c7e283b2b\n'}]",0,819330,c748dc5e7bf20b2eb4f790b2cd94b74d7d9bbb66,8,3,1,9816,,,0,"Accept system scope credentials for Keystone API request

This change is the first step to support secure RBAC and allows usage
of system scope credentials for Keystone API request.

This change covers the following two items.
 - assignment of system scope roles to system user
 - credential parameters for authtoken middleware

Depends-on: https://review.opendev.org/804325
Change-Id: I94001758cbbbc348fff238f5c352202c7e283b2b
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/30/819330/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_keystone_auth_spec.rb', 'spec/classes/octavia_keystone_authtoken_spec.rb', 'manifests/keystone/authtoken.pp', 'manifests/keystone/auth.pp', 'releasenotes/notes/system_scope-keystone-dda7488fa52854e0.yaml']",5,c748dc5e7bf20b2eb4f790b2cd94b74d7d9bbb66,system-scope-params,--- features: - | The ``system_scope`` parameter has been added to the ``octavia::keystone::authtoken`` class. - | The ``octavia::keystone::auth`` class now supports customizing roles assigned to the octavia service user. - | The ``octavia::keystone::auth`` class now supports defining assignmet of system-scoped roles to the octavia service user. ,,56,0
openstack%2Fpuppet-tacker~master~Ia12c89fa833410e8be154ece2671184b65476ca3,openstack/puppet-tacker,master,Ia12c89fa833410e8be154ece2671184b65476ca3,Add support for vnf_package/vnf_lcm parameters,MERGED,2021-12-02 09:13:55.000000000,2022-01-07 22:49:38.000000000,2022-01-07 22:48:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-02 09:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/c7970363550a9adc8365fae626c24a97bfd464b5', 'message': 'Add support for vnf_package/vnf_lcm parameters\n\nChange-Id: Ia12c89fa833410e8be154ece2671184b65476ca3\n'}, {'number': 2, 'created': '2021-12-02 09:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/85fb4c02d3e0d4ab86dbb62b6829b7406d35dd4a', 'message': 'Add support for vnf_package/vnf_lcm parameters\n\nChange-Id: Ia12c89fa833410e8be154ece2671184b65476ca3\n'}, {'number': 3, 'created': '2021-12-02 11:13:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/a035d9d1ca2114f2ff964f7c24e8275a6b9a3ab6', 'message': 'Add support for vnf_package/vnf_lcm parameters\n\nChange-Id: Ia12c89fa833410e8be154ece2671184b65476ca3\n'}, {'number': 4, 'created': '2021-12-02 11:15:52.000000000', 'files': ['spec/classes/tacker_vnf_lcm_spec.rb', 'manifests/vnf_lcm.pp', 'spec/classes/tacker_vnf_package_spec.rb', 'releasenotes/notes/vnf-params-a98424616fba6a39.yaml', 'manifests/vnf_package.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/08cd7cdbf8e3e4bbccc480288f76a84b5be18e80', 'message': 'Add support for vnf_package/vnf_lcm parameters\n\nChange-Id: Ia12c89fa833410e8be154ece2671184b65476ca3\n'}]",0,820122,08cd7cdbf8e3e4bbccc480288f76a84b5be18e80,12,3,4,9816,,,0,"Add support for vnf_package/vnf_lcm parameters

Change-Id: Ia12c89fa833410e8be154ece2671184b65476ca3
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/22/820122/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tacker_vnf_lcm_spec.rb', 'manifests/vnf_lcm.pp', 'spec/classes/tacker_vnf_package_spec.rb', 'releasenotes/notes/vnf-params-a98424616fba6a39.yaml', 'manifests/vnf_package.pp']",5,c7970363550a9adc8365fae626c24a97bfd464b5,vnf-opts,"# = Class: tacker::vnf_package # # This class manages the Tacker vnf_package. # # [*vnf_package_csar_path*] # (Optional) Path to store extracted CSAR file. # Defaults to $::os_service_default # # [*csar_file_size_cap*] # (Optional) Maximum size of CSAR file a user can upload in GB. # Defaults to $::os_service_default # # [*hashing_algorithm*] # (Optional) Secure hashing algorithm used for computing the 'hash' property. # Defaults to $::os_service_default # # [*get_top_list*] # (Optional) List of items to get from top-vnfd. # Defaults to $::os_service_default # # [*exclude_node*] # (Optional) Exclude node from node_template. # Default to $::os_service_default # # [*get_lower_list*] # (Optional) List of types to get from lower-vnfd. # Defaults to $::os_service_default # # [*del_input_list*] # (Optional) List of del inputs from lower-vnfd # Defaults to $::os_service_default # class tacker::vnf_package( $vnf_package_csar_path = $::os_service_default, $csar_file_size_cap = $::os_service_default, $hashing_algorithm = $::os_service_default, $get_top_list = $::os_service_default, $exclude_node = $::os_service_default, $get_lower_list = $::os_service_default, $del_input_list = $::os_service_default, ) { include tacker::deps include tacker::params tacker_config { 'vnf_package/vnf_package_csar_path': value => $vnf_package_csar_path; 'vnf_package/csar_file_size_cap': value => $csar_file_size_cap; 'vnf_package/hashing_algorithm': value => $hashing_algorithm; 'vnf_package/get_top_list': value => $get_top_list; 'vnf_package/exclude_node': value => $exclude_node; 'vnf_package/get_lower_list': value => $get_lower_list; 'vnf_package/del_input_list': value => $del_input_list } } ",,215,0
openstack%2Fpuppet-octavia~stable%2Fwallaby~I685062bc5aeaf6600df06531f0bff979a0d037ba,openstack/puppet-octavia,stable/wallaby,I685062bc5aeaf6600df06531f0bff979a0d037ba,TripleO: Use nested virt,MERGED,2022-01-06 13:56:45.000000000,2022-01-07 22:35:16.000000000,2022-01-07 22:35:16.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:56:45.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/0d9f89beda3f92c44b1fd6b1e38be6604cca5a2c', 'message': ""TripleO: Use nested virt\n\nThe tripleo-standalone job frequently fails in puppet-octavia repo\nbecause creation of amphora instance is too slow. This change enables\nnested virt to accelerate instance booting.\n\nBackport note:\nstable/xena is skipped. TripleO job was removed from stable/xena\nbecause TripleO doesn't provide its stable/xena release.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba\n(cherry picked from commit c372c73fab62e9076cb8d78c38e8fb37a6e825ef)\n""}]",0,823695,0d9f89beda3f92c44b1fd6b1e38be6604cca5a2c,8,3,1,9816,,,0,"TripleO: Use nested virt

The tripleo-standalone job frequently fails in puppet-octavia repo
because creation of amphora instance is too slow. This change enables
nested virt to accelerate instance booting.

Backport note:
stable/xena is skipped. TripleO job was removed from stable/xena
because TripleO doesn't provide its stable/xena release.

Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Change-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba
(cherry picked from commit c372c73fab62e9076cb8d78c38e8fb37a6e825ef)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/95/823695/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0d9f89beda3f92c44b1fd6b1e38be6604cca5a2c,tripleo-tempest,- nodeset: name: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt nodes: - name: primary label: nested-virt-centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] nodeset: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt - nested-virt - 'ci/environments/octavia-kvm.yaml',,15,0
openstack%2Fpuppet-neutron~master~I91abf7a820685c06d195541c173042469e7b583f,openstack/puppet-neutron,master,I91abf7a820685c06d195541c173042469e7b583f,Remove deprecated nova::config::api_config,MERGED,2021-12-27 07:16:39.000000000,2022-01-07 22:30:56.000000000,2022-01-07 22:26:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-27 07:16:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6a99d83c379ecf81e87cdf0cfa496e01287642ad', 'message': 'Remove deprecated nova::config::api_config\n\n... because it was deprecated during Victoria cycle[1].\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: I91abf7a820685c06d195541c173042469e7b583f\n'}, {'number': 2, 'created': '2021-12-27 13:47:10.000000000', 'files': ['releasenotes/notes/remove-api_config-7a200b44d512b9f1.yaml', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5e5f2eb614eb37a7f222cc62622656ded056efb5', 'message': 'Remove deprecated nova::config::api_config\n\n... because it was deprecated during Victoria cycle[1].\n\n[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6\n\nChange-Id: I91abf7a820685c06d195541c173042469e7b583f\n'}]",3,822993,5e5f2eb614eb37a7f222cc62622656ded056efb5,17,3,2,9816,,,0,"Remove deprecated nova::config::api_config

... because it was deprecated during Victoria cycle[1].

[1] 2daa0b16444f2a2a865b618cbca76fd18c6cd7c6

Change-Id: I91abf7a820685c06d195541c173042469e7b583f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/93/822993/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-api_config-7a200b44d512b9f1.yaml', 'manifests/config.pp']",2,6a99d83c379ecf81e87cdf0cfa496e01287642ad,," validate_legacy(Hash, 'validate_hash', $api_paste_ini) create_resources('neutron_api_paste_ini', $api_paste_ini)","# DEPRECATED PARAMETERS # # [*api_config*] # (optional) Manage configuration of api-paste.ini # # DEPRECATED PARAMETERS $api_config = undef, if $api_config != undef { warning('The neutron::config::api_config parameter has been deprecated and \ will be removed in a future release. Use the api_paste_ini parameter instead.') $api_paste_ini_real = $api_config } else { $api_paste_ini_real = $api_paste_ini } validate_legacy(Hash, 'validate_hash', $api_paste_ini_real) create_resources('neutron_api_paste_ini', $api_paste_ini_real)",6,17
openstack%2Fpuppet-octavia~stable%2Fvictoria~I685062bc5aeaf6600df06531f0bff979a0d037ba,openstack/puppet-octavia,stable/victoria,I685062bc5aeaf6600df06531f0bff979a0d037ba,TripleO: Use nested virt,MERGED,2022-01-06 13:57:12.000000000,2022-01-07 22:27:06.000000000,2022-01-07 22:27:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:57:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/57f703081f828f9eb96296193a5d65af2596dd0c', 'message': ""TripleO: Use nested virt\n\nThe tripleo-standalone job frequently fails in puppet-octavia repo\nbecause creation of amphora instance is too slow. This change enables\nnested virt to accelerate instance booting.\n\nBackport note:\nstable/xena is skipped. TripleO job was removed from stable/xena\nbecause TripleO doesn't provide its stable/xena release.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba\n(cherry picked from commit c372c73fab62e9076cb8d78c38e8fb37a6e825ef)\n(cherry picked from commit 0d9f89beda3f92c44b1fd6b1e38be6604cca5a2c)\n""}]",0,823607,57f703081f828f9eb96296193a5d65af2596dd0c,10,3,1,9816,,,0,"TripleO: Use nested virt

The tripleo-standalone job frequently fails in puppet-octavia repo
because creation of amphora instance is too slow. This change enables
nested virt to accelerate instance booting.

Backport note:
stable/xena is skipped. TripleO job was removed from stable/xena
because TripleO doesn't provide its stable/xena release.

Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Change-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba
(cherry picked from commit c372c73fab62e9076cb8d78c38e8fb37a6e825ef)
(cherry picked from commit 0d9f89beda3f92c44b1fd6b1e38be6604cca5a2c)
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/07/823607/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,57f703081f828f9eb96296193a5d65af2596dd0c,tripleo-tempest,- nodeset: name: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt nodes: - name: primary label: nested-virt-centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] nodeset: puppet-octavia-tripleo-single-node-centos-8-stream-nested-virt - nested-virt - 'ci/environments/octavia-kvm.yaml',,15,0
openstack%2Fpuppet-neutron~master~Id592754fa32ed7bd46d5380699a471c67b7a32fd,openstack/puppet-neutron,master,Id592754fa32ed7bd46d5380699a471c67b7a32fd,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:09:55.000000000,2022-01-07 22:26:32.000000000,2022-01-07 22:26:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/c7fab1d0f431a850e56de359986cc3b75205e814', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id592754fa32ed7bd46d5380699a471c67b7a32fd\n'}, {'number': 2, 'created': '2022-01-05 13:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2f47c6ed299c779829ade9079ebb3ce2c63dad0e', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id592754fa32ed7bd46d5380699a471c67b7a32fd\n'}, {'number': 3, 'created': '2022-01-05 13:38:12.000000000', 'files': ['spec/classes/neutron_agents_bgp_dragent_spec.rb', 'manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ede820961feb2375a0724455fda916f183ccba0d', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id592754fa32ed7bd46d5380699a471c67b7a32fd\n'}]",0,823520,ede820961feb2375a0724455fda916f183ccba0d,9,3,3,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Id592754fa32ed7bd46d5380699a471c67b7a32fd
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/20/823520/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,c7fab1d0f431a850e56de359986cc3b75205e814,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fswift~master~Ib340590c0fdb9f4ce072daba4b621c19ecd6f593,openstack/swift,master,Ib340590c0fdb9f4ce072daba4b621c19ecd6f593,WIP: use async delete to expire all SLO,NEW,2021-12-20 18:40:26.000000000,2022-01-07 21:55:54.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-20 18:40:26.000000000', 'files': ['doc/saio/swift/object-expirer.conf', 'swift/common/middleware/slo.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'test/probe/test_object_expirer.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/03b13e56444213ec3135f70cbd0e9d2458ffd9fa', 'message': 'WIP: use async delete to expire all SLO\n\nChange-Id: Ib340590c0fdb9f4ce072daba4b621c19ecd6f593\n'}]",15,822352,03b13e56444213ec3135f70cbd0e9d2458ffd9fa,9,2,1,1179,,,0,"WIP: use async delete to expire all SLO

Change-Id: Ib340590c0fdb9f4ce072daba4b621c19ecd6f593
",git fetch https://review.opendev.org/openstack/swift refs/changes/52/822352/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/saio/swift/object-expirer.conf', 'swift/common/middleware/slo.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py', 'test/probe/test_object_expirer.py']",5,03b13e56444213ec3135f70cbd0e9d2458ffd9fa,expire-async-on, # and again for the async deletes Manager(['container-updater']).once() self.expirer.once(),,33,7
openstack%2Fpuppet-horizon~master~Ie5516c8aab24fa32a0490bdfd116ce46bcc48c70,openstack/puppet-horizon,master,Ie5516c8aab24fa32a0490bdfd116ce46bcc48c70,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:19:41.000000000,2022-01-07 21:21:27.000000000,2022-01-07 21:21:27.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:19:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/69e2353aa2cefcd9932099f839fddcf4e2f74c32', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ie5516c8aab24fa32a0490bdfd116ce46bcc48c70\n'}, {'number': 2, 'created': '2022-01-05 13:41:45.000000000', 'files': ['spec/defines/horizon_dashboard_spec.rb', 'manifests/init.pp', 'manifests/params.pp', 'spec/classes/horizon_init_spec.rb', 'spec/classes/horizon_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/0cf84e165da049f3da2fb26d8d282f5a407e0535', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ie5516c8aab24fa32a0490bdfd116ce46bcc48c70\n'}]",0,823528,0cf84e165da049f3da2fb26d8d282f5a407e0535,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Ie5516c8aab24fa32a0490bdfd116ce46bcc48c70
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/28/823528/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/horizon_dashboard_spec.rb', 'manifests/init.pp', 'manifests/params.pp', 'spec/classes/horizon_init_spec.rb', 'spec/classes/horizon_wsgi_apache_spec.rb']",5,69e2353aa2cefcd9932099f839fddcf4e2f74c32,remove-os_package_type,, if facts[:operatingsystem] == 'Debian' facts.merge!( :os_package_type => 'debian' ) end ,5,13
openstack%2Fneutron~stable%2Fqueens~I6727d2d1c4b1a727fd94ad14d030ae43c21f7844,openstack/neutron,stable/queens,I6727d2d1c4b1a727fd94ad14d030ae43c21f7844,Remove neutron-lbaas from the CI jobs requirements,MERGED,2022-01-03 13:28:11.000000000,2022-01-07 21:17:34.000000000,2022-01-07 21:17:34.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 13:28:11.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/6f3647a6f5f08682ecbd3f0989f197556473aa8a', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I6727d2d1c4b1a727fd94ad14d030ae43c21f7844\n""}]",1,823282,6f3647a6f5f08682ecbd3f0989f197556473aa8a,11,3,1,11975,,,0,"Remove neutron-lbaas from the CI jobs requirements

Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I6727d2d1c4b1a727fd94ad14d030ae43c21f7844
",git fetch https://review.opendev.org/openstack/neutron refs/changes/82/823282/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,6f3647a6f5f08682ecbd3f0989f197556473aa8a,remove-neutron-lbaas,, - openstack/neutron-lbaas,0,1
openstack%2Ftripleo-upgrade~stable%2Ftrain~Ie454fdbbb1eb637316b340f199bb631264644496,openstack/tripleo-upgrade,stable/train,Ie454fdbbb1eb637316b340f199bb631264644496,Fast and furious upgrade,MERGED,2021-11-08 16:56:31.000000000,2022-01-07 21:13:55.000000000,2022-01-07 21:13:55.000000000,"[{'_account_id': 7144}, {'_account_id': 11166}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 16:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8d9f5f6d0c57b56436e6dd82faf5ec1746a7013d', 'message': 'WIP: Fast and furious upgrade\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 2, 'created': '2021-11-15 12:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3c0e26f396515c8914da10bb069823abe6b32c6c', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 3, 'created': '2021-11-15 12:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/5e47fc9dafba449b8d7ed7ec6ac795c70c8db0e4', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 4, 'created': '2021-11-15 13:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/3d8c1eb4378709936afeddd24040f585d49c2574', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 5, 'created': '2021-11-15 18:30:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4142b135d99b8340303e3900f667e6af7605b1d5', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 6, 'created': '2021-11-16 14:38:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/64e46b67aa283a06a5f84bc17d1250be4d38401e', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}, {'number': 7, 'created': '2021-11-19 11:49:04.000000000', 'files': ['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'infrared_plugin/plugin.spec', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'infrared_plugin/main.yml', 'defaults/main.yml', 'templates/fast-forward-upgrade/overcloud_system_upgrade.sh.j2', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bac8bd18909724cf4bdf20045b5d3183ae5d884e', 'message': 'Fast and furious upgrade\n\nIntroduce ability to test upgrade of all nodes at once with outage.\nThe Fast and furious upgrades performs and upgrade of all the\novercloud nodes at the same time. This allows saving time on the\nupgrade when there is possibility of outage time.\n\nChange-Id: Ie454fdbbb1eb637316b340f199bb631264644496\n'}]",10,817053,bac8bd18909724cf4bdf20045b5d3183ae5d884e,21,3,7,26343,,,0,"Fast and furious upgrade

Introduce ability to test upgrade of all nodes at once with outage.
The Fast and furious upgrades performs and upgrade of all the
overcloud nodes at the same time. This allows saving time on the
upgrade when there is possibility of outage time.

Change-Id: Ie454fdbbb1eb637316b340f199bb631264644496
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/53/817053/3 && git format-patch -1 --stdout FETCH_HEAD,"['templates/fast-forward-upgrade/overcloud_upgrade_run.sh.j2', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'defaults/main.yml', 'tasks/fast-forward-upgrade/main.yml']",5,8d9f5f6d0c57b56436e6dd82faf5ec1746a7013d,, import_tasks: overcloud_upgrade_fast_and_furious.yaml tags: ffu_fast_and_furious ############## OS upgrade + Overcloud node upgrade run ############## - name: Start overcloud upgrade run for all roles.,,81,32
openstack%2Fpuppet-nova~master~Ibc8f8bd63ad65d12ea790ec842e47f09f396bc08,openstack/puppet-nova,master,Ibc8f8bd63ad65d12ea790ec842e47f09f396bc08,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:10:59.000000000,2022-01-07 21:06:20.000000000,2022-01-07 21:06:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/3631e10f776be8c1f52b6889cb882177271870c6', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ibc8f8bd63ad65d12ea790ec842e47f09f396bc08\n'}, {'number': 2, 'created': '2022-01-05 13:34:59.000000000', 'files': ['manifests/wsgi/uwsgi_api_metadata.pp', 'manifests/wsgi/uwsgi_api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/86b218072f6288aafd54f367d27f060b4a3d2d6c', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ibc8f8bd63ad65d12ea790ec842e47f09f396bc08\n'}]",1,823521,86b218072f6288aafd54f367d27f060b4a3d2d6c,10,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Ibc8f8bd63ad65d12ea790ec842e47f09f396bc08
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/21/823521/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/uwsgi_api_metadata.pp', 'manifests/wsgi/uwsgi_api.pp']",2,3631e10f776be8c1f52b6889cb882177271870c6,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,2,2
openstack%2Fpuppet-glance~master~I294be10a1c8a77dfa2195ba9bf3e3aff524212c9,openstack/puppet-glance,master,I294be10a1c8a77dfa2195ba9bf3e3aff524212c9,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:02:55.000000000,2022-01-07 21:06:03.000000000,2022-01-07 21:06:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/bdc5e0c4a29e84104aac26bb23fb257f6be4da3e', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I294be10a1c8a77dfa2195ba9bf3e3aff524212c9\n'}, {'number': 2, 'created': '2022-01-05 13:31:15.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/f03bc7079bdc9282d831db55dd8da244c4468e72', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I294be10a1c8a77dfa2195ba9bf3e3aff524212c9\n'}]",1,823512,f03bc7079bdc9282d831db55dd8da244c4468e72,10,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I294be10a1c8a77dfa2195ba9bf3e3aff524212c9
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/12/823512/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,bdc5e0c4a29e84104aac26bb23fb257f6be4da3e,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-placement~master~Icf1600b9d7c01a361ff547faded58b9c6d9809f7,openstack/puppet-placement,master,Icf1600b9d7c01a361ff547faded58b9c6d9809f7,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:12:33.000000000,2022-01-07 21:04:32.000000000,2022-01-07 21:04:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/198efeede1b9accd813decf249ee692e61229181', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Icf1600b9d7c01a361ff547faded58b9c6d9809f7\n'}, {'number': 2, 'created': '2022-01-05 13:35:24.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/526c3f0405e9c3597fe09ff3afb8ba502356fe1a', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Icf1600b9d7c01a361ff547faded58b9c6d9809f7\n'}]",1,823523,526c3f0405e9c3597fe09ff3afb8ba502356fe1a,10,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Icf1600b9d7c01a361ff547faded58b9c6d9809f7
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/23/823523/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,198efeede1b9accd813decf249ee692e61229181,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-heat~master~I11bac6405b94e6616e45dd511b842a4ad358148a,openstack/puppet-heat,master,I11bac6405b94e6616e45dd511b842a4ad358148a,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:05:50.000000000,2022-01-07 20:53:42.000000000,2022-01-07 20:53:42.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/61c4d6178de6b8c8bea2fff05c17ee0332486c4b', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I11bac6405b94e6616e45dd511b842a4ad358148a\n'}, {'number': 2, 'created': '2022-01-05 13:32:40.000000000', 'files': ['manifests/wsgi/uwsgi_api_cfn.pp', 'manifests/wsgi/uwsgi_api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/213b30a43f57e60b0e95c358d85467af8457e2db', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I11bac6405b94e6616e45dd511b842a4ad358148a\n'}]",0,823514,213b30a43f57e60b0e95c358d85467af8457e2db,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I11bac6405b94e6616e45dd511b842a4ad358148a
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/14/823514/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/uwsgi_api_cfn.pp', 'manifests/wsgi/uwsgi_api.pp']",2,61c4d6178de6b8c8bea2fff05c17ee0332486c4b,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,2,2
openstack%2Fnova~stable%2Fxena~I57982131768d87e067d1413012b96f1baa68052b,openstack/nova,stable/xena,I57982131768d87e067d1413012b96f1baa68052b,Extend the reproducer for 1953359 and 1952915,MERGED,2021-12-16 08:25:35.000000000,2022-01-07 20:34:18.000000000,2022-01-07 20:32:28.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}, {'_account_id': 32349}, {'_account_id': 33608}, {'_account_id': 33987}]","[{'number': 1, 'created': '2021-12-16 08:25:35.000000000', 'files': ['nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0411962938ae1de39f8dccb03efe4567f82ad671', 'message': 'Extend the reproducer for 1953359 and 1952915\n\nThis patch extends the original reproduction\nI4be429c56aaa15ee12f448978c38214e741eae63 to cover\nbug 1952915 as well as they have a common root cause.\n\nChange-Id: I57982131768d87e067d1413012b96f1baa68052b\nRelated-Bug: #1953359\nRelated-Bug: #1952915\n(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)\n'}]",5,821941,0411962938ae1de39f8dccb03efe4567f82ad671,20,9,1,9708,,,0,"Extend the reproducer for 1953359 and 1952915

This patch extends the original reproduction
I4be429c56aaa15ee12f448978c38214e741eae63 to cover
bug 1952915 as well as they have a common root cause.

Change-Id: I57982131768d87e067d1413012b96f1baa68052b
Related-Bug: #1953359
Related-Bug: #1952915
(cherry picked from commit 9f296d775d8f58fcbd03393c81a023268c7071cb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/41/821941/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/libvirt/test_numa_servers.py'],1,0411962938ae1de39f8dccb03efe4567f82ad671,bug/1953359,"from nova.compute import manager orig_finish_resize = manager.ComputeManager.finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the instance should be # pinned to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology # on the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) # now let the resize finishes return orig_finish_resize(*args, **kwargs) 'nova.compute.manager.ComputeManager.finish_resize', new=fake_finish_resize, ): # this is expected to succeed but logs are emitted # from the racing periodic task. See fake_finish_resize # for the asserts server = self._wait_for_state_change(server, 'VERIFY_RESIZE') # as the periodic job raced and failed during the resize if we revert # the instance now then it tries to unpin its cpus from the dest host # but those was never pinned as the periodic failed. So the unpinning # will fail too. post = {'revertResize': {}} ex = self.assertRaises( client.OpenStackApiException, self.admin_api.post_server_action, server['id'], post # This is still bug 1953359. self.assertEqual(500, ex.response.status_code) server = self.api.get_server(server['id']) self.assertEqual('ERROR', server['status']) 'nova.exception.CPUUnpinningInvalid: CPU set to unpin [1] must be ' 'a subset of pinned CPU set [0]', self.stdlog.logger.output,"," 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log,",45,17
openstack%2Fmanila~stable%2Fxena~Ia671fa74c0ee338199bd92a1613882328d24c9e2,openstack/manila,stable/xena,Ia671fa74c0ee338199bd92a1613882328d24c9e2,Set tempest api version config in devstack plugin,MERGED,2021-12-22 19:56:54.000000000,2022-01-07 20:29:24.000000000,2022-01-07 20:25:59.000000000,"[{'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 30407}]","[{'number': 1, 'created': '2021-12-22 19:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/633b31028ee6e68e62b470a7bf66f3b25bba393a', 'message': ""Set tempest api version config in devstack plugin\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith stable branches.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nChange-Id: Ia671fa74c0ee338199bd92a1613882328d24c9e2\nRelated-Bug: #1928879\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n""}, {'number': 2, 'created': '2021-12-22 20:12:57.000000000', 'files': ['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/manila/commit/3d812459295f223933a3760631aef7d55254859e', 'message': ""Set tempest api version config in devstack plugin\n\nmanila's tempest plugin is branchless and can at\nany time add tests for API microversions incompatible\nwith stable branches.\n\nWe used to configure test API versions via the post test\nhook when relying on devstack-gate. However, API version\nconfig makes sense whenever we use devstack and have\ntempest enabled. This will help us simplify default\njob configuration in the manila-tempest-plugin repository.\n\nSince the API version won't change on a stable branch,\nhard-coding the versions (as other micro-versioned services\ndo in their devstack) doesn't pose any risk of failing\nreality.\n\nChange-Id: Ia671fa74c0ee338199bd92a1613882328d24c9e2\nRelated-Bug: #1928879\nSigned-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>\n(cherry picked from commit 1caecc598eedd94cb103725857d6687f9fab6ec7)\n""}]",4,822683,3d812459295f223933a3760631aef7d55254859e,19,4,2,16643,,,0,"Set tempest api version config in devstack plugin

manila's tempest plugin is branchless and can at
any time add tests for API microversions incompatible
with stable branches.

We used to configure test API versions via the post test
hook when relying on devstack-gate. However, API version
config makes sense whenever we use devstack and have
tempest enabled. This will help us simplify default
job configuration in the manila-tempest-plugin repository.

Since the API version won't change on a stable branch,
hard-coding the versions (as other micro-versioned services
do in their devstack) doesn't pose any risk of failing
reality.

Change-Id: Ia671fa74c0ee338199bd92a1613882328d24c9e2
Related-Bug: #1928879
Signed-off-by: Goutham Pacha Ravi <gouthampravi@gmail.com>
(cherry picked from commit 1caecc598eedd94cb103725857d6687f9fab6ec7)
",git fetch https://review.opendev.org/openstack/manila refs/changes/83/822683/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/ci/post_test_hook.sh', 'devstack/plugin.sh']",2,633b31028ee6e68e62b470a7bf66f3b25bba393a,bug/1928879," # If testing a stable branch, we need to ensure we're testing with supported # API micro-versions; so set the versions from code if we're not testing the # master branch. If we're testing master, we'll allow manila-tempest-plugin # (which is branchless) tell us what versions it wants to test. if [[ ""$TARGET_BRANCH"" != ""master"" ]]; then # Grab the supported API micro-versions from the code _DEFAULT_MIN_VERSION=$(openstack versions show --service sharev2 -c 'Min Microversion' --status CURRENT -f value) _DEFAULT_MAX_VERSION=$(openstack versions show --service sharev2 -c 'Max Microversion' --status CURRENT -f value) # Override the *_api_microversion tempest options if present MANILA_TEMPEST_MIN_API_MICROVERSION=${MANILA_TEMPEST_MIN_API_MICROVERSION:-$_DEFAULT_MIN_VERSION} MANILA_TEMPEST_MAX_API_MICROVERSION=${MANILA_TEMPEST_MAX_API_MICROVERSION:-$_DEFAULT_MAX_VERSION} # Set these options in tempest.conf iniset $TEMPEST_CONFIG share min_api_microversion $MANILA_TEMPEST_MIN_API_MICROVERSION iniset $TEMPEST_CONFIG share max_api_microversion $MANILA_TEMPEST_MAX_API_MICROVERSION fi",,16,17
openstack%2Fmanila~stable%2Fxena~Idb4b6de5108dd1862df7de97d0ffdc15282b1d74,openstack/manila,stable/xena,Idb4b6de5108dd1862df7de97d0ffdc15282b1d74,Handle successful deletion of snapshot if quota commit fails,MERGED,2021-12-03 23:47:15.000000000,2022-01-07 20:27:54.000000000,2022-01-07 20:25:57.000000000,"[{'_account_id': 6413}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30002}, {'_account_id': 32291}, {'_account_id': 32761}, {'_account_id': 34056}]","[{'number': 1, 'created': '2021-12-03 23:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/56ec2b7fb7ec6f6a8e72dd842c8c4166cabdf7c6', 'message': 'Handle successful deletion of snapshot if quota commit fails\n\nReplaced a non-existing snapshot delete method\nwith an appropriate one and added tests for\nthe same\n\nCloses-Bug: #1475351\nChange-Id: Idb4b6de5108dd1862df7de97d0ffdc15282b1d74\n(cherry picked from commit a6177bcc0d533089eff509cc62d5313d4aaa44ba)\n'}, {'number': 2, 'created': '2021-12-07 22:33:06.000000000', 'files': ['manila/tests/share/test_api.py', 'manila/share/api.py', 'releasenotes/notes/bug-1475351-handle-successful-deletion-of-snapshot-if-quota-commit-fails-4d150bf0b71a2fd9.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/f96d6278a06a949408aeededb0acdcfc74e284bb', 'message': 'Handle successful deletion of snapshot if quota commit fails\n\nReplaced a non-existing snapshot delete method\nwith an appropriate one and added tests for\nthe same\n\nBackport notes:\nA release note fix committed to master as:\nhttps://review.opendev.org/c/openstack/manila/+/820955\nhas been squashed into this backport.\n\nCloses-Bug: #1475351\nChange-Id: Idb4b6de5108dd1862df7de97d0ffdc15282b1d74\n(cherry picked from commit a6177bcc0d533089eff509cc62d5313d4aaa44ba)\n'}]",5,820336,f96d6278a06a949408aeededb0acdcfc74e284bb,24,7,2,16643,,,0,"Handle successful deletion of snapshot if quota commit fails

Replaced a non-existing snapshot delete method
with an appropriate one and added tests for
the same

Backport notes:
A release note fix committed to master as:
https://review.opendev.org/c/openstack/manila/+/820955
has been squashed into this backport.

Closes-Bug: #1475351
Change-Id: Idb4b6de5108dd1862df7de97d0ffdc15282b1d74
(cherry picked from commit a6177bcc0d533089eff509cc62d5313d4aaa44ba)
",git fetch https://review.opendev.org/openstack/manila refs/changes/36/820336/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/tests/share/test_api.py', 'manila/share/api.py', 'manila/releasenotes/notes/bug-1475351-handle-successful-deletion-of-snapshot-if-quota-commit-fails-4d150bf0b71a2fd9.yaml']",3,56ec2b7fb7ec6f6a8e72dd842c8c4166cabdf7c6,bug/1475351,--- fixes: - | Fixed an issue during snapshot creation where a database error was being mishandled with dead code. See `Launchpad bug 1475351 <https://launchpad.net/bugs/1475351>`_ for more details. ,,54,1
openstack%2Fpuppet-magnum~master~I42bb243834414945c64aee41b1ea7e29e4fd73c5,openstack/puppet-magnum,master,I42bb243834414945c64aee41b1ea7e29e4fd73c5,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:08:13.000000000,2022-01-07 20:27:20.000000000,2022-01-07 20:27:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:08:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/63dd930611b0f8c1e9507a3629320a603378747c', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I42bb243834414945c64aee41b1ea7e29e4fd73c5\n'}, {'number': 2, 'created': '2022-01-05 13:33:57.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b7595d6e2f17129b27de28fc8d6faad7e703b2ba', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I42bb243834414945c64aee41b1ea7e29e4fd73c5\n'}]",0,823518,b7595d6e2f17129b27de28fc8d6faad7e703b2ba,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I42bb243834414945c64aee41b1ea7e29e4fd73c5
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/18/823518/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,63dd930611b0f8c1e9507a3629320a603378747c,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-barbican~master~Ib8f47ce0bbe34970f9324289210fdb74da6f2098,openstack/puppet-barbican,master,Ib8f47ce0bbe34970f9324289210fdb74da6f2098,Remove usage of custom os_package_type fact,MERGED,2022-01-05 12:51:45.000000000,2022-01-07 20:24:33.000000000,2022-01-07 20:24:33.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/08c8f2fd77068aa13df9e270fdb55a37faa17c10', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ib8f47ce0bbe34970f9324289210fdb74da6f2098\n'}, {'number': 2, 'created': '2022-01-05 13:29:44.000000000', 'files': ['manifests/api.pp', 'manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/685301e7373c33eb6b8d5f9bafd5a7e38ea12675', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ib8f47ce0bbe34970f9324289210fdb74da6f2098\n'}]",0,823509,685301e7373c33eb6b8d5f9bafd5a7e38ea12675,9,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Ib8f47ce0bbe34970f9324289210fdb74da6f2098
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/09/823509/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/api.pp', 'manifests/wsgi/uwsgi.pp']",2,08c8f2fd77068aa13df9e270fdb55a37faa17c10,remove-os_package_type, if $::os['distro']['id'] != 'debian'{, if $::os_package_type != 'debian'{,4,4
openstack%2Fpuppet-swift~master~I48690315f5986317cf3bc346454f2811ec84f07b,openstack/puppet-swift,master,I48690315f5986317cf3bc346454f2811ec84f07b,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:22:59.000000000,2022-01-07 20:23:36.000000000,2022-01-07 20:23:36.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1e46fc94f70ad60079a5afd4f699621063a3ae7f', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I48690315f5986317cf3bc346454f2811ec84f07b\n'}, {'number': 2, 'created': '2022-01-05 13:39:43.000000000', 'files': ['manifests/wsgi/uwsgi_container.pp', 'manifests/wsgi/uwsgi_proxy.pp', 'manifests/wsgi/uwsgi_account.pp'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b5eb197c416fd28a2ecf96ca92e201b1a2cca490', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I48690315f5986317cf3bc346454f2811ec84f07b\n'}]",1,823529,b5eb197c416fd28a2ecf96ca92e201b1a2cca490,10,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I48690315f5986317cf3bc346454f2811ec84f07b
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/29/823529/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/uwsgi_container.pp', 'manifests/wsgi/uwsgi_proxy.pp', 'manifests/wsgi/uwsgi_account.pp']",3,1e46fc94f70ad60079a5afd4f699621063a3ae7f,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,3,3
openstack%2Fpuppet-aodh~master~Ic68bb54f4f19aadca90b5c19d88bde9218f7a921,openstack/puppet-aodh,master,Ic68bb54f4f19aadca90b5c19d88bde9218f7a921,Remove usage of custom os_package_type fact,MERGED,2022-01-05 12:49:43.000000000,2022-01-07 20:22:54.000000000,2022-01-07 20:22:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:49:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/47c27146c8f7807cd438d4712a1aeb71cb1cac67', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ic68bb54f4f19aadca90b5c19d88bde9218f7a921\n'}, {'number': 2, 'created': '2022-01-05 13:27:37.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/2b89b028746480340f82d98f6638ce27a65a5d21', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ic68bb54f4f19aadca90b5c19d88bde9218f7a921\n'}]",0,823507,2b89b028746480340f82d98f6638ce27a65a5d21,9,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Ic68bb54f4f19aadca90b5c19d88bde9218f7a921
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/07/823507/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,47c27146c8f7807cd438d4712a1aeb71cb1cac67,remove-os_package_type, if $::os['distro']['id'] != 'Debian' {, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-barbican~stable%2Fxena~Ied1d936d753658de403606d511aad7acd8adeb88,openstack/puppet-barbican,stable/xena,Ied1d936d753658de403606d511aad7acd8adeb88,Fix ineffective dependency,MERGED,2022-01-06 07:18:01.000000000,2022-01-07 20:22:11.000000000,2022-01-07 20:22:11.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 07:18:01.000000000', 'files': ['manifests/wsgi/apache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/b1debf7ea52f46e9aee9cad040204f2775e3cf5f', 'message': ""Fix ineffective dependency\n\nThe 'barbican-api' tag is never used. This change replaces usage of\nthat invalid tag to ensure the relevant packages are installed.\n\nChange-Id: Ied1d936d753658de403606d511aad7acd8adeb88\n(cherry picked from commit 47729d343f0e21e7d74909d904f331dd0b4aae6c)\n""}]",0,823599,b1debf7ea52f46e9aee9cad040204f2775e3cf5f,7,3,1,9816,,,0,"Fix ineffective dependency

The 'barbican-api' tag is never used. This change replaces usage of
that invalid tag to ensure the relevant packages are installed.

Change-Id: Ied1d936d753658de403606d511aad7acd8adeb88
(cherry picked from commit 47729d343f0e21e7d74909d904f331dd0b4aae6c)
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/99/823599/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/apache.pp'],1,b1debf7ea52f46e9aee9cad040204f2775e3cf5f,, Anchor['barbican::install::end'] -> File[$::barbican::params::httpd_config_file], Package<| tag == 'barbican-api' |> -> File[$::barbican::params::httpd_config_file],1,1
openstack%2Fpuppet-tempest~master~Id297c94a4b9005d8afaf32145b30c4269019de95,openstack/puppet-tempest,master,Id297c94a4b9005d8afaf32145b30c4269019de95,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:15:10.000000000,2022-01-07 20:18:14.000000000,2022-01-07 20:18:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:15:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/53c424db3cc0ec514c914a500718d36619769e25', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id297c94a4b9005d8afaf32145b30c4269019de95\n'}, {'number': 2, 'created': '2022-01-05 13:36:43.000000000', 'files': ['manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/d672437fe2d7dacbf1ced4fb03a9cb19c7dbb3a2', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Id297c94a4b9005d8afaf32145b30c4269019de95\n'}]",0,823526,d672437fe2d7dacbf1ced4fb03a9cb19c7dbb3a2,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Id297c94a4b9005d8afaf32145b30c4269019de95
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/26/823526/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,53c424db3cc0ec514c914a500718d36619769e25,remove-os_package_type, if $::os['distro']['id'] == 'Debian' {, if $::os_package_type == 'debian' {,1,1
openstack%2Fpuppet-vitrage~master~I1f47293ba72258404f8516afa4cd626bf4be1861,openstack/puppet-vitrage,master,I1f47293ba72258404f8516afa4cd626bf4be1861,Clean up deprecated parameters of vitrage::auth,MERGED,2022-01-06 07:42:06.000000000,2022-01-07 20:17:38.000000000,2022-01-07 20:15:54.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 07:42:06.000000000', 'files': ['releasenotes/notes/cleanup-auth-eb6f7f7e43725b24.yaml', 'manifests/auth.pp', 'spec/classes/vitrage_auth_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/1438f48647fa30be89ecb6ecf810fef2ac54c272', 'message': 'Clean up deprecated parameters of vitrage::auth\n\nThis change removes the deprecated parameters of virage::auth, which\nwere deprecated a while ago[1][2].\n\n[1] 657750b90775a8fa8c350e353cc542dbb4d743d0\n auth_endpoint_type, auth_tenant_name and auth_tenant_id\n\n[2] f9e8066d3420d25b7d96f485af4de0587289da47\n project_domain_id, user_domain_id\n\nChange-Id: I1f47293ba72258404f8516afa4cd626bf4be1861\n'}]",0,823633,1438f48647fa30be89ecb6ecf810fef2ac54c272,8,3,1,9816,,,0,"Clean up deprecated parameters of vitrage::auth

This change removes the deprecated parameters of virage::auth, which
were deprecated a while ago[1][2].

[1] 657750b90775a8fa8c350e353cc542dbb4d743d0
 auth_endpoint_type, auth_tenant_name and auth_tenant_id

[2] f9e8066d3420d25b7d96f485af4de0587289da47
 project_domain_id, user_domain_id

Change-Id: I1f47293ba72258404f8516afa4cd626bf4be1861
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/33/823633/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cleanup-auth-eb6f7f7e43725b24.yaml', 'manifests/auth.pp', 'spec/classes/vitrage_auth_spec.rb']",3,1438f48647fa30be89ecb6ecf810fef2ac54c272,auth-cleanup,," context 'when deprecated domain_id is set' do before do params.merge!( :user_domain_id => 'default', :project_domain_id => 'default', ) end it 'configures domain_id instead of domain_name' do is_expected.to_not contain_vitrage_config('service_credentials/project_domain_name') is_expected.to contain_vitrage_config('service_credentials/project_domain_id').with_value('default') is_expected.to_not contain_vitrage_config('service_credentials/user_domain_name') is_expected.to contain_vitrage_config('service_credentials/user_domain_id').with_value('default') end end ",20,98
openstack%2Fpuppet-sahara~master~I1852ba8efa0d1bd9a5860a7edd44c759868d4249,openstack/puppet-sahara,master,I1852ba8efa0d1bd9a5860a7edd44c759868d4249,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:14:21.000000000,2022-01-07 20:11:32.000000000,2022-01-07 20:11:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:14:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/ba10e48faafac36b9c8abd30c5b6e0d7396eb023', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I1852ba8efa0d1bd9a5860a7edd44c759868d4249\n'}, {'number': 2, 'created': '2022-01-05 13:36:18.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/ec01ecfb9a94a1fc7317502f4b60560eeaa0a971', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I1852ba8efa0d1bd9a5860a7edd44c759868d4249\n'}]",0,823525,ec01ecfb9a94a1fc7317502f4b60560eeaa0a971,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I1852ba8efa0d1bd9a5860a7edd44c759868d4249
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/25/823525/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,ba10e48faafac36b9c8abd30c5b6e0d7396eb023,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-gnocchi~master~I6da1bfc8a392abf8808089accfed7881305d33f3,openstack/puppet-gnocchi,master,I6da1bfc8a392abf8808089accfed7881305d33f3,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:03:59.000000000,2022-01-07 20:07:48.000000000,2022-01-07 20:07:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/faedc4e0976e33871dfe74fe141b24ca7d2baa14', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I6da1bfc8a392abf8808089accfed7881305d33f3\n'}, {'number': 2, 'created': '2022-01-05 13:31:58.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/2e52401ce205382f9e0d138aa823a55993ed02a2', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I6da1bfc8a392abf8808089accfed7881305d33f3\n'}]",0,823513,2e52401ce205382f9e0d138aa823a55993ed02a2,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I6da1bfc8a392abf8808089accfed7881305d33f3
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/13/823513/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,faedc4e0976e33871dfe74fe141b24ca7d2baa14,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fkeystone~stable%2Frocky~I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82,openstack/keystone,stable/rocky,I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82,Delete system role assignments from system_assignment table,MERGED,2020-10-30 16:07:13.000000000,2022-01-07 19:44:24.000000000,2022-01-07 19:42:26.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 9954}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2020-10-30 16:07:13.000000000', 'files': ['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1878938-70ee2af6fdf66004.yaml'], 'web_link': 'https://opendev.org/openstack/keystone/commit/226fdb34c18cdec2c69f62b00f3b620c26cf0542', 'message': 'Delete system role assignments from system_assignment table\n\nThis patch ensures to delete the system role assignments from\nall the assignment tables in keystone after deleting the role\nuser has over the system.\n\nThis also make sure of deleting stale role assignments before\ndeleting role for the deployments that are already in this state.\n\nCloses-Bug: #1878938\n\nChange-Id: I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82\n(cherry picked from commit c1dcbb05b4488f1fa3e7af4d9171d11702d94119)\n(cherry picked from commit b83170a386ba8da2195c7494d04d832ce9b6d7b0)\n(cherry picked from commit 6f93063ff95f3c65af106a09281427e411d01850)\n(cherry picked from commit 7ac0891375656d156f1a9601e3520052dddb39d0)\n(cherry picked from commit e8b477847cabe449be4d3b8a21d8236ddbd84064)\n(cherry picked from commit e4e43d75d56083ca5a05daba1f3a95eb61346f69)\n'}]",3,760619,226fdb34c18cdec2c69f62b00f3b620c26cf0542,29,6,1,5046,,,0,"Delete system role assignments from system_assignment table

This patch ensures to delete the system role assignments from
all the assignment tables in keystone after deleting the role
user has over the system.

This also make sure of deleting stale role assignments before
deleting role for the deployments that are already in this state.

Closes-Bug: #1878938

Change-Id: I4df19c45c870ff3fb78578ca1fb7dd0d35da3c82
(cherry picked from commit c1dcbb05b4488f1fa3e7af4d9171d11702d94119)
(cherry picked from commit b83170a386ba8da2195c7494d04d832ce9b6d7b0)
(cherry picked from commit 6f93063ff95f3c65af106a09281427e411d01850)
(cherry picked from commit 7ac0891375656d156f1a9601e3520052dddb39d0)
(cherry picked from commit e8b477847cabe449be4d3b8a21d8236ddbd84064)
(cherry picked from commit e4e43d75d56083ca5a05daba1f3a95eb61346f69)
",git fetch https://review.opendev.org/openstack/keystone refs/changes/19/760619/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystone/tests/unit/assignment/test_backends.py', 'keystone/assignment/backends/sql.py', 'releasenotes/notes/bug-1878938-70ee2af6fdf66004.yaml']",3,226fdb34c18cdec2c69f62b00f3b620c26cf0542,bug/1878938,"--- fixes: - | [`bug 1878938 <https://bugs.launchpad.net/keystone/+bug/1878938>`_] Previously when a user used to have system role assignment and tries to delete the same role, the system role assignments still existed in system_assignment table. This causes keystone to return `HTTP 404 Not Found` errors when listing role assignments with names (e.g., `--names` or `?include_names`). If you are affected by this bug, you must remove stale role assignments manually. The following is an example SQL statement you can use to fix the issue, but you should verify it's applicability to your deployment's SQL implementation and version. SQL: - delete from system_assignment where role_id not in (select id from role); ",,40,0
openstack%2Frequirements~master~I04bfb842af5f70405b23039e7f36bae4ad002a23,openstack/requirements,master,I04bfb842af5f70405b23039e7f36bae4ad002a23,update constraint for python-ironicclient to new release 4.10.0,MERGED,2022-01-07 14:51:55.000000000,2022-01-07 19:31:06.000000000,2022-01-07 19:23:35.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-07 14:51:55.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/c3863d2c1c73b5253024b76f6f1306943b2a36ce', 'message': 'update constraint for python-ironicclient to new release 4.10.0\n\nmeta: version: 4.10.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ia25e1971e884cc34738cb89ef4f4c232124382f2\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I04bfb842af5f70405b23039e7f36bae4ad002a23\n'}]",0,823813,c3863d2c1c73b5253024b76f6f1306943b2a36ce,9,3,1,11131,,,0,"update constraint for python-ironicclient to new release 4.10.0

meta: version: 4.10.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ia25e1971e884cc34738cb89ef4f4c232124382f2
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+1: Dmitry Tantsur <dtantsur@protonmail.com>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I04bfb842af5f70405b23039e7f36bae4ad002a23
",git fetch https://review.opendev.org/openstack/requirements refs/changes/13/823813/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,c3863d2c1c73b5253024b76f6f1306943b2a36ce,new-release,python-ironicclient===4.10.0,python-ironicclient===4.9.0,1,1
openstack%2Fneutron~stable%2Fwallaby~Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1,openstack/neutron,stable/wallaby,Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1,Change tobiko CI job in the periodic queue,MERGED,2022-01-04 10:33:09.000000000,2022-01-07 19:29:53.000000000,2022-01-07 19:23:43.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 10:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d950371147fbc3454aad9b107376b5fd52428e07', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nChange-Id: Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1\n(cherry picked from commit dea20574798e5916efddf91bf34d7b31848c1bb9)\n""}, {'number': 2, 'created': '2022-01-07 15:04:15.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0793a9ee6d67889b14a6198be10a76213acfab0c', 'message': ""Change tobiko CI job in the periodic queue\n\nWe were using devstack-tobiko-faults-centos in our periodic queue\nbut this job is broken and it's better to use job\n'devstack-tobiko-neutron' which is kind of dedicated to test neutron\ncode.\nIt is also single node job, so will be faster and easier for the infra\nresources :)\n\nChange-Id: Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1\n(cherry picked from commit dea20574798e5916efddf91bf34d7b31848c1bb9)\n""}]",4,823374,0793a9ee6d67889b14a6198be10a76213acfab0c,26,3,2,27329,,,0,"Change tobiko CI job in the periodic queue

We were using devstack-tobiko-faults-centos in our periodic queue
but this job is broken and it's better to use job
'devstack-tobiko-neutron' which is kind of dedicated to test neutron
code.
It is also single node job, so will be faster and easier for the infra
resources :)

Change-Id: Ic3009bd98e3cf1e7a88d2cef02c178044e5478d1
(cherry picked from commit dea20574798e5916efddf91bf34d7b31848c1bb9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/74/823374/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d950371147fbc3454aad9b107376b5fd52428e07,devstack-tobiko-neutron, - devstack-tobiko-neutron:, - devstack-tobiko-faults-centos:,1,1
openstack%2Fopenstacksdk~feature%2Fr1~I987161bfdedf837298dfa56173bfdd07d066cbbf,openstack/openstacksdk,feature/r1,I987161bfdedf837298dfa56173bfdd07d066cbbf,Get rid of normalization in compute CL,MERGED,2021-12-28 14:43:08.000000000,2022-01-07 19:29:52.000000000,2022-01-07 19:23:38.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-12-28 14:43:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9541ebe25a8de823c30f4cebb13a51117156b429', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 2, 'created': '2021-12-28 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/9cdd0aa847345094cabe0bbc3a0fae9315b1347d', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 3, 'created': '2021-12-31 09:13:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/54c951176c1dbb73c32779c5fb4c912cf83a6db9', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 4, 'created': '2021-12-31 14:21:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/d8df9515fcc3cd362423b2601b9eb116d3ea434d', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 5, 'created': '2021-12-31 15:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f9cca4079b187d31c3a4d300ab0e259c421e24d6', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 6, 'created': '2022-01-04 16:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/f3410b6bf6792280cd89badf1a600dbbe997ac17', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}, {'number': 7, 'created': '2022-01-04 18:08:06.000000000', 'files': ['openstack/tests/functional/cloud/test_inventory.py', 'openstack/tests/functional/cloud/test_limits.py', 'openstack/tests/functional/cloud/test_flavor.py', 'openstack/tests/unit/cloud/test_security_groups.py', 'openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3c8826d05cfb794fb89366aa8cc26a56bcbc2c21', 'message': 'Get rid of normalization in compute CL\n\nStop using normalization in the compute cloud layer.\n\nChange-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf\n'}]",1,823098,3c8826d05cfb794fb89366aa8cc26a56bcbc2c21,18,2,7,27900,,,0,"Get rid of normalization in compute CL

Stop using normalization in the compute cloud layer.

Change-Id: I987161bfdedf837298dfa56173bfdd07d066cbbf
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/98/823098/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_compute.py'],1,9541ebe25a8de823c30f4cebb13a51117156b429,," for server in self.compute.servers( all_projects=all_projects, allow_unknown_params=True, **filters) return self.compute.get_limits(**params) return self.compute.get_flavor_access(flavor_id)"," servers = [ # TODO(mordred) Add original_names=False here and update the # normalize file for server. Then, just remove the normalize call # and the to_munch call. self._normalize_server(server._to_munch()) for server in self.compute.servers( all_projects=all_projects, allow_unknown_params=True, **filters)] for server in servers limits = self.compute.get_limits(**params) return self._normalize_compute_limits(limits, project_id=project_id) access = self.compute.get_flavor_access(flavor_id) return _utils.normalize_flavor_accesses(access)",5,13
openstack%2Fneutron~stable%2Fxena~I8877c658446fed155130add6f1c69f2772113c27,openstack/neutron,stable/xena,I8877c658446fed155130add6f1c69f2772113c27,Allocate IPs in bulk requests in separate transactions,MERGED,2021-12-23 14:20:45.000000000,2022-01-07 19:29:01.000000000,2022-01-07 19:23:23.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 14:20:45.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/56d2bda51d9750f3aee8d0817b7993b555010571', 'message': 'Allocate IPs in bulk requests in separate transactions\n\nIn the ML2 plugin in create_port_bulk method, we are iterating over\nlist of the ports to be created and do everything for all ports in\nsingle DB transaction (which makes totally sense as this is bulk\nrequest).\nBut one of the things which was done during that huge transaction was\nallocation of the IP addresses for all ports. That action is prone for\nrace conditions and can fail often, especially when there is no many IP\naddresses available in the subnet(s) for the ports.\nIn case of the error while allocating IP address even for one port from\nthe whole bulk request, whole create_port_bulk method was retried so\nallocations (and everything else) for all ports was reverted and started\nfrom scratch. That takes a lot of time so some requests may be processed\nvery long time, like e.g. 2-3 minutes in my tests.\n\nTo reproduce that issue I did simple script which created network with\n/24 subnet and then sent 24 requests to create 10 ports in bulk in each\nrequest. That was in totall 240 ports created in that subnet.\nI measured time of the creation of all those ports in the current master\nbranch (without this patch) and with the patch. Results are like below:\n\n+-----+---------------+------------+---------------------------+\n| Run | Master branch | This patch | Simulate bulk by creation |\n|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |\n+-----+---------------+------------+---------------------------+\n| 1   | 01:37         | 01:02      | 00:57                     |\n| 2   | 02:06         | 00:40      | 01:03                     |\n| 3   | 02:08         | 00:41      | 00:59                     |\n| 4   | 02:14         | 00:45      | 00:55                     |\n| 5   | 01:58         | 00:45      | 00:57                     |\n| 6   | 02:37         | 00:53      | 01:05                     |\n| 7   | 01:59         | 00:42      | 00:58                     |\n| 8   | 02:01         | 00:41      | 00:57                     |\n| 9   | 02:39         | 00:42      | 00:55                     |\n| 10  | 01:59         | 00:41      | 00:56                     |\n+-----+---------------+------------+---------------------------+\n| AVG | 00:02:07      | 00:00:45   | 00:58                     |\n+-----+---------------+------------+---------------------------+\n\nCloses-Bug: #1954763\nChange-Id: I8877c658446fed155130add6f1c69f2772113c27\n(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)\n'}]",2,822794,56d2bda51d9750f3aee8d0817b7993b555010571,15,3,1,11975,,,0,"Allocate IPs in bulk requests in separate transactions

In the ML2 plugin in create_port_bulk method, we are iterating over
list of the ports to be created and do everything for all ports in
single DB transaction (which makes totally sense as this is bulk
request).
But one of the things which was done during that huge transaction was
allocation of the IP addresses for all ports. That action is prone for
race conditions and can fail often, especially when there is no many IP
addresses available in the subnet(s) for the ports.
In case of the error while allocating IP address even for one port from
the whole bulk request, whole create_port_bulk method was retried so
allocations (and everything else) for all ports was reverted and started
from scratch. That takes a lot of time so some requests may be processed
very long time, like e.g. 2-3 minutes in my tests.

To reproduce that issue I did simple script which created network with
/24 subnet and then sent 24 requests to create 10 ports in bulk in each
request. That was in totall 240 ports created in that subnet.
I measured time of the creation of all those ports in the current master
branch (without this patch) and with the patch. Results are like below:

+-----+---------------+------------+---------------------------+
| Run | Master branch | This patch | Simulate bulk by creation |
|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |
+-----+---------------+------------+---------------------------+
| 1   | 01:37         | 01:02      | 00:57                     |
| 2   | 02:06         | 00:40      | 01:03                     |
| 3   | 02:08         | 00:41      | 00:59                     |
| 4   | 02:14         | 00:45      | 00:55                     |
| 5   | 01:58         | 00:45      | 00:57                     |
| 6   | 02:37         | 00:53      | 01:05                     |
| 7   | 01:59         | 00:42      | 00:58                     |
| 8   | 02:01         | 00:41      | 00:57                     |
| 9   | 02:39         | 00:42      | 00:55                     |
| 10  | 01:59         | 00:41      | 00:56                     |
+-----+---------------+------------+---------------------------+
| AVG | 00:02:07      | 00:00:45   | 00:58                     |
+-----+---------------+------------+---------------------------+

Closes-Bug: #1954763
Change-Id: I8877c658446fed155130add6f1c69f2772113c27
(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/94/822794/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",3,56d2bda51d9750f3aee8d0817b7993b555010571,bug/1954763-stable/xena," def allocate_ips_for_ports(self, context, ports): for port in ports: port['port']['id'] = ( port['port'].get('id') or uuidutils.generate_uuid()) # Call IPAM to allocate IP addresses try: port['ipams'] = self.ipam.allocate_ips_for_port(context, port) port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED) return ports def create_port_bulk(self, context, ports): port_list = self.allocate_ips_for_ports(context, port_list) try: return self._create_port_bulk(context, port_list) except Exception: with excutils.save_and_reraise_exception(): # If any issue happened allocated IP addresses needs to be # deallocated now for port in port_list: self.ipam.deallocate_ips_from_port( context, port, port['ipams']) @db_api.retry_if_session_inactive() def _create_port_bulk(self, context, port_list): # TODO(njohnston): Break this up into smaller functions. id=port['port']['id'], # Call IPAM to store allocated IP addresses ipams = port.pop(""ipams"") self.ipam.store_ip_allocation_for_port( context, ipams, network_id, port) ipam_fixed_ips = [] for ip in ipams: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = port.pop('ip_allocation')"," @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): # TODO(njohnston): Break this up into smaller functions. id=uuidutils.generate_uuid(), # Call IPAM to allocate IP addresses try: # TODO(njohnston): IPAM allocation needs to be revamped to # be bulk-friendly. ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED)",104,36
openstack%2Frequirements~master~I5e6ae53e993f8aa314514b9ca7a4cb89fec379bf,openstack/requirements,master,I5e6ae53e993f8aa314514b9ca7a4cb89fec379bf,update constraint for python-keystoneclient to new release 4.4.0,MERGED,2022-01-07 14:43:18.000000000,2022-01-07 19:28:30.000000000,2022-01-07 19:23:27.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-07 14:43:18.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/bc2e04f5040f52586f78098d03cd4dfd15986cdb', 'message': 'update constraint for python-keystoneclient to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic5c870f567a724f23d806e210dd557c66ba5d12e\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I5e6ae53e993f8aa314514b9ca7a4cb89fec379bf\n'}]",0,823808,bc2e04f5040f52586f78098d03cd4dfd15986cdb,9,3,1,11131,,,0,"update constraint for python-keystoneclient to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic5c870f567a724f23d806e210dd557c66ba5d12e
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I5e6ae53e993f8aa314514b9ca7a4cb89fec379bf
",git fetch https://review.opendev.org/openstack/requirements refs/changes/08/823808/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,bc2e04f5040f52586f78098d03cd4dfd15986cdb,new-release,python-keystoneclient===4.4.0,python-keystoneclient===4.3.0,1,1
openstack%2Fpuppet-cloudkitty~master~I55c3504b8d0eafc0848e6f74e3bf0ec2a097098b,openstack/puppet-cloudkitty,master,I55c3504b8d0eafc0848e6f74e3bf0ec2a097098b,Remove usage of custom os_package_type fact,MERGED,2022-01-05 12:54:56.000000000,2022-01-07 19:27:14.000000000,2022-01-07 19:27:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 12:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/622170a69fd5c4c5bf571b1674639d941b8a26bf', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I55c3504b8d0eafc0848e6f74e3bf0ec2a097098b\n'}, {'number': 2, 'created': '2022-01-05 13:30:23.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/ad5ea118a11c5ec0e68044cd7e0f4f56ccc0ddd2', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: I55c3504b8d0eafc0848e6f74e3bf0ec2a097098b\n'}]",0,823511,ad5ea118a11c5ec0e68044cd7e0f4f56ccc0ddd2,9,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: I55c3504b8d0eafc0848e6f74e3bf0ec2a097098b
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/11/823511/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,622170a69fd5c4c5bf571b1674639d941b8a26bf,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Fpuppet-octavia~master~Iea2b3421da7f7d38e4289cb5a71712b8a231d74b,openstack/puppet-octavia,master,Iea2b3421da7f7d38e4289cb5a71712b8a231d74b,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:13:26.000000000,2022-01-07 19:27:12.000000000,2022-01-07 19:27:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/4d89cadb71ce5c65eb23f03e6ef2a21e16597053', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Iea2b3421da7f7d38e4289cb5a71712b8a231d74b\n'}, {'number': 2, 'created': '2022-01-05 13:35:47.000000000', 'files': ['manifests/wsgi/uwsgi.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/95ef3fc38f669d75024028d31cec4bcce2ebaa90', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Iea2b3421da7f7d38e4289cb5a71712b8a231d74b\n'}]",0,823524,95ef3fc38f669d75024028d31cec4bcce2ebaa90,8,3,2,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Iea2b3421da7f7d38e4289cb5a71712b8a231d74b
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/24/823524/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/wsgi/uwsgi.pp'],1,4d89cadb71ce5c65eb23f03e6ef2a21e16597053,remove-os_package_type, if $::os['distro']['id'] != 'Debian'{, if $::os_package_type != 'debian'{,1,1
openstack%2Frequirements~master~I3113c141899ad63d4b8a7e0aa1706b4346834e61,openstack/requirements,master,I3113c141899ad63d4b8a7e0aa1706b4346834e61,update constraint for python-heatclient to new release 2.5.0,MERGED,2022-01-07 14:47:35.000000000,2022-01-07 19:23:30.000000000,2022-01-07 19:23:30.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-07 14:47:35.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6fe4d6314335132a3b292b79e5cef41ac67db747', 'message': 'update constraint for python-heatclient to new release 2.5.0\n\nmeta: version: 2.5.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I1d4c5d82ba464f0a917c075471101b1fec378020\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I3113c141899ad63d4b8a7e0aa1706b4346834e61\n'}]",0,823810,6fe4d6314335132a3b292b79e5cef41ac67db747,8,3,1,11131,,,0,"update constraint for python-heatclient to new release 2.5.0

meta: version: 2.5.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I1d4c5d82ba464f0a917c075471101b1fec378020
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I3113c141899ad63d4b8a7e0aa1706b4346834e61
",git fetch https://review.opendev.org/openstack/requirements refs/changes/10/823810/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6fe4d6314335132a3b292b79e5cef41ac67db747,new-release,python-heatclient===2.5.0,python-heatclient===2.4.0,1,1
openstack%2Fdevstack~master~Iaa740ecfbb9173dd97e90485bad88225caedb523,openstack/devstack,master,Iaa740ecfbb9173dd97e90485bad88225caedb523,Only set chap algorithms if not openeuler,MERGED,2022-01-05 21:28:06.000000000,2022-01-07 19:23:29.000000000,2022-01-07 19:21:40.000000000,"[{'_account_id': 5263}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-05 21:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9bda772344f44f7cf97f625eb0c4469c2cddad4a', 'message': 'Only set chap algorithms if not openeuler\n\nFor some reason, setting the CHAPAlgorithms as in c3b705138\nbreaks OpenEuler.  Making this conditional so that tests continue\nto pass.\n\nChange-Id: Iaa740ecfbb9173dd97e90485bad88225caedb523\n'}, {'number': 2, 'created': '2022-01-06 14:57:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/ba26dcf24eb8648eec40c5660481a3ad3894d944', 'message': 'Only set chap algorithms if not openeuler\n\nFor some reason, setting the CHAPAlgorithms as in c3b705138\nbreaks OpenEuler.  Making this conditional so that tests continue\nto pass.\n\nChange-Id: Iaa740ecfbb9173dd97e90485bad88225caedb523\n'}, {'number': 3, 'created': '2022-01-06 14:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/393575966b94202af4620c70bc9eb5fbe7887eac', 'message': 'Only set chap algorithms if not openeuler\n\nFor some reason, setting the CHAPAlgorithms as in c3b705138\nbreaks OpenEuler.  Making this conditional so that tests continue\nto pass.\n\nChange-Id: Iaa740ecfbb9173dd97e90485bad88225caedb523\n'}, {'number': 4, 'created': '2022-01-06 20:20:39.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/ac958698d0e29cc0bc4bbad4476fc7bc01ed870d', 'message': 'Only set chap algorithms if not openeuler\n\nFor some reason, setting the CHAPAlgorithms as in c3b705138\nbreaks OpenEuler.  Making this conditional so that tests continue\nto pass.\n\nChange-Id: Iaa740ecfbb9173dd97e90485bad88225caedb523\n'}]",6,823580,ac958698d0e29cc0bc4bbad4476fc7bc01ed870d,23,4,4,9914,,,0,"Only set chap algorithms if not openeuler

For some reason, setting the CHAPAlgorithms as in c3b705138
breaks OpenEuler.  Making this conditional so that tests continue
to pass.

Change-Id: Iaa740ecfbb9173dd97e90485bad88225caedb523
",git fetch https://review.opendev.org/openstack/devstack refs/changes/80/823580/3 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,9bda772344f44f7cf97f625eb0c4469c2cddad4a,fix_euler," # not work under FIPS. For some reason, though, this breaks openeuler. if ! is_openeuler; then iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" fi"," # not work under FIPS iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256""",4,2
openstack%2Fkolla-ansible~master~If8c569e1f7815520c84627671e3cbf275bed8ff9,openstack/kolla-ansible,master,If8c569e1f7815520c84627671e3cbf275bed8ff9,CI: check-logs - add another exception,MERGED,2021-11-26 10:28:28.000000000,2022-01-07 19:22:34.000000000,2022-01-07 19:19:15.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-26 10:28:28.000000000', 'files': ['tests/check-logs.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/661ca4dc064d576343a2d88d8d394116d73dfc4a', 'message': 'CI: check-logs - add another exception\n\nIt was seen in [1] and some other occassions, possibly neutron was trying\nto fetch token while keystone was being upgraded.\n\n[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt\n\nChange-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9\n'}]",4,819421,661ca4dc064d576343a2d88d8d394116d73dfc4a,11,2,1,22629,,,0,"CI: check-logs - add another exception

It was seen in [1] and some other occassions, possibly neutron was trying
to fetch token while keystone was being upgraded.

[1]: https://storage.bhs.cloud.ovh.net/v1/AUTH_dcaab5e32b234d56b626f72581e3644c/zuul_opendev_logs_ec2/665117/12/check/kolla-ansible-ubuntu-source-upgrade/ec2fc04/primary/logs/kolla/all-CRITICAL.txt

Change-Id: If8c569e1f7815520c84627671e3cbf275bed8ff9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/21/819421/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/check-logs.sh'],1,661ca4dc064d576343a2d88d8d394116d73dfc4a,," grep -v ""Failed to fetch token data from identity server""",,1,0
openstack%2Fkolla-ansible~master~Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,openstack/kolla-ansible,master,Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9,Use Volume V3 API in OpenStack exporter,MERGED,2022-01-04 14:27:47.000000000,2022-01-07 19:21:03.000000000,2022-01-07 19:19:09.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-01-04 14:27:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c89c08d482f55729749934fcaa035f881e0515e8', 'message': 'Use Volume V3 API in OpenStack exporter\n\nKolla has removed the Volume V2 API by default since OpenStack Wallaby. However,\nopenstack-exporter attempts to use the Volume V2 API by default, resulting in\nclean installs failing to fetch Cinder metrics in Prometheus.\n\nThis patch updates the clouds.yml configuration file for openstack-exporter\nto use the Volume V3 API instead.\n\nCloses-Bug: #1938194\nChange-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9\n'}, {'number': 2, 'created': '2022-01-05 11:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d3774a5e117712fca4e7386f5f6a4c66eaee7738', 'message': 'Use Volume V3 API in OpenStack exporter\n\nKolla has removed the Volume V2 API by default since OpenStack Wallaby. However,\nopenstack-exporter attempts to use the Volume V2 API by default, resulting in\nclean installs failing to fetch Cinder metrics in Prometheus.\n\nThis patch updates the clouds.yml configuration file for openstack-exporter\nto use the Volume V3 API instead.\n\nCloses-Bug: #1938194\nChange-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9\n'}, {'number': 3, 'created': '2022-01-05 11:19:45.000000000', 'files': ['releasenotes/notes/bug-1938194-80dba28f9cdd434c.yaml', 'ansible/roles/prometheus/templates/clouds.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4410ca7802bb8f95e804312fe8d8f5e1e79ad30d', 'message': 'Use Volume V3 API in OpenStack exporter\n\nKolla has removed the Volume V2 API by default since OpenStack Wallaby.\nHowever, openstack-exporter attempts to use the Volume V2 API by\ndefault, resulting in clean installs failing to fetch Cinder metrics\nin Prometheus.\n\nThis patch updates the clouds.yml configuration file for\nopenstack-exporter to use the Volume V3 API instead.\n\nCloses-Bug: #1938194\nChange-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9\n'}]",10,823397,4410ca7802bb8f95e804312fe8d8f5e1e79ad30d,21,5,3,31503,,,0,"Use Volume V3 API in OpenStack exporter

Kolla has removed the Volume V2 API by default since OpenStack Wallaby.
However, openstack-exporter attempts to use the Volume V2 API by
default, resulting in clean installs failing to fetch Cinder metrics
in Prometheus.

This patch updates the clouds.yml configuration file for
openstack-exporter to use the Volume V3 API instead.

Closes-Bug: #1938194
Change-Id: Ifbb601be3ef1a1e853d5a7e832adf556c0ae38b9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/823397/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prometheus/templates/clouds.yml.j2'],1,c89c08d482f55729749934fcaa035f881e0515e8,bug/1938194,{% if openstack_release == 'master' or openstack_release >= 'wallaby' %} volume_api_version: 3 {% endif %},,3,0
openstack%2Fkolla-ansible~master~If06db5030b0f09e20ef506c3b3ab39c3573b5f3d,openstack/kolla-ansible,master,If06db5030b0f09e20ef506c3b3ab39c3573b5f3d,nova: disable external metadata haproxy frontend,MERGED,2022-01-04 15:21:08.000000000,2022-01-07 19:19:12.000000000,2022-01-07 19:19:12.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-04 15:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/26c9eecd72ff5665a170b0a73c523371465efe47', 'message': ""nova: disable external metadata haproxy frontend\n\nWe are not using it anywhere (metadata agents are using internal network),\nso let's disable it by default.\n\nChange-Id: If06db5030b0f09e20ef506c3b3ab39c3573b5f3d\n""}, {'number': 2, 'created': '2022-01-05 14:15:06.000000000', 'files': ['releasenotes/notes/disable-nova-external-metadata-09ba131cf9258be9.yaml', 'ansible/roles/nova/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3dcb6ad809510c774654df988941fa3e17ecc362', 'message': ""nova: disable external metadata haproxy frontend\n\nWe are not using it anywhere (metadata agents are using internal network),\nso let's disable it by default.\n\nChange-Id: If06db5030b0f09e20ef506c3b3ab39c3573b5f3d\n""}]",0,823403,3dcb6ad809510c774654df988941fa3e17ecc362,12,4,2,22629,,,0,"nova: disable external metadata haproxy frontend

We are not using it anywhere (metadata agents are using internal network),
so let's disable it by default.

Change-Id: If06db5030b0f09e20ef506c3b3ab39c3573b5f3d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/03/823403/2 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/disable-nova-external-metadata-09ba131cf9258be9.yaml', 'ansible/roles/nova/defaults/main.yml']",2,26c9eecd72ff5665a170b0a73c523371465efe47,," enabled: ""{{ nova_enable_external_metadata }}""nova_enable_external_metadata: ""no"" "," enabled: ""{{ enable_nova }}""",12,1
openstack%2Fkolla-ansible~stable%2Fussuri~I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,openstack/kolla-ansible,stable/ussuri,I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,Move project_name and kolla_role_name to role vars,MERGED,2022-01-06 15:50:25.000000000,2022-01-07 19:07:41.000000000,2022-01-07 19:05:35.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-06 15:50:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ea393539cd98e6420114a6aa1720d409c319a10d', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nCompared to victoria, this cherry picked change includes the congress,\nmongodb and nova-hyperv roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit dd1115b5d57d3fb957bbecfafe18e4b450cbf29b)\n(cherry picked from commit 333fbfb52847da5645b5d3b202148beb390e0bb7)\n'}, {'number': 2, 'created': '2022-01-06 15:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/540ef0c8c143748053662a414d6a74b9ce71de9c', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to victoria, this cherry picked change includes the congress,\nmongodb and nova-hyperv roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit 522e7b7121a2afad7f5c87b78e1d69d74bab3051)\n(cherry picked from commit 9dbe98c2624a53871fd3a64afff06149091698d2)\n'}, {'number': 3, 'created': '2022-01-07 09:02:19.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/searchlight/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/mongodb/vars/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/karbor/vars/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/haproxy/vars/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/congress/vars/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/nova-hyperv/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/qinling/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/229c3ad585752f9157791d541ad380196d786765', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to victoria, this cherry picked change includes the congress,\nmongodb and nova-hyperv roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit 6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7)\n(cherry picked from commit 145e64d5ca00374ad9ef86a103624db9a5e6642e)\n'}]",1,823712,229c3ad585752f9157791d541ad380196d786765,14,4,3,15197,,,0,"Move project_name and kolla_role_name to role vars

Role vars have a higher precedence than role defaults. This allows to
import default vars from another role via vars_files without overriding
project_name (see closed bug for details).

Compared to victoria, this cherry picked change includes the congress,
mongodb and nova-hyperv roles.

Change-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221
Closes-Bug: #1951785
(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)
(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)
(cherry picked from commit 6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7)
(cherry picked from commit 145e64d5ca00374ad9ef86a103624db9a5e6642e)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/12/823712/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/searchlight/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/nova-hyperv/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/mongodb/vars/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/karbor/vars/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/mongodb/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/congress/defaults/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/congress/vars/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/nova-hyperv/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/qinling/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",146,ea393539cd98e6420114a6aa1720d409c319a10d,,,"project_name: ""vmtp"" ",150,148
openstack%2Fkolla-ansible~stable%2Fwallaby~I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,openstack/kolla-ansible,stable/wallaby,I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,Move project_name and kolla_role_name to role vars,MERGED,2022-01-06 15:44:52.000000000,2022-01-07 19:07:40.000000000,2022-01-07 19:05:31.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-06 15:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd1115b5d57d3fb957bbecfafe18e4b450cbf29b', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nCompared to xena, this cherry picked change includes the chrony, panko,\nrally and tempest roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n'}, {'number': 2, 'created': '2022-01-06 15:52:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/522e7b7121a2afad7f5c87b78e1d69d74bab3051', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to xena, this cherry picked change includes the chrony, panko,\nrally and tempest roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n'}, {'number': 3, 'created': '2022-01-06 17:12:24.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/haproxy/vars/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to xena, this cherry picked change includes the chrony,\nhaproxy, panko, rally and tempest roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n'}]",0,823708,6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7,13,3,3,15197,,,0,"Move project_name and kolla_role_name to role vars

Role vars have a higher precedence than role defaults. This allows to
import default vars from another role via vars_files without overriding
project_name (see closed bug for details).

Compared to xena, this cherry picked change includes the chrony,
haproxy, panko, rally and tempest roles.

Change-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221
Closes-Bug: #1951785
(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)
(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/823708/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",136,dd1115b5d57d3fb957bbecfafe18e4b450cbf29b,,,"project_name: ""vmtp"" ",140,138
openstack%2Fkolla-ansible~stable%2Fvictoria~I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,openstack/kolla-ansible,stable/victoria,I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,Move project_name and kolla_role_name to role vars,MERGED,2022-01-06 15:47:43.000000000,2022-01-07 19:07:29.000000000,2022-01-07 19:05:32.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-06 15:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/333fbfb52847da5645b5d3b202148beb390e0bb7', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nCompared to wallaby, this cherry picked change includes the karbor,\nqinling and searchlight roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit dd1115b5d57d3fb957bbecfafe18e4b450cbf29b)\n'}, {'number': 2, 'created': '2022-01-06 15:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9dbe98c2624a53871fd3a64afff06149091698d2', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to wallaby, this cherry picked change includes the karbor,\nqinling and searchlight roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit 522e7b7121a2afad7f5c87b78e1d69d74bab3051)\n'}, {'number': 3, 'created': '2022-01-07 08:59:53.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/searchlight/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/karbor/vars/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/haproxy/vars/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/qinling/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/145e64d5ca00374ad9ef86a103624db9a5e6642e', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see closed bug for details).\n\nCompared to wallaby, this cherry picked change includes the karbor,\nqinling and searchlight roles.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nCloses-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)\n(cherry picked from commit 6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7)\n'}]",0,823709,145e64d5ca00374ad9ef86a103624db9a5e6642e,14,4,3,15197,,,0,"Move project_name and kolla_role_name to role vars

Role vars have a higher precedence than role defaults. This allows to
import default vars from another role via vars_files without overriding
project_name (see closed bug for details).

Compared to wallaby, this cherry picked change includes the karbor,
qinling and searchlight roles.

Change-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221
Closes-Bug: #1951785
(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)
(cherry picked from commit 6c695564bcb29792460ae54aaac2b3b2a6096578)
(cherry picked from commit 6cb0e1062605b4f0f9aeb9884d25a36c91b4bed7)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/09/823709/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/chrony/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/searchlight/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/qinling/defaults/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/karbor/vars/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/haproxy/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/rally/defaults/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/searchlight/defaults/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/karbor/defaults/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/qinling/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",140,333fbfb52847da5645b5d3b202148beb390e0bb7,,,"project_name: ""vmtp"" ",144,142
openstack%2Fkolla-ansible~stable%2Fxena~I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,openstack/kolla-ansible,stable/xena,I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,Move project_name and kolla_role_name to role vars,MERGED,2022-01-06 15:37:54.000000000,2022-01-07 19:07:21.000000000,2022-01-07 19:05:28.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-06 15:37:54.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ceph-rgw/vars/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ceph-rgw/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6c695564bcb29792460ae54aaac2b3b2a6096578', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nCompared to master, this cherry picked change includes the vmtp role.\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nRelated-Bug: #1951785\n(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)\n'}]",0,823706,6c695564bcb29792460ae54aaac2b3b2a6096578,9,3,1,15197,,,0,"Move project_name and kolla_role_name to role vars

Role vars have a higher precedence than role defaults. This allows to
import default vars from another role via vars_files without overriding
project_name (see related bug for details).

Compared to master, this cherry picked change includes the vmtp role.

Change-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221
Related-Bug: #1951785
(cherry picked from commit 56fc74f23150a9be0c88518ec98bc6a2848ff168)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/06/823706/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ceph-rgw/vars/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ceph-rgw/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",130,6c695564bcb29792460ae54aaac2b3b2a6096578,,,"project_name: ""vmtp"" ",134,132
openstack%2Ftripleo-validations~master~I6852fe440c62348fcf795dda44403a3ec68a7e19,openstack/tripleo-validations,master,I6852fe440c62348fcf795dda44403a3ec68a7e19,fix(molecule): Add ability to run molecule on Fedora,MERGED,2021-12-20 15:49:05.000000000,2022-01-07 19:00:22.000000000,2022-01-07 18:57:42.000000000,"[{'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-12-20 15:49:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/9500882e28be5adff3e0db2f1c9c206221765eb6', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n""}, {'number': 2, 'created': '2021-12-22 10:17:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/17c3c907b7c4d605a1022491ee0a52c1b3c55734', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n""}, {'number': 3, 'created': '2022-01-06 08:47:33.000000000', 'files': ['bindep.txt', 'doc/source/contributing/developer_guide.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bc1d40a53937e1eea59f9ac0c95d176beab89618', 'message': ""fix(molecule): Add ability to run molecule on Fedora\n\nThis patch adds the support for running the molecule tests on Fedora through\nthe molecule command. This patch also updates the developer's guide with\nall the instructions to do so.\n\nJIRA: #VALFRWK-703\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19\n""}]",4,822336,bc1d40a53937e1eea59f9ac0c95d176beab89618,17,6,3,11491,,,0,"fix(molecule): Add ability to run molecule on Fedora

This patch adds the support for running the molecule tests on Fedora through
the molecule command. This patch also updates the developer's guide with
all the instructions to do so.

JIRA: #VALFRWK-703

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I6852fe440c62348fcf795dda44403a3ec68a7e19
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/36/822336/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'doc/source/contributing/developer_guide.rst']",2,9500882e28be5adff3e0db2f1c9c206221765eb6,ci-molecule-tests," $ sudo dnf install python3 python3-virtualenv $ python3 -m virtualenv --system-site-packages ""${HOME}/test-python"" $ source ""${HOME}/test-python/bin/activate"" (test-python) $ python3 -m pip install ""pip>=19.1.1"" setuptools bindep --upgrade (test-python) $ scripts/./bindep-install (test-python) $ python3 -m pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt (test-python) $ ansible-galaxy install -fr ansible-collections-requirements.txt .. note:: `validation-common` contains Ansible Custom modules needed by `tripleo-validations` roles. That's the reason why we will need to clone it beforehand. Cloning `tripleo-ansible` project is only necessary in order to run the `molecule` test(s) for the `image_serve` role. Otherwise, you won't probably need it. $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO}; done (test-python) $ source ansible-test-env.rc (test-python) $ cd roles/${NEWROLENAME}/"," $ python -m virtualenv --system-site-packages ""${HOME}/test-python"" $ ${HOME}/test-python/bin/pip install -r requirements.txt \ -r test-requirements.txt \ -r molecule-requirements.txt $ source ${HOME}/test-python/bin/activate $ for REPO in validations-common tripleo-ansible; do git clone https://opendev.org/openstack/${REPO} roles/roles.galaxy/${REPO} done (test-python) $ cd tripleo-validations/roles/${NEWROLENAME}/",35,25
openstack%2Fpuppet-cinder~master~I83bfbddbbc6cd98aa90621c3db2afc9afde16859,openstack/puppet-cinder,master,I83bfbddbbc6cd98aa90621c3db2afc9afde16859,key_manager: Add service user options for Barbican key manager,MERGED,2022-01-06 04:33:35.000000000,2022-01-07 18:48:19.000000000,2022-01-07 18:46:47.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 04:33:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/4d2e75d42128edc11155eedcb8ac946386773fd5', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859\n'}, {'number': 2, 'created': '2022-01-06 04:44:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/f42f6738a3f09e4dd7334ed62f65175cc8e2a8f0', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859\n'}, {'number': 3, 'created': '2022-01-06 06:54:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/73657cd771d8b65fec06610ed7335aca5dcdb42c', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859\n'}, {'number': 4, 'created': '2022-01-06 23:28:35.000000000', 'files': ['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-7c554403b68cbcaa.yaml', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/cinder_key_manager_barbican_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/899e01f7ff9746f32a808bdf978699167c701dd0', 'message': 'key_manager: Add service user options for Barbican key manager\n\nThis change introduces some parameters to set up the service user token\nfeature for Barbican key manager, which was implemented during the Xena\ncycle[1].\n\n[1] 162039467ad0dfc5e25a16b75d9072d607690702\n\nDepends-on: https://review.opendev.org/810451\nChange-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859\n'}]",2,823619,899e01f7ff9746f32a808bdf978699167c701dd0,14,3,4,9816,,,0,"key_manager: Add service user options for Barbican key manager

This change introduces some parameters to set up the service user token
feature for Barbican key manager, which was implemented during the Xena
cycle[1].

[1] 162039467ad0dfc5e25a16b75d9072d607690702

Depends-on: https://review.opendev.org/810451
Change-Id: I83bfbddbbc6cd98aa90621c3db2afc9afde16859
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/19/823619/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/key_manager/barbican/service_user.pp', 'releasenotes/notes/barbican_service_user-7c554403b68cbcaa.yaml', 'spec/classes/cinder_key_manager_barbican_service_user_spec.rb', 'manifests/key_manager/barbican.pp', 'spec/classes/cinder_key_manager_barbican_spec.rb']",5,4d2e75d42128edc11155eedcb8ac946386773fd5,barbican-service_user," :barbican_endpoint => '<SERVICE DEFAULT>', :barbican_api_version => '<SERVICE DEFAULT>', :auth_endpoint => '<SERVICE DEFAULT>', :retry_delay => '<SERVICE DEFAULT>', :number_of_retries => '<SERVICE DEFAULT>', :barbican_endpoint_type => '<SERVICE DEFAULT>', :barbican_region_name => '<SERVICE DEFAULT>', :send_service_user_token => '<SERVICE DEFAULT>', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :send_service_user_token => true, :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :send_service_user_token => true,"," :barbican_endpoint => '<SERVICE DEFAULT>', :barbican_api_version => '<SERVICE DEFAULT>', :auth_endpoint => '<SERVICE DEFAULT>', :retry_delay => '<SERVICE DEFAULT>', :number_of_retries => '<SERVICE DEFAULT>', :barbican_endpoint_type => '<SERVICE DEFAULT>', :barbican_region_name => '<SERVICE DEFAULT>', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne', :barbican_endpoint => 'http://localhost:9311/', :barbican_api_version => 'v1', :auth_endpoint => 'http://localhost:5000', :retry_delay => 1, :number_of_retries => 60, :barbican_endpoint_type => 'public', :barbican_region_name => 'regionOne',",225,35
openstack%2Ftripleo-quickstart~master~Idd1ae70fcf9d7db7a0308857f9c28844d98cad9d,openstack/tripleo-quickstart,master,Idd1ae70fcf9d7db7a0308857f9c28844d98cad9d,Set FQDN hostname to undercloud.qcow2,ABANDONED,2022-01-03 16:54:52.000000000,2022-01-07 18:34:11.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-03 16:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/228bbf5bfcfbf22e559e66f2c2d0a363a5817c13', 'message': 'Set FQDN hostname to undercloud.qcow2\n\nUndercloud install fails if hostname is not a FQDN.\n\nChange-Id: Idd1ae70fcf9d7db7a0308857f9c28844d98cad9d\n'}, {'number': 2, 'created': '2022-01-04 10:03:15.000000000', 'files': ['roles/common/defaults/main.yml', 'roles/libvirt/setup/undercloud/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e383ae53ec7cd4317163a47ef74ebcc424f80e3b', 'message': 'Set FQDN hostname to undercloud.qcow2\n\nUndercloud install fails if hostname is not a FQDN.\n\nChange-Id: Idd1ae70fcf9d7db7a0308857f9c28844d98cad9d\n'}]",1,823321,e383ae53ec7cd4317163a47ef74ebcc424f80e3b,12,3,2,34419,,,0,"Set FQDN hostname to undercloud.qcow2

Undercloud install fails if hostname is not a FQDN.

Change-Id: Idd1ae70fcf9d7db7a0308857f9c28844d98cad9d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/21/823321/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/common/defaults/main.yml', 'roles/libvirt/setup/undercloud/tasks/main.yml']",2,228bbf5bfcfbf22e559e66f2c2d0a363a5817c13,undercloud-hostname, --hostname {{ undercloud_hostname }},,4,0
openstack%2Fkolla-ansible~stable%2Ftrain~I2d4a4fab35771723be82a1c8b98dbe4cc3164f58,openstack/kolla-ansible,stable/train,I2d4a4fab35771723be82a1c8b98dbe4cc3164f58,[Security] Add log4j vulnerability mitigation in Elasticsearch,MERGED,2021-12-21 11:20:54.000000000,2022-01-07 18:26:21.000000000,2022-01-07 18:24:20.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-12-21 11:20:54.000000000', 'files': ['ansible/roles/elasticsearch/defaults/main.yml', 'releasenotes/notes/security-log4j-1be047799f8e590a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a49cb83c649ffe022d4ca0429e91cba39123c31e', 'message': '[Security] Add log4j vulnerability mitigation in Elasticsearch\n\nChange-Id: I2d4a4fab35771723be82a1c8b98dbe4cc3164f58\n(cherry picked from commit ecbd96bebbe9f70b1e3ea09b3794c8058ce93980)\n'}]",3,822426,a49cb83c649ffe022d4ca0429e91cba39123c31e,15,5,1,30523,,,0,"[Security] Add log4j vulnerability mitigation in Elasticsearch

Change-Id: I2d4a4fab35771723be82a1c8b98dbe4cc3164f58
(cherry picked from commit ecbd96bebbe9f70b1e3ea09b3794c8058ce93980)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/26/822426/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/elasticsearch/defaults/main.yml', 'releasenotes/notes/security-log4j-1be047799f8e590a.yaml']",2,a49cb83c649ffe022d4ca0429e91cba39123c31e,,--- security: - | Adds mitigation for the Apache Log4j2 Remote Code Execution (RCE) Vulnerability in Elasticsearch - CVE-2021-44228. ,,6,1
openstack%2Fpuppet-swift~stable%2Fwallaby~I85abf3811d61fa8bfc0a1607818d6495549b5a6b,openstack/puppet-swift,stable/wallaby,I85abf3811d61fa8bfc0a1607818d6495549b5a6b,Add 'rsync_use_xinetd' as argument to swift::ringserver,MERGED,2022-01-07 11:42:32.000000000,2022-01-07 18:07:13.000000000,2022-01-07 18:05:26.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 31068}]","[{'number': 1, 'created': '2022-01-07 11:42:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b97a1476d3e8c4223cfbb18b246e94b9d9a25107', 'message': ""Add 'rsync_use_xinetd' as argument to swift::ringserver\n\nSince in RHEL/CentOS >= 8 rsyncd systemd unit is shipped in a\ndifferent package (rsync-dameon), we need to be able to not\nuse xinetd to manage rsync service.\nThe dependency on rsync-daemon for RHEL/CentOS >= 8\nis handled in puppet-rsync with [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-rsync/pull/139/files\n\nCloses-Bug: #1930855\nChange-Id: I85abf3811d61fa8bfc0a1607818d6495549b5a6b\n(cherry picked from commit 053a3a2a56723e0ec43d1855ac7615657a4de8f0)\n""}, {'number': 2, 'created': '2022-01-07 11:57:21.000000000', 'files': ['manifests/storage/all.pp', 'releasenotes/notes/switch_rsync_use_xinetd-a3c857e5ef13b0a8.yaml', 'manifests/ringserver.pp', 'manifests/params.pp', 'manifests/storage.pp', 'spec/classes/swift_ringserver_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/b3576e78bfaeff7644dc37614613cef2df0661f0', 'message': ""Add 'rsync_use_xinetd' as argument to swift::ringserver\n\nSince in RHEL/CentOS >= 8 rsyncd systemd unit is shipped in a\ndifferent package (rsync-dameon), we need to be able to not\nuse xinetd to manage rsync service.\nThe dependency on rsync-daemon for RHEL/CentOS >= 8\nis handled in puppet-rsync with [1].\n\n[1] https://github.com/puppetlabs/puppetlabs-rsync/pull/139/files\n\nConflicts:\n\tmanifests/params.pp\n\nResolved conflict caused by 5b0745101a9af363e367ef301728541921a5a70d .\n\nCloses-Bug: #1930855\nChange-Id: I85abf3811d61fa8bfc0a1607818d6495549b5a6b\n(cherry picked from commit 053a3a2a56723e0ec43d1855ac7615657a4de8f0)\n""}]",6,823757,b3576e78bfaeff7644dc37614613cef2df0661f0,13,4,2,16312,,,0,"Add 'rsync_use_xinetd' as argument to swift::ringserver

Since in RHEL/CentOS >= 8 rsyncd systemd unit is shipped in a
different package (rsync-dameon), we need to be able to not
use xinetd to manage rsync service.
The dependency on rsync-daemon for RHEL/CentOS >= 8
is handled in puppet-rsync with [1].

[1] https://github.com/puppetlabs/puppetlabs-rsync/pull/139/files

Conflicts:
	manifests/params.pp

Resolved conflict caused by 5b0745101a9af363e367ef301728541921a5a70d .

Closes-Bug: #1930855
Change-Id: I85abf3811d61fa8bfc0a1607818d6495549b5a6b
(cherry picked from commit 053a3a2a56723e0ec43d1855ac7615657a4de8f0)
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/57/823757/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/storage/all.pp', 'releasenotes/notes/switch_rsync_use_xinetd-a3c857e5ef13b0a8.yaml', 'manifests/ringserver.pp', 'manifests/params.pp', 'manifests/storage.pp', 'spec/classes/swift_ringserver_spec.rb']",6,b97a1476d3e8c4223cfbb18b246e94b9d9a25107,xinetd_as_arg," let :params do { :local_net_ip => '127.0.0.1', :max_connections => 5, :rsync_use_xinetd => true, } end it_behaves_like 'swift::ringserver'"," let :params do { :local_net_ip => '127.0.0.1', :max_connections => 5 } end let :params do { :local_net_ip => '127.0.0.1', :max_connections => 5 } end it_configures 'swift::ringserver'",62,23
openstack%2Fneutron~stable%2Fvictoria~I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,openstack/neutron,stable/victoria,I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0,[OVN] Fix RowNotFound exception while waiting for metadata networks,MERGED,2022-01-06 06:23:41.000000000,2022-01-07 17:52:59.000000000,2022-01-07 17:50:52.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 06:23:41.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/cbf3fe098bb44605174b8e582d56814fd36632c7', 'message': '[OVN] Fix RowNotFound exception while waiting for metadata networks\n\nIn the set_port_status_up() the OVN driver waits for the metadata to be\nprovisioned (15 seconds) [0] prior to sending the event to Nova notifying\nthat the provisioning of the port is done (network-vif-plugged). But\nthere could be a race condition while trying to get that information\nwhich results in a RowNotFound being raise in the waiting loop.\n\nOnce that happens, the exception is bubbled up and the OVN driver end up\nnot sending the event to Nova and the instance will fail to deploy (it\nwill be stuck in BUILD state until it times out).\n\nThis patch changes the logic of the method looking for the metadata\nnetwork information to not raise RowNotFound so that the waiting loop\ncan iteract again [0] until the information is available.\n\n[0]\nhttps://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124\n\nChange-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0\nCloses-Bug: #1914394\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)\n'}]",0,823593,cbf3fe098bb44605174b8e582d56814fd36632c7,8,3,1,13686,,,0,"[OVN] Fix RowNotFound exception while waiting for metadata networks

In the set_port_status_up() the OVN driver waits for the metadata to be
provisioned (15 seconds) [0] prior to sending the event to Nova notifying
that the provisioning of the port is done (network-vif-plugged). But
there could be a race condition while trying to get that information
which results in a RowNotFound being raise in the waiting loop.

Once that happens, the exception is bubbled up and the OVN driver end up
not sending the event to Nova and the instance will fail to deploy (it
will be stuck in BUILD state until it times out).

This patch changes the logic of the method looking for the metadata
network information to not raise RowNotFound so that the waiting loop
can iteract again [0] until the information is available.

[0]
https://github.com/openstack/neutron/blob/cbd72e2f4846ec64ff6e6ef24099a8e90ddebf31/neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py#L1124

Change-Id: I3c106ace74b5c6e4ed0cb7e827baf5d6595ec5d0
Closes-Bug: #1914394
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit b618d98541599ad0ef73be41a3edd83d1fc75a56)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/823593/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py']",3,cbf3fe098bb44605174b8e582d56814fd36632c7,bug/1914394-ovn-metadata-networks-stable/victoria," class TestSBImplIdlOvn(TestDBImplIdlOvn): fake_set = { 'chassis': [ {'name': 'fake-chassis', 'external_ids': {'neutron-metadata-proxy-networks': 'fake-id'}}], } def setUp(self): super(TestSBImplIdlOvn, self).setUp() self.chassis_table = fakes.FakeOvsdbTable.create_one_ovsdb_table() self._tables = {} self._tables['Chassis'] = self.chassis_table with mock.patch.object(impl_idl_ovn.OvsdbSbOvnIdl, 'from_worker', return_value=mock.Mock()): with mock.patch.object(ovs_idl.Backend, 'autocreate_indices', create=True): impl_idl_ovn.OvsdbSbOvnIdl.ovsdb_connection = None self.sb_ovn_idl = impl_idl_ovn.OvsdbSbOvnIdl(mock.MagicMock()) self.sb_ovn_idl.idl.tables = self._tables def _load_sb_db(self): fake_chassis = TestSBImplIdlOvn.fake_set['chassis'] self._load_ovsdb_fake_rows(self.chassis_table, fake_chassis) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks_chassis_empty(self, mock_log): chassis_name = 'fake-chassis' result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) mock_log.assert_called_once_with( ""Couldn't find Chassis named %s in OVN while looking "" ""for metadata networks"", chassis_name) self.assertEqual([], result) @mock.patch.object(impl_idl_ovn.LOG, 'warning') def test_get_chassis_metadata_networks(self, mock_log): chassis_name = 'fake-chassis' self._load_sb_db() result = self.sb_ovn_idl.get_chassis_metadata_networks(chassis_name) self.assertFalse(mock_log.called) self.assertEqual(['fake-id'], result)",,55,1
openstack%2Fmasakari~master~Ibae13b0391355ce5e9cad0fbb72d7db7657e7bfa,openstack/masakari,master,Ibae13b0391355ce5e9cad0fbb72d7db7657e7bfa,[CI] Run bandit,ABANDONED,2021-05-08 19:17:17.000000000,2022-01-07 17:51:37.000000000,,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-05-08 19:17:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/bbe39755adc88e5673e6e35ce7db148c0699486a', 'message': '[CI] Run bandit\n\nChange-Id: Ibae13b0391355ce5e9cad0fbb72d7db7657e7bfa\n'}, {'number': 2, 'created': '2021-05-18 11:14:12.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari/commit/9c220b77dd6ac9757defac19db995e292f9bd31b', 'message': '[CI] Run bandit\n\nChange-Id: Ibae13b0391355ce5e9cad0fbb72d7db7657e7bfa\n'}]",0,790341,9c220b77dd6ac9757defac19db995e292f9bd31b,7,2,2,30491,,,0,"[CI] Run bandit

Change-Id: Ibae13b0391355ce5e9cad0fbb72d7db7657e7bfa
",git fetch https://review.opendev.org/openstack/masakari refs/changes/41/790341/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,bbe39755adc88e5673e6e35ce7db148c0699486a,ci-run-bandit, {[testenv:bandit]deps} {[testenv:bandit]commands}[testenv:bandit] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} bandit commands = bandit -r masakari devstack playbooks roles tools ,,10,0
openstack%2Fmasakari-monitors~master~I0876f164143fd6bdf30b9526614c2122d0b777b8,openstack/masakari-monitors,master,I0876f164143fd6bdf30b9526614c2122d0b777b8,[CI] Run bandit,ABANDONED,2021-05-18 10:40:52.000000000,2022-01-07 17:51:34.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 10:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/15cd927a1d6b8f520b1392d3bf36c3a2ed35a84a', 'message': '[CI] Run bandit\n\nChange-Id: I0876f164143fd6bdf30b9526614c2122d0b777b8\n'}, {'number': 2, 'created': '2021-05-18 10:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/27c048b11bbd81aa84884f3413a98c2ab5379680', 'message': '[CI] Run bandit\n\nChange-Id: I0876f164143fd6bdf30b9526614c2122d0b777b8\n'}, {'number': 3, 'created': '2021-05-18 10:51:05.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/masakari-monitors/commit/72693b95d98339e998e83a5b9a68809f5156983f', 'message': '[CI] Run bandit\n\nChange-Id: I0876f164143fd6bdf30b9526614c2122d0b777b8\n'}]",0,791918,72693b95d98339e998e83a5b9a68809f5156983f,7,1,3,30491,,,0,"[CI] Run bandit

Change-Id: I0876f164143fd6bdf30b9526614c2122d0b777b8
",git fetch https://review.opendev.org/openstack/masakari-monitors refs/changes/18/791918/3 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,15cd927a1d6b8f520b1392d3bf36c3a2ed35a84a,ci-run-bandit,[testenv:linters] deps = {[testenv:pep8]deps} {[testenv:bandit]deps} commands = {[testenv:pep8]commands} {[testenv:bandit]commands} skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} hacking commands = flake8 {posargs} [testenv:bandit] skip_install = True deps = -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} bandit commands = bandit -r masakarimonitors,commands = flake8 {posargs},28,1
openstack%2Fpuppet-watcher~master~Ie9000665e796de88195298016146957f6b6fa862,openstack/puppet-watcher,master,Ie9000665e796de88195298016146957f6b6fa862,Remove usage of custom os_package_type fact,MERGED,2022-01-05 13:16:04.000000000,2022-01-07 17:38:33.000000000,2022-01-07 17:38:33.000000000,"[{'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 13:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/fa917f8d08165e51122fcd14a54d989d590c6cff', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ie9000665e796de88195298016146957f6b6fa862\n'}, {'number': 2, 'created': '2022-01-05 13:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/93fd16d28e6f6fb9ac9e69b15993efa69618f23c', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ie9000665e796de88195298016146957f6b6fa862\n'}, {'number': 3, 'created': '2022-01-05 23:18:24.000000000', 'files': ['spec/classes/watcher_wsgi_apache_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/9fa27011a50fa6db403a913a6d219ea8d87eeab6', 'message': 'Remove usage of custom os_package_type fact\n\nCurrently we support usage of distro packages only, and this custom\nfact can be simply replaced by the default fact.\n\nChange-Id: Ie9000665e796de88195298016146957f6b6fa862\n'}]",0,823527,9fa27011a50fa6db403a913a6d219ea8d87eeab6,10,3,3,9816,,,0,"Remove usage of custom os_package_type fact

Currently we support usage of distro packages only, and this custom
fact can be simply replaced by the default fact.

Change-Id: Ie9000665e796de88195298016146957f6b6fa862
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/27/823527/3 && git format-patch -1 --stdout FETCH_HEAD,['manifests/params.pp'],1,fa917f8d08165e51122fcd14a54d989d590c6cff,remove-os_package_type, if ($::os['distro']['id'] == 'Debian') {, if ($::os_package_type == 'debian') {,1,1
openstack%2Fnova~stable%2Fxena~I4be429c56aaa15ee12f448978c38214e741eae63,openstack/nova,stable/xena,I4be429c56aaa15ee12f448978c38214e741eae63,Reproduce bug 1953359,MERGED,2021-12-06 16:20:07.000000000,2022-01-07 17:31:14.000000000,2022-01-07 17:29:03.000000000,"[{'_account_id': 4690}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32349}, {'_account_id': 33608}]","[{'number': 1, 'created': '2021-12-06 16:20:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e94e7f218288a61c6bc7dcdec66463960b3a1bab', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n'}, {'number': 2, 'created': '2021-12-16 08:25:35.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f0a6d946aaa6c30f826cfced75c2fb06fdb379a8', 'message': 'Reproduce bug 1953359\n\nThis patch adds a functional test that reproduces a race between\nincoming migration and the update_available_resource periodic\n\nChange-Id: I4be429c56aaa15ee12f448978c38214e741eae63\nRelated-Bug: #1953359\n(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)\n'}]",4,820550,f0a6d946aaa6c30f826cfced75c2fb06fdb379a8,21,7,2,9708,,,0,"Reproduce bug 1953359

This patch adds a functional test that reproduces a race between
incoming migration and the update_available_resource periodic

Change-Id: I4be429c56aaa15ee12f448978c38214e741eae63
Related-Bug: #1953359
(cherry picked from commit c59224d715a21998f40f72cf4e37efdc990e4d7e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/50/820550/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/libvirt/test_numa_servers.py']",2,e94e7f218288a61c6bc7dcdec66463960b3a1bab,bug/1953359," def test_resize_dedicated_policy_race_on_dest_bug_1953359(self): self.flags(cpu_dedicated_set='0-2', cpu_shared_set=None, group='compute') self.flags(vcpu_pin_set=None) host_info = fakelibvirt.HostInfo(cpu_nodes=1, cpu_sockets=1, cpu_cores=2, cpu_threads=1) self.start_compute(host_info=host_info, hostname='compute1') extra_spec = { 'hw:cpu_policy': 'dedicated', } flavor_id = self._create_flavor(vcpu=1, extra_spec=extra_spec) expected_usage = {'DISK_GB': 20, 'MEMORY_MB': 2048, 'PCPU': 1} server = self._run_build_test(flavor_id, expected_usage=expected_usage) inst = objects.Instance.get_by_uuid(self.ctxt, server['id']) self.assertEqual(1, len(inst.numa_topology.cells)) # assert that the pcpu 0 is used on compute1 self.assertEqual({'0': 0}, inst.numa_topology.cells[0].cpu_pinning_raw) # start another compute with the same config self.start_compute(host_info=host_info, hostname='compute2') # boot another instance but now on compute2 so that it occupies the # pcpu 0 on compute2 # NOTE(gibi): _run_build_test cannot be used here as it assumes only # compute1 exists server2 = self._create_server( flavor_id=flavor_id, host='compute2', ) inst2 = objects.Instance.get_by_uuid(self.ctxt, server2['id']) self.assertEqual(1, len(inst2.numa_topology.cells)) # assert that the pcpu 0 is used self.assertEqual( {'0': 0}, inst2.numa_topology.cells[0].cpu_pinning_raw) # migrate the first instance from compute1 to compute2 but stop # migrating at the start of finish_resize. Then start a racing periodic # update_available_resources. def fake_finish_resize(*args, **kwargs): # start a racing update_available_resource periodic self._run_periodics() # we expect it that CPU pinning fails on the destination node # as the resource_tracker will use the source node numa_topology # and that does not fit to the dest node as pcpu 0 in the dest # is already occupied. # TODO(stephenfin): The mock of 'migrate_disk_and_power_off' should # probably be less...dumb with mock.patch('nova.virt.libvirt.driver.LibvirtDriver' '.migrate_disk_and_power_off', return_value='{}'): with mock.patch( 'nova.compute.manager.ComputeManager.finish_resize' ) as mock_finish_resize: mock_finish_resize.side_effect = fake_finish_resize post = {'migrate': None} self.admin_api.post_server_action(server['id'], post) log = self.stdlog.logger.output # The resize_claim correctly calculates that the inst1 should be pinned # to pcpu id 1 instead of 0 self.assertIn( 'Computed NUMA topology CPU pinning: usable pCPUs: [[1]], ' 'vCPUs mapping: [(0, 1)]', log, ) # But the periodic fails as it tries to apply the source topology on # the dest. This is bug 1953359. log = self.stdlog.logger.output self.assertIn('Error updating resources for node compute2', log) self.assertIn( 'nova.exception.CPUPinningInvalid: CPU set to pin [0] must be ' 'a subset of free CPU set [1]', log, ) ",,90,1
openstack%2Ftripleo-heat-templates~master~I767052050f63a9d1ed305466dd0aaeb995a5ca9f,openstack/tripleo-heat-templates,master,I767052050f63a9d1ed305466dd0aaeb995a5ca9f,Move *NetworkConfigTemplate to parameter_defaults,MERGED,2022-01-07 02:05:23.000000000,2022-01-07 17:31:08.000000000,2022-01-07 17:31:08.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-01-07 02:05:23.000000000', 'files': ['environments/neutron-ovs-dvr.yaml', 'environments/services/neutron-ovs-dvr.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5326c3d5e393538bff2821f561af644dfb98bb5c', 'message': 'Move *NetworkConfigTemplate to parameter_defaults\n\nRegression from I28892e638f30321b271ceaf54b60020a43ceebb6.\n\nChange-Id: I767052050f63a9d1ed305466dd0aaeb995a5ca9f\n'}]",0,823741,5326c3d5e393538bff2821f561af644dfb98bb5c,9,5,1,8833,,,0,"Move *NetworkConfigTemplate to parameter_defaults

Regression from I28892e638f30321b271ceaf54b60020a43ceebb6.

Change-Id: I767052050f63a9d1ed305466dd0aaeb995a5ca9f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/41/823741/1 && git format-patch -1 --stdout FETCH_HEAD,"['environments/neutron-ovs-dvr.yaml', 'environments/services/neutron-ovs-dvr.yaml']",2,5326c3d5e393538bff2821f561af644dfb98bb5c,, ComputeDVRNetworkConfigTemplate: 'templates/net_config_bridge.j2' , ComputeDVRNetworkConfigTemplate: 'templates/net_config_bridge.j2',6,5
openstack%2Fneutron~stable%2Fxena~I85f7749e7e6186b9e3a7534bce6c306b18702333,openstack/neutron,stable/xena,I85f7749e7e6186b9e3a7534bce6c306b18702333,ovn: enable stateless-security-group api,MERGED,2021-12-10 18:30:10.000000000,2022-01-07 17:02:43.000000000,2022-01-07 17:00:53.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-10 18:30:10.000000000', 'files': ['neutron/common/ovn/extensions.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/666562a258c00dc2cfcf6657ecb8343bc7703b75', 'message': 'ovn: enable stateless-security-group api\n\nThe feature is long implemented but the list of extensions was not\nupdated accordingly. Because of missing tempest test cases for the\nfield, it was not caught before.\n\nConflicts:\n      neutron/common/ovn/extensions.py\n\nCloses-Bug: #1949451\nChange-Id: I85f7749e7e6186b9e3a7534bce6c306b18702333\n(cherry picked from commit c95ccf0a43f8f40ed6988d88fae01b225b68b43e)\n'}]",2,821441,666562a258c00dc2cfcf6657ecb8343bc7703b75,20,3,1,9656,,,0,"ovn: enable stateless-security-group api

The feature is long implemented but the list of extensions was not
updated accordingly. Because of missing tempest test cases for the
field, it was not caught before.

Conflicts:
      neutron/common/ovn/extensions.py

Closes-Bug: #1949451
Change-Id: I85f7749e7e6186b9e3a7534bce6c306b18702333
(cherry picked from commit c95ccf0a43f8f40ed6988d88fae01b225b68b43e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/821441/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/common/ovn/extensions.py'],1,666562a258c00dc2cfcf6657ecb8343bc7703b75,,"from neutron_lib.api.definitions import stateful_security_group stateful_security_group.ALIAS,",,2,0
openstack%2Freleases~master~I39794072d0628cc4fa64272dc80860dbddd23846,openstack/releases,master,I39794072d0628cc4fa64272dc80860dbddd23846,Yoga-2 Release for python-tackerclient,MERGED,2022-01-04 09:06:10.000000000,2022-01-07 16:52:01.000000000,2022-01-07 14:27:18.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25701}]","[{'number': 1, 'created': '2022-01-04 09:06:10.000000000', 'files': ['deliverables/yoga/python-tackerclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/29c14665f9b1420e29a40bd88bf047551e3049a7', 'message': 'Yoga-2 Release for python-tackerclient\n\nThis is the Yoga milestone-2 release for python-tackerclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 1.8.0..b7f27c3\nb7f27c3 Update python testing classifier\n6834454 Support of Cancel VNF command in openstackclient\na3d485c Add Python3 yoga unit tests\n861a575 Drop test for lower constraints\n015e6e2 Update master for stable/xena\nb6aec20 setup.cfg: Replace dashes with underscores\n4299140 Update master for stable/wallaby\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I39794072d0628cc4fa64272dc80860dbddd23846\n'}]",3,823344,29c14665f9b1420e29a40bd88bf047551e3049a7,8,4,1,28522,,,0,"Yoga-2 Release for python-tackerclient

This is the Yoga milestone-2 release for python-tackerclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 1.8.0..b7f27c3
b7f27c3 Update python testing classifier
6834454 Support of Cancel VNF command in openstackclient
a3d485c Add Python3 yoga unit tests
861a575 Drop test for lower constraints
015e6e2 Update master for stable/xena
b6aec20 setup.cfg: Replace dashes with underscores
4299140 Update master for stable/wallaby

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I39794072d0628cc4fa64272dc80860dbddd23846
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/823344/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-tackerclient.yaml'],1,29c14665f9b1420e29a40bd88bf047551e3049a7,yoga-milestone-2,releases: - version: 1.9.0 projects: - repo: openstack/python-tackerclient hash: b7f27c3dc6a8ec747d13698a3ced1dc5cc162389,,5,0
openstack%2Fglance_store~master~Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8,openstack/glance_store,master,Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8,Correct attachment_complete call,MERGED,2021-11-26 09:36:57.000000000,2022-01-07 16:51:00.000000000,2022-01-07 16:49:03.000000000,"[{'_account_id': 4393}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-26 09:36:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/140d43511bf31ba7251ffe62c8e42e6f6cea8ce8', 'message': 'Correct attachment_complete call\n\nCinder\'s attachment_complete API is called to mark the volume from\n""attaching"" state to ""in-use"" state stating that the volume is\nready to use.\nIn the current code, attachment_complete is called before the\nbrick connection is complete. This should be done after the\nconnection to brick is successful and we have a volume path\nto write the image into. This patch corrects the behavior.\n\nChange-Id: Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8\n'}, {'number': 2, 'created': '2021-11-26 09:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/48ee558e978927f71a67758f753dd76c1230a203', 'message': 'Correct attachment_complete call\n\nCinder\'s attachment_complete API is called to mark the volume from\n""attaching"" state to ""in-use"" state stating that the volume is\nready to use.\nIn the current code, attachment_complete is called before the\nbrick connection is complete. This should be done after the\nconnection to brick is successful and we have a volume path\nto write the image into. This patch corrects the behavior.\n\nChange-Id: Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8\n'}, {'number': 3, 'created': '2022-01-03 07:38:19.000000000', 'files': ['glance_store/tests/unit/test_cinder_store.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_multistore_cinder.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e1ced9ea312d386416c486176fd5feed102702c3', 'message': 'Correct attachment_complete call\n\nCinder\'s attachment_complete API is called to mark the volume from\n""attaching"" state to ""in-use"" state stating that the volume is\nready to use.\nIn the current code, attachment_complete is called before the\nbrick connection is complete. This should be done after the\nconnection to brick is successful and we have a volume path\nto write the image into. This patch corrects the behavior.\n\nThe wrong sequence of execution won\'t have any issues functionally\nsince we open the volume after all steps are completed but flow\nwise it is incorrect.\nThis change won\'t have any end user impact.\n\nChange-Id: Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8\n'}]",1,819412,e1ced9ea312d386416c486176fd5feed102702c3,11,3,3,27615,,,0,"Correct attachment_complete call

Cinder's attachment_complete API is called to mark the volume from
""attaching"" state to ""in-use"" state stating that the volume is
ready to use.
In the current code, attachment_complete is called before the
brick connection is complete. This should be done after the
connection to brick is successful and we have a volume path
to write the image into. This patch corrects the behavior.

The wrong sequence of execution won't have any issues functionally
since we open the volume after all steps are completed but flow
wise it is incorrect.
This change won't have any end user impact.

Change-Id: Ia9652a4ff6d7efbabb58511f0ce93a87b3a4dfa8
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/12/819412/1 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/cinder.py'],1,140d43511bf31ba7251ffe62c8e42e6f6cea8ce8,819412," # Complete the attachment (marking the volume ""in-use"") after # the connection with os-brick is complete self.volume_api.attachment_complete(client, attachment.id)"," self.volume_api.attachment_complete(client, attachment.id)",4,1
openstack%2Fkayobe~stable%2Fxena~Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,openstack/kayobe,stable/xena,Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,Document that extra kernel parameters are important for inspection,MERGED,2021-11-30 08:44:43.000000000,2022-01-07 16:30:30.000000000,2022-01-07 16:28:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-30 08:44:43.000000000', 'files': ['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/7d9b86e29a42663feac68e13a56b4d51e96a0b82', 'message': 'Document that extra kernel parameters are important for inspection\n\nWhen customising kolla_bifrost_inspector_extra_kernel_options, for\nexample to define which console to use, operators should note that\nKayobe defines extra kernel parameters that are important for\ninspection, such as ipa-collect-lldp=1.\n\nChange-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de\n(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)\n'}]",3,819681,7d9b86e29a42663feac68e13a56b4d51e96a0b82,16,3,1,15197,,,0,"Document that extra kernel parameters are important for inspection

When customising kolla_bifrost_inspector_extra_kernel_options, for
example to define which console to use, operators should note that
Kayobe defines extra kernel parameters that are important for
inspection, such as ipa-collect-lldp=1.

Change-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de
(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/81/819681/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost']",3,7d9b86e29a42663feac68e13a56b4d51e96a0b82,inspector-options-doc-stable/xena,"# Default is {{ inspector_extra_kernel_options }}, defined in inspector.yml. # When customising this variable, the default extra kernel parameters should be # kept to retain full node inspection capabilities.",,9,1
openstack%2Fcinder-tempest-plugin~master~I95fd24774c8c83663420d6c4894c109a4456c51e,openstack/cinder-tempest-plugin,master,I95fd24774c8c83663420d6c4894c109a4456c51e,WIP: Test data on encrypted volume clone operations,NEW,2021-04-08 21:14:06.000000000,2022-01-07 16:03:47.000000000,,"[{'_account_id': 4523}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-08 21:14:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/8aac142b9c9c35eef229827300035d4d4eb63331', 'message': 'WIP: Test data on encrypted volume clone operations\n\nA basic test to ensure that data is not corrupted\nwhen cloning an encrypted volume.\n\nTODO: cover clone from snap as well\n\nRelated-Bug: #1922408\nRelated-Bug: #1922586\nChange-Id: I95fd24774c8c83663420d6c4894c109a4456c51e\n'}, {'number': 2, 'created': '2021-05-05 20:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/553520822acd26b77457e579784e6663f23b7936', 'message': 'WIP: Test data on encrypted volume clone operations\n\nA basic test to ensure that data is not corrupted\nwhen cloning an encrypted volume.\n\nTODO: cover clone from snap as well\n\nRelated-Bug: #1922408\nRelated-Bug: #1922586\nChange-Id: I95fd24774c8c83663420d6c4894c109a4456c51e\n'}, {'number': 3, 'created': '2021-05-06 11:53:19.000000000', 'files': ['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py'], 'web_link': 'https://opendev.org/openstack/cinder-tempest-plugin/commit/a27c1ed33aea44821e5a3bde6a2ee3483cf7a09f', 'message': 'WIP: Test data on encrypted volume clone operations\n\nA basic test to ensure that data is not corrupted\nwhen cloning an encrypted volume.\n\nThis is marked WIP while we continue to work out some\ndetails of what guarantees are made when cloning\nencrypted volumes.\n\nTODO: cover clone from snap as well\n\nRelated-Bug: #1922408\nRelated-Bug: #1922586\nChange-Id: I95fd24774c8c83663420d6c4894c109a4456c51e\n'}]",6,785514,a27c1ed33aea44821e5a3bde6a2ee3483cf7a09f,11,2,3,4523,,,0,"WIP: Test data on encrypted volume clone operations

A basic test to ensure that data is not corrupted
when cloning an encrypted volume.

This is marked WIP while we continue to work out some
details of what guarantees are made when cloning
encrypted volumes.

TODO: cover clone from snap as well

Related-Bug: #1922408
Related-Bug: #1922586
Change-Id: I95fd24774c8c83663420d6c4894c109a4456c51e
",git fetch https://review.opendev.org/openstack/cinder-tempest-plugin refs/changes/14/785514/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder_tempest_plugin/scenario/manager.py', 'cinder_tempest_plugin/scenario/test_volume_encrypted.py']",2,8aac142b9c9c35eef229827300035d4d4eb63331,bug/1922408,"from tempest.lib.common.utils import test_utilsfrom tempest.lib import exceptions as lib_exc def _attached_volume_name( self, disks_list_before_attach, ip_address, private_key): # from tempest's test_stamp_pattern ssh = self.get_remote_client(ip_address, private_key=private_key) def _wait_for_volume_available_on_system(): disks_list_after_attach = ssh.list_disks() return len(disks_list_after_attach) > len(disks_list_before_attach) if not test_utils.call_until_true(_wait_for_volume_available_on_system, CONF.compute.build_timeout, CONF.compute.build_interval): return lib_exc.TimeoutException disks_list_after_attach = ssh.list_disks() volume_name = [item for item in disks_list_after_attach if item not in disks_list_before_attach][0] return volume_name @decorators.idempotent_id('8210b6cc-c101-4275-be80-23033160e913') @utils.services('volume') @utils.services('compute') def test_encrypted_volume_clone_data(self): volume = self.create_encrypted_volume('luks', volume_type='luks') v2_kwargs = { 'display_name': data_utils.rand_name(self.__class__.__name__), 'source_volid': volume['id'], 'volume_type': volume['volume_type'], 'size': volume['size'] } keypair = self.create_keypair() security_group = self._create_security_group() root_volume = self.create_encrypted_volume_from_image('luks') instance = self.boot_instance_from_resource( source_id=root_volume['id'], source_type='volume', keypair=keypair, security_group=security_group) instance_ip = self.get_server_ip(instance) linux_client = self.get_remote_client( instance_ip, private_key=keypair['private_key'], server=instance) disks_list_before_attach = linux_client.list_disks() attached_v1 = self.nova_volume_attach(instance, volume) volume_device_name = self._attached_volume_name( disks_list_before_attach, instance_ip, keypair['private_key']) (v1_size, v1_checksum) = self.create_device_checksum( instance_ip, private_key=keypair['private_key'], server=instance, dev_name=volume_device_name) self.nova_volume_detach(instance, volume) volume_2 = self.volumes_client.create_volume(**v2_kwargs)['volume'] self.addCleanup(self.volumes_client.wait_for_resource_deletion, volume_2['id']) self.addCleanup(self.volumes_client.delete_volume, volume_2['id']) waiters.wait_for_volume_resource_status( self.volumes_client, volume_2['id'], 'available') attached_v2 = self.nova_volume_attach(instance, volume_2) v2_device_name = self._attached_volume_name( disks_list_before_attach, instance_ip, keypair['private_key']) (v2_size, v2_checksum) = self.get_device_checksum( instance_ip, private_key=keypair['private_key'], server=instance, dev_name=v2_device_name) self.assertEqual(v1_size, v2_size) self.assertEqual(v1_checksum, v2_checksum)",,119,0
openstack%2Fci-log-processing~master~Ie02cea676af2f84254f23df2aebee7d1106c6b27,openstack/ci-log-processing,master,Ie02cea676af2f84254f23df2aebee7d1106c6b27,Improve check-services playbook,MERGED,2021-12-16 13:21:07.000000000,2022-01-07 14:54:52.000000000,2022-01-07 14:52:49.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 13:21:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/5221df784d6ccb0dfdfb79c425a834b6d3228d24', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}, {'number': 2, 'created': '2021-12-16 16:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/148222e668017273de71b1de3529709469881ff2', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}, {'number': 3, 'created': '2021-12-17 07:20:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/f3e0ea1f0e41e4c8f311e341ba75935e3c9b5c12', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}, {'number': 4, 'created': '2021-12-17 07:51:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/93362648e43bd3fd94926c12a9aa327f6fa8f6bf', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}, {'number': 5, 'created': '2021-12-17 08:11:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/5b26cea78f5542e67f466d09a4bdb6a3b9cd893f', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}, {'number': 6, 'created': '2021-12-17 14:18:41.000000000', 'files': ['loggearman/Dockerfile', 'Dockerfile', 'ansible/roles/logscraper/tasks/main.yml', 'ansible/roles/check-services/tasks/main.yml', 'ansible/playbooks/check-services.yml', 'ansible/roles/loggearman/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/9df7239e81db827ef30c852abdc711407fc08dd6', 'message': 'Improve check-services playbook\n\nWith this commit, check-services will build own container\nimage with current code and then execute service test.\n\nChange-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27\n'}]",2,821975,9df7239e81db827ef30c852abdc711407fc08dd6,19,4,6,20676,,,0,"Improve check-services playbook

With this commit, check-services will build own container
image with current code and then execute service test.

Change-Id: Ie02cea676af2f84254f23df2aebee7d1106c6b27
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/75/821975/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/check-services/tasks/main.yml', 'ansible/playbooks/check-services.yml']",2,5221df784d6ccb0dfdfb79c425a834b6d3228d24,," # loggearman - client source_url: """" gearman_client_host: ""{{ gearman_host }}"" gearman_client_port: ""{{ gearman_port }}"" # logscraper tenant_builds: - tenant: openstack gearman_port: ""{{ gearman_port }}"" gearman_server: ""{{ gearman_host }}"" zuul_api_url: https://zuul.opendev.org/api/tenant/openstack zuul_api_urls: - https://zuul.opendev.org/api/tenant/openstack insecure: false job_names: []", # logscraper tenant_builds: - tenant: openstack gearman_port: 4730 gearman_server: 0.0.0.0 zuul_api_url: https://zuul.opendev.org/api/tenant/openstack zuul_api_urls: - https://zuul.opendev.org/api/tenant/openstack insecure: false job_names: [] # loggearman - client source_url: https://0.0.0.0,36,12
openstack%2Fci-log-processing~master~I6488bef19c1041e4a3a6e5a46251946ce6b8e8b4,openstack/ci-log-processing,master,I6488bef19c1041e4a3a6e5a46251946ce6b8e8b4,Improve doc; change default loggearman port to 4730,MERGED,2021-12-16 09:04:26.000000000,2022-01-07 14:53:15.000000000,2022-01-07 14:50:39.000000000,"[{'_account_id': 8367}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 09:04:26.000000000', 'files': ['doc/source/index.rst', 'logscraper/logscraper.py', 'ansible/roles/logscraper/README.rst', 'doc/source/loggearman-role.rst', 'doc/source/loggearman.rst', 'ansible/roles/loggearman/README.rst'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/ecf601124b40d9754182acff280f559416e7ad4d', 'message': 'Improve doc; change default loggearman port to 4730\n\nSome improvements that were done:\n- add the loggearman documentation\n- add documtation for loggearman ansible\n- changed title in loggearman ansible doc\n- changed default port from 4731 to 4730\n\nChange-Id: I6488bef19c1041e4a3a6e5a46251946ce6b8e8b4\n'}]",2,821946,ecf601124b40d9754182acff280f559416e7ad4d,12,3,1,20676,,,0,"Improve doc; change default loggearman port to 4730

Some improvements that were done:
- add the loggearman documentation
- add documtation for loggearman ansible
- changed title in loggearman ansible doc
- changed default port from 4731 to 4730

Change-Id: I6488bef19c1041e4a3a6e5a46251946ce6b8e8b4
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/46/821946/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'logscraper/logscraper.py', 'ansible/roles/logscraper/README.rst', 'doc/source/loggearman-role.rst', 'ansible/roles/loggearman/README.rst', 'doc/source/loggearman.rst']",6,ecf601124b40d9754182acff280f559416e7ad4d,,"Loggearman ========== The Loggearman tools are responsible for listening events, parse them, get logs from log server and push them to the Logstash service. Loggearman Client ----------------- The Loggearman Client is responsible for listening events that comes on port 4730 (by default), parse them and redirect them to German server, that later will be processed by loggearman worker. Loggearman Worker ----------------- The Loggearman Worker is responsible to get log files from the log server, parse them and send line by line to the Logstash service with necessary fields like: build_uuid, build_name, etc. ",,33,6
openstack%2Fci-log-processing~master~Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca,openstack/ci-log-processing,master,Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca,Remove global variables from Logscraper tool,MERGED,2021-12-16 15:49:33.000000000,2022-01-07 14:52:47.000000000,2022-01-07 14:52:47.000000000,"[{'_account_id': 6889}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9311}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 15:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/6a62b3c69e25f8c0b1940a7111ec993b50243b97', 'message': 'Remove global variables from Logscraper tool\n\nThe global variables are not a good idea to use it here.\n\nChange-Id: Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca\n'}, {'number': 2, 'created': '2021-12-16 16:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/e549ac0a54ef5756f801a5bc27277d9e89fb4731', 'message': 'Remove global variables from Logscraper tool\n\nThe global variables are not a good idea to use it here.\n\nChange-Id: Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca\n'}, {'number': 3, 'created': '2021-12-16 16:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/17e2c925c00b5843cdf57d6c80e6e7b834301fc5', 'message': 'Remove global variables from Logscraper tool\n\nThe global variables are not a good idea to use it here.\n\nChange-Id: Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca\n'}, {'number': 4, 'created': '2021-12-16 16:33:35.000000000', 'files': ['logscraper/tests/test_logscraper.py', 'logscraper/logscraper.py'], 'web_link': 'https://opendev.org/openstack/ci-log-processing/commit/376d6f088058cb013b13b3af75f8ee69b9e729ae', 'message': 'Remove global variables from Logscraper tool\n\nThe global variables are not a good idea to use it here.\n\nChange-Id: Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca\n'}]",10,821995,376d6f088058cb013b13b3af75f8ee69b9e729ae,21,5,4,20676,,,0,"Remove global variables from Logscraper tool

The global variables are not a good idea to use it here.

Change-Id: Ia5ed56e2ee3d32afe61dda9fbfa74ff5e71293ca
",git fetch https://review.opendev.org/openstack/ci-log-processing refs/changes/95/821995/4 && git format-patch -1 --stdout FETCH_HEAD,['logscraper/logscraper.py'],1,6a62b3c69e25f8c0b1940a7111ec993b50243b97,,"import itertoolsdef check_specified_files(job_result, insecure): response = requests_get(""%s%s"" % (job_result[""log_url""], f), insecure)def run_build(build_content): build, args = build_content args.gearman_server, args.gearman_port, results[""files""] = check_specified_files(build, args.insecure) pool.map(run_build, zip(builds, itertools.repeat(args)))","GEARMAN_SERVER = None GEARMAN_PORT = None def check_specified_files(job_result): response = requests_get(""%s%s"" % (job_result[""log_url""], f))def run_build(build): GEARMAN_SERVER, GEARMAN_PORT, results[""files""] = check_specified_files(build) pool.map(run_build, builds) global GEARMAN_SERVER global GEARMAN_PORT GEARMAN_SERVER = args.gearman_server GEARMAN_PORT = args.gearman_port",10,16
openstack%2Fpuppet-placement~master~I26c45860aafbef0802212c72920b8e9e74867427,openstack/puppet-placement,master,I26c45860aafbef0802212c72920b8e9e74867427,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:49:47.000000000,2022-01-07 14:49:47.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/2ebbba0d019391d74ae709b36ca6be7c4dae74d4', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I26c45860aafbef0802212c72920b8e9e74867427\n'}, {'number': 2, 'created': '2021-12-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/64aea4ff1469925901c2b943882e4a37a23f646d', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I26c45860aafbef0802212c72920b8e9e74867427\n'}, {'number': 3, 'created': '2021-12-14 03:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/dd06216a1107ee52273a56775fdd628e65ffa251', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I26c45860aafbef0802212c72920b8e9e74867427\n'}, {'number': 4, 'created': '2022-01-07 14:24:11.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/267e6e0ed7e53d5d7352f4f053e2ebc843cbabdb', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I26c45860aafbef0802212c72920b8e9e74867427\n'}]",0,819968,267e6e0ed7e53d5d7352f4f053e2ebc843cbabdb,16,3,4,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I26c45860aafbef0802212c72920b8e9e74867427
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/68/819968/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,2ebbba0d019391d74ae709b36ca6be7c4dae74d4,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""7.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""7.0.0""",4,4
openstack%2Fpuppet-trove~master~Ifd283072e2ec124b2356e3bd72f3fb8c00c76952,openstack/puppet-trove,master,Ifd283072e2ec124b2356e3bd72f3fb8c00c76952,Prepare Yoga M2,MERGED,2021-12-01 06:43:43.000000000,2022-01-07 14:49:05.000000000,2022-01-07 14:49:05.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/967c806b8d3f7c445573199b122cbc702a63c8dd', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ifd283072e2ec124b2356e3bd72f3fb8c00c76952\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/2a1dd979c9b064ba26e9e77f0704db00f8c7c344', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ifd283072e2ec124b2356e3bd72f3fb8c00c76952\n'}, {'number': 3, 'created': '2022-01-07 14:23:30.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-trove/commit/1d3b078576a4a16444d9bffc346ab03a8bcdf9d4', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ifd283072e2ec124b2356e3bd72f3fb8c00c76952\n'}]",0,819982,1d3b078576a4a16444d9bffc346ab03a8bcdf9d4,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ifd283072e2ec124b2356e3bd72f3fb8c00c76952
",git fetch https://review.opendev.org/openstack/puppet-trove refs/changes/82/819982/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,967c806b8d3f7c445573199b122cbc702a63c8dd,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-murano~master~I35a8159dced3e6d98298aed372ed777cc4c64ec7,openstack/puppet-murano,master,I35a8159dced3e6d98298aed372ed777cc4c64ec7,Prepare Yoga M2,MERGED,2021-12-01 06:43:37.000000000,2022-01-07 14:49:04.000000000,2022-01-07 14:49:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/6bce946fceb62317dfebfea54ac8f69e34a705c8', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I35a8159dced3e6d98298aed372ed777cc4c64ec7\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/9044a65dc38dc4dd665b115cac40ed75839e4320', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I35a8159dced3e6d98298aed372ed777cc4c64ec7\n'}, {'number': 3, 'created': '2022-01-07 14:24:18.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-murano/commit/0fdbc403924df421d9c6848d6ba906e0b61e8a2b', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I35a8159dced3e6d98298aed372ed777cc4c64ec7\n'}]",0,819964,0fdbc403924df421d9c6848d6ba906e0b61e8a2b,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I35a8159dced3e6d98298aed372ed777cc4c64ec7
",git fetch https://review.opendev.org/openstack/puppet-murano refs/changes/64/819964/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6bce946fceb62317dfebfea54ac8f69e34a705c8,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-vswitch~master~I25c8ae99ca52a155030fee2a28b394193f5c85f2,openstack/puppet-vswitch,master,I25c8ae99ca52a155030fee2a28b394193f5c85f2,Prepare Yoga M2,MERGED,2021-12-01 06:43:46.000000000,2022-01-07 14:45:33.000000000,2022-01-07 14:45:33.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/6dec1bddc57a86d61a7f27aad88f07b4f0434a41', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I25c8ae99ca52a155030fee2a28b394193f5c85f2\n'}, {'number': 2, 'created': '2021-12-03 08:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/4388995f0d6bfcc97f3ee511ec17ca00425de58a', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I25c8ae99ca52a155030fee2a28b394193f5c85f2\n'}, {'number': 3, 'created': '2022-01-07 14:24:47.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vswitch/commit/5de2fde05eb33cb714822807b1ff4c33ccfcb99a', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I25c8ae99ca52a155030fee2a28b394193f5c85f2\n'}]",0,819987,5de2fde05eb33cb714822807b1ff4c33ccfcb99a,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I25c8ae99ca52a155030fee2a28b394193f5c85f2
",git fetch https://review.opendev.org/openstack/puppet-vswitch refs/changes/87/819987/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6dec1bddc57a86d61a7f27aad88f07b4f0434a41,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""16.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""16.0.0""",2,2
openstack%2Fpuppet-manila~master~I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd,openstack/puppet-manila,master,I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd,Prepare Yoga M2,MERGED,2021-12-01 06:43:43.000000000,2022-01-07 14:45:31.000000000,2022-01-07 14:45:31.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/6f63b0ff37b43a3e6af3f1408e8d68968a6864f7', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/df9d12c2eb424dee6ac2380ccb00a1de767da153', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd\n'}, {'number': 3, 'created': '2021-12-14 03:20:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/c87ba250143605aa3d2f46714a41db4f4746c506', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd\n'}, {'number': 4, 'created': '2022-01-07 14:24:25.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/f0c93058f9bff562530aa6aa28aead905f1e208a', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd\n'}]",0,819980,f0c93058f9bff562530aa6aa28aead905f1e208a,16,3,4,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I17dc805d26356ed3ccfa3e3afbb3f1c1f90de4bd
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/80/819980/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6f63b0ff37b43a3e6af3f1408e8d68968a6864f7,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",5,5
openstack%2Fironic~master~I7439952643bd78b59e829b198a1dd2338865c323,openstack/ironic,master,I7439952643bd78b59e829b198a1dd2338865c323,[doc] Add note about shellinabox console enable error,MERGED,2022-01-07 09:38:14.000000000,2022-01-07 14:44:32.000000000,2022-01-07 14:42:02.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 09:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7db16bb7a0d273bc94020101ee9cb9d1a47fde7', 'message': '[doc] Add note about shellinabox console enable error\n\nEnabling the console after configuring shellinabox may fail if\nprevious shellinabox daemons are blocking the configured port.\nAdd a note about this potential issue.\n\nChange-Id: I7439952643bd78b59e829b198a1dd2338865c323\n'}, {'number': 2, 'created': '2022-01-07 13:45:53.000000000', 'files': ['doc/source/admin/console.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b5fcf8f4f7db8c2f1f0f30577566c1d8660202e', 'message': '[doc] Add note about shellinabox console enable error\n\nEnabling the console after configuring shellinabox may fail if\nprevious shellinabox daemons are blocking the configured port.\nAdd a note about this potential issue.\n\nChange-Id: I7439952643bd78b59e829b198a1dd2338865c323\n'}]",1,823778,6b5fcf8f4f7db8c2f1f0f30577566c1d8660202e,11,3,2,11292,,,0,"[doc] Add note about shellinabox console enable error

Enabling the console after configuring shellinabox may fail if
previous shellinabox daemons are blocking the configured port.
Add a note about this potential issue.

Change-Id: I7439952643bd78b59e829b198a1dd2338865c323
",git fetch https://review.opendev.org/openstack/ironic refs/changes/78/823778/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/console.rst'],1,c7db16bb7a0d273bc94020101ee9cb9d1a47fde7,doc_shellinabox," .. note:: An error message you may encounter when enabling the console can read 'Console subprocess failed to start. Timeout or error while waiting for console subprocess to start for node' along with '[server] Failed to find any available port!. This error is coming from shellinabox itself, not from the communication with the BMC. One potential cause for this issue is that there are already shellinabox daemons running which block the configured port (remove them if appropriate and retry to enable the console). ",,11,0
openstack%2Fpuppet-tacker~master~Iaf90f860236da54de84267e3b14fd2f12c3f1df8,openstack/puppet-tacker,master,Iaf90f860236da54de84267e3b14fd2f12c3f1df8,Prepare Yoga M2,MERGED,2021-12-01 06:43:36.000000000,2022-01-07 14:44:11.000000000,2022-01-07 14:44:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/c67c4d07ee31d62bb6b0332b8511fa7b37109783', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Iaf90f860236da54de84267e3b14fd2f12c3f1df8\n'}, {'number': 2, 'created': '2021-12-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/45cf4fb9ac79bcb1b4152cbdffd3c84a2c6e9760', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Iaf90f860236da54de84267e3b14fd2f12c3f1df8\n'}, {'number': 3, 'created': '2022-01-07 14:23:15.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/e365d86067f8536862b89b60791b4b4c561a2622', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Iaf90f860236da54de84267e3b14fd2f12c3f1df8\n'}]",0,819958,e365d86067f8536862b89b60791b4b4c561a2622,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Iaf90f860236da54de84267e3b14fd2f12c3f1df8
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/58/819958/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c67c4d07ee31d62bb6b0332b8511fa7b37109783,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-swift~master~I755afce54e24320cf29d232a50fa946e32a515bf,openstack/puppet-swift,master,I755afce54e24320cf29d232a50fa946e32a515bf,Prepare Yoga M2,MERGED,2021-12-01 06:43:43.000000000,2022-01-07 14:43:45.000000000,2022-01-07 14:43:45.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/d26f5548ef8f860b3e9c9e653fab2449d9d59b3f', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I755afce54e24320cf29d232a50fa946e32a515bf\n'}, {'number': 2, 'created': '2021-12-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/603fa0c28c7967e51cb74be6fa7f8f2e20648ceb', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I755afce54e24320cf29d232a50fa946e32a515bf\n'}, {'number': 3, 'created': '2022-01-07 14:23:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a06cf0100a633819e029f04b5b626b542ac76a1a', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I755afce54e24320cf29d232a50fa946e32a515bf\n'}]",0,819983,a06cf0100a633819e029f04b5b626b542ac76a1a,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I755afce54e24320cf29d232a50fa946e32a515bf
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/83/819983/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d26f5548ef8f860b3e9c9e653fab2449d9d59b3f,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",3,3
openstack%2Fpuppet-tempest~master~Ib59e8d7597f56fd83147551974720cfd2cd82e11,openstack/puppet-tempest,master,Ib59e8d7597f56fd83147551974720cfd2cd82e11,Prepare Yoga M2,MERGED,2021-12-01 06:43:37.000000000,2022-01-07 14:42:24.000000000,2022-01-07 14:42:24.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/063a4f0dd01d7ba7d4670a54094336378abbc4da', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ib59e8d7597f56fd83147551974720cfd2cd82e11\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/35ab43a9e7a8e3688a2a5e217ee8066dc2862331', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ib59e8d7597f56fd83147551974720cfd2cd82e11\n'}, {'number': 3, 'created': '2022-01-07 14:23:22.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/156e63f7baa5636db87c61ca1d41915b9ec184e5', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ib59e8d7597f56fd83147551974720cfd2cd82e11\n'}]",0,819963,156e63f7baa5636db87c61ca1d41915b9ec184e5,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ib59e8d7597f56fd83147551974720cfd2cd82e11
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/63/819963/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,063a4f0dd01d7ba7d4670a54094336378abbc4da,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",3,3
openstack%2Fpuppet-zaqar~master~Ibae93ad32b07e24706c9059ece4b7e1491700101,openstack/puppet-zaqar,master,Ibae93ad32b07e24706c9059ece4b7e1491700101,Prepare Yoga M2,MERGED,2021-12-01 06:43:42.000000000,2022-01-07 14:42:23.000000000,2022-01-07 14:42:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/cc17bbb6f8213e8d598e51c5f0337f32adbcf04d', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ibae93ad32b07e24706c9059ece4b7e1491700101\n'}, {'number': 2, 'created': '2021-12-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/4954d7b115687d7fffecb7cd1ddefacd35919682', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibae93ad32b07e24706c9059ece4b7e1491700101\n'}, {'number': 3, 'created': '2021-12-14 03:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/d8c726f549f3588259640da268060be7db5ad082', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibae93ad32b07e24706c9059ece4b7e1491700101\n'}, {'number': 4, 'created': '2022-01-07 14:24:04.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/26f07f266f95c61df2a449122700df03967dfb08', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibae93ad32b07e24706c9059ece4b7e1491700101\n'}]",0,819977,26f07f266f95c61df2a449122700df03967dfb08,16,3,4,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ibae93ad32b07e24706c9059ece4b7e1491700101
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/77/819977/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,cc17bbb6f8213e8d598e51c5f0337f32adbcf04d,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-watcher~master~Ia8d8367775d2d5fc926875ac4f87f75664e7f39e,openstack/puppet-watcher,master,Ia8d8367775d2d5fc926875ac4f87f75664e7f39e,Prepare Yoga M2,MERGED,2021-12-01 06:43:47.000000000,2022-01-07 14:41:52.000000000,2022-01-07 14:41:52.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/7c278dabfd58dabffa3cf0f220f40a71a48a5f49', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ia8d8367775d2d5fc926875ac4f87f75664e7f39e\n'}, {'number': 2, 'created': '2021-12-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/12a71cefd216b1a6017801fef0c5f30e464f97d4', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ia8d8367775d2d5fc926875ac4f87f75664e7f39e\n'}, {'number': 3, 'created': '2022-01-07 14:24:40.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-watcher/commit/710660e475685d169ee5b6975aae56e49c66be2f', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ia8d8367775d2d5fc926875ac4f87f75664e7f39e\n'}]",0,819988,710660e475685d169ee5b6975aae56e49c66be2f,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ia8d8367775d2d5fc926875ac4f87f75664e7f39e
",git fetch https://review.opendev.org/openstack/puppet-watcher refs/changes/88/819988/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,7c278dabfd58dabffa3cf0f220f40a71a48a5f49,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-cinder~master~I4076b635f2e8c45ca36356972f74a37affbc175a,openstack/puppet-cinder,master,I4076b635f2e8c45ca36356972f74a37affbc175a,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:41:36.000000000,2022-01-07 14:41:36.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d5d86d1876ccb1644332a26f918586f84cc83475', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I4076b635f2e8c45ca36356972f74a37affbc175a\n'}, {'number': 2, 'created': '2021-12-03 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/10c17f80002ac4e7223a0e3505c763d74eef9849', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I4076b635f2e8c45ca36356972f74a37affbc175a\n'}, {'number': 3, 'created': '2021-12-14 03:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/492ebc7d0c97b244c6b66bec7f83df3204512125', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I4076b635f2e8c45ca36356972f74a37affbc175a\n'}, {'number': 4, 'created': '2022-01-07 14:24:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/1c9ef0364ada2a6c12ee621ae1861b08aef0d204', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I4076b635f2e8c45ca36356972f74a37affbc175a\n'}]",0,819970,1c9ef0364ada2a6c12ee621ae1861b08aef0d204,16,3,4,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I4076b635f2e8c45ca36356972f74a37affbc175a
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/70/819970/4 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d5d86d1876ccb1644332a26f918586f84cc83475,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-vitrage~master~I40bddc3c045200405c6e14952a56108cd0b7de00,openstack/puppet-vitrage,master,I40bddc3c045200405c6e14952a56108cd0b7de00,Prepare Yoga M2,MERGED,2021-12-01 06:43:42.000000000,2022-01-07 14:41:15.000000000,2022-01-07 14:41:15.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/626d6774d5632ebba557b9ed529c2be6be59a693', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I40bddc3c045200405c6e14952a56108cd0b7de00\n'}, {'number': 2, 'created': '2021-12-03 08:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/6681f9cadec442525293c41b1ec13100efff2e61', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I40bddc3c045200405c6e14952a56108cd0b7de00\n'}, {'number': 3, 'created': '2022-01-07 14:23:38.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-vitrage/commit/2e8ec4e12b6b99f4c668cf9ec7fb58cf28a7b70f', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I40bddc3c045200405c6e14952a56108cd0b7de00\n'}]",0,819978,2e8ec4e12b6b99f4c668cf9ec7fb58cf28a7b70f,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I40bddc3c045200405c6e14952a56108cd0b7de00
",git fetch https://review.opendev.org/openstack/puppet-vitrage refs/changes/78/819978/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,626d6774d5632ebba557b9ed529c2be6be59a693,prep-release-yoga-m2," ""version"": ""10.1.0"", ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"""," ""version"": ""10.0.0"", ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0""",4,4
openstack%2Fpuppet-openstack_extras~master~I04ab9588e03f2733e9de1428bfd5a29148a15814,openstack/puppet-openstack_extras,master,I04ab9588e03f2733e9de1428bfd5a29148a15814,Prepare Yoga M2,MERGED,2021-12-01 06:43:41.000000000,2022-01-07 14:41:06.000000000,2022-01-07 14:41:06.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/4dd057440b09c9f56993518a6c7042b221eae961', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I04ab9588e03f2733e9de1428bfd5a29148a15814\n'}, {'number': 2, 'created': '2021-12-03 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/293b6319b5f3704da166bdd13f9d10a78dcf4abd', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I04ab9588e03f2733e9de1428bfd5a29148a15814\n'}, {'number': 3, 'created': '2022-01-07 14:22:12.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/04ced48a760dcf21f877a2666e5403821b2d91b5', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I04ab9588e03f2733e9de1428bfd5a29148a15814\n'}]",0,819974,04ced48a760dcf21f877a2666e5403821b2d91b5,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I04ab9588e03f2733e9de1428bfd5a29148a15814
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/74/819974/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4dd057440b09c9f56993518a6c7042b221eae961,prep-release-yoga-m2," ""version"": ""20.1.0"""," ""version"": ""20.0.0""",1,1
openstack%2Fpuppet-nova~master~I0d224d8bd3928437904d782b8d5d56610e692b1a,openstack/puppet-nova,master,I0d224d8bd3928437904d782b8d5d56610e692b1a,Prepare Yoga M2,MERGED,2021-12-01 06:43:46.000000000,2022-01-07 14:39:58.000000000,2022-01-07 14:39:58.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a6f7ef89aa346b38220bbb97cd9f3945b5a5f1da', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I0d224d8bd3928437904d782b8d5d56610e692b1a\n'}, {'number': 2, 'created': '2021-12-03 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/46011ad128f5234c7b3b2916db9fb17b8ef9a9c9', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I0d224d8bd3928437904d782b8d5d56610e692b1a\n'}, {'number': 3, 'created': '2022-01-07 14:21:47.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/a2c0aaf169decb027c4b4649892a3af927c15ac4', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I0d224d8bd3928437904d782b8d5d56610e692b1a\n'}]",0,819986,a2c0aaf169decb027c4b4649892a3af927c15ac4,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I0d224d8bd3928437904d782b8d5d56610e692b1a
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/86/819986/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a6f7ef89aa346b38220bbb97cd9f3945b5a5f1da,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",5,5
openstack%2Fpuppet-octavia~master~Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6,openstack/puppet-octavia,master,Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:39:41.000000000,2022-01-07 14:39:41.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/6acd677655a8d20093f25ece3f3c533c30df75d7', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6\n'}, {'number': 2, 'created': '2021-12-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/9e5626c628ab2b918568ee2e650023aabf7ac7d4', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6\n'}, {'number': 3, 'created': '2022-01-07 14:22:05.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/2d603b121a3c57a2a3cd36e96d16dc63871c8530', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6\n'}]",0,819965,2d603b121a3c57a2a3cd36e96d16dc63871c8530,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ibc6d6c7b2f1083e11779b6b460e9d67a0e8887c6
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/65/819965/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,6acd677655a8d20093f25ece3f3c533c30df75d7,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",5,5
openstack%2Fpuppet-magnum~master~Ic629e83dd09fcd3934e24a31c894542990e28ca9,openstack/puppet-magnum,master,Ic629e83dd09fcd3934e24a31c894542990e28ca9,Prepare Yoga M2,MERGED,2021-12-01 06:43:37.000000000,2022-01-07 14:39:25.000000000,2022-01-07 14:39:25.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/5ec54ace33464f76d3860d4d242875a5e80a47c0', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ic629e83dd09fcd3934e24a31c894542990e28ca9\n'}, {'number': 2, 'created': '2021-12-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/3fc9d6187ffd129db610628835816bde66d8e263', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ic629e83dd09fcd3934e24a31c894542990e28ca9\n'}, {'number': 3, 'created': '2022-01-07 14:20:19.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/b861e85fd2a40337245ba90379922a9ea3941521', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ic629e83dd09fcd3934e24a31c894542990e28ca9\n'}]",0,819962,b861e85fd2a40337245ba90379922a9ea3941521,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ic629e83dd09fcd3934e24a31c894542990e28ca9
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/62/819962/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5ec54ace33464f76d3860d4d242875a5e80a47c0,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-neutron~master~I5d08a0949dbd1924628494b13cdac74ad659f173,openstack/puppet-neutron,master,I5d08a0949dbd1924628494b13cdac74ad659f173,Prepare Yoga M2,MERGED,2021-12-01 06:43:43.000000000,2022-01-07 14:38:28.000000000,2022-01-07 14:38:28.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/d604ba66634a51acb78783591d8088607029e748', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I5d08a0949dbd1924628494b13cdac74ad659f173\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9279897fb00246e993a6322a25c1c52136a57cb4', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I5d08a0949dbd1924628494b13cdac74ad659f173\n'}, {'number': 3, 'created': '2022-01-07 14:21:23.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/087e051b0d959c40c10731028e451e564e2384bc', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I5d08a0949dbd1924628494b13cdac74ad659f173\n'}]",0,819984,087e051b0d959c40c10731028e451e564e2384bc,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I5d08a0949dbd1924628494b13cdac74ad659f173
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/84/819984/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,d604ba66634a51acb78783591d8088607029e748,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=16.1.0 <17.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=16.0.0 <17.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",5,5
openstack%2Fpuppet-designate~master~I80d14d57d75aaa228f009eba1d25d79f24603307,openstack/puppet-designate,master,I80d14d57d75aaa228f009eba1d25d79f24603307,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:38:15.000000000,2022-01-07 14:38:15.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/8df7453fcff28d94f37a132679cc57987078b3d7', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I80d14d57d75aaa228f009eba1d25d79f24603307\n'}, {'number': 2, 'created': '2021-12-03 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/18ebd535ace4b6b99a5028556a9fda5ddd6e7f41', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I80d14d57d75aaa228f009eba1d25d79f24603307\n'}, {'number': 3, 'created': '2022-01-07 14:18:37.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/74bae32e894034d0347c11370cb5e3ce26e79e83', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I80d14d57d75aaa228f009eba1d25d79f24603307\n'}]",0,819972,74bae32e894034d0347c11370cb5e3ce26e79e83,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I80d14d57d75aaa228f009eba1d25d79f24603307
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/72/819972/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,8df7453fcff28d94f37a132679cc57987078b3d7,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-openstacklib~master~I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e,openstack/puppet-openstacklib,master,I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e,Prepare Yoga M2,MERGED,2021-12-01 06:43:42.000000000,2022-01-07 14:37:50.000000000,2022-01-07 14:37:50.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/0894c9ab1ad7b00c32b8f792d401de0dd88180c7', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e\n'}, {'number': 2, 'created': '2021-12-03 08:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/c56f924cee3a1f22832d7c5bb24dac3147da115e', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e\n'}, {'number': 3, 'created': '2022-01-07 14:22:20.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/39ec2a0e79ae8df9e1f5feb6e14f59d7534fc65b', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e\n'}]",0,819979,39ec2a0e79ae8df9e1f5feb6e14f59d7534fc65b,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I46f1946ce7d57985ea8ff4c26221d3b2c7d1767e
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/79/819979/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,0894c9ab1ad7b00c32b8f792d401de0dd88180c7,prep-release-yoga-m2," ""version"": ""20.1.0"""," ""version"": ""20.0.0""",1,1
openstack%2Fpuppet-horizon~master~Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0,openstack/puppet-horizon,master,Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0,Prepare Yoga M2,MERGED,2021-12-01 06:43:47.000000000,2022-01-07 14:37:48.000000000,2022-01-07 14:37:48.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/5122ec9fa222409a646a1f213ab30ec9d6d5ce81', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0\n'}, {'number': 2, 'created': '2021-12-03 08:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/4f91b341866b045af527c5ae8b5b6586ec32aba5', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0\n'}, {'number': 3, 'created': '2022-01-07 14:20:36.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/8cbc78dcf47720696fb4b859d92492611a9fa569', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0\n'}]",0,819989,8cbc78dcf47720696fb4b859d92492611a9fa569,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ibaccce3be17c48150dc5a1f00dda2370aefdb7b0
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/89/819989/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5122ec9fa222409a646a1f213ab30ec9d6d5ce81,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",2,2
openstack%2Fpuppet-rally~master~I3831ad848f1d7026fbcd6c19269ae5deecb4b376,openstack/puppet-rally,master,I3831ad848f1d7026fbcd6c19269ae5deecb4b376,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:37:32.000000000,2022-01-07 14:37:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/f1203e92997b6b7bef35d8459cc56f701e394a00', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I3831ad848f1d7026fbcd6c19269ae5deecb4b376\n'}, {'number': 2, 'created': '2021-12-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/a3815e7be67d1be24aecc304805f3854029e6cf5', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I3831ad848f1d7026fbcd6c19269ae5deecb4b376\n'}, {'number': 3, 'created': '2022-01-07 14:22:45.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-rally/commit/26cfdba4b042d48e0de0ab8e48b3ea2a3609d058', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I3831ad848f1d7026fbcd6c19269ae5deecb4b376\n'}]",0,819969,26cfdba4b042d48e0de0ab8e48b3ea2a3609d058,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I3831ad848f1d7026fbcd6c19269ae5deecb4b376
",git fetch https://review.opendev.org/openstack/puppet-rally refs/changes/69/819969/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f1203e92997b6b7bef35d8459cc56f701e394a00,prep-release-yoga-m2," ""version"": ""8.1.0"", ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"""," ""version"": ""8.0.0"", ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0""",3,3
openstack%2Fpuppet-sahara~master~Ibabb1327a7c99170835ffc1f0ec474dcde2393ac,openstack/puppet-sahara,master,Ibabb1327a7c99170835ffc1f0ec474dcde2393ac,Prepare Yoga M2,MERGED,2021-12-01 06:43:42.000000000,2022-01-07 14:37:12.000000000,2022-01-07 14:37:12.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/e1d16182061b8365d06e9ee01d9cd38d5adabdf6', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ibabb1327a7c99170835ffc1f0ec474dcde2393ac\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/aee2762fbacc5046798ee63bb112b94552b9b97c', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibabb1327a7c99170835ffc1f0ec474dcde2393ac\n'}, {'number': 3, 'created': '2022-01-07 14:22:58.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/c199a54d4e3e5c242e0d10db5f201269ca8a2baf', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibabb1327a7c99170835ffc1f0ec474dcde2393ac\n'}]",0,819976,c199a54d4e3e5c242e0d10db5f201269ca8a2baf,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ibabb1327a7c99170835ffc1f0ec474dcde2393ac
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/76/819976/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,e1d16182061b8365d06e9ee01d9cd38d5adabdf6,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-keystone~master~I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81,openstack/puppet-keystone,master,I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81,Prepare Yoga M2,MERGED,2021-12-01 06:43:44.000000000,2022-01-07 14:37:04.000000000,2022-01-07 14:37:04.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a6765b828f3f5bbcf54bccc700f8d1fd3e340fd1', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2b2bdba5b56824599e394328641e7586ecea9bbe', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81\n'}, {'number': 3, 'created': '2022-01-07 14:20:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/92f9de20f7831950c8a333453729f53d498c9488', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81\n'}]",0,819985,92f9de20f7831950c8a333453729f53d498c9488,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I91d0c8f4606fd484e6b6ff9698f4696ed4c9bb81
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/85/819985/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a6765b828f3f5bbcf54bccc700f8d1fd3e340fd1,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",3,3
openstack%2Fpuppet-oslo~master~I681987e8ad3781a06897817fc8432abc69aa474f,openstack/puppet-oslo,master,I681987e8ad3781a06897817fc8432abc69aa474f,Prepare Yoga M2,MERGED,2021-12-01 06:43:42.000000000,2022-01-07 14:37:02.000000000,2022-01-07 14:37:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/4e2e7fe8f6961d122986a1dc165009004c3d1318', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I681987e8ad3781a06897817fc8432abc69aa474f\n'}, {'number': 2, 'created': '2021-12-03 08:56:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/0c9ac1ac1a6f258b56c705c0d8bcb3d630f92312', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I681987e8ad3781a06897817fc8432abc69aa474f\n'}, {'number': 3, 'created': '2022-01-07 14:22:29.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/a9e9682881a4a039c7b973c0618c404a3626b044', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I681987e8ad3781a06897817fc8432abc69aa474f\n'}]",0,819975,a9e9682881a4a039c7b973c0618c404a3626b044,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I681987e8ad3781a06897817fc8432abc69aa474f
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/75/819975/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,4e2e7fe8f6961d122986a1dc165009004c3d1318,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",2,2
openstack%2Fpuppet-barbican~master~I6f9930efc8775d98a9575df48589fd43056f5d7a,openstack/puppet-barbican,master,I6f9930efc8775d98a9575df48589fd43056f5d7a,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:37:00.000000000,2022-01-07 14:37:00.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/88c097212efcfc7bb87d57504a737cbeeec5dc20', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I6f9930efc8775d98a9575df48589fd43056f5d7a\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/89e943db40eb93a397d88b7903f12241ec77acf5', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I6f9930efc8775d98a9575df48589fd43056f5d7a\n'}, {'number': 3, 'created': '2022-01-07 14:17:24.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/5bedc759118914495b5aa3c11311b4ef53448cf2', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I6f9930efc8775d98a9575df48589fd43056f5d7a\n'}]",0,819971,5bedc759118914495b5aa3c11311b4ef53448cf2,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I6f9930efc8775d98a9575df48589fd43056f5d7a
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/71/819971/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,88c097212efcfc7bb87d57504a737cbeeec5dc20,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-heat~master~I3717115da28826d820ebbf49d376e6a1dc841e99,openstack/puppet-heat,master,I3717115da28826d820ebbf49d376e6a1dc841e99,Prepare Yoga M2,MERGED,2021-12-01 06:43:43.000000000,2022-01-07 14:36:39.000000000,2022-01-07 14:36:39.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/2f6c0d86b7fdc9fcdbb88ef9533539a82cefae50', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I3717115da28826d820ebbf49d376e6a1dc841e99\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/0179cb792202bea1bc30a1d57cbc4ebed15f82df', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I3717115da28826d820ebbf49d376e6a1dc841e99\n'}, {'number': 3, 'created': '2022-01-07 14:19:32.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/799b0888fdfce41f1c07182423e66766b3d68e11', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I3717115da28826d820ebbf49d376e6a1dc841e99\n'}]",0,819981,799b0888fdfce41f1c07182423e66766b3d68e11,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I3717115da28826d820ebbf49d376e6a1dc841e99
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/81/819981/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,2f6c0d86b7fdc9fcdbb88ef9533539a82cefae50,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-mistral~master~I798c8ea965502ba409365218af60bc6666d32149,openstack/puppet-mistral,master,I798c8ea965502ba409365218af60bc6666d32149,Prepare Yoga M2,MERGED,2021-12-01 06:43:37.000000000,2022-01-07 14:36:37.000000000,2022-01-07 14:36:37.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/10cf376549cd12c91f9a3d3a27e7efd69e7e8dc6', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I798c8ea965502ba409365218af60bc6666d32149\n'}, {'number': 2, 'created': '2021-12-03 08:56:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/445544e2a69b5943165329c3bf3a022bae6d85ee', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I798c8ea965502ba409365218af60bc6666d32149\n'}, {'number': 3, 'created': '2022-01-07 14:20:43.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/91f1d5c14615bdcde29f396ba0e10295afa127db', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I798c8ea965502ba409365218af60bc6666d32149\n'}]",0,819961,91f1d5c14615bdcde29f396ba0e10295afa127db,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I798c8ea965502ba409365218af60bc6666d32149
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/61/819961/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,10cf376549cd12c91f9a3d3a27e7efd69e7e8dc6,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-ceilometer~master~I220dd6acb06db85a3df744c6554d8e8a2691da6d,openstack/puppet-ceilometer,master,I220dd6acb06db85a3df744c6554d8e8a2691da6d,Prepare Yoga M2,MERGED,2021-12-01 06:43:39.000000000,2022-01-07 14:36:35.000000000,2022-01-07 14:36:35.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/9ff0c0a1ddfd17aab6ea905a73c38c77fd96ef5a', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I220dd6acb06db85a3df744c6554d8e8a2691da6d\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/fd7d0dfae408429e37bbe8cc1baa2571f718e714', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I220dd6acb06db85a3df744c6554d8e8a2691da6d\n'}, {'number': 3, 'created': '2022-01-07 14:18:05.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ceilometer/commit/3e022187f42a2be664c08e17cb0cedd0c5ba9da9', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I220dd6acb06db85a3df744c6554d8e8a2691da6d\n'}]",0,819973,3e022187f42a2be664c08e17cb0cedd0c5ba9da9,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I220dd6acb06db85a3df744c6554d8e8a2691da6d
",git fetch https://review.opendev.org/openstack/puppet-ceilometer refs/changes/73/819973/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,9ff0c0a1ddfd17aab6ea905a73c38c77fd96ef5a,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-ironic~master~I7513ccd835acfe09f01267f490c9af6333f36bf2,openstack/puppet-ironic,master,I7513ccd835acfe09f01267f490c9af6333f36bf2,Prepare Yoga M2,MERGED,2021-12-01 06:43:48.000000000,2022-01-07 14:34:57.000000000,2022-01-07 14:34:57.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c03c6c785b034a4a7be1ef9ebe7dfc12b29ebdbd', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I7513ccd835acfe09f01267f490c9af6333f36bf2\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/8deac17522e7543769508326c75841279926795d', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I7513ccd835acfe09f01267f490c9af6333f36bf2\n'}, {'number': 3, 'created': '2022-01-07 14:19:54.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/c1421b5297cd8bb3eef2dcca7cb382e512806000', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I7513ccd835acfe09f01267f490c9af6333f36bf2\n'}]",0,819990,c1421b5297cd8bb3eef2dcca7cb382e512806000,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I7513ccd835acfe09f01267f490c9af6333f36bf2
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/90/819990/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,c03c6c785b034a4a7be1ef9ebe7dfc12b29ebdbd,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-glance~master~Id86ffcec7fa222d294c2e008b4284e3dce7c687c,openstack/puppet-glance,master,Id86ffcec7fa222d294c2e008b4284e3dce7c687c,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:34:40.000000000,2022-01-07 14:34:40.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/1c5ee3a75eb64ea478605bf708f28d5c8329d1bb', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Id86ffcec7fa222d294c2e008b4284e3dce7c687c\n'}, {'number': 2, 'created': '2021-12-03 08:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/7ea0c6c258f78dd4b71582f4a32ca479d602e7bf', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Id86ffcec7fa222d294c2e008b4284e3dce7c687c\n'}, {'number': 3, 'created': '2022-01-07 14:18:57.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-glance/commit/b6b3e3aedf8a3b68fec79f51c3574d27d9652dd6', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Id86ffcec7fa222d294c2e008b4284e3dce7c687c\n'}]",0,819967,b6b3e3aedf8a3b68fec79f51c3574d27d9652dd6,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Id86ffcec7fa222d294c2e008b4284e3dce7c687c
",git fetch https://review.opendev.org/openstack/puppet-glance refs/changes/67/819967/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,1c5ee3a75eb64ea478605bf708f28d5c8329d1bb,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",5,5
openstack%2Fpuppet-cloudkitty~master~Ibd6e711aa7322f8c6887a612c5f5409639907657,openstack/puppet-cloudkitty,master,Ibd6e711aa7322f8c6887a612c5f5409639907657,Prepare Yoga M2,MERGED,2021-12-01 06:43:32.000000000,2022-01-07 14:34:22.000000000,2022-01-07 14:34:22.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/eea1bcfb9f83492bce38cf61cae595efdf5173b8', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ibd6e711aa7322f8c6887a612c5f5409639907657\n'}, {'number': 2, 'created': '2021-12-03 08:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/9929c9abdb566b465841d434fe4f0547a0f2aac3', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibd6e711aa7322f8c6887a612c5f5409639907657\n'}, {'number': 3, 'created': '2022-01-07 14:18:13.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cloudkitty/commit/47588965d346ddf626eb290e5621cd2188afc836', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ibd6e711aa7322f8c6887a612c5f5409639907657\n'}]",0,819956,47588965d346ddf626eb290e5621cd2188afc836,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ibd6e711aa7322f8c6887a612c5f5409639907657
",git fetch https://review.opendev.org/openstack/puppet-cloudkitty refs/changes/56/819956/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,eea1bcfb9f83492bce38cf61cae595efdf5173b8,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""9.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""9.0.0""",4,4
openstack%2Fpuppet-ec2api~master~Ief6c1ee96bc6493527edaf8e0e874ac7a463b918,openstack/puppet-ec2api,master,Ief6c1ee96bc6493527edaf8e0e874ac7a463b918,Prepare Yoga M2,MERGED,2021-12-01 06:43:33.000000000,2022-01-07 14:34:11.000000000,2022-01-07 14:34:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/cc005c1e80814a38c4ea6305d8849c24db159281', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Ief6c1ee96bc6493527edaf8e0e874ac7a463b918\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/f824245e9630cad2f5b9d75d31b481c4ac78e310', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ief6c1ee96bc6493527edaf8e0e874ac7a463b918\n'}, {'number': 3, 'created': '2022-01-07 14:18:49.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/1dc8a708d9e7382a54b3c4cfde234c13496bf44b', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Ief6c1ee96bc6493527edaf8e0e874ac7a463b918\n'}]",0,819957,1dc8a708d9e7382a54b3c4cfde234c13496bf44b,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Ief6c1ee96bc6493527edaf8e0e874ac7a463b918
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/57/819957/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,cc005c1e80814a38c4ea6305d8849c24db159281,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-gnocchi~master~I8380b0ae90fc411ca1aee0ee4819d45cea888ac3,openstack/puppet-gnocchi,master,I8380b0ae90fc411ca1aee0ee4819d45cea888ac3,Prepare Yoga M2,MERGED,2021-12-01 06:43:38.000000000,2022-01-07 14:34:02.000000000,2022-01-07 14:34:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/a5bc504597583bb21bda999940588d2ff7de62b0', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I8380b0ae90fc411ca1aee0ee4819d45cea888ac3\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/68d708d00f24bcf23f7814e29d520f189573531d', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I8380b0ae90fc411ca1aee0ee4819d45cea888ac3\n'}, {'number': 3, 'created': '2022-01-07 14:19:19.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/09f36ae2183d7fa7e7c2ca036c207ffddd05c85d', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I8380b0ae90fc411ca1aee0ee4819d45cea888ac3\n'}]",0,819966,09f36ae2183d7fa7e7c2ca036c207ffddd05c85d,13,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I8380b0ae90fc411ca1aee0ee4819d45cea888ac3
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/66/819966/3 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,a5bc504597583bb21bda999940588d2ff7de62b0,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-aodh~master~Iffc2058e41f2813673e44b46d474244fd6630bf2,openstack/puppet-aodh,master,Iffc2058e41f2813673e44b46d474244fd6630bf2,Prepare Yoga M2,MERGED,2021-12-01 06:43:37.000000000,2022-01-07 14:31:30.000000000,2022-01-07 14:31:30.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/f81068794504156d470645bd2b191beb872ff9d5', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: Iffc2058e41f2813673e44b46d474244fd6630bf2\n'}, {'number': 2, 'created': '2021-12-03 00:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/71c5f94dbc6583af9bc455fcbe37ea92fb841e62', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Iffc2058e41f2813673e44b46d474244fd6630bf2\n'}, {'number': 3, 'created': '2022-01-07 14:16:53.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-aodh/commit/251fec8dcd1b645cd2fb95020cd34ca6836ed7d9', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: Iffc2058e41f2813673e44b46d474244fd6630bf2\n'}]",2,819960,251fec8dcd1b645cd2fb95020cd34ca6836ed7d9,15,3,3,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: Iffc2058e41f2813673e44b46d474244fd6630bf2
",git fetch https://review.opendev.org/openstack/puppet-aodh refs/changes/60/819960/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,f81068794504156d470645bd2b191beb872ff9d5,prep-release-yoga-m2," ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",4,4
openstack%2Fpuppet-qdr~master~I28ed67a2ce99fba2f95e4a633f0668a932b173c9,openstack/puppet-qdr,master,I28ed67a2ce99fba2f95e4a633f0668a932b173c9,Prepare Yoga M2,MERGED,2021-12-01 06:43:36.000000000,2022-01-07 14:31:29.000000000,2022-01-07 14:31:29.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/075097f8778bc6e5ad47415bb25327184c299331', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I28ed67a2ce99fba2f95e4a633f0668a932b173c9\n'}, {'number': 2, 'created': '2021-12-03 08:56:20.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/01d4e1cbcd8cd3d8c1a476f12539c3672d9b922b', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I28ed67a2ce99fba2f95e4a633f0668a932b173c9\n'}]",0,819959,01d4e1cbcd8cd3d8c1a476f12539c3672d9b922b,11,3,2,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I28ed67a2ce99fba2f95e4a633f0668a932b173c9
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/59/819959/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,075097f8778bc6e5ad47415bb25327184c299331,prep-release-yoga-m2," ""version"": ""9.1.0"","," ""version"": ""9.0.0"",",1,1
openstack%2Fpuppet-ovn~master~I59c1d993e75640efdc512a10cb77c8ce55a2b6bd,openstack/puppet-ovn,master,I59c1d993e75640efdc512a10cb77c8ce55a2b6bd,Prepare Yoga M2,MERGED,2021-12-01 06:43:51.000000000,2022-01-07 14:31:14.000000000,2022-01-07 14:31:14.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-01 06:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/5fa4f329bab76370e267f3d4404e9b68e26d4710', 'message': 'Prepare Yoga M1\n\nUpdate the version metadata for Yoga milestone M1\n\nChange-Id: I59c1d993e75640efdc512a10cb77c8ce55a2b6bd\n'}, {'number': 2, 'created': '2021-12-03 08:56:16.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/c13a1100bde3376052e9c154efb6fca09e8a4eae', 'message': 'Prepare Yoga M2\n\nUpdate the version metadata for Yoga milestone M2\n\nChange-Id: I59c1d993e75640efdc512a10cb77c8ce55a2b6bd\n'}]",0,819991,c13a1100bde3376052e9c154efb6fca09e8a4eae,11,3,2,9414,,,0,"Prepare Yoga M2

Update the version metadata for Yoga milestone M2

Change-Id: I59c1d993e75640efdc512a10cb77c8ce55a2b6bd
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/91/819991/2 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,5fa4f329bab76370e267f3d4404e9b68e26d4710,prep-release-yoga-m2," ""version_requirement"": "">=16.1.0 <17.0.0"" ""version_requirement"": "">=20.1.0 <21.0.0"" ""version"": ""20.1.0"""," ""version_requirement"": "">=16.0.0 <17.0.0"" ""version_requirement"": "">=20.0.0 <21.0.0"" ""version"": ""20.0.0""",3,3
openstack%2Freleases~master~I1d4c5d82ba464f0a917c075471101b1fec378020,openstack/releases,master,I1d4c5d82ba464f0a917c075471101b1fec378020,Yoga-2 Release for python-heatclient,MERGED,2022-01-04 09:00:46.000000000,2022-01-07 14:27:23.000000000,2022-01-07 14:27:23.000000000,"[{'_account_id': 308}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:00:46.000000000', 'files': ['deliverables/yoga/python-heatclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/ba71f16844b11b38e3cccf8fe769fbc7d871e2e7', 'message': 'Yoga-2 Release for python-heatclient\n\nThis is the Yoga milestone-2 release for python-heatclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 2.4.0..db9a71f\ndb9a71f Update python testing classifier\n796a8f5 Replace deprecated import of ABCs from collections\n4753a47 Fix test and lower constraints\nb457930 Add Python3 yoga unit tests\n3415690 Update master for stable/xena\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I1d4c5d82ba464f0a917c075471101b1fec378020\n'}]",2,823341,ba71f16844b11b38e3cccf8fe769fbc7d871e2e7,7,4,1,28522,,,0,"Yoga-2 Release for python-heatclient

This is the Yoga milestone-2 release for python-heatclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 2.4.0..db9a71f
db9a71f Update python testing classifier
796a8f5 Replace deprecated import of ABCs from collections
4753a47 Fix test and lower constraints
b457930 Add Python3 yoga unit tests
3415690 Update master for stable/xena

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I1d4c5d82ba464f0a917c075471101b1fec378020
",git fetch https://review.opendev.org/openstack/releases refs/changes/41/823341/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-heatclient.yaml'],1,ba71f16844b11b38e3cccf8fe769fbc7d871e2e7,yoga-milestone-2,releases: - version: 2.5.0 projects: - repo: openstack/python-heatclient hash: db9a71f18e033912a713ab71b4180f10e1e3be36,,5,0
openstack%2Freleases~master~Ic5c870f567a724f23d806e210dd557c66ba5d12e,openstack/releases,master,Ic5c870f567a724f23d806e210dd557c66ba5d12e,Yoga-2 Release for python-keystoneclient,MERGED,2022-01-04 09:02:34.000000000,2022-01-07 14:27:21.000000000,2022-01-07 14:27:21.000000000,"[{'_account_id': 308}, {'_account_id': 5046}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:02:34.000000000', 'files': ['deliverables/yoga/python-keystoneclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/78b5c570f87e6d31b01300864c23118a300dabd4', 'message': 'Yoga-2 Release for python-keystoneclient\n\nThis is the Yoga milestone-2 release for python-keystoneclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 4.3.0..100253d\n56c7b50 Add access to /v3/auth/systems\nf6569e2 Fix doc error to unblock the gate\n0c4e294 Drop lower-constrait job\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ic5c870f567a724f23d806e210dd557c66ba5d12e\n'}]",2,823343,78b5c570f87e6d31b01300864c23118a300dabd4,7,6,1,28522,,,0,"Yoga-2 Release for python-keystoneclient

This is the Yoga milestone-2 release for python-keystoneclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 4.3.0..100253d
56c7b50 Add access to /v3/auth/systems
f6569e2 Fix doc error to unblock the gate
0c4e294 Drop lower-constrait job

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ic5c870f567a724f23d806e210dd557c66ba5d12e
",git fetch https://review.opendev.org/openstack/releases refs/changes/43/823343/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-keystoneclient.yaml'],1,78b5c570f87e6d31b01300864c23118a300dabd4,yoga-milestone-2,releases: - version: 4.4.0 projects: - repo: openstack/python-keystoneclient hash: 100253d52e0c62dffffddb6f046ad660a9bce1a9,,5,0
openstack%2Freleases~master~Ia25e1971e884cc34738cb89ef4f4c232124382f2,openstack/releases,master,Ia25e1971e884cc34738cb89ef4f4c232124382f2,Yoga-2 Release for python-ironicclient,MERGED,2022-01-04 09:01:39.000000000,2022-01-07 14:27:16.000000000,2022-01-07 14:27:16.000000000,"[{'_account_id': 308}, {'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-04 09:01:39.000000000', 'files': ['deliverables/yoga/python-ironicclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c3a15d9177b965a58bc732a093e11e731d473bc2', 'message': 'Yoga-2 Release for python-ironicclient\n\nThis is the Yoga milestone-2 release for python-ironicclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 4.9.0..4549820\n4549820 Improve description of ""node boot mode set""\n4ce3c4e Test python 3.6 for distributions compatibility\n4712812 Made `baremetal <command> --help` display command specific help.\ne76c43b Fix references to ironicclient classes and methods\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ia25e1971e884cc34738cb89ef4f4c232124382f2\n'}]",2,823342,c3a15d9177b965a58bc732a093e11e731d473bc2,9,6,1,28522,,,0,"Yoga-2 Release for python-ironicclient

This is the Yoga milestone-2 release for python-ironicclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 4.9.0..4549820
4549820 Improve description of ""node boot mode set""
4ce3c4e Test python 3.6 for distributions compatibility
4712812 Made `baremetal <command> --help` display command specific help.
e76c43b Fix references to ironicclient classes and methods

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ia25e1971e884cc34738cb89ef4f4c232124382f2
",git fetch https://review.opendev.org/openstack/releases refs/changes/42/823342/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-ironicclient.yaml'],1,c3a15d9177b965a58bc732a093e11e731d473bc2,yoga-milestone-2, - version: 4.10.0 projects: - repo: openstack/python-ironicclient hash: 4549820bfad9fb4ba1a676a00aa966caec3538b9,,4,0
openstack%2Fbifrost~master~Ibc97430efed26b35f941e31c6280f3cf387efc17,openstack/bifrost,master,Ibc97430efed26b35f941e31c6280f3cf387efc17,"Clean up the ""How to"" documentation",MERGED,2022-01-06 11:23:45.000000000,2022-01-07 14:20:18.000000000,2022-01-07 14:18:32.000000000,"[{'_account_id': 14885}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-06 11:23:45.000000000', 'files': ['doc/source/user/dhcp.rst', 'doc/source/user/howto.rst'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/40842895fcd6e44e3d4f7c57de95ca373f9b1c43', 'message': 'Clean up the ""How to"" documentation\n\nFix formatting, add missing field descriptions, add instance_info\nexample.\n\nChange-Id: Ibc97430efed26b35f941e31c6280f3cf387efc17\n'}]",0,823671,40842895fcd6e44e3d4f7c57de95ca373f9b1c43,8,4,1,10239,,,0,"Clean up the ""How to"" documentation

Fix formatting, add missing field descriptions, add instance_info
example.

Change-Id: Ibc97430efed26b35f941e31c6280f3cf387efc17
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/71/823671/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/user/dhcp.rst', 'doc/source/user/howto.rst']",2,40842895fcd6e44e3d4f7c57de95ca373f9b1c43,howto-location,"example: .. code-block:: bashFor example: .. code-block:: bashThe JSON format resembles the data structure that ironic utilizes internally. * The ``name``, ``uuid``, ``driver``, and ``properties`` fields are directly mapped through to ironic. Only the ``driver`` is required. .. note:: Most properties are automatically populated during inspection, if it is enabled. However, it is recommended to set the `root device <https://docs.openstack.org/ironic/latest/install/advanced.html#specifying-the-disk-for-deployment-root-device-hints>`_ for nodes with multiple disks. * The ``driver_info`` field format matches one of the OpenStack Ansible collection and for legacy reasons can use nested structures ``power``, ``deploy``, ``management`` and ``console``. .. note:: With newer versions of the collection you can just put all fields under ``driver_info`` directly). * The ``nics`` field is a list of ports to create. The required field is ``mac`` - MAC address of the port. * ``ansible_ssh_host`` and ``ipv4_address`` are expected IP addresses of the node once it is deployed. See also `Configuring the integrated DHCP server`_. Example: .. code-block:: json ""cpus"": ""1"", ""root_device"": {""wwn"": ""0x4000cca77fc4dba1""}in an ``instance_info`` variable, for example: .. code-block:: json { ""testvm1"": { ""uuid"": ""00000000-0000-0000-0000-000000000001"", ""driver_info"": { ""power"": { ""ipmi_address"": ""192.168.122.1"", ""ipmi_username"": ""admin"", ""ipmi_password"": ""pa$$w0rd"" } }, ""nics"": [ { ""mac"": ""52:54:00:f9:32:f6"" } ], ""driver"": ""ipmi"", ""ansible_ssh_host"": ""192.168.122.2"", ""ipv4_address"": ""192.168.122.2"", ""properties"": { ""cpu_arch"": ""x86_64"", ""ram"": ""3072"", ""disk_size"": ""10"", ""cpus"": ""1"", ""root_device"": {""wwn"": ""0x4000cca77fc4dba1""} }, ""name"": ""testvm1"", ""instance_info"": { ""image_source"": ""http://image.server/image.qcow2"", ""image_checksum"": ""<md5 checksum>"" } } }Starting with the Wallaby cycle, you can use ``bifrost-cli`` for enrolling: .. code-block:: bashsource, and then executing the enrollment playbook: .. code-block:: bash cd playbooksUsing a remote ironic --------------------- When ironic is installed on remote server, a regular ansible inventory with a target server should be added to ansible. This can be achieved by specifying a directory with files, each file in that directory will be part of the ansible inventory. Refer to ansible documentation http://docs.ansible.com/ansible/intro_dynamic_inventory.html#using-inventory-directories-and-multiple-inventory-sources .. code-block:: bash export BIFROST_INVENTORY_SOURCE=/tmp/baremetal.json cd playbooks rm inventory/*.example ansible-playbook -vvvv -i inventory/ enroll-dynamic.yaml To utilize the newer dynamic inventory based deployment: .. code-block:: bash cd playbooks.. note::The image, downloaded or generated during installation, is used by default. Please see `JSON file format`_ for information on how to override the image per node. If the hosts need to be re-deployed, the dynamic redeploy playbook may be used: .. code-block:: bash cd playbooksUsing a remote ironic --------------------- When ironic is installed on remote server, a regular ansible inventory with a target server should be added to ansible. This can be achieved by specifying a directory with files, each file in that directory will be part of the ansible inventory. Refer to ansible documentation http://docs.ansible.com/ansible/intro_dynamic_inventory.html#using-inventory-directories-and-multiple-inventory-sources .. code-block:: bash export BIFROST_INVENTORY_SOURCE=/tmp/baremetal.json cd playbooks rm inventory/*.example ansible-playbook -vvvv -i inventory/ deploy-dynamic.yaml network_data.json that can be read/parsed by `glean <https://opendev.org/opendev/glean>`_ or `cloud-init <https://cloudinit.readthedocs.io/en/latest/>`_. This allows forBy default, Bifrost utilizes a utility called *simple-init* which leverages","example::The following two environment variables can be set: - ``OS_AUTH_TYPE`` - set to ``none`` to bypass authentication. - ``OS_ENDPOINT`` - A URL to the ironic API, such as http://localhost:6385/ For example::The JSON format closely resembles the data structure that ironic utilizes internally. The ``name``, ``driver_info``, ``nics``, ``driver``, and ``properties`` fields are directly mapped through to ironic. This means that the data contained within can vary from host to host, such as drivers and their parameters thus allowing a mixed hardware environment to be defined in a single file. Example:: ""provisioning_ipv4_address"": ""10.0.0.9"", ""cpus"": ""1""in an ``instance_info`` variable.Starting with the Wallaby cycle, you can use ``bifrost-cli`` for enrolling::source, and then executing the enrollment playbook.::When ironic is installed on remote server, a regular ansible inventory with a target server should be added to ansible. This can be achieved by specifying a directory with files, each file in that directory will be part of the ansible inventory. Refer to ansible documentation http://docs.ansible.com/ansible/intro_dynamic_inventory.html#using-inventory-directories-and-multiple-inventory-sources :: export BIFROST_INVENTORY_SOURCE=/tmp/baremetal.json rm inventory/*.example ansible-playbook -vvvv -i inventory/ enroll-dynamic.yaml To utilize the newer dynamic inventory based deployment::When ironic is installed on remote server, a regular ansible inventory with a target server should be added to ansible. This can be achieved by specifying a directory with files, each file in that directory will be part of the ansible inventory. Refer to ansible documentation http://docs.ansible.com/ansible/intro_dynamic_inventory.html#using-inventory-directories-and-multiple-inventory-sources :: export BIFROST_INVENTORY_SOURCE=/tmp/baremetal.json rm inventory/*.example ansible-playbook -vvvv -i inventory/ deploy-dynamic.yaml Note::If the hosts need to be re-deployed, the dynamic redeploy playbook may be used::network_data.json that can be read/parsed by the `glean <https://opendev.org/opendev/glean>`_ utility. This allows forBy default, Bifrost utilizes a utility called simple-init which leverages",131,53
openstack%2Fironic~master~I5e49e2b15d97e3b217c435dbd4616923563ad6e5,openstack/ironic,master,I5e49e2b15d97e3b217c435dbd4616923563ad6e5,"[doc] Fix broken link in ""Node Deployment""",MERGED,2021-12-14 10:12:09.000000000,2022-01-07 14:08:38.000000000,2022-01-07 14:06:23.000000000,"[{'_account_id': 10239}, {'_account_id': 15519}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-14 10:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/cd2240b943b6a22b749a025538466ef00e2d93a1', 'message': '[doc] Fix broken link in ""Node Deployment""\n\nChange-Id: I5e49e2b15d97e3b217c435dbd4616923563ad6e5\n'}, {'number': 2, 'created': '2022-01-07 10:19:19.000000000', 'files': ['doc/source/admin/node-deployment.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e43791c645fa62ff9eee255f0ad9b299c3c359ac', 'message': '[doc] Fix broken link in ""Node Deployment""\n\nChange-Id: I5e49e2b15d97e3b217c435dbd4616923563ad6e5\n'}]",1,821685,e43791c645fa62ff9eee255f0ad9b299c3c359ac,11,3,2,11292,,,0,"[doc] Fix broken link in ""Node Deployment""

Change-Id: I5e49e2b15d97e3b217c435dbd4616923563ad6e5
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/821685/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/node-deployment.rst'],1,cd2240b943b6a22b749a025538466ef00e2d93a1,doc_fix_deploy_step_ref,If a :ref:`core deploy step <node-deployment-core-steps>` is included in a,If a `core deploy step <node-deployment-core-steps>`_ is included in a,1,1
openstack%2Fskyline-console~master~I8952d4bd3cff85eeccd76363a8a9c3f3aff3ee25,openstack/skyline-console,master,I8952d4bd3cff85eeccd76363a8a9c3f3aff3ee25,feat: Optimize simple-form component,MERGED,2022-01-07 02:08:02.000000000,2022-01-07 14:03:58.000000000,2022-01-07 14:03:58.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-01-07 02:08:02.000000000', 'files': ['src/components/SimpleForm/index.jsx', 'src/pages/auth/containers/Login/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/256d7d473e5041d8d93c1c28bfb49363028d6572', 'message': 'feat: Optimize simple-form component\n\n1. Optimize simple-form component to support form item onChange function\n2. Update login to support custom render\n\nChange-Id: I8952d4bd3cff85eeccd76363a8a9c3f3aff3ee25\n'}]",3,823742,256d7d473e5041d8d93c1c28bfb49363028d6572,16,2,1,30434,,,0,"feat: Optimize simple-form component

1. Optimize simple-form component to support form item onChange function
2. Update login to support custom render

Change-Id: I8952d4bd3cff85eeccd76363a8a9c3f3aff3ee25
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/42/823742/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/SimpleForm/index.jsx', 'src/pages/auth/containers/Login/index.jsx']",2,256d7d473e5041d8d93c1c28bfb49363028d6572,,export class Login extends Component { renderExtra() { return null; } {this.renderExtra()} export default inject('rootStore')(observer(Login));,@inject('rootStore') @observer export default class Login extends Component {,12,4
openstack%2Fpuppet-manila~master~I5a4f015786741b5edb438db59b4261a38386b423,openstack/puppet-manila,master,I5a4f015786741b5edb438db59b4261a38386b423,service_instance: Use service defaults,ABANDONED,2021-02-28 13:49:48.000000000,2022-01-07 13:54:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-28 13:49:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/536ff1158ee6fee6b52d6a893ae0bec9090a3052', 'message': 'service_instance: Use service defaults\n\nThis change replaces redundant re-definitions of default values in\nthe manila::service_instance class, by $::os_service_default, so that\nwe use default values defined in Manila directly.\n\nNote that default of the service_instance_flavor_id parameter is\ndifferent from the one in Manila so the parameter is still defaults to\nthe hardcoded value.\n\nChange-Id: I5a4f015786741b5edb438db59b4261a38386b423\n'}, {'number': 2, 'created': '2021-02-28 14:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e72e7581bcbdd810a6592fb6035717e07af42464', 'message': 'service_instance: Use service defaults\n\nThis change replaces redundant re-definitions of default values in\nthe manila::service_instance class, by $::os_service_default, so that\nwe use default values defined in Manila directly.\n\nNote that default of the service_instance_flavor_id parameter is\ndifferent from the one in Manila so the parameter is still defaults to\nthe hardcoded value.\n\nChange-Id: I5a4f015786741b5edb438db59b4261a38386b423\n'}, {'number': 3, 'created': '2021-03-14 13:17:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/60a6b3162b7b4274c267b9bae6303da0707b5460', 'message': 'service_instance: Use service defaults\n\nThis change replaces redundant re-definitions of default values in\nthe manila::service_instance class, by $::os_service_default, so that\nwe use default values defined in Manila directly.\n\nNote that default of the service_instance_flavor_id parameter is\ndifferent from the one in Manila so the parameter is still defaults to\nthe hardcoded value.\n\nChange-Id: I5a4f015786741b5edb438db59b4261a38386b423\n'}, {'number': 4, 'created': '2021-03-14 22:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/706fb7284ec6ab89971897a3ec0b4047189dfd08', 'message': 'service_instance: Use service defaults\n\nThis change replaces redundant re-definitions of default values in\nthe manila::service_instance class, by $::os_service_default, so that\nwe use default values defined in Manila directly.\n\nNote that default of the service_instance_flavor_id parameter is\ndifferent from the one in Manila so the parameter is still defaults to\nthe hardcoded value.\n\nChange-Id: I5a4f015786741b5edb438db59b4261a38386b423\n'}, {'number': 5, 'created': '2021-03-15 00:29:55.000000000', 'files': ['spec/defines/manila_service_instance_spec.rb', 'manifests/service_instance.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/efe27fa0b547073a1a49acd8d3d1c87c3949e51c', 'message': 'service_instance: Use service defaults\n\nThis change replaces redundant re-definitions of default values in\nthe manila::service_instance class, by $::os_service_default, so that\nwe use default values defined in Manila directly.\n\nNote that default of the service_instance_flavor_id parameter is\ndifferent from the one in Manila so the parameter is still defaults to\nthe hardcoded value.\n\nChange-Id: I5a4f015786741b5edb438db59b4261a38386b423\n'}]",0,777886,efe27fa0b547073a1a49acd8d3d1c87c3949e51c,11,1,5,9816,,,0,"service_instance: Use service defaults

This change replaces redundant re-definitions of default values in
the manila::service_instance class, by $::os_service_default, so that
we use default values defined in Manila directly.

Note that default of the service_instance_flavor_id parameter is
different from the one in Manila so the parameter is still defaults to
the hardcoded value.

Change-Id: I5a4f015786741b5edb438db59b4261a38386b423
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/86/777886/3 && git format-patch -1 --stdout FETCH_HEAD,['spec/defines/manila_service_instance_spec.rb'],1,536ff1158ee6fee6b52d6a893ae0bec9090a3052,default," let :defaults do { :service_instance_name_template => '<SERVICE DEFAULT>', :manila_service_keypair_name => '<SERVICE DEFAULT>', :path_to_public_key => '<SERVICE DEFAULT>', :path_to_private_key => '<SERVICE DEFAULT>', :max_time_to_build_instance => '<SERVICE DEFAULT>', :service_instance_security_group => '<SERVICE DEFAULT>', :service_network_name => '<SERVICE DEFAULT>', :service_network_cidr => '<SERVICE DEFAULT>', :service_network_division_mask => '<SERVICE DEFAULT>', :interface_driver => '<SERVICE DEFAULT>', :connect_share_server_to_tenant_network => '<SERVICE DEFAULT>', } end let :req_params do { :service_instance_user => 'user1', :service_instance_password => 'pass1', let :params do req_params it { is_expected.to raise_error(Puppet::Error, /Missing required parameter service_image_location/) } let (:params) do req_params.merge!({ :service_image_name => 'manila-service-image', :service_image_location => 'http://example.com/manila_service_image.iso', }) end it 'configures service_instance' do defaults.merge!(params).each_pair do |config,value| is_expected.to contain_manila_config(""DEFAULT/#{config}"").with_value( value ) end end it 'creates Glance image' do is_expected.to contain_glance_image(req_params[:service_image_name]).with( :ensure => 'present', :is_public => 'yes', :container_format => 'bare', :disk_format => 'qcow2', :source => req_params[:service_image_location] ) end end context 'with service image provided and parameters overridden' do let (:params) do req_params.merge!({ :create_service_image => true, :service_image_name => 'manila-service-image', :service_image_location => 'http://example.com/manila_service_image.iso', :create_service_image => true, :service_instance_name_template => 'manila_service_instance_%s', :manila_service_keypair_name => 'manila-service', :path_to_public_key => '~/.ssh/id_rsa.pub', :path_to_private_key => '~/.ssh/id_rsa', :max_time_to_build_instance => 300, :service_instance_security_group=> 'manila-service', :service_instance_flavor_id => 100, :service_network_name => 'manila_service_network', :service_network_cidr => '10.254.0.0/16', :service_network_division_mask => 28, :interface_driver => 'manila.network.linux.interface.OVSInterfaceDriver', }) end it 'configures service_instance' do defaults.merge!(params).each_pair do |config,value| is_expected.to contain_manila_config(""DEFAULT/#{config}"").with_value( value ) end end let (:params) do req_params.merge!({ :create_service_image => false, :service_image_name => 'manila-service-image', }) end"," let :params do { :create_service_image => true, :service_instance_name_template => 'manila_service_instance_%s', :service_instance_user => 'user1', :service_instance_password => 'pass1', :manila_service_keypair_name => 'manila-service', :path_to_public_key => '~/.ssh/id_rsa.pub', :path_to_private_key => '~/.ssh/id_rsa', :max_time_to_build_instance => 300, :service_instance_security_group => 'manila-service', :service_network_name => 'manila_service_network', :service_network_cidr => '10.254.0.0/16', :service_network_division_mask => 28, :interface_driver => 'manila.network.linux.interface.OVSInterfaceDriver', :connect_share_server_to_tenant_network => false, it 'configures service instance' do expect { params.each_pair do |config,value| is_expected.to contain_manila_config(""DEFAULT/#{config}"").with_value( value ) end }.to raise_error(Puppet::Error, /Missing required parameter service_image_location/) let (:req_params) { params.merge!({ :service_image_name => 'manila-service-image', :service_image_location => 'http://example.com/manila_service_image.iso', }) } let (:req_params) { params.merge!({ :create_service_image => false, :service_image_name => 'manila-service-image', }) }",79,29
openstack%2Fcharm-rabbitmq-server~master~Ie975eaba3c2c22e4283ee8728935f1547c4578e4,openstack/charm-rabbitmq-server,master,Ie975eaba3c2c22e4283ee8728935f1547c4578e4,"Coordination module for restart, join & upgrade",ABANDONED,2021-12-08 14:20:39.000000000,2022-01-07 13:50:54.000000000,,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 14:20:39.000000000', 'files': ['charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_rabbit_utils.py', 'charmhelpers/core/hookenv.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charm-helpers-hooks.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'unit_tests/test_actions.py', 'charmhelpers/coordinator.py', 'hooks/rabbit_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/f60bb30473d92e369aea8b11c41dcd812587e037', 'message': 'Coordination module for restart, join & upgrade\n\nUse the coordination module to manage some events accross the\ncluster. This is to ensure that cluster events are only\nperformed on one unit at a time. This helps prevent\nsituation which can cause the cluster to become split\nbrained (eg if two or more nodes are restarted at the same\ntime).\n\n* Manually run _run_atstart & _run_atexit method when actions\n  are run as this does not happen automatically and is needed by\n  the coordination layer.\n* Remove modulo-nodes & known-wait configuration options and the\n  corresponding cluster_wait function as event orchastration is\n  now handled by the coordination module.\n* Replace restart_on_change decorator with coordinated_restart_on_change.\n  coordinated_restart_on_change includes logic for requesting\n  restart locks from the coordination module.\n* Add three functions which can be called when a cluster affecting\n  event is needed coordinated_upgrade, coordinated_cluster and\n  manage_restart.\n  NOTE: `manage_restart` is names differently as it has the option\n        to force an immediate restart. This is only needed when a\n        restart is required after a charm action has been run.\n* The coordination module works via the leader and cluster events so\n  the hooks now include calls to check_coordinated_functions\n  which will run any function that is waiting for a lock.\n* Logic has been added to check for the situation where a hook is\n  being run via the run_deferred_hooks actions. If this is the\n  case then restarts are immediate as the action should only be run\n  on one unit at a time.\n\nCloses-Bug: #1902793\nChange-Id: Ie975eaba3c2c22e4283ee8728935f1547c4578e4\n'}]",2,821071,f60bb30473d92e369aea8b11c41dcd812587e037,6,3,1,12549,,,0,"Coordination module for restart, join & upgrade

Use the coordination module to manage some events accross the
cluster. This is to ensure that cluster events are only
performed on one unit at a time. This helps prevent
situation which can cause the cluster to become split
brained (eg if two or more nodes are restarted at the same
time).

* Manually run _run_atstart & _run_atexit method when actions
  are run as this does not happen automatically and is needed by
  the coordination layer.
* Remove modulo-nodes & known-wait configuration options and the
  corresponding cluster_wait function as event orchastration is
  now handled by the coordination module.
* Replace restart_on_change decorator with coordinated_restart_on_change.
  coordinated_restart_on_change includes logic for requesting
  restart locks from the coordination module.
* Add three functions which can be called when a cluster affecting
  event is needed coordinated_upgrade, coordinated_cluster and
  manage_restart.
  NOTE: `manage_restart` is names differently as it has the option
        to force an immediate restart. This is only needed when a
        restart is required after a charm action has been run.
* The coordination module works via the leader and cluster events so
  the hooks now include calls to check_coordinated_functions
  which will run any function that is waiting for a lock.
* Logic has been added to check for the situation where a hook is
  being run via the run_deferred_hooks actions. If this is the
  case then restarts are immediate as the action should only be run
  on one unit at a time.

Closes-Bug: #1902793
Change-Id: Ie975eaba3c2c22e4283ee8728935f1547c4578e4
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/71/821071/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/utils.py', 'unit_tests/test_rabbit_utils.py', 'charmhelpers/core/hookenv.py', 'hooks/rabbitmq_server_relations.py', 'config.yaml', 'charmhelpers/fetch/ubuntu.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-api.conf', 'charm-helpers-hooks.yaml', 'unit_tests/test_rabbitmq_server_relations.py', 'actions/actions.py', 'charmhelpers/contrib/openstack/templates/wsgi-openstack-metadata.conf', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend', 'charmhelpers/contrib/openstack/templates/openstack_https_frontend.conf', 'charmhelpers/fetch/ubuntu_apt_pkg.py', 'unit_tests/test_actions.py', 'charmhelpers/coordinator.py', 'hooks/rabbit_utils.py']",17,f60bb30473d92e369aea8b11c41dcd812587e037,bug/1902793,"import functools action_name, path_hash,import charmhelpers.coordinator as coordinator COORD_KEY_RESTART = ""restart"" COORD_KEY_PKG_UPGRADE = ""pkg_upgrade"" COORD_KEY_CLUSTER = ""cluster"" COORD_KEYS = [COORD_KEY_RESTART, COORD_KEY_PKG_UPGRADE, COORD_KEY_CLUSTER] def in_run_deferred_hooks_action(): """"""Check if current execution context is the run-deferred-hooks action :returns: Whether currently in run-deferred-hooks hook :rtype: bool return action_name() == 'run-deferred-hooks' def coordinated_restart_on_change(restart_map, restart_function): """"""Decorator to check for file changes. Check for file changes after decorated function runs. If a change is detected then a restart request is made using the coordinator module. :param restart_map: {file: [service, ...]} :type restart_map: Dict[str, List[str,]] :param restart_functions: Function to be used to perform restart if lock is immediatly granted. :type restart_functions: Callable """""" def wrap(f): @functools.wraps(f) def wrapped_f(*args, **kwargs): if is_unit_paused_set(): return f(*args, **kwargs) pre = {path: path_hash(path) for path in restart_map} f(*args, **kwargs) post = {path: path_hash(path) for path in restart_map} if pre == post: log(""No restart needed"") else: changed = [ path for path in restart_map.keys() if pre[path] != post[path]] log(""Requesting restart. File(s) {} have changed"".format( ','.join(changed))) if in_run_deferred_hooks_action(): log(""In action context, requesting immediate restart"") restart_function(coordinate_restart=False) else: serial = coordinator.Serial() serial.acquire(COORD_KEY_RESTART) # Run the restart function which will check if lock is # is immediatly available. restart_function(coordinate_restart=True) return wrapped_f return wrap serial = coordinator.Serial() requested_locks = [k for k in COORD_KEYS if serial.requested(k)] if requested_locks: message = ""{}. {}"".format( message, 'Waiting for {} lock(s)'.format(','.join(requested_locks))) state = ""waiting"""," pausable_restart_on_change, ) from charmhelpers.contrib.hahelpers.cluster import ( distributed_wait,def cluster_wait(): ''' Wait for operations based on modulo distribution Use the distributed_wait function to determine how long to wait before running an operation like restart or cluster join. By setting modulo to the exact number of nodes in the cluster we get serial operations. Check for explicit configuration parameters for modulo distribution. The config setting modulo-nodes has first priority. If modulo-nodes is not set, check min-cluster-size. Finally, if neither value is set, determine how many peers there are from the cluster relation. @side_effect: distributed_wait is called which calls time.sleep() @return: None ''' wait = config('known-wait') if config('modulo-nodes') is not None: # modulo-nodes has first priority num_nodes = config('modulo-nodes') elif config('min-cluster-size'): # min-cluster-size is consulted next num_nodes = config('min-cluster-size') else: # If nothing explicit is configured, determine cluster size based on # peer relations num_nodes = 1 for rid in relation_ids('cluster'): num_nodes += len(related_units(rid)) distributed_wait(modulo=num_nodes, wait=wait) # NOTE: The primary problem rabbitmq has clustering is when # more than one node attempts to cluster at the same time. # The asynchronous nature of hook firing nearly guarantees # this. Using cluster_wait based on modulo_distribution cluster_wait()def restart_on_change(restart_map, stopstart=False): """"""Restart services based on configuration files changing This function is used a decorator, for example:: @restart_on_change({ '/etc/apache/sites-enabled/*': [ 'apache2' ] }) def config_changed(): pass # your code here In this example the apache2 service would be restarted if any file matching the pattern got changed, created or removed. Standard wildcards are supported, see documentation for the 'glob' module for more information. return pausable_restart_on_change( restart_map, stopstart=stopstart, pre_restarts_wait_f=cluster_wait, can_restart_now_f=deferred_events.check_and_record_restart_request, post_svc_restart_f=deferred_events.process_svc_restart )",976,168
openstack%2Fironic-inspector~master~I5ecfe3e326230f20f3286369cff59b4d8b0d89c8,openstack/ironic-inspector,master,I5ecfe3e326230f20f3286369cff59b4d8b0d89c8,Sync rootwrap.conf from oslo.rootwrap,NEW,2022-01-02 12:30:52.000000000,2022-01-07 13:40:02.000000000,,"[{'_account_id': 9816}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-01-02 12:30:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/e5043880e3df3405df23955bc6b65863aa66cff7', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I5ecfe3e326230f20f3286369cff59b4d8b0d89c8\n""}, {'number': 2, 'created': '2022-01-03 00:16:36.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'rootwrap.conf'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/8b5c35b987b56614868df90531e1fa8c2ca77606', 'message': ""Sync rootwrap.conf from oslo.rootwrap\n\nThe current rootwrap.conf file is outdated and doesn't include some\nparameters. This change updates the content to make it consistent with\nthe latest example file in oslo.rootwrap.\n\nChange-Id: I5ecfe3e326230f20f3286369cff59b4d8b0d89c8\n""}]",6,823232,8b5c35b987b56614868df90531e1fa8c2ca77606,10,5,2,9816,,,0,"Sync rootwrap.conf from oslo.rootwrap

The current rootwrap.conf file is outdated and doesn't include some
parameters. This change updates the content to make it consistent with
the latest example file in oslo.rootwrap.

Change-Id: I5ecfe3e326230f20f3286369cff59b4d8b0d89c8
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/32/823232/1 && git format-patch -1 --stdout FETCH_HEAD,['rootwrap.conf'],1,e5043880e3df3405df23955bc6b65863aa66cff7,rootwrap, # Rootwrap daemon exits after this seconds of inactivity daemon_timeout=600 # Rootwrap daemon limits itself to that many file descriptors (Linux only) rlimit_nofile=1024,,6,0
openstack%2Fironic~bugfix%2F19.0~I4606a278a55d00fbfd2b0c60c51b0f13cae8a06e,openstack/ironic,bugfix/19.0,I4606a278a55d00fbfd2b0c60c51b0f13cae8a06e,Configure CI for bugfix/19.0,MERGED,2021-12-20 15:58:47.000000000,2022-01-07 13:37:32.000000000,2022-01-07 13:32:55.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-12-20 15:58:47.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b3ea14f863fec2c309eafc3099bfa0aa72ee3324', 'message': 'Configure CI for bugfix/19.0\n\nAdd branch mapping so that devstack jobs work. Use master for Bifrost\n(which is not strictly correct but is good enough).\n\nChange-Id: I4606a278a55d00fbfd2b0c60c51b0f13cae8a06e\n'}]",2,822337,b3ea14f863fec2c309eafc3099bfa0aa72ee3324,20,3,1,10239,,,0,"Configure CI for bugfix/19.0

Add branch mapping so that devstack jobs work. Use master for Bifrost
(which is not strictly correct but is good enough).

Change-Id: I4606a278a55d00fbfd2b0c60c51b0f13cae8a06e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/37/822337/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'devstack/lib/ironic', 'zuul.d/project.yaml']",3,b3ea14f863fec2c309eafc3099bfa0aa72ee3324,, override-checkout: master override-checkout: master,,17,6
openstack%2Ftripleo-repos~master~I97d9938bb07c1f89707b3af86a9afeec716c9331,openstack/tripleo-repos,master,I97d9938bb07c1f89707b3af86a9afeec716c9331,DNM - Testing old composes instead of mirrors,ABANDONED,2022-01-06 12:52:35.000000000,2022-01-07 13:24:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-06 12:52:35.000000000', 'files': ['plugins/module_utils/tripleo_repos/main.py'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/15e1cfee94550d6cee96b8864ca0f4fd654e9b0d', 'message': 'DNM - Testing old composes instead of mirrors\n\nIn order to identify the issue caused by #1956441, ww want to test\nbuild images with different repos\n\nChange-Id: I97d9938bb07c1f89707b3af86a9afeec716c9331\n'}]",0,823684,15e1cfee94550d6cee96b8864ca0f4fd654e9b0d,3,1,1,30002,,,0,"DNM - Testing old composes instead of mirrors

In order to identify the issue caused by #1956441, ww want to test
build images with different repos

Change-Id: I97d9938bb07c1f89707b3af86a9afeec716c9331
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/84/823684/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/module_utils/tripleo_repos/main.py'],1,15e1cfee94550d6cee96b8864ca0f4fd654e9b0d,test_old_compose,baseurl=https://composes.centos.org/CentOS-Stream-8-20211202.n.1/compose/HighAvailability/$basearch/os/baseurl=https://composes.centos.org/CentOS-Stream-8-20211202.n.1/compose/PowerTools/$basearch/os/baseurl=https://composes.centos.org/CentOS-Stream-8-20211202.n.1/compose/AppStream/$basearch/os/baseurl=https://composes.centos.org/CentOS-Stream-8-20211202.n.1/compose/BaseOS/$basearch/os/,baseurl=%(mirror)s/centos/%(stream)s/HighAvailability/$basearch/os/baseurl=%(mirror)s/centos/%(stream)s/PowerTools/$basearch/os/baseurl=%(mirror)s/centos/$releasever/AppStream/$basearch/os/baseurl=%(mirror)s/centos/$releasever/BaseOS/$basearch/os/,4,4
openstack%2Ftripleo-quickstart~master~If8b84a077c4b278c07df739d8988e94746a145b8,openstack/tripleo-quickstart,master,If8b84a077c4b278c07df739d8988e94746a145b8,DNM - Testing old composes on release files,ABANDONED,2022-01-06 13:18:34.000000000,2022-01-07 13:24:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-06 13:18:34.000000000', 'files': ['config/release/tripleo-ci/CentOS-8/master.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/73d9af2bd03e2099eb66949f5156e4fb6942c4e4', 'message': 'DNM - Testing old composes on release files\n\nTesting pinning compose repos to test issue reported in #1956441\n\nChange-Id: If8b84a077c4b278c07df739d8988e94746a145b8\n'}]",0,823689,73d9af2bd03e2099eb66949f5156e4fb6942c4e4,6,2,1,30002,,,0,"DNM - Testing old composes on release files

Testing pinning compose repos to test issue reported in #1956441

Change-Id: If8b84a077c4b278c07df739d8988e94746a145b8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/89/823689/1 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-8/master.yml'],1,73d9af2bd03e2099eb66949f5156e4fb6942c4e4,testing_old_compose, baseurl: https://compose-01.aws.centos.org/CentOS-Stream-8-20211202.n.1/compose/BaseOS/x86_64/os/ baseurl: https://compose-01.aws.centos.org/CentOS-Stream-8-20211202.n.1/compose/AppStream/x86_64/os/ baseurl: https://compose-01.aws.centos.org/CentOS-Stream-8-20211202.n.1/compose/PowerTools/x86_64/os/ baseurl: https://compose-01.aws.centos.org/CentOS-Stream-8-20211202.n.1/compose/HighAvailability/x86_64/os/, baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/BaseOS/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/AppStream/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/PowerTools/x86_64/os/ baseurl: ${NODEPOOL_CENTOS_MIRROR}/8-stream/HighAvailability/x86_64/os/,4,4
openstack%2Fosops~master~I4ecdd95b5fee6635f51ab0e1820ff2e8112f5f35,openstack/osops,master,I4ecdd95b5fee6635f51ab0e1820ff2e8112f5f35,[fix] list-vms-by-host obsolet command,NEW,2022-01-06 12:57:02.000000000,2022-01-07 13:15:50.000000000,,"[{'_account_id': 16339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 12:57:02.000000000', 'files': ['tools/generic/nova/list-vms-by-host.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/1ac9d08f9c6ffbf94bab4a1c4bf06ef65348ecdd', 'message': '[fix] list-vms-by-host obsolet command\n\nlist-vms-by-host.sh contain depreacted command line nova instead of\nopenstack cli.\n\nTested on Xena\n\nStory: 2008299\n\nChange-Id: I4ecdd95b5fee6635f51ab0e1820ff2e8112f5f35\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",2,823686,1ac9d08f9c6ffbf94bab4a1c4bf06ef65348ecdd,4,2,1,16339,,,0,"[fix] list-vms-by-host obsolet command

list-vms-by-host.sh contain depreacted command line nova instead of
openstack cli.

Tested on Xena

Story: 2008299

Change-Id: I4ecdd95b5fee6635f51ab0e1820ff2e8112f5f35
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/86/823686/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generic/nova/list-vms-by-host.sh'],1,1ac9d08f9c6ffbf94bab4a1c4bf06ef65348ecdd,,"for i in `openstack server list --all | grep -v '^+-' | grep -v '^| ID' |\ cut -d ""|"" -f 2,3,4,5 | sed -e ""s/ *| */,/g"" -e ""s/^ *//g""` ; do IP=`echo $i | cut -d, -f 4,5` SHOW=`openstack server show ${ID}`","for i in `nova list --all-tenants | grep -v '^+-' | grep -v '^| ID' |\ cut -d ""|"" -f 2,3,5 | sed -e ""s/ *| */,/g"" -e ""s/^ *//g""` ; do SHOW=`nova show ${ID}` IP=`echo ""${SHOW}"" | grep "" network"" | sed -e ""s/.*network *| //"" -e ""s/ *| *$//""`",5,4
openstack%2Fvalidations-libs~master~I6a24e16c8350bba4d710f444d1c610523d23c00c,openstack/validations-libs,master,I6a24e16c8350bba4d710f444d1c610523d23c00c,Reintroducing content provider,ABANDONED,2022-01-05 10:50:11.000000000,2022-01-07 13:12:03.000000000,,"[{'_account_id': 11491}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-05 10:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e648eded999396c5873c61926632213129d9e5fd', 'message': 'DNM testing content provider\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6a24e16c8350bba4d710f444d1c610523d23c00c\n'}, {'number': 2, 'created': '2022-01-05 14:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/1a73884ee6b2b0d8e0e37114108fac8f63810eb9', 'message': ""Reintroducing content provider\n\nThe content provider job, removed because of redundancy,\nis now needed once again as we have multiple potential consumers.\n\nFurthermore, at least one CI issue could be resolved by it's addition.\n\nCloses-Bug: #1956234\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6a24e16c8350bba4d710f444d1c610523d23c00c\n""}, {'number': 3, 'created': '2022-01-05 14:15:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/e4d6f2037218572607956c582691b913a126de1e', 'message': 'Reintroducing content provider\n\nThe content provider job, removed because of redundancy,\nis now needed once again as we have multiple potential consumers.\n\nFurthermore, at least one CI issue could be resolved by its addition.\n\nCloses-Bug: #1956234\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I6a24e16c8350bba4d710f444d1c610523d23c00c\n'}]",0,823495,e4d6f2037218572607956c582691b913a126de1e,6,5,3,32926,,,0,"Reintroducing content provider

The content provider job, removed because of redundancy,
is now needed once again as we have multiple potential consumers.

Furthermore, at least one CI issue could be resolved by its addition.

Closes-Bug: #1956234

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I6a24e16c8350bba4d710f444d1c610523d23c00c
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/95/823495/3 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e648eded999396c5873c61926632213129d9e5fd,content-provider, - tripleo-ci-centos-8-content-provider: - tripleo-ci-centos-8-standalone-validation-libs: &consumer_job_params vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-undercloud-containers: *consumer_job_params - tripleo-ci-centos-8-standalone-validation-libs: *consumer_job_params - tripleo-ci-centos-8-undercloud-containers: *consumer_job_params, - tripleo-ci-centos-8-standalone-validation-libs: &standalone_consumer_job_params vars: &standalone_consumer_job_vars build_container_images: true - tripleo-ci-centos-8-undercloud-containers: &undercloud_containers_job_params dependencies: - openstack-tox-linters - openstack-tox-cover - validations-libs-functional - tripleo-ci-centos-8-standalone-validation-libs: vars: *standalone_consumer_job_vars dependencies: - openstack-tox-linters - validations-libs-functional - tripleo-ci-centos-8-undercloud-containers: dependencies: - openstack-tox-linters - validations-libs-functional,12,17
openstack%2Fopenstack-ansible~master~Icd2f9142f1717023a323da23452c6ea27291840c,openstack/openstack-ansible,master,Icd2f9142f1717023a323da23452c6ea27291840c,Explicitly make gather_subset a list instead of a string,ABANDONED,2022-01-04 23:21:00.000000000,2022-01-07 13:10:10.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-04 23:21:00.000000000', 'files': ['playbooks/common-tasks/gather-hardware-facts.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/e136832d882ca5a5950f39ec9c9083c086a52c93', 'message': 'Explicitly make gather_subset a list instead of a string\n\nAs of Ansible 2.11, the type of \'filter\' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].\nHowever, there are some corner cases when a simple string misbehaves and it happened in our ceph-install.yml[2] where ansible tries to create a list when it\'s not necessary:\n\n```\n""invocation"": {\n  ""module_args"": {\n    ""gather_subset"": [""!all"", ""network""],\n    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],\n    ""gather_timeout"": 10,\n    ""fact_path"": ""/etc/ansible/facts.d""\n  }\n}\n```\n\n[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter\n[2] https://opendev.org/openstack/openstack-ansible/src/commit/954567346e24c46a07d1f6d018ffb9e80ea7960d/playbooks/ceph-install.yml#L33\n\nChange-Id: Icd2f9142f1717023a323da23452c6ea27291840c\n'}]",2,823437,e136832d882ca5a5950f39ec9c9083c086a52c93,5,1,1,32666,,,0,"Explicitly make gather_subset a list instead of a string

As of Ansible 2.11, the type of 'filter' in setup module has changed from string to list and the default has became an empty list. A simple string is still accepted and works as a single pattern[1].
However, there are some corner cases when a simple string misbehaves and it happened in our ceph-install.yml[2] where ansible tries to create a list when it's not necessary:

```
""invocation"": {
  ""module_args"": {
    ""gather_subset"": [""!all"", ""network""],
    ""filter"": [""ansible_all_ipv[4"", ""6]_addresses""],
    ""gather_timeout"": 10,
    ""fact_path"": ""/etc/ansible/facts.d""
  }
}
```

[1] https://docs.ansible.com/ansible/latest/collections/ansible/builtin/setup_module.html#parameter-filter
[2] https://opendev.org/openstack/openstack-ansible/src/commit/954567346e24c46a07d1f6d018ffb9e80ea7960d/playbooks/ceph-install.yml#L33

Change-Id: Icd2f9142f1717023a323da23452c6ea27291840c
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/37/823437/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/common-tasks/gather-hardware-facts.yml'],1,e136832d882ca5a5950f39ec9c9083c086a52c93,," filter: - ""{{ deployment_extra_facts_filter }}"""," filter: ""{{ deployment_extra_facts_filter }}""",2,1
openstack%2Fkayobe~stable%2Fwallaby~Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,openstack/kayobe,stable/wallaby,Id789dede2d1886ef5ec66ebc86968d6cf62fa2de,Document that extra kernel parameters are important for inspection,MERGED,2021-11-30 08:44:55.000000000,2022-01-07 12:51:33.000000000,2022-01-07 12:49:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-11-30 08:44:55.000000000', 'files': ['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9ae0401fc2b7a8268359778a7e202f5c80fefcf0', 'message': 'Document that extra kernel parameters are important for inspection\n\nWhen customising kolla_bifrost_inspector_extra_kernel_options, for\nexample to define which console to use, operators should note that\nKayobe defines extra kernel parameters that are important for\ninspection, such as ipa-collect-lldp=1.\n\nChange-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de\n(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)\n'}]",2,819682,9ae0401fc2b7a8268359778a7e202f5c80fefcf0,14,3,1,15197,,,0,"Document that extra kernel parameters are important for inspection

When customising kolla_bifrost_inspector_extra_kernel_options, for
example to define which console to use, operators should note that
Kayobe defines extra kernel parameters that are important for
inspection, such as ipa-collect-lldp=1.

Change-Id: Id789dede2d1886ef5ec66ebc86968d6cf62fa2de
(cherry picked from commit 7ed91dd06613b36889597df0cd4a8792b43f1b61)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/82/819682/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/bifrost.yml', 'doc/source/configuration/reference/bifrost.rst', 'ansible/group_vars/all/bifrost']",3,9ae0401fc2b7a8268359778a7e202f5c80fefcf0,inspector-options-doc-stable/wallaby,"# Default is {{ inspector_extra_kernel_options }}, defined in inspector.yml. # When customising this variable, the default extra kernel parameters should be # kept to retain full node inspection capabilities.",,9,1
openstack%2Fkayobe~master~I90223a36ff3fc71585cb9302573154a5921041ff,openstack/kayobe,master,I90223a36ff3fc71585cb9302573154a5921041ff,Fix 'ModuleNotFoundError: No module named 'docker',MERGED,2021-11-23 18:27:06.000000000,2022-01-07 12:51:33.000000000,2022-01-07 12:49:51.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 18:27:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4f83f9b56848f60dc81e0ffde91055fd3271f364', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 2, 'created': '2021-11-29 16:34:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c27cc664ee4c0db97a9ba895daad6208bb33f77f', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}, {'number': 3, 'created': '2021-12-20 14:03:13.000000000', 'files': ['ansible/roles/ntp/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bf318310e6534c6074d15229c20555b459e517dd', 'message': ""Fix 'ModuleNotFoundError: No module named 'docker'\n\nIn some cases, for example with custom inventory, we still have an\nordering issue and shouldn't rely only on 'docker.service' check.\nWe should use 'docker rm' shell command prior 'Docker SDK for Python'\nis installed.\n\nChange-Id: I90223a36ff3fc71585cb9302573154a5921041ff\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",15,819009,bf318310e6534c6074d15229c20555b459e517dd,31,5,3,14200,,,0,"Fix 'ModuleNotFoundError: No module named 'docker'

In some cases, for example with custom inventory, we still have an
ordering issue and shouldn't rely only on 'docker.service' check.
We should use 'docker rm' shell command prior 'Docker SDK for Python'
is installed.

Change-Id: I90223a36ff3fc71585cb9302573154a5921041ff
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/09/819009/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/ntp/tasks/prepare.yml'],1,4f83f9b56848f60dc81e0ffde91055fd3271f364,docker-module-fail," shell: cmd: ""docker rm -f -v chrony"" executable: ""/bin/bash"" changed_when: false failed_when: false # to the kayobe target venv, so we use 'docker rm' command with force and don't # fail on error.", docker_container: name: chrony state: absent # to the kayobe target venv.,7,4
openstack%2Fkayobe~master~I0a2ff5caa01d54b1532d30d501b55ef23a6deff8,openstack/kayobe,master,I0a2ff5caa01d54b1532d30d501b55ef23a6deff8,Allow enable SNAT service on the seed hypervisor,MERGED,2021-12-04 23:11:07.000000000,2022-01-07 12:47:34.000000000,2022-01-07 12:45:44.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-04 23:11:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/6eae476eb36548309b272e6ca86589c3850caf19', 'message': 'Allow enable SNAT service on the seed hypervisor\n\nAdds an ability to enable SNAT service on the seed hypervisor.\n\nChange-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2021-12-09 23:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/39aaa105257cd6708f55758d6f3a6cd09b7261cb', 'message': 'Allow enable SNAT service on the seed hypervisor\n\nAdds an ability to enable SNAT service on the seed hypervisor.\n\nDepends-On: Ie42ab7a0dc9dd1ed1925b3a17134b3770ae8ba98\nChange-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2021-12-10 04:47:48.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/all/seed-hypervisor', 'ansible/group_vars/seed/snat', 'ansible/group_vars/seed-hypervisor/snat', 'etc/kayobe/seed-hypervisor.yml', 'kayobe/cli/commands.py', 'ansible/snat.yml', 'doc/source/configuration/reference/hosts.rst', 'ansible/ip-routing.yml', 'releasenotes/notes/seed-hypervisor-snat-3f4844bd1156bce9.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e10b52c588a6bbfe2dfe01d903e6080b3d50d693', 'message': 'Allow enable SNAT service on the seed hypervisor\n\nAdds an ability to enable SNAT service on the seed hypervisor.\n\nDepends-On: Ie42ab7a0dc9dd1ed1925b3a17134b3770ae8ba98\nChange-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",14,820450,e10b52c588a6bbfe2dfe01d903e6080b3d50d693,34,4,3,14200,,,0,"Allow enable SNAT service on the seed hypervisor

Adds an ability to enable SNAT service on the seed hypervisor.

Depends-On: Ie42ab7a0dc9dd1ed1925b3a17134b3770ae8ba98
Change-Id: I0a2ff5caa01d54b1532d30d501b55ef23a6deff8
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/50/820450/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all/seed-hypervisor', 'kayobe/tests/unit/cli/test_commands.py', 'ansible/group_vars/seed/snat', 'ansible/group_vars/seed-hypervisor/snat', 'etc/kayobe/seed-hypervisor.yml', 'kayobe/cli/commands.py', 'ansible/snat.yml', 'ansible/ip-routing.yml', 'releasenotes/notes/seed-hypervisor-snat-3f4844bd1156bce9.yaml']",9,6eae476eb36548309b272e6ca86589c3850caf19,seed-hypervisor-snat,--- features: - | Adds a new variable ``seed_hypervisor_enable_snat`` that allows users to enable SNAT service on the seed hypervisor. The default value is ``false``. ,,25,5
openstack%2Fkayobe~master~I113ed858fb87d3ace093a92bf52bb772f5142219,openstack/kayobe,master,I113ed858fb87d3ace093a92bf52bb772f5142219,dnf: Add support for state parameter in custom repos,MERGED,2021-12-22 17:51:46.000000000,2022-01-07 12:37:23.000000000,2022-01-07 12:35:50.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-12-22 17:51:46.000000000', 'files': ['releasenotes/notes/dnf-repo-state-39f6cc69d7a45faf.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/9d11a21928e938dbc5e95be09ca5b6da7b4a0b06', 'message': 'dnf: Add support for state parameter in custom repos\n\nThis allows us to remove repo files if necessary.\n\nChange-Id: I113ed858fb87d3ace093a92bf52bb772f5142219\n'}]",2,822753,9d11a21928e938dbc5e95be09ca5b6da7b4a0b06,16,3,1,14826,,,0,"dnf: Add support for state parameter in custom repos

This allows us to remove repo files if necessary.

Change-Id: I113ed858fb87d3ace093a92bf52bb772f5142219
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/53/822753/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/dnf-repo-state-39f6cc69d7a45faf.yaml', 'ansible/roles/dnf/tasks/custom-repo.yml']",2,9d11a21928e938dbc5e95be09ca5b6da7b4a0b06,," state: ""{{ item.value.state | default(omit)}}""",,6,0
openstack%2Fnetworking-ovn~stable%2Ftrain~I9b16a2772a547e6aed1febd481b2ef1f67f1ce37,openstack/networking-ovn,stable/train,I9b16a2772a547e6aed1febd481b2ef1f67f1ce37,[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood,MERGED,2022-01-05 17:14:01.000000000,2022-01-07 11:08:31.000000000,2022-01-07 11:06:48.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:14:01.000000000', 'files': ['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/367568187ad073f4f47335e00386491968aa5de5', 'message': '[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood\n\nThe patch [0] changed the value of the ""mcast_flood"" option for the\nlocalnet ports in OVN to ""false"" to avoid multicast packet duplication\nbut, the maintenance task check_for_mcast_flood_reports() was never\nupdated to account for that change.\n\nSo, localnet ports created prior to [0] would continue to have the\n""mcast_flood"" value as ""true"" and new ports would have it as ""false"".\nThis patch fixes the maintenance task.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/797418\n\n(cherry picked from Neutron d02fb560aa35c4931d40000e8ca4c0e4105299b7)\n\nCloses-Bug: #1949081\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\nChange-Id: I9b16a2772a547e6aed1febd481b2ef1f67f1ce37\n'}]",1,823569,367568187ad073f4f47335e00386491968aa5de5,9,3,1,6773,,,0,"[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood

The patch [0] changed the value of the ""mcast_flood"" option for the
localnet ports in OVN to ""false"" to avoid multicast packet duplication
but, the maintenance task check_for_mcast_flood_reports() was never
updated to account for that change.

So, localnet ports created prior to [0] would continue to have the
""mcast_flood"" value as ""true"" and new ports would have it as ""false"".
This patch fixes the maintenance task.

[0] https://review.opendev.org/c/openstack/neutron/+/797418

(cherry picked from Neutron d02fb560aa35c4931d40000e8ca4c0e4105299b7)

Closes-Bug: #1949081
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
Change-Id: I9b16a2772a547e6aed1febd481b2ef1f67f1ce37
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/69/823569/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/common/test_maintenance.py']",2,367568187ad073f4f47335e00386491968aa5de5,," 'options': { constants.LSP_OPTIONS_MCAST_FLOOD_REPORTS: 'true'}, lsp6 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'lsp6', 'options': { constants.LSP_OPTIONS_MCAST_FLOOD_REPORTS: 'true', constants.LSP_OPTIONS_MCAST_FLOOD: 'true'}, 'type': 'localnet'}) lsp7 = fakes.FakeOvsdbRow.create_one_ovsdb_row( attrs={'name': 'lsp7', 'options': { constants.LSP_OPTIONS_MCAST_FLOOD_REPORTS: 'true', constants.LSP_OPTIONS_MCAST_FLOOD: 'false'}, 'type': 'localnet'}) lsp0, lsp1, lsp2, lsp3, lsp4, lsp5, lsp6, lsp7] # Assert only lsp1, lsp5 and lsp6 were called because they are the # only ones meeting the criteria mock.call('lsp5', mcast_flood_reports='true', mcast_flood='false'), mock.call('lsp6', mcast_flood_reports='true', mcast_flood='false')]"," 'options': {'mcast_flood_reports': 'true'}, lsp0, lsp1, lsp2, lsp3, lsp4, lsp5] # Assert only lsp1 and lsp5 were called because they are the only # ones meeting the criteria (""mcast_flood_reports"" not yet set, # and type """" or localnet) mock.call('lsp5', mcast_flood_reports='true', mcast_flood='false')]",27,11
openstack%2Fdevstack~master~I1e7375578342a82717222e902fcd65a4a62e33a7,openstack/devstack,master,I1e7375578342a82717222e902fcd65a4a62e33a7,Fix public subnet creation command,MERGED,2022-01-06 17:03:52.000000000,2022-01-07 10:38:05.000000000,2022-01-07 10:36:23.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 17:03:52.000000000', 'files': ['lib/neutron_plugins/services/l3'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4448f243f396c502e34fda5bb148ba0224f934e7', 'message': 'Fix public subnet creation command\n\nThere was no space after the --project option in the command that\ncreates the public subnet, thus if any option follows, the option itself\nwill be parsed as part of the value passed to the --project option. This\nchange just adds the missing space.\n\nChange-Id: I1e7375578342a82717222e902fcd65a4a62e33a7\n'}]",2,823720,4448f243f396c502e34fda5bb148ba0224f934e7,11,2,1,32411,,,0,"Fix public subnet creation command

There was no space after the --project option in the command that
creates the public subnet, thus if any option follows, the option itself
will be parsed as part of the value passed to the --project option. This
change just adds the missing space.

Change-Id: I1e7375578342a82717222e902fcd65a4a62e33a7
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/823720/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/neutron_plugins/services/l3'],1,4448f243f396c502e34fda5bb148ba0224f934e7,," local subnet_params=""--ip-version 4 --project $admin_project_id """," local subnet_params=""--ip-version 4 --project $admin_project_id""",1,1
openstack%2Fneutron~stable%2Fwallaby~Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,openstack/neutron,stable/wallaby,Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood,MERGED,2022-01-05 17:06:46.000000000,2022-01-07 10:32:29.000000000,2022-01-07 10:30:20.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:06:46.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/30e4bfbeaf9f3cd750dd1194845d76e9366ebe79', 'message': '[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood\n\nThe patch [0] changed the value of the ""mcast_flood"" option for the\nlocalnet ports in OVN to ""false"" to avoid multicast packet duplication\nbut, the maintenance task check_for_mcast_flood_reports() was never\nupdated to account for that change.\n\nSo, localnet ports created prior to [0] would continue to have the\n""mcast_flood"" value as ""true"" and new ports would have it as ""false"".\nThis patch fixes the maintenance task.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/797418\n\nChange-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2\nCloses-Bug: #1949081\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)\n'}]",0,823567,30e4bfbeaf9f3cd750dd1194845d76e9366ebe79,9,3,1,6773,,,0,"[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood

The patch [0] changed the value of the ""mcast_flood"" option for the
localnet ports in OVN to ""false"" to avoid multicast packet duplication
but, the maintenance task check_for_mcast_flood_reports() was never
updated to account for that change.

So, localnet ports created prior to [0] would continue to have the
""mcast_flood"" value as ""true"" and new ports would have it as ""false"".
This patch fixes the maintenance task.

[0] https://review.opendev.org/c/openstack/neutron/+/797418

Change-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2
Closes-Bug: #1949081
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/823567/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,30e4bfbeaf9f3cd750dd1194845d76e9366ebe79,, # TODO(lucasagomes): Remove this in the Z cycle if port_type == ovn_const.LSP_TYPE_LOCALNET: mcast_flood_value = options.get( ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS) if mcast_flood_value == 'false': continue options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) elif ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options:, # TODO(lucasagomes): Remove this in the Y cycle if ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options: if port_type == ovn_const.LSP_TYPE_LOCALNET: options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) ,27,11
openstack%2Fneutron~stable%2Fussuri~Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,openstack/neutron,stable/ussuri,Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood,MERGED,2022-01-05 17:06:10.000000000,2022-01-07 10:32:18.000000000,2022-01-07 10:30:14.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:06:10.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/3113930ac76f33afc3b6becab2081419a6a1bf22', 'message': '[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood\n\nThe patch [0] changed the value of the ""mcast_flood"" option for the\nlocalnet ports in OVN to ""false"" to avoid multicast packet duplication\nbut, the maintenance task check_for_mcast_flood_reports() was never\nupdated to account for that change.\n\nSo, localnet ports created prior to [0] would continue to have the\n""mcast_flood"" value as ""true"" and new ports would have it as ""false"".\nThis patch fixes the maintenance task.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/797418\n\nChange-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2\nCloses-Bug: #1949081\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)\n'}]",1,823565,3113930ac76f33afc3b6becab2081419a6a1bf22,9,3,1,6773,,,0,"[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood

The patch [0] changed the value of the ""mcast_flood"" option for the
localnet ports in OVN to ""false"" to avoid multicast packet duplication
but, the maintenance task check_for_mcast_flood_reports() was never
updated to account for that change.

So, localnet ports created prior to [0] would continue to have the
""mcast_flood"" value as ""true"" and new ports would have it as ""false"".
This patch fixes the maintenance task.

[0] https://review.opendev.org/c/openstack/neutron/+/797418

Change-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2
Closes-Bug: #1949081
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/65/823565/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,3113930ac76f33afc3b6becab2081419a6a1bf22,, # TODO(lucasagomes): Remove this in the Z cycle if port_type == ovn_const.LSP_TYPE_LOCALNET: mcast_flood_value = options.get( ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS) if mcast_flood_value == 'false': continue options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) elif ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options:, # TODO(lucasagomes): Remove this in the Y cycle if ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options: if port_type == ovn_const.LSP_TYPE_LOCALNET: options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) ,27,11
openstack%2Fneutron~stable%2Fvictoria~Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,openstack/neutron,stable/victoria,Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood,MERGED,2022-01-05 17:06:31.000000000,2022-01-07 10:32:17.000000000,2022-01-07 10:30:09.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:06:31.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c986caa2997c7221a7a4adf96beda6d06763f150', 'message': '[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood\n\nThe patch [0] changed the value of the ""mcast_flood"" option for the\nlocalnet ports in OVN to ""false"" to avoid multicast packet duplication\nbut, the maintenance task check_for_mcast_flood_reports() was never\nupdated to account for that change.\n\nSo, localnet ports created prior to [0] would continue to have the\n""mcast_flood"" value as ""true"" and new ports would have it as ""false"".\nThis patch fixes the maintenance task.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/797418\n\nChange-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2\nCloses-Bug: #1949081\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)\n'}]",2,823566,c986caa2997c7221a7a4adf96beda6d06763f150,11,3,1,6773,,,0,"[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood

The patch [0] changed the value of the ""mcast_flood"" option for the
localnet ports in OVN to ""false"" to avoid multicast packet duplication
but, the maintenance task check_for_mcast_flood_reports() was never
updated to account for that change.

So, localnet ports created prior to [0] would continue to have the
""mcast_flood"" value as ""true"" and new ports would have it as ""false"".
This patch fixes the maintenance task.

[0] https://review.opendev.org/c/openstack/neutron/+/797418

Change-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2
Closes-Bug: #1949081
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/66/823566/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,c986caa2997c7221a7a4adf96beda6d06763f150,, # TODO(lucasagomes): Remove this in the Z cycle if port_type == ovn_const.LSP_TYPE_LOCALNET: mcast_flood_value = options.get( ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS) if mcast_flood_value == 'false': continue options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) elif ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options:, # TODO(lucasagomes): Remove this in the Y cycle if ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options: if port_type == ovn_const.LSP_TYPE_LOCALNET: options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) ,27,11
openstack%2Fironic~master~I10ca0a32b407a7f9d60827b4bde799a1688f5c1a,openstack/ironic,master,I10ca0a32b407a7f9d60827b4bde799a1688f5c1a,[doc] Add parameters for burn-in log files,MERGED,2021-12-09 18:22:42.000000000,2022-01-07 10:29:47.000000000,2022-01-07 10:27:37.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 32291}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-09 18:22:42.000000000', 'files': ['doc/source/admin/hardware-burn-in.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82c8afb6aef63f0d62fb86a66eac2f429d652378', 'message': '[doc] Add parameters for burn-in log files\n\nAdd the options to log the various burn-in steps to a file to the\ndocumentation.\n\nChange-Id: I10ca0a32b407a7f9d60827b4bde799a1688f5c1a\n'}]",2,821272,82c8afb6aef63f0d62fb86a66eac2f429d652378,12,5,1,11292,,,0,"[doc] Add parameters for burn-in log files

Add the options to log the various burn-in steps to a file to the
documentation.

Change-Id: I10ca0a32b407a7f9d60827b4bde799a1688f5c1a
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/821272/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/hardware-burn-in.rst'],1,82c8afb6aef63f0d62fb86a66eac2f429d652378,doc_burnin_logfiles,"Logging ======= Since most of the burn-in steps are also providing information about the performance of the stressed components, keeping this information for verification or acceptance purposes may be desirable. By default, the output of the burn-in tools goes to the journal of the Ironic Python Agent and is therefore sent back as an archive to the conductor. In order to consume the output of the burn-in steps more easily, or even in real-time, the nodes can be configured to store the output of the individual steps to files in the ramdisk (from where they can be picked up by a logging pipeline). The configuration of the outpout file is done via one of ``agent_burnin_cpu_outputfile``, ``agent_burnin_vm_outputfile``, ``agent_burnin_fio_disk_outputfile``, and ``agent_burnin_fio_network_outputfile`` parameters which need to be added to a node like: .. code-block:: console baremetal node set --driver-info agent_burnin_cpu_outputfile=\ '/var/log/burnin.cpu' $NODE_NAME_OR_UUID ",,24,0
openstack%2Fkolla-ansible~master~If2dba2fc0adcb8587f5a12adb4e8c5e21824586a,openstack/kolla-ansible,master,If2dba2fc0adcb8587f5a12adb4e8c5e21824586a,Use Docker healthchecks for solum services,MERGED,2021-03-09 02:04:41.000000000,2022-01-07 10:24:14.000000000,2022-01-07 10:22:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32231}]","[{'number': 1, 'created': '2021-03-09 02:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6fc1a4566e5c4c0e19c0816b32e220cfa66f6a1e', 'message': 'Use Docker healthchecks for solum services\n\nThis change enables the use of Docker healthchecks for solum services.\nImplements: blueprint container-health-check\n\nChange-Id: If2dba2fc0adcb8587f5a12adb4e8c5e21824586a\n'}, {'number': 2, 'created': '2021-03-09 14:11:50.000000000', 'files': ['ansible/roles/solum/handlers/main.yml', 'ansible/roles/solum/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-solum-cea175134943ee4a.yaml', 'ansible/roles/solum/tasks/check-containers.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f7536fad5efe7395a8806e29b1794c1f5ea2f8a8', 'message': 'Use Docker healthchecks for solum services\n\nThis change enables the use of Docker healthchecks for solum services.\nImplements: blueprint container-health-check\n\nChange-Id: If2dba2fc0adcb8587f5a12adb4e8c5e21824586a\n'}]",1,779414,f7536fad5efe7395a8806e29b1794c1f5ea2f8a8,15,4,2,26285,,,0,"Use Docker healthchecks for solum services

This change enables the use of Docker healthchecks for solum services.
Implements: blueprint container-health-check

Change-Id: If2dba2fc0adcb8587f5a12adb4e8c5e21824586a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/779414/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/solum/handlers/main.yml', 'ansible/roles/solum/defaults/main.yml', 'releasenotes/notes/implement-docker-healthchecks-for-solum-cea175134943ee4a.yaml', 'ansible/roles/solum/tasks/check-containers.yml']",4,6fc1a4566e5c4c0e19c0816b32e220cfa66f6a1e,container-health-check," healthcheck: ""{{ item.value.healthcheck | default(omit) }}""",,68,0
openstack%2Fkolla-ansible~master~I2e6b6ecd3717ff0811b47892aad406376c89a18c,openstack/kolla-ansible,master,I2e6b6ecd3717ff0811b47892aad406376c89a18c,docs: adjust to current defaults,MERGED,2022-01-03 09:15:29.000000000,2022-01-07 10:17:32.000000000,2022-01-07 10:14:16.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-03 09:15:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2793c6f56b8378afc0f730d7e3ea42280e585677', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n'}, {'number': 2, 'created': '2022-01-03 21:11:41.000000000', 'files': ['doc/source/admin/mariadb-backup-and-restore.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aaf06fb2a08bfceab3e85947b83475190de2e4f0', 'message': 'docs: adjust to current defaults\n\nChange-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c\n'}]",6,823258,aaf06fb2a08bfceab3e85947b83475190de2e4f0,16,4,2,32657,,,0,"docs: adjust to current defaults

Change-Id: I2e6b6ecd3717ff0811b47892aad406376c89a18c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/823258/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/mariadb-backup-and-restore.rst'],1,2793c6f56b8378afc0f730d7e3ea42280e585677,, quay.io/openstack.kolla/centos-source-mariadb-server:master \, kolla/centos-binary-mariadb:train \,1,1
openstack%2Fkolla-ansible~master~I751bfe64d47935f183ff2ca891ec56f61e618009,openstack/kolla-ansible,master,I751bfe64d47935f183ff2ca891ec56f61e618009,Remove obsolete opt from cinder.conf,MERGED,2022-01-04 14:16:38.000000000,2022-01-07 10:16:07.000000000,2022-01-07 10:14:13.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-04 14:16:38.000000000', 'files': ['ansible/roles/cinder/templates/cinder.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87a74258398cbf4323e776a5a61d104dde4f5def', 'message': 'Remove obsolete opt from cinder.conf\n\nglance_api_version and os_region_name are removed from cinder.\nsee: https://docs.openstack.org/cinder/xena/configuration/block-storage/samples/cinder.conf.html\n\nCloses-Bug: #1830997\nChange-Id: I751bfe64d47935f183ff2ca891ec56f61e618009\n'}]",0,823396,87a74258398cbf4323e776a5a61d104dde4f5def,9,3,1,26285,,,0,"Remove obsolete opt from cinder.conf

glance_api_version and os_region_name are removed from cinder.
see: https://docs.openstack.org/cinder/xena/configuration/block-storage/samples/cinder.conf.html

Closes-Bug: #1830997
Change-Id: I751bfe64d47935f183ff2ca891ec56f61e618009
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/823396/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/cinder/templates/cinder.conf.j2'],1,87a74258398cbf4323e776a5a61d104dde4f5def,bug/1830997,,glance_api_version = 2os_region_name = {{ openstack_region_name }} ,0,3
openstack%2Fdevstack~master~I10eda08fa4e0bd5c9d69c16df776b8575ca6772a,openstack/devstack,master,I10eda08fa4e0bd5c9d69c16df776b8575ca6772a,"Revert ""Add option to set chap algorithms for iscsid for FIPS""",ABANDONED,2022-01-04 08:03:22.000000000,2022-01-07 10:04:26.000000000,,"[{'_account_id': 5263}, {'_account_id': 9914}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-04 08:03:22.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/e9162e9ad2015b4f546fc150b6d8b64037b251e8', 'message': 'Revert ""Add option to set chap algorithms for iscsid for FIPS""\n\nThis reverts commit c3b7051387d4332f956148c5676383499fa31859.\n\nReason for revert: Seems to break openeuler\n\nChange-Id: I10eda08fa4e0bd5c9d69c16df776b8575ca6772a\n'}]",6,823303,e9162e9ad2015b4f546fc150b6d8b64037b251e8,11,7,1,13252,,,0,"Revert ""Add option to set chap algorithms for iscsid for FIPS""

This reverts commit c3b7051387d4332f956148c5676383499fa31859.

Reason for revert: Seems to break openeuler

Change-Id: I10eda08fa4e0bd5c9d69c16df776b8575ca6772a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/03/823303/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,e9162e9ad2015b4f546fc150b6d8b64037b251e8,add_fips_job,," # set chap algorithms. The default chap_algorithm is md5 which will # not work under FIPS iniset -sudo /etc/iscsi/iscsid.conf DEFAULT ""node.session.auth.chap_algs"" ""SHA3-256,SHA256"" ",0,4
openstack%2Fneutron~stable%2Fxena~Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,openstack/neutron,stable/xena,Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2,[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood,MERGED,2022-01-05 17:04:38.000000000,2022-01-07 09:57:18.000000000,2022-01-07 09:55:41.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-05 17:04:38.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/09f713d5d50307eeead575d377fdb38711691045', 'message': '[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood\n\nThe patch [0] changed the value of the ""mcast_flood"" option for the\nlocalnet ports in OVN to ""false"" to avoid multicast packet duplication\nbut, the maintenance task check_for_mcast_flood_reports() was never\nupdated to account for that change.\n\nSo, localnet ports created prior to [0] would continue to have the\n""mcast_flood"" value as ""true"" and new ports would have it as ""false"".\nThis patch fixes the maintenance task.\n\n[0] https://review.opendev.org/c/openstack/neutron/+/797418\n\nChange-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2\nCloses-Bug: #1949081\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)\n'}]",1,823564,09f713d5d50307eeead575d377fdb38711691045,9,3,1,6773,,,0,"[OVN] Update check_for_mcast_flood_reports() to check for mcast_flood

The patch [0] changed the value of the ""mcast_flood"" option for the
localnet ports in OVN to ""false"" to avoid multicast packet duplication
but, the maintenance task check_for_mcast_flood_reports() was never
updated to account for that change.

So, localnet ports created prior to [0] would continue to have the
""mcast_flood"" value as ""true"" and new ports would have it as ""false"".
This patch fixes the maintenance task.

[0] https://review.opendev.org/c/openstack/neutron/+/797418

Change-Id: Ib90704a85c9ed659d71ac8ed42b1b542bd2496a2
Closes-Bug: #1949081
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit d02fb560aa35c4931d40000e8ca4c0e4105299b7)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/823564/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",2,09f713d5d50307eeead575d377fdb38711691045,, # TODO(lucasagomes): Remove this in the Z cycle if port_type == ovn_const.LSP_TYPE_LOCALNET: mcast_flood_value = options.get( ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS) if mcast_flood_value == 'false': continue options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) elif ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options:, # TODO(lucasagomes): Remove this in the Y cycle if ovn_const.LSP_OPTIONS_MCAST_FLOOD_REPORTS in options: if port_type == ovn_const.LSP_TYPE_LOCALNET: options.update({ovn_const.LSP_OPTIONS_MCAST_FLOOD: 'false'}) ,27,11
openstack%2Fosops~master~I4ffecb21079c04ca1a7976bea06544dad271d851,openstack/osops,master,I4ffecb21079c04ca1a7976bea06544dad271d851,[fix] false positive on nova-services,NEW,2022-01-06 13:33:41.000000000,2022-01-07 09:43:54.000000000,,"[{'_account_id': 11583}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:33:41.000000000', 'files': ['tools/monitoring/nagios-plugins/nova-services.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/08de36aaee61172787d7285e371cb40c0cae80dc', 'message': '[fix] false positive on nova-services\n\nNova-services have a false positive due to index of return table contain\nthe word ""down"" for column ""Forced down""\n\nTested on Xena\n\nStory: 2008299\nTask: 41184\n\nChange-Id: I4ffecb21079c04ca1a7976bea06544dad271d851\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,823692,08de36aaee61172787d7285e371cb40c0cae80dc,3,3,1,16339,,,0,"[fix] false positive on nova-services

Nova-services have a false positive due to index of return table contain
the word ""down"" for column ""Forced down""

Tested on Xena

Story: 2008299
Task: 41184

Change-Id: I4ffecb21079c04ca1a7976bea06544dad271d851
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/92/823692/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/monitoring/nagios-plugins/nova-services.sh'],1,08de36aaee61172787d7285e371cb40c0cae80dc,fixnovaservice,output=$(nova service-list | tail -n +3 | grep down),output=$(nova service-list | grep down),1,1
openstack%2Fosops~master~I97f46310cbf4935f113100f0e10a4e2965eee714,openstack/osops,master,I97f46310cbf4935f113100f0e10a4e2965eee714,[fix] glance nagios,NEW,2022-01-06 13:08:17.000000000,2022-01-07 09:43:47.000000000,,"[{'_account_id': 11583}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 13:08:17.000000000', 'files': ['tools/monitoring/nagios-plugins/glance-list.sh'], 'web_link': 'https://opendev.org/openstack/osops/commit/e37254d50ccafc7c9cac9b5ebffea87e3ba49c56', 'message': '[fix] glance nagios\n\nglance cli is now replaced by openstack image.\n\nTested on Xena\n\nStory: 2008299\nTask: 41184\n\nChange-Id: I97f46310cbf4935f113100f0e10a4e2965eee714\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\n'}]",0,823687,e37254d50ccafc7c9cac9b5ebffea87e3ba49c56,3,3,1,16339,,,0,"[fix] glance nagios

glance cli is now replaced by openstack image.

Tested on Xena

Story: 2008299
Task: 41184

Change-Id: I97f46310cbf4935f113100f0e10a4e2965eee714
Signed-off-by: Cyril Lopez <cylopez@redhat.com>
",git fetch https://review.opendev.org/openstack/osops refs/changes/87/823687/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/monitoring/nagios-plugins/glance-list.sh'],1,e37254d50ccafc7c9cac9b5ebffea87e3ba49c56,fixglancelist,"if [ -e ~/openrc ]; then source ~/openrc fiopenstack image list | grep -q ""${image}""","source ~/openrcglance image-list | grep -q ""${image}""",4,2
openstack%2Fkolla-ansible~stable%2Ftrain~Ia861485fbdeceea299fb5ee20f53f76e283ac40a,openstack/kolla-ansible,stable/train,Ia861485fbdeceea299fb5ee20f53f76e283ac40a,Disable Stein to Train upgrade jobs,MERGED,2022-01-06 13:38:34.000000000,2022-01-07 09:15:54.000000000,2022-01-07 09:08:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-06 13:38:34.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c63c4468e7538cc3cf326e0dac4b1bd03d81981e', 'message': 'Disable Stein to Train upgrade jobs\n\nStein is now EOL and is failing to deploy, preventing changes to be\nmerged to Train.\n\nChange-Id: Ia861485fbdeceea299fb5ee20f53f76e283ac40a\n'}]",1,823693,c63c4468e7538cc3cf326e0dac4b1bd03d81981e,8,3,1,15197,,,0,"Disable Stein to Train upgrade jobs

Stein is now EOL and is failing to deploy, preventing changes to be
merged to Train.

Change-Id: Ia861485fbdeceea299fb5ee20f53f76e283ac40a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/823693/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c63c4468e7538cc3cf326e0dac4b1bd03d81981e,,, - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade - kolla-ansible-centos-source-upgrade-ceph - kolla-ansible-ubuntu-source-upgrade-ceph - kolla-ansible-centos-source-upgrade - kolla-ansible-ubuntu-source-upgrade,0,6
openstack%2Fkolla-ansible~master~Idc54c78c618ae90b4d933c2c401bb1789b0abd36,openstack/kolla-ansible,master,Idc54c78c618ae90b4d933c2c401bb1789b0abd36,bifrost: preempt change in defaults for TFTP and HTTP boot paths,MERGED,2021-12-23 10:23:29.000000000,2022-01-07 09:15:45.000000000,2022-01-07 09:08:56.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 26285}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-12-23 10:23:29.000000000', 'files': ['ansible/roles/bifrost/templates/bifrost.yml.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9e89af6f5916dd119b877653819163bef273cca4', 'message': 'bifrost: preempt change in defaults for TFTP and HTTP boot paths\n\nBifrost in Yoga will change the default TFTP and HTTP boot directories\nto reside under /var/lib/ironic/. We already avoid the cross-filesystem\nlinking issue that the patch aims to address, by overriding\ntftp_master_path. Avoid this breaking us by reverting to the previous\ndefaults.\n\nNeeded-By: https://review.opendev.org/c/openstack/bifrost/+/822743\n\nChange-Id: Idc54c78c618ae90b4d933c2c401bb1789b0abd36\n'}]",1,822811,9e89af6f5916dd119b877653819163bef273cca4,12,5,1,14826,,,0,"bifrost: preempt change in defaults for TFTP and HTTP boot paths

Bifrost in Yoga will change the default TFTP and HTTP boot directories
to reside under /var/lib/ironic/. We already avoid the cross-filesystem
linking issue that the patch aims to address, by overriding
tftp_master_path. Avoid this breaking us by reverting to the previous
defaults.

Needed-By: https://review.opendev.org/c/openstack/bifrost/+/822743

Change-Id: Idc54c78c618ae90b4d933c2c401bb1789b0abd36
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/11/822811/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/bifrost/templates/bifrost.yml.j2'],1,9e89af6f5916dd119b877653819163bef273cca4,," # Bifrost in Yoga changed the default TFTP and HTTP boot directories to reside # under /var/lib/ironic/. Avoid this breaking us by reverting to the previous # defaults. https://review.opendev.org/c/openstack/bifrost/+/822743 tftp_boot_folder: ""/tftpboot"" http_boot_folder: ""/httpboot""",,6,0
openstack%2Fkolla~master~I9e80d18c806a8eafe03b40e680b6b642661db416,openstack/kolla,master,I9e80d18c806a8eafe03b40e680b6b642661db416,Add ironic-ui to ubuntu binary,ABANDONED,2017-03-09 09:06:06.000000000,2022-01-07 08:46:24.000000000,,"[{'_account_id': 24}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26431}, {'_account_id': 27661}]","[{'number': 1, 'created': '2017-03-09 09:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6fa583a50bda2d21f01552e762cf8459b786559', 'message': '[NO MERGE] ironic-ui ubuntu binary\n\nIronic-ui package is only released for zetsty\nhttp://packages.ubuntu.com/zesty/python-ironic-ui\n\nWait until is available to install.\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}, {'number': 2, 'created': '2017-04-27 11:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/41358024cd537fbfb31e6ac1b32f7bdf7e088466', 'message': '[NO MERGE] ironic-ui ubuntu binary\n\nIronic-ui package is only released for zetsty\nhttp://packages.ubuntu.com/zesty/python-ironic-ui\n\nWait until is available to install.\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}, {'number': 3, 'created': '2018-07-26 20:23:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/82feb40cd9f5361d40d79bcfe40acfdb613eddf5', 'message': '[NO MERGE] ironic-ui ubuntu binary\n\nIronic-ui package is only released for zetsty\nhttp://packages.ubuntu.com/zesty/python-ironic-ui\n\nWait until is available to install.\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}, {'number': 4, 'created': '2018-07-27 06:19:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e59e2bfbc11620330487448eed7a51844e75c30', 'message': 'Add ironic-ui to ubuntu binary\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}, {'number': 5, 'created': '2018-10-23 08:00:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/af6e4cecc40afd3d478e1f1f3ea8a5b7f4b35830', 'message': 'Add ironic-ui to ubuntu binary\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}, {'number': 6, 'created': '2018-11-06 07:27:17.000000000', 'files': ['docker/horizon/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/9e94b00ceaa87c767eb0e36a1750f25f0c26132a', 'message': 'Add ironic-ui to ubuntu binary\n\nChange-Id: I9e80d18c806a8eafe03b40e680b6b642661db416\n'}]",2,443521,9e94b00ceaa87c767eb0e36a1750f25f0c26132a,48,10,6,19316,,,0,"Add ironic-ui to ubuntu binary

Change-Id: I9e80d18c806a8eafe03b40e680b6b642661db416
",git fetch https://review.opendev.org/openstack/kolla refs/changes/21/443521/6 && git format-patch -1 --stdout FETCH_HEAD,['docker/horizon/Dockerfile.j2'],1,d6fa583a50bda2d21f01552e762cf8459b786559,ironic-ui-ubuntu," 'python-ironic-ui',",,1,0
openstack%2Fpuppet-designate~stable%2Fxena~I2fc87d6a4a166779e34210a377c99b313a0f1b97,openstack/puppet-designate,stable/xena,I2fc87d6a4a166779e34210a377c99b313a0f1b97,Add Designate API WSGI support,MERGED,2022-01-06 15:04:18.000000000,2022-01-07 07:41:39.000000000,2022-01-07 07:40:23.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 15:04:18.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/designate-api-wsgi-b7a408ecc00f3001.yaml', 'manifests/api.pp', 'manifests/params.pp', 'spec/classes/designate_api_spec.rb', 'spec/classes/designate_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/9a50eb57b41fd6e3b718fbc4b7cea8e7a18ddb3a', 'message': 'Add Designate API WSGI support\n\nAdd support for running the Designate API under WSGI with Apache.\n\nConflicts:\n  manifests/api.pp\n\nChange-Id: I2fc87d6a4a166779e34210a377c99b313a0f1b97\n(cherry picked from commit 1288b062e8f0ac88eea9eb6e83ba6cffd119c982)\n'}]",0,823702,9a50eb57b41fd6e3b718fbc4b7cea8e7a18ddb3a,8,3,1,6681,,,0,"Add Designate API WSGI support

Add support for running the Designate API under WSGI with Apache.

Conflicts:
  manifests/api.pp

Change-Id: I2fc87d6a4a166779e34210a377c99b313a0f1b97
(cherry picked from commit 1288b062e8f0ac88eea9eb6e83ba6cffd119c982)
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/02/823702/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/designate-api-wsgi-b7a408ecc00f3001.yaml', 'manifests/api.pp', 'manifests/params.pp', 'spec/classes/designate_api_spec.rb', 'spec/classes/designate_wsgi_apache_spec.rb']",6,9a50eb57b41fd6e3b718fbc4b7cea8e7a18ddb3a,designate-apache-xena,"require 'spec_helper' describe 'designate::wsgi::apache' do shared_examples_for 'apache serving designate with mod_wsgi' do context 'with default parameters' do it { is_expected.to contain_class('designate::params') } it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to_not contain_class('apache::mod::ssl') } it { is_expected.to contain_openstacklib__wsgi__apache('designate_wsgi').with( :bind_port => 9001, :group => 'designate', :path => '/', :servername => facts[:fqdn], :ssl => false, :threads => 1, :user => 'designate', :workers => facts[:os_workers], :wsgi_daemon_process => 'designate', :wsgi_process_group => 'designate', :wsgi_script_dir => platform_params[:wsgi_script_path], :wsgi_script_file => 'app', :wsgi_script_source => platform_params[:wsgi_script_source], :custom_wsgi_process_options => {}, :access_log_file => false, :access_log_format => false, )} end context 'when overriding parameters using different ports' do let :params do { :servername => 'dummy.host', :bind_host => '10.42.51.1', :port => 12345, :ssl => true, :wsgi_process_display_name => 'designate', :workers => 37, :custom_wsgi_process_options => { 'python_path' => '/my/python/path', }, :access_log_file => '/var/log/httpd/access_log', :access_log_format => 'some format', :error_log_file => '/var/log/httpd/error_log', :vhost_custom_fragment => 'Timeout 99' } end it { is_expected.to contain_class('designate::params') } it { is_expected.to contain_class('apache') } it { is_expected.to contain_class('apache::mod::wsgi') } it { is_expected.to contain_class('apache::mod::ssl') } it { is_expected.to contain_openstacklib__wsgi__apache('designate_wsgi').with( :bind_host => '10.42.51.1', :bind_port => 12345, :group => 'designate', :path => '/', :servername => 'dummy.host', :ssl => true, :threads => 1, :user => 'designate', :workers => 37, :vhost_custom_fragment => 'Timeout 99', :wsgi_daemon_process => 'designate', :wsgi_process_display_name => 'designate', :wsgi_process_group => 'designate', :wsgi_script_dir => platform_params[:wsgi_script_path], :wsgi_script_file => 'app', :wsgi_script_source => platform_params[:wsgi_script_source], :custom_wsgi_process_options => { 'python_path' => '/my/python/path', }, :access_log_file => '/var/log/httpd/access_log', :access_log_format => 'some format', :error_log_file => '/var/log/httpd/error_log' )} end end on_supported_os({ :supported_os => OSDefaults.get_supported_os }).each do |os,facts| context ""on #{os}"" do let (:facts) do facts.merge!(OSDefaults.get_facts({ :os_workers => 8, :concat_basedir => '/var/lib/puppet/concat', :fqdn => 'some.host.tld' })) end let(:platform_params) do case facts[:osfamily] when 'Debian' { :httpd_service_name => 'apache2', :httpd_ports_file => '/etc/apache2/ports.conf', :wsgi_script_path => '/usr/lib/cgi-bin/designate', :wsgi_script_source => '/usr/bin/designate-api-wsgi' } when 'RedHat' { :httpd_service_name => 'httpd', :httpd_ports_file => '/etc/httpd/conf/ports.conf', :wsgi_script_path => '/var/www/cgi-bin/designate', :wsgi_script_source => '/usr/bin/designate-api-wsgi' } end end it_configures 'apache serving designate with mod_wsgi' end end end ",,363,19
openstack%2Frequirements~master~Id018b46f980abd6953b3c0f2603534884cd5894c,openstack/requirements,master,Id018b46f980abd6953b3c0f2603534884cd5894c,Updated from generate-constraints,MERGED,2022-01-07 02:48:31.000000000,2022-01-07 06:38:35.000000000,2022-01-07 06:37:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 02:48:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/b90cf89caea7aa79695247572a750d184ba8d058', 'message': 'Updated from generate-constraints\n\nChange-Id: Id018b46f980abd6953b3c0f2603534884cd5894c\n'}, {'number': 2, 'created': '2022-01-07 03:10:43.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ceb2d650b53465c7ef6274f4ff20305a928e9639', 'message': 'Updated from generate-constraints\n\nChange-Id: Id018b46f980abd6953b3c0f2603534884cd5894c\n'}]",0,823743,ceb2d650b53465c7ef6274f4ff20305a928e9639,10,2,2,11131,,,0,"Updated from generate-constraints

Change-Id: Id018b46f980abd6953b3c0f2603534884cd5894c
",git fetch https://review.opendev.org/openstack/requirements refs/changes/43/823743/2 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,b90cf89caea7aa79695247572a750d184ba8d058,openstack/requirements/constraints,rcssmin===1.1.0XStatic-Angular===1.8.2.1prettytable===2.5.0;python_version=='3.6' prettytable===3.0.0;python_version=='3.8'httpcore===0.14.4pkg_resources===0.0.0django-compressor===3.1Pygments===2.11.2requests===2.27.1google-api-python-client===2.34.0boto3===1.20.30pysaml2===7.1.0botocore===1.23.30directord===0.12.0dulwich===0.20.28GitPython===3.1.25;python_version=='3.8'rjsmin===1.2.0httpx===0.21.3fasteners===0.16.3,rcssmin===1.0.6XStatic-Angular===1.5.8.0prettytable===2.5.0httpcore===0.14.3django-compressor===2.4.1Pygments===2.11.1requests===2.27.0google-api-python-client===2.33.0boto3===1.20.28pysaml2===7.0.1botocore===1.23.28directord===0.11.3dulwich===0.20.27GitPython===3.1.24;python_version=='3.8'rjsmin===1.1.0httpx===0.21.1fasteners===0.14.1setuptools===59.6.0;python_version=='3.6' setuptools===60.2.0;python_version=='3.8',19,19
openstack%2Fwatcher~master~I4e97eaaa9fdee341a0f5da15d8c95308e2bde6da,openstack/watcher,master,I4e97eaaa9fdee341a0f5da15d8c95308e2bde6da,Add Commit message Here,ABANDONED,2022-01-07 03:53:32.000000000,2022-01-07 05:47:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-07 03:53:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ed23c3075bb0aebcdc823fb6b2a01878a35a9c4f', 'message': 'Add Commit message Here\n\nChange-Id: I4e97eaaa9fdee341a0f5da15d8c95308e2bde6da\n'}, {'number': 2, 'created': '2022-01-07 04:00:01.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher/commit/2ab3b80c190ac60ec916d9ecbb445e2c076970d7', 'message': 'Add Commit message Here\n\nChange-Id: I4e97eaaa9fdee341a0f5da15d8c95308e2bde6da\n'}]",0,823754,2ab3b80c190ac60ec916d9ecbb445e2c076970d7,4,1,2,14107,,,0,"Add Commit message Here

Change-Id: I4e97eaaa9fdee341a0f5da15d8c95308e2bde6da
",git fetch https://review.opendev.org/openstack/watcher refs/changes/54/823754/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,ed23c3075bb0aebcdc823fb6b2a01878a35a9c4f,,,,0,0
openstack%2Fkolla-ansible~master~I5d484ba10c8d2a924801d5f8223845e28023c345,openstack/kolla-ansible,master,I5d484ba10c8d2a924801d5f8223845e28023c345,glance: Remove duplicate glance_*_endpoint variables from role defaults,MERGED,2022-01-04 16:09:57.000000000,2022-01-07 04:29:27.000000000,2022-01-07 04:27:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-01-04 16:09:57.000000000', 'files': ['ansible/roles/glance/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2c7ec34ac25c5c745ee590588270f90332a82633', 'message': 'glance: Remove duplicate glance_*_endpoint variables from role defaults\n\nChange-Id: I5d484ba10c8d2a924801d5f8223845e28023c345\n'}]",0,823408,2c7ec34ac25c5c745ee590588270f90332a82633,9,3,1,22629,,,0,"glance: Remove duplicate glance_*_endpoint variables from role defaults

Change-Id: I5d484ba10c8d2a924801d5f8223845e28023c345
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/08/823408/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/glance/defaults/main.yml'],1,2c7ec34ac25c5c745ee590588270f90332a82633,,,"glance_internal_endpoint: ""{{ internal_protocol }}://{{ glance_internal_fqdn | put_address_in_context('url') }}:{{ glance_api_port }}"" glance_public_endpoint: ""{{ public_protocol }}://{{ glance_external_fqdn | put_address_in_context('url') }}:{{ glance_api_port }}"" ",0,3
openstack%2Fopenstack-ansible-os_tempest~master~I5c05255da78a2513af1a15bea1b0757fc366acd1,openstack/openstack-ansible-os_tempest,master,I5c05255da78a2513af1a15bea1b0757fc366acd1,[WIP] Need to add netstat logging in the background,ABANDONED,2021-10-14 12:20:51.000000000,2022-01-07 04:27:49.000000000,,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-10-14 12:20:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/932c94b391ea8f8a4800ae8d75f655c29802b72c', 'message': '[WIP] Need to add netstat logging in the background\n\nThis patch helps us to log netstat while tempest is running.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I5c05255da78a2513af1a15bea1b0757fc366acd1\n'}, {'number': 2, 'created': '2021-10-20 13:22:02.000000000', 'files': ['tasks/tempest_post_install.yml', 'tasks/tempest_cleanup.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/c36ebeab7c8c1b1eadf7bcf415bc8d7bd22de385', 'message': '[WIP] Need to add netstat logging in the background\n\nThis patch helps us to log netstat while tempest is running.\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: I5c05255da78a2513af1a15bea1b0757fc366acd1\n'}]",4,813990,c36ebeab7c8c1b1eadf7bcf415bc8d7bd22de385,9,7,2,30742,,,0,"[WIP] Need to add netstat logging in the background

This patch helps us to log netstat while tempest is running.
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: I5c05255da78a2513af1a15bea1b0757fc366acd1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/90/813990/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,932c94b391ea8f8a4800ae8d75f655c29802b72c,netstat, - name: start netstat logging in the backgrounbd shell: | set -e nohup /usr/bin/netstat -lnp -c 60 &> /var/log/netstat_audit.log & echo $! >/tmp/netstat.pid async: 0 poll: 0 become: true,,9,0
openstack%2Fskyline-console~master~Idd58ece48f88925947a0da169933b4c6b3254282,openstack/skyline-console,master,Idd58ece48f88925947a0da169933b4c6b3254282,WIP: fix babel,ABANDONED,2021-12-21 10:13:35.000000000,2022-01-07 03:35:03.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-21 10:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/d50db3b97a59ef265be61c9a242b2fe614403f1e', 'message': 'WIP: fix babel\n\nChange-Id: Idd58ece48f88925947a0da169933b4c6b3254282\n'}, {'number': 2, 'created': '2021-12-27 08:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/b5093efaa10e48d5b6d5283b4e873791ab94f631', 'message': 'WIP: fix babel\n\nChange-Id: Idd58ece48f88925947a0da169933b4c6b3254282\n'}, {'number': 3, 'created': '2021-12-28 07:39:14.000000000', 'files': ['yarn.lock', 'package.json', '.babelrc'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5321b790b89bcd37c403e5932620229914cecbfa', 'message': 'WIP: fix babel\n\nChange-Id: Idd58ece48f88925947a0da169933b4c6b3254282\n'}]",3,822462,5321b790b89bcd37c403e5932620229914cecbfa,13,1,3,33636,,,0,"WIP: fix babel

Change-Id: Idd58ece48f88925947a0da169933b4c6b3254282
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/62/822462/1 && git format-patch -1 --stdout FETCH_HEAD,"['yarn.lock', 'package.json', '.babelrc']",3,d50db3b97a59ef265be61c9a242b2fe614403f1e,," ""targets"": ""defaults"", ""useBuiltIns"": ""usage"", ""corejs"": { ""version"": ""3.8"", ""proposals"": true } ""assumptions"": { ""setPublicClassFields"": true }, [""@babel/plugin-proposal-decorators"", { ""legacy"": true }], [""@babel/plugin-proposal-class-properties""],"," ""targets"": { ""esmodules"": true } [ ""@babel/plugin-transform-runtime"", { ""corejs"": { ""version"": 3, ""proposals"": true } } ], ""@babel/plugin-transform-modules-commonjs"", [ ""@babel/plugin-proposal-decorators"", { ""legacy"": true } ], ""@babel/plugin-proposal-class-properties"", ""@babel/plugin-proposal-throw-expressions"", ""@babel/plugin-syntax-dynamic-import"", ""@babel/plugin-syntax-import-meta"",",16,59
openstack%2Fskyline-console~master~Ic4cb0538b16922b38b40d2504a213011141424e8,openstack/skyline-console,master,Ic4cb0538b16922b38b40d2504a213011141424e8,feature: Add ts support,ABANDONED,2021-12-22 10:30:55.000000000,2022-01-07 03:34:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-22 10:30:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bb7cfcb662d774acac00e577f2ef3c9f8ce77be8', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 2, 'created': '2021-12-23 03:27:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a917ecea744a029fb7f4ee034263996c518b574a', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 3, 'created': '2021-12-23 14:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/139109b38a9c4172742783a982e7c448c564fa32', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 4, 'created': '2021-12-23 14:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4a2726e4ee1be3d9aef9dfbd8cc6059cece8f0e7', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 5, 'created': '2021-12-24 08:12:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/677911664d9ee7254b69b26d7bbea13baf056b2d', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 6, 'created': '2021-12-24 09:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/cea1f6e2f980e26458f9bb372db89c818496594d', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 7, 'created': '2021-12-24 09:05:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c2c447439b184d5bcf936e5337407127c121bb06', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 8, 'created': '2021-12-27 07:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/9c0c1d947ffdec19c4a8c98661a5bc513816e150', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 9, 'created': '2021-12-27 08:07:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bb455ddf8f53a29c5f7e12c16142dcb991172b14', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 10, 'created': '2021-12-27 08:08:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/811ed0781ad43f51914961ab579d7d5e55707ba7', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}, {'number': 11, 'created': '2021-12-27 08:18:24.000000000', 'files': ['src/components/PrometheusChart/store/FetchPrometheusStore.ts', 'src/components/FormItem/MemberAllocator/Item.jsx', 'src/components/PrometheusChart/types.ts', 'config/webpack.prod.js', '.eslintrc', 'src/components/Tables/Base/BatchActionButtons/index.jsx', 'src/components/PrometheusChart/ChartCard.tsx', 'src/index.d.ts', 'config/webpack.dev.js', 'src/core/index.tsx', 'config/webpack.common.js', 'src/components/Tables/Base/ItemActionButtons/index.jsx', 'src/pages/network/containers/LoadBalancers/StepCreateComponents/MemberStep/index.jsx', 'src/stores/neutron/port.js', 'src/components/FormItem/SelectWithInput/index.jsx', 'src/pages/network/containers/SecurityGroup/Detail/Rule/actions/Create.jsx', 'config/webpack.e2e.js', 'src/pages/network/containers/LoadBalancers/Listener/Detail/Member/Actions/CreateMember.jsx', '.babelrc', 'src/pages/identity/containers/User/actions/Create.jsx', 'src/components/PrometheusChart/utils/utils.ts', 'src/pages/identity/containers/User/actionsInDomain/Create.jsx', 'src/components/PrometheusChart/BaseCard.tsx', 'tsconfig.json', 'yarn.lock', 'package.json'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/0f62efcf926fb19886fa563e0be6078e3dac8b67', 'message': 'feature: Add ts support\n\nadd ts support\n\nChange-Id: Ic4cb0538b16922b38b40d2504a213011141424e8\n'}]",0,822647,0f62efcf926fb19886fa563e0be6078e3dac8b67,19,1,11,33636,,,0,"feature: Add ts support

add ts support

Change-Id: Ic4cb0538b16922b38b40d2504a213011141424e8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/47/822647/11 && git format-patch -1 --stdout FETCH_HEAD,"['src/components/PrometheusChart/types.ts', 'tsconfig.json', 'yarn.lock', 'package.json', 'src/components/PrometheusChart/ChartCard.tsx', 'config/webpack.common.js', 'src/components/PrometheusChart/BaseCard.tsx']",7,bb7cfcb662d774acac00e577f2ef3c9f8ce77be8,,"import { IBaseFetchProps } from './types'; class BaseFetch extends Component<IBaseFetchProps> { store: FetchPrometheusStore; const { visibleHeight, renderContent, title } = this.props; title={title} {(visible) => (visible ? renderContent(this.store) : null)}","import PropTypes from 'prop-types';class BaseFetch extends Component { static propTypes = { constructorParams: PropTypes.shape({ requestType: PropTypes.oneOf(['current', 'range']).isRequired, metricKey: PropTypes.string.isRequired, formatDataFn: PropTypes.func.isRequired, typeKey: PropTypes.string, deviceKey: PropTypes.string, }).isRequired, params: PropTypes.object, currentRange: PropTypes.array.isRequired, interval: PropTypes.number.isRequired, title: PropTypes.string.isRequired, extra: PropTypes.func, renderContent: PropTypes.func.isRequired, visibleHeight: PropTypes.number, }; const { visibleHeight } = this.props; title={this.props.title} {(visible) => (visible ? this.props.renderContent(this.store) : null)}",143,28
openstack%2Fmurano-dashboard~master~Icd215cd7d9e8afcc0cc9caccc5f68b31e667dfc3,openstack/murano-dashboard,master,Icd215cd7d9e8afcc0cc9caccc5f68b31e667dfc3,Add tools to irrelevant-files,MERGED,2022-01-07 02:48:52.000000000,2022-01-07 03:27:00.000000000,2022-01-07 03:27:00.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-07 02:48:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/d5010da4eee08e77d0d365bd309757b0c3f1ee9f', 'message': 'Add tools to irrelevant-files\n\nChange-Id: Icd215cd7d9e8afcc0cc9caccc5f68b31e667dfc3\n'}, {'number': 2, 'created': '2022-01-07 02:49:57.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano-dashboard/commit/0dbf31f18f3dd19f73aaf990452eeccfadc6c9c8', 'message': 'Add tools to irrelevant-files\n\nChange-Id: Icd215cd7d9e8afcc0cc9caccc5f68b31e667dfc3\n'}]",0,823752,0dbf31f18f3dd19f73aaf990452eeccfadc6c9c8,8,2,2,14107,,,0,"Add tools to irrelevant-files

Change-Id: Icd215cd7d9e8afcc0cc9caccc5f68b31e667dfc3
",git fetch https://review.opendev.org/openstack/murano-dashboard refs/changes/52/823752/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,d5010da4eee08e77d0d365bd309757b0c3f1ee9f,,,,0,0
openstack%2Fskyline-console~master~I4adb832d194433f2b201c02c067e72251c6e61e6,openstack/skyline-console,master,I4adb832d194433f2b201c02c067e72251c6e61e6,feat: Support the use of ports when creating an instance,MERGED,2022-01-06 09:35:19.000000000,2022-01-07 03:14:26.000000000,2022-01-07 03:14:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-01-06 09:35:19.000000000', 'files': ['src/locales/en.json', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/resources/port.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/components/FormItem/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c96180b7236b1c982c3b2fc54337c1e2c364807d', 'message': 'feat: Support the use of ports when creating an instance\n\n1. Add port select in network step when creating an instance\n2. Show port in confirm step when creating an instance\n\nChange-Id: I4adb832d194433f2b201c02c067e72251c6e61e6\n'}]",0,823648,c96180b7236b1c982c3b2fc54337c1e2c364807d,6,2,1,30434,,,0,"feat: Support the use of ports when creating an instance

1. Add port select in network step when creating an instance
2. Show port in confirm step when creating an instance

Change-Id: I4adb832d194433f2b201c02c067e72251c6e61e6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/48/823648/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/locales/en.json', 'src/pages/compute/containers/Instance/actions/StepCreate/NetworkStep/index.jsx', 'src/locales/zh.json', 'src/pages/compute/containers/Instance/actions/StepCreate/ConfirmStep/index.jsx', 'src/resources/port.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.jsx', 'src/components/FormItem/index.jsx']",7,c96180b7236b1c982c3b2fc54337c1e2c364807d,, const { selectedRowKeys = [] } = value || {}; if (selectedRowKeys.length === 0) {, if (!value || value.selectedRowKeys.length === 0) {,184,42
openstack%2Ftripleo-heat-templates~master~I35c25e5227d2dc01e9c71bb26f75b3b8c7ef0150,openstack/tripleo-heat-templates,master,I35c25e5227d2dc01e9c71bb26f75b3b8c7ef0150,neutron: Stop setting the allow_overlapping_ips parameter,MERGED,2021-11-10 05:57:54.000000000,2022-01-07 02:58:16.000000000,2022-01-07 02:58:16.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-10 05:57:54.000000000', 'files': ['deployment/neutron/neutron-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c725796372e6e0b10f3a320747d7ad35cbc4ad8d', 'message': 'neutron: Stop setting the allow_overlapping_ips parameter\n\n... because the parameter was already deprecated[1].\n\n[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be\n\nChange-Id: I35c25e5227d2dc01e9c71bb26f75b3b8c7ef0150\n'}]",0,817347,c725796372e6e0b10f3a320747d7ad35cbc4ad8d,8,4,1,9816,,,0,"neutron: Stop setting the allow_overlapping_ips parameter

... because the parameter was already deprecated[1].

[1] 042de7e6bbb3a187e8e12462eb35e6740448b2be

Change-Id: I35c25e5227d2dc01e9c71bb26f75b3b8c7ef0150
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/817347/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-base.yaml'],1,c725796372e6e0b10f3a320747d7ad35cbc4ad8d,allow_overlapping_ips,, neutron::allow_overlapping_ips: true,0,1
openstack%2Frequirements~stable%2Ftrain~I6efffb447d998fd1d7edb65bfa689ed435f85602,openstack/requirements,stable/train,I6efffb447d998fd1d7edb65bfa689ed435f85602,Cap setuptools to <58.0.0,MERGED,2021-12-16 21:07:04.000000000,2022-01-07 02:05:03.000000000,2022-01-07 02:05:03.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-16 21:07:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/requirements/commit/68a598ce484d6b2054eed12a1300bd6d838807ba', 'message': 'Cap setuptools to <58.0.0\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nChange-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602\n(cherry picked from commit 6d3c282da968938ef234546797a4f4dfee2aca8f)\n'}, {'number': 2, 'created': '2021-12-16 21:09:31.000000000', 'files': ['global-requirements.txt', 'test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1500e176c4991a3df62eef49738e14e63f699dbe', 'message': 'Cap setuptools to <58.0.0\n\nSetuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of\ndecorator 3.4.0 which is still being used in Ussuri and Train.\n\nChange-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602\n(cherry picked from commit 6d3c282da968938ef234546797a4f4dfee2aca8f)\n'}]",1,822024,1500e176c4991a3df62eef49738e14e63f699dbe,10,2,2,3153,,,0,"Cap setuptools to <58.0.0

Setuptools 58.0 (bundled in virtualenv 20.8) breaks the installation of
decorator 3.4.0 which is still being used in Ussuri and Train.

Change-Id: I6efffb447d998fd1d7edb65bfa689ed435f85602
(cherry picked from commit 6d3c282da968938ef234546797a4f4dfee2aca8f)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/24/822024/1 && git format-patch -1 --stdout FETCH_HEAD,"['global-requirements.txt', 'test-requirements.txt']",2,68a598ce484d6b2054eed12a1300bd6d838807ba,use_2to3-stable/train,"<<<<<<< HEAD (9874f1 update constraint for keystoneauth1 to new release 3.17.4)======= virtualenv<20.8 # MIT setuptools!=24.0.0,!=34.0.0,!=34.0.1,!=34.0.2,!=34.0.3,!=34.1.0,!=34.1.1,!=34.2.0,!=34.3.0,!=34.3.1,!=34.3.2,!=36.2.0,>=21.0.0,<58.0.0 # PSF/ZPL >>>>>>> CHANGE (6d3c28 Cap setuptools to <58.0.0)",,11,0
openstack%2Fkayobe~master~I6946b578f23843dd3cbafcb185b8d8cfbb00c080,openstack/kayobe,master,I6946b578f23843dd3cbafcb185b8d8cfbb00c080,Fix seed VM configdrive when admin network is a VLAN,MERGED,2020-09-21 13:42:31.000000000,2022-01-07 01:56:24.000000000,2022-01-07 01:54:54.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2020-09-21 13:42:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fbb3dd14da0ea2cd9997e24a78975405e4e05a76', 'message': 'Pass type=vlan to seed VM configdrive\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}, {'number': 2, 'created': '2021-09-17 15:45:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/72c4bd66488c4c14d6bb018f57d18dc1bdd4ef35', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}, {'number': 3, 'created': '2021-09-20 08:18:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/59a65b67dcb40881ef04b2e60a58ed7a0f43ee75', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}, {'number': 4, 'created': '2021-09-27 12:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/a14b2b6dae0893db0237cb2504581fca8692ce86', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}, {'number': 5, 'created': '2021-10-05 14:43:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ea563c54ac9eae56f8e7608c05474fe6fc28a533', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}, {'number': 6, 'created': '2021-10-05 14:45:07.000000000', 'files': ['kayobe/plugins/filter/networks.py', 'requirements.yml', 'releasenotes/notes/configdrive-vlans-4e8b6ed07b229233.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/bc0885f5397af9ee69f8c873e57ad6f3d7a360e1', 'message': 'Fix seed VM configdrive when admin network is a VLAN\n\nThe jriguera.configdrive role does not add VLAN=yes to the ifcfg script\nof a VLAN interface on the seed VM, unless type=vlan is passed in the\nnetwork device list. This change passes this field for VLAN interfaces.\n\nDepends on https://github.com/jriguera/ansible-role-configdrive/pull/11\n\nChange-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080\nStory: 2008089\nTask: 40790\n'}]",1,752955,bc0885f5397af9ee69f8c873e57ad6f3d7a360e1,27,4,6,14826,,,0,"Fix seed VM configdrive when admin network is a VLAN

The jriguera.configdrive role does not add VLAN=yes to the ifcfg script
of a VLAN interface on the seed VM, unless type=vlan is passed in the
network device list. This change passes this field for VLAN interfaces.

Depends on https://github.com/jriguera/ansible-role-configdrive/pull/11

Change-Id: I6946b578f23843dd3cbafcb185b8d8cfbb00c080
Story: 2008089
Task: 40790
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/752955/6 && git format-patch -1 --stdout FETCH_HEAD,['ansible/filter_plugins/networks.py'],1,fbb3dd14da0ea2cd9997e24a78975405e4e05a76,," vlan = net_vlan(context, name, inventory_hostname) if vlan: interface['type'] = 'vlan'",,3,0
openstack%2Fvalidations-libs~master~I36c3560815624eb3f4bc3d427d9549d73c449198,openstack/validations-libs,master,I36c3560815624eb3f4bc3d427d9549d73c449198,Add backward compatibility for python pathlib module,MERGED,2022-01-06 19:25:57.000000000,2022-01-07 01:52:20.000000000,2022-01-07 01:50:42.000000000,"[{'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 19:25:57.000000000', 'files': ['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/tests/fakes.py', 'validations_libs/community/init_validation.py', 'validations_libs/tests/community/test_init_validation.py', 'validations_libs/utils.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/17e689536f1c0e2269434d99c9e83555ef918511', 'message': 'Add backward compatibility for python pathlib module\n\nPathlib is only available in python 3.6, this patch allow to run\nlower version of python with pathlib2.\n\nChange-Id: I36c3560815624eb3f4bc3d427d9549d73c449198\n'}]",0,823729,17e689536f1c0e2269434d99c9e83555ef918511,8,3,1,16515,,,0,"Add backward compatibility for python pathlib module

Pathlib is only available in python 3.6, this patch allow to run
lower version of python with pathlib2.

Change-Id: I36c3560815624eb3f4bc3d427d9549d73c449198
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/29/823729/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/tests/test_utils.py', 'validations_libs/constants.py', 'validations_libs/tests/fakes.py', 'validations_libs/community/init_validation.py', 'validations_libs/tests/community/test_init_validation.py', 'validations_libs/utils.py']",6,17e689536f1c0e2269434d99c9e83555ef918511,pathlib2,# @matbu backward compatibility for stable/train try: from pathlib import Path except ImportError: from pathlib2 import Path ,from pathlib import Path,64,32
openstack%2Ftripleo-heat-templates~master~Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36,openstack/tripleo-heat-templates,master,Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36,Parameters for API policies to show a host status,MERGED,2021-11-02 10:49:23.000000000,2022-01-07 01:52:06.000000000,2022-01-07 01:50:40.000000000,"[{'_account_id': 4690}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-11-02 10:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3b90b883b9e3b7cb1ceab7d51302ef19510b4595', 'message': 'Parameter to set api policy to show a host status\n\nAdd NovaShowHostStatus boolean parameter to allow custom policy for\naccessing the compute host status in the requested Nova server details.\nIf enabled without further policy customization, it grants access to\nthat information via the System/Project read only APIs. That shows the\nhost status among the other Nova server details available for\nnon-admins.\n\nAdditional policies specified using NovaApiPolicies get merged with\nthis customizable NovaApiHostStatusPolicy.\n\nThe compute microversion of at lest 2.16 is required for that.\n\nChange-Id: Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2021-11-22 15:12:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/714b561ecadc3aeefb237b6921dd90ad3577e358', 'message': 'Parameters for API policies to show a host status\n\nAdd NovaShowHostStatus parameter to allow custom policies for\naccessing the full/limited compute host statuses in the requested Nova\nserver details. If enabled without further policy customization, it\ngrants access to that information via the System/Project read only APIs.\nThat shows the requested full or limited host status among the other\nNova server details available for non-admins.\n\nAdditional policies specified using NovaApiPolicies get merged with\nthis customizable NovaApiHostStatusPolicy.\n\nThe compute microversion of at lest 2.16 is required for that.\n\nChange-Id: Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2021-11-23 12:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/40742089cda3807b99bfe7f14e9e08854b58bd4d', 'message': ""Parameters for API policies to show a host status\n\nAdd NovaShowHostStatus parameter to allow custom policies for\naccessing the full/limited compute host statuses in the requested Nova\nserver details. If enabled without further policy customization, it\ngrants access to that information via the System/Project read only\nAPIs. That shows the requested full or limited host status among the\nother Nova server details available for non-admins.\n\nAdditional policies specified using NovaApiPolicies get merged with\nthis customizable NovaApiHostStatusPolicy.\n\nThe compute microversion of at lest 2.16 is required for that.\n\nIt uses role:reader since Tripleo deployments won't be enforcing scope\nyet. Once it will be, we should use rule:system_or_project_reader.\n\nChange-Id: Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}, {'number': 4, 'created': '2021-12-02 09:49:58.000000000', 'files': ['deployment/nova/nova-api-container-puppet.yaml', 'releasenotes/notes/nova_api_show_host_status-f0dfaf4c2b0c536f.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/98af8699423e106fc1acbd6b4ba12ebb0b55ee91', 'message': ""Parameters for API policies to show a host status\n\nAdd NovaShowHostStatus parameter to allow custom policies for\naccessing the full/limited compute host statuses in the requested Nova\nserver details. If enabled without further policy customization, it\ngrants access to that information via the System/Project read only\nAPIs. That shows the requested full or limited host status among the\nother Nova server details available for non-admins.\n\nAdditional policies specified using NovaApiPolicies get merged with\nthis customizable NovaApiHostStatusPolicy.\n\nThe compute microversion of at lest 2.16 is required for that.\n\nIt uses role:reader since Tripleo deployments won't be enforcing scope\nyet. Once it will be, we should use rule:system_or_project_reader.\n\nChange-Id: Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n""}]",28,816319,98af8699423e106fc1acbd6b4ba12ebb0b55ee91,54,12,4,6926,,,0,"Parameters for API policies to show a host status

Add NovaShowHostStatus parameter to allow custom policies for
accessing the full/limited compute host statuses in the requested Nova
server details. If enabled without further policy customization, it
grants access to that information via the System/Project read only
APIs. That shows the requested full or limited host status among the
other Nova server details available for non-admins.

Additional policies specified using NovaApiPolicies get merged with
this customizable NovaApiHostStatusPolicy.

The compute microversion of at lest 2.16 is required for that.

It uses role:reader since Tripleo deployments won't be enforcing scope
yet. Once it will be, we should use rule:system_or_project_reader.

Change-Id: Ib70a0f0bfdf47eceeecf5e1336670e8575f46e36
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/19/816319/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-api-container-puppet.yaml', 'releasenotes/notes/nova_api_show_host_status-f0dfaf4c2b0c536f.yaml']",2,3b90b883b9e3b7cb1ceab7d51302ef19510b4595,,"--- features: - | Adds `NovaShowHostStatus` boolean parameter to allow custom policy for accessing the compute host status in the requested Nova server details. If enabled without further policy customization, it grants access to that information via the System/Project read only APIs. That shows the host status among the other Nova server details available for non-admins. Additional policies specified using `NovaApiPolicies` get merged with this customizable `NovaApiHostStatusPolicy`. ",,36,0
openstack%2Ftacker~master~Ic743fadbd1ddd59ca6755949e03b77c8715be459,openstack/tacker,master,Ic743fadbd1ddd59ca6755949e03b77c8715be459,Fix VIM registration error,MERGED,2021-11-01 01:10:53.000000000,2022-01-07 01:48:34.000000000,2022-01-07 01:46:47.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 31072}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-11-01 01:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/bbd952e35c3e99c5da4ded7f7b0be7946e596edf', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is\nclose even if a reachable public-endpoint is used in the VIM\nconfiguration.\n\nThe cause of this problem is that the endpoint for the keystone API and\nthe endpoint for the authentication are different inside the keystone\nclient.  The keystone client implicitly selects admin-endpoint for API\nrequests from service catalogs unless we specify an endpoint URL or\ninterface [1], i.e., the auth_url in the VIM configuration isn't used\nfor API requests.  This patch solves the above problem by specifying an\nendpoint URL.\n\nNote that specifying an interface can be a better solution, as the\nkeystone can provide different interfaces with the same endpoint URL.\nHowever, to achieve this, we have to add a new field to the VIM\nconfiguration for the interface, which makes a huge modification.  Thus,\nthis patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\n""}, {'number': 2, 'created': '2021-11-01 04:19:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/a4b761bd8e38b82184d8e3a7f4c3eeb30d803901', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is close\neven if a reachable public-endpoint is used in the VIM configuration.\n\nThe cause of this problem is that the endpoint for the keystone API and the\nendpoint for the authentication are different inside the keystone client.  The\nkeystone client implicitly selects admin-endpoint for API requests from service\ncatalogs unless we specify an endpoint URL or interface [1], i.e., the auth_url\nin the VIM configuration isn't used for API requests.\n\nThis patch solves the above problem by specifying an endpoint URL.\n\nNote that specifying an interface can be a better solution, as the keystone can\nprovide different interfaces with the same endpoint URL.  However, to achieve\nthis, we have to add a new field to the VIM configuration for the interface,\nwhich makes a huge modification.  Thus, this patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\nCloses-bug: #1920088\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}, {'number': 3, 'created': '2021-11-01 04:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/5a2472f75a9d128c69d75408bd78f925f3a74986', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is\nclose even if a reachable public-endpoint is used in the VIM\nconfiguration.\n\nThe cause of this problem is that the endpoint for the keystone API and\nthe endpoint for the authentication are different inside the keystone\nclient.  The keystone client implicitly selects admin-endpoint for API\nrequests from service catalogs unless we specify an endpoint URL or\ninterface [1], i.e., the auth_url in the VIM configuration isn't used\nfor API requests.\n\nThis patch solves the above problem by specifying an endpoint URL.\n\nNote that specifying an interface can be a better solution, as the\nkeystone can provide different interfaces with the same endpoint URL.\nHowever, to achieve this, we have to add a new field to the VIM\nconfiguration for the interface, which makes a huge modification.\nThus, this patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\nCloses-bug: #1920088\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}, {'number': 4, 'created': '2021-11-01 04:25:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/307b5bbb1a70d997fe1528bbd8f1bf9b59208d42', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is\nclose even if a reachable public-endpoint is used in the VIM\nconfiguration.\n\nThe cause of this problem is that the endpoint for the keystone API and\nthe endpoint for the authentication are different inside the keystone\nclient.  The keystone client implicitly selects admin-endpoint for API\nrequests from service catalogs unless we specify an endpoint URL or\ninterface [1], i.e., the auth_url in the VIM configuration isn't used\nfor API requests.\n\nThis patch solves the above problem by specifying an endpoint URL when\ncreating a keystone client instance.\n\nNote that specifying an interface can be a better solution, as the\nkeystone can provide different interfaces with the same endpoint URL.\nHowever, to achieve this, we have to add a new field to the VIM\nconfiguration for the interface, which makes a huge modification.\nThus, this patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\nCloses-bug: #1920088\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}, {'number': 5, 'created': '2021-12-07 08:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/db4018a3fd8a1c185ea810bdf5780049a5079757', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is\nclose even if a reachable public-endpoint is used in the VIM\nconfiguration.\n\nThe cause of this problem is that the endpoint for the keystone API and\nthe endpoint for the authentication are different inside the keystone\nclient.  The keystone client implicitly selects admin-endpoint for API\nrequests from service catalogs unless we specify an endpoint URL or\ninterface [1], i.e., the auth_url in the VIM configuration isn't used\nfor API requests.\n\nThis patch solves the above problem by specifying an endpoint URL when\ncreating a keystone client instance.\n\nNote that specifying an interface can be a better solution, as the\nkeystone can provide different interfaces with the same endpoint URL.\nHowever, to achieve this, we have to add a new field to the VIM\nconfiguration for the interface, which makes a huge modification.\nThus, this patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\nCloses-bug: #1920088\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}, {'number': 6, 'created': '2021-12-09 06:44:56.000000000', 'files': ['tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/vnfm/keystone.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/fff6cec4f2b63034cbf2a55a36cebca563b7a082', 'message': ""Fix VIM registration error\n\nThe VIM registration fails in an environment where an admin-endpoint is\nclose even if a reachable public-endpoint is used in the VIM\nconfiguration.\n\nThe cause of this problem is that the endpoint for the keystone API and\nthe endpoint for the authentication are different inside the keystone\nclient.  The keystone client implicitly selects admin-endpoint for API\nrequests from service catalogs unless we specify an endpoint URL or\ninterface [1], i.e., the auth_url in the VIM configuration isn't used\nfor API requests.\n\nThis patch solves the above problem by specifying an endpoint URL when\ncreating a keystone client instance.\n\nNote that specifying an interface can be a better solution, as the\nkeystone can provide different interfaces with the same endpoint URL.\nHowever, to achieve this, we have to add a new field to the VIM\nconfiguration for the interface, which makes a huge modification.\nThus, this patch doesn't take this solution.\n\nAlso, this patch includes a tiny refactoring on the OpenStack driver.\n\n[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251\n\nChange-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459\nCloses-bug: #1920088\nSigned-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>\n""}]",7,816107,fff6cec4f2b63034cbf2a55a36cebca563b7a082,27,7,6,33455,,,0,"Fix VIM registration error

The VIM registration fails in an environment where an admin-endpoint is
close even if a reachable public-endpoint is used in the VIM
configuration.

The cause of this problem is that the endpoint for the keystone API and
the endpoint for the authentication are different inside the keystone
client.  The keystone client implicitly selects admin-endpoint for API
requests from service catalogs unless we specify an endpoint URL or
interface [1], i.e., the auth_url in the VIM configuration isn't used
for API requests.

This patch solves the above problem by specifying an endpoint URL when
creating a keystone client instance.

Note that specifying an interface can be a better solution, as the
keystone can provide different interfaces with the same endpoint URL.
However, to achieve this, we have to add a new field to the VIM
configuration for the interface, which makes a huge modification.
Thus, this patch doesn't take this solution.

Also, this patch includes a tiny refactoring on the OpenStack driver.

[1] https://github.com/openstack/python-keystoneclient/blob/d5cb761763988217cdd00a7981a62e2083fd381f/keystoneclient/httpclient.py#L251

Change-Id: Ic743fadbd1ddd59ca6755949e03b77c8715be459
Closes-bug: #1920088
Signed-off-by: Hiromu Asahina <hiromu.asahina.az@hco.ntt.co.jp>
",git fetch https://review.opendev.org/openstack/tacker refs/changes/07/816107/1 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/nfvo/drivers/vim/openstack_driver.py', 'tacker/vnfm/keystone.py']",2,bbd952e35c3e99c5da4ded7f7b0be7946e596edf,bug/1920088," verify = eval(kwargs.pop('cert_verify', 'True')) # note: Using `interface` may be an appropriate way to control # the keystone endpoint, e.g., client.Client(DEFAULT_IDENTITY_VERSION, # session=ses, interface=interface), but it requires the modification # in the DB schema. Thus, use `endpoint_override` for now. cli = client.Client(DEFAULT_IDENTITY_VERSION, session=ses, endpoint_override=auth_plugin.auth_url)"," verify = 'True' == kwargs.pop('cert_verify', 'True') or False cli = client.Client(DEFAULT_IDENTITY_VERSION, session=ses)",8,4
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I4ac9210f6533e6826b2814f72b7271b43fdca267,openstack/tripleo-heat-templates,stable/wallaby,I4ac9210f6533e6826b2814f72b7271b43fdca267,Add chrony waitsync back in,MERGED,2021-12-21 14:37:53.000000000,2022-01-07 01:33:18.000000000,2022-01-07 01:33:18.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-21 14:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bff098cb39f9175411ceaff2726a1deacdf1915a', 'message': 'Add chrony waitsync back in\n\nThis is a revert of 373a27163e0365919f707604df5b61863029d2e4 because\nmakestep does not fail if the ntp servers are unavailable. This change\nadds waitsync back in so it fails if the servers are unavilable but\nleaves the makestep in place which should force the sync.  If the\nservers are unavailable, the waitsync should catch it. If they are\navailable waitsync should be a relative noop because the makestep would\nsync the system.  The waitsync has been increased to 5 minutes (from 200\nseconds). waitsync will wait 30 times with an interval of 10 seconds\nbetween checks.\n\nCloses-Bug: #1955414\nChange-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267\n(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)\n'}, {'number': 2, 'created': '2021-12-23 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0f3ea90a9cf7d83408fd94644c4c07ab34beda4b', 'message': 'Add chrony waitsync back in\n\nThis is a revert of 373a27163e0365919f707604df5b61863029d2e4 because\nmakestep does not fail if the ntp servers are unavailable. This change\nadds waitsync back in so it fails if the servers are unavilable but\nleaves the makestep in place which should force the sync.  If the\nservers are unavailable, the waitsync should catch it. If they are\navailable waitsync should be a relative noop because the makestep would\nsync the system.  The waitsync has been increased to 5 minutes (from 200\nseconds). waitsync will wait 30 times with an interval of 10 seconds\nbetween checks.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822857\nCloses-Bug: #1955414\nChange-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267\n(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)\n'}, {'number': 3, 'created': '2021-12-23 20:53:59.000000000', 'files': ['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5341e56992b5b3c1c7e7813801fe5a27ae1e4d98', 'message': 'Add chrony waitsync back in\n\nThis is a revert of 373a27163e0365919f707604df5b61863029d2e4 because\nmakestep does not fail if the ntp servers are unavailable. This change\nadds waitsync back in so it fails if the servers are unavilable but\nleaves the makestep in place which should force the sync.  If the\nservers are unavailable, the waitsync should catch it. If they are\navailable waitsync should be a relative noop because the makestep would\nsync the system.  The waitsync has been increased to 5 minutes (from 200\nseconds). waitsync will wait 30 times with an interval of 10 seconds\nbetween checks.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/822848\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822857\nCloses-Bug: #1955414\nChange-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267\n(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)\n'}]",5,822428,5341e56992b5b3c1c7e7813801fe5a27ae1e4d98,20,5,3,14985,,,0,"Add chrony waitsync back in

This is a revert of 373a27163e0365919f707604df5b61863029d2e4 because
makestep does not fail if the ntp servers are unavailable. This change
adds waitsync back in so it fails if the servers are unavilable but
leaves the makestep in place which should force the sync.  If the
servers are unavailable, the waitsync should catch it. If they are
available waitsync should be a relative noop because the makestep would
sync the system.  The waitsync has been increased to 5 minutes (from 200
seconds). waitsync will wait 30 times with an interval of 10 seconds
between checks.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-collect-logs/+/822848
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/822857
Closes-Bug: #1955414
Change-Id: I4ac9210f6533e6826b2814f72b7271b43fdca267
(cherry picked from commit 8d46c9c381a2487d759f477948eabe51d40479b7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/28/822428/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/timesync/chrony-baremetal-ansible.yaml', 'firstboot/userdata_timesync.yaml']",2,bff098cb39f9175411ceaff2726a1deacdf1915a,bug/1955414-stable/wallaby, chronyc waitsync 30,,4,1
openstack%2Fos-testr~master~I681eae8282ac19e9b26929c44e0b5525de28a16c,openstack/os-testr,master,I681eae8282ac19e9b26929c44e0b5525de28a16c,Updating python testing classifier as per Yoga testing runtime,ABANDONED,2021-12-24 01:26:16.000000000,2022-01-07 00:56:53.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-24 01:26:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-testr/commit/e1cb54c7222a77db44db12238cf28d07cc9cc995', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I681eae8282ac19e9b26929c44e0b5525de28a16c\n'}, {'number': 2, 'created': '2022-01-05 13:28:02.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/os-testr/commit/14aa8abf1219c20a433b6e586dd37acd4d28c039', 'message': 'Updating python testing classifier as per Yoga testing runtime\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I681eae8282ac19e9b26929c44e0b5525de28a16c\n'}]",3,822864,14aa8abf1219c20a433b6e586dd37acd4d28c039,8,2,2,31827,,,0,"Updating python testing classifier as per Yoga testing runtime

Yoga testing runtime[1] has been updated to add py39
testing as voting. Unit tests update are handled by the
job template change in openstack-zuul-job

- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286

this commit updates the classifier in setup.cfg file.

[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html

Change-Id: I681eae8282ac19e9b26929c44e0b5525de28a16c
",git fetch https://review.opendev.org/openstack/os-testr refs/changes/64/822864/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e1cb54c7222a77db44db12238cf28d07cc9cc995,,"envlist = py36,py39,pypy,pep8","envlist = py3,pypy,pep8",1,1
openstack%2Fmanila-tempest-plugin~master~I6133f51f1ec2d5a12141efc119e48ee283fd2dd2,openstack/manila-tempest-plugin,master,I6133f51f1ec2d5a12141efc119e48ee283fd2dd2,Maximum number of share replicas allowed from V2.53,NEW,2021-11-19 01:11:24.000000000,2022-01-07 00:54:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-11-19 01:11:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/411d00e17a626f0b349ad7ee41ec320b0b5f438a', 'message': 'Maximum number of share replicas allowed from V2.53\n\nChange-Id: I6133f51f1ec2d5a12141efc119e48ee283fd2dd2\n'}, {'number': 2, 'created': '2021-11-25 02:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/f51e6d3a46f4e756a9dba483e1ef4f05648428c8', 'message': 'Maximum number of share replicas allowed from V2.53\n\nMaxTotalShareReplicas and MaxTotalReplicaGigabytes allowd from v2.53\n\nChange-Id: I6133f51f1ec2d5a12141efc119e48ee283fd2dd2\n'}, {'number': 3, 'created': '2022-01-06 11:26:27.000000000', 'files': ['manila_tempest_tests/tests/api/test_limits.py', 'manila_tempest_tests/services/share/v2/json/shares_client.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/64390b1cd0ffda8fa2567106cc424a8617733957', 'message': 'Maximum number of share replicas allowed from V2.53\n\nMaxTotalShareReplicas and MaxTotalReplicaGigabytes allowd from v2.53\n\nChange-Id: I6133f51f1ec2d5a12141efc119e48ee283fd2dd2\n'}]",9,818496,64390b1cd0ffda8fa2567106cc424a8617733957,24,1,3,31280,,,0,"Maximum number of share replicas allowed from V2.53

MaxTotalShareReplicas and MaxTotalReplicaGigabytes allowd from v2.53

Change-Id: I6133f51f1ec2d5a12141efc119e48ee283fd2dd2
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/96/818496/3 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_limits.py'],1,411d00e17a626f0b349ad7ee41ec320b0b5f438a,manila_03,"from manila_tempest_tests import utils # In v2.53 and beyond, we expect maxTotalShareReplicas and # maxTotalShareReplicas keys if utils.is_microversion_supported('2.53'): abs_keys.append([""maxTotalShareReplicas"", ""maxTotalReplicaGigabytes""]) # In v2.53 and beyond, we expect maxTotalShareReplicas and # maxTotalShareReplicas if utils.is_microversion_supported('2.53'): self.assertGreater(int(abs_l[""maxTotalShareReplicas""]), -2) self.assertGreater(int(abs_l[""maxTotalReplicaGigabytes""]), -2)",,13,0
openstack%2Frequirements~master~I1b5363848f9033818e5584bb46dc8e023b04e422,openstack/requirements,master,I1b5363848f9033818e5584bb46dc8e023b04e422,update constraint for oslo.cache to new release 2.9.0,MERGED,2022-01-06 11:30:51.000000000,2022-01-06 22:16:03.000000000,2022-01-06 22:12:19.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-06 11:30:51.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e65d98d60e4423c7f4d7cc2f811a7a163f72b648', 'message': 'update constraint for oslo.cache to new release 2.9.0\n\nmeta: version: 2.9.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ia3f949eb7a5aec945af57fe950b15f32849d6a13\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: I1b5363848f9033818e5584bb46dc8e023b04e422\n'}]",0,823674,e65d98d60e4423c7f4d7cc2f811a7a163f72b648,9,3,1,11131,,,0,"update constraint for oslo.cache to new release 2.9.0

meta: version: 2.9.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ia3f949eb7a5aec945af57fe950b15f32849d6a13
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: I1b5363848f9033818e5584bb46dc8e023b04e422
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/823674/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e65d98d60e4423c7f4d7cc2f811a7a163f72b648,new-release,oslo.cache===2.9.0,oslo.cache===2.8.1,1,1
openstack%2Frequirements~master~I8c0651369b4e35320191b993677729d4a8d709d0,openstack/requirements,master,I8c0651369b4e35320191b993677729d4a8d709d0,update constraint for python-zunclient to new release 4.4.0,MERGED,2022-01-06 11:11:39.000000000,2022-01-06 22:14:38.000000000,2022-01-06 22:12:13.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-06 11:11:39.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/260f9185363ccbc2300e99ff622e3d7200cd31a2', 'message': 'update constraint for python-zunclient to new release 4.4.0\n\nmeta: version: 4.4.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I41d5e7fd26ecf232017bebfc11f0a4e929e9b580\nmeta: release:Code-Review+1: feng.shengqin <feng.shengqin@zte.com.cn>\nmeta: release:Code-Review+1: hongbin <hongbin034@gmail.com>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I8c0651369b4e35320191b993677729d4a8d709d0\n'}]",0,823670,260f9185363ccbc2300e99ff622e3d7200cd31a2,9,3,1,11131,,,0,"update constraint for python-zunclient to new release 4.4.0

meta: version: 4.4.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I41d5e7fd26ecf232017bebfc11f0a4e929e9b580
meta: release:Code-Review+1: feng.shengqin <feng.shengqin@zte.com.cn>
meta: release:Code-Review+1: hongbin <hongbin034@gmail.com>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I8c0651369b4e35320191b993677729d4a8d709d0
",git fetch https://review.opendev.org/openstack/requirements refs/changes/70/823670/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,260f9185363ccbc2300e99ff622e3d7200cd31a2,new-release,python-zunclient===4.4.0,python-zunclient===4.3.0,1,1
openstack%2Fcinder~master~I9391a1a07aac00a3f80bf19cd4887bdfbec78b20,openstack/cinder,master,I9391a1a07aac00a3f80bf19cd4887bdfbec78b20,[SVF] Fix rccg and relationship creation issues,MERGED,2021-09-17 16:31:41.000000000,2022-01-06 22:14:28.000000000,2022-01-06 22:12:22.000000000,"[{'_account_id': 7198}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 32036}]","[{'number': 1, 'created': '2021-09-17 16:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/fb4eddd756369edc2961c2986c03dfd399cbe194', 'message': '[SVF] Fix rccg and relationship creation issues\n\n[Spectrum Virtualize Family] Fix issues while creating a mirror\nvolume and creating a group by using the storage backend system_id\nin the place of system_name in create_relationship and create_rccg\ncalls to choose the correct partnership based on the system_id.\n\nThis issue occurs when multiple partnerships in different states\nare available for the same storage system_name.\n\nCloses-Bug: #1939145\n\nChange-Id: I9391a1a07aac00a3f80bf19cd4887bdfbec78b20\n'}, {'number': 2, 'created': '2021-09-24 14:07:28.000000000', 'files': ['cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1939145-ibm-svf-fix-systemname-issue-with-multiple-partnership-c437ebbb511879b9.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/cefba8640842ab9cb479533be24688ae62d7e9bb', 'message': '[SVF] Fix rccg and relationship creation issues\n\n[Spectrum Virtualize Family] Fix issues while creating a mirror\nvolume and creating a group by using the storage backend system_id\nin the place of system_name in create_relationship and create_rccg\ncalls to choose the correct partnership based on the system_id.\n\nThis issue occurs when multiple partnerships in different states\nare available for the same storage system_name.\n\nCloses-Bug: #1939145\n\nChange-Id: I9391a1a07aac00a3f80bf19cd4887bdfbec78b20\n'}]",10,809830,cefba8640842ab9cb479533be24688ae62d7e9bb,83,7,2,32266,,,0,"[SVF] Fix rccg and relationship creation issues

[Spectrum Virtualize Family] Fix issues while creating a mirror
volume and creating a group by using the storage backend system_id
in the place of system_name in create_relationship and create_rccg
calls to choose the correct partnership based on the system_id.

This issue occurs when multiple partnerships in different states
are available for the same storage system_name.

Closes-Bug: #1939145

Change-Id: I9391a1a07aac00a3f80bf19cd4887bdfbec78b20
",git fetch https://review.opendev.org/openstack/cinder refs/changes/30/809830/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/ibm/storwize_svc/replication.py', 'cinder/tests/unit/volume/drivers/ibm/test_storwize_svc.py', 'cinder/volume/drivers/ibm/storwize_svc/storwize_svc_common.py', 'releasenotes/notes/bug-1939145-ibm-svf-fix-systemname-issue-with-multiple-partnership-c437ebbb511879b9.yaml']",4,fb4eddd756369edc2961c2986c03dfd399cbe194,bug/1939145,--- fixes: - | IBM Spectrum Virtualize Family driver `Bug #1939145 <https://bugs.launchpad.net/cinder/+bug/1939145>`_: Updating create_relationship and create_rccg calls with the system_id in the place of system_name to fix the issues while creating a mirror volume or creating a consistency group. ,,15,7
openstack%2Frequirements~stable%2Fvictoria~I7273dd978f4a259d721762b7d770deeedadacf87,openstack/requirements,stable/victoria,I7273dd978f4a259d721762b7d770deeedadacf87,[Victoria-only] Bumping upper constrain of openstack/validations-libs to 1.2.0,MERGED,2022-01-06 12:38:23.000000000,2022-01-06 22:12:29.000000000,2022-01-06 22:12:29.000000000,"[{'_account_id': 11491}, {'_account_id': 14288}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 12:38:23.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/0578a9d88db12e254dc7cfc393d1414158336f1b', 'message': '[Victoria-only] Bumping upper constrain of openstack/validations-libs to 1.2.0\n\nAs a number of newer features is being backported[0]\nto earlier releases the constraints have to be updated accordingly to\nensure that CI is capable of installing the necessary packages.\n\n[0] https://review.opendev.org/c/openstack/python-tripleoclient/+/823604/3\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I7273dd978f4a259d721762b7d770deeedadacf87\n'}]",0,823680,0578a9d88db12e254dc7cfc393d1414158336f1b,7,6,1,32926,,,0,"[Victoria-only] Bumping upper constrain of openstack/validations-libs to 1.2.0

As a number of newer features is being backported[0]
to earlier releases the constraints have to be updated accordingly to
ensure that CI is capable of installing the necessary packages.

[0] https://review.opendev.org/c/openstack/python-tripleoclient/+/823604/3

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I7273dd978f4a259d721762b7d770deeedadacf87
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/823680/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,0578a9d88db12e254dc7cfc393d1414158336f1b,VF-versionbump,validations-libs===1.2.0,validations-libs===1.0.4,1,1
openstack%2Frequirements~stable%2Fwallaby~Id32adfcf27cd48a179dbacced47b2990fcf628e6,openstack/requirements,stable/wallaby,Id32adfcf27cd48a179dbacced47b2990fcf628e6,"Revert ""Downgrade validation lib to 1.1.0""",MERGED,2022-01-06 12:24:12.000000000,2022-01-06 22:12:26.000000000,2022-01-06 22:12:26.000000000,"[{'_account_id': 11491}, {'_account_id': 14288}, {'_account_id': 15895}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-01-06 12:24:12.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/a0fc6afb6a1b88ddd7f89375435aeefd481cdc9c', 'message': 'Revert ""Downgrade validation lib to 1.1.0""\n\nThe fix was merged some time ago and appears to be stable.\nFurthermore, versions 1.2.0 and higher introduce number of\nimportant fixes and changes that are now being left out.\n\nThis reverts commit 960c75301338423c2b78c06742dca09ed30b07bd.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Id32adfcf27cd48a179dbacced47b2990fcf628e6\n(cherry picked from commit 552c96db9676b04f64d92f5acc4cd7384aed90cd)\n'}]",0,823679,a0fc6afb6a1b88ddd7f89375435aeefd481cdc9c,7,6,1,32926,,,0,"Revert ""Downgrade validation lib to 1.1.0""

The fix was merged some time ago and appears to be stable.
Furthermore, versions 1.2.0 and higher introduce number of
important fixes and changes that are now being left out.

This reverts commit 960c75301338423c2b78c06742dca09ed30b07bd.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Id32adfcf27cd48a179dbacced47b2990fcf628e6
(cherry picked from commit 552c96db9676b04f64d92f5acc4cd7384aed90cd)
",git fetch https://review.opendev.org/openstack/requirements refs/changes/79/823679/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,a0fc6afb6a1b88ddd7f89375435aeefd481cdc9c,VF-versionbump,validations-libs===1.2.0,validations-libs===1.1.0,1,1
openstack%2Frequirements~master~Ib1a04b2869d4e005cca840100706f33b479110d4,openstack/requirements,master,Ib1a04b2869d4e005cca840100706f33b479110d4,update constraint for oslo.service to new release 2.8.0,MERGED,2022-01-06 11:24:58.000000000,2022-01-06 22:12:16.000000000,2022-01-06 22:12:16.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-06 11:24:58.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/39f3c6e97ca64ce45db1142008b830aa874def30', 'message': 'update constraint for oslo.service to new release 2.8.0\n\nmeta: version: 2.8.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: I0d1110ef372d24155977a2a3262ec3ea8098dccd\nmeta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>\nmeta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>\nChange-Id: Ib1a04b2869d4e005cca840100706f33b479110d4\n'}]",0,823672,39f3c6e97ca64ce45db1142008b830aa874def30,8,3,1,11131,,,0,"update constraint for oslo.service to new release 2.8.0

meta: version: 2.8.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: I0d1110ef372d24155977a2a3262ec3ea8098dccd
meta: release:Code-Review+1: Lajos Katona <katonalala@gmail.com>
meta: release:Code-Review+1: Rodolfo Alonso <ralonsoh@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Workflow+1: Thierry Carrez <thierry@openstack.org>
Change-Id: Ib1a04b2869d4e005cca840100706f33b479110d4
",git fetch https://review.opendev.org/openstack/requirements refs/changes/72/823672/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,39f3c6e97ca64ce45db1142008b830aa874def30,new-release,oslo.service===2.8.0,oslo.service===2.7.0,1,1
openstack%2Frequirements~master~I6f447649666b93de13f6085f171bf25f83a30f78,openstack/requirements,master,I6f447649666b93de13f6085f171bf25f83a30f78,update constraint for aodhclient to new release 2.4.0,MERGED,2022-01-06 10:54:10.000000000,2022-01-06 21:43:50.000000000,2022-01-06 21:41:55.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-06 10:54:10.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/418f6d11bc24f39bc01a0a71d539c01a3d09fe9a', 'message': 'update constraint for aodhclient to new release 2.4.0\n\nmeta: version: 2.4.0\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Herv Beraud <hberaud@redhat.com>\nmeta: release:Commit: Herv Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878\nmeta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>\nChange-Id: I6f447649666b93de13f6085f171bf25f83a30f78\n'}]",0,823669,418f6d11bc24f39bc01a0a71d539c01a3d09fe9a,9,3,1,11131,,,0,"update constraint for aodhclient to new release 2.4.0

meta: version: 2.4.0
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Herv Beraud <hberaud@redhat.com>
meta: release:Commit: Herv Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878
meta: release:Code-Review+1: Matthias Runge <mrunge@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Workflow+1: Herv Beraud <herveberaud.pro@gmail.com>
Change-Id: I6f447649666b93de13f6085f171bf25f83a30f78
",git fetch https://review.opendev.org/openstack/requirements refs/changes/69/823669/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,418f6d11bc24f39bc01a0a71d539c01a3d09fe9a,new-release,aodhclient===2.4.0,aodhclient===2.3.1,1,1
openstack%2Ftripleo-quickstart~master~Ia36f602ad0a67eab03094a2c45b6ec965c08dcbc,openstack/tripleo-quickstart,master,Ia36f602ad0a67eab03094a2c45b6ec965c08dcbc,Added wallaby cs9 integration release file,MERGED,2021-12-30 12:59:55.000000000,2022-01-06 21:17:22.000000000,2022-01-06 21:15:44.000000000,"[{'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-30 12:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/e03ea4c34f30173da188d6bf35e8a14df62d3bac', 'message': '[WIP] wallaby cs9 integration release file\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia36f602ad0a67eab03094a2c45b6ec965c08dcbc\n'}, {'number': 2, 'created': '2022-01-06 11:02:45.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/459191a02e95e368022f9e3c926d36ebd4c22fb1', 'message': 'Added wallaby cs9 integration release file\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Ia36f602ad0a67eab03094a2c45b6ec965c08dcbc\n'}]",0,823206,459191a02e95e368022f9e3c926d36ebd4c22fb1,16,7,2,12393,,,0,"Added wallaby cs9 integration release file

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Ia36f602ad0a67eab03094a2c45b6ec965c08dcbc
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/06/823206/2 && git format-patch -1 --stdout FETCH_HEAD,['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml'],1,e03ea4c34f30173da188d6bf35e8a14df62d3bac,cs9-wallaby,"# name and tags devmode: true release: wallaby distro_ver: centos9 overcloud_as_undercloud: true use_specific_hash: true docker_registry_host: trunk.registry.rdoproject.org docker_registry_namespace: tripleowallabycentos9 delorean_hash_label: &promotion-testing-tag ""{{ dlrn_hash|default(dlrn_hash_tag) }}"" docker_image_tag: *promotion-testing-tag dlrn_hash_tag_newest: current promote_source: tripleo-ci-testing validate_on: rdo # images overcloud_image: >- {% if whole_disk_images|bool -%} overcloud-hardened-uefi-full {%- else -%} overcloud-full {%- endif -%} overcloud_image_type: >- {% if whole_disk_images|bool -%} qcow2 {%- else -%} tar {%- endif -%} images: - name: ""{{ overcloud_image }}"" url: ""{{ overcloud_image_url }}"" type: ""{{ overcloud_image_type }}"" - name: ipa_images url: ""{{ ipa_image_url }}"" type: tar dlrn_baseurl: https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }} dlrn_hash_tag: tripleo-ci-testing overcloud_image_url: ""https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/{{ overcloud_image }}.{{ overcloud_image_type }}"" ipa_image_url: https://images.rdoproject.org/{{ distro_ver }}/{{ release }}/rdo_trunk/{{ promote_source }}/ironic-python-agent.tar # repo setup # optimize with mirros after we have # something working.. IMHO may be replaced w/ tripleo-repos setup # https://review.opendev.org/#/c/709254/ repo_cmd_before: | sudo rm -rf /etc/yum.repos.d/delorean*; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo rm -rf /etc/yum.repos.d/epel*; sudo dnf clean all; sudo dnf config-manager --disable ""*"" || true; sudo dnf config-manager --enable gating-repo || true; if [ -e /etc/ci/mirror_info.sh ]; then source /etc/ci/mirror_info.sh else # Otherwise, fallback to official mirrors provided by CentOS. export NODEPOOL_CENTOS_MIRROR={{ ansible_env['NODEPOOL_CENTOS_MIRROR']|default('http://mirror.stream.centos.org', true) }} export NODEPOOL_RDO_PROXY=https://trunk.rdoproject.org fi {% if dlrn_hash_path_newest is defined and dlrn_hash_path_newest %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_path_newest }}"" {% elif dlrn_hash_tag_newest is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG_NEWEST=""current/{{ dlrn_hash_tag_newest[:2] }}/{{ dlrn_hash_tag_newest[2:4] }}/{{ dlrn_hash_tag_newest }}"" {% else %} export DLRN_PATH_TAG_NEWEST=""{{ dlrn_hash_tag_newest }}"" {% endif %} {% if dlrn_hash_path is defined and dlrn_hash_path %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_path }}"" {% elif dlrn_hash_tag is match(""^[a-zA-Z0-9]{32}$"") %} export DLRN_PATH_TAG=""{{ promote_source }}/{{ dlrn_hash_tag[:2] }}/{{ dlrn_hash_tag[2:4] }}/{{ dlrn_hash_tag }}"" {% else %} export DLRN_PATH_TAG=""{{ dlrn_hash_tag }}"" {% endif %} rdo_dlrn=`curl --silent https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG_NEWEST}/delorean.repo -S 2>>~/dlrn_repo_curl_errors.log | grep baseurl | grep ""component/tripleo"" | cut -d= -f2` if [[ -z ""$rdo_dlrn"" ]]; then echo ""Failed to parse dlrn hash"" exit 1 fi export RDO_DLRN_REPO=${rdo_dlrn/https:\/\/trunk.rdoproject.org/$NODEPOOL_RDO_PROXY} repos: - type: file filename: delorean.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/${DLRN_PATH_TAG}/delorean.repo"" # ATM current is not used in promotion jobs, this is a bug. # However for consistency w/ what is merged. removing # See config/release/tripleo-ci/CentOS-7/promotion-testing-hash-wallaby.yml#L48-L64 # ""https://trunk.rdoproject.org/centos8-wallaby/component/tripleo/current/delorean.repo"" - type: generic reponame: delorean-current filename: delorean-current.repo baseurl: $RDO_DLRN_REPO priority: 10 includepkgs: - ansible-role-container-registry - ansible-role-tripleo* - ansible-tripleo-ipsec - instack - instack-undercloud - openstack-tripleo-* - os-apply-config - os-collect-config - os-net-config - os-refresh-config - puppet-oslo - puppet-cinder - puppet-heat - puppet-neutron - puppet-nova - puppet-glance - puppet-horizon - puppet-ironic - puppet-keystone - puppet-openstacklib - puppet-placement - puppet-swift - puppet-tripleo - python*-tripleo* - tripleo-ansible - ansible-config_template - tripleo-operator-ansible - type: file filename: delorean-wallaby-deps.repo down_url: ""https://trunk.rdoproject.org/{{ distro_ver }}-{{ release }}/delorean-deps.repo"" # CentOS related repos - type: generic reponame: quickstart-centos-base filename: quickstart-centos-base.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/BaseOS/x86_64/os/ - type: generic reponame: quickstart-centos-appstreams filename: quickstart-centos-appstreams.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/AppStream/x86_64/os/ # centos9 the equivalent to powertools is CRB - type: generic reponame: quickstart-centos-crb filename: quickstart-centos-crb.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/CRB/x86_64/os/ - type: generic reponame: quickstart-centos-highavailability filename: quickstart-centos-highavailability.repo baseurl: ${NODEPOOL_CENTOS_MIRROR}/9-stream/HighAvailability/x86_64/os/ # Extras will be available once c9 get's released as this contains release rpms for SIG. # - type: generic # reponame: quickstart-centos-extras # filename: quickstart-centos-extras.repo # baseurl: https://composes.stream.centos.org/production/latest-CentOS-Stream/compose/extras/x86_64/os/ repo_cmd_after: | # # Replace trunk.rdoproject.org to nodepool proxy sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean.repo sudo sed -i -e ""s|https://trunk.rdoproject.org|$NODEPOOL_RDO_PROXY|g"" /etc/yum.repos.d/delorean-wallaby-deps.repo sudo sed -i -e ""s|priority=1|priority=20|g"" /etc/yum.repos.d/delorean.repo # continue from here sudo rpm -e epel-release || true; sudo dnf remove -y rdo-release centos-release-ceph-* centos-release-openstack-* || true; sudo rm -rf /etc/yum.repos.d/CentOS-OpenStack-*.repo /etc/yum.repos.d/CentOS-Ceph-*.repo; sudo rm -rf /etc/yum.repos.d/*.rpmsave; sudo dnf repolist; sudo dnf module list; sudo dnf clean metadata {% if repo_setup_run_update|default(true)|bool %} sudo dnf update -y {% endif %} undercloud_rpm_dependencies: >- python3-tripleoclient tripleo-operator-ansible # Setting base_image_url and base_image_path to overwrite DIB_LOCAL_IMAGE in # the diskimage-builder base_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2 base_image_path: ""{{ ansible_user_dir }}/CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2"" # baseos settings baseos_undercloud_image_url: https://cloud.centos.org/centos/9-stream/x86_64/images/CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2 baseos_image: centos baseos_image_type: qcow2 baseos_md5sum: ""a42ef58319a546d038ea716dc693dda6 CentOS-Stream-GenericCloud-9-20211020.0.x86_64.qcow2"" ",,184,0
openstack%2Fkayobe~stable%2Fwallaby~I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,openstack/kayobe,stable/wallaby,I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,[CI] Drop unused nodeset,MERGED,2022-01-03 11:27:54.000000000,2022-01-06 20:54:52.000000000,2022-01-06 20:46:55.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 11:27:54.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4d7770820e7a3ebcb1851ef2f43d16848d9835ae', 'message': '[CI] Drop unused nodeset\n\nIt is required for infra cleanup.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n\nChange-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3\n'}]",0,823290,4d7770820e7a3ebcb1851ef2f43d16848d9835ae,10,3,1,30491,,,0,"[CI] Drop unused nodeset

It is required for infra cleanup.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html

Change-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/90/823290/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,4d7770820e7a3ebcb1851ef2f43d16848d9835ae,ci-stop-testing-non-stream-centos,, name: kayobe-centos8 nodes: - name: primary label: centos-8 - nodeset:,0,6
openstack%2Fkayobe~stable%2Fxena~I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,openstack/kayobe,stable/xena,I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,[CI] Drop unused nodeset,MERGED,2022-01-03 11:27:34.000000000,2022-01-06 20:52:40.000000000,2022-01-06 20:43:08.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 11:27:34.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c97b7e21947e43b893015dce0229d456b94ad4b1', 'message': '[CI] Drop unused nodeset\n\nIt is required for infra cleanup.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n\nChange-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3\n'}]",0,823149,c97b7e21947e43b893015dce0229d456b94ad4b1,10,3,1,30491,,,0,"[CI] Drop unused nodeset

It is required for infra cleanup.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html

Change-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/49/823149/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,c97b7e21947e43b893015dce0229d456b94ad4b1,ci-stop-testing-non-stream-centos,, name: kayobe-centos8 nodes: - name: primary label: centos-8 - nodeset:,0,6
openstack%2Fswift~master~Idd517e97beab7813fc782b60cc01bcc20cd54c24,openstack/swift,master,Idd517e97beab7813fc782b60cc01bcc20cd54c24,recon: only query each host once for disk usage,MERGED,2021-11-23 11:14:00.000000000,2022-01-06 20:40:54.000000000,2022-01-06 20:38:29.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-23 11:14:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/73d592cec60fdaab8aa9d027fee51bacbd465609', 'message': ""recon: only count each host once\n\n`swift-recon -d` asks each server:port pair about its disks, which\nmeans if you have servers_per_port enabled it will multiply-count the\ndisks on any servers that have more than one port enabled.\n\nThis is the simplest-possible fix for this issue - keep track of which\nhosts we've had an answer from, and discard answers from hosts we've\nalready counted.\n\nCloses-Bug: 1947852\nChange-Id: Idd517e97beab7813fc782b60cc01bcc20cd54c24\n""}, {'number': 2, 'created': '2021-11-26 11:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3cc143e4966eee5bbe1252d78a645c1a1da9efd3', 'message': ""recon: only query each host once for disk usage\n\n`swift-recon -d` asks each server:port pair about its disks, which\nmeans if you have servers_per_port enabled it will multiply-count the\ndisks on any servers that have more than one port enabled.\n\nWe only want to query each host once, and don't care which of the\navailable ports we use, so filter the hosts set to ensure each host\nonly appears in it once.\n\nCloses-Bug: 1947852\nChange-Id: Idd517e97beab7813fc782b60cc01bcc20cd54c24\n""}, {'number': 3, 'created': '2021-11-26 14:25:51.000000000', 'files': ['swift/cli/recon.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/1942262dbfcfb278be6498cfb0524bb603faf03f', 'message': ""recon: only query each host once for disk usage\n\n`swift-recon -d` asks each server:port pair about its disks, which\nmeans if you have servers_per_port enabled it will multiply-count the\ndisks on any servers that have more than one port enabled.\n\nWe only want to query each host once, and don't care which of the\navailable ports we use, so filter the hosts set to ensure each host\nonly appears in it once.\n\nCloses-Bug: 1947852\nChange-Id: Idd517e97beab7813fc782b60cc01bcc20cd54c24\n""}]",11,818881,1942262dbfcfb278be6498cfb0524bb603faf03f,16,2,3,34175,,,0,"recon: only query each host once for disk usage

`swift-recon -d` asks each server:port pair about its disks, which
means if you have servers_per_port enabled it will multiply-count the
disks on any servers that have more than one port enabled.

We only want to query each host once, and don't care which of the
available ports we use, so filter the hosts set to ensure each host
only appears in it once.

Closes-Bug: 1947852
Change-Id: Idd517e97beab7813fc782b60cc01bcc20cd54c24
",git fetch https://review.opendev.org/openstack/swift refs/changes/81/818881/2 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/recon.py'],1,73d592cec60fdaab8aa9d027fee51bacbd465609,, hosts_checked = [] host = urlparse(url).netloc.split(':')[0] if host in hosts_checked: continue hosts_checked.append(host),,5,0
openstack%2Fneutron~stable%2Fussuri~I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd,openstack/neutron,stable/ussuri,I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd,Fix ObjectChangeHandler thread usage,MERGED,2021-12-21 21:14:04.000000000,2022-01-06 20:40:53.000000000,2022-01-06 20:38:25.000000000,"[{'_account_id': 5948}, {'_account_id': 12825}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-21 21:14:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e98e87dbc18cb6885717f24ac543c81d376e45a8', 'message': 'Fix ObjectChangeHandler thread usage\n\nInstead of spawning new thread for each OVO change,\nkeep one long running thread fetching changes\nfrom queue.\n\nConflicts:\n    neutron/plugins/ml2/ovo_rpc.py\n\nCloses-Bug: #1926417\nChange-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd\n(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)\n'}, {'number': 2, 'created': '2021-12-22 07:56:05.000000000', 'files': ['neutron/plugins/ml2/ovo_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9384908c40c731a5e297b0cd1f41821ed23c638c', 'message': 'Fix ObjectChangeHandler thread usage\n\nInstead of spawning new thread for each OVO change,\nkeep one long running thread fetching changes\nfrom queue.\n\nConflicts:\n    neutron/plugins/ml2/ovo_rpc.py\n\nCloses-Bug: #1926417\nChange-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd\n(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)\n'}]",8,822521,9384908c40c731a5e297b0cd1f41821ed23c638c,31,5,2,11975,,,0,"Fix ObjectChangeHandler thread usage

Instead of spawning new thread for each OVO change,
keep one long running thread fetching changes
from queue.

Conflicts:
    neutron/plugins/ml2/ovo_rpc.py

Closes-Bug: #1926417
Change-Id: I390cabeaf6ebbc1c6206fe2cc226ef437462c7fd
(cherry picked from commit 9ae22b1fefabe8bf18d5dd26f49821b673bd39d4)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/822521/2 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/ovo_rpc.py'],1,e98e87dbc18cb6885717f24ac543c81d376e45a8,bug/1926417-stable/wallaby-stable/victoria-stable/ussuri,"import atexit import queue import signal import threadingimport weakref MAX_IDLE_FOR = 1 _TO_CLEAN = weakref.WeakSet() self._resources_to_push = queue.Queue() self._stop = threading.Event() self._worker = threading.Thread( target=self.dispatch_events, name='ObjectChangeHandler[%s]' % self._resource, daemon=True) self._worker.start() self._TO_CLEAN.add(self) def stop(self): self._stop.set() self._resources_to_push.join() self._resources_to_push.put((resource_id, context.to_dict())) def dispatch_events(self): LOG.debug('Thread %(name)s started', {'name': self._worker.name}) while not self._stop.is_set(): try: resource_id, context_dict = self._resources_to_push.get( timeout=self.MAX_IDLE_FOR) context = n_ctx.Context.from_dict(context_dict) # attempt to get regardless of event type so concurrent delete # after create/update is the same code-path as a delete event with db_api.get_context_manager().independent.reader.using( context): obj = self._obj_class.get_object(context, id=resource_id) # CREATE events are always treated as UPDATE events to ensure # listeners are written to handle out-of-order messages if obj is None: rpc_event = rpc_events.DELETED # construct a fake object with the right ID so we can # have a payload for the delete message. obj = self._obj_class(id=resource_id) else: rpc_event = rpc_events.UPDATED self._resource_push_api.push(context, [obj], rpc_event) self._resources_to_push.task_done() except queue.Empty: pass except Exception as e: LOG.exception( ""Exception while dispatching %(res)s events: %(e)s"", {'res': self._resource, 'e': e}) LOG.debug('Thread %(name)s finished with %(msgs)s unsent messages', {'name': self._worker.name, 'msgs': self._resources_to_push.unfinished_tasks}) @classmethod def clean_up(cls, *args, **kwargs): """"""Ensure all threads that were created were destroyed cleanly."""""" while cls._TO_CLEAN: worker = cls._TO_CLEAN.pop() worker.stop() atexit.register(_ObjectChangeHandler.clean_up) signal.signal(signal.SIGINT, _ObjectChangeHandler.clean_up) signal.signal(signal.SIGTERM, _ObjectChangeHandler.clean_up)"," import futurist from futurist import waitersfrom oslo_concurrency import lockutils self._resources_to_push = {} # NOTE(annp): uWSGI seems not happy with eventlet.GreenPool. # So switching to ThreadPool self._worker_pool = futurist.ThreadPoolExecutor() self.fts = [] done, not_done = waiters.wait_for_all(self.fts) if not not_done: del self.fts[:] self._resources_to_push[resource_id] = context.to_dict() # spawn worker so we don't block main AFTER_UPDATE thread self.fts.append(self._worker_pool.submit(self.dispatch_events)) @lockutils.synchronized('event-dispatch') def dispatch_events(self): # this is guarded by a lock to ensure we don't get too many concurrent # dispatchers hitting the database simultaneously. to_dispatch, self._resources_to_push = self._resources_to_push, {} for resource_id, context_dict in to_dispatch.items(): context = n_ctx.Context.from_dict(context_dict) # attempt to get regardless of event type so concurrent delete # after create/update is the same code-path as a delete event with db_api.get_context_manager().independent.reader.using( context): obj = self._obj_class.get_object(context, id=resource_id) # CREATE events are always treated as UPDATE events to ensure # listeners are written to handle out-of-order messages if obj is None: rpc_event = rpc_events.DELETED # construct a fake object with the right ID so we can # have a payload for the delete message. obj = self._obj_class(id=resource_id) else: rpc_event = rpc_events.UPDATED self._resource_push_api.push(context, [obj], rpc_event)",63,38
openstack%2Fkolla-ansible~master~Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3,openstack/kolla-ansible,master,Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3,Refactor of kolla_docker into module_utils,MERGED,2021-11-15 14:02:05.000000000,2022-01-06 20:03:51.000000000,2022-01-06 20:01:45.000000000,"[{'_account_id': 13252}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 27339}, {'_account_id': 29636}, {'_account_id': 30491}, {'_account_id': 32761}, {'_account_id': 34113}]","[{'number': 1, 'created': '2021-11-15 14:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e7b0d8fcf35a6a0b34452580773fef03da3b2447', 'message': 'Refactor of kolla_docker into module_utils\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\n'}, {'number': 2, 'created': '2021-11-17 14:22:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4c8a599ebb3670e0fe99dac8f47e6c6d0440d4fa', 'message': 'Refactor of kolla_docker into module_utils\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\n'}, {'number': 3, 'created': '2021-11-17 14:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aedc3acebc05e3121810a4021cecfa5d09cd92dd', 'message': ""Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into it's separate file\nin module_utils directory. Abstract class ContainerWorker with common\ncode was created for future inclusion of Podman functionality\nin the module.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\n""}, {'number': 4, 'created': '2021-11-24 13:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3c066c9ab4311e374e885b63b0f317e51d396f6e', 'message': ""Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into it's separate file\nin module_utils directory for future extension.\nUnit tests changed accordingly.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\n""}, {'number': 5, 'created': '2021-12-08 13:50:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aa84458e070c36cd96286fe47ae769fe7a9cf465', 'message': ""Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into it's separate file\nin module_utils directory for future extension.\nUnit tests changed accordingly.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n""}, {'number': 6, 'created': '2022-01-04 11:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d848d53e4ec0d00203841e8539426d9bd098b86e', 'message': ""Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into it's separate file\nin module_utils directory for future extension.\nUnit tests changed accordingly.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n""}, {'number': 7, 'created': '2022-01-05 10:00:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/aad03c617345fdd9a9da1069b31a65b349629b86', 'message': ""Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into it's separate file\nin module_utils directory for future extension.\nUnit tests changed accordingly.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\nSigned-off-by: Martin Hiner <martin.hiner@tietoevry.com>\n""}, {'number': 8, 'created': '2022-01-06 11:03:25.000000000', 'files': ['ansible/module_utils/kolla_docker_worker.py', 'tests/link-module-utils.sh', 'tests/test_kolla_docker.py', 'ansible/library/kolla_docker.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a9fbcb18553a0a3541ac52ab7d2982857a9389e0', 'message': 'Refactor of kolla_docker into module_utils\n\nMoved the DockerWorker class from module file into its separate file\nin module_utils directory for future extension.\nUnit tests changed accordingly.\n\nSigned-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>\nCo-authored-by: Martin Hiner <martin.hiner@tietoevry.com>\nChange-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3\n'}]",32,817954,a9fbcb18553a0a3541ac52ab7d2982857a9389e0,48,8,8,33708,,,0,"Refactor of kolla_docker into module_utils

Moved the DockerWorker class from module file into its separate file
in module_utils directory for future extension.
Unit tests changed accordingly.

Signed-off-by: Ivan Halomi <ivan.halomi@tietoevry.com>
Co-authored-by: Martin Hiner <martin.hiner@tietoevry.com>
Change-Id: Ia2a471a9a2805e13b2c20dbf8a7297c23231aae3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/54/817954/6 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/module_utils/docker_worker.py', 'ansible/library/kolla_docker.py', 'ansible.cfg']",3,e7b0d8fcf35a6a0b34452580773fef03da3b2447,refactor,[defaults] module_utils = ansible/module_utils,,876,859
openstack%2Ftripleo-common~stable%2Fwallaby~Iae51282a61d16edb5a67162fca42ffcca7ba5d80,openstack/tripleo-common,stable/wallaby,Iae51282a61d16edb5a67162fca42ffcca7ba5d80,Do not fail if initiatorname.iscsi does not exist,MERGED,2022-01-06 10:58:45.000000000,2022-01-06 18:56:06.000000000,2022-01-06 18:53:52.000000000,"[{'_account_id': 7144}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 16312}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-01-06 10:58:45.000000000', 'files': ['container-images/tcib/base/os/iscsid/iscsid.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f6e8a5b28339198e54aaeb594058db15c729d25c', 'message': ""Do not fail if initiatorname.iscsi does not exist\n\nIn iscsid container image initiatorname.iscsi file is removed as it\nneeds to be different on each container. Until CentOS8, this file was\ncreated when installing iscsi-initiator-utils but in CentOS 9 preview\nthis file is created by a systemd service if it does not exist, so we\nshouldn't assume it will always exist.\n\nCloses-Bug: #1956576\n\nChange-Id: Iae51282a61d16edb5a67162fca42ffcca7ba5d80\n(cherry picked from commit 64b6bd6c501e31569b7ef468e5f11d86202aa00a)\n""}]",0,823605,f6e8a5b28339198e54aaeb594058db15c729d25c,10,10,1,12393,,,0,"Do not fail if initiatorname.iscsi does not exist

In iscsid container image initiatorname.iscsi file is removed as it
needs to be different on each container. Until CentOS8, this file was
created when installing iscsi-initiator-utils but in CentOS 9 preview
this file is created by a systemd service if it does not exist, so we
shouldn't assume it will always exist.

Closes-Bug: #1956576

Change-Id: Iae51282a61d16edb5a67162fca42ffcca7ba5d80
(cherry picked from commit 64b6bd6c501e31569b7ef468e5f11d86202aa00a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/05/823605/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/iscsid/iscsid.yaml'],1,f6e8a5b28339198e54aaeb594058db15c729d25c,,- run: rm -f /etc/iscsi/initiatorname.iscsi,- run: rm /etc/iscsi/initiatorname.iscsi,1,1
openstack%2Foctavia~stable%2Fussuri~I7692155fb113442b692267ab12b69ab90200bcb5,openstack/octavia,stable/ussuri,I7692155fb113442b692267ab12b69ab90200bcb5,Fix LB set in ERROR too early in MapLoadbalancerToAmphora,MERGED,2021-12-03 08:24:22.000000000,2022-01-06 18:52:34.000000000,2022-01-06 18:50:28.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 08:24:22.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0d25fe5fff0ab4c2815e8ec2fc9da7c8fe70171b', 'message': 'Fix LB set in ERROR too early in MapLoadbalancerToAmphora\n\nThis is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,\nthis fix applies only on Wallaby and older releases because the code was\nremoved during the Xena cycle.\n\nIt removes calls to mark_loadbalancer_prov_status_error in revert method\nof tasks (except in LoadBalancer*ToErrorOnRevertTask)\n\nStory 2009651\nTask 43810\nStory 2009652\nTask 43811\n\nChange-Id: I7692155fb113442b692267ab12b69ab90200bcb5\n(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)\n(cherry picked from commit de20868ab74e5d0b3b24e254b8c4cefae7b78fb6)\n'}]",3,820329,0d25fe5fff0ab4c2815e8ec2fc9da7c8fe70171b,14,3,1,29244,,,0,"Fix LB set in ERROR too early in MapLoadbalancerToAmphora

This is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,
this fix applies only on Wallaby and older releases because the code was
removed during the Xena cycle.

It removes calls to mark_loadbalancer_prov_status_error in revert method
of tasks (except in LoadBalancer*ToErrorOnRevertTask)

Story 2009651
Task 43810
Story 2009652
Task 43811

Change-Id: I7692155fb113442b692267ab12b69ab90200bcb5
(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)
(cherry picked from commit de20868ab74e5d0b3b24e254b8c4cefae7b78fb6)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/29/820329/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py']",4,0d25fe5fff0ab4c2815e8ec2fc9da7c8fe70171b,,," # Test revert map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) ",0,74
openstack%2Foctavia~stable%2Ftrain~I7692155fb113442b692267ab12b69ab90200bcb5,openstack/octavia,stable/train,I7692155fb113442b692267ab12b69ab90200bcb5,Fix LB set in ERROR too early in MapLoadbalancerToAmphora,MERGED,2021-12-03 08:28:21.000000000,2022-01-06 18:39:13.000000000,2022-01-06 18:36:46.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2021-12-03 08:28:21.000000000', 'files': ['octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/51c6d8bd9006041c782bb115ec10627e86b87327', 'message': 'Fix LB set in ERROR too early in MapLoadbalancerToAmphora\n\nThis is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,\nthis fix applies only on Wallaby and older releases because the code was\nremoved during the Xena cycle.\n\nIt removes calls to mark_loadbalancer_prov_status_error in revert method\nof tasks (except in LoadBalancer*ToErrorOnRevertTask)\n\nStory 2009651\nTask 43810\nStory 2009652\nTask 43811\n\nConflicts:\n\toctavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py\n\toctavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py\n\nChange-Id: I7692155fb113442b692267ab12b69ab90200bcb5\n(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)\n(cherry picked from commit de20868ab74e5d0b3b24e254b8c4cefae7b78fb6)\n(cherry picked from commit 0d25fe5fff0ab4c2815e8ec2fc9da7c8fe70171b)\n'}]",3,820350,51c6d8bd9006041c782bb115ec10627e86b87327,15,4,1,29244,,,0,"Fix LB set in ERROR too early in MapLoadbalancerToAmphora

This is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,
this fix applies only on Wallaby and older releases because the code was
removed during the Xena cycle.

It removes calls to mark_loadbalancer_prov_status_error in revert method
of tasks (except in LoadBalancer*ToErrorOnRevertTask)

Story 2009651
Task 43810
Story 2009652
Task 43811

Conflicts:
	octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py
	octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py

Change-Id: I7692155fb113442b692267ab12b69ab90200bcb5
(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)
(cherry picked from commit de20868ab74e5d0b3b24e254b8c4cefae7b78fb6)
(cherry picked from commit 0d25fe5fff0ab4c2815e8ec2fc9da7c8fe70171b)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/50/820350/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py']",2,51c6d8bd9006041c782bb115ec10627e86b87327,,," # Test revert map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) ",0,21
openstack%2Foctavia~stable%2Fvictoria~I7692155fb113442b692267ab12b69ab90200bcb5,openstack/octavia,stable/victoria,I7692155fb113442b692267ab12b69ab90200bcb5,Fix LB set in ERROR too early in MapLoadbalancerToAmphora,MERGED,2021-12-03 08:19:32.000000000,2022-01-06 18:38:52.000000000,2022-01-06 18:36:30.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-03 08:19:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/93d17286a367a8ee79147ec09fe3ddfc6e6bdb81', 'message': 'Fix LB set in ERROR too early in MapLoadbalancerToAmphora\n\nThis is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,\nthis fix applies only on Wallaby and older releases because the code was\nremoved during the Xena cycle.\n\nIt removes calls to mark_loadbalancer_prov_status_error in revert method\nof tasks (except in LoadBalancer*ToErrorOnRevertTask)\n\nStory 2009651\nTask 43810\nStory 2009652\nTask 43811\n\nChange-Id: I7692155fb113442b692267ab12b69ab90200bcb5\n'}, {'number': 2, 'created': '2021-12-03 08:22:12.000000000', 'files': ['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/de20868ab74e5d0b3b24e254b8c4cefae7b78fb6', 'message': 'Fix LB set in ERROR too early in MapLoadbalancerToAmphora\n\nThis is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,\nthis fix applies only on Wallaby and older releases because the code was\nremoved during the Xena cycle.\n\nIt removes calls to mark_loadbalancer_prov_status_error in revert method\nof tasks (except in LoadBalancer*ToErrorOnRevertTask)\n\nStory 2009651\nTask 43810\nStory 2009652\nTask 43811\n\nChange-Id: I7692155fb113442b692267ab12b69ab90200bcb5\n(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)\n'}]",3,820328,de20868ab74e5d0b3b24e254b8c4cefae7b78fb6,15,3,2,29244,,,0,"Fix LB set in ERROR too early in MapLoadbalancerToAmphora

This is a follow up patch for I48b0f5a773209b1c1b056d71c0da05d6fd82ca73,
this fix applies only on Wallaby and older releases because the code was
removed during the Xena cycle.

It removes calls to mark_loadbalancer_prov_status_error in revert method
of tasks (except in LoadBalancer*ToErrorOnRevertTask)

Story 2009651
Task 43810
Story 2009652
Task 43811

Change-Id: I7692155fb113442b692267ab12b69ab90200bcb5
(cherry picked from commit 9b7791db522e7c4a30862cb4d2fb86ffd2de9ad2)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/28/820328/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/unit/controller/worker/v2/tasks/test_database_tasks.py', 'octavia/controller/worker/v1/tasks/database_tasks.py', 'octavia/controller/worker/v2/tasks/database_tasks.py', 'octavia/tests/unit/controller/worker/v1/tasks/test_database_tasks.py']",4,93d17286a367a8ee79147ec09fe3ddfc6e6bdb81,,," # Test revert map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) # Test revert with exception repo.LoadBalancerRepository.update.reset_mock() mock_loadbalancer_repo_update.side_effect = Exception('fail') map_lb_to_amp.revert(None, self.loadbalancer_mock.id) repo.LoadBalancerRepository.update.assert_called_once_with( 'TEST', id=LB_ID, provisioning_status=constants.ERROR) ",0,74
openstack%2Fneutron~stable%2Fussuri~Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,openstack/neutron,stable/ussuri,Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,"Reduce log level in ""ensure_device_is_ready""",MERGED,2022-01-04 16:59:20.000000000,2022-01-06 18:37:05.000000000,2022-01-06 18:28:16.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 16:59:20.000000000', 'files': ['neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ee794994d5b7cd3e049a3d68e4cc07ed7cf121d7', 'message': 'Reduce log level in ""ensure_device_is_ready""\n\nIf the device is not ready, the method should inform about this\nevent. The code calling this method, if needed, can write a higher\nlog message.\n\nChange-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7\nCloses-Bug: #1896920\n(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)\n'}]",0,823362,ee794994d5b7cd3e049a3d68e4cc07ed7cf121d7,9,4,1,7130,,,0,"Reduce log level in ""ensure_device_is_ready""

If the device is not ready, the method should inform about this
event. The code calling this method, if needed, can write a higher
log message.

Change-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7
Closes-Bug: #1896920
(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/823362/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,ee794994d5b7cd3e049a3d68e4cc07ed7cf121d7,bug/1896920-stable/train-stable/victoria-stable/ussuri," LOG.info(""Device %s cannot be used as it has no MAC "" ""address"", device_name)"," LOG.error(""Device %s cannot be used as it has no MAC "" ""address"", device_name)",2,2
openstack%2Fneutron~stable%2Fvictoria~Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,openstack/neutron,stable/victoria,Ib7c5ba736f6e4ccc88df665faeef304c176a24e7,"Reduce log level in ""ensure_device_is_ready""",MERGED,2022-01-04 16:59:09.000000000,2022-01-06 18:35:25.000000000,2022-01-06 18:28:12.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 16:59:09.000000000', 'files': ['neutron/agent/linux/ip_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/993597d998f0ae9df3774e560f51589da1291d7a', 'message': 'Reduce log level in ""ensure_device_is_ready""\n\nIf the device is not ready, the method should inform about this\nevent. The code calling this method, if needed, can write a higher\nlog message.\n\nChange-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7\nCloses-Bug: #1896920\n(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)\n'}]",1,823361,993597d998f0ae9df3774e560f51589da1291d7a,9,4,1,7130,,,0,"Reduce log level in ""ensure_device_is_ready""

If the device is not ready, the method should inform about this
event. The code calling this method, if needed, can write a higher
log message.

Change-Id: Ib7c5ba736f6e4ccc88df665faeef304c176a24e7
Closes-Bug: #1896920
(cherry picked from commit b1f1c8aa50012d09b7a81abfb99d02e0c457fc8c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/823361/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/ip_lib.py'],1,993597d998f0ae9df3774e560f51589da1291d7a,bug/1896920-stable/train-stable/victoria," LOG.info(""Device %s cannot be used as it has no MAC "" ""address"", device_name)"," LOG.error(""Device %s cannot be used as it has no MAC "" ""address"", device_name)",2,2
openstack%2Fneutron~stable%2Fxena~I1b5773d4ba02298f360f3ee1ae3e5de6479391e9,openstack/neutron,stable/xena,I1b5773d4ba02298f360f3ee1ae3e5de6479391e9,Recheck irrelevant files,MERGED,2022-01-04 04:41:00.000000000,2022-01-06 18:35:24.000000000,2022-01-06 18:28:03.000000000,"[{'_account_id': 1131}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 04:41:00.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef1ec89fbc7a8d6ead20587911c142a8616143fe', 'message': 'Recheck irrelevant files\n\nChange-Id: I1b5773d4ba02298f360f3ee1ae3e5de6479391e9\n(cherry picked from commit e68d89c3d4e96792c323fd031ae582034d030f7c)\n'}]",1,823302,ef1ec89fbc7a8d6ead20587911c142a8616143fe,10,7,1,13861,,,0,"Recheck irrelevant files

Change-Id: I1b5773d4ba02298f360f3ee1ae3e5de6479391e9
(cherry picked from commit e68d89c3d4e96792c323fd031ae582034d030f7c)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/02/823302/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-multinode.yaml', 'zuul.d/rally.yaml', 'zuul.d/tempest-singlenode.yaml', 'zuul.d/tripleo.yaml', 'zuul.d/grenade.yaml', 'zuul.d/base.yaml']",6,ef1ec89fbc7a8d6ead20587911c142a8616143fe,recheck_irrelevant_files-stable/xena, - ^neutron/tests/fullstack/.*$ - ^playbooks/.*$ - ^roles/.*$ - ^rally-jobs/.*$ - ^neutron/tests/functional/.*$ - ^vagrant/.*$ - ^devstack/.*\.sample$ - ^playbooks/.*$ - ^roles/.*$ - ^rally-jobs/.*$,,22,7
openstack%2Fneutron~stable%2Fussuri~I78dd012764c7bd7a29aeb8d97c00b627d7723aeb,openstack/neutron,stable/ussuri,I78dd012764c7bd7a29aeb8d97c00b627d7723aeb,"Do not announce any DNS resolver if ""0.0.0.0"" or ""::"" provided",MERGED,2021-12-20 09:45:43.000000000,2022-01-06 18:35:11.000000000,2022-01-06 18:28:07.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-20 09:45:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7453c3cb7c92f2a1a765d3926c2396aefa5fb430', 'message': 'Do not announce any DNS resolver if ""0.0.0.0"" or ""::"" provided\n\nThe DHCP server should not announce any DNS resolver at all on the\nsubnet if ""0.0.0.0"" (IPv4) or ""::"" (IPv6) are configured as DNS\nname servers in any subnet.\n\nhttps://docs.openstack.org/neutron/latest/admin/config-dns-res.html\n\nConflicts:\n    neutron/common/ovn/utils.py\n    neutron/tests/unit/common/ovn/test_utils.py\n\nCloses-Bug: #1950686\nChange-Id: I78dd012764c7bd7a29aeb8d97c00b627d7723aeb\n(cherry picked from commit a416f8b0ab810f34ea274183df590a73d150a137)\n(cherry picked from commit 625fa3a5b2b1485f8a1be2b2ee75febd00161dae)\n'}, {'number': 2, 'created': '2021-12-20 16:04:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d42b7d34c81e810ed49c5181df31bdb8d94db300', 'message': 'Do not announce any DNS resolver if ""0.0.0.0"" or ""::"" provided\n\nThe DHCP server should not announce any DNS resolver at all on the\nsubnet if ""0.0.0.0"" (IPv4) or ""::"" (IPv6) are configured as DNS\nname servers in any subnet.\n\nhttps://docs.openstack.org/neutron/latest/admin/config-dns-res.html\n\nConflicts:\n    neutron/common/ovn/utils.py\n    neutron/tests/unit/common/ovn/test_utils.py\n\nCloses-Bug: #1950686\nChange-Id: I78dd012764c7bd7a29aeb8d97c00b627d7723aeb\n(cherry picked from commit a416f8b0ab810f34ea274183df590a73d150a137)\n(cherry picked from commit 625fa3a5b2b1485f8a1be2b2ee75febd00161dae)\n'}, {'number': 3, 'created': '2022-01-04 10:07:20.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/utils.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/329d25cce31569f4b5faa1472008758adf4f3157', 'message': 'Do not announce any DNS resolver if ""0.0.0.0"" or ""::"" provided\n\nThe DHCP server should not announce any DNS resolver at all on the\nsubnet if ""0.0.0.0"" (IPv4) or ""::"" (IPv6) are configured as DNS\nname servers in any subnet.\n\nhttps://docs.openstack.org/neutron/latest/admin/config-dns-res.html\n\nConflicts:\n    neutron/common/ovn/utils.py\n    neutron/tests/unit/common/ovn/test_utils.py\n\nCloses-Bug: #1950686\nChange-Id: I78dd012764c7bd7a29aeb8d97c00b627d7723aeb\n(cherry picked from commit a416f8b0ab810f34ea274183df590a73d150a137)\n(cherry picked from commit 625fa3a5b2b1485f8a1be2b2ee75febd00161dae)\n'}]",2,822297,329d25cce31569f4b5faa1472008758adf4f3157,14,3,3,16688,,,0,"Do not announce any DNS resolver if ""0.0.0.0"" or ""::"" provided

The DHCP server should not announce any DNS resolver at all on the
subnet if ""0.0.0.0"" (IPv4) or ""::"" (IPv6) are configured as DNS
name servers in any subnet.

https://docs.openstack.org/neutron/latest/admin/config-dns-res.html

Conflicts:
    neutron/common/ovn/utils.py
    neutron/tests/unit/common/ovn/test_utils.py

Closes-Bug: #1950686
Change-Id: I78dd012764c7bd7a29aeb8d97c00b627d7723aeb
(cherry picked from commit a416f8b0ab810f34ea274183df590a73d150a137)
(cherry picked from commit 625fa3a5b2b1485f8a1be2b2ee75febd00161dae)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/822297/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/utils.py', 'neutron/agent/linux/dhcp.py']",5,7453c3cb7c92f2a1a765d3926c2396aefa5fb430,bug/1950686," if common_utils.is_dns_servers_any_address( subnet.dns_nameservers, subnet.ip_version):", if ((subnet.ip_version == 4 and subnet.dns_nameservers == ['0.0.0.0']) or (subnet.ip_version == 6 and subnet.dns_nameservers == ['::'])):,93,11
openstack%2Fpython-tripleoclient~master~Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6,openstack/python-tripleoclient,master,Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6,Removed overcloud container commands,MERGED,2021-11-17 15:18:23.000000000,2022-01-06 18:24:16.000000000,2022-01-06 18:20:04.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-11-17 15:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b9b50f3a5eb8f79dabe51945d4b6d46a1a8bd86e', 'message': 'Removed overcloud container commands\n\nThe following commands have been removed:\n\n  overcloud container image upload\n  overcloud container image build\n  overcloud container image prepare\n  overcloud container image tag discover\n\nThey were replaced by the tripleo container based commands and no longer\nfunction.\n\nChange-Id: Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6\n'}, {'number': 2, 'created': '2021-11-17 17:14:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9df67e659f2052659fb876672a6db8cc6de97fa6', 'message': 'Removed overcloud container commands\n\nThe following commands have been removed:\n\n  overcloud container image upload\n  overcloud container image build\n  overcloud container image prepare\n  overcloud container image tag discover\n\nThey were replaced by the tripleo container based commands and no longer\nfunction.\n\nChange-Id: Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6\n'}, {'number': 3, 'created': '2021-11-17 21:58:07.000000000', 'files': ['tripleoclient/v1/container_image.py', 'doc/source/commands.rst', 'tripleoclient/tests/v1/test_container_image.py', 'releasenotes/notes/remove-overcloud-container-commands-fe7185ee87aeda3a.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f321bb4688994462e84e958f32dc1917c5edd695', 'message': 'Removed overcloud container commands\n\nThe following commands have been removed:\n\n  overcloud container image upload\n  overcloud container image build\n  overcloud container image prepare\n  overcloud container image tag discover\n\nThey were replaced by the tripleo container based commands and no longer\nfunction.\n\nChange-Id: Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6\n'}]",13,818237,f321bb4688994462e84e958f32dc1917c5edd695,18,4,3,14985,,,0,"Removed overcloud container commands

The following commands have been removed:

  overcloud container image upload
  overcloud container image build
  overcloud container image prepare
  overcloud container image tag discover

They were replaced by the tripleo container based commands and no longer
function.

Change-Id: Ic1f4d76c9e7bf3579b7e47d87b0ee2c86251c0d6
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/37/818237/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/container_image.py', 'tripleoclient/tests/v1/test_container_image.py', 'releasenotes/notes/remove-overcloud-container-commands-fe7185ee87aeda3a.yaml', 'setup.cfg']",4,b9b50f3a5eb8f79dabe51945d4b6d46a1a8bd86e,remove-kolla,, overcloud_container_image_upload = tripleoclient.v1.container_image:UploadImage overcloud_container_image_build = tripleoclient.v1.container_image:BuildImage overcloud_container_image_prepare = tripleoclient.v1.container_image:PrepareImageFiles overcloud_container_image_tag_discover = tripleoclient.v1.container_image:DiscoverImageTag,7,1170
openstack%2Ftripleo-common~stable%2Fwallaby~Ief640de929cfda2ff48db9e703fe4981f2e3dbd7,openstack/tripleo-common,stable/wallaby,Ief640de929cfda2ff48db9e703fe4981f2e3dbd7,Remove memcachec from containers,MERGED,2022-01-06 07:44:33.000000000,2022-01-06 18:22:21.000000000,2022-01-06 18:20:07.000000000,"[{'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-01-06 07:44:33.000000000', 'files': ['container-images/tcib/base/collectd/collectd.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5e2c9993d409004aae0ced75520fef856295df77', 'message': 'Remove memcachec from containers\n\nIt is not configurable via puppet-collectd either.\n\nChange-Id: Ief640de929cfda2ff48db9e703fe4981f2e3dbd7\n(cherry picked from commit 0fbb8e4f4ccf25ae2f077dd5980393c0550f2163)\n'}]",0,823600,5e2c9993d409004aae0ced75520fef856295df77,11,7,1,4264,,,0,"Remove memcachec from containers

It is not configurable via puppet-collectd either.

Change-Id: Ief640de929cfda2ff48db9e703fe4981f2e3dbd7
(cherry picked from commit 0fbb8e4f4ccf25ae2f077dd5980393c0550f2163)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/00/823600/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/collectd/collectd.yaml'],1,5e2c9993d409004aae0ced75520fef856295df77,memcachec-stable/wallaby,, - collectd-memcachec,0,1
openstack%2Fpython-tripleoclient~master~I67b7dc71542533607e3280b4fac3acfb95203b41,openstack/python-tripleoclient,master,I67b7dc71542533607e3280b4fac3acfb95203b41,Fix deploy templates arg validation,MERGED,2021-12-22 15:23:23.000000000,2022-01-06 18:22:10.000000000,2022-01-06 18:20:02.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-12-22 15:23:23.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6e0f514c8f656f9b934252d39a929fac90ba24b8', 'message': ""Fix deploy templates arg validation\n\nWith the addition of the vip file validation, we broke the check for\nthe templates arg resulting in a stack trace if templates is not\nprovided rather then a user friendly error message. This change moves\nthe vip file validation to it's own check later in the process once the\nworking directory has been created. The working directory is not created\nuntil after the validation of params.\n\nChange-Id: I67b7dc71542533607e3280b4fac3acfb95203b41\nCloses-Bug: #1955573\n""}]",0,822721,6e0f514c8f656f9b934252d39a929fac90ba24b8,9,6,1,14985,,,0,"Fix deploy templates arg validation

With the addition of the vip file validation, we broke the check for
the templates arg resulting in a stack trace if templates is not
provided rather then a user friendly error message. This change moves
the vip file validation to it's own check later in the process once the
working directory has been created. The working directory is not created
until after the validation of params.

Change-Id: I67b7dc71542533607e3280b4fac3acfb95203b41
Closes-Bug: #1955573
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/21/822721/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v1/overcloud_deploy.py']",2,6e0f514c8f656f9b934252d39a929fac90ba24b8,bug/1955573,"def _validate_args(parsed_args): def _validate_vip_file(stack, working_dir): # Check vip_file only used with network data v2 networks_file_path = utils.get_networks_file_path(working_dir, stack) if not utils.is_network_data_v2(networks_file_path): raise oscexc.CommandError( 'The --vip-file option can only be used in combination with a ' 'network data v2 format networks file. The provided file {} ' 'is network data v1 format'.format(networks_file_path)) _validate_args(parsed_args) if parsed_args.vip_file: _validate_vip_file(parsed_args.stack, self.working_dir) ","def _validate_args(parsed_args, working_dir): if parsed_args.vip_file: # Check vip_file only used with network data v2 networks_file_path = utils.get_networks_file_path(working_dir, parsed_args.stack) if not utils.is_network_data_v2(networks_file_path): raise oscexc.CommandError( 'The --vip-file option can only be used in combination with a ' 'network data v2 format networks file. The provided file {} ' 'is network data v1 format'.format(networks_file_path)) _validate_args(parsed_args, self.working_dir) ",27,20
openstack%2Fkayobe~master~Ief9adfcff28d269fc80a073cdde536e8e803ca37,openstack/kayobe,master,Ief9adfcff28d269fc80a073cdde536e8e803ca37,Generate kolla config when running database commands,MERGED,2021-10-28 18:04:43.000000000,2022-01-06 17:05:43.000000000,2022-01-06 17:02:12.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2021-10-28 18:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c83e6a8b78f32c3d5c9eb104e4c731d2fa1619e3', 'message': 'Fix overcloud database backup\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 2, 'created': '2021-10-29 08:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f575bbbe5a823ecabd2317f9b72f858e71203de3', 'message': 'Fix overcloud database related commands when no kolla config\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 3, 'created': '2021-10-29 08:47:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/db4a1fc87d18ed23e473002e3aed34a55a46a1e0', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 4, 'created': '2021-10-29 09:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/75f314078d7a78d62eeb827b4aa44462237dd49e', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 5, 'created': '2021-10-29 09:50:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/94695c0667505a29ac183203ecfc29934512ecb3', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 6, 'created': '2022-01-04 15:56:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ba4bc48f6820e09cc35144a7fc958dab70b965d5', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}, {'number': 7, 'created': '2022-01-04 15:58:14.000000000', 'files': ['kayobe/tests/unit/cli/test_commands.py', 'kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/4321471a13eb949c2f5d57784557ddebb9b682f0', 'message': 'Generate kolla config when running database commands\n\nChange-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37\nStory: 2009648\nTask: 43807\n'}]",5,815895,4321471a13eb949c2f5d57784557ddebb9b682f0,18,4,7,28048,,,0,"Generate kolla config when running database commands

Change-Id: Ief9adfcff28d269fc80a073cdde536e8e803ca37
Story: 2009648
Task: 43807
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/95/815895/2 && git format-patch -1 --stdout FETCH_HEAD,"['kayobe/cli/commands.py', 'releasenotes/notes/fix-overcloud-database-backup-with-no-kolla-config-4f857915adabad41.yaml']",2,c83e6a8b78f32c3d5c9eb104e4c731d2fa1619e3,,--- fixes: - | The set of commands starting with ``kayobe overcloud database`` now generate the kolla configuration necessary to login to the nodes running the database. ,,14,0
openstack%2Fcharm-ops-openstack~master~If646b8e9df4adabdf7f782eb4e447ef385a90a4c,openstack/charm-ops-openstack,master,If646b8e9df4adabdf7f782eb4e447ef385a90a4c,Fixes typo on cinder config filename,MERGED,2022-01-06 14:36:12.000000000,2022-01-06 17:04:34.000000000,2022-01-06 17:04:34.000000000,"[{'_account_id': 20634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 14:36:12.000000000', 'files': ['ops_openstack/plugins/classes.py'], 'web_link': 'https://opendev.org/openstack/charm-ops-openstack/commit/ad443c2d8efc2c0cf8e643a342612a1e8a875138', 'message': 'Fixes typo on cinder config filename\n\nChange-Id: If646b8e9df4adabdf7f782eb4e447ef385a90a4c\n'}]",0,823696,ad443c2d8efc2c0cf8e643a342612a1e8a875138,6,2,1,33741,,,0,"Fixes typo on cinder config filename

Change-Id: If646b8e9df4adabdf7f782eb4e447ef385a90a4c
",git fetch https://review.opendev.org/openstack/charm-ops-openstack refs/changes/96/823696/1 && git format-patch -1 --stdout FETCH_HEAD,['ops_openstack/plugins/classes.py'],1,ad443c2d8efc2c0cf8e643a342612a1e8a875138,cinder-plugin-typo," ""/etc/cinder/cinder.conf"": {"," ""/etc/cinder/cinder.confg"": {",1,1
openstack%2Fpython-tripleoclient~master~I3ffc591989b619e534ff1d1574ffe841c8573357,openstack/python-tripleoclient,master,I3ffc591989b619e534ff1d1574ffe841c8573357,Make --deployed-server the default,MERGED,2021-11-03 10:43:27.000000000,2022-01-06 17:03:57.000000000,2022-01-06 17:00:35.000000000,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-11-03 10:43:27.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/deployed_server_default-0c2267c7588056fc.yaml', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f797e15dcfac7a6cae0335508af3d4a0944f8945', 'message': ""Make --deployed-server the default\n\nNow that ephemeral-heat is the default deployment mode, this\noption with default False is confusing.\n\nAlso, we don't get EndpointNotFound exception when instantiating\nclients, if the client library is present.\n\nChange-Id: I3ffc591989b619e534ff1d1574ffe841c8573357\n""}]",4,816450,f797e15dcfac7a6cae0335508af3d4a0944f8945,13,4,1,8833,,,0,"Make --deployed-server the default

Now that ephemeral-heat is the default deployment mode, this
option with default False is confusing.

Also, we don't get EndpointNotFound exception when instantiating
clients, if the client library is present.

Change-Id: I3ffc591989b619e534ff1d1574ffe841c8573357
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/50/816450/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'releasenotes/notes/deployed_server_default-0c2267c7588056fc.yaml', 'tripleoclient/v1/overcloud_deploy.py']",3,f797e15dcfac7a6cae0335508af3d4a0944f8945,," self.compute_client = self.clients.compute self.baremetal_client = self.clients.baremetal default=True, default=True, help=_('DEPRECATED: Use pre-provisioned overcloud nodes.' 'Now the default and this CLI option has no effect.') ) parser.add_argument( '--provision-nodes', action='store_false', dest='deployed_server', default=True, help=_('Provision overcloud nodes with heat.')","from keystoneauth1.exceptions.catalog import EndpointNotFound try: self.compute_client = self.clients.compute self.baremetal_client = self.clients.baremetal except EndpointNotFound: self.log.warning('WARNING: Nova endpoint not available. ' 'Assuming --deployed-server') parsed_args.deployed_server = True default=False, default=False, help=_('Use pre-provisioned overcloud nodes. Removes baremetal,' 'compute and image services requirements from the' 'undercloud node. Must only be used with the' '--disable-validations.')",24,15
openstack%2Fvalidations-libs~master~Ib23097c149ec8ff06cc70bb873b53ee45645ff15,openstack/validations-libs,master,Ib23097c149ec8ff06cc70bb873b53ee45645ff15,Convert fstrings to .format to facilitate porting,MERGED,2022-01-06 09:56:39.000000000,2022-01-06 16:47:58.000000000,2022-01-06 16:41:07.000000000,"[{'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-06 09:56:39.000000000', 'files': ['validations_libs/cli/community.py', 'validations_libs/ansible.py', 'validations_libs/community/init_validation.py', 'validations_libs/utils.py', 'validations_libs/tests/test_ansible.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/68adc1fe16bbf843b9b72a9fc6812b7f26f482a5', 'message': 'Convert fstrings to .format to facilitate porting\n\nFstrings are a python 3.6 feature, in order to faciliate porting\nto early architectures the fstrings were converted to .format\n\nChange-Id: Ib23097c149ec8ff06cc70bb873b53ee45645ff15\n'}]",0,823650,68adc1fe16bbf843b9b72a9fc6812b7f26f482a5,10,3,1,15895,,,0,"Convert fstrings to .format to facilitate porting

Fstrings are a python 3.6 feature, in order to faciliate porting
to early architectures the fstrings were converted to .format

Change-Id: Ib23097c149ec8ff06cc70bb873b53ee45645ff15
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/50/823650/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/cli/community.py', 'validations_libs/ansible.py', 'validations_libs/community/init_validation.py', 'validations_libs/utils.py', 'validations_libs/tests/test_ansible.py']",5,68adc1fe16bbf843b9b72a9fc6812b7f26f482a5,," assert(""{}:"".format(constants.COMMUNITY_LIBRARY_DIR) in env[""ANSIBLE_LIBRARY""]) assert(""{}:"".format(constants.COMMUNITY_ROLES_DIR) in env[""ANSIBLE_ROLES_PATH""]) assert(""{}:"".format(constants.COMMUNITY_LOOKUP_DIR) in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(""{}:"".format(constants.COMMUNITY_LIBRARY_DIR) in env[""ANSIBLE_LIBRARY""]) assert(""{}:"".format(constants.COMMUNITY_ROLES_DIR) in env[""ANSIBLE_ROLES_PATH""]) assert(""{}:"".format(constants.COMMUNITY_LOOKUP_DIR) in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(""{}:"".format(constants.COMMUNITY_LIBRARY_DIR) in env[""ANSIBLE_LIBRARY""]) assert(""{}:"".format(constants.COMMUNITY_ROLES_DIR) in env[""ANSIBLE_ROLES_PATH""]) assert(""{}:"".format(constants.COMMUNITY_LOOKUP_DIR) in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(""{}:"".format(constants.COMMUNITY_LIBRARY_DIR) not in env[""ANSIBLE_LIBRARY""]) assert(""{}:"".format(constants.COMMUNITY_ROLES_DIR) not in env[""ANSIBLE_ROLES_PATH""]) assert(""{}:"".format(constants.COMMUNITY_LOOKUP_DIR) not in env[""ANSIBLE_LOOKUP_PLUGINS""])"," assert(f""{constants.COMMUNITY_LIBRARY_DIR}:"" in env[""ANSIBLE_LIBRARY""]) assert(f""{constants.COMMUNITY_ROLES_DIR}:"" in env[""ANSIBLE_ROLES_PATH""]) assert(f""{constants.COMMUNITY_LOOKUP_DIR}:"" in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(f""{constants.COMMUNITY_LIBRARY_DIR}:"" in env[""ANSIBLE_LIBRARY""]) assert(f""{constants.COMMUNITY_ROLES_DIR}:"" in env[""ANSIBLE_ROLES_PATH""]) assert(f""{constants.COMMUNITY_LOOKUP_DIR}:"" in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(f""{constants.COMMUNITY_LIBRARY_DIR}:"" in env[""ANSIBLE_LIBRARY""]) assert(f""{constants.COMMUNITY_ROLES_DIR}:"" in env[""ANSIBLE_ROLES_PATH""]) assert(f""{constants.COMMUNITY_LOOKUP_DIR}:"" in env[""ANSIBLE_LOOKUP_PLUGINS""]) assert(f""{constants.COMMUNITY_LIBRARY_DIR}:"" not in env[""ANSIBLE_LIBRARY""]) assert(f""{constants.COMMUNITY_ROLES_DIR}:"" not in env[""ANSIBLE_ROLES_PATH""]) assert(f""{constants.COMMUNITY_LOOKUP_DIR}:"" not in env[""ANSIBLE_LOOKUP_PLUGINS""])",56,36
openstack%2Fkolla-ansible~stable%2Fwallaby~Id454c693f570e99ea58d2a6231f01a84b80ca56a,openstack/kolla-ansible,stable/wallaby,Id454c693f570e99ea58d2a6231f01a84b80ca56a,Add ironic-inspector policy configuration,MERGED,2022-01-05 10:09:28.000000000,2022-01-06 16:37:29.000000000,2022-01-06 16:32:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}]","[{'number': 1, 'created': '2022-01-05 10:09:28.000000000', 'files': ['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/46249ad5e6cda2e8ba6de2c6a47a2a22197db0fa', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)\n'}]",0,823452,46249ad5e6cda2e8ba6de2c6a47a2a22197db0fa,9,4,1,14826,,,0,"Add ironic-inspector policy configuration

Fix configuration for ironic role in order to apply custom
policies for ironic-inspector API

Closes-Bug: #1952948
Change-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a
(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/52/823452/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2']",3,46249ad5e6cda2e8ba6de2c6a47a2a22197db0fa,ironic-inspector-policy-stable/wallaby," }{% if ironic_inspector_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_inspector_policy_file }}"", ""dest"": ""/etc/ironic-inspector/{{ ironic_inspector_policy_file }}"", ""owner"": ""ironic-inspector"","," }{% if ironic_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_policy_file }}"", ""dest"": ""/etc/ironic/{{ ironic_policy_file }}"", ""owner"": ""ironic"",",49,7
openstack%2Fkolla-ansible~stable%2Fwallaby~I1fc4e2a24fe096a49434d7e16851e63efd25d74c,openstack/kolla-ansible,stable/wallaby,I1fc4e2a24fe096a49434d7e16851e63efd25d74c,horizon: move horizon_enable_tls_backend to group_vars,MERGED,2022-01-05 10:13:35.000000000,2022-01-06 16:35:16.000000000,2022-01-06 16:32:45.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 10:13:35.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9c80df34975baf1e246cef58761e56685aceb08e', 'message': 'horizon: move horizon_enable_tls_backend to group_vars\n\nThis variable is referenced by horizon_listen_port, which becomes\nundefined outside of the horizon role. One symptom of this is that\nthe hostvars variable becomes undefined when referenced for debugging\npurposes.\n\nThis issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,\nwhich has been backported to Victoria.\n\nThis change fixes the issue by moving horizon_enable_tls_backend to\ngroup_vars.\n\nTrivialFix\n\nChange-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c\n(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)\n'}]",0,823457,9c80df34975baf1e246cef58761e56685aceb08e,9,3,1,14826,,,0,"horizon: move horizon_enable_tls_backend to group_vars

This variable is referenced by horizon_listen_port, which becomes
undefined outside of the horizon role. One symptom of this is that
the hostvars variable becomes undefined when referenced for debugging
purposes.

This issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,
which has been backported to Victoria.

This change fixes the issue by moving horizon_enable_tls_backend to
group_vars.

TrivialFix

Change-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c
(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/57/823457/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml']",2,9c80df34975baf1e246cef58761e56685aceb08e,,"horizon_enable_tls_backend: ""{{ kolla_enable_tls_backend }}"" ",,2,5
openstack%2Fos-brick~stable%2Ftrain~Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,openstack/os-brick,stable/train,Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32,linuxscsi: Only raise and log multipathd errors when required,MERGED,2022-01-04 21:47:00.000000000,2022-01-06 16:29:55.000000000,2022-01-06 16:27:59.000000000,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 21:47:00.000000000', 'files': ['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/458bfadc7f30b339843f08652beb26cbda5b71c6', 'message': ""linuxscsi: Only raise and log multipathd errors when required\n\nLogging and then ignoring multipathd errors when it isn't enforced is\nconfusing to operators investigating attach or detach issues.\n\nChange-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32\n(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)\n(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)\n(cherry picked from commit ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4)\n(cherry picked from commit 892583b388b174c83dc87e1590df146dbb057e24)\n""}]",1,823366,458bfadc7f30b339843f08652beb26cbda5b71c6,13,4,1,21129,,,0,"linuxscsi: Only raise and log multipathd errors when required

Logging and then ignoring multipathd errors when it isn't enforced is
confusing to operators investigating attach or detach issues.

Change-Id: Ib234e585da5644d87fcf1ef6bcb95f2871dc6b32
(cherry picked from commit bdfe6b43cb5efb43f7832eb16fad9aecc016ff23)
(cherry picked from commit d09dc9e51c783fde574f160476ed10efc21eee9a)
(cherry picked from commit ffe0cbfc93e9d1ebe03a63976cd20e23c02aaeb4)
(cherry picked from commit 892583b388b174c83dc87e1590df146dbb057e24)
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/66/823366/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/tests/initiator/test_linuxscsi.py', 'os_brick/initiator/linuxscsi.py']",2,458bfadc7f30b339843f08652beb26cbda5b71c6,," except putils.ProcessExecutionError as err: if enforce_multipath: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code})"," except putils.ProcessExecutionError as err: LOG.error('multipathd is not running: exit code %(err)s', {'err': err.exit_code}) if enforce_multipath:",44,5
openstack%2Fkolla-ansible~stable%2Fvictoria~Id454c693f570e99ea58d2a6231f01a84b80ca56a,openstack/kolla-ansible,stable/victoria,Id454c693f570e99ea58d2a6231f01a84b80ca56a,Add ironic-inspector policy configuration,MERGED,2022-01-05 10:09:36.000000000,2022-01-06 16:29:14.000000000,2022-01-06 16:26:59.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23871}]","[{'number': 1, 'created': '2022-01-05 10:09:36.000000000', 'files': ['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b973729235c2bf9a9e7f835037f7285bad7649d0', 'message': 'Add ironic-inspector policy configuration\n\nFix configuration for ironic role in order to apply custom\npolicies for ironic-inspector API\n\nCloses-Bug: #1952948\nChange-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a\n(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)\n'}]",0,823453,b973729235c2bf9a9e7f835037f7285bad7649d0,9,4,1,14826,,,0,"Add ironic-inspector policy configuration

Fix configuration for ironic role in order to apply custom
policies for ironic-inspector API

Closes-Bug: #1952948
Change-Id: Id454c693f570e99ea58d2a6231f01a84b80ca56a
(cherry picked from commit 590cd71893b853f2ccc36a5e3cfe6be9e0702c74)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/823453/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1952948-003aabe18144f569.yaml', 'ansible/roles/ironic/tasks/config.yml', 'ansible/roles/ironic/templates/ironic-inspector.json.j2']",3,b973729235c2bf9a9e7f835037f7285bad7649d0,ironic-inspector-policy-stable/wallaby-stable/victoria," }{% if ironic_inspector_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_inspector_policy_file }}"", ""dest"": ""/etc/ironic-inspector/{{ ironic_inspector_policy_file }}"", ""owner"": ""ironic-inspector"","," }{% if ironic_policy_file is defined %}, { ""source"": ""{{ container_config_directory }}/{{ ironic_policy_file }}"", ""dest"": ""/etc/ironic/{{ ironic_policy_file }}"", ""owner"": ""ironic"",",49,7
openstack%2Fkolla-ansible~stable%2Fvictoria~I1fc4e2a24fe096a49434d7e16851e63efd25d74c,openstack/kolla-ansible,stable/victoria,I1fc4e2a24fe096a49434d7e16851e63efd25d74c,horizon: move horizon_enable_tls_backend to group_vars,MERGED,2022-01-05 10:14:25.000000000,2022-01-06 16:23:17.000000000,2022-01-06 16:20:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 10:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8b8f19a0895f94e3a726e3bb73f4587469bc6eae', 'message': 'horizon: move horizon_enable_tls_backend to group_vars\n\nThis variable is referenced by horizon_listen_port, which becomes\nundefined outside of the horizon role. One symptom of this is that\nthe hostvars variable becomes undefined when referenced for debugging\npurposes.\n\nThis issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,\nwhich has been backported to Victoria.\n\nThis change fixes the issue by moving horizon_enable_tls_backend to\ngroup_vars.\n\nTrivialFix\n\nChange-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c\n(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)\n'}, {'number': 2, 'created': '2022-01-05 10:19:55.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d5fe6a38cd857ac362e575370d770baf217e3826', 'message': 'horizon: move horizon_enable_tls_backend to group_vars\n\nThis variable is referenced by horizon_listen_port, which becomes\nundefined outside of the horizon role. One symptom of this is that\nthe hostvars variable becomes undefined when referenced for debugging\npurposes.\n\nThis issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,\nwhich has been backported to Victoria.\n\nThis change fixes the issue by moving horizon_enable_tls_backend to\ngroup_vars.\n\nTrivialFix\n\nChange-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c\n(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)\n'}]",0,823458,d5fe6a38cd857ac362e575370d770baf217e3826,11,3,2,14826,,,0,"horizon: move horizon_enable_tls_backend to group_vars

This variable is referenced by horizon_listen_port, which becomes
undefined outside of the horizon role. One symptom of this is that
the hostvars variable becomes undefined when referenced for debugging
purposes.

This issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,
which has been backported to Victoria.

This change fixes the issue by moving horizon_enable_tls_backend to
group_vars.

TrivialFix

Change-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c
(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/823458/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml']",2,8b8f19a0895f94e3a726e3bb73f4587469bc6eae,,"horizon_enable_tls_backend: ""{{ kolla_enable_tls_backend }}"" ",,10,0
openstack%2Fkayobe~master~Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d,openstack/kayobe,master,Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d,Adds support for custom Placement configuration.,MERGED,2021-11-22 11:23:10.000000000,2022-01-06 16:17:50.000000000,2022-01-06 16:15:27.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 23871}]","[{'number': 1, 'created': '2021-11-22 11:23:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f75f784f15bb33ea3aa74c5a1a538fe2f903f9ec', 'message': 'Adds support for custom Placement configuration.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d\n'}, {'number': 2, 'created': '2021-12-06 20:52:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b07ba36874b0519718a5a655222ebd53fcac0104', 'message': 'Adds support for custom Placement configuration.\n\nChange-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2021-12-19 14:37:43.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-extended-placement-conf-70a4b9a318c1b555.yaml', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/tests/test_default.py', 'ansible/roles/kolla-openstack/templates/placement.conf.j2', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/e87fbf37a8cc5d327b0c67082fa5d283e198ff46', 'message': 'Adds support for custom Placement configuration.\n\nChange-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",6,818755,e87fbf37a8cc5d327b0c67082fa5d283e198ff46,19,5,3,14200,,,0,"Adds support for custom Placement configuration.

Change-Id: Icb02cffe04d84c6d29f3f0c3b4af540a4ffe631d
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/55/818755/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-extended-placement-conf-70a4b9a318c1b555.yaml', 'doc/source/configuration/reference/kolla-ansible.rst', 'ansible/roles/kolla-openstack/templates/placement.conf.j2', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",7,f75f784f15bb33ea3aa74c5a1a538fe2f903f9ec,add-extended-placement-conf," - { name: placement, file: placement.conf } kolla_extra_placement: ""{{ kolla_extra_config.placement | default }}""",,31,0
openstack%2Foctavia~stable%2Ftrain~Ie3ae17e88a9143ce4950e52235796ee584bb3190,openstack/octavia,stable/train,Ie3ae17e88a9143ce4950e52235796ee584bb3190,Fix amphora build on train,ABANDONED,2021-12-18 12:14:25.000000000,2022-01-06 16:03:55.000000000,,"[{'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-12-18 12:14:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d380d417255a69f9d8eb10472ba97fdfa8c16b16', 'message': 'WIP DNM Testing amphora build on train\n\nChange-Id: Ie3ae17e88a9143ce4950e52235796ee584bb3190\n'}, {'number': 2, 'created': '2021-12-18 16:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9884d5819403fa3f1e999b613568bd313f32dbcd', 'message': 'WIP DNM Testing amphora build on train\n\nChange-Id: Ie3ae17e88a9143ce4950e52235796ee584bb3190\n'}, {'number': 3, 'created': '2021-12-20 07:14:34.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/octavia/commit/16bb4160fe806e19a64d0f87be34a522db5dd5bc', 'message': 'Fix amphora build on train\n\nNew diskimage-builder development builds or releases are unable to build\namphora images for train.\n\nIt fails with:\n\n2021-12-17 19:28:18.010 | + apt-get -y install python-pip\n  python-virtualenvpython3-pip python3-virtualenv\n2021-12-17 19:28:18.041 | Reading package lists...\n2021-12-17 19:28:18.288 | Building dependency tree...\n2021-12-17 19:28:18.288 | Reading state information...\n2021-12-17 19:28:18.312 | E: Unable to locate package python-virtualenvpython3-pip\n\nCap diskimage-builder to 3.6.0 for stable/train\n\nChange-Id: Ie3ae17e88a9143ce4950e52235796ee584bb3190\n'}]",3,822225,16bb4160fe806e19a64d0f87be34a522db5dd5bc,11,2,3,29244,,,0,"Fix amphora build on train

New diskimage-builder development builds or releases are unable to build
amphora images for train.

It fails with:

2021-12-17 19:28:18.010 | + apt-get -y install python-pip
  python-virtualenvpython3-pip python3-virtualenv
2021-12-17 19:28:18.041 | Reading package lists...
2021-12-17 19:28:18.288 | Building dependency tree...
2021-12-17 19:28:18.288 | Reading state information...
2021-12-17 19:28:18.312 | E: Unable to locate package python-virtualenvpython3-pip

Cap diskimage-builder to 3.6.0 for stable/train

Change-Id: Ie3ae17e88a9143ce4950e52235796ee584bb3190
",git fetch https://review.opendev.org/openstack/octavia refs/changes/25/822225/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,d380d417255a69f9d8eb10472ba97fdfa8c16b16,, $OCTAVIA_DIR/diskimage-create/diskimage-create.sh -l ${dib_logs}/$(basename $OCTAVIA_AMP_IMAGE_FILE).log $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-}," # Build amphora image with master DIB in a Python 3 virtual environment ( DIB_VENV_DIR=$(mktemp -d) DIB_GIT_DIR=/tmp/dib-octavia python3 -m venv $DIB_VENV_DIR export USE_PYTHON3=True export PATH=$DIB_VENV_DIR/bin:$PATH if ! [ -d $DIB_GIT_DIR ]; then git clone ${GITREPO[""diskimage-builder""]} $DIB_GIT_DIR fi (cd $REQUIREMENTS_DIR && git show origin/master:upper-constraints.txt) | sed '/diskimage-builder/d' > $DIB_VENV_DIR/u-c.txt pip install -c $DIB_VENV_DIR/u-c.txt $DIB_GIT_DIR $OCTAVIA_DIR/diskimage-create/diskimage-create.sh -l ${dib_logs}/$(basename $OCTAVIA_AMP_IMAGE_FILE).log $octavia_dib_tracing_arg -o $OCTAVIA_AMP_IMAGE_FILE ${PARAM_OCTAVIA_AMP_BASE_OS:-} ${PARAM_OCTAVIA_AMP_DISTRIBUTION_RELEASE_ID:-} ${PARAM_OCTAVIA_AMP_IMAGE_SIZE:-} )",1,14
openstack%2Foctavia~stable%2Ftrain~I35048c1f4778c266491ddde91e2201b72d522315,openstack/octavia,stable/train,I35048c1f4778c266491ddde91e2201b72d522315,DNM Testing stable/train CI,ABANDONED,2022-01-06 13:32:25.000000000,2022-01-06 16:03:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-01-06 13:32:25.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/d123847f507b0c968bdd847292010141aadd940f', 'message': 'DNM Testing stable/train CI\n\nChange-Id: I35048c1f4778c266491ddde91e2201b72d522315\n'}]",0,823691,d123847f507b0c968bdd847292010141aadd940f,3,1,1,29244,,,0,"DNM Testing stable/train CI

Change-Id: I35048c1f4778c266491ddde91e2201b72d522315
",git fetch https://review.opendev.org/openstack/octavia refs/changes/91/823691/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,d123847f507b0c968bdd847292010141aadd940f,, #- openstack-tox-functional: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^releasenotes/.*$ #- openstack-tox-functional-py36: # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^etc/.*$ # - ^releasenotes/.*$ #- octavia-v2-dsvm-noop-api: # nodeset: octavia-single-node-ubuntu-bionic #- octavia-v2-dsvm-noop-py2-api: # nodeset: octavia-single-node-ubuntu-bionic #- octavia-v2-dsvm-py2-scenario-centos-7: # voting: false #- octavia-v2-dsvm-scenario-two-node: # nodeset: octavia-single-node-ubuntu-bionic # voting: false #- octavia-v2-dsvm-py2-scenario-two-node: # nodeset: octavia-single-node-ubuntu-bionic # voting: false #- octavia-v2-dsvm-tls-barbican: # nodeset: octavia-single-node-ubuntu-bionic # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ # voting: false #- octavia-v2-dsvm-scenario-amphora-v2: # nodeset: octavia-single-node-ubuntu-bionic # irrelevant-files: # - ^.*\.rst$ # - ^api-ref/.*$ # - ^doc/.*$ # - ^octavia/tests/unit/.*$ # - ^releasenotes/.*$ # voting: false #- octavia-v2-act-stdby-iptables-dsvm-scenario: # nodeset: octavia-single-node-ubuntu-bionic # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario: # nodeset: octavia-single-node-ubuntu-bionic # voting: false #- octavia-v2-act-stdby-iptables-dsvm-py2-scenario-centos-7: # voting: false, - openstack-tox-functional: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - openstack-tox-functional-py36: irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - octavia-v2-dsvm-noop-api: nodeset: octavia-single-node-ubuntu-bionic - octavia-v2-dsvm-noop-py2-api: nodeset: octavia-single-node-ubuntu-bionic voting: false - octavia-v2-dsvm-py2-scenario-centos-7: voting: false - octavia-v2-dsvm-scenario-two-node: nodeset: octavia-single-node-ubuntu-bionic voting: false - octavia-v2-dsvm-py2-scenario-two-node: nodeset: octavia-single-node-ubuntu-bionic voting: false - octavia-v2-dsvm-tls-barbican: nodeset: octavia-single-node-ubuntu-bionic irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false - octavia-v2-dsvm-scenario-amphora-v2: nodeset: octavia-single-node-ubuntu-bionic irrelevant-files: - ^.*\.rst$ - ^api-ref/.*$ - ^doc/.*$ - ^octavia/tests/unit/.*$ - ^releasenotes/.*$ voting: false - octavia-v2-act-stdby-iptables-dsvm-scenario: nodeset: octavia-single-node-ubuntu-bionic voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario: nodeset: octavia-single-node-ubuntu-bionic voting: false - octavia-v2-act-stdby-iptables-dsvm-py2-scenario-centos-7: voting: false,52,53
openstack%2Fcharm-guide~master~I85252e110663fad0c5515b93e54a21713262d9d1,openstack/charm-guide,master,I85252e110663fad0c5515b93e54a21713262d9d1,Add linkcheck target,ABANDONED,2021-10-26 23:11:09.000000000,2022-01-06 15:44:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-10-26 23:11:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/93c8ebf142b835d702eafba8c2f6964f7626953d', 'message': 'Add linkcheck target\n\nSphinx has a builder named ""linkcheck"" that looks for broken external\nand internal links. This change adds a new target named ""linkcheck"" that\nruns it.\n\nhttps: //www.sphinx-doc.org/en/master/usage/builders/index.html#sphinx.builders.linkcheck.CheckExternalLinksBuilder\n\nChange-Id: I85252e110663fad0c5515b93e54a21713262d9d1\n'}]",0,815568,93c8ebf142b835d702eafba8c2f6964f7626953d,3,1,1,2424,,,0,"Add linkcheck target

Sphinx has a builder named ""linkcheck"" that looks for broken external
and internal links. This change adds a new target named ""linkcheck"" that
runs it.

https: //www.sphinx-doc.org/en/master/usage/builders/index.html#sphinx.builders.linkcheck.CheckExternalLinksBuilder

Change-Id: I85252e110663fad0c5515b93e54a21713262d9d1
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/68/815568/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,93c8ebf142b835d702eafba8c2f6964f7626953d,linkcheck,"envlist = docs,linkcheck [testenv:linkcheck] commands = sphinx-build -a -W -d doc/build/doctrees -b linkcheck doc/source doc/build/html",envlist = docs,4,1
openstack%2Ftripleo-common~stable%2Fwallaby~Iff4b120799f8c8486fea608b9a028b6b12317908,openstack/tripleo-common,stable/wallaby,Iff4b120799f8c8486fea608b9a028b6b12317908,Add configs for CentOS 9 image,MERGED,2022-01-04 19:45:42.000000000,2022-01-06 15:36:29.000000000,2022-01-06 15:34:43.000000000,"[{'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-01-04 19:45:42.000000000', 'files': ['image-yaml/overcloud-images-ceph-centos9.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos9.yaml', 'image-yaml/overcloud-images-centos9.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0730bc9b4a34dddb7586888b8cc38a9990cd6554', 'message': 'Add configs for CentOS 9 image\n\nChange-Id: Iff4b120799f8c8486fea608b9a028b6b12317908\n(cherry picked from commit 4177b18ae657fe2469b50b6cfae4629bf4f27a25)\n'}]",1,823363,0730bc9b4a34dddb7586888b8cc38a9990cd6554,14,6,1,34208,,,0,"Add configs for CentOS 9 image

Change-Id: Iff4b120799f8c8486fea608b9a028b6b12317908
(cherry picked from commit 4177b18ae657fe2469b50b6cfae4629bf4f27a25)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/63/823363/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-images-ceph-centos9.yaml', 'image-yaml/overcloud-hardened-images-uefi-centos9.yaml', 'image-yaml/overcloud-images-centos9.yaml']",3,0730bc9b4a34dddb7586888b8cc38a9990cd6554,c9img-stable/wallaby,"disk_images: - imagename: overcloud-full type: qcow2 distro: centos release: 9 elements: - selinux-permissive - interface-names environment: FS_TYPE: xfs options: - ""--mkfs-options '-s size=4096'"" - imagename: ironic-python-agent type: qcow2 distro: centos release: 9 elements: - selinux-permissive - interface-names ",,47,0
openstack%2Fkolla-ansible~master~I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,openstack/kolla-ansible,master,I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221,Move project_name and kolla_role_name to role vars,MERGED,2021-11-22 07:27:30.000000000,2022-01-06 15:31:39.000000000,2022-01-06 15:29:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-11-22 07:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/42f44ac285ec725592f81a65d2ca2884eb34704f', 'message': 'Move project_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nRelated-Bug: #1951785\n'}, {'number': 2, 'created': '2021-12-01 06:32:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a6829b21e9689b9f4fddbecde62c8d50717792e6', 'message': 'Move project_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nRelated-Bug: #1951785\n'}, {'number': 3, 'created': '2021-12-31 09:27:14.000000000', 'files': ['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ceph-rgw/vars/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ceph-rgw/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/56fc74f23150a9be0c88518ec98bc6a2848ff168', 'message': 'Move project_name and kolla_role_name to role vars\n\nRole vars have a higher precedence than role defaults. This allows to\nimport default vars from another role via vars_files without overriding\nproject_name (see related bug for details).\n\nChange-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221\nRelated-Bug: #1951785\n'}]",4,818714,56fc74f23150a9be0c88518ec98bc6a2848ff168,19,3,3,15197,,,0,"Move project_name and kolla_role_name to role vars

Role vars have a higher precedence than role defaults. This allows to
import default vars from another role via vars_files without overriding
project_name (see related bug for details).

Change-Id: I3d919736e53d6f3e1a70d1267cf42c8d2c0ad221
Related-Bug: #1951785
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/14/818714/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova-cell/defaults/main.yml', 'ansible/roles/grafana/vars/main.yml', 'ansible/roles/heat/defaults/main.yml', 'ansible/roles/iscsi/vars/main.yml', 'ansible/roles/solum/vars/main.yml', 'ansible/roles/ironic/vars/main.yml', 'ansible/roles/ovn/vars/main.yml', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/haproxy-config/defaults/main.yml', 'ansible/roles/common/vars/main.yml', 'ansible/roles/redis/defaults/main.yml', 'ansible/roles/haproxy-config/vars/main.yml', 'ansible/roles/multipathd/defaults/main.yml', 'ansible/roles/murano/defaults/main.yml', 'ansible/roles/trove/vars/main.yml', 'ansible/roles/skydive/defaults/main.yml', 'ansible/roles/elasticsearch/defaults/main.yml', 'ansible/roles/storm/vars/main.yml', 'ansible/roles/bifrost/defaults/main.yml', 'ansible/roles/multipathd/vars/main.yml', 'ansible/roles/kuryr/vars/main.yml', 'ansible/roles/placement/vars/main.yml', 'ansible/roles/horizon/vars/main.yml', 'ansible/roles/ceilometer/vars/main.yml', 'ansible/roles/memcached/defaults/main.yml', 'ansible/roles/qdrouterd/defaults/main.yml', 'ansible/roles/ironic/defaults/main.yml', 'ansible/roles/chrony/vars/main.yml', 'ansible/roles/memcached/vars/main.yml', 'ansible/roles/watcher/defaults/main.yml', 'ansible/roles/kibana/vars/main.yml', 'ansible/roles/kafka/vars/main.yml', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/masakari/vars/main.yml', 'ansible/roles/neutron/defaults/main.yml', 'ansible/roles/rally/vars/main.yml', 'ansible/roles/kafka/defaults/main.yml', 'ansible/roles/collectd/vars/main.yml', 'ansible/roles/influxdb/defaults/main.yml', 'ansible/roles/manila/defaults/main.yml', 'ansible/roles/rabbitmq/vars/main.yml', 'ansible/roles/tacker/vars/main.yml', 'ansible/roles/iscsi/defaults/main.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/keystone/vars/main.yml', 'ansible/roles/ovn/defaults/main.yml', 'ansible/roles/glance/defaults/main.yml', 'ansible/roles/monasca/defaults/main.yml', 'ansible/roles/tempest/vars/main.yml', 'ansible/roles/swift/defaults/main.yml', 'ansible/roles/senlin/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/watcher/vars/main.yml', 'ansible/roles/zookeeper/defaults/main.yml', 'ansible/roles/ceph-rgw/vars/main.yml', 'ansible/roles/ovs-dpdk/defaults/main.yml', 'ansible/roles/tacker/defaults/main.yml', 'ansible/roles/masakari/defaults/main.yml', 'ansible/roles/octavia/defaults/main.yml', 'ansible/roles/haproxy/vars/main.yml', 'ansible/roles/telegraf/defaults/main.yml', 'ansible/roles/vitrage/vars/main.yml', 'ansible/roles/glance/vars/main.yml', 'ansible/roles/cloudkitty/vars/main.yml', 'ansible/roles/collectd/defaults/main.yml', 'ansible/roles/tempest/defaults/main.yml', 'ansible/roles/octavia/vars/main.yml', 'ansible/roles/cinder/vars/main.yml', 'ansible/roles/designate/vars/main.yml', 'ansible/roles/zun/vars/main.yml', 'ansible/roles/prometheus/vars/main.yml', 'ansible/roles/horizon/defaults/main.yml', 'ansible/roles/barbican/vars/main.yml', 'ansible/roles/telegraf/vars/main.yml', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/magnum/vars/main.yml', 'ansible/roles/freezer/vars/main.yml', 'ansible/roles/redis/vars/main.yml', 'ansible/roles/panko/vars/main.yml', 'ansible/roles/skydive/vars/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/cyborg/vars/main.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/mariadb/vars/main.yml', 'ansible/roles/solum/defaults/main.yml', 'ansible/roles/storm/defaults/main.yml', 'ansible/roles/hacluster/defaults/main.yml', 'ansible/roles/neutron/vars/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'ansible/roles/loadbalancer/defaults/main.yml', 'ansible/roles/aodh/vars/main.yml', 'ansible/roles/murano/vars/main.yml', 'ansible/roles/etcd/defaults/main.yml', 'ansible/roles/grafana/defaults/main.yml', 'ansible/roles/sahara/defaults/main.yml', 'ansible/roles/barbican/defaults/main.yml', 'ansible/roles/ceph-rgw/defaults/main.yml', 'ansible/roles/monasca/vars/main.yml', 'ansible/roles/rabbitmq/defaults/main.yml', 'ansible/roles/qdrouterd/vars/main.yml', 'ansible/roles/trove/defaults/main.yml', 'ansible/roles/nova-cell/vars/main.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/sahara/vars/main.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/gnocchi/vars/main.yml', 'ansible/roles/magnum/defaults/main.yml', 'ansible/roles/zun/defaults/main.yml', 'ansible/roles/vmtp/vars/main.yml', 'ansible/roles/manila/vars/main.yml', 'ansible/roles/mistral/defaults/main.yml', 'ansible/roles/ovs-dpdk/vars/main.yml', 'ansible/roles/zookeeper/vars/main.yml', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/senlin/vars/main.yml', 'ansible/roles/bifrost/vars/main.yml', 'ansible/roles/loadbalancer/vars/main.yml', 'ansible/roles/placement/defaults/main.yml', 'ansible/roles/prometheus/defaults/main.yml', 'ansible/roles/influxdb/vars/main.yml', 'ansible/roles/swift/vars/main.yml', 'ansible/roles/common/defaults/main.yml', 'ansible/roles/hacluster/vars/main.yml', 'ansible/roles/elasticsearch/vars/main.yml', 'ansible/roles/vitrage/defaults/main.yml', 'ansible/roles/nova/vars/main.yml', 'ansible/roles/gnocchi/defaults/main.yml', 'ansible/roles/mistral/vars/main.yml', 'ansible/roles/ceilometer/defaults/main.yml', 'ansible/roles/heat/vars/main.yml', 'ansible/roles/openvswitch/vars/main.yml', 'ansible/roles/kibana/defaults/main.yml', 'ansible/roles/blazar/vars/main.yml', 'ansible/roles/etcd/vars/main.yml', 'ansible/roles/vmtp/defaults/main.yml']",136,42f44ac285ec725592f81a65d2ca2884eb34704f,project-name-role-vars,,"project_name: ""vmtp"" ",140,130
openstack%2Fneutron~stable%2Fvictoria~I8877c658446fed155130add6f1c69f2772113c27,openstack/neutron,stable/victoria,I8877c658446fed155130add6f1c69f2772113c27,Allocate IPs in bulk requests in separate transactions,MERGED,2021-12-23 14:21:26.000000000,2022-01-06 15:28:07.000000000,2022-01-06 15:25:36.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 14:21:26.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f830dd3f335ab8a6521b229e437e289e898f1187', 'message': 'Allocate IPs in bulk requests in separate transactions\n\nIn the ML2 plugin in create_port_bulk method, we are iterating over\nlist of the ports to be created and do everything for all ports in\nsingle DB transaction (which makes totally sense as this is bulk\nrequest).\nBut one of the things which was done during that huge transaction was\nallocation of the IP addresses for all ports. That action is prone for\nrace conditions and can fail often, especially when there is no many IP\naddresses available in the subnet(s) for the ports.\nIn case of the error while allocating IP address even for one port from\nthe whole bulk request, whole create_port_bulk method was retried so\nallocations (and everything else) for all ports was reverted and started\nfrom scratch. That takes a lot of time so some requests may be processed\nvery long time, like e.g. 2-3 minutes in my tests.\n\nTo reproduce that issue I did simple script which created network with\n/24 subnet and then sent 24 requests to create 10 ports in bulk in each\nrequest. That was in totall 240 ports created in that subnet.\nI measured time of the creation of all those ports in the current master\nbranch (without this patch) and with the patch. Results are like below:\n\n+-----+---------------+------------+---------------------------+\n| Run | Master branch | This patch | Simulate bulk by creation |\n|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |\n+-----+---------------+------------+---------------------------+\n| 1   | 01:37         | 01:02      | 00:57                     |\n| 2   | 02:06         | 00:40      | 01:03                     |\n| 3   | 02:08         | 00:41      | 00:59                     |\n| 4   | 02:14         | 00:45      | 00:55                     |\n| 5   | 01:58         | 00:45      | 00:57                     |\n| 6   | 02:37         | 00:53      | 01:05                     |\n| 7   | 01:59         | 00:42      | 00:58                     |\n| 8   | 02:01         | 00:41      | 00:57                     |\n| 9   | 02:39         | 00:42      | 00:55                     |\n| 10  | 01:59         | 00:41      | 00:56                     |\n+-----+---------------+------------+---------------------------+\n| AVG | 00:02:07      | 00:00:45   | 00:58                     |\n+-----+---------------+------------+---------------------------+\n\nCloses-Bug: #1954763\nChange-Id: I8877c658446fed155130add6f1c69f2772113c27\n(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)\n'}]",0,822796,f830dd3f335ab8a6521b229e437e289e898f1187,9,3,1,11975,,,0,"Allocate IPs in bulk requests in separate transactions

In the ML2 plugin in create_port_bulk method, we are iterating over
list of the ports to be created and do everything for all ports in
single DB transaction (which makes totally sense as this is bulk
request).
But one of the things which was done during that huge transaction was
allocation of the IP addresses for all ports. That action is prone for
race conditions and can fail often, especially when there is no many IP
addresses available in the subnet(s) for the ports.
In case of the error while allocating IP address even for one port from
the whole bulk request, whole create_port_bulk method was retried so
allocations (and everything else) for all ports was reverted and started
from scratch. That takes a lot of time so some requests may be processed
very long time, like e.g. 2-3 minutes in my tests.

To reproduce that issue I did simple script which created network with
/24 subnet and then sent 24 requests to create 10 ports in bulk in each
request. That was in totall 240 ports created in that subnet.
I measured time of the creation of all those ports in the current master
branch (without this patch) and with the patch. Results are like below:

+-----+---------------+------------+---------------------------+
| Run | Master branch | This patch | Simulate bulk by creation |
|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |
+-----+---------------+------------+---------------------------+
| 1   | 01:37         | 01:02      | 00:57                     |
| 2   | 02:06         | 00:40      | 01:03                     |
| 3   | 02:08         | 00:41      | 00:59                     |
| 4   | 02:14         | 00:45      | 00:55                     |
| 5   | 01:58         | 00:45      | 00:57                     |
| 6   | 02:37         | 00:53      | 01:05                     |
| 7   | 01:59         | 00:42      | 00:58                     |
| 8   | 02:01         | 00:41      | 00:57                     |
| 9   | 02:39         | 00:42      | 00:55                     |
| 10  | 01:59         | 00:41      | 00:56                     |
+-----+---------------+------------+---------------------------+
| AVG | 00:02:07      | 00:00:45   | 00:58                     |
+-----+---------------+------------+---------------------------+

Closes-Bug: #1954763
Change-Id: I8877c658446fed155130add6f1c69f2772113c27
(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/822796/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",3,f830dd3f335ab8a6521b229e437e289e898f1187,bug/1954763-stable/xena-stable/wallaby-stable/victoria," def allocate_ips_for_ports(self, context, ports): for port in ports: port['port']['id'] = ( port['port'].get('id') or uuidutils.generate_uuid()) # Call IPAM to allocate IP addresses try: port['ipams'] = self.ipam.allocate_ips_for_port(context, port) port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED) return ports def create_port_bulk(self, context, ports): port_list = self.allocate_ips_for_ports(context, port_list) try: return self._create_port_bulk(context, port_list) except Exception: with excutils.save_and_reraise_exception(): # If any issue happened allocated IP addresses needs to be # deallocated now for port in port_list: self.ipam.deallocate_ips_from_port( context, port, port['ipams']) @db_api.retry_if_session_inactive() def _create_port_bulk(self, context, port_list): # TODO(njohnston): Break this up into smaller functions. id=port['port']['id'], # Call IPAM to store allocated IP addresses ipams = port.pop(""ipams"") self.ipam.store_ip_allocation_for_port( context, ipams, network_id, port) ipam_fixed_ips = [] for ip in ipams: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = port.pop('ip_allocation')"," @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): # TODO(njohnston): Break this up into smaller functions. id=uuidutils.generate_uuid(), # Call IPAM to allocate IP addresses try: # TODO(njohnston): IPAM allocation needs to be revamped to # be bulk-friendly. ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED)",104,36
openstack%2Fcinder~master~I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b,openstack/cinder,master,I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b,mypy - cinder driver.py,ABANDONED,2020-12-07 13:51:34.000000000,2022-01-06 15:23:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-07 13:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f884e8d0e68be8d77dcdfc42edcca14fe36af0c1', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 2, 'created': '2020-12-08 12:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e6b7ea48eaf03af6a07bcc4fab418d4ca7863e6a', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 3, 'created': '2020-12-10 16:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a6e0c45972aed0c0aa03abc6cbdc52751b934520', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 4, 'created': '2020-12-15 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/e84d99a78e0e77f1d707be3526f9cfb4fd89cce1', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 5, 'created': '2020-12-15 17:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/768b3f6ab3665229b5f875abfe03e4e70999b32b', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 6, 'created': '2021-01-06 14:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d0e208190869d2de26213a2cac5f876d9d65f30', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 7, 'created': '2021-01-06 15:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/81a989f41c051560582694cfa8fc54dec63fb130', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}, {'number': 8, 'created': '2021-01-06 16:17:18.000000000', 'files': ['cinder/volume/targets/driver.py', 'cinder/volume/driver.py', 'cinder/volume/drivers/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d9b1ca5c1942d90f777cc5ec8cfe5f9a53cda688', 'message': 'mypy - cinder driver.py\n\nRather then reviewing 736856, adding a dependency to see if this the\ncorrect level of detail required.\n\nChange-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b\n'}]",0,765810,d9b1ca5c1942d90f777cc5ec8cfe5f9a53cda688,85,1,8,12670,,,0,"mypy - cinder driver.py

Rather then reviewing 736856, adding a dependency to see if this the
correct level of detail required.

Change-Id: I99b7f1b69ec0cede3073bc27cd3cfe6c3a8b157b
",git fetch https://review.opendev.org/openstack/cinder refs/changes/10/765810/8 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/driver.py'],1,f884e8d0e68be8d77dcdfc42edcca14fe36af0c1,mypy,"from cinder import context def _is_non_recoverable( self, err: str, non_recoverable_list: list) -> bool: def _detach_volume( self, context: context.RequestContext, attach_info: dict, volume: objects.Volume, properties: dict, force: bool = False, remote: bool = False, ignore_errors: bool = False) -> None: def get_version(self) -> str: def get_driver_options() -> list: def create_volume(self, volume: objects.Volume): def delete_volume(self, volume: objects.Volume): def secure_file_operations_enabled(self) -> bool: def get_volume_stats(self, refresh: bool = False): def _update_pools_and_stats(self, data: dict): def copy_image_to_volume( self, context: context.RequestContext, volume: objects.Volume, image_service, image_id: str): self, context: context.RequestContext, volume: objects.Volume, image_service, image_id: str): def _copy_image_data_to_volume(self, context: context.RequestContext, volume: objects.Volume, image_service, image_id: str, encrypted: bool = False): def copy_volume_to_image( self, context: context.RequestContext, volume: objects.Volume, image_service, image_meta: dict): def before_volume_copy( self, context: context.RequestContext, src_vol, dest_vol, remote=None): def after_volume_copy( self, context: context.RequestContext, src_vol, dest_vol, remote=None): def get_filter_function(self) -> str: def get_goodness_function(self) -> str: def _attach_volume( self, context: context.RequestContext, volume: objects.Volume, properties: dict, remote: bool = False): def _attach_snapshot( self, ctxt: context.RequestContext, snapshot: objects.Snapshot, properties: dict): def clone_image( self, context: context.RequestContext, volume: objects.Volume, image_location, image_meta: dict, image_service) -> ty.Tuple[ty.Optional[str], bool]: def snapshot_revert_use_temp_snapshot(self) -> bool: def snapshot_remote_attachable(self) -> bool: def get_backup_device( self, context: context.RequestContext, backup: objects.Backup): def _get_backup_volume_temp_volume( self, context: context.RequestContext, backup: objects.Backup): def _get_backup_volume_temp_snapshot( self, context: context.RequestContext, backup: objects.Backup): def _create_temp_snapshot( self, context: context.RequestContext, volume: objects.Volume): def _create_temp_volume( self, context: context.RequestContext, volume: objects.Volume, volume_options=None): def _create_temp_cloned_volume( self, context: context.RequestContext, volume: objects.Volume): def _create_temp_volume_from_snapshot( self, context: context.RequestContext, volume: objects.Volume, snapshot, volume_options=None): def clear_download( self, context: context.RequestContext, volume: objects.Volume): def attach_volume( self, context: context.RequestContext, volume: objects.Volume, instance_uuid, host_name, mountpoint): def detach_volume( self, context: context.RequestContext, volume: objects.Volume, attachment=None): def do_setup(self, context: context.RequestContext): def update_migrated_volume( self, ctxt: context.RequestContext, volume: objects.Volume, new_volume, original_volume_status) -> dict: def retype( self, context: context.RequestContext, volume: objects.Volume, new_type, diff, host): def create_cloned_volume(self, volume: objects.Volume, src_vref): def ensure_export( self, context: context.RequestContext, volume: objects.Volume): def create_export( self, context: context.RequestContext, volume: objects.Volume, connector: dict): def create_export_snapshot( self, context: context.RequestContext, snapshot: objects.Snapshot, connector: dict): def remove_export( self, context: context.RequestContext, volume: objects.Volume): def remove_export_snapshot( self, context: context.RequestContext, snapshot: objects.Snapshot): def initialize_connection(self, volume: objects.Volume, connector: dict): def initialize_connection_snapshot( self, snapshot: objects.Snapshot, connector: dict, **kwargs): def terminate_connection( self, volume: objects.Volume, connector: dict, **kwargs): def terminate_connection_snapshot( self, snapshot: objects.Snapshot, connector: dict, **kwargs): def update_provider_info( self, volumes: objects.VolumeList, snapshots: objects.SnapshotList): def migrate_volume( self, context: context.RequestContext, volume: objects.Volume, host): def manage_existing(self, volume: objects.Volume, existing_ref): def unmanage(self, volume: objects.Volume): def freeze_backend(self, context: context.RequestContext): def thaw_backend(self, context: context.RequestContext): def failover_host( self, context: context.RequestContext, volumes: objects.VolumeList, secondary_id=None, groups=None): def failover( self, context: context.RequestContext, volumes: objects.VolumeList, secondary_id=None, groups=None): def failover_completed( self, context: context.RequestContext, active_backend_id=None): def enable_replication( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList): def disable_replication( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList): def failover_replication( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList, secondary_backend_id=None): def get_replication_error_status( self, context: context.RequestContext, groups: objects.GroupList): def get_replication_updates(self, context: context.RequestContext): def create_group(self, context: context.RequestContext, group): def delete_group( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList): def update_group( self, context: context.RequestContext, group: objects.Group, add_volumes=None, remove_volumes=None): def create_group_from_src( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): def create_group_snapshot( self, context: context.RequestContext, group_snapshot, snapshots): def delete_group_snapshot( self, context: context.RequestContext, group_snapshot, snapshots): def extend_volume(self, volume: objects.Volume, new_size): def accept_transfer( self, context: context.RequestContext, volume: objects.Volume, new_user, new_project): def create_volume_from_backup( self, volume: objects.Volume, backup: objects.Backup): def clone_image(self, volume: objects.Volume, image_location, image_id: str, image_meta: dict, image_service): def migrate_volume( self, context: context.RequestContext, volume: objects.Volume, host: dict): def manage_existing(self, volume: objects.Volume, existing_ref): def manage_existing_get_size(self, volume: objects.Volume, existing_ref): def unmanage(self, volume: objects.Volume): def create_volume_from_snapshot(self, volume: objects.Volume, snapshot): def delete_volume(self, volume: objects.Volume): def clear_download(self, context, volume: objects.Volume): def extend_volume(self, volume: objects.Volume, new_size): def revert_to_snapshot( self, context: context.RequestContext, volume: objects.Volume, snapshot: objects.Snapshot): def manage_existing_get_size(self, volume: objects.Volume, existing_ref): def unmanage(self, volume: objects.Volume): def retype( self, context: context.RequestContext, volume: objects.Volume, new_type, diff, host): def ensure_export( self, context: context.RequestContext, volume: objects.Volume): def create_export( self, context: context.RequestContext, volume: objects.Volume, connector: dict): def create_export_snapshot( self, context: context.RequestContext, snapshot: objects.Snapshot, connector: dict): def remove_export( self, context: context.RequestContext, volume: objects.Volume): def remove_export_snapshot( self, context: context.RequestContext, snapshot: objects.Snapshot): def initialize_connection( self, volume: objects.Volume, connector: dict, **kwargs): def initialize_connection_snapshot( self, snapshot: objects.Snapshot, connector: dict, **kwargs): def terminate_connection( self, volume: objects.Volume, connector: dict, **kwargs): about the initiator. Can be None. def create_consistencygroup( self, context: context.RequestContext, group: objects.Group): def create_consistencygroup_from_src( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList, cgsnapshot=None, snapshots=None, source_cg=None, source_vols=None): def delete_consistencygroup( self, context: context.RequestContext, group: objects.Group, volumes: objects.VolumeList): def update_consistencygroup( self, context: context.RequestContext, group: objects.Group, add_volumes=None, remove_volumes=None): def create_cgsnapshot( self, context: context.RequestContext, cgsnapshot, snapshots): def delete_cgsnapshot( self, context: context.RequestContext, cgsnapshot, snapshots): def clone_image( self, volume, image_location, image_id, image_meta, image_service): def get_pool(self, volume: objects.Volume): def migrate_volume( self, context: context.RequestContext, volume: objects.Volume, host): def accept_transfer( self, context: context.RequestContext, volume: objects.Volume, new_user, new_project): def _do_iscsi_discovery(self, volume: objects.Volume): def _get_iscsi_properties(self, volume: objects.Volume, multipath=False): def validate_connector(self, connector: dict): def terminate_connection( self, volume: objects.Volume, connector: dict, **kwargs):"," def _is_non_recoverable(self, err, non_recoverable_list): def _detach_volume(self, context, attach_info, volume, properties, force=False, remote=False, ignore_errors=False): def get_version(self): def get_driver_options(): def create_volume(self, volume): def delete_volume(self, volume): def secure_file_operations_enabled(self): def get_volume_stats(self, refresh=False): def _update_pools_and_stats(self, data): def copy_image_to_volume(self, context, volume, image_service, image_id): self, context, volume, image_service, image_id): def _copy_image_data_to_volume(self, context, volume, image_service, image_id, encrypted=False): def copy_volume_to_image(self, context, volume, image_service, image_meta): def before_volume_copy(self, context, src_vol, dest_vol, remote=None): def after_volume_copy(self, context, src_vol, dest_vol, remote=None): def get_filter_function(self): def get_goodness_function(self): def _attach_volume(self, context, volume, properties, remote=False): def _attach_snapshot(self, ctxt, snapshot, properties): def clone_image(self, context, volume, image_location, image_meta, image_service) -> ty.Tuple[ty.Optional[str], bool]: def snapshot_revert_use_temp_snapshot(self): def snapshot_remote_attachable(self): def get_backup_device(self, context, backup): def _get_backup_volume_temp_volume(self, context, backup): def _get_backup_volume_temp_snapshot(self, context, backup): def _create_temp_snapshot(self, context, volume): def _create_temp_volume(self, context, volume, volume_options=None): def _create_temp_cloned_volume(self, context, volume): def _create_temp_volume_from_snapshot(self, context, volume, snapshot, volume_options=None): def clear_download(self, context, volume): def attach_volume(self, context, volume, instance_uuid, host_name, mountpoint): def detach_volume(self, context, volume, attachment=None): def do_setup(self, context): def update_migrated_volume(self, ctxt, volume, new_volume, original_volume_status): def retype(self, context, volume, new_type, diff, host): def create_cloned_volume(self, volume, src_vref): def ensure_export(self, context, volume): def create_export(self, context, volume, connector): def create_export_snapshot(self, context, snapshot, connector): def remove_export(self, context, volume): def remove_export_snapshot(self, context, snapshot): def initialize_connection(self, volume, connector): def initialize_connection_snapshot(self, snapshot, connector, **kwargs): def terminate_connection(self, volume, connector, **kwargs): def terminate_connection_snapshot(self, snapshot, connector, **kwargs): def update_provider_info(self, volumes, snapshots): def migrate_volume(self, context, volume, host): def manage_existing(self, volume, existing_ref): def unmanage(self, volume): def freeze_backend(self, context): def thaw_backend(self, context): def failover_host(self, context, volumes, secondary_id=None, groups=None): def failover(self, context, volumes, secondary_id=None, groups=None): def failover_completed(self, context, active_backend_id=None): """"""This method is called after failover for clustered backends."""""" def enable_replication(self, context, group, volumes): def disable_replication(self, context, group, volumes): def failover_replication(self, context, group, volumes, secondary_backend_id=None): def get_replication_error_status(self, context, groups): def get_replication_updates(self, context): def create_group(self, context, group): def delete_group(self, context, group, volumes): def update_group(self, context, group, add_volumes=None, remove_volumes=None): def create_group_from_src(self, context, group, volumes, group_snapshot=None, snapshots=None, source_group=None, source_vols=None): def create_group_snapshot(self, context, group_snapshot, snapshots): def delete_group_snapshot(self, context, group_snapshot, snapshots): def extend_volume(self, volume, new_size): def accept_transfer(self, context, volume, new_user, new_project): def create_volume_from_backup(self, volume, backup): def clone_image(self, volume, image_location, image_id, image_meta, image_service): def migrate_volume(self, context, volume, host): def manage_existing(self, volume, existing_ref): def manage_existing_get_size(self, volume, existing_ref): def unmanage(self, volume): def create_volume_from_snapshot(self, volume, snapshot): def delete_volume(self, volume): def clear_download(self, context, volume): def extend_volume(self, volume, new_size): def revert_to_snapshot(self, context, volume, snapshot): def manage_existing_get_size(self, volume, existing_ref): def unmanage(self, volume): def retype(self, context, volume, new_type, diff, host): def ensure_export(self, context, volume): def create_export(self, context, volume, connector): def create_export_snapshot(self, context, snapshot, connector): def remove_export(self, context, volume): def remove_export_snapshot(self, context, snapshot): def initialize_connection(self, volume, connector, **kwargs): def initialize_connection_snapshot(self, snapshot, connector, **kwargs): def terminate_connection(self, volume, connector, **kwargs): about the initiator. Can be None. def terminate_connection_snapshot(self, snapshot, connector, **kwargs): """"""Disallow connection from connector for a snapshot."""""" def create_consistencygroup(self, context, group): def create_consistencygroup_from_src(self, context, group, volumes, cgsnapshot=None, snapshots=None, source_cg=None, source_vols=None): def delete_consistencygroup(self, context, group, volumes): def update_consistencygroup(self, context, group, add_volumes=None, remove_volumes=None): def create_cgsnapshot(self, context, cgsnapshot, snapshots): def delete_cgsnapshot(self, context, cgsnapshot, snapshots): def clone_image(self, volume, image_location, image_id, image_meta, image_service): def get_pool(self, volume): def migrate_volume(self, context, volume, host): def accept_transfer(self, context, volume, new_user, new_project): def _do_iscsi_discovery(self, volume): def _get_iscsi_properties(self, volume, multipath=False): def validate_connector(self, connector): def terminate_connection(self, volume, connector, **kwargs):",220,127
openstack%2Fkolla-ansible~stable%2Fxena~I1fc4e2a24fe096a49434d7e16851e63efd25d74c,openstack/kolla-ansible,stable/xena,I1fc4e2a24fe096a49434d7e16851e63efd25d74c,horizon: move horizon_enable_tls_backend to group_vars,MERGED,2022-01-05 10:13:26.000000000,2022-01-06 15:12:49.000000000,2022-01-06 15:10:35.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2022-01-05 10:13:26.000000000', 'files': ['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54718a90f8a2c0c13983eb61a4a32b258461a31a', 'message': 'horizon: move horizon_enable_tls_backend to group_vars\n\nThis variable is referenced by horizon_listen_port, which becomes\nundefined outside of the horizon role. One symptom of this is that\nthe hostvars variable becomes undefined when referenced for debugging\npurposes.\n\nThis issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,\nwhich has been backported to Victoria.\n\nThis change fixes the issue by moving horizon_enable_tls_backend to\ngroup_vars.\n\nTrivialFix\n\nChange-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c\n(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)\n'}]",0,823456,54718a90f8a2c0c13983eb61a4a32b258461a31a,9,3,1,14826,,,0,"horizon: move horizon_enable_tls_backend to group_vars

This variable is referenced by horizon_listen_port, which becomes
undefined outside of the horizon role. One symptom of this is that
the hostvars variable becomes undefined when referenced for debugging
purposes.

This issue was introduced by Ibb5ad1a5d1bbc74bcb62610d77852d8124c4a323,
which has been backported to Victoria.

This change fixes the issue by moving horizon_enable_tls_backend to
group_vars.

TrivialFix

Change-Id: I1fc4e2a24fe096a49434d7e16851e63efd25d74c
(cherry picked from commit 4c6d777868e3b12e7fde9e1f29868c38277bfc6d)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/56/823456/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/horizon/defaults/main.yml', 'ansible/group_vars/all.yml']",2,54718a90f8a2c0c13983eb61a4a32b258461a31a,,"horizon_enable_tls_backend: ""{{ kolla_enable_tls_backend }}"" ",,2,5
openstack%2Fneutron~stable%2Fwallaby~I8877c658446fed155130add6f1c69f2772113c27,openstack/neutron,stable/wallaby,I8877c658446fed155130add6f1c69f2772113c27,Allocate IPs in bulk requests in separate transactions,MERGED,2021-12-23 14:21:09.000000000,2022-01-06 15:06:50.000000000,2022-01-06 15:04:22.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-23 14:21:09.000000000', 'files': ['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e30cb5e24023083eb43c2188ed8da0cad45f151', 'message': 'Allocate IPs in bulk requests in separate transactions\n\nIn the ML2 plugin in create_port_bulk method, we are iterating over\nlist of the ports to be created and do everything for all ports in\nsingle DB transaction (which makes totally sense as this is bulk\nrequest).\nBut one of the things which was done during that huge transaction was\nallocation of the IP addresses for all ports. That action is prone for\nrace conditions and can fail often, especially when there is no many IP\naddresses available in the subnet(s) for the ports.\nIn case of the error while allocating IP address even for one port from\nthe whole bulk request, whole create_port_bulk method was retried so\nallocations (and everything else) for all ports was reverted and started\nfrom scratch. That takes a lot of time so some requests may be processed\nvery long time, like e.g. 2-3 minutes in my tests.\n\nTo reproduce that issue I did simple script which created network with\n/24 subnet and then sent 24 requests to create 10 ports in bulk in each\nrequest. That was in totall 240 ports created in that subnet.\nI measured time of the creation of all those ports in the current master\nbranch (without this patch) and with the patch. Results are like below:\n\n+-----+---------------+------------+---------------------------+\n| Run | Master branch | This patch | Simulate bulk by creation |\n|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |\n+-----+---------------+------------+---------------------------+\n| 1   | 01:37         | 01:02      | 00:57                     |\n| 2   | 02:06         | 00:40      | 01:03                     |\n| 3   | 02:08         | 00:41      | 00:59                     |\n| 4   | 02:14         | 00:45      | 00:55                     |\n| 5   | 01:58         | 00:45      | 00:57                     |\n| 6   | 02:37         | 00:53      | 01:05                     |\n| 7   | 01:59         | 00:42      | 00:58                     |\n| 8   | 02:01         | 00:41      | 00:57                     |\n| 9   | 02:39         | 00:42      | 00:55                     |\n| 10  | 01:59         | 00:41      | 00:56                     |\n+-----+---------------+------------+---------------------------+\n| AVG | 00:02:07      | 00:00:45   | 00:58                     |\n+-----+---------------+------------+---------------------------+\n\nCloses-Bug: #1954763\nChange-Id: I8877c658446fed155130add6f1c69f2772113c27\n(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)\n'}]",0,822795,5e30cb5e24023083eb43c2188ed8da0cad45f151,10,3,1,11975,,,0,"Allocate IPs in bulk requests in separate transactions

In the ML2 plugin in create_port_bulk method, we are iterating over
list of the ports to be created and do everything for all ports in
single DB transaction (which makes totally sense as this is bulk
request).
But one of the things which was done during that huge transaction was
allocation of the IP addresses for all ports. That action is prone for
race conditions and can fail often, especially when there is no many IP
addresses available in the subnet(s) for the ports.
In case of the error while allocating IP address even for one port from
the whole bulk request, whole create_port_bulk method was retried so
allocations (and everything else) for all ports was reverted and started
from scratch. That takes a lot of time so some requests may be processed
very long time, like e.g. 2-3 minutes in my tests.

To reproduce that issue I did simple script which created network with
/24 subnet and then sent 24 requests to create 10 ports in bulk in each
request. That was in totall 240 ports created in that subnet.
I measured time of the creation of all those ports in the current master
branch (without this patch) and with the patch. Results are like below:

+-----+---------------+------------+---------------------------+
| Run | Master branch | This patch | Simulate bulk by creation |
|     | [mm:ss]       | [mm:ss]    | of 10 ports one by one    |
+-----+---------------+------------+---------------------------+
| 1   | 01:37         | 01:02      | 00:57                     |
| 2   | 02:06         | 00:40      | 01:03                     |
| 3   | 02:08         | 00:41      | 00:59                     |
| 4   | 02:14         | 00:45      | 00:55                     |
| 5   | 01:58         | 00:45      | 00:57                     |
| 6   | 02:37         | 00:53      | 01:05                     |
| 7   | 01:59         | 00:42      | 00:58                     |
| 8   | 02:01         | 00:41      | 00:57                     |
| 9   | 02:39         | 00:42      | 00:55                     |
| 10  | 01:59         | 00:41      | 00:56                     |
+-----+---------------+------------+---------------------------+
| AVG | 00:02:07      | 00:00:45   | 00:58                     |
+-----+---------------+------------+---------------------------+

Closes-Bug: #1954763
Change-Id: I8877c658446fed155130add6f1c69f2772113c27
(cherry picked from commit 82aabb0aa962a3c5c5ce5ad1067952d8f3d9f992)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/822795/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/ipam_pluggable_backend.py', 'neutron/plugins/ml2/plugin.py']",3,5e30cb5e24023083eb43c2188ed8da0cad45f151,bug/1954763-stable/xena-stable/wallaby," def allocate_ips_for_ports(self, context, ports): for port in ports: port['port']['id'] = ( port['port'].get('id') or uuidutils.generate_uuid()) # Call IPAM to allocate IP addresses try: port['ipams'] = self.ipam.allocate_ips_for_port(context, port) port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: port['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED) return ports def create_port_bulk(self, context, ports): port_list = self.allocate_ips_for_ports(context, port_list) try: return self._create_port_bulk(context, port_list) except Exception: with excutils.save_and_reraise_exception(): # If any issue happened allocated IP addresses needs to be # deallocated now for port in port_list: self.ipam.deallocate_ips_from_port( context, port, port['ipams']) @db_api.retry_if_session_inactive() def _create_port_bulk(self, context, port_list): # TODO(njohnston): Break this up into smaller functions. id=port['port']['id'], # Call IPAM to store allocated IP addresses ipams = port.pop(""ipams"") self.ipam.store_ip_allocation_for_port( context, ipams, network_id, port) ipam_fixed_ips = [] for ip in ipams: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = port.pop('ip_allocation')"," @db_api.retry_if_session_inactive() def create_port_bulk(self, context, ports): # TODO(njohnston): Break this up into smaller functions. id=uuidutils.generate_uuid(), # Call IPAM to allocate IP addresses try: # TODO(njohnston): IPAM allocation needs to be revamped to # be bulk-friendly. ips = self.ipam.allocate_ips_for_port_and_store( context, port, db_port_obj['id']) ipam_fixed_ips = [] for ip in ips: fixed_ip = ports_obj.IPAllocation( port_id=db_port_obj['id'], subnet_id=ip['subnet_id'], network_id=network_id, ip_address=ip['ip_address']) ipam_fixed_ips.append(fixed_ip) db_port_obj['fixed_ips'] = ipam_fixed_ips db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_IMMEDIATE) except ipam_exc.DeferIpam: db_port_obj['ip_allocation'] = (ipalloc_apidef. IP_ALLOCATION_DEFERRED)",104,36
openstack%2Fpuppet-octavia~master~I685062bc5aeaf6600df06531f0bff979a0d037ba,openstack/puppet-octavia,master,I685062bc5aeaf6600df06531f0bff979a0d037ba,TripleO: Use nested virt,MERGED,2021-08-06 14:32:33.000000000,2022-01-06 14:24:55.000000000,2022-01-06 14:24:55.000000000,"[{'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-06 14:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/e0d4e798ea3bd69cc4d921ec8d5299715a24b94b', 'message': 'TripleO: Use nested virt\n\nThe tripleo-standalone job frequently fails in puppet-octavia repo\nbecause creation of amphora instance is too slow. This change enables\nnested virt to accelerate instance booting.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba\n'}, {'number': 2, 'created': '2021-12-02 04:08:06.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c372c73fab62e9076cb8d78c38e8fb37a6e825ef', 'message': 'TripleO: Use nested virt\n\nThe tripleo-standalone job frequently fails in puppet-octavia repo\nbecause creation of amphora instance is too slow. This change enables\nnested virt to accelerate instance booting.\n\nCo-Authored-By: Michael Johnson <johnsomor@gmail.com>\nChange-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba\n'}]",2,803769,c372c73fab62e9076cb8d78c38e8fb37a6e825ef,14,4,2,9816,,,0,"TripleO: Use nested virt

The tripleo-standalone job frequently fails in puppet-octavia repo
because creation of amphora instance is too slow. This change enables
nested virt to accelerate instance booting.

Co-Authored-By: Michael Johnson <johnsomor@gmail.com>
Change-Id: I685062bc5aeaf6600df06531f0bff979a0d037ba
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/69/803769/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,e0d4e798ea3bd69cc4d921ec8d5299715a24b94b,tripleo-tempest,- nodeset: name: octavia-single-node-centos-8-stream nodes: - name: primary label: nested-virt-centos-8-stream groups: - name: switch nodes: - primary - name: peers nodes: [] nodeset: octavia-single-node-centos-8-stream - nested-virt - 'ci/environments/octavia-kvm.yaml',,15,0
openstack%2Fdevstack~master~I8b9cde70b5909913b7d8785e2fc398e64f93e640,openstack/devstack,master,I8b9cde70b5909913b7d8785e2fc398e64f93e640,add optional qemu wrapper,ABANDONED,2021-11-08 20:05:06.000000000,2022-01-06 14:02:50.000000000,,"[{'_account_id': 6962}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-08 20:05:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/7fb4e26ce8c13fbe71d8ecb547b188f747a28303', 'message': 'add optional qemu wrapper\n\nupstream qemu has recently increased the tb_size of instances\nform 32MiB to 1GiB.\nhttps://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013\n\nThis is not currently tunable via libvirt and as a result cannot\nbe set via nova. While the libvirt feature is being implemented\nthis change introduces a qemu wrapper that will rewrite the qemu\ncommand line such that the tb_size can be clampped to resonsable size\nfor our upstream ci.\n\nThis behavior can be enabled by setting USE_QEMU_WRAPPER=True.\nBy default the qemu wrapper is not enabled.\n\nWhen used the tb_size will be limited to 32MiB but that can be\naltered by defining TB_SIZE_LIMIT to an alternitive value.\n32MiB is the old default and should work in most cases.\n\nThis change enables the qemu wrapper by default in zuul jobs.\n\nChange-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640\n'}, {'number': 2, 'created': '2021-11-08 22:22:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/66f298bc8234228a2af18e6193ea2fc7c39e2c53', 'message': 'add optional qemu wrapper\n\nupstream qemu has recently increased the tb_size of instances\nform 32MiB to 1GiB.\nhttps://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013\n\nThis is not currently tunable via libvirt and as a result cannot\nbe set via nova. While the libvirt feature is being implemented\nthis change introduces a qemu wrapper that will rewrite the qemu\ncommand line such that the tb_size can be clampped to resonsable size\nfor our upstream ci.\n\nThis behavior can be enabled by setting USE_QEMU_WRAPPER=True.\nBy default the qemu wrapper is not enabled.\n\nWhen used the tb_size will be limited to 32MiB but that can be\naltered by defining TB_SIZE_LIMIT to an alternitive value.\n32MiB is the old default and should work in most cases.\n\nThis change enables the qemu wrapper by default in zuul jobs.\n\nChange-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640\n'}, {'number': 3, 'created': '2021-11-09 14:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9046dc0502fe06d7217bdc556ad9090c14ed850c', 'message': 'add optional qemu wrapper\n\nupstream qemu has recently increased the tb_size of instances\nform 32MiB to 1GiB.\nhttps://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013\n\nThis is not currently tunable via libvirt and as a result cannot\nbe set via nova. While the libvirt feature is being implemented\nthis change introduces a qemu wrapper that will rewrite the qemu\ncommand line such that the tb_size can be clampped to resonsable size\nfor our upstream ci.\n\nThis behavior can be enabled by setting USE_QEMU_WRAPPER=True.\nBy default the qemu wrapper is not enabled.\n\nWhen used the tb_size will be limited to 32MiB but that can be\naltered by defining TB_SIZE_LIMIT to an alternitive value.\n32MiB is the old default and should work in most cases.\n\nThis change enables the qemu wrapper by default in zuul jobs.\nThis change removes apparmor when the wrapper is enabled.\n\nChange-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640\n'}, {'number': 4, 'created': '2021-11-09 14:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/fff0a9d486231cda2ee2f274c63e0f008beb44ae', 'message': 'add optional qemu wrapper\n\nupstream qemu has recently increased the tb_size of instances\nform 32MiB to 1GiB.\nhttps://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013\n\nThis is not currently tunable via libvirt and as a result cannot\nbe set via nova. While the libvirt feature is being implemented\nthis change introduces a qemu wrapper that will rewrite the qemu\ncommand line such that the tb_size can be clampped to resonsable size\nfor our upstream ci.\n\nThis behavior can be enabled by setting USE_QEMU_WRAPPER=True.\nBy default the qemu wrapper is not enabled.\n\nWhen used the tb_size will be limited to 32MiB but that can be\naltered by defining TB_SIZE_LIMIT to an alternitive value.\n32MiB is the old default and should work in most cases.\n\nThis change enables the qemu wrapper by default in zuul jobs.\nThis change removes apparmor when the wrapper is enabled.\n\nChange-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640\n'}, {'number': 5, 'created': '2021-11-09 14:36:03.000000000', 'files': ['lib/nova_plugins/hypervisor-libvirt', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0e218b491b9ffb54c2c3d1e4c215e3784bb9b799', 'message': 'add optional qemu wrapper\n\nupstream qemu has recently increased the tb_size of instances\nform 32MiB to 1GiB.\nhttps://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013\n\nThis is not currently tunable via libvirt and as a result cannot\nbe set via nova. While the libvirt feature is being implemented\nthis change introduces a qemu wrapper that will rewrite the qemu\ncommand line such that the tb_size can be clampped to resonsable size\nfor our upstream ci.\n\nThis behavior can be enabled by setting USE_QEMU_WRAPPER=True.\nBy default the qemu wrapper is not enabled.\n\nWhen used the tb_size will be limited to 32MiB but that can be\naltered by defining TB_SIZE_LIMIT to an alternitive value.\n32MiB is the old default and should work in most cases.\n\nThis change enables the qemu wrapper by default in zuul jobs.\nThis change removes apparmor when the wrapper is enabled.\n\nChange-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640\n'}]",4,817075,0e218b491b9ffb54c2c3d1e4c215e3784bb9b799,12,3,5,11604,,,0,"add optional qemu wrapper

upstream qemu has recently increased the tb_size of instances
form 32MiB to 1GiB.
https://github.com/qemu/qemu/commit/600e17b261555c56a048781b8dd5ba3985650013

This is not currently tunable via libvirt and as a result cannot
be set via nova. While the libvirt feature is being implemented
this change introduces a qemu wrapper that will rewrite the qemu
command line such that the tb_size can be clampped to resonsable size
for our upstream ci.

This behavior can be enabled by setting USE_QEMU_WRAPPER=True.
By default the qemu wrapper is not enabled.

When used the tb_size will be limited to 32MiB but that can be
altered by defining TB_SIZE_LIMIT to an alternitive value.
32MiB is the old default and should work in most cases.

This change enables the qemu wrapper by default in zuul jobs.
This change removes apparmor when the wrapper is enabled.

Change-Id: I8b9cde70b5909913b7d8785e2fc398e64f93e640
",git fetch https://review.opendev.org/openstack/devstack refs/changes/75/817075/5 && git format-patch -1 --stdout FETCH_HEAD,"['lib/nova_plugins/hypervisor-libvirt', '.zuul.yaml']",2,7fb4e26ce8c13fbe71d8ecb547b188f747a28303,qemu-wrapper, USE_QEMU_WRAPPER: true,,94,2
openstack%2Fkayobe~master~I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,openstack/kayobe,master,I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3,[CI] Drop unused nodeset,MERGED,2022-01-03 11:27:13.000000000,2022-01-06 13:53:07.000000000,2022-01-06 13:47:25.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 11:27:13.000000000', 'files': ['zuul.d/nodesets.yaml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/fa5514c0d74ccc56b3e1068da3bd9a02be547732', 'message': '[CI] Drop unused nodeset\n\nIt is required for infra cleanup.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html\n\nChange-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3\n'}]",0,823270,fa5514c0d74ccc56b3e1068da3bd9a02be547732,8,3,1,30491,,,0,"[CI] Drop unused nodeset

It is required for infra cleanup.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-December/026408.html

Change-Id: I4ab7b637baee8fa2c40aae510dcefb3fa84eecd3
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/823270/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/nodesets.yaml'],1,fa5514c0d74ccc56b3e1068da3bd9a02be547732,ci-stop-testing-non-stream-centos,, name: kayobe-centos8 nodes: - name: primary label: centos-8 - nodeset:,0,6
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ib1b6b3feda7c173242d5420692689d5cb2ebd31c,openstack/charm-neutron-api-plugin-ovn,master,Ib1b6b3feda7c173242d5420692689d5cb2ebd31c,[DNM] Test in-flight zaza-openstack-tests change,ABANDONED,2020-09-09 09:14:51.000000000,2022-01-06 13:50:28.000000000,,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-09 09:14:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/77d6d15119451aee7e7ff7ba497e5604403aeb75', 'message': '[DNM] Test in-flight zaza-openstack-tests change\n\nChange-Id: Ib1b6b3feda7c173242d5420692689d5cb2ebd31c\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/365\n'}]",0,750607,77d6d15119451aee7e7ff7ba497e5604403aeb75,15,4,1,13686,,,0,"[DNM] Test in-flight zaza-openstack-tests change

Change-Id: Ib1b6b3feda7c173242d5420692689d5cb2ebd31c
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/365
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/07/750607/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,77d6d15119451aee7e7ff7ba497e5604403aeb75,test-zot,,,0,0
openstack%2Fcharm-nova-compute~master~I8cac5237655044fef1fac7c7e4516c995e71f572,openstack/charm-nova-compute,master,I8cac5237655044fef1fac7c7e4516c995e71f572,[DNM] test zot-change,ABANDONED,2020-10-02 11:04:00.000000000,2022-01-06 13:50:09.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-02 11:04:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/409a53233caf59a573eb76993efadf124be7a93c', 'message': '[DNM] test zot-change\n\nChange-Id: I8cac5237655044fef1fac7c7e4516c995e71f572\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/429\n'}, {'number': 2, 'created': '2020-10-02 12:36:24.000000000', 'files': ['tests/bundles/focal-ussuri.yaml', 'tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/4be6486d9075b8a45a882a6da3b771ae3d28c976', 'message': '[DNM] test zot-change\n\nChange-Id: I8cac5237655044fef1fac7c7e4516c995e71f572\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/429\n'}]",0,755762,4be6486d9075b8a45a882a6da3b771ae3d28c976,9,3,2,13686,,,0,"[DNM] test zot-change

Change-Id: I8cac5237655044fef1fac7c7e4516c995e71f572
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/429
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/62/755762/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/tests.yaml'],1,409a53233caf59a573eb76993efadf124be7a93c,test-zot,- ceph: focal-ussuri - zaza.openstack.charm_tests.nova.tests.LTSGuestCreateVolumeBackedTest,- bionic-train - zaza.openstack.charm_tests.nova.tests.LTSGuestCreateTest - zaza.openstack.charm_tests.nova.tests.NovaCompute - zaza.openstack.charm_tests.nova.tests.SecurityTests - zaza.openstack.charm_tests.ceph.tests.CheckPoolTypes - zaza.openstack.charm_tests.ceph.tests.BlueStoreCompressionCharmOperation - zaza.openstack.charm_tests.nova.tests.CirrosGuestCreateTest - zaza.openstack.charm_tests.nova.tests.LTSGuestCreateTest - zaza.openstack.charm_tests.nova.tests.NovaCompute - zaza.openstack.charm_tests.nova.tests.SecurityTests,2,10
openstack%2Fcharm-glance-simplestreams-sync~master~I9c348e720c6694ca4098923cb4c713a50b25f814,openstack/charm-glance-simplestreams-sync,master,I9c348e720c6694ca4098923cb4c713a50b25f814,[DNM] Ignore,ABANDONED,2021-05-26 14:20:59.000000000,2022-01-06 13:49:50.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-26 14:20:59.000000000', 'files': ['test-requirements.txt', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/10fe2a9a6a70775f4dc812e272a85eda6e513f2b', 'message': '[DNM] Ignore\n\nChange-Id: I9c348e720c6694ca4098923cb4c713a50b25f814\n'}]",0,793165,10fe2a9a6a70775f4dc812e272a85eda6e513f2b,5,2,1,13686,,,0,"[DNM] Ignore

Change-Id: I9c348e720c6694ca4098923cb4c713a50b25f814
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/65/793165/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'config.yaml']",2,10fe2a9a6a70775f4dc812e272a85eda6e513f2b,bug/1929668," item_filters: ['release~(xenial|bionic|focal)', 'arch~(x86_64|amd64)', 'ftype~(disk1.img|disk.img)']}]"""," item_filters: ['release~(trusty|xenial|bionic|focal)', 'arch~(x86_64|amd64)', 'ftype~(disk1.img|disk.img)']}]""",2,2
openstack%2Fcharm-octavia~master~Ic2bc3232788fe8aa5eb17b4d7ffc13c56ed396f5,openstack/charm-octavia,master,Ic2bc3232788fe8aa5eb17b4d7ffc13c56ed396f5,[DNM] Test wallaby with -proposed,ABANDONED,2021-10-19 14:29:39.000000000,2022-01-06 13:49:19.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-19 14:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/a7411daa7c6da5cf84063b321107dadd5f6fd002', 'message': '[DNM] Test wallaby with -proposed\n\nRelated-Bug: #1917475\nChange-Id: Ic2bc3232788fe8aa5eb17b4d7ffc13c56ed396f5\n'}, {'number': 2, 'created': '2021-10-20 06:54:13.000000000', 'files': ['osci.yaml', 'requirements.txt', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/9611de7e1d136ba05dc92041bfc29e9a07c7d831', 'message': '[DNM] Test wallaby with -proposed\n\nRelated-Bug: #1917475\nChange-Id: Ic2bc3232788fe8aa5eb17b4d7ffc13c56ed396f5\n'}]",1,814590,9611de7e1d136ba05dc92041bfc29e9a07c7d831,10,3,2,13686,,,0,"[DNM] Test wallaby with -proposed

Related-Bug: #1917475
Change-Id: Ic2bc3232788fe8aa5eb17b4d7ffc13c56ed396f5
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/90/814590/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'src/tests/bundles/hirsute-wallaby-ha-ovn.yaml', 'src/tests/bundles/focal-wallaby-ha-ovn.yaml']",3,a7411daa7c6da5cf84063b321107dadd5f6fd002,bug/1917475, openstack-origin: &openstack-origin cloud:focal-wallaby/proposed, openstack-origin: &openstack-origin cloud:focal-wallaby,4,8
openstack%2Fcharm-nova-cloud-controller~master~I66f89946ba9d15cc05a2abaed07e16c51307af9b,openstack/charm-nova-cloud-controller,master,I66f89946ba9d15cc05a2abaed07e16c51307af9b,[DNM] Test z-o-t change,ABANDONED,2021-02-01 16:49:10.000000000,2022-01-06 13:48:51.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 16:49:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/f83226bf7672561317bdd8ed47d5600121ce84d6', 'message': '[DNM] Test z-o-t change\n\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/493\nChange-Id: I66f89946ba9d15cc05a2abaed07e16c51307af9b\n'}]",0,773450,f83226bf7672561317bdd8ed47d5600121ce84d6,5,3,1,13686,,,0,"[DNM] Test z-o-t change

Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/493
Change-Id: I66f89946ba9d15cc05a2abaed07e16c51307af9b
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/50/773450/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,f83226bf7672561317bdd8ed47d5600121ce84d6,test-zot-493,,,0,0
openstack%2Fcharm-neutron-openvswitch~master~I2fc0b358453d6fcf7171bb1d24b8cc8a4e18f23b,openstack/charm-neutron-openvswitch,master,I2fc0b358453d6fcf7171bb1d24b8cc8a4e18f23b,[DNM] Test in-flight Zaza+ZOT change,ABANDONED,2021-01-13 17:55:48.000000000,2022-01-06 13:48:38.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-13 17:55:48.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/48c01a6a23ea85844fe7df10d46829b14e731140', 'message': '[DNM] Test in-flight Zaza+ZOT change\n\nThis is a throw-away review to test in flight test code changes.\n\nChange-Id: I2fc0b358453d6fcf7171bb1d24b8cc8a4e18f23b\n'}]",0,770653,48c01a6a23ea85844fe7df10d46829b14e731140,7,3,1,13686,,,0,"[DNM] Test in-flight Zaza+ZOT change

This is a throw-away review to test in flight test code changes.

Change-Id: I2fc0b358453d6fcf7171bb1d24b8cc8a4e18f23b
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/53/770653/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,48c01a6a23ea85844fe7df10d46829b14e731140,test-zaza,git+https://github.com/fnordahl/zaza.git@add-maas-helpers#egg=zaza;python_version>='3.0' git+https://github.com/fnordahl/zaza-openstack-tests.git@add-maas-helpers#egg=zaza.openstack,git+https://github.com/openstack-charmers/zaza.git#egg=zaza;python_version>='3.0' git+https://github.com/openstack-charmers/zaza-openstack-tests.git#egg=zaza.openstack,2,2
openstack%2Fcharm-octavia~master~I705ab1ec652f17b0b82a7065dce4185654a63fef,openstack/charm-octavia,master,I705ab1ec652f17b0b82a7065dce4185654a63fef,[DNM] Test focal-victoria Amphora,ABANDONED,2020-09-18 07:29:33.000000000,2022-01-06 13:48:23.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-18 07:29:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/5f3d3e042d89e28e08bed5eeef5c8e5f5f954338', 'message': '[DNM] Test focal-victoria Amphora\n\nModified the smoke target to do focal-victoria for a quick read on\nthe state of an Victoria Amphora.\n\nChange-Id: I705ab1ec652f17b0b82a7065dce4185654a63fef\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418\n'}, {'number': 2, 'created': '2020-09-18 10:54:31.000000000', 'files': ['src/tests/bundles/focal-victoria-ha-ovn.yaml', 'src/tests/bundles/focal-victoria-ha.yaml', 'src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/fe282c2aeb44a847e961443d54ea6fc9b554904e', 'message': '[DNM] Test focal-victoria Amphora\n\nModified the smoke target to do focal-victoria for a quick read on\nthe state of an Victoria Amphora.\n\nChange-Id: I705ab1ec652f17b0b82a7065dce4185654a63fef\nFunc-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418\n'}]",0,752635,fe282c2aeb44a847e961443d54ea6fc9b554904e,10,3,2,13686,,,0,"[DNM] Test focal-victoria Amphora

Modified the smoke target to do focal-victoria for a quick read on
the state of an Victoria Amphora.

Change-Id: I705ab1ec652f17b0b82a7065dce4185654a63fef
Func-Test-Pr: https://github.com/openstack-charmers/zaza-openstack-tests/pull/418
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/35/752635/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,5f3d3e042d89e28e08bed5eeef5c8e5f5f954338,bug/1895319,- focal-victoria-ha-ovn,- bionic-ussuri-ha-ovn - bionic-ussuri-ha,1,2
openstack%2Fcharm-neutron-openvswitch~master~Ibce21e73e3ab41acaa23b0c161b92f4d0fad1ef8,openstack/charm-neutron-openvswitch,master,Ibce21e73e3ab41acaa23b0c161b92f4d0fad1ef8,[DNM] ignore,ABANDONED,2020-09-28 07:08:49.000000000,2022-01-06 13:48:05.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-28 07:08:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/00e18ae982a77e15314af46c5e905c330a8f11f8', 'message': '[DNM] ignore\n\nChange-Id: Ibce21e73e3ab41acaa23b0c161b92f4d0fad1ef8\n'}, {'number': 2, 'created': '2020-09-28 09:14:14.000000000', 'files': ['tests/tests.yaml', 'tests/bundles/bionic-ussuri-dvr-snat.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/f383ea0604beaebdf0d54c8de82ae7fb538f3ab5', 'message': '[DNM] ignore\n\nChange-Id: Ibce21e73e3ab41acaa23b0c161b92f4d0fad1ef8\n'}]",0,754641,f383ea0604beaebdf0d54c8de82ae7fb538f3ab5,7,2,2,13686,,,0,"[DNM] ignore

Change-Id: Ibce21e73e3ab41acaa23b0c161b92f4d0fad1ef8
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/41/754641/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/bionic-ussuri-dvr-snat.yaml']",2,00e18ae982a77e15314af46c5e905c330a8f11f8,test, firewall-driver: openvswitch,,10,6
openstack%2Fcharm-neutron-api-plugin-ovn~master~I1a7c1e156204420dd4577cfa7fc64b5560048ede,openstack/charm-neutron-api-plugin-ovn,master,I1a7c1e156204420dd4577cfa7fc64b5560048ede,[DNM] check layer-ovn change,ABANDONED,2021-02-12 16:17:24.000000000,2022-01-06 13:47:42.000000000,,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-12 16:17:24.000000000', 'files': ['src/tests/bundles/focal-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/0b48505bb11700771cec93982d2fb8986c74d571', 'message': '[DNM] check layer-ovn change\n\nChange-Id: I1a7c1e156204420dd4577cfa7fc64b5560048ede\n'}]",0,775412,0b48505bb11700771cec93982d2fb8986c74d571,5,3,1,13686,,,0,"[DNM] check layer-ovn change

Change-Id: I1a7c1e156204420dd4577cfa7fc64b5560048ede
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/12/775412/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/focal-ussuri.yaml'],1,0b48505bb11700771cec93982d2fb8986c74d571,test-layer-ovn, charm: cs:~fnordahl/ovn-chassis-bug1906280, charm: cs:~openstack-charmers-next/ovn-chassis,1,1
openstack%2Fcharm-neutron-api-plugin-ovn~master~Ic9e222ea0e6939bfaf03b2528d18362bb5572e77,openstack/charm-neutron-api-plugin-ovn,master,Ic9e222ea0e6939bfaf03b2528d18362bb5572e77,[DNM] Check ovn-chassis from review 799674,ABANDONED,2021-07-06 13:55:46.000000000,2022-01-06 13:45:56.000000000,,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 13:55:46.000000000', 'files': ['src/tests/bundles/overlays/ha.j2'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api-plugin-ovn/commit/573ff08e968164468d7e4d0e6d92e060ff1115df', 'message': '[DNM] Check ovn-chassis from review 799674\n\nChange-Id: Ic9e222ea0e6939bfaf03b2528d18362bb5572e77\n'}]",10,799675,573ff08e968164468d7e4d0e6d92e060ff1115df,27,3,1,13686,,,0,"[DNM] Check ovn-chassis from review 799674

Change-Id: Ic9e222ea0e6939bfaf03b2528d18362bb5572e77
",git fetch https://review.opendev.org/openstack/charm-neutron-api-plugin-ovn refs/changes/75/799675/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/overlays/ha.j2'],1,573ff08e968164468d7e4d0e6d92e060ff1115df,check-799674, ovn-chassis: charm: cs:~fnordahl/ovn-chassis-bug1908377,,2,0
openstack%2Fpuppet-keystone~master~I6effcf58a254b6d46ac48a3eb40bfb064b4d851f,openstack/puppet-keystone,master,I6effcf58a254b6d46ac48a3eb40bfb064b4d851f,Create an independent class for credential feature,ABANDONED,2020-12-29 13:50:03.000000000,2022-01-06 13:27:43.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 13:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0aba76801f44ebde126c6837ba582bdbb8f54d67', 'message': 'Add keystone::credentials class to configure the credential feature\n\nThis patch intorduces the independent keystone::credential class to\nmaintain configurations for the credential feature, to make the base\nkeystone class simpler.\n\nChange-Id: I6effcf58a254b6d46ac48a3eb40bfb064b4d851f\n'}, {'number': 2, 'created': '2020-12-29 14:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/fb972885e7e2c1abd304de4830f99bdd45d26bbf', 'message': 'Create independent class for credential feature\n\n... to make the base keystone class simpler.\n\nChange-Id: I6effcf58a254b6d46ac48a3eb40bfb064b4d851f\n'}, {'number': 3, 'created': '2020-12-29 14:34:00.000000000', 'files': ['spec/classes/keystone_credential_spec.rb', 'releasenotes/notes/keystone-credential-66741fd6def4c8fc.yaml', 'manifests/init.pp', 'manifests/credential.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/73e8b828063740f012d8ec9c148cbf59e926945e', 'message': 'Create an independent class for credential feature\n\n... to reduce complexity of the base keystone class.\n\nChange-Id: I6effcf58a254b6d46ac48a3eb40bfb064b4d851f\n'}]",0,768725,73e8b828063740f012d8ec9c148cbf59e926945e,5,1,3,9816,,,0,"Create an independent class for credential feature

... to reduce complexity of the base keystone class.

Change-Id: I6effcf58a254b6d46ac48a3eb40bfb064b4d851f
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/25/768725/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/keystone-credential-66741fd6def4c8fc.yaml', 'spec/classes/keystone_credential_spec.rb', 'manifests/init.pp', 'manifests/credential.pp', 'spec/classes/keystone_init_spec.rb']",5,0aba76801f44ebde126c6837ba582bdbb8f54d67,refactor-init,," describe 'when using credentials' do describe 'when enabling credential_setup' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_key_repository' => '/etc/keystone/credential-keys', }) end it { is_expected.to contain_file(params['credential_key_repository']).with( :ensure => 'directory', :owner => params['keystone_user'], :group => params['keystone_group'], 'mode' => '0600', ) } it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => ""keystone-manage credential_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } it { is_expected.to contain_keystone_config('credential/key_repository').with_value('/etc/keystone/credential-keys')} end describe 'when overriding the credential key directory' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_key_repository' => '/var/lib/credential-keys', }) end it { is_expected.to contain_exec('keystone-manage credential_setup').with( :creates => '/var/lib/credential-keys/0' ) } end describe 'when overriding the keystone group and user' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'keystone_user' => 'test_user', 'keystone_group' => 'test_group', }) end it { is_expected.to contain_exec('keystone-manage credential_setup').with( :command => ""keystone-manage credential_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/credential-keys/0', :require => 'File[/etc/keystone/credential-keys]', ) } end describe 'when setting credential_keys parameter' do let :params do default_params.merge({ 'enable_credential_setup' => true, 'credential_keys' => { '/etc/keystone/credential-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/credential-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, } }) end it { is_expected.to_not contain_exec('keystone-manage credential_setup') } it { is_expected.to contain_file('/etc/keystone/credential-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'subscribe' => 'Anchor[keystone::install::end]', )} it { is_expected.to contain_file('/etc/keystone/credential-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'subscribe' => 'Anchor[keystone::install::end]', )} end describe 'when disabling credential_setup' do let :params do default_params.merge({ 'enable_credential_setup' => false, 'credential_key_repository' => '/etc/keystone/credential-keys', }) end it { is_expected.to_not contain_file(params['credential_key_repository']) } it { is_expected.to_not contain_exec('keystone-manage credential_setup') } end end ",271,159
openstack%2Fpuppet-keystone~master~I7c3e63f1f78e815555e412cd0565e43745fa0d76,openstack/puppet-keystone,master,I7c3e63f1f78e815555e412cd0565e43745fa0d76,Create an independent class for fernet token feature,ABANDONED,2020-12-29 14:29:11.000000000,2022-01-06 13:27:38.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-29 14:29:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/38572a732df3a57a413a0513d0a25460acaffa5b', 'message': 'Create an independent class for fernet token feature\n\nThis change introduces the new keystone::token::fernet class to manage\nconfigurations for fernet token.\n\nChange-Id: I7c3e63f1f78e815555e412cd0565e43745fa0d76\n'}, {'number': 2, 'created': '2020-12-29 14:34:00.000000000', 'files': ['manifests/token/fernet.pp', 'manifests/init.pp', 'spec/classes/keystone_token_fernet_spec.rb', 'releasenotes/notes/keystone-token-fernet-b2d7a1dab8b97465.yaml', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/733d7fd12337fde2796c02c340c642bbb7300d7f', 'message': 'Create an independent class for fernet token feature\n\n... to reduce complexity of the base keystone class.\n\nChange-Id: I7c3e63f1f78e815555e412cd0565e43745fa0d76\n'}]",0,768726,733d7fd12337fde2796c02c340c642bbb7300d7f,4,1,2,9816,,,0,"Create an independent class for fernet token feature

... to reduce complexity of the base keystone class.

Change-Id: I7c3e63f1f78e815555e412cd0565e43745fa0d76
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/26/768726/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/token/fernet.pp', 'manifests/init.pp', 'releasenotes/notes/keystone-token-fernet-b2d7a1dab8b97465.yaml', 'spec/classes/keystone_token_fernet_spec.rb', 'spec/classes/keystone_init_spec.rb']",5,38572a732df3a57a413a0513d0a25460acaffa5b,refactor-init,," describe 'when using fernet tokens' do describe 'when enabling fernet_setup' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_max_active_keys' => 5, 'revoke_by_id' => false, 'fernet_key_repository' => '/etc/keystone/fernet-keys', }) end it { is_expected.to contain_file(params['fernet_key_repository']).with( :ensure => 'directory', :owner => params['keystone_user'], :group => params['keystone_group'], :mode => '0600', ) } it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/fernet-keys/0', :require => 'File[/etc/keystone/fernet-keys]', ) } it { is_expected.to contain_keystone_config('fernet_tokens/max_active_keys').with_value(5)} it { is_expected.to contain_keystone_config('token/revoke_by_id').with_value(false)} end describe 'when overriding the fernet key directory' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_key_repository' => '/var/lib/fernet-keys', }) end it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :creates => '/var/lib/fernet-keys/0' ) } end describe 'when overriding the keystone group and user' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_key_repository' => '/etc/keystone/fernet-keys', 'keystone_user' => 'test_user', 'keystone_group' => 'test_group', }) end it { is_expected.to contain_exec('keystone-manage fernet_setup').with( :command => ""keystone-manage fernet_setup --keystone-user #{params['keystone_user']} --keystone-group #{params['keystone_group']}"", :user => params['keystone_user'], :creates => '/etc/keystone/fernet-keys/0', :require => 'File[/etc/keystone/fernet-keys]', ) } end end describe 'when setting fernet_keys parameter' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_keys' => { '/etc/keystone/fernet-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/fernet-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, } }) end it { is_expected.to_not contain_exec('keystone-manage fernet_setup') } it { is_expected.to contain_file('/etc/keystone/fernet-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => true, 'subscribe' => 'Anchor[keystone::install::end]', 'tag' => 'keystone-fernet-key', )} it { is_expected.to contain_file('/etc/keystone/fernet-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => true, 'subscribe' => 'Anchor[keystone::install::end]', 'tag' => 'keystone-fernet-key', )} end describe 'when not replacing fernet_keys and setting fernet_keys parameter' do let :params do default_params.merge({ 'enable_fernet_setup' => true, 'fernet_keys' => { '/etc/keystone/fernet-keys/0' => { 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', }, '/etc/keystone/fernet-keys/1' => { 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', }, }, 'fernet_replace_keys' => false, }) end it { is_expected.to_not contain_exec('keystone-manage fernet_setup') } it { is_expected.to contain_file('/etc/keystone/fernet-keys/0').with( 'content' => 't-WdduhORSqoyAykuqWAQSYjg2rSRuJYySgI2xh48CI=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => false, 'subscribe' => 'Anchor[keystone::install::end]', )} it { is_expected.to contain_file('/etc/keystone/fernet-keys/1').with( 'content' => 'GLlnyygEVJP4-H2OMwClXn3sdSQUZsM5F194139Unv8=', 'owner' => 'keystone', 'mode' => '0600', 'replace' => false, 'subscribe' => 'Anchor[keystone::install::end]', )} end ",341,217
openstack%2Fmurano~master~Ib9ac7b56aa25695d40a3a5c48d0b3385ad7a0722,openstack/murano,master,Ib9ac7b56aa25695d40a3a5c48d0b3385ad7a0722,Add tools to tempest job irrelevant-files,MERGED,2022-01-04 09:27:43.000000000,2022-01-06 12:18:59.000000000,2022-01-06 12:13:04.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-04 09:27:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/33fd998d33ba4f7c0e92fa37d1d7bae72577d07e', 'message': 'Add tools to tempest job irrelevant-files\n\nChange-Id: Ib9ac7b56aa25695d40a3a5c48d0b3385ad7a0722\n'}, {'number': 2, 'created': '2022-01-04 09:28:34.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/murano/commit/89f8cd0b3ffa6c58190c904ade0c1bd4c8c95720', 'message': 'Add tools to tempest job irrelevant-files\n\nChange-Id: Ib9ac7b56aa25695d40a3a5c48d0b3385ad7a0722\n'}]",2,823309,89f8cd0b3ffa6c58190c904ade0c1bd4c8c95720,13,2,2,14107,,,0,"Add tools to tempest job irrelevant-files

Change-Id: Ib9ac7b56aa25695d40a3a5c48d0b3385ad7a0722
",git fetch https://review.opendev.org/openstack/murano refs/changes/09/823309/2 && git format-patch -1 --stdout FETCH_HEAD,[],0,33fd998d33ba4f7c0e92fa37d1d7bae72577d07e,Add tools to tempest job irrelevant-files,,,0,0
openstack%2Fmurano~stable%2Fvictoria~I5268132018e0a283bd35b5599cf8ca41968dde93,openstack/murano,stable/victoria,I5268132018e0a283bd35b5599cf8ca41968dde93,Fix broken unit test,MERGED,2021-08-22 03:40:46.000000000,2022-01-06 12:18:59.000000000,2022-01-06 12:13:02.000000000,"[{'_account_id': 9816}, {'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-22 03:40:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/2ae131ccdee9c6e8ddd1c2785cba8ce16b3d1ebf', 'message': ""Fix broken unit test\n\nThis change mocks sqlalchemy.update during unit tests properly to avoid\nthe following error.\n\nsqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or\nDELETE expected, got <MagicMock name='models.Instance' id='...'>\n\nCloses-Bug: #1938676\nChange-Id: I5268132018e0a283bd35b5599cf8ca41968dde93\n(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)\n""}, {'number': 2, 'created': '2022-01-06 09:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/murano/commit/06c75649beba88aad7d5106b688c36d28fed6449', 'message': ""Fix broken unit test\n\nThis change mocks sqlalchemy.update during unit tests properly to avoid\nthe following error.\n\nsqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or\nDELETE expected, got <MagicMock name='models.Instance' id='...'>\n\nCloses-Bug: #1938676\nChange-Id: I5268132018e0a283bd35b5599cf8ca41968dde93\n(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)\n""}, {'number': 3, 'created': '2022-01-06 09:38:44.000000000', 'files': ['murano/tests/unit/db/services/test_instances.py', '.zuul.yaml', 'murano/tests/unit/db/migration/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/murano/commit/8ec727dfc6bbfba3a9f1260110b0297c557e1295', 'message': ""Fix broken unit test\n\nThis change mocks sqlalchemy.update during unit tests properly to avoid\nthe following error.\n\nsqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or\nDELETE expected, got <MagicMock name='models.Instance' id='...'>\n\nCloses-Bug: #1938676\nChange-Id: I5268132018e0a283bd35b5599cf8ca41968dde93\n(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)\n""}]",2,805514,8ec727dfc6bbfba3a9f1260110b0297c557e1295,15,3,3,14107,,,0,"Fix broken unit test

This change mocks sqlalchemy.update during unit tests properly to avoid
the following error.

sqlalchemy.exc.ArgumentError: subject table for an INSERT, UPDATE or
DELETE expected, got <MagicMock name='models.Instance' id='...'>

Closes-Bug: #1938676
Change-Id: I5268132018e0a283bd35b5599cf8ca41968dde93
(cherry picked from commit 2800f0b62c2936cd68c35623010c3f57d58b975d)
",git fetch https://review.opendev.org/openstack/murano refs/changes/14/805514/3 && git format-patch -1 --stdout FETCH_HEAD,['murano/tests/unit/db/services/test_instances.py'],1,2ae131ccdee9c6e8ddd1c2785cba8ce16b3d1ebf,bug/1938676-stable/victoria," @mock.patch('murano.db.services.instances.sqlalchemy') def test_track_instance_except_duplicate_entry(self, _, mock_sqlalchemy, mock_db_session): self.assertEqual(1, mock_sqlalchemy.update().where.call_count)"," def test_track_instance_except_duplicate_entry(self, _, mock_db_session):",4,1
openstack%2Ftripleo-quickstart-extras~master~I325fbc375b632b892de4e456234a60ee81070d5d,openstack/tripleo-quickstart-extras,master,I325fbc375b632b892de4e456234a60ee81070d5d,Add compose-repos to dlrn config,MERGED,2021-12-01 21:36:46.000000000,2022-01-06 12:02:37.000000000,2022-01-06 12:02:37.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-12-01 21:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b6f53f82af497e346f002db2f815c6c51d631044', 'message': '[WIP] Add compose-repos to dlrn config\n\nThis patch adds any existing centos repos generate from yum-config\ninto dlrn configuration file.\n\nChange-Id: I325fbc375b632b892de4e456234a60ee81070d5d\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 2, 'created': '2021-12-15 20:06:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4561ba20a3c4e247dba239e98e0f455bdaf134f7', 'message': 'Add compose-repos to dlrn config\n\nThis patch adds any existing centos repos generate from yum-config\ninto dlrn configuration file.\n\nChange-Id: I325fbc375b632b892de4e456234a60ee81070d5d\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 3, 'created': '2021-12-21 00:07:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2c21af54ce558e94ed492ba84459dc4894df43a6', 'message': 'Add compose-repos to dlrn config\n\nThis patch adds any existing centos repos generate from yum-config\ninto dlrn configuration file.\n\nChange-Id: I325fbc375b632b892de4e456234a60ee81070d5d\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 4, 'created': '2022-01-04 17:32:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/ecec9ca730af5aa57cb211dfb88ed9ad63318abf', 'message': 'Add compose-repos to dlrn config\n\nThis patch adds any existing centos repos generated from yum-config\ninto dlrn configuration file.\n\nChange-Id: I325fbc375b632b892de4e456234a60ee81070d5d\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}, {'number': 5, 'created': '2022-01-05 04:37:47.000000000', 'files': ['roles/build-test-packages/defaults/main.yml', 'roles/build-test-packages/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9c67668a1665379d22165ba59b1f346e18a566d6', 'message': 'Add compose-repos to dlrn config\n\nThis patch adds any existing centos repos generated from yum-config\ninto dlrn configuration file.\n\nChange-Id: I325fbc375b632b892de4e456234a60ee81070d5d\nSigned-off-by: Douglas Viroel <dviroel@redhat.com>\n'}]",15,820073,9c67668a1665379d22165ba59b1f346e18a566d6,52,7,5,30002,,,0,"Add compose-repos to dlrn config

This patch adds any existing centos repos generated from yum-config
into dlrn configuration file.

Change-Id: I325fbc375b632b892de4e456234a60ee81070d5d
Signed-off-by: Douglas Viroel <dviroel@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/73/820073/5 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-test-packages/tasks/main.yml'],1,b6f53f82af497e346f002db2f815c6c51d631044,compose_repos_dep," find /etc/yum.repos.d -name ""CentOS-Stream-*repo"" -exec cat {} \; -exec echo """" \; >> {{ build_repo_dir }}/DLRN/scripts/{{ initial_dlrn_config }}-local.cfg;",,2,0
openstack%2Fpuppet-manila~master~I036c7153791e495579ee11b05807108430fb5303,openstack/puppet-manila,master,I036c7153791e495579ee11b05807108430fb5303,Deprecate support for Dell EMC VMAX backend,MERGED,2021-11-17 00:54:44.000000000,2022-01-06 12:00:13.000000000,2022-01-06 11:58:11.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-11-17 00:54:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1c6cda02771b6bac2b988e9861cbb980d98509b1', 'message': 'Deprecate support for Dell EMC VMAX backend\n\n... in favor of support for PowerMax backend.\n\nChange-Id: I036c7153791e495579ee11b05807108430fb5303\n'}, {'number': 2, 'created': '2021-11-17 01:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/bf1aaf620123c312808cba8ae23bbedd40202b5f', 'message': 'Deprecate support for Dell EMC VMAX backend\n\n... in favor of support for PowerMax backend.\n\nChange-Id: I036c7153791e495579ee11b05807108430fb5303\n'}, {'number': 3, 'created': '2021-11-17 02:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/7247e87fc59a47e6a99b4855c3210e68130d25eb', 'message': 'Deprecate support for Dell EMC VMAX backend\n\n... in favor of support for PowerMax backend.\n\nChange-Id: I036c7153791e495579ee11b05807108430fb5303\n'}, {'number': 4, 'created': '2021-11-19 02:30:48.000000000', 'files': ['manifests/backend/dellemc_vmax.pp', 'releasenotes/notes/deprecate-dellemc_vmax-c33b3e75c5324458.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/d3fdc330c3bdb3fc4a29d97d646fd30ee47dab9e', 'message': 'Deprecate support for Dell EMC VMAX backend\n\n... in favor of support for PowerMax backend.\n\nChange-Id: I036c7153791e495579ee11b05807108430fb5303\n'}]",3,818182,d3fdc330c3bdb3fc4a29d97d646fd30ee47dab9e,15,5,4,9816,,,0,"Deprecate support for Dell EMC VMAX backend

... in favor of support for PowerMax backend.

Change-Id: I036c7153791e495579ee11b05807108430fb5303
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/82/818182/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/backend/dellemc_vmax.pp', 'releasenotes/notes/deprecate-dellemc_vmax-c33b3e75c5324458.yaml']",2,1c6cda02771b6bac2b988e9861cbb980d98509b1,powermax,--- deprecations: - | Support for the Dell EMC VMAX backend has been deprecated. ,,8,0
openstack%2Freleases~master~Ia3f949eb7a5aec945af57fe950b15f32849d6a13,openstack/releases,master,Ia3f949eb7a5aec945af57fe950b15f32849d6a13,Yoga-2 Release for oslo.cache,MERGED,2022-01-04 09:10:30.000000000,2022-01-06 11:11:53.000000000,2022-01-06 11:11:53.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-04 09:10:30.000000000', 'files': ['deliverables/yoga/oslo.cache.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/2b663bc62ca3a58e8506e554b57c0e56cb4101bc', 'message': 'Yoga-2 Release for oslo.cache\n\nThis is the Yoga milestone-2 release for oslo.cache.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\nChange-Id: Ia3f949eb7a5aec945af57fe950b15f32849d6a13\n'}]",1,823346,2b663bc62ca3a58e8506e554b57c0e56cb4101bc,8,4,1,28522,,,0,"Yoga-2 Release for oslo.cache

This is the Yoga milestone-2 release for oslo.cache.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

Change-Id: Ia3f949eb7a5aec945af57fe950b15f32849d6a13
",git fetch https://review.opendev.org/openstack/releases refs/changes/46/823346/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.cache.yaml'],1,2b663bc62ca3a58e8506e554b57c0e56cb4101bc,yoga-milestone-2,releases: - version: 2.9.0 projects: - repo: openstack/oslo.cache hash: d2aef1902377eecb0d0b1e12a5a840133c23c13d,,5,0
openstack%2Freleases~master~I0d1110ef372d24155977a2a3262ec3ea8098dccd,openstack/releases,master,I0d1110ef372d24155977a2a3262ec3ea8098dccd,Yoga-2 Release for oslo.service,MERGED,2022-01-04 08:55:31.000000000,2022-01-06 11:08:10.000000000,2022-01-06 11:08:10.000000000,"[{'_account_id': 308}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-01-04 08:55:31.000000000', 'files': ['deliverables/yoga/oslo.service.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3dca0424476aacfc779af602c44e28aff68e2f70', 'message': 'Yoga-2 Release for oslo.service\n\nThis is the Yoga milestone-2 release for oslo.service.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 2.7.0..6552b9a\n6552b9a Make debug option of wsgi server configurable\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I0d1110ef372d24155977a2a3262ec3ea8098dccd\n'}]",1,823339,3dca0424476aacfc779af602c44e28aff68e2f70,10,6,1,28522,,,0,"Yoga-2 Release for oslo.service

This is the Yoga milestone-2 release for oslo.service.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 2.7.0..6552b9a
6552b9a Make debug option of wsgi server configurable

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I0d1110ef372d24155977a2a3262ec3ea8098dccd
",git fetch https://review.opendev.org/openstack/releases refs/changes/39/823339/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/oslo.service.yaml'],1,3dca0424476aacfc779af602c44e28aff68e2f70,yoga-milestone-2, - version: 2.8.0 projects: - repo: openstack/oslo.service hash: 6552b9a820c1b4880cd999f0b44561275019b9f4,,4,0
openstack%2Fdevstack~stable%2Fwallaby~Ib7719cb2d48b34db70f885e0afe77d904abba3b5,openstack/devstack,stable/wallaby,Ib7719cb2d48b34db70f885e0afe77d904abba3b5,Fix tempest upper-constraints,MERGED,2022-01-05 13:31:05.000000000,2022-01-06 10:59:27.000000000,2022-01-06 10:56:42.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2022-01-05 13:31:05.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0890e6423ee56e17b757143397545046b6740081', 'message': ""Fix tempest upper-constraints\n\nWhen deploying devstack in a stable branch, the master branch is\navailable locally only in a CI environment where Zuul prepares all\navailable branches. For a non-CI deployment we need to stick to using\nthe remote branch as was the case before [0].\n\nWhile the situation on the master branch isn't really broken, we apply\nthe fix here anyway so that future stable branches are created in a\nworking state.\n\n[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64\n\nCloses-Bug: #1956219\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5\n(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)\n""}]",1,823462,0890e6423ee56e17b757143397545046b6740081,10,3,1,30491,,,0,"Fix tempest upper-constraints

When deploying devstack in a stable branch, the master branch is
available locally only in a CI environment where Zuul prepares all
available branches. For a non-CI deployment we need to stick to using
the remote branch as was the case before [0].

While the situation on the master branch isn't really broken, we apply
the fix here anyway so that future stable branches are created in a
working state.

[0] I5d42ac6b54bf20804d7e5faa39d1289102318b64

Closes-Bug: #1956219
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: Ib7719cb2d48b34db70f885e0afe77d904abba3b5
(cherry picked from commit 2ef4a4c8516bc6373bc7f4cafee62db715144952)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/823462/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,0890e6423ee56e17b757143397545046b6740081,fix-tempest-uc-stable/xena-stable/wallaby, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt 2>/dev/null || git show origin/master:upper-constraints.txt) > $tmp_c, (cd $REQUIREMENTS_DIR && git show master:upper-constraints.txt) > $tmp_c,3,1
openstack%2Freleases~master~I41d5e7fd26ecf232017bebfc11f0a4e929e9b580,openstack/releases,master,I41d5e7fd26ecf232017bebfc11f0a4e929e9b580,Yoga-2 Release for python-zunclient,MERGED,2022-01-04 09:08:32.000000000,2022-01-06 10:51:33.000000000,2022-01-06 10:51:33.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23365}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-04 09:08:32.000000000', 'files': ['deliverables/yoga/python-zunclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/56ea6468bea7d071edffa8055b4be88630df0ec9', 'message': 'Yoga-2 Release for python-zunclient\n\nThis is the Yoga milestone-2 release for python-zunclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 4.3.0..2284443\n2284443 Python 3.10: Subcomand help test fix\n24edb14 Add Python3 yoga unit tests\nfaf7563 Update master for stable/xena\ndd73280 Remove the unused os-testr package\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: I41d5e7fd26ecf232017bebfc11f0a4e929e9b580\n'}]",1,823345,56ea6468bea7d071edffa8055b4be88630df0ec9,10,5,1,28522,,,0,"Yoga-2 Release for python-zunclient

This is the Yoga milestone-2 release for python-zunclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 4.3.0..2284443
2284443 Python 3.10: Subcomand help test fix
24edb14 Add Python3 yoga unit tests
faf7563 Update master for stable/xena
dd73280 Remove the unused os-testr package

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: I41d5e7fd26ecf232017bebfc11f0a4e929e9b580
",git fetch https://review.opendev.org/openstack/releases refs/changes/45/823345/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-zunclient.yaml'],1,56ea6468bea7d071edffa8055b4be88630df0ec9,yoga-milestone-2,releases: - version: 4.4.0 projects: - repo: openstack/python-zunclient hash: 2284443ac9572ef337df38424f69a820c369de38,,5,0
openstack%2Freleases~master~Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878,openstack/releases,master,Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878,Yoga-2 Release for python-aodhclient,MERGED,2022-01-04 08:57:22.000000000,2022-01-06 10:29:20.000000000,2022-01-06 10:29:20.000000000,"[{'_account_id': 4264}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-01-04 08:57:22.000000000', 'files': ['deliverables/yoga/python-aodhclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/551ea3683183ac4a563fb087fbbb0cd4b81416ae', 'message': 'Yoga-2 Release for python-aodhclient\n\nThis is the Yoga milestone-2 release for python-aodhclient.\nClients and libraries following the cycle-with-intermediary release\nmodel are encouraged to release each milestone to make sure updates\nare made available.\n\nIf you are happy with the current release hash, please +1 this patch\nand we will process a release. If you need to get some important\nchanges merged first, leave a -1 and update the patch with a new\ncommit hash to use once it is ready.\n\nIf a release is definitely not wanted at this time, please -1 and\nleave a comment explaining that and we can abandon the patch.\n\nAny patches with no response will be assumed to be OK and will be\nprocessed by January 06.\n\n$ git log --oneline --no-merges 2.3.0..3a36ed1\n3a36ed1 Fix aodhclient for pyparse 3.0.6\n\nSigned-off-by: Herv Beraud <hberaud@redhat.com>\nChange-Id: Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878\n'}]",1,823340,551ea3683183ac4a563fb087fbbb0cd4b81416ae,9,4,1,28522,,,0,"Yoga-2 Release for python-aodhclient

This is the Yoga milestone-2 release for python-aodhclient.
Clients and libraries following the cycle-with-intermediary release
model are encouraged to release each milestone to make sure updates
are made available.

If you are happy with the current release hash, please +1 this patch
and we will process a release. If you need to get some important
changes merged first, leave a -1 and update the patch with a new
commit hash to use once it is ready.

If a release is definitely not wanted at this time, please -1 and
leave a comment explaining that and we can abandon the patch.

Any patches with no response will be assumed to be OK and will be
processed by January 06.

$ git log --oneline --no-merges 2.3.0..3a36ed1
3a36ed1 Fix aodhclient for pyparse 3.0.6

Signed-off-by: Herv Beraud <hberaud@redhat.com>
Change-Id: Ib3320df0c350918d9d53c7eb0f6bddf13bc3e878
",git fetch https://review.opendev.org/openstack/releases refs/changes/40/823340/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/python-aodhclient.yaml'],1,551ea3683183ac4a563fb087fbbb0cd4b81416ae,yoga-milestone-2,releases: - version: 2.4.0 projects: - repo: openstack/python-aodhclient hash: 3a36ed1774ba0bbb3ad6a3716c6c014246bc9613,,5,0
