id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fmistral~master~Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c,openstack/mistral,master,Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-06 12:18:48.000000000,2021-07-10 01:53:58.000000000,2021-07-10 01:52:52.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 12:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/77a1a5d6fef44741b8ad8c9e6ef0d3829877907c', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c\n""}, {'number': 2, 'created': '2021-07-06 12:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/cff5ff65c37093f57d6103bf07a3f453273683ce', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c\n""}, {'number': 3, 'created': '2021-07-08 10:32:17.000000000', 'files': ['mistral/event_engine/default_event_engine.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/0bba69725e887b837bda3423e23643270d7899e2', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c\n""}]",0,799655,0bba69725e887b837bda3423e23643270d7899e2,15,3,3,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ieeb0b127b25d8e95905ca4d81a636f2c2da5f05c
",git fetch https://review.opendev.org/openstack/mistral refs/changes/55/799655/2 && git format-patch -1 --stdout FETCH_HEAD,['mistral/event_engine/default_event_engine.py'],1,77a1a5d6fef44741b8ad8c9e6ef0d3829877907c,fnmatch,import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Fmistral~master~Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8,openstack/mistral,master,Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8,Fix unit test failures,MERGED,2021-07-07 00:26:20.000000000,2021-07-10 01:19:22.000000000,2021-07-10 01:18:14.000000000,"[{'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 00:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/fedcc5cfc836189faed723b384e0498e9c2026d5', 'message': 'WIP: Fix unit test failures\n\nChange-Id: Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8\n'}, {'number': 2, 'created': '2021-07-07 02:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/777ddadbe9f6608001475fdaf9a0b4f581313b47', 'message': 'WIP: Fix unit test failures\n\nChange-Id: Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8\n'}, {'number': 3, 'created': '2021-07-07 02:31:39.000000000', 'files': ['mistral/db/sqlalchemy/base.py', 'mistral/tests/unit/db/v2/test_sqlalchemy_db_api.py'], 'web_link': 'https://opendev.org/openstack/mistral/commit/de880e801cba89f0d674a2a1f2435fb7d9942670', 'message': ""Fix unit test failures\n\nThis change fixes the following two patterns of errors detected in\ngate.\n\n1)\nsqlalchemy.exc.ArgumentError: Textual column expression '...' should be\nexplicitly declared with text('...'), or use column('...') for more\nspecificity\n\n2)\ntesttools.matchers._impl.MismatchError: '('...',)' is not an instance\nof tuple\n\nChange-Id: Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8\n""}]",0,799727,de880e801cba89f0d674a2a1f2435fb7d9942670,18,3,3,9816,,,0,"Fix unit test failures

This change fixes the following two patterns of errors detected in
gate.

1)
sqlalchemy.exc.ArgumentError: Textual column expression '...' should be
explicitly declared with text('...'), or use column('...') for more
specificity

2)
testtools.matchers._impl.MismatchError: '('...',)' is not an instance
of tuple

Change-Id: Ie080bdcacf9aa2dd2fe0454bcb814285c08bbfa8
",git fetch https://review.opendev.org/openstack/mistral refs/changes/27/799727/3 && git format-patch -1 --stdout FETCH_HEAD,['mistral/db/sqlalchemy/base.py'],1,fedcc5cfc836189faed723b384e0498e9c2026d5,ut,"from sqlalchemy.sql import column _columns = (c if isinstance(c, column) else column(c) for c in columns) return session.query(*_columns)", return session.query(*columns),3,1
openstack%2Fironic~master~I883d4ca89ba984c29b53b531af98f2f0be39edbf,openstack/ironic,master,I883d4ca89ba984c29b53b531af98f2f0be39edbf,Fix typos in API sanitization change notes,MERGED,2021-07-07 17:15:41.000000000,2021-07-10 01:01:05.000000000,2021-07-07 20:30:42.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 17:15:41.000000000', 'files': ['ironic/api/controllers/v1/collection.py', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e477d17878c61d61a8fd675faad8854165b3ce1', 'message': 'Fix typos in API sanitization change notes\n\nChange https://review.opendev.org/c/openstack/ironic/+/794880\nincluded a few minor typos and required a clarification of a point\nwhich.\n\nThis change just makes those minor text changes.\n\nChange-Id: I883d4ca89ba984c29b53b531af98f2f0be39edbf\n'}]",0,799872,9e477d17878c61d61a8fd675faad8854165b3ce1,10,2,1,11655,,,0,"Fix typos in API sanitization change notes

Change https://review.opendev.org/c/openstack/ironic/+/794880
included a few minor typos and required a clarification of a point
which.

This change just makes those minor text changes.

Change-Id: I883d4ca89ba984c29b53b531af98f2f0be39edbf
",git fetch https://review.opendev.org/openstack/ironic refs/changes/72/799872/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/collection.py', 'ironic/api/controllers/v1/node.py']",2,9e477d17878c61d61a8fd675faad8854165b3ce1,db-perf-1," however for enumerating node lists, it is more efficent # cdict, show_driver_secrets, show_instance_secrets, and # evaluate_additional_policies, then performance increases # in excess of 200% as policy checks are costly."," however for enumarting node lists, it is more efficent # cdict, show_driver_secrets, show_instane_secrets, and # evaluate_additional_policies, then performance of this method takes # roughly half of the time, but performance increases in excess of 200% # as policy checks are costly.",5,6
openstack%2Fnova~stable%2Ftrain~I15c3119857970c38541f4de270bd561166334548,openstack/nova,stable/train,I15c3119857970c38541f4de270bd561166334548,[neutron] Get only ID and name of the SGs from Neutron,MERGED,2021-04-21 07:18:56.000000000,2021-07-09 22:35:12.000000000,2021-07-09 22:33:27.000000000,"[{'_account_id': 4690}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 07:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b2f220fc529816c98bcd43e70c0f8f711ca32326', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n'}, {'number': 2, 'created': '2021-05-14 07:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/84480eb7fcdd3fd571012e628f57cfbbed24adc9', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit 7a80a410a498469d2bbb5f13f3cf06a422dd9055)\n(cherry picked from commit 704b7fd5fcaeaef8521c1eb3bfc947f787b529b9)\n'}, {'number': 3, 'created': '2021-07-09 13:18:27.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1aa571103f90228ddf3dc27386486196ad58ba0e', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)\n(cherry picked from commit be4a514c8aea073a9188cfc878c9afcc9b03cb28)\n'}]",0,787316,1aa571103f90228ddf3dc27386486196ad58ba0e,36,3,3,11975,,,0,"[neutron] Get only ID and name of the SGs from Neutron

During the VM booting process Nova asks Neutron for the security groups
of the project. If there are no any fields specified, Neutron will
prepare list of security groups with all fields, including rules.
In case if project got many SGs, it may take long time as rules needs to
be loaded separately for each SG on Neutron's side.

During booting of the VM, Nova really needs only ""id"" and ""name"" of the
security groups so this patch limits request to only those 2 fields.

This lazy loading of the SG rules was introduced in Neutron in [1] and
[2].

[1] https://review.opendev.org/#/c/630401/
[2] https://review.opendev.org/#/c/637407/

Related-Bug: #1865223
Change-Id: I15c3119857970c38541f4de270bd561166334548
(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)
(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)
(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)
(cherry picked from commit be4a514c8aea073a9188cfc878c9afcc9b03cb28)
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/787316/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,b2f220fc529816c98bcd43e70c0f8f711ca32326,bug/1865223," # NOTE(slaweq): fields other than name and id aren't really needed # so asking only about those fields will allow Neutron to not # prepare list of rules for each found security group. That may # speed processing of this request a lot in case when tenant has # got many security groups sg_fields = ['id', 'name'] fields=sg_fields, **search_opts).get('security_groups')", **search_opts).get('security_groups'),7,1
openstack%2Ftripleo-validations~master~I9ee199d96044ead23db8afaa533833f68b4d81d6,openstack/tripleo-validations,master,I9ee199d96044ead23db8afaa533833f68b4d81d6,fix var name in logging statement,MERGED,2021-07-07 05:54:48.000000000,2021-07-09 22:33:18.000000000,2021-07-09 22:33:18.000000000,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-07 05:54:48.000000000', 'files': ['ci/playbooks/coverchange.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7dae6b162a52544b6a7cf117898584aabedc466b', 'message': 'fix var name in logging statement\n\nThe variable referenced\tin the logging statement\nof the job was not the one on which the assertion was made.\n\nAs a result the\tmessage\twas confusing.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I9ee199d96044ead23db8afaa533833f68b4d81d6\n'}]",0,799739,7dae6b162a52544b6a7cf117898584aabedc466b,11,6,1,32926,,,0,"fix var name in logging statement

The variable referenced	in the logging statement
of the job was not the one on which the assertion was made.

As a result the	message	was confusing.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I9ee199d96044ead23db8afaa533833f68b4d81d6
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/39/799739/1 && git format-patch -1 --stdout FETCH_HEAD,['ci/playbooks/coverchange.yaml'],1,7dae6b162a52544b6a7cf117898584aabedc466b,covchngmsgfix, Before the change {{ (coverage_before_total.stdout | float)*100 }}% of the lines were covered., Before the change {{ (coverage_before.stdout | float)*100 }}% of the lines were covered.,1,1
openstack%2Fcharm-guide~master~I84738b90920100ef91da2c27c11f86a17d94862c,openstack/charm-guide,master,I84738b90920100ef91da2c27c11f86a17d94862c,Add ceph-mon configuration release note.,MERGED,2021-05-14 08:08:03.000000000,2021-07-09 22:27:38.000000000,2021-07-09 22:26:32.000000000,"[{'_account_id': 11805}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-05-14 08:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/37e7e7a6eebcae6b08d603828e09dbb45adcf4a8', 'message': ""Add ceph-mon configuration release note.\n\nAdd release note regarding the addition of\n'monitor-data-available-warning' and 'monitor-data-available-critical'\noptions to the ceph-mon charm.\n\nRelated-Bug: #1890777\nChange-Id: I84738b90920100ef91da2c27c11f86a17d94862c\n""}, {'number': 2, 'created': '2021-06-21 17:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/003ce5881747e4d35b528f338cbecffe6ddccf5f', 'message': ""Add ceph-mon configuration release note.\n\nAdd release note regarding the addition of\n'monitor-data-available-warning' and 'monitor-data-available-critical'\noptions to the ceph-mon charm.\n\nRelated-Bug: #1890777\nChange-Id: I84738b90920100ef91da2c27c11f86a17d94862c\n""}, {'number': 3, 'created': '2021-07-08 16:14:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/a6b7bbc1b076ae2c51b86122beba3650d613bfa2', 'message': ""Add ceph-mon configuration release note.\n\nAdd release note regarding the addition of\n'monitor-data-available-warning' and 'monitor-data-available-critical'\noptions to the ceph-mon charm.\n\nRelated-Bug: #1890777\nChange-Id: I84738b90920100ef91da2c27c11f86a17d94862c\n""}, {'number': 4, 'created': '2021-07-09 21:30:28.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7df4290865f70193515de5deb2b852c1773d9d05', 'message': ""Add ceph-mon configuration release note.\n\nAdd release note regarding the addition of\n'monitor-data-available-warning' and 'monitor-data-available-critical'\noptions to the ceph-mon charm.\n\nRelated-Bug: #1890777\nChange-Id: I84738b90920100ef91da2c27c11f86a17d94862c\n""}]",0,791405,7df4290865f70193515de5deb2b852c1773d9d05,18,4,4,27345,,,0,"Add ceph-mon configuration release note.

Add release note regarding the addition of
'monitor-data-available-warning' and 'monitor-data-available-critical'
options to the ceph-mon charm.

Related-Bug: #1890777
Change-Id: I84738b90920100ef91da2c27c11f86a17d94862c
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/05/791405/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,37e7e7a6eebcae6b08d603828e09dbb45adcf4a8,2110-docs, * `ceph-mon charm: disk capacity alert threshold configuration`_`ceph-mon charm: disk capacity alert threshold configuration`_ ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The ceph-mon charm has two new options: ``monitor-data-available-warning`` and ``monitor-data-available-critical`` These options can be used to configure the thresholds at which the cluster goes into HEALTH_WARN and HEALTH_ERR states based on the available disk capacity., * `<TITLE>`_<TITLE> ~~~~~~~,8,3
openstack%2Fcinder~master~I688f8c314900b939d2a45cb2a47e02db00abcffe,openstack/cinder,master,I688f8c314900b939d2a45cb2a47e02db00abcffe,Update volume to restoring-backup during create,NEW,2021-07-08 18:02:12.000000000,2021-07-09 22:23:02.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 18:02:12.000000000', 'files': ['cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/b9ac4aef8c9f307ff53e4d796b87ec0ac8c46afb', 'message': ""Update volume to restoring-backup during create\n\nThis patch updates a raw volume status to restoring-backup\nduring a create volume --backup-id <id> call after the\nraw volume has been created and prior to calling the backup\nmanager to restore the volume.  The backup manager already accepts\nvolumes in restoring-backup state.\n\nThis happens when the volume driver hasn't implemented the backend\nassisted create_volume_from_backup() method and the task flow manager\nfirst creates a raw volume, then calls the backup service to complete\nthe transfer of the data to the new raw volume.\n\nChange-Id: I688f8c314900b939d2a45cb2a47e02db00abcffe\n""}]",1,800093,b9ac4aef8c9f307ff53e4d796b87ec0ac8c46afb,27,2,1,5997,,,0,"Update volume to restoring-backup during create

This patch updates a raw volume status to restoring-backup
during a create volume --backup-id <id> call after the
raw volume has been created and prior to calling the backup
manager to restore the volume.  The backup manager already accepts
volumes in restoring-backup state.

This happens when the volume driver hasn't implemented the backend
assisted create_volume_from_backup() method and the task flow manager
first creates a raw volume, then calls the backup service to complete
the transfer of the data to the new raw volume.

Change-Id: I688f8c314900b939d2a45cb2a47e02db00abcffe
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/800093/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/flows/manager/create_volume.py'],1,b9ac4aef8c9f307ff53e4d796b87ec0ac8c46afb,create_restoring_backup, model_update['status'] = fields.VolumeStatus.RESTORING_BACKUP,,1,0
openstack%2Fironic~stable%2Fwallaby~Iac703d2a9b7b240a47477be8a64c7c33e28f692f,openstack/ironic,stable/wallaby,Iac703d2a9b7b240a47477be8a64c7c33e28f692f,Only return the requested fields from the DB,MERGED,2021-07-07 19:16:45.000000000,2021-07-09 22:09:38.000000000,2021-07-08 18:41:15.000000000,"[{'_account_id': 4571}, {'_account_id': 6618}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/42c834c22d5e9c06c4f15bcc54dee56dc3f77b33', 'message': ""Only return the requested fields from the DB\n\nA node object has many fields, and a huge opportunity\nfor performance improvement is to reduce the amount of work\nperformed at the lower layers when it is not necessary.\nIn particular, the easiest case to identify and handle is\nwhen a list of fields to be fulfilled is explicitly supplied.\n\nThis is particularlly noteworthy when we collecting a list of\nnodes for synconization with Nova, where only 9 columns are\nreally needed to supply Nova with the information required,\nand thus numerous fields are discarded.\n\nThis is all particularlly compounded when traits are used,\nwhich presently uses a joined load pattern from SQL.\n\nWith this patch, we explicitly load and convert only the fields\nrequested at the lowest level, and then perform a different style\nof loading node traits which requires less overhead by SQLAlchemy\nto de-duplicate the returned result set to the application.\n\nThis turns out to be far more efficent as we're reducing the amount\nof data/object conversion work by 360%, even before we consider\npopulating traits, which is performed as a separate query when\ntraits are requested.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n(cherry picked from commit 644ba5d4bc69a029f4b02cbd47e9c542ae316748)\n""}, {'number': 2, 'created': '2021-07-07 19:25:42.000000000', 'files': ['ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/db/api.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c71d529e7edbfc7028b14ee222900edbd42ad672', 'message': ""Only return the requested fields from the DB\n\nA node object has many fields, and a huge opportunity\nfor performance improvement is to reduce the amount of work\nperformed at the lower layers when it is not necessary.\nIn particular, the easiest case to identify and handle is\nwhen a list of fields to be fulfilled is explicitly supplied.\n\nThis is particularlly noteworthy when we collecting a list of\nnodes for synconization with Nova, where only 9 columns are\nreally needed to supply Nova with the information required,\nand thus numerous fields are discarded.\n\nThis is all particularlly compounded when traits are used,\nwhich presently uses a joined load pattern from SQL.\n\nWith this patch, we explicitly load and convert only the fields\nrequested at the lowest level, and then perform a different style\nof loading node traits which requires less overhead by SQLAlchemy\nto de-duplicate the returned result set to the application.\n\nThis turns out to be far more efficent as we're reducing the amount\nof data/object conversion work by 360%, even before we consider\npopulating traits, which is performed as a separate query when\ntraits are requested.\n\nStory: 2008885\nTask: 42434\nChange-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f\n""}]",0,799880,c71d529e7edbfc7028b14ee222900edbd42ad672,23,4,2,10342,,,0,"Only return the requested fields from the DB

A node object has many fields, and a huge opportunity
for performance improvement is to reduce the amount of work
performed at the lower layers when it is not necessary.
In particular, the easiest case to identify and handle is
when a list of fields to be fulfilled is explicitly supplied.

This is particularlly noteworthy when we collecting a list of
nodes for synconization with Nova, where only 9 columns are
really needed to supply Nova with the information required,
and thus numerous fields are discarded.

This is all particularlly compounded when traits are used,
which presently uses a joined load pattern from SQL.

With this patch, we explicitly load and convert only the fields
requested at the lowest level, and then perform a different style
of loading node traits which requires less overhead by SQLAlchemy
to de-duplicate the returned result set to the application.

This turns out to be far more efficent as we're reducing the amount
of data/object conversion work by 360%, even before we consider
populating traits, which is performed as a separate query when
traits are requested.

Story: 2008885
Task: 42434
Change-Id: Iac703d2a9b7b240a47477be8a64c7c33e28f692f
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/799880/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_nodes.py', 'ironic/db/api.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py']",6,42c834c22d5e9c06c4f15bcc54dee56dc3f77b33,db-perf-1-stable/wallaby," def test_list_with_fields(self): with mock.patch.object(self.dbapi, 'get_node_list', autospec=True) as mock_get_list: mock_get_list.return_value = [self.fake_node] objects.Node.list(self.context, fields=['name']) mock_get_list.assert_called_with( filters=None, limit=None, marker=None, sort_key=None, sort_dir=None, fields=['id', 'name', 'version', 'updated_at', 'created_at', 'owner', 'lessee', 'driver', 'conductor_group']) ",,250,8
openstack%2Fcharm-guide~master~I85be5d7897b4c32aefa98daf376c53f4332a9615,openstack/charm-guide,master,I85be5d7897b4c32aefa98daf376c53f4332a9615,Add 21.10 neutron-api charm release note,MERGED,2021-07-07 13:53:40.000000000,2021-07-09 21:19:18.000000000,2021-07-09 21:18:13.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-07 13:53:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/7f106b919c71fbf4473acb1104449b57f834d96d', 'message': 'Add 21.10 neutron-api charm release note\n\nfwaas removal and config option\n\nRelated-Bug: 1934129\nChange-Id: I85be5d7897b4c32aefa98daf376c53f4332a9615\n'}, {'number': 2, 'created': '2021-07-08 17:04:28.000000000', 'files': ['doc/source/2110.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/f4824587b12ac595436ae08968b5c91ee4f27cd1', 'message': 'Add 21.10 neutron-api charm release note\n\nfwaas removal and config option\n\nRelated-Bug: 1934129\nChange-Id: I85be5d7897b4c32aefa98daf376c53f4332a9615\n'}]",1,799834,f4824587b12ac595436ae08968b5c91ee4f27cd1,10,3,2,6737,,,0,"Add 21.10 neutron-api charm release note

fwaas removal and config option

Related-Bug: 1934129
Change-Id: I85be5d7897b4c32aefa98daf376c53f4332a9615
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/34/799834/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/2110.rst'],1,7f106b919c71fbf4473acb1104449b57f834d96d,bug/1934129,neutron-api charm: fwaas removal and options ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ The neutron-api charm will no longer install neutron fwaas for releases >= Victoria and there is a new config option enable-fwaas which defaults to True to maintain the same behaviour as before but when set to False will remove neutron fwaas from all units. ,,8,0
openstack%2Ftrove~master~Iab4f5b2614080a86ae35a1071b0cc6c8ffd10bba,openstack/trove,master,Iab4f5b2614080a86ae35a1071b0cc6c8ffd10bba,Release note for adding iptables-persistent package,MERGED,2021-07-09 05:26:19.000000000,2021-07-09 21:06:04.000000000,2021-07-09 21:04:38.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 05:26:19.000000000', 'files': ['releasenotes/notes/xena-add-iptables-persistent-package.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/210d56960c6675277a9e159a1f6fa9276eb7763d', 'message': 'Release note for adding iptables-persistent package\n\nChange-Id: Iab4f5b2614080a86ae35a1071b0cc6c8ffd10bba\n'}]",0,800158,210d56960c6675277a9e159a1f6fa9276eb7763d,7,2,1,6732,,,0,"Release note for adding iptables-persistent package

Change-Id: Iab4f5b2614080a86ae35a1071b0cc6c8ffd10bba
",git fetch https://review.opendev.org/openstack/trove refs/changes/58/800158/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/xena-add-iptables-persistent-package.yaml'],1,210d56960c6675277a9e159a1f6fa9276eb7763d,release-note,--- features: - Added iptables-persistent package in the guest image element for diskimage-builder. The Trove service administrator is able to perform iptables command (leveraging cloud-init config) and persist the change. ,,5,0
openstack%2Ftripleo-heat-templates~stable%2Ftrain~I1efecdcd7afa6af3e6b4b26f4435198836db535f,openstack/tripleo-heat-templates,stable/train,I1efecdcd7afa6af3e6b4b26f4435198836db535f,Add THT Jinja2 data sources as stack output,MERGED,2021-07-01 12:12:45.000000000,2021-07-09 19:36:01.000000000,2021-07-09 19:36:01.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-01 12:12:45.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/914996869ab22bfffaa66edb5526471fd497b104', 'message': ""Add THT Jinja2 data sources as stack output\n\nThis simply stores the data structure in the network_data\nand roles_data YAML files provided with the -n and -r\noptions when deploying the overcloud.\n\nThis can be generally useful for troubleshooting.\n\nAlso the 'overcloud node extract provision' command rely\non the roles data source. Storing it in the stack means\nwe can get to the data in case the user missplaced the\nfile originally used, or in the case where we want to\nautomate the process for all deployed stacks.\n\nNOTE: The idea is to backport this to the release intended\nas the upgrade from release, so that the follow on change\nIcc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during\nupgrade.\n\nConflicts:\n  overcloud.j2.yaml\n\nRelated: blueprint network-data-v2-ports\nChange-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f\n(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)\n""}]",0,799060,914996869ab22bfffaa66edb5526471fd497b104,10,5,1,24245,,,0,"Add THT Jinja2 data sources as stack output

This simply stores the data structure in the network_data
and roles_data YAML files provided with the -n and -r
options when deploying the overcloud.

This can be generally useful for troubleshooting.

Also the 'overcloud node extract provision' command rely
on the roles data source. Storing it in the stack means
we can get to the data in case the user missplaced the
file originally used, or in the case where we want to
automate the process for all deployed stacks.

NOTE: The idea is to backport this to the release intended
as the upgrade from release, so that the follow on change
Icc6a7a438e9d0f39d003d1cf8ed84d6fb1d5485a can use it during
upgrade.

Conflicts:
  overcloud.j2.yaml

Related: blueprint network-data-v2-ports
Change-Id: I1efecdcd7afa6af3e6b4b26f4435198836db535f
(cherry picked from commit 0b5b914e312c25a956b412c0702064b65fafdab6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/799060/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,914996869ab22bfffaa66edb5526471fd497b104,network-data-v2-backports, TripleoHeatTemplatesJinja2RenderingDataSources: description: The role_data and the network_data used when rendering the THT Jinja2 templates value: roles_data: {{ roles }} networks_data: {{ networks }},,5,0
openstack%2Fproject-config~master~I2ff544fd2d194049406fcffd3107b8483db8a30b,openstack/project-config,master,I2ff544fd2d194049406fcffd3107b8483db8a30b,Add channel ops to #openstack-manila,MERGED,2021-07-09 18:44:11.000000000,2021-07-09 19:32:14.000000000,2021-07-09 19:08:15.000000000,"[{'_account_id': 5263}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 18:44:11.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/5719cb656ad043c2475f035c5a9e9d68659880c8', 'message': 'Add channel ops to #openstack-manila\n\nThis includes few maintainers with registred\nnicks to help manage channel operations.\n\nChange-Id: I2ff544fd2d194049406fcffd3107b8483db8a30b\n'}]",0,800296,5719cb656ad043c2475f035c5a9e9d68659880c8,7,2,1,16643,,,0,"Add channel ops to #openstack-manila

This includes few maintainers with registred
nicks to help manage channel operations.

Change-Id: I2ff544fd2d194049406fcffd3107b8483db8a30b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/96/800296/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,5719cb656ad043c2475f035c5a9e9d68659880c8,manila, ops: - gouthamr - tbarron - carloss - dviroel - vkmc,,6,0
openstack%2Fkayobe~stable%2Fussuri~I67f0e48ee03b150f6fe52b1a3e7e727b79207231,openstack/kayobe,stable/ussuri,I67f0e48ee03b150f6fe52b1a3e7e727b79207231,Prevent matching unrelated images,MERGED,2021-07-02 16:13:58.000000000,2021-07-09 19:07:53.000000000,2021-07-09 19:06:36.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 16:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/591230cc2c0a28d1d5662a1a57871891099382c5', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)\n'}, {'number': 2, 'created': '2021-07-02 16:15:01.000000000', 'files': ['ansible/group_vars/all/kolla'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/0b82fa34a5941b619548b25999fbfbf59db6a38e', 'message': 'Prevent matching unrelated images\n\nBecause regexes defined by Kayobe are not strict enough, Kolla can build\ncontainer images unrelated to the deployment. For example, the default\nservice configuration will build:\n\n- centos-binary-barbican-keystone-listener (matches keystone)\n- centos-binary-prometheus-memcached-exporter (matches memcached)\n\nThis commit makes regexes stricter to avoid unecessary builds. Note that\nsome images are still built unecessarily, such as nova-compute-ironic\nwhen ironic is disabled or neutron-metadata-agent-ovn when ovn is\ndisabled.\n\nChange-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231\n(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)\n'}]",0,799248,0b82fa34a5941b619548b25999fbfbf59db6a38e,26,4,2,14826,,,0,"Prevent matching unrelated images

Because regexes defined by Kayobe are not strict enough, Kolla can build
container images unrelated to the deployment. For example, the default
service configuration will build:

- centos-binary-barbican-keystone-listener (matches keystone)
- centos-binary-prometheus-memcached-exporter (matches memcached)

This commit makes regexes stricter to avoid unecessary builds. Note that
some images are still built unecessarily, such as nova-compute-ironic
when ironic is disabled or neutron-metadata-agent-ovn when ovn is
disabled.

Change-Id: I67f0e48ee03b150f6fe52b1a3e7e727b79207231
(cherry picked from commit f575f4b7fd11b4155b7f4f78981f71fd66f4d2c5)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/48/799248/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/group_vars/all/kolla'],1,591230cc2c0a28d1d5662a1a57871891099382c5,image-regexes-stable/victoria-stable/ussuri," - regex: ^aodh - regex: ^barbican - regex: ^blazar - regex: ^ceilometer - regex: ^chrony - regex: ^cinder - regex: ^cloudkitty - regex: ^collectd - regex: ^cron - regex: ^cyborg - regex: ^designate - regex: ^dnsmasq - regex: ^elasticsearch - regex: ^etcd - regex: ^fluentd - regex: ^glance - regex: ^gnocchi - regex: ^grafana - regex: ^heat - regex: ^horizon - regex: ^influxdb - regex: ^ironic - regex: ^iscsid - regex: ^kafka - regex: ^karbor - regex: ^keepalived - regex: ^keystone - regex: ^kibana - regex: ^logstash - regex: ^kuryr - regex: ^magnum - regex: ^manila - regex: ^mariadb - regex: ^masakari - regex: ^memcached - regex: ^mistral<<<<<<< HEAD (3ebeae Update seed VM image to CentOS 8.4)======= - regex: ^multipathd >>>>>>> CHANGE (67c2e1 Prevent matching unrelated images) - regex: ^murano<<<<<<< HEAD (3ebeae Update seed VM image to CentOS 8.4)======= - regex: neutron-mlnx-agent enabled: ""{{ kolla_enable_neutron_mlnx | bool }}"" - regex: ^nova >>>>>>> CHANGE (67c2e1 Prevent matching unrelated images) - regex: ^octavia - regex: ^openvswitch - regex: ^ovn - regex: ^ovsdpdk - regex: ^panko - regex: ^placement - regex: ^prometheus - regex: ^qdrouterd - regex: ^qinling - regex: ^rabbitmq - regex: ^rally - regex: ^redis - regex: ^sahara - regex: ^searchlight - regex: ^senlin - regex: ^skydive - regex: ^solum - regex: ^storm - regex: ^swift - regex: ^tacker - regex: ^telegraf - regex: ^tempest - regex: ^tgtd - regex: ^trove - regex: ^vitrage - regex: ^vmtp - regex: ^watcher - regex: ^zookeeper - regex: ^zun", - regex: aodh - regex: barbican - regex: blazar - regex: ceilometer - regex: chrony - regex: cinder - regex: cloudkitty - regex: collectd - regex: cron - regex: cyborg - regex: designate - regex: dnsmasq - regex: elasticsearch - regex: etcd - regex: fluentd - regex: glance - regex: gnocchi - regex: grafana - regex: heat - regex: horizon - regex: influxdb - regex: ironic - regex: iscsid - regex: kafka - regex: karbor - regex: keepalived - regex: keystone - regex: kibana - regex: logstash - regex: kuryr - regex: magnum - regex: manila - regex: mariadb - regex: masakari - regex: memcached - regex: mistral - regex: murano - regex: octavia - regex: openvswitch - regex: ovn - regex: ovsdpdk - regex: panko - regex: placement - regex: prometheus - regex: qdrouterd - regex: qinling - regex: rabbitmq - regex: rally - regex: redis - regex: sahara - regex: searchlight - regex: senlin - regex: skydive - regex: solum - regex: storm - regex: swift - regex: tacker - regex: telegraf - regex: tempest - regex: tgtd - regex: trove - regex: vitrage - regex: vmtp - regex: watcher - regex: zookeeper - regex: zun,76,66
openstack%2Fpython-glanceclient~master~I5cf3c668e89a11c7906e0b0aeeb85ebcef3c1352,openstack/python-glanceclient,master,I5cf3c668e89a11c7906e0b0aeeb85ebcef3c1352,Clean up extra spaces,MERGED,2021-07-07 12:46:03.000000000,2021-07-09 18:14:07.000000000,2021-07-09 18:12:51.000000000,"[{'_account_id': 5202}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 12:46:03.000000000', 'files': ['run_tests.sh'], 'web_link': 'https://opendev.org/openstack/python-glanceclient/commit/158d5f42486b3d5d7aaa65d86a23012298350a4c', 'message': 'Clean up extra spaces\n\nClean up extra spaces, although these errors are not important, they affect the code specification.\n\nChange-Id: I5cf3c668e89a11c7906e0b0aeeb85ebcef3c1352\n'}]",0,799807,158d5f42486b3d5d7aaa65d86a23012298350a4c,7,2,1,30449,,,0,"Clean up extra spaces

Clean up extra spaces, although these errors are not important, they affect the code specification.

Change-Id: I5cf3c668e89a11c7906e0b0aeeb85ebcef3c1352
",git fetch https://review.opendev.org/openstack/python-glanceclient refs/changes/07/799807/1 && git format-patch -1 --stdout FETCH_HEAD,['run_tests.sh'],1,158d5f42486b3d5d7aaa65d86a23012298350a4c,, exit 1;, exit 1; ,1,1
openstack%2Fglance_store~master~Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,openstack/glance_store,master,Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70,s3: Optimize WRITE_CHUNKSIZE to minimize an overhead,MERGED,2021-07-07 16:56:20.000000000,2021-07-09 18:11:30.000000000,2021-07-09 18:10:11.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 16:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/4e9cbebd6fdeaf7c832a5b2007d6840d322bdb6b', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n""}, {'number': 2, 'created': '2021-07-08 12:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/e04ff72a2745ca72af9c1d22d23166e35fb9fdb9', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n""}, {'number': 3, 'created': '2021-07-08 12:08:52.000000000', 'files': ['glance_store/_drivers/s3.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/32f9a1509bc94baa6acaf508c922f3b7edf5b65f', 'message': ""s3: Optimize WRITE_CHUNKSIZE to minimize an overhead\n\nWhen processing the image data from a client, the previous and small\nchunk size had a significant overhead. Let's be aligned with other chunk\nsize related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE\n(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).\n\nThe performance difference should be tangible especially with a\nsinglepart upload. And the upload time can be shortened for example as\nfollows:\n\n100 MiB:   36.5s -> 4.0s\n200 MiB: 2m16.8s -> 6.1s\n300 MiB: 4m50.4s -> 9.1s\n\nCloses-Bug: 1934849\nChange-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70\n""}]",2,799870,32f9a1509bc94baa6acaf508c922f3b7edf5b65f,16,3,3,8108,,,0,"s3: Optimize WRITE_CHUNKSIZE to minimize an overhead

When processing the image data from a client, the previous and small
chunk size had a significant overhead. Let's be aligned with other chunk
size related parameters such as DEFAULT_LARGE_OBJECT_MIN_CHUNK_SIZE
(=5MiB) and DEFAULT_LARGE_OBJECT_CHUNK_SIZE (=10MiB).

The performance difference should be tangible especially with a
singlepart upload. And the upload time can be shortened for example as
follows:

100 MiB:   36.5s -> 4.0s
200 MiB: 2m16.8s -> 6.1s
300 MiB: 4m50.4s -> 9.1s

Closes-Bug: 1934849
Change-Id: Icecac80dd9e4e9f7ffa76bb7ca63d8d112036b70
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/70/799870/2 && git format-patch -1 --stdout FETCH_HEAD,['glance_store/_drivers/s3.py'],1,4e9cbebd6fdeaf7c832a5b2007d6840d322bdb6b,bug/1934849, WRITE_CHUNKSIZE = 5 * units.Mi, WRITE_CHUNKSIZE = READ_CHUNKSIZE,1,1
openstack%2Fglance~master~I08c014e10c3fc54046930ea8be2b13775428e51b,openstack/glance,master,I08c014e10c3fc54046930ea8be2b13775428e51b,setup.cfg: Replace dashes with underscores,MERGED,2021-05-01 08:02:11.000000000,2021-07-09 18:07:49.000000000,2021-07-09 18:06:26.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-01 08:02:11.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/glance/commit/ebb6257cc7f9d65031577c6c5aea40dd0f7690b2', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I08c014e10c3fc54046930ea8be2b13775428e51b\n""}]",0,789046,ebb6257cc7f9d65031577c6c5aea40dd0f7690b2,8,3,1,30092,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I08c014e10c3fc54046930ea8be2b13775428e51b
",git fetch https://review.opendev.org/openstack/glance refs/changes/46/789046/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,ebb6257cc7f9d65031577c6c5aea40dd0f7690b2,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/glance/latest/ python-r_quires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/glance/latest/ python-requires = >=3.6,4,4
openstack%2Fcharm-deployment-guide~master~Ie6386755b04d172396722d9441d7224555b02b3d,openstack/charm-deployment-guide,master,Ie6386755b04d172396722d9441d7224555b02b3d,Ironic Documentation,MERGED,2021-06-18 23:20:28.000000000,2021-07-09 17:34:32.000000000,2021-07-09 17:33:16.000000000,"[{'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-06-18 23:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/e6dcd4c2266a8f0edaaa44cad7cd7d0e3d440ac0', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 2, 'created': '2021-06-18 23:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/dd5a2beae19a26ceb288350377a4a1312ec9b133', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 3, 'created': '2021-06-18 23:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/3e7e79c280c63a21bef383d3c17c322af4bc0899', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 4, 'created': '2021-06-25 21:44:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f6c7b199346d6f8d728cb1711dc2a284cab83114', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 5, 'created': '2021-07-08 23:10:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/1fa26c38fcc3d45aef99f750482a24a3af74d4bb', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 6, 'created': '2021-07-09 16:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/7cd20cde8b681237a70c5ca7bceed46dfae4d506', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}, {'number': 7, 'created': '2021-07-09 17:13:41.000000000', 'files': ['deploy-guide/source/ironic.rst', 'deploy-guide/source/media/ironic-external-network-topology.png', 'deploy-guide/source/media/ironic-internal-network-topology.png', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/abc745d560d521ff92b0c0b20450133531cc6345', 'message': 'Ironic Documentation\n\nChange-Id: Ie6386755b04d172396722d9441d7224555b02b3d\n'}]",152,797166,abc745d560d521ff92b0c0b20450133531cc6345,28,3,7,20805,,,0,"Ironic Documentation

Change-Id: Ie6386755b04d172396722d9441d7224555b02b3d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/66/797166/2 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/media/ironic-external-network-toplogy.png', 'deploy-guide/source/daniel.txt', 'deploy-guide/source/media/ironic-internal-network-toplogy.png', 'deploy-guide/source/app-ironic.rst', 'deploy-guide/source/index.rst']",5,e6dcd4c2266a8f0edaaa44cad7cd7d0e3d440ac0,ironic-documentation, app-ironic,,386,0
openstack%2Fovn-octavia-provider~master~I21aa03f7cc661f4e5669805fc7f45a7a322e2597,openstack/ovn-octavia-provider,master,I21aa03f7cc661f4e5669805fc7f45a7a322e2597,Improve enabled_provider_drivers default in devstack,MERGED,2021-03-25 10:18:32.000000000,2021-07-09 17:07:22.000000000,2021-07-09 17:06:08.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-25 10:18:32.000000000', 'files': ['devstack/plugin.sh', 'devstack/settings'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6f569afc021020c2aa9fa84738cef540f59daeaf', 'message': ""Improve enabled_provider_drivers default in devstack\n\nDefine a default value for enabled_provider_drivers that is closer to\nthe value defined in octavia.\nThe octavia-tempest-plugin default provider is still 'octavia', so\nenabling the ovn-provider plugin broke the tempest plugin default\nsettings.\n\nAlso fix some double-quote issues when using spaces in the\nOCTAVIA_PROVIDER_DRIVERS string.\n\nChange-Id: I21aa03f7cc661f4e5669805fc7f45a7a322e2597\n""}]",0,782941,6f569afc021020c2aa9fa84738cef540f59daeaf,12,3,1,29244,,,0,"Improve enabled_provider_drivers default in devstack

Define a default value for enabled_provider_drivers that is closer to
the value defined in octavia.
The octavia-tempest-plugin default provider is still 'octavia', so
enabling the ovn-provider plugin broke the tempest plugin default
settings.

Also fix some double-quote issues when using spaces in the
OCTAVIA_PROVIDER_DRIVERS string.

Change-Id: I21aa03f7cc661f4e5669805fc7f45a7a322e2597
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/41/782941/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/plugin.sh', 'devstack/settings']",2,6f569afc021020c2aa9fa84738cef540f59daeaf,,"OCTAVIA_PROVIDER_DRIVERS=${OCTAVIA_PROVIDER_DRIVERS:-""amphora:The Octavia Amphora driver.,octavia:Deprecated alias of the Octavia Amphora driver.,ovn:Octavia OVN driver.""}","OCTAVIA_PROVIDER_DRIVERS=${OCTAVIA_PROVIDER_DRIVERS:-""amphora:Amphora,ovn:OVN""}",2,2
openstack%2Fglance~master~I34404463d7d90a9bc82471b145b285a7ddd211f0,openstack/glance,master,I34404463d7d90a9bc82471b145b285a7ddd211f0,Xena milestone 2 release notes,MERGED,2021-07-09 06:06:34.000000000,2021-07-09 16:48:17.000000000,2021-07-09 16:46:48.000000000,"[{'_account_id': 5202}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 06:06:34.000000000', 'files': ['releasenotes/notes/xena-m2-releasenotes-e68fd81ece1d514a.yaml'], 'web_link': 'https://opendev.org/openstack/glance/commit/d2d0bf0a60239bee4d5c6d37710a6a6c5546c935', 'message': 'Xena milestone 2 release notes\n\nChange-Id: I34404463d7d90a9bc82471b145b285a7ddd211f0\n'}]",0,800160,d2d0bf0a60239bee4d5c6d37710a6a6c5546c935,9,3,1,9303,,,0,"Xena milestone 2 release notes

Change-Id: I34404463d7d90a9bc82471b145b285a7ddd211f0
",git fetch https://review.opendev.org/openstack/glance refs/changes/60/800160/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/xena-m2-releasenotes-e68fd81ece1d514a.yaml'],1,d2d0bf0a60239bee4d5c6d37710a6a6c5546c935,xena-m2-reno,--- fixes: - | Bug 1916052_: Unable to create trust errors in glance-api - | Bug 1934673_: Policy deprecations falsely claims defaulting to role based policies - | Bug 1922928_: Image tasks API excludes in-progress tasks .. _1916052: https://code.launchpad.net/bugs/1916052 .. _1934673: https://code.launchpad.net/bugs/1934673 .. _1922928: https://code.launchpad.net/bugs/1922928 ,,12,0
openstack%2Faodh~master~Icd8389c771363235062807c31a866d2960726ec6,openstack/aodh,master,Icd8389c771363235062807c31a866d2960726ec6,Merge notifier opts,MERGED,2021-04-23 13:51:05.000000000,2021-07-09 16:30:13.000000000,2021-07-09 16:28:45.000000000,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-23 13:51:05.000000000', 'files': ['aodh/opts.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/0b01d7b7285c3c97b7f78e5f552515b8af9c0c9f', 'message': ""Merge notifier opts\n\nThe notifier group are duplicated when defining options. This is not\naffecting functionality but make the code less readable. Let's merge\nthese tow using itertools as is done for other groups.\n\nChange-Id: Icd8389c771363235062807c31a866d2960726ec6\n""}]",0,787741,0b01d7b7285c3c97b7f78e5f552515b8af9c0c9f,16,2,1,9816,,,0,"Merge notifier opts

The notifier group are duplicated when defining options. This is not
affecting functionality but make the code less readable. Let's merge
these tow using itertools as is done for other groups.

Change-Id: Icd8389c771363235062807c31a866d2960726ec6
",git fetch https://review.opendev.org/openstack/aodh refs/changes/41/787741/1 && git format-patch -1 --stdout FETCH_HEAD,['aodh/opts.py'],1,0b01d7b7285c3c97b7f78e5f552515b8af9c0c9f,notifier-opts," ('notifier', itertools.chain(aodh.notifier.OPTS, aodh.service.NOTIFIER_OPTS)),"," ('notifier', aodh.service.NOTIFIER_OPTS), ('notifier', aodh.notifier.OPTS),",2,2
openstack%2Fkolla~master~I75ab01165cf0036ca8e9f36ddbe45c4fcc5563c8,openstack/kolla,master,I75ab01165cf0036ca8e9f36ddbe45c4fcc5563c8,Add instruction to enable multinode deployment in vagrant,ABANDONED,2016-10-25 15:17:40.000000000,2021-07-09 16:28:12.000000000,,"[{'_account_id': 1390}, {'_account_id': 24164}]","[{'number': 1, 'created': '2016-10-25 15:17:40.000000000', 'files': ['doc/vagrant-dev-env.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4f8c8e95d0d07d818df3bfbfaf57261ca4332be', 'message': 'Add instruction to enable multinode deployment in vagrant\n\nTrivialFix\n\nChange-Id: I75ab01165cf0036ca8e9f36ddbe45c4fcc5563c8\n'}]",2,390589,f4f8c8e95d0d07d818df3bfbfaf57261ca4332be,7,2,1,16993,,,0,"Add instruction to enable multinode deployment in vagrant

TrivialFix

Change-Id: I75ab01165cf0036ca8e9f36ddbe45c4fcc5563c8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/89/390589/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/vagrant-dev-env.rst'],1,f4f8c8e95d0d07d818df3bfbfaf57261ca4332be,update-vagrant-file,"For example, to enable multi-node deployment developers can change set the variablein the Vagrantfile custom file:: MULTINODE = true ",,5,0
openstack%2Fkolla~master~Ic40cb61e3fa9095aa862e3fbd3818f430d86c514,openstack/kolla,master,Ic40cb61e3fa9095aa862e3fbd3818f430d86c514,Add --depth option for build tool,ABANDONED,2016-01-21 21:40:57.000000000,2021-07-09 16:28:08.000000000,,"[{'_account_id': 1390}, {'_account_id': 2468}, {'_account_id': 11869}]","[{'number': 1, 'created': '2016-01-21 21:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d4a6070b18096442ef13269543bcfa8ec4e5d237', 'message': ""Add --depth option for build tool\n\nAdd --depth option so that user can limit the image build recursion\nlevel together with regex pattern. This option is not enabled by\ndefault and also doesn't take effect if no regex pattern specified.\nBecause no regext pattern actually means matching everthing at the depth\nlevel of 1.\n\nChange-Id: Ic40cb61e3fa9095aa862e3fbd3818f430d86c514\nImplements: blueprint image-build-depth\n""}, {'number': 2, 'created': '2016-01-21 22:38:57.000000000', 'files': ['kolla/common/config.py', 'kolla/cmd/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5027da50ae2aff1e6c3d7222b7b05980fd7a4fb5', 'message': ""Add --depth option for build tool\n\nAdd --depth option so that user can limit the image build recursion\nlevel together with regex pattern. This option is not enabled by\ndefault and also doesn't take effect if no regex pattern specified.\nBecause no regext pattern actually means matching everthing at the depth\nlevel of 1.\n\nChange-Id: Ic40cb61e3fa9095aa862e3fbd3818f430d86c514\nImplements: blueprint image-build-depth\n""}]",0,271045,5027da50ae2aff1e6c3d7222b7b05980fd7a4fb5,12,3,2,2468,,,0,"Add --depth option for build tool

Add --depth option so that user can limit the image build recursion
level together with regex pattern. This option is not enabled by
default and also doesn't take effect if no regex pattern specified.
Because no regext pattern actually means matching everthing at the depth
level of 1.

Change-Id: Ic40cb61e3fa9095aa862e3fbd3818f430d86c514
Implements: blueprint image-build-depth
",git fetch https://review.opendev.org/openstack/kolla refs/changes/45/271045/1 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/common/config.py', 'kolla/cmd/build.py']",2,d4a6070b18096442ef13269543bcfa8ec4e5d237,bp/image-build-depth, depth_level = 1 depth_level += 1 if depth_level > self.conf.depth: break if (image['parent'] is not None and image['parent']['status'] in ['matched']):, if image['parent'] is not None:,8,1
openstack%2Fkolla~master~Ibfe6992d32186849dfbc7b849e12f8ba4b696756,openstack/kolla,master,Ibfe6992d32186849dfbc7b849e12f8ba4b696756,Allow for externally managed configuration,ABANDONED,2016-06-22 00:11:01.000000000,2021-07-09 16:27:54.000000000,,"[{'_account_id': 1297}, {'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9060}, {'_account_id': 9237}, {'_account_id': 10787}, {'_account_id': 11869}, {'_account_id': 16233}, {'_account_id': 20128}]","[{'number': 1, 'created': '2016-06-22 00:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3761f27a4ac4d1cb00b63489dfddc2ce3f16d46d', 'message': 'Allow for externally managed configuration\n\nWe plan on using bindmounts for our existing configuration\nso make it possible to avoid all the configuration activity\nthat happens during this.\n\nAlso we plan on just using systemd to manage the running\nof the containers; so this whole configuration work mainly\nseems for ansible.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 2, 'created': '2016-06-24 01:03:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b384db054116648cfd3bc49b062445afa398d2cb', 'message': 'Allow for externally managed configuration\n\nGodaddy plans on using bindmounts for our existing configuration\nso make it possible to avoid all the configuration activity\nthat happens during this.\n\nAlso we plan on just using systemd to manage the running\nof the containers; so this whole configuration work mainly\nseems for ansible.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 3, 'created': '2016-06-24 01:13:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e65d23dcb8bfe60a5d9ad57d458970c534b8a23', 'message': 'Allow for externally managed configuration\n\nGodaddy plans on using bindmounts for our existing configuration\nso make it possible to avoid all the configuration activity\nthat happens during this.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 4, 'created': '2016-06-27 23:03:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7144b495916523db808bb74d8ab9ef001bfb983e', 'message': 'Allow for externally managed configuration\n\nGodaddy plans on using bindmounts for our existing configuration\nso make it possible to avoid all the configuration activity\nthat happens during this.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 5, 'created': '2016-06-27 23:05:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/65f91be3ce231ce6ada9d110c54cec1456d8480a', 'message': 'Allow for externally managed configuration\n\nGodaddy plans on using bindmounts for our existing configuration\nso make it possible to avoid all the configuration activity\nthat happens during this.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 6, 'created': '2016-06-30 00:40:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c1e082e0666e61e57e739bf8279ddac0ac005283', 'message': 'Allow for externally managed configuration\n\nInstead of forcing people to use the somewhat\njanky json copy around configuration mechanism\nit seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 7, 'created': '2016-11-16 06:54:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5ca5f7d1da537e1f78105b9896f24f9ad3ccd5a1', 'message': 'Allow for externally managed configuration\n\nInstead of forcing people to use the somewhat\njanky json copy around configuration mechanism\nit seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 8, 'created': '2016-11-22 02:27:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/650732fbf9ffdbcaa808519dcd55bbd386dca5be', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 9, 'created': '2016-12-02 00:19:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b47f745a7c97ba83bb362a834e00cf8976bcad1', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 10, 'created': '2016-12-07 19:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8845c5a8b057913bae9f7e7f802c415918e0415f', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 11, 'created': '2016-12-07 19:29:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/cd9d6ab250acc86441f67d82d3eb425d2f2c9d05', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nTrivalFix\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 12, 'created': '2016-12-09 23:22:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a66f717f0a9a1286be617f67ddfe5ac06d0ed660', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}, {'number': 13, 'created': '2017-01-06 00:22:45.000000000', 'files': ['docker/base/set_configs.py', 'tests/test_set_config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/76d5e7c0b91e9ef357c191fbf95df119f0c06be1', 'message': 'Allow for externally managed configuration\n\nIt seems useful to allow people to just use\nvolumes that they mount directly instead (these\nvolumes then contain the needed configuration)\nso this provides a way for those that wish to\ndo this to actually achieve that goal.\n\nChange-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756\n'}]",4,332590,76d5e7c0b91e9ef357c191fbf95df119f0c06be1,43,9,13,1297,,,0,"Allow for externally managed configuration

It seems useful to allow people to just use
volumes that they mount directly instead (these
volumes then contain the needed configuration)
so this provides a way for those that wish to
do this to actually achieve that goal.

Change-Id: Ibfe6992d32186849dfbc7b849e12f8ba4b696756
",git fetch https://review.opendev.org/openstack/kolla refs/changes/90/332590/13 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/set_configs.py'],1,3761f27a4ac4d1cb00b63489dfddc2ce3f16d46d,bug/1586478," copy_config(load_config()) copy_config(load_config()) elif config_strategy == ""EXTERNALLY_MANAGED"": pass", config = load_config() copy_config(config) copy_config(config),4,3
openstack%2Fkolla~master~I4374285ada0e315b2a1bec9615710fa54af3eb3f,openstack/kolla,master,I4374285ada0e315b2a1bec9615710fa54af3eb3f,Add RHEL as a vaild option in comment,ABANDONED,2016-11-08 21:14:19.000000000,2021-07-09 16:27:45.000000000,,"[{'_account_id': 11105}, {'_account_id': 16233}, {'_account_id': 24164}]","[{'number': 1, 'created': '2016-11-08 21:14:19.000000000', 'files': ['etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5bf8643aa837e1f5531ece02c1284368b1a4a7c8', 'message': 'Add RHEL as a vaild option in comment\n\nChange-Id: I4374285ada0e315b2a1bec9615710fa54af3eb3f\n'}]",1,395165,5bf8643aa837e1f5531ece02c1284368b1a4a7c8,8,3,1,23551,,,0,"Add RHEL as a vaild option in comment

Change-Id: I4374285ada0e315b2a1bec9615710fa54af3eb3f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/65/395165/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/kolla/globals.yml'],1,5bf8643aa837e1f5531ece02c1284368b1a4a7c8,fix-base-comment,"# Valid options are [ centos, oraclelinux, rhel, ubuntu ]","# Valid options are [ centos, oraclelinux, ubuntu ]",1,1
openstack%2Fkolla~master~I8c86462271a667e75fc6145947091b343375940e,openstack/kolla,master,I8c86462271a667e75fc6145947091b343375940e,Remove redundant Neutron Docker volumes,ABANDONED,2016-10-18 18:18:01.000000000,2021-07-09 16:27:41.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 11869}, {'_account_id': 13642}, {'_account_id': 16233}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-10-18 18:18:01.000000000', 'files': ['ansible/roles/neutron/tasks/start.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f7a963952909ae0e020ad34a161d0e826df404dc', 'message': 'Remove redundant Neutron Docker volumes\n\nAfter ce5a11a3 some of these Docker volumes are redundant.\n\nTrivialFix\n\nChange-Id: I8c86462271a667e75fc6145947091b343375940e\n'}]",2,388164,f7a963952909ae0e020ad34a161d0e826df404dc,12,6,1,23551,,,0,"Remove redundant Neutron Docker volumes

After ce5a11a3 some of these Docker volumes are redundant.

TrivialFix

Change-Id: I8c86462271a667e75fc6145947091b343375940e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/388164/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/tasks/start.yml'],1,f7a963952909ae0e020ad34a161d0e826df404dc,remove-redundant-share," - ""/run:/run:shared"""," - ""/run/netns/:/run/netns/:shared"" - ""/run/netns/:/run/netns/:shared"" - ""/run/netns/:/run/netns/:shared"" - ""/run/netns/:/run/netns/:shared"" - ""/run/netns/:/run/netns/:shared""",1,5
openstack%2Fkolla~master~Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80,openstack/kolla,master,Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80,Check if ansible_user is in docker group,ABANDONED,2016-08-22 06:57:48.000000000,2021-07-09 16:27:24.000000000,,"[{'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 14103}, {'_account_id': 19741}, {'_account_id': 22165}, {'_account_id': 22582}]","[{'number': 1, 'created': '2016-08-22 06:57:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b494cf4dafb5f217bce8bba706547ff6cdc4fd24', 'message': 'Check if ansible_user is in docker group\n\nIf user is in docker group many docker-related command do not need\nroot privilege.\n\nChange-Id: Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 2, 'created': '2016-08-22 07:15:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/167655a89b66c35983b135e6a8ae3ba692e9f31c', 'message': 'Check if ansible_user is in docker group\n\nIf user is in docker group many docker-related command do not need\nroot privilege.\n\nChange-Id: Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 3, 'created': '2016-08-24 03:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84cb8d1e7f9105abcf344bf74e172bc6e567067b', 'message': 'Check if ansible_user is in docker group\n\nIf user is in docker group many docker-related command do not need\nroot privilege.\n\nChange-Id: Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80\nPartial-Implements: blueprint ansible-specific-task-become\n'}, {'number': 4, 'created': '2016-08-31 06:49:09.000000000', 'files': ['ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/prechecks/tasks/user_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3aa2066afa9b1c09207660f4407db0335d4acb2a', 'message': 'Check if ansible_user is in docker group\n\nIf user is root or in docker socker owner group many docker-related\ncommand do not need root privilege.\n\nChange-Id: Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80\nPartial-Implements: blueprint ansible-specific-task-become\n'}]",9,358432,3aa2066afa9b1c09207660f4407db0335d4acb2a,29,6,4,22582,,,0,"Check if ansible_user is in docker group

If user is root or in docker socker owner group many docker-related
command do not need root privilege.

Change-Id: Ib3a0947833bf8959fa2c2c4480cf3dad233a7e80
Partial-Implements: blueprint ansible-specific-task-become
",git fetch https://review.opendev.org/openstack/kolla refs/changes/32/358432/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/main.yml', 'ansible/roles/prechecks/tasks/user_checks.yml']",2,b494cf4dafb5f217bce8bba706547ff6cdc4fd24,bp/ansible-specific-task-become,"--- - name: Get user groups shell: groups register: user_groups - debug: msg={{ user_groups }} # (duonghq) group_names is not stable here so I need workaround # Cannot add user to docker group in bootstrap task because of # the check docker's version task will fail - fail: msg=""User is not in docker group"" when: (""docker"" not in user_groups.stdout.split(' ')) or (""{{ ansible_user }}"" == ""root"") ",,15,0
openstack%2Fkolla~master~Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb,openstack/kolla,master,Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb,Create kolla group to encompass all hosts,ABANDONED,2016-09-21 15:57:53.000000000,2021-07-09 16:27:14.000000000,,"[{'_account_id': 979}, {'_account_id': 10419}, {'_account_id': 16233}, {'_account_id': 18009}, {'_account_id': 23551}]","[{'number': 1, 'created': '2016-09-21 15:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d6de68cc153a4d95bf38c3be1c32021cf5ee896', 'message': ""Create kolla group to encompass all hosts\n\nMove to using a kolla group instead of 'all' in plays that are required\nto run on every host. The reasoning is that this leaves room for\nintegration into the kolla playbooks from other playbooks without using\nthe kolla-ansible helper.\n\nIn the case where someone has integrated into the kolla playbooks and a\nplay uses 'all' for the hosts the tasks for that play may end up running\non hosts the operator does not want them to run on.\n\nChange-Id: Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb\n""}, {'number': 2, 'created': '2016-09-21 18:11:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d9f44547cfb4a53eb83c317939c178418d77bc0c', 'message': ""Create kolla group to encompass all hosts\n\nMove to using a kolla group instead of 'all' in plays that are required\nto run on every host. The reasoning is that this leaves room for\nintegration into the kolla playbooks from other playbooks without using\nthe kolla-ansible helper.\n\nIn the case where someone has integrated into the kolla playbooks and a\nplay uses 'all' for the hosts the tasks for that play may end up running\non hosts the operator does not want them to run on.\n\nChange-Id: Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb\n""}, {'number': 3, 'created': '2016-09-22 14:13:09.000000000', 'files': ['ansible/inventory/multinode', 'ansible/prechecks.yml', 'ansible/destroy.yml', 'ansible/post-deploy.yml', 'tools/setup_nodes.yml', 'ansible/inventory/all-in-one', 'ansible/certificates.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/19cea57a6b5b6fc7d98b09811024ca4530b3ebb1', 'message': ""Create kolla group to encompass all hosts\n\nMove to using a kolla group instead of 'all' in plays that are required\nto run on every host. The reasoning is that this leaves room for\nintegration into the kolla playbooks from other playbooks without using\nthe kolla-ansible helper.\n\nIn the case where someone has integrated into the kolla playbooks and a\nplay uses 'all' for the hosts the tasks for that play may end up running\non hosts the operator does not want them to run on.\n\nChange-Id: Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb\n""}]",4,374264,19cea57a6b5b6fc7d98b09811024ca4530b3ebb1,20,5,3,23551,,,0,"Create kolla group to encompass all hosts

Move to using a kolla group instead of 'all' in plays that are required
to run on every host. The reasoning is that this leaves room for
integration into the kolla playbooks from other playbooks without using
the kolla-ansible helper.

In the case where someone has integrated into the kolla playbooks and a
play uses 'all' for the hosts the tasks for that play may end up running
on hosts the operator does not want them to run on.

Change-Id: Ie9a7ba57c9a72809ce36e01c5fcdf322728875fb
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/374264/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/prechecks.yml', 'ansible/destroy.yml', 'ansible/post-deploy.yml', 'tools/setup_nodes.yml', 'ansible/certificates.yml', 'ansible/inventory/all-in-one']",7,6d6de68cc153a4d95bf38c3be1c32021cf5ee896,use-meta-group,# meta group containing major groups [kolla:children] control newtork compute storage monitoring ,,22,6
openstack%2Fkolla~master~I18b33d1040ba3afbf4c53f7c75b5dd60de9fcdc5,openstack/kolla,master,I18b33d1040ba3afbf4c53f7c75b5dd60de9fcdc5,optimze prechecks to only run local_actions once,ABANDONED,2016-09-19 18:21:05.000000000,2021-07-09 16:26:55.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 13642}, {'_account_id': 18009}, {'_account_id': 21927}, {'_account_id': 22525}]","[{'number': 1, 'created': '2016-09-19 18:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd6d86ce0b6649516dff79da0306537a30a4f197', 'message': 'Only check once for empty passwords in passwords.yml\n\nTrivialFix\n\nChange-Id: I18b33d1040ba3afbf4c53f7c75b5dd60de9fcdc5\n'}, {'number': 2, 'created': '2016-10-03 06:02:48.000000000', 'files': ['ansible/roles/prechecks/tasks/service_checks.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2899b87dab0e79f1673916325ccf4a3a10c83ad6', 'message': 'optimze prechecks to only run local_actions once\n\nTrivialFix\n\nChange-Id: I18b33d1040ba3afbf4c53f7c75b5dd60de9fcdc5\n'}]",0,372678,2899b87dab0e79f1673916325ccf4a3a10c83ad6,16,6,2,21927,,,0,"optimze prechecks to only run local_actions once

TrivialFix

Change-Id: I18b33d1040ba3afbf4c53f7c75b5dd60de9fcdc5
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/372678/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/prechecks/tasks/service_checks.yml'],1,fd6d86ce0b6649516dff79da0306537a30a4f197,, run_once: True,,1,0
openstack%2Fkolla~master~Ib8fb483b5854b1c07c83485afb90e6c5691babaf,openstack/kolla,master,Ib8fb483b5854b1c07c83485afb90e6c5691babaf,delete python bytecode including pyo before every test run,ABANDONED,2016-09-16 05:50:48.000000000,2021-07-09 16:26:46.000000000,,"[{'_account_id': 979}, {'_account_id': 1390}, {'_account_id': 11869}, {'_account_id': 18009}]","[{'number': 1, 'created': '2016-09-16 05:50:48.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0938b165ff3033470e6a8951576bf4aa6d42249d', 'message': 'delete python bytecode including pyo before every test run\n\nChange-Id: Ib8fb483b5854b1c07c83485afb90e6c5691babaf\n'}]",0,371275,0938b165ff3033470e6a8951576bf4aa6d42249d,11,4,1,22575,,,0,"delete python bytecode including pyo before every test run

Change-Id: Ib8fb483b5854b1c07c83485afb90e6c5691babaf
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/371275/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0938b165ff3033470e6a8951576bf4aa6d42249d,," find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete find . -type f -name ""*.py[c|o]"" -delete"," find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete find . -type f -name ""*.pyc"" -delete",14,14
openstack%2Fkolla~master~I50b90dc79e37183851147e87df880735bb41b876,openstack/kolla,master,I50b90dc79e37183851147e87df880735bb41b876,Cleanup Advanced Configuration doc,ABANDONED,2016-05-21 20:50:16.000000000,2021-07-09 16:26:38.000000000,,"[{'_account_id': 1390}, {'_account_id': 11105}, {'_account_id': 16233}, {'_account_id': 16620}, {'_account_id': 18009}]","[{'number': 1, 'created': '2016-05-21 20:50:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8ac0a76f50be59b2ea33adc81c0c825460bd163a', 'message': 'Cleanup Advanved Configuration doc\n\nRemove double spaces at the end of sentences and\nproperly denote all paths with ``.\n\nChange-Id: I50b90dc79e37183851147e87df880735bb41b876\npartially-implements: blueprint documentation-rework\n'}, {'number': 2, 'created': '2016-05-23 11:42:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/52c8c43e0cbb622e87d49eea28453f69243c3f7f', 'message': 'Cleanup Advanved Configuration doc\n\nRemove double spaces at the end of sentences and\nproperly denote all paths with ``.\n\nChange-Id: I50b90dc79e37183851147e87df880735bb41b876\npartially-implements: blueprint documentation-rework\n'}, {'number': 3, 'created': '2016-05-24 10:47:51.000000000', 'files': ['doc/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a75951f04a172b0937679d9a3a33e2eacd45896c', 'message': 'Cleanup Advanced Configuration doc\n\nRemove double spaces at the end of sentences and\nproperly denote all paths with ``.\n\nChange-Id: I50b90dc79e37183851147e87df880735bb41b876\npartially-implements: blueprint documentation-rework\n'}]",1,319592,a75951f04a172b0937679d9a3a33e2eacd45896c,23,5,3,10419,,,0,"Cleanup Advanced Configuration doc

Remove double spaces at the end of sentences and
properly denote all paths with ``.

Change-Id: I50b90dc79e37183851147e87df880735bb41b876
partially-implements: blueprint documentation-rework
",git fetch https://review.opendev.org/openstack/kolla refs/changes/92/319592/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/advanced-configuration.rst'],1,8ac0a76f50be59b2ea33adc81c0c825460bd163a,bp/documentation-rework,"as a series of endpoints. These endpoints are the admin URL, the internalThese are combined and separate. For the combined option, all three endpoints share the same IP address. For the separate option, the externalother two to accept their default values. In this configuration all RESTFor the separate option, set these four variables. In this configurationconfigured IP addresses. Using a DNS server or the ``/etc/hosts`` file areTLS protection for the external VIP. TLS allows a client to authenticate signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org company's domain. If using a trusted CA is not possible for yourThese two files will be provided by your Certificate Authority. Thesewith any intermediate certificates. The server certificate needs to bekolla_external_fqdn_cert parameter. If the server certificate providedtrust CA, for example a development or internal test kolla deployment. Inin the ``/etc/kolla/certificates/`` directory.for file in ``/etc/kolla/config/<< sevice name >>/<< config file >>``. This canneeds to create ``/etc/kolla/config/nova/nova-scheduler.conf with content``:``/etc/kolla/config/nova/myhost/nova.conf`` with content:","as a series of endpoints. These endpoints are the admin URL, the internalThese are combined and separate. For the combined option, all three endpoints share the same IP address. For the separate option, the externalother two to accept their default values. In this configuration all RESTFor the separate option, set these four variables. In this configurationconfigured IP addresses. Using a DNS server or the /etc/hosts file areTLS protection for the external VIP. TLS allows a client to authenticate signed by trusted Certificate Authorities. Examples of commercial CAs are Comodo, Symantec, GoDaddy, and GlobalSign. Letsencrypt.org company's domain. If using a trusted CA is not possible for yourThese two files will be provided by your Certificate Authority. Thesewith any intermediate certificates. The server certificate needs to bekolla_external_fqdn_cert parameter. If the server certificate providedtrust CA, for example a development or internal test kolla deployment. Inin the /etc/kolla/certificates/ directory.for file in `/etc/kolla/config/<< sevice name >>/<< config file >>`. This canneed to create `/etc/kolla/config/nova/nova-scheduler.conf with content`:`/etc/kolla/config/nova/myhost/nova.conf` with content:",18,18
openstack%2Fkolla~master~I0ed8673d1a1bf77891d08cae3ef45d92eb889364,openstack/kolla,master,I0ed8673d1a1bf77891d08cae3ef45d92eb889364,Use $PATH to find sgdisk. Update udev after partition changes.,ABANDONED,2016-07-22 19:33:07.000000000,2021-07-09 16:26:14.000000000,,"[{'_account_id': 1390}, {'_account_id': 2834}]","[{'number': 1, 'created': '2016-07-22 19:33:07.000000000', 'files': ['docker/ceph/ceph-osd/extend_start.sh', 'docker/kolla-toolbox/find_disks.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a04a8249cf1d5292eaa8f0481dc111fa34be8e3a', 'message': ""Use $PATH to find sgdisk. Update udev after partition changes.\n\nUse shell and shell $PATH to find sgdisk bin, as location differs\non different distro's.  Also, update udev to re-read partition\ntables after updating partition labels.\n\nChange-Id: I0ed8673d1a1bf77891d08cae3ef45d92eb889364\n""}]",2,346214,a04a8249cf1d5292eaa8f0481dc111fa34be8e3a,7,2,1,22135,,,0,"Use $PATH to find sgdisk. Update udev after partition changes.

Use shell and shell $PATH to find sgdisk bin, as location differs
on different distro's.  Also, update udev to re-read partition
tables after updating partition labels.

Change-Id: I0ed8673d1a1bf77891d08cae3ef45d92eb889364
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/346214/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ceph/ceph-osd/extend_start.sh', 'docker/kolla-toolbox/find_disks.py']",2,a04a8249cf1d5292eaa8f0481dc111fa34be8e3a,ceph-partition-fix2," out = subprocess.Popen(""sgdisk -i {} {}"".format(part, parent), shell=True,"," out = subprocess.Popen(['/usr/sbin/sgdisk', '-i', part, parent],",6,5
openstack%2Fkolla~master~Iba7dd01b48f94848f620eec7978af8aa52f7ab90,openstack/kolla,master,Iba7dd01b48f94848f620eec7978af8aa52f7ab90,Implement kuryr neutron plugin,ABANDONED,2016-03-26 20:19:38.000000000,2021-07-09 16:26:08.000000000,,"[{'_account_id': 1923}, {'_account_id': 2834}, {'_account_id': 11105}, {'_account_id': 12796}, {'_account_id': 13642}, {'_account_id': 16233}, {'_account_id': 16993}]","[{'number': 1, 'created': '2016-03-26 20:19:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/81a411edd9f7eeb02c748ca2ca9b228f0305383d', 'message': 'Implement kuryr neutron plugin\n\nsee doc/kuryr-guide.rst\n\nCo-authored-by: Mohammad Banikazemi <mb@us.ibm.com>\nChange-Id: Iba7dd01b48f94848f620eec7978af8aa52f7ab90\nImplements: bp kuryr-docker-plugin\n'}, {'number': 2, 'created': '2016-03-26 20:38:04.000000000', 'files': ['ansible/inventory/multinode', 'ansible/roles/kuryr/tasks/start.yml', 'docker/consul/consul-client/Dockerfile.j2', 'ansible/roles/consul/tasks/main.yml', 'docker/kuryr/extend_start.sh', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/kuryr/templates/kuryr-lib.json.sample', 'doc/kuryr-guide.rst', 'ansible/roles/consul/templates/consul-server.json.j2', 'kolla/common/config.py', 'ansible/roles/consul/defaults/main.yml', 'ansible/roles/kuryr/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/main.yml', 'ansible/roles/consul/templates/consul-server-conf.json.j2', 'ansible/roles/consul/tasks/config.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/consul/templates/consul-client.json.j2', 'tools/kolla-ansible', 'ansible/roles/kuryr/pull.yml', 'ansible/roles/consul/tasks/pull.yml', 'ansible/roles/kuryr/tasks/deploy.yml', 'ansible/kuryr-network.yml', 'ansible/roles/kuryr/templates/kuryr-lib.json.j2', 'ansible/roles/consul/tasks/start.yml', 'docker/consul/consul-base/Dockerfile.j2', 'ansible/roles/consul/tasks/deploy.yml', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'docker/kuryr/Dockerfile.j2', 'ansible/roles/kuryr/templates/kuryr.json.j2', 'tools/cleanup-containers', 'docker/consul/consul-server/Dockerfile.j2', 'ansible/roles/consul/templates/consul-client-conf.json.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/df078e3a422f36873db358328bc81411ca803fa3', 'message': 'Implement kuryr neutron plugin\n\nsee doc/kuryr-guide.rst\n\nCo-authored-by: Mohammad Banikazemi <mb@us.ibm.com>\nChange-Id: Iba7dd01b48f94848f620eec7978af8aa52f7ab90\nImplements: bp kuryr-docker-plugin\n'}]",83,297987,df078e3a422f36873db358328bc81411ca803fa3,26,7,2,16993,,,0,"Implement kuryr neutron plugin

see doc/kuryr-guide.rst

Co-authored-by: Mohammad Banikazemi <mb@us.ibm.com>
Change-Id: Iba7dd01b48f94848f620eec7978af8aa52f7ab90
Implements: bp kuryr-docker-plugin
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/297987/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/inventory/multinode', 'ansible/roles/kuryr/tasks/start.yml', 'docker/consul/consul-client/Dockerfile.j2', 'ansible/roles/consul/tasks/main.yml', 'docker/kuryr/extend_start.sh', 'ansible/roles/kuryr/tasks/config.yml', 'ansible/roles/kuryr/templates/kuryr-lib.json.sample', 'doc/kuryr-guide.rst', 'ansible/roles/consul/templates/consul-server.json.j2', 'kolla/common/config.py', 'ansible/roles/consul/defaults/main.yml', 'ansible/roles/kuryr/tasks/bootstrap.yml', 'ansible/roles/kuryr/tasks/main.yml', 'ansible/roles/consul/templates/consul-server-conf.json.j2', 'ansible/roles/consul/tasks/config.yml', 'ansible/roles/kuryr/defaults/main.yml', 'ansible/roles/consul/templates/consul-client.json.j2', 'tools/kolla-ansible', 'ansible/roles/kuryr/pull.yml', 'ansible/roles/consul/tasks/pull.yml', 'ansible/roles/kuryr/tasks/deploy.yml', 'ansible/kuryr-network.yml', 'ansible/roles/kuryr/templates/kuryr-lib.json.j2', 'ansible/roles/consul/tasks/start.yml', 'docker/consul/consul-base/Dockerfile.j2', 'ansible/roles/consul/tasks/deploy.yml', 'ansible/roles/kuryr/templates/kuryr.conf.j2', 'docker/kuryr/Dockerfile.j2', 'ansible/roles/kuryr/templates/kuryr.json.j2', 'tools/cleanup-containers', 'docker/consul/consul-server/Dockerfile.j2', 'ansible/roles/consul/templates/consul-client-conf.json.j2']",32,81a411edd9f7eeb02c748ca2ca9b228f0305383d,bp/kuryr-docker-plugin,"{ ""start_join"": [ {% for host in groups['consul-server'] %} ""{{ hostvars[host]['ansible_' + network_interface]['ipv4']['address'] }}"" {% if not loop.last %},{% endif %} {% endfor %} ], ""domain"": ""{{ consul_domain }}"", ""data_dir"": ""/opt/consul/data"", ""log_level"": ""{{ consul_log_level }}"", ""node_name"": ""{{ inventory_hostname }}"", ""client_addr"": ""{{ hostvars[inventory_hostname]['ansible_' + network_interface]['ipv4']['address'] }}"", ""bind_addr"": ""{{ hostvars[inventory_hostname]['ansible_' + network_interface]['ipv4']['address'] }}"", ""datacenter"": ""{{ openstack_region_name }}"", ""server"": false, ""rejoin_after_leave"": true, ""leave_on_terminate"": false } ",,514,3
openstack%2Fkolla~master~I1fc6732ce9af7db63e15c89b437d0bce0ff0b121,openstack/kolla,master,I1fc6732ce9af7db63e15c89b437d0bce0ff0b121,Allow the base container to be more customizable,ABANDONED,2016-05-10 14:58:23.000000000,2021-07-09 16:25:39.000000000,,"[{'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 10419}, {'_account_id': 10787}, {'_account_id': 11105}, {'_account_id': 16993}]","[{'number': 1, 'created': '2016-05-10 14:58:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f4c27146d8574d525e164b5f3c9479a3ee125ae2', 'message': 'Allow the base container to be more customizable\n\nThe base container has a bunch of hard coded repos that need\nto be abstracted out.  The repos need to be as customizable\nas rpm_config_setup.\n\nChange-Id: I1fc6732ce9af7db63e15c89b437d0bce0ff0b121\nPartially-implements: blueprint base-container-repo-cleanup\n'}, {'number': 2, 'created': '2016-05-10 16:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9ddb1cbdffe85626a4faddde98ad09bfa7b7fed3', 'message': 'Allow the base container to be more customizable\n\nThe base container has a bunch of hard coded repos and gpg\nkeys that need to be abstracted out. We support custom repos\nfor non source cases and need to support custom repos\neverywhere so that operators use the kolla-build.conf when\nthey need to customize a repo versus changing the Dockerfile.\n\nChange-Id: I1fc6732ce9af7db63e15c89b437d0bce0ff0b121\nPartially-implements: blueprint base-container-repo-cleanup\n'}, {'number': 3, 'created': '2016-05-10 17:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad84bb93b516603659fd710ace1a709743c2c508', 'message': 'Allow the base container to be more customizable\n\nThe base container has a bunch of hard coded repos and gpg\nkeys that need to be abstracted out. We support custom repos\nfor non source cases and need to support custom repos\neverywhere so that operators use the kolla-build.conf when\nthey need to customize a repo versus changing the Dockerfile.\n\nChange-Id: I1fc6732ce9af7db63e15c89b437d0bce0ff0b121\nPartially-implements: blueprint base-container-repo-cleanup\n'}, {'number': 4, 'created': '2016-05-14 15:36:45.000000000', 'files': ['docker/base/Dockerfile.j2', 'kolla/common/config.py', 'kolla/cmd/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fb806d2fc182bc9e8fcb5196d8a786227d02758b', 'message': 'Allow the base container to be more customizable\n\nThe base container has a bunch of hard coded repos and gpg\nkeys that need to be abstracted out. We support custom repos\nfor non source cases and need to support custom repos\neverywhere so that operators use the kolla-build.conf when\nthey need to customize a repo versus changing the Dockerfile.\n\nChange-Id: I1fc6732ce9af7db63e15c89b437d0bce0ff0b121\nPartially-implements: blueprint base-container-repo-cleanup\n'}]",10,314614,fb806d2fc182bc9e8fcb5196d8a786227d02758b,24,6,4,10419,,,0,"Allow the base container to be more customizable

The base container has a bunch of hard coded repos and gpg
keys that need to be abstracted out. We support custom repos
for non source cases and need to support custom repos
everywhere so that operators use the kolla-build.conf when
they need to customize a repo versus changing the Dockerfile.

Change-Id: I1fc6732ce9af7db63e15c89b437d0bce0ff0b121
Partially-implements: blueprint base-container-repo-cleanup
",git fetch https://review.opendev.org/openstack/kolla refs/changes/14/314614/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/Dockerfile.j2', 'kolla/common/config.py', 'kolla/cmd/build.py']",3,f4c27146d8574d525e164b5f3c9479a3ee125ae2,bp/base-container-repo-cleanup," global_repo_setup = filter(None, conf.global_repo_setup) self.global_repo_setup = self.build_rpm_setup(global_repo_setup) print (rpm_setup) 'rpm_setup': self.rpm_setup, 'global_repo_setup': self.global_repo_setup}", 'rpm_setup': self.rpm_setup},20,13
openstack%2Fkolla~master~I9e17865cf829595986a3b160ff1a327e703e2354,openstack/kolla,master,I9e17865cf829595986a3b160ff1a327e703e2354,Build logging per container and other logging improvements,ABANDONED,2016-04-15 01:24:47.000000000,2021-07-09 16:25:29.000000000,,"[{'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 10068}, {'_account_id': 12882}, {'_account_id': 13642}, {'_account_id': 14027}, {'_account_id': 16233}, {'_account_id': 21061}]","[{'number': 1, 'created': '2016-04-15 01:24:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9a849953d4d81eb519b0c71b5c2c1afd44e4d503', 'message': 'Build logging per container and other logging improvements\n\nFile-per-image build logging into a directory.\nLogging into a new timestamped directory by default.\nNew config parameter ""logging-dir"" for log directory specification.\nConfig parameter ""no-file-logging"" for logging all to stdout.\nBuild progress display on ansi-compatible terminals.\nLogging of elapsed times during build.\nTimestamps and additional infos logged in debug mode.\nAdditional minor build log improvements.\n\nChange-Id: I9e17865cf829595986a3b160ff1a327e703e2354\nImplemets: blueprint build-logging-per-container\nPartial-Bug: #1546718\nSigned-off-by: Martin Maty <martinx.maty@intel.com>\n'}, {'number': 2, 'created': '2016-05-06 18:18:02.000000000', 'files': ['kolla/common/config.py', 'kolla/cmd/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/e245fff6ad13b875a9537af64733d9d90a04fa98', 'message': 'Build logging per container and other logging improvements\n\nFile-per-image build logging into a directory.\nLogging into a new timestamped directory by default.\nNew config parameter ""logging-dir"" for log directory specification.\nConfig parameter ""no-file-logging"" for logging all to stdout.\nBuild progress display on ansi-compatible terminals.\nLogging of elapsed times during build.\nTimestamps and additional infos logged in debug mode.\nAdditional minor build log improvements.\n\nChange-Id: I9e17865cf829595986a3b160ff1a327e703e2354\nImplemets: blueprint build-logging-per-container\nPartial-Bug: #1546718\nSigned-off-by: Martin Maty <martinx.maty@intel.com>\n'}]",2,306207,e245fff6ad13b875a9537af64733d9d90a04fa98,16,8,2,21061,,,0,"Build logging per container and other logging improvements

File-per-image build logging into a directory.
Logging into a new timestamped directory by default.
New config parameter ""logging-dir"" for log directory specification.
Config parameter ""no-file-logging"" for logging all to stdout.
Build progress display on ansi-compatible terminals.
Logging of elapsed times during build.
Timestamps and additional infos logged in debug mode.
Additional minor build log improvements.

Change-Id: I9e17865cf829595986a3b160ff1a327e703e2354
Implemets: blueprint build-logging-per-container
Partial-Bug: #1546718
Signed-off-by: Martin Maty <martinx.maty@intel.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/07/306207/2 && git format-patch -1 --stdout FETCH_HEAD,"['kolla/common/config.py', 'kolla/cmd/build.py']",2,9a849953d4d81eb519b0c71b5c2c1afd44e4d503,bug/1546718,"# does stdout support ansi? If so, updated progress status is displayed ANSI = hasattr(sys.stdout, ""isatty"") and sys.stdout.isatty() # for log output targets ROOT = ""kolla"" STDOUT = ""stdout"" STDERR = ""stderr"" def time_since_str(tm): return time.strftime(""%H:%M:%S"", time.gmtime(time.time()-tm)) class KollaBuildLogger(logging.Logger): """"""Logger adapted for per-image logging. Instances can get loggers and log following ways: - LOG.info(...), LOG.debug(...) -> using root logger - LOG(channel1, channel2, ..).info(...) -> using channel loggers """""" def __init__(self): self.is_push = False self._log_level = logging.INFO self._loggers = dict() self._dir_name = None self._generate_self_logger() self._images = {} self._first_progress = True self._printing = threading.Lock() def __call__(self, *destinations): """"""Returns logger when calling LOG(dest1, dest2, ...) """""" return self._get_logger(*destinations) def _generate_self_logger(self): """"""Sets logger for calling LOG.info(...) etc. """""" lg = self._get_logger() for key, value in lg.__dict__.items(): setattr(self, key, value) def setLevel(self, lvl): """"""Sets logging level for all associated loggers. """""" self._log_level = lvl super(KollaBuildLogger, self).setLevel(lvl) for logger in self._loggers.values(): logger.setLevel(lvl) def set_file_logging(self, dir_name=None): """"""Switches on file logging into dir_name directory. """""" if dir_name is None: dir_name = 'logs-{}'.format(time.strftime('%Y%m%d%H%M%S', time.localtime())) try: os.makedirs(dir_name) except OSError as e: if e.errno != errno.EEXIST: raise self._dir_name = dir_name self._generate_self_logger() def is_file_logging(self): return self._dir_name is not None def _get_log_handler(self, name): if name == STDOUT: return logging.StreamHandler(sys.stdout) elif name == STDERR: return logging.StreamHandler(sys.stderr) else: return logging.FileHandler( os.path.join(self._dir_name, '{}.log'.format(name))) def _get_log_formatter(self, name, images): if self._log_level == logging.DEBUG and name not in {STDOUT, STDERR}: log_format_prefix = '[%(asctime)s][%(levelname)s]' \ '[%(name)s][%(filename)s][%(lineno)s]' \ '[%(funcName)s]' else: log_format_prefix = '' if name in {ROOT, STDOUT, STDERR} \ and len(images) > 0: formatter = logging.Formatter( '{}[{}]%(message)s'.format(log_format_prefix, ','.join(images))) else: formatter = logging.Formatter( '{}%(message)s'.format(log_format_prefix)) return formatter def _get_logger(self, *destinations): """"""Returns respective logger based on given destinations. Creates a new logger if not exists already. """""" dest_names = set() if len(destinations) == 0: # if no explicit destinations - log to root logger dest_names.add(ROOT) if ROOT in destinations and not ANSI: # no ansi candies possible -> send root logger also to stdout dest_names.add(STDOUT) image_names = set() for dest in destinations: if isinstance(dest, dict): # destination is an image dict, get 'name' from it dest_names.add(dest['name']) image_names.add(dest['name']) else: # if not, channel must be string then dest_names.add(dest) if {STDOUT, STDERR} & dest_names: # any of them in dest_names? # make sure it logs also to root channel dest_names.add(ROOT) # channel name as combination of destinations # for identification/caching channel_name = '-'.join(dest_names) if not self.is_file_logging(): # no file logging - ensure stdout and # remove all other destinations # as they would need files dest_names.add(STDOUT) dest_names = dest_names & {STDOUT, STDERR} try: # try whether such channel exists already logger = self._loggers[channel_name] except KeyError: logger = logging.getLogger(channel_name) for dest_name in dest_names: fh = self._get_log_handler(dest_name) formatter = self._get_log_formatter(dest_name, image_names) fh.setFormatter(formatter) fh.setLevel(self._log_level) logger.addHandler(fh) logger.setLevel(self._log_level) self._loggers[channel_name] = logger return logger def record_status(self, image, status, log=True): """"""Records image status Output gous to ansi stdout (if it supports ansi) and to image loggers """""" if image['status'] == 'unmatched': return self._printing.acquire() self._log_status(status, image) if status == 'rebuilding': status = 'building' self._images[image['name']] = status if log and ANSI and self._dir_name is not None: if not self._first_progress: for _ in range(self._dlines()): six.print_('\x1b[A\x1b[2K', end='', flush=True) self._first_progress = False six.print_('{}'.format(self._get_log_overview()), flush=True) self._printing.release() def _dlines(self): return 7 if self.is_push else 4 def _log_status(self, status, image): """"""Logs image status to respective log channels."""""" if status == 'waiting': self._get_logger(image, ROOT).debug('Image identified for build') elif status == 'rebuilding': self._get_logger(image, ROOT).warning('Build failed, rebuilding') elif status == 'building': image['tm_start_build'] = time.time() self._get_logger(image, ROOT).info('Build started') elif status == 'built': self._get_logger(image, ROOT).info('Image built successfully') self._get_logger(image).debug( 'Build time: %s', time_since_str(image['tm_start_build'])) elif status == 'build_err': self._get_logger(image, ROOT).warning('Image build failed') elif status == 'pushing': image['tm_start_push'] = time.time() self._get_logger(image, ROOT).info('Push started') elif status == 'pushed': self._get_logger(image, ROOT).info( 'Image pushed into docker registry successfully') self._get_logger(image).debug( 'Push time: %s', time_since_str(image['tm_start_push'])) elif status == 'push_err': self._get_logger(image, ROOT).warning('Image push failed') def _present(self, status): """"""Presents status for ansi stdout disply."""""" if status in ('parent_error',): status = 'built_err' sublist = [name for name, st in self._images.items() if st == status] ln = len(sublist) if ln == 0: ret = '' elif ln == 1: ret = sublist[0] elif ln == 2: ret = ', '.join(sublist) else: ret = '{} ({}, ...)'.format(ln, ', '.join(sublist[-2:])) if 'err' in status: # error - display in red ret = '\x1b[31m{}\x1b[0m'.format(ret) elif self.is_push and status == 'pushed' or \ not self.is_push and status == 'built': # finished - display in green ret = '\x1b[32m{}\x1b[0m'.format(ret) return ret def _get_log_overview(self): """"""Returns status overview for ansi stdout display."""""" overview = 'Waiting : {}\nBuilding : {}\nBuilt : {}\n' \ 'Build ERR: {}'.format( self._present('waiting'), self._present('building'), self._present('built'), self._present('build_err')) if self.is_push: overview += '\nPushing : {}\nPushed : {}\nPush ERR : {}'.format( self._present('pushing'), self._present('pushed'), self._present('push_err')) return overview # global logger instance LOG = KollaBuildLogger() LOG.record_status(image, 'pushing') LOG(image, ROOT).exception('Make sure Docker is running and' ' that you have the correct' ' privileges to run Docker' ' (root)') if ""error"" in image['status']: LOG.record_status(image, 'push_err') else: LOG.record_status(image, 'pushed') LOG(image).info('%s', stream['stream']) LOG(image).error(stream['errorDetail']['message']) LOG(image).debug('Added child %s to build queue', child['name']) LOG(child, ROOT).debug('Added to build queue') LOG.record_status(image, 'building') LOG.record_status(image, 'rebuilding') if ""error"" not in image['status']: LOG.record_status(image, 'built') else: LOG.record_status(image, 'build_err') LOG(image).debug(""Getting archive from %s"", source['source']) LOG(image, ROOT).exception('Request timed out while getting ' 'archive from %s', source['source']) LOG(image, ROOT).error('Failed to download archive:' ' status_code %s', r.status_code) LOG(image).debug(""Cloning from %s"", source['source']) LOG(image).debug(""Git checkout by reference %s (%s)"", source['reference'], reference_sha) except Exception as e: LOG(image, ROOT).error(""Failed to get source from git"") LOG(image, ROOT).error(""Error:%s"", str(e)) LOG(image).debug(""Getting local archive from %s"", source['source']) LOG(image, ROOT).error(""Wrong source type '%s'"", source.get('type')) if image['status'] == 'unmatched': LOG(image).debug('Image is not matched by build filter') LOG(image).debug('Build processing started') LOG(image, ROOT).error('Parent image %s error\'d with ' 'message ""%s""', image['parent']['name'], image['parent']['status']) LOG(image).info('Directory %s already exist. Skipping', plugins_path) else: LOG(image, ROOT).error('Failed to create directory %s: %s', plugins_path, e) LOG(image).info('Docker:%s', line) image['logs'] = image['logs'] + \ stream['errorDetail']['message'] LOG(image).error('Error\'d with the following message') LOG(image).error('%s', line) LOG(image, ROOT).debug('Image added to push queue') LOG.debug(""namespace = %s"", self.namespace) self.start_time = time.time() LOG.debug('Found the docker image folder at %s', image_path) ts = datetime.datetime.fromtimestamp( self.start_time).strftime('%Y-%m-%d_%H-%M-%S_') LOG(STDERR).error(""[%s] failed with the following logs"", image['name']) LOG(STDERR).error(""[%s] %s"", image['name'], ''.join(line)) LOG(STDOUT).info(""Successfully built images"") LOG(STDOUT).info(""========================="") for name in self.image_statuses_good.keys(): LOG(STDOUT).info(name) LOG(STDOUT).info(""Images that failed to build"") LOG(STDOUT).info(""==========================="") for name, status in self.image_statuses_bad.items(): LOG(STDOUT).error('%s Failed with status: %s', name, status) LOG(STDOUT).debug(""Images not matched for build by regex"") LOG(STDOUT).debug(""====================================="") for name in self.image_statuses_unmatched.keys(): LOG(STDOUT).debug(name) LOG(STDOUT).debug(""Build took %s"", time_since_str(self.start_time)) LOG(image).debug('Image identified') for image in self.images: if image['status'] == 'matched': LOG.record_status(image, ""waiting"", log=False) LOG(image, ROOT).debug('Image added to build queue') LOG.is_push = conf.push LOG.setLevel(logging.DEBUG if conf.debug else logging.INFO) if not conf.no_file_logging: LOG.set_file_logging(conf.logging_dir)","logging.basicConfig() LOG = logging.getLogger(__name__) LOG.setLevel(logging.INFO) LOG.debug('%s:Try to push the image', image['name']) LOG.exception('%s:Make sure Docker is running and that you' ' have the correct privileges to run Docker' ' (root)', image['name']) if ""error"" not in image['status']: LOG.info('%s:Pushed successfully', image['name']) LOG.info('%s', stream['stream']) LOG.error(stream['errorDetail']['message']) LOG.debug('%s:Added image to queue', child['name']) LOG.debug('%s:Processed', image['name']) LOG.debug(""%s:Getting archive from %s"", image['name'], source['source']) LOG.exception('Request timed out while getting archive' ' from %s', source['source']) LOG.error('%s:Failed to download archive: status_code %s', image['name'], r.status_code) LOG.debug(""%s:Cloning from %s"", image['name'], source['source']) LOG.debug(""%s:Git checkout by reference %s (%s)"", image['name'], source['reference'], reference_sha) except Exception as e: LOG.error(""%s:Failed to get source from git"", image['name']) LOG.error(""%s:Error:%s"", image['name'], str(e)) LOG.debug(""%s:Getting local archive from %s"", image['name'], source['source']) LOG.error(""%s:Wrong source type '%s'"", image['name'], source.get('type')) LOG.debug('%s:Processing', image['name']) if image['status'] == 'unmatched': LOG.error('%s:Parent image error\'d with message ""%s""', image['name'], image['parent']['status']) LOG.info('%s:Building', image['name']) LOG.info('Directory %s already exist. Skipping.', plugins_path) else: LOG.error('Failed to create directory %s: %s', plugins_path, e) LOG.info('%s:%s', image['name'], line) LOG.error('%s:Error\'d with the following message', image['name']) LOG.error('%s:%s', image['name'], line) LOG.info('%s:Built', image['name']) LOG.info('Found the docker image folder at %s', image_path) ts = time.time() ts = datetime.datetime.fromtimestamp(ts).strftime('%Y-%m-%d_%H-%M-%S_') LOG.debug(""%s:Failed with the following logs"", image['name']) LOG.debug(""%s:%s"", image['name'], ''.join(line)) LOG.info(""Successfully built images"") LOG.info(""========================="") for name in self.image_statuses_good.keys(): LOG.info(name) LOG.info(""Images that failed to build"") LOG.info(""==========================="") for name, status in self.image_statuses_bad.items(): LOG.error('%s Failed with status: %s', name, status) LOG.debug(""Images not matched for build by regex"") LOG.debug(""====================================="") for name in self.image_statuses_unmatched.keys(): LOG.debug(name) LOG.debug('%s:Added image to queue', image['name']) if conf.debug: LOG.setLevel(logging.DEBUG)",307,59
openstack%2Fkolla~master~I33ee3326d008200f104ca99a2ec0603ff1b51f4b,openstack/kolla,master,I33ee3326d008200f104ca99a2ec0603ff1b51f4b,Add squid cache proxy to speed up build,ABANDONED,2017-11-20 08:17:30.000000000,2021-07-09 16:25:21.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 9061}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-11-20 08:17:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a049dfa312df5f6a2cce3b041015b553c192ba86', 'message': 'Add squid cache proxy to speed up build\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 2, 'created': '2017-11-20 08:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/eb9cae2b9e013145fe870bf7f8e9e3966e42ece7', 'message': 'Add squid cache proxy to speed up build\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 3, 'created': '2017-11-20 08:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e71ae3ee9f66cddf3b37935022fef5b8fbf60103', 'message': 'Add squid cache proxy to speed up build\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 4, 'created': '2017-11-20 09:19:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dcd63d064ff5747280fa80949b0268bdd1e9c5b8', 'message': 'Add squid cache proxy to speed up build\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 5, 'created': '2017-11-20 15:26:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/772ec010f45465ce3e00a6f94523a15a1974d7bf', 'message': 'Add squid cache proxy to speed up build\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 6, 'created': '2017-11-21 06:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/627cf22978420d4a374214962cfadad8dbdee056', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 7, 'created': '2017-11-21 07:04:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/62d04aee08361b3a0d91766610e25c8aa41a0a9b', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 8, 'created': '2017-11-21 07:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/93671aa537e9394e0bc9f5b83c0dc7b20f774bca', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 9, 'created': '2017-11-21 08:06:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1bb189e1bb1d0efce331f55edc1c245246917658', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 10, 'created': '2017-11-21 08:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/152316f47bdbd461f7ab1d925762adbf6ee47d82', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 11, 'created': '2017-11-21 09:10:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6cf7cd5d9614a9a5d64a56f5e3f61a7b71184ea3', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 12, 'created': '2017-11-22 02:45:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27f35e27bb5ea9d222636de53f0ea4f086b61373', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 13, 'created': '2017-11-22 02:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84fb1e9c2dbe2a53e071b66edead4b856817e694', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 14, 'created': '2017-11-22 04:20:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/331c33718f4cf92c9cfad8bc225a7e17a5d739e4', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 15, 'created': '2017-11-22 11:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9069239cb657d5dd38c2fbad4a35d7b0babd1b1f', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 16, 'created': '2017-11-22 14:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e9f315baa8b9feb2c79679500963265d2c2db85d', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 17, 'created': '2017-11-22 16:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8e37f33514c8af1f97957dda064c82c0145a5203', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 18, 'created': '2017-11-22 17:07:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1069808ef8aa466598c03846171e3d455f75dfde', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 19, 'created': '2017-11-22 17:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0247640d5184386a31002ac1651543ffe182be9e', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 20, 'created': '2017-11-22 18:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/201cdb177dae767863a00f2686c3d3fdbcaae82f', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 21, 'created': '2017-11-23 00:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dcc862f0aa5864f725d8b28e8b33b7b06c951dfc', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 22, 'created': '2017-11-23 01:05:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/51c8397db5872b67b21e6fce0d57aafde885b2f7', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 23, 'created': '2017-11-23 02:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/450d0e06879a18e45aa88e634a8927293af16d32', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 24, 'created': '2017-11-23 05:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2de566d0dbb1d2f69af8c1447aadf5b4b9342466', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 25, 'created': '2017-11-23 09:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bd860e486df93509292ea55fc8568a10bcea7c96', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 26, 'created': '2017-11-24 02:40:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5836859adc6c1d6726fe6595b8312c73742a9322', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 27, 'created': '2017-11-24 03:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b9f0438d3ddadbae253062b5568c0e10cb1589b9', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 28, 'created': '2017-11-24 08:51:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/79bd75db10953ca6232220b4934385a76cca59d9', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 29, 'created': '2017-11-24 09:09:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/93007aae78cd4fc75659f6d70e7543523096c0d4', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 30, 'created': '2017-11-27 01:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0d6027e4e00b3c4164f531347f60dd60a39771de', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 31, 'created': '2017-11-27 12:49:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fbf7c85c29e01bd122520db3541599a2389ba1db', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 32, 'created': '2017-11-27 16:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a9d48fc5400b48051f288df450b7a9943bd521e0', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 33, 'created': '2017-11-28 04:35:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7a23357a2d8e12b0fd7d93fddde8a06a5ca92bed', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 34, 'created': '2017-11-28 10:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e0bf03790f61ed17dadc1ee4d5d71b9510d84f05', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 35, 'created': '2017-11-29 08:19:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/73f02994b6d746609da7295896e19447c8af828d', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 36, 'created': '2017-11-30 03:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ca7eb3f0fe15cebfe009d8939067b4b5fa76533c', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 37, 'created': '2017-11-30 04:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a0fdbe52297c7e621a1efac536e66782fbab4155', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 38, 'created': '2017-11-30 10:14:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/178758cd2989b68979c927252eb2f76a7abb373d', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 39, 'created': '2017-12-01 15:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/81c5db1228b8785dae970725a08022d9c8aa4b2e', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 40, 'created': '2017-12-04 10:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b1204288d993ecee412809574d8b3c5311e65ded', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 41, 'created': '2017-12-06 01:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/272ad31801590764924d39099cba06d8db92b300', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 42, 'created': '2017-12-06 02:16:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3653102704b78583339dfdb6582fe409fedb9fcc', 'message': 'Add squid cache proxy to speed up build\n\n- Add collectd to collect the node statistics\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}, {'number': 43, 'created': '2017-12-15 08:15:32.000000000', 'files': ['roles/squid/tasks/main.yml', 'tests/playbooks/pre.yml', 'tools/setup_Debian.sh', 'tests/templates/kolla-build.conf.j2', 'roles/squid/templates/squid.conf.j2', 'tools/setup_RedHat.sh', 'roles/squid/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d0ed399fd595ac2beca09cf0271252c55d769af2', 'message': 'Add squid cache proxy to speed up build\n\nIn the kolla ci, add squid cache proxy to speed up the image building\n\nThis is only intent to be used in kolla ci environement.\n\nChange-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b\n'}]",3,521450,d0ed399fd595ac2beca09cf0271252c55d769af2,121,6,43,7488,,,0,"Add squid cache proxy to speed up build

In the kolla ci, add squid cache proxy to speed up the image building

This is only intent to be used in kolla ci environement.

Change-Id: I33ee3326d008200f104ca99a2ec0603ff1b51f4b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/50/521450/17 && git format-patch -1 --stdout FETCH_HEAD,"['roles/squid/tasks/main.yml', 'tests/playbooks/pre.yml', 'tests/templates/kolla-build.conf.j2', 'roles/squid/templates/squid.conf.j2', 'roles/squid/defaults/main.yml', 'roles/squid/handlers/main.yml']",6,a049dfa312df5f6a2cce3b041015b553c192ba86,better_speed,- name: restart squid service service: name=squid state=restarted ,,37,1
openstack%2Fkolla~master~Ib201c2c170f67e4e5147c0c07fc942f09b3b708e,openstack/kolla,master,Ib201c2c170f67e4e5147c0c07fc942f09b3b708e,Remove /var/www/cgi-bin/keystone folder,ABANDONED,2018-03-26 07:44:38.000000000,2021-07-09 16:25:17.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-03-26 07:44:38.000000000', 'files': ['docker/keystone/keystone-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/5ead2fccb933f87f01f5dc8b1f6c669beb5075c0', 'message': 'Remove /var/www/cgi-bin/keystone folder\n\nUse the pbr generated wsgi binary file located in binary folder in\nkolla-ansible[1]. So the /var/www/cgi-bin/keystone folder is useless.\n\n[1]https://review.openstack.org/#/c/554169/\n\nChange-Id: Ib201c2c170f67e4e5147c0c07fc942f09b3b708e\n'}]",0,556381,5ead2fccb933f87f01f5dc8b1f6c669beb5075c0,4,2,1,9414,,,0,"Remove /var/www/cgi-bin/keystone folder

Use the pbr generated wsgi binary file located in binary folder in
kolla-ansible[1]. So the /var/www/cgi-bin/keystone folder is useless.

[1]https://review.openstack.org/#/c/554169/

Change-Id: Ib201c2c170f67e4e5147c0c07fc942f09b3b708e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/81/556381/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/keystone/keystone-base/Dockerfile.j2'],1,5ead2fccb933f87f01f5dc8b1f6c669beb5075c0,remove_wsgi_www_keystone,"RUN sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \RUN echo > /etc/apache2/ports.conf \ && mkdir -p /etc/keystone \ && chown -R keystone: /etc/keystone","RUN mkdir -p /var/www/cgi-bin/keystone \ && cp -a /usr/bin/keystone-wsgi-public /var/www/cgi-bin/keystone/main \ && cp -a /usr/bin/keystone-wsgi-admin /var/www/cgi-bin/keystone/admin \ && sed -i -r 's,^(Listen 80),#\1,' /etc/httpd/conf/httpd.conf \RUN mkdir -p /var/www/cgi-bin/keystone \ && cp -a /usr/bin/keystone-wsgi-public /var/www/cgi-bin/keystone/main \ && cp -a /usr/bin/keystone-wsgi-admin /var/www/cgi-bin/keystone/admin \ && echo > /etc/apache2/ports.conf \ && mkdir -p /etc/keystone /var/www/cgi-bin/keystone \ && cp /var/lib/kolla/venv/bin/keystone-wsgi-admin /var/www/cgi-bin/keystone/admin \ && cp /var/lib/kolla/venv/bin/keystone-wsgi-public /var/www/cgi-bin/keystone/main \ && chown -R keystone: /etc/keystone /var/www/cgi-bin/keystoneRUN chown -R keystone: /var/www/cgi-bin/keystone \ && chmod 755 /var/www/cgi-bin/keystone/* ",4,15
openstack%2Fkolla~master~I4dda1ee1a8ea8b22f018b0d9513201ed8c199509,openstack/kolla,master,I4dda1ee1a8ea8b22f018b0d9513201ed8c199509,Fix bug of rebuilding parent image even with 'skip-parents',ABANDONED,2018-02-11 09:29:35.000000000,2021-07-09 16:24:54.000000000,,"[{'_account_id': 1390}, {'_account_id': 8686}, {'_account_id': 21691}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-02-11 09:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c417e944b1349fd1cb5e20ab0e5439dd536cfaa2', 'message': ""Fix bug of rebuilding parent image even with 'skip-parents'\n\nConsider the case that build keystone with argument '--skip-parents'.\nCode deal with image 'keystone-base' firstly and set its status to\nSTATUS_MATCHED since self.images is not sorted.\nImage 'keystone-base' will be rebuilt that is not as expected.\n\nFix it to enable overwrite the status of parent image.\n\nChange-Id: I4dda1ee1a8ea8b22f018b0d9513201ed8c199509\n""}, {'number': 2, 'created': '2018-02-11 09:33:24.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0329496d656f251a7a985f9d7c9bbaa70aca8514', 'message': ""Fix bug of rebuilding parent image even with 'skip-parents'\n\nConsider the case that build keystone with argument '--skip-parents'.\nBecause self.images is not sorted, code maybe firstly deal with\nimage 'keystone-base' and set its status to STATUS_MATCHED.\nImage 'keystone-base' will be rebuilt that is not as expected.\n\nFix it to enable overwrite the status of parent image.\n\nChange-Id: I4dda1ee1a8ea8b22f018b0d9513201ed8c199509\n""}]",0,543209,0329496d656f251a7a985f9d7c9bbaa70aca8514,8,4,2,8686,,,0,"Fix bug of rebuilding parent image even with 'skip-parents'

Consider the case that build keystone with argument '--skip-parents'.
Because self.images is not sorted, code maybe firstly deal with
image 'keystone-base' and set its status to STATUS_MATCHED.
Image 'keystone-base' will be rebuilt that is not as expected.

Fix it to enable overwrite the status of parent image.

Change-Id: I4dda1ee1a8ea8b22f018b0d9513201ed8c199509
",git fetch https://review.opendev.org/openstack/kolla refs/changes/09/543209/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,c417e944b1349fd1cb5e20ab0e5439dd536cfaa2,, while image.parent is not None:," while (image.parent is not None and image.parent.status not in (STATUS_MATCHED, STATUS_SKIPPED)):",1,3
openstack%2Fkolla~master~I4e3ede7b1b18dbdabdc279331597c95e2fe254b1,openstack/kolla,master,I4e3ede7b1b18dbdabdc279331597c95e2fe254b1,Add ability to override defaults with local build configuration file,ABANDONED,2017-06-21 00:14:49.000000000,2021-07-09 16:24:45.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 5660}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 11869}, {'_account_id': 18737}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 24043}, {'_account_id': 25945}, {'_account_id': 27336}, {'_account_id': 28003}]","[{'number': 1, 'created': '2017-06-21 00:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d17cc8edb16bd5719f74dc22df3128b6319a510f', 'message': 'Add ability to override defaults with local build configuration file\n\nAdded passing of a configuration file when using a local build environment. The\nlocal config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),\nthen the global file if found (/etc/kolla/kolla-build.conf). If neither are\nfound then the normal default values will be used.\n\nChange-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1\nCloses-bug: #1699324\n'}, {'number': 2, 'created': '2017-06-21 18:08:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/585e85e19810a09864371440dbe66667aecb9992', 'message': 'Add ability to override defaults with local build configuration file\n\nAdded passing of a configuration file when using a local build environment. The\nlocal config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),\nthen the global file if found (/etc/kolla/kolla-build.conf). If neither are\nfound then the normal default values will be used.\n\nChange-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1\nCloses-bug: #1699324\n'}, {'number': 3, 'created': '2017-06-22 13:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d11d481994d4b3991a8f1d6fcc3922fe9a99ca27', 'message': 'Add ability to override defaults with local build configuration file\n\nAdded passing of a configuration file when using a local build environment. The\nlocal config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),\nthen the global file if found (/etc/kolla/kolla-build.conf). If neither are\nfound then the normal default values will be used.\n\nChange-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1\nCloses-bug: #1699324\n'}, {'number': 4, 'created': '2017-06-22 14:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3410c915c610f8b9c222855d4d89dc8c362a7c37', 'message': 'Add ability to override defaults with local build configuration file\n\nAdded passing of a configuration file when using a local build environment. The\nlocal config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),\nthen the global file if found (/etc/kolla/kolla-build.conf). If neither are\nfound then the normal default values will be used.\n\nChange-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1\nCloses-bug: #1699324\n'}, {'number': 5, 'created': '2017-08-09 21:49:06.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/c98cd81773edd2f1c73fdaeddbbb7fbbd4647a86', 'message': 'Add ability to override defaults with local build configuration file\n\nAdded passing of a configuration file when using a local build environment. The\nlocal config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),\nthen the global file if found (/etc/kolla/kolla-build.conf). If neither are\nfound then the normal default values will be used.\n\nChange-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1\nCloses-bug: #1699324\n'}]",12,475961,c98cd81773edd2f1c73fdaeddbbb7fbbd4647a86,38,14,5,5660,,,0,"Add ability to override defaults with local build configuration file

Added passing of a configuration file when using a local build environment. The
local config file will be used first (PROJECT_ROOT/etc/kolla/kolla-build.conf),
then the global file if found (/etc/kolla/kolla-build.conf). If neither are
found then the normal default values will be used.

Change-Id: I4e3ede7b1b18dbdabdc279331597c95e2fe254b1
Closes-bug: #1699324
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/475961/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,d17cc8edb16bd5719f74dc22df3128b6319a510f,local-config-file,"EXEC_FILENAME = os.path.realpath(__file__) os.path.dirname(EXEC_FILENAME), '../..'))def get_local_conf(): """""" Get the kolla build configuration file :return: The kolla-build.conf found at 1) local 2) system global in that order (allowing for local override), or None if no configuration files are found. """""" if 'build.py' in EXEC_FILENAME: print('build.py found!') if os.path.isfile(os.path.join(PROJECT_ROOT, 'etc/kolla/kolla-build.conf')): print('YES') config_file = ['../../etc/kolla/kolla-build.conf'] return config_file default_config_files = get_local_conf() print(default_config_files) common_config.parse(conf, sys.argv[1:], prog='kolla-build', default_config_files=default_config_files)"," os.path.dirname(os.path.realpath(__file__)), '../..')) common_config.parse(conf, sys.argv[1:], prog='kolla-build')",22,2
openstack%2Fkolla~master~I50f3e2b7890b26d50c9105ee21e3a617a644ab1f,openstack/kolla,master,I50f3e2b7890b26d50c9105ee21e3a617a644ab1f,Install psycopg2 by pip,ABANDONED,2018-06-19 06:19:10.000000000,2021-07-09 16:24:29.000000000,,"[{'_account_id': 7488}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-06-19 06:19:10.000000000', 'files': ['docker/openstack-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/47c28b9dbad5f9cc8048b933d45d8d63f0c30b6e', 'message': 'Install psycopg2 by pip\n\nThe psycopg2 wheel package will be renamed from release 2.8;\nin order to keep installing from binary please use ""pip install\npsycopg2-binary"" instead. For details see:\nhttp://initd.org/psycopg/docs/install.html#binary-install-from-pypi\n\nChange-Id: I50f3e2b7890b26d50c9105ee21e3a617a644ab1f\nCloses-Bug: #1777563\n'}]",1,576375,47c28b9dbad5f9cc8048b933d45d8d63f0c30b6e,4,2,1,19779,,,0,"Install psycopg2 by pip

The psycopg2 wheel package will be renamed from release 2.8;
in order to keep installing from binary please use ""pip install
psycopg2-binary"" instead. For details see:
http://initd.org/psycopg/docs/install.html#binary-install-from-pypi

Change-Id: I50f3e2b7890b26d50c9105ee21e3a617a644ab1f
Closes-Bug: #1777563
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/576375/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/openstack-base/Dockerfile.j2'],1,47c28b9dbad5f9cc8048b933d45d8d63f0c30b6e,bug/1777563," 'psycopg2-binary',"," 'python-psycopg2', 'python-psycopg2',",1,2
openstack%2Fkolla~master~Id6c58b33513a8d9f58b581e1c51a34079c72069c,openstack/kolla,master,Id6c58b33513a8d9f58b581e1c51a34079c72069c,Added a Nova guide,ABANDONED,2016-02-25 22:18:51.000000000,2021-07-09 16:24:21.000000000,,"[{'_account_id': 3}, {'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 7488}, {'_account_id': 10419}, {'_account_id': 16233}, {'_account_id': 18009}, {'_account_id': 22165}]","[{'number': 1, 'created': '2016-02-25 22:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fdb5ee4bfa70e0f3a79062a7b6cd7ad1bde1cc37', 'message': 'Added a Nova guide\n\nChange-Id: Id6c58b33513a8d9f58b581e1c51a34079c72069c\n'}, {'number': 2, 'created': '2016-02-25 22:22:04.000000000', 'files': ['doc/nova-guide.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6d00113384db179059e04c1ff1bddc2f9b231aa3', 'message': 'Added a Nova guide\n\nChange-Id: Id6c58b33513a8d9f58b581e1c51a34079c72069c\n'}]",13,284961,6d00113384db179059e04c1ff1bddc2f9b231aa3,19,8,2,8514,,,0,"Added a Nova guide

Change-Id: Id6c58b33513a8d9f58b581e1c51a34079c72069c
",git fetch https://review.opendev.org/openstack/kolla refs/changes/61/284961/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/nova-guide.rst'],1,fdb5ee4bfa70e0f3a79062a7b6cd7ad1bde1cc37,,"Nova in Kolla ============= Overview -------- Currently Kolla can deploy the nova services: - nova-api - nova-scheduler - nova-conductor - nova-consoleauth - nova-novncproxy - nova-spicehtml5proxy - nova-compute-ironic Post-Deployment Configurations ------------------------------ Setting Nova public key and quotas ---------------------------------- You will need to configure nova public key as follows: :: nova keypair-add --pub-key ~/.ssh/id_rsa.pub mykey Setting Nova quotas ------------------- As an example, if you would like to increase the quota to allow 40 m1.small instances to be created :: # Get admin user and tenant IDs ADMIN_USER_ID=$(openstack user list | awk '/ admin / {print $2}') ADMIN_PROJECT_ID=$(openstack project list | awk '/ admin / {print $2}') # 40 instances nova quota-update --instances 40 $ADMIN_PROJECT_ID nova quota-update --user $ADMIN_USER_ID --instances 40 $ADMIN_PROJECT_ID # 40 cores nova quota-update --cores 40 $ADMIN_PROJECT_ID nova quota-update --user $ADMIN_USER_ID --cores 40 $ADMIN_PROJECT_ID # 96GB ram nova quota-update --ram 96000 $ADMIN_PROJECT_ID nova quota-update --user $ADMIN_USER_ID --ram 96000 $ADMIN_PROJECT_ID ",,50,0
openstack%2Fkolla~master~I59c520cd8ce6ca259b7cdf06670439842a17d155,openstack/kolla,master,I59c520cd8ce6ca259b7cdf06670439842a17d155,Shrink the quickstart massively and break it into 2,ABANDONED,2016-07-16 15:54:49.000000000,2021-07-09 16:24:15.000000000,,"[{'_account_id': 1390}, {'_account_id': 2834}, {'_account_id': 9237}, {'_account_id': 10419}, {'_account_id': 11869}, {'_account_id': 15492}, {'_account_id': 16233}]","[{'number': 1, 'created': '2016-07-16 15:54:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3bb7dbcc79255ec1636766be1b9cff5b40fb47e1', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 2, 'created': '2016-07-27 20:39:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c620f34110474a7b7f64cad44f61b63ba2011ab3', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 3, 'created': '2016-08-05 15:36:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc73ffeb6d2017f9c398f5ba92fe59981242f9d8', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 4, 'created': '2016-08-10 15:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/46d85311266d69d1ee849902b7ea9862f9ec083c', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 5, 'created': '2016-08-17 15:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fd2b3f87aa2828d080bb762e7b8fc2e5cc648cbc', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 6, 'created': '2016-08-23 21:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/2e3dbbf80e71d1d5c5f443bf8b0ad693211932f7', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 7, 'created': '2016-08-26 21:03:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/775555a5429f245efa93df5ea7868c52508580ee', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 8, 'created': '2016-08-26 21:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/00d558e0b5052b6b7799457377e76b011d284b34', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}, {'number': 9, 'created': '2016-09-15 14:24:55.000000000', 'files': ['doc/quickstart/quickstart.rst', 'doc/useful-tools.rst', 'doc/troubleshooting.rst', 'doc/quickstart/quickstart-operators.rst', 'doc/index.rst', 'doc/quickstart/quickstart-developers.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0216014ab702267a09cd171f4d64cb5a31ec6de8', 'message': 'Shrink the quickstart massively and break it into 2\n\nThere are too many if else statments in our docs.\nThe operator quickstart guide will use pip while the\ndeveloper quickstart will clone kolla.\n\nPartially-implements: blueprint documentation-rework\n\nChange-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155\n'}]",97,343224,0216014ab702267a09cd171f4d64cb5a31ec6de8,42,7,9,10419,,,0,"Shrink the quickstart massively and break it into 2

There are too many if else statments in our docs.
The operator quickstart guide will use pip while the
developer quickstart will clone kolla.

Partially-implements: blueprint documentation-rework

Change-Id: I59c520cd8ce6ca259b7cdf06670439842a17d155
",git fetch https://review.opendev.org/openstack/kolla refs/changes/24/343224/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/quickstart.rst', 'doc/quickstart-operators.rst', 'doc/index.rst', 'doc/quickstart-developers.rst']",4,3bb7dbcc79255ec1636766be1b9cff5b40fb47e1,bp/documentation-rework,".. quickstart: =========== Quick Start =========== Install Kolla ============= To clone the Kolla repo: :: git clone https://git.openstack.org/openstack/kolla Kolla holds configurations files in ``etc/kolla``. Copy the configuration files to ``/etc``: :: cd kolla cp -r etc/kolla /etc/ Building Container Images ========================= The Kolla community builds and pushes tested images for each tagged release of Kolla, but if running from master, it is recommended to build images locally. Checkout the :doc:`image-building` for more advanced build configuration. Before running the below instructions, ensure the docker daemon is running or the build process will fail. To build images using default parameters run: :: kolla-build n By default ``kolla-build`` will build all containers using CentOS as the base image and binary installation as base installation method. To change this behavior, please use the following parameters with ``kolla-build``: :: --base [ubuntu|centos|fedora|oraclelinux] --type [binary|source] If pushing to a local registry (recommended) use the flags: :: kolla-build --registry registry_ip_address:registry_ip_port --push Note ``--base`` and ``--type`` can be added to the above ``kolla-build`` command if different distributions or types are desired. It is also possible to build individual containers. As an example, if the glance containers failed to build, all glance related containers can be rebuilt as follows: :: kolla-build glance In order to see all available parameters, run: :: kolla-build -h For more information about building Kolla container images, check the detailed instruction in :doc:`image-building`. .. _deploying-kolla: Deploying Kolla =============== The Kolla community provides two example methods of Kolla deploy: *all-in-one* and *multinode*. The *all-in-one* deploy is similar to `devstack <http://docs.openstack.org/developer/devstack/>`__ deploy which installs all OpenStack services on a single host. In the *multinode* deploy, OpenStack services can be run on specific hosts. This documentation only describes deploying *all-in-one* method as most simple one. To setup *multinode* see the :doc:`multinode`. Each method is represented as an Ansible inventory file. More information on the Ansible inventory file can be found in the Ansible `inventory introduction <https://docs.ansible.com/intro_inventory.html>`__. All variables for the environment can be specified in the files: ``/etc/kolla/globals.yml`` and ``/etc/kolla/passwords.yml``. Generate passwords for ``/etc/kolla/passwords.yml`` using the provided ``kolla-genpwd`` tool. The tool will populate all empty fields in the ``/etc/kolla/passwords.yml`` file using randomly generated values to secure the deployment. Optionally, the passwords may be populate in the file by hand. :: kolla-genpwd Start by editing ``/etc/kolla/globals.yml``. Check and edit, if needed, these parameters: ``kolla_base_distro``, ``kolla_install_type``. These parameters should match what you used in the ``kolla-build`` command line. The default for ``kolla_base_distro`` is ``centos`` and for ``kolla_install_type`` is ``binary``. If you want to use ubuntu with source type, then you should make sure ``globals.yml`` has the following entries: :: kolla_base_distro: ""ubuntu"" kolla_install_type: ""source"" Please specify an unused IP address in the network to act as a VIP for ``kolla_internal_vip_address``. The VIP will be used with keepalived and added to the ``api_interface`` as specified in the ``globals.yml`` :: kolla_internal_vip_address: ""10.10.10.254"" The ``network_interface`` variable is the interface to which Kolla binds API services. For example, when starting up Mariadb it will bind to the IP on the interface list in the ``network_interface`` variable. :: network_interface: ""eth0"" The ``neutron_external_interface`` variable is the interface that will be used for the external bridge in Neutron. Without this bridge the deployment instance traffic will be unable to access the rest of the Internet. In the case of a single interface on a machine, a veth pair may be used where one end of the veth pair is listed here and the other end is in a bridge on the system. :: neutron_external_interface: ""eth1"" If using a local docker registry, set the ``docker_registry`` information where the local registry is operating on IP address 192.168.1.100 and the port 4000. :: docker_registry: ""192.168.1.100:4000"" For *all-in-one* deploys, the following commands can be run. These will setup all of the containers on the localhost. These commands will be wrapped in the kolla-script in the future. .. note:: even for all-in-one installs it is possible to use the docker registry for deployment, although not strictly required. First, check that the deployment targets are in a state where Kolla may deploy to them: :: kolla-ansible prechecks Verify that all required images with appropriate tags are available: :: kolla-ansible pull Run the deployment: :: kolla-ansible deploy If APIError/HTTPError is received from the neutron-dhcp-agent container, remove the container and recreate it: :: docker rm -v -f neutron_dhcp_agent kolla-ansible deploy In order to see all available parameters, run: :: kolla-ansible -h .. NOTE:: In case of deploying using the _nested_ environment (*eg*. Using Virtualbox VM's, KVM VM's), if your compute node supports hardware acceleration for virtual machines. For this, run the follow command in **compute node**: :: $ egrep -c '(vmx|svm)' /proc/cpuinfo If this command returns a value of **zero**, your compute node does not support hardware acceleration and you **must** configure libvirt to use **QEMU** instead of KVM. For this, change the **virt_type** option in the `[libvirt]` section of **nova-compute.conf** file inside the ``/etc/kolla/config/`` directory. :: [libvirt] virt_type=qemu A bare metal system with Ceph takes 18 minutes to deploy. A virtual machine deployment takes 25 minutes. These are estimates; different hardware may be faster or slower but should be near these results. After successful deployment of OpenStack, the Horizon dashboard will be available by entering IP address or hostname from ``kolla_external_fqdn``, or ``kolla_internal_fqdn``. If these variables were not set during deploy they default to ``kolla_internal_vip_address``. Useful tools ------------ After successful deployment of OpenStack, run the following command can create an openrc file ``/etc/kolla/admin-openrc.sh`` on the deploy node. Or view ``tools/openrc-example`` for an example of an openrc that may be used with the environment. :: kolla-ansible post-deploy After the openrc file is created, use the following command to initialize an environment with a glance image and neutron networks: :: source /etc/kolla/admin-openrc.sh kolla/tools/init-runonce Failures ======== Nearly always when Kolla fails, it is caused by a CTRL-C during the deployment process or a problem in the ``globals.yml`` configuration. To correct the problem where Operators have a misconfigured environment, the Kolla developers have added a precheck feature which ensures the deployment targets are in a state where Kolla may deploy to them. To run the prechecks, execute: :: kolla-ansible prechecks If a failure during deployment occurs it nearly always occurs during evaluation of the software. Once the Operator learns the few configuration options required, it is highly unlikely they will experience a failure in deployment. Deployment may be run as many times as desired, but if a failure in a bootstrap task occurs, a further deploy action will not correct the problem. In this scenario, Kolla's behavior is undefined. The fastest way during evaluation to recover from a deployment failure is to remove the failed deployment: On each node where OpenStack is deployed run: :: tools/cleanup-containers tools/cleanup-host The Operator will have to copy via scp or some other means the cleanup scripts to the various nodes where the failed containers are located. Any time the tags of a release change, it is possible that the container implementation from older versions won't match the Ansible playbooks in a new version. If running multinode from a registry, each node's Docker image cache must be refreshed with the latest images before a new deployment can occur. To refresh the docker cache from the local Docker registry: :: kolla-ansible pull Debugging Kolla =============== The container's status can be determined on the deployment targets by executing: :: docker ps -a If any of the containers exited, this indicates a bug in the container. Please seek help by filing a `launchpad bug`_ or contacting the developers via IRC. The logs can be examined by executing: :: docker exec -it heka bash The logs from all services in all containers may be read from ``/var/log/kolla/SERVICE_NAME`` If the stdout logs are needed, please run: :: docker logs <container-name> Note that most of the containers don't log to stdout so the above command will provide no information. To learn more about Docker command line operation please refer to `Docker documentation <https://docs.docker.com/reference/commandline/cli/>`__. When ``enable_central_logging`` is enabled, to view the logs in a web browser using Kibana, go to: :: http://<kolla_internal_vip_address>:<kibana_server_port> or http://<kolla_external_vip_address>:<kibana_server_port> and authenticate using ``<kibana_user>`` and ``<kibana_password>``. The values ``<kolla_internal_vip_address>``, ``<kolla_external_vip_address>`` ``<kibana_server_port>`` and ``<kibana_user>`` can be found in ``<kolla_install_path>/kolla/ansible/group_vars/all.yml`` or if the default values are overridden, in ``/etc/kolla/globals.yml``. The value of ``<kibana_password>`` can be found in ``/etc/kolla/passwords.yml``. Note: When you log in to Kibana web interface for the first time, you are prompted to create an index. Please create an index using the name ``log-*``. This step is necessary until the default Kibana dashboard is implemented in Kolla. .. _Docker Hub Image Registry: https://hub.docker.com/u/kolla/ .. _launchpad bug: https://bugs.launchpad.net/kolla/+filebug ",,674,636
openstack%2Fkolla~master~Ib9041d0ee5fec4367793bf111a95f7ed1d289ae4,openstack/kolla,master,Ib9041d0ee5fec4367793bf111a95f7ed1d289ae4,Add note to echo to let users know this is an exec,ABANDONED,2018-07-19 00:00:06.000000000,2021-07-09 16:23:54.000000000,,"[{'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 23717}]","[{'number': 1, 'created': '2018-07-19 00:00:06.000000000', 'files': ['docker/base/start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3533a6190976d2d99a79efac22561f0fdafc2f29', 'message': 'Add note to echo to let users know this is an exec\n\nChange-Id: Ib9041d0ee5fec4367793bf111a95f7ed1d289ae4\n'}]",3,583797,3533a6190976d2d99a79efac22561f0fdafc2f29,7,3,1,1297,,,0,"Add note to echo to let users know this is an exec

Change-Id: Ib9041d0ee5fec4367793bf111a95f7ed1d289ae4
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/583797/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/start.sh'],1,3533a6190976d2d99a79efac22561f0fdafc2f29,,"echo ""Running command: '${CMD}${ARGS:+ $ARGS}' (this command will replace the current one)""","echo ""Running command: '${CMD}${ARGS:+ $ARGS}'""",1,1
openstack%2Fkolla~master~I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2,openstack/kolla,master,I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2,Build and configure Kolla containers with 3rd party vendor drivers,ABANDONED,2018-05-09 16:23:06.000000000,2021-07-09 16:23:37.000000000,,"[{'_account_id': 1390}, {'_account_id': 6697}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22348}, {'_account_id': 22582}, {'_account_id': 28176}]","[{'number': 1, 'created': '2018-05-09 16:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/944d77b9e02c40a69abbb69401dcc8453fe1dbff', 'message': 'Building Kolla containers with 3rd party vendor drivers\n\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 2, 'created': '2018-05-09 16:29:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6040452d7b267e7b12dfb1da9c5c6b32610ee511', 'message': 'Building Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 3, 'created': '2018-06-12 19:19:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/014e39ce559aa72532666ba748e694af160ffacc', 'message': 'Building Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 4, 'created': '2018-07-03 18:44:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9d5e0bb0931f2a568f1c0d42ee07837963cfa94d', 'message': 'Building Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 5, 'created': '2018-07-09 18:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/663df99beede90d6c8c83a30b17b1966952e600a', 'message': 'Build and configure Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 6, 'created': '2018-07-10 19:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fc4fd19bdf41d03736fbe3c260e3e4d46fe33922', 'message': 'Build and configure Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}, {'number': 7, 'created': '2018-08-07 17:53:13.000000000', 'files': ['specs/ml2-vendor-drivers.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad2903b28857919f85c8e56e76ef39d997b22568', 'message': 'Build and configure Kolla containers with 3rd party vendor drivers\n\nImplements: blueprint kolla-vendor-drivers\nChange-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2\n'}]",20,567278,ad2903b28857919f85c8e56e76ef39d997b22568,23,9,7,6697,,,0,"Build and configure Kolla containers with 3rd party vendor drivers

Implements: blueprint kolla-vendor-drivers
Change-Id: I681d6a7b38b6cafe7ebe88a1a1f2d53943e1aab2
",git fetch https://review.opendev.org/openstack/kolla refs/changes/78/567278/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/ml2-vendor-drivers.rst'],1,944d77b9e02c40a69abbb69401dcc8453fe1dbff,bp/kolla-vendor-drivers,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode .. This template should be in ReSTructured text. The filename in the git repository should match the launchpad URL, for example a URL of https://blueprints.launchpad.net/kolla/+spec/awesome-thing should be named awesome-thing.rst . Please do not delete any of the sections in this template. If you have nothing to say for a whole section, just write: None For help with syntax, see http://sphinx-doc.org/rest.html To test out your formatting, see http://www.tele3.cz/jbar/rest/rest.html ============================================== Kolla containers with 3rd party vendor drivers ============================================== https://blueprints.launchpad.net/kolla/+spec/kolla-vendor-drivers The current Kolla infrastructure to build OpenStack container images does not include a common repeatable way to (re)build OpenStack based container images with 3rd party vendor drivers that reside outside of OpenStack. A big class of drivers that fall into this category are the Neutron ML2 drivers are that are currently not part of the Neutron Server code base and hence are not automatically included in the neutron-server container built by Kolla. Problem description =================== OpenStack vendors that currently use 3rd party ML2 vendor drivers in their OpenStack installations to configure their networking requirements cannot immediately use the capabilities that Kolla containers could bring to their OpenStack based clouds. This blueprint aims to come up with a consistent and repeatable way to build and publish Kolla containers which include one or more 3rd party vendor drivers in these containers. Many of these 3rd party vendor drivers in turn depend on other Python packages for them to work completely. This proposed change ensures that these external package dependencies are satisfied also. Use cases --------- 1. Neutron-server container built with 1 additional 3rd party ML2 driver. The container could either reside out-of-tree in the vendor's repo or published to Dockerhub. As per the currently understanding, it may not be possible to publish these ""custom"" containers to tarballs.openstack.org. 2. Provide a extensible and flexible framework for adding multiple 3rd party vendor drivers to the same container to allow for customers that have devices from multiple vendors in their OpenStack installation. Proposed change =============== Using helpful documentation provided in [1], the implementation aims to provide a way to build a neutron-server container from source using the template-override methodology. The implementation provides a way to build binary Kolla container images using the plugin-archive methodology also. This way the vendor can choose the option that works best for their use case. These changes can stay either within tree in Kolla or out-of-tree in the vendor repo based on the philosophy of the Kolla core team. Security impact --------------- A Kolla container built with out-of-tree 3rd party vendor code could be open to vulnarabilities introduced by this driver. So, it is imperative that the vendors that want to participate in this should provide CIs to prove the health of their containers. Performance Impact ------------------ Performance of the resulting deployment would be similar to a non-Kolla based OpenStack deployment running with these 3rd party vendor drivers. Implementation ============== Assignee(s) ----------- Primary assignee: Sandhya Dasu launchpad-id : sadasu Milestones ---------- Target Milestone for completion: Rocky-1 Work Items ---------- 1. Neutron-server container build working with template-override. 2. Neutron-server container build working with plugin-archive. 3. Decision on where the container build would reside. Testing ======= How are you proposing to test this feature. Documentation Impact ==================== References ========== [1] https://docs.openstack.org/kolla/latest/admin/image-building.html ",,114,0
openstack%2Fkolla~master~I7856c9da38c33fec05aecff7f75410efaadfbf61,openstack/kolla,master,I7856c9da38c33fec05aecff7f75410efaadfbf61,Changes required to support netwoking-cisco,ABANDONED,2018-03-12 18:51:54.000000000,2021-07-09 16:23:29.000000000,,"[{'_account_id': 24}, {'_account_id': 1390}, {'_account_id': 6638}, {'_account_id': 6697}, {'_account_id': 7488}, {'_account_id': 9820}, {'_account_id': 12398}, {'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 21691}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 23717}, {'_account_id': 26285}, {'_account_id': 27781}]","[{'number': 1, 'created': '2018-03-12 18:51:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/20edefcea08605fe570ea752d24dfc11c0b51049', 'message': 'Changes required to support netwoking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 2, 'created': '2018-03-12 19:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0209d58dcd28dbf35180ec09f11551b7a7225e2c', 'message': 'Changes required to support netwoking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 3, 'created': '2018-03-19 20:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c9fc2b13335428dc6fea5bd68d8847e2ec3c9f53', 'message': 'Changes required to support netwoking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 4, 'created': '2018-03-21 20:34:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5774060920cc9d47120499ed693e0f9904e5fdc0', 'message': 'Changes required to support netwoking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 5, 'created': '2018-04-05 19:07:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/4d211dfd08da342fb24ab9850a02f0e1a619458e', 'message': 'Changes required to support netwoking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 6, 'created': '2018-07-11 17:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/51554babc541e9fc0b548c18794e08a3a5280355', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override\n2. container build using plugins-archive\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 7, 'created': '2018-07-12 19:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/991c86c7ef45c1d79b10cba25f3b3f3bdfbc5021', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 8, 'created': '2018-07-16 20:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/9dcf4e1a4101f776b2c795a7eac955406177ca33', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 9, 'created': '2018-07-18 18:27:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6b3b5090f8b4e746f6cb5a213cd9a4a1b02def88', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 10, 'created': '2018-08-09 15:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/da1d4b709e61a4b096e6f6b9a8068f112c84fe63', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 11, 'created': '2018-08-14 14:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e6513ac3e5220a0b2a1c595fcf2d616d3272cbfa', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 12, 'created': '2018-08-20 18:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/95634958d2b1a87db4371b5bb8aa774f665ac360', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 13, 'created': '2018-08-21 20:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/388b1be2d46f87c439074ac1c6f866fbf5132660', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 14, 'created': '2018-08-28 15:43:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/74f202f3d4b318f8576b61a5b5bc4ffbb40b223d', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 15, 'created': '2018-09-04 16:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/36a71d1b74c2dd5652aeea22773f3caceb41874d', 'message': 'Changes required to support networking-cisco\n\n1. container build using template-override - changes in\ncontrib/template-override/networking-cisco.j2\n2. container build using plugins-archive - changes in\ndocker/neutron/neutron-server-networking-cisco/Dockerfile.j2\n\nTemplate-override file for networking-cisco has been added to\nthe contrib directory.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 16, 'created': '2018-10-24 17:12:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8d69d2ff2a0296e705513360c2d5dc11f7ab9fbd', 'message': 'Changes required to support netwoking-cisco\n\nA neurton-server container can be built with networking-cisco\ndrivers using the following template-override file. Kolla will\nnot automatically build this container.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}, {'number': 17, 'created': '2018-10-24 17:13:46.000000000', 'files': ['contrib/template-override/networking-cisco.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/74483b076b6d89fc73c2f24f10e307c0a4b05067', 'message': 'Changes required to support netwoking-cisco\n\nA neutron-server container can be built with networking-cisco\ndrivers using the following template-override file. Kolla will\nnot automatically build this container.\n\nChange-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61\n'}]",36,552119,74483b076b6d89fc73c2f24f10e307c0a4b05067,66,15,17,6697,,,0,"Changes required to support netwoking-cisco

A neutron-server container can be built with networking-cisco
drivers using the following template-override file. Kolla will
not automatically build this container.

Change-Id: I7856c9da38c33fec05aecff7f75410efaadfbf61
",git fetch https://review.opendev.org/openstack/kolla refs/changes/19/552119/17 && git format-patch -1 --stdout FETCH_HEAD,"['docker/neutron/netwoking-cisco/Dockerfile.j2', 'docker/neutron/netwoking-cisco/template-override.j2', 'docker/neutron/neutron-base/Dockerfile.j2']",3,20edefcea08605fe570ea752d24dfc11c0b51049,sadasu-dev," 'python-vmware-nsx', 'git', 'python-setuptools'", 'python-vmware-nsx',14,1
openstack%2Fkolla~master~Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e,openstack/kolla,master,Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e,Install rally-openstack instead of rally,ABANDONED,2018-11-19 10:44:34.000000000,2021-07-09 16:23:23.000000000,,"[{'_account_id': 13039}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-19 10:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7d77e9284b728e20d70cf2b6d44525664efe51b2', 'message': 'We need to install rally-openstack instead of rally package\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 2, 'created': '2018-11-19 11:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/35fca14442e99ac1213e5b9ed8af2573bb860da3', 'message': 'Install rally-openstack instead of rally\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 3, 'created': '2018-11-19 11:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8c6d1aa9eeffa94f998a35ce54821e9ce735ec07', 'message': 'We need to install rally-openstack instead of rally package\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 4, 'created': '2018-11-19 11:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/b0288a3a84b60650ebc5aab8435bd74c830bc365', 'message': 'Install rally-openstack instead of rally\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 5, 'created': '2018-11-21 01:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/c16aa3cca862cf087b71dd23e949bf0e7a7ced94', 'message': 'Install rally-openstack instead of rally\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 6, 'created': '2018-11-21 01:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3de4bb046349f2b6d41268f8b0147d1f080949a', 'message': 'Install rally-openstack instead of rally\nsince Openstack plugins moved to the separate package\n( see https://pypi.org/project/rally-openstack)\n\nBug: https://bugs.launchpad.net/kolla-ansible/+bug/1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 7, 'created': '2018-11-21 08:36:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7c92a37ef4c5eaa60a3f2a3432bd83cbf2c1e813', 'message': 'Install rally-openstack instead of rally\n\nSince Openstack plugins moved to the separate package,\nrally package doesnt work as its own. Install\nrally-openstack with plugins.\n( see https://pypi.org/project/rally-openstack)\n\nCloses-Bug: #1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}, {'number': 8, 'created': '2018-11-23 09:35:51.000000000', 'files': ['docker/rally/Dockerfile.j2', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d2aa0d33886c3ff667acf33dc0981c695cb768ca', 'message': 'Install rally-openstack instead of rally\n\nSince Openstack plugins moved to the separate package,\nrally package doesnt work as its own. Install\nrally-openstack with plugins.\n( see https://pypi.org/project/rally-openstack)\n\nCloses-Bug: #1803968\nChange-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e\n'}]",6,618728,d2aa0d33886c3ff667acf33dc0981c695cb768ca,23,3,8,28012,,,0,"Install rally-openstack instead of rally

Since Openstack plugins moved to the separate package,
rally package doesnt work as its own. Install
rally-openstack with plugins.
( see https://pypi.org/project/rally-openstack)

Closes-Bug: #1803968
Change-Id: Ic4aa2b1de28b49092aaa3f5b0f51055eb61ee99e
",git fetch https://review.opendev.org/openstack/kolla refs/changes/28/618728/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/rally/Dockerfile.j2', 'kolla/common/config.py']",2,7d77e9284b728e20d70cf2b6d44525664efe51b2,bug/1803968, 'location': ('$tarballs_base/rally-openstack/', 'location': ('$tarballs_base/rally/',4,4
openstack%2Fkolla~master~I0467484bc3352b662d3445cf39901eb43c258c50,openstack/kolla,master,I0467484bc3352b662d3445cf39901eb43c258c50,Add vitrage-persistor image,ABANDONED,2018-12-07 09:25:45.000000000,2021-07-09 16:23:15.000000000,,"[{'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-07 09:25:45.000000000', 'files': ['docker/vitrage/vitrage-persistor/Dockerfile.j2', 'docker/vitrage/vitrage-snmp-parsing/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7dc26500c900f9353b2ec80ef7c7d1db8a0765da', 'message': 'Add vitrage-persistor image\n\n- Add vitrage-persistor image.\n- Add vitrage-snmp-parsing image.\nReference:\nhttps://docs.openstack.org/releasenotes/vitrage/queens.html#new-features\n\nChange-Id: I0467484bc3352b662d3445cf39901eb43c258c50\n'}]",3,623431,7dc26500c900f9353b2ec80ef7c7d1db8a0765da,7,4,1,20663,,,0,"Add vitrage-persistor image

- Add vitrage-persistor image.
- Add vitrage-snmp-parsing image.
Reference:
https://docs.openstack.org/releasenotes/vitrage/queens.html#new-features

Change-Id: I0467484bc3352b662d3445cf39901eb43c258c50
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/623431/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/vitrage/vitrage-persistor/Dockerfile.j2', 'docker/vitrage/vitrage-snmp-parsing/Dockerfile.j2']",2,7dc26500c900f9353b2ec80ef7c7d1db8a0765da,vitrage_persistor_service,"FROM {{ namespace }}/{{ image_prefix }}vitrage-base:{{ tag }} LABEL maintainer=""{{ maintainer }}"" name=""{{ image_name }}"" build-date=""{{ build_date }}"" {% block vitrage_snmp_parsing_header %}{% endblock %} {% import ""macros.j2"" as macros with context %} {% if install_type == 'binary' %} {% if base_distro in ['centos', 'oraclelinux', 'rhel'] %} {% set vitrage_snmp_parsing_packages = [ 'openstack-vitrage-snmp-parsing' ] %} {{ macros.install_packages(vitrage_snmp_parsing_packages | customizable(""packages"")) }} {% elif base_distro in ['debian', 'ubuntu'] %} RUN echo '{{ install_type }} not yet available for {{ base_distro }}' \ && /bin/false {% endif %} {% endif %} {% block vitrage_snmp_parsing_footer %}{% endblock %} {% block footer %}{% endblock %} USER vitrage ",,60,0
openstack%2Fkolla~master~Ib6d86c5dfd9d28f14948446c053b442376105114,openstack/kolla,master,Ib6d86c5dfd9d28f14948446c053b442376105114,update source doc advanced-configuration.rst error character,ABANDONED,2016-11-11 03:22:34.000000000,2021-07-09 16:18:39.000000000,,"[{'_account_id': 1390}, {'_account_id': 11105}, {'_account_id': 19316}, {'_account_id': 20663}, {'_account_id': 22165}, {'_account_id': 24164}]","[{'number': 1, 'created': '2016-11-11 03:22:34.000000000', 'files': ['doc/advanced-configuration.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/60066ca4e3a0f1a9d7fbb3f0c05f2ca0530a9f95', 'message': 'update source doc advanced-configuration.rst error character\n\nadvanced-configuration.rst have a error character configurationso should be configuration so\n\nChange-Id: Ib6d86c5dfd9d28f14948446c053b442376105114\n'}]",2,396480,60066ca4e3a0f1a9d7fbb3f0c05f2ca0530a9f95,12,6,1,24118,,,0,"update source doc advanced-configuration.rst error character

advanced-configuration.rst have a error character configurationso should be configuration so

Change-Id: Ib6d86c5dfd9d28f14948446c053b442376105114
",git fetch https://review.opendev.org/openstack/kolla refs/changes/80/396480/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/advanced-configuration.rst'],1,60066ca4e3a0f1a9d7fbb3f0c05f2ca0530a9f95,,As <service>_port value is saved in different services' configuration so,As <service>_port value is saved in different services' configurationso,1,1
openstack%2Fkolla~master~If1aa7a0b59c88f129ccae733b7faaf79d1f772ea,openstack/kolla,master,If1aa7a0b59c88f129ccae733b7faaf79d1f772ea,Adds documentation of how to perform SR-IOV,ABANDONED,2016-06-03 18:07:53.000000000,2021-07-09 16:17:29.000000000,,"[{'_account_id': 1390}, {'_account_id': 5660}, {'_account_id': 10787}, {'_account_id': 14103}, {'_account_id': 16233}, {'_account_id': 19316}, {'_account_id': 20647}, {'_account_id': 22165}, {'_account_id': 23717}, {'_account_id': 26553}]","[{'number': 1, 'created': '2016-06-03 18:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/840b73181eaaae2e29565f245ccf25b046da89be', 'message': 'Adds documentation of how to perform SR-IOV\n\nPartial-Bug 1585777\n\nChange-Id: If1aa7a0b59c88f129ccae733b7faaf79d1f772ea\n'}, {'number': 2, 'created': '2017-08-09 02:42:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5f275bb71225ea2baba8267e610856d267b773d0', 'message': 'Adds documentation of how to perform SR-IOV\n\nPartial-Bug 1585777\n\nChange-Id: If1aa7a0b59c88f129ccae733b7faaf79d1f772ea\n'}]",14,325440,5f275bb71225ea2baba8267e610856d267b773d0,21,10,2,20647,,,0,"Adds documentation of how to perform SR-IOV

Partial-Bug 1585777

Change-Id: If1aa7a0b59c88f129ccae733b7faaf79d1f772ea
",git fetch https://review.opendev.org/openstack/kolla refs/changes/40/325440/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/pci-passthrough.rst'],1,840b73181eaaae2e29565f245ccf25b046da89be,bug/1585777,"PCI Passthrough =============== PCI Passthrough refers to a mechanism by which a VM can be given some level of control over a hardware PCI device on the hypervisor host. There are a few technologies that allow this to occur at the hardware level and each hypervisor implements them slightly differently. For the purposes of this documentation, we'll cover how Nova manages passthrough with KVM. .. WARNING:: At the moment, Kolla cannot perform SR-IOV passthrough, at least for physical functions (PF) (I have not tested virtual functions). The nova-libvirt container requires access to ``/dev/vfio/*`` in order to manage the pass-through. There is a pending `bug report`_ in Launchpad to address this. .. _bug report: https://bugs.launchpad.net/kolla/+bug/1585777 Background on PCI Passthrough ----------------------------- There are 3 distinct types of PCI passthrough in the KVM hypervisor: - Legacy KVM PCI Passthrough - SR-IOV Virtual Functions (VF) - SR-IOV Physical Functions (PF) Legacy KVM Passthrough ~~~~~~~~~~~~~~~~~~~~~~ Legacy KVM passthrough has been around for a long time, but presents problems for things like UEFI Secure Boot. The problem is that the address space to control the hardware given to the VM is afforded minimal enforcement. This means that there are no guarantees that the VM cannot manipulate the host operating system or potentially other VMs via `hardware manipulation`_. .. _hardware manipulation: http://theinvisiblethings.blogspot.com/2010/04/remotely-attacking-network-cards-or-why.html This mode does not appear to be supported in Nova anymore (confirmation needed). SR-IOV Virtual Functions ~~~~~~~~~~~~~~~~~~~~~~~~ Single-Root Input/Output Virtualization (SR-IOV) is a specification for PCI Express resource isolation originally intended for network function virtualization (NFV). NFV allows multiple VMs to share dedicated access to a network interface. Usually, this is implemented via VLAN segmentation by creating Virtual Functions (VF). Network cards that support virtual functions allow specification of how many through the driver in the host operating system. Some cards can allow up to 128 VFs. As of Linux Kernel 3.8.x and above, this number can be changed via the /sys filesystem interface to the driver. Prior to that, it must be determined at the time the driver is loaded. Neutron has the ability to map VFs to a given VLAN and physical network. The VF is mapped to a Neutron port and then provided to the VM. A key feature of SR-IOV, is that separation is enforced in the hardware implementation of Access Control Services (ACS). This function ensures that VF's cannot interact with each other without going through the root PCIe switch. This is important to ensure policies enforced by UEFI Secure Boot and Trusted eXecution Technology (TXT) can properly isolate VM resources from corrupting each other or even the host. For more in-depth reading on SR-IOV, see the Intel `SR-IOV Primer`. .. _SR-IOV Primer: http://www.intel.com/content/www/us/en/pci-express/pci-sig-sr-iov-primer-sr-iov-technology-paper.html SR-IOV Physical Functions ~~~~~~~~~~~~~~~~~~~~~~~~~ While SR-IOV was originally created for virtual functions and shared access to network interface hardware, the same technology can also be used to provide physical functions (PF) to virtual machines. This functionally works much like the legacy PCI passthrough, except the additional protections provided by SR-IOV are also in place to ensure VMs cannot manipulate memory locations that are not isolated to them. In contrast to VF's, when a PF is used, the entire card becomes dedicated to the virtual machine and cannot be shared. In fact, not even the host operating system will see it appear on the PCIe bus anymore. SR-IOV PF's are particularly useful for virtualization of network infrastructure where the VM may need an 802.1Q trunk or virtualization of network security infrastructure that require dedicated hardware for promiscuous mode access to the network card. Most recently, SR-IOV has been applied to GPUs as well, allowing for high-performance 3D graphics rendering in virtual machines. How to Implement in Nova ---------------------------------- #. Enable VT-d and SR-IOV in UEFI #. Enable SR-IOV in the kernel #. Identify hardware #. Configure Nova #. Configure Neutron (optional: needed for VF support) #. Configure the flavor Enable VT-d and SR-IOV in UEFI ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ This varies from system to system. See your system manual on how to enable this. Enable SR-IOV in Linux Kernel ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ As of RedHat 7.1 (and derivatives), SR-IOV is disabled by default. In order to activate it, you need to provide an argument to the IOMMU driver as a boot time parameter. For Intel processors on CentOS, perform the following and reboot. :: grubby --args=""intel_iommu=on"" --update-kernel=ALL Verify that IOMMU is enabled by running ``dmesg | grep -e IOMMU``. Specifically you are looking for the following: :: [ 0.000000] Intel-IOMMU: enabled Identify hardware ~~~~~~~~~~~~~~~~~ Identify the specific hardware you wish to enable for SR-IOV passthrough. Run ``lspci -nn`` to list all PCIe devices on the host. If you have multiple devices that use the same chipset (for instance multiple Intel 82599ES cards), but do not wish to pass all of them through to VMs, note the device addresses. Example output. :: 03:00.0 Ethernet controller [0200]: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection [8086:10fb] (rev 01) 03:00.1 Ethernet controller [0200]: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection [8086:10fb] (rev 01) 07:00.0 Ethernet controller [0200]: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection [8086:10fb] (rev 01) 07:00.1 Ethernet controller [0200]: Intel Corporation 82599ES 10-Gigabit SFI/SFP+ Network Connection [8086:10fb] (rev 01) 41:00.0 Ethernet controller [0200]: Intel Corporation Ethernet Controller 10-Gigabit X540-AT2 [8086:1528] (rev 01) 41:00.1 Ethernet controller [0200]: Intel Corporation Ethernet Controller 10-Gigabit X540-AT2 [8086:1528] (rev 01) The leftmost number is the device address (i.e. ``03:00.0``). The hexadecimal numbers to the right are the vendor id and product id, which we will need next. .. TIP:: If you are unsure which PCIe device is mapped to a given interface, the ``ethtool`` utility can reveal this for you. In this example, ``ens3f0`` is located at the PCIe address ``07:00.0`` above. :: ethtool -i ens3f0 | grep ^bus-info bus-info: 0000:07:00.0 Configure Nova ~~~~~~~~~~~~~~ Three Nova services must be configured to support SR-IOV: nova-compute, nova-scheduler, nova-api. In Kolla, we can do much of this in a single configuration file, however. On the deployment host, modify ``/etc/kolla/config/nova.conf`` to include the following (modified for your needs): :: [DEFAULT] # Configuration for nova-compute pci_passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb""}] # Configureation for nova-api pci_alias = {""name"": ""capture_nic"", ""vendor_id"": ""8086"", ""product_id"": ""10fb"", ""device_type"": ""type-PF""} # Configuration for nova-scheduler scheduler_available_filters=nova.scheduler.filters.all_filters scheduler_default_filters=RetryFilter,AvailabilityZoneFilter,RamFilter,ComputeFilter,ComputeCapabilitiesFilter,ImagePropertiesFilter,CoreFilter,PciPassthroughFilter The ``vendor_id`` and ``product_id`` are taken directly from the ``lspci`` output. The ``pci_passthrough_whitelist`` tells nova-compute which devices to add to the PCI devices that it reports to the database. If you want to limit which devices are selected by nova-compute, you can also specify an address. You can also add additional devices in the list. :: pci_passthrough_whitelist = [{""vendor_id"": ""8086"", ""product_id"": ""10fb"", ""address"": ""07:00.*""}, {""vendor_id"": ""8086"", ""product_id"": ""1528"", ""address"": ""41:00.01""}] .. NOTE:: If you are specifying bus address information and not all of your servers are exactly the same, or you only wish to target hardware on specific servers, you should put the pci_passthrough_whitelist portion of the configuration in ``/etc/kolla/config/nova/{{ inventory_hostname }}/nova.conf``. This will isolate the configuration to only that host. The ``pci_alias`` directive is used to translate metadata associated with a flavor to a given hardware specification. One item here that is specifically required for SR-IOV for PFs, is the ``device_type`` attribute. Without this, nova seems to assume a VF and the PciPassthroughFilter will indicate that no hosts are available. The ``name`` field is value that we will set as a flavor property to specify the hardware requirements. Finally, the show scheduler configuration is the default configuration with the addition of the ``PciPassthroughScheduler`` at the end of the list. The order of this list matters, as they will be evaluated in order. That is, if the ``RamFilter`` removes all hosts due to lack of available memory, the ```PciPassthroughFilter`` will not even be evaluated. Once the configuration is set on the deployment host, simply run ``kolla-ansible`` to reconfigure the cloud. :: kolla-ansible -i /etc/kolla/multinode-inventory reconfigure You can validate pieces of this are working through the logs on the compute hosts. As root, you can tail the nova-compute log in the docker volume. There will be an entry once the host restarts nova-compute that indicates the PCIe devices available. :: sudo tail -f /var/lib/docker/volumes/kolla_logs/_data/nova/nova-compute.log You can also verify the devices are in the database on the controller host. The password is ``database_password`` as found in ``/etc/kolla/passwords.yml`` on the deployment host. :: docker exec -it mariadb mysql -u root -p -D 'nova' -e 'select * from pci_devices where deleted_at is NULL' Configure Neutron ~~~~~~~~~~~~~~~~~ This is only needed for virtual function support. Neutron will associate a given VF to a port. When doing this, you must also modify the ``pci_passthrough_whitelist`` entry to identify which physical network the card belongs to. You can also optionally specify by network device name. :: pci_passthrough_whitelist = {""devname"": ""eth2"", ""physical_network"": ""physnet1""} .. NOTE:: I have not implemented SR-IOV VFs in Neutron, though this appears to be the most documented use of SR-IOV in OpenStack at this time. See the official OpenStack wiki article for more details: https://wiki.openstack.org/wiki/SR-IOV-Passthrough-For-Networking Configure the Flavor ~~~~~~~~~~~~~~~~~~~~ Next, we just use the openstack API client to create a new flavor and set the PCI passthrough requirements :: # Create a new flavor openstack flavor create m1.sensor \ --ram 8192 \ --disk 80 \ --vcpus 4 \ --rxtx-factor 1 # Specify pci-passthrough requirements openstack flavor set --property \ ""pci_passthrough:alias""=""capture_nic:1"" m1.sensor The alias is added as metadata to the flavor and can specify a comma-seperated set of requirements. The format is ``alias_name:quantity``, where quantity is how many devices the flavor requires. You should then be able to boot the server. :: openstack server create \ --image fedora23 \ --flavor m1.csos \ --security-group default \ --key-name dcode \ --nic net-id=5a5c5ae8-d662-4346-acfb-bf8b69994968 \ test-instance ",,268,0
openstack%2Ftenks~master~I045f9b0c222f2f35521319b3dc17c269f070e0dc,openstack/tenks,master,I045f9b0c222f2f35521319b3dc17c269f070e0dc,Test idempotence of deploy and teardown in CI,MERGED,2019-05-23 10:11:23.000000000,2021-07-09 16:05:07.000000000,2021-07-09 16:03:55.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-05-23 10:11:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/33a2526806b462461f421632a05cbea082996363', 'message': 'Test idempotence of deploy and teardown in CI\n\nNot currently checking for zero changed tasks (this would fail), but\nchecking we can at least run the playbooks a second time.\n\nChange-Id: I045f9b0c222f2f35521319b3dc17c269f070e0dc\n'}, {'number': 2, 'created': '2019-05-23 12:30:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/ef86a92c3a16cf1b0d8a59e826ed0f35d7316c8f', 'message': 'Test idempotence of deploy and teardown in CI\n\nNot currently checking for zero changed tasks (this would fail), but\nchecking we can at least run the playbooks a second time.\n\nChange-Id: I045f9b0c222f2f35521319b3dc17c269f070e0dc\n'}, {'number': 3, 'created': '2021-02-03 10:34:02.000000000', 'files': ['playbooks/tenks-deploy-teardown/run.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/f24d23346e1941a5865503686455a97751d256ea', 'message': 'Test idempotence of deploy and teardown in CI\n\nNot currently checking for zero changed tasks (this would fail), but\nchecking we can at least run the playbooks a second time.\n\nChange-Id: I045f9b0c222f2f35521319b3dc17c269f070e0dc\n'}]",0,660964,f24d23346e1941a5865503686455a97751d256ea,24,3,3,14826,,,0,"Test idempotence of deploy and teardown in CI

Not currently checking for zero changed tasks (this would fail), but
checking we can at least run the playbooks a second time.

Change-Id: I045f9b0c222f2f35521319b3dc17c269f070e0dc
",git fetch https://review.opendev.org/openstack/tenks refs/changes/64/660964/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tenks-deploy-teardown/run.yml'],1,33a2526806b462461f421632a05cbea082996363,test-idempotence," - name: Test idempotence of deploy shell: cmd: >- {{ ansible_playbook_bin }} -vvv --inventory ansible/inventory --extra-vars=@{{ tenks_overrides_path }} ansible/deploy.yml > {{ logs_dir }}/ansible/tenks-deploy chdir: ""{{ tenks_src_dir }}"" - name: Test idempotence of teardown shell: cmd: >- {{ ansible_playbook_bin }} -vvv --inventory ansible/inventory --extra-vars=@{{ tenks_overrides_path }} ansible/teardown.yml > {{ logs_dir }}/ansible/tenks-teardown chdir: ""{{ tenks_src_dir }}""",,18,0
openstack%2Frequirements~master~I73f5d0bd30afbbdbf962686ee1e4b5d2e45dbedb,openstack/requirements,master,I73f5d0bd30afbbdbf962686ee1e4b5d2e45dbedb,Deprecate os_panko role,MERGED,2021-07-07 12:36:13.000000000,2021-07-09 16:02:38.000000000,2021-07-09 16:00:24.000000000,"[{'_account_id': 8556}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 12:36:13.000000000', 'files': ['projects.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/46e7a07cf20af090865bfd75840c0d7ee00848e8', 'message': ""Deprecate os_panko role\n\nSince upstream project has retired, we're also deprecating role\nfor it's deployment.\n\nChange-Id: I73f5d0bd30afbbdbf962686ee1e4b5d2e45dbedb\n""}]",0,799801,46e7a07cf20af090865bfd75840c0d7ee00848e8,8,3,1,28619,,,0,"Deprecate os_panko role

Since upstream project has retired, we're also deprecating role
for it's deployment.

Change-Id: I73f5d0bd30afbbdbf962686ee1e4b5d2e45dbedb
",git fetch https://review.opendev.org/openstack/requirements refs/changes/01/799801/1 && git format-patch -1 --stdout FETCH_HEAD,['projects.txt'],1,46e7a07cf20af090865bfd75840c0d7ee00848e8,osa/deprecate_panko,,openstack/openstack-ansible-os_panko,0,1
openstack%2Fneutron~master~I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0,openstack/neutron,master,I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0,Check router routes connectivity when GW port is updated,MERGED,2021-05-05 17:27:33.000000000,2021-07-09 16:01:54.000000000,2021-07-09 15:59:53.000000000,"[{'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-05 17:27:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/23e2201a5439fde515a724618bd79604f20bdac2', 'message': 'Check router routes connectivity with external gateway\n\nTODO: testing, documentation, release note\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\nCloses-Bug: #1925368\n'}, {'number': 2, 'created': '2021-05-06 09:36:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d430fff1bf69f0af4fcad4f4ea40d89bf978bb89', 'message': 'Check router routes connectivity with external gateway\n\nReject any router route or gateway update if not all route nexthops\nhave connectivity with any gateway subnets CIDRs; in other words, all\nroute nexthops IP addresses should belong to one gateway subnet CIDR.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}, {'number': 3, 'created': '2021-05-20 17:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf38a191525f58b589d26372ec17bbae63bc870d', 'message': '[WIP] Check router routes connectivity with external gateway\n\nTODO: change commit message and LP description\n-=-----------------------------------------------------------\n\nReject any router route or gateway update if not all route nexthops\nhave connectivity with any gateway subnets CIDRs; in other words, all\nroute nexthops IP addresses should belong to one gateway subnet CIDR.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}, {'number': 4, 'created': '2021-05-24 09:22:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/62064d38f80cd0e95b14ebb306dc89f954061a81', 'message': 'Check router routes connectivity when GW port is updated\n\nWhen the router GW interface is updated or deleted, the routes should\nbe checked in other to prove all of them have connectivity to any of\nthe router interface subnets.\n\nIn a router, all routes nexthops must have connectivity with one\ninterface subnet. If not, this route cannot send the packets to this\nroute gateway; therefore this route becomes invalid.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}, {'number': 5, 'created': '2021-06-03 15:55:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e612b3c11890961adfea3dad4a20497a5a870b45', 'message': 'Check router routes connectivity when GW port is updated\n\nWhen the router GW interface is updated or deleted, the routes should\nbe checked in other to prove all of them have connectivity to any of\nthe router interface subnets.\n\nIn a router, all routes nexthops must have connectivity with one\ninterface subnet. If not, this route cannot send the packets to this\nroute gateway; therefore this route becomes invalid.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}, {'number': 6, 'created': '2021-06-09 17:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a475fd555906e19c5a751ec727cb3fe7fbd7aae8', 'message': 'Check router routes connectivity when GW port is updated\n\nWhen the router GW interface is updated or deleted, the routes should\nbe checked in other to prove all of them have connectivity to any of\nthe router interface subnets.\n\nIn a router, all routes nexthops must have connectivity with one\ninterface subnet. If not, this route cannot send the packets to this\nroute gateway; therefore this route becomes invalid.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}, {'number': 7, 'created': '2021-06-24 11:54:36.000000000', 'files': ['neutron/db/extraroute_db.py', 'neutron/db/l3_db.py', 'releasenotes/notes/validate-router-gw-and-routes-af45c89c52612028.yaml', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5fb5653ffe700a8f9fb0949d16ecbf0978b61fb6', 'message': 'Check router routes connectivity when GW port is updated\n\nWhen the router GW interface is updated or deleted, the routes should\nbe checked in other to prove all of them have connectivity to any of\nthe router interface subnets.\n\nIn a router, all routes nexthops must have connectivity with one\ninterface subnet. If not, this route cannot send the packets to this\nroute gateway; therefore this route becomes invalid.\n\nCloses-Bug: #1925368\n\nChange-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0\n'}]",16,789929,5fb5653ffe700a8f9fb0949d16ecbf0978b61fb6,56,5,7,16688,,,0,"Check router routes connectivity when GW port is updated

When the router GW interface is updated or deleted, the routes should
be checked in other to prove all of them have connectivity to any of
the router interface subnets.

In a router, all routes nexthops must have connectivity with one
interface subnet. If not, this route cannot send the packets to this
route gateway; therefore this route becomes invalid.

Closes-Bug: #1925368

Change-Id: I7ce93b863b0dc0d4a2376fcfd602d2facb6fb2d0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/29/789929/7 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_db.py'],1,23e2201a5439fde515a724618bd79604f20bdac2,bug/1925368," def _validate_gw_info(self, context, info, ext_ips, routes): if not network_id: return network_db = self._core_plugin._get_network(context, network_id) if not network_db.external: msg = _(""Network %s is not an external network"") % network_id raise n_exc.BadRequest(resource='router', msg=msg) if ext_ips: for subnet in network_db.subnets: if not subnet.gateway_ip: continue for ext_ip in ext_ips: if ext_ip.get('ip_address') == subnet.gateway_ip: msg = _(""External IP %s is the same as the "" ""gateway IP"") % ext_ip.get('ip_address') raise n_exc.BadRequest(resource='router', msg=msg) subnet_cidrs = [netaddr.IPNetwork(subnet.cidr) for subnet in network_db.subnets] disconnected_nexthops = [] for nexthop in {route.nexthop for route in routes}: for subnet_cidr in subnet_cidrs: if nexthop in subnet_cidr: break else: disconnected_nexthops.append(nexthop) if disconnected_nexthops: msg = _('The following route nexthops %s do not have connectivity ' 'with any external gateway network subnet CIDRs %s' % (disconnected_nexthops, subnet_cidrs)) raise n_exc.BadRequest(resource='router', msg=msg) network_id = self._validate_gw_info(context, info, ext_ips, router.route_list)"," def _validate_gw_info(self, context, gw_port, info, ext_ips): if network_id: network_db = self._core_plugin._get_network(context, network_id) if not network_db.external: msg = _(""Network %s is not an external network"") % network_id raise n_exc.BadRequest(resource='router', msg=msg) if ext_ips: subnets = self._core_plugin.get_subnets_by_network(context, network_id) for s in subnets: if not s['gateway_ip']: continue for ext_ip in ext_ips: if ext_ip.get('ip_address') == s['gateway_ip']: msg = _(""External IP %s is the same as the "" ""gateway IP"") % ext_ip.get('ip_address') raise n_exc.BadRequest(resource='router', msg=msg) network_id = self._validate_gw_info(context, gw_port, info, ext_ips)",37,18
openstack%2Frequirements~master~I707a9f82c83ba22970cb70a6302141dfca5403b5,openstack/requirements,master,I707a9f82c83ba22970cb70a6302141dfca5403b5,update constraint for oslo.utils to new release 4.9.2,MERGED,2021-07-09 12:40:24.000000000,2021-07-09 16:01:33.000000000,2021-07-09 16:00:09.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-09 12:40:24.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/06bacb7c0322283d3ed9a339675c5e3810d0d20f', 'message': 'update constraint for oslo.utils to new release 4.9.2\n\nmeta: version: 4.9.2\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Commit: Stephen Finucane <sfinucan@redhat.com>\nmeta: release:Change-Id: I8a595c2cf9d88dc12050912ead0024d0f1655a2e\nmeta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+1: yatin <ykarel@redhat.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I707a9f82c83ba22970cb70a6302141dfca5403b5\n'}]",0,800218,06bacb7c0322283d3ed9a339675c5e3810d0d20f,9,3,1,11131,,,0,"update constraint for oslo.utils to new release 4.9.2

meta: version: 4.9.2
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Stephen Finucane <sfinucan@redhat.com>
meta: release:Commit: Stephen Finucane <sfinucan@redhat.com>
meta: release:Change-Id: I8a595c2cf9d88dc12050912ead0024d0f1655a2e
meta: release:Code-Review+2: Herv Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+1: yatin <ykarel@redhat.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I707a9f82c83ba22970cb70a6302141dfca5403b5
",git fetch https://review.opendev.org/openstack/requirements refs/changes/18/800218/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,06bacb7c0322283d3ed9a339675c5e3810d0d20f,new-release,oslo.utils===4.9.2,oslo.utils===4.9.1,1,1
openstack%2Fopenstack-ansible-os_octavia~stable%2Fwallaby~I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1,openstack/openstack-ansible-os_octavia,stable/wallaby,I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1,Fix spelling error,MERGED,2021-07-09 09:38:01.000000000,2021-07-09 15:19:38.000000000,2021-07-09 15:18:17.000000000,"[{'_account_id': 21785}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-09 09:38:01.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/19bf040b67f03111cb205cb41bf03b5f5f2c205c', 'message': 'Fix spelling error\n\nThis patch fixes the spelling of octavia which is misspelled as octaiva.\n\nChange-Id: I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1\n'}]",0,799995,19bf040b67f03111cb205cb41bf03b5f5f2c205c,9,4,1,28619,,,0,"Fix spelling error

This patch fixes the spelling of octavia which is misspelled as octaiva.

Change-Id: I4dbc598ef0d085ac8c5656c52b9239ee69a1f4d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/95/799995/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,19bf040b67f03111cb205cb41bf03b5f5f2c205c,spell_error-stable/wallaby,"octavia_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""","octaiva_oslomsg_rpc_ssl_ca_file: ""{{ oslomsg_rpc_ssl_ca_file | default('') }}""",1,1
openstack%2Freleases~master~I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8,openstack/releases,master,I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8,[fuel] Transition Newton to End of Life,MERGED,2021-07-02 18:04:54.000000000,2021-07-09 15:05:49.000000000,2021-07-09 15:05:49.000000000,"[{'_account_id': 308}, {'_account_id': 15527}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-02 18:04:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9e56da048bbc971932597b89696668d381d612f9', 'message': ""[fuel] Transition Newton to End of Life\n\nFuel's newton branches seem to be remained open accidentally, with this\npatch these branches will be tagged with newton-eol and removed\nafterwards.\n\nChange-Id: I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8\n""}, {'number': 2, 'created': '2021-07-02 18:55:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/a8c4f54c732b7037584b79e5aa72f06995eb83d8', 'message': ""[fuel] Transition Newton to End of Life\n\nFuel's newton branches seem to be remained open accidentally, with this\npatch these branches will be tagged with newton-eol and removed\nafterwards.\n\nChange-Id: I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8\n""}, {'number': 3, 'created': '2021-07-05 13:57:10.000000000', 'files': ['deliverables/newton/fuel-nailgun-extension-cluster-upgrade.yaml', 'deliverables/newton/fuel-docs.yaml', 'deliverables/newton/fuel-library.yaml', 'deliverables/newton/fuel-agent.yaml', 'deliverables/newton/fuel-virtualbox.yaml', 'deliverables/newton/fuel-mirror.yaml', 'deliverables/newton/fuel-web.yaml', 'deliverables/mitaka/fuel-upgrade.yaml', 'deliverables/newton/fuel-menu.yaml', 'deliverables/newton/fuel-nailgun-agent.yaml', 'deliverables/newton/fuel-qa.yaml', 'deliverables/newton/fuel-astute.yaml', 'deliverables/newton/fuel-ui.yaml', 'deliverables/newton/fuel-octane.yaml', 'deliverables/newton/fuel-main.yaml', 'deliverables/newton/python-fuelclient.yaml', 'deliverables/newton/fuel-ostf.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/62dd05ab00587ca8b82853e4658c2cfd54817ea1', 'message': ""[fuel] Transition Newton to End of Life\n\nFuel's newton branches seem to be remained open accidentally, with this\npatch these branches will be tagged with newton-eol and removed\nafterwards. fuel-upgrade's mitaka branch also added as it is also\nremained open somehow.\n\nChange-Id: I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8\n""}]",2,799316,62dd05ab00587ca8b82853e4658c2cfd54817ea1,13,4,3,17685,,,0,"[fuel] Transition Newton to End of Life

Fuel's newton branches seem to be remained open accidentally, with this
patch these branches will be tagged with newton-eol and removed
afterwards. fuel-upgrade's mitaka branch also added as it is also
remained open somehow.

Change-Id: I4a0561655fbe100139b10fa8a7f10eab0f5cc3e8
",git fetch https://review.opendev.org/openstack/releases refs/changes/16/799316/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/newton/fuel-menu.yaml', 'deliverables/newton/fuel-nailgun-agent.yaml', 'deliverables/newton/fuel-qa.yaml', 'deliverables/newton/fuel-library.yaml', 'deliverables/newton/fuel-astute.yaml', 'deliverables/newton/fuel-agent.yaml', 'deliverables/newton/fuel-ui.yaml', 'deliverables/newton/fuel-virtualbox.yaml', 'deliverables/newton/fuel-main.yaml', 'deliverables/newton/fuel-web.yaml', 'deliverables/newton/fuel-ostf.yaml']",11,9e56da048bbc971932597b89696668d381d612f9,old-stale-eol, - version: newton-eol projects: - repo: openstack/fuel-ostf hash: 4f35920720978fe1dcba06d35ca6cd2a062adbd4,,45,0
openstack%2Freleases~master~I7c100d84e22731710681e611fad6a70863ee2fb7,openstack/releases,master,I7c100d84e22731710681e611fad6a70863ee2fb7,[neutron] Transition Newton and older branches to EOL,MERGED,2021-07-05 13:12:14.000000000,2021-07-09 15:05:43.000000000,2021-07-09 15:05:43.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-05 13:12:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/69521caef579e035e5d6e9ce9b25ddd6ce24e6e5', 'message': ""[neutron] Transition Newton and older branches to EOL\n\nSome neutron related projects' newton and older branches seem to be\nremained open accidentally, with this patch these branches will be\ntagged with $series-eol tag and removed afterwards.\n\nChange-Id: I7c100d84e22731710681e611fad6a70863ee2fb7\n""}, {'number': 2, 'created': '2021-07-05 16:05:53.000000000', 'files': ['deliverables/mitaka/networking-ofagent.yaml', 'deliverables/newton/networking-bgpvpn.yaml', 'deliverables/mitaka/networking-bagpipe.yaml', 'deliverables/liberty/networking-bgpvpn.yaml', 'deliverables/liberty/networking-odl.yaml', 'deliverables/mitaka/networking-sfc.yaml', 'deliverables/newton/networking-odl.yaml', 'deliverables/mitaka/networking-odl.yaml', 'deliverables/mitaka/networking-bgpvpn.yaml', 'deliverables/newton/networking-midonet.yaml', 'deliverables/newton/networking-sfc.yaml', 'deliverables/newton/networking-bagpipe.yaml', 'deliverables/mitaka/networking-onos.yaml', 'deliverables/newton/networking-onos.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/24d86cbad47845767e224b608f00cfda1142b8ea', 'message': ""[neutron] Transition Newton and older branches to EOL\n\nSome neutron related projects' newton and older branches seem to be\nremained open accidentally, with this patch these branches will be\ntagged with $series-eol tag and removed afterwards.\n\nChange-Id: I7c100d84e22731710681e611fad6a70863ee2fb7\n""}]",6,799472,24d86cbad47845767e224b608f00cfda1142b8ea,21,8,2,17685,,,0,"[neutron] Transition Newton and older branches to EOL

Some neutron related projects' newton and older branches seem to be
remained open accidentally, with this patch these branches will be
tagged with $series-eol tag and removed afterwards.

Change-Id: I7c100d84e22731710681e611fad6a70863ee2fb7
",git fetch https://review.opendev.org/openstack/releases refs/changes/72/799472/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/mitaka/networking-ofagent.yaml', 'deliverables/newton/networking-bgpvpn.yaml', 'deliverables/mitaka/networking-bagpipe.yaml', 'deliverables/liberty/networking-bgpvpn.yaml', 'deliverables/liberty/networking-odl.yaml', 'deliverables/mitaka/networking-sfc.yaml', 'deliverables/newton/networking-odl.yaml', 'deliverables/mitaka/networking-odl.yaml', 'deliverables/mitaka/networking-bgpvpn.yaml', 'deliverables/newton/networking-midonet.yaml', 'deliverables/newton/networking-sfc.yaml', 'deliverables/newton/networking-bagpipe.yaml', 'deliverables/mitaka/networking-onos.yaml', 'deliverables/newton/networking-onos.yaml']",14,69521caef579e035e5d6e9ce9b25ddd6ce24e6e5,old-stale-eol,--- launchpad: networking-onos release-model: abandoned team: neutron type: other releases: - version: newton-eol projects: - repo: openstack/networking-onos hash: fd88e622a2694afb7dca689cbbc84895d72aec90 repository-settings: openstack/networking-onos: {} ,,158,0
openstack%2Ftacker-specs~master~I6310d864970ff72f1677f653d743861036e79d4b,openstack/tacker-specs,master,I6310d864970ff72f1677f653d743861036e79d4b,Support NFV SOL_v3 starting and terminating,MERGED,2021-04-19 05:23:06.000000000,2021-07-09 15:04:29.000000000,2021-07-09 15:03:05.000000000,"[{'_account_id': 17255}, {'_account_id': 22348}, {'_account_id': 25701}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 31857}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-04-19 05:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/a6364910eec0396ed7b46eef4c590f7abd10c186', 'message': 'Support ETSI-NFV SOL_v3 APIs involved in starting VNF and terminating VNF\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nstarting VNF and terminating VNF.\n\nChange-Id: I6310d864970ff72f1677f653d743861036e79d4b\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\n'}, {'number': 2, 'created': '2021-06-29 06:26:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/d3588109ea710b4df343f6373d1d6440035d7098', 'message': 'Support ETSI-NFV SOL_v3 APIs involved in starting VNF and terminating VNF\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nstarting VNF and terminating VNF.\n\nChange-Id: I6310d864970ff72f1677f653d743861036e79d4b\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\n'}, {'number': 3, 'created': '2021-06-29 07:21:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/ac6b6b6a090283f9d8543bdbfee9f4b303a5b587', 'message': 'Support NFV SOL_v3 starting and terminating\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nstarting VNF and terminating VNF.\n\nChange-Id: I6310d864970ff72f1677f653d743861036e79d4b\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\n'}, {'number': 4, 'created': '2021-06-29 07:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/24dcfea2932d8fb147c0dc00a97f0befbe3220b6', 'message': 'Support NFV SOL_v3 starting and terminating\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nstarting VNF and terminating VNF.\n\nChange-Id: I6310d864970ff72f1677f653d743861036e79d4b\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\n'}, {'number': 5, 'created': '2021-07-01 06:10:29.000000000', 'files': ['specs/xena/support-nfv-solv3-start-and-terminate-vnf.rst'], 'web_link': 'https://opendev.org/openstack/tacker-specs/commit/0befaa671d03660668de90abd9442bebf45b1d04', 'message': 'Support NFV SOL_v3 starting and terminating\n\nThis specification supports a new version of\nVNF lifecycle management APIs complying with ETSI NFV SOL v3.\nIt adds a new version of APIs involved in\nstarting VNF and terminating VNF.\n\nChange-Id: I6310d864970ff72f1677f653d743861036e79d4b\nImplements: blueprint support-nfv-solv3-start-and-terminate-vnf\n'}]",15,786816,0befaa671d03660668de90abd9442bebf45b1d04,23,7,5,32581,,,0,"Support NFV SOL_v3 starting and terminating

This specification supports a new version of
VNF lifecycle management APIs complying with ETSI NFV SOL v3.
It adds a new version of APIs involved in
starting VNF and terminating VNF.

Change-Id: I6310d864970ff72f1677f653d743861036e79d4b
Implements: blueprint support-nfv-solv3-start-and-terminate-vnf
",git fetch https://review.opendev.org/openstack/tacker-specs refs/changes/16/786816/5 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/support-nfv-solv3-start-and-terminate-vnf.rst'],1,a6364910eec0396ed7b46eef4c590f7abd10c186,bp/support-nfv-solv3-start-and-terminate-vnf,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================================================= Support ETSI-NFV SOL_v3 APIs involved in starting VNF and terminating VNF ========================================================================= https://blueprints.launchpad.net/tacker/+spec/support-nfv-solv3-start-and-terminate-vnf This specification supports a new version of VNF lifecycle management APIs complying with ETSI NFV SOL v3. It adds a new version of APIs involved in starting VNF and terminating VNF. Problem description =================== ETSI specifications within the NFV Architecture Framework [#etsi_nfv]_ describe the main aspects of NFV development and usage based on the industry needs, feedback from SDN/NFV vendors and telecom operators. These specifications include the REST API and data model architecture which is used by NFV users and developers in related products. Support of key ETSI NFV specifications will significantly reduce efforts for Tacker integration into Telecom production networks and also will simplify further development and support of future standards. In Wallaby release, VNF lifecycle management operations defined in ETSI NFV SOL002 v2.6.1 [#NFV-SOL002_261]_ and SOL003 v2.6.1 [#NFV-SOL003_261]_ are supported. However, NFV continues to develop new specifications, it should comply with multiple versions of ETSI NFV SOL specification. Tacker will support VNF lifecycle management operations defined in ETSI NFV SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_. Proposed change =============== Since the VNF lifecycle management interface version specified in ETSI NFV SOL v3 is ""2.0.0"", the API major version included in URI shall be set to ""v2"". Supporting v2 APIs involves changing the data type of some attributes and adding or removing attributes. To avoid impact on the existing implementation, APIs corresponding to ""v2"" should be implemented as a process independent of that of ""v1"". The following are sample APIs supported by this interface. * Create VNF Identifier * Instantiate VNF * Terminate VNF * Delete VNF Identifier 1) Flow of creation of a VNF instance resource ---------------------------------------------- .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""POST /vnflcm/v2/vnf_instances""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Create VNF instance resource""]; Client <-- ""tacker-server"" [label = ""Response 201 Created""]; } #. Client sends a Create VNF request with the API major version included in URI is ""v2"". #. The VNFM creates a VNF instance resource and the associated VNF instance identifier. #. The VNFM returns a 201 Created response. If necessary, VNFM performs the package acquisition process as described in the SPEC `support-sol003-vnfm-operations`_, and notification process as described in the SPEC `support-notification-api-based-on-etsi-nfv-sol`_. 2) Flow of Instantiation of a VNF instance ------------------------------------------ .. seqdiag:: seqdiag { Client; NFVO; tacker-server; tacker-conductor; MgmtDriver; VnfLcmDriver; Client -> ""tacker-server"" [label = ""POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/instantiate""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; NFVO <- ""tacker-conductor"" [label = ""POST /grants""]; NFVO --> ""tacker-conductor"" [label = ""201 Created""]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; } #. Client sends an Instantiate VNF request with the API major version included in URI is ""v2"". #. The VNFM returns a ""202 Accepted"" response. #. VNFM and NFVO exchange granting information. #. The VNFM calls MgmtDriver and VnfLcmDriver. If necessary, VNFM performs the notification process as described in the SPEC `support-notification-api-based-on-etsi-nfv-sol`_. 3) Flow of Termination of a VNF instance ---------------------------------------- .. seqdiag:: seqdiag { Client; NFVO; tacker-server; tacker-conductor; MgmtDriver; VnfLcmDriver; Client -> ""tacker-server"" [label = ""POST /vnflcm/v2/vnf_instances/{vnfInstanceId}/terminate""]; Client <-- ""tacker-server"" [label = ""Response 202 Accepted""]; ""tacker-server"" -> ""tacker-conductor"" [label = ""trriger asynchronous task""]; NFVO <- ""tacker-conductor"" [label = ""POST /grants""]; NFVO --> ""tacker-conductor"" [label = ""201 Created""]; ""tacker-conductor"" -> ""MgmtDriver"" [label = ""execute MgmtDriver""]; ""tacker-conductor"" <-- ""MgmtDriver"" [label = """"]; ""tacker-conductor"" -> ""VnfLcmDriver"" [label = ""execute VnfLcmDriver""]; ""tacker-conductor"" <-- ""VnfLcmDriver"" [label = """"]; } #. Client sends a Terminate VNF request with the API major version included in URI is ""v2"". #. The VNFM returns a ""202 Accepted"" response. #. VNFM and NFVO exchange granting information. #. The VNFM calls MgmtDriver and VnfLcmDriver. If necessary, VNFM performs the notification process as described in the SPEC `support-notification-api-based-on-etsi-nfv-sol`_. 4) Flow of deletion of a VNF instance resource ---------------------------------------------- .. seqdiag:: seqdiag { Client -> ""tacker-server"" [label = ""DELETE /vnflcm/v2/vnf_instances/{vnfInstanceId}""]; ""tacker-server"" ->> ""tacker-server"" [label = ""Delete VNF instance resource""]; Client <-- ""tacker-server"" [label = ""Resonse 204 No Content""]; } #. Client sends a Delete VNF request with the API major version included in URI is ""v2"". #. The VNFM deletes the ""VNF instance resource"" and the associated VNF instance identifier. #. The VNFM returns a ""204 No Content"" response with an empty payload body. If necessary, VNFM performs the notification process as described in the SPEC `support-notification-api-based-on-etsi-nfv-sol`_. Data model impact ----------------- .. TBD REST API impact --------------- In this SPEC with ETSI NFV SOL002 v3.3.1 [#NFV-SOL002_331]_ and SOL003 v3.3.1 [#NFV-SOL003_331]_, all defined attributes should be supported in API validation. Also, all data models in the response should be implemented in the Database to enable flexible change of logic in VNF lifecycle management. The ""_link"" attribute is the only exception because not all operations in VNF lifecycle management interface are implemented. Some links to not implemented operations should be filtered. * | **Name**: Create VNF Identifier | **Description**: Creates a new VNF instance resource | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_instances | **Request**: +------------------+-------------+------------------------------+ | Data type | Cardinality | Description | +==================+=============+==============================+ | CreateVnfRequest | 1 | The VNF creation parameters. | +------------------+-------------+------------------------------+ +----------------------------+------------------------------+-------------+------------------+--------------------+ | Attribute name | Data type | Cardinality | Supported in (X) | Supported in API v1| +============================+==============================+=============+==================+====================+ | vnfdId | Identifier | 1 | Yes | Yes | +----------------------------+------------------------------+-------------+------------------+--------------------+ | vnfInstanceName | String | 0..1 | Yes | Yes | +----------------------------+------------------------------+-------------+------------------+--------------------+ | vnfInstanceDescription | String | 0..1 | Yes | Yes | +----------------------------+------------------------------+-------------+------------------+--------------------+ | metadata | KeyValuePairs | 0..1 | Yes | Yes | +----------------------------+------------------------------+-------------+------------------+--------------------+ | **Response**: +-------------+-------------+------------------+-----------------------------------------------------+ | Data type | Cardinality | Response Codes | Description | +=============+=============+==================+=====================================================+ | VnfInstance | 1 | Success 201 | A VNF Instance identifier was created successfully. | | | | Error 400 401 | | | | | 403 | | +-------------+-------------+------------------+-----------------------------------------------------+ +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | Attribute name | Data type | Cardinality | Supported in (X)| Supported in API v1| Description | +============================+==============================+=============+=================+====================+=============================================+ | id | Identifier | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfInstanceName | String | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfInstanceDescription | String | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfdId | Identifier | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfProvider | String | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfProductName | String | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfSoftwareVersion | Version | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfdVersion | Version | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vnfConfigurableProperties | KeyValuePairs | 0..1 | Yes | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | vimConnectionInfo | map(VimConnectionInfo) | 0..N | Yes | Yes | In API v2, the Data type is changed from | | | | | | | VimConnectionInfo to map(VimConnectionInfo).| +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | instantiationState | Enum | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | instantiatedVnfInfo | Structure | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >flavourId | IdentifierInVnfd | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >vnfState | VnfOperationalStateType | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >scaleStatus | ScaleInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >maxScaleLevels | ScaleInfo | 0..N | Yes | - | New attribute in API v2. | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >extCpInfo | VnfExtCpInfo | 1..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >extVirtualLinkInfo | ExtVirtualLinkInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >extManagedVirtualLinkInfo | ExtManagedVirtualLinkInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >monitoringParameters | MonitoringParameter | 0..N | Yes | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >localizationLanguage | String | 0..1 | Yes | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >vnfcResourceInfo | VnfcResourceInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >vnfVirtualLinkResourceInfo| VnfVirtualLinkResourceInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >virtualStorageResourceInfo| VirtualStorageResourceInfo | 0..N | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | metadata | KeyValuePairs | 0..1 | Yes | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | extensions | KeyValuePairs | 0..1 | Yes | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | _links | Structure | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >self | Link | 1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >indicators | Link | 0..1 | No | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >instantiate | Link | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >terminate | Link | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >scale | Link | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >scaleToLevel | Link | 0..1 | No | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >changeFlavour | Link | 0..1 | No | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >heal | Link | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >operate | Link | 0..1 | No | No | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >changeExtConn | Link | 0..1 | Yes | Yes | | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >createSnapshot | Link | 0..1 | No | - | New attribute in API v2. | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ | >revertToSnapshot | Link | 0..1 | No | - | New attribute in API v2. | +----------------------------+------------------------------+-------------+-----------------+--------------------+---------------------------------------------+ * | **Name**: Instantiate VNF task | **Description**: This task resource represents the ""Instantiate VNF"" operation. The client can use this resource to instantiate a VNF instance. | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_instances/{vnfInstanceId}/instantiate | **Resource URI variables for this resource**: +---------------+--------------------------------------------------------+ | Name | Definition | +===============+========================================================+ | vnfInstanceId | The identifier of the VNF instance to be instantiated. | +---------------+--------------------------------------------------------+ | **Request**: +-------------------------+-------------+-----------------------------------------+ | Data type | Cardinality | Description | +=========================+=============+=========================================+ | InstantiateVnfRequest | 1 | Parameters passed to instantiate task. | +-------------------------+-------------+-----------------------------------------+ +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | Attribute name | Data type | Cardinality | Supported in (X) | Supported in API v1| Description | +===========================+===========================+=============+==================+====================+=============================================+ | flavourId | IdentifierInVnfd | 1 | Yes | Yes | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | instantiationLevelId | IdentifierInVnfd | 0..1 | Yes | Yes | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | extVirtualLinks | ExtVirtualLinkData | 0..N | Yes | Yes | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | extManagedVirtualLinks | ExtManagedVirtualLinkData | 0..N | Yes | Yes | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | vimConnectionInfo | map(VimConnectionInfo) | 0..N | Yes | Yes | In API v2, the Data type is changed from | | | | | | | VimConnectionInfo to map(VimConnectionInfo).| +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | localizationLanguage | String | 0..1 | Yes | No | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | additionalParams | KeyValuePairs | 0..1 | Yes | Yes | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | extensions | KeyValuePairs | 0..1 | Yes | No | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | vnfConfigurableProperties | KeyValuePairs | 0..1 | Yes | No | | +---------------------------+---------------------------+-------------+------------------+--------------------+---------------------------------------------+ | **Response**: +-------------+-------------+------------------+-------------------------------------------------------------------------------------+ | Data type | Cardinality | Response Codes | Description | +=============+=============+==================+=====================================================================================+ | n/a | | Success: 202 | | | | | Error: 400, 401 | The request was accepted for processing, but the processing has not been completed. | | | | 403, 404, 409 | | +-------------+-------------+------------------+-------------------------------------------------------------------------------------+ * | **Name**: Terminate VNF task | **Description**: This task resource represents the ""Terminate VNF"" operation. The client can use this resource to terminate a VNF instance. | **Method type**: POST | **URL for the resource**: /vnflcm/v2/vnf_instances/{vnfInstanceId}/terminate | **Resource URI variables for this resource**: +---------------+------------------------------------------------------+ | Name | Description | +===============+======================================================+ | vnfInstanceId | The identifier of the VNF instance to be terminated. | +---------------+------------------------------------------------------+ | **Request**: +-----------------------+-------------+-----------------------------------------+ | Data type | Cardinality | Description | +=======================+=============+=========================================+ | TerminateVnfRequest | 1 | Parameters passed to Terminate VNF task.| +-----------------------+-------------+-----------------------------------------+ +----------------------------+----------------+-------------+------------------+--------------------+ | Attribute name | Data type | Cardinality | Supported in (X) | Supported in API v1| +============================+================+=============+==================+====================+ | terminationType | Enum (inlined) | 1 | Yes | Yes | +----------------------------+----------------+-------------+------------------+--------------------+ | gracefulTerminationTimeout | Integer | 0..1 | Yes | Yes | +----------------------------+----------------+-------------+------------------+--------------------+ | additionalParams | KeyValuePairs | 0..1 | Yes | Yes | +----------------------------+----------------+-------------+------------------+--------------------+ | **Response**: +-------------+-------------+------------------+-------------------------------------------------------------------------------------+ | Data type | Cardinality | Response Codes | Description | +=============+=============+==================+=====================================================================================+ | n/a | | Success: 202 | | | | | Error: 400, 401 | The request was accepted for processing, but the processing has not been completed. | | | | 403, 404, 409 | | +-------------+-------------+------------------+-------------------------------------------------------------------------------------+ * | **Name**: Delete VNF Instance | **Description**: Request to delete VNF instance resource by its id | **Method type**: DELETE | **URL for the resource**: /vnflcm/v2/vnf_instances/{vnfInstanceId} | **Resource URI variables for this resource**: +---------------+---------------------------------+ | Name | Description | +===============+=================================+ | vnfInstanceId | Identifier of the VNF instance. | +---------------+---------------------------------+ | **Response**: +-------------+-------------+-----------------+----------------------------------------------------------------------------------------+ | Data type | Cardinality | Response Codes | Description | +=============+=============+=================+========================================================================================+ | n/a | | Success: 204 | | | | | Error: 401, 403 | The VNF instance resource and the associated VNF identifier were deleted successfully. | | | | 404 | | +-------------+-------------+-----------------+----------------------------------------------------------------------------------------+ Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- .. TBD Performance Impact ------------------ None Other deployer impact --------------------- None Developer impact ---------------- * `python-tackerclient` needs to support a new attribute to set API version. Implementation ============== Assignee(s) ----------- Hirofumi Noguchi <hirofumi.noguchi.rs@hco.ntt.co.jp> Work Items ---------- * Add new version API endpoints to Tacker-server. * Add new unit and functional tests. * Update the Tacker's API documentation. Dependencies ============ None Testing ======== Unit and functional test cases will be added for VNF lifecycle management of VNF instances. Documentation Impact ==================== Complete user guide will be added to explain how to invoke VNF lifecycle management of VNF instances with examples. References ========== .. [#etsi_nfv] https://www.etsi.org/technologies-clusters/technologies/NFV .. [#NFV-SOL002_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/02.06.01_60/gs_nfv-sol002v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_261] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/02.06.01_60/gs_nfv-sol003v020601p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL002_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/002/03.03.01_60/gs_nfv-sol002v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. [#NFV-SOL003_331] https://www.etsi.org/deliver/etsi_gs/NFV-SOL/001_099/003/03.03.01_60/gs_nfv-sol003v030301p.pdf (Chapter 5: VNF Lifecycle Management interface) .. _support-notification-api-based-on-etsi-nfv-sol: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-notification-api-based-on-etsi-nfv-sol.html .. _support-sol003-vnfm-operations: https://specs.openstack.org/openstack/tacker-specs/specs/victoria/support-sol003-vnfm-operations.html ",,497,0
openstack%2Fcinder~master~Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011,openstack/cinder,master,Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011,Abort volume creation when encryption spec is invalid,MERGED,2021-05-04 16:21:36.000000000,2021-07-09 15:02:10.000000000,2021-07-09 15:00:27.000000000,"[{'_account_id': 5314}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-04 16:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/baeaaa1f51825f895bf0817b8c45b80378a7af7a', 'message': 'Abort volume creation when encryption spec is invalid\n\nWhen the encryption spec is missing the cipher field,\njust fail the request rather than sending an invalid\nrequest to Castellan and letting the Barbican server\nreject it.\n\nThis happens when an admin had previously created an\ninvalid encryption spec.\n\nSimilarly, check for a malformed cipher field in\nimage_utils decode_cipher, such as ""aes"" instead of\n""aes-xts-plain64"".  An invalid cipher field like this\nwould previously cause a failure during volume creation\nin some volume drivers.\n\nPartial-Bug: #1926630 (1/2)\nChange-Id: Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011\n'}, {'number': 2, 'created': '2021-05-04 17:36:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4f4f76ff459968feb9939d2125ce35748f79ff3b', 'message': 'Abort volume creation when encryption spec is invalid\n\nWhen the encryption spec is missing the cipher field,\njust fail the request rather than sending an invalid\nrequest to Castellan and letting the Barbican server\nreject it.\n\nThis happens when an admin had previously created an\ninvalid encryption spec.\n\nSimilarly, check for a malformed cipher field in\nimage_utils decode_cipher, such as ""aes"" instead of\n""aes-xts-plain64"".  An invalid cipher field like this\nwould previously cause a failure during volume creation\nin some volume drivers.\n\nPartial-Bug: #1926630 (1/2)\nChange-Id: Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011\n'}, {'number': 3, 'created': '2021-05-11 15:48:45.000000000', 'files': ['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/0a1cc1a2d42d17ee5fcf3d273d543b598b033318', 'message': 'Abort volume creation when encryption spec is invalid\n\nWhen the encryption spec is missing the cipher field,\njust fail the request rather than sending an invalid\nrequest to Castellan and letting the Barbican server\nreject it.\n\nThis happens when an admin had previously created an\ninvalid encryption spec.\n\nSimilarly, check for a malformed cipher field in\nimage_utils decode_cipher, such as ""aes"" instead of\n""aes-xts-plain64"".  An invalid cipher field like this\nwould previously cause a failure during volume creation\nin some volume drivers.\n\nPartial-Bug: #1926630 (1/2)\nChange-Id: Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011\n'}]",3,789602,0a1cc1a2d42d17ee5fcf3d273d543b598b033318,67,4,3,4523,,,0,"Abort volume creation when encryption spec is invalid

When the encryption spec is missing the cipher field,
just fail the request rather than sending an invalid
request to Castellan and letting the Barbican server
reject it.

This happens when an admin had previously created an
invalid encryption spec.

Similarly, check for a malformed cipher field in
image_utils decode_cipher, such as ""aes"" instead of
""aes-xts-plain64"".  An invalid cipher field like this
would previously cause a failure during volume creation
in some volume drivers.

Partial-Bug: #1926630 (1/2)
Change-Id: Ia4b1c303a057fe70cf88bdbbebc1d4f62474f011
",git fetch https://review.opendev.org/openstack/cinder refs/changes/02/789602/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/image/image_utils.py', 'cinder/tests/unit/test_image_utils.py']",4,baeaaa1f51825f895bf0817b8c45b80378a7af7a,bug/1926630," def test_decode_cipher_invalid(self): self.assertRaises(exception.InvalidVolumeType, image_utils.decode_cipher, 'aes', 256)",,54,7
openstack%2Fossa~master~Ie5347f3b6cc8e689440db0aaf552d52ad37c231c,openstack/ossa,master,Ie5347f3b6cc8e689440db0aaf552d52ad37c231c,Correct is_safe_path example in guidelines,MERGED,2021-07-02 17:16:23.000000000,2021-07-09 14:47:14.000000000,2021-07-09 14:45:50.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 17:16:23.000000000', 'files': ['doc/source/guidelines/dg_using-file-paths.rst'], 'web_link': 'https://opendev.org/openstack/ossa/commit/b05ba124452ffe17f3f7223b740e977ca5ee0b01', 'message': ""Correct is_safe_path example in guidelines\n\nA previous rework of the directory traversal mitigation example in\nI3f8d3760daceb9e62396ae21b0d915ae07eff303 was not correctly cleaned\nup, and left some unintended startswith method invocations behind.\nGet rid of those, and also correct a wrong parameter name in the\nmain function while we're at it, as well as fixing some incorrect\nindentation.\n\nChange-Id: Ie5347f3b6cc8e689440db0aaf552d52ad37c231c\nCloses-Bug: #1928544\n""}]",0,799282,b05ba124452ffe17f3f7223b740e977ca5ee0b01,8,2,1,5263,,,0,"Correct is_safe_path example in guidelines

A previous rework of the directory traversal mitigation example in
I3f8d3760daceb9e62396ae21b0d915ae07eff303 was not correctly cleaned
up, and left some unintended startswith method invocations behind.
Get rid of those, and also correct a wrong parameter name in the
main function while we're at it, as well as fixing some incorrect
indentation.

Change-Id: Ie5347f3b6cc8e689440db0aaf552d52ad37c231c
Closes-Bug: #1928544
",git fetch https://review.opendev.org/openstack/ossa refs/changes/82/799282/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/guidelines/dg_using-file-paths.rst'],1,b05ba124452ffe17f3f7223b740e977ca5ee0b01,bug/1928544," matchpath = os.path.realpath(path) else: matchpath = os.path.abspath(path) if is_safe_path(os.getcwd(), arg):"," matchpath = os.path.realpath(path).startswith(basedir) else: matchpath = os.path.abspath(path).startswith(basedir) if is_safe_path(os.getcwd(), path):",3,3
openstack%2Fos-brick~master~Iac8984e183df6551c9516d1c37cb92a49990fe12,openstack/os-brick,master,Iac8984e183df6551c9516d1c37cb92a49990fe12,zuul: add mypy experimental job,MERGED,2021-04-19 14:32:19.000000000,2021-07-09 14:23:31.000000000,2021-07-09 14:19:02.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 10459}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-04-19 14:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/b67e8c1bbc6ad7d1986bba8620ee99d3ea0159ed', 'message': 'zuul: add mypy experimental job\n\nRun the mypy tests.\n\nChange-Id: Iac8984e183df6551c9516d1c37cb92a49990fe12\n'}, {'number': 2, 'created': '2021-05-26 12:17:47.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/438e7f2daaa6f54d1cbb529199c4ed5be936e33d', 'message': 'zuul: add mypy experimental job\n\nRun the mypy tests.\n\nChange-Id: Iac8984e183df6551c9516d1c37cb92a49990fe12\n'}]",0,786881,438e7f2daaa6f54d1cbb529199c4ed5be936e33d,31,6,2,4523,,,0,"zuul: add mypy experimental job

Run the mypy tests.

Change-Id: Iac8984e183df6551c9516d1c37cb92a49990fe12
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/81/786881/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b67e8c1bbc6ad7d1986bba8620ee99d3ea0159ed,mypy, - os-brick-mypy - job: name: os-brick-mypy parent: openstack-tox vars: tox_envlist: mypy,,7,0
openstack%2Faodh~master~I59c4d93a5914b8e14f7ef93bcaff8d1caaf5e75a,openstack/aodh,master,I59c4d93a5914b8e14f7ef93bcaff8d1caaf5e75a,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-09 10:47:32.000000000,2021-07-09 14:18:05.000000000,2021-07-09 14:16:31.000000000,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 10:47:32.000000000', 'files': ['requirements.txt', 'aodh/evaluator/event.py', 'aodh/storage/impl_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/7a166e05f79817ddadea6fbf74a7d49972c05210', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\nSQLAlchemy url is now immutable\nUse URL.set to update\n\nCo-authored by: Takashi Kajinami\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I59c4d93a5914b8e14f7ef93bcaff8d1caaf5e75a\n""}]",0,800198,7a166e05f79817ddadea6fbf74a7d49972c05210,12,3,1,4264,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

SQLAlchemy url is now immutable
Use URL.set to update

Co-authored by: Takashi Kajinami
[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: I59c4d93a5914b8e14f7ef93bcaff8d1caaf5e75a
",git fetch https://review.opendev.org/openstack/aodh refs/changes/98/800198/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'aodh/evaluator/event.py', 'aodh/storage/impl_sqlalchemy.py']",3,7a166e05f79817ddadea6fbf74a7d49972c05210,gate,"from oslo_db.sqlalchemy import enginefacade self._engine_facade = enginefacade.LegacyEngineFacade( self.dress_url(url), **options) url = url.set(drivername=""mysql+pymysql"")","from oslo_db.sqlalchemy import session as db_session self._engine_facade = db_session.EngineFacade(self.dress_url(url), **options) url.drivername = ""mysql+pymysql""",7,6
openstack%2Freleases~master~Ibffd79798c2ddbc61880bb4ebb60a40c97497244,openstack/releases,master,Ibffd79798c2ddbc61880bb4ebb60a40c97497244,Release yaql 1.1.4,ABANDONED,2021-06-16 15:06:50.000000000,2021-07-09 14:18:05.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-06-16 15:06:50.000000000', 'files': ['deliverables/_independent/yaql.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/db384ae148ed1097853091287b7d4bffc8823aa2', 'message': 'Release yaql 1.1.4\n\n1.1.3 contains some collection usage which will stop working after\n  python 3.9. So we need to release commit c3bda9ee.\n\nChange-Id: Ibffd79798c2ddbc61880bb4ebb60a40c97497244\n'}]",0,796692,db384ae148ed1097853091287b7d4bffc8823aa2,9,3,1,12404,,,0,"Release yaql 1.1.4

1.1.3 contains some collection usage which will stop working after
  python 3.9. So we need to release commit c3bda9ee.

Change-Id: Ibffd79798c2ddbc61880bb4ebb60a40c97497244
",git fetch https://review.opendev.org/openstack/releases refs/changes/92/796692/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/yaql.yaml'],1,db384ae148ed1097853091287b7d4bffc8823aa2,release-yaql, - version: 1.1.4 projects: - repo: openstack/yaql hash: c3bda9eeb1d802cd95b3120925d3786a4f060025,,4,0
openstack%2Fkuryr-kubernetes~master~If5c86c979b615283ce504e9e2994a57a023c4859,openstack/kuryr-kubernetes,master,If5c86c979b615283ce504e9e2994a57a023c4859,CNI: Convert nested drivers to NDB,NEW,2021-07-09 11:20:44.000000000,2021-07-09 14:09:50.000000000,,"[{'_account_id': 11600}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 11:20:44.000000000', 'files': ['kuryr_kubernetes/cni/binding/nested.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/7349e9cdee90ef937123bcdd93a570ca4582eef5', 'message': 'CNI: Convert nested drivers to NDB\n\nChange-Id: If5c86c979b615283ce504e9e2994a57a023c4859\n'}]",0,800208,7349e9cdee90ef937123bcdd93a570ca4582eef5,3,2,1,11600,,,0,"CNI: Convert nested drivers to NDB

Change-Id: If5c86c979b615283ce504e9e2994a57a023c4859
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/08/800208/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/cni/binding/nested.py'],1,7349e9cdee90ef937123bcdd93a570ca4582eef5,pyroute2-ndb," def _detect_iface_name(self, h_ndb): if config.CONF.binding.link_iface in h_ndb.interfaces: try: name = h_ndb.addresses[lookup_addr]['label'] LOG.debug(f""Using kubelet bind interface"" f""{name} as bridge interface."") return name except KeyError: pass for iface in h_ndb.interfaces.values(): LOG.debug(f""Using interface {iface['ifname']} as bridge"" f""interface."") return iface['ifname'] with b_base.get_ndb(netns) as c_ndb: self._remove_ifaces(c_ndb, (temp_name, ifname), netns) with b_base.get_ndb() as h_ndb: self._remove_ifaces(h_ndb, (temp_name,)) with b_base.get_ndb() as h_ndb: vm_iface_name = self._detect_iface_name(h_ndb) mtu = h_ndb.interfaces[vm_iface_name]['mtu'] h_ndb.interfaces.create(ifname=temp_name, link=vm_iface_name, **args).commit() with h_ndb.interfaces[temp_name] as iface: iface.set('net_ns_fd', utils.convert_netns(netns)) with b_base.get_ndb(netns) as c_ndb: with c_ndb.interfaces[temp_name] as iface: iface.set('ifname', ifname) iface.set('mtu', vif.network.mtu) iface.set('address', str(vif.address)) iface.set('state', 'up') with b_base.get_ndb(netns) as c_ndb: self._remove_ifaces(c_ndb, (vif.vif_name, ifname), netns) with b_base.get_ndb(netns_path) as c_ndb: for iface in c_ndb.interfaces.values(): if (iface['vlan_id'] == vlan_id and iface['link'] == vm_iface_index): ifname = iface[""ifname""] with c_ndb.interfaces[ifname] as found_iface:"," def _detect_iface_name(self, h_ipdb): if config.CONF.binding.link_iface in h_ipdb.interfaces: for name, iface in h_ipdb.interfaces.items(): if type(name) is int: # Skip ones duplicated by id continue for addr in iface['ipaddr']: if addr[0] == lookup_addr: LOG.debug(f'Using kubelet bind interface {name} as ' f'bridge interface.') return name for name, iface in h_ipdb.interfaces.items(): if type(name) is int: # Skip ones duplicated by id continue LOG.debug(f'Using interface {name} as bridge interface.') return name with b_base.get_ipdb(netns) as c_ipdb: self._remove_ifaces(c_ipdb, (temp_name, ifname), netns) with b_base.get_ipdb() as h_ipdb: self._remove_ifaces(h_ipdb, (temp_name,)) with b_base.get_ipdb() as h_ipdb: vm_iface_name = self._detect_iface_name(h_ipdb) mtu = h_ipdb.interfaces[vm_iface_name].mtu with h_ipdb.create(ifname=temp_name, link=h_ipdb.interfaces[vm_iface_name], **args) as iface: iface.net_ns_fd = utils.convert_netns(netns) with b_base.get_ipdb(netns) as c_ipdb: with c_ipdb.interfaces[temp_name] as iface: iface.ifname = ifname iface.mtu = vif.network.mtu iface.address = str(vif.address) iface.up() with b_base.get_ipdb(netns) as c_ipdb: self._remove_ifaces(c_ipdb, (vif.vif_name, ifname), netns) with b_base.get_ipdb(netns_path) as c_ipdb: for ifname, iface in c_ipdb.interfaces.items(): if (iface.vlan_id == vlan_id and iface.link == vm_iface_index): with c_ipdb.interfaces[ifname] as found_iface:",38,41
openstack%2Ftenks~master~I746d01ed355330c965b90657264d89a4ef7995d2,openstack/tenks,master,I746d01ed355330c965b90657264d89a4ef7995d2,Fix 'The `libvirt` module is not importable' error,MERGED,2021-07-09 10:54:55.000000000,2021-07-09 13:42:27.000000000,2021-07-09 13:41:09.000000000,"[{'_account_id': 14200}, {'_account_id': 14826}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 10:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/08e386b9ccbe40782306409a16816080a593e07f', 'message': ""[WIP] Fix 'The `libvirt` module is not importable' error\n\nChange-Id: I746d01ed355330c965b90657264d89a4ef7995d2\n""}, {'number': 2, 'created': '2021-07-09 11:11:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/f02ccfebed3a24ac13cb3c260301ab9062656ef9', 'message': ""[WIP] Fix 'The `libvirt` module is not importable' error\n\nChange-Id: I746d01ed355330c965b90657264d89a4ef7995d2\n""}, {'number': 3, 'created': '2021-07-09 11:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6590cfb1b548e87b9686a34b844af69c4b2b38ea', 'message': ""[WIP] Fix 'The `libvirt` module is not importable' error\n\nChange-Id: I746d01ed355330c965b90657264d89a4ef7995d2\n""}, {'number': 4, 'created': '2021-07-09 12:12:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/0e1470dc144f4e641b26a24da8cfbd8d72fd3f7e', 'message': ""Fix 'The `libvirt` module is not importable' error\n\nUpper constraints were updated [1] to allow libvirt-python 7.5.0. The\nfirst Kayobe builds using this version worked fine, but later they\nstarted failing with the error:\n\n    The `libvirt` module is not importable. Check the requirements.\n\nThe main difference is that successful jobs were using the source\narchive libvirt-python-7.5.0.tar.gz, while failing jobs were using the\nwheel libvirt_python-7.5.0-cp36-cp36m-linux_x86_64.whl.\n\nInstall libvirt-python from source to avoid this issue.\n\nUpdate the ansible-lint configuration to ignore errors coming from the\nstackhpc.libvirt-vm role, fixing the tenks-tox-ansible-lint job.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/799347\n\nChange-Id: I746d01ed355330c965b90657264d89a4ef7995d2\n""}, {'number': 5, 'created': '2021-07-09 13:04:52.000000000', 'files': ['ansible/roles/virtualbmc-daemon/tasks/main.yml', '.ansible-lint'], 'web_link': 'https://opendev.org/openstack/tenks/commit/5746ed2a278f342dd2c00a31ceb6ef91e415bba5', 'message': ""Fix 'The `libvirt` module is not importable' error\n\nUpper constraints were updated [1] to allow libvirt-python 7.5.0. The\nfirst Kayobe builds using this version worked fine, but later they\nstarted failing with the error:\n\n    The `libvirt` module is not importable. Check the requirements.\n\nThe main difference is that successful jobs were using the source\narchive libvirt-python-7.5.0.tar.gz, while failing jobs were using the\nwheel libvirt_python-7.5.0-cp36-cp36m-linux_x86_64.whl.\n\nInstall libvirt-python from source to avoid this issue.\n\nUpdate the ansible-lint configuration to ignore errors coming from the\nstackhpc.libvirt-vm role, fixing the tenks-tox-ansible-lint job.\n\n[1] https://review.opendev.org/c/openstack/requirements/+/799347\n\nChange-Id: I746d01ed355330c965b90657264d89a4ef7995d2\n""}]",3,800199,5746ed2a278f342dd2c00a31ceb6ef91e415bba5,18,3,5,15197,,,0,"Fix 'The `libvirt` module is not importable' error

Upper constraints were updated [1] to allow libvirt-python 7.5.0. The
first Kayobe builds using this version worked fine, but later they
started failing with the error:

    The `libvirt` module is not importable. Check the requirements.

The main difference is that successful jobs were using the source
archive libvirt-python-7.5.0.tar.gz, while failing jobs were using the
wheel libvirt_python-7.5.0-cp36-cp36m-linux_x86_64.whl.

Install libvirt-python from source to avoid this issue.

Update the ansible-lint configuration to ignore errors coming from the
stackhpc.libvirt-vm role, fixing the tenks-tox-ansible-lint job.

[1] https://review.opendev.org/c/openstack/requirements/+/799347

Change-Id: I746d01ed355330c965b90657264d89a4ef7995d2
",git fetch https://review.opendev.org/openstack/tenks refs/changes/99/800199/5 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/virtualbmc-daemon/tasks/main.yml'],1,08e386b9ccbe40782306409a16816080a593e07f,, --no-binary,,1,0
openstack%2Ftrove~master~I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,openstack/trove,master,I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d,Add package iptables-persistent inside guest instance,MERGED,2021-07-08 23:28:30.000000000,2021-07-09 13:41:28.000000000,2021-07-09 13:40:06.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 23:28:30.000000000', 'files': ['integration/scripts/files/elements/guest-agent/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/4ce59ace17612a13bc65aea3844b4e4a187288da', 'message': 'Add package iptables-persistent inside guest instance\n\niptables-persistent is needed to persists the iptable settings inside\nguest instance.\n\nChange-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d\n'}]",0,800130,4ce59ace17612a13bc65aea3844b4e4a187288da,13,2,1,6732,,,0,"Add package iptables-persistent inside guest instance

iptables-persistent is needed to persists the iptable settings inside
guest instance.

Change-Id: I96bb9f948dda22f50ec2a4fb5710ad9778e16b9d
",git fetch https://review.opendev.org/openstack/trove refs/changes/30/800130/1 && git format-patch -1 --stdout FETCH_HEAD,['integration/scripts/files/elements/guest-agent/package-installs.yaml'],1,4ce59ace17612a13bc65aea3844b4e4a187288da,iptables-persistent,iptables-persistent:,,1,0
openstack%2Fcinder~master~Ib32e58125be3a2b6d05488807c83d48e920cf57d,openstack/cinder,master,Ib32e58125be3a2b6d05488807c83d48e920cf57d,mypy: image_utils,MERGED,2021-02-05 17:04:04.000000000,2021-07-09 13:38:12.000000000,2021-07-09 13:36:02.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-05 17:04:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a57f790da7b9d77ad3ac3d8bcaa942164bf78e53', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 2, 'created': '2021-02-05 17:04:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/70e3cc71de0aa1ef21f9f26e462d46b0bda76766', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 3, 'created': '2021-02-05 22:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/91a0b54fccc5a8e88176d32c45810e3c68f52343', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 4, 'created': '2021-03-08 16:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/1d4e0669639788115cb64ccbd9ac078e71344187', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 5, 'created': '2021-03-15 15:10:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/0cb8837e6f6feda5c722931c05a50d4ff56a6181', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 6, 'created': '2021-03-22 13:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a165f3642121063ced0c8c0058fd7ac539a310e3', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 7, 'created': '2021-03-23 15:07:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/7d5a318d67d526d27ce0e9a6e36770b007d53ac0', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 8, 'created': '2021-04-01 17:56:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/709fdc113860801e6d3da309087480772d817055', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 9, 'created': '2021-04-01 18:59:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/d581b363b55326879b43a2effcf8efe1d7cacfc0', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 10, 'created': '2021-04-27 21:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/11fdf27a181aeeb52334f16d73eaa55ef205f33b', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 11, 'created': '2021-05-03 15:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dcfaf2886f269213b1370d10240834f4df025b02', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 12, 'created': '2021-05-06 17:55:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5e25c9845a62dde6f6a909cee1237cd68bf52e39', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 13, 'created': '2021-05-10 13:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/96d4de970e725b95e919053a4de0b6bfa5936312', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 14, 'created': '2021-05-10 14:23:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4b223b2bfa8145b5605409502c58820ba77ca9b3', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 15, 'created': '2021-06-08 17:47:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/147f6ea5424d53b768bca25b4c57a211cfa8e0f9', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 16, 'created': '2021-06-16 12:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/f0399382028c3ab4f167364a0629e1b9bcf9d851', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 17, 'created': '2021-06-22 12:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/98c2ce47801f7e1c5bf6b1ab3b884fe4edc802c2', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}, {'number': 18, 'created': '2021-06-30 20:35:49.000000000', 'files': ['cinder/volume/manager.py', 'cinder/image/image_utils.py', 'mypy-files.txt', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/334485dc5ffa54391ba8133678cd579009f3f24b', 'message': 'mypy: image_utils\n\nChange-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d\n'}]",12,774286,334485dc5ffa54391ba8133678cd579009f3f24b,435,3,18,4523,,,0,"mypy: image_utils

Change-Id: Ib32e58125be3a2b6d05488807c83d48e920cf57d
",git fetch https://review.opendev.org/openstack/cinder refs/changes/86/774286/4 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/image/image_utils.py', 'mypy-files.txt']",2,a57f790da7b9d77ad3ac3d8bcaa942164bf78e53,mypy,cinder/image/image_utils.py,,38,26
openstack%2Ftenks~master~Ife7cdb90fea9beabb0b0345f7481300c9e9028ef,openstack/tenks,master,Ife7cdb90fea9beabb0b0345f7481300c9e9028ef,Fix the error 'The `libvirt` module is not importable',ABANDONED,2021-07-07 19:07:02.000000000,2021-07-09 13:31:00.000000000,,"[{'_account_id': 14200}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:07:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/6be25bf3604f3b9d0a73db0025afac10732e37fa', 'message': ""Fix the error 'The `libvirt` module is not importable'\n\nThe Ia475c34b0f291f891fab34e1671e69d41831c35d bumps 'libvirt-python'\nto the new incompatible version, so we need to pin library.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ife7cdb90fea9beabb0b0345f7481300c9e9028ef\n""}, {'number': 2, 'created': '2021-07-07 19:28:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tenks/commit/041431b436be5e9af67e1181ced147b16b058310', 'message': ""Fix the error 'The `libvirt` module is not importable'\n\nThe Ia475c34b0f291f891fab34e1671e69d41831c35d bumps 'libvirt-python'\nto the new incompatible version, so we need to pin dependencies back.\n\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\nChange-Id: Ife7cdb90fea9beabb0b0345f7481300c9e9028ef\n""}, {'number': 3, 'created': '2021-07-07 19:45:32.000000000', 'files': ['ansible/roles/virtualbmc-daemon/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tenks/commit/b44fe14ca6dbff27d6db6aa28651a6ac7b4ef794', 'message': ""Fix the error 'The `libvirt` module is not importable'\n\nThe Ia475c34b0f291f891fab34e1671e69d41831c35d bumps 'libvirt-python'\nto the new incompatible version, so we need to pin dependencies back.\n\nChange-Id: Ife7cdb90fea9beabb0b0345f7481300c9e9028ef\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n""}]",0,799901,b44fe14ca6dbff27d6db6aa28651a6ac7b4ef794,10,2,3,14200,,,0,"Fix the error 'The `libvirt` module is not importable'

The Ia475c34b0f291f891fab34e1671e69d41831c35d bumps 'libvirt-python'
to the new incompatible version, so we need to pin dependencies back.

Change-Id: Ife7cdb90fea9beabb0b0345f7481300c9e9028ef
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/tenks refs/changes/01/799901/2 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/virtualbmc-daemon/tasks/main.yml'],1,6be25bf3604f3b9d0a73db0025afac10732e37fa,," - ""libvirt-python==7.4.0""",,1,0
openstack%2Faodh~master~I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6,openstack/aodh,master,I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6,SQLAlchemy url is now immutable,ABANDONED,2021-07-08 15:19:08.000000000,2021-07-09 13:25:04.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 15:19:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/9bdb5b3f6ab9f8a77baee74c9e2fc126bf6b8597', 'message': 'SQLAlchemy url is now immutable\n\nUse URL.set to update\n\nChange-Id: I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6\n'}, {'number': 2, 'created': '2021-07-09 09:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/f064a1ae457681ac08c33724bd79f43380a2544a', 'message': 'SQLAlchemy url is now immutable\n\nUse URL.set to update\n\nDepends-on: https://review.opendev.org/c/openstack/aodh/+/799651/\nChange-Id: I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6\n'}, {'number': 3, 'created': '2021-07-09 12:08:30.000000000', 'files': ['requirements.txt', 'aodh/storage/impl_sqlalchemy.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/032759b2144fba4e79fbed0a5171fcccf3b3d477', 'message': 'SQLAlchemy url is now immutable\n\nUse URL.set to update\n\nChange-Id: I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6\n'}]",0,800070,032759b2144fba4e79fbed0a5171fcccf3b3d477,10,2,3,4264,,,0,"SQLAlchemy url is now immutable

Use URL.set to update

Change-Id: I9dc4e57a4bf4e70824b2b54b1a481c91267a29b6
",git fetch https://review.opendev.org/openstack/aodh refs/changes/70/800070/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'aodh/storage/impl_sqlalchemy.py']",2,9bdb5b3f6ab9f8a77baee74c9e2fc126bf6b8597,sqlalchemy,"from oslo_db.sqlalchemy import enginefacade self._engine_facade = enginefacade.LegacyEngineFacade( self.dress_url(url), **options) url = url.set(drivername=""mysql+pymysql"")","from oslo_db.sqlalchemy import session as db_session self._engine_facade = db_session.EngineFacade(self.dress_url(url), **options) url.drivername = ""mysql+pymysql""",6,5
openstack%2Fcinder~master~Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5,openstack/cinder,master,Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5,Move require_driver_initialized / log_unsupp to volume_utils,MERGED,2021-02-11 18:28:30.000000000,2021-07-09 13:19:38.000000000,2021-07-09 13:17:46.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-11 18:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c1ab1929cf0a358d0c30ff4feb0f96673af8acbf', 'message': 'Move require_driver_initialized / log_unsupp to volume_utils\n\nThese methods are only needed in volume_utils.\n\nChange-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5\n'}, {'number': 2, 'created': '2021-02-12 20:46:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a54e34de741d9b5bcd62c530ac879d299d5cf716', 'message': 'Move require_driver_initialized / log_unsupp to volume_utils\n\nThese methods are only needed in volume_utils.\n\nChange-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5\n'}, {'number': 3, 'created': '2021-02-15 20:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b897f04aac6d5c1b398cf99d7a31e1760aa3681c', 'message': 'Move require_driver_initialized / log_unsupp to volume_utils\n\nThese methods are only needed in volume_utils.\n\nChange-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5\n'}, {'number': 4, 'created': '2021-03-03 21:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5f8a742000b7dd6411947902b661532cc0c742dd', 'message': 'Move require_driver_initialized / log_unsupp to volume_utils\n\nThese methods are only needed in volume_utils.\n\nChange-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5\n'}, {'number': 5, 'created': '2021-06-11 15:27:01.000000000', 'files': ['cinder/volume/manager.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/volume/test_replication_manager.py', 'cinder/tests/unit/volume/test_volume_manager.py', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/zonemanager/test_volume_driver.py', 'cinder/utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/7cb04d4f4c7a2cd7e3d6b46f195cb8376d71ec5f', 'message': 'Move require_driver_initialized / log_unsupp to volume_utils\n\nThese methods are only needed in volume_utils.\n\nChange-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5\n'}]",4,775250,7cb04d4f4c7a2cd7e3d6b46f195cb8376d71ec5f,128,4,5,4523,,,0,"Move require_driver_initialized / log_unsupp to volume_utils

These methods are only needed in volume_utils.

Change-Id: Icd346bf02d57a298dd4fe6ea4400be7d46dcabf5
",git fetch https://review.opendev.org/openstack/cinder refs/changes/50/775250/5 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/manager.py', 'cinder/volume/volume_utils.py', 'cinder/tests/unit/test_volume_utils.py', 'cinder/tests/unit/volume/test_replication_manager.py', 'cinder/tests/unit/volume/test_volume_manager.py', 'cinder/tests/unit/test_utils.py', 'cinder/tests/unit/zonemanager/test_volume_driver.py', 'cinder/utils.py']",8,c1ab1929cf0a358d0c30ff4feb0f96673af8acbf,,"""""""Utilities and helper functions for all Cinder code. This file is for utilities useful in all of Cinder, including cinder-manage, the api service, the scheduler, etc. Code related to volume drivers and connecting to volumes should be placed in volume_utils instead. """"""","""""""Utilities and helper functions.""""""def require_driver_initialized(driver): """"""Verifies if `driver` is initialized If the driver is not initialized, an exception will be raised. :params driver: The driver instance. :raises: `exception.DriverNotInitialized` """""" # we can't do anything if the driver didn't init if not driver.initialized: driver_name = driver.__class__.__name__ LOG.error(""Volume driver %s not initialized"", driver_name) raise exception.DriverNotInitialized() else: log_unsupported_driver_warning(driver) def log_unsupported_driver_warning(driver): """"""Annoy the log about unsupported drivers."""""" if not driver.supported: # Check to see if the driver is flagged as supported. LOG.warning(""Volume driver (%(driver_name)s %(version)s) is "" ""currently unsupported and may be removed in the "" ""next release of OpenStack. Use at your own risk."", {'driver_name': driver.__class__.__name__, 'version': driver.get_version()}, resource={'type': 'driver', 'id': driver.__class__.__name__}) ",100,130
openstack%2Fpanko~master~I355674f0f269da344adfd6a6f6af9700e5fedd75,openstack/panko,master,I355674f0f269da344adfd6a6f6af9700e5fedd75,"Retire panko, remove all contents",ABANDONED,2021-07-09 12:13:50.000000000,2021-07-09 13:18:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-09 12:13:50.000000000', 'files': ['requirements.txt', 'panko/api/rbac.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-fdb75327a9bdb5b4.yaml', 'panko/conf/defaults.py', 'setup.cfg', 'doc/source/configuration/sample_policy.rst'], 'web_link': 'https://opendev.org/openstack/panko/commit/77c134aa5882f08db50a4efdae8ff29aaa3944ee', 'message': 'Retire panko, remove all contents\n\nThis change removes all remaining contents, which should have been\ndeleted when Panko was retired by the previous commit.\n\nChange-Id: I355674f0f269da344adfd6a6f6af9700e5fedd75\n'}]",0,800213,77c134aa5882f08db50a4efdae8ff29aaa3944ee,6,1,1,9816,,,0,"Retire panko, remove all contents

This change removes all remaining contents, which should have been
deleted when Panko was retired by the previous commit.

Change-Id: I355674f0f269da344adfd6a6f6af9700e5fedd75
",git fetch https://review.opendev.org/openstack/panko refs/changes/13/800213/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'panko/api/rbac.py', 'releasenotes/notes/deprecate-json-formatted-policy-file-fdb75327a9bdb5b4.yaml', 'panko/conf/defaults.py', 'setup.cfg', 'doc/source/configuration/sample_policy.rst']",6,77c134aa5882f08db50a4efdae8ff29aaa3944ee,cleanup,,"=================== Panko Sample Policy =================== .. warning:: JSON formatted policy file is deprecated since Panko 10.0.0 (Wallaby). This `oslopolicy-convert-json-to-yaml`__ tool will migrate your existing JSON-formatted policy file to YAML in a backward-compatible way. .. __: https://docs.openstack.org/oslo.policy/latest/cli/oslopolicy-convert-json-to-yaml.html The following is a sample panko policy file that has been auto-generated from default policy values in code. If you're using the default policies, then the maintenance of this file is not necessary, and it should not be copied into a deployment. Doing so will result in duplicate policy definitions. It is here to help explain which policy operations protect specific panko APIs, but it is not suggested to copy and paste into a deployment unless you're planning on providing a different policy for an operation that is not the default. The sample policy file can also be viewed in :download:`file form <../_static/panko.policy.yaml.sample>`. .. literalinclude:: ../_static/panko.policy.yaml.sample ",0,304
openstack%2Faodh~master~I8e34872b550c3a2fe0bb251f4686b55cfe6e8733,openstack/aodh,master,I8e34872b550c3a2fe0bb251f4686b55cfe6e8733,Replace oslo_utils.fnmatch with fnmatch,ABANDONED,2021-07-06 12:07:18.000000000,2021-07-09 13:12:06.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 12:07:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/22074b5afd216b40792909f94304b7f4a0b9f387', 'message': ""Replace deprecated oslo_utils.fnmatch\n\noslo_utils.fnmatch was deprecated[1] and the stdlib's fnmatch module\nshould be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}, {'number': 2, 'created': '2021-07-06 12:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/e032a5f83f1fb735c941bbae1ebf4ee942c7e468', 'message': ""Replace deprecated oslo_utils.fnmatch\n\noslo_utils.fnmatch was deprecated since oslo.utils 4.9.1[1] and\nthe stdlib's fnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}, {'number': 3, 'created': '2021-07-06 12:15:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/581e09eba51b6cf6929378928b6f2451ed34f4ac', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}, {'number': 4, 'created': '2021-07-06 12:23:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/af1cd4c252bbf2c66c5f3455947ecb49c052b561', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}, {'number': 5, 'created': '2021-07-09 12:01:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/aodh/commit/76792b4f29ca1fdeadef821c5a943b536faab894', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}, {'number': 6, 'created': '2021-07-09 12:08:43.000000000', 'files': ['aodh/evaluator/event.py'], 'web_link': 'https://opendev.org/openstack/aodh/commit/e6b4d70396a5c82fcdf897ad637d8fe9bc300a17', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733\n""}]",0,799651,e6b4d70396a5c82fcdf897ad637d8fe9bc300a17,11,2,6,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: I8e34872b550c3a2fe0bb251f4686b55cfe6e8733
",git fetch https://review.opendev.org/openstack/aodh refs/changes/51/799651/6 && git format-patch -1 --stdout FETCH_HEAD,['aodh/evaluator/event.py'],1,22074b5afd216b40792909f94304b7f4a0b9f387,fnmatch,import fnmatch,from oslo_utils import fnmatch,1,1
openstack%2Faodh~master~I91aa17b7fd1d224cb5a611e287bf4f9aee19ffcc,openstack/aodh,master,I91aa17b7fd1d224cb5a611e287bf4f9aee19ffcc,Make aodh tempest jobs non-voting,ABANDONED,2021-07-09 10:07:12.000000000,2021-07-09 13:04:23.000000000,,"[{'_account_id': 4264}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 10:07:12.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/aodh/commit/27be32b0a658de89113ba419755547d73c27afcd', 'message': 'Make aodh tempest jobs non-voting\n\nto allow merging of\nhttps://review.opendev.org/c/openstack/aodh/+/799651/\n\nChange-Id: I91aa17b7fd1d224cb5a611e287bf4f9aee19ffcc\n'}]",0,800174,27be32b0a658de89113ba419755547d73c27afcd,4,2,1,4264,,,0,"Make aodh tempest jobs non-voting

to allow merging of
https://review.opendev.org/c/openstack/aodh/+/799651/

Change-Id: I91aa17b7fd1d224cb5a611e287bf4f9aee19ffcc
",git fetch https://review.opendev.org/openstack/aodh refs/changes/74/800174/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,27be32b0a658de89113ba419755547d73c27afcd,aodh_tempest, voting: false voting: false,,2,0
openstack%2Fpython-tripleoclient~master~I21f40f93e393f5470e860aea0b63d8045f7020e3,openstack/python-tripleoclient,master,I21f40f93e393f5470e860aea0b63d8045f7020e3,Changing the constant to reflect new VF behavior.,ABANDONED,2021-05-25 14:48:20.000000000,2021-07-09 12:56:06.000000000,,"[{'_account_id': 8449}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 32926}]","[{'number': 1, 'created': '2021-05-25 14:48:20.000000000', 'files': ['tripleoclient/constants.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/715660ed10acb19b0c9732d061828415f5d68ad8', 'message': ""Changing the constant to reflect new VF behavior.\n\nLogs are now stored in the home directory, as it is\nalways accessible to the current user, provided he has one.\n\nOriginal '/var/log/validations' directory could be\nmissing or have incorrect permisssions.\n\nThis patch harmonizes the constant with the one in 'validations-libs'.\n\nDepends-On: https://review.opendev.org/c/openstack/validations-libs/+/789174\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I21f40f93e393f5470e860aea0b63d8045f7020e3\n""}]",1,792990,715660ed10acb19b0c9732d061828415f5d68ad8,8,7,1,32926,,,0,"Changing the constant to reflect new VF behavior.

Logs are now stored in the home directory, as it is
always accessible to the current user, provided he has one.

Original '/var/log/validations' directory could be
missing or have incorrect permisssions.

This patch harmonizes the constant with the one in 'validations-libs'.

Depends-On: https://review.opendev.org/c/openstack/validations-libs/+/789174

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I21f40f93e393f5470e860aea0b63d8045f7020e3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/90/792990/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,715660ed10acb19b0c9732d061828415f5d68ad8,validations/logdir,"VALIDATIONS_LOG_BASEDIR = os.path.join(os.environ.get('HOME'), 'validations')",VALIDATIONS_LOG_BASEDIR = '/var/log/validations',1,1
openstack%2Fceilometer~master~I44fa70d4f572e013a88762cdff45ab6c5375d2a7,openstack/ceilometer,master,I44fa70d4f572e013a88762cdff45ab6c5375d2a7,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:34:56.000000000,2021-07-09 12:46:43.000000000,2021-07-09 12:44:59.000000000,"[{'_account_id': 4264}, {'_account_id': 7198}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 00:34:56.000000000', 'files': ['doc/source/releasenotes/folsom.rst'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/62625de0b74a39ebcab0436e46d79d7757f8d476', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I44fa70d4f572e013a88762cdff45ab6c5375d2a7\n'}]",0,799931,62625de0b74a39ebcab0436e46d79d7757f8d476,10,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I44fa70d4f572e013a88762cdff45ab6c5375d2a7
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/31/799931/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/releasenotes/folsom.rst'],1,62625de0b74a39ebcab0436e46d79d7757f8d476,oftc, #openstack-metering on OFTC for more info., #openstack-metering on freenode for more info.,1,1
openstack%2Fcinder~master~Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,openstack/cinder,master,Icd7a929e7cbce0c74f6b340f4e09f74a8098d752,NetApp ONTAP: Fix QoS lost after moving volume,MERGED,2020-12-09 20:05:48.000000000,2021-07-09 12:45:49.000000000,2021-07-09 12:42:22.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 18058}, {'_account_id': 22348}, {'_account_id': 27615}, {'_account_id': 30555}, {'_account_id': 30615}, {'_account_id': 31721}, {'_account_id': 32291}]","[{'number': 1, 'created': '2020-12-09 20:05:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8fc91c63768d59288e19849f3b49da9fe989e1b0', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nWhen a migrate operation is issued and it completes, the resulting\nvolume ends up without a QoS.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}, {'number': 2, 'created': '2021-03-17 11:12:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/c30d0d437af867d3b96897708ce42c3c0a28068e', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nWhen a migrate operation is issued and it completes, the resulting\nvolume ends up without a QoS.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}, {'number': 3, 'created': '2021-03-18 17:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/9b2aac765805c8205b7a1f69aa6f6d2181a0d45b', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nWhen a migrate operation is issued and it completes, the resulting\nvolume ends up without a QoS.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}, {'number': 4, 'created': '2021-03-26 10:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8600267ac8549b4243cfb61786d1a113385f95a2', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nWhen a migrate operation is issued and it completes, the resulting\nvolume ends up without a QoS.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}, {'number': 5, 'created': '2021-04-16 15:05:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b2a7a5887f1ac15b3fa00d728e7360796f2d8f51', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nOn NetApp NFS, when a migrate operation is issued and it completes, the\nresulting volume ends up without a QoS.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}, {'number': 6, 'created': '2021-06-10 09:24:30.000000000', 'files': ['releasenotes/notes/netapp-migrated-qos-c0c8aae50d010c75.yaml', 'cinder/volume/drivers/netapp/utils.py', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/da100e1fca610cefb7e77079ab3170b068e328a2', 'message': 'NetApp ONTAP: Fix QoS lost after moving volume\n\nWhen a Cinder volume is created with a volume-type associated to a QoS\nentity, the driver creates a QoS policy group at the ONTAP back end, and\nassociates it to the entity representing the Cinder volume (either a LUN\nor a file within an NFS share).\n\nOn NetApp NFS, when a migrate operation is issued and it completes, the\nresulting volume ends up without a QoS.  That happens because the file\nis being renamed while the QoS refers to the now non-existent file.\n\nThis patch makes it so that the file is not renamed when finishing a\nmigration and the driver code uses the ``name_id`` attribute instead of\nthe ``id`` one to refer to the right UUID.\n\nCloses-Bug: #1906291\nChange-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752\n'}]",12,766296,da100e1fca610cefb7e77079ab3170b068e328a2,197,9,6,9535,,,0,"NetApp ONTAP: Fix QoS lost after moving volume

When a Cinder volume is created with a volume-type associated to a QoS
entity, the driver creates a QoS policy group at the ONTAP back end, and
associates it to the entity representing the Cinder volume (either a LUN
or a file within an NFS share).

On NetApp NFS, when a migrate operation is issued and it completes, the
resulting volume ends up without a QoS.  That happens because the file
is being renamed while the QoS refers to the now non-existent file.

This patch makes it so that the file is not renamed when finishing a
migration and the driver code uses the ``name_id`` attribute instead of
the ``id`` one to refer to the right UUID.

Closes-Bug: #1906291
Change-Id: Icd7a929e7cbce0c74f6b340f4e09f74a8098d752
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/766296/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/netapp-migrated-qos-c0c8aae50d010c75.yaml', 'cinder/tests/unit/volume/drivers/netapp/fakes.py', 'cinder/volume/drivers/netapp/utils.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/test_utils.py']",6,8fc91c63768d59288e19849f3b49da9fe989e1b0,netapp-qos," expected = 'openstack-%s' % fake.VOLUME_NAME def test_get_qos_policy_group_name_no_volume_name(self): volume = copy.deepcopy(fake.VOLUME) del(volume['name']) result = na_utils.get_qos_policy_group_name(volume) self.assertEqual(expected, result) def test_get_qos_policy_group_name_from_info(self): expected = 'openstack-%s' % fake.VOLUME_NAME expected = 'openstack-%s' % fake.VOLUME_NAME", expected = 'openstack-%s' % fake.VOLUME_ID def test_get_qos_policy_group_name_from_info(self): expected = 'openstack-%s' % fake.VOLUME_ID,35,6
openstack%2Fneutron~master~I5721f0986c69adf92193cd75133b19f897a186b2,openstack/neutron,master,I5721f0986c69adf92193cd75133b19f897a186b2,"Use IP_VERSION_{4,6} constants in ovn_client module",MERGED,2021-07-06 11:56:14.000000000,2021-07-09 12:45:28.000000000,2021-07-09 12:41:58.000000000,"[{'_account_id': 1131}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 33145}]","[{'number': 1, 'created': '2021-07-06 11:56:14.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/838b1d29c97f5bc4e7ec56acb1ab1adc27a1f42b', 'message': ""Use IP_VERSION_{4,6} constants in ovn_client module\n\nIt wasn't used everywhere in that module so this patch fixes that.\n\nTrivialFix\n\nChange-Id: I5721f0986c69adf92193cd75133b19f897a186b2\n""}]",0,799650,838b1d29c97f5bc4e7ec56acb1ab1adc27a1f42b,19,4,1,11975,,,0,"Use IP_VERSION_{4,6} constants in ovn_client module

It wasn't used everywhere in that module so this patch fixes that.

TrivialFix

Change-Id: I5721f0986c69adf92193cd75133b19f897a186b2
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/799650/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py'],1,838b1d29c97f5bc4e7ec56acb1ab1adc27a1f42b,ip_version_constants," if gw_info.ip_version == const.IP_VERSION_6: if subnet['ip_version'] != const.IP_VERSION_4: if subnet['ip_version'] == const.IP_VERSION_4: if subnet['ip_version'] == const.IP_VERSION_4: if ip_version == const.IP_VERSION_4: self._process_global_dhcp_opts(options, ip_version=const.IP_VERSION_4) self._process_global_dhcp_opts(dhcpv6_opts, ip_version=const.IP_VERSION_6) if subnet['ip_version'] == const.IP_VERSION_4: network_id=[network_id], ip_version=[const.IP_VERSION_4]))"," if gw_info.ip_version == 6: if subnet['ip_version'] != 4: if subnet['ip_version'] == 4: if subnet['ip_version'] == 4: if ip_version == 4: self._process_global_dhcp_opts(options, ip_version=4) self._process_global_dhcp_opts(dhcpv6_opts, ip_version=6) if subnet['ip_version'] == 4: network_id=[network_id], ip_version=[4]))",10,9
openstack%2Fnova~stable%2Fussuri~I15c3119857970c38541f4de270bd561166334548,openstack/nova,stable/ussuri,I15c3119857970c38541f4de270bd561166334548,[neutron] Get only ID and name of the SGs from Neutron,MERGED,2021-04-21 07:15:49.000000000,2021-07-09 12:45:24.000000000,2021-07-09 12:41:42.000000000,"[{'_account_id': 4690}, {'_account_id': 7634}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 07:15:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/073b3ad91393ab6063974bc796735c1a72455903', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n'}, {'number': 2, 'created': '2021-05-14 06:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/704b7fd5fcaeaef8521c1eb3bfc947f787b529b9', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit 7a80a410a498469d2bbb5f13f3cf06a422dd9055)\n'}, {'number': 3, 'created': '2021-06-24 07:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8e8cfe36d153a1bfa57e90cb8c3f5857f11211a6', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit 7a80a410a498469d2bbb5f13f3cf06a422dd9055)\n'}, {'number': 4, 'created': '2021-06-28 05:44:28.000000000', 'files': ['nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/be4a514c8aea073a9188cfc878c9afcc9b03cb28', 'message': '[neutron] Get only ID and name of the SGs from Neutron\n\nDuring the VM booting process Nova asks Neutron for the security groups\nof the project. If there are no any fields specified, Neutron will\nprepare list of security groups with all fields, including rules.\nIn case if project got many SGs, it may take long time as rules needs to\nbe loaded separately for each SG on Neutron\'s side.\n\nDuring booting of the VM, Nova really needs only ""id"" and ""name"" of the\nsecurity groups so this patch limits request to only those 2 fields.\n\nThis lazy loading of the SG rules was introduced in Neutron in [1] and\n[2].\n\n[1] https://review.opendev.org/#/c/630401/\n[2] https://review.opendev.org/#/c/637407/\n\nRelated-Bug: #1865223\nChange-Id: I15c3119857970c38541f4de270bd561166334548\n(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)\n(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)\n(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)\n'}]",0,787253,be4a514c8aea073a9188cfc878c9afcc9b03cb28,55,4,4,11975,,,0,"[neutron] Get only ID and name of the SGs from Neutron

During the VM booting process Nova asks Neutron for the security groups
of the project. If there are no any fields specified, Neutron will
prepare list of security groups with all fields, including rules.
In case if project got many SGs, it may take long time as rules needs to
be loaded separately for each SG on Neutron's side.

During booting of the VM, Nova really needs only ""id"" and ""name"" of the
security groups so this patch limits request to only those 2 fields.

This lazy loading of the SG rules was introduced in Neutron in [1] and
[2].

[1] https://review.opendev.org/#/c/630401/
[2] https://review.opendev.org/#/c/637407/

Related-Bug: #1865223
Change-Id: I15c3119857970c38541f4de270bd561166334548
(cherry picked from commit 388498ac5fa15ed8deef06ec061ea47e4a1b7377)
(cherry picked from commit 4f49545afaf3cd453796d48ba96b9a82d11c01bf)
(cherry picked from commit f7d84db5876b30d6849877799c08ebc65ac077ca)
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/787253/4 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutron.py'],1,073b3ad91393ab6063974bc796735c1a72455903,bug/1865223," # NOTE(slaweq): fields other than name and id aren't really needed # so asking only about those fields will allow Neutron to not # prepare list of rules for each found security group. That may # speed processing of this request a lot in case when tenant has # got many security groups sg_fields = ['id', 'name'] fields=sg_fields, **search_opts).get('security_groups')", **search_opts).get('security_groups'),7,1
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~I557962e77d6558281603b40d0adf01b912e8c2f9,openstack/tripleo-heat-templates,stable/wallaby,I557962e77d6558281603b40d0adf01b912e8c2f9,FFU: change transfer parameters for database resync,MERGED,2021-07-08 17:33:29.000000000,2021-07-09 12:31:44.000000000,2021-07-09 12:31:44.000000000,"[{'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-08 17:33:29.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f972c371008cd5e6b32b01d3710ea81e8dd72f2e', 'message': ""FFU: change transfer parameters for database resync\n\nConfigure tripleo_transfer's flags to mimick the way a galera SST\ntransfers the entire database between two nodes: in-place copy,\nno delta-transfer, no compression, selective file copy.\n\nTested by running an FFU from Queens to Train on an composable\nHA overcloud.\n\nChange-Id: I557962e77d6558281603b40d0adf01b912e8c2f9\nCloses-Bug: #1925260\n(cherry picked from commit 5ef7f9330abb2b8d9fa981ef9a9a4824bf069ac7)\n""}]",0,799985,f972c371008cd5e6b32b01d3710ea81e8dd72f2e,8,4,1,20778,,,0,"FFU: change transfer parameters for database resync

Configure tripleo_transfer's flags to mimick the way a galera SST
transfers the entire database between two nodes: in-place copy,
no delta-transfer, no compression, selective file copy.

Tested by running an FFU from Queens to Train on an composable
HA overcloud.

Change-Id: I557962e77d6558281603b40d0adf01b912e8c2f9
Closes-Bug: #1925260
(cherry picked from commit 5ef7f9330abb2b8d9fa981ef9a9a4824bf069ac7)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/799985/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,f972c371008cd5e6b32b01d3710ea81e8dd72f2e,transfer-pattern-stable/wallaby, # inline copy of galera database tripleo_transfer_sync_options: --whole-file --ignore-times --inplace --archive --delete # include innodb files and dirs (schemas) tripleo_transfer_include: - '/ibdata*' - '/ib_lru_dump' - '/ib_logfile[0-9]*' - '/undo*' - '/*/' # exclude everything else tripleo_transfer_exclude: '/*',,16,0
openstack%2Ftripleo-heat-templates~master~I0e1f7eed0ffe751fa54682103051ad29c08c1517,openstack/tripleo-heat-templates,master,I0e1f7eed0ffe751fa54682103051ad29c08c1517,Make default of NeutronDefaultAvailabilityZones empty array,MERGED,2021-07-07 15:56:37.000000000,2021-07-09 12:31:26.000000000,2021-07-09 12:31:26.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-07 15:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae262ec188a254aad8eb6f733bbda9ca48b1f8a9', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n""}, {'number': 2, 'created': '2021-07-08 05:50:45.000000000', 'files': ['deployment/neutron/neutron-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1', 'message': ""Make default of NeutronDefaultAvailabilityZones empty array\n\nNeutronDefaultAvailabilityZones is of type comma_delimited_list\ntherefore the default need to be [] instead of ''. Right now\nthe condition checks for empty string which is not the case\nfor comma_delimited_list and the hieradata covered by the\naz_unset condition get always set.\n\nCloses-Bug: #1934970\n\nChange-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517\n""}]",0,799860,f276e7a4ae39c484226c2ebe6053e7a53a6fcaa1,13,6,2,17216,,,0,"Make default of NeutronDefaultAvailabilityZones empty array

NeutronDefaultAvailabilityZones is of type comma_delimited_list
therefore the default need to be [] instead of ''. Right now
the condition checks for empty string which is not the case
for comma_delimited_list and the hieradata covered by the
az_unset condition get always set.

Closes-Bug: #1934970

Change-Id: I0e1f7eed0ffe751fa54682103051ad29c08c1517
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/60/799860/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/neutron-api-container-puppet.yaml'],1,ae262ec188a254aad8eb6f733bbda9ca48b1f8a9,," default: [] not: {equals: [{get_param: NeutronDefaultAvailabilityZones}, []]}"," default: '' not: {equals: [{get_param: NeutronDefaultAvailabilityZones}, '']}",2,2
openstack%2Freleases~master~I8a595c2cf9d88dc12050912ead0024d0f1655a2e,openstack/releases,master,I8a595c2cf9d88dc12050912ead0024d0f1655a2e,oslo.utils 4.9.2,MERGED,2021-07-08 11:36:55.000000000,2021-07-09 12:23:37.000000000,2021-07-09 12:23:37.000000000,"[{'_account_id': 13861}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-08 11:36:55.000000000', 'files': ['deliverables/xena/oslo.utils.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6658f96d2a0603499292547f44b371c749a747a2', 'message': 'oslo.utils 4.9.2\n\nMake a deprecation warning less annoying and remove a call that enabled\nwarnings unilaterally.\n\nChange-Id: I8a595c2cf9d88dc12050912ead0024d0f1655a2e\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",0,800017,6658f96d2a0603499292547f44b371c749a747a2,9,4,1,15334,,,0,"oslo.utils 4.9.2

Make a deprecation warning less annoying and remove a call that enabled
warnings unilaterally.

Change-Id: I8a595c2cf9d88dc12050912ead0024d0f1655a2e
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/releases refs/changes/17/800017/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/oslo.utils.yaml'],1,6658f96d2a0603499292547f44b371c749a747a2,oslo.utils, - version: 4.9.2 projects: - repo: openstack/oslo.utils hash: 75c4abd909aa86f01e138329e89ffc31d53ef2d3,,4,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Ic68fbc91e538ebb101b67b2abb3e285a79d770ab,openstack/tripleo-heat-templates,stable/wallaby,Ic68fbc91e538ebb101b67b2abb3e285a79d770ab,Moves undercloud upgrade introspection data migration to step 1,MERGED,2021-07-08 10:19:44.000000000,2021-07-09 11:47:35.000000000,2021-07-09 11:47:35.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-08 10:19:44.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/81373cb67777c44f1732552e3708f44d939d5d1c', 'message': 'Moves undercloud upgrade introspection data migration to step 1\n\nThis moves the ironic introspection data migration from swift\nto dbase to step1 of upgrade_tasks. It was previously in step3 but\nthat caused related-bug since mysql is down at that point. Needed\nby [1] to fix the failing undercloud-upgrade job.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393\nRelated-Bug: 1934658\n\nChange-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab\n(cherry picked from commit dce6bee2f9e477fd53f01b76b8fad4c7ef79cf8b)\n'}]",0,800007,81373cb67777c44f1732552e3708f44d939d5d1c,9,3,1,8449,,,0,"Moves undercloud upgrade introspection data migration to step 1

This moves the ironic introspection data migration from swift
to dbase to step1 of upgrade_tasks. It was previously in step3 but
that caused related-bug since mysql is down at that point. Needed
by [1] to fix the failing undercloud-upgrade job.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393
Related-Bug: 1934658

Change-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab
(cherry picked from commit dce6bee2f9e477fd53f01b76b8fad4c7ef79cf8b)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/800007/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,81373cb67777c44f1732552e3708f44d939d5d1c,wallaby-upgrade-jobs," - name: migrate existing introspection data shell: > {{ container_cli }} exec -u root ironic_inspector ironic-inspector-migrate-data --from swift --to database --config-file /etc/ironic-inspector/inspector.conf become: true register: ironic_inspector_migrate_data_result when: - step|int == 1 failed_when: - ironic_inspector_migrate_data_result.rc is defined # do not fail in dry run mode - ironic_inspector_migrate_data_result.rc not in [0, 125] # ignore if container not running"," - name: migrate existing introspection data shell: > {{ container_cli }} exec -u root ironic_inspector ironic-inspector-migrate-data --from swift --to database --config-file /etc/ironic-inspector/inspector.conf become: true register: ironic_inspector_migrate_data_result when: - step|int == 3 failed_when: - ironic_inspector_migrate_data_result.rc is defined # do not fail in dry run mode - ironic_inspector_migrate_data_result.rc not in [0, 125] # ignore if container not running",11,11
openstack%2Ftripleo-quickstart-extras~master~I0a35182f72eaef02bad22e6fb702af3651092c28,openstack/tripleo-quickstart-extras,master,I0a35182f72eaef02bad22e6fb702af3651092c28,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:51:17.000000000,2021-07-09 11:47:29.000000000,2021-07-09 11:47:29.000000000,"[{'_account_id': 7198}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-08 00:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/6b96cb37411a431b016ba62523a669cc91fda57d', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I0a35182f72eaef02bad22e6fb702af3651092c28\n'}, {'number': 2, 'created': '2021-07-08 14:44:20.000000000', 'files': ['roles/create-reproducer-script/files/README-reproducer-quickstart.html', 'roles/validate-tempest/files/tempestmail/template/template.html', 'roles/create-reproducer-script/templates/README-reproducer-quickstart.html.j2', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/38a0bc4cda54ac525cd5895f7f8723da606441d8', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I0a35182f72eaef02bad22e6fb702af3651092c28\n'}]",2,799941,38a0bc4cda54ac525cd5895f7f8723da606441d8,14,6,2,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I0a35182f72eaef02bad22e6fb702af3651092c28
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/41/799941/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/create-reproducer-script/files/README-reproducer-quickstart.html', 'roles/validate-tempest/files/tempestmail/template/template.html', 'roles/create-reproducer-script/templates/README-reproducer-quickstart.html.j2', 'roles/create-zuul-based-reproducer/templates/README-reproducer-zuul-based-quickstart.html.j2']",4,6b96cb37411a431b016ba62523a669cc91fda57d,oftc,Check on IRC OFTC channel <i>#tripleo</i> to see if there's an ongoing infra,Check on IRC Freenode channel <i>#tripleo</i> to see if there's an ongoing infra,4,4
openstack%2Fpython-troveclient~master~Id0853dfb207bbd219755d46a9c0d6b4e897bfbeb,openstack/python-troveclient,master,Id0853dfb207bbd219755d46a9c0d6b4e897bfbeb,Fix detach configuration from instance,MERGED,2021-07-09 08:48:46.000000000,2021-07-09 10:32:33.000000000,2021-07-09 10:31:25.000000000,"[{'_account_id': 6732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-09 08:48:46.000000000', 'files': ['troveclient/v1/instances.py', 'troveclient/tests/osc/v1/test_database_configurations.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/osc/v1/database_instances.py'], 'web_link': 'https://opendev.org/openstack/python-troveclient/commit/64f3f62368e3f278ce235d1cd22bc3b280d1f860', 'message': 'Fix detach configuration from instance\n\nChange-Id: Id0853dfb207bbd219755d46a9c0d6b4e897bfbeb\n'}]",0,800166,64f3f62368e3f278ce235d1cd22bc3b280d1f860,7,2,1,6732,,,0,"Fix detach configuration from instance

Change-Id: Id0853dfb207bbd219755d46a9c0d6b4e897bfbeb
",git fetch https://review.opendev.org/openstack/python-troveclient refs/changes/66/800166/1 && git format-patch -1 --stdout FETCH_HEAD,"['troveclient/v1/instances.py', 'troveclient/tests/osc/v1/test_database_configurations.py', 'troveclient/osc/v1/database_configurations.py', 'troveclient/osc/v1/database_instances.py']",4,64f3f62368e3f278ce235d1cd22bc3b280d1f860,detach-config," '--detach_replica_source', '--remove_configuration',"," '--detach_replica_source', '--remove_configuration',",24,14
openstack%2Fironic~stable%2Fwallaby~Iac457e483068f613ded2aeff60cf6d9fc64a7dac,openstack/ironic,stable/wallaby,Iac457e483068f613ded2aeff60cf6d9fc64a7dac,Use selectinload for all list queries,MERGED,2021-07-07 19:25:42.000000000,2021-07-09 10:24:27.000000000,2021-07-08 18:46:23.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:25:42.000000000', 'files': ['releasenotes/notes/change-db-access-pattern-for-node-lists-a333dd9c5afa737d.yaml', 'ironic/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/831cd5a15ed8276129ef39d46ac3d6e434c6fa23', 'message': 'Use selectinload for all list queries\n\nSince node objects *can* be large, and due to the nature of joined\nrecord dedeuplication, we should avoid them for list operations to\nspeed the operation to completion by *instead* allowing the client\nto execute three queries and reconcile versus dedeuplicate the\nsingle node.\n\nThis *should* result in generally faster list interaction, and\npreserves the behavior for nodes at this time in order to\nminimize a drastic increase of SQL queries for individual nodes.\n\nChange-Id: Iac457e483068f613ded2aeff60cf6d9fc64a7dac\n'}]",0,799907,831cd5a15ed8276129ef39d46ac3d6e434c6fa23,11,3,1,10342,,,0,"Use selectinload for all list queries

Since node objects *can* be large, and due to the nature of joined
record dedeuplication, we should avoid them for list operations to
speed the operation to completion by *instead* allowing the client
to execute three queries and reconcile versus dedeuplicate the
single node.

This *should* result in generally faster list interaction, and
preserves the behavior for nodes at this time in order to
minimize a drastic increase of SQL queries for individual nodes.

Change-Id: Iac457e483068f613ded2aeff60cf6d9fc64a7dac
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/799907/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/change-db-access-pattern-for-node-lists-a333dd9c5afa737d.yaml', 'ironic/db/sqlalchemy/api.py']",2,831cd5a15ed8276129ef39d46ac3d6e434c6fa23,,"def _get_node_query_with_all_for_single_node(): This method utilizes a joined load query which creates a result set where corresponding traits, and tags, are joined together in the result set. This is more efficent from a Queries Per Second standpoint with the backend database, as they are not separate distinct queries which are being executed by the client. The downside of this, is the relationship of tags and traits to nodes is that there may be multiple tags and traits for each node. Ultimately this style of query forces SQLAlchemy to de-duplicate the result set because the database returns the nodes portion of the result set for every trait, tag, or other table field the query is joined with. This looks like: node1, tag1, trait1 node1, tag1, trait2 node1, tag1, trait3 node1, tag2, trait1 Et cetra, to create: node1, [tag1, tag2], [trait1, trait 2, trait3] Where joins are super in-efficent for Ironic, is where nodes are being enumerated, as the above result set pattern is not just for one node, but potentially thousands of nodes. In that case, we should use the _get_node_query_with_all_for_list helper to return a more appropriate query object which will be more efficient for the end user. # NOTE(TheJulia): This *likely* ought to be selectinload, however # it is a very common hit pattern for Ironic to query just the node. # In those sorts of locations, the performance issues are less noticable # to end users. *IF/WHEN* we change it to be selectinload for nodes, # the resulting DB load will see a queries per second increase, which # we should be careful about. # NOTE(TheJulia): Basic benchmark difference # Test data creation: 67.202 seconds. # 2.43 seconds to obtain all nodes from SQLAlchemy (10k nodes) # 5.15 seconds to obtain all nodes *and* have node objects (10k nodes)def _get_node_query_with_all_for_list(): """"""Return a query object for the Node with queried extra fields. This method returns a query object joining tags and traits in a pattern where the result set is first built, and then the resulting associations are queried separately and the objects are reconciled by SQLAlchemy to build the composite objects based upon the associations. This results in the following query pattern when the query is executed: select $fields from nodes where x; # SQLAlchemy creates a list of associated node IDs. select $fields from tags where node_id in ('1', '3', '37268'); select $fields from traits where node_id in ('1', '3', '37268'); SQLAlchemy then returns a result set where the tags and traits are composited together efficently as opposed to having to deduplicate the result set. This shifts additional load to the database which was previously a high overhead operation with-in the conductor... which results in a slower conductor. :returns: a query object. """""" # NOTE(TheJulia): When comparing CI rubs *with* this being the default # for all general list operations, at 10k nodes, this pattern appears # to be on-par with a 5% variability between the two example benchmark # tests. That being said, the test *does* not include tags or traits # in it's test data set so client side deduplication is not measured. # NOTE(TheJulia): Basic benchmark difference # tests data creation: 67.117 seconds # 2.32 seconds to obtain all nodes from SQLAlchemy (10k nodes) # 4.99 seconds to obtain all nodes *and* have node objects (10k nodes) # If this holds true, the required record deduplication with joinedload # may be basically the same amount of overhead as requesting the tags # and traits separately. return (model_query(models.Node) .options(selectinload('tags')) .options(selectinload('traits'))) query = _get_node_query_with_all_for_list() query = _get_node_query_with_all_for_single_node() query = _get_node_query_with_all_for_single_node() query = _get_node_query_with_all_for_single_node() query = _get_node_query_with_all_for_single_node() query = _get_node_query_with_all_for_single_node() query = _get_node_query_with_all_for_single_node() q = _get_node_query_with_all_for_single_node()",def _get_node_query_with_all(): query = _get_node_query_with_all() query = _get_node_query_with_all() # be optimistic and assume we usually create a reservation query = _get_node_query_with_all() query = _get_node_query_with_all() query = _get_node_query_with_all() query = _get_node_query_with_all() query = _get_node_query_with_all() q = _get_node_query_with_all(),107,10
openstack%2Fcharm-interface-cinder-backend~master~Ib926ff41b794d9898dbf23a571fb2bca68a6e03f,openstack/charm-interface-cinder-backend,master,Ib926ff41b794d9898dbf23a571fb2bca68a6e03f,Stop configuring install_command in tox.,MERGED,2021-06-29 09:56:50.000000000,2021-07-09 10:13:41.000000000,2021-07-09 10:13:41.000000000,"[{'_account_id': 935}, {'_account_id': 12549}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 09:56:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-interface-cinder-backend/commit/baa1b4f61ff610caf60a7b13841e8d68ce3842d1', 'message': 'Stop configuring install_command in tox.\n\nIt turns out that this is the the default value provided by tox:\n\nhttps://tox.readthedocs.io/en/latest/config.html#conf-install_command\n\nSo we can remove the line and simply use the default value.\n\nChange-Id: Ib926ff41b794d9898dbf23a571fb2bca68a6e03f\n'}]",0,798631,baa1b4f61ff610caf60a7b13841e8d68ce3842d1,6,4,1,30615,,,0,"Stop configuring install_command in tox.

It turns out that this is the the default value provided by tox:

https://tox.readthedocs.io/en/latest/config.html#conf-install_command

So we can remove the line and simply use the default value.

Change-Id: Ib926ff41b794d9898dbf23a571fb2bca68a6e03f
",git fetch https://review.opendev.org/openstack/charm-interface-cinder-backend refs/changes/31/798631/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,baa1b4f61ff610caf60a7b13841e8d68ce3842d1,,,install_command = pip install {opts} {packages},0,2
openstack%2Fneutron~master~Ifb2b07b16cf747ec71d37422c4d50978d2510ebe,openstack/neutron,master,Ifb2b07b16cf747ec71d37422c4d50978d2510ebe,[OVN] Update the local.conf for devstack,ABANDONED,2021-07-09 10:01:32.000000000,2021-07-09 10:08:43.000000000,,[],"[{'number': 1, 'created': '2021-07-09 10:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cf4b651e1d86f58b235be863de99415219c62e86', 'message': '[OVN] Update the local.conf for devstack\n\nThe old file name is invalid, update the new one.\n\nChange-Id: Ifb2b07b16cf747ec71d37422c4d50978d2510ebe\n'}]",0,800176,cf4b651e1d86f58b235be863de99415219c62e86,2,0,1,22104,,,0,"[OVN] Update the local.conf for devstack

The old file name is invalid, update the new one.

Change-Id: Ifb2b07b16cf747ec71d37422c4d50978d2510ebe
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/800176/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,cf4b651e1d86f58b235be863de99415219c62e86,,,,0,0
openstack%2Fmanila~stable%2Fwallaby~I113639cc9989bbaf224d19969993870d30b81c29,openstack/manila,stable/wallaby,I113639cc9989bbaf224d19969993870d30b81c29,Updates CephFS drivers docs,MERGED,2021-07-08 15:46:32.000000000,2021-07-09 10:08:09.000000000,2021-07-09 10:06:42.000000000,"[{'_account_id': 6413}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 15:46:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/443ed1a3340ea029461e371bcac0276fdfa6b1ac', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n- Add upgrade to Wallaby considerations (minimum Ceph\nversion required)\n\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n(cherry picked from commit 992ec82575655e9153af4c75fab911dcf598d423)\n'}, {'number': 2, 'created': '2021-07-08 15:47:59.000000000', 'files': ['doc/source/admin/cephfs_driver.rst'], 'web_link': 'https://opendev.org/openstack/manila/commit/2433bca5641035d2e13b7d2fb8ef855133e9db2e', 'message': 'Updates CephFS drivers docs\n\nAs part of our work on updating CephFS drivers\nto use the ceph-mgr interface, the related docs\non the admin guide need to be updated\n\n- Updates ceph caps for manila to include mgr caps,\nremove mds caps, and constrain mon caps\n- Add the new cephfs_filesystem_name param to the\nconfig\n- Add upgrade to Wallaby considerations (minimum Ceph\nversion required)\n\nCloses-Bug: #1933696\nPartially-Implement: bp update-cephfs-drivers\nChange-Id: I113639cc9989bbaf224d19969993870d30b81c29\n(cherry picked from commit 992ec82575655e9153af4c75fab911dcf598d423)\n'}]",0,799984,2433bca5641035d2e13b7d2fb8ef855133e9db2e,13,3,2,16643,,,0,"Updates CephFS drivers docs

As part of our work on updating CephFS drivers
to use the ceph-mgr interface, the related docs
on the admin guide need to be updated

- Updates ceph caps for manila to include mgr caps,
remove mds caps, and constrain mon caps
- Add the new cephfs_filesystem_name param to the
config
- Add upgrade to Wallaby considerations (minimum Ceph
version required)

Closes-Bug: #1933696
Partially-Implement: bp update-cephfs-drivers
Change-Id: I113639cc9989bbaf224d19969993870d30b81c29
(cherry picked from commit 992ec82575655e9153af4c75fab911dcf598d423)
",git fetch https://review.opendev.org/openstack/manila refs/changes/84/799984/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/cephfs_driver.rst'],1,443ed1a3340ea029461e371bcac0276fdfa6b1ac,bug/1933696,"| Wallaby | Octopus | Nautilus, Octopus | Pacific |.. important:: It's recommended to install the latest stable version of Ceph Nautilus/Octopus/Pacific release. See, `Ceph releases <https://docs.ceph.com/en/latest/releases/index.html>`_ Prior to upgrading to Wallaby, please ensure that you're running at least the following versions of Ceph: +----------+-----------------+ | Release | Minimum version | +----------+-----------------+ | Nautilus | 14.2.20 | +----------+-----------------+ | Octopus | 15.2.11 | +----------+-----------------+ | Pacific | 16.2.1 | +----------+-----------------+ - ``python3-rados`` and ``python3-ceph-argparse`` packages installed in the servers running the :term:`manila-share` service.- 3.0 or later versions of NFS-Ganesha.Capabilities required for the Ceph manila identity have changed from the Wallaby release. The Ceph manila identity configured no longer needs any MDS capability. The MON and OSD capabilities can be reduced as well. However new MGR capabilities are now required. If not accorded, the driver cannot communicate to the Ceph Cluster. .. important:: The driver in the Wallaby (or later) release requires a Ceph identity with a different set of Ceph capabilities when compared to the driver in a pre-Wallaby release. When upgrading to Wallaby you'll also have to update the capabilities of the Ceph identity used by the driver (refer to `Ceph user capabilities docs <https://docs.ceph.com/en/octopus/rados/operations/user-management/#modify-user-capabilities>`_) E.g. a native driver that already uses `client.manila` Ceph identity, issue command `ceph auth caps client.manila mon 'allow r' mgr 'allow rw'` For the CephFS Native driver, the auth ID should be set as follows: ceph auth get-or-create client.manila -o manila.keyring \ mgr 'allow rw' \ mon 'allow r' For the CephFS NFS driver, we use a specific pool to store exports (configurable with the config option ""ganesha_rados_store_pool_name""). We also need to specify osd caps for it. So, the auth ID should be set as follows: .. code-block:: console osd 'allow rw pool=<ganesha_rados_store_pool_name>"" \ mgr 'allow rw' \ mon 'allow r' cephfs_filesystem_name = cephfsFinally, edit ``cephfs_filesystem_name`` with the name of the Ceph filesystem (also referred to as a CephFS volume) you want to use. If you have more than one Ceph filesystem in the cluster, you need to set this option. cephfs_filesystem_name = cephfsFinally, edit ``cephfs_filesystem_name`` with the name of the Ceph filesystem (also referred to as a CephFS volume) you want to use. If you have more than one Ceph filesystem in the cluster, you need to set this option. ","| Wallaby | Octopus | Nautilus, Octopus | Nautilus |- ``ceph-common`` package installed in the servers running the :term:`manila-share` service.- 2.5 or later versions of NFS-Ganesha.Run the following commands to create a Ceph identity for a driver instance to use: read -d '' MON_CAPS << EOF allow r, allow command ""auth del"", allow command ""auth caps"", allow command ""auth get"", allow command ""auth get-or-create"" EOF mds 'allow *' \ osd 'allow rw' \ mgr 'allow r' \ mon ""$MON_CAPS"" ",66,18
openstack%2Ftripleo-docs~master~I77dd40078097a250a598f1a37a948daa23718caf,openstack/tripleo-docs,master,I77dd40078097a250a598f1a37a948daa23718caf,Deploy manila in the overcloud with Ganesha,MERGED,2021-07-06 11:40:30.000000000,2021-07-09 10:01:16.000000000,2021-07-09 09:59:53.000000000,"[{'_account_id': 6796}, {'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-06 11:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c6ab0669b1eadddf169c7bb368d2a3f2019be40e', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}, {'number': 2, 'created': '2021-07-06 12:14:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/26e3bbe7409fba5228b5be9270a04d20e9ad5b69', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}, {'number': 3, 'created': '2021-07-06 12:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/dda81722655d542f6af903288eb4f027ca1ee603', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}, {'number': 4, 'created': '2021-07-06 12:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/8016028fda2346317d76ea0624922c657caaa29f', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}, {'number': 5, 'created': '2021-07-06 14:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/a7c26422ebd2ea630628841a621a062d3816036b', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}, {'number': 6, 'created': '2021-07-08 07:37:35.000000000', 'files': ['deploy-guide/source/features/deploy_manila.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/0eb2c02d3846e116edef13d98d389d5826387fdf', 'message': 'Deploy manila in the overcloud with Ganesha\n\nThis change adds the documentation to deploy manila with NFS through\nGanesha and a dedicated composable network that can be used to access\nthe created shares.\n\nChange-Id: I77dd40078097a250a598f1a37a948daa23718caf\n'}]",1,799645,0eb2c02d3846e116edef13d98d389d5826387fdf,24,6,6,25402,,,0,"Deploy manila in the overcloud with Ganesha

This change adds the documentation to deploy manila with NFS through
Ganesha and a dedicated composable network that can be used to access
the created shares.

Change-Id: I77dd40078097a250a598f1a37a948daa23718caf
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/45/799645/5 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/features/deploy_manila.rst'],1,c6ab0669b1eadddf169c7bb368d2a3f2019be40e,cephadm_doc," Deploying Manila in the overcloud with CephFS through NFS and a composable network ---------------------------------------------------------------------------------- The CephFS through NFS back end is composed of Ceph metadata servers (MDS), NFS Ganesha (the NFS gateway), and the Ceph cluster service components. The manila CephFS NFS driver uses NFS-Ganesha gateway to provide NFSv4 protocol access to CephFS shares. The Ceph MDS service maps the directories and file names of the file system to objects that are stored in RADOS clusters. The NFS-Ganesha service runs on the Controller nodes with the Ceph services. CephFS with NFS-Ganesha deployment ---------------------------------- CephFS through NFS deployments use an extra isolated network, StorageNFS. This network is deployed so users can mount shares over NFS on that network without accessing the Storage or Storage Management networks which are reserved for infrastructure traffic. The ControllerStorageNFS custom role configures the isolated StorageNFS network. This role is similar to the default `Controller.yaml` role file with the addition of the StorageNFS network and the CephNfs service, indicated by the `OS::TripleO::Services:CephNfs` command. #. To create the StorageNFSController role, used later in the process by the overcloud deploy command, run:: openstack overcloud roles generate --roles-path /usr/share/openstack-tripleo-heat-templates/roles \ -o /home/stack/roles_data.yaml ControllerStorageNfs Compute CephStorage #. Run the overcloud deploy command including the new generated `roles_data.yaml` and the `network_data_ganesha.yaml` file that will trigger the generation of this new network. The final overcloud command must look like the following:: openstack overcloud deploy \ --templates /usr/share/openstack-tripleo-heat-templates \ -n /usr/share/openstack-tripleo-heat-templates/network_data_ganesha.yaml \ -r /home/stack/roles_data.yaml \ -e /home/stack/containers-default-parameters.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/network-isolation.yaml \ -e /home/stack/network-environment.yaml \ -e/usr/share/openstack-tripleo-heat-templates/environments/cephadm/cephadm.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/cephadm/ceph-mds.yaml \ -e /usr/share/openstack-tripleo-heat-templates/environments/manila-cephfsganesha-config.yaml .. note:: The network_data_ganesha.yaml file contains an additional section that defines the isolated StorageNFS network. Although the default settings work for most installations, you must edit the YAML file to add your network settings, including the VLAN ID, subnet, and other settings:: name: StorageNFS enabled: true vip: true name_lower: storage_nfs vlan: 70 ip_subnet: '172.16.4.0/24' allocation_pools: [{'start': '172.16.4.4', 'end': '172.16.4.149'}] ipv6_subnet: 'fd00:fd00:fd00:7000::/64' ipv6_allocation_pools: [{'start': 'fd00:fd00:fd00:7000::10', 'end': 'fd00:fd00:fd00:7000:ffff:ffff:ffff:fffe'}]",,65,0
openstack%2Ftripleo-quickstart-extras~master~I81fd58bb6f3a232d7b87361c4eefa974feffae40,openstack/tripleo-quickstart-extras,master,I81fd58bb6f3a232d7b87361c4eefa974feffae40,Add ironic ports after importing the nodes,ABANDONED,2021-07-02 08:02:22.000000000,2021-07-09 09:59:07.000000000,,"[{'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-02 08:02:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/9d9bd7c8ddede4b57546bcf6a8c10219230fa71c', 'message': 'Add ironic ports after importing the nodes\n\nCreates an overcloud-ironic-ports.sh script to importing the nodes after\nimporting the nodes. This only applies to master.\n\nCloses-Bug: #1924465\nChange-Id: I81fd58bb6f3a232d7b87361c4eefa974feffae40\n'}, {'number': 2, 'created': '2021-07-02 08:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3b0d21045c9e2d3d3dcb1b838c1603cd8584622f', 'message': 'Add ironic ports after importing the nodes\n\nCreates an overcloud-ironic-ports.sh script to importing the nodes after\nimporting the nodes. This only applies to master.\n\nCloses-Bug: #1934465\nChange-Id: I81fd58bb6f3a232d7b87361c4eefa974feffae40\n'}, {'number': 3, 'created': '2021-07-02 12:12:10.000000000', 'files': ['roles/overcloud-prep-images/templates/overcloud-introspect.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/fccae699acb1bbf8ca9b1ff87d6764e2f72dab15', 'message': 'Add ironic ports after importing the nodes\n\nCreates an overcloud-ironic-ports.sh script to importing the nodes after\nimporting the nodes. This only applies to master.\n\nCloses-Bug: #1934465\nChange-Id: I81fd58bb6f3a232d7b87361c4eefa974feffae40\n'}]",1,799167,fccae699acb1bbf8ca9b1ff87d6764e2f72dab15,10,3,3,22954,,,0,"Add ironic ports after importing the nodes

Creates an overcloud-ironic-ports.sh script to importing the nodes after
importing the nodes. This only applies to master.

Closes-Bug: #1934465
Change-Id: I81fd58bb6f3a232d7b87361c4eefa974feffae40
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/67/799167/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-images/templates/overcloud-import-nodes.sh.j2'],1,9d9bd7c8ddede4b57546bcf6a8c10219230fa71c,bug/1934465,"{% if release == ""master"" %} ## * Register the ironic ports IRONIC_PORTS=`openstack baremetal port list | wc -l` if [ ${IRONIC_PORTS} -eq 1 ]; then cat instackenv.json | jq '.nodes[]| ""\(.mac[]) \(.name)""' | sed -e 's/""//g' | awk '{print ""MAC=""$1""; NODE=`openstack baremetal node show ""$2"" -c uuid -f json | jq .uuid `; openstack baremetal port create --node ${NODE:1:-1} $MAC""}' > $HOME/overcloud-ironic-ports.sh chmod 744 $HOME/overcloud-ironic-ports.sh $HOME/overcloud-ironic-ports.sh fi {% endif %}",,12,0
openstack%2Fmistral~master~I90cd2f1460151e3e8b21717eff5e4a9df940daa4,openstack/mistral,master,I90cd2f1460151e3e8b21717eff5e4a9df940daa4,[Doc] Moving to OFTC,MERGED,2021-06-02 17:06:56.000000000,2021-07-09 09:15:02.000000000,2021-07-09 09:13:44.000000000,"[{'_account_id': 8556}, {'_account_id': 8731}, {'_account_id': 15895}, {'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-06-02 17:06:56.000000000', 'files': ['doc/source/developer/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b64ba9a43fe8fa790c260294b683f45099aae110', 'message': '[Doc] Moving to OFTC\n\nThis patch updates Freenode to OFTC as IRC server in document.\n\nChange-Id: I90cd2f1460151e3e8b21717eff5e4a9df940daa4\n'}]",0,794307,b64ba9a43fe8fa790c260294b683f45099aae110,15,6,1,32102,,,0,"[Doc] Moving to OFTC

This patch updates Freenode to OFTC as IRC server in document.

Change-Id: I90cd2f1460151e3e8b21717eff5e4a9df940daa4
",git fetch https://review.opendev.org/openstack/mistral refs/changes/07/794307/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/developer/contributor/contributing.rst'],1,b64ba9a43fe8fa790c260294b683f45099aae110,oftc,* IRC channel #openstack-mistral at `OFTC`_.. _`OFTC`: https://www.oftc.net ,* IRC channel #openstack-mistral at FreeNode,3,1
openstack%2Fnova~stable%2Fvictoria~I759aa36dc00a6c0612b9755dacd9aa414c408498,openstack/nova,stable/victoria,I759aa36dc00a6c0612b9755dacd9aa414c408498,api: Reject requests to detach a volume when the compute is down,NEW,2021-02-01 09:22:02.000000000,2021-07-09 09:03:09.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-02-01 09:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/602b3e046adff9fdf52eed28414f5d50056675a5', 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nConflicts:\n    nova/tests/unit/compute/test_api.py\n\nNOTE(lyarwood): Conflict due to\nIbd0ffd9906e7d7f22a9233539091d450e8023f07 not being present in\nstable/victoria.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n(cherry picked from commit db8213af8341989354231f9b67dd983365899015)\n'}, {'number': 2, 'created': '2021-07-08 10:55:57.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2c7fd70eb799c44f997e9fde09ecd23aadb32e8c', 'message': 'api: Reject requests to detach a volume when the compute is down\n\nWhen detaching a volume from an instance Nova will currently always\nattempt to make a cast RPC call before returning a successful 202\nresponse to the caller.\n\nThe lack of checking here regarding the underlying compute can lead to\nrequests never being acted upon and has often confused callers when the\ncompute itself is down.\n\nThis change aims to correct this by having the state of the compute\nhosting the instance checked in the compute API layer. When the compute\nis down the initial request is now rejected with a 409 conflict to the\ncaller so they understand why the volume still appears attached.\n\nConflicts:\n    nova/tests/unit/compute/test_api.py\n\nNOTE(lyarwood): Conflict due to\nIbd0ffd9906e7d7f22a9233539091d450e8023f07 not being present in\nstable/victoria.\n\nCloses-Bug: #1909120\nChange-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498\n(cherry picked from commit db8213af8341989354231f9b67dd983365899015)\n'}]",0,773321,2c7fd70eb799c44f997e9fde09ecd23aadb32e8c,15,3,2,10135,,,0,"api: Reject requests to detach a volume when the compute is down

When detaching a volume from an instance Nova will currently always
attempt to make a cast RPC call before returning a successful 202
response to the caller.

The lack of checking here regarding the underlying compute can lead to
requests never being acted upon and has often confused callers when the
compute itself is down.

This change aims to correct this by having the state of the compute
hosting the instance checked in the compute API layer. When the compute
is down the initial request is now rejected with a 409 conflict to the
caller so they understand why the volume still appears attached.

Conflicts:
    nova/tests/unit/compute/test_api.py

NOTE(lyarwood): Conflict due to
Ibd0ffd9906e7d7f22a9233539091d450e8023f07 not being present in
stable/victoria.

Closes-Bug: #1909120
Change-Id: I759aa36dc00a6c0612b9755dacd9aa414c408498
(cherry picked from commit db8213af8341989354231f9b67dd983365899015)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/773321/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1909120.py', 'nova/tests/unit/compute/test_compute.py', 'nova/api/openstack/compute/volumes.py', 'nova/compute/api.py', 'nova/tests/unit/compute/test_api.py']",6,602b3e046adff9fdf52eed28414f5d50056675a5,bug/1909120," def test_volume_detach_while_compute_down(self): """"""Assert that requests to detach a volume from an instance on a down compute are rejected with ServiceUnavailable being raised """""" instance = self._create_instance_obj() with mock.patch.object( self.compute_api, 'get_instance_host_status', return_value=fields_obj.HostStatus.DOWN ) as mock_host_status: self.assertRaises( exception.ServiceUnavailable, self.compute_api.detach_volume, self.context, instance, None) mock_host_status.assert_called_once_with(instance) ",,50,20
openstack%2Fproject-config~master~I814b91e55dd0b1ccf12e6c1c2a780d06c6b6ff05,openstack/project-config,master,I814b91e55dd0b1ccf12e6c1c2a780d06c6b6ff05,Add Vault role to zuul config,ABANDONED,2021-07-07 13:22:07.000000000,2021-07-09 08:35:30.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 13:22:07.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ff2c65b92b6c54f905948573e3fe180c6558cdb4', 'message': 'Add Vault role to zuul config\n\nOnce repo is created, we can add it to the zuul projects and gerritbot\n\nChange-Id: I814b91e55dd0b1ccf12e6c1c2a780d06c6b6ff05\n'}]",0,799824,ff2c65b92b6c54f905948573e3fe180c6558cdb4,4,2,1,28619,,,0,"Add Vault role to zuul config

Once repo is created, we can add it to the zuul projects and gerritbot

Change-Id: I814b91e55dd0b1ccf12e6c1c2a780d06c6b6ff05
",git fetch https://review.opendev.org/openstack/project-config refs/changes/24/799824/1 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'zuul/main.yaml']",2,ff2c65b92b6c54f905948573e3fe180c6558cdb4,osa/vault, - openstack/ansible-role-vault,,2,0
openstack%2Fironic-python-agent~master~I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,openstack/ironic-python-agent,master,I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3,Fix getting memory size in some lshw output,MERGED,2021-04-28 19:41:26.000000000,2021-07-09 08:23:20.000000000,2021-04-30 12:24:44.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-04-28 19:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/99fde0c22f4305cc120547c3509412cec9b88858', 'message': 'Fix getting memory size in some lshw output\n\nDue to a regression in lshw introduced by\nhttps://github.com/lyonel/lshw/pull/60, there are some versions in the\nwild that do not return sizes for memory banks <32GiB. In those cases,\nwork around the problem by looking at the top-level size (if available)\nto find the total size. Previously we assumed that we only needed the\ntop-level size when there was no list of memory banks.\n\nHopefully this will be fixed upstream by\nhttps://github.com/lyonel/lshw/pull/65 at some point.\n\nChange-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3\nStory: #2008865\nTask: 42395\n'}, {'number': 2, 'created': '2021-04-29 18:43:52.000000000', 'files': ['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'releasenotes/notes/lshw-no-memory-bank-size-05ea71987362986e.yaml', 'ironic_python_agent/tests/unit/samples/hardware_samples.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ed791d97786f4ed37bf7b9f18eac8e2af46c3766', 'message': 'Fix getting memory size in some lshw output\n\nDue to a regression in lshw introduced by\nhttps://github.com/lyonel/lshw/pull/60, there are some versions in the\nwild that do not return sizes for memory banks <32GiB. In those cases,\nwork around the problem by looking at the top-level size (if available)\nto find the total size. Previously we assumed that we only needed the\ntop-level size when there was no list of memory banks.\n\nThe issue is fixed upstream by https://github.com/lyonel/lshw/pull/65,\nbut the erroneous patch is still present in the lshw-B.02.19.2-5.el8\npackage in CentOS 8.4 and 8.5.\n\nChange-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3\nStory: #2008865\nTask: 42395\n'}]",0,788588,ed791d97786f4ed37bf7b9f18eac8e2af46c3766,14,3,2,4257,,,0,"Fix getting memory size in some lshw output

Due to a regression in lshw introduced by
https://github.com/lyonel/lshw/pull/60, there are some versions in the
wild that do not return sizes for memory banks <32GiB. In those cases,
work around the problem by looking at the top-level size (if available)
to find the total size. Previously we assumed that we only needed the
top-level size when there was no list of memory banks.

The issue is fixed upstream by https://github.com/lyonel/lshw/pull/65,
but the erroneous patch is still present in the lshw-B.02.19.2-5.el8
package in CentOS 8.4 and 8.5.

Change-Id: I6eb5981d28b9ae368239af0c1d0ec32ff79d95b3
Story: #2008865
Task: 42395
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/88/788588/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'ironic_python_agent/tests/unit/test_hardware.py', 'ironic_python_agent/tests/unit/samples/hardware_samples.py']",3,99fde0c22f4305cc120547c3509412cec9b88858,lshw-no-memory-bank-size,"LSHW_JSON_OUTPUT_NO_MEMORY_BANK_SIZE = ("""""" { ""id"" : ""bumblebee"", ""class"" : ""system"", ""claimed"" : true, ""handle"" : ""DMI:0001"", ""description"" : ""Rack Mount Chassis"", ""product"" : ""ABCD"", ""vendor"" : ""ABCD"", ""version"" : ""1234"", ""serial"" : ""1234"", ""width"" : 64, ""configuration"" : { ""boot"" : ""normal"", ""chassis"" : ""rackmount"", ""family"" : ""Intel Grantley EP"", ""sku"" : ""NULL"", ""uuid"" : ""00010002-0003-0004-0005-000600070008"" }, ""capabilities"" : { ""smbios-2.8"" : ""SMBIOS version 2.8"", ""dmi-2.7"" : ""DMI version 2.7"", ""vsyscall32"" : ""32-bit processes"" }, ""children"" : [ { ""id"" : ""core"", ""class"" : ""bus"", ""claimed"" : true, ""handle"" : ""DMI:0002"", ""description"" : ""Motherboard"", ""product"" : ""ABCD"", ""vendor"" : ""ABCD"", ""physid"" : ""0"", ""version"" : ""1234"", ""serial"" : ""1234"", ""slot"" : ""NULL"", ""children"" : [ { ""id"" : ""memory:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004A"", ""description"" : ""System Memory"", ""physid"" : ""4a"", ""slot"" : ""System board or motherboard"", ""units"" : ""bytes"", ""size"" : 34359738368, ""children"" : [ { ""id"" : ""bank:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004C"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""0"", ""serial"" : ""101B6543"", ""slot"" : ""DIMM_A0"", ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004E"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""1"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A1"" }, { ""id"" : ""bank:2"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:004F"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""2"", ""serial"" : ""101B654E"", ""slot"" : ""DIMM_A2"", ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:3"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0051"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""3"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A3"" } ] }, { ""id"" : ""memory:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0052"", ""description"" : ""System Memory"", ""physid"" : ""52"", ""slot"" : ""System board or motherboard"", ""units"" : ""bytes"", ""size"" : 34359738368, ""children"" : [ { ""id"" : ""bank:0"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0054"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""0"", ""serial"" : ""101B6545"", ""slot"" : ""DIMM_A4"", ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:1"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0056"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""1"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A5"" }, { ""id"" : ""bank:2"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0057"", ""description"" : ""DIMM Synchronous 2133 MHz (0.5 ns)"", ""product"" : ""36ASF2G72PZ-2G1A2"", ""vendor"" : ""Micron"", ""physid"" : ""2"", ""serial"" : ""101B6540"", ""slot"" : ""DIMM_A6"", ""width"" : 64, ""clock"" : 2133000000 }, { ""id"" : ""bank:3"", ""class"" : ""memory"", ""claimed"" : true, ""handle"" : ""DMI:0059"", ""description"" : ""DIMM Synchronous [empty]"", ""product"" : ""NO DIMM"", ""vendor"" : ""NO DIMM"", ""physid"" : ""3"", ""serial"" : ""NO DIMM"", ""slot"" : ""DIMM_A7"" } ] }, { ""id"" : ""memory:4"", ""class"" : ""memory"", ""physid"" : ""1"" }, { ""id"" : ""memory:5"", ""class"" : ""memory"", ""physid"" : ""2"" } ] } ] } """""", """") ",,201,7
openstack%2Fkayobe~stable%2Fussuri~I0510db9fd1b8dd72540c83173267491b32728330,openstack/kayobe,stable/ussuri,I0510db9fd1b8dd72540c83173267491b32728330,Remove outdated upgrade step,MERGED,2021-06-23 12:28:25.000000000,2021-07-09 07:54:01.000000000,2021-07-09 07:52:42.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2021-06-23 12:28:25.000000000', 'files': ['doc/source/upgrading.rst'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/649183ce6cfb11aa68099eba9095814177ab8e3a', 'message': 'Remove outdated upgrade step\n\nMigrating to Ironic hardware types was required in Rocky. This can now\nbe removed from upgrading instructions.\n\nChange-Id: I0510db9fd1b8dd72540c83173267491b32728330\n(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)\n'}]",0,797629,649183ce6cfb11aa68099eba9095814177ab8e3a,9,4,1,15197,,,0,"Remove outdated upgrade step

Migrating to Ironic hardware types was required in Rocky. This can now
be removed from upgrading instructions.

Change-Id: I0510db9fd1b8dd72540c83173267491b32728330
(cherry picked from commit bca23698947aeccc2e2ed300eeb6487a0711873f)
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/29/797629/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/upgrading.rst'],1,649183ce6cfb11aa68099eba9095814177ab8e3a,,,"Migrating to Ironic Hardware Types ---------------------------------- Classic drivers in ironic were `deprecated <https://docs.openstack.org/releasenotes/ironic/queens.html#relnotes-10-1-0-stable-queens-deprecation-notes>`__ in the Queens release, and `removed <https://docs.openstack.org/releasenotes/ironic/rocky.html#relnotes-11-0-0-stable-rocky-upgrade-notes>`__ in the Rocky release. Nodes registered with ironic in Pike and earlier releases of Bifrost use the classic drivers by default, and will need to be migrated to use the new hardware types. The :ironic-doc:`ironic documentation <admin/upgrade-to-hardware-types.html>` provides details for how to do this, but for the default case of the ``agent_ipmitool`` driver the following procedure may be used, replacing ``<node>`` with the name of the host to migrate: .. code-block:: console $ docker exec -it bifrost_deploy bash (bifrost_deploy) $ export OS_URL=http://localhost:6385 (bifrost_deploy) $ export OS_TOKEN=fake (bifrost_deploy) $ openstack baremetal node maintenance set <node> (bifrost_deploy) $ openstack baremetal node set <node> --driver ipmi (bifrost_deploy) $ openstack baremetal node maintenance unset <node> ",0,24
openstack%2Fcinder~master~I2569783aac6cc45a0e42cade6c00ca9de38bdbe4,openstack/cinder,master,I2569783aac6cc45a0e42cade6c00ca9de38bdbe4,Adding volume status,ABANDONED,2021-06-24 08:31:23.000000000,2021-07-09 06:46:10.000000000,,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2021-06-24 08:31:23.000000000', 'files': ['api-ref/source/v3/volumes-v3-volumes.inc'], 'web_link': 'https://opendev.org/openstack/cinder/commit/ea34f7eee5127ccbdb2a23a8109d766facb9d247', 'message': 'Adding volume status\n\nadding managing and error_managing states\nin volume statuses list.\n\nChange-Id: I2569783aac6cc45a0e42cade6c00ca9de38bdbe4\n'}]",0,797812,ea34f7eee5127ccbdb2a23a8109d766facb9d247,16,4,1,30615,,,0,"Adding volume status

adding managing and error_managing states
in volume statuses list.

Change-Id: I2569783aac6cc45a0e42cade6c00ca9de38bdbe4
",git fetch https://review.opendev.org/openstack/cinder refs/changes/12/797812/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/v3/volumes-v3-volumes.inc'],1,ea34f7eee5127ccbdb2a23a8109d766facb9d247,,| managing | providing control of cinder database migration | +------------------+--------------------------------------------------------+ | error_managing | An error occurred while managing volume | +------------------+--------------------------------------------------------+,,4,0
openstack%2Fwatcher-dashboard~stable%2Fvictoria~I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,openstack/watcher-dashboard,stable/victoria,I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,Fix broken devstack install,MERGED,2021-07-09 05:49:16.000000000,2021-07-09 06:17:57.000000000,2021-07-09 06:15:37.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-09 05:49:16.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/4498a25d7e91aa1737a46f6016a2bf7d0bf92a31', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}]",0,799988,4498a25d7e91aa1737a46f6016a2bf7d0bf92a31,7,2,1,29911,,,0,"Fix broken devstack install

Change-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/88/799988/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,4498a25d7e91aa1737a46f6016a2bf7d0bf92a31,, python3 ${DEST}/horizon/manage.py collectstatic --noinput python3 ${DEST}/horizon/manage.py compress --force, python ${DEST}/horizon/manage.py collectstatic --noinput python ${DEST}/horizon//manage.py compress --force,2,2
openstack%2Fwatcher-dashboard~stable%2Fwallaby~I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,openstack/watcher-dashboard,stable/wallaby,I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,Fix broken devstack install,MERGED,2021-07-09 05:48:56.000000000,2021-07-09 06:17:23.000000000,2021-07-09 06:14:25.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-09 05:48:56.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/ce5b07f3a2c03c351ca216e7ece81da82e3262ae', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}]",0,799987,ce5b07f3a2c03c351ca216e7ece81da82e3262ae,7,2,1,29911,,,0,"Fix broken devstack install

Change-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/87/799987/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,ce5b07f3a2c03c351ca216e7ece81da82e3262ae,, python3 ${DEST}/horizon/manage.py collectstatic --noinput python3 ${DEST}/horizon/manage.py compress --force, python ${DEST}/horizon/manage.py collectstatic --noinput python ${DEST}/horizon//manage.py compress --force,2,2
openstack%2Fwatcher-dashboard~stable%2Fussuri~I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,openstack/watcher-dashboard,stable/ussuri,I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,Fix broken devstack install,MERGED,2021-07-09 05:49:33.000000000,2021-07-09 06:15:04.000000000,2021-07-09 06:13:08.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-09 05:49:33.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/abcd7c04b27409b08b62c4311944bbe3a24b1ccd', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}]",0,799989,abcd7c04b27409b08b62c4311944bbe3a24b1ccd,7,2,1,29911,,,0,"Fix broken devstack install

Change-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/89/799989/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,abcd7c04b27409b08b62c4311944bbe3a24b1ccd,, python3 ${DEST}/horizon/manage.py collectstatic --noinput python3 ${DEST}/horizon/manage.py compress --force, python ${DEST}/horizon/manage.py collectstatic --noinput python ${DEST}/horizon//manage.py compress --force,2,2
openstack%2Fwatcher-dashboard~master~I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,openstack/watcher-dashboard,master,I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922,Fix broken devstack install,MERGED,2021-07-08 16:24:42.000000000,2021-07-09 05:58:22.000000000,2021-07-09 05:57:11.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30384}, {'_account_id': 31455}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-08 16:24:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/fd2b72e56e07d85519aaa3128cc472bee323eb79', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}, {'number': 2, 'created': '2021-07-08 18:43:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/029343f9b06b46278fa65b94c2c87a7a7a488e0c', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}, {'number': 3, 'created': '2021-07-08 19:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/362fa4d6b39941074edf58961ef7e93bdcb6efbf', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}, {'number': 4, 'created': '2021-07-08 20:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/3b53f0e3127545cc46c382fd98702da50ed8be69', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}, {'number': 5, 'created': '2021-07-08 20:26:18.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/4192182302a9f81b2cac5aff484161afc776c750', 'message': 'Fix broken devstack install\n\nChange-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922\n'}]",0,800081,4192182302a9f81b2cac5aff484161afc776c750,15,7,5,29911,,,0,"Fix broken devstack install

Change-Id: I79cd70085e9e423fa3a7835e4a7fbd2b0cbf4922
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/81/800081/4 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,fd2b72e56e07d85519aaa3128cc472bee323eb79,, python3 ${DEST}/horizon/manage.py collectstatic --noinput python3 ${DEST}/horizon/manage.py compress --force, python ${DEST}/horizon/manage.py collectstatic --noinput python ${DEST}/horizon//manage.py compress --force,2,2
openstack%2Ftripleo-repos~master~Ib79bd0f1a00ee95bfdae2c1ed4976d0c674c5280,openstack/tripleo-repos,master,Ib79bd0f1a00ee95bfdae2c1ed4976d0c674c5280,"Revert ""Refactoring tripleo-repos""",MERGED,2021-07-08 17:51:41.000000000,2021-07-09 04:31:53.000000000,2021-07-09 04:31:53.000000000,"[{'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-07-08 17:51:41.000000000', 'files': ['requirements.txt', 'tripleo_repos/constants.py', 'tripleo_repos/generate_repos.py', 'tripleo_repos/templates.py', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/exceptions.py', 'tripleo_repos/main.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/5954003e8d524d59a5632e9a38a168ce8474dfe4', 'message': 'Revert ""Refactoring tripleo-repos""\n\nThis reverts commit df387cafb077ed4211287361d1ff86acffb1fd86.\n\nReason for revert: Nothing in centos provides cliff. This cannot be satisfied during the initial installation.  You cannot depend on cliff.\n\nChange-Id: Ib79bd0f1a00ee95bfdae2c1ed4976d0c674c5280\n'}]",0,799986,5954003e8d524d59a5632e9a38a168ce8474dfe4,8,10,1,14985,,,0,"Revert ""Refactoring tripleo-repos""

This reverts commit df387cafb077ed4211287361d1ff86acffb1fd86.

Reason for revert: Nothing in centos provides cliff. This cannot be satisfied during the initial installation.  You cannot depend on cliff.

Change-Id: Ib79bd0f1a00ee95bfdae2c1ed4976d0c674c5280
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/86/799986/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tripleo_repos/constants.py', 'tripleo_repos/generate_repos.py', 'tripleo_repos/templates.py', 'tripleo_repos/tests/test_main.py', 'tripleo_repos/exceptions.py', 'setup.cfg', 'tripleo_repos/main.py']",8,5954003e8d524d59a5632e9a38a168ce8474dfe4,refactoring,"from __future__ import print_function import argparse import os import re import subprocessimport requests TITLE_RE = re.compile('\\[(.*)\\]') NAME_RE = re.compile('name=(.+)') PRIORITY_RE = re.compile('priority=\\d+') # Packages to be included from delorean-current when using current-tripleo INCLUDE_PKGS = ('includepkgs=instack,instack-undercloud,' 'os-apply-config,os-collect-config,os-net-config,' 'os-refresh-config,python*-tripleoclient,' 'openstack-tripleo-*,openstack-puppet-modules,' 'ansible-role-tripleo*,puppet-*,python*-tripleo-common,' 'python*-paunch*,tripleo-ansible,ansible-config_template') DEFAULT_OUTPUT_PATH = '/etc/yum.repos.d' DEFAULT_RDO_MIRROR = 'https://trunk.rdoproject.org' # RHEL is only provided to licensed cloud providers via RHUI DEFAULT_MIRROR_MAP = { 'fedora': 'https://mirrors.fedoraproject.org', 'centos': 'http://mirror.centos.org', 'ubi': 'http://mirror.centos.org', 'rhel': 'https://trunk.rdoproject.org', } CEPH_REPO_TEMPLATE = ''' [tripleo-centos-ceph-%(ceph_release)s] name=tripleo-centos-ceph-%(ceph_release)s baseurl=%(mirror)s/centos/%(centos_release)s/storage/$basearch/ceph-%(ceph_release)s/ gpgcheck=0 enabled=1 ''' OPSTOOLS_REPO_TEMPLATE = ''' [tripleo-centos-opstools] name=tripleo-centos-opstools baseurl=%(mirror)s/centos/7/opstools/$basearch/ gpgcheck=0 enabled=1 ''' # centos-8 only HIGHAVAILABILITY_REPO_TEMPLATE = ''' [tripleo-centos-highavailability] name=tripleo-centos-highavailability baseurl=%(mirror)s/centos/%(stream)s/HighAvailability/$basearch/os/ gpgcheck=0 enabled=1 ''' # centos-8 only POWERTOOLS_REPO_TEMPLATE = ''' [tripleo-centos-powertools] name=tripleo-centos-powertools baseurl=%(mirror)s/centos/%(stream)s/PowerTools/$basearch/os/ gpgcheck=0 enabled=1 ''' # ubi-8 only APPSTREAM_REPO_TEMPLATE = ''' [AppStream] name=CentOS-$releasever - AppStream baseurl=%(mirror)s/centos/$releasever/AppStream/$basearch/os/ gpgcheck=0 enabled=1 %(extra)s ''' BASE_REPO_TEMPLATE = ''' [BaseOS] name=CentOS-$releasever - Base baseurl=%(mirror)s/centos/$releasever/BaseOS/$basearch/os/ gpgcheck=0 enabled=1 ''' # unversioned fedora added for backwards compatibility SUPPORTED_DISTROS = [ ('centos', '7'), ('centos', '8'), ('fedora', ''), ('rhel', '8'), ('ubi', '8') # a subcase of the rhel distro ] class InvalidArguments(Exception): pass class NoRepoTitle(Exception): pass def _get_distro(): """"""Get distro info from os-release returns: distro_id, distro_major_version_id, distro_name """""" output = subprocess.Popen( 'source /etc/os-release && echo -e -n ""$ID\n$VERSION_ID\n$NAME""', shell=True, stdout=subprocess.PIPE, stderr=open(os.devnull, 'w'), executable='/bin/bash', universal_newlines=True).communicate() # distro_id and distro_version_id will always be at least an empty string distro_id, distro_version_id, distro_name = output[0].split('\n') # if distro_version_id is empty string the major version will be empty # string too distro_major_version_id = distro_version_id.split('.')[0] # check if that is UBI subcase? if os.path.exists('/etc/yum.repos.d/ubi.repo'): distro_id = 'ubi' if (distro_id, distro_major_version_id) not in SUPPORTED_DISTROS: print( ""WARNING: Unsupported platform '{}{}' detected by tripleo-repos,"" "" centos7 will be used unless you use CLI param to change it."" """".format(distro_id, distro_major_version_id), file=sys.stderr) distro_id = 'centos' distro_major_version_id = '7' if distro_id == 'ubi': print( ""WARNING: Centos{} Base and AppStream will be installed for "" ""this UBI distro"".format(distro_major_version_id)) return distro_id, distro_major_version_id, distro_name def _parse_args(distro_id, distro_major_version_id): distro = ""{}{}"".format(distro_id, distro_major_version_id) # Calculating arguments default from constants default_mirror = DEFAULT_MIRROR_MAP[distro_id] distro_choices = ["""".join(distro_pair) for distro_pair in SUPPORTED_DISTROS] parser = argparse.ArgumentParser( description='Download and install repos necessary for TripleO. Note ' 'that some of these repos require yum-plugin-priorities, ' 'so that will also be installed.', formatter_class=argparse.ArgumentDefaultsHelpFormatter) parser.add_argument('repos', metavar='REPO', nargs='+', choices=['current', 'deps', 'current-tripleo', 'current-tripleo-dev', 'ceph', 'opstools', 'tripleo-ci-testing', 'current-tripleo-rdo'], help='A list of repos. Available repos: ' '%(choices)s. The deps repo will always be ' 'included when using current or ' 'current-tripleo. current-tripleo-dev ' 'downloads the current-tripleo, current, and ' 'deps repos, but sets the current repo to only ' 'be used for TripleO projects. It also modifies ' 'each repo\'s priority so packages are installed ' 'from the appropriate location.') parser.add_argument('-d', '--distro', default=distro, choices=distro_choices, nargs='?', help='Target distro with default detected at runtime. ' ) parser.add_argument('-b', '--branch', default='master', help='Target branch. Should be the lowercase name of ' 'the OpenStack release. e.g. liberty') parser.add_argument('-o', '--output-path', default=DEFAULT_OUTPUT_PATH, help='Directory in which to save the selected repos.') parser.add_argument('--mirror', default=default_mirror, help='Server from which to install base OS packages. ' 'Default value is based on distro param.') parser.add_argument('--rdo-mirror', default=DEFAULT_RDO_MIRROR, help='Server from which to install RDO packages.') stream_group = parser.add_mutually_exclusive_group() stream_group.add_argument('--stream', action='store_true', default=True, help='Enable stream support for CentOS repos') stream_group.add_argument('--no-stream', action='store_true', default=False, help='Disable stream support for CentOS repos') args = parser.parse_args() if args.no_stream: args.stream = False args.old_mirror = default_mirror return args def _get_repo(path, args): r = requests.get(path) if r.status_code == 200: return _inject_mirrors(r.text, args) else: r.raise_for_status() def _write_repo(content, target, name=None): if not name: m = TITLE_RE.search(content) if not m: raise NoRepoTitle('Could not find repo title in: \n%s' % content) name = m.group(1) # centos-8 dlrn repos have changed. repos per component # are folded into a single repo. if 'component' in name: name = 'delorean' filename = name + '.repo' filename = os.path.join(target, filename) with open(filename, 'w') as f: f.write(content) print('Installed repo %s to %s' % (name, filename)) def _validate_distro_repos(args): """"""Validate requested repos are valid for the distro"""""" valid_repos = [] if 'fedora' in args.distro: valid_repos = ['current', 'current-tripleo', 'ceph', 'deps', 'tripleo-ci-testing'] elif args.distro in ['centos7', 'centos8', 'rhel8', 'ubi8']: valid_repos = ['ceph', 'current', 'current-tripleo', 'current-tripleo-dev', 'deps', 'tripleo-ci-testing', 'opstools', 'current-tripleo-rdo'] invalid_repos = [x for x in args.repos if x not in valid_repos] if len(invalid_repos) > 0: raise InvalidArguments('{} repo(s) are not valid for {}. Valid repos ' 'are: {}'.format(invalid_repos, args.distro, valid_repos)) return True def _validate_current_tripleo(repos): """"""Validate current usage current and current-tripleo cannot be specified with each other and current-tripleo-dev is a mix of current, current-tripleo and deps so they should not be specified on the command line with each other. """""" if 'current-tripleo' in repos and 'current' in repos: raise InvalidArguments('Cannot use current and current-tripleo at the ' 'same time.') if 'current-tripleo-dev' not in repos: return True if 'current' in repos or 'current-tripleo' in repos or 'deps' in repos: raise InvalidArguments('current-tripleo-dev should not be used with ' 'any other RDO Trunk repos.') return True def _validate_tripleo_ci_testing(repos): """"""Validate tripleo-ci-testing With tripleo-ci-testing for repo (currently only periodic container build) no other repos expected except optionally deps|ceph|opstools which is enabled regardless. """""" if 'tripleo-ci-testing' in repos and len(repos) > 1: if 'deps' in repos or 'ceph' in repos or 'opstools' in repos: return True else: raise InvalidArguments('Cannot use tripleo-ci-testing at the ' 'same time as other repos, except ' 'deps|ceph|opstools.') return True def _validate_distro_stream(args, distro_name): """"""Validate stream related args vs host Fails if stream is to be used but the host isn't a stream OS or vice versa """""" is_stream = args.stream and not args.no_stream if is_stream and 'stream' not in distro_name.lower(): raise InvalidArguments('--stream provided, but OS is not the Stream ' 'version. Please ensure the host is Stream.') elif not is_stream and 'stream' in distro_name.lower(): raise InvalidArguments('--no-stream provided, but OS is the Stream ' 'version. Please ensure the host is not the ' 'Stream version.') return True def _validate_args(args, distro_name): _validate_current_tripleo(args.repos) _validate_distro_repos(args) _validate_tripleo_ci_testing(args.repos) _validate_distro_stream(args, distro_name) def _remove_existing(args): """"""Remove any delorean* or opstools repos that already exist"""""" if args.distro == 'ubi8': regex = '^(BaseOS|AppStream|delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' else: regex = '^(delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' pattern = re.compile(regex) if os.path.exists(""/etc/distro.repos.d""): paths = set( os.listdir(args.output_path) + os.listdir(""/etc/distro.repos.d"")) else: paths = os.listdir(args.output_path) for f in paths: if pattern.match(f): filename = os.path.join(args.output_path, f) if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) filename = os.path.join(""/etc/distro.repos.d"", f) if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) def _get_base_path(args): if args.distro == 'ubi8': distro = 'centos8' # there are no base paths for UBI that work well else: distro = args.distro # The mirror url with /$DISTRO$VERSION path for master branch is # deprecated. # The default for rdo mirrors is $DISTRO$VERSION-$BRANCH # it should work for every (distro, branch) pair that # makes sense # Any exception should be corrected at source, not here. distro_branch = '%s-%s' % (distro, args.branch) return '%s/%s/' % (args.rdo_mirror, distro_branch) def _install_priorities(): try: subprocess.check_call(['yum', 'install', '-y', 'yum-plugin-priorities']) except subprocess.CalledProcessError as e: print('ERROR: Failed to install yum-plugin-priorities\n%s\n%s' % (e.cmd, e.output)) raise def _create_ceph(args, release): """"""Generate a Ceph repo file for release"""""" centos_release = '7' if args.distro == 'centos7' else '8' return CEPH_REPO_TEMPLATE % {'centos_release': centos_release, 'ceph_release': release, 'mirror': args.mirror} def _change_priority(content, new_priority): new_content = PRIORITY_RE.sub('priority=%d' % new_priority, content) # This shouldn't happen, but let's be safe. if not PRIORITY_RE.search(new_content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append('priority=%d' % new_priority) new_content = ""\n"".join(new_content) return new_content def _add_includepkgs(content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append(INCLUDE_PKGS) return ""\n"".join(new_content) def _inject_mirrors(content, args): """"""Replace any references to the default mirrors in repo content In some cases we want to use mirrors whose repo files still point to the default servers. If the user specified to use the mirror, we want to replace any such references with the mirror address. This function handles that by using a regex to swap out the baseurl server. """""" content = re.sub('baseurl=%s' % DEFAULT_RDO_MIRROR, 'baseurl=%s' % args.rdo_mirror, content) if args.old_mirror: content = re.sub('baseurl=%s' % args.old_mirror, 'baseurl=%s' % args.mirror, content) return content def _install_repos(args, base_path): def install_deps(args, base_path): content = _get_repo(base_path + 'delorean-deps.repo', args) _write_repo(content, args.output_path) for repo in args.repos: if repo == 'current': content = _get_repo(base_path + 'current/delorean.repo', args) _write_repo(content, args.output_path, name='delorean') install_deps(args, base_path) elif repo == 'deps': install_deps(args, base_path) elif repo == 'current-tripleo': content = _get_repo(base_path + 'current-tripleo/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'current-tripleo-dev': content = _get_repo(base_path + 'delorean-deps.repo', args) _write_repo(content, args.output_path) content = _get_repo(base_path + 'current-tripleo/delorean.repo', args) content = TITLE_RE.sub('[\\1-current-tripleo]', content) content = NAME_RE.sub('name=\\1-current-tripleo', content) # We need to twiddle priorities since we're mixing multiple repos # that are generated with the same priority. content = _change_priority(content, 20) _write_repo(content, args.output_path, name='delorean-current-tripleo') content = _get_repo(base_path + 'current/delorean.repo', args) content = _add_includepkgs(content) content = _change_priority(content, 10) _write_repo(content, args.output_path, name='delorean') elif repo == 'tripleo-ci-testing': content = _get_repo(base_path + 'tripleo-ci-testing/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'current-tripleo-rdo': content = _get_repo( base_path + 'current-tripleo-rdo/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'ceph': if args.branch in ['liberty', 'mitaka']: content = _create_ceph(args, 'hammer') elif args.branch in ['newton', 'ocata', 'pike']: content = _create_ceph(args, 'jewel') elif args.branch in ['queens', 'rocky']: content = _create_ceph(args, 'luminous') elif args.branch in ['stein', 'train', 'ussuri', 'victoria']: content = _create_ceph(args, 'nautilus') else: content = _create_ceph(args, 'pacific') _write_repo(content, args.output_path) elif repo == 'opstools': content = OPSTOOLS_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, args.output_path) else: raise InvalidArguments('Invalid repo ""%s"" specified' % repo) distro = args.distro # CentOS-8 AppStream is required for UBI-8 if distro == 'ubi8': if not os.path.exists(""/etc/distro.repos.d""): print('WARNING: For UBI it is recommended to create ' '/etc/distro.repos.d and rerun!') dp_exists = False else: dp_exists = True if args.output_path == DEFAULT_OUTPUT_PATH and dp_exists: distro_path = ""/etc/distro.repos.d"" else: distro_path = args.output_path # TODO: Remove it once bugs are fixed # Add extra options to APPSTREAM_REPO_TEMPLATE because of # rhbz/1961558 and lpbz/1929634 extra = '' if args.branch in ['train', 'ussuri', 'victoria']: extra = 'exclude=edk2-ovmf-20200602gitca407c7246bf-5*' content = APPSTREAM_REPO_TEMPLATE % {'mirror': args.mirror, 'extra': extra} _write_repo(content, distro_path) content = BASE_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, distro_path) distro = 'centos8' # switch it to continue as centos8 distro # HA, Powertools are required for CentOS-8 if distro == 'centos8': stream = '8' if args.stream and not args.no_stream: stream = stream + '-stream' content = HIGHAVAILABILITY_REPO_TEMPLATE % {'mirror': args.mirror, 'stream': stream} _write_repo(content, args.output_path) content = POWERTOOLS_REPO_TEMPLATE % {'mirror': args.mirror, 'stream': stream} _write_repo(content, args.output_path) def _run_pkg_clean(distro): pkg_mgr = 'yum' if distro == 'centos7' else 'dnf' try: subprocess.check_call([pkg_mgr, 'clean', 'metadata']) except subprocess.CalledProcessError: print('ERROR: Failed to clean yum metadata.') raise def main(): distro_id, distro_major_version_id, distro_name = _get_distro() args = _parse_args(distro_id, distro_major_version_id) _validate_args(args, distro_name) base_path = _get_base_path(args) if args.distro in ['centos7']: _install_priorities() _remove_existing(args) _install_repos(args, base_path) _run_pkg_clean(args.distro) main()","from cliff.app import App from cliff.commandmanager import CommandManager class TripleoReposApp(App): def __init__(self): super(TripleoReposApp, self).__init__( description='Tripleo repos tool', version='2.0', command_manager=CommandManager('tripleo_repos.cm'), deferred_help=True) def initialize_app(self, argv): self.LOG.debug('Initializing tripleo-repos tool') def prepare_to_run_command(self, cmd): self.LOG.debug('prepare_to_run_command %s', cmd.__class__.__name__) def clean_up(self, cmd, result, err): self.LOG.debug('clean_up %s', cmd.__class__.__name__) if err: self.LOG.debug('Error: %s', err) def main(argv=sys.argv[1:]): tripleo_app = TripleoReposApp() # Hack to keep compatibility for now if 'generate' not in argv: argv.insert(0, 'generate') return tripleo_app.run(argv) sys.exit(main(sys.argv[1:]))",616,786
openstack%2Fironic~stable%2Fwallaby~I342e7900cac388cb4749480684418a5a15ac60eb,openstack/ironic,stable/wallaby,I342e7900cac388cb4749480684418a5a15ac60eb,Allow node_sanitize function to be provided overrides,MERGED,2021-07-07 19:25:42.000000000,2021-07-09 04:30:49.000000000,2021-07-08 18:46:15.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:25:42.000000000', 'files': ['ironic/api/controllers/v1/collection.py', 'releasenotes/notes/improves-node-retrieval-performance-cf5a02eb629bf32c.yaml', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/cb1a5a3c981a30126982ba54b3f6f43fb608a7d7', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}]",0,799906,cb1a5a3c981a30126982ba54b3f6f43fb608a7d7,11,3,1,10342,,,0,"Allow node_sanitize function to be provided overrides

The biggest amount of API overhead is the node sanitization
process, at least at this point in time.

We have streamlined the database interaction to ensure specific
field selection lists are as orderly as possible, but the
node sanitization code re-executes some methods over and over
which do not require variable data from the underlying node.

These are blanket settings ""is the user allowed to see x, or y"".

Which means we can call node_sanitize pre-seeding these
arguments and execute the calls once, instead of a thousand times
to have the same exact result.

Story: 2008885
Task: 42433

Change-Id: I342e7900cac388cb4749480684418a5a15ac60eb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/06/799906/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/collection.py', 'releasenotes/notes/improves-node-retrieval-performance-cf5a02eb629bf32c.yaml', 'ironic/api/controllers/v1/node.py']",3,cb1a5a3c981a30126982ba54b3f6f43fb608a7d7,,"def node_sanitize(node, fields, cdict=None, show_driver_secrets=None, show_instance_secrets=None, evaluate_additional_policies=None): :param cdict: Context dictionary for policy values evaluation. If not provided, it will be executed by the method, however for enumarting node lists, it is more efficent to provide. :param show_driver_secrets: A boolean value to allow external single evaluation of policy instead of once per node. Default None. :param show_instance_secrets: A boolean value to allow external evaluation of policy instead of once per node. Default None. :param evaluate_additional_policies: A boolean value to allow external evaluation of policy instead of once per node. Default None. # NOTE(TheJulia): As of ironic 18.0, this method is about 88% of # PER 1000 in this call. When the calling method provides # cdict, show_driver_secrets, show_instane_secrets, and # evaluate_additional_policies, then performance of this method takes # roughly half of the time, but performance increases in excess of 200% # as policy checks are costly. if not cdict: cdict = api.request.context.to_policy_values() # We need a new target_dict for each node as owner/lessee field have # explicit associations and target comparison. # These fields are node specific. if show_driver_secrets is None: show_driver_secrets = policy.check(""show_password"", cdict, target_dict) if show_instance_secrets is None: show_instance_secrets = policy.check(""show_instance_secrets"", cdict, target_dict) if evaluate_additional_policies is None: evaluate_additional_policies = not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict) # Perform extended sanitization of nodes based upon policy # baremetal:node:get:filter_threshold _node_sanitize_extended(node, node_keys, target_dict, cdict)def _node_sanitize_extended(node, node_keys, target_dict, cdict): # NOTE(TheJulia): The net effect of this is that by default, # at least matching common/policy.py defaults. is these should # be stripped out. if ('last_error' in node_keys and not policy.check(""baremetal:node:get:last_error"", target_dict, cdict)): # Guard the last error from being visible as it can contain # hostnames revealing infrastucture internal details. node['last_error'] = ('** Value Redacted - Requires ' 'baremetal:node:get:last_error ' 'permission. **') if ('reservation' in node_keys and not policy.check(""baremetal:node:get:reservation"", target_dict, cdict)): # Guard conductor names from being visible. node['reservation'] = ('** Redacted - requires baremetal:' 'node:get:reservation permission. **') if ('driver_internal_info' in node_keys and not policy.check(""baremetal:node:get:driver_internal_info"", target_dict, cdict)): # Guard conductor names from being visible. node['driver_internal_info'] = { 'content': '** Redacted - Requires baremetal:node:get:' 'driver_internal_info permission. **'} cdict = api.request.context.to_policy_values() target_dict = dict(cdict) sanitizer_args = { 'cdict': cdict, 'show_driver_secrets': policy.check(""show_password"", cdict, target_dict), 'show_instance_secrets': policy.check(""show_instance_secrets"", cdict, target_dict), 'evaluate_additional_policies': not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict), } sanitizer_args=sanitizer_args,","def node_sanitize(node, fields): # FIXME(TheJulia): As of ironic 18.0, this method is about 88% of # PER 1000 in this call. cdict = api.request.context.to_policy_values() show_driver_secrets = policy.check(""show_password"", cdict, target_dict) show_instance_secrets = policy.check(""show_instance_secrets"", cdict, target_dict) # FIXME(TheJulia): The above two methods take approximately 20% of the # present execution time. This needs to be more efficent as they do not # need to be called for *every* node. evaluate_additional_policies = not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict) # NOTE(TheJulia): The net effect of this is that by default, # at least matching common/policy.py defaults. is these should # be stripped out. if ('last_error' in node_keys and not policy.check(""baremetal:node:get:last_error"", target_dict, cdict)): # Guard the last error from being visible as it can contain # hostnames revealing infrastucture internal details. node['last_error'] = ('** Value Redacted - Requires ' 'baremetal:node:get:last_error ' 'permission. **') if ('reservation' in node_keys and not policy.check(""baremetal:node:get:reservation"", target_dict, cdict)): # Guard conductor names from being visible. node['reservation'] = ('** Redacted - requires baremetal:' 'node:get:reservation permission. **') if ('driver_internal_info' in node_keys and not policy.check(""baremetal:node:get:driver_internal_info"", target_dict, cdict)): # Guard conductor names from being visible. node['driver_internal_info'] = { 'content': '** Redacted - Requires baremetal:node:get:' 'driver_internal_info permission. **'}",101,40
openstack%2Ftripleo-image-elements~master~I7151002d12cfb0ae1a34720b061b7ed3a9fb3441,openstack/tripleo-image-elements,master,I7151002d12cfb0ae1a34720b061b7ed3a9fb3441,DNM trigger image build,ABANDONED,2021-04-30 04:11:10.000000000,2021-07-09 03:52:21.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-04-30 04:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f2bf7c83a65e375769594c233becaea961a648b5', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\n'}, {'number': 2, 'created': '2021-05-02 23:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/787d5574742bca87cec75ed7c332ff7b7e009028', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\nDepends-On: https://review.opendev.org/c/openstack/python-tripleoclient/+/789103\n'}, {'number': 3, 'created': '2021-05-06 23:03:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/0b351fe5c3e63e92a8b6ecf77e6685762f961d61', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\n'}, {'number': 4, 'created': '2021-05-06 23:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/363fe46bedb7c3508f3d14fb9f0b15947d3733ca', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\n'}, {'number': 5, 'created': '2021-05-20 00:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/f01c1bd326a8ad80ddd294c82acdfd54ae20d512', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\n'}, {'number': 6, 'created': '2021-05-28 04:30:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/3f99b719c5af69d34c35647cd795a4a85406be13', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/788878\n'}, {'number': 7, 'created': '2021-06-22 06:05:21.000000000', 'files': ['elements/overcloud-secure/package-installs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-image-elements/commit/9c20b07bc50105bb2c4d2e53012d23bb1fb6ab3b', 'message': 'DNM trigger image build\n\nChange-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/797360\n'}]",0,788879,9c20b07bc50105bb2c4d2e53012d23bb1fb6ab3b,25,2,7,4571,,,0,"DNM trigger image build

Change-Id: I7151002d12cfb0ae1a34720b061b7ed3a9fb3441
Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/797360
",git fetch https://review.opendev.org/openstack/tripleo-image-elements refs/changes/79/788879/3 && git format-patch -1 --stdout FETCH_HEAD,['elements/overcloud-secure/package-installs.yaml'],1,f2bf7c83a65e375769594c233becaea961a648b5,bp/whole-disk-default,kexec-tools: uninstall: True,kexec-tools: uninstall: True,2,2
openstack%2Fpython-tripleoclient~master~I15e6148bafac05d8800665bf6b7268bec49dad6f,openstack/python-tripleoclient,master,I15e6148bafac05d8800665bf6b7268bec49dad6f,Image upload: handle whole-disk image as default,MERGED,2021-05-06 01:46:49.000000000,2021-07-09 03:49:07.000000000,2021-07-09 03:47:57.000000000,"[{'_account_id': 4571}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 32029}]","[{'number': 1, 'created': '2021-05-06 01:46:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f572ec2d462d3fc0336c471b36d516367f3fd9be', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-06-09 01:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cfe7cdd871adb8bec84cdff2c738d938276ae252', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-06-21 04:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/75f010b6268dee0df5785255869aaa02ba4fd643', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}, {'number': 4, 'created': '2021-06-21 21:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/99552c5796b9505deb520ee2a4614faf73be91e4', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}, {'number': 5, 'created': '2021-06-23 22:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dda60ad98206cc9c4cd6e2f01a1747ff114327d7', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}, {'number': 6, 'created': '2021-06-23 23:28:39.000000000', 'files': ['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/915ddcb6159bc38b99846be6cee8d11c011b14da', 'message': 'Image upload: handle whole-disk image as default\n\nFor the image upload command, if overcloud-hardened-uefi-full.qcow2\nfile exists in the --image-path directory then this will be used as\nthe default value of --os-image-path.\n\nIf overcloud-hardened-uefi-full.qcow2 is the explicit or implicit\nvalue of --os-image-path then --whole-disk will be implicitly set.\n\nOtherwise the current default behaviour will continue (default image\novercloud-full.qcow2, whole-disk flag defaults to false)\n\nWith this change, the documentation can continue to call this command\nwithout extra arguments whether uploading a whole-disk or partition\novercloud image.\n\nChange-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f\nBlueprint: whole-disk-default\n'}]",5,789970,915ddcb6159bc38b99846be6cee8d11c011b14da,35,6,6,4571,,,0,"Image upload: handle whole-disk image as default

For the image upload command, if overcloud-hardened-uefi-full.qcow2
file exists in the --image-path directory then this will be used as
the default value of --os-image-path.

If overcloud-hardened-uefi-full.qcow2 is the explicit or implicit
value of --os-image-path then --whole-disk will be implicitly set.

Otherwise the current default behaviour will continue (default image
overcloud-full.qcow2, whole-disk flag defaults to false)

With this change, the documentation can continue to call this command
without extra arguments whether uploading a whole-disk or partition
overcloud image.

Change-Id: I15e6148bafac05d8800665bf6b7268bec49dad6f
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/789970/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/overcloud_image.py', 'tripleoclient/constants.py', 'tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py']",3,f572ec2d462d3fc0336c471b36d516367f3fd9be,bp/whole-disk-default," @mock.patch('os.path.exists') def test_get_image_filename(self, mock_exists): mock_exists.return_value = False parsed_args = self.check_parser(self.cmd, [], []) self.assertEqual('overcloud-full.qcow2', self.cmd._get_image_filename(parsed_args)) mock_exists.return_value = True self.assertEqual('overcloud-hardened-uefi-full.qcow2', self.cmd._get_image_filename(parsed_args)) parsed_args = self.check_parser( self.cmd, ['--os-image-name', 'overcloud-custom.qcow2'], []) self.assertEqual('overcloud-custom.qcow2', self.cmd._get_image_filename(parsed_args)) def test_overcloud_upload_os_wholedisk_default(self, mock_files_changed, mock_image_changed, mock_image_try_update, mock_isfile_call, mock_subprocess_call): mock_image_changed.return_value = True mock_image_try_update.return_value = None parsed_args = self.check_parser( self.cmd, ['--image-type=os', '--os-image-name', 'overcloud-hardened-uefi-full.qcow2'], []) mock_files_changed.return_value = True self.cmd.take_action(parsed_args) # ensure check_file_exists has been called just with ipa self.cmd.adapter.check_file_exists.assert_called_once_with( self.cmd.adapter, './overcloud-hardened-uefi-full.qcow2') # ensure try_update has been called just with ipa mock_image_try_update.assert_called_once_with( self.cmd.adapter, 'overcloud-hardened-uefi-full', './overcloud-hardened-uefi-full.raw' ) @mock.patch('subprocess.check_call', autospec=True) @mock.patch('os.path.isfile', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_try_update', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'GlanceClientAdapter._image_changed', autospec=True) @mock.patch('tripleoclient.v1.overcloud_image.' 'BaseClientAdapter._files_changed', autospec=True)",,72,7
openstack%2Fnova~stable%2Fvictoria~I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,openstack/nova,stable/victoria,I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220,Stop leaking ceph df cmd in RBD utils,MERGED,2021-05-18 13:09:11.000000000,2021-07-09 03:10:46.000000000,2021-07-09 03:08:56.000000000,"[{'_account_id': 7634}, {'_account_id': 10135}, {'_account_id': 16137}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-05-18 13:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/aa32e132b9f9ea990a13ac3ae3df634752e4a14a', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n(cherry picked from commit 86af7feed06f08ddb3ef65122089216708d53a06)\n'}, {'number': 2, 'created': '2021-06-25 17:51:06.000000000', 'files': ['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/bec6dd475243b027ce5ca487e1a9bffdb866d25f', 'message': 'Stop leaking ceph df cmd in RBD utils\n\nIf the ceph df command fails in the get_pool_info\nmethod of RBD utils the actual command executed\nif seen by the users in the fault error message.\n\nThis hides the command behind a StorageError\nexception and logs the exception instead of leaking\nit to the users.\n\nChange-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220\nCloses-Bug: 1926978\n(cherry picked from commit 86af7feed06f08ddb3ef65122089216708d53a06)\n(cherry picked from commit 5ede75c65edbcb27557831ae6f5c3a9f81f23a0e)\n'}]",1,791938,bec6dd475243b027ce5ca487e1a9bffdb866d25f,31,6,2,23950,,,0,"Stop leaking ceph df cmd in RBD utils

If the ceph df command fails in the get_pool_info
method of RBD utils the actual command executed
if seen by the users in the fault error message.

This hides the command behind a StorageError
exception and logs the exception instead of leaking
it to the users.

Change-Id: I6e3a73f2e04d1a7636daf96d5af73c9cf2fbe220
Closes-Bug: 1926978
(cherry picked from commit 86af7feed06f08ddb3ef65122089216708d53a06)
(cherry picked from commit 5ede75c65edbcb27557831ae6f5c3a9f81f23a0e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/791938/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/storage/test_rbd.py', 'nova/storage/rbd_utils.py']",2,aa32e132b9f9ea990a13ac3ae3df634752e4a14a,bug/1926978," try: out, _ = processutils.execute(*args) except processutils.ProcessExecutionError: LOG.exception('Could not determine disk usage') raise exception.StorageError( reason='Could not determine disk usage') "," out, _ = processutils.execute(*args)",14,1
openstack%2Fpython-tripleoclient~master~I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d,openstack/python-tripleoclient,master,I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d,Always run growvols playbook after provision,MERGED,2021-06-21 04:45:01.000000000,2021-07-09 02:53:27.000000000,2021-07-09 02:52:13.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-21 04:45:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9054c05fa4b90d01a9834f9c9082018b803c3998', 'message': 'Always run growvols playbook after provision\n\nJust like cli-overcloud-node-network-config.yaml,\ncli-overcloud-node-growvols.yaml will be run by the ""openstack\novercloud node provision"" directly after provisioning so that whole\ndisk images will have their /var volume grown to 100%.\n\nThis default growvols behaviour can be overridden by adding an\nansible_playbooks entry which sets different arguments:\n\n- count: 3\n  name: Controller\n  ansible_playbooks:\n  - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml\n    extra_vars:\n      growvols_args: /var=50% /srv=50%\n\nOther changes in this commit include:\n- Always call run_role_playbooks and pass network_config as an\n  argument\n- Full unit test coverage on run_role_playbooks\n- Fix run_role_playbook using os.path.basename instead of os.path.dirname\n\nChange-Id: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d\nBlueprint: whole-disk-default\nDepends-On: I0a847ad4077a02a02ad817dd189a6a31c3637a93\n'}, {'number': 2, 'created': '2021-06-21 21:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/86577f7d4d5ed7b63528ea90f369fd7814939b87', 'message': 'Always run growvols playbook after provision\n\nJust like cli-overcloud-node-network-config.yaml,\ncli-overcloud-node-growvols.yaml will be run by the ""openstack\novercloud node provision"" directly after provisioning so that whole\ndisk images will have their /var volume grown to 100%.\n\nThis default growvols behaviour can be overridden by adding an\nansible_playbooks entry which sets different arguments:\n\n- count: 3\n  name: Controller\n  ansible_playbooks:\n  - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml\n    extra_vars:\n      growvols_args: /var=50% /srv=50%\n\nOther changes in this commit include:\n- Always call run_role_playbooks and pass network_config as an\n  argument\n- Full unit test coverage on run_role_playbooks\n- Fix run_role_playbook using os.path.basename instead of os.path.dirname\n\nChange-Id: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d\nBlueprint: whole-disk-default\nDepends-On: I0a847ad4077a02a02ad817dd189a6a31c3637a93\n'}, {'number': 3, 'created': '2021-06-23 22:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d6a0215095f67f7f812fc2c8f071fd54473bd3d5', 'message': 'Always run growvols playbook after provision\n\nJust like cli-overcloud-node-network-config.yaml,\ncli-overcloud-node-growvols.yaml will be run by the ""openstack\novercloud node provision"" directly after provisioning so that whole\ndisk images will have their /var volume grown to 100%.\n\nThis default growvols behaviour can be overridden by adding an\nansible_playbooks entry which sets different arguments:\n\n- count: 3\n  name: Controller\n  ansible_playbooks:\n  - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml\n    extra_vars:\n      growvols_args: /var=50% /srv=50%\n\nOther changes in this commit include:\n- Always call run_role_playbooks and pass network_config as an\n  argument\n- Full unit test coverage on run_role_playbooks\n- Fix run_role_playbook using os.path.basename instead of os.path.dirname\n\nChange-Id: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d\nBlueprint: whole-disk-default\nDepends-On: I0a847ad4077a02a02ad817dd189a6a31c3637a93\n'}, {'number': 4, 'created': '2021-06-23 23:28:39.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/3f303b907ba55f526a4e15a4c7b29698c37dcf52', 'message': 'Always run growvols playbook after provision\n\nJust like cli-overcloud-node-network-config.yaml,\ncli-overcloud-node-growvols.yaml will be run by the ""openstack\novercloud node provision"" directly after provisioning so that whole\ndisk images will have their /var volume grown to 100%.\n\nThis default growvols behaviour can be overridden by adding an\nansible_playbooks entry which sets different arguments:\n\n- count: 3\n  name: Controller\n  ansible_playbooks:\n  - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml\n    extra_vars:\n      growvols_args: /var=50% /srv=50%\n\nOther changes in this commit include:\n- Always call run_role_playbooks and pass network_config as an\n  argument\n- Full unit test coverage on run_role_playbooks\n- Fix run_role_playbook using os.path.basename instead of os.path.dirname\n\nChange-Id: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d\nBlueprint: whole-disk-default\nDepends-On: I0a847ad4077a02a02ad817dd189a6a31c3637a93\n'}]",1,797224,3f303b907ba55f526a4e15a4c7b29698c37dcf52,26,4,4,4571,,,0,"Always run growvols playbook after provision

Just like cli-overcloud-node-network-config.yaml,
cli-overcloud-node-growvols.yaml will be run by the ""openstack
overcloud node provision"" directly after provisioning so that whole
disk images will have their /var volume grown to 100%.

This default growvols behaviour can be overridden by adding an
ansible_playbooks entry which sets different arguments:

- count: 3
  name: Controller
  ansible_playbooks:
  - playbook: /usr/share/ansible/tripleo-playbooks/cli-overcloud-node-growvols.yaml
    extra_vars:
      growvols_args: /var=50% /srv=50%

Other changes in this commit include:
- Always call run_role_playbooks and pass network_config as an
  argument
- Full unit test coverage on run_role_playbooks
- Fix run_role_playbook using os.path.basename instead of os.path.dirname

Change-Id: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d
Blueprint: whole-disk-default
Depends-On: I0a847ad4077a02a02ad817dd189a6a31c3637a93
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/24/797224/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_deploy.py']",6,9054c05fa4b90d01a9834f9c9082018b803c3998,bp/whole-disk-default," utils.run_role_playbooks(self, self.working_dir, roles_file_dir, roles, parsed_args.network_config)"," if parsed_args.network_config: utils.run_role_playbooks(self, self.working_dir, roles_file_dir, roles)",272,13
openstack%2Fnova~stable%2Ftrain~I32e6214568bb57f7613ddeba2c2c46da0320fabc,openstack/nova,stable/train,I32e6214568bb57f7613ddeba2c2c46da0320fabc,Error anti-affinity violation on migrations,MERGED,2021-06-29 16:54:11.000000000,2021-07-09 02:29:04.000000000,2021-07-08 13:55:45.000000000,"[{'_account_id': 4690}, {'_account_id': 10135}, {'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 16:54:11.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9', 'message': 'Error anti-affinity violation on migrations\n\nError-out the migrations (cold and live) whenever the\nanti-affinity policy is violated. This addresses\nviolations when multiple concurrent migrations are\nrequested.\n\nAdded detection on:\n- prep_resize\n- check_can_live_migration_destination\n- pre_live_migration\n\nThe improved method of detection now locks based on group_id\nand considers other migrations in-progress as well.\n\nCloses-bug: #1821755\nChange-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc\n(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)\n(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)\n(cherry picked from commit 6ede6df7f41db809de19e124d3d4994180598f19)\n(cherry picked from commit bf90a1e06181f6b328b967124e538c6e2579b2e5)\n'}]",1,798717,a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9,15,4,1,14567,,,0,"Error anti-affinity violation on migrations

Error-out the migrations (cold and live) whenever the
anti-affinity policy is violated. This addresses
violations when multiple concurrent migrations are
requested.

Added detection on:
- prep_resize
- check_can_live_migration_destination
- pre_live_migration

The improved method of detection now locks based on group_id
and considers other migrations in-progress as well.

Closes-bug: #1821755
Change-Id: I32e6214568bb57f7613ddeba2c2c46da0320fabc
(cherry picked from commit 33c8af1f8c46c9c37fcc28fb3409fbd3a78ae39f)
(cherry picked from commit 8b62a4ec9bf617dfb2da046c25a9f76b33516508)
(cherry picked from commit 6ede6df7f41db809de19e124d3d4994180598f19)
(cherry picked from commit bf90a1e06181f6b328b967124e538c6e2579b2e5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/17/798717/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'releasenotes/notes/bug-1821755-7bd03319e34b6b10.yaml', 'nova/compute/manager.py']",3,a22d1b04de9e6ebc33b5ab9871b86f8e4022e7a9,bug/1821755," scheduler_hints=None): if CONF.workarounds.disable_group_policy_check_upcall: return if scheduler_hints is not None: # only go through here if scheduler_hints is provided, even if it # is empty. group_hint = scheduler_hints.get('group') if not group_hint: return else: # The RequestSpec stores scheduler_hints as key=list pairs so # we need to check the type on the value and pull the single # entry out. The API request schema validates that # the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] group = objects.InstanceGroup.get_by_hint(context, group_hint) else: # TODO(ganso): a call to DB can be saved by adding request_spec # to rpcapi payload of live_migration, pre_live_migration and # check_can_live_migrate_destination try: group = objects.InstanceGroup.get_by_instance_uuid( context, instance.uuid) except exception.InstanceGroupNotFound: return @utils.synchronized(group['uuid']) def _do_validation(context, instance, group): if group.policy and 'anti-affinity' == group.policy: # instances on host # instance param is just for logging, the nodename obtained is # not actually related to the instance at all nodename = self._get_nodename(instance) # instances being migrated to host migrations = ( objects.MigrationList.get_in_progress_by_host_and_node( context, self.host, nodename)) migration_vm_uuids = set([mig['instance_uuid'] for mig in migrations]) total_instances = migration_vm_uuids | ins_on_host # refresh group to get updated members within locked block group = objects.InstanceGroup.get_by_uuid(context, group['uuid']) members_on_host = (total_instances & members - set([instance.uuid])) # NOTE(ganso): The check for affinity below does not work and it # can easily be violated because the lock happens in different # compute hosts. # The only fix seems to be a DB lock to perform the check whenever # setting the host field to an instance. _do_validation(context, instance, group) scheduler_hints = self._get_scheduler_hints(filter_properties, request_spec) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already # in-progress, so this is the definitive moment to abort due to # the policy violation. Also, exploding here is covered by the # cleanup methods in except block. try: self._validate_instance_group_policy(context, instance, scheduler_hints) except exception.RescheduledException as e: raise exception.InstanceFaultRollback(inner_exception=e) # Error out if this host cannot accept the new instance due # to anti-affinity. This check at this moment is not very accurate, as # multiple requests may be happening concurrently and miss the lock, # but when it works it provides a better user experience by failing # earlier. Also, it should be safe to explode here, error becomes # NoValidHost and instance status remains ACTIVE. try: self._validate_instance_group_policy(ctxt, instance) except exception.RescheduledException as e: msg = (""Failed to validate instance group policy "" ""due to: {}"".format(e)) raise exception.MigrationPreCheckError(reason=msg) # Error out if this host cannot accept the new instance due # to anti-affinity. At this point the migration is already in-progress, # so this is the definitive moment to abort due to the policy # violation. Also, it should be safe to explode here. The instance # status remains ACTIVE, migration status failed. self._validate_instance_group_policy(context, instance) "," scheduler_hints): group_hint = scheduler_hints.get('group') if not group_hint: return # The RequestSpec stores scheduler_hints as key=list pairs so we need # to check the type on the value and pull the single entry out. The # API request schema validates that the 'group' hint is a single value. if isinstance(group_hint, list): group_hint = group_hint[0] @utils.synchronized(group_hint) def _do_validation(context, instance, group_hint): group = objects.InstanceGroup.get_by_hint(context, group_hint) if group.policy and 'anti-affinity' == group.policy: members_on_host = ins_on_host & members - set([instance.uuid]) if not CONF.workarounds.disable_group_policy_check_upcall: _do_validation(context, instance, group_hint)",210,23
openstack%2Fovn-octavia-provider~master~Icf6ef4d9a0d619374c535c0bff7577d5af351886,openstack/ovn-octavia-provider,master,Icf6ef4d9a0d619374c535c0bff7577d5af351886,Change minversion of tox to 3.18.0,MERGED,2021-06-04 21:06:11.000000000,2021-07-09 01:41:40.000000000,2021-07-09 01:40:07.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 21:06:11.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/505d7a3eada685a900f55df964aaafc05e114ed6', 'message': 'Change minversion of tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace whitelist_externals with allowlist_externals option.\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: Icf6ef4d9a0d619374c535c0bff7577d5af351886\n'}]",0,794902,505d7a3eada685a900f55df964aaafc05e114ed6,36,3,1,1131,,,0,"Change minversion of tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace whitelist_externals with allowlist_externals option.
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: Icf6ef4d9a0d619374c535c0bff7577d5af351886
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/02/794902/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,505d7a3eada685a900f55df964aaafc05e114ed6,update-min-tox,minversion = 3.18.0allowlist_externals = bashallowlist_externals =allowlist_externals = sh,minversion = 3.8.0whitelist_externals = bashwhitelist_externals =whitelist_externals = sh,4,4
openstack%2Fcharm-watcher~master~Ic97d794bac2136277f8404e85bc5717ff715e8a6,openstack/charm-watcher,master,Ic97d794bac2136277f8404e85bc5717ff715e8a6,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:36:07.000000000,2021-07-09 01:40:52.000000000,2021-07-09 01:40:52.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-08 00:36:07.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-watcher/commit/6e8a1f07ee3e0c66cf087086d79ba84af4387cea', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ic97d794bac2136277f8404e85bc5717ff715e8a6\n'}]",0,799932,6e8a1f07ee3e0c66cf087086d79ba84af4387cea,6,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ic97d794bac2136277f8404e85bc5717ff715e8a6
",git fetch https://review.opendev.org/openstack/charm-watcher refs/changes/32/799932/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,6e8a1f07ee3e0c66cf087086d79ba84af4387cea,oftc,- Watcher IRC on OFTC at #openstack-watcher,- Watcher IRC on freenode at #openstack-watcher,1,1
openstack%2Fovn-octavia-provider~master~I437a2dca911668216110177df2f96fd1c1b0f58e,openstack/ovn-octavia-provider,master,I437a2dca911668216110177df2f96fd1c1b0f58e,Add a Kuryr Kubernetes co-gating job,MERGED,2020-10-28 20:10:20.000000000,2021-07-09 01:12:00.000000000,2021-07-09 01:10:27.000000000,"[{'_account_id': 1131}, {'_account_id': 11600}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2020-10-28 20:10:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/d770d75ad714e0b4d84d77de29d8d20ff670a7c8', 'message': ""Add a Kuryr Kubernetes co-gating job\n\nSince Kuryr Kubernetes is a consumer of the OVN provider\ndriver, let's add a relevant job to co-gate on, non-voting\nfor now.\n\nChange-Id: I437a2dca911668216110177df2f96fd1c1b0f58e\n""}, {'number': 2, 'created': '2020-10-28 20:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/09680ef1048ebeda20856befb963a3794dc235e4', 'message': ""Add a Kuryr Kubernetes co-gating job\n\nSince Kuryr Kubernetes is a consumer of the OVN provider\ndriver, let's add a relevant job to co-gate on, non-voting\nfor now.\n\nChange-Id: I437a2dca911668216110177df2f96fd1c1b0f58e\n""}, {'number': 3, 'created': '2021-01-05 19:57:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/c7d15e0ae42b30fa5a67af5475b35231b6ec588f', 'message': ""Add a Kuryr Kubernetes co-gating job\n\nSince Kuryr Kubernetes is a consumer of the OVN provider\ndriver, let's add a relevant job to co-gate on, non-voting\nfor now.\n\nChange-Id: I437a2dca911668216110177df2f96fd1c1b0f58e\n""}, {'number': 4, 'created': '2021-06-24 16:47:05.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/26c4bc11c12b0de9a167653c9964c88bae392392', 'message': ""Add a Kuryr Kubernetes co-gating job\n\nSince Kuryr Kubernetes is a consumer of the OVN provider\ndriver, let's add a relevant job to co-gate on, non-voting\nfor now.\n\nChange-Id: I437a2dca911668216110177df2f96fd1c1b0f58e\n""}]",0,760225,26c4bc11c12b0de9a167653c9964c88bae392392,46,6,4,1131,,,0,"Add a Kuryr Kubernetes co-gating job

Since Kuryr Kubernetes is a consumer of the OVN provider
driver, let's add a relevant job to co-gate on, non-voting
for now.

Change-Id: I437a2dca911668216110177df2f96fd1c1b0f58e
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/25/760225/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d770d75ad714e0b4d84d77de29d8d20ff670a7c8,kuryr-nonvoting, - kuryr-kubernetes-tempest-containerized-ovn-provider-ovn voting: false,,2,0
openstack%2Fcharm-placement~master~Ie735d38c221fc63eb431c5c5f54ce1abc2316a02,openstack/charm-placement,master,Ie735d38c221fc63eb431c5c5f54ce1abc2316a02,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:30:53.000000000,2021-07-09 00:57:28.000000000,2021-07-08 23:54:09.000000000,"[{'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-08 23:30:53.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-placement/commit/630914404b043841afbc7ccf6336d2952fd4853d', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ie735d38c221fc63eb431c5c5f54ce1abc2316a02\n'}]",0,800132,630914404b043841afbc7ccf6336d2952fd4853d,7,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ie735d38c221fc63eb431c5c5f54ce1abc2316a02
",git fetch https://review.opendev.org/openstack/charm-placement refs/changes/32/800132/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,630914404b043841afbc7ccf6336d2952fd4853d,oftc,OFTC IRC: #openstack-charms,Freenode IRC: #openstack-charms,1,1
openstack%2Fpython-tripleoclient~master~Ia0df205ea568f089c7cb7e5464bde76d294f4c36,openstack/python-tripleoclient,master,Ia0df205ea568f089c7cb7e5464bde76d294f4c36,"Deprecate --network-ports, enable it by default",MERGED,2021-06-29 23:28:37.000000000,2021-07-09 00:55:23.000000000,2021-07-09 00:53:58.000000000,"[{'_account_id': 4571}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-29 23:28:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6166c0f03fdb65aa881dbfbbd3c91dc092750f6', 'message': 'Deprecate --network-ports, enable it by default\n\nThe argument to enable disable node port management\nwhen provisioning baremetal nodes can be enabled by\ndefault.\n\nIt is needed to have an ansible inventory generated,\nwhich is required for whole-disk-image growpart execution\nas well as in change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d\n\nChange-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36\n'}, {'number': 2, 'created': '2021-06-29 23:57:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/959955e4d42a088bbe34437ade132f5730b6d2d3', 'message': 'Deprecate --network-ports, enable it by default\n\nThe argument to enable disable node port management\nwhen provisioning or unprovisioning baremetal nodes can\nbe enabled by default.\n\nIt is needed to have an ansible inventory generated,\nwhich is required for whole-disk-image growpart execution\nin change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.\nGrowpart should always run.\n\nChange-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36\n'}, {'number': 3, 'created': '2021-06-30 08:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/98ef97bb9aec113471aa55a397bf2b0354d0e28b', 'message': 'Deprecate --network-ports, enable it by default\n\nThe argument to enable disable node port management\nwhen provisioning or unprovisioning baremetal nodes can\nbe enabled by default.\n\nIt is needed to have an ansible inventory generated,\nwhich is required for whole-disk-image growpart execution\nin change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.\nGrowpart should always run.\n\nChange-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36\n'}, {'number': 4, 'created': '2021-07-06 19:38:39.000000000', 'files': ['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b3bcf63fa51c2f9a1f6485fb19173b2329c12a45', 'message': 'Deprecate --network-ports, enable it by default\n\nThe argument to enable disable node port management\nwhen provisioning or unprovisioning baremetal nodes can\nbe enabled by default.\n\nIt is needed to have an ansible inventory generated,\nwhich is required for whole-disk-image growpart execution\nin change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.\nGrowpart should always run.\n\nChange-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36\n'}]",3,798753,b3bcf63fa51c2f9a1f6485fb19173b2329c12a45,28,6,4,24245,,,0,"Deprecate --network-ports, enable it by default

The argument to enable disable node port management
when provisioning or unprovisioning baremetal nodes can
be enabled by default.

It is needed to have an ansible inventory generated,
which is required for whole-disk-image growpart execution
in change: I085ab9da30e1e1a7d2b9a9f230dd0275bd40480d.
Growpart should always run.

Change-Id: Ia0df205ea568f089c7cb7e5464bde76d294f4c36
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/53/798753/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/overcloud_deploy/test_overcloud_deploy.py', 'tripleoclient/v2/overcloud_node.py', 'tripleoclient/tests/v2/overcloud_node/test_overcloud_node.py', 'tripleoclient/v1/overcloud_deploy.py']",4,e6166c0f03fdb65aa881dbfbbd3c91dc092750f6,network-data-v2," if (parsed_args.network_config and not parsed_args.baremetal_deployment): ""--network-config"") ""manage_network_ports"": True, help=_('DEPRECATED! Network ports will always be ' 'provisioned.\n' 'Enable provisioning of network ports'),"," if ((parsed_args.network_ports or parsed_args.network_config) and not parsed_args.baremetal_deployment): ""--network-ports or --network-config"") ""manage_network_ports"": (parsed_args.network_ports or parsed_args.network_config), help=_('Enable provisioning of network ports'),",12,11
openstack%2Fsearchlight-ui~master~I0c192d62dee2337804883e74398602a4d3d1c783,openstack/searchlight-ui,master,I0c192d62dee2337804883e74398602a4d3d1c783,Moving IRC network reference to OFTC,MERGED,2021-07-09 00:49:34.000000000,2021-07-09 00:55:16.000000000,2021-07-09 00:55:16.000000000,[{'_account_id': 8556}],"[{'number': 1, 'created': '2021-07-09 00:49:34.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/searchlight-ui/commit/5ff2535fd13e025d5d7908bee7bb6768b8b33c1d', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I0c192d62dee2337804883e74398602a4d3d1c783\n'}]",0,800149,5ff2535fd13e025d5d7908bee7bb6768b8b33c1d,4,1,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I0c192d62dee2337804883e74398602a4d3d1c783
",git fetch https://review.opendev.org/openstack/searchlight-ui refs/changes/49/800149/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,5ff2535fd13e025d5d7908bee7bb6768b8b33c1d,,OFTC.,Freenode.,1,1
openstack%2Fovn-octavia-provider~master~I48e7228c26a34265c5709d8688f01efceacf8269,openstack/ovn-octavia-provider,master,I48e7228c26a34265c5709d8688f01efceacf8269,setup.cfg: Replace dashes with underscores,MERGED,2021-04-29 03:03:50.000000000,2021-07-09 00:37:29.000000000,2021-07-09 00:36:16.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-29 03:03:50.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6adb34658493b80b4115740a3cc67f3e76799149', 'message': ""setup.cfg: Replace dashes with underscores\n\nResolves warnings like the following:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\nChange-Id: I48e7228c26a34265c5709d8688f01efceacf8269\n""}]",0,788675,6adb34658493b80b4115740a3cc67f3e76799149,20,3,1,1131,,,0,"setup.cfg: Replace dashes with underscores

Resolves warnings like the following:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

Change-Id: I48e7228c26a34265c5709d8688f01efceacf8269
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/75/788675/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6adb34658493b80b4115740a3cc67f3e76799149,setup.cfg-underscores,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/ovn-octavia-provider/latest/ python_requires = >=3.6setup_hooks =,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/ovn-octavia-provider/latest/ python-requires = >=3.6setup-hooks =,5,5
openstack%2Fcharm-tempest~master~I28edd181bf3c2e39150f060e6d7d5b853b85fd0f,openstack/charm-tempest,master,I28edd181bf3c2e39150f060e6d7d5b853b85fd0f,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:27:31.000000000,2021-07-09 00:03:37.000000000,2021-07-09 00:03:37.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-08 23:27:31.000000000', 'files': ['src/README.md', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-tempest/commit/999d8315808ad5f079ab46513a1d059eaba65ee8', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I28edd181bf3c2e39150f060e6d7d5b853b85fd0f\n'}]",0,800129,999d8315808ad5f079ab46513a1d059eaba65ee8,6,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I28edd181bf3c2e39150f060e6d7d5b853b85fd0f
",git fetch https://review.opendev.org/openstack/charm-tempest refs/changes/29/800129/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/README.md', 'README.md']",2,999d8315808ad5f079ab46513a1d059eaba65ee8,oftc,OFTC IRC: #openstack-charms,Freenode IRC: #openstack-charms,3,3
openstack%2Fcharm-barbican-softhsm~master~I85e4074b867e050f0d36dcec94fb719e3a6c3deb,openstack/charm-barbican-softhsm,master,I85e4074b867e050f0d36dcec94fb719e3a6c3deb,Moving IRC network reference to OFTC,MERGED,2021-07-08 23:30:12.000000000,2021-07-08 23:56:18.000000000,2021-07-08 23:56:18.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-08 23:30:12.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-barbican-softhsm/commit/7a44dcaf25da6132f965f7aac722bf99fddc6a17', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I85e4074b867e050f0d36dcec94fb719e3a6c3deb\n'}]",0,800131,7a44dcaf25da6132f965f7aac722bf99fddc6a17,6,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I85e4074b867e050f0d36dcec94fb719e3a6c3deb
",git fetch https://review.opendev.org/openstack/charm-barbican-softhsm refs/changes/31/800131/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,7a44dcaf25da6132f965f7aac722bf99fddc6a17,oftc,ask in the `#openstack-charms` on OFTC..,ask in the `#openstack-charms` on Freenode..,1,1
openstack%2Foctavia-lib~master~Ibdfba73f9f3be6a2d734080c8b08c3c915cf52e4,openstack/octavia-lib,master,Ibdfba73f9f3be6a2d734080c8b08c3c915cf52e4,Update master for stable/wallaby,MERGED,2021-03-18 10:24:28.000000000,2021-07-08 23:21:01.000000000,2021-07-08 23:19:43.000000000,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-18 10:24:28.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/53b4b8d3882b4a7e69da1438708834562565cca9', 'message': 'Update master for stable/wallaby\n\nAdd file to the reno documentation build to show release notes for\nstable/wallaby.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/wallaby.\n\nSem-Ver: feature\nChange-Id: Ibdfba73f9f3be6a2d734080c8b08c3c915cf52e4\n'}]",0,781262,53b4b8d3882b4a7e69da1438708834562565cca9,13,4,1,22816,,,0,"Update master for stable/wallaby

Add file to the reno documentation build to show release notes for
stable/wallaby.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/wallaby.

Sem-Ver: feature
Change-Id: Ibdfba73f9f3be6a2d734080c8b08c3c915cf52e4
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/62/781262/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,53b4b8d3882b4a7e69da1438708834562565cca9,reno-wallaby, wallaby,,7,0
openstack%2Ftempest~master~I72ccf82debe36607b58fa75e52af535494999959,openstack/tempest,master,I72ccf82debe36607b58fa75e52af535494999959,Add attachments checks to iscsi live migration test,ABANDONED,2017-07-27 14:56:27.000000000,2021-07-08 22:48:13.000000000,,"[{'_account_id': 3}, {'_account_id': 2243}, {'_account_id': 5689}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9562}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 15334}, {'_account_id': 17130}, {'_account_id': 17386}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24147}]","[{'number': 1, 'created': '2017-07-27 14:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/44ae57e533bccb26e3d18e704d5f286d02c07431', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check the\ncinder db.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 2, 'created': '2017-07-27 17:00:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d14fe3a763d68a591a7976b3b8504cda9c8c317d', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check the\ncinder db.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 3, 'created': '2017-07-28 14:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f901a27f8e88557e983e588a5a29a61d5094094f', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 4, 'created': '2017-07-31 17:34:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2751ab4dbc03a0935f41fd682843a7ccb0440a59', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 5, 'created': '2017-08-28 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fe246dc772be77242a20c71e61c69c570f066720', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 6, 'created': '2017-08-30 13:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1f336f351b3f8795ebff9a962b49384c100607b8', 'message': 'add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 7, 'created': '2017-09-07 13:57:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a21da7449172ebce1660c2c5474ed7b415981da6', 'message': 'Add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 8, 'created': '2017-09-22 17:17:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/be5a960f471abc03b13bf11296b3c88eabcb9b97', 'message': 'Add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nThis test can also be run in a grenade environment where the\nlive migration is from a pike to queens host, in which case\nthe old migration flow is used. The test handles both cases.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nDepends-On: Ifc01dbf98545104c998ab96f65ff8623a6db0f28\nDepends-On: I0bfb11296430dfffe9b091ae7c3a793617bd9d0d\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}, {'number': 9, 'created': '2018-02-23 11:07:27.000000000', 'files': ['tempest/lib/services/volume/v3/attachments_client.py', 'tempest/api/compute/base.py', 'tempest/clients.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/tests/lib/services/volume/v3/test_attachments_client.py', 'releasenotes/notes/add-vol-attach-client-be7f4e1c3346ed78.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9349733212ddd9d608ef86d2c585c2d7fa8ccc0c', 'message': 'Add attachments checks to iscsi live migration test\n\nWith the new live migration flow if a delete attachment\nis omitted, you can acccumulate cinder attachment objects\nwithout being aware of it. After detach, these attachments\nare no longer associated with a volume or an instance\nso the only way to know if they are gone is to check\nattachments in the cli.\n\nThis adds a check after migration to make sure the original\nattachments have been deleted.\n\nThis test can also be run in a grenade environment where the\nlive migration is from a pike to queens host, in which case\nthe old migration flow is used. The test handles both cases.\n\nA new attachments client is created to provide a way to\ncall cinder to get the attachment list.\n\nPartially Implements: blueprint cinder-new-attach-apis\n\nChange-Id: I72ccf82debe36607b58fa75e52af535494999959\n'}]",9,487884,9349733212ddd9d608ef86d2c585c2d7fa8ccc0c,77,17,9,17386,,,0,"Add attachments checks to iscsi live migration test

With the new live migration flow if a delete attachment
is omitted, you can acccumulate cinder attachment objects
without being aware of it. After detach, these attachments
are no longer associated with a volume or an instance
so the only way to know if they are gone is to check
attachments in the cli.

This adds a check after migration to make sure the original
attachments have been deleted.

This test can also be run in a grenade environment where the
live migration is from a pike to queens host, in which case
the old migration flow is used. The test handles both cases.

A new attachments client is created to provide a way to
call cinder to get the attachment list.

Partially Implements: blueprint cinder-new-attach-apis

Change-Id: I72ccf82debe36607b58fa75e52af535494999959
",git fetch https://review.opendev.org/openstack/tempest refs/changes/84/487884/9 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v3/attachments_client.py', 'tempest/api/compute/base.py', 'tempest/api/compute/admin/test_live_migration.py', 'tempest/clients.py', 'tempest/lib/services/volume/v3/__init__.py']",5,44ae57e533bccb26e3d18e704d5f286d02c07431,bp/cinder-new-attach-apis,"from tempest.lib.services.volume.v3.attachments_client import AttachmentsClient__all__ = ['AttachmentsClient', 'BackupsClient', 'BaseClient', 'GroupsClient', 'GroupTypesClient', 'MessagesClient', 'VersionsClient', 'VolumesClient']","__all__ = ['BackupsClient', 'BaseClient', 'GroupsClient', 'GroupTypesClient', 'MessagesClient', 'VersionsClient', 'VolumesClient']",98,3
openstack%2Foctavia-lib~master~I28e210605d2d8bc06bc99844c92b538568dbac45,openstack/octavia-lib,master,I28e210605d2d8bc06bc99844c92b538568dbac45,Fix loadbalancer_update argument typo,MERGED,2021-07-08 16:31:51.000000000,2021-07-08 22:46:53.000000000,2021-07-08 22:42:54.000000000,"[{'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 16:31:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/efaf6b1a9c8e5245f7f3c2fe7a08a5e028ac9a6f', 'message': ""Fix loadbalancer_update argument typo\n\nProvider drivers who override this definition started\nseeing a failure due to a typo. For example:\n\n  W0237: [Parameter 'new_loadbalncer' has been renamed to\n  'new_loadbalancer' in overridden 'MyProviderDriver.\n  loadbalancer_update' method (arguments-renamed)\n\nWhile we just updated .pylintrc to ignore the error,\nmight as well fix the typo.\n\nChange-Id: I28e210605d2d8bc06bc99844c92b538568dbac45\n""}, {'number': 2, 'created': '2021-07-08 18:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/04e6da3370bffa97e3820fbfa3076737e5663472', 'message': ""Fix loadbalancer_update argument typo\n\nProvider drivers who override this definition started\nseeing a failure due to a typo. For example:\n\n  W0237: [Parameter 'new_loadbalncer' has been renamed to\n  'new_loadbalancer' in overridden 'MyProviderDriver.\n  loadbalancer_update' method (arguments-renamed)\n\nWhile we just updated .pylintrc to ignore the error,\nmight as well fix the typo.\n\nChange-Id: I28e210605d2d8bc06bc99844c92b538568dbac45\n""}, {'number': 3, 'created': '2021-07-08 21:30:16.000000000', 'files': ['octavia_lib/api/drivers/provider_base.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/a3b01fd3108a3d18a182fba18af8fedae1681d57', 'message': ""Fix loadbalancer_update argument typo\n\nProvider drivers who override this definition started\nseeing a failure due to a typo. For example:\n\n  W0237: [Parameter 'new_loadbalncer' has been renamed to\n  'new_loadbalancer' in overridden 'MyProviderDriver.\n  loadbalancer_update' method (arguments-renamed)\n\nWhile we just updated .pylintrc to ignore the error,\nmight as well fix the typo.\n\nChange-Id: I28e210605d2d8bc06bc99844c92b538568dbac45\n""}]",0,800082,a3b01fd3108a3d18a182fba18af8fedae1681d57,12,3,3,1131,,,0,"Fix loadbalancer_update argument typo

Provider drivers who override this definition started
seeing a failure due to a typo. For example:

  W0237: [Parameter 'new_loadbalncer' has been renamed to
  'new_loadbalancer' in overridden 'MyProviderDriver.
  loadbalancer_update' method (arguments-renamed)

While we just updated .pylintrc to ignore the error,
might as well fix the typo.

Change-Id: I28e210605d2d8bc06bc99844c92b538568dbac45
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/82/800082/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_lib/api/drivers/provider_base.py'],1,efaf6b1a9c8e5245f7f3c2fe7a08a5e028ac9a6f,fix-pylint," def loadbalancer_update(self, old_loadbalancer, new_loadbalancer):"," def loadbalancer_update(self, old_loadbalancer, new_loadbalncer):",1,1
openstack%2Foctavia-lib~master~I48106513291263a7f754cfe7f9edc3703f8fbb7a,openstack/octavia-lib,master,I48106513291263a7f754cfe7f9edc3703f8fbb7a,Fix PDF docs build,MERGED,2021-05-18 11:25:21.000000000,2021-07-08 22:45:53.000000000,2021-07-08 22:42:51.000000000,"[{'_account_id': 1131}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-18 11:25:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/f88f76eb3454bdb726e479d48137be6f6217cdf7', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a\n'}, {'number': 2, 'created': '2021-05-19 01:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/90ed842f891b78376ff1877a6d6a32b557fb66a8', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nChange-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a\n'}, {'number': 3, 'created': '2021-07-08 20:51:27.000000000', 'files': ['tox.ini', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/6a9cd92ae0206f615a872042dbd7cde3e1c3e83a', 'message': 'Fix PDF docs build\n\nUpdate tox config to include upper-constraints as dependencies. This\nresolves issues with building PDF docs.\n\nNew pylint 2.9.0 provides some new checkers and detects new errors with\nexisting checkers:\n\n - consider-using-dict-items\n\nSimilar change was done in Octavia repo already.\n\nChange-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a\n'}]",2,791925,6a9cd92ae0206f615a872042dbd7cde3e1c3e83a,17,4,3,32029,,,0,"Fix PDF docs build

Update tox config to include upper-constraints as dependencies. This
resolves issues with building PDF docs.

New pylint 2.9.0 provides some new checkers and detects new errors with
existing checkers:

 - consider-using-dict-items

Similar change was done in Octavia repo already.

Change-Id: I48106513291263a7f754cfe7f9edc3703f8fbb7a
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/25/791925/3 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,f88f76eb3454bdb726e479d48137be6f6217cdf7,fix-pdf-docs,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r{toxinidir}/doc/requirements.txt,deps = -r{toxinidir}/doc/requirements.txt,3,1
openstack%2Fcharm-deployment-guide~master~I96d1e66444bdbedd93b4ee34309c7476dc7f168d,openstack/charm-deployment-guide,master,I96d1e66444bdbedd93b4ee34309c7476dc7f168d,De-appendicize ceph charm migration page,MERGED,2021-07-08 20:18:27.000000000,2021-07-08 22:37:29.000000000,2021-07-08 22:36:17.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 20:18:27.000000000', 'files': ['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/ceph-charm-migration.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/upgrade-special.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/f0f53874cbec04ab0eed6785b4f29996abbc58df', 'message': 'De-appendicize ceph charm migration page\n\nRename the ceph charm migration page\n\nAdd a corresponding redirect and redirect test\n\nChange-Id: I96d1e66444bdbedd93b4ee34309c7476dc7f168d\n'}]",0,800106,f0f53874cbec04ab0eed6785b4f29996abbc58df,7,2,1,30561,,,0,"De-appendicize ceph charm migration page

Rename the ceph charm migration page

Add a corresponding redirect and redirect test

Change-Id: I96d1e66444bdbedd93b4ee34309c7476dc7f168d
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/06/800106/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/_extra/.htaccess', 'deploy-guide/source/ceph-charm-migration.rst', 'deploy-guide/test/redirect-tests.txt', 'deploy-guide/source/upgrade-special.rst']",4,f0f53874cbec04ab0eed6785b4f29996abbc58df,de-app,* :doc:`ceph charm: migration to ceph-mon and ceph-osd <ceph-charm-migration>`,* :doc:`ceph charm: migration to ceph-mon and ceph-osd <app-ceph-migration>`,3,1
openstack%2Fcharm-guide~master~Icc286ea719b26ad345312a53e3a9991219765ac4,openstack/charm-guide,master,Icc286ea719b26ad345312a53e3a9991219765ac4,Fix past release notes re previous bugs,MERGED,2021-06-30 17:43:10.000000000,2021-07-08 22:33:43.000000000,2021-07-08 22:32:35.000000000,"[{'_account_id': 8992}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-30 17:43:10.000000000', 'files': ['doc/source/2010.rst', 'doc/source/2008.rst', 'doc/source/2005.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/9dc9c3df4a4e16014da8468a84e211026d334597', 'message': 'Fix past release notes re previous bugs\n\nA BootStack customer has reported that an issue was\nnot resolved solely via a Juju bug fix as explained\nin the release notes for charm releases 20.05, 20.08,\nand 20.10. There is apparently also a charm fix needed,\nwhich only came out with 21.01.\n\nChange-Id: Icc286ea719b26ad345312a53e3a9991219765ac4\n'}]",0,798936,9dc9c3df4a4e16014da8468a84e211026d334597,7,2,1,30561,,,0,"Fix past release notes re previous bugs

A BootStack customer has reported that an issue was
not resolved solely via a Juju bug fix as explained
in the release notes for charm releases 20.05, 20.08,
and 20.10. There is apparently also a charm fix needed,
which only came out with 21.01.

Change-Id: Icc286ea719b26ad345312a53e3a9991219765ac4
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/36/798936/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/2010.rst', 'doc/source/2008.rst', 'doc/source/2005.rst']",3,9dc9c3df4a4e16014da8468a84e211026d334597,fix-past-release-notes-octavia-mlockall,"applied by Juju and taken from the neutron-openvswitch charm. However, due to a combination of bugs (`LP #1876849`_ in Juju and `LP #1906280`_ in the ovn-chassis/neutron-openvswitch charms) there is no guarantee that the profile will be applied before neutron-openvswitch (or ovn-chassis) execution starts in a container... _LP #1906280: https://bugs.launchpad.net/charm-ovn-chassis/+bug/1906280","applied by Juju and taken from the neutron-openvswitch charm. However, due to `LP #1876849`_ in Juju, there is no guarantee that the profile will be applied before neutron-openvswitch execution starts in a container.",18,17
openstack%2Fironic~stable%2Fwallaby~Ided419263d84184cab902944b6c518f98618c9d2,openstack/ironic,stable/wallaby,Ided419263d84184cab902944b6c518f98618c9d2,API to pass fields to node object list,MERGED,2021-07-07 19:25:42.000000000,2021-07-08 22:24:44.000000000,2021-07-08 18:41:37.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:25:42.000000000', 'files': ['ironic/objects/node.py', 'releasenotes/notes/db-field-overhead-reduction-40be1821e38b468c.yaml', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5a4783e4ac33ca912edbd120326151bd704ad142', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}]",0,799905,5a4783e4ac33ca912edbd120326151bd704ad142,11,3,1,10342,,,0,"API to pass fields to node object list

This change modifies the nodes _get_nodes_collection method to
consider and pass in an explicit lisst of requested fields into
the node list method, while also including the required fields
for things like ownership/policy checking.

And slightly modifies node_convert_with_links method to simplify
it while enabling field validity to be checked, and specific
requisite field lists provided in based upon that value.

And also optionally builds the traits list as they are nolonger
*always* populated on all objects with fully populated objects
as only partially hydrated objects are provided back when specific
fields are requested.

Story: 2008885
Task: 42572
Change-Id: Ided419263d84184cab902944b6c518f98618c9d2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/05/799905/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'releasenotes/notes/db-field-overhead-reduction-40be1821e38b468c.yaml', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py']",5,5a4783e4ac33ca912edbd120326151bd704ad142,,," self.assertIsInstance(nodes[0].traits, objects.TraitList)",120,61
openstack%2Fpython-tripleoclient~master~I94e00ed3000982c2563c54d73e0c1cfd0ac7c6a3,openstack/python-tripleoclient,master,I94e00ed3000982c2563c54d73e0c1cfd0ac7c6a3,Correct exception,MERGED,2021-07-08 13:56:28.000000000,2021-07-08 22:08:58.000000000,2021-07-08 22:07:39.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 13:56:28.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/078f67ecd1bd4cff1329af0ea62e5a04f9874865', 'message': ""Correct exception\n\nThis change updates the exception call when using the new `vip_file`\nargument. Presently there's no CommandError within tripleoclient,\nwhich results in an AttributeError, so we move the call to osc_lib which\nhas what we're expecting.\n\nChange-Id: I94e00ed3000982c2563c54d73e0c1cfd0ac7c6a3\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,800058,078f67ecd1bd4cff1329af0ea62e5a04f9874865,10,4,1,7353,,,0,"Correct exception

This change updates the exception call when using the new `vip_file`
argument. Presently there's no CommandError within tripleoclient,
which results in an AttributeError, so we move the call to osc_lib which
has what we're expecting.

Change-Id: I94e00ed3000982c2563c54d73e0c1cfd0ac7c6a3
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/58/800058/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,078f67ecd1bd4cff1329af0ea62e5a04f9874865,, raise oscexc.CommandError(, raise exceptions.CommandError(,1,1
openstack%2Ftripleo-ansible~stable%2Fvictoria~I1e88907db0bb26d52c92cb996eb56767e06b3874,openstack/tripleo-ansible,stable/victoria,I1e88907db0bb26d52c92cb996eb56767e06b3874,tripleo-transfer: ability to customize files transfer options,MERGED,2021-07-05 12:52:21.000000000,2021-07-08 22:07:36.000000000,2021-07-08 22:07:36.000000000,"[{'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-05 12:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4c0064725459cbc36b94b8f327464f436e435cfe', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\n(manually fixed conflicts in molecule tests)\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)\n(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)\n""}, {'number': 2, 'created': '2021-07-06 09:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6fac4f4bd734717aa4a26583473f10b51c03a676', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\n(manually fixed conflicts in molecule tests)\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)\n(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)\n""}, {'number': 3, 'created': '2021-07-08 08:24:18.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db0bf528a4a5a1e9ece0f0186cf14fba4d60d5b4', 'message': ""tripleo-transfer: ability to customize files transfer options\n\nThere are use cases where it's useful to be able to explicitly\nexclude files from a transfer request. For example when syncing galera\ndatabase, we don't want to copy coredumps, local galera state file...\n\nAdd the ability to explicitly include or exclude files by specifying\na list of files or wildcard-based patterns.\n\nAlso make the default transfer options configurable, to best suit\ntransfer use cases.\n\nRelated-Bug: #1925260\n\nChange-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874\n(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)\n(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)\n""}]",0,799468,db0bf528a4a5a1e9ece0f0186cf14fba4d60d5b4,17,4,3,20778,,,0,"tripleo-transfer: ability to customize files transfer options

There are use cases where it's useful to be able to explicitly
exclude files from a transfer request. For example when syncing galera
database, we don't want to copy coredumps, local galera state file...

Add the ability to explicitly include or exclude files by specifying
a list of files or wildcard-based patterns.

Also make the default transfer options configurable, to best suit
transfer use cases.

Related-Bug: #1925260

Change-Id: I1e88907db0bb26d52c92cb996eb56767e06b3874
(cherry picked from commit 6f75fd172326b010e680fc0bdda8d880e256a58e)
(cherry picked from commit 23531b28c42f9e68bb82253dc52432f20fde8e1e)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/799468/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/defaults/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/tasks/main.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",6,4c0064725459cbc36b94b8f327464f436e435cfe,transfer-patters-stable/victoria," tasks: - name: Install openssl for file creation package: name: openssl state: present become: true - name: Create test directories file: state: directory path: ""{{ item }}"" loop: - ""{{ test_src_dir }}"" - ""{{ test_dst_dir }}"" - ""{{ test2_src_dir }}"" - ""{{ test2_dst_dir }}"" - name: Create 1GB src test files with random content shell: >- openssl rand -out {{ item }} -base64 $(( 2**30 * 3/4 )) args: chdir: ""{{ test_src_dir }}"" creates: ""{{ item }}"" loop: ""{{ test_src_files }}"" - name: Create empty dst test files with random content file: path: ""{{ test_dst_dir }}/{{ item }}"" state: touch loop: ""{{ test_dst_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test_dst_dir }}"" - name: Create empty src test files file: state: touch path: ""{{ test2_src_dir }}/{{ item }}"" loop: ""{{ test2_src_files + test2_exclude_src_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test2_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test2_dst_dir }}"" tripleo_transfer_exclude: ""{{ test2_exclude_pattern }}"" tripleo_transfer_include: ""{{ test2_include_pattern }}"" "," roles: - role: ""tripleo_transfer"" tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: /etc tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: /opt/etc-target",204,12
openstack%2Fcinder~master~I10f94c3560037e462e8e8b4e0b07b930835f7f75,openstack/cinder,master,I10f94c3560037e462e8e8b4e0b07b930835f7f75,streamline _report_driver_status method,MERGED,2020-12-11 15:35:26.000000000,2021-07-08 21:36:05.000000000,2021-07-08 21:34:14.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-12-11 15:35:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/b120ed20057a5f1a1a95a295c26e4380fcd4b895', 'message': 'streamline _report_driver_status method\n\nRemove an unnecessary else block that makes this\nmethod more complex than is necessary.\n\nChange-Id: I10f94c3560037e462e8e8b4e0b07b930835f7f75\n'}, {'number': 2, 'created': '2020-12-17 15:22:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5a3d6033286c9836ebe69d0c2c4537379a65d939', 'message': 'streamline _report_driver_status method\n\nRemove an unnecessary else block that makes this\nmethod more complex than is necessary.\n\nChange-Id: I10f94c3560037e462e8e8b4e0b07b930835f7f75\n'}, {'number': 3, 'created': '2021-06-18 14:21:31.000000000', 'files': ['cinder/volume/manager.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/9357026a7c5cf2ab7f0f1d401248b84f8a37ade9', 'message': 'streamline _report_driver_status method\n\nRemove an unnecessary else block that makes this\nmethod more complex than is necessary.\n\nChange-Id: I10f94c3560037e462e8e8b4e0b07b930835f7f75\n'}]",0,766752,9357026a7c5cf2ab7f0f1d401248b84f8a37ade9,85,4,3,4523,,,0,"streamline _report_driver_status method

Remove an unnecessary else block that makes this
method more complex than is necessary.

Change-Id: I10f94c3560037e462e8e8b4e0b07b930835f7f75
",git fetch https://review.opendev.org/openstack/cinder refs/changes/52/766752/2 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/manager.py'],1,b120ed20057a5f1a1a95a295c26e4380fcd4b895,," return slowmsg = ""The "" + self.driver.__class__.__name__ + "" volume "" \ ""driver's get_volume_stats operation ran for "" \ ""%(seconds).1f seconds. This may indicate a "" \ ""performance problem with the backend which can lead "" \ ""to instability."" @timeutils.time_it( LOG, log_level=logging.WARN, message=slowmsg, min_duration=CONF.backend_stats_polling_interval / 2) def get_stats(): return self.driver.get_volume_stats(refresh=True) volume_stats = get_stats() if self.extra_capabilities: volume_stats.update(self.extra_capabilities) if volume_stats: # NOTE(xyang): If driver reports replication_status to be # 'error' in volume_stats, get model updates from driver # and update db if volume_stats.get('replication_status') == ( fields.ReplicationStatus.ERROR): filters = self._get_cluster_or_host_filters() groups = objects.GroupList.get_all_replicated( context, filters=filters) group_model_updates, volume_model_updates = ( self.driver.get_replication_error_status(context, groups)) for grp_update in group_model_updates: try: grp_obj = objects.Group.get_by_id( context, grp_update['group_id']) grp_obj.update(grp_update) grp_obj.save() except exception.GroupNotFound: # Group may be deleted already. Log a warning # and continue. LOG.warning(""Group %(grp)s not found while "" ""updating driver status."", {'grp': grp_update['group_id']}, resource={ 'type': 'group', 'id': grp_update['group_id']}) for vol_update in volume_model_updates: try: vol_obj = objects.Volume.get_by_id( context, vol_update['volume_id']) vol_obj.update(vol_update) vol_obj.save() except exception.VolumeNotFound: # Volume may be deleted already. Log a warning # and continue. LOG.warning(""Volume %(vol)s not found while "" ""updating driver status."", {'vol': vol_update['volume_id']}, resource={ 'type': 'volume', 'id': vol_update['volume_id']}) # Append volume stats with 'allocated_capacity_gb' self._append_volume_stats(volume_stats) # Append cacheable flag for iSCSI/FC/NVMe-oF and only when # cacheable is not set in driver level if volume_stats.get('storage_protocol') in [ 'iSCSI', 'FC', 'NVMe-oF']: if volume_stats.get('pools'): for pool in volume_stats.get('pools'): if pool.get('cacheable') is None: pool['cacheable'] = True else: if volume_stats.get('cacheable') is None: volume_stats['cacheable'] = True # Append filter and goodness function if needed volume_stats = ( self._append_filter_goodness_functions(volume_stats)) # queue it to be sent to the Schedulers. self.update_service_capabilities(volume_stats)"," else: slowmsg = ""The "" + self.driver.__class__.__name__ + "" volume "" \ ""driver's get_volume_stats operation ran for "" \ ""%(seconds).1f seconds. This may indicate a "" \ ""performance problem with the backend which can lead "" \ ""to instability."" @timeutils.time_it( LOG, log_level=logging.WARN, message=slowmsg, min_duration=CONF.backend_stats_polling_interval / 2) def get_stats(): return self.driver.get_volume_stats(refresh=True) volume_stats = get_stats() if self.extra_capabilities: volume_stats.update(self.extra_capabilities) if volume_stats: # NOTE(xyang): If driver reports replication_status to be # 'error' in volume_stats, get model updates from driver # and update db if volume_stats.get('replication_status') == ( fields.ReplicationStatus.ERROR): filters = self._get_cluster_or_host_filters() groups = objects.GroupList.get_all_replicated( context, filters=filters) group_model_updates, volume_model_updates = ( self.driver.get_replication_error_status(context, groups)) for grp_update in group_model_updates: try: grp_obj = objects.Group.get_by_id( context, grp_update['group_id']) grp_obj.update(grp_update) grp_obj.save() except exception.GroupNotFound: # Group may be deleted already. Log a warning # and continue. LOG.warning(""Group %(grp)s not found while "" ""updating driver status."", {'grp': grp_update['group_id']}, resource={ 'type': 'group', 'id': grp_update['group_id']}) for vol_update in volume_model_updates: try: vol_obj = objects.Volume.get_by_id( context, vol_update['volume_id']) vol_obj.update(vol_update) vol_obj.save() except exception.VolumeNotFound: # Volume may be deleted already. Log a warning # and continue. LOG.warning(""Volume %(vol)s not found while "" ""updating driver status."", {'vol': vol_update['volume_id']}, resource={ 'type': 'volume', 'id': vol_update['volume_id']}) # Append volume stats with 'allocated_capacity_gb' self._append_volume_stats(volume_stats) # Append cacheable flag for iSCSI/FC/NVMe-oF and only when # cacheable is not set in driver level if volume_stats.get('storage_protocol') in [ 'iSCSI', 'FC', 'NVMe-oF']: if volume_stats.get('pools'): for pool in volume_stats.get('pools'): if pool.get('cacheable') is None: pool['cacheable'] = True else: if volume_stats.get('cacheable') is None: volume_stats['cacheable'] = True # Append filter and goodness function if needed volume_stats = ( self._append_filter_goodness_functions(volume_stats)) # queue it to be sent to the Schedulers. self.update_service_capabilities(volume_stats)",75,74
openstack%2Ftripleo-ansible~master~I3f3182929571ec723f4e1d5a8e283755b3e17f95,openstack/tripleo-ansible,master,I3f3182929571ec723f4e1d5a8e283755b3e17f95,"replacing "","" with "" "" to avoid timemaster to consider it as a single interface",MERGED,2021-07-06 07:41:34.000000000,2021-07-08 21:35:01.000000000,2021-07-08 21:35:01.000000000,"[{'_account_id': 7353}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-06 07:41:34.000000000', 'files': ['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/34c0d5d62c5b86f4646afe053220b0a9dc900168', 'message': 'replacing "","" with "" "" to avoid timemaster to\nconsider it as a single interface\n\nDue to this, when below is passed via THT,\nPTPInterfaces: \'0:eno1,0:eno2\'\n\nresults in to\n[ptp_domain 0]\ninterfaces eno1,eno2\n\ntimemaster[169838]: timemaster[532409.195]:\nioctl SIOCETHTOOL failed: No such device\ntimemaster[169838]: timemaster[532409.195]:\nfailed to get time stamping info for eno1,eno2\nsystemd[1]: timemaster.service: Main process\nexited, code=exited, status=1/FAILURE\nsystemd[1]: timemaster.service: Failed with\nresult \'exit-code\'.\n\nCloses-Bug: #1934667\nChange-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95\n'}]",0,799565,34c0d5d62c5b86f4646afe053220b0a9dc900168,10,6,1,30229,,,0,"replacing "","" with "" "" to avoid timemaster to
consider it as a single interface

Due to this, when below is passed via THT,
PTPInterfaces: '0:eno1,0:eno2'

results in to
[ptp_domain 0]
interfaces eno1,eno2

timemaster[169838]: timemaster[532409.195]:
ioctl SIOCETHTOOL failed: No such device
timemaster[169838]: timemaster[532409.195]:
failed to get time stamping info for eno1,eno2
systemd[1]: timemaster.service: Main process
exited, code=exited, status=1/FAILURE
systemd[1]: timemaster.service: Failed with
result 'exit-code'.

Closes-Bug: #1934667
Change-Id: I3f3182929571ec723f4e1d5a8e283755b3e17f95
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/799565/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_timemaster/templates/timemaster.conf.j2'],1,34c0d5d62c5b86f4646afe053220b0a9dc900168,timemaster_domain,{{ nic }}{% if not loop.last %} {% endif %},"{{ nic }}{% if not loop.last %},{% endif %}",1,1
openstack%2Foctavia-lib~master~Ie85dd641ef142144cb9a56dfca53cc8580e273b0,openstack/octavia-lib,master,Ie85dd641ef142144cb9a56dfca53cc8580e273b0,Fix new pylint and doc build issues,ABANDONED,2021-07-08 18:16:24.000000000,2021-07-08 21:29:42.000000000,,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 18:16:24.000000000', 'files': ['bindep.txt', 'octavia_lib/api/drivers/data_models.py'], 'web_link': 'https://opendev.org/openstack/octavia-lib/commit/1752f7295aba7e149f0f2f92a3be0379d5976c15', 'message': ""Fix new pylint and doc build issues\n\nNew pylint 2.9.0 provides some new checkers and detects new errors with\nexisting checkers:\n\n - consider-using-dict-items\n\nSimilar change was done in Octavia repo already.\n\nAlso fix a pdf-docs build issue:\n\n ! LaTeX Error: File `tgtermes.sty' not found.\n\nCreated a bindep.txt to add a tex-gyre dependency.\n\nChange-Id: Ie85dd641ef142144cb9a56dfca53cc8580e273b0\n""}]",0,800094,1752f7295aba7e149f0f2f92a3be0379d5976c15,5,2,1,1131,,,0,"Fix new pylint and doc build issues

New pylint 2.9.0 provides some new checkers and detects new errors with
existing checkers:

 - consider-using-dict-items

Similar change was done in Octavia repo already.

Also fix a pdf-docs build issue:

 ! LaTeX Error: File `tgtermes.sty' not found.

Created a bindep.txt to add a tex-gyre dependency.

Change-Id: Ie85dd641ef142144cb9a56dfca53cc8580e273b0
",git fetch https://review.opendev.org/openstack/octavia-lib refs/changes/94/800094/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'octavia_lib/api/drivers/data_models.py']",2,1752f7295aba7e149f0f2f92a3be0379d5976c15,fix-issues," for attr, value in self.__dict__.items():", for attr in self.__dict__: value = self.__dict__[attr],3,2
openstack%2Fcinder~master~I855b99e80fc97882446a6d137a4c368dc842feb9,openstack/cinder,master,I855b99e80fc97882446a6d137a4c368dc842feb9,Tests: Fix oslo.i18n warning,MERGED,2021-05-10 18:24:22.000000000,2021-07-08 21:28:43.000000000,2021-07-08 21:24:11.000000000,"[{'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 10459}, {'_account_id': 12670}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-05-10 18:24:22.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/87b8c88dc7bdb76307fd91f71d5456c88a5f13df', 'message': 'Tests: Fix oslo.i18n warning\n\nPass a UUID to the castellan exception, otherwise\noslo.i18n prints a warning during the unit test run\nindicating ""Failed to insert replacement values into\ntranslated message"".\n\nChange-Id: I855b99e80fc97882446a6d137a4c368dc842feb9\n'}]",0,790509,87b8c88dc7bdb76307fd91f71d5456c88a5f13df,32,7,1,4523,,,0,"Tests: Fix oslo.i18n warning

Pass a UUID to the castellan exception, otherwise
oslo.i18n prints a warning during the unit test run
indicating ""Failed to insert replacement values into
translated message"".

Change-Id: I855b99e80fc97882446a6d137a4c368dc842feb9
",git fetch https://review.opendev.org/openstack/cinder refs/changes/09/790509/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/tests/unit/volume/test_volume.py'],1,87b8c88dc7bdb76307fd91f71d5456c88a5f13df,, side_effect=castellan_exception.ManagedObjectNotFoundError( uuid=fake.ENCRYPTION_KEY_ID)):, side_effect=castellan_exception.ManagedObjectNotFoundError):,2,1
openstack%2Fcinder~master~I76517b5a296621ba1449015714dca55c2892b9df,openstack/cinder,master,I76517b5a296621ba1449015714dca55c2892b9df,LVM: Simplify version fetching,MERGED,2021-06-17 19:51:35.000000000,2021-07-08 21:27:23.000000000,2021-07-08 21:23:37.000000000,"[{'_account_id': 5997}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 19:51:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/133a14c0b111996202748ee00fc87fa446248ef0', 'message': 'LVM: Simplify version fetching\n\nFetching the LVM version doesn\'t need to be run\nas root.\n\nAlso, just run ""lvm version"" to fetch this info\nrather than ""vgs"" so it\'s more clear in the logs\nwhat is happening, and we don\'t bother trying to\nopen devices for VG info.\n\nChange-Id: I76517b5a296621ba1449015714dca55c2892b9df\n'}, {'number': 2, 'created': '2021-06-29 22:28:37.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/d0f317ab40648832f94c0a5854dc88786852f841', 'message': 'LVM: Simplify version fetching\n\nFetching the LVM version doesn\'t need to be run\nas root.\n\nAlso, just run ""lvm version"" to fetch this info\nrather than ""vgs"" so it\'s more clear in the logs\nwhat is happening, and we don\'t bother trying to\nopen devices for VG info.\n\nChange-Id: I76517b5a296621ba1449015714dca55c2892b9df\n'}]",0,796946,d0f317ab40648832f94c0a5854dc88786852f841,42,3,2,4523,,,0,"LVM: Simplify version fetching

Fetching the LVM version doesn't need to be run
as root.

Also, just run ""lvm version"" to fetch this info
rather than ""vgs"" so it's more clear in the logs
what is happening, and we don't bother trying to
open devices for VG info.

Change-Id: I76517b5a296621ba1449015714dca55c2892b9df
",git fetch https://review.opendev.org/openstack/cinder refs/changes/46/796946/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,133a14c0b111996202748ee00fc87fa446248ef0,," elif _lvm_prefix + 'lvm version' in cmd_string: data = "" LVM version: 2.03.07(2) (2019-11-30)\n"""," elif _lvm_prefix + 'vgs --version' in cmd_string: data = "" LVM version: 2.02.103(2) (2012-03-06)\n""",4,6
openstack%2Fcinderlib~master~Ib5aed7582627262feb30afac27ddaa29840f7558,openstack/cinderlib,master,Ib5aed7582627262feb30afac27ddaa29840f7558,Update contributor docs,MERGED,2021-01-26 15:15:19.000000000,2021-07-08 21:26:58.000000000,2021-07-08 21:24:01.000000000,"[{'_account_id': 5314}, {'_account_id': 5997}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}, {'_account_id': 30615}]","[{'number': 1, 'created': '2021-01-26 15:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/c6eb8a1fae00d7dc13c366fbce053c5c5ac7df1b', 'message': 'Update contributor docs\n\nAdd info about some manual maintenance of tox.ini and requirements\nat the coordinated release time and after cinderlib release.\n\nChange-Id: Ib5aed7582627262feb30afac27ddaa29840f7558\n'}, {'number': 2, 'created': '2021-02-17 15:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/d6481abfb7a247ad4e0f6d890c1dd0c0ccc34824', 'message': 'Update contributor docs\n\nAdd info about some manual maintenance of tox.ini and requirements\nat the coordinated release time and after cinderlib release.\n\nChange-Id: Ib5aed7582627262feb30afac27ddaa29840f7558\n'}, {'number': 3, 'created': '2021-06-28 17:02:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/03f4004deb6799e013bdd94793d88c7092f56347', 'message': 'Update contributor docs\n\nAdd info about some manual maintenance of tox.ini and requirements\nat the coordinated release time and after cinderlib release.\n\nChange-Id: Ib5aed7582627262feb30afac27ddaa29840f7558\n'}, {'number': 4, 'created': '2021-06-30 13:45:46.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/c47820d0630883a535989221659937a40f91884a', 'message': 'Update contributor docs\n\nAdd info about some manual maintenance of tox.ini and requirements\nat the coordinated release time and after cinderlib release.\n\nChange-Id: Ib5aed7582627262feb30afac27ddaa29840f7558\n'}]",14,772558,c47820d0630883a535989221659937a40f91884a,29,7,4,5314,,,0,"Update contributor docs

Add info about some manual maintenance of tox.ini and requirements
at the coordinated release time and after cinderlib release.

Change-Id: Ib5aed7582627262feb30afac27ddaa29840f7558
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/58/772558/4 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,c6eb8a1fae00d7dc13c366fbce053c5c5ac7df1b,update-release-doc," cinderlib releases ------------------ The OpenStack release model for cinderlib is `cycle-with-intermediary <https://releases.openstack.org/reference/release_models.html#cycle-with-intermediary>`__. This means that there can be multiple full releases of cinderlib from master during a development cycle. The deliverable type of cinderlib is 'trailing' which means that the final release of cinderlib for a development cycle must occur within 3 months after the official OpenStack coordinated release. At the time of the final release, the stable branch is cut, and cinderlib releases from that branch follow the normal OpenStack stable release policy. Because cinderlib depends on cinder and os-brick, during the development cycle it uses cinder and os-brick from master (not from released versions) so that changes in cinder and os-brick are immediately available for testing cinderlib. Once cinder and os-brick have had their final release for a cycle, however, their master branches become the development branch for the *next* cycle, whereas cinderlib's master branch is still the development branch for the *previous* cycle. Thus, cinderlib's tox.ini requires some manual maintenance: * while both the cinder and cinderlib master branches are the development branches for the 'n' release cycle (ussuri, for example), the base testenv in tox.ini in master should look like this: .. code-block:: # Use cinder from master instead of from PyPi. Defining the egg name we won't # overwrite the package installed by Zuul on jobs supporting cross-project # dependencies (include Cinder in required-projects). This allows us to also # run local tests against master. # NOTE: Functional tests may fail if host is missing bindeps from deps projects deps= -r{toxinidir}/test-requirements.txt git+https://opendev.org/openstack/os-brick#egg=os-brick git+https://opendev.org/openstack/cinder#egg=cinder * when the coordinated release for cycle 'n' has occurred, cinderlib's requirements.txt in master must be updated to use only 'n' deliverables (in this example, ussuri): .. code-block:: # restrict cinder to the ussuri series only cinder>=16.0.0,<17.0.0 # brick upper bound is controlled by ussuri/upper-constraints os-brick>=3.0.1 and cinderlib's tox.ini must be modified to use the upper constraints of the 'n' release: .. code-block:: deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/ussuri} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt * after the 'n' release of cinderlib occurs (and the stable/n branch is cut), all of cinder, os-brick, and cinderlib master branches are all n+1 cycle development branches, so the base testenv in tox.ini in master must be modified to use cinder and os-brick from master for testing, as in the first code block above.",,63,0
openstack%2Fcharm-watcher-dashboard~master~Ia990bc0a164d044a8c76d5e893de652c0d021ac7,openstack/charm-watcher-dashboard,master,Ia990bc0a164d044a8c76d5e893de652c0d021ac7,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:11:12.000000000,2021-07-08 20:40:21.000000000,2021-07-08 20:40:21.000000000,"[{'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-08 13:11:12.000000000', 'files': ['src/README.md'], 'web_link': 'https://opendev.org/openstack/charm-watcher-dashboard/commit/aabd0001b37f1a5a09aed3a5479ca40d1830760b', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ia990bc0a164d044a8c76d5e893de652c0d021ac7\n'}]",0,800035,aabd0001b37f1a5a09aed3a5479ca40d1830760b,7,3,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ia990bc0a164d044a8c76d5e893de652c0d021ac7
",git fetch https://review.opendev.org/openstack/charm-watcher-dashboard refs/changes/35/800035/1 && git format-patch -1 --stdout FETCH_HEAD,['src/README.md'],1,aabd0001b37f1a5a09aed3a5479ca40d1830760b,oftc,- Watcher IRC on OFTC at #openstack-watcher,- Watcher IRC on freenode at #openstack-watcher,1,1
openstack%2Fproject-config~master~I256e16994e1e2c023ee964b68d80e3cf41e4d870,openstack/project-config,master,I256e16994e1e2c023ee964b68d80e3cf41e4d870,update channel config with new registered nic,MERGED,2021-07-07 15:34:28.000000000,2021-07-08 20:02:09.000000000,2021-07-08 19:51:11.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 15:34:28.000000000', 'files': ['accessbot/channels.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/493e8f9a2c1b4ec1e7fe8019d0708072956834ec', 'message': 'update channel config with new registered nic\n\nChange-Id: I256e16994e1e2c023ee964b68d80e3cf41e4d870\n'}]",2,799855,493e8f9a2c1b4ec1e7fe8019d0708072956834ec,10,4,1,9592,,,0,"update channel config with new registered nic

Change-Id: I256e16994e1e2c023ee964b68d80e3cf41e4d870
",git fetch https://review.opendev.org/openstack/project-config refs/changes/55/799855/1 && git format-patch -1 --stdout FETCH_HEAD,['accessbot/channels.yaml'],1,493e8f9a2c1b4ec1e7fe8019d0708072956834ec,, - weshay|ruck - weshay|ruck, - weshay - weshay,2,2
openstack%2Fnova~stable%2Ftrain~Ie2ba746a7697a70fdbc6594f02257f78becfe962,openstack/nova,stable/train,Ie2ba746a7697a70fdbc6594f02257f78becfe962,Reset global wsgi app state in unit test,ABANDONED,2021-04-06 22:28:45.000000000,2021-07-08 20:00:30.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 22:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/8aca69c57093998a8c91ef1315185a211eee3cf2', 'message': 'Reset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nChange-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n(cherry picked from commit 55ad25beafc788b04e2e273533eb8e2dbbddcaae)\n(cherry picked from commit d4d8c2c6e21b37466a7f24ad3cba8377c19a9572)\n'}, {'number': 2, 'created': '2021-04-06 22:56:48.000000000', 'files': ['nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/975f4192ebf1827dfc748c0ae676d56069dcfc7c', 'message': 'Reset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nChange-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n(cherry picked from commit 55ad25beafc788b04e2e273533eb8e2dbbddcaae)\n(cherry picked from commit d4d8c2c6e21b37466a7f24ad3cba8377c19a9572)\n'}]",0,785065,975f4192ebf1827dfc748c0ae676d56069dcfc7c,7,2,2,4690,,,0,"Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Change-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962
Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)
(cherry picked from commit 55ad25beafc788b04e2e273533eb8e2dbbddcaae)
(cherry picked from commit d4d8c2c6e21b37466a7f24ad3cba8377c19a9572)
",git fetch https://review.opendev.org/openstack/nova refs/changes/65/785065/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/test.py'],1,8aca69c57093998a8c91ef1315185a211eee3cf2,bug/1921098,from nova.api.openstack import wsgi_app # make sure that the wsgi app is fully initialized for all testcase # instead of only once initialized for test worker wsgi_app.init_global_data.reset() ,,5,0
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~Id57f86e62409e257f5619dc8b360cee3f922c805,openstack/tripleo-heat-templates,stable/wallaby,Id57f86e62409e257f5619dc8b360cee3f922c805,Neutron: Use the pids subsystem to look up container id,MERGED,2021-07-07 11:15:40.000000000,2021-07-08 19:53:52.000000000,2021-07-08 19:53:52.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-07 11:15:40.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8c2862d2307b5be069db4ec4c8d90bc3b31ffbb6', 'message': 'Neutron: Use the pids subsystem to look up container id\n\nCurrently we rely on cgroup name to detect id of sidecar containers but\nthe name is not managed by podman and it is not guaranteed that it is\nconsistent with container id.\nThis changes switches the base record to the pid subsystem which is\nactively managed by podman and more likely to be consistent with\ncontainer ids.\n\nCloses-Bug: #1933918\nChange-Id: Id57f86e62409e257f5619dc8b360cee3f922c805\n(cherry picked from commit b1e992a739057d0b3b72dedeb9e6c47a14f47829)\n'}]",0,799765,8c2862d2307b5be069db4ec4c8d90bc3b31ffbb6,9,3,1,9816,,,0,"Neutron: Use the pids subsystem to look up container id

Currently we rely on cgroup name to detect id of sidecar containers but
the name is not managed by podman and it is not guaranteed that it is
consistent with container id.
This changes switches the base record to the pid subsystem which is
actively managed by podman and more likely to be consistent with
container ids.

Closes-Bug: #1933918
Change-Id: Id57f86e62409e257f5619dc8b360cee3f922c805
(cherry picked from commit b1e992a739057d0b3b72dedeb9e6c47a14f47829)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/799765/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,8c2862d2307b5be069db4ec4c8d90bc3b31ffbb6,bug/1933918," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /:pids:/{print $3}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /name=/{print $3}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-heat-templates~master~I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b,openstack/tripleo-heat-templates,master,I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b,Add a cloud profile for system-admins,MERGED,2021-03-19 20:22:55.000000000,2021-07-08 19:53:26.000000000,2021-07-08 19:53:26.000000000,"[{'_account_id': 6926}, {'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-03-19 20:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b251a8fdf7997bc0fc5ed356102ac87e7f30f477', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 2, 'created': '2021-03-19 21:21:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b3342e65e6d252f52ff49c5e6c4ac1065ba8fdc4', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 3, 'created': '2021-03-23 21:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7e61f90a7eabb0885167f4ee1310bdebd6c4d09', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 4, 'created': '2021-04-12 21:31:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d9a44faf08d344c00f28749135a0249007d3f66', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 5, 'created': '2021-04-15 13:54:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d8876809cb2a7be71f2e5a4977ff8a1b8285d1f', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 6, 'created': '2021-04-15 16:20:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb3e78f824e1fb8297defc7af21d8fbcffa7538e', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 7, 'created': '2021-04-23 20:47:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2c83c9d8a5abe3b663161ba3fe8a55fd60dfcdc0', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's update the RootStackName profile specifically for system-scoped\naccess. This will be useful as we adopt more secure RBAC personas and\nconvert tripleo plumbing to interact with administrative APIs using\nsystem-scoped tokens (as more projects adopt system-admin).\n\nThis will also force us to update all places in TripleO that require\nproject-admin to do deployment-level administrative things, highlighting\nthose areas. When those services support system scope, we can consider\nremoving the openstack-project-admin profile.\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 8, 'created': '2021-07-06 19:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fea6e4a73ca6eac531abfb75015a4c1e2378e167', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's update the RootStackName profile specifically for system-scoped\naccess. This will be useful as we adopt more secure RBAC personas and\nconvert tripleo plumbing to interact with administrative APIs using\nsystem-scoped tokens (as more projects adopt system-admin).\n\nThis will also force us to update all places in TripleO that require\nproject-admin to do deployment-level administrative things, highlighting\nthose areas. When those services support system scope, we can consider\nremoving the openstack-project-admin profile.\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}, {'number': 9, 'created': '2021-07-06 20:29:23.000000000', 'files': ['deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/feef0cc1e092622e937aa9cfdd647f525c5e0be3', 'message': ""Add a cloud profile for system-admins\n\nKeystone's bootstrap process will create administrative role assignments\nfor the admin user on an admin project. It will also do this for system\nrole assignments.\n\nLet's create a cloud profile specifically for system-scoped access. This\nwill be useful as we adopt more secure RBAC personas and convert tripleo\nplumbing to interact with administrative APIs using system-scoped tokens\n(as more projects adopt system-admin).\n\nChange-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b\n""}]",15,781905,feef0cc1e092622e937aa9cfdd647f525c5e0be3,53,8,9,5046,,,0,"Add a cloud profile for system-admins

Keystone's bootstrap process will create administrative role assignments
for the admin user on an admin project. It will also do this for system
role assignments.

Let's create a cloud profile specifically for system-scoped access. This
will be useful as we adopt more secure RBAC personas and convert tripleo
plumbing to interact with administrative APIs using system-scoped tokens
(as more projects adopt system-admin).

Change-Id: I3471dd1da3ea8987ae6dcb25a7e5fbc0b573e89b
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/05/781905/8 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,b251a8fdf7997bc0fc5ed356102ac87e7f30f477,secure-rbac," - name: Configure system-admin account in /etc/openstack/clouds.yaml include_role: name: tripleo_keystone_resources tasks_from: clouds vars: tripleo_keystone_resources_cloud_name: {get_param: RootStackName}-system-admin tripleo_keystone_resources_cloud_config: auth: auth_url: {get_param: [EndpointMap, KeystonePublic, uri_no_suffix]} password: {get_param: AdminPassword} system_scope: all user_domain_name: Default username: admin cacert: if: - public_tls_enabled - {get_param: PublicTLSCAFile} - '' identity_api_version: '3' volume_api_version: '3' region_name: {get_param: KeystoneRegion}",,21,0
openstack%2Fswift~master~Ia7584ea35600df67dae1cf3694e0ef62612931fa,openstack/swift,master,Ia7584ea35600df67dae1cf3694e0ef62612931fa,Sharding: root audit epoch reset warning,MERGED,2021-07-06 03:09:54.000000000,2021-07-08 19:51:38.000000000,2021-07-08 19:50:02.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 03:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/9c9c36e2a2d4a6a1ed03bf550916dc214d160ef2', 'message': ""Sharding: root audit epoch reset warning\n\nWe've seen an epoch get reset on a root container in production. I\nimagine this could happen if get_own_range is called allowing the self\ngenerated default being called on a new primary before replication has\nmoved the old db across.\n\nThis patch doesn't fix the issue, but adds a root audit reset epoch\ncheck so we can log when/if it happens. So we can 1. see when it happens\nand how systemic it is. and 2. if it needs to be fixed automatically or\nsomething that can be done on an ad-hoc basis.\n\nChange-Id: Ia7584ea35600df67dae1cf3694e0ef62612931fa\n""}, {'number': 2, 'created': '2021-07-08 04:50:55.000000000', 'files': ['test/unit/container/test_sharder.py', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/da4010ae2b52d762a9a69ee4bd68e94298e0ac6a', 'message': ""Sharding: root audit epoch reset warning\n\nWe've seen an epoch get reset on a root container in production. I\nimagine this could happen if get_own_range is called allowing the self\ngenerated default being called on a new primary before replication has\nmoved the old db across.\n\nThis patch doesn't fix the issue, but adds a root audit reset epoch\ncheck so we can log when/if it happens. So we can 1. see when it happens\nand how systemic it is. and 2. if it needs to be fixed automatically or\nsomething that can be done on an ad-hoc basis.\n\nChange-Id: Ia7584ea35600df67dae1cf3694e0ef62612931fa\n""}]",11,799554,da4010ae2b52d762a9a69ee4bd68e94298e0ac6a,16,2,2,7233,,,0,"Sharding: root audit epoch reset warning

We've seen an epoch get reset on a root container in production. I
imagine this could happen if get_own_range is called allowing the self
generated default being called on a new primary before replication has
moved the old db across.

This patch doesn't fix the issue, but adds a root audit reset epoch
check so we can log when/if it happens. So we can 1. see when it happens
and how systemic it is. and 2. if it needs to be fixed automatically or
something that can be done on an ad-hoc basis.

Change-Id: Ia7584ea35600df67dae1cf3694e0ef62612931fa
",git fetch https://review.opendev.org/openstack/swift refs/changes/54/799554/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/container/test_sharder.py', 'swift/container/sharder.py']",2,9c9c36e2a2d4a6a1ed03bf550916dc214d160ef2,root_audit_epoch_check," # if there are no shard ranges then it should fall back to # using it's own_shard_range bounds. if not shard_ranges: shard_ranges.append(own_shard_range) # We've seen a case in production where the roots own_shard_range # epoch is reset to None, and state set to ACTIVE (like re-defaulted) # Epoch it important to sharding so we want to detect if this happens # 1. So we can alert, and 2. to see how common it is. if own_shard_range.epoch is None and broker.db_epoch: warnings.append('own_shard_range reset to None should be %s' % broker.db_epoch) ",,43,2
openstack%2Fnova~stable%2Fussuri~Ie2ba746a7697a70fdbc6594f02257f78becfe962,openstack/nova,stable/ussuri,Ie2ba746a7697a70fdbc6594f02257f78becfe962,Reset global wsgi app state in unit test,ABANDONED,2021-04-06 22:20:24.000000000,2021-07-08 19:47:49.000000000,,"[{'_account_id': 9708}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-06 22:20:24.000000000', 'files': ['nova/test.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d4d8c2c6e21b37466a7f24ad3cba8377c19a9572', 'message': 'Reset global wsgi app state in unit test\n\nSince I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state\nset during the wsgi_app init making our unit test cases\nnon-deterministic based on the order of them. This patch makes sure\nthat the global state is reset for each test case.\n\nConflicts:\n    nova/test.py\n\nNOTE(melwitt): The conflict is because change\nI1fea14d5be10bb4e884f52e0ae8be722519ddd3f\n(Poison netifaces.interfaces() in tests) is not in Ussuri.\n\nChange-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962\nCloses-Bug: #1921098\n(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)\n(cherry picked from commit 55ad25beafc788b04e2e273533eb8e2dbbddcaae)\n'}]",0,785062,d4d8c2c6e21b37466a7f24ad3cba8377c19a9572,5,2,1,4690,,,0,"Reset global wsgi app state in unit test

Since I2bd360dcc6501feea7baf02d4510b282205fc061 there is a global state
set during the wsgi_app init making our unit test cases
non-deterministic based on the order of them. This patch makes sure
that the global state is reset for each test case.

Conflicts:
    nova/test.py

NOTE(melwitt): The conflict is because change
I1fea14d5be10bb4e884f52e0ae8be722519ddd3f
(Poison netifaces.interfaces() in tests) is not in Ussuri.

Change-Id: Ie2ba746a7697a70fdbc6594f02257f78becfe962
Closes-Bug: #1921098
(cherry picked from commit bc2c19bb2db901af0c48d34fb15a335f4e343361)
(cherry picked from commit 55ad25beafc788b04e2e273533eb8e2dbbddcaae)
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/785062/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/test.py'],1,d4d8c2c6e21b37466a7f24ad3cba8377c19a9572,bug/1921098,from nova.api.openstack import wsgi_app # make sure that the wsgi app is fully initialized for all testcase # instead of only once initialized for test worker wsgi_app.init_global_data.reset() ,,5,0
openstack%2Ftripleo-heat-templates~master~I7a551ec8c54ccdd9965b6d4613534e05973e5c25,openstack/tripleo-heat-templates,master,I7a551ec8c54ccdd9965b6d4613534e05973e5c25,Enable services directly in enable-stf.yaml,ABANDONED,2021-07-08 18:27:05.000000000,2021-07-08 19:27:02.000000000,,[{'_account_id': 7294}],"[{'number': 1, 'created': '2021-07-08 18:27:05.000000000', 'files': ['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/03dfb9e02c74ba68dafc23056d4aaca3f9862780', 'message': 'Enable services directly in enable-stf.yaml\n\nEnable services for STF in the enable-stf.yaml directly within the file\nrather than relying on the existing environment files. An issue was\nidentified where using the existing templates would result in a map\nmerge of multiple CollectdAmqpInstances because the\ncollectd-write-qdr.yaml contains a default-defined list of topics. When\nusing this in a multi-cloud environment or with a custom topic, the\nresulting configuration in amqp1.conf for collectd will result in a\nmerged list of the defaults and the custom defined instances.\n\nFixes issue introduced in ab4c114d5b685d796d332be19f47b8d760f4825f\n\nChange-Id: I7a551ec8c54ccdd9965b6d4613534e05973e5c25\nSigned-off-by: Leif Madsen <lmadsen@redhat.com>\n'}]",0,800095,03dfb9e02c74ba68dafc23056d4aaca3f9862780,4,1,1,7294,,,0,"Enable services directly in enable-stf.yaml

Enable services for STF in the enable-stf.yaml directly within the file
rather than relying on the existing environment files. An issue was
identified where using the existing templates would result in a map
merge of multiple CollectdAmqpInstances because the
collectd-write-qdr.yaml contains a default-defined list of topics. When
using this in a multi-cloud environment or with a custom topic, the
resulting configuration in amqp1.conf for collectd will result in a
merged list of the defaults and the custom defined instances.

Fixes issue introduced in ab4c114d5b685d796d332be19f47b8d760f4825f

Change-Id: I7a551ec8c54ccdd9965b6d4613534e05973e5c25
Signed-off-by: Leif Madsen <lmadsen@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/800095/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/enable-stf-no-resource-registry-db6ee6319964ab7f.yaml', 'environments/enable-stf.yaml']",2,03dfb9e02c74ba68dafc23056d4aaca3f9862780,,resource_registry: # Ceilometer services for OpenStack metrics and events data. OS::TripleO::Services::CeilometerAgentCentral: ../../deployment/ceilometer/ceilometer-agent-central-container-puppet.yaml OS::TripleO::Services::CeilometerAgentNotification: ../../deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml OS::TripleO::Services::CeilometerAgentIpmi: ../../deployment/ceilometer/ceilometer-agent-ipmi-container-puppet.yaml OS::TripleO::Services::ComputeCeilometerAgent: ../../deployment/ceilometer/ceilometer-agent-compute-container-puppet.yaml OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml # Collectd service for infrastructure metrics and events data. OS::TripleO::Services::Collectd: ../../deployment/metrics/collectd-container-puppet.yaml # QDR service for transport of metrics and events to Service Telemetry Framework. OS::TripleO::Services::MetricsQdr: ../../deployment/metrics/qdr-container-puppet.yaml # publish Ceilometer metrics and events CeilometerQdrPublishEvents: true NotificationDriver: 'messagingv2' # set collectd overrides for higher telemetry resolution and extra plugins to load # operate QDR in edge mode to stream data from each node directly to QDR interior routers on STF tripleo::profile::base::metrics::qdr::interior_mesh_nodes: '' tripleo::profile::base::metrics::qdr::router_mode: edge # set default polling interval for Ceilometer and default polling meters,# Enablement of the collectors and transport are done with separate enviroment files. # Recommended: # - environments/metrics/ceilometer-qdr-write.yaml # - environments/metrics/collectd-qdr-write.yaml # - environments/metrics/qdr-edge-only.yaml # required to set valid parameter due to typo in ceilometer-write-qdr.yaml # set collectd overrides for higher telemetry resolution and extra plugins # to load,20,28
openstack%2Fnova~stable%2Ftrain~I02b2b851a74f24816d2f782a66d94de81ee527b0,openstack/nova,stable/train,I02b2b851a74f24816d2f782a66d94de81ee527b0,zuul: Replace grenade and nova-grenade-multinode with grenade-multinode,ABANDONED,2021-06-03 23:53:37.000000000,2021-07-08 19:24:30.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 23:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e8aa1007732e89a7186be2627eb0fcce18f300ef', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    .zuul.yaml\n    gate/live_migration/hooks/ceph.sh\n    gate/live_migration/hooks/run_tests.sh\n    playbooks/legacy/nova-grenade-multinode/run.yaml\n    playbooks/legacy/nova-live-migration/run.yaml\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * Icd7ab2ca4ddbed92c7e883a63a23245920d961e7 (nova-live-migration: Wait\n      for n-cpu services to come up after configuring Ceph)\n  * Id565a20ba3ebe2ea1a72b879bd2762ba3e655658 (Convert legacy\n      nova-live-migration and nova-multinode-grenade to py3)\n  * Icac785eec824da5146efe0ea8ecd01383f18398e (Drop\n      neutron-grenade-multinode job)\n  * I4b2d321b7243ec149e9445035d1feb7a425e9a4b (Skip to run all\n      integration jobs for policy-only changes.)\n  * I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to\n      Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9)\n  * I1b7d71e833bf0743f22d7fa0241c9d1bbcd0faac (Make nova-next multinode\n    and drop tempest-slow-py3)\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n(cherry picked from commit 2c850837fe23b7d813d821c26c597ccded66662a)\n""}, {'number': 2, 'created': '2021-06-03 23:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08ee21ac5f8cb8f926637e25c552da884557535f', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    .zuul.yaml\n    gate/live_migration/hooks/ceph.sh\n    gate/live_migration/hooks/run_tests.sh\n    playbooks/legacy/nova-grenade-multinode/run.yaml\n    playbooks/legacy/nova-live-migration/run.yaml\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * Icd7ab2ca4ddbed92c7e883a63a23245920d961e7 (nova-live-migration: Wait\n      for n-cpu services to come up after configuring Ceph)\n  * Id565a20ba3ebe2ea1a72b879bd2762ba3e655658 (Convert legacy\n      nova-live-migration and nova-multinode-grenade to py3)\n  * Icac785eec824da5146efe0ea8ecd01383f18398e (Drop\n      neutron-grenade-multinode job)\n  * I4b2d321b7243ec149e9445035d1feb7a425e9a4b (Skip to run all\n      integration jobs for policy-only changes.)\n  * I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to\n      Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9)\n  * I1b7d71e833bf0743f22d7fa0241c9d1bbcd0faac (Make nova-next multinode\n    and drop tempest-slow-py3)\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n(cherry picked from commit 2c850837fe23b7d813d821c26c597ccded66662a)\n""}, {'number': 3, 'created': '2021-06-03 23:59:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/df78d6149cffb73914afdc538e518e5ffc3b2f7b', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    .zuul.yaml\n    gate/live_migration/hooks/ceph.sh\n    gate/live_migration/hooks/run_tests.sh\n    playbooks/legacy/nova-grenade-multinode/run.yaml\n    playbooks/legacy/nova-live-migration/run.yaml\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * Icd7ab2ca4ddbed92c7e883a63a23245920d961e7 (nova-live-migration: Wait\n      for n-cpu services to come up after configuring Ceph)\n  * Id565a20ba3ebe2ea1a72b879bd2762ba3e655658 (Convert legacy\n      nova-live-migration and nova-multinode-grenade to py3)\n  * Icac785eec824da5146efe0ea8ecd01383f18398e (Drop\n      neutron-grenade-multinode job)\n  * I4b2d321b7243ec149e9445035d1feb7a425e9a4b (Skip to run all\n      integration jobs for policy-only changes.)\n  * I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to\n      Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9)\n  * I1b7d71e833bf0743f22d7fa0241c9d1bbcd0faac (Make nova-next multinode\n    and drop tempest-slow-py3)\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n(cherry picked from commit 2c850837fe23b7d813d821c26c597ccded66662a)\n""}, {'number': 4, 'created': '2021-06-09 01:35:17.000000000', 'files': ['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh'], 'web_link': 'https://opendev.org/openstack/nova/commit/0e1f642bd701de9d43e06cde7e0cb240cddaf8a6', 'message': ""zuul: Replace grenade and nova-grenade-multinode with grenade-multinode\n\nIf2608406776e0d5a06b726e65b55881e70562d18 dropped the single node\ngrenade job from the integrated-gate-compute template as it duplicates\nthe existing grenade-multinode job. However it doesn't remove the\nremianing single node grenade job still present in the Nova project.\n\nThis change replaces the dsvm based nova-grenade-multinode job with the\nzuulv3 native grenade-multinode based job.\n\nVarious legacy playbooks and hook scripts are also removed as they are\nno longer used. Note that this does result in a loss of coverage for\nceph that should be replaced as soon as a zuulv3 native ceph based\nmultinode job is available.\n\nConflicts:\n    .zuul.yaml\n    gate/live_migration/hooks/ceph.sh\n    gate/live_migration/hooks/run_tests.sh\n    playbooks/legacy/nova-grenade-multinode/run.yaml\n    playbooks/legacy/nova-live-migration/run.yaml\n\nNOTE(melwitt): The conflicts are because the following changes are not\nin Train:\n\n  * Icd7ab2ca4ddbed92c7e883a63a23245920d961e7 (nova-live-migration: Wait\n      for n-cpu services to come up after configuring Ceph)\n  * Id565a20ba3ebe2ea1a72b879bd2762ba3e655658 (Convert legacy\n      nova-live-migration and nova-multinode-grenade to py3)\n  * Icac785eec824da5146efe0ea8ecd01383f18398e (Drop\n      neutron-grenade-multinode job)\n  * I4b2d321b7243ec149e9445035d1feb7a425e9a4b (Skip to run all\n      integration jobs for policy-only changes.)\n  * I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to\n      Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9)\n  * I1b7d71e833bf0743f22d7fa0241c9d1bbcd0faac (Make nova-next multinode\n    and drop tempest-slow-py3)\n\nChange-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0\n(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)\n(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)\n(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)\n(cherry picked from commit 2c850837fe23b7d813d821c26c597ccded66662a)\n""}]",1,794686,0e1f642bd701de9d43e06cde7e0cb240cddaf8a6,14,2,4,4690,,,0,"zuul: Replace grenade and nova-grenade-multinode with grenade-multinode

If2608406776e0d5a06b726e65b55881e70562d18 dropped the single node
grenade job from the integrated-gate-compute template as it duplicates
the existing grenade-multinode job. However it doesn't remove the
remianing single node grenade job still present in the Nova project.

This change replaces the dsvm based nova-grenade-multinode job with the
zuulv3 native grenade-multinode based job.

Various legacy playbooks and hook scripts are also removed as they are
no longer used. Note that this does result in a loss of coverage for
ceph that should be replaced as soon as a zuulv3 native ceph based
multinode job is available.

Conflicts:
    .zuul.yaml
    gate/live_migration/hooks/ceph.sh
    gate/live_migration/hooks/run_tests.sh
    playbooks/legacy/nova-grenade-multinode/run.yaml
    playbooks/legacy/nova-live-migration/run.yaml

NOTE(melwitt): The conflicts are because the following changes are not
in Train:

  * Icd7ab2ca4ddbed92c7e883a63a23245920d961e7 (nova-live-migration: Wait
      for n-cpu services to come up after configuring Ceph)
  * Id565a20ba3ebe2ea1a72b879bd2762ba3e655658 (Convert legacy
      nova-live-migration and nova-multinode-grenade to py3)
  * Icac785eec824da5146efe0ea8ecd01383f18398e (Drop
      neutron-grenade-multinode job)
  * I4b2d321b7243ec149e9445035d1feb7a425e9a4b (Skip to run all
      integration jobs for policy-only changes.)
  * I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to
      Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9)
  * I1b7d71e833bf0743f22d7fa0241c9d1bbcd0faac (Make nova-next multinode
    and drop tempest-slow-py3)

Change-Id: I02b2b851a74f24816d2f782a66d94de81ee527b0
(cherry picked from commit 91e53e4c2b90ea57aeac4ec522dd7c8c54961d09)
(cherry picked from commit c45bedd98d50af865d727b7456c974c8e27bff8b)
(cherry picked from commit 2af08fb5ead8ca1fa4d6b8ea00f3c5c3d26e562c)
(cherry picked from commit 2c850837fe23b7d813d821c26c597ccded66662a)
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/794686/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/nova-live-migration/run.yaml', 'gate/live_migration/hooks/nfs.sh', 'gate/live_migration/hooks/utils.sh', 'playbooks/legacy/nova-grenade-multinode/run.yaml', 'playbooks/legacy/nova-grenade-multinode/post.yaml', 'gate/live_migration/hooks/ceph.sh', '.zuul.yaml', 'playbooks/legacy/nova-live-migration/post.yaml', 'gate/live_migration/hooks/run_tests.sh']",9,e8aa1007732e89a7186be2627eb0fcce18f300ef,native-zuulv3-migration,,"#!/bin/bash # Live migration dedicated ci job will be responsible for testing different # environments based on underlying storage, used for ephemerals. # This hook allows to inject logic of environment reconfiguration in ci job. # Base scenario for this would be: # # 1. test with all local storage (use default for volumes) # 2. test with NFS for root + ephemeral disks # 3. test with Ceph for root + ephemeral disks # 4. test with Ceph for volumes and root + ephemeral disk set -xe cd $BASE/new/tempest source $BASE/new/devstack/functions source $BASE/new/devstack/functions-common source $BASE/new/devstack/lib/nova source $WORKSPACE/devstack-gate/functions.sh source $BASE/new/nova/gate/live_migration/hooks/utils.sh source $BASE/new/nova/gate/live_migration/hooks/nfs.sh source $BASE/new/nova/gate/live_migration/hooks/ceph.sh primary_node=$(cat /etc/nodepool/primary_node_private) SUBNODES=$(cat /etc/nodepool/sub_nodes_private) SERVICE_HOST=$primary_node STACK_USER=${STACK_USER:-stack} echo '1. test with all local storage (use default for volumes)' echo 'NOTE: test_volume_backed_live_migration is skipped due to https://bugs.launchpad.net/nova/+bug/1524898' run_tempest ""block migration test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" # TODO(mriedem): Run $BASE/new/nova/gate/test_evacuate.sh for local storage #all tests bellow this line use shared storage, need to update tempest.conf echo 'disabling block_migration in tempest' $ANSIBLE primary --become -f 5 -i ""$WORKSPACE/inventory"" -m ini_file -a ""dest=$BASE/new/tempest/etc/tempest.conf section=compute-feature-enabled option=block_migration_for_live_migration value=False"" echo '2. NFS testing is skipped due to setup failures with Ubuntu 16.04' #echo '2. test with NFS for root + ephemeral disks' #nfs_setup #nfs_configure_tempest #nfs_verify_setup #run_tempest ""NFS shared storage test"" ""live_migration"" #nfs_teardown # The nova-grenade-multinode job also runs resize and cold migration tests # so we check for a grenade-only variable. if [[ -n ""$GRENADE_NEW_BRANCH"" ]]; then echo '3. test cold migration and resize' run_tempest ""cold migration and resize test"" ""test_resize_server|test_cold_migration|test_revert_cold_migration"" else echo '3. cold migration and resize is skipped for non-grenade jobs' fi echo '4. test with Ceph for root + ephemeral disks' # Discover and set variables for the OS version so the devstack-plugin-ceph # scripts can find the correct repository to install the ceph packages. # NOTE(lyarwood): Pin the CEPH_RELEASE to nautilus here as was the case # prior to https://review.opendev.org/c/openstack/devstack-plugin-ceph/+/777232 # landing in the branchless plugin, we also have to pin in ceph.sh when # configuring ceph on a remote node via ansible. export CEPH_RELEASE=nautilus GetOSVersion prepare_ceph GLANCE_API_CONF=${GLANCE_API_CONF:-/etc/glance/glance-api.conf} configure_and_start_glance configure_and_start_nova run_tempest ""Ceph nova&glance test"" ""^.*test_live_migration(?!.*(test_volume_backed_live_migration))"" set +e #echo '5. test with Ceph for volumes and root + ephemeral disk' #configure_and_start_cinder #run_tempest ""Ceph nova&glance&cinder test"" ""live_migration"" ",18,504
openstack%2Fnova~stable%2Ftrain~Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,openstack/nova,stable/train,Ib342e2d3c395830b4667a60de7e492d3b9de2f0a,zuul: Replace nova-live-migration with zuulv3 jobs,ABANDONED,2021-06-09 01:35:17.000000000,2021-07-08 19:24:17.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 01:35:17.000000000', 'files': ['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'playbooks/nova-evacuate/run.yaml', 'roles/run-evacuate-hook/README.rst', '.zuul.yaml', 'roles/run-evacuate-hook/files/test_negative_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'playbooks/nova-live-migration/post-run.yaml', 'roles/run-evacuate-hook/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bd00035ec8e89ac9452640fc37c547a7b48d434', 'message': 'zuul: Replace nova-live-migration with zuulv3 jobs\n\nThis change removes the original nova-live-migration job and replaces it\ndirectly with the new Focal based zuulv3 native job.\n\nThe nova-dsvm-multinode-base base job is no longer used and so also\nremoved as part of this change.\n\nNote that this new nova-live-migration job does not yet contain any\nceph coverage like the original, this is still pending and will be\ncompleted early in the W cycle.\n\nThis change is being merged ahead of this to resolve bug #1901739, a\nknown QEMU -drive issue caused by the previous jobs use of libvirt 5.4.0\nas provided by Ubuntu Bionic. The fix here being the migration to Ubuntu\nFocal based jobs and libvirt 6.0.0 that now defaults to using QEMU\n-blockdev.\n\nNOTE(lyarwood): This change squashes the following changes into it to\nensure we end up with a passing zuulv3 Focal based job in\nstable/victoria. This includes the reintroduction of\nnova-dsvm-multinode-base that was incorrectly removed by this change on\nmaster while still being used.\n\nzuul: Introduce nova-evacuate\n(cherry picked from commit f357d8040741b0346c3105fb3d3d1b260f5cb13d)\n\nnova-evacuate: Disable libvirtd service and sockets during negative tests\n(cherry picked from commit 226250beb6858bb3094c005fbc335a7378531df1)\n\nzuul: Merge nova-evacuate into nova-multinode-live-migration\n(cherry picked from commit c0fe95fcc5aec99a83dd57093dc230ef67b36b39)\n\nzuul: Reintroduce nova-dsvm-multinode-base\n(cherry picked from commit be752b8175f0cb3444ee47679753be847c8f8fd2)\n\nnova-live-migration: Disable *all* virt services during negative tests\n(cherry picked from commit 76360e566bcd0e203f3e9357ca2b0ca3d7baf4b8)\n\nCloses-Bug: #1901739\n\nConflicts:\n    .zuul.yaml\n\nNOTE(melwitt): The conflict is because change\nI86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to\nIe1a0cbd82a617dbcc15729647218ac3e9cd0e5a9) is not in Train.\n\nChange-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a\n(cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)\n(cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)\n(cherry picked from commit 4434a76ce96586698fc16e35a719a95de7d1c15e)\n'}]",0,795436,3bd00035ec8e89ac9452640fc37c547a7b48d434,7,2,1,4690,,,0,"zuul: Replace nova-live-migration with zuulv3 jobs

This change removes the original nova-live-migration job and replaces it
directly with the new Focal based zuulv3 native job.

The nova-dsvm-multinode-base base job is no longer used and so also
removed as part of this change.

Note that this new nova-live-migration job does not yet contain any
ceph coverage like the original, this is still pending and will be
completed early in the W cycle.

This change is being merged ahead of this to resolve bug #1901739, a
known QEMU -drive issue caused by the previous jobs use of libvirt 5.4.0
as provided by Ubuntu Bionic. The fix here being the migration to Ubuntu
Focal based jobs and libvirt 6.0.0 that now defaults to using QEMU
-blockdev.

NOTE(lyarwood): This change squashes the following changes into it to
ensure we end up with a passing zuulv3 Focal based job in
stable/victoria. This includes the reintroduction of
nova-dsvm-multinode-base that was incorrectly removed by this change on
master while still being used.

zuul: Introduce nova-evacuate
(cherry picked from commit f357d8040741b0346c3105fb3d3d1b260f5cb13d)

nova-evacuate: Disable libvirtd service and sockets during negative tests
(cherry picked from commit 226250beb6858bb3094c005fbc335a7378531df1)

zuul: Merge nova-evacuate into nova-multinode-live-migration
(cherry picked from commit c0fe95fcc5aec99a83dd57093dc230ef67b36b39)

zuul: Reintroduce nova-dsvm-multinode-base
(cherry picked from commit be752b8175f0cb3444ee47679753be847c8f8fd2)

nova-live-migration: Disable *all* virt services during negative tests
(cherry picked from commit 76360e566bcd0e203f3e9357ca2b0ca3d7baf4b8)

Closes-Bug: #1901739

Conflicts:
    .zuul.yaml

NOTE(melwitt): The conflict is because change
I86f56b0238c72d2784e62f199cfc7704b95bbcf2 (FUP to
Ie1a0cbd82a617dbcc15729647218ac3e9cd0e5a9) is not in Train.

Change-Id: Ib342e2d3c395830b4667a60de7e492d3b9de2f0a
(cherry picked from commit 4ac4a04d1843b0450e8d6d80189ce3e85253dcd0)
(cherry picked from commit 478be6f4fbbbc7b05becd5dd92a27f0c4e8f8ef8)
(cherry picked from commit 4434a76ce96586698fc16e35a719a95de7d1c15e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/795436/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/run-evacuate-hook/files/setup_evacuate_resources.sh', 'playbooks/nova-evacuate/run.yaml', 'roles/run-evacuate-hook/README.rst', '.zuul.yaml', 'roles/run-evacuate-hook/files/test_negative_evacuate.sh', 'roles/run-evacuate-hook/files/test_evacuate.sh', 'playbooks/nova-live-migration/post-run.yaml', 'roles/run-evacuate-hook/tasks/main.yaml']",8,3bd00035ec8e89ac9452640fc37c547a7b48d434,native-zuulv3-migration,"- name: Setup resources and mark the subnode as forced down become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/setup_evacuate_resources.sh"" environment: SUBNODE_HOSTNAME: ""{{ hostvars['compute1']['ansible_hostname'] }}"" - name: Fence subnode by stopping q-agt and n-cpu delegate_to: compute1 become: true systemd: name: ""{{ item }}"" state: stopped with_items: - devstack@q-agt - devstack@n-cpu - name: Register running domains on subnode delegate_to: compute1 become: true virt: command: list_vms state: running register: subnode_vms - name: Destroy running domains on subnode delegate_to: compute1 become: true virt: name: ""{{ item }}"" state: destroyed with_items: ""{{ subnode_vms.list_vms }}"" - name: Stop libvirtd on ""{{ inventory_hostname }}"" become: true systemd: name: ""{{ item }}"" state: stopped enabled: no with_items: - libvirtd.service - libvirtd.socket - libvirtd-admin.socket - libvirtd-ro.socket - virtlogd.service - virtlogd-admin.socket - virtlogd.socket - virtlockd.service - virtlockd-admin.socket - virtlockd.socket - name: Run negative evacuate tests become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/test_negative_evacuate.sh"" environment: CONTROLLER_HOSTNAME: ""{{ hostvars['controller']['ansible_hostname'] }}"" - name: Start libvirtd on ""{{ inventory_hostname }}"" become: true systemd: name: ""{{ item }}"" state: started enabled: yes with_items: - libvirtd.service - libvirtd.socket - libvirtd-admin.socket - libvirtd-ro.socket - virtlogd.service - virtlogd-admin.socket - virtlogd.socket - virtlockd.service - virtlockd-admin.socket - virtlockd.socket - name: Run evacuate tests become: true become_user: stack shell: ""/opt/stack/nova/roles/run-evacuate-hook/files/test_evacuate.sh"" environment: CONTROLLER_HOSTNAME: ""{{ hostvars['controller']['ansible_hostname'] }}"" ",,228,22
openstack%2Ftempest~master~Icbc5670320682a7071e957119919247497733c9b,openstack/tempest,master,Icbc5670320682a7071e957119919247497733c9b,Remove non existing puppet-openstack-integration from check pipeline,MERGED,2021-07-07 23:43:49.000000000,2021-07-08 19:10:00.000000000,2021-07-08 19:05:42.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-07-07 23:43:49.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2cd8f0045711acf62167d49705940d81e7fa6707', 'message': ""Remove non existing puppet-openstack-integration from check pipeline\n\npuppet-openstack-integration* jobs are not defined anymore in\npuppet-openstack-integration repo\n- https://review.opendev.org/c/openstack/puppet-openstack-integration/+/623100/\n\nand they does not run in check pipeline even raise config error on\nmodifying the project.yaml\n\n- https://review.opendev.org/c/openstack/tempest/+/797614\n\nLet's remove those and if new puppet jobs are required to run\nin Tempest gate then we can add the correct one.\n\nChange-Id: Icbc5670320682a7071e957119919247497733c9b\n""}]",0,799921,2cd8f0045711acf62167d49705940d81e7fa6707,11,3,1,8556,,,0,"Remove non existing puppet-openstack-integration from check pipeline

puppet-openstack-integration* jobs are not defined anymore in
puppet-openstack-integration repo
- https://review.opendev.org/c/openstack/puppet-openstack-integration/+/623100/

and they does not run in check pipeline even raise config error on
modifying the project.yaml

- https://review.opendev.org/c/openstack/tempest/+/797614

Let's remove those and if new puppet jobs are required to run
in Tempest gate then we can add the correct one.

Change-Id: Icbc5670320682a7071e957119919247497733c9b
",git fetch https://review.opendev.org/openstack/tempest refs/changes/21/799921/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,2cd8f0045711acf62167d49705940d81e7fa6707,,, - puppet-openstack-integration-4-scenario001-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario002-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario003-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files - puppet-openstack-integration-4-scenario004-tempest-centos-7: voting: false irrelevant-files: *tempest-irrelevant-files,0,12
openstack%2Ftempest~master~Iaea971fb6d05668b061be6d548e217171587268c,openstack/tempest,master,Iaea971fb6d05668b061be6d548e217171587268c,Add log resource client,MERGED,2021-06-17 13:37:36.000000000,2021-07-08 19:08:46.000000000,2021-07-08 19:05:09.000000000,"[{'_account_id': 5689}, {'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 17896}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 23186}, {'_account_id': 31239}]","[{'number': 1, 'created': '2021-06-17 13:37:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/28743fa88a07aa8e50afc9f4628757a885214c7e', 'message': 'Add log resource client\n\nThis patch creates the network v2.0 log-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#logging\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Iaea971fb6d05668b061be6d548e217171587268c\n'}, {'number': 2, 'created': '2021-06-24 13:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ce41fd6f18ccf695f29bf955167c36f26ee10dbf', 'message': '[WIP] Add log resource client\n\nThis patch creates the network v2.0 log-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#logging\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Iaea971fb6d05668b061be6d548e217171587268c\n'}, {'number': 3, 'created': '2021-06-28 10:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/413182dd267c34a335b4c051d9235e95e28a7b8b', 'message': '[WIP] Add log resource client\n\nThis patch creates the network v2.0 log-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#logging\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Iaea971fb6d05668b061be6d548e217171587268c\n'}, {'number': 4, 'created': '2021-06-28 10:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5e89a7e676cf9ad71b45d9bfee193b07caf808a4', 'message': 'Add log resource client\n\nThis patch creates the network v2.0 log-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#logging\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Iaea971fb6d05668b061be6d548e217171587268c\n'}, {'number': 5, 'created': '2021-07-08 06:31:57.000000000', 'files': ['tempest/lib/services/network/log_resource_client.py', 'tempest/lib/services/network/__init__.py', 'releasenotes/notes/log-resource-client-20e58a295f729902.yaml', 'tempest/clients.py', 'tempest/tests/lib/services/network/test_log_resource_client.py', 'tempest/api/network/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/065715df55c64848362026fc54800dbe964dbed1', 'message': 'Add log resource client\n\nThis patch creates the network v2.0 log-resource client.\n\nhttps://docs.openstack.org/api-ref/network/v2/index.html#logging\nSigned-off by: Soniya Vyas<svyas@redhat.com>\n\nChange-Id: Iaea971fb6d05668b061be6d548e217171587268c\n'}]",2,796842,065715df55c64848362026fc54800dbe964dbed1,29,11,5,30742,,,0,"Add log resource client

This patch creates the network v2.0 log-resource client.

https://docs.openstack.org/api-ref/network/v2/index.html#logging
Signed-off by: Soniya Vyas<svyas@redhat.com>

Change-Id: Iaea971fb6d05668b061be6d548e217171587268c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/42/796842/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/network/logresource_client.py'],1,28743fa88a07aa8e50afc9f4628757a885214c7e,log_client,"# Copyright 2021 Red Hat, Inc. # All rights reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.lib.services.network import base class LogResourceClient(base.BaseNetworkClient): def create_log(self, **kwargs): """"""Creates a log resource. Creates a log resource by using the configuration that you define in the request object. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#create-log """""" uri = '/log/logs/' post_data = {'log': kwargs} return self.create_resource(uri, post_data) def update_log(self, log_id, **kwargs): """"""Updates a log resource. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#update-log """""" uri = '/log/logs/%s' % log_id post_data = {'log': kwargs} return self.update_resource(uri, post_data) def show_log(self, log_id, **fields): """"""Shows details for a log id. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#show-log """""" uri = '/log/logs/%s' % log_id return self.show_resource(uri, **fields) def delete_log(self, log_id): """"""Deletes a log resource. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#delete-log """""" uri = '/log/logs/%s' % log_id return self.delete_resource(uri) def list_logs(self, **filters): """"""Lists Logs. For a full list of available parameters, please refer to the official API reference: https://docs.openstack.org/api-ref/network/v2/index.html#list-logs """""" uri = '/log/logs' return self.list_resources(uri, **filters) ",,74,0
openstack%2Fcinder~stable%2Fwallaby~I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48,openstack/cinder,stable/wallaby,I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48,LVM: Retry lvdisplay and lvcreate calls on segfault,MERGED,2021-06-29 14:29:13.000000000,2021-07-08 19:08:18.000000000,2021-07-08 19:05:24.000000000,"[{'_account_id': 4523}, {'_account_id': 5314}, {'_account_id': 7198}, {'_account_id': 9535}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 14:29:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/8bd8cd3b812f4b2176a7fae4225b8b3ba2f66f15', 'message': 'LVM: Retry lvdisplay and lvcreate calls on segfault\n\nThis is a follow-up to I0a2420f3e4a411f5fa52ebe2d22859b138ef387f.\n\nLVM commands segfault occasionally, exiting with code 139.\nChange I6824ba4f introduced a workaround to retry the command\nwhen code 139 is returned, which generally works.\n\nCloses-Bug: #1932188\nChange-Id: I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48\n'}, {'number': 2, 'created': '2021-06-29 14:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/bbb6b472d7fa5ea7ceafa2f5d77a5573e586ed58', 'message': 'LVM: Retry lvdisplay and lvcreate calls on segfault\n\nThis is a follow-up to I0a2420f3e4a411f5fa52ebe2d22859b138ef387f.\n\nLVM commands segfault occasionally, exiting with code 139.\nChange I6824ba4f introduced a workaround to retry the command\nwhen code 139 is returned, which generally works.\n\nCloses-Bug: #1932188\nChange-Id: I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48\n(cherry picked from commit a8552ed2d69ae4c0f3ec97fa92395cd245a8d848)\n'}, {'number': 3, 'created': '2021-06-29 15:30:55.000000000', 'files': ['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/77d4aa6a898d25e7fb3ffccd1386b84d3f1ba1d3', 'message': 'LVM: Retry lvdisplay and lvcreate calls on segfault\n\nThis is a follow-up to I0a2420f3e4a411f5fa52ebe2d22859b138ef387f.\n\nLVM commands segfault occasionally, exiting with code 139.\nChange I6824ba4f introduced a workaround to retry the command\nwhen code 139 is returned, which generally works.\n\nCloses-Bug: #1932188\nChange-Id: I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48\n(cherry picked from commit a8552ed2d69ae4c0f3ec97fa92395cd245a8d848)\n'}]",0,798671,77d4aa6a898d25e7fb3ffccd1386b84d3f1ba1d3,35,5,3,20813,,,0,"LVM: Retry lvdisplay and lvcreate calls on segfault

This is a follow-up to I0a2420f3e4a411f5fa52ebe2d22859b138ef387f.

LVM commands segfault occasionally, exiting with code 139.
Change I6824ba4f introduced a workaround to retry the command
when code 139 is returned, which generally works.

Closes-Bug: #1932188
Change-Id: I7c0f4d4ea7de635afede3c8514a5da9e85ad9b48
(cherry picked from commit a8552ed2d69ae4c0f3ec97fa92395cd245a8d848)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/71/798671/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/brick/local_dev/lvm.py', 'cinder/tests/unit/brick/test_brick_lvm.py']",2,8bd8cd3b812f4b2176a7fae4225b8b3ba2f66f15,," with mock.patch.object(self.vg, '_execute', return_value=(0, 0)): with mock.patch.object(self.vg, '_execute', return_value=(0, 0)): with mock.patch.object(self.vg, '_execute', return_value=(0, 0)):"," with mock.patch.object(self.vg, '_execute'): with mock.patch.object(self.vg, '_execute'): with mock.patch.object(self.vg, '_execute'):",20,28
openstack%2Fironic~stable%2Fwallaby~I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68,openstack/ironic,stable/wallaby,I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68,Set stage for objects to handle selected field lists.,MERGED,2021-07-07 19:25:42.000000000,2021-07-08 18:41:23.000000000,2021-07-08 18:41:23.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:25:42.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/145765671ae4b44fa1d578291773634dfb51d70c', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}]",0,799904,145765671ae4b44fa1d578291773634dfb51d70c,10,3,1,10342,,,0,"Set stage for objects to handle selected field lists.

Prior to this change, ironic would not pass the API consumer request
for a list of nodes down to the underlying layers with the list of
specific fields being requested.

This resulted in full objects being returned from the database where
in essence the entire database would be downloaded to construct the
objects, and in the case of joined views, whole roles would largely
be duplicated.

In order to be more efficent, we need to hand the user desired
fields down to the database, in order to return only that data,
and thus transform it.

In this case, we already have testing that handles the conversion
of objects at the lower layer, and in this case, the db object
conversion handler already understood fields, so we're just kind
of completing the awareness further downward for increased efficency.

This change only sets the stage, the final change to this is aligned
with API change to leverage this as the API is coded such that the
field does not include all of the required fields needed by the API
to render replies, which is fixed in the API patch to leverage this
with the API.

Story: 2008885
Task: 42495
Change-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/799904/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/objects/test_node.py']",3,145765671ae4b44fa1d578291773634dfb51d70c,," self.assertIsInstance(nodes[0].traits, objects.TraitList) nodes = objects.Node.list(self.context, fields=['name', 'uuid', 'provision_state']) fields=['id', 'name', 'uuid', 'provision_state', 'version', 'updated_at', 'created_at', 'owner', 'lessee', 'driver', 'conductor_group']) self.assertThat(nodes, matchers.HasLength(1)) self.assertEqual(self.fake_node['uuid'], nodes[0].uuid) self.assertEqual(self.fake_node['provision_state'], nodes[0].provision_state) self.assertIsInstance(nodes[0].traits, objects.TraitList) # Random assortment of fields which should not be present. for field in ['power_state', 'instance_info', 'resource_class', 'automated_clean', 'properties', 'driver', 'traits']: self.assertFalse(field not in dir(nodes[0])) def test_list_with_fields_traits(self): with mock.patch.object(self.dbapi, 'get_node_list', autospec=True) as mock_get_list: # Trait objects and ultimately rows have an underlying # version. Since we've never changed it, it should just # be one, but this is required for the oslo versioned # objects code path to handle objects properly and # navigate mid-upgrade cases. self.fake_node['traits'] = [{ 'trait': 'traitx', 'version': ""1""}] mock_get_list.return_value = [self.fake_node] nodes = objects.Node.list(self.context, fields=['uuid', 'provision_state', 'traits']) self.assertThat(nodes, matchers.HasLength(1)) self.assertEqual(self.fake_node['uuid'], nodes[0].uuid) self.assertEqual(self.fake_node['provision_state'], nodes[0].provision_state) self.assertIsInstance(nodes[0].traits, objects.TraitList) self.assertEqual('traitx', nodes[0].traits[0].trait) for field in ['power_state', 'instance_info', 'resource_class', 'automated_clean', 'properties', 'driver']: self.assertFalse(field not in dir(nodes[0])) def test_list_with_fields_empty_trait_present(self): with mock.patch.object(self.dbapi, 'get_node_list', autospec=True) as mock_get_list: mock_get_list.return_value = [self.fake_node] nodes = objects.Node.list(self.context, fields=['uuid', 'provision_state', 'traits']) self.assertThat(nodes, matchers.HasLength(1)) self.assertEqual(self.fake_node['uuid'], nodes[0].uuid) self.assertEqual(self.fake_node['provision_state'], nodes[0].provision_state) self.assertIsInstance(nodes[0].traits, objects.TraitList) self.assertIn('traits', nodes[0])"," objects.Node.list(self.context, fields=['name']) fields=['id', 'name', 'version', 'updated_at', 'created_at', 'owner', 'lessee', 'driver', 'conductor_group'])",96,10
openstack%2Fproject-config~master~I75602654d29e7e32ca65cbceca3f3672859ccad3,openstack/project-config,master,I75602654d29e7e32ca65cbceca3f3672859ccad3,Correct flavor-name for bullseye nodes in osuosl,MERGED,2021-07-08 17:20:32.000000000,2021-07-08 17:58:19.000000000,2021-07-08 17:50:25.000000000,"[{'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 17:20:32.000000000', 'files': ['nodepool/nl03.opendev.org.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a5c98fd088d3f59e3003f74d7bf11fed02de6e1f', 'message': 'Correct flavor-name for bullseye nodes in osuosl\n\nThis looks like it was just a copy/paste error, but is resulting in\nerrors trying to boot debian-bullseye-arm64 images in\nosuosl-regionone currently.\n\nChange-Id: I75602654d29e7e32ca65cbceca3f3672859ccad3\n'}]",0,800090,a5c98fd088d3f59e3003f74d7bf11fed02de6e1f,7,2,1,5263,,,0,"Correct flavor-name for bullseye nodes in osuosl

This looks like it was just a copy/paste error, but is resulting in
errors trying to boot debian-bullseye-arm64 images in
osuosl-regionone currently.

Change-Id: I75602654d29e7e32ca65cbceca3f3672859ccad3
",git fetch https://review.opendev.org/openstack/project-config refs/changes/90/800090/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nl03.opendev.org.yaml'],1,a5c98fd088d3f59e3003f74d7bf11fed02de6e1f,osuosl, flavor-name: 'opendev.large', flavor-name: 'os.large',1,1
openstack%2Ftripleo-repos~master~I158f64a4bedbea293eb1ba5075ad264e847ff063,openstack/tripleo-repos,master,I158f64a4bedbea293eb1ba5075ad264e847ff063,Refactoring tripleo-repos,MERGED,2021-06-04 12:58:17.000000000,2021-07-08 17:51:41.000000000,2021-07-07 22:27:09.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2021-06-04 12:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/fc02b35c4b6ab7d97f6e643c8b53bd0ebdb76ac8', 'message': 'DNM - Refactoring tripleo-repos\n\nThis is a huge refactoring including:\n* Add cliff support for extended future commands\n* Move constants into constant file\n* Move template into templates file\n* Move exceptions into exceptions\n* Replace print statements with logging package\n\nAt the end the code still remains the same, but requires some\nrefactoring in the future\n\nChange-Id: I158f64a4bedbea293eb1ba5075ad264e847ff063\n'}, {'number': 2, 'created': '2021-06-07 13:22:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/fdf97518d6cac133b81f1b45224dcc3eeed3079f', 'message': 'Refactoring tripleo-repos\n\nThis is a huge refactoring including:\n* Add cliff support for extended future commands\n* Move constants into constant file\n* Move template into templates file\n* Move exceptions into exceptions\n* Replace print statements with logging package\n\nAt the end the code still remains the same, but requires some\nrefactoring in the future\n\nChange-Id: I158f64a4bedbea293eb1ba5075ad264e847ff063\n'}, {'number': 3, 'created': '2021-06-08 08:53:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/8ac761090f5381544edd735a024c574d054e0c01', 'message': 'Refactoring tripleo-repos\n\nThis is a huge refactoring including:\n* Add cliff support for extended future commands\n* Move constants into constant file\n* Move template into templates file\n* Move exceptions into exceptions\n* Replace print statements with logging package\n\nAt the end the code still remains the same, but requires some\nrefactoring in the future\n\nChange-Id: I158f64a4bedbea293eb1ba5075ad264e847ff063\n'}, {'number': 4, 'created': '2021-06-08 10:14:49.000000000', 'files': ['requirements.txt', 'tripleo_repos/constants.py', 'tripleo_repos/generate_repos.py', 'tripleo_repos/templates.py', 'tripleo_repos/exceptions.py', 'tripleo_repos/tests/test_generate_repos.py', 'tripleo_repos/main.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tripleo-repos/commit/df387cafb077ed4211287361d1ff86acffb1fd86', 'message': 'Refactoring tripleo-repos\n\nThis is a huge refactoring including:\n* Add cliff support for extended future commands\n* Move constants into constant file\n* Move template into templates file\n* Move exceptions into exceptions\n* Replace print statements with logging package\n\nAt the end the code still remains the same, but requires some\nrefactoring in the future\n\nChange-Id: I158f64a4bedbea293eb1ba5075ad264e847ff063\n'}]",9,794801,df387cafb077ed4211287361d1ff86acffb1fd86,26,7,4,8367,,,0,"Refactoring tripleo-repos

This is a huge refactoring including:
* Add cliff support for extended future commands
* Move constants into constant file
* Move template into templates file
* Move exceptions into exceptions
* Replace print statements with logging package

At the end the code still remains the same, but requires some
refactoring in the future

Change-Id: I158f64a4bedbea293eb1ba5075ad264e847ff063
",git fetch https://review.opendev.org/openstack/tripleo-repos refs/changes/01/794801/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_repos/constants.py', 'tripleo_repos/generate_repos.py', 'tripleo_repos/templates.py', 'tripleo_repos/exceptions.py', 'tripleo_repos/main.py']",5,fc02b35c4b6ab7d97f6e643c8b53bd0ebdb76ac8,refactoring,"from cliff.app import App from cliff.commandmanager import CommandManager class TripleoReposApp(App): def __init__(self): super(TripleoReposApp, self).__init__( description='Tripleo repos tool', version='2.0', command_manager=CommandManager('tripleo_repos.cm'), deferred_help=True) def initialize_app(self, argv): self.LOG.debug('Initializing tripleo-repos tool') def prepare_to_run_command(self, cmd): self.LOG.debug('prepare_to_run_command %s', cmd.__class__.__name) def clean_up(self, cmd, result, err): self.LOG.debug('clean_up %s', cmd.__class__.__name__) if err: self.LOG.debug('Error: %s', err) def main(argv=sys.argv[1:]): tripleo_app = TripleoReposApp() # Hack to keep compatibility for now if 'generate' not in argv: argv.insert(0, 'generate') return tripleo_app.run(argv) sys.exit(main(sys.argv[1:]))","from __future__ import print_function import argparse import os import re import subprocessimport requests TITLE_RE = re.compile('\\[(.*)\\]') NAME_RE = re.compile('name=(.+)') PRIORITY_RE = re.compile('priority=\\d+') # Packages to be included from delorean-current when using current-tripleo INCLUDE_PKGS = ('includepkgs=instack,instack-undercloud,' 'os-apply-config,os-collect-config,os-net-config,' 'os-refresh-config,python*-tripleoclient,' 'openstack-tripleo-*,openstack-puppet-modules,' 'ansible-role-tripleo*,puppet-*,python*-tripleo-common,' 'python*-paunch*,tripleo-ansible,ansible-config_template') DEFAULT_OUTPUT_PATH = '/etc/yum.repos.d' DEFAULT_RDO_MIRROR = 'https://trunk.rdoproject.org' # RHEL is only provided to licensed cloud providers via RHUI DEFAULT_MIRROR_MAP = { 'fedora': 'https://mirrors.fedoraproject.org', 'centos': 'http://mirror.centos.org', 'ubi': 'http://mirror.centos.org', 'rhel': 'https://trunk.rdoproject.org', } CEPH_REPO_TEMPLATE = ''' [tripleo-centos-ceph-%(ceph_release)s] name=tripleo-centos-ceph-%(ceph_release)s baseurl=%(mirror)s/centos/%(centos_release)s/storage/$basearch/ceph-%(ceph_release)s/ gpgcheck=0 enabled=1 ''' OPSTOOLS_REPO_TEMPLATE = ''' [tripleo-centos-opstools] name=tripleo-centos-opstools baseurl=%(mirror)s/centos/7/opstools/$basearch/ gpgcheck=0 enabled=1 ''' # centos-8 only HIGHAVAILABILITY_REPO_TEMPLATE = ''' [tripleo-centos-highavailability] name=tripleo-centos-highavailability baseurl=%(mirror)s/centos/%(stream)s/HighAvailability/$basearch/os/ gpgcheck=0 enabled=1 ''' # centos-8 only POWERTOOLS_REPO_TEMPLATE = ''' [tripleo-centos-powertools] name=tripleo-centos-powertools baseurl=%(mirror)s/centos/%(stream)s/PowerTools/$basearch/os/ gpgcheck=0 enabled=1 ''' # ubi-8 only APPSTREAM_REPO_TEMPLATE = ''' [AppStream] name=CentOS-$releasever - AppStream baseurl=%(mirror)s/centos/$releasever/AppStream/$basearch/os/ gpgcheck=0 enabled=1 %(extra)s ''' BASE_REPO_TEMPLATE = ''' [BaseOS] name=CentOS-$releasever - Base baseurl=%(mirror)s/centos/$releasever/BaseOS/$basearch/os/ gpgcheck=0 enabled=1 ''' # unversioned fedora added for backwards compatibility SUPPORTED_DISTROS = [ ('centos', '7'), ('centos', '8'), ('fedora', ''), ('rhel', '8'), ('ubi', '8') # a subcase of the rhel distro ] class InvalidArguments(Exception): pass class NoRepoTitle(Exception): pass def _get_distro(): """"""Get distro info from os-release returns: distro_id, distro_major_version_id, distro_name """""" output = subprocess.Popen( 'source /etc/os-release && echo -e -n ""$ID\n$VERSION_ID\n$NAME""', shell=True, stdout=subprocess.PIPE, stderr=open(os.devnull, 'w'), executable='/bin/bash', universal_newlines=True).communicate() # distro_id and distro_version_id will always be at least an empty string distro_id, distro_version_id, distro_name = output[0].split('\n') # if distro_version_id is empty string the major version will be empty # string too distro_major_version_id = distro_version_id.split('.')[0] # check if that is UBI subcase? if os.path.exists('/etc/yum.repos.d/ubi.repo'): distro_id = 'ubi' if (distro_id, distro_major_version_id) not in SUPPORTED_DISTROS: print( ""WARNING: Unsupported platform '{}{}' detected by tripleo-repos,"" "" centos7 will be used unless you use CLI param to change it."" """".format(distro_id, distro_major_version_id), file=sys.stderr) distro_id = 'centos' distro_major_version_id = '7' if distro_id == 'ubi': print( ""WARNING: Centos{} Base and AppStream will be installed for "" ""this UBI distro"".format(distro_major_version_id)) return distro_id, distro_major_version_id, distro_name def _parse_args(distro_id, distro_major_version_id): distro = ""{}{}"".format(distro_id, distro_major_version_id) # Calculating arguments default from constants default_mirror = DEFAULT_MIRROR_MAP[distro_id] distro_choices = ["""".join(distro_pair) for distro_pair in SUPPORTED_DISTROS] parser = argparse.ArgumentParser( description='Download and install repos necessary for TripleO. Note ' 'that some of these repos require yum-plugin-priorities, ' 'so that will also be installed.', formatter_class=argparse.ArgumentDefaultsHelpFormatter) parser.add_argument('repos', metavar='REPO', nargs='+', choices=['current', 'deps', 'current-tripleo', 'current-tripleo-dev', 'ceph', 'opstools', 'tripleo-ci-testing', 'current-tripleo-rdo'], help='A list of repos. Available repos: ' '%(choices)s. The deps repo will always be ' 'included when using current or ' 'current-tripleo. current-tripleo-dev ' 'downloads the current-tripleo, current, and ' 'deps repos, but sets the current repo to only ' 'be used for TripleO projects. It also modifies ' 'each repo\'s priority so packages are installed ' 'from the appropriate location.') parser.add_argument('-d', '--distro', default=distro, choices=distro_choices, nargs='?', help='Target distro with default detected at runtime. ' ) parser.add_argument('-b', '--branch', default='master', help='Target branch. Should be the lowercase name of ' 'the OpenStack release. e.g. liberty') parser.add_argument('-o', '--output-path', default=DEFAULT_OUTPUT_PATH, help='Directory in which to save the selected repos.') parser.add_argument('--mirror', default=default_mirror, help='Server from which to install base OS packages. ' 'Default value is based on distro param.') parser.add_argument('--rdo-mirror', default=DEFAULT_RDO_MIRROR, help='Server from which to install RDO packages.') stream_group = parser.add_mutually_exclusive_group() stream_group.add_argument('--stream', action='store_true', default=True, help='Enable stream support for CentOS repos') stream_group.add_argument('--no-stream', action='store_true', default=False, help='Disable stream support for CentOS repos') args = parser.parse_args() if args.no_stream: args.stream = False args.old_mirror = default_mirror return args def _get_repo(path, args): r = requests.get(path) if r.status_code == 200: return _inject_mirrors(r.text, args) else: r.raise_for_status() def _write_repo(content, target, name=None): if not name: m = TITLE_RE.search(content) if not m: raise NoRepoTitle('Could not find repo title in: \n%s' % content) name = m.group(1) # centos-8 dlrn repos have changed. repos per component # are folded into a single repo. if 'component' in name: name = 'delorean' filename = name + '.repo' filename = os.path.join(target, filename) with open(filename, 'w') as f: f.write(content) print('Installed repo %s to %s' % (name, filename)) def _validate_distro_repos(args): """"""Validate requested repos are valid for the distro"""""" valid_repos = [] if 'fedora' in args.distro: valid_repos = ['current', 'current-tripleo', 'ceph', 'deps', 'tripleo-ci-testing'] elif args.distro in ['centos7', 'centos8', 'rhel8', 'ubi8']: valid_repos = ['ceph', 'current', 'current-tripleo', 'current-tripleo-dev', 'deps', 'tripleo-ci-testing', 'opstools', 'current-tripleo-rdo'] invalid_repos = [x for x in args.repos if x not in valid_repos] if len(invalid_repos) > 0: raise InvalidArguments('{} repo(s) are not valid for {}. Valid repos ' 'are: {}'.format(invalid_repos, args.distro, valid_repos)) return True def _validate_current_tripleo(repos): """"""Validate current usage current and current-tripleo cannot be specified with each other and current-tripleo-dev is a mix of current, current-tripleo and deps so they should not be specified on the command line with each other. """""" if 'current-tripleo' in repos and 'current' in repos: raise InvalidArguments('Cannot use current and current-tripleo at the ' 'same time.') if 'current-tripleo-dev' not in repos: return True if 'current' in repos or 'current-tripleo' in repos or 'deps' in repos: raise InvalidArguments('current-tripleo-dev should not be used with ' 'any other RDO Trunk repos.') return True def _validate_tripleo_ci_testing(repos): """"""Validate tripleo-ci-testing With tripleo-ci-testing for repo (currently only periodic container build) no other repos expected except optionally deps|ceph|opstools which is enabled regardless. """""" if 'tripleo-ci-testing' in repos and len(repos) > 1: if 'deps' in repos or 'ceph' in repos or 'opstools' in repos: return True else: raise InvalidArguments('Cannot use tripleo-ci-testing at the ' 'same time as other repos, except ' 'deps|ceph|opstools.') return True def _validate_distro_stream(args, distro_name): """"""Validate stream related args vs host Fails if stream is to be used but the host isn't a stream OS or vice versa """""" is_stream = args.stream and not args.no_stream if is_stream and 'stream' not in distro_name.lower(): raise InvalidArguments('--stream provided, but OS is not the Stream ' 'version. Please ensure the host is Stream.') elif not is_stream and 'stream' in distro_name.lower(): raise InvalidArguments('--no-stream provided, but OS is the Stream ' 'version. Please ensure the host is not the ' 'Stream version.') return True def _validate_args(args, distro_name): _validate_current_tripleo(args.repos) _validate_distro_repos(args) _validate_tripleo_ci_testing(args.repos) _validate_distro_stream(args, distro_name) def _remove_existing(args): """"""Remove any delorean* or opstools repos that already exist"""""" if args.distro == 'ubi8': regex = '^(BaseOS|AppStream|delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' else: regex = '^(delorean|tripleo-centos-' \ '(opstools|ceph|highavailability|powertools)).*.repo' pattern = re.compile(regex) if os.path.exists(""/etc/distro.repos.d""): paths = set( os.listdir(args.output_path) + os.listdir(""/etc/distro.repos.d"")) else: paths = os.listdir(args.output_path) for f in paths: if pattern.match(f): filename = os.path.join(args.output_path, f) if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) filename = os.path.join(""/etc/distro.repos.d"", f) if os.path.exists(filename): os.remove(filename) print('Removed old repo ""%s""' % filename) def _get_base_path(args): if args.distro == 'ubi8': distro = 'centos8' # there are no base paths for UBI that work well else: distro = args.distro # The mirror url with /$DISTRO$VERSION path for master branch is # deprecated. # The default for rdo mirrors is $DISTRO$VERSION-$BRANCH # it should work for every (distro, branch) pair that # makes sense # Any exception should be corrected at source, not here. distro_branch = '%s-%s' % (distro, args.branch) return '%s/%s/' % (args.rdo_mirror, distro_branch) def _install_priorities(): try: subprocess.check_call(['yum', 'install', '-y', 'yum-plugin-priorities']) except subprocess.CalledProcessError as e: print('ERROR: Failed to install yum-plugin-priorities\n%s\n%s' % (e.cmd, e.output)) raise def _create_ceph(args, release): """"""Generate a Ceph repo file for release"""""" centos_release = '7' if args.distro == 'centos7' else '8' return CEPH_REPO_TEMPLATE % {'centos_release': centos_release, 'ceph_release': release, 'mirror': args.mirror} def _change_priority(content, new_priority): new_content = PRIORITY_RE.sub('priority=%d' % new_priority, content) # This shouldn't happen, but let's be safe. if not PRIORITY_RE.search(new_content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append('priority=%d' % new_priority) new_content = ""\n"".join(new_content) return new_content def _add_includepkgs(content): new_content = [] for line in content.split(""\n""): new_content.append(line) if line.startswith('['): new_content.append(INCLUDE_PKGS) return ""\n"".join(new_content) def _inject_mirrors(content, args): """"""Replace any references to the default mirrors in repo content In some cases we want to use mirrors whose repo files still point to the default servers. If the user specified to use the mirror, we want to replace any such references with the mirror address. This function handles that by using a regex to swap out the baseurl server. """""" content = re.sub('baseurl=%s' % DEFAULT_RDO_MIRROR, 'baseurl=%s' % args.rdo_mirror, content) if args.old_mirror: content = re.sub('baseurl=%s' % args.old_mirror, 'baseurl=%s' % args.mirror, content) return content def _install_repos(args, base_path): def install_deps(args, base_path): content = _get_repo(base_path + 'delorean-deps.repo', args) _write_repo(content, args.output_path) for repo in args.repos: if repo == 'current': content = _get_repo(base_path + 'current/delorean.repo', args) _write_repo(content, args.output_path, name='delorean') install_deps(args, base_path) elif repo == 'deps': install_deps(args, base_path) elif repo == 'current-tripleo': content = _get_repo(base_path + 'current-tripleo/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'current-tripleo-dev': content = _get_repo(base_path + 'delorean-deps.repo', args) _write_repo(content, args.output_path) content = _get_repo(base_path + 'current-tripleo/delorean.repo', args) content = TITLE_RE.sub('[\\1-current-tripleo]', content) content = NAME_RE.sub('name=\\1-current-tripleo', content) # We need to twiddle priorities since we're mixing multiple repos # that are generated with the same priority. content = _change_priority(content, 20) _write_repo(content, args.output_path, name='delorean-current-tripleo') content = _get_repo(base_path + 'current/delorean.repo', args) content = _add_includepkgs(content) content = _change_priority(content, 10) _write_repo(content, args.output_path, name='delorean') elif repo == 'tripleo-ci-testing': content = _get_repo(base_path + 'tripleo-ci-testing/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'current-tripleo-rdo': content = _get_repo( base_path + 'current-tripleo-rdo/delorean.repo', args) _write_repo(content, args.output_path) install_deps(args, base_path) elif repo == 'ceph': if args.branch in ['liberty', 'mitaka']: content = _create_ceph(args, 'hammer') elif args.branch in ['newton', 'ocata', 'pike']: content = _create_ceph(args, 'jewel') elif args.branch in ['queens', 'rocky']: content = _create_ceph(args, 'luminous') elif args.branch in ['stein', 'train', 'ussuri', 'victoria']: content = _create_ceph(args, 'nautilus') else: content = _create_ceph(args, 'pacific') _write_repo(content, args.output_path) elif repo == 'opstools': content = OPSTOOLS_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, args.output_path) else: raise InvalidArguments('Invalid repo ""%s"" specified' % repo) distro = args.distro # CentOS-8 AppStream is required for UBI-8 if distro == 'ubi8': if not os.path.exists(""/etc/distro.repos.d""): print('WARNING: For UBI it is recommended to create ' '/etc/distro.repos.d and rerun!') dp_exists = False else: dp_exists = True if args.output_path == DEFAULT_OUTPUT_PATH and dp_exists: distro_path = ""/etc/distro.repos.d"" else: distro_path = args.output_path # TODO: Remove it once bugs are fixed # Add extra options to APPSTREAM_REPO_TEMPLATE because of # rhbz/1961558 and lpbz/1929634 extra = '' if args.branch in ['train', 'ussuri', 'victoria']: extra = 'exclude=edk2-ovmf-20200602gitca407c7246bf-5*' content = APPSTREAM_REPO_TEMPLATE % {'mirror': args.mirror, 'extra': extra} _write_repo(content, distro_path) content = BASE_REPO_TEMPLATE % {'mirror': args.mirror} _write_repo(content, distro_path) distro = 'centos8' # switch it to continue as centos8 distro # HA, Powertools are required for CentOS-8 if distro == 'centos8': stream = '8' if args.stream and not args.no_stream: stream = stream + '-stream' content = HIGHAVAILABILITY_REPO_TEMPLATE % {'mirror': args.mirror, 'stream': stream} _write_repo(content, args.output_path) content = POWERTOOLS_REPO_TEMPLATE % {'mirror': args.mirror, 'stream': stream} _write_repo(content, args.output_path) def _run_pkg_clean(distro): pkg_mgr = 'yum' if distro == 'centos7' else 'dnf' try: subprocess.check_call([pkg_mgr, 'clean', 'metadata']) except subprocess.CalledProcessError: print('ERROR: Failed to clean yum metadata.') raise def main(): distro_id, distro_major_version_id, distro_name = _get_distro() args = _parse_args(distro_id, distro_major_version_id) _validate_args(args, distro_name) base_path = _get_base_path(args) if args.distro in ['centos7']: _install_priorities() _remove_existing(args) _install_repos(args, base_path) _run_pkg_clean(args.distro) main()",639,514
openstack%2Ftempest~master~I886b1b4dba240bcbe667790b57fa03c28b299d99,openstack/tempest,master,I886b1b4dba240bcbe667790b57fa03c28b299d99,DNM: testing file injection,ABANDONED,2020-12-16 19:32:46.000000000,2021-07-08 17:27:09.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-12-16 19:32:46.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/0271311828136da4a31caf383c4a2ff3699db80f', 'message': 'DNM: testing file injection\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/767241\nChange-Id: I886b1b4dba240bcbe667790b57fa03c28b299d99\n'}]",0,767405,0271311828136da4a31caf383c4a2ff3699db80f,5,1,1,8556,,,0,"DNM: testing file injection

Depends-On: https://review.opendev.org/c/openstack/devstack/+/767241
Change-Id: I886b1b4dba240bcbe667790b57fa03c28b299d99
",git fetch https://review.opendev.org/openstack/tempest refs/changes/05/767405/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,0271311828136da4a31caf383c4a2ff3699db80f,,#test file injection,,1,0
openstack%2Ftempest~master~I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e,openstack/tempest,master,I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e,DNM: testing pike volume version test failure root cause,ABANDONED,2019-09-26 00:12:55.000000000,2021-07-08 17:27:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-09-26 00:12:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bcb9025e789557b342feea2cab954dfca7629109', 'message': 'DNM: testing pike volume version test failure root cause\n\nChange-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e\n'}, {'number': 2, 'created': '2019-09-26 00:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6b338f04bf4032b8660f91328fc2c0e0092a32d', 'message': 'DNM: testing pike volume version test failure root cause\n\nChange-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e\n'}, {'number': 3, 'created': '2019-09-26 00:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0652dd6bac41da8d4b9cefd9fbb3ff1bae6cd64', 'message': 'DNM: testing pike volume version test failure root cause\n\nChange-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e\n'}, {'number': 4, 'created': '2019-09-26 01:07:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96230af7852a513425bf8411ff5ddf93843095c9', 'message': 'DNM: testing pike volume version test failure root cause\n\nChange-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e\n'}, {'number': 5, 'created': '2019-09-26 01:09:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/283bfde455cad7360fa0348fe4f1c7e2d9e10e66', 'message': 'DNM: testing pike volume version test failure root cause\n\nChange-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e\n'}]",1,684859,283bfde455cad7360fa0348fe4f1c7e2d9e10e66,8,1,5,8556,,,0,"DNM: testing pike volume version test failure root cause

Change-Id: I523b7e3b1a60fbb41c4210c5412a38eb96a42a2e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/59/684859/5 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/rest_client.py', '.zuul.yaml']",2,bcb9025e789557b342feea2cab954dfca7629109,testing, name: tempest-full-pike override-checkout: stable/pike - tempest-full-pike:, name: tempest-full-stein override-checkout: stable/stein - tempest-full-stein:,14,13
openstack%2Ftempest~master~Ia6b46c1082ed2aeeb76bad145397a28593d2097e,openstack/tempest,master,Ia6b46c1082ed2aeeb76bad145397a28593d2097e,"DNM, testing https://review.opendev.org/#/c/729722/2",ABANDONED,2020-05-21 02:05:36.000000000,2021-07-08 17:27:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-05-21 02:05:36.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/314be39be8fc4b6e0e34d68191a2c912c539c343', 'message': 'DNM, testing https://review.opendev.org/#/c/729722/2\n\nChange-Id: Ia6b46c1082ed2aeeb76bad145397a28593d2097e\n'}]",0,729814,314be39be8fc4b6e0e34d68191a2c912c539c343,3,1,1,8556,,,0,"DNM, testing https://review.opendev.org/#/c/729722/2

Change-Id: Ia6b46c1082ed2aeeb76bad145397a28593d2097e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/729814/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,314be39be8fc4b6e0e34d68191a2c912c539c343,, TEMPEST_BRANCH: 23.0.0,,1,0
openstack%2Ftripleo-quickstart~master~Id700bd738f18ca9965dd6fba577aa101826d2bd9,openstack/tripleo-quickstart,master,Id700bd738f18ca9965dd6fba577aa101826d2bd9,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:47:22.000000000,2021-07-08 17:26:31.000000000,2021-07-08 17:22:08.000000000,"[{'_account_id': 8367}, {'_account_id': 12393}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-08 00:47:22.000000000', 'files': ['doc/source/node-configuration.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7a3fb3984d8542c398c60a37f82cdaae293db32', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Id700bd738f18ca9965dd6fba577aa101826d2bd9\n'}]",0,799940,b7a3fb3984d8542c398c60a37f82cdaae293db32,9,5,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Id700bd738f18ca9965dd6fba577aa101826d2bd9
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/40/799940/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/node-configuration.rst'],1,b7a3fb3984d8542c398c60a37f82cdaae293db32,oftc,channel on OFTC irc.,channel on freenode irc.,1,1
openstack%2Ftempest~master~I2cc649006faaf05795276df85a664af1bcec2f7d,openstack/tempest,master,I2cc649006faaf05795276df85a664af1bcec2f7d,[train][goal] Define base 'legacy-dsvm-base-ipv6-only' job,ABANDONED,2019-09-04 22:28:08.000000000,2021-07-08 17:26:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-04 22:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/38923b6f34d77f80709388dfeefab37b25469e8a', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 2, 'created': '2019-09-04 22:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dafef418540aaacdd1fa91e5fcc2aa3f518a180e', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 3, 'created': '2019-09-04 22:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/45fbd6f9a2cf78574a3ddcc554210bf37f8ccd2e', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 4, 'created': '2019-09-05 10:07:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dde724848871fdfd429e7a90ce39a7c068f9bc84', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 5, 'created': '2019-09-06 05:19:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a402d9b58bd945b0440987f8d7b0a077320381a', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 6, 'created': '2019-09-07 13:39:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b6a73209a8405ce6532009226abcc939af11c6b1', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 7, 'created': '2019-09-07 14:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/366aed8203e927cf1edea4bf8ce64b079406e9d7', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 8, 'created': '2019-09-07 15:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2a5e036782b3af08f01e3517553bbf806b16de6', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 9, 'created': '2019-09-07 16:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/169b1ccfc3bbe2bb7c81ed73846ae01244a18ec9', 'message': 'DNM:testing legacy\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n'}, {'number': 10, 'created': '2019-09-11 13:24:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3d4772254f00cb55b57ed489e02e14d2b8282759', 'message': ""[train][goal] Define base 'legacy-dsvm-base-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nMany projects have legacy zuul jobs so base zuulv3 IPv6 job\n'devstack-ipv6' and 'devstack-tempest-ipv6' cannot be used.\n\nnew legacy base job for IPv6 'legacy-dsvm-base-ipv6-only'\nwill set the IPv6 setting and verification same as 'tempest-ipv6-only'\nwhich can be used to define the project specific legacy IPv6 jobs.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n""}, {'number': 11, 'created': '2019-09-11 13:35:17.000000000', 'files': ['.zuul.yaml', 'playbooks/post-legacy-ipv6.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/473472c3cb528d394c937b7cf4fb20fb53776c1a', 'message': ""[train][goal] Define base 'legacy-dsvm-base-ipv6-only' job\n\nAs part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],\nwe need to define the integration job which deploy services\non IPv6 and perform testing to make sure service listen and communicate\nover IPv6 properly.\n\nMany projects have legacy zuul jobs so base zuulv3 IPv6 job\n'devstack-ipv6' and 'devstack-tempest-ipv6' cannot be used.\n\nnew legacy base job for IPv6 'legacy-dsvm-base-ipv6-only'\nwill set the IPv6 setting and verification same as 'tempest-ipv6-only'\nwhich can be used to define the project specific legacy IPv6 jobs.\n\nStory: #2005477\nTask: #35923\n\nChange-Id: I2cc649006faaf05795276df85a664af1bcec2f7d\n""}]",0,680233,473472c3cb528d394c937b7cf4fb20fb53776c1a,24,2,11,8556,,,0,"[train][goal] Define base 'legacy-dsvm-base-ipv6-only' job

As part of Train community goal 'Support IPv6-Only Deployments and Testing'[1],
we need to define the integration job which deploy services
on IPv6 and perform testing to make sure service listen and communicate
over IPv6 properly.

Many projects have legacy zuul jobs so base zuulv3 IPv6 job
'devstack-ipv6' and 'devstack-tempest-ipv6' cannot be used.

new legacy base job for IPv6 'legacy-dsvm-base-ipv6-only'
will set the IPv6 setting and verification same as 'tempest-ipv6-only'
which can be used to define the project specific legacy IPv6 jobs.

Story: #2005477
Task: #35923

Change-Id: I2cc649006faaf05795276df85a664af1bcec2f7d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/33/680233/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/post-ipv6.yaml', '.zuul.yaml', 'playbooks/legacy/run.yaml', 'playbooks/legacy/pre-ipv6.yaml']",4,38923b6f34d77f80709388dfeefab37b25469e8a,ipv6-only-deployment-and-testing,"- hosts: all tasks: - shell: cmd: | set -e set -x cat << 'EOF' >>""/tmp/dg-local.conf"" [[local|localrc]] SERVICE_IP_VERSION: 6 SERVICE_HOST: """" # IPv6 and certificates known issue with python2 # https://bugs.launchpad.net/devstack/+bug/1794929 USE_PYTHON3: true EOF executable: /bin/bash chdir: '{{ ansible_user_dir }}/workspace' environment: '{{ zuul | zuul_legacy_vars }}' ",,94,96
openstack%2Ftripleo-ansible~master~I0a847ad4077a02a02ad817dd189a6a31c3637a93,openstack/tripleo-ansible,master,I0a847ad4077a02a02ad817dd189a6a31c3637a93,Add playbook cli-overcloud-node-growvols.yaml,MERGED,2021-06-17 03:24:52.000000000,2021-07-08 17:20:16.000000000,2021-07-08 17:20:16.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-17 03:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/21b353dcaefd6f78197246dd76794afb0771fc52', 'message': 'Add playbook cli-overcloud-node-growvols.yaml\n\nJust like cli-overcloud-node-network-config.yaml, this playbook will\nbe run by the ""openstack overcloud node provision"" directly after\nprovisioning so that whole disk images will have their /var volume\ngrown to 100%.\n\nIf the growvols utility is not found the playbook will halt without\nerror, because this will be an overcloud-full partition image which\ngrows the root partition with the growpart utility.\n\nThere will be a mechanism in the ""openstack overcloud node provision""\ncommand to specify different growvol arguments. This will not be\nrequired for most nodes, but swift storage nodes will have to grow\nboth /srv and /var.\n\nChange-Id: I0a847ad4077a02a02ad817dd189a6a31c3637a93\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-06-20 22:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec9106f88d52a8f5896981ef83f2de9770a3a358', 'message': 'Add playbook cli-overcloud-node-growvols.yaml\n\nJust like cli-overcloud-node-network-config.yaml, this playbook will\nbe run by the ""openstack overcloud node provision"" directly after\nprovisioning so that whole disk images will have their /var volume\ngrown to 100%.\n\nIf the growvols utility is not found the playbook will halt without\nerror, because this will be an overcloud-full partition image which\ngrows the root partition with the growpart utility.\n\nThere will be a mechanism in the ""openstack overcloud node provision""\ncommand to specify different growvol arguments. This will not be\nrequired for most nodes, but swift storage nodes will have to grow\nboth /srv and /var.\n\nChange-Id: I0a847ad4077a02a02ad817dd189a6a31c3637a93\nBlueprint: whole-disk-default\n'}, {'number': 3, 'created': '2021-06-20 22:10:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b1f769caa6972edb2701f740a3ebd94e6555c29d', 'message': 'Add playbook cli-overcloud-node-growvols.yaml\n\nJust like cli-overcloud-node-network-config.yaml, this playbook will\nbe run by the ""openstack overcloud node provision"" directly after\nprovisioning so that whole disk images will have their /var volume\ngrown to 100%.\n\nIf the growvols utility is not found the playbook will halt without\nerror, because this will be an overcloud-full partition image which\ngrows the root partition with the growpart utility.\n\nThere will be a mechanism in the ""openstack overcloud node provision""\ncommand to specify different growvol arguments. This will not be\nrequired for most nodes, but swift storage nodes will have to grow\nboth /srv and /var.\n\nChange-Id: I0a847ad4077a02a02ad817dd189a6a31c3637a93\nBlueprint: whole-disk-default\n'}, {'number': 4, 'created': '2021-07-07 22:58:01.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4fed3472689c3970b6784317686e9477419f9f9e', 'message': 'Add playbook cli-overcloud-node-growvols.yaml\n\nJust like cli-overcloud-node-network-config.yaml, this playbook will\nbe run by the ""openstack overcloud node provision"" directly after\nprovisioning so that whole disk images will have their /var volume\ngrown to 100%.\n\nIf the growvols utility is not found the playbook will halt without\nerror, because this will be an overcloud-full partition image which\ngrows the root partition with the growpart utility.\n\nThere will be a mechanism in the ""openstack overcloud node provision""\ncommand to specify different growvol arguments. This will not be\nrequired for most nodes, but swift storage nodes will have to grow\nboth /srv and /var.\n\nChange-Id: I0a847ad4077a02a02ad817dd189a6a31c3637a93\nBlueprint: whole-disk-default\n'}]",5,796748,4fed3472689c3970b6784317686e9477419f9f9e,18,4,4,4571,,,0,"Add playbook cli-overcloud-node-growvols.yaml

Just like cli-overcloud-node-network-config.yaml, this playbook will
be run by the ""openstack overcloud node provision"" directly after
provisioning so that whole disk images will have their /var volume
grown to 100%.

If the growvols utility is not found the playbook will halt without
error, because this will be an overcloud-full partition image which
grows the root partition with the growpart utility.

There will be a mechanism in the ""openstack overcloud node provision""
command to specify different growvol arguments. This will not be
required for most nodes, but swift storage nodes will have to grow
both /srv and /var.

Change-Id: I0a847ad4077a02a02ad817dd189a6a31c3637a93
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/48/796748/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-node-growvols.yaml'],1,21b353dcaefd6f78197246dd76794afb0771fc52,bp/whole-disk-default,"--- # Copyright 2021 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # - name: Overcloud Node Grow Volumes hosts: allovercloud any_errors_fatal: true gather_facts: false vars: growvols_args: '/var=100%' pre_tasks: - name: Wait for provisioned nodes to boot wait_for: timeout: 600 port: 22 host: '{{ ansible_host }}' search_regex: OpenSSH delay: 10 msg: Timeout waiting for provisioned nodes to become available connection: local tasks: - name: Find the growvols utility shell: > PATH=/usr/local/sbin:/usr/local/bin:/usr/sbin:/usr/bin which growvols ignore_errors: true become: true register: find_growvols - name: Stopping playbook when no growvols utility is found meta: end_play when: find_growvols.rc != 0 - name: Setting growvols path set_fact: growvols_path: ""{{ find_growvols.stdout_lines[0] }}"" - name: ""Running {{ growvols_path }} {{growvols_args}}"" shell: ""{{ growvols_path }} --yes {{growvols_args}}"" become: true register: run_growvols - name: Output of growvols stdout debug: var: run_growvols.stdout",,58,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I94283e928080a417a5ea505c789e6485a3334129,openstack/tripleo-ansible,stable/ussuri,I94283e928080a417a5ea505c789e6485a3334129,Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.,MERGED,2021-07-08 08:00:58.000000000,2021-07-08 17:19:04.000000000,2021-07-08 17:19:04.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-07-08 08:00:58.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8ef29ba0e3859e65a4dbd2fe691e2ae487fd418e', 'message': 'Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.\n\nReplace the hardcoded reference to /home/stack by the HOME\nenvironment variable.\n\nChange-Id: I94283e928080a417a5ea505c789e6485a3334129\n(cherry picked from commit 46e4ef6ec0d52f538533b913ae8acf29880b8d43)\n'}]",0,799976,8ef29ba0e3859e65a4dbd2fe691e2ae487fd418e,9,7,1,26343,,,0,"Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.

Replace the hardcoded reference to /home/stack by the HOME
environment variable.

Change-Id: I94283e928080a417a5ea505c789e6485a3334129
(cherry picked from commit 46e4ef6ec0d52f538533b913ae8acf29880b8d43)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/799976/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'],1,8ef29ba0e3859e65a4dbd2fe691e2ae487fd418e,," tripleo_backup_and_restore_mysql_backup_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"""," tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql""",2,2
openstack%2Ftripleo-ansible~stable%2Fvictoria~I94283e928080a417a5ea505c789e6485a3334129,openstack/tripleo-ansible,stable/victoria,I94283e928080a417a5ea505c789e6485a3334129,Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.,MERGED,2021-07-08 05:58:55.000000000,2021-07-08 17:18:13.000000000,2021-07-08 17:18:13.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-07-08 05:58:55.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/46e4ef6ec0d52f538533b913ae8acf29880b8d43', 'message': 'Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.\n\nReplace the hardcoded reference to /home/stack by the HOME\nenvironment variable.\n\nChange-Id: I94283e928080a417a5ea505c789e6485a3334129\n(cherry picked from commit 79c69d5c6df72762c46e0f79255830fd9969f442)\n'}]",0,799890,46e4ef6ec0d52f538533b913ae8acf29880b8d43,10,9,1,26343,,,0,"Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.

Replace the hardcoded reference to /home/stack by the HOME
environment variable.

Change-Id: I94283e928080a417a5ea505c789e6485a3334129
(cherry picked from commit 79c69d5c6df72762c46e0f79255830fd9969f442)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/90/799890/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'],1,46e4ef6ec0d52f538533b913ae8acf29880b8d43,," tripleo_backup_and_restore_mysql_backup_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"""," tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql""",2,2
openstack%2Ftempest~master~I597f33f615647cbbafc42be0af9f3f6f25d603dd,openstack/tempest,master,I597f33f615647cbbafc42be0af9f3f6f25d603dd,Add new job to run glance v1 API tests,ABANDONED,2018-08-06 08:34:03.000000000,2021-07-08 17:13:59.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-08-06 08:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/db31df9380b14041cc6b3edd1d9ce0d287a1a3ab', 'message': 'Add new job to run glance v1 API tests\n\nGlance v1 APIs are deprecated and Tempest does not test\nits tests on gate.\nAs we discussed on Rocky PTG[1] we need to test v1 till its code\nis available on tested branches. Tempest will keep testing all the\ndeprecated APIs till they are being removed completely from all\nstable supported branches.\n\nThis commit adds a new job to run glance v1 tests only. Same job\ncan be used on glance side also.\n\nThese tests can be run on main tempest-full job but as v1 is deprecated,\ncross project does not need to test v1. Testing v1 on Tempest or glance\nis enough.\n\n[1] https://etherpad.openstack.org/p/qa-rocky-ptg-remove-deprecated-apis-tests\n\nChange-Id: I597f33f615647cbbafc42be0af9f3f6f25d603dd\n'}, {'number': 2, 'created': '2018-08-07 06:14:03.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/ab8ac3b849994e191cf35e06e31888fc9a00c105', 'message': 'Add new job to run glance v1 API tests\n\nGlance v1 APIs are deprecated and Tempest does not test\nits tests on gate.\nAs we discussed on Rocky PTG[1] we need to test v1 till its code\nis available on tested branches. Tempest will keep testing all the\ndeprecated APIs till they are being removed completely from all\nstable supported branches.\n\nThis commit adds a new job to run glance v1 tests only. Same job\ncan be used on glance side also.\n\nThese tests can be run on main tempest-full job but as v1 is deprecated,\ncross project does not need to test v1. Testing v1 on Tempest or glance\nis enough.\n\nGlance has removed the v1 API in Rocky[2] so this job will run\nwith queens and pike branch.\n\n[1] https://etherpad.openstack.org/p/qa-rocky-ptg-remove-deprecated-apis-tests\n[2] https://review.openstack.org/#/c/532503/\nChange-Id: I597f33f615647cbbafc42be0af9f3f6f25d603dd\n'}]",0,589076,ab8ac3b849994e191cf35e06e31888fc9a00c105,14,5,2,8556,,,0,"Add new job to run glance v1 API tests

Glance v1 APIs are deprecated and Tempest does not test
its tests on gate.
As we discussed on Rocky PTG[1] we need to test v1 till its code
is available on tested branches. Tempest will keep testing all the
deprecated APIs till they are being removed completely from all
stable supported branches.

This commit adds a new job to run glance v1 tests only. Same job
can be used on glance side also.

These tests can be run on main tempest-full job but as v1 is deprecated,
cross project does not need to test v1. Testing v1 on Tempest or glance
is enough.

Glance has removed the v1 API in Rocky[2] so this job will run
with queens and pike branch.

[1] https://etherpad.openstack.org/p/qa-rocky-ptg-remove-deprecated-apis-tests
[2] https://review.openstack.org/#/c/532503/
Change-Id: I597f33f615647cbbafc42be0af9f3f6f25d603dd
",git fetch https://review.opendev.org/openstack/tempest refs/changes/76/589076/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,db31df9380b14041cc6b3edd1d9ce0d287a1a3ab,test-glance-v1,- job: name: tempest-glance-v1-api parent: devstack-tempest branches: - master description: | This job runs the glance v1 API tests. vars: tox_envlist: all tempest_test_regex: tempest.api.image.v1 devstack_localrc: GLANCE_V1_ENABLED: true - tempest-glance-v1-api: irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^releasenotes/.*$ - ^setup.cfg$ - ^tempest/hacking/.*$ - ^tempest/tests/.*$,,23,0
openstack%2Ftempest~master~Ic07e270219c8b8acc7631c668e63c0a81f68f189,openstack/tempest,master,Ic07e270219c8b8acc7631c668e63c0a81f68f189,Reduced the complexity,ABANDONED,2017-02-24 10:54:31.000000000,2021-07-08 17:07:16.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 18603}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-02-24 10:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2e725196c09a02482d0450a1a378da83c8b0a702', 'message': 'Reduced the complexity\n\nThe match() method (in tempest/common/custom_matcher.py) is very large.\nI extracted some of the functionalities into helper functions to reduce\ncomplexity of match().\nAdditionally it became more readable as well, without changing its\nfunctionality.\n\nChange-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189\n'}, {'number': 2, 'created': '2017-03-01 07:58:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/09a14c30c6edde477874ad42bfa619b566c76b41', 'message': 'Reduced the complexity\n\nThe match() method (in tempest/common/custom_matcher.py) is very large.\nI extracted some of the functionalities into helper functions to reduce\ncomplexity of match().\nAdditionally it became more readable as well, without changing its\nfunctionality.\n\nChange-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189\n'}, {'number': 3, 'created': '2017-03-01 08:22:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/94780db4da3fe69bea1200eb46a4bdedfcd51761', 'message': 'Reduced the complexity\n\nThe match() method (in tempest/common/custom_matcher.py) is very large.\nI extracted some of the functionalities into helper functions to reduce\ncomplexity of match().\nAdditionally it became more readable as well, without changing its\nfunctionality.\n\nChange-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189\n'}, {'number': 4, 'created': '2017-03-31 06:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/953eb16ff4ab4f7a58ac967406aa0af6f5f8dc5e', 'message': 'Reduced the complexity\n\nThe match() method (in tempest/common/custom_matcher.py) is very large.\nI extracted some of the functionalities into helper functions to reduce\ncomplexity of match().\nAdditionally it became more readable as well, without changing its\nfunctionality.\n\nChange-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189\n'}, {'number': 5, 'created': '2017-04-25 13:41:20.000000000', 'files': ['tempest/common/custom_matchers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/038e0549419fc3639948a3cac56cbc8155b40aec', 'message': 'Reduced the complexity\n\nThe match() method (in tempest/common/custom_matcher.py) is very large.\nI extracted some of the functionalities into helper functions to reduce\ncomplexity of match().\nAdditionally it became more readable as well, without changing its\nfunctionality.\n\nChange-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189\n'}]",5,437871,038e0549419fc3639948a3cac56cbc8155b40aec,32,7,5,18603,,,0,"Reduced the complexity

The match() method (in tempest/common/custom_matcher.py) is very large.
I extracted some of the functionalities into helper functions to reduce
complexity of match().
Additionally it became more readable as well, without changing its
functionality.

Change-Id: Ic07e270219c8b8acc7631c668e63c0a81f68f189
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/437871/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/custom_matchers.py'],1,2e725196c09a02482d0450a1a378da83c8b0a702,(detached," def is_NonExistentHeader(self, headers, actual): for i in headers: if i not in actual: return i return False headers = ['content-type', 'x-trans-id', 'date'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) headers = ['x-timestamp', 'accept-ranges'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) if self.target == 'Account': headers = ['x-account-bytes-used', 'x-account-container-count', 'x-account-object-count'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) headers = ['x-container-bytes-used', 'x-container-object-count', 'x-storage-policy'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) headers = ['etag', 'last-modified'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) headers = ['etag', 'last-modified'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual)) headers = ['etag', 'last-modified', 'x-copied-from', 'x-copied-from-last-modified'] if self.is_NonExistentHeader(headers, actual): return NonExistentHeader( self.is_NonExistentHeader(headers, actual))", if 'content-type' not in actual: return NonExistentHeader('content-type') if 'x-trans-id' not in actual: return NonExistentHeader('x-trans-id') if 'date' not in actual: return NonExistentHeader('date') if 'x-timestamp' not in actual: return NonExistentHeader('x-timestamp') if 'accept-ranges' not in actual: return NonExistentHeader('accept-ranges') if self.target == 'Account': if 'x-account-bytes-used' not in actual: return NonExistentHeader('x-account-bytes-used') if 'x-account-container-count' not in actual: return NonExistentHeader('x-account-container-count') if 'x-account-object-count' not in actual: return NonExistentHeader('x-account-object-count') if 'x-container-bytes-used' not in actual: return NonExistentHeader('x-container-bytes-used') if 'x-container-object-count' not in actual: return NonExistentHeader('x-container-object-count') if 'x-storage-policy' not in actual: return NonExistentHeader('x-storage-policy') if 'etag' not in actual: return NonExistentHeader('etag') if 'last-modified' not in actual: return NonExistentHeader('last-modified') if 'etag' not in actual: return NonExistentHeader('etag') if 'last-modified' not in actual: return NonExistentHeader('last-modified') if 'etag' not in actual: return NonExistentHeader('etag') if 'last-modified' not in actual: return NonExistentHeader('last-modified') if 'x-copied-from' not in actual: return NonExistentHeader('x-copied-from') if 'x-copied-from-last-modified' not in actual: return NonExistentHeader('x-copied-from-last-modified'),43,38
openstack%2Ftempest~master~I2d39e64e21a4c4165cf195f6f87f8b1278805316,openstack/tempest,master,I2d39e64e21a4c4165cf195f6f87f8b1278805316,Adding Cinder Tempest test for Manageable Volumes & Snapshots List,ABANDONED,2017-02-08 01:08:21.000000000,2021-07-08 17:07:16.000000000,,"[{'_account_id': 5690}, {'_account_id': 7173}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 17716}, {'_account_id': 20140}, {'_account_id': 20190}, {'_account_id': 21884}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-02-08 01:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/215c3ac53e920c55db54a18c7284c8f4acbc4ce4', 'message': '[WIP, DNM]Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAddding the missing tempest for Manageable volumes list & Snapshots list\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 2, 'created': '2017-02-10 07:11:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/754b75a22f4e7a7e0d216c0e2458f4365ecbf8a6', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list & Snapshot manageable\nlist. Tested once for volume, snapshot with detailed=True & False\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 3, 'created': '2017-02-22 23:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8359a8a6ba75c2ddc45be84e72539b465e8896d0', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list & Snapshot manageable\nlist. Tested once for volume, snapshot with detailed=True & False\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 4, 'created': '2017-02-24 21:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d15f884584a3f1ebbd943ced479a37fc3271281a', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list & Snapshot manageable\nlist. Tested once for volume, snapshot with detailed=True & False\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 5, 'created': '2017-03-31 23:36:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d4ba9354e87c6cd9faf7c1ddd7182f84fd29c506', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list & Snapshot manageable\nlist.\n\nIncluding:\n\n[1] Checking the columns of Volumes manageable list\n[2] Checking the columns of Snapshot manageable list\n[3] Creating a volume, unmanage it and list it and check its safe to manage\n    Then manage it back again and check that it is not safe to manage\n[4] Same needs to be done for snapshot..\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 6, 'created': '2017-04-03 22:02:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ac2ea9a20abce6149bfead49231944b94cced327', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list & Snapshot manageable\nlist.\n\nIncluding:\n\n[1] Checking the columns of Volumes manageable list\n[2] Checking the columns of Snapshot manageable list\n[3] Creating a volume, unmanage it and list it and check its safe to manage\n    Then manage it back again and check that it is not safe to manage\n[4] Same needs to be done for snapshot..\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 7, 'created': '2017-04-04 02:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8b8a3b2604139b6c5b644a1806a34b5c11e73855', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list &\nSnapshot manageable list.\n\nIncluding:\n\n[1] Checking the columns of Volumes manageable list\n[2] Checking the columns of Snapshot manageable list\n[3] Creating a volume, unmanage it and list it and check its safe to manage\n    Then manage it back again and check that it is not safe to manage\n[4] Creating a volume,snapshot unmanage snapshot and list it and check\n    its safe to manage. Then manage it back again and check that it is\n    not safe to manage\n[5] Done for both v2 & v3\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}, {'number': 8, 'created': '2017-04-04 19:56:49.000000000', 'files': ['tempest/api/volume/admin/v3/test_manageable_resources_list.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'tempest/lib/services/volume/v3/volume_manage_client.py', 'tempest/api/volume/v3/base.py', 'tempest/clients.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/api/volume/base.py', 'tempest/api/volume/admin/v2/test_manageable_resources_list.py', 'tempest/lib/services/volume/v2/volume_manage_client.py', 'tempest/lib/services/volume/v3/snapshot_manage_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5ae5edb86b6d227776b2c4d0d5b6a9a7acc3be5d', 'message': 'Adding Cinder Tempest test for Manageable Volumes & Snapshots List\n\nAdding the missing tempest for Manageable volumes list &\nSnapshot manageable list.\n\nIncluding:\n\n[1] Checking the columns of Volumes manageable list\n[2] Checking the columns of Snapshot manageable list\n[3] Creating a volume, unmanage it and list it and check its safe to manage\n    Then manage it back again and check that it is not safe to manage\n[4] Creating a volume,snapshot unmanage snapshot and list it and check\n    its safe to manage. Then manage it back again and check that it is\n    not safe to manage\n[5] Done for both v2 & v3\n\nChange-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316\n'}]",67,430490,5ae5edb86b6d227776b2c4d0d5b6a9a7acc3be5d,49,12,8,20140,,,0,"Adding Cinder Tempest test for Manageable Volumes & Snapshots List

Adding the missing tempest for Manageable volumes list &
Snapshot manageable list.

Including:

[1] Checking the columns of Volumes manageable list
[2] Checking the columns of Snapshot manageable list
[3] Creating a volume, unmanage it and list it and check its safe to manage
    Then manage it back again and check that it is not safe to manage
[4] Creating a volume,snapshot unmanage snapshot and list it and check
    its safe to manage. Then manage it back again and check that it is
    not safe to manage
[5] Done for both v2 & v3

Change-Id: I2d39e64e21a4c4165cf195f6f87f8b1278805316
",git fetch https://review.opendev.org/openstack/tempest refs/changes/90/430490/8 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/clients.py', 'tempest/lib/services/volume/v2/__init__.py', 'tempest/api/volume/base.py', 'tempest/api/volume/admin/v2/test_manageable_resources_list.py', 'tempest/lib/services/volume/v2/manageable_resource_list_client.py']",5,215c3ac53e920c55db54a18c7284c8f4acbc4ce4,manageableresourcelist,"# Copyright 2017 Intel Corporation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_serialization import jsonutils as json from six.moves.urllib import parse as urllib from tempest.lib.common import rest_client class ManageableResourceListClient(rest_client.RestClient): """"""Client to send a V2 os-volume-manage or os-snapshot-manage request"""""" api_version = ""v2"" def os_resource_manage(self, params, resource_type): """"""Returns the list of manageable reosurces"""""" url = 'os-%s-manage' % resource_type if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) ",,123,1
openstack%2Ftempest~master~Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc,openstack/tempest,master,Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc,Update unit test for test_groups,ABANDONED,2017-01-31 04:01:28.000000000,2021-07-08 17:07:05.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11022}, {'_account_id': 18338}, {'_account_id': 18464}]","[{'number': 1, 'created': '2017-01-31 04:01:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e17365243828c9986721f40b68ca7ec4d76ceb7', 'message': 'Update unit test for test_groups\n\nThis patch addresses a unit test that fails after the addition of\n[1] in [2]. The patch fails due to asserting that two dictionaries\nare equivalent when create_user now adds federated users to calls.\n\n[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/support-federated-attr.html\n[2]:https://review.openstack.org/#/c/426449/\n\nChange-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 2, 'created': '2017-01-31 18:40:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/41e2d8974c308446969903e4b86ed90a82b448a1', 'message': 'Update unit test for test_groups\n\nThis patch addresses a unit test that fails after the addition of\n[1] in [2]. The patch fails due to asserting that two dictionaries\nare equivalent when create_user now adds federated users to calls.\ncreate_user will now ALWAYS return a federated key value back.\n\n[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/support-federated-attr.html\n[2]:https://review.openstack.org/#/c/426449/\n\nChange-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 3, 'created': '2017-01-31 21:03:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/63d11e151394c5358e403754c3a0dd76148ae135', 'message': 'Update unit test for test_groups\n\nThis patch addresses a unit test that fails after the addition of\n[1] in [2]. The patch fails due to asserting that two dictionaries\nare equivalent when create_user now adds federated users to calls.\ncreate_user will now ALWAYS return a federated key value back.\n\n[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/support-federated-attr.html\n[2]:https://review.openstack.org/#/c/426449/\n\nChange-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 4, 'created': '2017-02-01 07:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/20c7772f33f0a9a082692af2ffbf1b82f820145f', 'message': 'Update unit test for test_groups\n\nThis patch addresses a unit test that fails after the addition of\n[1] in [2]. The patch fails due to asserting that two dictionaries\nare equivalent when create_user now adds federated users to calls.\ncreate_user will now ALWAYS return a federated key value back.\n\n[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/support-federated-attr.html\n[2]:https://review.openstack.org/#/c/426449/\n\nChange-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}, {'number': 5, 'created': '2017-02-15 18:24:56.000000000', 'files': ['tempest/api/identity/admin/v3/test_groups.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5840db574142edbd54b2b7781b58f041b67bbe8a', 'message': 'Update unit test for test_groups\n\nThis patch addresses a unit test that fails after the addition of\n[1] in [2]. The patch fails due to asserting that two dictionaries\nare equivalent when create_user now returns a federated object attribute for\nall users. Whereas, list_users does not return this object.\n\n[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/\n    support-federated-attr.html\n[2]:https://review.openstack.org/#/c/426449/\n\nChange-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc\n'}]",14,427018,5840db574142edbd54b2b7781b58f041b67bbe8a,51,7,5,18464,,,0,"Update unit test for test_groups

This patch addresses a unit test that fails after the addition of
[1] in [2]. The patch fails due to asserting that two dictionaries
are equivalent when create_user now returns a federated object attribute for
all users. Whereas, list_users does not return this object.

[1]:https://specs.openstack.org/openstack/keystone-specs/specs/keystone/ocata/
    support-federated-attr.html
[2]:https://review.openstack.org/#/c/426449/

Change-Id: Ibe5f1eb7e08b86409c482ab11bacaab5a722acfc
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/427018/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/identity/admin/v3/test_groups.py'],1,1e17365243828c9986721f40b68ca7ec4d76ceb7,fix_test, if 'federated' in user: del user['federated'],,2,0
openstack%2Ftempest~master~Iee6bf1d2de1dae98d7b7640510fb54912a4736bc,openstack/tempest,master,Iee6bf1d2de1dae98d7b7640510fb54912a4736bc,Leverage admin to run case TestVolumeMigrateRetypeAttached,ABANDONED,2017-05-26 07:16:48.000000000,2021-07-08 17:07:01.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-05-26 07:16:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e9f5721363d908594a54e07f8e1a3479bcea272', 'message': 'Leverage admin permissions to perform tempest case TestVolumeMigrateRetypeAttached\n\nThe mentioned case fails because it needs to perform operations, which can only be done\nwith admin permissions.\n\nChange-Id: Iee6bf1d2de1dae98d7b7640510fb54912a4736bc\nCloses-Bug: #1693702\n'}, {'number': 2, 'created': '2017-05-30 07:00:29.000000000', 'files': ['tempest/scenario/test_volume_migrate_attached.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/213304305af8d932c6cf29f1d0bcd768f1115405', 'message': 'Leverage admin to run case TestVolumeMigrateRetypeAttached\n\nThe mentioned case fails because it needs to perform operations,\nwhich can only be done with admin permissions.\n\nChange-Id: Iee6bf1d2de1dae98d7b7640510fb54912a4736bc\nCloses-Bug: #1693702\n'}]",1,468285,213304305af8d932c6cf29f1d0bcd768f1115405,20,4,2,25836,,,0,"Leverage admin to run case TestVolumeMigrateRetypeAttached

The mentioned case fails because it needs to perform operations,
which can only be done with admin permissions.

Change-Id: Iee6bf1d2de1dae98d7b7640510fb54912a4736bc
Closes-Bug: #1693702
",git fetch https://review.opendev.org/openstack/tempest refs/changes/85/468285/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_volume_migrate_attached.py'],1,6e9f5721363d908594a54e07f8e1a3479bcea272,bug/1693702," cls.admin_volume_client = cls.os_admin.volumes_v2_client self.admin_volume_client.retype_volume( waiters.wait_for_volume_retype(self.admin_volume_client,"," self.volumes_client.retype_volume( waiters.wait_for_volume_retype(self.volumes_client,",3,2
openstack%2Ftempest~master~I341f9201ebfb84112498ae22bf2d66ecf63f630e,openstack/tempest,master,I341f9201ebfb84112498ae22bf2d66ecf63f630e,WIP: Create new public image and check if others can access . - Create a public image - Make sure that a none admin user can access this image.,ABANDONED,2017-02-26 18:39:28.000000000,2021-07-08 17:06:58.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12024}, {'_account_id': 23003}]","[{'number': 1, 'created': '2017-02-26 18:39:28.000000000', 'files': ['tempest/api/image/admin/v2/test_images.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c6b7a0cf618e4e66fb85106f7fef4ea963e8137', 'message': 'WIP: Create new public image and check if others can access .\n- Create a public image\n- Make sure that a none admin user can access this image.\n\nChange-Id: I341f9201ebfb84112498ae22bf2d66ecf63f630e\n'}]",2,438283,5c6b7a0cf618e4e66fb85106f7fef4ea963e8137,11,5,1,23003,,,0,"WIP: Create new public image and check if others can access .
- Create a public image
- Make sure that a none admin user can access this image.

Change-Id: I341f9201ebfb84112498ae22bf2d66ecf63f630e
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/438283/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/image/admin/v2/test_images.py'],1,5c6b7a0cf618e4e66fb85106f7fef4ea963e8137,image_is_public," @decorators.idempotent_id('f6ab4aa0-035e-4664-9f2d-c57c6df50605') def test_admin_list_public_image(self): """"""Create new public image and check if others can access . Create a public image Make sure that a none admin user can access this image. """""" # Create a public image image_file = six.BytesIO(data_utils.random_bytes(2048)) container_format = CONF.image.container_formats[0] disk_format = CONF.image.disk_formats[0] image = self.admin_client.create_image( container_format=container_format, visibility='public', disk_format=disk_format) self.addCleanup(self.admin_client.delete_image, image['id']) self.admin_client.store_image_file(image['id'], data=image_file) # As an image consumer you need to provide the member_status parameter # along with the visibility=public parameter in order for it to show # results params = {'member_status': 'pending', 'visibility': 'public'} fetched_images = self.client.list_images(params)['images'] self.assertEqual(image['id'], fetched_images[0]['id'])",,25,0
openstack%2Ftempest~master~I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0,openstack/tempest,master,I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0,Add Test Coverage for Temp Url,ABANDONED,2016-05-20 21:09:38.000000000,2021-07-08 17:06:55.000000000,,"[{'_account_id': 4656}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9622}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 20553}, {'_account_id': 21773}]","[{'number': 1, 'created': '2016-05-20 21:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9897a57cf789927883b2e989672721ee81a0cbd6', 'message': 'WIP:  Add Additonal Tempest Cases\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 2, 'created': '2016-06-02 00:43:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b186dc0ced9463f3f884a6b1a7cd894bd6b2c420', 'message': 'WIP:  Add Additonal Tempest Cases\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 3, 'created': '2016-06-02 19:51:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/961b5d455c2c5ea670d9484dd6b41bd20c536ad3', 'message': 'WIP:  Add Additonal Tempest Cases\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 4, 'created': '2016-06-03 16:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/72e17c09c5c6076c48490eb9acb990238f811eb2', 'message': 'WIP:  Add Additonal Tempest Cases\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 5, 'created': '2016-06-06 20:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4f09ce2d0007269bb34b1cedd2cb962b34029656', 'message': 'WIP:  Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 6, 'created': '2016-06-13 15:44:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a554d84aac21a55befc2c5cc357e15d9e9f9c7ca', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 7, 'created': '2016-06-15 21:31:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dd22f5a4ce2651f90e92ca28da2ec3b2b4305c04', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 8, 'created': '2016-06-16 16:42:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71af3a356bc4c331a45b85ca098ecc3a469f9e15', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 9, 'created': '2016-06-20 19:22:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/95f8daa1032c01679f898550961576f56a98b793', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 10, 'created': '2016-08-03 19:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/badc6f36334d37400cb609442a570fc4e952c7be', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}, {'number': 11, 'created': '2016-09-21 00:52:42.000000000', 'files': ['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_temp_url.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/44016ad407d3e177edd3f015a549fca9a3247e53', 'message': 'Add Test Coverage for Temp Url\n\nMissing test case coverage for temp url; this includes creation\nof temp url and GET, PUT, DELETE of object\n\nCo-Authored-By: Cindy Lu <clu@us.ibm.com>\n\nChange-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0\n'}]",47,319456,44016ad407d3e177edd3f015a549fca9a3247e53,85,9,11,21773,,,0,"Add Test Coverage for Temp Url

Missing test case coverage for temp url; this includes creation
of temp url and GET, PUT, DELETE of object

Co-Authored-By: Cindy Lu <clu@us.ibm.com>

Change-Id: I36c4b79e9ff9f915e9f8cef8703e15f5ab25c2b0
",git fetch https://review.opendev.org/openstack/tempest refs/changes/56/319456/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/test_object_temp_url_negative.py', 'tempest/api/object_storage/test_object_temp_url.py']",2,9897a57cf789927883b2e989672721ee81a0cbd6,swiftObjectTempUrl," def _get_key2(self): key2 = 'Meta2-' metadata = {'Temp-URL-Key-2': key2} self.account_client.create_account_metadata(metadata=metadata) self.metadatas.append(metadata) return key2 def _get_expected_key(self): account_client_metadata, _ = \ self.account_client.list_account_metadata() self.assertIn('x-account-meta-temp-url-key-2', account_client_metadata) expected_key = account_client_metadata\ ['x-account-meta-temp-url-key-2'] return expected_key # the expiration time is in seconds path = '%s/%s/%s' % ( url = '%s/%s?temp_url_sig=%s&temp_url_expires=%s' % (container, def _validate_account_metadata(self, expected_key, key2): expected_key = self._get_expected_key() validation = self.assertEqual(expected_key, key2) return validation self.object_name, 'GET', resp, _ = self.object_client.get(url) _key2_ = self._get_key2() expected_key = self._get_expected_key() self._validate_account_metadata(expected_key, _key2_) self.object_name, 'GET', expires, _key2_) resp, _ = self.object_client.get(url) self.assertHeaders(resp, 'Object', 'GET') base_text=data_utils.rand_name(name='random')) self.object_name, 'PUT', resp, body = self.object_client.put(url, new_data) self.object_name, 'GET', resp, body = self.object_client.get(url) self.assertHeaders(resp, 'Object', 'GET') self.object_name, 'HEAD', resp, _ = self.object_client.head(url) def test_get_object_using_temp_url_inline_query_parameter(self): url = self._get_temp_url(self.container_name, self.object_name, 'GET', inline_url = url + '&inline' resp, _ = self.object_client.get(inline_url) self.assertIn('content-disposition', resp) @test.idempotent_id('94309936-10a5-11e6-a148-3e1d05defe78') @test.requires_ext(extension='tempurl', service='object') def test_override_filename_using_temp_url(self): expires = self._get_expiry_date() # get a temp URL for the created object url = self._get_temp_url(self.container_name, self.object_name, 'GET', expires, self.key) # changing the object name... filename = url + '&filename=MyNewTestFile.pdf' # trying to get object with new name # using temp url within expiry time resp, _ = self.object_client.get(filename) self.assertHeaders(resp, 'Object', 'GET') self.assertIn('MyNewTestFile.pdf', resp['content-disposition']) @test.idempotent_id('f91c96d4-1230-4bba-8eb9-84476d18d991') @test.requires_ext(extension='tempurl', service='object') def test_delete_object_using_temp_url(self): obj_to_delete = data_utils.rand_name(name='objects') self.object_client.create_object(self.container_name, obj_to_delete, data=None) expires = self._get_expiry_date() # get a temp URL for the created object url = self._get_temp_url(self.container_name, obj_to_delete, 'DELETE', expires, self.key) # trying to delete an object using temp url within expiry time resp, _ = self.object_client.delete(url) self.assertHeaders(resp, 'Object', 'DELETE') @test.idempotent_id('60c8040c-114b-11e6-a148-3e1d05defe78') @test.requires_ext(extension='tempurl', service='object') def test_delete_object_using_temp_url_key2(self): key2 = self._get_key2() expect = self._get_expected_key() self._validate_account_metadata(expect, key2) # creating a new object to delete... obj_to_delete = data_utils.rand_name(name='objects') self.object_client.create_object(self.container_name, obj_to_delete, data=None) # We should have a common method for validating account # metadata to a value, the following 6-7 lines of # code would go into that method... expires = self._get_expiry_date() url = self._get_temp_url(self.container_name, obj_to_delete, 'DELETE', expires, key2) resp, _ = self.object_client.delete(url) self.assertHeaders(resp, 'Object', 'DELETE') @test.idempotent_id('6df5ecfc-0e1c-11e6-a148-3e1d05defe78') @test.requires_ext(extension='tempurl', service='object') def test_conditional_put_none_match_header_temp_url(self): expires = self._get_expiry_date() # using a different object to verify if_none_match_object = data_utils.rand_name(name='match') content2 = data_utils.arbitrary_string(size=len(if_none_match_object), base_text=if_none_match_object) self.object_client.create_object(self.container_name, if_none_match_object, content2) url = self._get_temp_url(self.container_name, if_none_match_object, 'PUT', expires, self.key) resp1, _ = self.object_client.put(url, content2) url = self._get_temp_url(self.container_name, if_none_match_object, 'GET', expires, self.key) # getting that object and comparing the etags that do not match headers = {'if-none-match': 12345678901234567890123456789012, 'Accept': 'application/json'} resp2, _ = self.object_client.get(url, headers=headers) # comparing the etags self.assertEqual(resp2['etag'], resp1['etag']) @test.idempotent_id('b8be73e4-0e1c-11e6-a148-3e1d05defe78') @test.requires_ext(extension='tempurl', service='object') def test_conditional_get_match_header_temp_url(self): expires = self._get_expiry_date() # using a different object to verify if_match_object = data_utils.rand_name(name='match') content2 = data_utils.arbitrary_string(size=len(if_match_object), base_text=if_match_object) self.object_client.create_object(self.container_name, if_match_object, content2) url = self._get_temp_url(self.container_name, if_match_object, 'PUT', expires, self.key) resp1, _ = self.object_client.put(url, content2) url = self._get_temp_url(self.container_name, if_match_object, 'GET', expires, self.key) # getting that object and comparing the etags headers = {'if-match': resp1['etag'], 'Accept': 'application/json'} resp2, _ = self.object_client.get(url, headers=headers) self.assertEqual(resp1['etag'], resp2['etag'])"," # make sure the metadata has been set account_client_metadata, _ = \ self.account_client.list_account_metadata() self.assertIn('x-account-meta-temp-url-key', account_client_metadata) self.assertEqual( account_client_metadata['x-account-meta-temp-url-key'], self.key) path = ""%s/%s/%s"" % ( url = ""%s/%s?temp_url_sig=%s&temp_url_expires=%s"" % (container, self.object_name, ""GET"", resp, body = self.object_client.get(url) self.assertEqual(body, self.content) # Testing a HEAD on this Temp URL resp, body = self.object_client.head(url) self.assertHeaders(resp, 'Object', 'HEAD') key2 = 'Meta2-' metadata = {'Temp-URL-Key-2': key2} self.account_client.create_account_metadata(metadata=metadata) self.metadatas.append(metadata) account_client_metadata, _ = \ self.account_client.list_account_metadata() self.assertIn('x-account-meta-temp-url-key-2', account_client_metadata) self.assertEqual( account_client_metadata['x-account-meta-temp-url-key-2'], key2) self.object_name, ""GET"", expires, key2) resp, body = self.object_client.get(url) self.assertEqual(body, self.content) base_text=data_utils.rand_name(name=""random"")) self.object_name, ""PUT"", resp, body = self.object_client.put(url, new_data, None) self.object_name, ""GET"", _, body = self.object_client.get(url) self.object_name, ""HEAD"", resp, body = self.object_client.head(url) def test_get_object_using_temp_url_with_inline_query_parameter(self): url = self._get_temp_url(self.container_name, self.object_name, ""GET"", url = url + '&inline' resp, body = self.object_client.get(url) self.assertEqual(body, self.content) self.assertEqual(resp['content-disposition'], 'inline')",173,45
openstack%2Ftempest~master~Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698,openstack/tempest,master,Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698,Swift Discoverability Validation,ABANDONED,2016-04-15 02:41:32.000000000,2021-07-08 17:06:51.000000000,,"[{'_account_id': 7350}, {'_account_id': 8001}, {'_account_id': 8556}, {'_account_id': 9576}, {'_account_id': 9591}, {'_account_id': 9622}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12024}, {'_account_id': 12456}, {'_account_id': 15932}, {'_account_id': 17625}, {'_account_id': 18820}, {'_account_id': 20553}]","[{'number': 1, 'created': '2016-04-15 02:41:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f20182335cbdfcdb6aa3fb3cfbf1525072c44439', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including testing the behavior of using various methods (GET, HEAD, OPTIONS), origin header behavior, and invalid administrative access scenarios.\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 2, 'created': '2016-04-15 02:43:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08a2695d55f86f8a8183f86417bf56677ec8f84f', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), origin header behavior, and invalid administrative\naccess scenarios.\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 3, 'created': '2016-04-15 04:35:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/374dc7b8e9785901ee2965f7b9a3edcc1ee568cc', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), origin header behavior, and invalid administrative\naccess scenarios.\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 4, 'created': '2016-04-15 15:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c40610278f5d08f21d041b5da11dd2b97b63a9f0', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), origin header behavior, and invalid administrative\naccess scenarios.\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 5, 'created': '2016-04-17 00:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f0dd4f79b84b83e9d73a10c01f8cf0d079f82f04', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 6, 'created': '2016-08-29 19:52:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea9f8e910cf7dcae4b554879025692915073ff9e', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 7, 'created': '2016-09-15 18:11:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c78f587a6d362f32c129f68db62266c72ddad44c', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 8, 'created': '2016-09-16 17:10:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6ea94bc5c968e0330f7484845e448ede1d149f64', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 9, 'created': '2017-01-09 21:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bdf98fb7c2fbc3302139909935f71c5362035c43', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}, {'number': 10, 'created': '2017-01-10 17:44:38.000000000', 'files': ['tempest/api/object_storage/test_discoverability.py', 'tempest/api/object_storage/test_account_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/08c2cf8255448165bdf27530f74b51a08eebc4f9', 'message': 'Swift Discoverability Validation\n\nAdded test cases to validate the Swift /info behavior, including\ntesting the behavior of using various methods (GET, HEAD,\nOPTIONS), and origin header behavior\n\nAlso removed a duplicate test in the account services module\n\nChange-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698\n'}]",11,306222,08c2cf8255448165bdf27530f74b51a08eebc4f9,46,14,10,20553,,,0,"Swift Discoverability Validation

Added test cases to validate the Swift /info behavior, including
testing the behavior of using various methods (GET, HEAD,
OPTIONS), and origin header behavior

Also removed a duplicate test in the account services module

Change-Id: Ie8d7ea6ba271edf3b65295a2e9210c50f8e66698
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/306222/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/object_storage/test_discoverability.py'],1,f20182335cbdfcdb6aa3fb3cfbf1525072c44439,swiftDiscoverability,"# Copyright (C) 2013 eNovance SAS <licensing@enovance.com> # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import hashlib import hmac import time from tempest.api.object_storage import base from tempest.common import custom_matchers from tempest.common.utils import data_utils from tempest.lib import exceptions as lib_exc from oslo_serialization import jsonutils as json from tempest import config from tempest import test CONF = config.CONF class DiscoverabilityTest(base.BaseObjectTest): def setUp(self): super(DiscoverabilityTest, self).setUp() # Allowing to us /info and not v1/info self.account_client.skip_path() def tearDown(self): super(DiscoverabilityTest, self).tearDown() def _validate_discoverability_resp_body(self, body): # Only validating the standard swift configuration # other object storage test cases should validate # their individual areas where applicable self.assertIsNotNone(body) self.assertIsNotNone(body['swift']) self.assertIsNotNone(body['swift']['max_file_size']) self.assertIsNotNone(body['swift']['account_listing_limit']) self.assertIsNotNone(body['swift']['account_autocreate']) self.assertIsNotNone(body['swift']['max_meta_count']) self.assertIsNotNone(body['swift']['max_meta_value_length']) self.assertIsNotNone(body['swift']['container_listing_limit']) self.assertIsNotNone(body['swift']['extra_header_count']) self.assertIsNotNone(body['swift']['max_meta_overall_size']) self.assertIsNotNone(body['swift']['max_meta_name_length']) self.assertIsNotNone(body['swift']['max_header_size']) self.assertIsNotNone(body['swift']['policies']) self.assertIsNotNone(body['swift']['max_object_name_length']) self.assertIsNotNone(body['swift']['max_account_name_length']) self.assertIsNotNone(body['swift']['strict_cors_mode']) self.assertIsNotNone(body['swift']['allow_account_management']) self.assertIsNotNone(body['swift']['max_container_name_length']) def _validate_discoverability_resp(self, method, resp, body): # The target of the request is not any Swift resource. Therefore, the # existence of response header is checked without a custom matcher. self.assertIn('content-length', resp) self.assertIn('content-type', resp) self.assertIn('x-trans-id', resp) self.assertIn('date', resp) self.assertThat(resp, custom_matchers.AreAllWellFormatted()) self.assertEqual(resp[""status""], '200') if (method == 'GET') or (method == 'HEAD'): self.assertEqual(resp['content-type'], 'application/json; charset=UTF-8') self.assertTrue(resp['content-length'] > '0') if (method == 'GET'): self._validate_discoverability_resp_body(body) elif (method == 'OPTIONS'): self.assertEqual(resp['content-type'], 'text/html; charset=UTF-8') self.assertTrue(resp['content-length'] == '0') @test.idempotent_id('9fa07533-04b0-4a99-8668-8b1ab8b8adb4') def test_discoverability_get(self): resp, body = self.account_client.list_extensions() self._validate_discoverability_resp('GET', resp, body) @test.idempotent_id('f081b236-ab7a-484b-9c1f-08fc9e04dd72') def test_discoverability_head(self): resp, body = self.account_client.head(""info"", {}) self._validate_discoverability_resp('HEAD', resp, body) @test.idempotent_id('e58cce0a-b422-4ffc-ab12-b75b5e8329fa') def test_discoverability_options(self): resp, body = self.account_client.request('OPTIONS', 'info') self._validate_discoverability_resp('OPTIONS', resp, body) self.assertEqual(resp['allow'], 'HEAD, GET, OPTIONS') @test.idempotent_id('7770907a-ad9b-4641-8d9d-c4bc13b13341') def test_discoverability_allow_origin(self): origin = ""http://www.example.com"" headers = {""Origin"": origin} resp, body = self.account_client.request('GET', 'info', headers=headers) body = json.loads(body) self._validate_discoverability_resp('GET', resp, body) self.assertEqual(resp['access-control-allow-origin'], origin) self.assertIn(resp['access-control-expose-headers'], 'x-trans-id') @test.attr(type=['negative']) @test.idempotent_id('b541aaaa-8a1e-49b3-973c-bc5a73d1a631') def test_discoverability_invalid_admin(self): # The status will be different if this functionality is # enabled or disabled, so checking for both cases try: resp, body = self.account_client.request('GET', 'info?swiftinfo_sig=\""bad\""&swiftinfo_expires=1') except lib_exc.Forbidden: self.assertTrue(True) except lib.exc.Unauthorized: self.assertTrue(True) except: self.assertTrue(False)",,127,0
openstack%2Fcookbook-openstack-client~master~Ic8080aaa02c79a65ba9c9c2c746eed8bbf840f25,openstack/cookbook-openstack-client,master,Ic8080aaa02c79a65ba9c9c2c746eed8bbf840f25,Moving IRC network reference to OFTC,MERGED,2021-07-08 13:13:32.000000000,2021-07-08 17:04:00.000000000,2021-07-08 17:04:00.000000000,"[{'_account_id': 21961}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 13:13:32.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/cookbook-openstack-client/commit/d05a3bfc7b468e6269cb3fb9b423e57ff7bebee3', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ic8080aaa02c79a65ba9c9c2c746eed8bbf840f25\n'}]",0,800038,d05a3bfc7b468e6269cb3fb9b423e57ff7bebee3,6,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ic8080aaa02c79a65ba9c9c2c746eed8bbf840f25
",git fetch https://review.opendev.org/openstack/cookbook-openstack-client refs/changes/38/800038/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,d05a3bfc7b468e6269cb3fb9b423e57ff7bebee3,oftc,if you have any questions about this book please go to `irc.oftc.net:#openstack-chef` or contact the [mailing-list](http://groups.google.com/group/opscode-chef-openstack).,if you have any questions about this book please go to `irc.freenode.net:#openstack-chef` or contact the [mailing-list](http://groups.google.com/group/opscode-chef-openstack).,1,1
openstack%2Fswift~master~I3baa278c6eaf488e3f390a936eebbec13f2c3e55,openstack/swift,master,I3baa278c6eaf488e3f390a936eebbec13f2c3e55,sharder: avoid small tail shards,MERGED,2021-06-03 12:46:25.000000000,2021-07-08 17:03:11.000000000,2021-07-08 17:00:52.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 12:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ac4325eb61e3d667863f0823fb84bb2f88c685ba', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 2, 'created': '2021-06-04 10:28:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ecb19c1f193734e85d3d63bd5231babe4aef5db4', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 3, 'created': '2021-06-24 13:40:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4b91dde2115c802bf7b4a9622501800de74aae9f', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows-per-shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 4, 'created': '2021-06-24 13:47:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/d13cb33eee48bb9c884f94868538c63eb198cdc9', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows-per-shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 5, 'created': '2021-06-24 14:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5923417b1442fd2a0921f574a53c228acc586bc2', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows-per-shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 6, 'created': '2021-06-28 09:48:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/fbd69228f4eade406aa77e6f03b90313913b2a0f', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows-per-shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 7, 'created': '2021-06-28 09:54:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/89fdce188f5efd8c04ac855c1f2ac644f3ff6866', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows-per-shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}, {'number': 8, 'created': '2021-07-07 12:59:57.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'test/probe/test_sharder.py', 'test/unit/container/test_backend.py', 'swift/container/sharder.py', 'swift/container/backend.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2a593174a5d74426e7e771fb65bc5ebd9de08c60', 'message': 'sharder: avoid small tail shards\n\nA container is typically sharded when it has grown to have an object\ncount of shard_container_threshold + N, where N <<\nshard_container_threshold.  If sharded using the default\nrows_per_shard of shard_container_threshold / 2 then this would\npreviously result in 3 shards: the tail shard would typically be\nsmall, having only N rows. This behaviour caused more shards to be\ngenerated than desirable.\n\nThis patch adds a minimum-shard-size option to\nswift-manage-shard-ranges, and a corresponding option in the sharder\nconfig, which can be used to avoid small tail shards. If set to\ngreater than one then the final shard range may be extended to more\nthan rows_per_shard in order to avoid a further shard range with less\nthan minimum-shard-size rows. In the example given, if\nminimum-shard-size is set to M > N then the container would shard into\ntwo shards having rows_per_shard rows and rows_per_shard + N\nrespectively.\n\nThe default value for minimum-shard-size is rows_per_shard // 5. If\nall options have their default values this results in\nminimum-shard-size being 100000.\n\nCloses-Bug: #1928370\nCo-Authored-By: Matthew Oliver <matt@oliver.net.au>\nChange-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55\n'}]",16,794582,2a593174a5d74426e7e771fb65bc5ebd9de08c60,51,5,8,7847,,,0,"sharder: avoid small tail shards

A container is typically sharded when it has grown to have an object
count of shard_container_threshold + N, where N <<
shard_container_threshold.  If sharded using the default
rows_per_shard of shard_container_threshold / 2 then this would
previously result in 3 shards: the tail shard would typically be
small, having only N rows. This behaviour caused more shards to be
generated than desirable.

This patch adds a minimum-shard-size option to
swift-manage-shard-ranges, and a corresponding option in the sharder
config, which can be used to avoid small tail shards. If set to
greater than one then the final shard range may be extended to more
than rows_per_shard in order to avoid a further shard range with less
than minimum-shard-size rows. In the example given, if
minimum-shard-size is set to M > N then the container would shard into
two shards having rows_per_shard rows and rows_per_shard + N
respectively.

The default value for minimum-shard-size is rows_per_shard // 5. If
all options have their default values this results in
minimum-shard-size being 100000.

Closes-Bug: #1928370
Co-Authored-By: Matthew Oliver <matt@oliver.net.au>
Change-Id: I3baa278c6eaf488e3f390a936eebbec13f2c3e55
",git fetch https://review.opendev.org/openstack/swift refs/changes/82/794582/8 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'doc/source/config/container_server_config.rst', 'test/probe/test_sharder.py', 'swift/container/sharder.py', 'test/unit/container/test_backend.py', 'swift/container/backend.py']",9,ac4325eb61e3d667863f0823fb84bb2f88c685ba,p-sharder-tiny-tail," def find_shard_ranges(self, shard_size, limit=-1, existing_ranges=None, minimum_shard_size=1): :param minimum_shard_size: Minimum size of the final shard range. If this is greater than one then the final shard range may be extended to more than shard_size in order to avoid a further shard range with less minimum_shard_size rows. minimum_shard_size = max(minimum_shard_size, 1) if shard_size + minimum_shard_size > object_count: if progress + shard_size + minimum_shard_size > object_count: # next shard point is within minimum_size rows of the final # object name, or beyond it, so don't bother with db query. # This shard will have <= shard_size + (minimum_size - 1) rows."," def find_shard_ranges(self, shard_size, limit=-1, existing_ranges=None): if shard_size >= object_count: if progress + shard_size >= object_count: # next shard point is at or beyond final object name so don't # bother with db query",217,21
openstack%2Ftempest~master~I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6,openstack/tempest,master,I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6,Add support for virtio-forwarder VNIC type,ABANDONED,2017-08-07 14:22:27.000000000,2021-07-08 16:49:17.000000000,,"[{'_account_id': 3}, {'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 25733}, {'_account_id': 26480}, {'_account_id': 26493}]","[{'number': 1, 'created': '2017-08-07 14:22:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/58f2352da56710f567024175f07582e7e3382f16', 'message': 'Add support for virtio-forwarder VNIC type\n\n* neutron-lib 1.9.0 gained support for the virtio-forwarder VNIC type.\n  This patch adds support to tempest for the virtio-forwarder VNIC\n  type.\n\n* Some tests for virtio-forwarder VNIC type should be skipped since\n  the virtio-forwarder VNIC type is derived from the SR-IOV types.\n\nChange-Id: I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6\nSigned-off-by: Nikolai de Figueiredo <nikolai.defigueiredo@netronome.com>\n'}, {'number': 2, 'created': '2017-08-24 10:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33a817c9255d4ed6cd496075d6ae844154a82fed', 'message': 'Add support for virtio-forwarder VNIC type\n\n* neutron-lib 1.9.0 gained support for the virtio-forwarder VNIC type.\n  This patch adds support to tempest for the virtio-forwarder VNIC\n  type.\n\n* Some tests for virtio-forwarder VNIC type should be skipped since\n  the virtio-forwarder VNIC type is derived from the SR-IOV types.\n\nChange-Id: I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6\nSigned-off-by: Nikolai de Figueiredo <nikolai.defigueiredo@netronome.com>\n'}, {'number': 3, 'created': '2017-08-24 14:25:46.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py', 'tempest/config.py', 'tempest/scenario/test_security_groups_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a765acae44c75fe171623bd1fab8cfdcd4ea4f5', 'message': 'Add support for virtio-forwarder VNIC type\n\n* neutron-lib 1.9.0 gained support for the virtio-forwarder VNIC type.\n  This patch adds support to tempest for the virtio-forwarder VNIC\n  type.\n\n* Some tests for virtio-forwarder VNIC type should be skipped since\n  the virtio-forwarder VNIC type is derived from the SR-IOV types.\n\nChange-Id: I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6\nSigned-off-by: Nikolai de Figueiredo <nikolai.defigueiredo@netronome.com>\n'}]",0,491502,1a765acae44c75fe171623bd1fab8cfdcd4ea4f5,23,9,3,11746,,,0,"Add support for virtio-forwarder VNIC type

* neutron-lib 1.9.0 gained support for the virtio-forwarder VNIC type.
  This patch adds support to tempest for the virtio-forwarder VNIC
  type.

* Some tests for virtio-forwarder VNIC type should be skipped since
  the virtio-forwarder VNIC type is derived from the SR-IOV types.

Change-Id: I02bda6febed1b0793c6c85a0b26d9b6fcfdc18d6
Signed-off-by: Nikolai de Figueiredo <nikolai.defigueiredo@netronome.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/02/491502/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/test_network_basic_ops.py', 'tempest/config.py', 'tempest/scenario/test_security_groups_basic_ops.py']",3,58f2352da56710f567024175f07582e7e3382f16,netronome-smartnic-enablement," if CONF.network.port_vnic_type in ['direct', 'macvtap', 'virtio-forwarder']: ' direct, macvtap or virtio-forwarder')"," if CONF.network.port_vnic_type in ['direct', 'macvtap']: ' direct or macvtap')",9,6
openstack%2Ftempest~master~I85dcaa444b427f5741d34b7c92056ba730243b18,openstack/tempest,master,I85dcaa444b427f5741d34b7c92056ba730243b18,Refactor test_add_list_remove_router_on_l3_agent test,ABANDONED,2016-10-11 12:07:15.000000000,2021-07-08 16:49:01.000000000,,"[{'_account_id': 7350}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 11869}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 23184}]","[{'number': 1, 'created': '2016-10-11 12:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/85576e28168f911279192ffc155c002543682064', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 2, 'created': '2016-10-11 13:49:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/530bc0b042b7ad7f914195983d99033c7d73d25f', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 3, 'created': '2016-11-01 14:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bb8095941e2033a77f6db7264f54b4527f310773', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 4, 'created': '2016-11-01 14:09:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/192d82e9ba39e4ea5247bab46d1dae94c62d2999', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 5, 'created': '2016-11-16 09:52:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f6e854e95fd2bc96a045e68ddaae08873e6f158', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 6, 'created': '2016-11-24 11:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/375b2ffbcd8d000c10d7308f638f6d49ffa7c129', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 7, 'created': '2017-05-23 10:13:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b182d58348f942f03eaa2bf5884c37e9d48a64de', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}, {'number': 8, 'created': '2017-06-19 08:34:23.000000000', 'files': ['tempest/api/network/admin/test_l3_agent_scheduler.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/cfd31f2f4dec323a349640826cac3245077cdc19', 'message': 'Refactor test_add_list_remove_router_on_l3_agent test\n\nChange-Id: I85dcaa444b427f5741d34b7c92056ba730243b18\n'}]",4,384961,cfd31f2f4dec323a349640826cac3245077cdc19,39,9,8,7428,,,0,"Refactor test_add_list_remove_router_on_l3_agent test

Change-Id: I85dcaa444b427f5741d34b7c92056ba730243b18
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/384961/8 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/admin/test_l3_agent_scheduler.py'],1,85576e28168f911279192ffc155c002543682064,," """"""Tests the following operations in the Neutron API: Add/list/remove router(s) to/on/from L3 agent. for agent in cls.admin_agents_client.list_agents()['agents']: agent_mode = agent['configurations'].get('agent_mode') if agent['agent_type'] == AGENT_TYPE and agent_mode in AGENT_MODES: cls.l3_agent = agent cls.router = cls.create_router(data_utils.rand_name('router')) # Add the router to the L3 agent self.l3_agent['id'], router_id=self.router['id']) # Check that the router is really added to the L3 agent l3_agents = self.admin_routers_client.list_l3_agents_hosting_router( self.router['id'])['agents'] self.assertIn(self.l3_agent['id'], [a['id'] for a in l3_agents]) # List routers that are hosted by the L3 agent self.admin_agents_client.list_routers_on_l3_agent(self.l3_agent['id']) # Remove the router from the L3 agent self.admin_agents_client.delete_router_from_l3_agent( self.l3_agent['id'], self.router['id']) # Check that the router is really removed from the L3 agent l3_agents = self.admin_routers_client.list_l3_agents_hosting_router( self.router['id'])['agents'] self.assertNotIn(self.l3_agent['id'], [a['id'] for a in l3_agents])"," _agent_mode = 'legacy' is_dvr_router = False """""" Tests the following operations in the Neutron API using the REST client for Neutron: List routers that the given L3 agent is hosting. Add and Remove Router to L3 agent body = cls.admin_agents_client.list_agents() agents = body['agents'] for agent in agents: # TODO(armax): falling back on default _agent_mode can be # dropped as soon as Icehouse is dropped. agent_mode = ( agent['configurations'].get('agent_mode', cls._agent_mode)) if agent['agent_type'] == AGENT_TYPE and agent_mode in AGENT_MODES: cls.agent = agent cls.router = cls.create_router(data_utils.rand_name('router')) @test.idempotent_id('b7ce6e89-e837-4ded-9b78-9ed3c9c6a45a') def test_list_routers_on_l3_agent(self): self.admin_agents_client.list_routers_on_l3_agent(self.agent['id']) l3_agent_ids = list() self.agent['id'], router_id=self.router['id']) body = ( self.admin_routers_client.list_l3_agents_hosting_router( self.router['id'])) for agent in body['agents']: l3_agent_ids.append(agent['id']) self.assertIn('agent_type', agent) self.assertEqual('L3 agent', agent['agent_type']) self.assertIn(self.agent['id'], l3_agent_ids) body = self.admin_agents_client.delete_router_from_l3_agent( self.agent['id'], self.router['id']) # NOTE(afazekas): The deletion not asserted, because neutron # is not forbidden to reschedule the router to the same agent",24,36
openstack%2Ftempest~master~Id337aa3182eab062bf6416ad932c0e53fb83f4c9,openstack/tempest,master,Id337aa3182eab062bf6416ad932c0e53fb83f4c9,Splitting clients into client groups in manager.py,ABANDONED,2015-12-07 12:27:46.000000000,2021-07-08 16:48:58.000000000,,"[{'_account_id': 1921}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 16425}, {'_account_id': 19226}, {'_account_id': 19499}]","[{'number': 1, 'created': '2015-12-07 12:27:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a331847cb779880bd33997fc3c96df4c86d2597a', 'message': 'Remove wrong comment\n\ndelete ""(in alphabetical order)"" in the comment\nclient is not defined in alphabetical order\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 2, 'created': '2015-12-08 08:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73d03c4bd816546499c3475608d2bfe3be56e3f7', 'message': 'Remove wrong comment\n\ndelete ""(in alphabetical order)"" in the comment\nsince client is not defined in alphabetical order\nchange comments to meaningful infos\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 3, 'created': '2015-12-10 03:42:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3c3037519dd461896be995e841792a7a1bbbc3e6', 'message': 'Remove wrong comment\n\ndelete ""(in alphabetical order)"" in the comment\nsince client is not defined in alphabetical order\nchange comments to meaningful infos\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 4, 'created': '2015-12-11 06:59:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2f836faf47282a3bc173f5b4e536946636869bc', 'message': 'Remove wrong comment\n\ndelete ""(in alphabetical order)"" in the comment\nsince client is not defined in alphabetical order\nchange comments to meaningful infos\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 5, 'created': '2015-12-13 13:10:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96e0099b40bf039bc92433056ab38f12e67db08b', 'message': 'Remove wrong comment\n\nSplit multi clients into clients groups, sucha as\nCinder clients, Nova clients.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\nClient groups and clients in each group will follow\nalphabetical order.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 6, 'created': '2015-12-15 01:51:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/780a76491ed2780677af8e94e72d0ca05e3af1a3', 'message': 'Splitting clients into client groups in manager.py\n\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\nClient groups and clients in each group will follow\nalphabetical order.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 7, 'created': '2015-12-16 03:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/963c4f721a5d072264638f8ae819f0a208858076', 'message': 'Splitting clients into client groups in manager.py\n\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\nClient groups and clients in each group will follow\nalphabetical order.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 8, 'created': '2015-12-21 07:01:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2f66e4773d64cf2fea1fb04f5286a1c9aa36499', 'message': 'Splitting clients into client groups in manager.py\n\nComment shows ""Clients (in alphabetical order)"", but it\'s not.\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nClient groups and clients in each group will follow\nalphabetical order.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 9, 'created': '2015-12-22 08:39:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/af4d03ee7cbc4b6bea5824e41076ec43b9c0333e', 'message': 'Splitting clients into client groups in manager.py\n\nComment shows ""Clients (in alphabetical order)"", but it\'s not.\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nClient groups and clients in each group will follow\nalphabetical order.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 10, 'created': '2016-01-07 05:41:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b3d70cf3b0ec922eea6e09ae024404ac44e2bb69', 'message': 'Splitting clients into client groups in manager.py\n\nComment shows ""Clients (in alphabetical order)"", but it\'s not.\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nClient groups and clients in each group will follow\nalphabetical order.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}, {'number': 11, 'created': '2016-01-08 02:40:56.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/db08cc7a8c0e9241c56018ef9fb3ad1dd4540258', 'message': 'Splitting clients into client groups in manager.py\n\nComment shows ""Clients (in alphabetical order)"", but it\'s not.\nSplit multi clients into clients groups, such as\nCinder clients, Nova clients, etc.\nClient groups and clients in each group will follow\nalphabetical order.\nIf need to add more clients, just need to add them to\ncorresponding clients, this structure will be more clear.\n\nChange-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9\n'}]",14,254160,db08cc7a8c0e9241c56018ef9fb3ad1dd4540258,69,9,11,19499,,,0,"Splitting clients into client groups in manager.py

Comment shows ""Clients (in alphabetical order)"", but it's not.
Split multi clients into clients groups, such as
Cinder clients, Nova clients, etc.
Client groups and clients in each group will follow
alphabetical order.
If need to add more clients, just need to add them to
corresponding clients, this structure will be more clear.

Change-Id: Id337aa3182eab062bf6416ad932c0e53fb83f4c9
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/254160/9 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,a331847cb779880bd33997fc3c96df4c86d2597a,felix_tempest_modify, # Clients, # Clients (in alphabetical order),1,1
openstack%2Ftempest~master~I68dd19bbb7c3b61b457910184e7505243af7d187,openstack/tempest,master,I68dd19bbb7c3b61b457910184e7505243af7d187,Add docstrings to volume_extensions_client,ABANDONED,2015-12-15 02:47:36.000000000,2021-07-08 16:48:55.000000000,,"[{'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 19226}]","[{'number': 1, 'created': '2015-12-15 02:47:36.000000000', 'files': ['tempest/services/volume/base/base_extensions_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f7cf96a0241d1ae9c9b0c0ed524097797f01bcb2', 'message': 'Add docstrings to volume_extensions_client\n\nPartially implements blueprint consistent-service-method-names\n\nChange-Id: I68dd19bbb7c3b61b457910184e7505243af7d187\n'}]",0,257655,f7cf96a0241d1ae9c9b0c0ed524097797f01bcb2,13,5,1,19226,,,0,"Add docstrings to volume_extensions_client

Partially implements blueprint consistent-service-method-names

Change-Id: I68dd19bbb7c3b61b457910184e7505243af7d187
",git fetch https://review.opendev.org/openstack/tempest refs/changes/55/257655/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/services/volume/base/base_extensions_client.py'],1,f7cf96a0241d1ae9c9b0c0ed524097797f01bcb2,bp/consistent-service-method-names," """"""List API extensions""""""",,1,0
openstack%2Ftempest~master~I53a390949bb1f8bf16dc44aa742eaa8ef5291a55,openstack/tempest,master,I53a390949bb1f8bf16dc44aa742eaa8ef5291a55,Implement list_manageable for snapshot/volume manage,ABANDONED,2017-05-07 16:35:53.000000000,2021-07-08 16:48:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12033}, {'_account_id': 20190}, {'_account_id': 23081}, {'_account_id': 23186}]","[{'number': 1, 'created': '2017-05-07 16:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1a8f7041b8e18e45f394a85bfc1d111291a3ec4d', 'message': '[WIP] Implement list_manageable for snapshot/volume manage\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 2, 'created': '2017-05-07 21:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e12fdcbb7b8e4cd816398e640496219952d2ffdd', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable`` endpoint to the\n``snapshot_manage_client`` and the ``volume_manage_client``.\nEven though there is currently no API documentation for\nthese API endpoints, the Cinder CLI contains information\nfor both via ""cinder manageable-list"" (for volumes)\nand ""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable`` functionality for both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for ``list_manageable``\nas well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 3, 'created': '2017-05-08 00:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e37595453ba6e7a3890771e66ad00606ba7f184', 'message': '[WIP] Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable`` endpoint to the\n``snapshot_manage_client`` and the ``volume_manage_client``.\nEven though there is currently no API documentation for\nthese API endpoints, the Cinder CLI contains information\nfor both via ""cinder manageable-list"" (for volumes)\nand ""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable`` functionality for both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for ``list_manageable``\nas well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 4, 'created': '2017-05-10 23:10:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6bf0bfa0bec3ac9b34e340900431cc96be2b31e5', 'message': '[WIP] Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 5, 'created': '2017-05-11 02:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/10a33ba838894129e8d5caf9db9e8535f1e2e61c', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 6, 'created': '2017-05-12 18:31:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e2bd46bf6b071f6432db1d5915a238e7a406652', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 7, 'created': '2017-06-13 21:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/00c6bc88b7a816e073dd1d543667347ffbe9660a', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 8, 'created': '2017-06-17 00:27:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/96494dc55fb0d56630ff13013eab3d87cbe7e2ce', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 9, 'created': '2017-06-17 04:07:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/bca00b37bda6bae6571967d2ede0e4625fb86fc1', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}, {'number': 10, 'created': '2017-06-17 04:08:20.000000000', 'files': ['tempest/api/volume/admin/test_volume_manage.py', 'tempest/tests/lib/services/volume/v2/test_snapshot_manage_client.py', 'tempest/tests/lib/services/volume/v2/test_volume_manage_client.py', 'tempest/api/volume/admin/test_snapshot_manage.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'releasenotes/notes/add-volume-snapshot-list-manageable-dfa0c27b9cb2ec6c.yaml', 'tempest/lib/services/volume/v2/volume_manage_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/69f48b734878dbe927dc86b30b2fb441635b2670', 'message': 'Implement list_manageable for snapshot/volume manage\n\nThis patch adds the ``list_manageable_(snapshots|volumes)``\nendpoint to the ``snapshot_manage_client`` and the\n``volume_manage_client``. Even though there is currently\nno API documentation for these API endpoints, the\nCinder CLI contains information for both via\n""cinder manageable-list"" (for volumes) and\n""cinder snapshot-manageable-list"" (for snapshots).\n\nThis patch also extends existing API tests to test the\n``list_manageable_(snapshots|volumes)`` functionality\nfor both APIs.\n\nFinally, this patch implements unit tests for\n``snapshot_manage_client`` and ``volume_manage_client``\nsince neither client has unit tests, even though they\nboth belong to Tempest\'s stable client library. This\nchange includes unit tests for\n``list_manageable_(snapshots|volumes)`` as well.\n\nChange-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55\n'}]",11,463153,69f48b734878dbe927dc86b30b2fb441635b2670,57,6,10,23186,,,0,"Implement list_manageable for snapshot/volume manage

This patch adds the ``list_manageable_(snapshots|volumes)``
endpoint to the ``snapshot_manage_client`` and the
``volume_manage_client``. Even though there is currently
no API documentation for these API endpoints, the
Cinder CLI contains information for both via
""cinder manageable-list"" (for volumes) and
""cinder snapshot-manageable-list"" (for snapshots).

This patch also extends existing API tests to test the
``list_manageable_(snapshots|volumes)`` functionality
for both APIs.

Finally, this patch implements unit tests for
``snapshot_manage_client`` and ``volume_manage_client``
since neither client has unit tests, even though they
both belong to Tempest's stable client library. This
change includes unit tests for
``list_manageable_(snapshots|volumes)`` as well.

Change-Id: I53a390949bb1f8bf16dc44aa742eaa8ef5291a55
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/463153/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/volume/admin/test_volume_manage.py', 'tempest/tests/lib/services/volume/v2/test_snapshot_manage_client.py', 'tempest/tests/lib/services/volume/v2/test_volume_manage_client.py', 'tempest/api/volume/admin/test_snapshot_manage.py', 'tempest/lib/services/volume/v2/snapshot_manage_client.py', 'tempest/lib/services/volume/v2/volume_manage_client.py']",6,1a8f7041b8e18e45f394a85bfc1d111291a3ec4d,list_manageable,"from six.moves.urllib import parse as urllib def list_manageable(self, detail=False, **params): """"""Returns a summary list of volumes available to manage. :param detail: If True, returns detailed list of volumes available to manage. """""" url = 'os-volume-manage' if detail: url += '/detail' if params: url += '?%s' % urllib.urlencode(params) resp, body = self.get(url, None) self.expected_success(200, resp.status) body = json.loads(body) return rest_client.ResponseBody(resp, body)",,440,0
openstack%2Ftempest~master~If178f9d91351cfd4413d23b8078af03e6d8c31d6,openstack/tempest,master,If178f9d91351cfd4413d23b8078af03e6d8c31d6,Replace six.iteritems() with .items(),ABANDONED,2017-06-29 10:26:27.000000000,2021-07-08 16:48:49.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 25903}, {'_account_id': 26072}]","[{'number': 1, 'created': '2017-06-29 10:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6b62d6da92cc5749cd4d1aaf8c3aea95157202ce', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: If178f9d91351cfd4413d23b8078af03e6d8c31d6\n'}, {'number': 2, 'created': '2017-07-05 12:12:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/578be4f77b93ac0135cc61dacd85c8a7735220b4', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: If178f9d91351cfd4413d23b8078af03e6d8c31d6\n'}, {'number': 3, 'created': '2017-07-06 05:08:35.000000000', 'files': ['tempest/lib/common/rest_client.py', 'tempest/tests/lib/common/test_rest_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/085916e1103a481d3e7bfcb6dea858b7da804cba', 'message': 'Replace six.iteritems() with .items()\n\n1.As mentioned in [1], we should avoid using six.iteritems to achieve\niterators. We can use dict.items instead, as it will return iterators\nin PY3 as well. And dict.items/keys will more readable.\n2.In py2, the performance about list should be negligible, see the\nlink [2].\n[1] https://wiki.openstack.org/wiki/Python3\n[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html\n\nChange-Id: If178f9d91351cfd4413d23b8078af03e6d8c31d6\n'}]",0,478850,085916e1103a481d3e7bfcb6dea858b7da804cba,14,4,3,21204,,,0,"Replace six.iteritems() with .items()

1.As mentioned in [1], we should avoid using six.iteritems to achieve
iterators. We can use dict.items instead, as it will return iterators
in PY3 as well. And dict.items/keys will more readable.
2.In py2, the performance about list should be negligible, see the
link [2].
[1] https://wiki.openstack.org/wiki/Python3
[2] http://lists.openstack.org/pipermail/openstack-dev/2015-June/066391.html

Change-Id: If178f9d91351cfd4413d23b8078af03e6d8c31d6
",git fetch https://review.opendev.org/openstack/tempest refs/changes/50/478850/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/rest_client.py', 'tempest/tests/lib/common/test_rest_client.py']",2,6b62d6da92cc5749cd4d1aaf8c3aea95157202ce,six.iteritems," resp = dict((k.lower(), v) for k, v in resp.item())","import six resp = dict((k.lower(), v) for k, v in six.iteritems(resp))",2,5
openstack%2Ftempest~master~Iac0d48c1e972e378b95122dfb74094bfa5c5fea4,openstack/tempest,master,Iac0d48c1e972e378b95122dfb74094bfa5c5fea4,WIP - Skip network cleanup if server delete fails,ABANDONED,2017-06-24 11:10:32.000000000,2021-07-08 16:48:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2017-06-24 11:10:32.000000000', 'files': ['tempest/api/compute/base.py', 'tempest/api/compute/servers/test_device_tagging.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2f6d61d9b2d1fb8b5c6c8a9364c62207036f7474', 'message': 'WIP - Skip network cleanup if server delete fails\n\nChange-Id: Iac0d48c1e972e378b95122dfb74094bfa5c5fea4\n'}]",0,477089,2f6d61d9b2d1fb8b5c6c8a9364c62207036f7474,6,2,1,20734,,,0,"WIP - Skip network cleanup if server delete fails

Change-Id: Iac0d48c1e972e378b95122dfb74094bfa5c5fea4
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/477089/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/base.py', 'tempest/api/compute/servers/test_device_tagging.py']",2,2f6d61d9b2d1fb8b5c6c8a9364c62207036f7474,cleanup," try: server = self.create_test_server( validatable=True, config_drive=config_drive_enabled, adminPass=admin_pass, name=data_utils.rand_name('device-tagging-server'), networks=[ # Validation network for ssh { 'uuid': self.get_tenant_network()['id'] }, # Different tags for different ports { 'port': self.port1['id'], 'tag': 'port-1' }, { 'port': self.port2['id'], 'tag': 'port-2' }, # Two nics on same net, one tagged one not { 'uuid': net1['id'], 'tag': 'net-1' }, { 'uuid': net1['id'] }, # Two nics on same net, different IP { 'uuid': net2['id'], 'fixed_ip': '10.2.2.100', 'tag': 'net-2-100' },ls { 'uuid': net2['id'], 'fixed_ip': '10.2.2.200', 'tag': 'net-2-200' } ], block_device_mapping_v2=[ # Boot volume { 'uuid': boot_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'tag': 'boot' }, # Other volume { 'uuid': other_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 1, 'tag': 'other' }, # Untagged volume { 'uuid': untagged_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 2 } ]) self.addCleanup(self.delete_server, server['id']) self.addCleanup(self.networks_client.delete_network, net1['id']) self.addCleanup(self.networks_client.delete_network, net2['id']) self.addCleanup(self.subnets_client.delete_subnet, subnet1['id']) self.addCleanup(self.subnets_client.delete_subnet, subnet2['id']) self.addCleanup(self.ports_client.delete_port, self.port1['id']) self.addCleanup(self.ports_client.delete_port, self.port2['id']) except Exception as e: if (e.message == (""Deleting server ""+server['id']+"" failed"")): LOG.exception(""Deleting server %s failed. "" ""Would not attempt cleanup. "" server['id']) "," self.addCleanup(self.networks_client.delete_network, net1['id']) self.addCleanup(self.networks_client.delete_network, net2['id']) self.addCleanup(self.subnets_client.delete_subnet, subnet1['id']) self.addCleanup(self.subnets_client.delete_subnet, subnet2['id']) self.addCleanup(self.ports_client.delete_port, self.port1['id']) self.addCleanup(self.ports_client.delete_port, self.port2['id']) server = self.create_test_server( validatable=True, config_drive=config_drive_enabled, adminPass=admin_pass, name=data_utils.rand_name('device-tagging-server'), networks=[ # Validation network for ssh { 'uuid': self.get_tenant_network()['id'] }, # Different tags for different ports { 'port': self.port1['id'], 'tag': 'port-1' }, { 'port': self.port2['id'], 'tag': 'port-2' }, # Two nics on same net, one tagged one not { 'uuid': net1['id'], 'tag': 'net-1' }, { 'uuid': net1['id'] }, # Two nics on same net, different IP { 'uuid': net2['id'], 'fixed_ip': '10.2.2.100', 'tag': 'net-2-100' }, { 'uuid': net2['id'], 'fixed_ip': '10.2.2.200', 'tag': 'net-2-200' } ], block_device_mapping_v2=[ # Boot volume { 'uuid': boot_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 0, 'tag': 'boot' }, # Other volume { 'uuid': other_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 1, 'tag': 'other' }, # Untagged volume { 'uuid': untagged_volume['id'], 'source_type': 'volume', 'destination_type': 'volume', 'boot_index': 2 } ]) self.addCleanup(self.delete_server, server['id'])",86,82
openstack%2Ftempest~master~I29a8c37e0063275a3c452cb17c33dc78be202cea,openstack/tempest,master,I29a8c37e0063275a3c452cb17c33dc78be202cea,Refactor test_live_migration,ABANDONED,2017-03-28 07:05:43.000000000,2021-07-08 16:48:41.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 18339}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-03-28 07:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b46cf55844015e285e227eabbe25857449a50583', 'message': 'Refactor test_live_migration\n\nMoving common code to base class and then derive LiveBlockMigrationTestJSON\nfrom it to avoid redundant execution of test cases when new microversion\ntest classes are introduced.\n\nChange-Id: I29a8c37e0063275a3c452cb17c33dc78be202cea\nImplements: blueprint live-migrate-rescued-instances\n'}, {'number': 2, 'created': '2017-03-28 07:08:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73e5d911d1ee1154943b00a9fbf3cd63bd80d79c', 'message': 'Refactor test_live_migration\n\nMoving common code to base class and then derive LiveBlockMigrationTestJSON\nfrom it to avoid redundant execution of test cases when new microversion\ntest classes are introduced.\n\nChange-Id: I29a8c37e0063275a3c452cb17c33dc78be202cea\nImplements: blueprint live-migrate-rescued-instances\n'}, {'number': 3, 'created': '2017-03-29 08:32:10.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/27c9c88d01f537c4c583be831b1d98fdf355dcae', 'message': 'Refactor test_live_migration\n\nMoving common code to base class and then derive LiveBlockMigrationTestJSON\nfrom it to avoid redundant execution of test cases when new microversion\ntest classes are introduced.\n\nChange-Id: I29a8c37e0063275a3c452cb17c33dc78be202cea\nImplements: blueprint live-migrate-rescued-instances\n'}]",0,450588,27c9c88d01f537c4c583be831b1d98fdf355dcae,15,5,3,18339,,,0,"Refactor test_live_migration

Moving common code to base class and then derive LiveBlockMigrationTestJSON
from it to avoid redundant execution of test cases when new microversion
test classes are introduced.

Change-Id: I29a8c37e0063275a3c452cb17c33dc78be202cea
Implements: blueprint live-migrate-rescued-instances
",git fetch https://review.opendev.org/openstack/tempest refs/changes/88/450588/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,b46cf55844015e285e227eabbe25857449a50583,bp/live-migrate-rescued-instances,"class BaseLiveBlockMigrationTest(base.BaseV2ComputeAdminTest): super(BaseLiveBlockMigrationTest, cls).skip_checks() super(BaseLiveBlockMigrationTest, cls).setup_clients()class LiveBlockMigrationTestJSON(BaseLiveBlockMigrationTest): max_microversion = '2.24' block_migration = None "," class LiveBlockMigrationTestJSON(base.BaseV2ComputeAdminTest): max_microversion = '2.24' block_migration = None super(LiveBlockMigrationTestJSON, cls).skip_checks() super(LiveBlockMigrationTestJSON, cls).setup_clients()",7,6
openstack%2Ftempest~master~If839aa2e564f2b7e80e5c62735df89e121074499,openstack/tempest,master,If839aa2e564f2b7e80e5c62735df89e121074499,Verify volume update_at flag when volume update,ABANDONED,2017-03-29 09:04:41.000000000,2021-07-08 16:48:37.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 15941}, {'_account_id': 20190}, {'_account_id': 22696}, {'_account_id': 23003}]","[{'number': 1, 'created': '2017-03-29 09:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/33f1531ae4e031c4110aa49e71284d34585c2f8c', 'message': 'Verify volume update_at flag when volume update\n\nThis test verify that:\n- updated_at flag is not none after volume in available state\n- When volume get changed the updated_at flag is not none\n- When volume get changed the updated_at flag  timestamp is changed\n\nChange-Id: If839aa2e564f2b7e80e5c62735df89e121074499\n'}, {'number': 2, 'created': '2017-03-30 05:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f81ef6fd571f06afb5256e20563d18254fbce4fc', 'message': 'Verify volume update_at flag when volume update\n\nThis test verify that:\n- updated_at flag is not none after volume in available state\n- When volume get changed the updated_at flag is not none\n- When volume get changed the updated_at flag  timestamp is changed\n\nChange-Id: If839aa2e564f2b7e80e5c62735df89e121074499\n'}, {'number': 3, 'created': '2017-04-03 09:01:26.000000000', 'files': ['tempest/api/volume/test_volumes_get.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/de57891a8913cd954bfe0afd47063b3ebdc43ec8', 'message': 'Verify volume update_at flag when volume update\n\nThis test verify that:\n- updated_at flag is not none after volume in available state\n- When volume get changed the updated_at flag is not none\n- When volume get changed the updated_at flag  timestamp is changed\n\nChange-Id: If839aa2e564f2b7e80e5c62735df89e121074499\n'}]",5,451258,de57891a8913cd954bfe0afd47063b3ebdc43ec8,34,8,3,11075,,,0,"Verify volume update_at flag when volume update

This test verify that:
- updated_at flag is not none after volume in available state
- When volume get changed the updated_at flag is not none
- When volume get changed the updated_at flag  timestamp is changed

Change-Id: If839aa2e564f2b7e80e5c62735df89e121074499
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/451258/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_get.py'],1,33f1531ae4e031c4110aa49e71284d34585c2f8c,cinder_updated_flag," volume_update_at = self.volumes_client.show_volume( volume['id'])['volume']['updated_at'] self.assertIsNotNone(volume_update_at, 'update_at is none') self.assertIsNotNone(updated_volume['updated_at'], 'update_at is none') self.assertNotEqual(updated_volume['updated_at'], volume_update_at)",,6,1
openstack%2Ftempest~master~I5635fe543ee1a880bf26d356a5e9bf373c071f7c,openstack/tempest,master,I5635fe543ee1a880bf26d356a5e9bf373c071f7c,Boot an instance with larger allowed swap size,ABANDONED,2017-03-02 11:39:32.000000000,2021-07-08 16:48:33.000000000,,"[{'_account_id': 5803}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 10644}, {'_account_id': 11075}, {'_account_id': 20190}, {'_account_id': 22833}, {'_account_id': 23003}]","[{'number': 1, 'created': '2017-03-02 11:39:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/69772c96aa18f4e34056fa4d15f0e333219a4867', 'message': 'Boot an instance with larger allowed swap size\n\nThis test case is a negative test.\nThe default swap size is zero.\n\nTrying to boot instance with swap size larger than allowed by flavor\n\nChange-Id: I5635fe543ee1a880bf26d356a5e9bf373c071f7c\n'}, {'number': 2, 'created': '2017-03-06 09:31:29.000000000', 'files': ['tempest/api/compute/flavors/test_flavors_negative.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/161ef4cb22eb758a09a0d04fc6cf6b42e73658f8', 'message': 'Boot an instance with larger allowed swap size\n\nThis test case is a negative test.\nThe default swap size is zero.\n\nTrying to boot instance with swap size larger than allowed by flavor\n\nChange-Id: I5635fe543ee1a880bf26d356a5e9bf373c071f7c\n'}]",3,440371,161ef4cb22eb758a09a0d04fc6cf6b42e73658f8,16,9,2,11075,,,0,"Boot an instance with larger allowed swap size

This test case is a negative test.
The default swap size is zero.

Trying to boot instance with swap size larger than allowed by flavor

Change-Id: I5635fe543ee1a880bf26d356a5e9bf373c071f7c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/440371/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/flavors/test_flavors_negative.py'],1,69772c96aa18f4e34056fa4d15f0e333219a4867,larger_swap," @test.attr(type=['negative']) @test.services('image') @decorators.idempotent_id('f3d000e0-62db-45e1-a8b2-747668847ca8') def test_boot_with_larger_swap(self): """"""Try to boot a flavor with swap larger than instance allows"""""" flavor = self.flavors_client.show_flavor( CONF.compute.flavor_ref)['flavor'] # default swap is empty equal to 0 . swap_size = 0 if len(flavor['swap']) != 0: swap_size = flavor['swap'] bmap = [{""source_type"": ""image"", ""delete_on_termination"": 'true', ""boot_index"": 0, ""uuid"": CONF.compute.image_ref, ""destination_type"": ""local""}, {""guest_format"": ""swap"", ""boot_index"": -1, ""volume_size"": swap_size + 1, ""source_type"": ""blank"", ""destination_type"": ""local"", ""delete_on_termination"": 'true'}] self.assertRaisesRegexp(lib_exc.BadRequest, ""Swap drive requested is larger than "" ""instance type allows."", self.create_test_server, flavor=flavor['id'], block_device_mapping_v2=bmap)",,25,0
openstack%2Ftempest~master~I34801dd444f1d07dc36fc61202e4155fd4e85999,openstack/tempest,master,I34801dd444f1d07dc36fc61202e4155fd4e85999,Add ipv6-pd test configuration,ABANDONED,2017-04-03 02:05:13.000000000,2021-07-08 16:48:27.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 15941}]","[{'number': 1, 'created': '2017-04-03 02:05:13.000000000', 'files': ['tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/440919b62342c377267d6ce5bbf639c6d0744d53', 'message': 'Add ipv6-pd test configuration\n\nrelated change:\nhttps://review.openstack.org/#/c/450353\n\nChange-Id: I34801dd444f1d07dc36fc61202e4155fd4e85999\n'}]",0,452583,440919b62342c377267d6ce5bbf639c6d0744d53,7,3,1,12906,,,0,"Add ipv6-pd test configuration

related change:
https://review.openstack.org/#/c/450353

Change-Id: I34801dd444f1d07dc36fc61202e4155fd4e85999
",git fetch https://review.opendev.org/openstack/tempest refs/changes/83/452583/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/config.py'],1,440919b62342c377267d6ce5bbf639c6d0744d53,ipv6-pd-testing," 'which is not supported anymore.'), cfg.BoolOpt('ipv6_pd_enabled', default=False, help=""Whether or not the environment has ipv6 prefix "" ""delegation dhcp support. Default DHCP pd server is"" "" dibbler""), cfg.BoolOpt('ipv6_pd_attributes', default={ 'prefixs': '2222:2222:2222:' }, help=""Attributes related to ipv6 prefix delegation"" "" configuration."")", 'which is not supported anymore.'),14,1
openstack%2Ftempest~master~I5e721ca972ccf388119fc09cdd72ac195e0f91fe,openstack/tempest,master,I5e721ca972ccf388119fc09cdd72ac195e0f91fe,Verify host_status when instance created by admin,ABANDONED,2017-03-30 06:12:46.000000000,2021-07-08 16:48:23.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 20190}]","[{'number': 1, 'created': '2017-03-30 06:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0eab1c93082d21de3bf24f6e3f16a02b34222809', 'message': 'Verify host_status when instance created by admin\n\nA new host_status field will be added to the servers/ detail\nhost_status will be UP if nova-computes state is up\n\nhttps://specs.openstack.org/openstack/nova-specs/specs/mitaka/\nimplemented/get-valid-server-state.html\n\nChange-Id: I5e721ca972ccf388119fc09cdd72ac195e0f91fe\n'}, {'number': 2, 'created': '2017-03-30 09:01:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/84090f374206ceea291ebb7dc3f67236a846546b', 'message': 'Verify host_status when instance created by admin\n\nA new host_status field will be added to the servers/ detail\nhost_status will be UP if nova-computes state is up\n\nhttps://specs.openstack.org/openstack/nova-specs/specs/mitaka/\nimplemented/get-valid-server-state.html\n\nAdded a new class with min_microversion 2.16\nAdd to create_test_server a clients parameter , to accecpt admin\nmanager.\n\nChange-Id: I5e721ca972ccf388119fc09cdd72ac195e0f91fe\n'}, {'number': 3, 'created': '2017-03-30 09:05:07.000000000', 'files': ['tempest/api/compute/admin/test_servers_host_status.py', 'tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c191cf41b13dca0940bf64d1a28e8a399e160c20', 'message': 'Verify host_status when instance created by admin\n\nA new host_status field will be added to the servers/ detail\nhost_status will be UP if nova-computes state is up\n\nhttps://specs.openstack.org/openstack/nova-specs/specs/mitaka/\nimplemented/get-valid-server-state.html\n\nAdded a new class with min_microversion 2.16\nAdd to create_test_server a clients parameter , to accecpt admin\nmanager.\n\nChange-Id: I5e721ca972ccf388119fc09cdd72ac195e0f91fe\n'}]",0,451660,c191cf41b13dca0940bf64d1a28e8a399e160c20,15,4,3,11075,,,0,"Verify host_status when instance created by admin

A new host_status field will be added to the servers/ detail
host_status will be UP if nova-computes state is up

https://specs.openstack.org/openstack/nova-specs/specs/mitaka/
implemented/get-valid-server-state.html

Added a new class with min_microversion 2.16
Add to create_test_server a clients parameter , to accecpt admin
manager.

Change-Id: I5e721ca972ccf388119fc09cdd72ac195e0f91fe
",git fetch https://review.opendev.org/openstack/tempest refs/changes/60/451660/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_servers.py'],1,0eab1c93082d21de3bf24f6e3f16a02b34222809,service_host_status," self.assertEqual(server['host_status'], 'UP')",,1,0
openstack%2Ftempest~master~If005f159dd5f4356c5663a018bbef228acd77f1c,openstack/tempest,master,If005f159dd5f4356c5663a018bbef228acd77f1c,Add support for volume manageable list,ABANDONED,2017-03-27 11:42:26.000000000,2021-07-08 16:48:19.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 19339}]","[{'number': 1, 'created': '2017-03-27 11:42:26.000000000', 'files': ['tempest/lib/services/volume/v2/volumes_client.py', 'tempest/api/volume/admin/test_volume_manage_list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7041605a06dbd8fe61366d78ae85b668f0bdc8e7', 'message': 'Add support for volume manageable list\n\nAdded API support and a test case .\n\nChange-Id: If005f159dd5f4356c5663a018bbef228acd77f1c\n'}]",0,450175,7041605a06dbd8fe61366d78ae85b668f0bdc8e7,7,3,1,11075,,,0,"Add support for volume manageable list

Added API support and a test case .

Change-Id: If005f159dd5f4356c5663a018bbef228acd77f1c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/75/450175/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/services/volume/v2/volumes_client.py', 'tempest/api/volume/admin/test_volume_manage_list.py']",2,7041605a06dbd8fe61366d78ae85b668f0bdc8e7,,"# Copyright 2017 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.api.volume import base from tempest import config from tempest.lib import decorators CONF = config.CONF class VolumesV2ManageList(base.BaseVolumeAdminTest): def _show_volume_manageable_by(self, host, **param): return self.admin_volume_client.show_volume_manageable( host, **param)['manageable-volumes'] @classmethod def resource_setup(cls): super(VolumesV2ManageList, cls).resource_setup() # Create a shared volume for tests cls.volume = cls.create_volume() cls.volume_host = cls.admin_volume_client.show_volume( cls.volume['id'])['volume']['os-vol-host-attr:host'] @decorators.idempotent_id('8e943f53-e9d6-4272-b2e9-adcf2f7c29ad') def test_show_volume_manageable_list_by_host(self): # get volume manageable_list by host only volume_manage_list = self._show_volume_manageable_by(self.volume_host) # verify volume name exists self.assertIn(""volume-"" + self.volume['id'], map(lambda x: x['reference']['source-name'], volume_manage_list)) ",,56,0
openstack%2Ftempest~master~I35ee331cc2806dde22a41e0f2c0aeaa7a10554be,openstack/tempest,master,I35ee331cc2806dde22a41e0f2c0aeaa7a10554be,Add V3 volumes_client and some tests,ABANDONED,2016-11-25 09:41:57.000000000,2021-07-08 16:48:17.000000000,,"[{'_account_id': 1921}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}]","[{'number': 1, 'created': '2016-11-25 09:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1974945290b2bfea100297885fc2663729cd1a40', 'message': 'Add V3 volumes_client and some tests\n\nAs in the [doc]:\nhttp://developer.openstack.org/api-ref/block-storage/v3/index.html\n\nWe have V3 api for block-storage, this is to add v3 volumes_client.\n\nChange-Id: I35ee331cc2806dde22a41e0f2c0aeaa7a10554be\n'}, {'number': 2, 'created': '2016-11-25 11:44:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3fa92a47b04b5b1db77132afb7230f2ca2d71d13', 'message': 'Add V3 volumes_client and some tests\n\nAs in the [doc]:\nhttp://developer.openstack.org/api-ref/block-storage/v3/index.html\n\nWe have V3 api for block-storage, this is to add v3 volumes_client.\n\nChange-Id: I35ee331cc2806dde22a41e0f2c0aeaa7a10554be\n'}, {'number': 3, 'created': '2016-11-29 06:36:16.000000000', 'files': ['tempest/clients.py', 'tempest/lib/services/volume/v3/volumes_client.py', 'tempest/lib/services/volume/v3/__init__.py', 'tempest/api/volume/base.py', 'releasenotes/notes/add-block-storage-v3-apis-cd610cb2c102487c.yaml', 'tempest/api/volume/test_volumes_get.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/951834bc6086750fdf819d6c7ba2d03770f20807', 'message': 'Add V3 volumes_client and some tests\n\nAs in the [doc]:\nhttp://developer.openstack.org/api-ref/block-storage/v3/index.html\n\nWe have V3 api for block-storage, this is to add v3 volumes_client.\n\nChange-Id: I35ee331cc2806dde22a41e0f2c0aeaa7a10554be\n'}]",0,402380,951834bc6086750fdf819d6c7ba2d03770f20807,16,4,3,22692,,,0,"Add V3 volumes_client and some tests

As in the [doc]:
http://developer.openstack.org/api-ref/block-storage/v3/index.html

We have V3 api for block-storage, this is to add v3 volumes_client.

Change-Id: I35ee331cc2806dde22a41e0f2c0aeaa7a10554be
",git fetch https://review.opendev.org/openstack/tempest refs/changes/80/402380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/clients.py', 'tempest/services/volume/v3/json/volumes_client.py', 'tempest/api/volume/base.py', 'releasenotes/notes/add-block-storage-v3-apis-cd610cb2c102487c.yaml', 'tempest/api/volume/test_volumes_get.py', 'tempest/services/volume/v3/__init__.py']",6,1974945290b2bfea100297885fc2663729cd1a40,v3_volumeclient,"from tempest.services.volume.v3.json.volumes_client import VolumesClient __all__ = ['MessagesClient', 'VolumesClient']", __all__ = ['MessagesClient'],244,2
openstack%2Ftempest~master~Icb81891101cecb54aaa686cdb56b79bd1726ab62,openstack/tempest,master,Icb81891101cecb54aaa686cdb56b79bd1726ab62,Added live-migration scenario with connectivity,ABANDONED,2016-03-03 12:23:51.000000000,2021-07-08 16:48:14.000000000,,"[{'_account_id': 5689}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 16437}, {'_account_id': 18641}]","[{'number': 1, 'created': '2016-03-03 12:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/462674b300b2ea420363e3369f1a54f4731e68f6', 'message': 'Added new test-case for live-migration\n\nChange-Id: Icb81891101cecb54aaa686cdb56b79bd1726ab62\n'}, {'number': 2, 'created': '2016-03-03 12:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/47f139e8c30f7a2c32e5ea405471193ee47b6113', 'message': 'Added new test-case for live-migration\n\nChange-Id: Icb81891101cecb54aaa686cdb56b79bd1726ab62\n'}, {'number': 3, 'created': '2016-03-21 11:11:27.000000000', 'files': ['tempest/scenario/test_connectivity_during_live_migration.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1344f1f8009d16768073b01715f09df82e007a25', 'message': 'Added live-migration scenario with connectivity\n\nObjective of the scenario is to verify VM connectivity before,\nduring and after live-migration.\n\nChange-Id: Icb81891101cecb54aaa686cdb56b79bd1726ab62\n'}]",3,287757,1344f1f8009d16768073b01715f09df82e007a25,25,8,3,20386,,,0,"Added live-migration scenario with connectivity

Objective of the scenario is to verify VM connectivity before,
during and after live-migration.

Change-Id: Icb81891101cecb54aaa686cdb56b79bd1726ab62
",git fetch https://review.opendev.org/openstack/tempest refs/changes/57/287757/3 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/config.py', 'tempest/api/compute/admin/test_connectivity_during_live_migration.py']",2,462674b300b2ea420363e3369f1a54f4731e68f6,live_migration,"# Copyright 2012 OpenStack Foundation # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import collections import os from oslo_log import log as logging import re import subprocess from tempest.api.compute import base from tempest.common.utils import data_utils from tempest.common import waiters from tempest import config from tempest import exceptions from tempest.scenario import manager from tempest.services.network import resources as net_resources from tempest import test CONF = config.CONF LOG = logging.getLogger(__name__) Floating_IP_tuple = collections.namedtuple('Floating_IP_tuple', ['floating_ip', 'server']) class TestConnectivityDuringLiveMigration(manager.NetworkScenarioTest, base.BaseV2ComputeAdminTest): _host_key = 'OS-EXT-SRV-ATTR:host' @classmethod def skip_checks(cls): super(TestConnectivityDuringLiveMigration, cls).skip_checks() if not CONF.compute_feature_enabled.live_migration: skip_msg = (""%s skipped as live-migration is "" ""not available"" % cls.__name__) raise cls.skipException(skip_msg) if CONF.compute.min_compute_nodes < 2: raise cls.skipException( ""Less than 2 compute nodes, skipping migration test."") if not (CONF.network.tenant_networks_reachable or CONF.network.public_network_id): msg = ('Either tenant_networks_reachable must be ""true"", or ' 'public_network_id must be defined.') raise cls.skipException(msg) for ext in ['router', 'security-group']: if not test.is_extension_enabled(ext, 'network'): msg = ""%s extension not enabled."" % ext raise cls.skipException(msg) @classmethod def setup_clients(cls): super(TestConnectivityDuringLiveMigration, cls).setup_clients() cls.admin_hosts_client = cls.os_adm.hosts_client cls.admin_servers_client = cls.os_adm.servers_client cls.admin_migration_client = cls.os_adm.migrations_client @classmethod def setup_credentials(cls): # Create no network resources for these tests. cls.set_network_resources() super(TestConnectivityDuringLiveMigration, cls).setup_credentials() def setUp(self): super(TestConnectivityDuringLiveMigration, self).setUp() self.keypairs = {} self.servers = [] @classmethod def _get_compute_hostnames(cls): body = cls.admin_hosts_client.list_hosts()['hosts'] return [ host_record['host_name'] for host_record in body if host_record['service'] == 'compute' ] def _get_server_details(self, server_id): body = self.admin_servers_client.show_server(server_id)['server'] return body def _get_host_for_server(self, server_id): return self._get_server_details(server_id)[self._host_key] def _migrate_server_to(self, server_id, dest_host, volume_backed): block_migration = (CONF.compute_feature_enabled. block_migration_for_live_migration and not volume_backed) body = self.admin_servers_client.live_migrate_server( server_id, host=dest_host, block_migration=block_migration, disk_over_commit=False) return body def _get_host_other_than(self, host): for target_host in self._get_compute_hostnames(): if host != target_host: return target_host def _get_server_status(self, server_id): return self._get_server_details(server_id)['status'] def _boot_server(self, volume_backed=False): server = self.create_test_server(wait_until=""ACTIVE"", volume_backed=volume_backed) return server['id'] def _volume_clean_up(self, server_id, volume_id): body = self.volumes_client.show_volume(volume_id)['volume'] if body['status'] == 'in-use': self.servers_client.detach_volume(server_id, volume_id) self.volumes_client.wait_for_volume_status(volume_id, 'available') self.volumes_client.delete_volume(volume_id) def _test_live_migration(self, state='ACTIVE', volume_backed=False): """"""Tests live migration between two hosts. Requires CONF.compute_feature_enabled.live_migration to be True. :param state: The vm_state the migrated server should be in before and after the live migration. Supported values are 'ACTIVE' and 'PAUSED'. :param volume_backed: If the instance is volume backed or not. If volume_backed, *block* migration is not used. """""" # Live migrate an instance to another host server, floating_ip_address = self._setup_network_and_servers() server_id = server['id'] self.check_public_network_connectivity(should_connect=True) ping_count = CONF.compute_feature_enabled.ping_count_live_migration os.system('ping %s -c %d -W 1 > ping_results\ &' % (floating_ip_address, ping_count)) actual_host = self._get_host_for_server(server_id) target_host = self._get_host_other_than(actual_host) if state == 'PAUSED': self.admin_servers_client.pause_server(server_id) waiters.wait_for_server_status(self.admin_servers_client, server_id, state) self._migrate_server_to(server_id, target_host, volume_backed) waiters.wait_for_server_status(self.servers_client, server_id, state) migration_list = (self.admin_migration_client.list_migrations() ['migrations']) msg = (""Live Migration failed. Migrations list for Instance "" ""%s: ["" % server_id) for live_migration in migration_list: if (live_migration['instance_uuid'] == server_id): msg += ""\n%s"" % live_migration msg += ""]"" self.assertEqual(target_host, self._get_host_for_server(server_id), msg) self._ping_completion_check() self._parse_ping_results() def _ping_completion_check(self): """"""Checking if there is background ping process still going on"""""" pid = 1 while pid: try: pid = subprocess.check_output([""pidof"", 'ping']) except Exception: pid = 0 break def _parse_ping_results(self): with open('ping_results', 'r') as fileMode: lines_read = fileMode.readlines() data = lines_read[-2] packet_loss_data = re.search(r'\d+% packet loss', data) packet_loss = packet_loss_data.group(0).split('% packet loss')[0] packets_found = re.search(r'\d+ packets transmitted', data) org_pack = packets_found.group(0).split('packets transmitted')[0] if int(packet_loss) == 0: msg = ""No Packet loss found for live-migration,\ so failing the test"" self.assertTrue(False, msg) else: with open('ping_results', 'r') as fileMode: passed_seq = [] for line in fileMode: if re.match(r""(.*)64 bytes from"", line): matched_pattern = re.search(r'icmp_seq=\d+', line) passed_seq.append(int( matched_pattern. group(0).split('=')[1])) if len(passed_seq) == 0: msg = ""Test case failed due to 100% packet loss"" self.assertTrue(False, msg) failed_seq = list(range(1, int(org_pack) + 1)) for passValue in passed_seq: for value in failed_seq: if(passValue == value): failed_seq.remove(value) minPassedValue = passed_seq[0] for elem in failed_seq: if (minPassedValue < elem): failed_value = elem break if (failed_value): if (failed_value < max(passed_seq)): msg = ""Test case Passed"" else: msg = ""Test case failed due to network-\ reconnectivity failure after live-migration"" self.assertTrue(False, msg) else: msg = ""Test case Failed because there was no packet\ drop due to live-migration"" self.assertTrue(False, msg) def _setup_network_and_servers(self, **kwargs): boot_with_port = kwargs.pop('boot_with_port', False) self.security_group = \ self._create_security_group(tenant_id=self.tenant_id) self.network, self.subnet, self.router = self.create_networks(**kwargs) self.check_networks() self.ports = [] self.port_id = None if boot_with_port: # create a port on the network and boot with that self.port_id = self._create_port(self.network['id']).id self.ports.append({'port': self.port_id}) name = data_utils.rand_name('server-smoke') server = self._create_server(name, self.network, self.port_id) self._check_tenant_network_connectivity() floating_ip = self.create_floating_ip(server) self.floating_ip_tuple = Floating_IP_tuple(floating_ip, server) floating_ip_address = floating_ip.floating_ip_address return server, floating_ip_address def check_networks(self): """"""Checks that we see the newly created network/subnet/router via checking the result of list_[networks,routers,subnets] """""" seen_nets = self._list_networks() seen_names = [n['name'] for n in seen_nets] seen_ids = [n['id'] for n in seen_nets] self.assertIn(self.network.name, seen_names) self.assertIn(self.network.id, seen_ids) if self.subnet: seen_subnets = self._list_subnets() seen_net_ids = [n['network_id'] for n in seen_subnets] seen_subnet_ids = [n['id'] for n in seen_subnets] self.assertIn(self.network.id, seen_net_ids) self.assertIn(self.subnet.id, seen_subnet_ids) if self.router: seen_routers = self._list_routers() seen_router_ids = [n['id'] for n in seen_routers] seen_router_names = [n['name'] for n in seen_routers] self.assertIn(self.router.name, seen_router_names) self.assertIn(self.router.id, seen_router_ids) def _create_server(self, name, network, port_id=None): keypair = self.create_keypair() self.keypairs[keypair['name']] = keypair security_groups = [{'name': self.security_group['name']}] network = {'uuid': network.id} if port_id is not None: network['port'] = port_id server = self.create_server( name=name, networks=[network], key_name=keypair['name'], security_groups=security_groups, wait_until='ACTIVE') self.servers.append(server) return server def _get_server_key(self, server): return self.keypairs[server['key_name']]['private_key'] def _check_tenant_network_connectivity(self): ssh_login = CONF.validation.image_ssh_user for server in self.servers: # call the common method in the parent class super(TestConnectivityDuringLiveMigration, self).\ _check_tenant_network_connectivity( server, ssh_login, self._get_server_key(server), servers_for_debug=self.servers) def check_public_network_connectivity( self, should_connect=True, msg=None, should_check_floating_ip_status=True): """"""Verifies connectivty to a VM via public network and floating IP and verifies floating IP has resource status is correct. :param should_connect: bool. determines if connectivity check is negative or positive. :param msg: Failure message to add to Error message. Should describe the place in the test scenario where the method was called, to indicate the context of the failure :param should_check_floating_ip_status: bool. should status of floating_ip be checked or not """""" ssh_login = CONF.validation.image_ssh_user floating_ip, server = self.floating_ip_tuple ip_address = floating_ip.floating_ip_address private_key = None floatingip_status = 'DOWN' if should_connect: private_key = self._get_server_key(server) floatingip_status = 'ACTIVE' # Check FloatingIP Status before initiating a connection if should_check_floating_ip_status: self.check_floating_ip_status(floating_ip, floatingip_status) # call the common method in the parent class super(TestConnectivityDuringLiveMigration, self).check_public_network_connectivity(ip_address, ssh_login, private_key, should_connect, msg, self.servers) def _disassociate_floating_ips(self): floating_ip, server = self.floating_ip_tuple self._disassociate_floating_ip(floating_ip) self.floating_ip_tuple = Floating_IP_tuple( floating_ip, None) def _reassociate_floating_ips(self): floating_ip, server = self.floating_ip_tuple name = data_utils.rand_name('new_server-smoke') # create a new server for the floating ip server = self._create_server(name, self.network) self._associate_floating_ip(floating_ip, server) self.floating_ip_tuple = Floating_IP_tuple( floating_ip, server) def _create_new_network(self, create_gateway=False): self.new_net = self._create_network(tenant_id=self.tenant_id) if create_gateway: self.new_subnet = self._create_subnet( network=self.new_net) else: self.new_subnet = self._create_subnet( network=self.new_net, gateway_ip=None) def _hotplug_server(self): old_floating_ip, server = self.floating_ip_tuple ip_address = old_floating_ip.floating_ip_address private_key = self._get_server_key(server) ssh_client = self.get_remote_client(ip_address, private_key=private_key) old_nic_list = self._get_server_nics(ssh_client) # get a port from a list of one item port_list = self._list_ports(device_id=server['id']) self.assertEqual(1, len(port_list)) old_port = port_list[0] interface = self.interface_client.create_interface( server_id=server['id'], net_id=self.new_net.id)['interfaceAttachment'] self.addCleanup(self.network_client.wait_for_resource_deletion, 'port', interface['port_id'], client=self.ports_client) self.addCleanup(self.delete_wrapper, self.interface_client.delete_interface, server['id'], interface['port_id']) def check_ports(): self.new_port_list = [port for port in self._list_ports(device_id=server['id']) if port['id'] != old_port['id']] return len(self.new_port_list) == 1 if not test.call_until_true(check_ports, CONF.network.build_timeout, CONF.network.build_interval): raise exceptions.TimeoutException( ""No new port attached to the server in time (%s sec)! "" ""Old port: %s. Number of new ports: %d"" % ( CONF.network.build_timeout, old_port, len(self.new_port_list))) new_port = net_resources.DeletablePort(ports_client=self.ports_client, **self.new_port_list[0]) def check_new_nic(): new_nic_list = self._get_server_nics(ssh_client) self.diff_list = [n for n in new_nic_list if n not in old_nic_list] return len(self.diff_list) == 1 if not test.call_until_true(check_new_nic, CONF.network.build_timeout, CONF.network.build_interval): raise exceptions.TimeoutException(""Interface not visible on the "" ""guest after %s sec"" % CONF.network.build_timeout) num, new_nic = self.diff_list[0] ssh_client.assign_static_ip(nic=new_nic, addr=new_port.fixed_ips[0]['ip_address']) ssh_client.set_nic_state(nic=new_nic) def _get_server_nics(self, ssh_client): reg = re.compile(r'(?P<num>\d+): (?P<nic_name>\w+):') ipatxt = ssh_client.get_ip_list() return reg.findall(ipatxt) def _check_network_internal_connectivity(self, network, should_connect=True): """"""via ssh check VM internal connectivity: - ping internal gateway and DHCP port, implying in-tenant connectivity pinging both, because L3 and DHCP agents might be on different nodes """""" floating_ip, server = self.floating_ip_tuple # get internal ports' ips: # get all network ports in the new network internal_ips = (p['fixed_ips'][0]['ip_address'] for p in self._list_ports(tenant_id=server['tenant_id'], network_id=network.id) if p['device_owner'].startswith('network')) self._check_server_connectivity(floating_ip, internal_ips, should_connect) def _check_network_external_connectivity(self): """"""ping default gateway to imply external connectivity"""""" if not CONF.network.public_network_id: msg = 'public network not defined.' LOG.info(msg) return # We ping the external IP from the instance using its floating IP # which is always IPv4, so we must only test connectivity to # external IPv4 IPs if the external network is dualstack. v4_subnets = [s for s in self._list_subnets( network_id=CONF.network.public_network_id) if s['ip_version'] == 4] self.assertEqual(1, len(v4_subnets), ""Found %d IPv4 subnets"" % len(v4_subnets)) external_ips = [v4_subnets[0]['gateway_ip']] self._check_server_connectivity(self.floating_ip_tuple.floating_ip, external_ips) def _check_server_connectivity(self, floating_ip, address_list, should_connect=True): ip_address = floating_ip.floating_ip_address private_key = self._get_server_key(self.floating_ip_tuple.server) ssh_source = self._ssh_to_server(ip_address, private_key) for remote_ip in address_list: if should_connect: msg = (""Timed out waiting for %s to become "" ""reachable"") % remote_ip else: msg = ""ip address %s is reachable"" % remote_ip try: self.assertTrue(self._check_remote_connectivity (ssh_source, remote_ip, should_connect), msg) except Exception: LOG.exception(""Unable to access {dest} via ssh to "" ""floating-ip {src}"".format(dest=remote_ip, src=floating_ip)) raise @test.idempotent_id('6c7e8115-8e33-468a-b16c-d169042685d9') def test_connectivity_during_live_migration(self): self._test_live_migration() ",,488,0
openstack%2Ftempest~master~I091740020f88f48893c58e0b7446d6b9e716a3ea,openstack/tempest,master,I091740020f88f48893c58e0b7446d6b9e716a3ea,Fix test_volume_services testcases,ABANDONED,2017-02-01 07:22:02.000000000,2021-07-08 16:48:09.000000000,,"[{'_account_id': 5690}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 11075}, {'_account_id': 12017}, {'_account_id': 20190}, {'_account_id': 20382}]","[{'number': 1, 'created': '2017-02-01 07:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b561f133c6ad2200558e3a243a2b591d8aed6b6c', 'message': 'Fix test_volume_services testcases\n\ncinder service-list command returns a list of binaries and hosts\nOnly cinder-service return contains <host name>@<driver name>\nOther services host may be hostname only without a driver name.\n\nTo prevent host overlapping between services, changed\nthe selected binary to be cinder-volume.\nIn that case our host will be a full name, there is no need to\nsend only the hostname because we may get unrelated hosts.\nIMO it will be better to query host name - the full name.\n\nIn the previus code we call to  _get_host function and it\nchecks if cinder available for every query, it is unnecessary.\n\nChange-Id: I091740020f88f48893c58e0b7446d6b9e716a3ea\n'}, {'number': 2, 'created': '2017-02-02 05:03:49.000000000', 'files': ['tempest/api/volume/admin/test_volume_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c5844a4cdc41560f2b543561f455e4e9804524ba', 'message': 'Fix test_volume_services testcases\n\nthe _get_host function and checks if cinder available for every query,\nit is unnecessary.\nMoved the fuction inside the class as static method.\nOnly the class use this function.\n\nChange-Id: I091740020f88f48893c58e0b7446d6b9e716a3ea\n'}]",3,427567,c5844a4cdc41560f2b543561f455e4e9804524ba,16,8,2,11075,,,0,"Fix test_volume_services testcases

the _get_host function and checks if cinder available for every query,
it is unnecessary.
Moved the fuction inside the class as static method.
Only the class use this function.

Change-Id: I091740020f88f48893c58e0b7446d6b9e716a3ea
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/427567/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/admin/test_volume_services.py'],1,b561f133c6ad2200558e3a243a2b591d8aed6b6c,," # NOTE: Cinder service-list API returns the list for cinder-volume # contains ""<host name>@<driver name>"". # other services host name may be ""host_name"" only cinder_service = [x for x in cls.services if x['binary'] == 'cinder-volume'] cls.host_name = cinder_service[0]['host'] cls.binary_name = cinder_service[0]['binary'] service['host'] == self.host_name] self.assertEqual(self.host_name, services[0]['host'])","def _get_host(host): if CONF.volume_feature_enabled.volume_services: host = host.split('@')[0] return host # NOTE: Cinder service-list API returns the list contains # ""<host name>@<driver name>"" like ""nova-compute01@lvmdriver-1"". # So here picks <host name> up as a host. cls.host_name = _get_host(cls.services[0]['host']) cls.binary_name = cls.services[0]['binary'] _get_host(service['host']) == self.host_name] self.assertEqual(self.host_name, _get_host(services[0]['host']))",9,13
openstack%2Ftempest~master~I8f2fe241cccd8381e975505b828aaf4f9b7595ed,openstack/tempest,master,I8f2fe241cccd8381e975505b828aaf4f9b7595ed,Rework to fix _check_network_external_connectivity,ABANDONED,2017-02-09 09:28:11.000000000,2021-07-08 16:48:06.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 19642}]","[{'number': 1, 'created': '2017-02-09 09:28:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9cfde2e0977c88fb3eebdf0354cda14641e13436', 'message': 'Rework to fix _check_network_external_connectivity\n\nChange I1d385528afb600b8e6131cb59905ba1e8eff130d was indended to\nfix the failure of test_network_basic_ops when there were more\nthan one ipv4 subnets in public network. And it was reverted by\nI08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade\ntest).\nThis patch is to rework it by getting router info from floatingip\nsince router in Ironic grenade is public and precreated, which\nmeans self.router is None.\n\nChange-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed\n'}, {'number': 2, 'created': '2017-02-10 01:59:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42e5f992575d1713eb06b095216d01d408698103', 'message': 'Rework to fix _check_network_external_connectivity\n\nChange I1d385528afb600b8e6131cb59905ba1e8eff130d was intended to\nfix the failure of test_network_basic_ops when there were more\nthan one ipv4 subnets in public network. And it was reverted by\nI08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade\ntest).\nThis patch is to rework it by getting router info from floatingip\nsince router in Ironic grenade is public and precreated, which\nmeans self.router is None.\n\nChange-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed\n'}, {'number': 3, 'created': '2017-02-16 05:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4c33cf7532468609fff8982a04740975f136304', 'message': 'Rework to fix _check_network_external_connectivity\n\nChange I1d385528afb600b8e6131cb59905ba1e8eff130d was intended to\nfix the failure of test_network_basic_ops when there were more\nthan one ipv4 subnets in public network. And it was reverted by\nI08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade\ntest).\nThis patch is to rework it by getting router info from floatingip\nsince router in Ironic grenade is public and precreated, which\nmeans self.router is None.\n\nChange-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed\n'}, {'number': 4, 'created': '2017-02-16 07:16:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fcc18ba3cfcbabbcc4a02b83e80afacf7bcb962a', 'message': 'Rework to fix _check_network_external_connectivity\n\nChange I1d385528afb600b8e6131cb59905ba1e8eff130d was intended to\nfix the failure of test_network_basic_ops when there were more\nthan one ipv4 subnets in public network. And it was reverted by\nI08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade\ntest).\n\nThis patch is to rework it by getting v4_subnet info from\nfloatingip port since router in Ironic grenade is public and\nprecreated, which means self.router is None.\n\nChange-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed\n'}, {'number': 5, 'created': '2017-02-16 09:15:22.000000000', 'files': ['tempest/scenario/test_network_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/183cdf9ea0b8665ef44882de0e1392b339516478', 'message': 'Rework to fix _check_network_external_connectivity\n\nChange I1d385528afb600b8e6131cb59905ba1e8eff130d was intended to\nfix the failure of test_network_basic_ops when there were more\nthan one ipv4 subnets in public network. And it was reverted by\nI08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade\ntest).\n\nThis patch is to rework it by getting v4_subnet info from\nfloatingip port since router in Ironic grenade is public and\nprecreated, which means self.router is None.\n\nChange-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed\n'}]",3,431404,183cdf9ea0b8665ef44882de0e1392b339516478,27,5,5,19642,,,0,"Rework to fix _check_network_external_connectivity

Change I1d385528afb600b8e6131cb59905ba1e8eff130d was intended to
fix the failure of test_network_basic_ops when there were more
than one ipv4 subnets in public network. And it was reverted by
I08b436acb3b27f9ae21e55b69b1adf3f9d721ba9(broke Ironic grenade
test).

This patch is to rework it by getting v4_subnet info from
floatingip port since router in Ironic grenade is public and
precreated, which means self.router is None.

Change-Id: I8f2fe241cccd8381e975505b828aaf4f9b7595ed
",git fetch https://review.opendev.org/openstack/tempest refs/changes/04/431404/4 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_network_basic_ops.py'],1,9cfde2e0977c88fb3eebdf0354cda14641e13436,bug/1637050," floating_ip, _ = self.floating_ip_tuple router = self.routers_client.show_router( floating_ip['router_id'])['router'] ext_ips = router['external_gateway_info']['external_fixed_ips'] sub_ids = [sub['subnet_id'] for sub in ext_ips] network_id=CONF.network.public_network_id) if s['ip_version'] == 4 and s['id'] in sub_ids] self._check_server_connectivity(floating_ip, external_ips)"," network_id=CONF.network.public_network_id) if s['ip_version'] == 4] self._check_server_connectivity(self.floating_ip_tuple.floating_ip, external_ips)",9,3
openstack%2Ftempest~master~Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073,openstack/tempest,master,Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073,Revert for ea8796a0932990ac95402235a03ee6019ef92e5b,ABANDONED,2016-10-21 16:03:23.000000000,2021-07-08 16:48:03.000000000,,"[{'_account_id': 1921}, {'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 14819}, {'_account_id': 23613}]","[{'number': 1, 'created': '2016-10-21 16:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/373db867e0aa9e9bfb455c505fe0778551835eb8', 'message': '[DNM] Revert for 386967 to check live-migration\n\nChange-Id: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\n'}, {'number': 2, 'created': '2016-11-14 10:54:20.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/e95fe72b24e6f3e25417f3fb552a7117ca6a6c79', 'message': ""Revert for ea8796a0932990ac95402235a03ee6019ef92e5b\n\ntest_volume_backed_live_migration is used by\ngate-tempest-dsvm-multinode-live-migration-ubuntu-xenial with a ceph\nbackend so we could'not skip it unconditionally.\n\nChange-Id: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073\n""}]",0,389767,e95fe72b24e6f3e25417f3fb552a7117ca6a6c79,17,7,2,14819,,,0,"Revert for ea8796a0932990ac95402235a03ee6019ef92e5b

test_volume_backed_live_migration is used by
gate-tempest-dsvm-multinode-live-migration-ubuntu-xenial with a ceph
backend so we could'not skip it unconditionally.

Change-Id: Ifcd11ac4dbf3d77fda2ff2fd39026c629f731073
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/389767/2 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,373db867e0aa9e9bfb455c505fe0778551835eb8,," @decorators.skip_because(bug=""1549511"", condition=CONF.service_available.neutron)"," @decorators.skip_because(bug=""1524898"")",2,1
openstack%2Ftempest~master~I896a5fc6cef1d19439327f587c59670473632927,openstack/tempest,master,I896a5fc6cef1d19439327f587c59670473632927,Fix string vs byte errors in test_object_services,ABANDONED,2016-10-06 20:47:19.000000000,2021-07-08 16:47:59.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 22446}]","[{'number': 1, 'created': '2016-10-06 20:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ddd7edcc626588cd6f9212b739e4c93bf1820bc', 'message': 'Fix string vs byte errors in test_object_services\n\nThe object service tests was using strings for the data payload in\ntests of the object service. In python 3, the client returns these\nobjects as bytes instead of strings, causing comparisons to fail. This\nchanges the tests to bytes for the data types instead of strings, so\nthat the comparisons to the returned bytes will work in both python 2\nand python 3.\n\nChange-Id: I896a5fc6cef1d19439327f587c59670473632927\n'}, {'number': 2, 'created': '2016-10-17 20:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ea86c8079430fbc792121c2e6c9a8b204de79313', 'message': 'Fix string vs byte errors in test_object_services\n\nThe object service tests was using strings for the data payload in\ntests of the object service. In python 3, the client returns these\nobjects as bytes instead of strings, causing comparisons to fail. This\nchanges the tests to bytes for the data types instead of strings, so\nthat the comparisons to the returned bytes will work in both python 2\nand python 3.\n\nChange-Id: I896a5fc6cef1d19439327f587c59670473632927\n'}, {'number': 3, 'created': '2016-11-03 11:31:11.000000000', 'files': ['tempest/api/object_storage/base.py', 'tempest/lib/common/utils/data_utils.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/tests/lib/common/utils/test_data_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bd00997788e922d2d3ec5865fc1c934db996cd80', 'message': 'Fix string vs byte errors in test_object_services\n\nThe object service tests was using strings for the data payload in\ntests of the object service. In python 3, the client returns these\nobjects as bytes instead of strings, causing comparisons to fail. This\nchanges the tests to bytes for the data types instead of strings, so\nthat the comparisons to the returned bytes will work in both python 2\nand python 3.\n\nChange-Id: I896a5fc6cef1d19439327f587c59670473632927\n'}]",1,383453,bd00997788e922d2d3ec5865fc1c934db996cd80,22,6,3,22446,,,0,"Fix string vs byte errors in test_object_services

The object service tests was using strings for the data payload in
tests of the object service. In python 3, the client returns these
objects as bytes instead of strings, causing comparisons to fail. This
changes the tests to bytes for the data types instead of strings, so
that the comparisons to the returned bytes will work in both python 2
and python 3.

Change-Id: I896a5fc6cef1d19439327f587c59670473632927
",git fetch https://review.opendev.org/openstack/tempest refs/changes/53/383453/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/object_storage/base.py', 'tempest/api/object_storage/test_object_services.py', 'tempest/lib/common/utils/data_utils.py', 'tempest/tests/lib/common/utils/test_data_utils.py']",4,4ddd7edcc626588cd6f9212b739e4c93bf1820bc,fix-bytes-errors," def test_to_bytes(self): returned_bytes = data_utils.to_bytes(""test"") self.assertEqual(b""test"", returned_bytes) def test_arbitrary_bytes(self): actual = data_utils.arbitrary_bytes() self.assertEqual(actual, b""test"") actual = data_utils.arbitrary_bytes(size=30, base_text=""abc"") self.assertEqual(actual, b""abc"" * int(30 / len(b""abc""))) actual = data_utils.arbitrary_bytes(size=5, base_text=""deadbeaf"") self.assertEqual(actual, b""deadb"") ",,90,50
openstack%2Ftempest~master~Ibbe7f4ace53cd21c9499c178fb0b24d191fbd3c8,openstack/tempest,master,Ibbe7f4ace53cd21c9499c178fb0b24d191fbd3c8,Add test_volume_backup_snapshot_create in test_volumes_backup.py,ABANDONED,2016-11-01 08:05:37.000000000,2021-07-08 16:47:52.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 23006}]","[{'number': 1, 'created': '2016-11-01 08:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9acd71805a8a57d84bcf795271531d4bc112392a', 'message': 'Add test_volume_backup_snapshot_create in test_volumes_backup.py\n\nThere have not a function which test the backup a snapshot of\na exist volume, so this patch add it.\nChange-Id: Ibbe7f4ace53cd21c9499c178fb0b24d191fbd3c8\n'}, {'number': 2, 'created': '2017-01-04 09:07:25.000000000', 'files': ['tempest/api/volume/test_volumes_backup.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/947a73a4ea5b16512bdb0eab672f31b4840a983d', 'message': 'Add test_volume_backup_snapshot_create in test_volumes_backup.py\n\nThere have not a function which test the backup a snapshot of\na exist volume, so this patch add it.\nChange-Id: Ibbe7f4ace53cd21c9499c178fb0b24d191fbd3c8\n'}]",0,392063,947a73a4ea5b16512bdb0eab672f31b4840a983d,20,4,2,23006,,,0,"Add test_volume_backup_snapshot_create in test_volumes_backup.py

There have not a function which test the backup a snapshot of
a exist volume, so this patch add it.
Change-Id: Ibbe7f4ace53cd21c9499c178fb0b24d191fbd3c8
",git fetch https://review.opendev.org/openstack/tempest refs/changes/63/392063/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/volume/test_volumes_backup.py'],1,9acd71805a8a57d84bcf795271531d4bc112392a,test_backup," @test.idempotent_id('20161556-cdaf-44c9-a5dc-c8427b1b62e6') def test_volume_backup_snapshot_create(self): """"""Test create backup with the volume snapshot"""""" volume = self.create_volume() snapshot = self.create_snapshot(volume['id']) self.addCleanup(self.volumes_client.delete_volume, volume['id']) backup_name = data_utils.rand_name( self.__class__.__name__ + '-Backup') create_backup = self.backups_client.create_backup backup = create_backup(snapshot_id=snapshot['id'], name=backup_name)['backup'] self.addCleanup(self.backups_client.delete_backup, backup['id']) self.assertEqual(backup_name, backup['name']) waiters.wait_for_snapshot_status(self.snapshot_client, snapshot['id'], 'available') waiters.wait_for_backup_status(self.backups_client, backup['id'], 'available') ",,20,0
openstack%2Ftempest~master~I71d5e34671e37453e031c4749bc88efc03e0c797,openstack/tempest,master,I71d5e34671e37453e031c4749bc88efc03e0c797,"Use assertGreater ,etc  instead of assertTrue",ABANDONED,2016-12-21 02:13:00.000000000,2021-07-08 16:47:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 18602}, {'_account_id': 20190}, {'_account_id': 22219}]","[{'number': 1, 'created': '2016-12-21 02:13:00.000000000', 'files': ['tempest/tests/lib/common/test_api_version_request.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e6ae5c65897ba184cd524b152f0a6a8d69223d8', 'message': 'Use assertGreater ,etc  instead of assertTrue\n\nassertGreater etc provides a nicer error message if it fails.\n\nChange-Id: I71d5e34671e37453e031c4749bc88efc03e0c797\n'}]",0,413340,7e6ae5c65897ba184cd524b152f0a6a8d69223d8,11,5,1,24061,,,0,"Use assertGreater ,etc  instead of assertTrue

assertGreater etc provides a nicer error message if it fails.

Change-Id: I71d5e34671e37453e031c4749bc88efc03e0c797
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/413340/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/tests/lib/common/test_api_version_request.py'],1,7e6ae5c65897ba184cd524b152f0a6a8d69223d8,asserttrue," self.assertLess(v_null, vers2_5) self.assertLess(vers2_0, vers2_5) self.assertLessEqual(vers2_0, vers2_5) self.assertLessEqual(vers2_0, vers2_0) self.assertGreater(vers2_5, v_null) self.assertGreater(vers5_23, vers2_5) self.assertGreaterEqual(vers2_0, vers2_0) self.assertGreaterEqual(vers5_23, vers2_5) self.assertNotEqual(vers2_0, vers2_5) self.assertEqual(vers2_0, vers2_0) self.assertNotEqual(vers2_0, v_null) self.assertEqual(v_null, v_null) self.assertLessEqual(vers2_0, v_latest) self.assertNotEqual(vers2_0, v_latest) self.assertEqual(v_latest, v_latest)", self.assertTrue(v_null < vers2_5) self.assertTrue(vers2_0 < vers2_5) self.assertTrue(vers2_0 <= vers2_5) self.assertTrue(vers2_0 <= vers2_0) self.assertTrue(vers2_5 > v_null) self.assertTrue(vers5_23 > vers2_5) self.assertTrue(vers2_0 >= vers2_0) self.assertTrue(vers5_23 >= vers2_5) self.assertTrue(vers2_0 != vers2_5) self.assertTrue(vers2_0 == vers2_0) self.assertTrue(vers2_0 != v_null) self.assertTrue(v_null == v_null) self.assertTrue(vers2_0 <= v_latest) self.assertTrue(vers2_0 != v_latest) self.assertTrue(v_latest == v_latest),15,15
openstack%2Ftempest~master~I4bcad81ceac2a27ed222b9f10021f152d47f216f,openstack/tempest,master,I4bcad81ceac2a27ed222b9f10021f152d47f216f,Update pbr version in requirements,ABANDONED,2016-10-26 07:35:38.000000000,2021-07-08 16:47:41.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 23413}]","[{'number': 1, 'created': '2016-10-26 07:35:38.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/tempest/commit/1524c40fddf830e630ef5d1a6c77080449bf3035', 'message': ""Update pbr version in requirements\n\nWe have pbr version '>=1.8' in tempest/setup.py as following codes:\nsetuptools.setup(\n    setup_requires=['pbr>=1.8'],\n    pbr=True)\nAlso we have pbr version '>=1.6' in tempest/requirements.txt like:\npbr>=1.6 # Apache-2.0\n\nThey are not consistent. This path is to make them agree with each\nother on pbr version >=1.8.\n\nChange-Id: I4bcad81ceac2a27ed222b9f10021f152d47f216f\n""}]",0,390740,1524c40fddf830e630ef5d1a6c77080449bf3035,13,4,1,23413,,,0,"Update pbr version in requirements

We have pbr version '>=1.8' in tempest/setup.py as following codes:
setuptools.setup(
    setup_requires=['pbr>=1.8'],
    pbr=True)
Also we have pbr version '>=1.6' in tempest/requirements.txt like:
pbr>=1.6 # Apache-2.0

They are not consistent. This path is to make them agree with each
other on pbr version >=1.8.

Change-Id: I4bcad81ceac2a27ed222b9f10021f152d47f216f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/40/390740/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,1524c40fddf830e630ef5d1a6c77080449bf3035,fix/requirments2,pbr>=1.8 # Apache-2.0,pbr>=1.6 # Apache-2.0,1,1
openstack%2Ftempest~master~I799863d85ccbf7c01741387efb06b0957c5273cb,openstack/tempest,master,I799863d85ccbf7c01741387efb06b0957c5273cb,Add available params in metering label rules client's comment,ABANDONED,2016-07-06 09:15:20.000000000,2021-07-08 16:47:38.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 22298}]","[{'number': 1, 'created': '2016-07-06 09:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3be010449dec3a4fbea4f3c84b03adbc37cf4dcd', 'message': 'Add available params in metering label rules client\'s comment\n\nSome interfaces in metering label rules client have **kwargs parameter, but\nno api reference links are given. so this is to add ""Available params"" in\ntheir comments.\n\nChange-Id: I799863d85ccbf7c01741387efb06b0957c5273cb\n'}, {'number': 2, 'created': '2016-07-08 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2a82410c75063d21d944a68fa3d628a74bdf6b1', 'message': 'Add available params in metering label rules client\'s comment\n\nSome interfaces in metering label rules client have **kwargs parameter, but\nno api reference links are given. so this is to add ""Available params"" in\ntheir comments.\n\nChange-Id: I799863d85ccbf7c01741387efb06b0957c5273cb\n'}, {'number': 3, 'created': '2016-07-11 03:05:58.000000000', 'files': ['tempest/lib/services/network/metering_label_rules_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6726b1016513a8ad7dcd422906fe1cf997fdc81', 'message': 'Add available params in metering label rules client\'s comment\n\nSome interfaces in metering label rules client have **kwargs parameter, but\nno api reference links are given. so this is to add ""Available params"" in\ntheir comments.\n\nChange-Id: I799863d85ccbf7c01741387efb06b0957c5273cb\n'}]",1,338128,c6726b1016513a8ad7dcd422906fe1cf997fdc81,30,6,3,22298,,,0,"Add available params in metering label rules client's comment

Some interfaces in metering label rules client have **kwargs parameter, but
no api reference links are given. so this is to add ""Available params"" in
their comments.

Change-Id: I799863d85ccbf7c01741387efb06b0957c5273cb
",git fetch https://review.opendev.org/openstack/tempest refs/changes/28/338128/3 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/network/metering_label_rules_client.py'],1,3be010449dec3a4fbea4f3c84b03adbc37cf4dcd,add_metering_label_rules_client_comment," """"""Creates an L3 metering label rule. Available params: see http://developer.openstack.org/ api-ref-networking-v2-ext.html# createMeteringLabelRule """"""",,6,0
openstack%2Ftempest~master~I2ef9dd8873dbd9358d2c86ab5d1c726c23358741,openstack/tempest,master,I2ef9dd8873dbd9358d2c86ab5d1c726c23358741,Remove unnecessary admin credential usage,ABANDONED,2016-06-29 15:21:55.000000000,2021-07-08 16:47:33.000000000,,"[{'_account_id': 97}, {'_account_id': 6754}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 17716}]","[{'number': 1, 'created': '2016-06-29 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/453495cd72b4f8dca7fd445cac076aec18975622', 'message': 'Remove unnecessary admin credential usage\n\nMost of the Neutron router tests use admin credentials because\nthey\'re built on BaseAdminNetworkTest.  This is partly\nbecause a few operations (like setting SNAT on a gateway) require\nadmin credentials when using default policy settings, so it was\neasiest to simply use a base class that has admin creds.  However,\nmany other operations involving routers (like basic CRUD operations)\nare typically exposed to end users.  Using admin credentials for\noperations that don\'t typically require them is problematic for\nDefCore in that DefCore can only use tests in it\'s Guidelines that\ndon\'t require admin credentials.  It\'s also somewhat confusing\nin that Tempest usually puts tests that require admin credentials\ninto an ""admin"" directory, and although such a directory exists\nfor networking today, the router tests aren\'t there.\n\nThis patch separates tests that genuinely need admin credentials\nfrom ones that really don\'t.  To accomplish this, we create separate\nBaseRouterTest (which uses BaseNetworkTest) and BaseRouterAdminTest\n(which uses BaseNetworkAdminTest) classes.  Tests that need admin\ncredentials have been moved into the admin/ folder and use the new\nBaseRouterAdminTest class.  Tests that don\'t need admin credentials\nremain in their old location and use BaseRouterTest.\n\nChange-Id: I2ef9dd8873dbd9358d2c86ab5d1c726c23358741\n'}, {'number': 2, 'created': '2016-06-29 15:23:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cfe1efab2f1c130a769653d6c0797bb78c9e8a63', 'message': 'Remove unnecessary admin credential usage\n\nMost of the Neutron router tests use admin credentials because\nthey\'re built on BaseAdminNetworkTest.  This is partly\nbecause a few operations (like setting SNAT on a gateway) require\nadmin credentials when using default policy settings, so it was\neasiest to simply use a base class that has admin creds.  However,\nmany other operations involving routers (like basic CRUD operations)\nare typically exposed to end users.  Using admin credentials for\noperations that don\'t typically require them is problematic for\nDefCore in that DefCore can only use tests in it\'s Guidelines that\ndon\'t require admin credentials.  It\'s also somewhat confusing\nin that Tempest usually puts tests that require admin credentials\ninto an ""admin"" directory, and although such a directory exists\nfor networking today, the router tests aren\'t there.\n\nThis patch separates tests that genuinely need admin credentials\nfrom ones that really don\'t.  To accomplish this, we create separate\nBaseRouterTest (which uses BaseNetworkTest) and BaseRouterAdminTest\n(which uses BaseNetworkAdminTest) classes.  Tests that need admin\ncredentials have been moved into the admin/ folder and use the new\nBaseRouterAdminTest class.  Tests that don\'t need admin credentials\nremain in their old location and use BaseRouterTest.\n\nPartial-bug: 1579136\nChange-Id: I2ef9dd8873dbd9358d2c86ab5d1c726c23358741\n'}, {'number': 3, 'created': '2016-06-29 17:03:19.000000000', 'files': ['tempest/api/network/admin/test_routers.py', 'tempest/api/network/admin/test_routers_dvr.py', 'tempest/api/network/base_routers_admin.py', 'tempest/api/network/base_routers.py', 'tempest/api/network/test_routers.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/5691264690a8e2254a03fc939e41a5c754b6b5d1', 'message': 'Remove unnecessary admin credential usage\n\nMost of the Neutron router tests use admin credentials because\nthey\'re built on BaseAdminNetworkTest.  This is partly\nbecause a few operations (like setting SNAT on a gateway) require\nadmin credentials when using default policy settings, so it was\neasiest to simply use a base class that has admin creds.  However,\nmany other operations involving routers (like basic CRUD operations)\nare typically exposed to end users.  Using admin credentials for\noperations that don\'t typically require them is problematic for\nDefCore in that DefCore can only use tests in it\'s Guidelines that\ndon\'t require admin credentials.  It\'s also somewhat confusing\nin that Tempest usually puts tests that require admin credentials\ninto an ""admin"" directory, and although such a directory exists\nfor networking today, the router tests aren\'t there.\n\nThis patch separates tests that genuinely need admin credentials\nfrom ones that really don\'t.  To accomplish this, we create separate\nBaseRouterTest (which uses BaseNetworkTest) and BaseRouterAdminTest\n(which uses BaseNetworkAdminTest) classes.  Tests that need admin\ncredentials have been moved into the admin/ folder and use the new\nBaseRouterAdminTest class.  Tests that don\'t need admin credentials\nremain in their old location and use BaseRouterTest.\n\nPartial-bug: 1579136\nChange-Id: I2ef9dd8873dbd9358d2c86ab5d1c726c23358741\n'}]",0,335558,5691264690a8e2254a03fc939e41a5c754b6b5d1,17,7,3,6754,,,0,"Remove unnecessary admin credential usage

Most of the Neutron router tests use admin credentials because
they're built on BaseAdminNetworkTest.  This is partly
because a few operations (like setting SNAT on a gateway) require
admin credentials when using default policy settings, so it was
easiest to simply use a base class that has admin creds.  However,
many other operations involving routers (like basic CRUD operations)
are typically exposed to end users.  Using admin credentials for
operations that don't typically require them is problematic for
DefCore in that DefCore can only use tests in it's Guidelines that
don't require admin credentials.  It's also somewhat confusing
in that Tempest usually puts tests that require admin credentials
into an ""admin"" directory, and although such a directory exists
for networking today, the router tests aren't there.

This patch separates tests that genuinely need admin credentials
from ones that really don't.  To accomplish this, we create separate
BaseRouterTest (which uses BaseNetworkTest) and BaseRouterAdminTest
(which uses BaseNetworkAdminTest) classes.  Tests that need admin
credentials have been moved into the admin/ folder and use the new
BaseRouterAdminTest class.  Tests that don't need admin credentials
remain in their old location and use BaseRouterTest.

Partial-bug: 1579136
Change-Id: I2ef9dd8873dbd9358d2c86ab5d1c726c23358741
",git fetch https://review.opendev.org/openstack/tempest refs/changes/58/335558/2 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/network/admin/test_routers.py', 'tempest/api/network/admin/test_routers_dvr.py', 'tempest/api/network/base_routers.py', 'tempest/api/network/base_routers_admin.py', 'tempest/api/network/test_routers.py']",5,453495cd72b4f8dca7fd445cac076aec18975622,bug/1579136, show_body = self.routers_client.show_router(router_id) list_body = self.ports_client.list_ports( public_net_body = self.networks_client.show_network( list_body = self.ports_client.list_ports(," cls.identity_admin_client = cls.os_adm.identity_client @test.idempotent_id('e54dd3a3-4352-4921-b09d-44369ae17397') def test_create_router_setting_project_id(self): # Test creating router from admin user setting project_id. project = data_utils.rand_name('test_tenant_') description = data_utils.rand_name('desc_') project = self.identity_utils.create_project(name=project, description=description) project_id = project['id'] self.addCleanup(self.identity_utils.delete_project, project_id) name = data_utils.rand_name('router-') create_body = self.admin_routers_client.create_router( name=name, tenant_id=project_id) self.addCleanup(self.admin_routers_client.delete_router, create_body['router']['id']) self.assertEqual(project_id, create_body['router']['tenant_id']) @test.idempotent_id('847257cc-6afd-4154-b8fb-af49f5670ce8') @test.requires_ext(extension='ext-gw-mode', service='network') def test_create_router_with_default_snat_value(self): # Create a router with default snat rule name = data_utils.rand_name('router') router = self._create_router( name, external_network_id=CONF.network.public_network_id) self._verify_router_gateway( router['id'], {'network_id': CONF.network.public_network_id, 'enable_snat': True}) @test.idempotent_id('ea74068d-09e9-4fd7-8995-9b6a1ace920f') @test.requires_ext(extension='ext-gw-mode', service='network') def test_create_router_with_snat_explicit(self): name = data_utils.rand_name('snat-router') # Create a router enabling snat attributes enable_snat_states = [False, True] for enable_snat in enable_snat_states: external_gateway_info = { 'network_id': CONF.network.public_network_id, 'enable_snat': enable_snat} create_body = self.admin_routers_client.create_router( name=name, external_gateway_info=external_gateway_info) self.addCleanup(self.admin_routers_client.delete_router, create_body['router']['id']) # Verify snat attributes after router creation self._verify_router_gateway(create_body['router']['id'], exp_ext_gw_info=external_gateway_info) show_body = self.admin_routers_client.show_router(router_id) list_body = self.admin_ports_client.list_ports( public_net_body = self.admin_networks_client.show_network( @test.idempotent_id('6cc285d8-46bf-4f36-9b1a-783e3008ba79') def test_update_router_set_gateway(self): router = self._create_router(data_utils.rand_name('router-')) self.routers_client.update_router( router['id'], external_gateway_info={ 'network_id': CONF.network.public_network_id}) # Verify operation - router self._verify_router_gateway( router['id'], {'network_id': CONF.network.public_network_id}) self._verify_gateway_port(router['id']) @test.idempotent_id('b386c111-3b21-466d-880c-5e72b01e1a33') @test.requires_ext(extension='ext-gw-mode', service='network') def test_update_router_set_gateway_with_snat_explicit(self): router = self._create_router(data_utils.rand_name('router-')) self.admin_routers_client.update_router( router['id'], external_gateway_info={ 'network_id': CONF.network.public_network_id, 'enable_snat': True}) self._verify_router_gateway( router['id'], {'network_id': CONF.network.public_network_id, 'enable_snat': True}) self._verify_gateway_port(router['id']) @test.idempotent_id('96536bc7-8262-4fb2-9967-5c46940fa279') @test.requires_ext(extension='ext-gw-mode', service='network') def test_update_router_set_gateway_without_snat(self): router = self._create_router(data_utils.rand_name('router-')) self.admin_routers_client.update_router( router['id'], external_gateway_info={ 'network_id': CONF.network.public_network_id, 'enable_snat': False}) self._verify_router_gateway( router['id'], {'network_id': CONF.network.public_network_id, 'enable_snat': False}) self._verify_gateway_port(router['id']) list_body = self.admin_ports_client.list_ports( @test.idempotent_id('f2faf994-97f4-410b-a831-9bc977b64374') @test.requires_ext(extension='ext-gw-mode', service='network') def test_update_router_reset_gateway_without_snat(self): router = self._create_router( data_utils.rand_name('router-'), external_network_id=CONF.network.public_network_id) self.admin_routers_client.update_router( router['id'], external_gateway_info={ 'network_id': CONF.network.public_network_id, 'enable_snat': False}) self._verify_router_gateway( router['id'], {'network_id': CONF.network.public_network_id, 'enable_snat': False}) self._verify_gateway_port(router['id']) class DvrRoutersTest(base.BaseRouterTest): @classmethod def skip_checks(cls): super(DvrRoutersTest, cls).skip_checks() if not test.is_extension_enabled('dvr', 'network'): msg = ""DVR extension not enabled."" raise cls.skipException(msg) @test.idempotent_id('141297aa-3424-455d-aa8d-f2d95731e00a') def test_create_distributed_router(self): name = data_utils.rand_name('router') create_body = self.admin_routers_client.create_router( name=name, distributed=True) self.addCleanup(self._delete_router, create_body['router']['id'], self.admin_routers_client) self.assertTrue(create_body['router']['distributed']) @test.idempotent_id('644d7a4a-01a1-4b68-bb8d-0c0042cb1729') def test_convert_centralized_router(self): router = self._create_router(data_utils.rand_name('router')) self.assertNotIn('distributed', router) update_body = self.admin_routers_client.update_router(router['id'], distributed=True) self.assertTrue(update_body['router']['distributed']) show_body = self.admin_routers_client.show_router(router['id']) self.assertTrue(show_body['router']['distributed']) show_body = self.routers_client.show_router(router['id']) self.assertNotIn('distributed', show_body['router'])",294,149
openstack%2Ftempest~master~Ib553d67bb1ec1cedc9b9dc792344da73b4815949,openstack/tempest,master,Ib553d67bb1ec1cedc9b9dc792344da73b4815949,Live-migration of instance with attached ephemerals added,ABANDONED,2015-10-12 16:42:43.000000000,2021-07-08 16:47:30.000000000,,"[{'_account_id': 97}, {'_account_id': 5803}, {'_account_id': 7428}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10016}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 14819}]","[{'number': 1, 'created': '2015-10-12 16:42:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7d2c8b65e17906f3aa6bbd21f8334d38eb1e53f4', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 2, 'created': '2015-10-12 20:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ee85962fca31d3d41e11a03573c29197aac7b60b', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 3, 'created': '2015-10-12 21:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c01f78dcb36c53805ce534927a9004c417203c5a', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 4, 'created': '2015-10-16 09:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/17b123e1d0ad2600488ef3b6721ef611fc70ff00', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 5, 'created': '2015-10-20 13:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7aa62258b91364d3c03e760652624c0c8f4a4677', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 6, 'created': '2015-11-11 13:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b4dc808967358e1b4dd6f2c3cd584065de615b6b', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 7, 'created': '2016-02-05 18:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/061abdda7adf3f1ffe0d7f71cc8337575f21e992', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 8, 'created': '2016-02-05 18:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0600bcf082a636512315ba2717125028d05f8a1e', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 9, 'created': '2016-02-06 16:27:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/584fb910f5f5f8bf3b9ede6173525e17cdf5bcee', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 10, 'created': '2016-02-08 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0a1dec42018a3bb1a5fd90bc73885f2a8141b26f', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 11, 'created': '2016-02-10 10:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0253edb1c1e8720519b6b4aa0c39747047eda745', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 12, 'created': '2016-07-27 07:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de4bfb857d5f791e64f1219cffd86f6f83928f85', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}, {'number': 13, 'created': '2016-07-27 08:42:42.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d5f6a41a0f98205003f7c27e2420786137bbb53c', 'message': 'Live-migration of instance with attached ephemerals added\n\nAdded test for live-migration of instances where used flavor\nwith ephemeral.\n\nChange-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949\n'}]",14,233712,d5f6a41a0f98205003f7c27e2420786137bbb53c,88,11,13,14819,,,0,"Live-migration of instance with attached ephemerals added

Added test for live-migration of instances where used flavor
with ephemeral.

Change-Id: Ib553d67bb1ec1cedc9b9dc792344da73b4815949
",git fetch https://review.opendev.org/openstack/tempest refs/changes/12/233712/12 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,7d2c8b65e17906f3aa6bbd21f8334d38eb1e53f4,lm-test,"class LiveMigrationTestJSON(base.BaseV2ComputeAdminTest): super(LiveMigrationTestJSON, cls).skip_checks() super(LiveMigrationTestJSON, cls).setup_clients() super(LiveMigrationTestJSON, cls).resource_setup() cls._create_flavor_with_ephemeral() @classmethod def resource_cleanup(cls): super(LiveMigrationTestJSON, cls).resource_setup() cls.os_adm.flavors_client.delete_flavor( cls.flavor_with_ephemeral['id']) @classmethod def _create_flavor_with_ephemeral(cls): cls.flavor_with_ephemeral = cls.os_adm.flavors_client.create_flavor( name='nano_with_ephemeral', ram=64, vcpus=1, disk=0, ephemeral=1, rxtx_factor=1.0)['flavor'] def _create_server(self, volume_backed=False, **kwargs): volume_backed=volume_backed, **kwargs) self.volumes_client.delete_volume(volume_id); def _test_live_migration(self, server_id, state='ACTIVE', volume_backed=False): # server_id = self._create_server(volume_backed=volume_backed) def test_live_migration(self): server_id = self._create_server() self._test_live_migration(server_id) def test_live_migration_paused(self): server_id = self._create_server() self._test_live_migration(server_id, state='PAUSED') server_id = self._create_server(volume_backed=True) self._test_live_migration(server_id, volume_backed=True) @test.idempotent_id('21345ab1-167c-4540-9af4-f0678a420cdb') def test_live_migration_with_attached_ephemeral(self): server_id = self._create_server( flavor=self.flavor_with_ephemeral['id']) self._test_live_migration(server_id) def test_instance_with_attached_volume(self):","class LiveBlockMigrationTestJSON(base.BaseV2ComputeAdminTest): super(LiveBlockMigrationTestJSON, cls).skip_checks() super(LiveBlockMigrationTestJSON, cls).setup_clients() super(LiveBlockMigrationTestJSON, cls).resource_setup() def _create_server(self, volume_backed=False): volume_backed=volume_backed) self.volumes_client.delete_volume(volume_id) def _test_live_migration(self, state='ACTIVE', volume_backed=False): server_id = self._create_server(volume_backed=volume_backed) def test_live_block_migration(self): self._test_live_migration() def test_live_block_migration_paused(self): self._test_live_migration(state='PAUSED') self._test_live_migration(volume_backed=True) def test_iscsi_volume(self):",38,15
openstack%2Ftempest~master~If7dfa394f78de446e4ee920ab355589a714664f7,openstack/tempest,master,If7dfa394f78de446e4ee920ab355589a714664f7,Live migration of instances with swap,ABANDONED,2015-10-12 16:54:16.000000000,2021-07-08 16:47:26.000000000,,"[{'_account_id': 97}, {'_account_id': 5803}, {'_account_id': 6763}, {'_account_id': 7016}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9569}, {'_account_id': 9732}, {'_account_id': 10016}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 14819}]","[{'number': 1, 'created': '2015-10-12 16:54:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1bcb6982fc5403acf45c92e85dae56c40b0e9755', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 2, 'created': '2015-10-12 20:40:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d0d3cd8cf70c5c6ac5844c9e53c75d89537cfc8', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 3, 'created': '2015-10-12 21:01:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cd586cf7dc50080214c7a5417c148228a4ddc733', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 4, 'created': '2015-10-13 09:14:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/78c9b301e851db30bf839455af8cf06dd507b5fb', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 5, 'created': '2015-10-16 09:25:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/06b45adcbdb86fd9acda9422d7c11d3025942d72', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 6, 'created': '2015-10-20 13:08:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/1e8c974097d1b6f251b91982e3c2c52ace82ee73', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 7, 'created': '2015-11-11 13:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4009c70e74a1d18e4a6841b5adcf1557549146fe', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 8, 'created': '2016-02-05 18:32:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4fcbe1dd369ee4130028d1dd812e9ba17e9c8474', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 9, 'created': '2016-02-05 21:28:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/991475e53db5090962a2665ff9dc9f8792320adb', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 10, 'created': '2016-02-06 19:31:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c2bf7a9b6d37ecfdef0690b583ade69bacb23145', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 11, 'created': '2016-02-06 19:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8008b96082d5cc28f6df51e65d7e789f6389646', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 12, 'created': '2016-02-08 14:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/511a74be3e99ca37849cc787faf0392f54474f21', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 13, 'created': '2016-02-10 10:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/03200273b05f51caab6079d6d54439a10b1ebd20', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 14, 'created': '2016-07-27 07:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6d62b88d963ec9eecce7015c28155ae4bcd03d32', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}, {'number': 15, 'created': '2016-07-27 08:42:42.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/388e13110db082eadbf69036661f854abed44e7c', 'message': 'Live migration of instances with swap\n\nAdded test for live-migration of instances booted with swap.\n\nChange-Id: If7dfa394f78de446e4ee920ab355589a714664f7\n'}]",5,233722,388e13110db082eadbf69036661f854abed44e7c,79,12,15,14819,,,0,"Live migration of instances with swap

Added test for live-migration of instances booted with swap.

Change-Id: If7dfa394f78de446e4ee920ab355589a714664f7
",git fetch https://review.opendev.org/openstack/tempest refs/changes/22/233722/11 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,1bcb6982fc5403acf45c92e85dae56c40b0e9755,lm-test," cls._create_flavor_with_swap() cls.os_adm.flavors_client.delete_flavor( cls.flavor_with_swap['id']) @classmethod def _create_flavor_with_swap(cls): cls.flavor_with_swap = cls.os_adm.flavors_client.create_flavor( name='nano_with_ephemeral', ram=64, vcpus=1, disk=0, swap=100, rxtx_factor=1.0)['flavor'] @test.idempotent_id('0c0ef21e-96cb-4f54-9133-bbefd12ec50d') def test_live_migration_with_swap(self): server_id = self._create_server( flavor=self.flavor_with_swap['id']) self._test_live_migration(server_id) ",,15,0
openstack%2Ftempest~master~Ie3664df95633a591df598e0811aec25bb732374a,openstack/tempest,master,Ie3664df95633a591df598e0811aec25bb732374a,Use method get_ipv6_addr_by_EUI64 from oslo.utils,ABANDONED,2016-06-14 06:15:06.000000000,2021-07-08 16:47:23.000000000,,"[{'_account_id': 5196}, {'_account_id': 7002}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}]","[{'number': 1, 'created': '2016-06-14 06:15:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/725eb6fa88ca9c8004b9dda4bd142322f4618a4e', 'message': ""Use method get_ipv6_addr_by_EUI64 from oslo.utils\n\nOslo.utils provides same method get_ipv6_addr_by_EUI64.\nso, let's use it.\n\nChange-Id: Ie3664df95633a591df598e0811aec25bb732374a\n""}, {'number': 2, 'created': '2016-06-14 08:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6a6f3c3e81995ff11883ca12b9fc76710351a602', 'message': ""Use method get_ipv6_addr_by_EUI64 from oslo.utils\n\nOslo.utils provides same method get_ipv6_addr_by_EUI64.\nso, let's use it.\n\nChange-Id: Ie3664df95633a591df598e0811aec25bb732374a\n""}, {'number': 3, 'created': '2016-06-21 04:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d2ab2d1baeb3118b6c1cb3e5061f309b7dca308a', 'message': ""Use method get_ipv6_addr_by_EUI64 from oslo.utils\n\nOslo.utils provides same method get_ipv6_addr_by_EUI64.\nso, let's use it.\n\nChange-Id: Ie3664df95633a591df598e0811aec25bb732374a\n""}, {'number': 4, 'created': '2016-06-21 04:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/83d25143a9d9b917a6ebf251b6ab5e1a7039b86b', 'message': ""Use method get_ipv6_addr_by_EUI64 from oslo.utils\n\nOslo.utils provides same method get_ipv6_addr_by_EUI64.\nso, let's use it.\n\nChange-Id: Ie3664df95633a591df598e0811aec25bb732374a\n""}, {'number': 5, 'created': '2016-06-21 04:59:58.000000000', 'files': ['tempest/lib/common/utils/data_utils.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/tests/lib/common/utils/test_data_utils.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a84d712c228b92230d39494bf88741c726b97988', 'message': ""Use method get_ipv6_addr_by_EUI64 from oslo.utils\n\nOslo.utils provides same method get_ipv6_addr_by_EUI64.\nso, let's use it.\n\nChange-Id: Ie3664df95633a591df598e0811aec25bb732374a\n""}]",2,329277,a84d712c228b92230d39494bf88741c726b97988,28,6,5,7002,,,0,"Use method get_ipv6_addr_by_EUI64 from oslo.utils

Oslo.utils provides same method get_ipv6_addr_by_EUI64.
so, let's use it.

Change-Id: Ie3664df95633a591df598e0811aec25bb732374a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/329277/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/utils/data_utils.py', 'tempest/api/network/test_dhcp_ipv6.py', 'tempest/tests/lib/common/utils/test_data_utils.py']",3,725eb6fa88ca9c8004b9dda4bd142322f4618a4e,use_method_from_oslo_utils,," def test_get_ipv6_addr_by_EUI64(self): actual = data_utils.get_ipv6_addr_by_EUI64('2001:db8::', '00:16:3e:33:44:55') self.assertIsInstance(actual, netaddr.IPAddress) self.assertEqual(actual, netaddr.IPAddress('2001:db8::216:3eff:fe33:4455')) def test_get_ipv6_addr_by_EUI64_with_IPv4_prefix(self): ipv4_prefix = '10.0.8' mac = '00:16:3e:33:44:55' self.assertRaises(TypeError, data_utils.get_ipv6_addr_by_EUI64, ipv4_prefix, mac) def test_get_ipv6_addr_by_EUI64_bad_cidr_type(self): bad_cidr = 123 mac = '00:16:3e:33:44:55' self.assertRaises(TypeError, data_utils.get_ipv6_addr_by_EUI64, bad_cidr, mac) def test_get_ipv6_addr_by_EUI64_bad_cidr_value(self): bad_cidr = 'bb' mac = '00:16:3e:33:44:55' self.assertRaises(TypeError, data_utils.get_ipv6_addr_by_EUI64, bad_cidr, mac) def test_get_ipv6_addr_by_EUI64_bad_mac_value(self): cidr = '2001:db8::' bad_mac = '00:16:3e:33:44:5Z' self.assertRaises(TypeError, data_utils.get_ipv6_addr_by_EUI64, cidr, bad_mac) def test_get_ipv6_addr_by_EUI64_bad_mac_type(self): cidr = '2001:db8::' bad_mac = 99999999999999999999 self.assertRaises(TypeError, data_utils.get_ipv6_addr_by_EUI64, cidr, bad_mac) ",5,67
openstack%2Ftempest~master~I9ca8c47148577dc535a0ea067fa71a1036b8b52c,openstack/tempest,master,I9ca8c47148577dc535a0ea067fa71a1036b8b52c,Adding SCTP protocol test method,ABANDONED,2016-03-28 14:19:42.000000000,2021-07-08 16:47:19.000000000,,"[{'_account_id': 6578}, {'_account_id': 8556}, {'_account_id': 8576}, {'_account_id': 9732}, {'_account_id': 10068}, {'_account_id': 10385}, {'_account_id': 19118}, {'_account_id': 21082}]","[{'number': 1, 'created': '2016-03-28 14:19:42.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/common/utils/linux/remote_client.py', 'tempest/scenario/test_security_groups_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/b5e008db806694fa82b2be38576b208022669348', 'message': 'Adding SCTP protocol test method\n\nChange-Id: I9ca8c47148577dc535a0ea067fa71a1036b8b52c\n'}]",0,298251,b5e008db806694fa82b2be38576b208022669348,13,8,1,21082,,,0,"Adding SCTP protocol test method

Change-Id: I9ca8c47148577dc535a0ea067fa71a1036b8b52c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/51/298251/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/common/utils/linux/remote_client.py', 'tempest/scenario/manager.py', 'tempest/scenario/test_security_groups_basic_ops.py']",3,b5e008db806694fa82b2be38576b208022669348,test_sctp," @test.idempotent_id('59bd5b52-ef1d-4793-b479-a1f443e30ea3') @test.services('compute', 'network') def test_sctp_in_tenant_traffic(self): try: """""" 1) Creates a server in the primary tenant 2) assigns floating ip 3) adds the security group to the second server 4) tries to send SCTP packet, with the default security group 5) allows SCTP protocol and tries to send SCTP packet again """""" self._create_tenant_servers(self.primary_tenant) server = self.primary_tenant.servers[0] self._assign_floating_ips(self.primary_tenant, server) clientid = \ self.manager.servers_client.list_servers()['servers'][1]['id'] client = \ self.manager.servers_client.show_server(clientid)['server'] self.servers_client.add_security_group( self.primary_tenant.servers[0]['id'], name=self.primary_tenant.security_groups['access']['name']) self._test_sctp_in_tenant_block(self.primary_tenant, server, client) self._test_sctp_in_tenant_allow(self.primary_tenant, server, client) except Exception: for tenant in self.tenants.values(): self._log_console_output(servers=tenant.servers) raise def _test_sctp_in_tenant_block(self, tenant, server, client): access_point_ssh = self._connect_to_access_point(tenant) ipserver = self._get_server_ip(server, floating=True) sipclient = self._get_server_ip(client) access_point_ssh2 = self.get_remote_client(ipserver, private_key=tenant.keypair ['private_key']) self._check_sctp_remote_connectivity(access_point_ssh, access_point_ssh2, sipclient, False) def _test_sctp_in_tenant_allow(self, tenant, server, client): ruleset = dict( protocol='132', remote_group_id=tenant.security_groups['access'].id, direction='ingress' ) self._create_security_group_rule( secgroup=tenant.security_groups['access'], security_groups_client=tenant.manager.security_groups_client, **ruleset ) access_point_ssh = self._connect_to_access_point(tenant) ipserver = self._get_server_ip(server, floating=True) sipclient = self._get_server_ip(client) access_point_ssh2 = self.get_remote_client(ipserver, private_key=tenant.keypair ['private_key']) self._check_sctp_remote_connectivity(access_point_ssh, access_point_ssh2, sipclient, True) ",,94,0
openstack%2Ftempest~master~Ia98770894dc6df57fce0763eaffb2099b7b0c30c,openstack/tempest,master,Ia98770894dc6df57fce0763eaffb2099b7b0c30c,Object Account Case Additions,ABANDONED,2016-04-15 04:20:14.000000000,2021-07-08 16:47:15.000000000,,"[{'_account_id': 5196}, {'_account_id': 7428}, {'_account_id': 8001}, {'_account_id': 8556}, {'_account_id': 8871}, {'_account_id': 9576}, {'_account_id': 9591}, {'_account_id': 9622}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 12024}, {'_account_id': 12456}, {'_account_id': 15932}, {'_account_id': 17625}, {'_account_id': 18820}, {'_account_id': 20553}, {'_account_id': 21004}]","[{'number': 1, 'created': '2016-04-15 04:20:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/59bd02e30eaede1ee2e575d68829a2af80e67f7c', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS and for using an invalid\nmethod for a storage account\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 2, 'created': '2016-04-16 02:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/12e6ee6ab80e955801423776490ec7a25a3d7aff', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS and for using an invalid\nmethod for a storage account\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 3, 'created': '2016-04-19 04:28:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ba77cf487964fd3af77d7f5dce7ce661f22d9dac', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating against an\nexisting account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 4, 'created': '2016-04-19 14:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/de9c347096491f485344d96657b8a1a3af3d7156', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating against an\nexisting account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 5, 'created': '2016-04-20 18:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/801635efeaea2a46aa7e28a173dfde224a6cd5e7', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 6, 'created': '2016-04-22 16:58:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9c96a845ef9c41186039c90d199fc98829792968', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 7, 'created': '2016-04-23 20:40:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e598d98fc838d450a94772e64587e02a7c8f9d2d', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 8, 'created': '2016-04-25 20:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/64a8ec2e0cf4a7e3352da9453a6c831897ddb4e3', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 9, 'created': '2016-04-25 20:11:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/325970d69a078928110da200eb5db085c1aff9dd', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 10, 'created': '2016-04-26 20:22:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b8107952161f790ada3086aeae04c2f67f7492ac', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 11, 'created': '2016-05-04 18:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e08e029a4dd616746e5eaf78d7f05610ac57464a', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nRemoved negative case from previous submission until Austin summit\nresolves what to do with negative cases.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 12, 'created': '2016-05-11 18:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4080c4a4267981dcda5b6aca5d217c8920aa043a', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 13, 'created': '2016-05-12 14:06:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b2a99256fa4379026901a0807084514a1097674d', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nDepends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 14, 'created': '2016-06-20 15:47:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0ef37bf7a1087070a14436f1c793e8e302358b29', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nDepends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 15, 'created': '2016-08-29 23:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0c28ccb6da28e11172026115cb1c5df061b74d9d', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nDepends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 16, 'created': '2016-08-29 23:31:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/824e52938cd568cbef603c10604d24c453371be3', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nDepends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}, {'number': 17, 'created': '2016-09-16 22:29:11.000000000', 'files': ['tempest/common/custom_matchers.py', 'tempest/api/object_storage/test_account_services.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/d8bae804b418f59faf646a1ccc71a0662a4c8519', 'message': 'Object Account Case Additions\n\nAdding validation cases for OPTIONS, added a test case for creating\nagainst an existing account, and a few prefix listing scenarios.\n\nDepends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f\nChange-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c\n'}]",32,306237,d8bae804b418f59faf646a1ccc71a0662a4c8519,95,18,17,20553,,,0,"Object Account Case Additions

Adding validation cases for OPTIONS, added a test case for creating
against an existing account, and a few prefix listing scenarios.

Depends-On: Ic01432939ed9b4cf0cbf20e3244d4d76847f539f
Change-Id: Ia98770894dc6df57fce0763eaffb2099b7b0c30c
",git fetch https://review.opendev.org/openstack/tempest refs/changes/37/306237/4 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/rest_client.py', 'tempest/api/object_storage/test_account_services_negative.py', 'tempest/api/object_storage/test_account_services.py', 'tempest/lib/exceptions.py']",4,59bd02e30eaede1ee2e575d68829a2af80e67f7c,feature/object-account-cases,"class MethodNotAllowed(ClientRestClientException): message = ""Method not allowed"" ",,28,1
openstack%2Ftempest~master~I9d3d80998daccf7b66cfe4227369392b58c6d0da,openstack/tempest,master,I9d3d80998daccf7b66cfe4227369392b58c6d0da,Creating VM on specific Physical Network,ABANDONED,2016-07-18 07:20:50.000000000,2021-07-08 16:47:11.000000000,,"[{'_account_id': 7350}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10016}, {'_account_id': 10368}, {'_account_id': 10385}, {'_account_id': 11670}, {'_account_id': 11671}, {'_account_id': 12017}, {'_account_id': 12708}, {'_account_id': 12714}, {'_account_id': 12881}]","[{'number': 1, 'created': '2016-07-18 07:20:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6e3390ba0e472a6c06f5921d7686e3e07ffae00a', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 2, 'created': '2016-07-18 09:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/def90a75358cd8e3c32b62885773f5934837b509', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 3, 'created': '2016-07-18 09:25:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6c7431a8ff80d8057231fc94f2c61345706153f3', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 4, 'created': '2016-07-18 09:26:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/2a582a877019739eab1261d3740d3d1ba0e0ae7b', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 5, 'created': '2016-07-18 09:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e943f293ea593ed7f6af823e85dcf9c43fedb99', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 6, 'created': '2016-07-18 10:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/73d93bea27d3cc3f5098634c842b4efc3732ceb6', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 7, 'created': '2016-07-18 10:56:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/ca8999d9497aeff6962cd633e22a30410177880b', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 8, 'created': '2016-07-18 11:51:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/551b2a1462382c8c4a089139567fad00a9a0ed6a', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 9, 'created': '2016-07-18 13:18:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4568329419c4b0f8749dde410d7238acb33cea85', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 10, 'created': '2016-07-18 13:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fcca6d0fdfdd31630f6774502e906acb2dbca491', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 11, 'created': '2016-08-18 17:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9eeaaefe65cb7e213ab85ef063acb9b151e51d70', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 12, 'created': '2016-08-19 05:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/52a3e49f9c06af596a8ed5fda6ccd057dd8b1b7e', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 13, 'created': '2016-08-19 11:47:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/464ba6c33acf278b018f33ee36aa14892408fca3', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 14, 'created': '2016-08-24 05:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/08dff58dbccbc68f37540bc587b4785bd9b85c96', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 15, 'created': '2016-08-25 06:28:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/271e50d5dd92c94a642ec1681efb93b6989661ec', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 16, 'created': '2016-08-25 09:10:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7bf8891553cadd4aaf168ea1dda376f61671af99', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 17, 'created': '2016-08-25 11:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/910ec16ec50edd58ea4f48d258faa7961e1195a7', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 18, 'created': '2016-09-07 11:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/74b929940e87a286edd3f8c5340030e5799e4572', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 19, 'created': '2016-09-07 12:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4200a90c62cfccabc29c1349382b8839cd73f9b8', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}, {'number': 20, 'created': '2016-09-16 06:31:35.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/config.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a1174eb694eb36f111cc32d750b3001874f813e', 'message': 'Creating VM on specific Physical Network\n\nCurrently Tempest create a Network in any given Physical Network when multiple Physical network are available .\nConsider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,\nTo fix this issue,\n\nWe can do this by giving an option in tempest.conf.\n1) physical_network for declaring physical network to use.\n2) network_type for declaring network type for network.\n3) physical_network_alt for for declaring second physical network to use.\n\nChange-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da\nCo-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>\n'}]",0,343471,3a1174eb694eb36f111cc32d750b3001874f813e,55,12,20,13342,,,0,"Creating VM on specific Physical Network

Currently Tempest create a Network in any given Physical Network when multiple Physical network are available .
Consider we want physnet 1 for sriov and physnet 2 for OVS or any two different combination ,
To fix this issue,

We can do this by giving an option in tempest.conf.
1) physical_network for declaring physical network to use.
2) network_type for declaring network type for network.
3) physical_network_alt for for declaring second physical network to use.

Change-Id: I9d3d80998daccf7b66cfe4227369392b58c6d0da
Co-Authored-By: Prabhu Murthy <prabhu.m4@hpe.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/71/343471/10 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_network_basic_ops.py', 'tempest/config.py']",3,6e3390ba0e472a6c06f5921d7686e3e07ffae00a,Physnet_options," cfg.StrOpt('physical_network', default=None, help=""Physical network to use for Guest Network""), cfg.StrOpt('network_type', default=None, help=""Network to use for Physical network""), cfg.StrOpt('physical_network_alt', default=None, help=""Second Physical network to use for Guest Network""),",,75,5
openstack%2Ftempest~master~Ic8409bb31d4261e1251137c56f5f7c78aa218301,openstack/tempest,master,Ic8409bb31d4261e1251137c56f5f7c78aa218301,[WIP] Add scenario of retyping encrypted volume,ABANDONED,2016-07-19 03:08:52.000000000,2021-07-08 16:47:08.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}, {'_account_id': 12017}, {'_account_id': 15961}]","[{'number': 1, 'created': '2016-07-19 03:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fd59598394c95b61a6d39ae9940cad41f553eb2b', 'message': 'Add scenario of retyping encrypted volume\n\nThis is to add test to retype volumes to different encryption.\n\nChange-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301\n'}, {'number': 2, 'created': '2016-07-20 03:31:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5c6ca921f34fdabbd7bfbafbedaca1a745d12394', 'message': 'Add scenario of retyping encrypted volume\n\nThis is to add test to retype volumes to different encryption.\n\nDepends-On: I66d1cfad7c37215cadeca9b7d07cb646fb35b50f\nChange-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301\n'}, {'number': 3, 'created': '2016-08-03 02:24:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/528b4eef7714716354068bb2280afa426f826fc2', 'message': 'Add scenario of retyping encrypted volume\n\nThis is to add test to retype volumes to different encryption.\n\nDepends-On: I66d1cfad7c37215cadeca9b7d07cb646fb35b50f\nChange-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301\n'}, {'number': 4, 'created': '2016-08-04 06:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/181c9b1fe5d5e50ce358d5c3ab3b3e31eb17157b', 'message': 'Add scenario of retyping encrypted volume\n\nThis is to add test to retype volumes to different encryption.\n\nDepends-On: I66d1cfad7c37215cadeca9b7d07cb646fb35b50f\nDepends-On: I1265cc2af2acb1d950c7a944e607a9707d2f69e6\nChange-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301\n'}, {'number': 5, 'created': '2016-08-06 23:18:14.000000000', 'files': ['tempest/scenario/test_encrypted_cinder_volumes.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/38b444f9ccdc34e92f9f85c911c76f2b6c160f67', 'message': '[WIP] Add scenario of retyping encrypted volume\n\nThis is to add test to retype volumes to different encryption.\n\nLater more changes will be done to make the jeckins passed in Mitaka\nrelease.\n\nDepends-On: I66d1cfad7c37215cadeca9b7d07cb646fb35b50f\nDepends-On: I1265cc2af2acb1d950c7a944e607a9707d2f69e6\nChange-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301\n'}]",0,343993,38b444f9ccdc34e92f9f85c911c76f2b6c160f67,25,4,5,15961,,,0,"[WIP] Add scenario of retyping encrypted volume

This is to add test to retype volumes to different encryption.

Later more changes will be done to make the jeckins passed in Mitaka
release.

Depends-On: I66d1cfad7c37215cadeca9b7d07cb646fb35b50f
Depends-On: I1265cc2af2acb1d950c7a944e607a9707d2f69e6
Change-Id: Ic8409bb31d4261e1251137c56f5f7c78aa218301
",git fetch https://review.opendev.org/openstack/tempest refs/changes/93/343993/5 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/test_encrypted_cinder_volumes.py'],1,fd59598394c95b61a6d39ae9940cad41f553eb2b,bp/retype-encrypted-volume,"from tempest.common import waiters def create_encrypted_volume_type(self, encryption_provider, volume_type): return volume_type def create_encrypted_volume(self, encryption_provider, volume_type): volume_type = self.create_encrypted_volume_type( encryption_provider, volume_type) @test.idempotent_id('e043da4c-07eb-40c9-929d-f74dc1a0ad05') @test.services('compute', 'volume', 'image') def test_retype_encrypted_cinder_volumes(self): new_type = self.create_encrypted_volume_type( 'nova.volume.encryptors.' 'cryptsetup.CryptsetupEncryptor', volume_type='cryptsetup') volume = self.create_encrypted_volume('nova.volume.encryptors.' 'luks.LuksEncryptor', volume_type='luks') self.volumes_client.retype_volume( volume['id'], new_type=new_type['id'], migration_policy='on-demand') waiters.wait_for_volume_status(self.volumes_client, volume['id'], 'available') volume_dest = ( self.volumes_client.show_volume(volume['id'])['volume']) self.assertEqual(new_type['name'], volume_dest['volume_type']) server = self.launch_instance() self.attach_detach_volume(server, volume) @test.idempotent_id('c65b55f7-e512-4164-bb11-bc416760486e') @test.services('compute', 'volume', 'image') def test_retype_encrypted_cinder_volumes_to_unencrypted(self): new_type = self.create_volume_type(name='unencrypted') volume = self.create_encrypted_volume('nova.volume.encryptors.' 'luks.LuksEncryptor', volume_type='luks') self.volumes_client.retype_volume( volume['id'], new_type=new_type['id'], migration_policy='on-demand') waiters.wait_for_volume_status(self.volumes_client, volume['id'], 'available') volume_dest = ( self.volumes_client.show_volume(volume['id'])['volume']) self.assertEqual(new_type['name'], volume_dest['volume_type']) server = self.launch_instance() self.attach_detach_volume(server, volume)"," def create_encrypted_volume(self, encryption_provider, volume_type):",46,1
openstack%2Ftempest~master~I09312ed00526afdc4b7c7e51c22c9b465a2ef5da,openstack/tempest,master,I09312ed00526afdc4b7c7e51c22c9b465a2ef5da,Extend security group scenario with IPv6 tests,ABANDONED,2015-12-16 22:51:04.000000000,2021-07-08 16:43:32.000000000,,"[{'_account_id': 4656}, {'_account_id': 7872}, {'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 19050}]","[{'number': 1, 'created': '2015-12-16 22:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/89d43dd3eaf979c6e3eea2546605510a07f86159', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\nalso do not overlap across tenants.\n\nNote: security group rules for ssh connections (via floating point)\nstill use ethertype IPv4.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}, {'number': 2, 'created': '2015-12-21 14:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/e098ed6ae42649874d03af87a0709909a425bc9a', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\nalso do not overlap across tenants.\n\nNote: security group rules for ssh connections (via floating point)\nstill use ethertype IPv4.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}, {'number': 3, 'created': '2015-12-22 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/49454bea6e68c0674b18bf7b05858bedc8947b28', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\nalso do not overlap across tenants.\n\nNote: security group rules for ssh connections (via floating point)\nstill use ethertype IPv4.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}, {'number': 4, 'created': '2015-12-23 12:08:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8dd80af67988f658af81e22de8e2968676128ebc', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\nalso do not overlap across tenants.\n\nNote: security group rules for ssh connections (via floating point)\nstill use ethertype IPv4.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}, {'number': 5, 'created': '2016-01-14 06:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/441a43c78c75a58cb4882b76723fe6435e7ad5fa', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\nalso do not overlap across tenants.\n\nNote: security group rules for ssh connections (via floating point)\nstill use ethertype IPv4.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}, {'number': 6, 'created': '2016-06-26 18:13:07.000000000', 'files': ['tempest/scenario/manager.py', 'tempest/scenario/test_security_groups_basic_ops.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/4e0b96ceaa29aeaeb9024668dd6334854d731ebe', 'message': ""Extend security group scenario with IPv6 tests\n\nExtends scenario test_security_groups_basic_ops with tests using\nsecurity group rules with ethertype IPv6.\n\nTo allow cross tenant connectivity via IPv6, _create_subnet method in\nNetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets\ndo not overlap across tenants.\n\nChange-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da\n""}]",3,258700,4e0b96ceaa29aeaeb9024668dd6334854d731ebe,42,6,6,19050,,,0,"Extend security group scenario with IPv6 tests

Extends scenario test_security_groups_basic_ops with tests using
security group rules with ethertype IPv6.

To allow cross tenant connectivity via IPv6, _create_subnet method in
NetworkScenarioTest is updated to ensure that cidr's of IPv6 subnets
do not overlap across tenants.

Change-Id: I09312ed00526afdc4b7c7e51c22c9b465a2ef5da
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/258700/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/scenario/manager.py', 'tempest/scenario/test_security_groups_basic_ops.py']",2,89d43dd3eaf979c6e3eea2546605510a07f86159,secgroupIPv6,"import netaddr _ip_version = 4 if cls._ip_version == 6: if not (CONF.network_feature_enabled.ipv6 and CONF.network_feature_enabled.ipv6_subnet_attributes): raise cls.skipException('IPv6 or its attributes not supported') router_ports = [(port['device_id'], ip['subnet_id']) for port in self._list_ports() if self._is_router_port(port) for ip in port['fixed_ips'] ] network, subnet4, router = self.create_networks( # NOTE: for IPv6 tests, IPv4 subnet is still required # to allow ssh validation via floating ip if self._ip_version == 6: subnet6 = self._create_subnet( network=network, client=tenant.manager.network_client, subnets_client=tenant.manager.subnets_client, ip_version=6, ipv6_ra_mode='slaac', ipv6_address_mode='slaac') subnet6.add_to_router(router.id) tenant.set_network(network, subnet6, router) else: tenant.set_network(network, subnet4, router) server_ip = [i['addr'] for i in server['addresses'][network_name] if i['version'] == self._ip_version ][0] direction='ingress', ethertype='IPv' + str(self._ip_version), # Use fixed ip for IPv6 tests floating = None if self._ip_version == 6 else self.floating_ip_access floating=floating) direction='ingress', ethertype='IPv' + str(self._ip_version), # Use fixed ip for IPv6 tests floating = None if self._ip_version == 6 else self.floating_ip_access floating=floating) floating=floating) (ip['subnet_id'], ip['ip_address'], for port in port_list for ip in port['fixed_ips'] def _setup_v6_cross_tenant_routes(self, source_tenant, dest_tenant): dest_ext_gateway = dest_tenant.router['external_gateway_info'] dest_router_ext_ips = dest_ext_gateway['external_fixed_ips'] next_hop = str([ip['ip_address'] for ip in dest_router_ext_ips if netaddr.valid_ipv6(ip['ip_address'])][0]) routes = [{'destination': str(dest_tenant.subnet['cidr']), 'nexthop': next_hop}] # Update of routes via external network requires admin credentials client = self.admin_manager.network_client client.update_extra_routes(source_tenant.router['id'], routes) # For IPv6, setup cross-tenant routes if self._ip_version == 6: self._setup_v6_cross_tenant_routes(source_tenant, dest_tenant) self._setup_v6_cross_tenant_routes(dest_tenant, source_tenant) # cross tenant check ethertype='IPv' + str(self._ip_version), # Test uses ssh floating ip path for connectivity check # so it is not relevant for IPv6 tests if self._ip_version == 6: raise self.skipException('Test relies on IPv4 floating ip') class TestSecurityGroupsV6BasicOps(TestSecurityGroupsBasicOps): _ip_version = 6"," router_ports = [(i['device_id'], i['fixed_ips'][0]['subnet_id']) for i in self._list_ports() if self._is_router_port(i)] network, subnet, router = self.create_networks( tenant.set_network(network, subnet, router) server_ip = server['addresses'][network_name][0]['addr'] direction='ingress' floating=self.floating_ip_access) direction='ingress' floating=self.floating_ip_access) floating=self.floating_ip_access) (port['fixed_ips'][0]['subnet_id'], port['fixed_ips'][0]['ip_address'], for port in port_list if port['fixed_ips'] # cross tenant check",86,20
openstack%2Ftempest~master~Ib693cbce96b7f5598e4fb180eda230c479950002,openstack/tempest,master,Ib693cbce96b7f5598e4fb180eda230c479950002,Moving test cases  from Neutron to Tempest,ABANDONED,2016-07-21 07:59:10.000000000,2021-07-08 16:43:28.000000000,,"[{'_account_id': 8556}, {'_account_id': 10385}]","[{'number': 1, 'created': '2016-07-21 07:59:10.000000000', 'files': ['tempest/api/network/test_networks.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/bc38f30e75f592cbd44886d0d7bd9906fc323110', 'message': 'Moving test cases  from Neutron to Tempest\n\nMoving test_create_update_network_description from Neutron\nto Tempest.\nThis is recommended in\nhttps://etherpad.openstack.org/p/neutron-tempest-defork\n\nChange-Id: Ib693cbce96b7f5598e4fb180eda230c479950002\n'}]",0,345226,bc38f30e75f592cbd44886d0d7bd9906fc323110,6,2,1,20671,,,0,"Moving test cases  from Neutron to Tempest

Moving test_create_update_network_description from Neutron
to Tempest.
This is recommended in
https://etherpad.openstack.org/p/neutron-tempest-defork

Change-Id: Ib693cbce96b7f5598e4fb180eda230c479950002
",git fetch https://review.opendev.org/openstack/tempest refs/changes/26/345226/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/network/test_networks.py'],1,bc38f30e75f592cbd44886d0d7bd9906fc323110,neutron_tempest," def _create_network(self, description, shared=False): post_body = {'name': data_utils.rand_name('network-'), 'shared': shared, 'description': description} body = self.networks_client.create_network(**post_body) network = body['network'] self.addCleanup( self.networks_client.delete_network, network['id']) return network @test.idempotent_id('c72c1c0c-2193-4aca-ccc4-b1442640bbbb') @test.requires_ext( extension=""standard-attr-description"", service=""network"") def test_create_update_network_description(self): body = self._create_network(description='d1') self.assertEqual('d1', body['description']) net_id = body['id'] body = self.networks_client.list_networks(id=net_id)['networks'][0] self.assertEqual('d1', body['description']) body = self.networks_client.update_network( body['id'], description='d2') self.assertEqual('d2', body['network']['description']) body = self.networks_client.list_networks(id=net_id)['networks'][0] self.assertEqual('d2', body['description']) ",,24,0
openstack%2Ftempest~master~I8c9791a4818a55802ef81153a120a05507415916,openstack/tempest,master,I8c9791a4818a55802ef81153a120a05507415916,Tie in resource configuration,ABANDONED,2016-02-24 19:25:22.000000000,2021-07-08 16:43:13.000000000,,"[{'_account_id': 8001}, {'_account_id': 8556}, {'_account_id': 9364}, {'_account_id': 9732}, {'_account_id': 10385}, {'_account_id': 12017}]","[{'number': 1, 'created': '2016-02-24 19:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/81f36f7a968f9e5315502dd2e74a781898f6ca66', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}, {'number': 2, 'created': '2016-02-26 15:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b9e934b0f861bdca3e520e52c8debda88b50f1c4', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}, {'number': 3, 'created': '2016-02-29 17:10:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/9bfc3495ca8d829d3341f20da204cc803266075e', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}, {'number': 4, 'created': '2016-03-01 19:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c8ed8257b7f67486979c1bb6921a9e36f2d79c9b', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}, {'number': 5, 'created': '2016-03-08 22:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3a3c88fe6fb877babfc2c7c66f217cc62dd1da78', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}, {'number': 6, 'created': '2016-03-10 23:01:30.000000000', 'files': ['tempest/common/resources.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e21b1745bec01d124134a458b2091b9fe3c1e79', 'message': 'Tie in resource configuration\n\nTying in configuration so it is available to the base test class.\n\nPartially implements blueprint tempest-resources\n\nChange-Id: I8c9791a4818a55802ef81153a120a05507415916\n'}]",2,284365,8e21b1745bec01d124134a458b2091b9fe3c1e79,32,6,6,8001,,,0,"Tie in resource configuration

Tying in configuration so it is available to the base test class.

Partially implements blueprint tempest-resources

Change-Id: I8c9791a4818a55802ef81153a120a05507415916
",git fetch https://review.opendev.org/openstack/tempest refs/changes/65/284365/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/common/resources.py'],1,81f36f7a968f9e5315502dd2e74a781898f6ca66,bp/tempest-resources,"# Copyright 2016 IBM Corp. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from tempest.common.resource_configuration import ResourceConfiguration from tempest import config CONF = config.CONF _RES = CONF.resources RESOURCES = ResourceConfiguration( test_resources_file=_RES.test_resources_file, image_id = _RES.image_id, image_user = CONF.validation.image_ssh_user, image_password = CONF.validation.image_ssh_password, image_id_alt = _RES.image_id_alt, flavor_id = _RES.flavor_id, flavor_id_alt = _RES.flavor_id_alt) ",,28,0
openstack%2Fkolla~master~I19f57d258021ff660df6b6b95e8205b69f3bea85,openstack/kolla,master,I19f57d258021ff660df6b6b95e8205b69f3bea85,CI: Fix epel url override,MERGED,2021-07-01 07:20:18.000000000,2021-07-08 16:42:39.000000000,2021-07-01 13:01:11.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-07-01 07:20:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/dbd01ee7f0205106dfc3ba67e2f8efc5d52f13e6', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\n\n[epel]\nname=Extra Packages for Enterprise Linux $releasever - $basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n'}, {'number': 2, 'created': '2021-07-01 07:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1e8f72c7b60d356db90d0caac7f9ca3c5ae6a088', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n'}, {'number': 3, 'created': '2021-07-01 09:10:13.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/acc8cb9903aa2a97342d1ca76bc9e274361194c1', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n'}]",2,798995,acc8cb9903aa2a97342d1ca76bc9e274361194c1,16,5,3,22629,,,0,"CI: Fix epel url override

epel-release now installs epel*.repos with following baseurl:
baseurl=https://download.example/pub/epel/$releasever/Everything/$basearch

Change-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85
",git fetch https://review.opendev.org/openstack/kolla refs/changes/95/798995/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,dbd01ee7f0205106dfc3ba67e2f8efc5d52f13e6,," -e ""s|^#baseurl=http://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \"," -e ""s|^#baseurl=http://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \",2,2
openstack%2Fkolla~master~I987ea163e4c4e331e0e2c136b7f55890dd9d469b,openstack/kolla,master,I987ea163e4c4e331e0e2c136b7f55890dd9d469b,Bump up cAdvisor's version,MERGED,2021-06-21 10:39:52.000000000,2021-07-08 16:42:09.000000000,2021-07-02 15:59:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-21 10:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/14db208028864a34f01b62ed87f5c684e73b3ad1', 'message': ""Bump up cAdvisor's version\n\nChange-Id: I987ea163e4c4e331e0e2c136b7f55890dd9d469b\n""}, {'number': 2, 'created': '2021-06-22 07:06:13.000000000', 'files': ['docker/prometheus/prometheus-cadvisor/Dockerfile.j2', 'releasenotes/notes/update-cadvisor-v0.38.7-a0ff88006b5ff3f7.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2676a66163648ca76326d96b891b8ae53dac6012', 'message': ""Bump up cAdvisor's version\n\nChange-Id: I987ea163e4c4e331e0e2c136b7f55890dd9d469b\n""}]",4,797275,2676a66163648ca76326d96b891b8ae53dac6012,20,3,2,32657,,,0,"Bump up cAdvisor's version

Change-Id: I987ea163e4c4e331e0e2c136b7f55890dd9d469b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/75/797275/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/prometheus/prometheus-cadvisor/Dockerfile.j2'],1,14db208028864a34f01b62ed87f5c684e73b3ad1,,ENV prometheus_cadvisor_version=0.38.7 'https://snapshot.debian.org/archive/debian/20210601T022916Z/pool/main/c/cadvisor/cadvisor_0.38.7+ds1-2+b3_amd64.deb',ENV prometheus_cadvisor_version=0.35.0 'https://snapshot.debian.org/archive/debian/20180503T060640Z/pool/main/c/cadvisor/cadvisor_0.27.1+dfsg2-1_arm64.deb',2,2
openstack%2Fkolla-ansible~master~I221998092715355dd8b972bf2575d65c3259a4da,openstack/kolla-ansible,master,I221998092715355dd8b972bf2575d65c3259a4da,Update previous_release to Wallaby,MERGED,2021-06-15 10:43:18.000000000,2021-07-08 16:41:52.000000000,2021-07-01 10:31:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 10:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e54ab4859908b3b278290b32a518e609f4d614a', 'message': 'Update previous_release to Victoria\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nChange-Id: I221998092715355dd8b972bf2575d65c3259a4da\n'}, {'number': 2, 'created': '2021-06-15 11:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/28f772f385a829bc3cd3f3efadbdc6468be4b035', 'message': 'Update previous_release to Wallaby\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nChange-Id: I221998092715355dd8b972bf2575d65c3259a4da\n'}, {'number': 3, 'created': '2021-06-15 18:58:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a513f737f312c63c8b04d6173573a0d7c6c007f7', 'message': 'Update previous_release to Wallaby\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nChange-Id: I221998092715355dd8b972bf2575d65c3259a4da\n'}, {'number': 4, 'created': '2021-06-16 09:26:31.000000000', 'files': ['ansible/group_vars/all.yml', 'tests/templates/globals-default.j2', 'zuul.d/base.yaml', 'zuul.d/nodesets.yaml', 'zuul.d/jobs.yaml', 'ansible/roles/prechecks/vars/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/38ca1431d765aacb5c03ee0fef16e28d5178c938', 'message': 'Update previous_release to Wallaby\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nChange-Id: I221998092715355dd8b972bf2575d65c3259a4da\n'}]",2,796422,38ca1431d765aacb5c03ee0fef16e28d5178c938,25,3,4,22629,,,0,"Update previous_release to Wallaby

Part of agreed Xena release process cadence:
R-17 Switch source images to current release

Change-Id: I221998092715355dd8b972bf2575d65c3259a4da
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/22/796422/4 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/group_vars/all.yml', 'zuul.d/base.yaml']",2,7e54ab4859908b3b278290b32a518e609f4d614a,xena_r17, previous_release: wallaby, previous_release: victoria,2,2
openstack%2Fkolla-ansible~master~Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44,openstack/kolla-ansible,master,Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44,CI: test interface names with dashes,NEW,2021-06-03 09:36:23.000000000,2021-07-08 16:40:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-03 09:36:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/984e7873c32a04d742750e36386175efd5c41b7a', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}, {'number': 2, 'created': '2021-06-03 10:39:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98a692e3452e24d7b7d815bb6efcfddf6dd9c1f9', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}, {'number': 3, 'created': '2021-06-03 11:13:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/17e5ad9ab8c914ac876f171279855bc0f9f38086', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}, {'number': 4, 'created': '2021-06-03 12:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/34a578e054a63b79f0d2cd0ba5922ec4d7e60d8a', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}, {'number': 5, 'created': '2021-06-03 14:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/87d7af83eca04cffe8565f8eacad8faa1693481d', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}, {'number': 6, 'created': '2021-06-04 16:11:23.000000000', 'files': ['roles/cephadm/tasks/main.yml', 'tests/run.yml', 'zuul.d/base.yaml', 'tests/templates/neutron-server-overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/98dcf77039802a7ec3e4f6d068164516407d4ab1', 'message': 'CI: test interface names with dashes\n\nInterface names with dashes can cause problems in Ansible since dashes\nare replaced with underscores when referencing facts.\n\nChange-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44\nRelated-Bug: #1927357\n'}]",0,794545,98dcf77039802a7ec3e4f6d068164516407d4ab1,23,1,6,14826,,,0,"CI: test interface names with dashes

Interface names with dashes can cause problems in Ansible since dashes
are replaced with underscores when referencing facts.

Change-Id: Ib15f81120d353ebcf8965dc0aaba90f3a9b0ec44
Related-Bug: #1927357
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/45/794545/5 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/base.yaml'],1,984e7873c32a04d742750e36386175efd5c41b7a,, # NOTE(mgoddard): Test the use of interface names with dashes. api_interface_name: vxlan-0 neutron_external_bridge_name: br-0 neutron_external_vxlan_interface_name: vxlan-1, api_interface_name: vxlan0 neutron_external_bridge_name: br0 neutron_external_vxlan_interface_name: vxlan1,4,3
openstack%2Fkolla~stable%2Fwallaby~I19f57d258021ff660df6b6b95e8205b69f3bea85,openstack/kolla,stable/wallaby,I19f57d258021ff660df6b6b95e8205b69f3bea85,CI: Fix epel url override,MERGED,2021-07-01 14:51:09.000000000,2021-07-08 16:40:39.000000000,2021-07-02 08:39:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 14:51:09.000000000', 'files': ['tests/templates/template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/65538159983ad0fcd66044cae23ae46c22834b36', 'message': 'CI: Fix epel url override\n\nepel-release now installs epel*.repos with following baseurl:\nbaseurl=https://download.example/pub/epel/$releasever/Everything/$basearch\n\nChange-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85\n(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)\n'}]",0,799064,65538159983ad0fcd66044cae23ae46c22834b36,9,3,1,14826,,,0,"CI: Fix epel url override

epel-release now installs epel*.repos with following baseurl:
baseurl=https://download.example/pub/epel/$releasever/Everything/$basearch

Change-Id: I19f57d258021ff660df6b6b95e8205b69f3bea85
(cherry picked from commit acc8cb9903aa2a97342d1ca76bc9e274361194c1)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/799064/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/template_overrides.j2'],1,65538159983ad0fcd66044cae23ae46c22834b36,," -e ""s|^#baseurl=http://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.example/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|#baseurl=http://download.example/pub|"" \"," -e ""s|^#baseurl=http://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^#baseurl=https://download.fedoraproject.org/pub|baseurl=http://{{ nodepool_mirror_host }}|"" \ -e ""s|^baseurl=http://{{ nodepool_mirror_host }}|baseurl=http://download.fedoraproject.org/pub|"" \",3,3
openstack%2Fkolla-ansible~master~If17e5ae1cfe040f33f8309a97b4dcfa87af862a3,openstack/kolla-ansible,master,If17e5ae1cfe040f33f8309a97b4dcfa87af862a3,Remove rally and panko again,MERGED,2021-07-01 08:56:19.000000000,2021-07-08 16:40:10.000000000,2021-07-01 11:30:06.000000000,"[{'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 08:56:19.000000000', 'files': ['ansible/roles/rally/defaults/main.yml', 'ansible/roles/panko/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6131b68562efff261c387cf9338d3e5c013ea963', 'message': 'Remove rally and panko again\n\nThese files got accidentally added back in\nI7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1.\n\nChange-Id: If17e5ae1cfe040f33f8309a97b4dcfa87af862a3\n'}]",0,799016,6131b68562efff261c387cf9338d3e5c013ea963,8,2,1,14826,,,0,"Remove rally and panko again

These files got accidentally added back in
I7e9d5c9b8b9164d4aee3abb4e37c8f28d98ff5d1.

Change-Id: If17e5ae1cfe040f33f8309a97b4dcfa87af862a3
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/16/799016/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/panko/defaults/main.yml', 'ansible/roles/rally/defaults/main.yml']",2,6131b68562efff261c387cf9338d3e5c013ea963,,,"--- project_name: ""rally"" rally_services: rally: container_name: ""rally"" image: ""{{ rally_image_full }}"" enabled: true group: ""rally"" volumes: ""{{ rally_default_volumes + rally_extra_volumes }}"" dimensions: ""{{ rally_dimensions }}"" ######## # Docker ######## rally_install_type: ""{{ kolla_install_type }}"" rally_image: ""{{ docker_registry ~ '/' if docker_registry else '' }}{{ docker_namespace }}/{{ kolla_base_distro }}-{{ rally_install_type }}-rally"" rally_tag: ""{{ openstack_tag }}"" rally_image_full: ""{{ rally_image }}:{{ rally_tag }}"" rally_dimensions: ""{{ default_container_dimensions }}"" rally_default_volumes: - ""{{ node_config_directory }}/rally/:{{ container_config_directory }}/:ro"" - ""/etc/localtime:/etc/localtime:ro"" - ""{{ '/etc/timezone:/etc/timezone:ro' if ansible_facts.os_family == 'Debian' else '' }}"" - ""kolla_logs:/var/log/kolla/"" rally_extra_volumes: ""{{ default_extra_volumes }}"" #################### # Database #################### rally_database_name: ""rally"" rally_database_user: ""{% if use_preconfigured_databases | bool and use_common_mariadb_user | bool %}{{ database_user }}{% else %}rally{% endif %}"" rally_database_address: ""{{ database_address | put_address_in_context('url') }}:{{ database_port }}"" ",0,115
openstack%2Fkolla-ansible~master~I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed,openstack/kolla-ansible,master,I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed,CI: Avoid generating a nova key in cephadm scenario,MERGED,2021-06-30 13:27:58.000000000,2021-07-08 16:40:07.000000000,2021-06-30 17:53:31.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-30 13:27:58.000000000', 'files': ['tests/run.yml', 'roles/cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6e18495892a9fbe0431764cbd18f7a2e902d8746', 'message': 'CI: Avoid generating a nova key in cephadm scenario\n\nWe use the cinder key for Nova by default, so a separate nova key is no\nlonger used.\n\nChange-Id: I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed\n'}]",0,798850,6e18495892a9fbe0431764cbd18f7a2e902d8746,9,3,1,14826,,,0,"CI: Avoid generating a nova key in cephadm scenario

We use the cinder key for Nova by default, so a separate nova key is no
longer used.

Change-Id: I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/50/798850/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'roles/cephadm/defaults/main.yml']",2,6e18495892a9fbe0431764cbd18f7a2e902d8746,,," - client.nova mon 'profile rbd' osd 'profile rbd pool=volumes, profile rbd pool=vms, profile rbd-read-only pool=images' mgr 'profile rbd pool=volumes, profile rbd pool=vms' -o /var/run/ceph/ceph.client.nova.keyring",0,2
openstack%2Fkolla~stable%2Fwallaby~Ie276b7877ca2edd31dd7a107d70b75ae1735f744,openstack/kolla,stable/wallaby,Ie276b7877ca2edd31dd7a107d70b75ae1735f744,Fix build of debian images,MERGED,2021-06-29 06:11:34.000000000,2021-07-08 16:40:04.000000000,2021-06-29 10:17:46.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 27339}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-29 06:11:34.000000000', 'files': ['releasenotes/notes/bug-1933770-c08c6804aa5d9e61.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/66dbe48621eb12f9920633630234ed508e81a309', 'message': 'Fix build of debian images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbullseye debian images build is failing.\nThis patch is changing what kolla expects in\nPRETTY_NAME var and fixing build of debian images.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n(cherry picked from commit 7344e65aa9af18cceaeae1d7d6b0bd3b59402bbc)\n'}]",0,798330,66dbe48621eb12f9920633630234ed508e81a309,9,4,1,30491,,,0,"Fix build of debian images

Kolla expects different PRETTY_NAME var as
debian defined in /etc/os-release. Therefore
bullseye debian images build is failing.
This patch is changing what kolla expects in
PRETTY_NAME var and fixing build of debian images.

Closes-Bug: #1933770
Change-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744
(cherry picked from commit 7344e65aa9af18cceaeae1d7d6b0bd3b59402bbc)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/30/798330/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1933770-c08c6804aa5d9e61.yaml', 'kolla/common/config.py']",2,66dbe48621eb12f9920633630234ed508e81a309,bug/1933770-stable/wallaby," 'debian': 'Debian GNU/Linux 11 (bullseye)',"," 'debian': 'Debian GNU/Linux bullseye',",7,1
openstack%2Fkolla~stable%2Fwallaby~Ib74eecd46617af51e23a3ccad664767b1bf6e04f,openstack/kolla,stable/wallaby,Ib74eecd46617af51e23a3ccad664767b1bf6e04f,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-28 07:00:05.000000000,2021-07-08 16:39:52.000000000,2021-07-02 16:07:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 07:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0f4f86c7af196de3180c2097d082edbfbf61fc3f', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change patches the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 2, 'created': '2021-06-28 07:38:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bcd74294772c6cc6e3fc518cb6538759f93267d3', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 3, 'created': '2021-06-28 09:30:10.000000000', 'files': ['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0c9f4a055ad9532fdf2c0aee9fc74d7289d9c8fd', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}]",0,798106,0c9f4a055ad9532fdf2c0aee9fc74d7289d9c8fd,24,4,3,30491,,,0,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/06/798106/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml']",3,0f4f86c7af196de3180c2097d082edbfbf61fc3f,ci-emergency-fix-for-zuul-4-6," vars: # NOTE(yoctozepto): We need Docker SDK, the best source is Kolla venv. ansible_python_interpreter: ""{{ virtualenv_path }}/bin/python"" tasks:"," tasks: - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present ",8,9
openstack%2Ftripleo-ansible~stable%2Fwallaby~I94283e928080a417a5ea505c789e6485a3334129,openstack/tripleo-ansible,stable/wallaby,I94283e928080a417a5ea505c789e6485a3334129,Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.,MERGED,2021-07-08 05:55:03.000000000,2021-07-08 16:39:38.000000000,2021-07-08 16:39:38.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-08 05:55:03.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79c69d5c6df72762c46e0f79255830fd9969f442', 'message': 'Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.\n\nReplace the hardcoded reference to /home/stack by the HOME\nenvironment variable.\n\nChange-Id: I94283e928080a417a5ea505c789e6485a3334129\n(cherry picked from commit 06a102a620e0830c3d9af6bb1bcbcf6a5cdc4df8)\n'}]",0,799889,79c69d5c6df72762c46e0f79255830fd9969f442,9,7,1,26343,,,0,"Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.

Replace the hardcoded reference to /home/stack by the HOME
environment variable.

Change-Id: I94283e928080a417a5ea505c789e6485a3334129
(cherry picked from commit 06a102a620e0830c3d9af6bb1bcbcf6a5cdc4df8)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/89/799889/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'],1,79c69d5c6df72762c46e0f79255830fd9969f442,," tripleo_backup_and_restore_mysql_backup_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"""," tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql""",2,2
openstack%2Ftripleo-heat-templates~master~Ic68fbc91e538ebb101b67b2abb3e285a79d770ab,openstack/tripleo-heat-templates,master,Ic68fbc91e538ebb101b67b2abb3e285a79d770ab,Moves undercloud upgrade introspection data migration to step 1,MERGED,2021-07-07 13:48:47.000000000,2021-07-08 16:38:53.000000000,2021-07-08 16:38:53.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-07 13:48:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08151845887c0b5d3b9c2e133789ad402364e452', 'message': 'DNM testing https://bugs.launchpad.net/tripleo/+bug/1934658\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/793393\nChange-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab\n'}, {'number': 2, 'created': '2021-07-08 09:11:04.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dce6bee2f9e477fd53f01b76b8fad4c7ef79cf8b', 'message': 'Moves undercloud upgrade introspection data migration to step 1\n\nThis moves the ironic introspection data migration from swift\nto dbase to step1 of upgrade_tasks. It was previously in step3 but\nthat caused related-bug since mysql is down at that point. Needed\nby [1] to fix the failing undercloud-upgrade job.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393\nRelated-Bug: 1934658\n\nChange-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab\n'}]",1,799832,dce6bee2f9e477fd53f01b76b8fad4c7ef79cf8b,18,5,2,8449,,,0,"Moves undercloud upgrade introspection data migration to step 1

This moves the ironic introspection data migration from swift
to dbase to step1 of upgrade_tasks. It was previously in step3 but
that caused related-bug since mysql is down at that point. Needed
by [1] to fix the failing undercloud-upgrade job.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393
Related-Bug: 1934658

Change-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/32/799832/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,08151845887c0b5d3b9c2e133789ad402364e452,wallaby-upgrade-jobs, - step|int == 1, - step|int == 3,1,1
openstack%2Ftripleo-quickstart-extras~master~Ie61f7b3baf24cca7c1121e91298b075fde40b0f3,openstack/tripleo-quickstart-extras,master,Ie61f7b3baf24cca7c1121e91298b075fde40b0f3,Use openstack commands for undercloud sanity check,MERGED,2021-06-28 09:32:27.000000000,2021-07-08 16:38:45.000000000,2021-07-08 16:38:45.000000000,"[{'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 09:32:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/928d034a1d93e523cfbfcc4fdc2632fa440ebf47', 'message': 'Use openstack commands for undercloud sanity check\n\nAlso removes the user/catalog listing to work with\\\nkeystoneless undercloud.\n\nChange-Id: Ie61f7b3baf24cca7c1121e91298b075fde40b0f3\n'}, {'number': 2, 'created': '2021-06-28 12:11:52.000000000', 'files': ['roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b7b537b36a90b5554fa11a1dae617be9d7ef2f6e', 'message': 'Use openstack commands for undercloud sanity check\n\nAlso removes the user/catalog listing to work with\nkeystoneless undercloud.\n\nChange-Id: Ie61f7b3baf24cca7c1121e91298b075fde40b0f3\n'}]",2,798274,b7b537b36a90b5554fa11a1dae617be9d7ef2f6e,30,6,2,8833,,,0,"Use openstack commands for undercloud sanity check

Also removes the user/catalog listing to work with
keystoneless undercloud.

Change-Id: Ie61f7b3baf24cca7c1121e91298b075fde40b0f3
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/74/798274/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-undercloud/templates/undercloud-sanity-check.sh.j2'],1,928d034a1d93e523cfbfcc4fdc2632fa440ebf47,keystoneless,citest openstack compute service list citest openstack image listcitest openstack subnet list citest openstack network list citest openstack network agent list,citest openstack user list citest openstack catalog listcitest nova service-list citest glance image-listcitest neutron subnet-list citest neutron net-list citest neutron agent-list,5,7
openstack%2Fkolla-ansible~stable%2Fwallaby~I53892137eb65ecc9530bd3859c651b12ab228a58,openstack/kolla-ansible,stable/wallaby,I53892137eb65ecc9530bd3859c651b12ab228a58,CI: fix backups Ceph pool name,MERGED,2021-07-01 18:08:40.000000000,2021-07-08 16:37:47.000000000,2021-07-02 08:09:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 18:08:40.000000000', 'files': ['roles/cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/47f768d6825d8de3d7e3db85361253cd98b3ae2b', 'message': ""CI: fix backups Ceph pool name\n\nWe configure Cinder to use a 'backups' pool by default, but in CI we\ncreate a 'backup' pool in Ceph. This change fixes CI to use 'backups'.\n\nChange-Id: I53892137eb65ecc9530bd3859c651b12ab228a58\n(cherry picked from commit 21efaf3f4e6d0ee4cc22d70180bcb46b66fc0df9)\n""}]",0,799075,47f768d6825d8de3d7e3db85361253cd98b3ae2b,9,4,1,30491,,,0,"CI: fix backups Ceph pool name

We configure Cinder to use a 'backups' pool by default, but in CI we
create a 'backup' pool in Ceph. This change fixes CI to use 'backups'.

Change-Id: I53892137eb65ecc9530bd3859c651b12ab228a58
(cherry picked from commit 21efaf3f4e6d0ee4cc22d70180bcb46b66fc0df9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/75/799075/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/cephadm/defaults/main.yml'],1,47f768d6825d8de3d7e3db85361253cd98b3ae2b,, - backups, - backup,1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~Ie59b3777c0a2c142b580addd67e279bc4b2f2c90,openstack/kolla-ansible,stable/wallaby,Ie59b3777c0a2c142b580addd67e279bc4b2f2c90,magnum: Add CA certificate configuration for internal TLS,MERGED,2021-07-01 11:34:44.000000000,2021-07-08 16:37:42.000000000,2021-07-02 10:07:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 11:34:44.000000000', 'files': ['releasenotes/notes/fix-magnum-tls-cacert-dd5ab5729391beb2.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/270b237b379ee23ce90fb1fd3a2533a4e5b6b9b9', 'message': 'magnum: Add CA certificate configuration for internal TLS\n\nMagnum has various sections in its configuration file for OpenStack\nclients. When internal TLS is enabled, these may need a CA certificate\nto be specified.\n\nThis change adds a CA certificate configuration, based on\nopenstack_cacert, for all clients using internal endpoints.\n\nNote: we are explicitly not adding the configuration for the\n[magnum_client] ca_file and [drivers] openstack_ca_file options, since\nthese use the public endpoint by default. These options may be\nprovided via custom configuration if necessary.\n\nChange-Id: Ie59b3777c0a2c142b580addd67e279bc4b2f2c90\nCo-Authored-By: Kyle Dean\nCloses-Bug: #1919389\n(cherry picked from commit 48f0957a1c9c3ef0cac77642f058fa9cb47fbbc8)\n'}]",0,798893,270b237b379ee23ce90fb1fd3a2533a4e5b6b9b9,9,3,1,14826,,,0,"magnum: Add CA certificate configuration for internal TLS

Magnum has various sections in its configuration file for OpenStack
clients. When internal TLS is enabled, these may need a CA certificate
to be specified.

This change adds a CA certificate configuration, based on
openstack_cacert, for all clients using internal endpoints.

Note: we are explicitly not adding the configuration for the
[magnum_client] ca_file and [drivers] openstack_ca_file options, since
these use the public endpoint by default. These options may be
provided via custom configuration if necessary.

Change-Id: Ie59b3777c0a2c142b580addd67e279bc4b2f2c90
Co-Authored-By: Kyle Dean
Closes-Bug: #1919389
(cherry picked from commit 48f0957a1c9c3ef0cac77642f058fa9cb47fbbc8)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/798893/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/fix-magnum-tls-cacert-dd5ab5729391beb2.yaml', 'ansible/roles/magnum/templates/magnum.conf.j2']",2,270b237b379ee23ce90fb1fd3a2533a4e5b6b9b9,,ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}ca_file = {{ openstack_cacert }}cafile = {{ openstack_cacert }},,13,0
openstack%2Fkolla-ansible~stable%2Fwallaby~I0d388851c8b953af0494e44ae569e7eb9e15c326,openstack/kolla-ansible,stable/wallaby,I0d388851c8b953af0494e44ae569e7eb9e15c326,Make it possible to override automatic fluentd version detection,MERGED,2021-07-01 09:30:44.000000000,2021-07-08 16:37:40.000000000,2021-07-02 09:27:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 28048}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 09:30:44.000000000', 'files': ['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9bf681dd985d729006874489ce088f598b88a550', 'message': 'Make it possible to override automatic fluentd version detection\n\nOne use case for this is so that you can generate config in a CI job\nwithout access to the container repository. It also removes the\ndependency of having docker configured for config generation.\n\nTrivialFix\n\nChange-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326\n(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)\n'}]",0,798889,9bf681dd985d729006874489ce088f598b88a550,10,4,1,14826,,,0,"Make it possible to override automatic fluentd version detection

One use case for this is so that you can generate config in a CI job
without access to the container repository. It also removes the
dependency of having docker configured for config generation.

TrivialFix

Change-Id: I0d388851c8b953af0494e44ae569e7eb9e15c326
(cherry picked from commit 25c33f9c9477c3a7b5f48a50157b16b1b7c595b1)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/89/798889/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/common/tasks/config.yml', 'releasenotes/notes/optional-fluentd-version-detection-3cb8b8a8ebc02d0a.yaml']",2,9bf681dd985d729006874489ce088f598b88a550,,--- features: - | Adds the ability to override the automatic detection of `fluentd_version` and `fluentd_binary`. These can now be defined as extra variables. This removes the dependency of having docker configured for config generation. ,,15,3
openstack%2Fkolla~master~Id27f610952f5e573804799ef445eaa8753ae9b14,openstack/kolla,master,Id27f610952f5e573804799ef445eaa8753ae9b14,Switch OPENSTACK_RELEASE back to master,MERGED,2021-06-15 09:56:45.000000000,2021-07-08 16:37:39.000000000,2021-07-01 13:01:17.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-15 09:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/de2787e376ceadc28827d8a706dcc2e908881bcb', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nChange-Id: Id27f610952f5e573804799ef445eaa8753ae9b14\n'}, {'number': 2, 'created': '2021-06-15 10:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ccfcd7a0775931aa1bea267fa95299ce1abd8fda', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nChange-Id: Id27f610952f5e573804799ef445eaa8753ae9b14\n'}, {'number': 3, 'created': '2021-06-15 13:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6c108cb63ff402e6f9998a71b28c0bd710ea7897', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/796422\n\nChange-Id: Id27f610952f5e573804799ef445eaa8753ae9b14\n'}, {'number': 4, 'created': '2021-07-01 08:39:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/1e4f26b068195a48f0fac887b92fe27c816231f4', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/796422\n\nChange-Id: Id27f610952f5e573804799ef445eaa8753ae9b14\n'}, {'number': 5, 'created': '2021-07-01 09:13:47.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/76c55483bcf57f25cfd904c9590f24b2e4011bd6', 'message': 'Switch OPENSTACK_RELEASE back to master\n\nPart of agreed Xena release process cadence:\nR-17 Switch source images to current release\n\nDepends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/796422\n\nChange-Id: Id27f610952f5e573804799ef445eaa8753ae9b14\n'}]",0,796415,76c55483bcf57f25cfd904c9590f24b2e4011bd6,36,3,5,22629,,,0,"Switch OPENSTACK_RELEASE back to master

Part of agreed Xena release process cadence:
R-17 Switch source images to current release

Depends-On: https://review.opendev.org/c/openstack/kolla-ansible/+/796422

Change-Id: Id27f610952f5e573804799ef445eaa8753ae9b14
",git fetch https://review.opendev.org/openstack/kolla refs/changes/15/796415/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,de2787e376ceadc28827d8a706dcc2e908881bcb,xena_r17,OPENSTACK_RELEASE = 'master',OPENSTACK_RELEASE = 'wallaby',1,1
openstack%2Fkolla-ansible~stable%2Fwallaby~I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed,openstack/kolla-ansible,stable/wallaby,I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed,CI: Avoid generating a nova key in cephadm scenario,MERGED,2021-07-01 09:04:30.000000000,2021-07-08 16:37:37.000000000,2021-07-02 09:57:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-07-01 09:04:30.000000000', 'files': ['tests/run.yml', 'roles/cephadm/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d3ebe14761d0faa34cd161b269c6eef199101ee', 'message': 'CI: Avoid generating a nova key in cephadm scenario\n\nWe use the cinder key for Nova by default, so a separate nova key is no\nlonger used.\n\nChange-Id: I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed\n(cherry picked from commit 6e18495892a9fbe0431764cbd18f7a2e902d8746)\n'}]",0,798887,6d3ebe14761d0faa34cd161b269c6eef199101ee,9,3,1,14826,,,0,"CI: Avoid generating a nova key in cephadm scenario

We use the cinder key for Nova by default, so a separate nova key is no
longer used.

Change-Id: I49ce6d36747e6c7d3a389d0afd2d034e8afdf8ed
(cherry picked from commit 6e18495892a9fbe0431764cbd18f7a2e902d8746)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/87/798887/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/run.yml', 'roles/cephadm/defaults/main.yml']",2,6d3ebe14761d0faa34cd161b269c6eef199101ee,,," - client.nova mon 'profile rbd' osd 'profile rbd pool=volumes, profile rbd pool=vms, profile rbd-read-only pool=images' mgr 'profile rbd pool=volumes, profile rbd pool=vms' -o /var/run/ceph/ceph.client.nova.keyring",0,2
openstack%2Fkolla-ansible~stable%2Fwallaby~If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,openstack/kolla-ansible,stable/wallaby,If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8,Make rabbitmq cluster_partition_handling configurable,MERGED,2021-06-23 11:37:31.000000000,2021-07-08 16:37:35.000000000,2021-06-30 20:01:01.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-23 11:37:31.000000000', 'files': ['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/rabbitmq/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0e0f9693aa2ec109e8bcbf335ecf175eb5204dd2', 'message': 'Make rabbitmq cluster_partition_handling configurable\n\nChange-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8\n(cherry picked from commit c99841272f89f83d0b0dbce606ad075453896dce)\n'}]",0,797576,0e0f9693aa2ec109e8bcbf335ecf175eb5204dd2,14,3,1,27339,,,0,"Make rabbitmq cluster_partition_handling configurable

Change-Id: If2fdab2ae0f981d9fcbb0fea7a92fcde325804f8
(cherry picked from commit c99841272f89f83d0b0dbce606ad075453896dce)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/76/797576/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/rabbitmq/templates/rabbitmq.conf.j2', 'ansible/roles/rabbitmq/defaults/main.yml']",2,0e0f9693aa2ec109e8bcbf335ecf175eb5204dd2,,"# To avoid split-brain rabbitmq_cluster_partition_handling: ""pause_minority""",,3,2
openstack%2Fkolla-ansible~master~Icf0eaf7544fcbdf7b83f697cc711446f47118a4d,openstack/kolla-ansible,master,Icf0eaf7544fcbdf7b83f697cc711446f47118a4d,Support storing passwords in Hashicorp Vault,MERGED,2021-05-25 15:45:58.000000000,2021-07-08 16:37:18.000000000,2021-07-02 20:28:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-05-25 15:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e5c005d54e92c9ac750559034729a334b939ac6', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 2, 'created': '2021-05-25 20:26:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0f4d055348c42aea9123f25839d5579d8c394011', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 3, 'created': '2021-05-26 19:06:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be9ecd6c5f733c1ad71b6316e9f66bbc8497d164', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 4, 'created': '2021-06-18 08:24:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/44c3d526cbab6e9db4a33c7a1a901a11b8942e37', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 5, 'created': '2021-06-18 11:18:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/de1c91ea6735345d4f5bdf5672296317e3af944b', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 6, 'created': '2021-06-18 14:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a5836a2d00ab7587e9cdc17dcef568526ed27e60', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 7, 'created': '2021-06-21 17:33:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/cdc405a549b6b7fcbb76586c82d5fa86f6233015', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 8, 'created': '2021-06-21 17:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f2fbd237945470f900b2653c216d4eda2e4af5ff', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 9, 'created': '2021-06-21 18:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2057d139043150f9032da31fe987835e741d80bc', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 10, 'created': '2021-06-22 11:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5ac01a7e46c0d34aeab3c87f62dd5d3ef2e201b9', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 11, 'created': '2021-06-22 11:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8f95bda49e65c24b214243ccbe1acba1daabcba', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 12, 'created': '2021-06-22 12:09:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/be0e1ccb5c4cc7aeb3a66bd6443c2c041f38e4d5', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 13, 'created': '2021-06-25 21:00:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e1b7b5f61803f5cececa806a3ed9d27313738ef1', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 14, 'created': '2021-06-25 21:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/54f9bfcd9c811a74e17aecadf5f6a5a99bbbe795', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 15, 'created': '2021-06-25 21:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e2f1fee62bf400e6e407a94a7af2be6cda773d1d', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 16, 'created': '2021-06-25 22:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/656c548e57e8ecd49b4943692626376b237b5506', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 17, 'created': '2021-06-25 22:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4f9b0002be09cadb042f5b346b76f1e40784cef', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 18, 'created': '2021-06-26 07:27:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8334bbb6d68f8caecf1fb80a6116ba4b26a75717', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 19, 'created': '2021-06-26 07:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2a2309e8815f7632be1e854c064bf783ea77df31', 'message': 'Add support for storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 20, 'created': '2021-06-26 08:13:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/03b2935d4e8b3a04a74f47f59b221d2ea8287c54', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 21, 'created': '2021-06-27 18:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fea564e9828fc9d31a1581b47f8056343e4a954a', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 22, 'created': '2021-06-29 08:39:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/032cf0fb5f0d1c3ef7d590f500745c3847041c88', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 23, 'created': '2021-06-29 11:25:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a14f2762fa1d959baea1b6f89c7ab405d96c263d', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 24, 'created': '2021-06-30 12:30:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/43842bb11a7985f0261d1133f50f0cbddc784a44', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}, {'number': 25, 'created': '2021-06-30 14:16:25.000000000', 'files': ['tests/run-hashi-vault.yml', 'tools/read_passwords.py', 'zuul.d/base.yaml', 'tools/write_passwords.py', 'requirements.txt', 'tests/test-hashicorp-vault-passwords.sh', 'kolla_ansible/hashi_vault.py', 'kolla_ansible/cmd/readpwd.py', 'zuul.d/project.yaml', 'setup.cfg', 'doc/source/user/operating-kolla.rst', 'releasenotes/notes/support-hashicorp-vault-for-kolla-passwords-76a5b4ece6a4df07.yaml', 'zuul.d/jobs.yaml', 'kolla_ansible/cmd/writepwd.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6bf74aa20d268f11f676a0e9affa92e3022b595d', 'message': 'Support storing passwords in Hashicorp Vault\n\nThis commit adds two new cli commands to allow an operator\nto read and write passwords into a configured Hashicorp Vault\nKV.\n\nChange-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d\n'}]",236,792997,6bf74aa20d268f11f676a0e9affa92e3022b595d,73,3,25,29543,,,0,"Support storing passwords in Hashicorp Vault

This commit adds two new cli commands to allow an operator
to read and write passwords into a configured Hashicorp Vault
KV.

Change-Id: Icf0eaf7544fcbdf7b83f697cc711446f47118a4d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/97/792997/25 && git format-patch -1 --stdout FETCH_HEAD,"['tools/write_passwords.py', 'requirements.txt', 'tools/read_passwords.py', 'kolla_ansible/cmd/readpwd.py', 'setup.cfg', 'doc/source/user/operating-kolla.rst', 'releasenotes/notes/support-hashicorp-vault-for-kolla-passwords-76a5b4ece6a4df07.yaml', 'kolla_ansible/cmd/writepwd.py']",8,7e5c005d54e92c9ac750559034729a334b939ac6,hashi-vault-passwd,"#!/usr/bin/env python # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. import argparse import os import sys import yaml import hvac def writepwd(passwords_file, vault_kv_path, vault_mount_point, vault_namespace, vault_addr, vault_role_id, vault_secret_id, vault_token, vault_cacert): with open(passwords_file, 'r') as f: passwords = yaml.safe_load(f.read()) if not isinstance(passwords, dict): print(""ERROR: Passwords file not in expected key/value format"") sys.exit(1) if vault_role_id == '' and vault_secret_id == '' and vault_token == '': print(""ERROR: You must provide either a Vault token or role-id and secret-id"") sys.exit(1) if vault_role_id != '' and vault_token != '': print(""ERROR: Vault token and role-id cannot be used at the same time"") sys.exit(1) elif vault_secret_id != '' and vault_token != '': print(""ERROR: Vault token and secret-id cannot be used at the same time"") sys.exit(1) # Authenticate to Hashicorp Vault if vault_cacert != '': os.environ['REQUESTS_CA_BUNDLE'] = vault_cacert if vault_token != '': client = hvac.Client(url=vault_addr, token=vault_token, namespace=vault_namespace) else: client = hvac.Client(url=vault_addr, namespace=vault_namespace) client.auth_approle(vault_role_id, vault_secret_id) if not client.is_authenticated(): print('Failed to authenticate to vault') sys.exit(1) for key, value in passwords.items(): # Ignore empty values if value is None or value == """": continue if isinstance(passwords[key], str): value = dict(password=value) try: remote_value =\ client.secrets.kv.v2.read_secret_version(mount_point=vault_mount_point, path=""{}/{}"".format(vault_kv_path, key)) except hvac.exceptions.InvalidPath: # Add to KV if value does not exists client.secrets.kv.v2.create_or_update_secret(mount_point=vault_mount_point, path=""{}/{}"".format(vault_kv_path, key), secret=value) continue # Update KV is value has changed if remote_value['data']['data'] != value: client.secrets.kv.v2.create_or_update_secret(mount_point=vault_mount_point, path=""{}/{}"".format(vault_kv_path, key), secret=value) def main(): parser = argparse.ArgumentParser() parser.add_argument( '-p', '--passwords', type=str, default=os.path.abspath('/etc/kolla/passwords.yml'), help='Path to the passwords.yml file') parser.add_argument( '-kv', '--vault-mount-point', type=str, default='kv', help='Path to the KV mount point') parser.add_argument( '-kvp', '--vault-kv-path', type=str, default='kolla_passwords', help='Path to store passwords within your configured KV mount point') parser.add_argument( '-n', '--vault-namespace', type=str, default='', help='Vault namespace (enterprise only)') parser.add_argument( '-v', '--vault-addr', type=str, default='http://127.0.0.1:8200', help='Address to connect to an existing Hashicorp Vault') parser.add_argument( '-r', '--vault-role-id', type=str, default='', help='Role-ID to authenticate to Vault. This must be used in conjunction with --secret-id') parser.add_argument( '-s', '--vault-secret-id', type=str, default='', help='Secret-ID to authenticate to Vault. This must be used in conjunction with --role-id') parser.add_argument( '-t', '--vault-token', type=str, default='', help='Vault token to authenticate to Vault') parser.add_argument( '-c', '--vault-cacert', type=str, default='', help='Path to CA certificate file') args = parser.parse_args() passwords_file = os.path.expanduser(args.passwords) vault_kv_path = os.path.expanduser(args.vault_kv_path) vault_mount_point = os.path.expanduser(args.vault_mount_point) vault_namespace = os.path.expanduser(args.vault_namespace) vault_addr = os.path.expanduser(args.vault_addr) vault_role_id = os.path.expanduser(args.vault_role_id) vault_secret_id = os.path.expanduser(args.vault_secret_id) vault_token = os.path.expanduser(args.vault_token) vault_cacert = os.path.expanduser(args.vault_cacert) writepwd(passwords_file, vault_kv_path, vault_mount_point, vault_namespace, vault_addr, vault_role_id, vault_secret_id, vault_token, vault_cacert) if __name__ == '__main__': main() ",,317,0
openstack%2Fkolla~master~Id44ab0fe673f01490cd8ca9c51f465ae7ad95e08,openstack/kolla,master,Id44ab0fe673f01490cd8ca9c51f465ae7ad95e08,Remove last mongo refs,MERGED,2021-06-29 13:53:11.000000000,2021-07-08 16:37:11.000000000,2021-07-01 18:29:37.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2021-06-29 13:53:11.000000000', 'files': ['docker/openstack-base/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'releasenotes/notes/drop-last-mongo-refs-c12edb066544e190.yaml', 'docker/kolla-toolbox/Dockerfile.j2', 'docker/ceilometer/ceilometer-base/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/d55cd5e5c27464c61991be4d6b133922a763c7c3', 'message': 'Remove last mongo refs\n\nDrop installation of pymongo because it is not used by Telemetry\nsince at least Queens [1] [2] and MongoDB is not deployed by\nKolla Ansible since Victoria.\n\n[1] https://review.opendev.org/c/openstack/ceilometer/+/512700\n[2] https://review.opendev.org/c/openstack/aodh/+/373043\n\nChange-Id: Id44ab0fe673f01490cd8ca9c51f465ae7ad95e08\n'}]",1,798688,d55cd5e5c27464c61991be4d6b133922a763c7c3,14,3,1,30491,,,0,"Remove last mongo refs

Drop installation of pymongo because it is not used by Telemetry
since at least Queens [1] [2] and MongoDB is not deployed by
Kolla Ansible since Victoria.

[1] https://review.opendev.org/c/openstack/ceilometer/+/512700
[2] https://review.opendev.org/c/openstack/aodh/+/373043

Change-Id: Id44ab0fe673f01490cd8ca9c51f465ae7ad95e08
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/798688/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/openstack-base/Dockerfile.j2', 'docker/aodh/aodh-base/Dockerfile.j2', 'releasenotes/notes/drop-last-mongo-refs-c12edb066544e190.yaml', 'docker/ceilometer/ceilometer-base/Dockerfile.j2', 'docker/kolla-toolbox/Dockerfile.j2']",5,d55cd5e5c27464c61991be4d6b133922a763c7c3,drop-last-mongo-refs,," 'pymongo',",5,5
openstack%2Fkolla~master~Ie276b7877ca2edd31dd7a107d70b75ae1735f744,openstack/kolla,master,Ie276b7877ca2edd31dd7a107d70b75ae1735f744,Fix build of debian images,MERGED,2021-06-27 20:11:51.000000000,2021-07-08 16:36:56.000000000,2021-06-28 20:06:30.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-27 20:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/03dcbe677aebae5b9d3c47f5277c9996c7076294', 'message': 'Fix build of debian-binary images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbuild of bullseye debian-binary images are failing to\nbuild. This patch is fixing what kolla expects.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n'}, {'number': 2, 'created': '2021-06-27 20:18:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/d6da4375ed997106d136470128ac60ad5d62eddf', 'message': 'Fix build of debian-binary images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbullseye debian-binary images build is failing.\nThis patch is changing what kolla expects in\nPRETTY_NAME var and fixing build of debian-binary images.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n'}, {'number': 3, 'created': '2021-06-28 08:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/167aaaaa18c47e1362c4ecfca225c3d62a6ad427', 'message': 'Fix build of debian images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbullseye debian images build is failing.\nThis patch is changing what kolla expects in\nPRETTY_NAME var and fixing build of debian images.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n'}, {'number': 4, 'created': '2021-06-28 15:46:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7564101aee12b653f1fa81053e4b00906ed59f07', 'message': 'Fix build of debian images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbullseye debian images build is failing.\nThis patch is changing what kolla expects in\nPRETTY_NAME var and fixing build of debian images.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n'}, {'number': 5, 'created': '2021-06-28 16:50:44.000000000', 'files': ['releasenotes/notes/bug-1933770-c08c6804aa5d9e61.yaml', 'kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7344e65aa9af18cceaeae1d7d6b0bd3b59402bbc', 'message': 'Fix build of debian images\n\nKolla expects different PRETTY_NAME var as\ndebian defined in /etc/os-release. Therefore\nbullseye debian images build is failing.\nThis patch is changing what kolla expects in\nPRETTY_NAME var and fixing build of debian images.\n\nCloses-Bug: #1933770\nChange-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744\n'}]",6,798231,7344e65aa9af18cceaeae1d7d6b0bd3b59402bbc,30,5,5,27339,,,0,"Fix build of debian images

Kolla expects different PRETTY_NAME var as
debian defined in /etc/os-release. Therefore
bullseye debian images build is failing.
This patch is changing what kolla expects in
PRETTY_NAME var and fixing build of debian images.

Closes-Bug: #1933770
Change-Id: Ie276b7877ca2edd31dd7a107d70b75ae1735f744
",git fetch https://review.opendev.org/openstack/kolla refs/changes/31/798231/5 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,03dcbe677aebae5b9d3c47f5277c9996c7076294,bug/1933770," 'debian': 'Debian GNU/Linux 11 (bullseye)',"," 'debian': 'Debian GNU/Linux bullseye',",1,1
openstack%2Fkolla~master~Ie89f3628c9dfab683973d845a3812bccac9f5bb8,openstack/kolla,master,Ie89f3628c9dfab683973d845a3812bccac9f5bb8,Clean up extra spaces,MERGED,2021-06-25 03:21:22.000000000,2021-07-08 16:36:42.000000000,2021-06-28 14:08:36.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-25 03:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/7e2100d1c1e8aa4dc067b600014b04f56a4065b0', 'message': 'Clean up extra spaces\n\nI recently reviewed the code, although these errors are not important, they affect the code specification.\n\nChange-Id: Ie89f3628c9dfab683973d845a3812bccac9f5bb8\n'}, {'number': 2, 'created': '2021-06-25 04:09:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/6737636cb06b8a63b29407ca4674b2c5c9b35387', 'message': 'Clean up extra spaces\n\nI recently reviewed the code, although these errors are not important, they affect the code specification.\n\nChange-Id: Ie89f3628c9dfab683973d845a3812bccac9f5bb8\n'}, {'number': 3, 'created': '2021-06-28 10:53:42.000000000', 'files': ['docker/cyborg/cyborg-agent/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3b5d8ccd658a5d1793b4bf18717c466ffca572c6', 'message': 'Clean up extra spaces\n\nI recently reviewed the code, although these errors are not important, they affect the code specification.\n\nChange-Id: Ie89f3628c9dfab683973d845a3812bccac9f5bb8\n'}]",2,798033,3b5d8ccd658a5d1793b4bf18717c466ffca572c6,16,3,3,30449,,,0,"Clean up extra spaces

I recently reviewed the code, although these errors are not important, they affect the code specification.

Change-Id: Ie89f3628c9dfab683973d845a3812bccac9f5bb8
",git fetch https://review.opendev.org/openstack/kolla refs/changes/33/798033/2 && git format-patch -1 --stdout FETCH_HEAD,['docker/cyborg/cyborg-agent/Dockerfile.j2'],1,7e2100d1c1e8aa4dc067b600014b04f56a4065b0,,"RUN {{ macros.install_pip(cyborg_agent_pip_packages | customizable(""pip_packages"")) }}","RUN {{ macros.install_pip(cyborg_agent_pip_packages | customizable(""pip_packages"")) }} ",1,1
openstack%2Fkolla~master~Ib74eecd46617af51e23a3ccad664767b1bf6e04f,openstack/kolla,master,Ib74eecd46617af51e23a3ccad664767b1bf6e04f,[CI] Do not set ansible_python_interpreter for Zuul,MERGED,2021-06-28 06:58:45.000000000,2021-07-08 16:36:24.000000000,2021-06-28 15:37:30.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 06:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/48494be2a588d6270708af9a42489300b2e81598', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change patches the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 2, 'created': '2021-06-28 07:38:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/3104e25ca46adbde43531885989e7cea11272636', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}, {'number': 3, 'created': '2021-06-28 09:29:28.000000000', 'files': ['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fb8217c16a2c112d0757483f6a828fd0e2cbb193', 'message': ""[CI] Do not set ansible_python_interpreter for Zuul\n\nZuul 4.6.0 does not allow to set ansible_python_interpreter. [1]\nInstead, with the current Zuul and Ansible, this should be\nautomatically set to the proper python.\n\nThis patch is required to restore the jobs which are ignored\notherwise. [2] [3]\n\nAdditionally, this change avoids the use of Ansible's pip\nmodule because it tries to use setuptools from the\nansible_python_interpreter first even if another executable is\nset.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html\n[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html\n\nChange-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f\n""}]",0,798253,fb8217c16a2c112d0757483f6a828fd0e2cbb193,17,4,3,30491,,,0,"[CI] Do not set ansible_python_interpreter for Zuul

Zuul 4.6.0 does not allow to set ansible_python_interpreter. [1]
Instead, with the current Zuul and Ansible, this should be
automatically set to the proper python.

This patch is required to restore the jobs which are ignored
otherwise. [2] [3]

Additionally, this change avoids the use of Ansible's pip
module because it tries to use setuptools from the
ansible_python_interpreter first even if another executable is
set.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023291.html
[2] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023326.html
[3] http://lists.openstack.org/pipermail/openstack-discuss/2021-June/023321.html

Change-Id: Ib74eecd46617af51e23a3ccad664767b1bf6e04f
",git fetch https://review.opendev.org/openstack/kolla refs/changes/53/798253/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/pre.yml', '.zuul.d/base.yaml', 'tests/playbooks/publish.yml']",3,48494be2a588d6270708af9a42489300b2e81598,ci-emergency-fix-for-zuul-4-6," vars: # NOTE(yoctozepto): We need Docker SDK, the best source is Kolla venv. ansible_python_interpreter: ""{{ virtualenv_path }}/bin/python"" tasks:"," tasks: - name: Ensure docker python SDK is installed become: true pip: name: ""docker"" state: present ",8,9
openstack%2Fkolla~master~I5dd36e1e1f836faeb1b7225a2da42342df8c4a90,openstack/kolla,master,I5dd36e1e1f836faeb1b7225a2da42342df8c4a90,setDaemon() is deprecated in Python 3.10,MERGED,2021-06-28 08:53:14.000000000,2021-07-08 16:35:51.000000000,2021-06-29 16:29:25.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-28 08:53:14.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/2973d03ef1f69ee51c50a3db38d84cde8d3bc4d2', 'message': 'setDaemon() is deprecated in Python 3.10\n\nsetDaemon()\n    Old getter/setter API for daemon; use it directly as a property instead.\n\nChange-Id: I5dd36e1e1f836faeb1b7225a2da42342df8c4a90\n'}]",1,798264,2973d03ef1f69ee51c50a3db38d84cde8d3bc4d2,9,3,1,24072,,,0,"setDaemon() is deprecated in Python 3.10

setDaemon()
    Old getter/setter API for daemon; use it directly as a property instead.

Change-Id: I5dd36e1e1f836faeb1b7225a2da42342df8c4a90
",git fetch https://review.opendev.org/openstack/kolla refs/changes/64/798264/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,2973d03ef1f69ee51c50a3db38d84cde8d3bc4d2,, worker.daemon = True worker.daemon = True, worker.setDaemon(True) worker.setDaemon(True),2,2
openstack%2Ftripleo-common~stable%2Ftrain~I55905cb299ae9e35b605f0a9219177f809d6919e,openstack/tripleo-common,stable/train,I55905cb299ae9e35b605f0a9219177f809d6919e,Add missing IPv6 support for healthcheck_port,MERGED,2021-07-06 16:35:47.000000000,2021-07-08 16:35:26.000000000,2021-07-08 16:32:08.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 16:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e77180718fb1dadaa6d0661892c6f1cd4a2efa6f', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n'}, {'number': 2, 'created': '2021-07-07 10:59:34.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/248622aa5aa13dd9c498e976e368bdd5f5e4008a', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)\n'}]",0,799593,248622aa5aa13dd9c498e976e368bdd5f5e4008a,15,3,2,11090,,,0,"Add missing IPv6 support for healthcheck_port

With change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network
was overlooked, leading to issues in some cases with composable roles
and IPv6 network.

Change-Id: I55905cb299ae9e35b605f0a9219177f809d6919e
Closes-Bug: #1934772
Resolves: rhbz#1979524
(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/799593/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,e77180718fb1dadaa6d0661892c6f1cd4a2efa6f,healthcheck/port/v6-stable/wallaby-stable/victoria-stable/train," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp,tcp6,udp6})"," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp})",1,1
openstack%2Ftripleo-ci~master~I91c4e84523a756c0588d20e6cc34782b6c712d50,openstack/tripleo-ci,master,I91c4e84523a756c0588d20e6cc34782b6c712d50,"Adds wallaby undercloud-upgrade, minor update jobs and template",MERGED,2021-05-26 09:01:41.000000000,2021-07-08 16:32:21.000000000,2021-07-08 16:32:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30750}, {'_account_id': 31075}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-05-26 09:01:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4e0d4ba415af70233ddc864858c1bb14d73bb7e9', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 2, 'created': '2021-05-26 09:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c386bb9c22c033df1c011722bb1fed1535a3b980', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 3, 'created': '2021-05-26 11:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e16c92da6eeaec9d58435041313acb5f9a505270', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 4, 'created': '2021-06-08 10:47:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/05378ece8dc5af3a025f965ad9c8e7f3e45df668', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 5, 'created': '2021-06-17 07:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0c7d1b036b2eab817c91362ed70ca3fd67ea9c1c', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 6, 'created': '2021-06-24 10:07:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/841d98f8616383d3970e2a3b2044ed3263f4fa8e', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 7, 'created': '2021-06-28 11:23:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/c5ce095a8e585dc9edc6be54f3990671b95bff27', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}, {'number': 8, 'created': '2021-07-01 14:48:18.000000000', 'files': ['zuul.d/upgrades-jobs-templates.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/405c15cbb09a0049d72d10b15ad3e6074870ae70', 'message': 'Adds wallaby undercloud-upgrade, minor update jobs and template\n\nThis adds stable/wallaby undercloud upgrade job, minor update job\nand the relevant wallaby template that will need to be wired up\nacross the repos. See [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\n\nChange-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50\n'}]",4,793120,405c15cbb09a0049d72d10b15ad3e6074870ae70,57,11,8,8449,,,0,"Adds wallaby undercloud-upgrade, minor update jobs and template

This adds stable/wallaby undercloud upgrade job, minor update job
and the relevant wallaby template that will need to be wired up
across the repos. See [1] for related patches.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs

Change-Id: I91c4e84523a756c0588d20e6cc34782b6c712d50
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/20/793120/7 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/upgrades-jobs-templates.yaml'],1,4e0d4ba415af70233ddc864858c1bb14d73bb7e9,wallaby-upgrade-jobs," name: tripleo-upgrades-wallaby-pipeline - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby: irrelevant-files: *multinode_ignored - tripleo-ci-centos-8-undercloud-upgrade-wallaby: - tripleo-ci-centos-8-content-provider-victoria gate: queue: tripleo jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby: irrelevant-files: *multinode_ignored vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-undercloud-upgrade-wallaby: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-victoria - project-template: name: tripleo-upgrades-victoria-pipeline check: jobs: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-standalone-upgrade-victoria: vars: *consumer_vars dependencies: - tripleo-ci-centos-8-content-provider - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-victoria: vars: *consumer_vars irrelevant-files: *undercloud_ignored dependencies: - tripleo-ci-centos-8-content-provider name: tripleo-ci-centos-8-scenario000-multinode-oooq-container-updates-wallaby description: | wallaby tripleo minor update job for centos-8, this is not an upgrade job. parent: tripleo-ci-base-multinode-centos-8 branches: ^stable/wallaby$ voting: true vars: nodes: 1ctlr featureset: '037' unbound_cache_min_ttl: 900 extra_tags: - overcloud-update - job: - job: name: tripleo-ci-centos-8-undercloud-upgrade-wallaby parent: tripleo-ci-base-singlenode-centos-8 branches: ^stable/wallaby$ voting: true vars: featureset: '050' featureset_override: validate_services: false extra_tags: - undercloud-upgrade", name: tripleo-upgrades-victoria-pipeline - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-standalone-upgrade-victoria: - tripleo-ci-centos-8-content-provider-ussuri - tripleo-ci-centos-8-undercloud-upgrade-victoria:,65,5
openstack%2Fcharm-deployment-guide~master~I57f69fb49dd3cb706586ed82d91d82b6aeb3b133,openstack/charm-deployment-guide,master,I57f69fb49dd3cb706586ed82d91d82b6aeb3b133,Prep for conversion - 1,ABANDONED,2021-01-19 20:25:08.000000000,2021-07-08 16:18:28.000000000,,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-01-19 20:25:08.000000000', 'files': ['deploy-guide/source/upgrade-series-openstack.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/keystone.rst', 'deploy-guide/source/media/keystone-max-example.png', 'deploy-guide/source/media/keystone-rot-freq.png', 'deploy-guide/source/app-bridge-interface-configuration.rst', 'deploy-guide/source/media/keystone-max.png', 'deploy-guide/source/index.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0e0d992077d842e72cf0e825fc86015370e12418', 'message': ""Prep for conversion - 1\n\nMake changes to allow for a successful (eventual)\nconversion from reST to Markdown to HTML (topic 'cdg-convert').\nIn particular:\n\na) the math blocks on the keystone page were converted to\n   images. Math blocks are exceptional.\n\nb) the nested lists on the upgrade-series-openstack page needed\n   to be modified.\n\nContent improvement may also have been made in the process.\n\nChange-Id: I57f69fb49dd3cb706586ed82d91d82b6aeb3b133\n""}]",0,771512,0e0d992077d842e72cf0e825fc86015370e12418,4,2,1,30561,,,0,"Prep for conversion - 1

Make changes to allow for a successful (eventual)
conversion from reST to Markdown to HTML (topic 'cdg-convert').
In particular:

a) the math blocks on the keystone page were converted to
   images. Math blocks are exceptional.

b) the nested lists on the upgrade-series-openstack page needed
   to be modified.

Content improvement may also have been made in the process.

Change-Id: I57f69fb49dd3cb706586ed82d91d82b6aeb3b133
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/12/771512/1 && git format-patch -1 --stdout FETCH_HEAD,"['deploy-guide/source/upgrade-series-openstack.rst', 'deploy-guide/source/install-openstack.rst', 'deploy-guide/source/keystone.rst', 'deploy-guide/source/media/keystone-max-example.png', 'deploy-guide/source/media/keystone-rot-freq.png', 'deploy-guide/source/app-bridge-interface-configuration.rst', 'deploy-guide/source/media/keystone-max.png', 'deploy-guide/source/index.rst']",8,0e0d992077d842e72cf0e825fc86015370e12418,cdg-convert,.. INSTALLATION_do_not_touch_this_comment .. UPGRADES_do_not_touch_this_comment .. SECURITY_do_not_touch_this_comment .. COMPUTE_do_not_touch_this_comment .. NETWORKING_do_not_touch_this_comment .. HIGH_AVAILABILITY_do_not_touch_this_comment .. BACKUP_do_not_touch_this_comment .. OPERATIONS_do_not_touch_this_comment .. STORAGE_do_not_touch_this_comment ,,100,74
openstack%2Fopenstack-helm-infra~master~I2092bdc9a4e8a328aec393cf07f8be196be26c32,openstack/openstack-helm-infra,master,I2092bdc9a4e8a328aec393cf07f8be196be26c32,Add hash for ceph rgw keystone user,MERGED,2021-07-07 18:35:49.000000000,2021-07-08 15:54:53.000000000,2021-07-08 15:52:55.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 28275}, {'_account_id': 28372}, {'_account_id': 29974}, {'_account_id': 33519}]","[{'number': 1, 'created': '2021-07-07 18:35:49.000000000', 'files': ['ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3c4828935abe808fc9c01f100100bd5b07cfe9fa', 'message': 'Add hash for ceph rgw keystone user\n\nThis is needed for rgw pods will restart when keystone user secret\nchanges.\n\nChange-Id: I2092bdc9a4e8a328aec393cf07f8be196be26c32\n'}]",0,799899,3c4828935abe808fc9c01f100100bd5b07cfe9fa,12,7,1,32190,,,0,"Add hash for ceph rgw keystone user

This is needed for rgw pods will restart when keystone user secret
changes.

Change-Id: I2092bdc9a4e8a328aec393cf07f8be196be26c32
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/99/799899/1 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'ceph-rgw/templates/deployment-rgw.yaml']",3,3c4828935abe808fc9c01f100100bd5b07cfe9fa,rgw-hash-2," secret-keystone-rgw-hash: {{ tuple ""secret-keystone-rgw.yaml"" . | include ""helm-toolkit.utils.hash"" }}",,3,1
openstack%2Fcharm-deployment-guide~master~I4d2d79d4b542ad8acfae53352d764c54be429216,openstack/charm-deployment-guide,master,I4d2d79d4b542ad8acfae53352d764c54be429216,ovn: Document use of prefer-chassis-as-gw option,MERGED,2021-07-07 13:56:04.000000000,2021-07-08 15:47:58.000000000,2021-07-08 15:46:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30561}]","[{'number': 1, 'created': '2021-07-07 13:56:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/b2d11a8c4b2f36b7b7037f5a920266d4aa3a4a75', 'message': 'ovn: Update DPDK-section with advice on prefer-chassis-as-gw\n\nChange-Id: I4d2d79d4b542ad8acfae53352d764c54be429216\n'}, {'number': 2, 'created': '2021-07-08 12:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/32b4add6f545a5d11b2c8970051a8f68562ff713', 'message': 'ovn: Add information on use of prefer-chassis-as-gw option\n\nRelated-Bug: #1908377\nCloses-Bug: #1934678\nChange-Id: I4d2d79d4b542ad8acfae53352d764c54be429216\n'}, {'number': 3, 'created': '2021-07-08 12:14:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/61a3eba1eac19ea60250d2e92476941af32b64df', 'message': 'ovn: Document use of prefer-chassis-as-gw option\n\nRelated-Bug: #1908377\nCloses-Bug: #1934678\nChange-Id: I4d2d79d4b542ad8acfae53352d764c54be429216\n'}, {'number': 4, 'created': '2021-07-08 15:10:47.000000000', 'files': ['deploy-guide/source/app-ovn.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/12a02a451379a3c847a5f7b7d407b8a8194eb8d2', 'message': 'ovn: Document use of prefer-chassis-as-gw option\n\nRelated-Bug: #1908377\nCloses-Bug: #1934678\nChange-Id: I4d2d79d4b542ad8acfae53352d764c54be429216\n'}]",8,799836,12a02a451379a3c847a5f7b7d407b8a8194eb8d2,16,2,4,13686,,,0,"ovn: Document use of prefer-chassis-as-gw option

Related-Bug: #1908377
Closes-Bug: #1934678
Change-Id: I4d2d79d4b542ad8acfae53352d764c54be429216
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/36/799836/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-ovn.rst'],1,b2d11a8c4b2f36b7b7037f5a920266d4aa3a4a75,bug/1934678,"Charm configuration ^^^^^^^^^^^^^^^^^^^ The below example bundle excerpt will enable use of DPDK for an OVN deployment. .. code:: yaml ovn-chassis-dpdk: options: enable-dpdk: True bridge-interface-mappings: br-ex:00:53:00:00:00:42 ovn-chassis: options: enable-dpdk: False bridge-interface-mappings: br-ex:bond0 prefer-chassis-as-gw: True .. caution:: As configured by the charms, the units configured to use DPDK will not participate in the overlay network and will also not be able to provide services such as external DHCP to SR-IOV enabled units in the same deployment. As such it is important to have at least one other named ovn-chassis application in the deployment with ``enable-dpdk`` set to 'False' and the ``prefer-chassis-as-gw`` configuration option set to 'True'. Doing so will inform the CMS (Cloud Management System) that shared services such as gateways and external DHCP services should not be scheduled to the DPDK-enabled nodes. ............ ovn-chassis-dpdk: ovn-chassis: options: enable-dpdk: False bridge-interface-mappings: br-ex:bond0 prefer-chassis-as-gw: True",^^^^^^^^^^^^ ovn-chassis:,38,2
openstack%2Finstack-undercloud~stable%2Fqueens~Ifae1291c6595a0b7b0a23c845734e8deb12c9a77,openstack/instack-undercloud,stable/queens,Ifae1291c6595a0b7b0a23c845734e8deb12c9a77,[Queens] Ensure undercloud contains necessary extra packages.,ABANDONED,2021-03-15 13:56:20.000000000,2021-07-08 15:33:51.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-15 13:56:20.000000000', 'files': ['instack_undercloud/undercloud.py'], 'web_link': 'https://opendev.org/openstack/instack-undercloud/commit/0f57a21066c2b53445aede159907951316f0a12c', 'message': '[Queens] Ensure undercloud contains necessary extra packages.\n\nWhen coming from old version after successive upgrade, some expected\npackages (in later version) may be missing.\n\nAdd a place to add such packages during undercloud update.\n\nChange-Id: Ifae1291c6595a0b7b0a23c845734e8deb12c9a77\nCloses-Bug: 1917913\n'}]",0,780589,0f57a21066c2b53445aede159907951316f0a12c,5,3,1,8297,,,0,"[Queens] Ensure undercloud contains necessary extra packages.

When coming from old version after successive upgrade, some expected
packages (in later version) may be missing.

Add a place to add such packages during undercloud update.

Change-Id: Ifae1291c6595a0b7b0a23c845734e8deb12c9a77
Closes-Bug: 1917913
",git fetch https://review.opendev.org/openstack/instack-undercloud refs/changes/89/780589/1 && git format-patch -1 --stdout FETCH_HEAD,['instack_undercloud/undercloud.py'],1,0f57a21066c2b53445aede159907951316f0a12c,," LOG.info('Adding extra packages when coming from old version') _run_live_command([""sudo"", ""yum"", ""upgrade"", ""-y""] + [""python-docker""], name=""extra packages"") LOG.info('Extra packages step successful.')",,5,0
openstack%2Fcharm-ironic-api~master~I4127f7c339d73d2ca903909de9bb34151508cff9,openstack/charm-ironic-api,master,I4127f7c339d73d2ca903909de9bb34151508cff9,Add missing test relations,MERGED,2021-07-01 15:54:27.000000000,2021-07-08 15:24:22.000000000,2021-07-08 15:24:22.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:54:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/2ac5a55485fbb81f664a83614861e3f580aca723', 'message': 'Add missing test relations\n\nWith recent changes to zaza, the tests will hang due to zero units\nof neutron-openvswitch being deployed. This is fixed by adding the\nmissing neutron-openvswitch relations.\n\nChange-Id: I4127f7c339d73d2ca903909de9bb34151508cff9\n'}, {'number': 2, 'created': '2021-07-06 20:53:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/d5dd76df53d2deff9dcf1727c6becf2d3afa0d2b', 'message': 'Add missing test relations\n\nWith recent changes to zaza, the tests will hang due to zero units\nof neutron-openvswitch being deployed. This is fixed by adding the\nmissing neutron-openvswitch relations.\n\nDepends-On: https://review.opendev.org/c/openstack/charm-ironic-api/+/799718\nChange-Id: I4127f7c339d73d2ca903909de9bb34151508cff9\n'}, {'number': 3, 'created': '2021-07-07 01:46:15.000000000', 'files': ['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ironic-api/commit/53077edfa5bb0a6248f2a0bc60b05b9803763c6c', 'message': 'Add missing test relations\n\nWith recent changes to zaza, the tests will hang due to zero units\nof neutron-openvswitch being deployed. This is fixed by adding the\nmissing neutron-openvswitch relations.\n\nChange-Id: I4127f7c339d73d2ca903909de9bb34151508cff9\n'}]",0,799098,53077edfa5bb0a6248f2a0bc60b05b9803763c6c,16,3,3,11805,,,0,"Add missing test relations

With recent changes to zaza, the tests will hang due to zero units
of neutron-openvswitch being deployed. This is fixed by adding the
missing neutron-openvswitch relations.

Change-Id: I4127f7c339d73d2ca903909de9bb34151508cff9
",git fetch https://review.opendev.org/openstack/charm-ironic-api refs/changes/98/799098/2 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/focal-wallaby.yaml', 'src/tests/bundles/focal-ussuri.yaml', 'src/tests/bundles/focal-victoria.yaml', 'src/tests/bundles/groovy-victoria.yaml', 'src/tests/bundles/hirsute-wallaby.yaml', 'src/tests/bundles/bionic-train.yaml', 'src/tests/bundles/bionic-ussuri.yaml']",7,2ac5a55485fbb81f664a83614861e3f580aca723,,- - neutron-openvswitch - nova-ironic - - neutron-openvswitch:amqp - rabbitmq-server:amqp,,28,0
openstack%2Ftripleo-validations~stable%2Fqueens~I231ab28686a9ef6eceddbf1086df0585f4dacfce,openstack/tripleo-validations,stable/queens,I231ab28686a9ef6eceddbf1086df0585f4dacfce,WIP:[Queens-only] Add leapp preupgrade validation for Undercloud.,ABANDONED,2020-08-28 16:11:05.000000000,2021-07-08 15:21:02.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-08-28 16:11:05.000000000', 'files': ['validations/leapp-preupgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/93b06638abfc8beec5c37415e272258452c2be3a', 'message': 'WIP:[Queens-only] Add leapp preupgrade validation for Undercloud.\n\nChange-Id: I231ab28686a9ef6eceddbf1086df0585f4dacfce\n'}]",0,748713,93b06638abfc8beec5c37415e272258452c2be3a,3,1,1,26343,,,0,"WIP:[Queens-only] Add leapp preupgrade validation for Undercloud.

Change-Id: I231ab28686a9ef6eceddbf1086df0585f4dacfce
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/748713/1 && git format-patch -1 --stdout FETCH_HEAD,['validations/leapp-preupgrade.yaml'],1,93b06638abfc8beec5c37415e272258452c2be3a,stable/queen,"--- - hosts: undercloud vars: metadata: name: Undercloud leapp pre-upgrade description: > Pre-upgrade check of the leapp procedure in the Undercloud. groups: - pre-system-upgrade cdn_repos: - rhel-8-for-x86_64-baseos-eus-rpms - rhel-8-for-x86_64-appstream-eus-rpms - fast-datapath-for-rhel-8-x86_64-rpms rhos_release_repos: - rhosp-rhel-8.2-appstream - rhosp-rhel-8.2-av - rhosp-rhel-8.2-baseos - rhosp-rhel-8.2-fdp - rhelosp-ceph-3-tools - rhosp-ansible-2.9 tasks: - name: Identify if the system uses rhos-release or CDN become: true command: subscription-manager status register: subscription_status failed_when: false - name: Check if rhos-release is installed package: name: rhos-release state: present check_mode: true failed_when: false register: rhos_release_installed - name: Run leapp pre-upgrade vars: using_rhos_release: ""{{ true if (subscription_status.rc != 0 and rhos_release_installed and not rhos_release_installed.changed) else false }}"" enable_repo_args: ""{{ ( rhos_release_repos if using_rhos_release|bool else cdn_repos) | join(' --enablerepo ') }}"" no_rhsm_arg: ""{{ '--no-rhsm' if using_rhos_release else '' }}"" become: true command: ""leapp preupgrade --debug {{ no_rhsm_arg }} --enablerepo {{ enable_repo_args }}"" ",,42,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4caab0f5a23c6be2f801d28688aa01bcbae911d8,openstack/tripleo-heat-templates,stable/queens,I4caab0f5a23c6be2f801d28688aa01bcbae911d8,"DNM: test only, test variation from 753636",ABANDONED,2020-09-24 22:55:44.000000000,2021-07-08 15:20:57.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-09-24 22:55:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b55e78fa2b841c694a12eceb56545bf2f69f4eca', 'message': 'DNM: test only, test variation from 753636\n\nChange-Id: I4caab0f5a23c6be2f801d28688aa01bcbae911d8\n'}, {'number': 2, 'created': '2020-09-24 23:49:47.000000000', 'files': ['docker/services/ceph-ansible/ceph-mon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5def17a88e2a1976c7987a163bbd9cb9c03129a1', 'message': 'DNM: test only, test variation from 753636\n\nChange-Id: I4caab0f5a23c6be2f801d28688aa01bcbae911d8\n'}]",0,754229,5def17a88e2a1976c7987a163bbd9cb9c03129a1,4,1,2,8297,,,0,"DNM: test only, test variation from 753636

Change-Id: I4caab0f5a23c6be2f801d28688aa01bcbae911d8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/29/754229/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/ceph-ansible/ceph-mon.yaml'],1,b55e78fa2b841c694a12eceb56545bf2f69f4eca,," update_tasks: &ceph_ansible_mon_check - name: Double check the mon systemd unit is not consistent with the current mon shell: ""systemctl is-active ceph-mon@*"" ignore_errors: true register: ceph_mon_status - name: Stop mons to make them consistent with systemd shell: | set -eu mon=$(docker ps | awk '/ceph-mon-/{print $NF}') docker stop $mon when: - ceph_mon_status.stdout - ceph_mon_status is failed upgrade_tasks: *ceph_ansible_mon_check", upgrade_tasks: [],14,1
openstack%2Ftripleo-common~stable%2Fqueens~Ia4c6b4d22e2ef3d733b7f97e3cc0260989998224,openstack/tripleo-common,stable/queens,Ia4c6b4d22e2ef3d733b7f97e3cc0260989998224,Add python-pyngus package to ceilometer notification image,ABANDONED,2020-07-09 13:47:25.000000000,2021-07-08 15:20:26.000000000,,"[{'_account_id': 3153}, {'_account_id': 9976}, {'_account_id': 10068}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-07-09 13:47:25.000000000', 'files': ['container-images/tripleo_kolla_template_overrides.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a377eab836aa074b4834d28963fe7c16b2c400b4', 'message': 'Add python-pyngus package to ceilometer notification image\n\nAdd python-pyngus package to ceilometer notification image to support\nSTF integration.\n\nChange-Id: Ia4c6b4d22e2ef3d733b7f97e3cc0260989998224\nResolves: rhbz#1855074\n'}]",0,740293,a377eab836aa074b4834d28963fe7c16b2c400b4,6,6,1,31581,,,0,"Add python-pyngus package to ceilometer notification image

Add python-pyngus package to ceilometer notification image to support
STF integration.

Change-Id: Ia4c6b4d22e2ef3d733b7f97e3cc0260989998224
Resolves: rhbz#1855074
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/93/740293/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tripleo_kolla_template_overrides.j2'],1,a377eab836aa074b4834d28963fe7c16b2c400b4,,# NOTE (migarcia): oslo_messaging now needs this for STF integration. {% set ceilometer_notification_packages_append = ['python-pyngus'] %} ,,3,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I29ae205471e1708b84267bf8a17e5a76b391c341,openstack/tripleo-heat-templates,stable/queens,I29ae205471e1708b84267bf8a17e5a76b391c341,Run CI job with train octavia on queens OOO.,ABANDONED,2020-05-20 14:13:50.000000000,2021-07-08 15:20:07.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-05-20 14:13:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3c68217187b23e6f83fa006f39cb587c253c6d9b', 'message': 'WIP: testing master against stable\n\nDepends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nDepends-On: I55f799fcf9d3e582881e80d43465c0f3140868ed\nChange-Id: I29ae205471e1708b84267bf8a17e5a76b391c341\n'}, {'number': 2, 'created': '2020-05-28 13:18:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bc8a736158124a47c84be81df2331b06fd49d3f', 'message': 'WIP: testing master against stable\n\nDepends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nDepends-On: I55f799fcf9d3e582881e80d43465c0f3140868ed\nDepends-On: I4d17b0f05f9d58380952dc5d0e60e807113860b9\nChange-Id: I29ae205471e1708b84267bf8a17e5a76b391c341\n'}, {'number': 3, 'created': '2020-05-28 13:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3ae8f865bff4de5ff401c8bd92a185a3f559eb3', 'message': 'WIP: testing master against stable/queens\n\nWe are working on a testing stable OOO deployments against arbitrary\nversions of octavia (master for the time being)\n\nDepends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nDepends-On: I55f799fcf9d3e582881e80d43465c0f3140868ed\nDepends-On: I4d17b0f05f9d58380952dc5d0e60e807113860b9\nChange-Id: I29ae205471e1708b84267bf8a17e5a76b391c341\n'}, {'number': 4, 'created': '2020-06-23 12:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d7563f78ea111e4cae1b219958151fd225bf4958', 'message': 'Run CI job with train octavia on queens OOO.\n\nDepends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nDepends-On: I55f799fcf9d3e582881e80d43465c0f3140868ed\nDepends-On: I4d17b0f05f9d58380952dc5d0e60e807113860b9\nChange-Id: I29ae205471e1708b84267bf8a17e5a76b391c341\n'}, {'number': 5, 'created': '2020-06-25 13:33:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ea76c15bebfd9f1add8b936ae823c7cce8f2bb1a', 'message': 'Run CI job with train octavia on queens OOO.\n\nDepends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d\nDepends-On: I1e2603d7395440ff2f97c69fa92947a397f71446\nDepends-On: I4d17b0f05f9d58380952dc5d0e60e807113860b9\nChange-Id: I29ae205471e1708b84267bf8a17e5a76b391c341\n'}]",0,729613,ea76c15bebfd9f1add8b936ae823c7cce8f2bb1a,58,4,5,6681,,,0,"Run CI job with train octavia on queens OOO.

Depends-On: I6ef4b290fb5bc6d9fcf7b240fa97a5dbb0e7f88d
Depends-On: I1e2603d7395440ff2f97c69fa92947a397f71446
Depends-On: I4d17b0f05f9d58380952dc5d0e60e807113860b9
Change-Id: I29ae205471e1708b84267bf8a17e5a76b391c341
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/729613/3 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,3c68217187b23e6f83fa006f39cb587c253c6d9b,octavia-backport, - tripleo-ci-centos-7-scenario010-multinode-oooq-container-extra: voting: false files: - environments/services/octavia.yaml - ^(docker|puppet)/services/.*octavia.*$ - ci/environments/scenario010-multinode-containers.yaml,,6,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Ide6d464be4a13457debfeceb61e5255c06b67808,openstack/tripleo-heat-templates,stable/queens,Ide6d464be4a13457debfeceb61e5255c06b67808,Add CinderBackupOptVolumes parameter,ABANDONED,2021-02-02 12:08:34.000000000,2021-07-08 15:20:04.000000000,,"[{'_account_id': 14624}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-02 12:08:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d09ba0f99a59caa33c083a3c66123d3052775223', 'message': ""Add CinderBackupOptVolumes parameter\n\nThis adds a new parameter 'CinderBackupOptVolumes' to allow\ncinder-backup to mount extra volumes.\n\nChange-Id: Ide6d464be4a13457debfeceb61e5255c06b67808\n(cherry picked from commit 3f8decf175fe79223b78d2153c752a6f368a2275)\n""}, {'number': 2, 'created': '2021-02-02 12:29:18.000000000', 'files': ['docker/services/cinder-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b93a9991cf4bd724e39e96a0a86aa5dc4a76ced5', 'message': ""Add CinderBackupOptVolumes parameter\n\nThis adds a new parameter 'CinderBackupOptVolumes' to allow\ncinder-backup to mount extra volumes.\n\nChange-Id: Ide6d464be4a13457debfeceb61e5255c06b67808\n(cherry picked from commit 3f8decf175fe79223b78d2153c752a6f368a2275)\n""}]",0,773595,b93a9991cf4bd724e39e96a0a86aa5dc4a76ced5,6,3,2,13671,,,0,"Add CinderBackupOptVolumes parameter

This adds a new parameter 'CinderBackupOptVolumes' to allow
cinder-backup to mount extra volumes.

Change-Id: Ide6d464be4a13457debfeceb61e5255c06b67808
(cherry picked from commit 3f8decf175fe79223b78d2153c752a6f368a2275)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/773595/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/cinder/cinder-common-container-puppet.yaml'],1,d09ba0f99a59caa33c083a3c66123d3052775223,add-CinderBackupOptVolumes-stable/queens,"<<<<<<< HEAD (410f1a Remove centos-7 upgrade and update jobs) ======= heat_template_version: rocky description: > Provides the list of common container volumes and environment used by various cinder services. parameters: EndpointMap: default: {} description: Mapping of service endpoint -> protocol. Typically set via parameter_defaults in the resource registry. type: json ServiceData: default: {} description: Dictionary packing service data type: json ServiceNetMap: default: {} description: Mapping of service_name -> network name. Typically set via parameter_defaults in the resource registry. This mapping overrides those in ServiceNetMapDefaults. type: json DefaultPasswords: default: {} type: json RoleName: default: '' description: Role name on which the service is applied type: string RoleParameters: default: {} description: Parameters specific to the role type: json CinderVolumeOptVolumes: default: [] description: list of optional volumes to be mounted type: comma_delimited_list CinderBackupOptVolumes: default: [] description: list of optional volumes to be mounted type: comma_delimited_list CinderVolumeOptEnvVars: default: {} description: hash of optional environment variables type: json CinderEnableIscsiBackend: default: true description: Whether to enable or not the Iscsi backend for Cinder type: boolean CinderLVMLoopDeviceSize: default: 10280 description: The size of the loopback file used by the cinder LVM driver. type: number MultipathdEnable: default: false description: Whether to enable the multipath daemon type: boolean CinderVolumeCluster: default: '' description: > The cluster name used for deploying the cinder-volume service in an active-active (A/A) configuration. This configuration requires the Cinder backend drivers support A/A, and the cinder-volume service not be managed by pacemaker. If these criteria are not met then the cluster name must be left blank. type: string EnableInternalTLS: type: boolean default: false EnableEtcdInternalTLS: description: Controls whether etcd and the cinder-volume service use TLS for cinder's lock manager, even when the rest of the internal API network is using TLS. type: boolean default: false conditions: multipathd_enabled: {equals: [{get_param: MultipathdEnable}, true]} cvol_active_active_tls_enabled: and: - not: {equals: [{get_param: CinderVolumeCluster}, '']} - equals: [{get_param: EnableInternalTLS}, true] - equals: [{get_param: EnableEtcdInternalTLS}, true] resources: ContainersCommon: type: ../containers-common.yaml outputs: cinder_common_host_prep_tasks: description: Common host prep tasks for cinder-volume and cinder-backup services value: &cinder_common_host_prep_tasks - name: create persistent directories file: path: ""{{ item.path }}"" state: directory setype: ""{{ item.setype }}"" mode: ""{{ item.mode|default(omit) }}"" with_items: - { 'path': /var/log/containers/cinder, 'setype': container_file_t, 'mode': '0750' } - { 'path': /var/lib/cinder, 'setype': container_file_t } - name: ensure ceph configurations exist file: path: /etc/ceph state: directory cinder_common_volumes: description: Common volumes for all cinder services value: &cinder_common_volumes list_concat: - {get_attr: [ContainersCommon, volumes]} - - /var/lib/config-data/puppet-generated/cinder:/var/lib/kolla/config_files/src:ro - /var/log/containers/cinder:/var/log/cinder:z - if: - cvol_active_active_tls_enabled - - /etc/pki/tls/certs/etcd.crt:/var/lib/kolla/config_files/src-tls/etc/pki/tls/certs/etcd.crt:ro - /etc/pki/tls/private/etcd.key:/var/lib/kolla/config_files/src-tls/etc/pki/tls/private/etcd.key:ro - [] cinder_volume_host_prep_tasks: description: Host prep tasks for the cinder-volume service (HA or non-HA) value: list_concat: - *cinder_common_host_prep_tasks - - name: cinder_enable_iscsi_backend fact set_fact: cinder_enable_iscsi_backend: {get_param: CinderEnableIscsiBackend} - when: cinder_enable_iscsi_backend|bool block: - name: ensure LVM rpm dependencies are installed package: name: lvm2 state: latest - name: cinder create LVM volume group dd command: list_join: - '' - - 'dd if=/dev/zero of=/var/lib/cinder/cinder-volumes bs=1 count=0 seek=' - str_replace: template: VALUE params: VALUE: {get_param: CinderLVMLoopDeviceSize} - 'M' args: creates: /var/lib/cinder/cinder-volumes - name: Get or create LVM loopback device shell: |- exit_code=0 existing_device=$(losetup -j /var/lib/cinder/cinder-volumes -l -n -O NAME) if [[ -z ""${existing_device}"" ]]; then losetup -f /var/lib/cinder/cinder-volumes --show exit_code=2 else echo ${existing_device%$'\n'*} fi exit ${exit_code} args: executable: /bin/bash register: _loopback_device changed_when: _loopback_device.rc == 2 failed_when: _loopback_device.rc not in [0,2] - name: Create LVM volume group lvg: vg: ""cinder-volumes"" pvs: ""{{ _loopback_device.stdout }}"" state: present when: - not (ansible_check_mode | bool) - name: cinder create service to run losetup for LVM on startup copy: dest: /etc/systemd/system/cinder-lvm-losetup.service content: | [Unit] Description=Cinder LVM losetup DefaultDependencies=no Conflicts=umount.target Requires=lvm2-lvmetad.service systemd-udev-settle.service Before=local-fs.target umount.target After=lvm2-lvmetad.service systemd-udev-settle.service [Service] Type=oneshot ExecStart=/sbin/losetup {{ _loopback_device.stdout }} /var/lib/cinder/cinder-volumes ExecStop=/sbin/losetup -d {{ _loopback_device.stdout }} RemainAfterExit=yes [Install] WantedBy=local-fs-pre.target when: - not (ansible_check_mode | bool) - name: cinder enable the LVM losetup service systemd: name: cinder-lvm-losetup enabled: yes daemon_reload: yes cinder_volume_volumes: description: Volumes for the cinder-volume container (HA or non-HA) value: list_concat: - *cinder_common_volumes - {get_param: CinderVolumeOptVolumes} - - /var/lib/kolla/config_files/cinder_volume.json:/var/lib/kolla/config_files/config.json:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /lib/modules:/lib/modules:ro - /dev/:/dev/ - /run/:/run/ - /sys:/sys - /var/lib/cinder:/var/lib/cinder:z - /var/lib/iscsi:/var/lib/iscsi:z - if: - multipathd_enabled - - /etc/multipath:/etc/multipath:z - /etc/multipath.conf:/etc/multipath.conf:ro - [] cinder_volume_environment: description: Docker environment for the cinder-volume container (HA or non-HA) value: map_merge: - {get_param: CinderVolumeOptEnvVars} - KOLLA_CONFIG_STRATEGY: COPY_ALWAYS cinder_backup_host_prep_tasks: description: Host prep tasks for the cinder-backup service (HA or non-HA) value: *cinder_common_host_prep_tasks cinder_backup_volumes: description: Volumes for the cinder-backup container (HA or non-HA) value: list_concat: - *cinder_common_volumes - {get_param: CinderBackupOptVolumes} - - /var/lib/kolla/config_files/cinder_backup.json:/var/lib/kolla/config_files/config.json:ro - /etc/iscsi:/var/lib/kolla/config_files/src-iscsid:ro - /etc/ceph:/var/lib/kolla/config_files/src-ceph:ro - /dev/:/dev/ - /run/:/run/ - /sys:/sys - /lib/modules:/lib/modules:ro - /var/lib/cinder:/var/lib/cinder:z - /var/lib/iscsi:/var/lib/iscsi:z - if: - multipathd_enabled - - /etc/multipath:/etc/multipath:z - [] cinder_backup_environment: description: Docker environment for the cinder-backup container (HA or non-HA) value: KOLLA_CONFIG_STRATEGY: COPY_ALWAYS >>>>>>> CHANGE (3f8dec Add CinderBackupOptVolumes parameter) ",,265,0
openstack%2Ftripleo-common~stable%2Fqueens~Iaf33bb8ad19729bb3cd3bdc9b6c573ecb7ba3b0a,openstack/tripleo-common,stable/queens,Iaf33bb8ad19729bb3cd3bdc9b6c573ecb7ba3b0a,[DNM] Checking runs for 773413,ABANDONED,2021-02-08 09:48:15.000000000,2021-07-08 15:20:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-02-08 09:48:15.000000000', 'files': ['container-images/overcloud_containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6645924d89edd19fd0adf65b0743396c314d2cf6', 'message': '[DNM] Checking runs for 773413\n\nChange-Id: Iaf33bb8ad19729bb3cd3bdc9b6c573ecb7ba3b0a\nSigned-off-by: Amol Kahat <amolkahat@gmail.com>\n'}]",0,774424,6645924d89edd19fd0adf65b0743396c314d2cf6,5,2,1,30750,,,0,"[DNM] Checking runs for 773413

Change-Id: Iaf33bb8ad19729bb3cd3bdc9b6c573ecb7ba3b0a
Signed-off-by: Amol Kahat <amolkahat@gmail.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/24/774424/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml'],1,6645924d89edd19fd0adf65b0743396c314d2cf6,dnm_check_containers,- imagename: docker.io/tripleoqueens/centos-binary-barbican-keystone-istener:current-tripleo,- imagename: docker.io/tripleoqueens/centos-binary-barbican-keystone-listener:current-tripleo,1,1
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,openstack/tripleo-heat-templates,stable/queens,I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,DO-NOT-MERGE Test new ceph-container builds (OSP queens),ABANDONED,2018-04-18 10:24:10.000000000,2021-07-08 15:19:56.000000000,,"[{'_account_id': 6796}, {'_account_id': 6984}, {'_account_id': 9003}, {'_account_id': 14270}, {'_account_id': 15205}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2018-04-18 10:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85bcdb654eb7d584379d748f6ab82610f8cda178', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 2, 'created': '2018-04-18 12:42:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee883fcb16e4d5e9e267ed091e1683a3c4eae723', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 3, 'created': '2018-08-08 15:57:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a03c0d679c767dfa30fbdd26d4ceda231e313592', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 4, 'created': '2018-09-06 10:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8bfeff91787b62bbcd9448db09b112282832500a', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 5, 'created': '2018-09-06 10:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d333f4064f0ee2fc5d5c5320183f7d289ebaa84', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 6, 'created': '2018-10-31 10:46:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/74f22a1ce0c3760d30911cf9709d1059cbd0f205', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 7, 'created': '2018-10-31 10:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/38f33d6b277f1efe7b7f3e29bb8f81e86d9f986f', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 8, 'created': '2019-01-15 10:26:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fe843ed24aae611ee8abc4783cc46966176888d', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 9, 'created': '2019-05-03 09:22:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e3bf085278fafcbe83f35b13eb761d2e2712a396', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 10, 'created': '2019-10-24 20:41:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31dcb8b201f111d406b79c9710ef7690ea5faf58', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 11, 'created': '2019-10-29 20:59:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8db819c78f6d5d8f83666d09af7e10de345343cc', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 12, 'created': '2019-10-29 20:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1c1172e32a595e9112d25543e43528de16329e89', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 13, 'created': '2019-10-30 20:08:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d6014927e9d4d2ed044670c4a0c5ec1ba87bd759', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 14, 'created': '2019-12-18 20:45:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/21d4a3d0e3cab0aaf322a104bf3a9ccf9d660be4', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 15, 'created': '2019-12-18 20:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e32429d244734e18ae8ec036826b7015ab32976', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 16, 'created': '2020-06-19 12:32:50.000000000', 'files': ['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7589d099181b0d525e73c9e3d476922537cf6f6c', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP queens)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}]",0,562215,7589d099181b0d525e73c9e3d476922537cf6f6c,54,8,16,6796,,,0,"DO-NOT-MERGE Test new ceph-container builds (OSP queens)

Change-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/15/562215/12 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario001-multinode-containers.yaml', 'ci/environments/scenario004-multinode-containers.yaml']",2,85bcdb654eb7d584379d748f6ab82610f8cda178,ceph-container-testing-stable/queens, DockerCephDaemonImage: docker.io/ceph/daemon:v3.0.2-stable-3.0-luminous-centos-7-x86_64,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I0161e6d9c76424b301e48b73f1d7b4b071af0676,openstack/tripleo-heat-templates,stable/queens,I0161e6d9c76424b301e48b73f1d7b4b071af0676,Add possibility to set logging source for Horizon,ABANDONED,2021-01-18 12:07:17.000000000,2021-07-08 15:19:53.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-01-18 12:07:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d5d05571146a74edb5e068ab6334a70cf2af2913', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n(cherry picked from commit b7375168656df5f4d332d89b958a75fe3f10e3bb)\n'}, {'number': 2, 'created': '2021-03-15 14:24:25.000000000', 'files': ['puppet/services/horizon.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d4b678c364547951628f1df08f1cf7abf1432eac', 'message': 'Add possibility to set logging source for Horizon\n\nThis patch adds HorizonLoggingSource parameter to enable fluentd to tail logs\nfrom Horizon.\n\nTo keep consistency with other services the default value is set as single log located\nin appropriate log directory, but we also need to enable customer to pass multiple\nhorizon log files also used by httpd.\n\nChange-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676\n(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)\n(cherry picked from commit b7375168656df5f4d332d89b958a75fe3f10e3bb)\n'}]",0,771196,d4b678c364547951628f1df08f1cf7abf1432eac,14,3,2,5241,,,0,"Add possibility to set logging source for Horizon

This patch adds HorizonLoggingSource parameter to enable fluentd to tail logs
from Horizon.

To keep consistency with other services the default value is set as single log located
in appropriate log directory, but we also need to enable customer to pass multiple
horizon log files also used by httpd.

Change-Id: I0161e6d9c76424b301e48b73f1d7b4b071af0676
(cherry picked from commit f2fc8c8fafd1c29c8ddfa0c78b875cb9f48291a7)
(cherry picked from commit b7375168656df5f4d332d89b958a75fe3f10e3bb)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/96/771196/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/horizon.yaml'],1,d5d05571146a74edb5e068ab6334a70cf2af2913,horizon-logging-source-stable/rocky-stable/queens, HorizonLoggingSource: type: json default: tag: openstack.horizon path: /var/log/horizon/horizon.log fluentd: tripleo_fluentd_groups_horizon: - horizon tripleo_fluentd_sources_cinder_api: yaql: expression: $.data.sources.flatten() data: sources: - {get_param: HorizonLoggingSource},,14,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~If5caa51cd9a3aef97d06d491dde1d5129cc1a569,openstack/tripleo-heat-templates,stable/queens,If5caa51cd9a3aef97d06d491dde1d5129cc1a569,rabbitmq: Open ports 25673-25683 for CLI tools,ABANDONED,2021-05-08 06:00:23.000000000,2021-07-08 15:19:50.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-08 06:00:23.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/rabbitmq.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4f0936088a4a2fd620d92a745b862519c2ae8ac7', 'message': 'rabbitmq: Open ports 25673-25683 for CLI tools\n\nSince RabbitMQ 3.7.4, the CLI tools (rabbitmqctl and friends)\nparallelize the querying of information from cluster members.  In\norder to receive stream data back, the cli instance binds and\nregisters itself on an available port (default between 35672 and\n35682, inclusive).  If these ports are firewalled off, then\nrabbitmqctl commands such as list_queues will hang waiting for data\nfrom remote cluster members.\n\nThis patch does two things:\n\n1) Reconfigures rabbitmqctl to bind to 25673-25683 instead of the\ndefault range of 35672-35682.  This ensures the ports are not in the\nephemeral port range and avoids unintended collisions.\n\n2) Opens the firewall on 25673-25683 to enable communication.\n\nNB: Merge conflicts for queens\n\nResolves: rhbz#1811680\n\nChange-Id: If5caa51cd9a3aef97d06d491dde1d5129cc1a569\n(cherry picked from commit a2bc2e10b0de522a81faca62b7b620432b267fbb)\n(cherry picked from commit 40a1e5ba18095692640f2c22b7fafb132912d06e)\n'}]",0,790316,4f0936088a4a2fd620d92a745b862519c2ae8ac7,4,2,1,20172,,,0,"rabbitmq: Open ports 25673-25683 for CLI tools

Since RabbitMQ 3.7.4, the CLI tools (rabbitmqctl and friends)
parallelize the querying of information from cluster members.  In
order to receive stream data back, the cli instance binds and
registers itself on an available port (default between 35672 and
35682, inclusive).  If these ports are firewalled off, then
rabbitmqctl commands such as list_queues will hang waiting for data
from remote cluster members.

This patch does two things:

1) Reconfigures rabbitmqctl to bind to 25673-25683 instead of the
default range of 35672-35682.  This ensures the ports are not in the
ephemeral port range and avoids unintended collisions.

2) Opens the firewall on 25673-25683 to enable communication.

NB: Merge conflicts for queens

Resolves: rhbz#1811680

Change-Id: If5caa51cd9a3aef97d06d491dde1d5129cc1a569
(cherry picked from commit a2bc2e10b0de522a81faca62b7b620432b267fbb)
(cherry picked from commit 40a1e5ba18095692640f2c22b7fafb132912d06e)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/790316/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/rabbitmq.yaml']",2,4f0936088a4a2fd620d92a745b862519c2ae8ac7,queens-upgrade, - 25673-25683 RABBITMQ_CTL_DIST_PORT_MIN: '25673' RABBITMQ_CTL_DIST_PORT_MAX: '25683',,4,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e,openstack/tripleo-heat-templates,stable/queens,Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e,[stein and before] Fix service_hostnames output,ABANDONED,2021-05-05 06:43:45.000000000,2021-07-08 15:19:46.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 06:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6e14725e6a2ff5dd288e958ef82db33ce2f912b1', 'message': '[stein and before] Fix service_hostnames output\n\nCheck if NetworkHostnameMap is empty map before\nbuilding service_hostnames. Else map_replace would\nleave with the network names.\n\nFrom stable/train ansible is used for all_nodes\nhieradata.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1956712\nChange-Id: Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e\n'}, {'number': 2, 'created': '2021-05-05 06:48:01.000000000', 'files': ['puppet/all-nodes-config.j2.yaml', 'network/ports/net_ip_list_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/34769f173feb62b7c409b1624a152a42af2b4942', 'message': '[stein and before] Fix service_hostnames output\n\nCheck if NetworkHostnameMap is empty map before\nbuilding service_hostnames. Else map_replace would\nleave with the network names.\n\nFrom stable/train ansible is used for all_nodes\nhieradata.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1956712\nChange-Id: Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e\n'}]",0,789708,34769f173feb62b7c409b1624a152a42af2b4942,15,3,2,8833,,,0,"[stein and before] Fix service_hostnames output

Check if NetworkHostnameMap is empty map before
building service_hostnames. Else map_replace would
leave with the network names.

From stable/train ansible is used for all_nodes
hieradata.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1956712
Change-Id: Icfaa6ad999d59bfde1abbbef7e9c9598c3053c8e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/08/789708/2 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/all-nodes-config.j2.yaml', 'network/ports/net_ip_list_map.j2.yaml']",2,6e14725e6a2ff5dd288e958ef82db33ce2f912b1,bug-1956712," default: {}conditions: network_hostname_map_set: not: {equals: [{get_param: NetworkHostnameMap}, {}]} if: - network_hostname_map_set - map_replace: - yaql: # This filters any entries where the value hasn't been substituted for # a list, e.g it's still $service_network. This happens when there is # no network defined for the service in the ServiceNetMap, which is OK # as not all services have to be bound to a network, so we filter them expression: dict($.data.map.items().where(not $[1].endsWith(""_network""))) data: map: map_replace: - map_merge: repeat: template: SERVICE_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - values: {get_param: ServiceNetMap} - values: {get_param: NetworkHostnameMap} - {}"," default: [] map_replace: - yaql: # This filters any entries where the value hasn't been substituted for # a list, e.g it's still $service_network. This happens when there is # no network defined for the service in the ServiceNetMap, which is OK # as not all services have to be bound to a network, so we filter them expression: dict($.data.map.items().where(not $[1].endsWith(""_network""))) data: map: map_replace: - map_merge: repeat: template: SERVICE_node_names: SERVICE_network for_each: SERVICE: {get_attr: [EnabledServicesValue, value]} - values: {get_param: ServiceNetMap} - values: {get_param: NetworkHostnameMap}",26,20
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I095b0ba4fa8b6052e121116827ccd6055ab0aea9,openstack/tripleo-heat-templates,stable/queens,I095b0ba4fa8b6052e121116827ccd6055ab0aea9,Stop NetworkManager from updating resolv.conf(2),ABANDONED,2021-05-11 02:40:12.000000000,2021-07-08 15:19:40.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-11 02:40:12.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56188eec084339b3ddf1996ea72d86b055857db0', 'message': 'Stop NetworkManager from updating resolv.conf(2)\n\nIn I989e3f1d14fd33e97933032111cf48166dc5f50c we updated\nthe tripleo-bootstrap role to update NetworkManager.conf.\nHowever, that role is only used by config-download in\nOSP13. This adds the tasks to HostPrepConfig so that it\nwould be run with the software deployment ansible hook.\n\nChange-Id: I095b0ba4fa8b6052e121116827ccd6055ab0aea9\n'}]",0,790544,56188eec084339b3ddf1996ea72d86b055857db0,15,3,1,8833,,,0,"Stop NetworkManager from updating resolv.conf(2)

In I989e3f1d14fd33e97933032111cf48166dc5f50c we updated
the tripleo-bootstrap role to update NetworkManager.conf.
However, that role is only used by config-download in
OSP13. This adds the tasks to HostPrepConfig so that it
would be run with the software deployment ansible hook.

Change-Id: I095b0ba4fa8b6052e121116827ccd6055ab0aea9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/790544/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,56188eec084339b3ddf1996ea72d86b055857db0,, - name: Check NetworkManager status shell: systemctl is-active NetworkManager.service || systemctl is-enabled NetworkManager.service failed_when: false become: true register: network_manager_enabled - name: Stop NetworkManager from updating resolv.conf become: true when: - network_manager_enabled.rc is defined - network_manager_enabled.rc == 0 block: - name: Set 'dns=none' in /etc/NetworkManager/NetworkManager.conf ini_file: path: /etc/NetworkManager/NetworkManager.conf state: present no_extra_spaces: true section: main option: dns value: none backup: true - name: Reload NetworkManager service: name: NetworkManager state: reloaded,,24,1
openstack%2Ftripleo-upgrade~stable%2Fqueens~Ib3bf87510763edc86f2300e3b28708f6ef38ea18,openstack/tripleo-upgrade,stable/queens,Ib3bf87510763edc86f2300e3b28708f6ef38ea18,[DNM] Run compute role node update/upgrade last.,ABANDONED,2021-05-18 16:55:51.000000000,2021-07-08 15:19:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-05-18 16:55:51.000000000', 'files': ['tasks/common/load_roles_from_inventory.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/0c5caae6ce510f2bced0877c79024d0cfce88248', 'message': '[DNM] Run compute role node update/upgrade last.\n\nDNM: untested.\n\nMake sure compute role nodes are updated after the entire control\nplane has been updated even in composable role.\n\nIn composable deployment the control plane is sliced up in controller,\ndatabase, messaging. Currently we only ensure that controller get\nupdated first, so messaging for instance get updated after compute.\n\nThis kind of disruption in the control plane can lead to unexpected\nissue on the compute role. Furthermore they can be seen as false\npositive as the compute role would be updated after the all the\nController roles.\n\nChange-Id: Ib3bf87510763edc86f2300e3b28708f6ef38ea18\n(cherry picked from commit e8ce6a898a8ec55a036b38347f549b492ca21174)\n'}]",0,792016,0c5caae6ce510f2bced0877c79024d0cfce88248,3,1,1,8297,,,0,"[DNM] Run compute role node update/upgrade last.

DNM: untested.

Make sure compute role nodes are updated after the entire control
plane has been updated even in composable role.

In composable deployment the control plane is sliced up in controller,
database, messaging. Currently we only ensure that controller get
updated first, so messaging for instance get updated after compute.

This kind of disruption in the control plane can lead to unexpected
issue on the compute role. Furthermore they can be seen as false
positive as the compute role would be updated after the all the
Controller roles.

Change-Id: Ib3bf87510763edc86f2300e3b28708f6ef38ea18
(cherry picked from commit e8ce6a898a8ec55a036b38347f549b492ca21174)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/16/792016/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/common/load_roles_from_inventory.yaml'],1,0c5caae6ce510f2bced0877c79024d0cfce88248,update/ComputeLast,"- name: register controller role name set_fact: compute_role_name: ""{{ item|regex_search('[A-Za-z0-9]*[Cc]ompute[A-Za-z0-9]*') }}"" when: item|regex_search('[A-Za-z0-9]*[Cc]ompute[A-Za-z0-9]*') loop: ""{{ oc_roles }}"" - name: store sorted roles with controller first(default) and compute last. set_fact: oc_roles: ""{{ oc_roles|intersect([controller_role_name]) + oc_roles|difference([controller_role_name]+[compute_role_name]) + oc_roles|intersect([compute_role_name]) }}""","- name: store sorted roles with controller first set_fact: oc_roles: ""{{ oc_roles|intersect([controller_role_name]) + oc_roles|difference([controller_role_name]) }}""",8,2
openstack%2Fpuppet-tripleo~stable%2Fqueens~I7e249383ed9b2baaf7cd8191684f626c10cd00a9,openstack/puppet-tripleo,stable/queens,I7e249383ed9b2baaf7cd8191684f626c10cd00a9,[Queens] Remove extra check preventing upgrade of Rabbitmq.,ABANDONED,2021-03-23 14:42:42.000000000,2021-07-08 15:19:26.000000000,,"[{'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-23 14:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/70ad23a6d5c66220b043977f08f84458ba07660c', 'message': '[DNM][Queens] Remove extra check preventing upgrade of Rabbitmq.\n\nWe want to support upgrade of rabbitmq cluster from 2.6 to 2.7.\n\nTo do so, we need to put the cluster in degraded mode during update\nwhere only the first updated node is running. Then as we move during\nupdate we re-enable (unban) the other other node one by one.\n\nThat means that during that update ""rabbit_mnesia:is_clustered()."" is\nfalse, preventing the update from working.\n\nAs that command was kept but wasn\'t actually doing the job of\nannouncing if the cluster was ready[1] we just remove it.\n\n[1] See the comments in that review https://review.opendev.org/c/openstack/puppet-tripleo/+/676431\n\nChange-Id: I7e249383ed9b2baaf7cd8191684f626c10cd00a9\nPartial-Bug: #TODO\n'}, {'number': 2, 'created': '2021-03-25 18:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5d89a1491b0ab52be339bc5abb45dd9c60682b46', 'message': '[DNM][Queens] Remove extra check preventing upgrade of Rabbitmq.\n\nDNM: I still need to test that patch in isolation to make sure it\ndoesn\'t break current code.\n\nWe want to support upgrade of rabbitmq cluster from 2.6 to 2.7.\n\nTo do so, we need to put the cluster in degraded mode during update\nwhere only the first updated node is running. Then as we move during\nupdate we re-enable (unban) the other other node one by one.\n\nThat means that during that update ""rabbit_mnesia:is_clustered()."" is\nfalse, preventing the update from working.\n\nAs that command was kept but wasn\'t actually doing the job of\nannouncing if the cluster was ready[1] we just remove it.\n\n[1] See the comments in that review https://review.opendev.org/c/openstack/puppet-tripleo/+/676431\n\nChange-Id: I7e249383ed9b2baaf7cd8191684f626c10cd00a9\nPartial-Bug: #TODO\n'}, {'number': 3, 'created': '2021-04-05 09:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d5d94e1f7cecb6af8bfd674103ed494ae3eca055', 'message': '[Queens] Remove extra check preventing upgrade of Rabbitmq.\n\nWe want to support upgrade of rabbitmq cluster from 2.6 to 2.7.\n\nTo do so, we need to put the cluster in degraded mode during update\nwhere only the first updated node is running. Then as we move during\nupdate we re-enable (unban) the other other nodes one by one.\n\nThat means that during that update ""rabbit_mnesia:is_clustered()."" is\nfalse, preventing the update from working.\n\nAs that command was kept but wasn\'t actually doing the job of\nannouncing if the cluster was ready[1] we just remove it.\n\n[1] See the comments in that review https://review.opendev.org/c/openstack/puppet-tripleo/+/676431\n\nChange-Id: I7e249383ed9b2baaf7cd8191684f626c10cd00a9\n'}, {'number': 4, 'created': '2021-06-01 15:34:36.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c07b3b244958c12c059f0b7e5d6c5c16310b3da7', 'message': '[Queens] Remove extra check preventing upgrade of Rabbitmq.\n\nWe want to support upgrade of rabbitmq cluster from 2.6 to 2.7.\n\nTo do so, we need to put the cluster in degraded mode during update\nwhere only the first updated node is running. Then as we move during\nupdate we re-enable (unban) the other other nodes one by one.\n\nThat means that during that update ""rabbit_mnesia:is_clustered()."" is\nfalse, preventing the update from working.\n\nAs that command was kept but wasn\'t actually doing the job of\nannouncing if the cluster was ready[1] we just remove it.\n\n[1] See the comments in that review https://review.opendev.org/c/openstack/puppet-tripleo/+/676431\n\nChange-Id: I7e249383ed9b2baaf7cd8191684f626c10cd00a9\n'}]",0,782535,c07b3b244958c12c059f0b7e5d6c5c16310b3da7,32,4,4,8297,,,0,"[Queens] Remove extra check preventing upgrade of Rabbitmq.

We want to support upgrade of rabbitmq cluster from 2.6 to 2.7.

To do so, we need to put the cluster in degraded mode during update
where only the first updated node is running. Then as we move during
update we re-enable (unban) the other other nodes one by one.

That means that during that update ""rabbit_mnesia:is_clustered()."" is
false, preventing the update from working.

As that command was kept but wasn't actually doing the job of
announcing if the cluster was ready[1] we just remove it.

[1] See the comments in that review https://review.opendev.org/c/openstack/puppet-tripleo/+/676431

Change-Id: I7e249383ed9b2baaf7cd8191684f626c10cd00a9
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/782535/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/pacemaker/rabbitmq_bundle.pp'],1,70ad23a6d5c66220b043977f08f84458ba07660c,," $check_command = 'rabbitmqctl eval ""rabbit_nodes:is_running(node(), rabbit)."" | grep -q true'"," $cmd1 = 'rabbitmqctl eval ""rabbit_nodes:is_running(node(), rabbit)."" | grep -q true' $cmd2 = 'rabbitmqctl eval ""rabbit_mnesia:is_clustered()."" | grep -q true' $check_command = ""${cmd1} && ${cmd2}""",1,3
openstack%2Fpuppet-tripleo~stable%2Fqueens~I21ef2e7862f3e5e21812d342b1681f8d5f7f005d,openstack/puppet-tripleo,stable/queens,I21ef2e7862f3e5e21812d342b1681f8d5f7f005d,[Queens] Force en_US.UTF-8 when dealing with rabbitmq,ABANDONED,2021-03-24 17:48:21.000000000,2021-07-08 15:18:41.000000000,,"[{'_account_id': 6926}, {'_account_id': 9257}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-24 17:48:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3d21043ad26b483334406df7f8c6d2f8038ac6c9', 'message': '[DNM] Force C.UTF-8 when dealing with rabbitmq\n\nDNM: missing intermediate backport, testing the cherry pick to verify\nif it solves the issues when upgrading rabbitmq from 3.6 to 3.7 in\nQueens.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running rabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}, {'number': 2, 'created': '2021-03-24 20:44:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c9a18024e700659ee926fa9dd93d5299c787b8f3', 'message': '[DNM] Force C.UTF-8 when dealing with rabbitmq\n\nDNM: missing intermediate backport, testing the cherry pick to verify\nif it solves the issues when upgrading rabbitmq from 3.6 to 3.7 in\nQueens.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running rabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}, {'number': 3, 'created': '2021-03-25 18:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1a9447d57515b087b8766cdf6509139294471081', 'message': '[Queens] Force en_US.UTF-8 when dealing with rabbitmq\n\nNote about the backport:\n- it has been adjusted to include\n  https://review.opendev.org/c/openstack/puppet-tripleo/+/649696 as\n  Queens container doesn\'t have the C.UTF-8 locale defined.\n- We skip the intermediate backports as this is a specific Queens\n  adjustment: we are bumping rabbitmq 3.6 to 3.7 in the OSP13 (queens)\n  containers.\n\nOriginal commit message below.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running\nrabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}, {'number': 4, 'created': '2021-04-02 17:24:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/1ecfdfe1fd7388e4644703b371017ae527d0a55e', 'message': '[Queens] Force en_US.UTF-8 when dealing with rabbitmq\n\nNote about the backport:\n- it has been adjusted to include\n  https://review.opendev.org/c/openstack/puppet-tripleo/+/649696 as\n  Queens container doesn\'t have the C.UTF-8 locale defined.\n- We skip the intermediate backports as this is a specific Queens\n  adjustment: we are bumping rabbitmq 3.6 to 3.7 in the OSP13 (queens)\n  containers.\n\nOriginal commit message below.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running\nrabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}, {'number': 5, 'created': '2021-04-05 09:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4af1032f1268eeb675da8cb2e81e10c169d4a165', 'message': '[Queens] Force en_US.UTF-8 when dealing with rabbitmq\n\nNote about the backport:\n- it has been adjusted to include\n  https://review.opendev.org/c/openstack/puppet-tripleo/+/649696 as\n  Queens container doesn\'t have the C.UTF-8 locale defined.\n- We skip the intermediate backports as this is a specific Queens\n  adjustment: we are bumping rabbitmq 3.6 to 3.7 in the OSP13 (queens)\n  containers.\n\nOriginal commit message below.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running\nrabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}, {'number': 6, 'created': '2021-06-01 15:35:04.000000000', 'files': ['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/rabbitmq.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3304393000728a31a3759d8a807349d842ffb043', 'message': '[Queens] Force en_US.UTF-8 when dealing with rabbitmq\n\nNote about the backport:\n- it has been adjusted to include\n  https://review.opendev.org/c/openstack/puppet-tripleo/+/649696 as\n  Queens container doesn\'t have the C.UTF-8 locale defined.\n- We skip the intermediate backports as this is a specific Queens\n  adjustment: we are bumping rabbitmq 3.6 to 3.7 in the OSP13 (queens)\n  containers.\n\nOriginal commit message below.\n\nWhen we use rabbitmq 3.7 we might hit the following issue when running\nrabbitmqctl commands inside containers (as puppet does):\n\n  Error: Failed to apply catalog: Cannot parse invalid user line: warning:\n  the VM is running with native name encoding of latin1 which may cause\n  Elixir to malfunction as it expects utf8. Please ensure your locale is\n  set to UTF-8 (which can be verified by running ""locale"" in your shell)\n\nThis is fundamentally the tripleo version of\nhttps://github.com/voxpupuli/puppet-rabbitmq/issues/671\n\nThis is a strict requirement coming from Elixir:\nhttps://github.com/elixir-lang/elixir/issues/3548\n\nSince containers do not have UTF-8 as a default we have this problem:\n[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh\n()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users\nwarning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags\nguest [administrator]\n()[root@overcloud-controller-0 /]$ locale\nLANG=\nLC_CTYPE=""POSIX""\nLC_NUMERIC=""POSIX""\nLC_TIME=""POSIX""\nLC_COLLATE=""POSIX""\nLC_MONETARY=""POSIX""\nLC_MESSAGES=""POSIX""\nLC_PAPER=""POSIX""\nLC_NAME=""POSIX""\nLC_ADDRESS=""POSIX""\nLC_TELEPHONE=""POSIX""\nLC_MEASUREMENT=""POSIX""\nLC_IDENTIFICATION=""POSIX""\nLC_ALL=\n\nCo-Authored-By: Damien Ciabrini <dciabrin@redhat.com>\nRelated-Bug: #1822673\nChange-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d\n(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)\n'}]",0,782831,3304393000728a31a3759d8a807349d842ffb043,37,5,6,8297,,,0,"[Queens] Force en_US.UTF-8 when dealing with rabbitmq

Note about the backport:
- it has been adjusted to include
  https://review.opendev.org/c/openstack/puppet-tripleo/+/649696 as
  Queens container doesn't have the C.UTF-8 locale defined.
- We skip the intermediate backports as this is a specific Queens
  adjustment: we are bumping rabbitmq 3.6 to 3.7 in the OSP13 (queens)
  containers.

Original commit message below.

When we use rabbitmq 3.7 we might hit the following issue when running
rabbitmqctl commands inside containers (as puppet does):

  Error: Failed to apply catalog: Cannot parse invalid user line: warning:
  the VM is running with native name encoding of latin1 which may cause
  Elixir to malfunction as it expects utf8. Please ensure your locale is
  set to UTF-8 (which can be verified by running ""locale"" in your shell)

This is fundamentally the tripleo version of
https://github.com/voxpupuli/puppet-rabbitmq/issues/671

This is a strict requirement coming from Elixir:
https://github.com/elixir-lang/elixir/issues/3548

Since containers do not have UTF-8 as a default we have this problem:
[root@overcloud-controller-0 ~]# podman exec -it rabbitmq-bundle-podman-0 sh
()[root@overcloud-controller-0 /]$ rabbitmqctl -q list_users
warning: the VM is running with native name encoding of latin1 which may cause Elixir to malfunction as it expects utf8. Please ensure your locale is set to UTF-8 (which can be verified by ru nning ""locale"" in your shell) user tags
guest [administrator]
()[root@overcloud-controller-0 /]$ locale
LANG=
LC_CTYPE=""POSIX""
LC_NUMERIC=""POSIX""
LC_TIME=""POSIX""
LC_COLLATE=""POSIX""
LC_MONETARY=""POSIX""
LC_MESSAGES=""POSIX""
LC_PAPER=""POSIX""
LC_NAME=""POSIX""
LC_ADDRESS=""POSIX""
LC_TELEPHONE=""POSIX""
LC_MEASUREMENT=""POSIX""
LC_IDENTIFICATION=""POSIX""
LC_ALL=

Co-Authored-By: Damien Ciabrini <dciabrin@redhat.com>
Related-Bug: #1822673
Change-Id: I21ef2e7862f3e5e21812d342b1681f8d5f7f005d
(cherry picked from commit a92d1fccc6ecd738a9a30292d03f48bec7e5fd3b)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/31/782831/5 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/pacemaker/rabbitmq_bundle.pp', 'manifests/profile/base/rabbitmq.pp']",2,3d21043ad26b483334406df7f8c6d2f8038ac6c9,," 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args, 'LANG' => 'C.UTF-8', 'LC_ALL' => 'C.UTF-8'", 'RABBITMQ_CTL_ERL_ARGS' => $rabbitmq_additional_erl_args,4,2
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I4356d5f25c3ddac305276743ecc54b6b1b5d96cd,openstack/tripleo-heat-templates,stable/queens,I4356d5f25c3ddac305276743ecc54b6b1b5d96cd,[Queens] Handle major upgrade of rabbitmq during update.,ABANDONED,2021-03-04 16:44:42.000000000,2021-07-08 15:18:22.000000000,,"[{'_account_id': 6926}, {'_account_id': 8297}, {'_account_id': 9257}, {'_account_id': 17823}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-04 16:44:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7c8e4d7fbc2b05060e9667e3c9f844dac892b395', 'message': '[Queens] Handle major upgrade of rabbitmq during update.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 2, 'created': '2021-03-04 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1e11f2dfcddf0e2b4b4b0c74f067ef3b688c747', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - xpath may be a bit too much :)\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 3, 'created': '2021-03-04 17:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/856b31c67475051d879140e89845d8bb884befd9', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 4, 'created': '2021-03-08 12:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0273d9e8aa8dc92c2d1b29cf4aed51c48f9b8dc9', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 5, 'created': '2021-03-09 09:43:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b985e135b6245edc46c1784f91bc67132aab2a33', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 6, 'created': '2021-03-10 16:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/271868d430049107e1fc03f96f7ce17fca91e83d', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nSo we disable the rabbitmq cluster before doing the update and\nre-enable it after we have update one node.\n\nThen rabbitmq can start even if only on one node. As we move from\ncontroller node to controller node the updated rabbitmq will re-join\nthe cluster.\n\nNote, we use ""inventory_hostname == ansible_play_host[0]"" ansible\nidiom[1] because ""run_once"" run the task once per *batch*. For\ncontroller we have serial set to 1 and the net result is that it\'s run\nfor each controller when ""run_once"" is used. Using the\n""inventory_hostname"" trick makes it run only once for the rolling\nupdate of the controllers.\n\n[1] see https://docs.ansible.com/ansible/2.3/playbooks_delegation.html#id12\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 7, 'created': '2021-03-19 18:25:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05c61f01f2100828969957c5a92109e003962ea2', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 8, 'created': '2021-03-23 09:47:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1fb07bb38d8959458fef700300f5c0816ed92182', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 9, 'created': '2021-03-23 14:44:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd26fdcc0a7b08d6e4944ca31eb3b4155cdc9d1d', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nWe also need to tweak the puppet module as mnesia won't be in a\ncluster at the time of the first update.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782535\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 10, 'created': '2021-03-23 17:19:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/549a6fff84440ef527d8fff0f83cc36a958b5201', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nRabbitmq 2.7 is very sensitive to the locale used, so we need to make\nsure that every puppet call is made in an UTF-8 environment.\n\nWe also need to tweak the puppet module as mnesia won't be in a\ncluster at the time of the first update.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782535\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 11, 'created': '2021-03-24 22:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f156dc59f8fdf8df554da5fbf337c72e1849933c', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nRabbitmq 2.7 is very sensitive to the locale used, so we need to make\nsure that every puppet call is made in an UTF-8 environment.\n\nWe also need to tweak the puppet module as mnesia won't be in a\ncluster at the time of the first update.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782535\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 12, 'created': '2021-03-25 00:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/26f1fd059e2059ddf314f226ca6dd13950b9e3ef', 'message': ""[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nTODO:\n - need more testing, currently only a theory.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is simple:\n\n 1. if no ban exists, then I'm the first rabbitmq node to be updated\n    to the next major version, ban the other at step 5 of the update of\n    that node.\n\n 2. if bans exists, then I'm not the first one and then I'm un-banning\n    myself during the post-update phase (after my container was\n    updated)\n\nWith this the first rabbitmq node updated will be the only one running\nand will start properly. After, only updated node will rejoin the\ncluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nRabbitmq 2.7 is very sensitive to the locale used, so we need to make\nsure that every puppet call is made in an UTF-8 environment.\n\nWe also need to tweak the puppet module as mnesia won't be in a\ncluster at the time of the first update.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782535\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n""}, {'number': 13, 'created': '2021-03-25 18:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cf15f6aa17b5836cea34f5d4a7ecb24957a51522', 'message': '[Queens] Handle major upgrade of rabbitmq during update.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the post-update phase (after my container was\n    updated). We don\'t check for upgrade here to take into account the\n    case where the update was interupted. So remove the ban is unconditional.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nWe note that there should be no cut in the control plane. There will\nbe however a degraded rabbitmq cluster state during which only one,\nthen two rabbitmq nodes will be available. It depends on many things\nbut we can says that there will be only one rabbitmq node during ~30\nminutes and then it will be running with two nodes only during ~30\nminutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their conterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be in a\ncluster at the time of the first update.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 14, 'created': '2021-04-02 15:15:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/10dbc36bc61bc7cd17a11c46bf58e9be46468bee', 'message': '[Queens] Handle major upgrade of rabbitmq during update.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 15, 'created': '2021-04-06 09:36:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f214f67f58496291e184588eb3e33e8fe73baf0', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nDNM: testing without the ban/unban dance.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 16, 'created': '2021-04-06 09:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/33ea5d33380c576696e5dd50be8bd3b4c3fe57dd', 'message': '[Queens] Handle major upgrade of rabbitmq during update.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 17, 'created': '2021-04-09 16:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/90146bb3273a7ad5ace594fb782a48c6950278fa', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nDNM: adding unmanage for special case where RA is not updated on one\nnode and has trouble starting rabbitmq. Need testing.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 18, 'created': '2021-04-14 02:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7134835b58db8afcddede5929fde21ab95099c6e', 'message': '[DNM][Queens] Handle major upgrade of rabbitmq during update.\n\nDNM: adding unmanage for special case where RA is not updated on one\nnode and has trouble starting rabbitmq. Need testing.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}, {'number': 19, 'created': '2021-04-23 00:14:06.000000000', 'files': ['docker/services/pacemaker/rabbitmq.yaml', 'puppet/services/rabbitmq.yaml', 'docker/services/containers-common.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9faf370c0aa1626b1d7670745ae278e2827008af', 'message': '[Queens] Handle major upgrade of rabbitmq during update.\n\nWhen upgrading rabbitmq to a new major version, the cluster cannot be\nreform correctly as the old and the new version cannot talk to each\nother.\n\nThe algorithm used here is to solve the problem is:\n\n 0. if the current version is 3.6 we are going to upgrade it to 3.7,\n    so save that an upgrade of rabbitmq is coming.\n\n 1. if an upgrade of rabbitmq is coming: if no ban exists then I\'m the\n    first rabbitmq node to be updated to the next major version, ban the\n    others at step 5 of the update of that node.\n\n 2. if bans exists, then I\'m not the first one and then I\'m un-banning\n    myself during the step 5 of the update as well. We ""by-pass"" paunch\n    here. But given the image manipulations done to HA containers during\n    update tasks we don\'t need paunch to pull the new images. Effectively\n    we will start with the new rabbitmq that will happily rejoin the\n    cluster ever-after. No new puppet configuration is necessary for this\n    new rabbitmq version so we can skip it as well.\n\n    Note that we un-ban without checking if a update of rabbitmq is\n    coming. This is to cover the case of a restarted update or an updated\n    used with --limit.\n\nWith this, the first rabbitmq node updated will be the only one\nrunning and will start properly. After, only updated nodes will rejoin\nthe cluster avoiding any error.\n\nThere will be a short cut in the control plane as we need to modify\nthe rabbitmq bundle resource to add the UTF-8 support.\n\nThere will be also a degraded rabbitmq cluster state during which only\none, then two rabbitmq nodes will be available. It depends on many\nthings but we can says that there will be only one rabbitmq node\nduring ~30 minutes and then it will be running with two nodes only\nduring ~30 minutes more.\n\nRabbitmq 2.7 is sensitive to the locale used, so we need to make sure\nthat every puppet call is made in an UTF-8 environment.\n\nWhat we have added here, is a adapted backport of:\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/\n - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/\n\nWith this, the rabbitmq containers and puppet are running in a UTF-8\nenvironment, preventing any puppet error during common deploy step\nphase of the update.\n\nThose reviews need their counterpart in puppet-tripleo so that the\nrabbitmq bundle resource get properly configured to use UTF-8.\n\nWe also need to tweak the puppet module as mnesia won\'t be necessarily\nin a cluster state (as described above) when the rabbitmq bootstrap\nnode is updated.\n\nThe last two points will be handled in two reviews in\npuppet-tripleo. See the ""Depends On"" which is the tip of the changes.\n\nDepends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831\n\nChange-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd\n'}]",17,778748,9faf370c0aa1626b1d7670745ae278e2827008af,84,7,19,8297,,,0,"[Queens] Handle major upgrade of rabbitmq during update.

When upgrading rabbitmq to a new major version, the cluster cannot be
reform correctly as the old and the new version cannot talk to each
other.

The algorithm used here is to solve the problem is:

 0. if the current version is 3.6 we are going to upgrade it to 3.7,
    so save that an upgrade of rabbitmq is coming.

 1. if an upgrade of rabbitmq is coming: if no ban exists then I'm the
    first rabbitmq node to be updated to the next major version, ban the
    others at step 5 of the update of that node.

 2. if bans exists, then I'm not the first one and then I'm un-banning
    myself during the step 5 of the update as well. We ""by-pass"" paunch
    here. But given the image manipulations done to HA containers during
    update tasks we don't need paunch to pull the new images. Effectively
    we will start with the new rabbitmq that will happily rejoin the
    cluster ever-after. No new puppet configuration is necessary for this
    new rabbitmq version so we can skip it as well.

    Note that we un-ban without checking if a update of rabbitmq is
    coming. This is to cover the case of a restarted update or an updated
    used with --limit.

With this, the first rabbitmq node updated will be the only one
running and will start properly. After, only updated nodes will rejoin
the cluster avoiding any error.

There will be a short cut in the control plane as we need to modify
the rabbitmq bundle resource to add the UTF-8 support.

There will be also a degraded rabbitmq cluster state during which only
one, then two rabbitmq nodes will be available. It depends on many
things but we can says that there will be only one rabbitmq node
during ~30 minutes and then it will be running with two nodes only
during ~30 minutes more.

Rabbitmq 2.7 is sensitive to the locale used, so we need to make sure
that every puppet call is made in an UTF-8 environment.

What we have added here, is a adapted backport of:
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649299/
 - https://review.opendev.org/c/openstack/tripleo-heat-templates/+/649697/

With this, the rabbitmq containers and puppet are running in a UTF-8
environment, preventing any puppet error during common deploy step
phase of the update.

Those reviews need their counterpart in puppet-tripleo so that the
rabbitmq bundle resource get properly configured to use UTF-8.

We also need to tweak the puppet module as mnesia won't be necessarily
in a cluster state (as described above) when the rabbitmq bootstrap
node is updated.

The last two points will be handled in two reviews in
puppet-tripleo. See the ""Depends On"" which is the tip of the changes.

Depends-On: https://review.opendev.org/c/openstack/puppet-tripleo/+/782831

Change-Id: I4356d5f25c3ddac305276743ecc54b6b1b5d96cd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/778748/19 && git format-patch -1 --stdout FETCH_HEAD,['docker/services/pacemaker/rabbitmq.yaml'],1,7c8e4d7fbc2b05060e9667e3c9f844dac892b395,update/rabbitmq," - name: Handle major upgrade of rabbitmq when: step|int == 5 run_once: true block: - name: Discover the running version of rabbitmq shell: | docker_name=$(crm_mon --as-xml | \ xmllint -xpath \ 'string(/*/*/bundle[@id=""rabbitmq-bundle""]/*/resource[@resource_agent=""ocf::heartbeat:docker"" and node[@name=""{{ ansible_nodename }}""]]/@id)' -) docker exec $docker_name rpm -qi rabbitmq-server | awk 'match($0, /^Version[^:]*: [0-9]\.([0-9]+)\.[0-9]+/, line){print line[1]}' register: rabbitmq_subversion - name: Remember if an update has taken place set_fact: rabbitmq_need_upgrade: ""{{ rabbitmq_subversion|int == 6 }}"" - name: Disable rabbitmq to prepare for major version bump shell: ""pcs resource disable --wait rabbitmq-bundle"" when: rabbitmq_need_upgrade|bool post_update_tasks: - name: Reactivate rabbitmq if a major upgrade of rabbitmq happened shell: ""pcs resource enable --wait rabbitmq-bundle"" when: - step|int == 1 - rabbitmq_need_upgrade|bool run_once: true",,24,0
openstack%2Ftripleo-common~stable%2Fqueens~I688de151c654a19003397adacf07ae67f66001a7,openstack/tripleo-common,stable/queens,I688de151c654a19003397adacf07ae67f66001a7,[TRAIN ONLY] Handle empty role Specific Parameter,ABANDONED,2021-06-04 16:43:59.000000000,2021-07-08 15:18:15.000000000,,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-04 16:43:59.000000000', 'files': ['workbooks/plan_management.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4a827e5aabcebf4140a72f9114f36d1eeb832609', 'message': '[TRAIN ONLY] Handle empty role Specific Parameter\n\nHaving empty role specific parameters will fail the deployment as\nmistral workflow YAQL expression fails.\n\nChange-Id: I688de151c654a19003397adacf07ae67f66001a7\nCloses-Bug: #1900810\n(cherry picked from commit 5a86b8c117a7c55d240331ef91e87846c78aa9da)\n'}]",0,794814,4a827e5aabcebf4140a72f9114f36d1eeb832609,17,5,1,7144,,,0,"[TRAIN ONLY] Handle empty role Specific Parameter

Having empty role specific parameters will fail the deployment as
mistral workflow YAQL expression fails.

Change-Id: I688de151c654a19003397adacf07ae67f66001a7
Closes-Bug: #1900810
(cherry picked from commit 5a86b8c117a7c55d240331ef91e87846c78aa9da)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/794814/1 && git format-patch -1 --stdout FETCH_HEAD,['workbooks/plan_management.yaml'],1,4a827e5aabcebf4140a72f9114f36d1eeb832609,, user_provided_role_specific: <% let(param => task().result) -> $.user_params.items().where( $param.contains($[0]) and $[1] != null ).select( $[1] ).flatten() %>, user_provided_role_specific: <% let(param => task().result) -> $.user_params.items().where( $param.contains($[0]) ).select( $[1] ).flatten() %>,1,1
openstack%2Ftripleo-common~stable%2Fstein~Ie39e14cbfde647224af509267896bd36ffffc4f2,openstack/tripleo-common,stable/stein,Ie39e14cbfde647224af509267896bd36ffffc4f2,Add support for Octavia amphora log offloading,ABANDONED,2020-11-03 22:34:59.000000000,2021-07-08 15:17:17.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 22:34:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c5c57f562094e698e0bc47fafd0cc6ec70bb15b6', 'message': 'Add support for Octavia amphora log offloading\n\nThis patch configures Octavia to enable amphora log offloading\nto the Octavia rsyslog container if the OctaviaOffloadAllLogs\nparameter is True.\n\nNote: this is a semantic backport of\nIc4ee6f4a150200531491cdd78ca3c4f66e5d1ffb.\n\nDepends-On: https://review.opendev.org/761244\nChange-Id: Ie39e14cbfde647224af509267896bd36ffffc4f2\n'}, {'number': 2, 'created': '2021-01-13 19:32:54.000000000', 'files': ['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-post-config/tasks/main.yml', 'playbooks/roles/octavia-controller-post-config/templates/10-octavia.conf.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d7f58adf855443e3e3963e093a708b105d520cba', 'message': 'Add support for Octavia amphora log offloading\n\nThis patch configures Octavia to enable amphora log offloading\nto the Octavia rsyslog container if the OctaviaOffloadAllLogs\nparameter is True.\n\nNote: this is a semantic backport of\nIc4ee6f4a150200531491cdd78ca3c4f66e5d1ffb.\n\nChange-Id: Ie39e14cbfde647224af509267896bd36ffffc4f2\n'}]",0,761245,d7f58adf855443e3e3963e093a708b105d520cba,8,3,2,6681,,,0,"Add support for Octavia amphora log offloading

This patch configures Octavia to enable amphora log offloading
to the Octavia rsyslog container if the OctaviaOffloadAllLogs
parameter is True.

Note: this is a semantic backport of
Ic4ee6f4a150200531491cdd78ca3c4f66e5d1ffb.

Change-Id: Ie39e14cbfde647224af509267896bd36ffffc4f2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/45/761245/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/octavia-files.yaml', 'playbooks/roles/octavia-controller-post-config/tasks/main.yml', 'playbooks/roles/octavia-controller-post-config/templates/10-octavia.conf.j2']",3,c5c57f562094e698e0bc47fafd0cc6ec70bb15b6,octavia-rsyslog-backport,"module(load=""imudp"") input(type=""imudp"" address=""{{ mgmt_port_ip }}"" port=""514"") # Output the amphora tenant traffic flow logs if ($inputname == ""imudp"" and $syslogfacility-text == ""local0"" and $syslogseverity-text == ""info"" and $hostname startswith ""amphora"") then { action(type=""omfile"" FileCreateMode=""0644"" File=""/var/log/octavia/octavia-tenant-traffic.log"") stop } # Output the amphora administrative logs if ($inputname == ""imudp"" and $syslogfacility-text == ""local1"" and $hostname startswith ""amphora"") then { action(type=""omfile"" FileCreateMode=""0644"" File=""/var/log/octavia/octavia-amphora.log"") stop } ",,71,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,openstack/tripleo-heat-templates,stable/stein,I3bafda2dd8049b93d9e049c8b9fe9940784bfac9,Add the ability to offload amphora logs,ABANDONED,2020-11-03 22:33:47.000000000,2021-07-08 15:17:10.000000000,,"[{'_account_id': 7144}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 22:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c08b7cd09f705d3268acdbda3d7bddbb2e0f436', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nDepends-On: https://review.opendev.org/#/c/761243\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)\n(cherry picked from commit 6cbee27e9725150f4d85ea96485d1edd61bdc8a4)\n'}, {'number': 2, 'created': '2020-11-04 17:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/08fa1356bb2395f8f2b305ba54bd2d4e0aad0b83', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nDepends-On: https://review.opendev.org/#/c/761243\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)\n(cherry picked from commit 6cbee27e9725150f4d85ea96485d1edd61bdc8a4)\n'}, {'number': 3, 'created': '2021-01-13 19:33:30.000000000', 'files': ['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f90dacddac46e2ed41f7fd646c8d8d341710adb', 'message': 'Add the ability to offload amphora logs\n\nThis patch adds the ability to enable log offloading from the amphora\ninstances to an Octavia rsyslog container.\n\nDepends-On: https://review.opendev.org/#/c/761243\nChange-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9\n(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)\n(cherry picked from commit 6cbee27e9725150f4d85ea96485d1edd61bdc8a4)\n'}]",0,761244,8f90dacddac46e2ed41f7fd646c8d8d341710adb,11,4,3,6681,,,0,"Add the ability to offload amphora logs

This patch adds the ability to enable log offloading from the amphora
instances to an Octavia rsyslog container.

Depends-On: https://review.opendev.org/#/c/761243
Change-Id: I3bafda2dd8049b93d9e049c8b9fe9940784bfac9
(cherry picked from commit af90b51c53f7ea0ff9e8b899e45723548e753043)
(cherry picked from commit 6cbee27e9725150f4d85ea96485d1edd61bdc8a4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/761244/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-log-offload-d1617e767f688da1.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",3,9c08b7cd09f705d3268acdbda3d7bddbb2e0f436,octavia-rsyslog-backport," OctaviaLogOffload: default: false description: When true, log messages from the amphora will be forwarded to the administrative log endponts and will be stored with the controller logs. type: boolean enable_log_offloading: { get_param: OctaviaLogOffload }",,78,19
openstack%2Ftripleo-common~stable%2Fstein~I3ce6808379790e2e4d96027d5f92384249c8c783,openstack/tripleo-common,stable/stein,I3ce6808379790e2e4d96027d5f92384249c8c783,Add Octavia use of the rsyslog image,ABANDONED,2020-11-03 22:32:35.000000000,2021-07-08 15:17:04.000000000,,"[{'_account_id': 6681}, {'_account_id': 7144}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-11-03 22:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2df9a6497cbbb4c766ba0c086f4b63054bb02f08', 'message': 'Add Octavia use of the rsyslog image\n\nOctavia is adding a container to collect logs from inside the\namphora instances. This patch adds Octavia to the list of services\nleveraging the existing rsyslog container.\n\nChange-Id: I3ce6808379790e2e4d96027d5f92384249c8c783\n(cherry picked from commit 32c96fe430feddfbf353d076eda36f6cfcdbfd1a)\n(cherry picked from commit 284376145b371dfd64243b2a4460fb09c4e6f8aa)\n(cherry picked from commit c8b92cb3606e93465fb7f1f0ffff11b73204ed6d)\n'}, {'number': 2, 'created': '2021-01-13 19:32:54.000000000', 'files': ['container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9fb1d06cafaef4af856621ce3b46d105913898b3', 'message': 'Add Octavia use of the rsyslog image\n\nOctavia is adding a container to collect logs from inside the\namphora instances. This patch adds Octavia to the list of services\nleveraging the existing rsyslog container.\n\nChange-Id: I3ce6808379790e2e4d96027d5f92384249c8c783\n(cherry picked from commit 32c96fe430feddfbf353d076eda36f6cfcdbfd1a)\n(cherry picked from commit 284376145b371dfd64243b2a4460fb09c4e6f8aa)\n(cherry picked from commit c8b92cb3606e93465fb7f1f0ffff11b73204ed6d)\n'}]",0,761243,9fb1d06cafaef4af856621ce3b46d105913898b3,14,5,2,6681,,,0,"Add Octavia use of the rsyslog image

Octavia is adding a container to collect logs from inside the
amphora instances. This patch adds Octavia to the list of services
leveraging the existing rsyslog container.

Change-Id: I3ce6808379790e2e4d96027d5f92384249c8c783
(cherry picked from commit 32c96fe430feddfbf353d076eda36f6cfcdbfd1a)
(cherry picked from commit 284376145b371dfd64243b2a4460fb09c4e6f8aa)
(cherry picked from commit c8b92cb3606e93465fb7f1f0ffff11b73204ed6d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/761243/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/overcloud_containers.yaml.j2'],1,2df9a6497cbbb4c766ba0c086f4b63054bb02f08,octavia-rsyslog-backport, - DockerOctaviaRsyslogImage - OS::TripleO::Services::OctaviaHealthManager,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,openstack/tripleo-heat-templates,stable/stein,I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c,DO-NOT-MERGE Test new ceph-container builds (stein),ABANDONED,2019-05-03 09:23:33.000000000,2021-07-08 15:16:59.000000000,,"[{'_account_id': 6796}, {'_account_id': 14270}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-03 09:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3915f8fe83859510085d30efbf6c4980215b1a28', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 2, 'created': '2019-05-03 09:24:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bc60c93bd20e9a15ca6ac79cc9304950e7b9982e', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 3, 'created': '2019-07-17 11:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/68743ef98b97446d047e9b8af700def0a8f59e9e', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 4, 'created': '2019-07-17 11:00:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/54feff2e4747f4e73c3cfd1eaa2789f51be28a6f', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 5, 'created': '2019-10-11 13:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c59401498a80cfd560b35e675a18174d28dad90d', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 6, 'created': '2019-10-11 13:04:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6216fbf0237f739cf21d31b94551b302b5981fa2', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 7, 'created': '2019-10-11 13:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a3d5d4b36676287737472ced7e92a0ca0b71ccc5', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 8, 'created': '2019-12-18 20:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4990c908bd82a0e75823224f4a782b0605776aa4', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 9, 'created': '2019-12-18 20:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/96acbc2c9ac4fcf95d3c6aefcbd8e29afb60b686', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 10, 'created': '2020-01-24 08:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4ab307d2655c1a7bd56121bb5bbe0472d7992fe7', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 11, 'created': '2020-02-07 13:14:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6adf636c8e096bfcdd25de360b7f672971241301', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 12, 'created': '2020-02-07 13:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aff9d077ca53e66ac5a563cc973e64d06f95c4da', 'message': 'DO-NOT-MERGE Test new ceph-container builds (OSP stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}, {'number': 13, 'created': '2020-04-20 14:16:57.000000000', 'files': ['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b42971bfcbe6d02af8d4d50f3b03829f679c90ff', 'message': 'DO-NOT-MERGE Test new ceph-container builds (stein)\n\nChange-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c\n'}]",0,656934,b42971bfcbe6d02af8d4d50f3b03829f679c90ff,39,5,13,6796,,,0,"DO-NOT-MERGE Test new ceph-container builds (stein)

Change-Id: I7e50d1c0d9483cc1462ec13b430ff16f9f4adb2c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/34/656934/13 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario004-standalone.yaml', 'ci/environments/scenario001-standalone.yaml']",2,3915f8fe83859510085d30efbf6c4980215b1a28,, DockerCephDaemonImage: docker.io/ceph/daemon:latest-bis-nautilus,,2,0
openstack%2Ftripleo-validations~stable%2Fstein~I00e2e252700d0229113cc6ee1c4efff0504fb005,openstack/tripleo-validations,stable/stein,I00e2e252700d0229113cc6ee1c4efff0504fb005,Remove workaround for broken dogpile.cache and lower-constraints file,ABANDONED,2021-01-21 11:17:00.000000000,2021-07-08 15:16:54.000000000,,"[{'_account_id': 7144}, {'_account_id': 11491}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-21 11:17:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1eb7bf38e3a7c47e606144f157f618f3e12198b9', 'message': ""Remove workaround for broken dogpile.cache and lower-constraints file\n\n- dogpile.cache workaround\nBug: https://github.com/sqlalchemy/dogpile.cache/issues/178\nBug: https://bugs.launchpad.net/tripleo/+bug/1876073\n\n- The lower-constraints.txt file has been removed because it is not\nuseful for TripleO anymore. The .zuul.yaml doesn't exists in ussuri\nthe modification was reported in zuul.d/layout.yaml file.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I00e2e252700d0229113cc6ee1c4efff0504fb005\n(cherry picked from commit b8bb9a5f2c6e2e8ca5fb8aea8ed0da5df5464078)\n(cherry picked from commit 3977997c352d7195ff3ea6d16b3a7b364b4bd379)\n(cherry picked from commit aee0b3a400182789103692af0ec21b3ffee383de)\n""}, {'number': 2, 'created': '2021-01-21 11:20:05.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/layout.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/18c36fe026fec47f55d0729aae23b5c95930a590', 'message': ""Remove workaround for broken dogpile.cache and lower-constraints file\n\n- dogpile.cache workaround\nBug: https://github.com/sqlalchemy/dogpile.cache/issues/178\nBug: https://bugs.launchpad.net/tripleo/+bug/1876073\n\n- The lower-constraints.txt file has been removed because it is not\nuseful for TripleO anymore. The .zuul.yaml doesn't exists in ussuri\nthe modification was reported in zuul.d/layout.yaml file.\n\nSigned-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>\nChange-Id: I00e2e252700d0229113cc6ee1c4efff0504fb005\n(cherry picked from commit b8bb9a5f2c6e2e8ca5fb8aea8ed0da5df5464078)\n(cherry picked from commit 3977997c352d7195ff3ea6d16b3a7b364b4bd379)\n(cherry picked from commit aee0b3a400182789103692af0ec21b3ffee383de)\n""}]",0,771794,18c36fe026fec47f55d0729aae23b5c95930a590,7,3,2,31245,,,0,"Remove workaround for broken dogpile.cache and lower-constraints file

- dogpile.cache workaround
Bug: https://github.com/sqlalchemy/dogpile.cache/issues/178
Bug: https://bugs.launchpad.net/tripleo/+bug/1876073

- The lower-constraints.txt file has been removed because it is not
useful for TripleO anymore. The .zuul.yaml doesn't exists in ussuri
the modification was reported in zuul.d/layout.yaml file.

Signed-off-by: Gael Chamoulaud (Strider) <gchamoul@redhat.com>
Change-Id: I00e2e252700d0229113cc6ee1c4efff0504fb005
(cherry picked from commit b8bb9a5f2c6e2e8ca5fb8aea8ed0da5df5464078)
(cherry picked from commit 3977997c352d7195ff3ea6d16b3a7b364b4bd379)
(cherry picked from commit aee0b3a400182789103692af0ec21b3ffee383de)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/94/771794/2 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'zuul.d/layout.yaml', 'tox.ini', 'molecule-requirements.txt']",5,1eb7bf38e3a7c47e606144f157f618f3e12198b9,stein,"jinja2>=2.8.0,<3",,8,131
openstack%2Ftripleo-heat-templates~stable%2Fstein~I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,openstack/tripleo-heat-templates,stable/stein,I5cba0e8775b4c40e6fc86210c3ad750d9e24077f,DO-NOT-MERGE Test new ceph-ansible builds (OSP stein),ABANDONED,2019-05-03 09:25:39.000000000,2021-07-08 15:16:48.000000000,,"[{'_account_id': 6796}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-03 09:25:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ee6babab08e35dad44d49509770e454e06fcd217', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 2, 'created': '2019-06-14 08:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1127de79a28d23dc7679e5d9705644d4270776f0', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 3, 'created': '2019-06-14 12:13:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f8a0f10146057d8bd98cc603491cc1ec36937b3', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 4, 'created': '2019-07-17 10:53:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6b94e267e0f43758e90154e9b7acb528f58907e', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 5, 'created': '2019-07-31 15:14:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d69550b131d713f671a749900b9e0c2de6a596fc', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 6, 'created': '2019-09-03 18:38:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ae4a892bb7aa7a2a8f02e932ec18e797b689fc0e', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 7, 'created': '2019-09-26 14:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/72fc16e33366a784ee3d67ab3e21861ba72c12af', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 8, 'created': '2019-10-11 10:09:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5e02c7f9275e41dbb157782d442fae354600b9c4', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 9, 'created': '2019-10-17 10:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6529248ef7b0f7a7bbb20ab0c4d47f423736dba1', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 10, 'created': '2020-01-09 21:22:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/275201d2c8021807bcde4892e0bfe445c30dd3db', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 11, 'created': '2020-03-26 17:54:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b535b8aba2631b159b71f7c0f405de8957542ba4', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}, {'number': 12, 'created': '2020-12-09 11:24:24.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eedf332da51a6994d1c859667463b551b15fea7b', 'message': 'DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)\n\nChange-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f\nDepends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d\n'}]",0,656935,eedf332da51a6994d1c859667463b551b15fea7b,113,6,12,6796,,,0,"DO-NOT-MERGE Test new ceph-ansible builds (OSP stein)

Change-Id: I5cba0e8775b4c40e6fc86210c3ad750d9e24077f
Depends-On: Ic33cb930a7e81e58527e3771e3401c844137cf1d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/656935/11 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,ee6babab08e35dad44d49509770e454e06fcd217,storage-sig-testing, Ceph base service. With lots of love., Ceph base service. Shared by all Ceph services.,1,1
openstack%2Fpython-tripleoclient~stable%2Fstein~Ib413a40a63c9d79e7387f854167d80a105888337,openstack/python-tripleoclient,stable/stein,Ib413a40a63c9d79e7387f854167d80a105888337,[stable only] Remove timeout in config-download-export,ABANDONED,2020-04-27 18:10:04.000000000,2021-07-08 15:16:44.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2020-04-27 18:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/22f5da9e2ba52336b7d7bc15e83b16ecd5612447', 'message': '[stable only] Remove timeout in config-download-export\n\nWith large number of nodes this can run for more than the\ndefault timeout of 360s as we do fetch the whole config\nfrom heat and generate the playbooks and the workflow can\ntimeout very easily.\n\nThis was removed for config-download worflow with\nhttps://review.opendev.org/620627\n\nRelated-Bug: #1805649\nChange-Id: Ib413a40a63c9d79e7387f854167d80a105888337\n(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)\n'}, {'number': 2, 'created': '2020-09-14 19:46:01.000000000', 'files': ['tripleoclient/workflows/deployment.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6483977ddc0e707146a5ac0e60f39ec20f25764a', 'message': '[stable only] Remove timeout in config-download-export\n\nWith large number of nodes this can run for more than the\ndefault timeout of 360s as we do fetch the whole config\nfrom heat and generate the playbooks and the workflow can\ntimeout very easily.\n\nThis was removed for config-download worflow with\nhttps://review.opendev.org/620627\n\nRelated-Bug: #1805649\nChange-Id: Ib413a40a63c9d79e7387f854167d80a105888337\n(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)\n'}]",0,723633,6483977ddc0e707146a5ac0e60f39ec20f25764a,13,5,2,25877,,,0,"[stable only] Remove timeout in config-download-export

With large number of nodes this can run for more than the
default timeout of 360s as we do fetch the whole config
from heat and generate the playbooks and the workflow can
timeout very easily.

This was removed for config-download worflow with
https://review.opendev.org/620627

Related-Bug: #1805649
Change-Id: Ib413a40a63c9d79e7387f854167d80a105888337
(cherry picked from commit 934d713ac5f3c9a15339e79f4d599ed62ad5612e)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/33/723633/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/workflows/deployment.py'],1,22f5da9e2ba52336b7d7bc15e83b16ecd5612447,," for payload in base.wait_for_messages(workflow_client, ws, execution):"," for payload in base.wait_for_messages(workflow_client, ws, execution, _WORKFLOW_TIMEOUT):",1,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I768eb3bc54b1c4b10439d4146ced50dad010f2cd,openstack/tripleo-heat-templates,stable/stein,I768eb3bc54b1c4b10439d4146ced50dad010f2cd,"DNM, test standalone on stein",ABANDONED,2021-03-15 14:35:48.000000000,2021-07-08 15:16:39.000000000,,"[{'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-15 14:35:48.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/647bbf1de642ffb38b9dc0a71e1472c28dab2fd9', 'message': 'DNM, test standalone on stein\n\nChange-Id: I768eb3bc54b1c4b10439d4146ced50dad010f2cd\n'}]",0,780602,647bbf1de642ffb38b9dc0a71e1472c28dab2fd9,11,3,1,9592,,,0,"DNM, test standalone on stein

Change-Id: I768eb3bc54b1c4b10439d4146ced50dad010f2cd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/02/780602/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,647bbf1de642ffb38b9dc0a71e1472c28dab2fd9,,"# dnm, test stein",,1,0
openstack%2Ftripleo-validations~stable%2Fstein~I8b8f2a17a4963af46dd2c5407fb089414a804247,openstack/tripleo-validations,stable/stein,I8b8f2a17a4963af46dd2c5407fb089414a804247,Add a validation to check the local.,ABANDONED,2020-11-30 09:02:55.000000000,2021-07-08 15:16:31.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-30 09:02:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2d8d33174069b15c22ea71aa5b6a6e6f69f469c5', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)\n(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)\n""}, {'number': 2, 'created': '2020-11-30 09:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fa9b0a78fc4c9306b7a887dab03aaa2f1a69bb4d', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)\n(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)\n""}, {'number': 3, 'created': '2020-12-04 10:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/6c789217c8d754993cf8b42e05781e08905885cc', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)\n(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)\n""}, {'number': 4, 'created': '2020-12-17 10:24:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/66518484d36f39577187a82f447efa0c079b6d08', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)\n(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)\n""}, {'number': 5, 'created': '2021-01-15 16:49:59.000000000', 'files': ['roles/system_encoding/tasks/main.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-system_encoding.rst', 'roles/system_encoding/molecule/default/converge.yml', 'roles/system_encoding/molecule/default/playbook.yml', 'roles/system_encoding/defaults/main.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'roles/system_encoding/molecule/default/Dockerfile', 'playbooks/system_encoding.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/41d6744d0dd27343cd435bce77fb73219a2eac42', 'message': ""Add a validation to check the local.\n\nI don't know how to explain how it happens, but we have had several\ncustomers case[1], for example, different local for writing to the database\nand reading. What causes an error during minor update, the keystone\nclient calls the command to list the openstack projects. So we have a\npython unicode error. For rabbitmq we force the utf-8 local, so we\ndecided that we assume that we must be in utf-8 everywhere. Add this\nvalidation to ensure the local system is configure with the good local.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513\n\nChange-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247\n(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)\n(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)\n""}]",2,764613,41d6744d0dd27343cd435bce77fb73219a2eac42,24,2,5,31245,,,0,"Add a validation to check the local.

I don't know how to explain how it happens, but we have had several
customers case[1], for example, different local for writing to the database
and reading. What causes an error during minor update, the keystone
client calls the command to list the openstack projects. So we have a
python unicode error. For rabbitmq we force the utf-8 local, so we
decided that we assume that we must be in utf-8 everywhere. Add this
validation to ensure the local system is configure with the good local.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=1824513

Change-Id: I8b8f2a17a4963af46dd2c5407fb089414a804247
(cherry picked from commit 6521f1b81adf9502bc2ab10fa72fd75b20348037)
(cherry picked from commit e18073465a5687ff1aca362410ebaa87aa6349cd)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/13/764613/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/system_encoding/tasks/main.yml', 'zuul.d/molecule.yaml', 'doc/source/roles/role-system_encoding.rst', 'roles/system_encoding/molecule/default/converge.yml', 'roles/system_encoding/defaults/main.yml', 'roles/system_encoding/molecule/default/molecule.yml', 'playbooks/system_encoding.yaml', 'roles/system_encoding/molecule/default/Dockerfile']",8,2d8d33174069b15c22ea71aa5b6a6e6f69f469c5,stein,"# Molecule managed # Copyright 2020 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. {% if item.registry is defined %} FROM {{ item.registry.url }}/{{ item.image }} {% else %} FROM {{ item.image }} {% endif %} RUN if [ $(command -v apt-get) ]; then apt-get update && apt-get install -y python sudo bash ca-certificates && apt-get clean; \ elif [ $(command -v dnf) ]; then dnf makecache && dnf --assumeyes install sudo python*-devel python*-dnf bash {{ item.pkg_extras | default('') }} && dnf clean all; \ elif [ $(command -v yum) ]; then yum makecache fast && yum install -y python sudo yum-plugin-ovl python-setuptools bash {{ item.pkg_extras | default('') }} && sed -i 's/plugins=0/plugins=1/g' /etc/yum.conf && yum clean all; \ elif [ $(command -v zypper) ]; then zypper refresh && zypper install -y python sudo bash python-xml {{ item.pkg_extras | default('') }} && zypper clean -a; \ elif [ $(command -v apk) ]; then apk update && apk add --no-cache python sudo bash ca-certificates {{ item.pkg_extras | default('') }}; \ elif [ $(command -v xbps-install) ]; then xbps-install -Syu && xbps-install -y python sudo bash ca-certificates {{ item.pkg_extras | default('') }} && xbps-remove -O; fi {% for pkg in item.easy_install | default([]) %} # install pip for centos where there is no python-pip rpm in default repos RUN easy_install {{ pkg }} {% endfor %} CMD [""sh"", ""-c"", ""while true; do sleep 10000; done""]",,220,1
openstack%2Ftripleo-puppet-elements~stable%2Fstein~I71355b8501047d4b956f66a5025e70058d7ce0bc,openstack/tripleo-puppet-elements,stable/stein,I71355b8501047d4b956f66a5025e70058d7ce0bc,Add sysstat package to collect sar data by default,ABANDONED,2020-10-16 01:13:19.000000000,2021-07-08 15:16:25.000000000,,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25613}]","[{'number': 1, 'created': '2020-10-16 01:13:19.000000000', 'files': ['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map'], 'web_link': 'https://opendev.org/openstack/tripleo-puppet-elements/commit/c327ce5d2703a03f6607fcfb616903d9ff2c2c6f', 'message': 'Add sysstat package to collect sar data by default\n\nsar data is an important information for performance issue or\nother troubleshooting. The package is recommended to be installed\nby default.\n\n Conflicts:\n\telements/overcloud-base/install.d/package-installs-overcloud-base\n\nChange-Id: I71355b8501047d4b956f66a5025e70058d7ce0bc\n(cherry picked from commit d4db347bc2a2304e14f94e76fa58073cd1888d3b)\n(cherry picked from commit 92f99b5c146beae977cf86f8d4e5f23709c6888f)\n'}]",0,758510,c327ce5d2703a03f6607fcfb616903d9ff2c2c6f,74,4,1,25613,,,0,"Add sysstat package to collect sar data by default

sar data is an important information for performance issue or
other troubleshooting. The package is recommended to be installed
by default.

 Conflicts:
	elements/overcloud-base/install.d/package-installs-overcloud-base

Change-Id: I71355b8501047d4b956f66a5025e70058d7ce0bc
(cherry picked from commit d4db347bc2a2304e14f94e76fa58073cd1888d3b)
(cherry picked from commit 92f99b5c146beae977cf86f8d4e5f23709c6888f)
",git fetch https://review.opendev.org/openstack/tripleo-puppet-elements refs/changes/10/758510/1 && git format-patch -1 --stdout FETCH_HEAD,"['elements/overcloud-base/install.d/package-installs-overcloud-base', 'elements/overcloud-base/pkg-map']",2,c327ce5d2703a03f6607fcfb616903d9ff2c2c6f,add_sysstat-stable/stein," ""tmpwatch"": ""tmpwatch"", ""sysstat"": ""sysstat"""," ""tmpwatch"": ""tmpwatch""",3,1
openstack%2Fopenstack-tempest-skiplist~master~I66b4f7654da9142efa1a3bd49d70be33208d82fd,openstack/openstack-tempest-skiplist,master,I66b4f7654da9142efa1a3bd49d70be33208d82fd,"Revert ""Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master""",NEW,2021-07-06 07:21:51.000000000,2021-07-08 14:50:39.000000000,,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 32458}]","[{'number': 1, 'created': '2021-07-06 07:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/1636c7744421a9bc0387af7dfa903dc1b11657a9', 'message': 'Revert ""Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master""\n\nThis reverts commit 10bf014d2dc9574ae2251808410b28829269cab9.\n\nReason for revert: retesting by reverting the this change \n\nChange-Id: I66b4f7654da9142efa1a3bd49d70be33208d82fd\n'}, {'number': 2, 'created': '2021-07-08 14:41:01.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/53f952d5e3c6756157180a5a2beb07bdbb9845c3', 'message': 'Revert ""Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master""\n\nThis reverts commit 10bf014d2dc9574ae2251808410b28829269cab9.\n\nReason for revert: retesting by reverting the this change\n\nCloses-Bug: #1933999\nChange-Id: I66b4f7654da9142efa1a3bd49d70be33208d82fd\n'}]",0,799578,53f952d5e3c6756157180a5a2beb07bdbb9845c3,7,5,2,20182,,,0,"Revert ""Skipping test_volumes_negative.VolumesAdminNegativeTest for periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master""

This reverts commit 10bf014d2dc9574ae2251808410b28829269cab9.

Reason for revert: retesting by reverting the this change

Closes-Bug: #1933999
Change-Id: I66b4f7654da9142efa1a3bd49d70be33208d82fd
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/78/799578/2 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,1636c7744421a9bc0387af7dfa903dc1b11657a9,bug/1933999,, - test: tempest.api.compute.admin.test_volumes_negative.VolumesAdminNegativeTest deployment: - overcloud releases: - name: master reason: Failing in volume tests lp: https://bugs.launchpad.net/tripleo/+bug/1933999 jobs: - periodic-tripleo-ci-centos-8-ovb-3ctlr_1comp-featureset035-master,0,9
openstack%2Freleases~master~I67fb52e247d308ab131fd2e157318f20594c1d74,openstack/releases,master,I67fb52e247d308ab131fd2e157318f20594c1d74,Xena release governance fixes,MERGED,2021-07-05 14:59:42.000000000,2021-07-08 14:38:13.000000000,2021-07-08 14:38:13.000000000,"[{'_account_id': 5202}, {'_account_id': 9303}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-05 14:59:42.000000000', 'files': ['deliverables/xena/glance-tempest-plugin.yaml', 'deliverables/xena/sushy-cli.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/e6b4b68f2526bffbd78a092e0e6363164bd158ab', 'message': 'Xena release governance fixes\n\nGovernance consistency checks revealed that:\n\n- No Xena deliverable file was present for glance-tempest-plugin,\n  despite it being definedin governance and released in wallaby.\n- A deliverable file was present for sushy-cli, despite it being retired\n  in governance.\n\nThis commit fixes both issues by adding the missing file and removing\nthe extraneous file.\n\nChange-Id: I67fb52e247d308ab131fd2e157318f20594c1d74\n'}]",1,799510,e6b4b68f2526bffbd78a092e0e6363164bd158ab,11,9,1,308,,,0,"Xena release governance fixes

Governance consistency checks revealed that:

- No Xena deliverable file was present for glance-tempest-plugin,
  despite it being definedin governance and released in wallaby.
- A deliverable file was present for sushy-cli, despite it being retired
  in governance.

This commit fixes both issues by adding the missing file and removing
the extraneous file.

Change-Id: I67fb52e247d308ab131fd2e157318f20594c1d74
",git fetch https://review.opendev.org/openstack/releases refs/changes/10/799510/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/xena/glance-tempest-plugin.yaml', 'deliverables/xena/sushy-cli.yaml']",2,e6b4b68f2526bffbd78a092e0e6363164bd158ab,governance-xena-fixes,,--- include-pypi-link: true storyboard: openstack/sushy-cli release-model: cycle-with-intermediary team: ironic type: client-library repository-settings: openstack/sushy-cli: {} ,10,8
openstack%2Fpuppet-openstack-integration~stable%2Frocky~I38c1789cae83511bae4d3e97202f77c018cbef7f,openstack/puppet-openstack-integration,stable/rocky,I38c1789cae83511bae4d3e97202f77c018cbef7f,Rocky only: Remove TripleO Job,MERGED,2021-05-28 01:54:23.000000000,2021-07-08 14:32:51.000000000,2021-07-08 14:32:51.000000000,"[{'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-28 01:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/ffb87a1477bdd4b0994c2c23ddf7140578dc8244', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I38c1789cae83511bae4d3e97202f77c018cbef7f\n'}, {'number': 2, 'created': '2021-06-27 14:44:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/aac93f45e191e4a9322da977467c9b78e1df1689', 'message': 'Rocky only: Remove TripleO Job\n\n... because TripleO has EOLed its Rocky.\n\nChange-Id: I38c1789cae83511bae4d3e97202f77c018cbef7f\n'}]",0,793529,aac93f45e191e4a9322da977467c9b78e1df1689,20,6,2,9816,,,0,"Rocky only: Remove TripleO Job

... because TripleO has EOLed its Rocky.

Change-Id: I38c1789cae83511bae4d3e97202f77c018cbef7f
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/29/793529/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ffb87a1477bdd4b0994c2c23ddf7140578dc8244,rocky-tripleo,,- job: name: tripleo-puppet-ci-centos-7-undercloud-containers parent: tripleo-ci-centos-7-undercloud-containers irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ voting: false - job: name: tripleo-puppet-ci-centos-7-undercloud-oooq parent: tripleo-ci-centos-7-undercloud-oooq irrelevant-files: - ^.*\.md$ - ^.*\.rst$ - ^doc/.*$ - ^etc/.*$ - ^metadata.json$ - ^releasenotes/.*$ - ^test-requirements.txt$ - ^LICENSE$ - ^.gitignore$ voting: false - project-template: name: tripleo-puppet-undercloud check: jobs: - tripleo-puppet-ci-centos-7-undercloud-oooq - tripleo-puppet-ci-centos-7-undercloud-containers ,0,38
openstack%2Fcharm-keystone~stable%2F21.04~I3238f648cb37b0835dec1273a4eb64eea0ec6e39,openstack/charm-keystone,stable/21.04,I3238f648cb37b0835dec1273a4eb64eea0ec6e39,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:03:47.000000000,2021-07-08 14:13:30.000000000,2021-07-08 14:13:30.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:03:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/641b449cd3b14efd42009d05ce9a39fe168e4f05', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I3238f648cb37b0835dec1273a4eb64eea0ec6e39\n'}, {'number': 2, 'created': '2021-07-05 12:00:38.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/e02c729565069918a203c5a6f1ce74f50ebeedfd', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I3238f648cb37b0835dec1273a4eb64eea0ec6e39\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799263,e02c729565069918a203c5a6f1ce74f50ebeedfd,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I3238f648cb37b0835dec1273a4eb64eea0ec6e39
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/63/799263/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,641b449cd3b14efd42009d05ce9a39fe168e4f05,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-neutron-gateway~stable%2F21.04~Ia878f5cce4117f1d7e22e75bfa8988e4602518dc,openstack/charm-neutron-gateway,stable/21.04,Ia878f5cce4117f1d7e22e75bfa8988e4602518dc,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:01.000000000,2021-07-08 14:09:49.000000000,2021-07-08 14:09:49.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9c23638dc15ee75db27ecf3ba3b8b5cdc65976e5', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ia878f5cce4117f1d7e22e75bfa8988e4602518dc\n'}, {'number': 2, 'created': '2021-07-05 12:07:08.000000000', 'files': ['osci.yaml', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/cf110e5837065884dcc2eee581cadbb1b7a52840', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ia878f5cce4117f1d7e22e75bfa8988e4602518dc\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799265,cf110e5837065884dcc2eee581cadbb1b7a52840,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ia878f5cce4117f1d7e22e75bfa8988e4602518dc
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/65/799265/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",3,9c23638dc15ee75db27ecf3ba3b8b5cdc65976e5,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-ceilometer~stable%2F21.04~Ib45204bcf997d1375fbf6808f7b1a797a49e87d3,openstack/charm-ceilometer,stable/21.04,Ib45204bcf997d1375fbf6808f7b1a797a49e87d3,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:01:43.000000000,2021-07-08 13:59:27.000000000,2021-07-08 13:59:27.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/af11c32f5766aeb01e5281b076591125daad1f5b', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib45204bcf997d1375fbf6808f7b1a797a49e87d3\n'}, {'number': 2, 'created': '2021-07-05 11:21:15.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer/commit/b17053caba01a44b72f894497f14e0fe7665d3b2', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib45204bcf997d1375fbf6808f7b1a797a49e87d3\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799230,b17053caba01a44b72f894497f14e0fe7665d3b2,13,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ib45204bcf997d1375fbf6808f7b1a797a49e87d3
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceilometer refs/changes/30/799230/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,af11c32f5766aeb01e5281b076591125daad1f5b,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-ceph-mon~stable%2F21.04~I466f4638bd9f7e4d00750b44203f4c38310e2019,openstack/charm-ceph-mon,stable/21.04,I466f4638bd9f7e4d00750b44203f4c38310e2019,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:01:55.000000000,2021-07-08 13:59:06.000000000,2021-07-08 13:59:06.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/03425962dbcc8c0e3f0da7129a1f6d5a19b2c9c9', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I466f4638bd9f7e4d00750b44203f4c38310e2019\n'}, {'number': 2, 'created': '2021-07-05 11:35:34.000000000', 'files': ['lib/charms_ceph/utils.py', 'osci.yaml', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/a6da308e92e2cad87324b885b398e42134ecf7af', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I466f4638bd9f7e4d00750b44203f4c38310e2019\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799232,a6da308e92e2cad87324b885b398e42134ecf7af,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I466f4638bd9f7e4d00750b44203f4c38310e2019
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/32/799232/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",5,03425962dbcc8c0e3f0da7129a1f6d5a19b2c9c9,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",155,19
openstack%2Fcharm-ceilometer-agent~stable%2F21.04~I49ed133b3afd63c4c66712bc3f5b452970b1ea29,openstack/charm-ceilometer-agent,stable/21.04,I49ed133b3afd63c4c66712bc3f5b452970b1ea29,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:01:49.000000000,2021-07-08 13:58:25.000000000,2021-07-08 13:58:25.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:01:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/227bc35062adf5fe8e4d9f19116973f73c657099', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I49ed133b3afd63c4c66712bc3f5b452970b1ea29\n'}, {'number': 2, 'created': '2021-07-05 11:32:07.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceilometer-agent/commit/13c5b89b42015da00111da0306efcc2504925471', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I49ed133b3afd63c4c66712bc3f5b452970b1ea29\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799231,13c5b89b42015da00111da0306efcc2504925471,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I49ed133b3afd63c4c66712bc3f5b452970b1ea29
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-ceilometer-agent refs/changes/31/799231/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,227bc35062adf5fe8e4d9f19116973f73c657099,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fneutron~stable%2Fstein~I40761b30563749251b9d74731bbe7a80a124da89,openstack/neutron,stable/stein,I40761b30563749251b9d74731bbe7a80a124da89,Copy existing IPv6 leases to generated lease file,MERGED,2021-07-01 15:28:56.000000000,2021-07-08 13:57:56.000000000,2021-07-08 13:55:58.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:28:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a43181ec32f00edb8cf166ae8b8e811272cb69ce', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}, {'number': 2, 'created': '2021-07-01 15:33:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b1ebdf48e0d225e68956c9ed7c88247475bebc19', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}, {'number': 3, 'created': '2021-07-05 15:03:51.000000000', 'files': ['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7f63139424adcbbc18cdbf1b0fa3efa3b0fd3f45', 'message': ""Copy existing IPv6 leases to generated lease file\n\nBecause the DHCP agent does not know the IAID (identity association\nidentifier) of assigned IPv6 addresses it's not possible to generate the\nlease file including IPv6 leases. Because of this IPv6 addresses are\nexcluded when generating the lease file in case of DHCP agent restarts.\nThis causes DHCPv6 clients to fail to RENEW their lease and to go\nthrough a full address discovery cycle with possible short connectivity\ndisruption.\n\nThis commit copies the existing IPv6 leaes from an already existing\nlease file if present. While this does not allow for DHCP agent\nfailover, this is still better than just skipping the IPv6 addresses.\n\nA lease file without the IPv6 addresses is still generated if an agent\nis migrated to a different host.\n\nThis commit complements the fix implemented in\nIb1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6\nleases as otherwise the lease file would be invalid and all leases would\nbe lost. It does not change the behavior for still valid IPv4 leases.\n\nWith this issue fixed an additional fix is required to not loose DHCPv6\nleases when the agent restarts dnsmasq. Currently the DHCP agent\nregenerates all configuration files on restart. This means that DHCPv6\nleases are lost as they can't be regenerated. This changes the agent to\nonly delete the config files if the agent's ports are also removed.\n\nCloses-Bug: #1722126\nRelated-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e\n\nThis backport contains some test fixes to make the tests work with\nPython 2.7 and the PEP8 N322 check.\n\nChanged file:\n    neutron/tests/unit/agent/linux/test_dhcp.py\n\nConflicts:\n    neutron/agent/linux/dhcp.py\n\nChange-Id: I40761b30563749251b9d74731bbe7a80a124da89\n(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)\n""}]",1,799071,7f63139424adcbbc18cdbf1b0fa3efa3b0fd3f45,28,4,3,11290,,,0,"Copy existing IPv6 leases to generated lease file

Because the DHCP agent does not know the IAID (identity association
identifier) of assigned IPv6 addresses it's not possible to generate the
lease file including IPv6 leases. Because of this IPv6 addresses are
excluded when generating the lease file in case of DHCP agent restarts.
This causes DHCPv6 clients to fail to RENEW their lease and to go
through a full address discovery cycle with possible short connectivity
disruption.

This commit copies the existing IPv6 leaes from an already existing
lease file if present. While this does not allow for DHCP agent
failover, this is still better than just skipping the IPv6 addresses.

A lease file without the IPv6 addresses is still generated if an agent
is migrated to a different host.

This commit complements the fix implemented in
Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e which just skips the IPv6
leases as otherwise the lease file would be invalid and all leases would
be lost. It does not change the behavior for still valid IPv4 leases.

With this issue fixed an additional fix is required to not loose DHCPv6
leases when the agent restarts dnsmasq. Currently the DHCP agent
regenerates all configuration files on restart. This means that DHCPv6
leases are lost as they can't be regenerated. This changes the agent to
only delete the config files if the agent's ports are also removed.

Closes-Bug: #1722126
Related-Change: Ib1b2f284ab81f1c4af7b08b5257b45a3f6e79c3e

This backport contains some test fixes to make the tests work with
Python 2.7 and the PEP8 N322 check.

Changed file:
    neutron/tests/unit/agent/linux/test_dhcp.py

Conflicts:
    neutron/agent/linux/dhcp.py

Change-Id: I40761b30563749251b9d74731bbe7a80a124da89
(cherry picked from commit 6bc1c00d66ced82dd142739790222e8408684696)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/71/799071/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/linux/test_dhcp.py', 'neutron/agent/linux/dhcp.py']",2,a43181ec32f00edb8cf166ae8b8e811272cb69ce,change-799071-2," self._remove_config_files() dhcpv6_enabled_subnet_ids = [ s.id for s in self._get_all_subnets(self.network) if s.enable_dhcp and s.ip_version == constants.IP_VERSION_6] existing_ipv6_leases = {} if os.path.isfile(filename): # The IPv6 leases can't be generated as their IAID is unknown. To # not loose active leases, read the existing leases and add them to # the generated file. LOG.debug('Reading IPv6 leases from existing lease file.') with open(filename) as leasefile: for line in leasefile: if line.startswith('duid '): # Keep the DUID buf.write(line) continue try: ts, mac, ip, host, iaid = line.split(' ') except ValueError: # not the correct format for a lease, skip this line continue if netaddr.valid_ipv6(ip): existing_ipv6_leases[netaddr.IPAddress(ip)] = line for host_tuple in self._iter_hosts(): <<<<<<< HEAD (2de068 Merge ""Remove FIP agent's gw port when L3 agent is deleted"" )======= port, alloc, hostname, name, no_dhcp, no_opts, tag = host_tuple if no_dhcp: >>>>>>> CHANGE (911aa9 Copy existing IPv6 leases to generated lease file) if alloc.subnet_id in dhcpv4_enabled_subnet_ids: # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address)) elif (alloc.subnet_id in dhcpv6_enabled_subnet_ids and netaddr.IPAddress(alloc.ip_address) in existing_ipv6_leases): # Keep the existing IPv6 lease if the port still exists and is # still configured for DHCPv6 buf.write( existing_ipv6_leases[netaddr.IPAddress(alloc.ip_address)] ) "," self._remove_config_files() for host_tuple in self._iter_hosts(): # all that matters is the mac address and IP. the hostname and # client ID will be overwritten on the next renewal. buf.write('%s %s %s * *\n' % (timestamp, port.mac_address, alloc.ip_address))",109,5
openstack%2Fcharm-cinder-ceph~stable%2F21.04~I8634d6bd15b5d9649d228c9068e4b52dfeb4750d,openstack/charm-cinder-ceph,stable/21.04,I8634d6bd15b5d9649d228c9068e4b52dfeb4750d,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:40.000000000,2021-07-08 13:54:56.000000000,2021-07-08 13:54:56.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/23ccd0615e31e23876a17df528558d3882bef679', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I8634d6bd15b5d9649d228c9068e4b52dfeb4750d\n'}, {'number': 2, 'created': '2021-07-05 11:51:57.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph/commit/1b1e63d6950b0f9c2d8260f676289710df38876a', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I8634d6bd15b5d9649d228c9068e4b52dfeb4750d\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799258,1b1e63d6950b0f9c2d8260f676289710df38876a,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I8634d6bd15b5d9649d228c9068e4b52dfeb4750d
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph refs/changes/58/799258/2 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,23ccd0615e31e23876a17df528558d3882bef679,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fopenstack-tempest-skiplist~master~I709a826f75e64ab2a7f741891e0a3cc4aa6edf32,openstack/openstack-tempest-skiplist,master,I709a826f75e64ab2a7f741891e0a3cc4aa6edf32,Add installer key to releases on skiplist,MERGED,2021-05-04 19:32:46.000000000,2021-07-08 13:54:41.000000000,2021-07-08 13:53:12.000000000,"[{'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-05-04 19:32:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/93c6f49373b37e784cbba17013cd1c6cf06091f4', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 2, 'created': '2021-05-04 19:34:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/91911ffd79a315203fe94090ba3786cb016d16d3', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 3, 'created': '2021-05-19 10:01:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/44e1d19fa1d06847f0e408b0bf0d5bf91b70d7ca', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 4, 'created': '2021-05-31 14:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/cbc415ee7e7baeb37a94079338c02823500b40ed', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 5, 'created': '2021-06-28 12:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/86046482d14e4e5650811d1557a7219443492e97', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 6, 'created': '2021-06-29 10:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/aab4a149775598dda4009b31bb84dbef82522b77', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo', so we don't need to edit all the\ntests to add the installers option. However, if you explicitly set the\ninstaller, and you want it to be skipped in both tripleo and other, you\nmust also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}, {'number': 7, 'created': '2021-07-05 10:11:47.000000000', 'files': ['tempest_skip/validate.py', 'roles/list_skipped/tasks/main.yaml', 'tempest_skip/list_yaml.py', 'tempest_skip/tests/test_list_yaml.py', 'tempest_skip/tests/test_validate.py', 'roles/list_skipped/library/list_skipped.py', 'doc/source/listyaml/listyaml.rst'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/85a392c55f55bd83a370c677c3174d567f288b1e', 'message': ""Add installer key to releases on skiplist\n\nDue the fact that one release might have different installers and\nrecently we were facing problems where add a test on the skiplist in\nupstream jobs was also affecting downstream jobs, the best solution\nright now is to add the key installers on the release for the test.\nThe default remains being 'tripleo' and 'osp', so we don't need to edit\nall the tests to add the installers option. However, if you explicitly\nset the installer, and you want it to be skipped in both tripleo and\nother, you must also add the tripleo to the list.\n\nChange-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32\n""}]",12,789625,85a392c55f55bd83a370c677c3174d567f288b1e,36,6,7,8367,,,0,"Add installer key to releases on skiplist

Due the fact that one release might have different installers and
recently we were facing problems where add a test on the skiplist in
upstream jobs was also affecting downstream jobs, the best solution
right now is to add the key installers on the release for the test.
The default remains being 'tripleo' and 'osp', so we don't need to edit
all the tests to add the installers option. However, if you explicitly
set the installer, and you want it to be skipped in both tripleo and
other, you must also add the tripleo to the list.

Change-Id: I709a826f75e64ab2a7f741891e0a3cc4aa6edf32
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/25/789625/6 && git format-patch -1 --stdout FETCH_HEAD,"['tempest_skip/validate.py', 'tempest_skip/list_yaml.py', 'tempest_skip/tests/test_list_yaml.py', 'tempest_skip/tests/test_validate.py', 'roles/list_skipped/library/list_skipped.py', 'doc/source/listyaml/listyaml.rst']",6,93c6f49373b37e784cbba17013cd1c6cf06091f4,installer," 2. ``--release``, ``--deployment``, ``--installer`` and ``--job`` are the optional parameters - list all the tests within a specific release, deployment or a specific job:: $ tempest-skip list-skipped --file tempest_skip.yml --installer tripleoalways parse the ``--job`` option. In this scenario, if a job2 is parsed, and there is no test with job2, it would return zero tests to be skipped, which is not the intent. The test with no job defined, means, skip everywhere, if you"," 2. ``--release``, ``--deployment`` and ``--job`` are the optional parameters - list all the tests within a specific release, deployment or a specific job::always parse the --job option. In this scenario, if a job2 is parsed, and there is no test with job2, it would return zero tests to be skipped, which is not the intent. The test with no job defined, means, skip everywhere, if you",72,8
openstack%2Fcharm-neutron-api~stable%2F21.04~I735ea691149b04fb79f41695b987567e3973e312,openstack/charm-neutron-api,stable/21.04,I735ea691149b04fb79f41695b987567e3973e312,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:03:54.000000000,2021-07-08 13:54:19.000000000,2021-07-08 13:54:19.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:03:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/252fabb55464312a3b03a06f59b23bc1cb135c49', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I735ea691149b04fb79f41695b987567e3973e312\n'}, {'number': 2, 'created': '2021-07-05 11:58:31.000000000', 'files': ['osci.yaml', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/f5b5999327dc8ea03b897d6d6189ed6a92f43a70', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I735ea691149b04fb79f41695b987567e3973e312\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799264,f5b5999327dc8ea03b897d6d6189ed6a92f43a70,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I735ea691149b04fb79f41695b987567e3973e312
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/64/799264/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",3,252fabb55464312a3b03a06f59b23bc1cb135c49,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-heat~stable%2F21.04~Ifb164542e6fdcea92484ef7cba0a2e1888c2ae65,openstack/charm-heat,stable/21.04,Ifb164542e6fdcea92484ef7cba0a2e1888c2ae65,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:03:38.000000000,2021-07-08 13:54:16.000000000,2021-07-08 13:54:16.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/4f06802a06e555dc7279acaa3b240d015884b9a0', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ifb164542e6fdcea92484ef7cba0a2e1888c2ae65\n'}, {'number': 2, 'created': '2021-07-05 11:54:40.000000000', 'files': ['osci.yaml', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-heat/commit/a1c017f072813dcac0191cbd194ddccdc69fe14b', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ifb164542e6fdcea92484ef7cba0a2e1888c2ae65\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799262,a1c017f072813dcac0191cbd194ddccdc69fe14b,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ifb164542e6fdcea92484ef7cba0a2e1888c2ae65
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-heat refs/changes/62/799262/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",3,4f06802a06e555dc7279acaa3b240d015884b9a0,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-rabbitmq-server~stable%2F21.04~I850945605a356847af462cfa6de64938779ca513,openstack/charm-rabbitmq-server,stable/21.04,I850945605a356847af462cfa6de64938779ca513,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:43.000000000,2021-07-08 13:52:10.000000000,2021-07-08 13:52:10.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/856b84b155c823baa225b62c3e4a678f03c0ea21', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I850945605a356847af462cfa6de64938779ca513\n'}, {'number': 2, 'created': '2021-07-05 12:12:11.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'osci.yaml', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-rabbitmq-server/commit/783b92e6f1b39bd79241bd23fc6f20353cedd58a', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I850945605a356847af462cfa6de64938779ca513\nCo-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>\n'}]",0,799271,783b92e6f1b39bd79241bd23fc6f20353cedd58a,12,5,2,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I850945605a356847af462cfa6de64938779ca513
Co-authored-by: Aurelien Lourot <aurelien.lourot@canonical.com>
",git fetch https://review.opendev.org/openstack/charm-rabbitmq-server refs/changes/71/799271/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,856b84b155c823baa225b62c3e4a678f03c0ea21,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fpython-cloudkittyclient~master~I1d22f2f0f452bc79ce79a339e6c304d5a0ac953f,openstack/python-cloudkittyclient,master,I1d22f2f0f452bc79ce79a339e6c304d5a0ac953f,Changed minversion in tox to 3.18.0,MERGED,2021-07-06 08:16:55.000000000,2021-07-08 13:37:16.000000000,2021-07-08 13:35:55.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-07-06 08:16:55.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/eb7f5e46bbd1d13aa4e78aa0223c3eb0db0d5fae', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I1d22f2f0f452bc79ce79a339e6c304d5a0ac953f\n""}]",0,799604,eb7f5e46bbd1d13aa4e78aa0223c3eb0db0d5fae,9,3,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I1d22f2f0f452bc79ce79a339e6c304d5a0ac953f
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/04/799604/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eb7f5e46bbd1d13aa4e78aa0223c3eb0db0d5fae,update-min-tox,minversion = 3.18.0allowlist_externals =,minversion = 3.1.1whitelist_externals =,2,2
openstack%2Fnova~stable%2Fvictoria~If93fb19db766ebe1fa669d6826acedd0ae21cd20,openstack/nova,stable/victoria,If93fb19db766ebe1fa669d6826acedd0ae21cd20,Add regression test for bug #1909120,NEW,2021-02-01 09:22:02.000000000,2021-07-08 13:28:54.000000000,,"[{'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-01 09:22:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c8355f8c264340e79a8003d18eeab7cce474ac26', 'message': 'Add regression test for bug #1909120\n\nRelated-Bug: #1909120\nChange-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20\n(cherry picked from commit a3697ed013372733615d0e6d7f6088ad2591429c)\n'}, {'number': 2, 'created': '2021-07-08 10:55:57.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1909120.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c028d2c2662cba29cedaf098261141642698f8f0', 'message': 'Add regression test for bug #1909120\n\nRelated-Bug: #1909120\nChange-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20\n(cherry picked from commit a3697ed013372733615d0e6d7f6088ad2591429c)\n'}]",0,773320,c028d2c2662cba29cedaf098261141642698f8f0,8,2,2,10135,,,0,"Add regression test for bug #1909120

Related-Bug: #1909120
Change-Id: If93fb19db766ebe1fa669d6826acedd0ae21cd20
(cherry picked from commit a3697ed013372733615d0e6d7f6088ad2591429c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/773320/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1909120.py'],1,c8355f8c264340e79a8003d18eeab7cce474ac26,bug/1909120,"# Copyright 2020, Red Hat, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova.tests.functional.api import client from nova.tests.functional import integrated_helpers class TestDetachVolumeWhileComputeDown(integrated_helpers._IntegratedTestBase): """"""Regression test for bug 1909120 This regression test aims to assert the behaviour of the os-volume_attachments API when removing a volume attachment from an instance hosted on a down compute. """""" microversion = 'latest' def test_volume_detach_while_compute_down(self): # _IntegratedTestBase uses CastAsCall so set the response timeout to 1 self.flags(rpc_response_timeout=1) # Launch a test instance server = self._create_server(networks='none') # Attach the volume volume_id = self.cinder.IMAGE_BACKED_VOL self.api.post_server_volume( server['id'], {'volumeAttachment': {'volumeId': volume_id}} ) # Assert that the volume is attached in Nova attachment = self.api.get_server_volumes(server['id'])[0] self.assertEqual(volume_id, attachment.get('volumeId')) # Assert that the volume is attached in the Cinder fixture self.assertIn( volume_id, self.cinder.volume_ids_for_instance(server['id'])) # Stop and force down the compute self.compute.stop() compute_id = self.admin_api.get_services( binary='nova-compute')[0]['id'] self.admin_api.put_service_force_down(compute_id, True) # Assert that the request fails in this functional test as the cast to # detach_volume on the compute is actually treated as a call by the # CastAsCall fixture used by _IntegratedTestBase. ex = self.assertRaises( client.OpenStackApiException, self.api.delete_server_volume, server['id'], volume_id) # FIXME(lyarwood): n-cpu should reject the initial request with 409 # self.assertEqual(409, ex.response.status_code) self.assertEqual(500, ex.response.status_code) ",,65,0
openstack%2Fpython-cloudkittyclient~master~I7a871d30bf935614ff4bc4a254cc4fc63c4218f4,openstack/python-cloudkittyclient,master,I7a871d30bf935614ff4bc4a254cc4fc63c4218f4,setup.cfg: Replace dashes with underscores,MERGED,2021-05-12 02:15:25.000000000,2021-07-08 13:08:19.000000000,2021-07-08 13:06:59.000000000,"[{'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 25277}]","[{'number': 1, 'created': '2021-05-12 02:15:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/d320dcdb89521d00791b4ee4eb516591b7410fb3', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7a871d30bf935614ff4bc4a254cc4fc63c4218f4\n""}, {'number': 2, 'created': '2021-06-08 08:16:40.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-cloudkittyclient/commit/754e06c51c82757599807a266f8c5e2b4876e150', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: I7a871d30bf935614ff4bc4a254cc4fc63c4218f4\n""}]",0,790889,754e06c51c82757599807a266f8c5e2b4876e150,14,3,2,32291,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: I7a871d30bf935614ff4bc4a254cc4fc63c4218f4
",git fetch https://review.opendev.org/openstack/python-cloudkittyclient refs/changes/89/790889/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,d320dcdb89521d00791b4ee4eb516591b7410fb3,,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/python-cloudkittyclient/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/python-cloudkittyclient/latest/ python-requires = >=3.6,4,4
openstack%2Fnova~master~I02fbc5ff9f824aaa0cf451226cbf5372656577e1,openstack/nova,master,I02fbc5ff9f824aaa0cf451226cbf5372656577e1,Replace `split(' ')` with `split()`,ABANDONED,2021-07-08 10:10:32.000000000,2021-07-08 12:56:48.000000000,,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 10:10:32.000000000', 'files': ['nova/virt/libvirt/volume/nfs.py', 'nova/virt/libvirt/volume/smbfs.py', 'nova/crypto.py', 'nova/api/metadata/base.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/21d03e7aad7bd2563098624c485621962d2c5d7d', 'message': ""Replace `split(' ')` with `split()`\n\nIf sep of `split` is not specified, runs of consecutive spaces are regarded as a single separator[1]. If there is no space at beginning or end, can replace `split(' ')` with `split()`.\n\n[1].https://docs.python.org/3/library/stdtypes.html#str.split\n\nChange-Id: I02fbc5ff9f824aaa0cf451226cbf5372656577e1\n""}]",2,800004,21d03e7aad7bd2563098624c485621962d2c5d7d,12,3,1,32722,,,0,"Replace `split(' ')` with `split()`

If sep of `split` is not specified, runs of consecutive spaces are regarded as a single separator[1]. If there is no space at beginning or end, can replace `split(' ')` with `split()`.

[1].https://docs.python.org/3/library/stdtypes.html#str.split

Change-Id: I02fbc5ff9f824aaa0cf451226cbf5372656577e1
",git fetch https://review.opendev.org/openstack/nova refs/changes/04/800004/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/volume/nfs.py', 'nova/virt/libvirt/volume/smbfs.py', 'nova/crypto.py', 'nova/api/metadata/base.py']",4,21d03e7aad7bd2563098624c485621962d2c5d7d,, if version in CONF.api.config_drive_skip_versions.split():, if version in CONF.api.config_drive_skip_versions.split(' '):,4,4
openstack%2Fcompute-hyperv~stable%2Fvictoria~I3a0f514913a495c6f806c9b72dd00771459112d9,openstack/compute-hyperv,stable/victoria,I3a0f514913a495c6f806c9b72dd00771459112d9,tox: pin Nova version,MERGED,2021-07-08 07:30:17.000000000,2021-07-08 12:54:16.000000000,2021-07-08 09:30:46.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/1736e77d582d34e3f8f43f65ba107133a7a8a386', 'message': ""tox: pin Nova version\n\nAt the moment, our tox config uses the master nova branch as it\nhadn't been updated when Victoria was cut.\n\nThis commit updates the config to use the right Nova version.\n\nChange-Id: I3a0f514913a495c6f806c9b72dd00771459112d9\n""}, {'number': 2, 'created': '2021-07-08 07:46:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/5854a23c1047538576ce763d3a3f1ae197cecbea', 'message': ""tox: pin Nova version\n\nAt the moment, our tox config uses the master nova branch as it\nhadn't been updated when Victoria was cut.\n\nThis commit updates the config to use the right Nova version.\n\nChange-Id: I3a0f514913a495c6f806c9b72dd00771459112d9\n""}, {'number': 3, 'created': '2021-07-08 08:18:45.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/8020a69bf9bd130682ad96de76ab912550f01044', 'message': ""tox: pin Nova version\n\nAt the moment, our tox config uses the master nova branch as it\nhadn't been updated when Victoria was cut.\n\nThis commit updates the config to use the right Nova version.\n\nAlso, we're disabling the lower constraints job for Victoria.\n\nChange-Id: I3a0f514913a495c6f806c9b72dd00771459112d9\n""}]",0,799967,8020a69bf9bd130682ad96de76ab912550f01044,11,2,3,8543,,,0,"tox: pin Nova version

At the moment, our tox config uses the master nova branch as it
hadn't been updated when Victoria was cut.

This commit updates the config to use the right Nova version.

Also, we're disabling the lower constraints job for Victoria.

Change-Id: I3a0f514913a495c6f806c9b72dd00771459112d9
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/67/799967/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1736e77d582d34e3f8f43f65ba107133a7a8a386,, -egit+https://github.com/openstack/nova@stable/victoria#egg=nova -egit+https://github.com/openstack/nova@stable/victoria#egg=nova, -egit+https://github.com/openstack/nova#egg=nova -egit+https://github.com/openstack/nova#egg=nova,2,2
openstack%2Freleases~master~Iec1944f64973c44b57ce5e4daaa7af4a96c60c5c,openstack/releases,master,Iec1944f64973c44b57ce5e4daaa7af4a96c60c5c,Moving away from the python warehouse xmlrpc API,NEW,2021-04-06 15:59:46.000000000,2021-07-08 12:49:57.000000000,,"[{'_account_id': 308}, {'_account_id': 5263}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-04-06 15:59:46.000000000', 'files': ['openstack_releases/pythonutils.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/b505bb8bc5d5f399a05920993b1ae06bb0365966', 'message': 'Moving away from the python warehouse xmlrpc API\n\nPython warehouse deprecated their xmlrpc API.\n\nExisting usages should be migrated. These changes migrate our code to\nthe JSON API.\n\nWe mostly used the xmlrpc API to retrieve pypi roles. To do this needs we\nused the `package_role` method which retrieve a list of [role, user] for a\ngiven package_name. Role is either Maintainer or Owner [3].\n\nHowever the `package_role` method doesn\'t have equivalent into the JSON\nAPI. Our migration now refer to the `info.maintainer` data returned by the\nthe JSON API. Semantically, this looks close to the role notion.\n\nHowever if I test the data given by the both API I obtain different\nresults.\n\nExample with the `ansible-role-atos-hsm` deliverable which was the one\nwhich failed with the timeout [4]:\n\n```\n$ python3.8\n>>> import xmlrpc.client\n>>> client = xmlrpc.client.ServerProxy(""https://pypi.org/pypi"")\n>>> client.package_roles(\'ansible-role-atos-hsm\')\n[[\'Owner\', \'openstackci\']]\n>>> import requests\n>>> data = requests.get(\'https://pypi.org/pypi/ansible-role-atos-hsm/json\')\n>>> print(data.json()[\'info\'][\'author\'])\nOpenStack Barbican Team\n```\n\nGiven the name of our method (`_get_pypi_roles`) that called the xmlrpc\nI suppose that our goal was to get the role and not the maintainer part\nof the results returned by `package_roles`.\n\nI think that we need to rename our method accordingly to reflect the\nexpected data.\n\nThe main question is, is it an issue to get the maintainer instead of role?\n\nLet\'s open the debats by submitting a related patch to allow us to\ndiscuss about that point.\n\n[1] https://warehouse.pypa.io/api-reference/xml-rpc.html\n[2] https://warehouse.pypa.io/api-reference/json.html\n[3] https://warehouse.pypa.io/api-reference/xml-rpc.html#package-querying\n[4] https://review.opendev.org/c/openstack/releases/+/784068\n\nChange-Id: Iec1944f64973c44b57ce5e4daaa7af4a96c60c5c\n'}]",0,785008,b505bb8bc5d5f399a05920993b1ae06bb0365966,16,4,1,28522,,,0,"Moving away from the python warehouse xmlrpc API

Python warehouse deprecated their xmlrpc API.

Existing usages should be migrated. These changes migrate our code to
the JSON API.

We mostly used the xmlrpc API to retrieve pypi roles. To do this needs we
used the `package_role` method which retrieve a list of [role, user] for a
given package_name. Role is either Maintainer or Owner [3].

However the `package_role` method doesn't have equivalent into the JSON
API. Our migration now refer to the `info.maintainer` data returned by the
the JSON API. Semantically, this looks close to the role notion.

However if I test the data given by the both API I obtain different
results.

Example with the `ansible-role-atos-hsm` deliverable which was the one
which failed with the timeout [4]:

```
$ python3.8
>>> import xmlrpc.client
>>> client = xmlrpc.client.ServerProxy(""https://pypi.org/pypi"")
>>> client.package_roles('ansible-role-atos-hsm')
[['Owner', 'openstackci']]
>>> import requests
>>> data = requests.get('https://pypi.org/pypi/ansible-role-atos-hsm/json')
>>> print(data.json()['info']['author'])
OpenStack Barbican Team
```

Given the name of our method (`_get_pypi_roles`) that called the xmlrpc
I suppose that our goal was to get the role and not the maintainer part
of the results returned by `package_roles`.

I think that we need to rename our method accordingly to reflect the
expected data.

The main question is, is it an issue to get the maintainer instead of role?

Let's open the debats by submitting a related patch to allow us to
discuss about that point.

[1] https://warehouse.pypa.io/api-reference/xml-rpc.html
[2] https://warehouse.pypa.io/api-reference/json.html
[3] https://warehouse.pypa.io/api-reference/xml-rpc.html#package-querying
[4] https://review.opendev.org/c/openstack/releases/+/784068

Change-Id: Iec1944f64973c44b57ce5e4daaa7af4a96c60c5c
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/785008/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/pythonutils.py'],1,b505bb8bc5d5f399a05920993b1ae06bb0365966,move-away-from-xmlrpc,def _get_pypi_maintainers(dist_name): data = requests.get(f'https://pypi.org/pypi/{dist_name}/json') LOG.debug(f'retrieving roles for {dist_name}') return data.json()['info']['maintainer'] roles = _get_pypi_maintainers(dist_name) roles = _get_pypi_maintainers(canonical_name),import xmlrpc.clientdef _get_pypi_roles(dist_name): client = xmlrpc.client.ServerProxy('https://pypi.org/pypi') LOG.debug('retrieving roles for {!r}'.format( dist_name)) return client.package_roles(dist_name) roles = _get_pypi_roles(dist_name) roles = _get_pypi_roles(canonical_name),6,8
openstack%2Fnova~stable%2Fvictoria~I8296e4be9f0706fab043451b856efadbb7bd41f6,openstack/nova,stable/victoria,I8296e4be9f0706fab043451b856efadbb7bd41f6,Honor [neutron]http_retries in the manual client,MERGED,2021-06-07 20:17:13.000000000,2021-07-08 12:37:49.000000000,2021-07-08 12:36:11.000000000,"[{'_account_id': 9373}, {'_account_id': 10135}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-07 20:17:13.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f20346bc00a30c914cbefb48009db776f8e00b09', 'message': 'Honor [neutron]http_retries in the manual client\n\nChange Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side\nconfig option for specifying neutron client retries that maps to the\nksa connect_retries config option to provide parity with the cinder and\nglance clients that have nova side config options.\n\nThat change missed passing CONF.neutron.http_retries to the manual\nclient used for calling the port binding API. This sets the\nconnect_retries attribute on the manual ksa client so http_retries\nwill be honored.\n\nCloses-Bug: #1929886\nRelated-Bug: #1866937\n\nChange-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6\n(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)\n(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)\n'}]",0,795175,f20346bc00a30c914cbefb48009db776f8e00b09,19,4,1,4690,,,0,"Honor [neutron]http_retries in the manual client

Change Ifb3afb13aff7e103c2e80ade817d0e63b624604a added a nova side
config option for specifying neutron client retries that maps to the
ksa connect_retries config option to provide parity with the cinder and
glance clients that have nova side config options.

That change missed passing CONF.neutron.http_retries to the manual
client used for calling the port binding API. This sets the
connect_retries attribute on the manual ksa client so http_retries
will be honored.

Closes-Bug: #1929886
Related-Bug: #1866937

Change-Id: I8296e4be9f0706fab043451b856efadbb7bd41f6
(cherry picked from commit 56eb253e9febccf721df6bca4eb851ad26cb70a6)
(cherry picked from commit 46aa3f4ec769e948d9eb73604bf9b66f4b0230b0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/795175/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/neutron.py']",2,f20346bc00a30c914cbefb48009db776f8e00b09,bug/1929886, client.connect_retries = CONF.neutron.http_retries,,3,0
openstack%2Fhorizon~master~Ieff16a06c1737d489c963f8b3e4de48019dd0aa1,openstack/horizon,master,Ieff16a06c1737d489c963f8b3e4de48019dd0aa1,Add Create QoS policy option on QoS Policy Panel,ABANDONED,2021-07-05 12:06:01.000000000,2021-07-08 11:48:54.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 12:06:01.000000000', 'files': ['openstack_dashboard/static/app/core/network_qos/actions/workflow/workflow.service.js', 'openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/static/app/core/network_qos/actions/create.action.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/actions.module.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/ade6b570c8a76f58a315caf2bc958772d781d81c', 'message': 'Add Create QoS policy option on QoS Policy Panel\n\nEnabled QoS panel and added a button for\ncreating a new network qos policy with parameters\nname (string) (requried), description (optional)\nand shared (checkbox) (optional)\n\nChange-Id: Ieff16a06c1737d489c963f8b3e4de48019dd0aa1\n'}]",6,799462,ade6b570c8a76f58a315caf2bc958772d781d81c,4,2,1,33643,,,0,"Add Create QoS policy option on QoS Policy Panel

Enabled QoS panel and added a button for
creating a new network qos policy with parameters
name (string) (requried), description (optional)
and shared (checkbox) (optional)

Change-Id: Ieff16a06c1737d489c963f8b3e4de48019dd0aa1
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/799462/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/static/app/core/network_qos/actions/workflow/workflow.service.js', 'openstack_dashboard/api/rest/neutron.py', 'openstack_dashboard/static/app/core/network_qos/actions/create.action.service.js', 'openstack_dashboard/static/app/core/network_qos/actions/actions.module.js']",4,ade6b570c8a76f58a315caf2bc958772d781d81c,create-qos-policy," text: gettext('Create Policy'),"," text: gettext('create Policy'),",11,10
openstack%2Fneutron~stable%2Fwallaby~I5e1de571034be41f1147c130fce66e6cf70b1369,openstack/neutron,stable/wallaby,I5e1de571034be41f1147c130fce66e6cf70b1369,Add fake_project_id middleware for noauth,MERGED,2021-07-08 07:02:24.000000000,2021-07-08 11:39:52.000000000,2021-07-08 11:38:08.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:02:24.000000000', 'files': ['etc/api-paste.ini', 'releasenotes/notes/allow-noauth-work-without-project-id-f92fac5df37810f0.yaml', 'neutron/auth.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c1390d86a0e1748b739544a6dc9b6aff070eeff7', 'message': ""Add fake_project_id middleware for noauth\n\nThis adds a middleware for noauth that would inject a fake\nproject_id for create requests. This would ensure that api\nconsumers don't have to provide a fake project_id in requests.\n\nCloses-Bug: #1934039\nChange-Id: I5e1de571034be41f1147c130fce66e6cf70b1369\n(cherry picked from commit ec550f5f52c5377f57499eeadd7e0d665dcdb73d)\n""}]",0,799891,c1390d86a0e1748b739544a6dc9b6aff070eeff7,11,7,1,8833,,,0,"Add fake_project_id middleware for noauth

This adds a middleware for noauth that would inject a fake
project_id for create requests. This would ensure that api
consumers don't have to provide a fake project_id in requests.

Closes-Bug: #1934039
Change-Id: I5e1de571034be41f1147c130fce66e6cf70b1369
(cherry picked from commit ec550f5f52c5377f57499eeadd7e0d665dcdb73d)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/799891/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/api-paste.ini', 'releasenotes/notes/allow-noauth-work-without-project-id-f92fac5df37810f0.yaml', 'neutron/auth.py']",3,c1390d86a0e1748b739544a6dc9b6aff070eeff7,keystoneless-stable/wallaby,"class NoauthFakeProjectId(base.ConfigurableMiddleware): """"""Add fake project_id for noauth auth_strategy."""""" @webob.dec.wsgify def __call__(self, req): ctx = context.Context.from_environ(req.environ) if not ctx.project_id: # Inject project_id ctx.project_id = 'fake_project_id' # Inject the context with the admin flag set req.environ['neutron.context'] = ctx.elevated() return self.application ",,26,1
openstack%2Fcloudkitty~master~I387fee79d277daa4c739297f1734dad1eaf4cc94,openstack/cloudkitty,master,I387fee79d277daa4c739297f1734dad1eaf4cc94,Fix cloudkitty exception handling from gnocchiclient,MERGED,2021-06-21 13:34:27.000000000,2021-07-08 11:33:23.000000000,2021-07-08 11:32:09.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2021-06-21 13:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/9e80c775fb449d01804839ff8fc04a5a831fc249', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 2, 'created': '2021-06-21 15:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/39fe1855340da2febc0cdd828f1223c952e0f0ce', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/797323\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 3, 'created': '2021-06-22 08:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/8350e6930dea6fd2e263632d6ae1257a54bd2f8f', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nDepends-On: https://review.opendev.org/c/openstack/cloudkitty/+/797323\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 4, 'created': '2021-06-22 09:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/d756456c4ccefe5477a552e276a752f147bcfd1f', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 5, 'created': '2021-06-24 07:52:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/dcd1bf951d67f014c99557342e6ede01459a245b', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 6, 'created': '2021-06-24 09:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b29e8820736e3330b7439c0d3aebd88b0ab1bd87', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}, {'number': 7, 'created': '2021-06-24 10:56:53.000000000', 'files': ['cloudkitty/collector/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/302f3c89aefeced6d5df41841b6ec146366d72c9', 'message': 'Fix cloudkitty exception handling from gnocchiclient\n\nProbably due six removal, exception handling from gnocchiclient\nin cloudkitty is not working as expected.\n\nThis patch fixing this issue.\n\nBug described in storyboard:\nhttps://storyboard.openstack.org/#!/story/2008985\n\nStory: 2008985\nTask: 42635\nChange-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94\n'}]",0,797313,302f3c89aefeced6d5df41841b6ec146366d72c9,22,3,7,27339,,,0,"Fix cloudkitty exception handling from gnocchiclient

Probably due six removal, exception handling from gnocchiclient
in cloudkitty is not working as expected.

This patch fixing this issue.

Bug described in storyboard:
https://storyboard.openstack.org/#!/story/2008985

Story: 2008985
Task: 42635
Change-Id: I387fee79d277daa4c739297f1734dad1eaf4cc94
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/13/797313/1 && git format-patch -1 --stdout FETCH_HEAD,['cloudkitty/collector/gnocchi.py'],1,9e80c775fb449d01804839ff8fc04a5a831fc249,change-797313-2," if 'Metrics not found' not in e.message[""cause""]:", if 'Metrics not found' not in e.args[0]:,1,1
openstack%2Ftripleo-common~stable%2Fwallaby~I55905cb299ae9e35b605f0a9219177f809d6919e,openstack/tripleo-common,stable/wallaby,I55905cb299ae9e35b605f0a9219177f809d6919e,Add missing IPv6 support for healthcheck_port,MERGED,2021-07-06 16:31:49.000000000,2021-07-08 11:32:48.000000000,2021-07-08 11:31:36.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-06 16:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3b3e9f62db6a11973109957b08dfef049344640f', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n'}, {'number': 2, 'created': '2021-07-07 10:58:25.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8e95b040d35589fdd66f4368fcec5bb06fa962bc', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)\n'}]",2,799591,8e95b040d35589fdd66f4368fcec5bb06fa962bc,14,4,2,11090,,,0,"Add missing IPv6 support for healthcheck_port

With change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network
was overlooked, leading to issues in some cases with composable roles
and IPv6 network.

Change-Id: I55905cb299ae9e35b605f0a9219177f809d6919e
Closes-Bug: #1934772
Resolves: rhbz#1979524
(cherry picked from commit 4ea75f40b7d199ead6bb294f73dc6a8c96722ec1)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/799591/2 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,3b3e9f62db6a11973109957b08dfef049344640f,healthcheck/port/v6-stable/wallaby," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp,tcp6,udp6})"," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp})",1,1
openstack%2Fironic~stable%2Fwallaby~I77ef1cabbcea9808771613fa37b27978fd0ce770,openstack/ironic,stable/wallaby,I77ef1cabbcea9808771613fa37b27978fd0ce770,Avoid double file removal in create_boot_iso,MERGED,2021-07-07 16:29:19.000000000,2021-07-08 11:29:23.000000000,2021-07-08 11:27:40.000000000,"[{'_account_id': 10342}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-07 16:29:19.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/39aec44463f023d53096b72854edc47dc95a5853', 'message': 'Avoid double file removal in create_boot_iso\n\nThe images.fetch call removes the provided destination file on error.\nThe create_boot_iso function calls it with a temporary file, which\nresults in another attempt to remove it. This attempt fails and masks\nthe actual exception (e.g. validation failure).\n\nI doubt this problem is exposed to end users, but fixing it anyway.\n\nChange-Id: I77ef1cabbcea9808771613fa37b27978fd0ce770\n(cherry picked from commit c830861ee8ef3a3fcf537f21a75f91a6e7e4ca4d)\n'}]",0,799774,39aec44463f023d53096b72854edc47dc95a5853,11,3,1,10239,,,0,"Avoid double file removal in create_boot_iso

The images.fetch call removes the provided destination file on error.
The create_boot_iso function calls it with a temporary file, which
results in another attempt to remove it. This attempt fails and masks
the actual exception (e.g. validation failure).

I doubt this problem is exposed to end users, but fixing it anyway.

Change-Id: I77ef1cabbcea9808771613fa37b27978fd0ce770
(cherry picked from commit c830861ee8ef3a3fcf537f21a75f91a6e7e4ca4d)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/74/799774/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py']",2,39aec44463f023d53096b72854edc47dc95a5853,boot-iso-removal-stable/wallaby," if isinstance(image_file, str): with open(image_file, ""wb"") as image_file_obj: image_service.download(image_href, image_file_obj) else: image_service.download(image_href, image_file) fetch_into(context, image_href, path) fetch_into(context, base_iso, output_filename)"," image_service.download(image_href, image_file) with open(path, ""wb"") as image_file: fetch_into(context, image_href, image_file) fetch(context, base_iso, output_filename)",8,5
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,openstack/tripleo-heat-templates,stable/stein,Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28,Use appropriate allocation pools for StorageNFS,ABANDONED,2020-09-05 11:53:15.000000000,2021-07-08 11:26:06.000000000,,"[{'_account_id': 3153}, {'_account_id': 8449}, {'_account_id': 9003}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2020-09-05 11:53:15.000000000', 'files': ['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2026fa444e3a93ca8c249f37aaa5820883265215', 'message': ""Use appropriate allocation pools for StorageNFS\n\nThe StorageNFS network was defined in network_data_ganesha.yaml\nusing allocation ranges that mirrored those of the other isolated\nnetworks.  But TripleO and the undercloud only need to use a small\nnumber of addresses for overcloud deployment -- in the default\nthree-controller case, one for the regular StorageNFS interface on\neach ControllerNfs role node, and one for the VIP on which the NFS\nservice is offered.  The bulk of the addresses in the StorageNFS CIDR\nshould be left out of the allocation range defined in network_data\nso that they can be used by the allocation pool for the overcloud\nNetron StorageNFS provider network's subnet without danger of\noverlap.\n\nThis change uses a CIDR with a shorter prefix so that there will\nbe sufficient IPs left over after the undercloud's TripleO allocation\npool to deploy almost 4000 clients on the Neutron StorageNFS provider\nnetwork's subnet.\n\nThis commit also includes some minor changes to synchronize\nnetwork_data_ganesha.yaml with network_data.yaml since the former\nwas derived from the latter and should differ from it only by\ninclustion of the StorageNFS network.\n\nCloses-bug: #1889682\n\nChange-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28\n(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)\n(cherry picked from commit 6efb29dcc7294a289a78cf380b14eaf146a1a49e)\n(cherry picked from commit 688b59301dd880bc15da7539dd9c5b7946903346)\n""}]",0,750071,2026fa444e3a93ca8c249f37aaa5820883265215,43,6,1,9003,,,0,"Use appropriate allocation pools for StorageNFS

The StorageNFS network was defined in network_data_ganesha.yaml
using allocation ranges that mirrored those of the other isolated
networks.  But TripleO and the undercloud only need to use a small
number of addresses for overcloud deployment -- in the default
three-controller case, one for the regular StorageNFS interface on
each ControllerNfs role node, and one for the VIP on which the NFS
service is offered.  The bulk of the addresses in the StorageNFS CIDR
should be left out of the allocation range defined in network_data
so that they can be used by the allocation pool for the overcloud
Netron StorageNFS provider network's subnet without danger of
overlap.

This change uses a CIDR with a shorter prefix so that there will
be sufficient IPs left over after the undercloud's TripleO allocation
pool to deploy almost 4000 clients on the Neutron StorageNFS provider
network's subnet.

This commit also includes some minor changes to synchronize
network_data_ganesha.yaml with network_data.yaml since the former
was derived from the latter and should differ from it only by
inclustion of the StorageNFS network.

Closes-bug: #1889682

Change-Id: Ibb50dad42ec3dc154cd27ae9094a9be5d0a2dd28
(cherry picked from commit 4e8a05833cb9679bc6140839305d075389dc4822)
(cherry picked from commit 6efb29dcc7294a289a78cf380b14eaf146a1a49e)
(cherry picked from commit 688b59301dd880bc15da7539dd9c5b7946903346)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/71/750071/1 && git format-patch -1 --stdout FETCH_HEAD,"['network_data_ganesha.yaml', 'releasenotes/notes/fix-allocation-range-for-StorageNFS-net.yaml-bd77be924e8b7056.yaml']",2,2026fa444e3a93ca8c249f37aaa5820883265215,bug/1889682-stable/stein,"--- upgrade: - | The CIDR for the StorageNFS network in the sample network_data_ganesha.yaml file has been modified to provide more usable IPs for the corresponding Neutron overcloud StorageNFS provider network. Since the CIDR of an existing network cannot be modified, deployments with existing StorageNFS networks should be sure to customize the StorageNFS network definition to use the same CIDR as that in their existing deployment in order to avoid a heat resource failure when updating or upgrading the overcloud. fixes: - | Fixed issue in the sample network_data_ganesha.yaml file where the IPv4 allocation range for the StorageNFS network occupies almost the whole of its CIDR. If network_data_ganesha.yaml is used without modification in a customer deployment then there are too few IPs left over in its CIDR for use by the corresponding overcloud Neutron StorageNFS provider network for its overcloud DHCP service. (See `bug: #1889682 <https://bugs.launchpad.net/tripleo/+bug/1889682>`_)",,66,4
openstack%2Fnetworking-bgpvpn~stable%2Ftrain~I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1,openstack/networking-bgpvpn,stable/train,I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1,stable only: Fix failing jobs and make l-c non-voting,MERGED,2021-06-17 09:37:32.000000000,2021-07-08 11:20:38.000000000,2021-07-08 11:18:48.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-17 09:37:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/6be66021967451ffd195983001198d98973f5508', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 2, 'created': '2021-06-17 11:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/90e51deb22ded749bb041a5a29bcbe0183614da9', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 3, 'created': '2021-06-18 07:56:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/b056d4aa5613bff8368e63c7975e53a58690d202', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 4, 'created': '2021-06-18 14:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/4317297c86655412f72b0e4834891b959a74a54b', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 5, 'created': '2021-06-18 15:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/82a1ef941cb7f84c6258419e538ee73b2a4c4be8', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 6, 'created': '2021-06-21 10:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/424db0d22d77d15fd954f9f06a11a825b336d9e6', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 7, 'created': '2021-06-21 12:16:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/1d23d4151b5a69141772741bc6bc818dbb211006', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 8, 'created': '2021-06-21 13:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/49b1a1984dac58bb04f2df6b9520b4a7348d3959', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 9, 'created': '2021-06-21 16:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/c2342dacdebbd4f7ea71f402f150540fc888fe99', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 10, 'created': '2021-07-06 13:00:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/039d5d2ea02093422d7fc0cef68c779563a18c43', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}, {'number': 11, 'created': '2021-07-06 14:55:38.000000000', 'files': ['playbooks/networking-bgpvpn-dsvm-functional/pre.yaml', 'test-requirements.txt', '.zuul.yaml', 'devstack/post_test_hook.sh', 'lower-constraints.txt', 'tools/test-setup.sh'], 'web_link': 'https://opendev.org/openstack/networking-bgpvpn/commit/a871a9bdfb23666a501be30ba7b08b7b9f8bbc63', 'message': 'stable only: Fix failing jobs and make l-c non-voting\n\nFix pep8 with missing isort, networking-bgpvpn-dsvm-functional with\nensuring tox, and make lower-constraints job non-voting.\nRemove tools/test-setup.s and let zuul setup database.\n\nChange-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1\n'}]",12,796808,a871a9bdfb23666a501be30ba7b08b7b9f8bbc63,37,6,11,8313,,,0,"stable only: Fix failing jobs and make l-c non-voting

Fix pep8 with missing isort, networking-bgpvpn-dsvm-functional with
ensuring tox, and make lower-constraints job non-voting.
Remove tools/test-setup.s and let zuul setup database.

Change-Id: I3d49c6dcf004d1ae216d20aa9b59e199c21d61f1
",git fetch https://review.opendev.org/openstack/networking-bgpvpn refs/changes/08/796808/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/networking-bgpvpn-dsvm-functional/pre.yaml', 'test-requirements.txt', '.zuul.yaml', 'lower-constraints.txt']",4,6be66021967451ffd195983001198d98973f5508,clean-non-voting-jobs,isort==4.3.21,,8,0
openstack%2Fcharm-manila-ganesha~master~I84c61eb9fcf75e3d725f4aeff63d9a98880835fb,openstack/charm-manila-ganesha,master,I84c61eb9fcf75e3d725f4aeff63d9a98880835fb,Add Groovy to the test gate,ABANDONED,2020-11-05 11:49:08.000000000,2021-07-08 11:12:46.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-05 11:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/240668660752019a7f442f752c555f0d3d8f0c40', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}, {'number': 2, 'created': '2021-01-07 10:12:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/fc94517fbf11845be1ff3ea42e889aa7ff5414c0', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}, {'number': 3, 'created': '2021-01-19 12:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/950058aeb408e071ab722a4aa899b4cb27d9f90b', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}, {'number': 4, 'created': '2021-02-18 13:02:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/ffa9e11183b812f97b61d3fafc0a2f970b8f030f', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}, {'number': 5, 'created': '2021-02-26 10:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/e0aaf0f4cdf93682fbabbffd9ee27ea9da6d5e9d', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}, {'number': 6, 'created': '2021-06-15 13:01:51.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-manila-ganesha/commit/bb0427ceb67256645dc1a57920ca5ab38450b0ce', 'message': 'Add Groovy to the test gate\n\nChange-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb\n'}]",0,761566,bb0427ceb67256645dc1a57920ca5ab38450b0ce,40,2,6,31289,,,0,"Add Groovy to the test gate

Change-Id: I84c61eb9fcf75e3d725f4aeff63d9a98880835fb
",git fetch https://review.opendev.org/openstack/charm-manila-ganesha refs/changes/66/761566/3 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,240668660752019a7f442f752c555f0d3d8f0c40,groovy-charm-gate,- groovy-victoria,- groovy-victoria,1,1
openstack%2Fmistral-dashboard~master~I9a356f9847dd125174b9b055c8514c805f772526,openstack/mistral-dashboard,master,I9a356f9847dd125174b9b055c8514c805f772526,Changed minversion in tox to 3.18.0,NEW,2021-07-06 08:07:45.000000000,2021-07-08 11:08:59.000000000,,"[{'_account_id': 19134}, {'_account_id': 22348}, {'_account_id': 29313}, {'_account_id': 32102}]","[{'number': 1, 'created': '2021-07-06 08:07:45.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/mistral-dashboard/commit/b7cbf36f4ea81dac9bbd9a9a5cc60678193c43c3', 'message': ""Changed minversion in tox to 3.18.0\n\nThe patch bumps min version of tox to 3.18.0 in order to\nreplace tox's whitelist_externals by allowlist_externals option:\nhttps://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I9a356f9847dd125174b9b055c8514c805f772526\n""}]",0,799597,b7cbf36f4ea81dac9bbd9a9a5cc60678193c43c3,6,4,1,32291,,,0,"Changed minversion in tox to 3.18.0

The patch bumps min version of tox to 3.18.0 in order to
replace tox's whitelist_externals by allowlist_externals option:
https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I9a356f9847dd125174b9b055c8514c805f772526
",git fetch https://review.opendev.org/openstack/mistral-dashboard refs/changes/97/799597/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b7cbf36f4ea81dac9bbd9a9a5cc60678193c43c3,update-min-tox,minversion = 3.18.0allowlist_externals = findallowlist_externals = oslo_debug_helper,minversion = 2.0whitelist_externals = findwhitelist_externals = oslo_debug_helper,3,3
openstack%2Fcompute-hyperv~stable%2Fwallaby~If1f07ba80c953536a4981dae386d7bd7810e4b5b,openstack/compute-hyperv,stable/wallaby,If1f07ba80c953536a4981dae386d7bd7810e4b5b,doc: update IRC information,MERGED,2021-07-08 07:08:34.000000000,2021-07-08 11:02:34.000000000,2021-07-08 07:31:16.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:08:34.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/cd4bbb6a8e34d26a3107f3d057176af910e418be', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b\n(cherry picked from commit d508d59b148d97406855b5ed5ccaede51fcca8e1)\n""}]",0,799895,cd4bbb6a8e34d26a3107f3d057176af910e418be,7,2,1,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b
(cherry picked from commit d508d59b148d97406855b5ed5ccaede51fcca8e1)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/95/799895/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,cd4bbb6a8e34d26a3107f3d057176af910e418be,oftc-stable/wallaby,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Fpython-tripleoclient~stable%2Fwallaby~Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b,openstack/python-tripleoclient,stable/wallaby,Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b,WIP adds openstack-heat* to undercloud extra packages for upgrade,ABANDONED,2021-06-02 12:50:29.000000000,2021-07-08 10:43:27.000000000,,"[{'_account_id': 9592}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-02 12:50:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/58dac3bf020eb9856c3c4a6f82250bbf6479eceb', 'message': 'WIP adds openstack-heat* to undercloud extra packages for upgrade\n\nTesting for https://bugs.launchpad.net/tripleo/+bug/1928837\n\nChange-Id: Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b\n'}, {'number': 2, 'created': '2021-06-04 10:05:56.000000000', 'files': ['tripleoclient/constants.py', 'tripleoclient/tests/v1/undercloud/test_install_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/782e41ef53e944af3ec8b1b8a9d67fc69f69a28e', 'message': 'WIP adds openstack-heat* to undercloud extra packages for upgrade\n\nTesting for https://bugs.launchpad.net/tripleo/+bug/1928837\n\nChange-Id: Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b\n'}]",0,794216,782e41ef53e944af3ec8b1b8a9d67fc69f69a28e,7,2,2,8449,,,0,"WIP adds openstack-heat* to undercloud extra packages for upgrade

Testing for https://bugs.launchpad.net/tripleo/+bug/1928837

Change-Id: Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/16/794216/2 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/constants.py'],1,58dac3bf020eb9856c3c4a6f82250bbf6479eceb,Icceb71bf659a214d7d19e84c0e7c3d196ee81e3b," ""tripleo-ansible"", ""openstack-heat-*"""," ""tripleo-ansible""",2,1
openstack%2Fbarbican~stable%2Focata~If1b493707bd012d4a779dc6deba1a70ac3293ec6,openstack/barbican,stable/ocata,If1b493707bd012d4a779dc6deba1a70ac3293ec6,[Rocky and before] Drop octavia v1 job,ABANDONED,2021-06-28 13:12:50.000000000,2021-07-08 10:29:17.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-28 13:12:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/barbican/commit/11b0e419a1df88fe508c73b5ee4cd0318aeaa5dd', 'message': ""[Rocky and before] Drop octavia v1 job\n\nSince Octavia EOLed its stable/stein and older branches, there is no\nlonger octavia v1 job defined. Because the job has been non-voting\nlet's remove the job to resolve job definition error.\n\nChange-Id: If1b493707bd012d4a779dc6deba1a70ac3293ec6\n(cherry picked from commit 863c714bdcb07534ad7cc5991a6d9a1afc655e86)\n(cherry picked from commit 02b2460c7145a7554f482bcd6a97cf3421a66353)\n(cherry picked from commit f3ee6102d1cb5cb13975033a020a00a3ef4e9acc)\n""}]",0,798299,11b0e419a1df88fe508c73b5ee4cd0318aeaa5dd,5,1,1,9816,,,0,"[Rocky and before] Drop octavia v1 job

Since Octavia EOLed its stable/stein and older branches, there is no
longer octavia v1 job defined. Because the job has been non-voting
let's remove the job to resolve job definition error.

Change-Id: If1b493707bd012d4a779dc6deba1a70ac3293ec6
(cherry picked from commit 863c714bdcb07534ad7cc5991a6d9a1afc655e86)
(cherry picked from commit 02b2460c7145a7554f482bcd6a97cf3421a66353)
(cherry picked from commit f3ee6102d1cb5cb13975033a020a00a3ef4e9acc)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/99/798299/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,11b0e419a1df88fe508c73b5ee4cd0318aeaa5dd,octavia-v1,, - octavia-v1-dsvm-scenario: voting: false,0,2
openstack%2Ftripleo-heat-templates~master~I2b37affa738c6f19c1ebae82d2db187dee654fb1,openstack/tripleo-heat-templates,master,I2b37affa738c6f19c1ebae82d2db187dee654fb1,Wire up the tripleo-upgrades-wallaby-pipeline,ABANDONED,2021-05-26 09:01:50.000000000,2021-07-08 10:24:49.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-26 09:01:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb20eda4a455777d9b3c6560ab6e071b09f5a125', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50\n\nChange-Id: I2b37affa738c6f19c1ebae82d2db187dee654fb1\n'}, {'number': 2, 'created': '2021-05-26 09:02:48.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/922fdf1d56e7a793d5ee8bd7334b0a4f77d444fa', 'message': 'Wire up the tripleo-upgrades-wallaby-pipeline\n\nThis wires up the wallaby upgrades jobs added in depends-on. See\ntopic branch [1] for related patches.\n\n[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs\nDepends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50\n\nChange-Id: I2b37affa738c6f19c1ebae82d2db187dee654fb1\n'}]",0,793122,922fdf1d56e7a793d5ee8bd7334b0a4f77d444fa,8,2,2,8449,,,0,"Wire up the tripleo-upgrades-wallaby-pipeline

This wires up the wallaby upgrades jobs added in depends-on. See
topic branch [1] for related patches.

[1] https://review.opendev.org/q/topic:wallaby-upgrade-jobs
Depends-On: I91c4e84523a756c0588d20e6cc34782b6c712d50

Change-Id: I2b37affa738c6f19c1ebae82d2db187dee654fb1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/793122/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,fb20eda4a455777d9b3c6560ab6e071b09f5a125,, - tripleo-upgrades-wallaby-pipeline, - tripleo-upgrades-master-pipeline,1,1
openstack%2Fopenstack-helm-infra~master~I4c49964ab6f5ae952b7da9c089eeb93abbdaf55b,openstack/openstack-helm-infra,master,I4c49964ab6f5ae952b7da9c089eeb93abbdaf55b,set readinessProbe and livenessProbe for libvirt helm chart,ABANDONED,2021-07-08 10:20:30.000000000,2021-07-08 10:23:02.000000000,,[],"[{'number': 1, 'created': '2021-07-08 10:20:30.000000000', 'files': ['libvirt/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/749b9f64b0cdda167f1925d2c2c0f1da4119e293', 'message': 'set readinessProbe and livenessProbe for libvirt helm chart\n\nChange-Id: I4c49964ab6f5ae952b7da9c089eeb93abbdaf55b\n'}]",0,800008,749b9f64b0cdda167f1925d2c2c0f1da4119e293,2,0,1,33696,,,0,"set readinessProbe and livenessProbe for libvirt helm chart

Change-Id: I4c49964ab6f5ae952b7da9c089eeb93abbdaf55b
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/08/800008/1 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/Chart.yaml'],1,749b9f64b0cdda167f1925d2c2c0f1da4119e293,,version: 0.1.6,version: 0.1.5,1,1
openstack%2Fcompute-hyperv~stable%2Fvictoria~If1f07ba80c953536a4981dae386d7bd7810e4b5b,openstack/compute-hyperv,stable/victoria,If1f07ba80c953536a4981dae386d7bd7810e4b5b,doc: update IRC information,MERGED,2021-07-08 07:08:13.000000000,2021-07-08 10:17:29.000000000,2021-07-08 10:00:58.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:08:13.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/6572c9981cb1396e32f22e740e01b7ee952715fd', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b\n(cherry picked from commit d508d59b148d97406855b5ed5ccaede51fcca8e1)\n""}]",0,799894,6572c9981cb1396e32f22e740e01b7ee952715fd,9,2,1,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b
(cherry picked from commit d508d59b148d97406855b5ed5ccaede51fcca8e1)
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/94/799894/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,6572c9981cb1396e32f22e740e01b7ee952715fd,oftc-stable/victoria,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Fnetworking-midonet~stable%2Focata~If1cd47255d8d3a22b407caabdbc981e472e606c6,openstack/networking-midonet,stable/ocata,If1cd47255d8d3a22b407caabdbc981e472e606c6,DO NOT MERGE: enable tempest.api.compute,ABANDONED,2017-11-24 03:56:30.000000000,2021-07-08 10:16:38.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-11-24 03:56:30.000000000', 'files': ['devstack/ci/gate_hook.sh'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b5f9547fda7e4fa5f521e2bab6db659bba097e44', 'message': 'DO NOT MERGE: enable tempest.api.compute\n\nI got a report some of them are failing.\n\nChange-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6\n(cherry picked from commit f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9)\nConflicts:\n    devstack/ci/gate_hook.sh\n'}]",0,522702,b5f9547fda7e4fa5f521e2bab6db659bba097e44,6,2,1,6854,,,0,"DO NOT MERGE: enable tempest.api.compute

I got a report some of them are failing.

Change-Id: If1cd47255d8d3a22b407caabdbc981e472e606c6
(cherry picked from commit f2e0443e3bfa9ab27b10dcf68ec64fcd3c8ea7a9)
Conflicts:
    devstack/ci/gate_hook.sh
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/02/522702/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/ci/gate_hook.sh'],1,b5f9547fda7e4fa5f521e2bab6db659bba097e44,compute-tests-ocata,,"r=""$r|(?:tempest\.api\.compute\..*)""",0,1
openstack%2Fkeystoneauth~stable%2Focata~I2a28f3f4eaabaa772df395f3f5d55b6fd78f8968,openstack/keystoneauth,stable/ocata,I2a28f3f4eaabaa772df395f3f5d55b6fd78f8968,Make tests pass in 2020,ABANDONED,2020-09-24 21:23:22.000000000,2021-07-08 10:11:00.000000000,,"[{'_account_id': 1446}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-24 21:23:22.000000000', 'files': ['keystoneauth1/session.py', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3.py', 'keystoneauth1/tests/unit/identity/test_identity_v2.py'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/a13ae4aaed05fc10259b85dca90e62e16728e5cf', 'message': ""Make tests pass in 2020\n\nThis issue was found while working on reproducible builds for openSUSE.\n\nThis solves it similar to change I73bde68be53afff4e8dff12d756b8381f34b2adb\n\nChanged month to February to avoid races around new year.\n\nNOTE: in addition to the orginal backport, this patch also fix bandit\ncomplains. Since 'access_token' literal is not an actual token, we can\nsafely mark it as false positive so bandit can stop chirping.\n\nChange-Id: I2a28f3f4eaabaa772df395f3f5d55b6fd78f8968\n(cherry picked from commit 4461358098cbbe3ce27f05801ae06b191b092d05)\n(cherry picked from commit c35cee2be71944fc73f685adf23e07da11824242)\n(cherry picked from commit b82836ec0cc88a0c4f0b8c1ce0ff252f5e23654d)\n""}]",0,754218,a13ae4aaed05fc10259b85dca90e62e16728e5cf,3,2,1,6618,,,0,"Make tests pass in 2020

This issue was found while working on reproducible builds for openSUSE.

This solves it similar to change I73bde68be53afff4e8dff12d756b8381f34b2adb

Changed month to February to avoid races around new year.

NOTE: in addition to the orginal backport, this patch also fix bandit
complains. Since 'access_token' literal is not an actual token, we can
safely mark it as false positive so bandit can stop chirping.

Change-Id: I2a28f3f4eaabaa772df395f3f5d55b6fd78f8968
(cherry picked from commit 4461358098cbbe3ce27f05801ae06b191b092d05)
(cherry picked from commit c35cee2be71944fc73f685adf23e07da11824242)
(cherry picked from commit b82836ec0cc88a0c4f0b8c1ce0ff252f5e23654d)
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/18/754218/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneauth1/session.py', 'keystoneauth1/identity/v3/oidc.py', 'keystoneauth1/tests/unit/identity/test_identity_v3.py', 'keystoneauth1/tests/unit/identity/test_identity_v2.py']",4,a13ae4aaed05fc10259b85dca90e62e16728e5cf,,"import time ""expires"": ""%i-02-01T00:00:10.000123Z"" % (1 + time.gmtime().tm_year),"," ""expires"": ""2020-01-01T00:00:10.000123Z"",",10,6
openstack%2Fnova~master~Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738,openstack/nova,master,Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738,Allow configuration of direct-snapshot feature,NEW,2021-06-04 14:21:15.000000000,2021-07-08 09:47:29.000000000,,"[{'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 14:21:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9fd1b225c07b1c478ea4bf955773ab501cb20939', 'message': 'Allow configuration of direct-snapshot feature\n\nAdd a new configuration option, ``[libvirt]/allow_direct_snapshot``.\nThis allow operator force nova to not use the direct_snapshot workflow\nwhen performing instance snapshot, even if it is implemented in the\nbacking driver. Default value is True.\n\nThis can be usefull in case of nova backend migration, to force nova\nhonor the glance configuration and do not guess it from the actual\nbackend.\n\nImplements: blueprint configure-direct-snapshot\nChange-Id: Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738\n'}, {'number': 2, 'created': '2021-06-10 08:59:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/65923f2c8bc717b60811d3c313a10e43a3205b34', 'message': 'Allow configuration of direct-snapshot feature\n\nAdd a new configuration option, ``[libvirt]/allow_direct_snapshot``.\nThis allow operator force nova to not use the direct_snapshot workflow\nwhen performing instance snapshot, even if it is implemented in the\nbacking driver. Default value is True.\n\nThis can be useful in case of nova backend migration, to force nova\nhonor the glance configuration and do not guess it from the actual\nbackend. Indeed, when using the nova RBD backend with image who were\noriginally stored in ceph, it will put the image snapshot in RBD too\neven if an RBD store is no longer configured in glance.\n\nImplements: blueprint configure-direct-snapshot\nChange-Id: Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738\n'}, {'number': 3, 'created': '2021-06-10 09:13:17.000000000', 'files': ['releasenotes/notes/configure-direct-snapshot-d4186a489e177613.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/6f7a7e16db4ff00b73ea01955669a257dad34e20', 'message': 'Allow configuration of direct-snapshot feature\n\nAdd a new configuration option, ``[libvirt]/allow_direct_snapshot``.\nThis allow operator force nova to not use the direct_snapshot workflow\nwhen performing instance snapshot, even if it is implemented in the\nbacking driver. Default value is True.\n\nThis can be useful in case of nova backend migration, to force nova\nhonor the glance configuration and do not guess it from the actual\nbackend. Indeed, when using the nova RBD backend with image who were\noriginally stored in ceph, it will put the image snapshot in RBD too\neven if an RBD store is no longer configured in glance.\n\nImplements: blueprint configure-direct-snapshot\nChange-Id: Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738\n'}]",7,794837,6f7a7e16db4ff00b73ea01955669a257dad34e20,31,2,3,28595,,,0,"Allow configuration of direct-snapshot feature

Add a new configuration option, ``[libvirt]/allow_direct_snapshot``.
This allow operator force nova to not use the direct_snapshot workflow
when performing instance snapshot, even if it is implemented in the
backing driver. Default value is True.

This can be useful in case of nova backend migration, to force nova
honor the glance configuration and do not guess it from the actual
backend. Indeed, when using the nova RBD backend with image who were
originally stored in ceph, it will put the image snapshot in RBD too
even if an RBD store is no longer configured in glance.

Implements: blueprint configure-direct-snapshot
Change-Id: Iab55d6a1fcde763ca859d0d1ecfb11a11cf35738
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/794837/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/configure-direct-snapshot-d4186a489e177613.yaml', 'nova/virt/libvirt/driver.py', 'nova/conf/libvirt.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,9fd1b225c07b1c478ea4bf955773ab501cb20939,configure-direct-snapshot," @mock.patch.object(imagebackend.Image, 'direct_snapshot') @mock.patch.object(libvirt_driver.imagebackend.images, 'convert_image', return_value=b'') @mock.patch.object(rbd_utils, 'RBDDriver') @mock.patch.object(rbd_utils, 'rbd') def test_rbd_can_skip_direct_snapshot( self, mock_rbd, mock_driver, mock_convert_image, mock_direct_snapshot): self.flags(images_type='rbd', group='libvirt') self.flags(allow_direct_snapshot=False, group='libvirt') self._test_snapshot(disk_format='raw') self.assertFalse(mock_direct_snapshot.called) @mock.patch('nova.virt.libvirt.utils.get_disk_type_from_path', new=mock.Mock(return_value='rbd')) @mock.patch('nova.virt.libvirt.utils.find_disk', new=mock.Mock(return_value=('rbd://some/fake/rbd/image', 'raw')))",,41,7
openstack%2Freleases~master~I514af9a5dfbcc54247babb39f9b14433d187c167,openstack/releases,master,I514af9a5dfbcc54247babb39f9b14433d187c167,Set Train status to Extended Maintenance,MERGED,2021-05-14 15:09:56.000000000,2021-07-08 09:45:55.000000000,2021-07-08 09:45:55.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-14 15:09:56.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b052df5e9ccb6db1da924f213da6fbf6a79b77cd', 'message': ""Set Train status to Extended Maintenance\n\nProject's last releases in Train have been tagged with train-em.\nNow indicate that Train is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nChange-Id: I514af9a5dfbcc54247babb39f9b14433d187c167\n""}]",0,791501,b052df5e9ccb6db1da924f213da6fbf6a79b77cd,10,4,1,17685,,,0,"Set Train status to Extended Maintenance

Project's last releases in Train have been tagged with train-em.
Now indicate that Train is in Extended Maintenance phase also at
https://releases.openstack.org

Change-Id: I514af9a5dfbcc54247babb39f9b14433d187c167
",git fetch https://review.opendev.org/openstack/releases refs/changes/01/791501/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,b052df5e9ccb6db1da924f213da6fbf6a79b77cd,train-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2021-05-12,2,3
openstack%2Ftripleo-quickstart~master~I785588fac4778efc68be6310d093976dd1d7c651,openstack/tripleo-quickstart,master,I785588fac4778efc68be6310d093976dd1d7c651,Disable tempest in undercloud jobs,MERGED,2021-06-30 03:41:08.000000000,2021-07-08 09:42:47.000000000,2021-07-08 09:41:20.000000000,"[{'_account_id': 7353}, {'_account_id': 8833}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-30 03:41:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/fb108a8fd4605e6d6461d404b702605185511616', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}, {'number': 2, 'created': '2021-06-30 03:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/55572d1c979bedffd350e0a9144b7421ac595c91', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}, {'number': 3, 'created': '2021-07-01 07:19:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5a7530c2d7b66bc4296a45a97f62472c98a5ecb6', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/798981\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}, {'number': 4, 'created': '2021-07-01 09:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0158e9bf6e3a7b72b864bbb58511295d11eda533', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/798981\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}, {'number': 5, 'created': '2021-07-04 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c1e991ad755fdbb2a0d990ed8f0809ff0a4c6453', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/798981\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}, {'number': 6, 'created': '2021-07-04 12:40:15.000000000', 'files': ['config/general_config/featureset027.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/dcaed140dbe07bf45f8b8a5f950ce8c2e636e060', 'message': ""Disable tempest in undercloud jobs\n\nIt seems tempest does not have config option for keystone in\nservice-available group. After mistral has been removed we\ndon't test anything other than a few basic neutron tests.\n\nIt would probably be better to drop tempest from the undercloud\njob on master to prepare for keystoneless undercloud.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/798981\n\nChange-Id: I785588fac4778efc68be6310d093976dd1d7c651\n""}]",3,798786,dcaed140dbe07bf45f8b8a5f950ce8c2e636e060,28,5,6,8833,,,0,"Disable tempest in undercloud jobs

It seems tempest does not have config option for keystone in
service-available group. After mistral has been removed we
don't test anything other than a few basic neutron tests.

It would probably be better to drop tempest from the undercloud
job on master to prepare for keystoneless undercloud.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/798981

Change-Id: I785588fac4778efc68be6310d093976dd1d7c651
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/86/798786/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset027.yml'],1,fb108a8fd4605e6d6461d404b702605185511616,keystoneless," {% if release in ['train', 'ussuri', 'victoria', 'wallaby'] -%}"," {% if release not in ['pike', 'queens', 'stein'] -%}",2,1
openstack%2Ftripleo-heat-templates~master~I557962e77d6558281603b40d0adf01b912e8c2f9,openstack/tripleo-heat-templates,master,I557962e77d6558281603b40d0adf01b912e8c2f9,FFU: change transfer parameters for database resync,MERGED,2021-04-21 08:55:56.000000000,2021-07-08 09:41:25.000000000,2021-07-08 09:41:25.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-04-21 08:55:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47fb02f207630efe9b9ac651e53c746d57afb377', 'message': ""FFU: change transfer parameters for database resync\n\nConfigure tripleo_transfer's flags to mimick the way a galera SST\ntransfers the entire database between two nodes: in-place copy,\nno delta-transfer, no compression, selective file copy.\n\nChange-Id: I557962e77d6558281603b40d0adf01b912e8c2f9\nCloses-Bug: #1925260\nDepends-On: I1e88907db0bb26d52c92cb996eb56767e06b3874\n""}, {'number': 2, 'created': '2021-07-06 10:16:38.000000000', 'files': ['deployment/database/mysql-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ef7f9330abb2b8d9fa981ef9a9a4824bf069ac7', 'message': ""FFU: change transfer parameters for database resync\n\nConfigure tripleo_transfer's flags to mimick the way a galera SST\ntransfers the entire database between two nodes: in-place copy,\nno delta-transfer, no compression, selective file copy.\n\nTested by running an FFU from Queens to Train on an composable\nHA overcloud.\n\nChange-Id: I557962e77d6558281603b40d0adf01b912e8c2f9\nCloses-Bug: #1925260\n""}]",0,787326,5ef7f9330abb2b8d9fa981ef9a9a4824bf069ac7,20,8,2,20778,,,0,"FFU: change transfer parameters for database resync

Configure tripleo_transfer's flags to mimick the way a galera SST
transfers the entire database between two nodes: in-place copy,
no delta-transfer, no compression, selective file copy.

Tested by running an FFU from Queens to Train on an composable
HA overcloud.

Change-Id: I557962e77d6558281603b40d0adf01b912e8c2f9
Closes-Bug: #1925260
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/787326/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/database/mysql-pacemaker-puppet.yaml'],1,47fb02f207630efe9b9ac651e53c746d57afb377,transfer-pattern, # inline copy of galera database tripleo_transfer_sync_options: --whole-file --ignore-times --inplace --archive --delete # include innodb files and dirs (schemas) tripleo_transfer_include: - '/ibdata*' - '/ib_lru_dump' - '/ib_logfile[0-9]*' - '/undo*' - '/*/' # exclude everything else tripleo_transfer_exclude: '/*',,16,0
openstack%2Fptgbot~master~Ib014f58475c1eee89d34e718ee5988800602586b,openstack/ptgbot,master,Ib014f58475c1eee89d34e718ee5988800602586b,Adapt PTGBot to OFTC,MERGED,2021-05-31 13:27:23.000000000,2021-07-08 09:32:55.000000000,2021-07-08 09:31:53.000000000,"[{'_account_id': 308}, {'_account_id': 4146}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-31 13:27:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/225868acb85285fecd8a3ce745ba3939235027d9', 'message': 'Adapt PTGBot to OFTC\n\nPTGBot was relying on a number of Freenode things and requires a\nfew changes to run on OFTC:\n\n- Manually identify to NickServ instead of using SASL\n- No longer use identify-msg capability\n\nChange-Id: Ib014f58475c1eee89d34e718ee5988800602586b\n'}, {'number': 2, 'created': '2021-05-31 13:39:54.000000000', 'files': ['ptgbot/bot.py', 'README.rst', 'ptgbot/tests/test_message_process.py', 'config.json.sample'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/ab85e55d743704597da3b5d2f120203f427ed133', 'message': ""Adapt PTGBot to OFTC\n\nPTGBot was relying on a number of Freenode things and requires a\nfew changes to run on OFTC:\n\n- Manually identify to NickServ instead of using SASL\n- No longer use identify-msg capability\n- Messages received are no longer prefixed by '+'\n\nChange-Id: Ib014f58475c1eee89d34e718ee5988800602586b\n""}]",0,793792,ab85e55d743704597da3b5d2f120203f427ed133,12,4,2,308,,,0,"Adapt PTGBot to OFTC

PTGBot was relying on a number of Freenode things and requires a
few changes to run on OFTC:

- Manually identify to NickServ instead of using SASL
- No longer use identify-msg capability
- Messages received are no longer prefixed by '+'

Change-Id: Ib014f58475c1eee89d34e718ee5988800602586b
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/92/793792/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/bot.py', 'README.rst', 'config.json.sample']",3,225868acb85285fecd8a3ce745ba3939235027d9,oftc," ""irc_server"": ""irc.oftc.net"","," ""irc_server"": ""irc.freenode.net"",",12,30
openstack%2Fnova~master~I55bde8dd33154e17bbdb3c4b0e7a83a20e8487e8,openstack/nova,master,I55bde8dd33154e17bbdb3c4b0e7a83a20e8487e8,[ironic] Minimize window for a resource provider to be lost,MERGED,2021-07-02 20:03:45.000000000,2021-07-08 09:19:19.000000000,2021-07-07 12:18:34.000000000,"[{'_account_id': 5805}, {'_account_id': 9708}, {'_account_id': 10342}, {'_account_id': 12640}, {'_account_id': 14826}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 20:03:45.000000000', 'files': ['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/minimize-bug-1841481-race-window-f76912d4985770ad.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/f84d5917c6fb045f03645d9f80eafbc6e5f94bdd', 'message': '[ironic] Minimize window for a resource provider to be lost\n\nThis patch is based upon a downstream patch which came up in discussion\namongst the ironic community when some operators began discussing a case\nwhere resource providers had disappeared from a running deployment with\nseveral thousand baremetal nodes.\n\nDiscussion amongst operators and developers ensued and we were able\nto determine that this was still an issue in the current upstream code\nand that time difference between collecting data and then reconciling\nthe records was a source of the issue. Per Arun, they have been running\nthis change downstream and had not seen any reoccurances of the issue\nsince the patch was applied.\n\nThis patch was originally authored by Arun S A G, and below is his\noriginal commit mesage.\n\nAn instance could be launched and scheduled to a compute node between\nget_uuids_by_host() call and _get_node_list() call. If that happens\nthe ironic node.instance_uuid may not be None but the instance_uuid\nwill be missing from the instance list returned by get_uuids_by_host()\nmethod. This is possible because _get_node_list() takes several minutes to return\nin large baremetal clusters and a lot can happen in that time.\n\nThis causes the compute node to be orphaned and associated resource\nprovider to be deleted from placement. Once the resource provider is\ndeleted it is never created again until the service restarts. Since\nresource provider is deleted subsequent boots/rebuilds to the same\nhost will fail.\n\nThis behaviour is visibile in VMbooter nodes because it constantly\nlaunches and deletes instances there by increasing the likelihood\nof this race condition happening in large ironic clusters.\n\nTo reduce the chance of this race condition we call _get_node_list()\nfirst followed by get_uuids_by_host() method.\n\nChange-Id: I55bde8dd33154e17bbdb3c4b0e7a83a20e8487e8\nCo-Authored-By: Arun S A G <saga@yahoo-inc.com>\nRelated-Bug: #1841481\n'}]",7,799327,f84d5917c6fb045f03645d9f80eafbc6e5f94bdd,38,7,1,11655,,,0,"[ironic] Minimize window for a resource provider to be lost

This patch is based upon a downstream patch which came up in discussion
amongst the ironic community when some operators began discussing a case
where resource providers had disappeared from a running deployment with
several thousand baremetal nodes.

Discussion amongst operators and developers ensued and we were able
to determine that this was still an issue in the current upstream code
and that time difference between collecting data and then reconciling
the records was a source of the issue. Per Arun, they have been running
this change downstream and had not seen any reoccurances of the issue
since the patch was applied.

This patch was originally authored by Arun S A G, and below is his
original commit mesage.

An instance could be launched and scheduled to a compute node between
get_uuids_by_host() call and _get_node_list() call. If that happens
the ironic node.instance_uuid may not be None but the instance_uuid
will be missing from the instance list returned by get_uuids_by_host()
method. This is possible because _get_node_list() takes several minutes to return
in large baremetal clusters and a lot can happen in that time.

This causes the compute node to be orphaned and associated resource
provider to be deleted from placement. Once the resource provider is
deleted it is never created again until the service restarts. Since
resource provider is deleted subsequent boots/rebuilds to the same
host will fail.

This behaviour is visibile in VMbooter nodes because it constantly
launches and deletes instances there by increasing the likelihood
of this race condition happening in large ironic clusters.

To reduce the chance of this race condition we call _get_node_list()
first followed by get_uuids_by_host() method.

Change-Id: I55bde8dd33154e17bbdb3c4b0e7a83a20e8487e8
Co-Authored-By: Arun S A G <saga@yahoo-inc.com>
Related-Bug: #1841481
",git fetch https://review.opendev.org/openstack/nova refs/changes/27/799327/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/driver.py', 'nova/tests/unit/virt/ironic/test_driver.py', 'releasenotes/notes/minimize-bug-1841481-race-window-f76912d4985770ad.yaml']",3,f84d5917c6fb045f03645d9f80eafbc6e5f94bdd,,"--- fixes: - | Minimizes a race condition window when using the ``ironic`` virt driver where the data generated for the Resource Tracker may attempt to compare potentially stale instance information with the latest known baremetal node information. While this doesn't completely prevent nor resolve the underlying race condition identified in `bug 1841481 <https://bugs.launchpad.net/nova/+bug/1841481>`_, this change allows Nova to have the latest state information, as opposed to state information which may be out of date due to the time which it may take to retrieve the status from Ironic. This issue was most observable on baremetal clusters with several thousand physical nodes. ",,40,1
openstack%2Ftripleo-heat-templates~master~Iaabf506843c958c9e6fc8e5fb849327bc9825ce3,openstack/tripleo-heat-templates,master,Iaabf506843c958c9e6fc8e5fb849327bc9825ce3,Moves undercloud upgrade introspection data migration to step 1,ABANDONED,2021-07-08 09:09:30.000000000,2021-07-08 09:10:40.000000000,,[],"[{'number': 1, 'created': '2021-07-08 09:09:30.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/15ec0dfc4b4602d9ca1cfc1723c99ee4fef93d25', 'message': 'Moves undercloud upgrade introspection data migration to step 1\n\nThis moves the ironic introspection data migration from swift\nto dbase to step1 of upgrade_tasks. It was previously in step3 but\nthat caused related-bug since mysql is down at that point. Needed\nby [1] to fix the failing undercloud-upgrade job.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393\nRelated-Bug: 1934658\nChange-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab\n\nChange-Id: Iaabf506843c958c9e6fc8e5fb849327bc9825ce3\n'}]",0,799974,15ec0dfc4b4602d9ca1cfc1723c99ee4fef93d25,2,0,1,8449,,,0,"Moves undercloud upgrade introspection data migration to step 1

This moves the ironic introspection data migration from swift
to dbase to step1 of upgrade_tasks. It was previously in step3 but
that caused related-bug since mysql is down at that point. Needed
by [1] to fix the failing undercloud-upgrade job.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/793393
Related-Bug: 1934658
Change-Id: Ic68fbc91e538ebb101b67b2abb3e285a79d770ab

Change-Id: Iaabf506843c958c9e6fc8e5fb849327bc9825ce3
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/74/799974/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,15ec0dfc4b4602d9ca1cfc1723c99ee4fef93d25,," - name: migrate existing introspection data shell: > {{ container_cli }} exec -u root ironic_inspector ironic-inspector-migrate-data --from swift --to database --config-file /etc/ironic-inspector/inspector.conf become: true register: ironic_inspector_migrate_data_result when: - step|int == 1 failed_when: - ironic_inspector_migrate_data_result.rc is defined # do not fail in dry run mode - ironic_inspector_migrate_data_result.rc not in [0, 125] # ignore if container not running"," - name: migrate existing introspection data shell: > {{ container_cli }} exec -u root ironic_inspector ironic-inspector-migrate-data --from swift --to database --config-file /etc/ironic-inspector/inspector.conf become: true register: ironic_inspector_migrate_data_result when: - step|int == 3 failed_when: - ironic_inspector_migrate_data_result.rc is defined # do not fail in dry run mode - ironic_inspector_migrate_data_result.rc not in [0, 125] # ignore if container not running",11,11
openstack%2Fkolla-ansible~master~I1a0eea5c20f95f38c707401b56b7d2454484377d,openstack/kolla-ansible,master,I1a0eea5c20f95f38c707401b56b7d2454484377d,"Revert ""Reduce container metrics cardinality""",MERGED,2021-06-20 13:58:32.000000000,2021-07-08 08:43:48.000000000,2021-06-21 12:47:19.000000000,"[{'_account_id': 2276}, {'_account_id': 14826}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 30523}, {'_account_id': 32657}]","[{'number': 1, 'created': '2021-06-20 13:58:32.000000000', 'files': ['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/640dbb03fab6ed3d54e73e438d546adc14e747b6', 'message': 'Revert ""Reduce container metrics cardinality""\n\nThis reverts commit c6259158e3eff4aff9770b7044b0179a7de533aa.\n\nReason for revert: cAdvisor fails with:\n\ninvalid value ""percpu,referenced_memory,cpu_topology,resctrl,udp,advtcp,sched,hugetlb,memory_numa,tcp,process"" for flag -disable_metrics: unsupported metric ""referenced_memory"" specified in disable_metrics\n\nChange-Id: I1a0eea5c20f95f38c707401b56b7d2454484377d\n'}]",0,797195,640dbb03fab6ed3d54e73e438d546adc14e747b6,15,8,1,30491,,,0,"Revert ""Reduce container metrics cardinality""

This reverts commit c6259158e3eff4aff9770b7044b0179a7de533aa.

Reason for revert: cAdvisor fails with:

invalid value ""percpu,referenced_memory,cpu_topology,resctrl,udp,advtcp,sched,hugetlb,memory_numa,tcp,process"" for flag -disable_metrics: unsupported metric ""referenced_memory"" specified in disable_metrics

Change-Id: I1a0eea5c20f95f38c707401b56b7d2454484377d
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/797195/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prometheus/templates/prometheus-cadvisor.json.j2', 'releasenotes/notes/reduce-cadvisor-cardinality-1213854b9fe0c828.yaml', 'ansible/roles/prometheus/defaults/main.yml', 'etc/kolla/globals.yml']",4,640dbb03fab6ed3d54e73e438d546adc14e747b6,,,"# List of extra parameters passed to cAdvisor. By default system cgroups # and container labels are not exposed to reduce time series cardinality. #prometheus_cadvisor_cmdline_extras: ""--docker_only --store_container_labels=false --disable_metrics=percpu,referenced_memory,cpu_topology,resctrl,udp,advtcp,sched,hugetlb,memory_numa,tcp,process"" ",1,26
openstack%2Fskyline-console~master~I7c83339b1000f09a2b1812a5150c4a173180b488,openstack/skyline-console,master,I7c83339b1000f09a2b1812a5150c4a173180b488,docs: Add en docs,MERGED,2021-07-02 07:41:20.000000000,2021-07-08 08:38:05.000000000,2021-07-07 05:12:18.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-07-02 07:41:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8c2385916cbbff9f82853d17535634a91051a425', 'message': 'Add en docs\n\nadd en docs\n\nChange-Id: I7c83339b1000f09a2b1812a5150c4a173180b488\n'}, {'number': 2, 'created': '2021-07-05 02:20:16.000000000', 'files': ['docs/en/develop/3-11-Action-introduction.md', 'docs/zh/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-7-ModalAction-introduction.md', 'docs/en/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-7-ModalAction-introduction.md', 'docs/zh/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-9-StepAction-introduction.md', 'docs/en/develop/3-9-StepAction-introduction.md', 'docs/zh/develop/3-11-Action-introduction.md', 'docs/en/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-13-Route-introduction.md', 'docs/en/develop/3-10-FormItem-introduction.md', 'docs/en/develop/3-14-I18n-introduction.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5b4d3c6fa19e676d261ccd3cae60742bc8e5a4ea', 'message': 'docs: Add en docs\n\nAdd en docs\n\nChange-Id: I7c83339b1000f09a2b1812a5150c4a173180b488'}]",16,799165,5b4d3c6fa19e676d261ccd3cae60742bc8e5a4ea,13,3,2,33636,,,0,"docs: Add en docs

Add en docs

Change-Id: I7c83339b1000f09a2b1812a5150c4a173180b488",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/65/799165/1 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/develop/3-11-Action-introduction.md', 'docs/zh/develop/3-10-FormItem-introduction.md', 'docs/zh/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-7-ModalAction-introduction.md', 'docs/en/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-7-ModalAction-introduction.md', 'docs/zh/develop/3-8-ConfirmAction-introduction.md', 'docs/zh/develop/3-9-StepAction-introduction.md', 'docs/en/develop/3-9-StepAction-introduction.md', 'docs/zh/develop/3-11-Action-introduction.md', 'docs/en/develop/3-12-Menu-introduction.md', 'docs/en/develop/3-13-Route-introduction.md', 'docs/en/develop/3-10-FormItem-introduction.md', 'docs/en/develop/3-14-I18n-introduction.md']",14,8c2385916cbbff9f82853d17535634a91051a425,openstack_master,"English | [](/docs/zh/develop/3-14-I18n-introduction.md) # Usage - Framework supports internationalization, default support in English, Chinese ![i18n](/docs/zh/develop/images/i18n/i18n.png) ![english](/docs/zh/develop/images/i18n/english.png) # Code location - `src/locales/index.js` - English: `src/locales/en.json` - Chinese: `src/locales/zh.json` # How to use - The strings that need to be displayed internationally in the code are all in English, after using cli to complete string collection, generally, there is no need to update `en.json`, only need to modify the corresponding Chinese in `zh.json` to complete the internationalization operation - Use function `t` to translate the string - Take `instance` as an example, Corresponding international writing is `t('instance')` - Note that English is case relevant - Function `T` supports strings with parameters - Params use `{}` to mark, for example : ```javascript confirmContext = () => t('Are you sure to { action }?', { action: this.actionName || this.title, }); ``` - Collect ```shell yarn run i18n ``` - After colleced, `en.json` and `zh.json` will automatically update. - Update Chinese - After colleced, just update directly in `zh.json`. ",,2368,13
openstack%2Fskyline-console~master~I821261620dff17738999883ab0323cd616a8ffe6,openstack/skyline-console,master,I821261620dff17738999883ab0323cd616a8ffe6,docs: Add en test docs,MERGED,2021-07-02 10:09:38.000000000,2021-07-08 08:37:31.000000000,2021-07-07 08:09:05.000000000,"[{'_account_id': 22348}, {'_account_id': 27809}, {'_account_id': 30434}]","[{'number': 1, 'created': '2021-07-02 10:09:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8b7a04a8891aaf6877adaf2cae37508e642e787f', 'message': 'Add en test docs\n\nadd en test docs\n\nChange-Id: I821261620dff17738999883ab0323cd616a8ffe6\n'}, {'number': 2, 'created': '2021-07-05 06:38:19.000000000', 'files': ['docs/en/test/images/e2e/table/click-first.png', 'docs/en/test/images/e2e/table/search-text-1.png', 'docs/en/test/images/e2e/form/input.png', 'docs/en/test/images/unit/result.png', 'docs/en/test/images/e2e/detail/name.png', 'docs/en/test/images/e2e/form/tab.png', 'docs/en/test/3-1-E2E-form-operation.md', 'docs/en/test/images/e2e/table/check-first-row.png', 'docs/en/test/images/e2e/table/first-confirm-2.png', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/en/test/2-catalog-introduction.md', 'docs/en/test/images/e2e/detail/list.png', 'docs/en/test/images/e2e/gui-work.png', 'docs/en/test/images/e2e/table/search-text-2.png', 'docs/en/test/images/e2e/table/simple-search.png', 'docs/en/test/images/e2e/form/attach-file-image.png', 'docs/en/test/images/e2e/form/click-confirm-submit.png', 'docs/en/test/images/e2e/form/click-step-next.png', 'docs/en/test/images/e2e/form/switch.png', 'docs/en/test/images/e2e/form/select-table-option.png', 'docs/en/test/images/e2e/result.png', 'docs/en/test/images/e2e/form/form-name.png', 'docs/en/test/images/e2e/table/disable-first.png', 'docs/en/test/images/e2e/table/search-text-3.png', 'docs/en/test/images/e2e/form/more.png', 'docs/en/test/images/e2e/form/disable-action.png', 'docs/en/test/images/e2e/table/disable-more-action.png', 'docs/en/test/images/e2e/table/first-confirm.png', 'docs/en/test/images/e2e/gui-list.png', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/test/images/e2e/form/attach-file.png', 'docs/en/test/images/e2e/form/click-form-submit.png', 'docs/en/test/images/e2e/table/header-btn-index.png', 'docs/en/test/images/e2e/table/wait-2.png', 'docs/en/test/images/e2e/form/select-all.png', 'docs/en/test/images/e2e/table/select-first.png', 'docs/en/test/3-2-E2E-table-operation.md', 'docs/en/test/images/e2e/form/radio.png', 'docs/en/test/images/e2e/form/select-table-search.png', 'docs/en/test/images/e2e/table/confirm-in-sub.png', 'docs/en/test/images/e2e/table/search-select-2.png', 'docs/en/test/images/e2e/form/wait-form-loading.png', 'docs/en/test/images/e2e/form/unselect-all.png', 'docs/en/test/images/e2e/form/key-value.png', 'docs/en/test/images/e2e/table/confirm-action.png', 'docs/en/test/images/e2e/table/header-btn-title.png', 'docs/en/test/images/e2e/table/wait-1.png', 'docs/en/test/images/e2e/table/action-by-title.png', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/en/test/images/e2e/form/textarea-json.png', 'docs/en/test/images/e2e/detail/tab.png', 'docs/en/test/images/e2e/table/search-select-1.png', 'docs/en/test/images/e2e/form/checkbox.png', 'docs/zh/test/3-1-E2E-form-operation.md', 'docs/en/test/images/e2e/form/transfer-left.png', 'docs/en/test/images/e2e/form/select-table.png', 'docs/en/test/images/e2e/table/detail-1.png', 'docs/en/test/images/e2e/form/add-select.png', 'docs/en/test/images/e2e/form/select-value.png', 'docs/en/test/images/e2e/form/transfer-left-click.png', 'docs/en/test/images/e2e/table/confirm-more-1.png', 'docs/en/test/images/e2e/form/transfer-right.png', 'docs/en/test/images/e2e/form/select.png', 'docs/en/test/images/e2e/table/action-by-title-2.png', 'docs/en/test/images/e2e/table/action-in-sub.png', 'docs/en/test/images/e2e/table/search.png', 'docs/en/test/images/e2e/table/detail-2.png', 'docs/en/test/images/e2e/console.png', 'docs/en/test/1-read-to-work.md', 'docs/en/test/images/e2e/table/check-value.png', 'docs/en/test/images/e2e/table/wait-table-loading.png', 'docs/en/test/images/e2e/table/action-in-more.png', 'docs/en/test/images/e2e/table/header-confirm-title.png', 'docs/zh/test/3-2-E2E-table-operation.md', 'docs/en/test/images/e2e/form/more-open.png', 'docs/en/test/images/e2e/table/confirm-more-2.png', 'docs/en/test/images/e2e/form/notice.png', 'docs/en/test/images/e2e/form/transfer-right-check.png', 'docs/en/test/images/e2e/form/click-modal-submit.png', 'docs/zh/test/3-3-E2E-detail-operation.md', 'docs/en/test/images/e2e/table/search-select-3.png', 'docs/zh/test/1-ready-to-work.md'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8f071a29ab3b6e75ca65f11190eff6f07544d30e', 'message': 'docs: Add en test docs\n\nAdd en test docs\n\nChange-Id: I821261620dff17738999883ab0323cd616a8ffe6\n'}]",26,799192,8f071a29ab3b6e75ca65f11190eff6f07544d30e,12,3,2,30474,,,0,"docs: Add en test docs

Add en test docs

Change-Id: I821261620dff17738999883ab0323cd616a8ffe6
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/92/799192/2 && git format-patch -1 --stdout FETCH_HEAD,"['docs/en/test/images/e2e/table/click-first.png', 'docs/en/test/images/e2e/table/search-text-1.png', 'docs/en/test/images/e2e/form/input.png', 'docs/en/test/images/unit/result.png', 'docs/en/test/images/e2e/detail/name.png', 'docs/en/test/images/e2e/form/tab.png', 'docs/en/test/3-1-E2E-form-operation.md', 'docs/en/test/images/e2e/table/check-first-row.png', 'docs/en/test/images/e2e/table/first-confirm-2.png', 'docs/en/test/3-3-E2E-detail-operation.md', 'docs/en/test/2-catalog-introduction.md', 'docs/en/test/images/e2e/detail/list.png', 'docs/en/test/images/e2e/gui-work.png', 'docs/en/test/images/e2e/table/search-text-2.png', 'docs/en/test/images/e2e/table/simple-search.png', 'docs/en/test/images/e2e/form/attach-file-image.png', 'docs/en/test/images/e2e/form/click-confirm-submit.png', 'docs/en/test/images/e2e/form/click-step-next.png', 'docs/en/test/images/e2e/form/switch.png', 'docs/en/test/images/e2e/form/select-table-option.png', 'docs/en/test/images/e2e/result.png', 'docs/en/test/images/e2e/form/form-name.png', 'docs/en/test/images/e2e/table/disable-first.png', 'docs/en/test/images/e2e/table/search-text-3.png', 'docs/en/test/images/e2e/form/more.png', 'docs/en/test/images/e2e/form/disable-action.png', 'docs/en/test/images/e2e/table/disable-more-action.png', 'docs/en/test/images/e2e/table/first-confirm.png', 'docs/en/test/images/e2e/gui-list.png', 'docs/en/test/3-0-how-to-edit-e2e-case.md', 'docs/en/test/images/e2e/form/attach-file.png', 'docs/en/test/images/e2e/form/click-form-submit.png', 'docs/en/test/images/e2e/table/header-btn-index.png', 'docs/en/test/images/e2e/table/wait-2.png', 'docs/en/test/images/e2e/form/select-all.png', 'docs/en/test/images/e2e/table/select-first.png', 'docs/en/test/3-2-E2E-table-operation.md', 'docs/en/test/images/e2e/form/radio.png', 'docs/en/test/images/e2e/form/select-table-search.png', 'docs/en/test/images/e2e/table/confirm-in-sub.png', 'docs/en/test/images/e2e/table/search-select-2.png', 'docs/en/test/images/e2e/form/wait-form-loading.png', 'docs/en/test/images/e2e/form/unselect-all.png', 'docs/en/test/images/e2e/form/key-value.png', 'docs/en/test/images/e2e/table/confirm-action.png', 'docs/en/test/images/e2e/table/header-btn-title.png', 'docs/en/test/images/e2e/table/wait-1.png', 'docs/en/test/images/e2e/table/action-by-title.png', 'docs/en/test/3-4-E2E-resource-operation.md', 'docs/en/test/images/e2e/form/textarea-json.png', 'docs/en/test/images/e2e/detail/tab.png', 'docs/en/test/images/e2e/table/search-select-1.png', 'docs/en/test/images/e2e/form/checkbox.png', 'docs/zh/test/3-1-E2E-form-operation.md', 'docs/en/test/images/e2e/form/transfer-left.png', 'docs/en/test/images/e2e/form/select-table.png', 'docs/en/test/images/e2e/table/detail-1.png', 'docs/en/test/images/e2e/form/add-select.png', 'docs/en/test/images/e2e/form/select-value.png', 'docs/en/test/images/e2e/form/transfer-left-click.png', 'docs/en/test/images/e2e/table/confirm-more-1.png', 'docs/en/test/images/e2e/form/transfer-right.png', 'docs/en/test/images/e2e/form/select.png', 'docs/en/test/images/e2e/table/action-by-title-2.png', 'docs/en/test/images/e2e/table/action-in-sub.png', 'docs/en/test/images/e2e/table/search.png', 'docs/en/test/images/e2e/table/detail-2.png', 'docs/en/test/images/e2e/console.png', 'docs/en/test/1-read-to-work.md', 'docs/en/test/images/e2e/table/check-value.png', 'docs/en/test/images/e2e/table/wait-table-loading.png', 'docs/en/test/images/e2e/table/action-in-more.png', 'docs/en/test/images/e2e/table/header-confirm-title.png', 'docs/zh/test/3-2-E2E-table-operation.md', 'docs/en/test/images/e2e/form/more-open.png', 'docs/en/test/images/e2e/table/confirm-more-2.png', 'docs/en/test/images/e2e/form/notice.png', 'docs/en/test/images/e2e/form/transfer-right-check.png', 'docs/en/test/images/e2e/form/click-modal-submit.png', 'docs/zh/test/3-3-E2E-detail-operation.md', 'docs/en/test/images/e2e/table/search-select-3.png', 'docs/zh/test/1-ready-to-work.md']",82,8b7a04a8891aaf6877adaf2cae37508e642e787f,doc,![](images/e2e/console.png)![gui](images/e2e/gui-list.png) ![work](images/e2e/gui-work.png)![](images/e2e/result.png)![](images/unit/result.png),![](/docs/zh/test/images/e2e/console.png)![gui](/docs/zh/test/images/e2e/gui-list.png) ![work](/docs/zh/test/images/e2e/gui-work.png)![](/docs/zh/test/images/e2e/result.png)![](/docs/zh/test/images/unit/result.png),1923,77
openstack%2Fcompute-hyperv~master~If1f07ba80c953536a4981dae386d7bd7810e4b5b,openstack/compute-hyperv,master,If1f07ba80c953536a4981dae386d7bd7810e4b5b,doc: update IRC information,MERGED,2021-07-08 06:24:44.000000000,2021-07-08 08:37:20.000000000,2021-07-08 06:52:43.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 06:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/4bc975c72fc99aeaf4a196e2352d629ca8ed60d9', 'message': ""doc: update IRC information\n\nWe're point users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b\n""}, {'number': 2, 'created': '2021-07-08 06:26:41.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/compute-hyperv/commit/d508d59b148d97406855b5ed5ccaede51fcca8e1', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b\n""}]",0,799961,d508d59b148d97406855b5ed5ccaede51fcca8e1,8,2,2,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: If1f07ba80c953536a4981dae386d7bd7810e4b5b
",git fetch https://review.opendev.org/openstack/compute-hyperv refs/changes/61/799961/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,4bc975c72fc99aeaf4a196e2352d629ca8ed60d9,oftc,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Foctavia~master~I29bd684779795a070ea695fdf7ed89c92a442ef3,openstack/octavia,master,I29bd684779795a070ea695fdf7ed89c92a442ef3,Add option to set default ssl ciphers in haproxy,NEW,2019-09-27 12:22:01.000000000,2021-07-08 08:16:10.000000000,,"[{'_account_id': 1131}, {'_account_id': 6469}, {'_account_id': 7249}, {'_account_id': 10273}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 28502}, {'_account_id': 29244}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-09-27 12:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ab896e8932b0c3551a0b25399fb90e08fccdc984', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nTODO: Fix unit tests.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 2, 'created': '2019-10-01 12:26:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/9e9386a301275a1c8449f4bd75848b917e3ec00e', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nTODO: Add unit tests.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 3, 'created': '2019-10-14 10:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6890e57b4b18ccc2bda6727bd4faeeb1eeac4043', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 4, 'created': '2019-10-17 07:38:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/211a4e1e7ab752a590778540df700c07d937c229', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 5, 'created': '2019-10-18 08:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/bdcbd990244605787b955004a25241271fed5d27', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 6, 'created': '2019-10-21 12:40:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e3b42dec39180457f78a63f49d4cf8c26653fe1a', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 7, 'created': '2019-10-23 12:21:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d1c39b6d09500881e47c289e7e870cbc5b02f735', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 8, 'created': '2019-11-05 09:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/412537f6db3c0c93465a80e78126c38ffe99c1e4', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 9, 'created': '2019-11-05 12:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/01fc1af13786ed34ce2e401f676ae55a4eaa43ed', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 10, 'created': '2019-11-11 10:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/1bd111c705b982765831e072cb051d5ba0b14e3b', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 11, 'created': '2019-11-17 15:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e086bc92d6351b8158105af08af62ac22771e0bd', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 12, 'created': '2019-11-18 13:48:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2118b7e44cfa92f16c16afbfcf1f8f917c36839b', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 13, 'created': '2019-11-19 16:29:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/632fe157aa1fc146ca9599e9b56f668fe8755201', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 14, 'created': '2019-12-12 03:37:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f1134a87ec79bda491edaac42b3036f67babe25', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 15, 'created': '2019-12-12 14:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/51126fe38b4abe6b77dd2f326e04b0315f666cac', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 16, 'created': '2019-12-19 08:11:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/134cd683b9474685ef88d556e91934e40d6a0de0', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 17, 'created': '2019-12-25 07:39:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f0487a354485dd6bddc0a29dd51f860b37aec49a', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 18, 'created': '2020-01-09 10:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a55a93316efbfe0cf581f7776695b6a4cae121d', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 19, 'created': '2020-01-24 07:50:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/17a882da67203849ed46636d0f41134b34285283', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 20, 'created': '2020-03-05 10:56:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/13d2765a2fd03092177cfc217f25ddad301a4e8f', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 21, 'created': '2020-03-18 15:58:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3f4d1e5027c43ec28939b54f333ea9aea7ced12e', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 22, 'created': '2020-04-08 11:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/7a2d3bcfd69056ecba018246c4b48b2093208090', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 23, 'created': '2020-04-08 12:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/0e886aaa9071e4ed65a4a297e82836fe4587353d', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 24, 'created': '2020-04-22 10:09:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/115ff3ac573942e217ba63f522ce0ab0f5b04624', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 25, 'created': '2020-05-12 07:43:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6eabde47a117be67fdcf0100557e39d211f9593a', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 26, 'created': '2020-05-18 07:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/d3380fcad4b66a9a8bb90d360a4d0f9e3224d600', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 27, 'created': '2020-05-19 09:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/5a0d37934073222b1757bd5c185af28905f4aa49', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 28, 'created': '2020-08-07 12:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/08b1f4a5d9c033b97c0cda8bab598dd31f138ee3', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 29, 'created': '2020-08-11 13:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/715fc5f8e3e21474071869038634cf19a0accc35', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 30, 'created': '2020-08-12 08:04:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/89bf691063661ddfcff56b90e9cf7853022196cd', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 31, 'created': '2020-08-24 09:14:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2a9162b6877182caeaf05203568252b5dbb72167', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 32, 'created': '2020-08-28 08:11:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/ca98ff0d2e7fdda9b30d3267dadd56f5648312d6', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 33, 'created': '2020-09-02 07:58:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/3b5f0a6677b3501392969cc183a1dfb92f47c780', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 34, 'created': '2020-09-23 13:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/c717b7968c0a9748bce89fb3de97ce88c60df6e9', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 35, 'created': '2021-01-12 08:03:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b71f97dcb4ffc55f4a61a8327cbc4977b8d21150', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 36, 'created': '2021-02-03 12:37:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a8b40a6ca849dc1e325300303ab75cdbc2e17da6', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 37, 'created': '2021-04-13 11:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/2c4ea09e58f1566f51a337547f92696bfb02d905', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 38, 'created': '2021-04-30 12:52:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/e105f49c3e1973ec1df84a408fc7a00dfe432279', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 39, 'created': '2021-04-30 13:44:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/fe1eb9937aa812135d4a73105855572acb297541', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 40, 'created': '2021-06-08 12:25:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/6243d4d2061f6bf586500ae75d366b45fddbdfb8', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}, {'number': 41, 'created': '2021-07-08 05:57:23.000000000', 'files': ['octavia/common/config.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'octavia/tests/unit/common/jinja/haproxy/split_listeners/test_jinja_cfg.py', 'octavia/tests/unit/common/sample_configs/sample_configs_split.py', 'octavia/amphorae/drivers/haproxy/rest_api_driver.py', 'octavia/tests/functional/amphorae/backend/agent/api_server/test_server.py', 'etc/octavia.conf', 'octavia/amphorae/backends/agent/api_server/haproxy_compatibility.py', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/amphorae/backends/agent/api_server/loadbalancer.py', 'releasenotes/notes/add-an-ability-to-set-default-ssl-ciphers-via-config-560279c127172e955.yaml', 'octavia/common/constants.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_0_5.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/split_listeners/templates/base.j2', 'octavia/tests/unit/amphorae/drivers/haproxy/test_rest_api_driver_1_0.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/628854fa8a9186dc2c9eecb0bbef336b5abe5d41', 'message': ""Add option to set default ssl ciphers in haproxy\n\nIntoduce ssl_default_bind_ciphers and ssl_default_server_ciphers\nconfig option that will allow to pass cipher list to amphora's\nhaproxy config.\n\nFor haproxy 1.8.20 and later ssl_default_bind_ciphersuites\nand ssl_default_server_ciphersuites enabled.\n\nChange-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3\nStory: 2006627\nTask: 36838\n""}]",53,685337,628854fa8a9186dc2c9eecb0bbef336b5abe5d41,136,10,41,7249,,,0,"Add option to set default ssl ciphers in haproxy

Intoduce ssl_default_bind_ciphers and ssl_default_server_ciphers
config option that will allow to pass cipher list to amphora's
haproxy config.

For haproxy 1.8.20 and later ssl_default_bind_ciphersuites
and ssl_default_server_ciphersuites enabled.

Change-Id: I29bd684779795a070ea695fdf7ed89c92a442ef3
Story: 2006627
Task: 36838
",git fetch https://review.opendev.org/openstack/octavia refs/changes/37/685337/41 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/config.py', 'octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'octavia/common/jinja/haproxy/split_listeners/jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/common/jinja/haproxy/split_listeners/templates/base.j2']",6,ab896e8932b0c3551a0b25399fb90e08fccdc984,685337, ssl-default-bind-ciphers {{ loadbalancer.ssl_default_bind_ciphers }} ssl-default-server-ciphers {{ loadbalancer.ssl_default_server_ciphers }},,30,2
openstack%2Fceilometer~master~Ibae52796df829f151c3088026a326deaf859bd44,openstack/ceilometer,master,Ibae52796df829f151c3088026a326deaf859bd44,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-06 12:18:08.000000000,2021-07-08 08:07:08.000000000,2021-07-08 08:05:15.000000000,"[{'_account_id': 4264}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 12:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/69a73d587e8935973e6c4b9031b1f6e76ec38cb9', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ibae52796df829f151c3088026a326deaf859bd44\n""}, {'number': 2, 'created': '2021-07-06 12:23:59.000000000', 'files': ['ceilometer/event/converter.py', 'ceilometer/agent.py', 'ceilometer/publisher/gnocchi.py'], 'web_link': 'https://opendev.org/openstack/ceilometer/commit/482e1e974f6773160cc5ab62dd5c6143d0c40568', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ibae52796df829f151c3088026a326deaf859bd44\n""}]",0,799654,482e1e974f6773160cc5ab62dd5c6143d0c40568,9,3,2,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ibae52796df829f151c3088026a326deaf859bd44
",git fetch https://review.opendev.org/openstack/ceilometer refs/changes/54/799654/2 && git format-patch -1 --stdout FETCH_HEAD,"['ceilometer/event/converter.py', 'ceilometer/agent.py', 'ceilometer/publisher/gnocchi.py']",3,69a73d587e8935973e6c4b9031b1f6e76ec38cb9,fnmatch,import fnmatch,from oslo_utils import fnmatch,4,3
openstack%2Ftripleo-heat-templates~stable%2Fwallaby~If38a9ebc91741ca7201d053195033413a13480b5,openstack/tripleo-heat-templates,stable/wallaby,If38a9ebc91741ca7201d053195033413a13480b5,Simplify nova service  templates,MERGED,2021-06-21 14:36:21.000000000,2021-07-08 08:03:04.000000000,2021-07-08 08:03:04.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-21 14:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a36aae0b460effe60d1f815ed7dc4245cc38bc56', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 2, 'created': '2021-06-21 23:14:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4d545968d358c63d4e82e7bb01f5f3d2a11e2da8', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 3, 'created': '2021-06-21 23:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4aeaa8b68d8ed3e7271ed1162e7f3d52d3a48da9', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 4, 'created': '2021-06-22 00:07:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67bda83a1d8bbb0c560c1b4589aaa737727da96f', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 5, 'created': '2021-06-22 04:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/068528986dbd4013922cd45c823e07293dd41ac5', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 6, 'created': '2021-06-22 22:07:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9f6d1a36847586af9286dc17d6e0b8bf0cefdbdd', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 7, 'created': '2021-06-26 16:58:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f6b0658c97c970e3fd9a413178c430cf028b057f', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n  deployment/nova/nova-compute-container-puppet.yaml\n  deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}, {'number': 8, 'created': '2021-06-28 06:18:04.000000000', 'files': ['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/476e444b8f23488eae2c0fd712bbbb30f34ec5af', 'message': 'Simplify nova service  templates\n\nSimplifies conditions and verbosity.\n\nConflicts:\n    deployment/nova/nova-api-container-puppet.yaml\n    deployment/nova/nova-compute-container-puppet.yaml\n    deployment/nova/nova-conductor-container-puppet.yaml\n    deployment/nova/nova-libvirt-container-puppet.yaml\n\nChange-Id: If38a9ebc91741ca7201d053195033413a13480b5\n(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)\n'}]",0,797295,476e444b8f23488eae2c0fd712bbbb30f34ec5af,29,10,8,27419,,,0,"Simplify nova service  templates

Simplifies conditions and verbosity.

Conflicts:
    deployment/nova/nova-api-container-puppet.yaml
    deployment/nova/nova-compute-container-puppet.yaml
    deployment/nova/nova-conductor-container-puppet.yaml
    deployment/nova/nova-libvirt-container-puppet.yaml

Change-Id: If38a9ebc91741ca7201d053195033413a13480b5
(cherry picked from commit 0a4904aff959874dbf82cd587936e2207fda72ba)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/797295/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-vnc-proxy-container-puppet.yaml', 'deployment/nova/nova-ironic-container-puppet.yaml', 'deployment/nova/nova-libvirt-container-puppet.yaml', 'deployment/nova/nova-metadata-container-puppet.yaml', 'deployment/nova/nova-api-container-puppet.yaml', 'deployment/nova/nova-compute-container-puppet.yaml', 'deployment/nova/nova-az-config.yaml', 'deployment/nova/nova-conductor-container-puppet.yaml', 'deployment/nova/nova-manager-container-puppet.yaml', 'deployment/nova/nova-apidb-client-puppet.yaml', 'deployment/nova/nova-compute-common-container-puppet.yaml', 'deployment/nova/nova-migration-target-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/nova/nova-db-client-puppet.yaml', 'deployment/nova/nova-scheduler-container-puppet.yaml']",15,a36aae0b460effe60d1f815ed7dc4245cc38bc56,simplify_nova_w," nova_scheduler_workers_set: not: {equals : [{get_param: NovaSchedulerWorkers}, 0]} nova::scheduler::workers: if: - nova_scheduler_workers_set - {get_param: NovaSchedulerWorkers} - - /var/lib/kolla/config_files/nova_scheduler.json:/var/lib/kolla/config_files/config.json:ro"," nova_scheduler_workers_zero: {equals : [{get_param: NovaSchedulerWorkers}, 0]} - if: - nova_scheduler_workers_zero - {} - nova::scheduler::workers: {get_param: NovaSchedulerWorkers} - - /var/lib/kolla/config_files/nova_scheduler.json:/var/lib/kolla/config_files/config.json:ro",455,327
openstack%2Fbifrost~master~Id66b3e676d82593a26ec9f774f7a113c3b0b5133,openstack/bifrost,master,Id66b3e676d82593a26ec9f774f7a113c3b0b5133,[DNM] downgrade ansible,ABANDONED,2021-07-07 15:54:31.000000000,2021-07-08 07:54:37.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-07-07 15:54:31.000000000', 'files': ['scripts/env-setup.sh'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/b4dc0b1eb300dfc2637796d8cec2dcde8d2cc5d1', 'message': '[DNM] downgrade ansible\n\nChange-Id: Id66b3e676d82593a26ec9f774f7a113c3b0b5133\n'}]",0,799858,b4dc0b1eb300dfc2637796d8cec2dcde8d2cc5d1,3,1,1,23851,,,0,"[DNM] downgrade ansible

Change-Id: Id66b3e676d82593a26ec9f774f7a113c3b0b5133
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/58/799858/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/env-setup.sh'],1,b4dc0b1eb300dfc2637796d8cec2dcde8d2cc5d1,downgrade-ansible,"DEFAULT_PIP_ANSIBLE='>=2.8,<2.9'","DEFAULT_PIP_ANSIBLE='>=2.9,<2.11'",1,1
openstack%2Farch-design~master~Ie2eb573f353c1a6f4a38b674b4fd896b833045fd,openstack/arch-design,master,Ie2eb573f353c1a6f4a38b674b4fd896b833045fd,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:31:16.000000000,2021-07-08 07:47:33.000000000,2021-07-08 07:46:22.000000000,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 00:31:16.000000000', 'files': ['doc/source/common/app-support.rst'], 'web_link': 'https://opendev.org/openstack/arch-design/commit/06023282154fcf26201213d77fefed369fcd5cae', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ie2eb573f353c1a6f4a38b674b4fd896b833045fd\n'}]",0,799929,06023282154fcf26201213d77fefed369fcd5cae,7,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ie2eb573f353c1a6f4a38b674b4fd896b833045fd
",git fetch https://review.opendev.org/openstack/arch-design refs/changes/29/799929/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/common/app-support.rst'],1,06023282154fcf26201213d77fefed369fcd5cae,oftc,"on the OFTC IRC network, or `report a bug in LaunchpadOFTC network. You can hang out, ask questions, or get immediate`https://webchat.oftc.net/ <https://webchat.oftc.net>`_. You can``irc.oftc.net``. You can find a list of all OpenStack IRC channels on","on the Freenode IRC network, or `report a bug in LaunchpadFreenode network. You can hang out, ask questions, or get immediate`https://webchat.freenode.net/ <https://webchat.freenode.net>`_. You can``irc.freenode.net``. You can find a list of all OpenStack IRC channels on",4,4
openstack%2Fcharm-glance~master~Id2e9d4351513341b5ee41fa8a8d677aca6580fca,openstack/charm-glance,master,Id2e9d4351513341b5ee41fa8a8d677aca6580fca,Put a clear instruction not to expose S3 creds,MERGED,2021-07-07 02:32:54.000000000,2021-07-08 07:29:48.000000000,2021-07-08 07:29:48.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 02:32:54.000000000', 'files': ['config.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/b01a246a4d5beb16341d53c8da4daa28e4cbde44', 'message': 'Put a clear instruction not to expose S3 creds\n\nChange-Id: Id2e9d4351513341b5ee41fa8a8d677aca6580fca\n'}]",0,799730,b01a246a4d5beb16341d53c8da4daa28e4cbde44,7,3,1,8108,,,0,"Put a clear instruction not to expose S3 creds

Change-Id: Id2e9d4351513341b5ee41fa8a8d677aca6580fca
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/30/799730/1 && git format-patch -1 --stdout FETCH_HEAD,"['config.yaml', 'README.md']",2,b01a246a4d5beb16341d53c8da4daa28e4cbde44,s3-expose-image-locations,"S3 server information can be passed via charm config options, and you must set `expose-image-locations` as false not to expose S3 credentials through Glance API. expose-image-locations=false \",S3 server information can be passed via charm config options.,6,2
openstack%2Fneutron~stable%2Fussuri~Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,openstack/neutron,stable/ussuri,Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0,[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl,MERGED,2021-07-04 01:13:43.000000000,2021-07-08 07:26:06.000000000,2021-07-08 07:24:12.000000000,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-04 01:13:43.000000000', 'files': ['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f06e76d532ded21eb152be6fae805b5688feddfd', 'message': '[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl\n\nAdd retry logic to retrieve OvsdbSb IDL object.\nAdd port fork event in MetadataProxyHandler to wait for the\nOvsdbSb IDL object.\n\nCloses-Bug: #1928031\nChange-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0\n(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)\n'}]",0,799406,f06e76d532ded21eb152be6fae805b5688feddfd,36,3,1,10366,,,0,"[OVN] neutron-ovn-metadat-agent add retry logic for sb_idl

Add retry logic to retrieve OvsdbSb IDL object.
Add port fork event in MetadataProxyHandler to wait for the
OvsdbSb IDL object.

Closes-Bug: #1928031
Change-Id: Idce1ec4e160c5a7f8532b57f577b9518a06b0dd0
(cherry picked from commit 95d80a2757e23b6e8cdb44576f3913eedb400810)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/799406/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/server.py', 'neutron/tests/unit/agent/ovn/metadata/test_server.py']",3,f06e76d532ded21eb152be6fae805b5688feddfd,bug/1928031, self.handler._post_fork_event.set(),,28,0
openstack%2Fpython-openstackclient~master~I11e00f18fa8dca02bc0f136c0c5e9a2f040eef8f,openstack/python-openstackclient,master,I11e00f18fa8dca02bc0f136c0c5e9a2f040eef8f,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:43:10.000000000,2021-07-08 07:25:59.000000000,2021-07-08 07:24:18.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 00:43:10.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/4891bb38208fdcd1a2ae60e47b056841e14fbdf7', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I11e00f18fa8dca02bc0f136c0c5e9a2f040eef8f\n'}]",0,799937,4891bb38208fdcd1a2ae60e47b056841e14fbdf7,7,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I11e00f18fa8dca02bc0f136c0c5e9a2f040eef8f
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/37/799937/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,4891bb38208fdcd1a2ae60e47b056841e14fbdf7,oftc,* IRC: #openstack-sdks on OFTC (irc.oftc.net),* IRC: #openstack-sdks on Freenode (irc.freenode.net),1,1
openstack%2Fnetworking-hyperv~stable%2Fvictoria~I4c328c98852a9fc888afc4b72b390c2814f2439f,openstack/networking-hyperv,stable/victoria,I4c328c98852a9fc888afc4b72b390c2814f2439f,doc: update IRC information,MERGED,2021-07-08 07:07:47.000000000,2021-07-08 07:23:37.000000000,2021-07-08 07:23:37.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:07:47.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/7ac2571424c9226bd8ac6222020f3625831c6d0f', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f\n(cherry picked from commit 2329562d274b953851603f09f59b140b21a898b4)\n""}]",0,799893,7ac2571424c9226bd8ac6222020f3625831c6d0f,6,2,1,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f
(cherry picked from commit 2329562d274b953851603f09f59b140b21a898b4)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/93/799893/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,7ac2571424c9226bd8ac6222020f3625831c6d0f,oftc-stable/victoria,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Fnetworking-hyperv~stable%2Fwallaby~I4c328c98852a9fc888afc4b72b390c2814f2439f,openstack/networking-hyperv,stable/wallaby,I4c328c98852a9fc888afc4b72b390c2814f2439f,doc: update IRC information,MERGED,2021-07-08 07:07:28.000000000,2021-07-08 07:20:34.000000000,2021-07-08 07:20:34.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 07:07:28.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/b2fa79049ba6fcce286e9cfe770b62fbd247ab00', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f\n(cherry picked from commit 2329562d274b953851603f09f59b140b21a898b4)\n""}]",0,799892,b2fa79049ba6fcce286e9cfe770b62fbd247ab00,6,2,1,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f
(cherry picked from commit 2329562d274b953851603f09f59b140b21a898b4)
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/92/799892/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,b2fa79049ba6fcce286e9cfe770b62fbd247ab00,oftc-stable/wallaby,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Fcyborg~master~I216bc39b1208e4db3649533008b77cf44a8fd070,openstack/cyborg,master,I216bc39b1208e4db3649533008b77cf44a8fd070,Add test case for create device profile,MERGED,2021-06-30 07:38:22.000000000,2021-07-08 07:18:01.000000000,2021-07-08 07:16:48.000000000,"[{'_account_id': 22348}, {'_account_id': 23950}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-06-30 07:38:22.000000000', 'files': ['cyborg/tests/unit/db/test_db_device_profile.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/ad7f39fe869b0f1ef78d13bd805f4848d4544543', 'message': 'Add test case for create device profile\n\nChange-Id: I216bc39b1208e4db3649533008b77cf44a8fd070\n'}]",0,798797,ad7f39fe869b0f1ef78d13bd805f4848d4544543,9,5,1,31412,,,0,"Add test case for create device profile

Change-Id: I216bc39b1208e4db3649533008b77cf44a8fd070
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/97/798797/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg/tests/unit/db/test_db_device_profile.py'],1,ad7f39fe869b0f1ef78d13bd805f4848d4544543,,"import json def test_create_dp(self): created_dp = utils.create_test_device_profile(self.context) expected_dp = utils.get_test_device_profile() self.assertEqual(json.loads(created_dp.profile_json)['groups'], json.loads(expected_dp['profile_json'])['groups']) def test_create_dp_with_duplicate_name(self): utils.create_test_device_profile(self.context) duplicate_dp = utils.get_test_device_profile() duplicate_dp['id'] = 2 duplicate_dp['uuid'] = uuidutils.generate_uuid() self.assertRaises(exception.DuplicateDeviceProfileName, self.dbapi.device_profile_create, self.context, duplicate_dp) def test_create_dp_with_duplicate_uuid(self): utils.create_test_device_profile(self.context) duplicate_dp = utils.get_test_device_profile() self.assertRaises(exception.DeviceProfileAlreadyExists, self.dbapi.device_profile_create, self.context, duplicate_dp) ",,23,0
openstack%2Foctavia-tempest-plugin~master~Ie24909b49baf2c6a886e2ff711e641e36ffe6b50,openstack/octavia-tempest-plugin,master,Ie24909b49baf2c6a886e2ff711e641e36ffe6b50,Update service client access in tempest tests,MERGED,2021-06-23 16:18:09.000000000,2021-07-08 07:15:02.000000000,2021-07-08 07:13:30.000000000,"[{'_account_id': 1131}, {'_account_id': 8556}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-23 16:18:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/4700f8399fe627ed5e39a11c748fb0d57f59a532', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 2, 'created': '2021-06-23 20:17:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/62a24c7158c397652ede592c9bdf00ff749fbe0c', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 3, 'created': '2021-06-23 22:18:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/bb8c7df98320e9e1588c7fc002de7cfef0f55002', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 4, 'created': '2021-06-23 22:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/5efad6d8f7740960aa7378bd19f19d845044ac38', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 5, 'created': '2021-06-25 22:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8a3c6f8d69a31cd725c991b99549dd70c145efbb', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 6, 'created': '2021-06-27 00:55:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/b98846df34f3589884467b51af16874fbf5e702a', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 7, 'created': '2021-06-27 02:46:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/9fa1ae11c5c44adc891ac1bc7e3a0e8f03e5c7f3', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 8, 'created': '2021-06-27 05:06:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/34a02619f9895a5ed97f9ee4ac8a8f41516085c7', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nDetails:\n\nAll the load balancer service clients are registered via the plugin interface[1],\nthat way Tempest register and create the lazy initialization of registered clients\nso that they can be access from there in consistent way.\n\nBut octavia-tempest-client create a separate instance of those and access instead of\naccessing the registered service client in Tempest. This commit makes all the service clients\naccess from Tempest registry and remove the separate objects.\n\n[1] https://github.com/openstack/octavia-tempest-plugin/blob/cac3eefc44afca458692e9dadb539c0cb17dc9e4/octavia_tempest_plugin/plugin.py#L54\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 9, 'created': '2021-06-30 03:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/66e942b05419e41d2020d697c6653f3e61d573b3', 'message': 'Remove unused dead code\n\ngmann pointed out that we probably do not need this client_manager\nin our LoadBalancerBaseTest class.\nThis patch removes the unnecessary (and confusing) code.\n\nDetails:\n\nAll the load balancer service clients are registered via the plugin interface[1],\nthat way Tempest register and create the lazy initialization of registered clients\nso that they can be access from there in consistent way.\n\nBut octavia-tempest-client create a separate instance of those and access instead of\naccessing the registered service client in Tempest. This commit makes all the service clients\naccess from Tempest registry and remove the separate objects.\n\n[1] https://github.com/openstack/octavia-tempest-plugin/blob/cac3eefc44afca458692e9dadb539c0cb17dc9e4/octavia_tempest_plugin/plugin.py#L54\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}, {'number': 10, 'created': '2021-06-30 23:15:41.000000000', 'files': ['octavia_tempest_plugin/tests/api/v2/test_load_balancer.py', 'octavia_tempest_plugin/tests/test_base.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor.py', 'octavia_tempest_plugin/tests/api/v2/test_member.py', 'octavia_tempest_plugin/tests/act_stdby_scenario/v2/test_active_standby.py', 'octavia_tempest_plugin/tests/api/v2/test_amphora.py', 'octavia_tempest_plugin/tests/api/v2/test_pool.py', 'octavia_tempest_plugin/tests/spare_pool_scenario/v2/test_spare_pool.py', 'octavia_tempest_plugin/services/load_balancer/v2/__init__.py', 'octavia_tempest_plugin/tests/api/v2/test_l7rule.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor_profile.py', 'octavia_tempest_plugin/clients.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_capabilities.py', 'octavia_tempest_plugin/plugin.py', 'octavia_tempest_plugin/tests/api/v2/test_flavor_capabilities.py', 'octavia_tempest_plugin/tests/api/v2/test_l7policy.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone.py', 'octavia_tempest_plugin/tests/api/v2/test_provider.py', 'octavia_tempest_plugin/tests/api/v2/test_availability_zone_profile.py', 'octavia_tempest_plugin/tests/api/v2/test_healthmonitor.py', 'octavia_tempest_plugin/tests/RBAC_tests.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/29d8e61ca27859b70a4350e87022442a78f8fa8c', 'message': 'Update service client access in tempest tests\n\nAll the load balancer service clients are registered via the plugin interface[1],\nthat way Tempest register and create the lazy initialization of registered clients\nso that they can be access from there in consistent way.\n\nBut octavia-tempest-client create a separate instance of those and access instead of\naccessing the registered service client in Tempest. This commit makes all the service clients\naccess from Tempest registry and remove the separate objects.\n\n[1] https://github.com/openstack/octavia-tempest-plugin/blob/cac3eefc44afca458692e9dadb539c0cb17dc9e4/octavia_tempest_plugin/plugin.py#L54\n\nChange-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50\n'}]",17,797715,29d8e61ca27859b70a4350e87022442a78f8fa8c,42,5,10,11628,,,0,"Update service client access in tempest tests

All the load balancer service clients are registered via the plugin interface[1],
that way Tempest register and create the lazy initialization of registered clients
so that they can be access from there in consistent way.

But octavia-tempest-client create a separate instance of those and access instead of
accessing the registered service client in Tempest. This commit makes all the service clients
access from Tempest registry and remove the separate objects.

[1] https://github.com/openstack/octavia-tempest-plugin/blob/cac3eefc44afca458692e9dadb539c0cb17dc9e4/octavia_tempest_plugin/plugin.py#L54

Change-Id: Ie24909b49baf2c6a886e2ff711e641e36ffe6b50
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/15/797715/1 && git format-patch -1 --stdout FETCH_HEAD,['octavia_tempest_plugin/tests/test_base.py'],1,4700f8399fe627ed5e39a11c748fb0d57f59a532,,, client_manager = clients.ManagerV2,0,1
openstack%2Fwatcher-dashboard~master~I674eea6d66a78f524fdd2b505b4788450130a0e4,openstack/watcher-dashboard,master,I674eea6d66a78f524fdd2b505b4788450130a0e4,Enable tox cover jobs on zuul,MERGED,2021-07-07 08:15:42.000000000,2021-07-08 07:13:48.000000000,2021-07-08 07:12:01.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-07 08:15:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/faf989861bc4f3be5125f7dd4e5af8b832044af6', 'message': 'DNM: Verify tox cover jobs on zuul\n\nChange-Id: I674eea6d66a78f524fdd2b505b4788450130a0e4\n'}, {'number': 2, 'created': '2021-07-07 16:58:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/a9fc6a8ab3b22ccca20e467e3486610a15c68176', 'message': 'Enable tox cover jobs on zuul\n\nChange-Id: I674eea6d66a78f524fdd2b505b4788450130a0e4\n'}]",0,799752,a9fc6a8ab3b22ccca20e467e3486610a15c68176,9,2,2,29911,,,0,"Enable tox cover jobs on zuul

Change-Id: I674eea6d66a78f524fdd2b505b4788450130a0e4
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/52/799752/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,faf989861bc4f3be5125f7dd4e5af8b832044af6,, - openstack-cover-jobs,,1,0
openstack%2Fcyborg-tempest-plugin~master~I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab,openstack/cyborg-tempest-plugin,master,I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab,Fix broken testcase 'test_create_device_profile_server_fault',MERGED,2021-06-17 08:37:09.000000000,2021-07-08 07:06:37.000000000,2021-07-08 07:06:37.000000000,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}, {'_account_id': 31412}]","[{'number': 1, 'created': '2021-06-17 08:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a059c2e429b8b9983772ab738a84c7794121dc42', 'message': ""Fix broken testcase 'test_create_device_profile_server_fault'\n\nThis patch renames 'test_create_device_profile_server_fault' to\n'test_create_device_profile_with_same_name'. Also captures\n'Conflict' exception.\n\nStory: #2008984\nTask: #42634\nChange-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab\n""}, {'number': 2, 'created': '2021-06-17 09:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/62a46c9af556065187977900f03e6e2f091937cd', 'message': ""Fix broken testcase 'test_create_device_profile_server_fault'\n\nThis patch renames 'test_create_device_profile_server_fault' to\n'test_create_device_profile_with_same_name'. Also captures\n'Conflict' exception.\n\nStory: #2008984\nTask: #42634\nChange-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab\n""}, {'number': 3, 'created': '2021-06-17 11:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/260e1868c92a891c56001c81630c6020edc31a8e', 'message': ""Fix broken testcase 'test_create_device_profile_server_fault'\n\nThis patch renames 'test_create_device_profile_server_fault' to\n'test_create_device_profile_with_same_name'. Also captures\n'Conflict' exception.\n\nStory: #2008984\nTask: #42634\nChange-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab\n""}, {'number': 4, 'created': '2021-06-24 01:37:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/9ea667c4b1a7dbe2fd9145b20d73ff0be6fd5093', 'message': ""Fix broken testcase 'test_create_device_profile_server_fault'\n\nThis patch renames 'test_create_device_profile_server_fault' to\n'test_create_device_profile_with_same_name'. Also captures\n'Conflict' exception.\n\nDepends-on: https://review.opendev.org/c/openstack/cyborg/+/796676\nCloses-Bug: #1933397\nStory: #2008984\nTask: #42634\nChange-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab\n""}, {'number': 5, 'created': '2021-07-01 08:34:11.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py', 'cyborg_tempest_plugin/tests/api/test_deployables.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/eefbb49edaf12d0c0b315a13fc882bed5609f251', 'message': ""Fix broken testcase 'test_create_device_profile_server_fault'\n\nThis patch adds 'test_create_device_profile_conflict' that\n captures 'Conflict' exception.\n\nCloses-Bug: #1933397\nChange-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab\n""}]",12,796798,eefbb49edaf12d0c0b315a13fc882bed5609f251,33,5,5,23950,,,0,"Fix broken testcase 'test_create_device_profile_server_fault'

This patch adds 'test_create_device_profile_conflict' that
 captures 'Conflict' exception.

Closes-Bug: #1933397
Change-Id: I6b2a20e596f8b1bf5d0ee0b6a849bae232d33eab
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/98/796798/3 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'],1,a059c2e429b8b9983772ab738a84c7794121dc42,," def test_create_device_profile_with_same_name(self): self.assertRaises(lib_exc.Conflict,"," def test_create_device_profile_server_fault(self): self.assertRaises(lib_exc.ServerFault,",2,2
openstack%2Ftripleo-heat-templates~stable%2Fstein~I888d5c73a584613713ecc5767aa90c3ea47579fb,openstack/tripleo-heat-templates,stable/stein,I888d5c73a584613713ecc5767aa90c3ea47579fb,[Stein and before] Fix the incorrect formatting about MaxPoll/MinPoll,ABANDONED,2020-11-10 09:40:27.000000000,2021-07-08 07:00:54.000000000,,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 32231}]","[{'number': 1, 'created': '2020-11-10 09:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/188c0545ffedd3ea9d1ade82a33ad3dd3570f8ef', 'message': '[Stein and before] Fix the incorret formatting about MaxPoll/MinPoll\n\nThis patch fixes the wrong formatting about MaxPoll and MinPoll, which\nare used in ntpd service. Because the support for ntpd service was\nremoved during Train cycle in favor of chronyd, this change is applied\nto stable/stein and older releases.\n\nChange-Id: I888d5c73a584613713ecc5767aa90c3ea47579fb\nCloses-Bug: #1903671\n'}, {'number': 2, 'created': '2020-11-11 23:05:07.000000000', 'files': ['deployment/time/ntp-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2e3ed1c9a2db9e4ccca7ac700e71b8e830ea0014', 'message': '[Stein and before] Fix the incorrect formatting about MaxPoll/MinPoll\n\nThis patch fixes the wrong formatting about MaxPoll and MinPoll, which\nare used in ntpd service. Because the support for ntpd service was\nremoved during Train cycle in favor of chronyd, this change is applied\nto stable/stein and older releases.\n\nChange-Id: I888d5c73a584613713ecc5767aa90c3ea47579fb\nCloses-Bug: #1903671\n'}]",1,762101,2e3ed1c9a2db9e4ccca7ac700e71b8e830ea0014,24,6,2,9816,,,0,"[Stein and before] Fix the incorrect formatting about MaxPoll/MinPoll

This patch fixes the wrong formatting about MaxPoll and MinPoll, which
are used in ntpd service. Because the support for ntpd service was
removed during Train cycle in favor of chronyd, this change is applied
to stable/stein and older releases.

Change-Id: I888d5c73a584613713ecc5767aa90c3ea47579fb
Closes-Bug: #1903671
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/762101/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/time/ntp-baremetal-puppet.yaml'],1,188c0545ffedd3ea9d1ade82a33ad3dd3570f8ef,bug/1903671, ntp::maxpoll: {get_param: MaxPoll} ntp::minpoll: {get_param: MinPoll}, ntp::maxpoll:: {get_param: MaxPoll} ntp::minpoll:: {get_param: MinPoll},2,2
openstack%2Fnetworking-hyperv~master~I4c328c98852a9fc888afc4b72b390c2814f2439f,openstack/networking-hyperv,master,I4c328c98852a9fc888afc4b72b390c2814f2439f,doc: update IRC information,MERGED,2021-07-08 06:26:32.000000000,2021-07-08 06:43:44.000000000,2021-07-08 06:43:44.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 06:26:32.000000000', 'files': ['doc/source/contributing.rst'], 'web_link': 'https://opendev.org/openstack/networking-hyperv/commit/2329562d274b953851603f09f59b140b21a898b4', 'message': ""doc: update IRC information\n\nWe're pointing users to the #openstack-hyper-v and #openstack-dev\nIRC channels but we aren't specifying which server to use. Let's\ninclude this information as well.\n\nChange-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f\n""}]",0,799962,2329562d274b953851603f09f59b140b21a898b4,6,2,1,8543,,,0,"doc: update IRC information

We're pointing users to the #openstack-hyper-v and #openstack-dev
IRC channels but we aren't specifying which server to use. Let's
include this information as well.

Change-Id: I4c328c98852a9fc888afc4b72b390c2814f2439f
",git fetch https://review.opendev.org/openstack/networking-hyperv refs/changes/62/799962/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributing.rst'],1,2329562d274b953851603f09f59b140b21a898b4,oftc,"not archived at the moment, so we recommend using #openstack-dev on OFTC.","not archived at the moment, so we recommend using #openstack-dev.",1,1
openstack%2Fcyborg-tempest-plugin~master~I3956461398da57b8b8622cbb5a584b777c80518e,openstack/cyborg-tempest-plugin,master,I3956461398da57b8b8622cbb5a584b777c80518e,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 22:41:41.000000000,2021-07-08 06:38:18.000000000,2021-07-08 06:38:18.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-05-13 22:41:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d1ec3e8e895ff715399ee3e8b8f22fd19a81d361', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: I3956461398da57b8b8622cbb5a584b777c80518e\n'}, {'number': 2, 'created': '2021-05-13 22:44:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a5aca65a21e35a052b28539caeaf65d51bb8fefb', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: I3956461398da57b8b8622cbb5a584b777c80518e\n'}, {'number': 3, 'created': '2021-05-26 14:07:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a7233b2829f386a493fa5fbe772adb0ada5a824e', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: I3956461398da57b8b8622cbb5a584b777c80518e\n'}, {'number': 4, 'created': '2021-05-31 20:37:56.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/976b258f4ba171888247ae5625308381b9c7b738', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: I3956461398da57b8b8622cbb5a584b777c80518e\n'}]",5,791327,976b258f4ba171888247ae5625308381b9c7b738,14,4,4,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38519
Change-Id: I3956461398da57b8b8622cbb5a584b777c80518e
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/27/791327/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst']",2,d1ec3e8e895ff715399ee3e8b8f22fd19a81d361,project-ptl-and-contrib-docs,"The source repository for this project can be found at: https://opendev.org/openstack/cyborg-tempest-plugin Pull requests submitted through GitHub are not monitored. To start contributing to OpenStack, follow the steps in the contribution guide to set up and use Gerrit: https://docs.openstack.org/contributors/code-and-documentation/quick-start.html Bugs should be filed on Storyboard: https://storyboard.openstack.org/#!/project/1128 For more specific information about contributing to this repository, see the cyborg-tempest-plugin contributor guide: https://opendev.org/openstack/cyborg-tempest-plugin/src/branch/master/doc/source/contributor/contributing.rst ","If you would like to contribute to the development of OpenStack, you must follow the steps in this page: http://docs.openstack.org/infra/manual/developers.html If you already have a good understanding of how the system works and your OpenStack accounts are set up, you can skip to the development workflow section of this documentation to learn how changes to OpenStack should be submitted for review via the Gerrit tool: http://docs.openstack.org/infra/manual/developers.html#development-workflow Pull requests submitted through GitHub will be ignored. Bugs should be filed on Storyboardhttps://storyboard.openstack.org/#!/project/968",61,10
openstack%2Fpython-cyborgclient~master~Ia738b3f37d1b0a477838c37a91afca14108f85e3,openstack/python-cyborgclient,master,Ia738b3f37d1b0a477838c37a91afca14108f85e3,[ussuri][goal] Update contributor documentation,MERGED,2021-05-13 22:41:19.000000000,2021-07-08 06:36:57.000000000,2021-07-08 06:34:56.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}]","[{'number': 1, 'created': '2021-05-13 22:41:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/feb4b0142080dbbcae7137575ff56e073ce462d3', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: Ia738b3f37d1b0a477838c37a91afca14108f85e3\n'}, {'number': 2, 'created': '2021-05-26 14:06:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/0518766a27fb75833733bd843c6a37da8134a893', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: Ia738b3f37d1b0a477838c37a91afca14108f85e3\n'}, {'number': 3, 'created': '2021-05-31 20:29:50.000000000', 'files': ['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/python-cyborgclient/commit/72272fe978a8af6e098e1bad58cee5748812d616', 'message': '[ussuri][goal] Update contributor documentation\n\nThis patch updates/adds the contributor documentation to follow\nthe guidelines of the Ussuri cycle community goal[1].\n\n[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html\n\nStory: #2007236\nTask: #38519\nChange-Id: Ia738b3f37d1b0a477838c37a91afca14108f85e3\n'}]",10,791325,72272fe978a8af6e098e1bad58cee5748812d616,15,4,3,8556,,,0,"[ussuri][goal] Update contributor documentation

This patch updates/adds the contributor documentation to follow
the guidelines of the Ussuri cycle community goal[1].

[1] https://governance.openstack.org/tc/goals/selected/ussuri/project-ptl-and-contrib-docs.html

Story: #2007236
Task: #38519
Change-Id: Ia738b3f37d1b0a477838c37a91afca14108f85e3
",git fetch https://review.opendev.org/openstack/python-cyborgclient refs/changes/25/791325/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/contributing.rst', 'CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst']",4,feb4b0142080dbbcae7137575ff56e073ce462d3,project-ptl-and-contrib-docs,,=========================== Contributor Documentation =========================== .. toctree:: :maxdepth: 2 contributing ,70,25
openstack%2Fpuppet-tripleo~stable%2Fqueens~If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,openstack/puppet-tripleo,stable/queens,If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,Always update the local certmonger ca cert,ABANDONED,2021-04-06 15:34:54.000000000,2021-07-08 06:36:30.000000000,,"[{'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-06 15:34:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/edf5313f996da8aee46ebaaf75232fdc1ce9cec5', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}, {'number': 2, 'created': '2021-04-29 14:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c92041df4be73e25436f16d8402832ab888f1b13', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}, {'number': 3, 'created': '2021-04-30 15:32:19.000000000', 'files': ['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b73f2038e71f974a3ed9a755ddeec7d23ea842df', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}]",0,784980,b73f2038e71f974a3ed9a755ddeec7d23ea842df,34,5,3,9914,,,0,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

Change-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/80/784980/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb']",2,edf5313f996da8aee46ebaaf75232fdc1ce9cec5,fix_renewed_ca_cert-stable/victoria-stable/ussuri-stable/train-stable/stein-stable/rocky-stable/queens, is_expected.to contain_exec('extract-and-trust-ca')," is_expected.to contain_exec('extract-and-trust-ca').with( :unless => ""test -e #{params[:ca_pem]} && openssl x509 -checkend 0 -noout -in #{params[:ca_pem]}"", )",1,4
openstack%2Fpuppet-tripleo~stable%2Fstein~If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,openstack/puppet-tripleo,stable/stein,If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf,Always update the local certmonger ca cert,ABANDONED,2021-04-06 15:34:00.000000000,2021-07-08 06:36:22.000000000,,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-06 15:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dbb3df0ad08476f80b8ed5f4801672a0eef14d2b', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}, {'number': 2, 'created': '2021-04-29 14:30:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bd18a49305282a1959e0dcc9e37c794dac5bb830', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}, {'number': 3, 'created': '2021-04-30 15:31:32.000000000', 'files': ['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e93a5f1f70b9351ffa712336912a2bdde13f93f4', 'message': 'Always update the local certmonger ca cert\n\nThe local certmonger cert will renew after half its lifetime, which will\nbe after 6 months by default.  The current code would extract the CA cert\nto a PEM file (and trust it), only if the cert in the existing PEM file\nwas expired.\n\nBut this means that the certmonger local cert could be renewed after six\nmonths and not be replaced in the PEM file until the existing cert\nexpired at the end of the year.  If certs are issued in this time, they\nwill not be trusted and the update will fail.\n\nThis patch removes this condition, so that the extracted and trusted cert\nalways matches what is in the PEM file, and what is trusted.\n\nNote, this only place this occurs is on the undercloud - because this is\nwhere we could use the certmonger local cert.  We assume that the haproxy\ncert will be re-issued in an update.\n\nChange-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf\n'}]",0,784978,e93a5f1f70b9351ffa712336912a2bdde13f93f4,30,6,3,9914,,,0,"Always update the local certmonger ca cert

The local certmonger cert will renew after half its lifetime, which will
be after 6 months by default.  The current code would extract the CA cert
to a PEM file (and trust it), only if the cert in the existing PEM file
was expired.

But this means that the certmonger local cert could be renewed after six
months and not be replaced in the PEM file until the existing cert
expired at the end of the year.  If certs are issued in this time, they
will not be trusted and the update will fail.

This patch removes this condition, so that the extracted and trusted cert
always matches what is in the PEM file, and what is trusted.

Note, this only place this occurs is on the undercloud - because this is
where we could use the certmonger local cert.  We assume that the haproxy
cert will be re-issued in an update.

Change-Id: If804dc369c5883eeb51f7e6dcd01ee0e5967c7cf
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/78/784978/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/certmonger/ca/local.pp', 'spec/classes/tripleo_certmonger_ca_local_spec.rb']",2,dbb3df0ad08476f80b8ed5f4801672a0eef14d2b,fix_renewed_ca_cert-stable/victoria-stable/ussuri-stable/train-stable/stein, is_expected.to contain_exec('extract-and-trust-ca')," is_expected.to contain_exec('extract-and-trust-ca').with( :unless => ""test -e #{params[:ca_pem]} && openssl x509 -checkend 0 -noout -in #{params[:ca_pem]}"", )",1,4
openstack%2Fpuppet-tripleo~stable%2Fstein~Icaf6e62a39d3d1cd9022d5e8d6c5c34cff641446,openstack/puppet-tripleo,stable/stein,Icaf6e62a39d3d1cd9022d5e8d6c5c34cff641446,Remove deprecated standalone template,ABANDONED,2021-07-08 06:13:06.000000000,2021-07-08 06:32:34.000000000,,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-08 06:13:06.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e3495201ee9e97a929d9c1c0b6f7df31d9068384', 'message': 'Remove deprecated standalone template\n\nhttps://review.opendev.org/c/openstack/tripleo-ci/+/778662 deprecates\nthe tripleo-standalone-scenarios-full job template long time ago.\n\nCurrently stein is going to be EOL, we are keeping the backported\npatches where this template is getting triggered leading\nto zuul job freeze.\n\nRemoving the deprecated template fixes the issue.\n\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: Icaf6e62a39d3d1cd9022d5e8d6c5c34cff641446\n'}]",0,799959,e3495201ee9e97a929d9c1c0b6f7df31d9068384,5,4,1,12393,,,0,"Remove deprecated standalone template

https://review.opendev.org/c/openstack/tripleo-ci/+/778662 deprecates
the tripleo-standalone-scenarios-full job template long time ago.

Currently stein is going to be EOL, we are keeping the backported
patches where this template is getting triggered leading
to zuul job freeze.

Removing the deprecated template fixes the issue.

Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: Icaf6e62a39d3d1cd9022d5e8d6c5c34cff641446
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/59/799959/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,e3495201ee9e97a929d9c1c0b6f7df31d9068384,,, - tripleo-standalone-scenarios-full,0,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,stable/stein,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",ABANDONED,2021-07-08 02:26:21.000000000,2021-07-08 06:31:49.000000000,,"[{'_account_id': 8449}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-08 02:26:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7911285fe22349c8e6b9d9b1532e29e24d251e8f', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nBackport note to stable/train:\nThis revert was recreated cleanly from scratch in stable/train because\nthe commit caused conflicts is not included in stable/train. The commit\nids of previous backports are described to let us easily confirm\nthe issue is resolved in later branches.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)\n(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)\n(cherry picked from commit 7b5bd29c0a64b780d67986181cab686a543543d5)\n'}, {'number': 2, 'created': '2021-07-08 06:20:48.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/138e755819c12d69b5d01646052d97ca68370c70', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nBackport note to stable/train:\nThis revert was recreated cleanly from scratch in stable/train because\nthe commit caused conflicts is not included in stable/train. The commit\nids of previous backports are described to let us easily confirm\nthe issue is resolved in later branches.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)\n(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)\n(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)\n(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)\n(cherry picked from commit 7b5bd29c0a64b780d67986181cab686a543543d5)\n'}]",0,799887,138e755819c12d69b5d01646052d97ca68370c70,8,2,2,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Backport note to stable/train:
This revert was recreated cleanly from scratch in stable/train because
the commit caused conflicts is not included in stable/train. The commit
ids of previous backports are described to let us easily confirm
the issue is resolved in later branches.

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
(cherry picked from commit bf8895796fe5427092ba76104c64b659dfff25d8)
(cherry picked from commit 567ea3f035bd14f47b616a9f3369ede640ada03e)
(cherry picked from commit 8b631042f775a643546d1d3222776f4f2812149a)
(cherry picked from commit e1b2d78b0120f418deb57f9abd4f57bdb83b3948)
(cherry picked from commit 7b5bd29c0a64b780d67986181cab686a543543d5)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/87/799887/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,7911285fe22349c8e6b9d9b1532e29e24d251e8f,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",0,4
openstack%2Fopenstackclient~master~I0e4f7096be9a3a4393900d612fe9206af413567e,openstack/openstackclient,master,I0e4f7096be9a3a4393900d612fe9206af413567e,Moving IRC network reference to OFTC,MERGED,2021-07-08 00:42:11.000000000,2021-07-08 06:31:16.000000000,2021-07-08 06:31:16.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-08 00:42:11.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstackclient/commit/547d012f5a2bf85b860810ae68a377736cbc485d', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I0e4f7096be9a3a4393900d612fe9206af413567e\n'}]",0,799936,547d012f5a2bf85b860810ae68a377736cbc485d,6,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: I0e4f7096be9a3a4393900d612fe9206af413567e
",git fetch https://review.opendev.org/openstack/openstackclient refs/changes/36/799936/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,547d012f5a2bf85b860810ae68a377736cbc485d,oftc,* IRC: #openstack-sdks on OFTC (irc.oftc.net),* IRC: #openstack-sdks on Freenode (irc.freenode.net),1,1
openstack%2Fironic~master~Ica543ac271da8bb165e322c33cb01097f2d38eaa,openstack/ironic,master,Ica543ac271da8bb165e322c33cb01097f2d38eaa,WIP Handle pycdlib missing,ABANDONED,2021-07-06 21:35:02.000000000,2021-07-08 06:26:22.000000000,,"[{'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 21:35:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1e2d0a1f2563d58d5f9e1b662c0be16dcf52c3db', 'message': 'Handle pycadf missing\n\nPycadf was not supposed to be an explicit hard requirement,\nat least as far as Julia rememebrs. While it is in requirements\ndownstream, not everyone uses requirements.\n\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     from ironic.common import kickstart_utils as ks_utils\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:   File ""/builddir/build/BUILD/ironic-18.0.1.dev84/ironic/common/kickstart_utils.py"", line 22, in <module>\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     import pycdlib\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG: ModuleNotFoundError: No module named \'pycdlib\'\n\nChange-Id: Ica543ac271da8bb165e322c33cb01097f2d38eaa\n'}, {'number': 2, 'created': '2021-07-06 21:40:48.000000000', 'files': ['ironic/common/kickstart_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5373862b2fcd7e783e7a42252eeaff2767e95234', 'message': 'WIP Handle pycdlib missing\n\npycdlib was not supposed to be an explicit hard requirement,\nat least as far as Julia rememebrs. While it is in requirements\ndownstream, not everyone uses requirements.\n\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     from ironic.common import kickstart_utils as ks_utils\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:   File ""/builddir/build/BUILD/ironic-18.0.1.dev84/ironic/common/kickstart_utils.py"", line 22, in <module>\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     import pycdlib\nrdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG: ModuleNotFoundError: No module named \'pycdlib\'\n\nChange-Id: Ica543ac271da8bb165e322c33cb01097f2d38eaa\n'}]",1,799721,5373862b2fcd7e783e7a42252eeaff2767e95234,10,3,2,11655,,,0,"WIP Handle pycdlib missing

pycdlib was not supposed to be an explicit hard requirement,
at least as far as Julia rememebrs. While it is in requirements
downstream, not everyone uses requirements.

rdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     from ironic.common import kickstart_utils as ks_utils
rdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:   File ""/builddir/build/BUILD/ironic-18.0.1.dev84/ironic/common/kickstart_utils.py"", line 22, in <module>
rdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG:     import pycdlib
rdo-centos-stream | 2021-07-06 17:43:00,341 INFO:dlrn-build-mock:DEBUG: ModuleNotFoundError: No module named 'pycdlib'

Change-Id: Ica543ac271da8bb165e322c33cb01097f2d38eaa
",git fetch https://review.opendev.org/openstack/ironic refs/changes/21/799721/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/common/kickstart_utils.py'],1,1e2d0a1f2563d58d5f9e1b662c0be16dcf52c3db,, try: import pycdlib except ModuleNotFoundError: pycdlib = None ,import pycdlib,7,1
openstack%2Fopenstack-ansible-os_neutron~master~I9fc5b0deae199d2cc53a4c47def38ceea7468724,openstack/openstack-ansible-os_neutron,master,I9fc5b0deae199d2cc53a4c47def38ceea7468724,Rebuild venv if missing,ABANDONED,2018-03-24 07:31:21.000000000,2021-07-08 05:47:49.000000000,,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 25262}]","[{'number': 1, 'created': '2018-03-24 07:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/e21d7bdb511b3acc970a1a83cdc43eb42b906395', 'message': 'Propagate https://review.openstack.org/#/c/555981/\n\nChange-Id: I9fc5b0deae199d2cc53a4c47def38ceea7468724\n'}, {'number': 2, 'created': '2018-03-24 21:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/48b95fcb43f6cc07e04ec9ba1e9a695e22689d0b', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I9fc5b0deae199d2cc53a4c47def38ceea7468724\n'}, {'number': 3, 'created': '2018-03-24 23:29:27.000000000', 'files': ['tasks/neutron_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f90f93ff4a8ae71dbde15d9e158b00c8be6d694b', 'message': 'Rebuild venv if missing\n\nIf a deployer removes a venv from /openstack/venvs and runs the role\nin an attempt to re-deploy the venv from the same tag, the role will\nfail. This is because the venv archive in /var/cache is still present\nwith the same checksum, so the download and extract process is not\ntriggered.\n\nChange-Id: I9fc5b0deae199d2cc53a4c47def38ceea7468724\n'}]",0,556013,f90f93ff4a8ae71dbde15d9e158b00c8be6d694b,12,3,3,25262,,,0,"Rebuild venv if missing

If a deployer removes a venv from /openstack/venvs and runs the role
in an attempt to re-deploy the venv from the same tag, the role will
fail. This is because the venv archive in /var/cache is still present
with the same checksum, so the download and extract process is not
triggered.

Change-Id: I9fc5b0deae199d2cc53a4c47def38ceea7468724
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/13/556013/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/neutron_install.yml'],1,e21d7bdb511b3acc970a1a83cdc43eb42b906395,venv-extract-check,"- name: Check for deployed venv stat: path: ""{{ neutron_bin | dirname }}"" register: neutron_venv_stat when: (neutron_get_venv | changed or (neutron_get_venv | success and not neutron_venv_stat.stat.exists)) when: (neutron_get_venv | changed or (neutron_get_venv | success and not neutron_venv_stat.stat.exists)) - (neutron_get_venv | changed or (neutron_get_venv | success and not neutron_venv_stat.stat.exists)) when: (neutron_get_venv | changed or (neutron_get_venv | success and not neutron_venv_stat.stat.exists))", when: neutron_get_venv | changed when: neutron_get_venv | changed - neutron_get_venv | changed when: neutron_get_venv | changed,17,4
openstack%2Ftripleo-heat-templates~master~I4e5c122540ff66a2782e557eb246adffcac16c99,openstack/tripleo-heat-templates,master,I4e5c122540ff66a2782e557eb246adffcac16c99,Allow tuning rpc_response_timeout,MERGED,2021-04-21 14:29:44.000000000,2021-07-08 04:48:44.000000000,2021-07-08 04:47:04.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 29268}]","[{'number': 1, 'created': '2021-04-21 14:29:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3de72d8255ce45bb8371523c359d58ef1cd9c55f', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 2, 'created': '2021-04-21 22:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3887258c684a633150f254824cec835b1ee337d2', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 3, 'created': '2021-04-23 12:53:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/92b19ce92d7e395390a2574cf4ed03842cec1c20', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 4, 'created': '2021-04-29 13:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1e43738ca7d5f08153dbec36b644f550dbbb3b0', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 5, 'created': '2021-05-24 12:29:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e6aad44623df9724c835557a8e633ce8bfc2f396', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 6, 'created': '2021-06-26 16:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a678759a401d56212875fdd94cdcac595e52d138', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 7, 'created': '2021-06-29 05:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d66c7389a6067f90824d48df839dfd4c5206cf17', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}, {'number': 8, 'created': '2021-07-03 07:13:10.000000000', 'files': ['deployment/octavia/octavia-base.yaml', 'deployment/heat/heat-base-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/neutron/neutron-base.yaml', 'releasenotes/notes/rpc_reponse_timeout-6feb5f62819b2eaf.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/designate/designate-base.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/manila/manila-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1', 'message': ""Allow tuning rpc_response_timeout\n\nSometimes we need to tune the rpc_response_timeout parameter to avoid\nfrequent error caused by tiemout, and it's useful to provide a native\ninterface to tune the timeout values.\n\nChange-Id: I4e5c122540ff66a2782e557eb246adffcac16c99\n""}]",0,787400,4dca2a4834e95cfcc9690a1e258c90fb5ee3b1e1,58,7,8,9816,,,0,"Allow tuning rpc_response_timeout

Sometimes we need to tune the rpc_response_timeout parameter to avoid
frequent error caused by tiemout, and it's useful to provide a native
interface to tune the timeout values.

Change-Id: I4e5c122540ff66a2782e557eb246adffcac16c99
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/00/787400/8 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/octavia/octavia-base.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/experimental/designate/designate-base.yaml', 'deployment/neutron/neutron-base.yaml', 'releasenotes/notes/rpc_reponse_timeout-6feb5f62819b2eaf.yaml', 'deployment/nova/nova-base-puppet.yaml', 'deployment/aodh/aodh-base.yaml', 'deployment/ironic/ironic-base-puppet.yaml', 'deployment/manila/manila-base.yaml']",10,3de72d8255ce45bb8371523c359d58ef1cd9c55f,rpc_response_timeout," ManilaRpcResponseTimeout: default: 60 description: Manila's RPC response timeout, in seconds. type: number manila::rpc_response_timeout: {get_param: ManilaRpcResponseTimeout}",,60,0
openstack%2Ftripleo-ansible~stable%2Fussuri~I62cadfd95c514edf0b982fa652a53feadb24f2b7,openstack/tripleo-ansible,stable/ussuri,I62cadfd95c514edf0b982fa652a53feadb24f2b7,Add playbook to perform UC DB backup only.,MERGED,2021-07-07 08:14:13.000000000,2021-07-08 04:47:27.000000000,2021-07-08 04:47:27.000000000,"[{'_account_id': 6816}, {'_account_id': 7353}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-07 08:14:13.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bdec26076c8abeb070fddf5aa0ac0fc2050026a', 'message': ""Add playbook to perform UC DB backup only.\n\nCurrently, the openstack undercloud backup command allows us setting\nup rear, nfs and run the Undercloud's backup. However, it might be\nuseful to just perform a DB backup instead of a full backup of the\nUndercloud.\n\nThis patch adds a new playbook cli-undercloud-db-backup.yaml which\ninvokes only the db_backup.yml play from the backup_and_restore\nrole. This will perform only the MariaDB database backup for the\nUndercloud node. As the file name was hardcoded in the play, this\npatch also parametrizes it so that it will be possible to run\nthe command multiple times without override an existing backup.\n\nRelated: rhbz#1977392\nChange-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)\n(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)\n(cherry picked from commit a51dfcdb03084ae2d3ea3e654f6466097ed177bc)\n""}]",0,799760,5bdec26076c8abeb070fddf5aa0ac0fc2050026a,12,7,1,26343,,,0,"Add playbook to perform UC DB backup only.

Currently, the openstack undercloud backup command allows us setting
up rear, nfs and run the Undercloud's backup. However, it might be
useful to just perform a DB backup instead of a full backup of the
Undercloud.

This patch adds a new playbook cli-undercloud-db-backup.yaml which
invokes only the db_backup.yml play from the backup_and_restore
role. This will perform only the MariaDB database backup for the
Undercloud node. As the file name was hardcoded in the play, this
patch also parametrizes it so that it will be possible to run
the command multiple times without override an existing backup.

Related: rhbz#1977392
Change-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7
(cherry picked from commit 0f221aca95252b0851b64548471f0b548016705c)
(cherry picked from commit 3791391e6e2533848d20e9bc6a473fcdd9673664)
(cherry picked from commit a51dfcdb03084ae2d3ea3e654f6466097ed177bc)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/60/799760/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml']",3,5bdec26076c8abeb070fddf5aa0ac0fc2050026a,,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Undercloud DB backup. hosts: Undercloud remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true tasks: - name: Create DB Backup for the undercloud vars: tripleo_backup_and_restore_service_manager: false tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" include_role: name: backup_and_restore tasks_from: db_backup.yml ",,36,2
openstack%2Fpuppet-tripleo~master~I0089a53ce630a7e84b193af427455ab96b04ec48,openstack/puppet-tripleo,master,I0089a53ce630a7e84b193af427455ab96b04ec48,Cinder: Use defaults defined in puppet-cinder,MERGED,2021-06-26 03:16:18.000000000,2021-07-08 04:46:51.000000000,2021-07-08 04:46:51.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 03:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4f82dda9ee57a149dc51b92314950677ff26e225', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 2, 'created': '2021-06-26 18:38:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9fc6f789509558316941d707f212a113988f9ac6', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 3, 'created': '2021-06-27 08:07:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5369d16268b1d208c3a6997f76aabad645eb2801', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 4, 'created': '2021-06-27 13:17:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2d6d80fc422ffc78d705e660271c1acd101e9352', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 5, 'created': '2021-06-28 00:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9d9bcb1938ef6e3da3d8a6f4a0894ff8ff79c831', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 6, 'created': '2021-06-28 06:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/46d160c6444c1a9820fc35dd5d23e07cad7da2fb', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 7, 'created': '2021-06-28 06:45:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/2a910e208f41968273609267947ed3a3417adaae', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 8, 'created': '2021-06-28 06:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/28b14f7e55f29b6e192ad9e6e88b15e138e24712', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}, {'number': 9, 'created': '2021-07-03 14:51:23.000000000', 'files': ['manifests/profile/base/cinder/volume/iscsi.pp', 'manifests/profile/base/cinder/volume/nvmeof.pp', 'manifests/profile/base/cinder/volume/dellemc_powerstore.pp', 'manifests/profile/base/cinder/volume/scaleio.pp', 'manifests/profile/base/cinder/volume/dellemc_powerflex.pp', 'manifests/profile/base/cinder/volume/pure.pp', 'manifests/profile/base/cinder/volume/nfs.pp', 'manifests/profile/base/cinder/volume/dellemc_vmax_iscsi.pp', 'spec/fixtures/hieradata/default.yaml', 'manifests/profile/base/cinder/volume/rbd.pp', 'spec/classes/tripleo_profile_base_cinder_powermax_spec.rb', 'manifests/profile/base/cinder/volume/dellemc_sc.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'manifests/profile/base/cinder/volume/dellemc_vnx.pp', 'manifests/profile/base/cinder/volume/dellemc_xtremio.pp', 'manifests/profile/base/cinder/volume/dellsc.pp', 'manifests/profile/base/cinder/volume/dellemc_unity.pp', 'manifests/profile/base/cinder/volume/dellemc_powermax.pp', 'manifests/profile/base/cinder/volume/netapp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/33ac8dcc23fea80a5aa9b433c7a791429e94ee24', 'message': 'Cinder: Use defaults defined in puppet-cinder\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-cinder raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-cinder (and most of them are\n$::os_service_default which result in defaults in cinder itself)\n\nChange-Id: I0089a53ce630a7e84b193af427455ab96b04ec48\n'}]",1,798174,33ac8dcc23fea80a5aa9b433c7a791429e94ee24,27,3,9,9816,,,0,"Cinder: Use defaults defined in puppet-cinder

Currently we override default values for backend manifests by undef
but because of this we already need to define each parameters otherwise
puppet-cinder raises validation failure or set empty values.
This change removes that redundant overrides and make puppet-tripleo
rely on defaults in puppet-cinder (and most of them are
$::os_service_default which result in defaults in cinder itself)

Change-Id: I0089a53ce630a7e84b193af427455ab96b04ec48
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/798174/9 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/cinder/volume/iscsi.pp', 'manifests/profile/base/cinder/volume/nvmeof.pp', 'manifests/profile/base/cinder/volume/dellemc_powerstore.pp', 'manifests/profile/base/cinder/volume/scaleio.pp', 'manifests/profile/base/cinder/volume/dellemc_powerflex.pp', 'manifests/profile/base/cinder/volume/pure.pp', 'manifests/profile/base/cinder/volume/nfs.pp', 'manifests/profile/base/cinder/volume/dellemc_vmax_iscsi.pp', 'manifests/profile/base/cinder/volume/rbd.pp', 'manifests/profile/base/cinder/volume/hpelefthand.pp', 'manifests/profile/base/cinder/volume/dellemc_sc.pp', 'manifests/profile/base/cinder/volume/dellemc_vxflexos.pp', 'manifests/profile/base/cinder/volume/dellemc_vnx.pp', 'manifests/profile/base/cinder/volume/dellsc.pp', 'manifests/profile/base/cinder/volume/dellemc_unity.pp', 'manifests/profile/base/cinder/volume/dellemc_powermax.pp', 'manifests/profile/base/cinder/volume/netapp.pp']",17,4f82dda9ee57a149dc51b92314950677ff26e225,cinder-backend-defaults," create_resources('cinder::backend::netapp', $backend, delete_undef_values({ 'backend_availability_zone' => $backend_config['CinderNetappAvailabilityZone'], 'netapp_login' => $backend_config['CinderNetappLogin'], 'netapp_password' => $backend_config['CinderNetappPassword'], 'netapp_server_hostname' => $backend_config['CinderNetappServerHostname'], 'netapp_server_port' => $backend_config['CinderNetappServerPort'], 'netapp_size_multiplier' => $backend_config['CinderNetappSizeMultiplier'], 'netapp_storage_family' => $backend_config['CinderNetappStorageFamily'], 'netapp_storage_protocol' => $backend_config['CinderNetappStorageProtocol'], 'netapp_transport_type' => $backend_config['CinderNetappTransportType'], 'netapp_vfiler' => $backend_config['CinderNetappVfiler'], 'netapp_vserver' => $backend_config['CinderNetappVserver'], 'netapp_partner_backend_name' => $backend_config['CinderNetappPartnerBackendName'], 'nfs_shares' => any2array($backend_config['CinderNetappNfsShares']), 'nfs_shares_config' => $backend_config['CinderNetappNfsSharesConfig'], 'nfs_mount_options' => $backend_config['CinderNetappNfsMountOptions'], 'netapp_copyoffload_tool_path' => $backend_config['CinderNetappCopyOffloadToolPath'], 'netapp_controller_ips' => $backend_config['CinderNetappControllerIps'], 'netapp_sa_password' => $backend_config['CinderNetappSaPassword'], 'netapp_host_type' => $backend_config['CinderNetappHostType'], 'netapp_webservice_path' => $backend_config['CinderNetappWebservicePath'], 'nas_secure_file_operations' => $backend_config['CinderNetappNasSecureFileOperations'], 'nas_secure_file_permissions' => $backend_config['CinderNetappNasSecureFilePermissions'], 'netapp_pool_name_search_pattern' => $backend_config['CinderNetappPoolNameSearchPattern'], }))"," cinder::backend::netapp { $backend : backend_availability_zone => $backend_config['CinderNetappAvailabilityZone'], netapp_login => $backend_config['CinderNetappLogin'], netapp_password => $backend_config['CinderNetappPassword'], netapp_server_hostname => $backend_config['CinderNetappServerHostname'], netapp_server_port => $backend_config['CinderNetappServerPort'], netapp_size_multiplier => $backend_config['CinderNetappSizeMultiplier'], netapp_storage_family => $backend_config['CinderNetappStorageFamily'], netapp_storage_protocol => $backend_config['CinderNetappStorageProtocol'], netapp_transport_type => $backend_config['CinderNetappTransportType'], netapp_vfiler => $backend_config['CinderNetappVfiler'], netapp_vserver => $backend_config['CinderNetappVserver'], netapp_partner_backend_name => $backend_config['CinderNetappPartnerBackendName'], nfs_shares => any2array($backend_config['CinderNetappNfsShares']), nfs_shares_config => $backend_config['CinderNetappNfsSharesConfig'], nfs_mount_options => $backend_config['CinderNetappNfsMountOptions'], netapp_copyoffload_tool_path => $backend_config['CinderNetappCopyOffloadToolPath'], netapp_controller_ips => $backend_config['CinderNetappControllerIps'], netapp_sa_password => $backend_config['CinderNetappSaPassword'], netapp_host_type => $backend_config['CinderNetappHostType'], netapp_webservice_path => $backend_config['CinderNetappWebservicePath'], nas_secure_file_operations => $backend_config['CinderNetappNasSecureFileOperations'], nas_secure_file_permissions => $backend_config['CinderNetappNasSecureFilePermissions'], netapp_pool_name_search_pattern => $backend_config['CinderNetappPoolNameSearchPattern'], }",227,225
openstack%2Fpuppet-tripleo~master~Ia269acfc4b64701a968e186a522fe073a08616f3,openstack/puppet-tripleo,master,Ia269acfc4b64701a968e186a522fe073a08616f3,Manila: Use defaults defined in puppet-manila,MERGED,2021-07-01 15:53:27.000000000,2021-07-08 04:46:47.000000000,2021-07-08 04:46:47.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-01 15:53:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d47b1e0b641dfdb1a96c50a9d27758cf8a13d2d1', 'message': 'Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n'}, {'number': 2, 'created': '2021-07-03 15:06:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e6f0efaf84d88c338491d132df286868b0793892', 'message': 'Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n'}, {'number': 3, 'created': '2021-07-04 03:18:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/92f4a436fd12c74ef1270177fd61c338218769b6', 'message': 'Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n'}, {'number': 4, 'created': '2021-07-04 13:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f1c0451357378e60d63bbc54ff268d062b0059e8', 'message': 'Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n'}, {'number': 5, 'created': '2021-07-05 02:38:37.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9fa3836f186c1817da4276f166f948c9843c8cab', 'message': 'Manila: Use defaults defined in puppet-manila\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-manila raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-manila (and most of them are\n$::os_service_default which result in defaults in manila itself)\n\nChange-Id: Ia269acfc4b64701a968e186a522fe073a08616f3\n'}]",0,799097,9fa3836f186c1817da4276f166f948c9843c8cab,15,3,5,9816,,,0,"Manila: Use defaults defined in puppet-manila

Currently we override default values for backend manifests by undef
but because of this we already need to define each parameters otherwise
puppet-manila raises validation failure or set empty values.
This change removes that redundant overrides and make puppet-tripleo
rely on defaults in puppet-manila (and most of them are
$::os_service_default which result in defaults in manila itself)

Change-Id: Ia269acfc4b64701a968e186a522fe073a08616f3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/97/799097/2 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,d47b1e0b641dfdb1a96c50a9d27758cf8a13d2d1,manila-backend-defaults," create_resources('manila::backend::generic', '$manila_generic_backend', delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::generic::driver_handles_share_servers', true), 'max_time_to_attach' => hiera('manila::backend::generic::max_time_to_attach', undef), 'max_time_to_create_volume' => hiera('manila::backend::generic::max_time_to_create_volume', undef), 'service_instance_smb_config_path' => hiera('manila::backend::generic::service_instance_smb_config_path', undef), 'share_mount_path' => hiera('manila::backend::generic::share_mount_path', undef), 'share_volume_fstype' => hiera('manila::backend::generic::share_volume_fstype', undef), 'smb_template_config_path' => hiera('manila::backend::generic::smb_template_config_path', undef), 'volume_name_template' => hiera('manila::backend::generic::volume_name_template', undef), 'volume_snapshot_name_template' => hiera('manila::backend::generic::volume_snapshot_name_template', undef), 'cinder_volume_type' => hiera('manila::backend::generic::cinder_volume_type', undef), })) create_resources('manila::backend::cephfs', $manila_cephfs_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::cephfs::driver_handles_share_servers', false), 'share_backend_name' => hiera('manila::backend::cephfs::share_backend_name', undef), 'cephfs_conf_path' => hiera('manila::backend::cephfs::cephfs_conf_path', undef), 'cephfs_auth_id' => $cephfs_auth_id, 'cephfs_cluster_name' => hiera('manila::backend::cephfs::cephfs_cluster_name', undef), 'cephfs_enable_snapshots' => hiera('manila::backend::cephfs::cephfs_enable_snapshots', undef), 'cephfs_volume_mode' => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), 'cephfs_protocol_helper_type' => $manila_cephfs_protocol_helper_type, 'cephfs_ganesha_server_ip' => $cephfs_ganesha_server_ip_real, 'cephfs_ganesha_server_is_remote' => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), 'cephfs_ganesha_server_username' => hiera('manila::backend::cephfs::cephfs_ganesha_server_username', undef), 'cephfs_ganesha_server_password' => hiera('manila::backend::cephfs::cephfs_ganesha_server_password', undef), 'cephfs_ganesha_path_to_private_key' => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef), })) 'path' => ['/bin', '/usr/bin' ], 'command' => ""setfacl -m u:manila:r-- ${keyring_local_path}"", 'unless' => ""getfacl ${keyring_local_path} | grep -q user:manila:r--"", 'path' => ['/bin', '/usr/bin' ], 'command' => ""setfacl -m m::r ${keyring_local_path}"", 'unless' => ""getfacl ${keyring_local_path} | grep -q mask::r"", create_resources('manila::backend::netapp', $manila_netapp_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::netapp::driver_handles_share_servers', true), 'netapp_login' => hiera('manila::backend::netapp::netapp_login', undef), 'netapp_password' => hiera('manila::backend::netapp::netapp_password', undef), 'netapp_server_hostname' => hiera('manila::backend::netapp::netapp_server_hostname', undef), 'netapp_transport_type' => hiera('manila::backend::netapp::netapp_transport_type', undef), 'netapp_storage_family' => hiera('manila::backend::netapp::netapp_storage_family', undef), 'netapp_server_port' => hiera('manila::backend::netapp::netapp_server_port', undef), 'netapp_volume_name_template' => hiera('manila::backend::netapp::netapp_volume_name_template', undef), 'netapp_vserver' => hiera('manila::backend::netapp::netapp_vserver', undef), 'netapp_vserver_name_template' => hiera('manila::backend::netapp::netapp_vserver_name_template', undef), 'netapp_lif_name_template' => hiera('manila::backend::netapp::netapp_lif_name_template', undef), 'netapp_aggregate_name_search_pattern' => hiera('manila::backend::netapp::netapp_aggregate_name_search_pattern', undef), 'netapp_root_volume_aggregate' => hiera('manila::backend::netapp::netapp_root_volume_aggregate', undef), 'netapp_root_volume' => hiera('manila::backend::netapp::netapp_root_volume', undef), 'netapp_port_name_search_pattern' => hiera('manila::backend::netapp::netapp_port_name_search_pattern', undef), 'netapp_trace_flags' => hiera('manila::backend::netapp::netapp_trace_flags', undef), })) create_resources('manila::backend::dellemc_vmax', $manila_vmax_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::dellemc_vmax::driver_handles_share_servers', true), 'emc_nas_login' => hiera('manila::backend::dellemc_vmax::emc_nas_login', undef), 'emc_nas_password' => hiera('manila::backend::dellemc_vmax::emc_nas_password', undef), 'emc_nas_server' => hiera('manila::backend::dellemc_vmax::emc_nas_server', undef), 'emc_share_backend' => hiera('manila::backend::dellemc_vmax::emc_share_backend','vmax'), 'vmax_server_container' => hiera('manila::backend::dellemc_vmax::vmax_server_container', undef), 'vmax_share_data_pools' => hiera('manila::backend::dellemc_vmax::vmax_share_data_pools', undef), 'vmax_ethernet_ports' => hiera('manila::backend::dellemc_vmax::vmax_ethernet_ports', undef), })) create_resources('manila::backend::dellemc_unity', $manila_unity_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::dellemc_unity::driver_handles_share_servers', true), 'emc_nas_login' => hiera('manila::backend::dellemc_unity::emc_nas_login', undef), 'emc_nas_password' => hiera('manila::backend::dellemc_unity::emc_nas_password', undef), 'emc_nas_server' => hiera('manila::backend::dellemc_unity::emc_nas_server', undef), 'emc_share_backend' => hiera('manila::backend::dellemc_unity::emc_share_backend','unity', undef), 'unity_server_meta_pool' => hiera('manila::backend::dellemc_unity::unity_server_meta_pool', undef), 'unity_share_data_pools' => hiera('manila::backend::dellemc_unity::unity_share_data_pools', undef), 'unity_ethernet_ports' => hiera('manila::backend::dellemc_unity::unity_ethernet_ports', undef), 'network_plugin_ipv6_enabled' => hiera('manila::backend::dellemc_unity::network_plugin_ipv6_enabled', undef), 'emc_ssl_cert_verify' => hiera('manila::backend::dellemc_unity::emc_ssl_cert_verify', undef), 'emc_ssl_cert_path' => hiera('manila::backend::dellemc_unity::emc_ssl_cert_path', undef), })) create_resources('manila::backend::dellemc_vnx', $manila_vnx_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::dellemc_vnx::driver_handles_share_servers', false), 'emc_nas_login' => hiera('manila::backend::dellemc_vnx::emc_nas_login', undef), 'emc_nas_password' => hiera('manila::backend::dellemc_vnx::emc_nas_password', undef), 'emc_nas_server' => hiera('manila::backend::dellemc_vnx::emc_nas_server', undef), 'emc_share_backend' => hiera('manila::backend::dellemc_vnx::emc_share_backend','vnx'), 'vnx_server_container' => hiera('manila::backend::dellemc_vnx::vnx_server_container', undef), 'vnx_share_data_pools' => hiera('manila::backend::dellemc_vnx::vnx_share_data_pools', undef), 'vnx_ethernet_ports' => hiera('manila::backend::dellemc_vnx::vnx_ethernet_ports', undef), 'network_plugin_ipv6_enabled' => hiera('manila::backend::dellemc_vnx::network_plugin_ipv6_enabled', undef), 'emc_ssl_cert_verify' => hiera('manila::backend::dellemc_vnx::emc_ssl_cert_verify', undef), 'emc_ssl_cert_path' => hiera('manila::backend::dellemc_vnx::emc_ssl_cert_path', undef), })) create_resources('manila::backend::dellemc_isilon', $manila_isilon_backend, delete_undef_values({ 'driver_handles_share_servers' => hiera('manila::backend::dellemc_isilon::driver_handles_share_servers', false), 'emc_nas_login' => hiera('manila::backend::dellemc_isilon::emc_nas_login', undef), 'emc_nas_password' => hiera('manila::backend::dellemc_isilon::emc_nas_password', undef), 'emc_nas_server' => hiera('manila::backend::dellemc_isilon::emc_nas_server', undef), 'emc_share_backend' => hiera('manila::backend::dellemc_isilon::emc_share_backend','isilon'), 'emc_nas_root_dir' => hiera('manila::backend::dellemc_isilon::emc_nas_root_dir', undef), 'emc_nas_server_port' => hiera('manila::backend::dellemc_isilon::emc_server_port', undef), 'emc_nas_server_secure' => hiera('manila::backend::dellemc_isilon::emc_nas_secure', undef), })) 'enabled_share_backends' => $manila_enabled_backends,"," manila::backend::generic { $manila_generic_backend : driver_handles_share_servers => hiera('manila::backend::generic::driver_handles_share_servers', true), max_time_to_attach => hiera('manila::backend::generic::max_time_to_attach'), max_time_to_create_volume => hiera('manila::backend::generic::max_time_to_create_volume'), service_instance_smb_config_path => hiera('manila::backend::generic::service_instance_smb_config_path'), share_mount_path => hiera('manila::backend::generic::share_mount_path'), share_volume_fstype => hiera('manila::backend::generic::share_volume_fstype'), smb_template_config_path => hiera('manila::backend::generic::smb_template_config_path'), volume_name_template => hiera('manila::backend::generic::volume_name_template'), volume_snapshot_name_template => hiera('manila::backend::generic::volume_snapshot_name_template'), cinder_volume_type => hiera('manila::backend::generic::cinder_volume_type'), } manila::backend::cephfs { $manila_cephfs_backend : driver_handles_share_servers => hiera('manila::backend::cephfs::driver_handles_share_servers', false), share_backend_name => hiera('manila::backend::cephfs::share_backend_name'), cephfs_conf_path => hiera('manila::backend::cephfs::cephfs_conf_path'), cephfs_auth_id => $cephfs_auth_id, cephfs_cluster_name => hiera('manila::backend::cephfs::cephfs_cluster_name'), cephfs_enable_snapshots => hiera('manila::backend::cephfs::cephfs_enable_snapshots', undef), cephfs_volume_mode => hiera('manila::backend::cephfs::cephfs_volume_mode', '0755'), cephfs_protocol_helper_type => $manila_cephfs_protocol_helper_type, cephfs_ganesha_server_ip => $cephfs_ganesha_server_ip_real, cephfs_ganesha_server_is_remote => hiera('manila::backend::cephfs::cephfs_ganesha_server_is_remote', false), cephfs_ganesha_server_username => hiera('manila::backend::cephfs::cephfs_ganesha_server_username', undef), cephfs_ganesha_server_password => hiera('manila::backend::cephfs::cephfs_ganesha_server_password', undef), cephfs_ganesha_path_to_private_key => hiera('manila::backend::cephfs::cephfs_ganesha_path_to_private_key', undef), } path => ['/bin', '/usr/bin' ], command => ""setfacl -m u:manila:r-- ${keyring_local_path}"", unless => ""getfacl ${keyring_local_path} | grep -q user:manila:r--"", path => ['/bin', '/usr/bin' ], command => ""setfacl -m m::r ${keyring_local_path}"", unless => ""getfacl ${keyring_local_path} | grep -q mask::r"", manila::backend::netapp { $manila_netapp_backend : driver_handles_share_servers => hiera('manila::backend::netapp::driver_handles_share_servers', true), netapp_login => hiera('manila::backend::netapp::netapp_login'), netapp_password => hiera('manila::backend::netapp::netapp_password'), netapp_server_hostname => hiera('manila::backend::netapp::netapp_server_hostname'), netapp_transport_type => hiera('manila::backend::netapp::netapp_transport_type'), netapp_storage_family => hiera('manila::backend::netapp::netapp_storage_family'), netapp_server_port => hiera('manila::backend::netapp::netapp_server_port'), netapp_volume_name_template => hiera('manila::backend::netapp::netapp_volume_name_template'), netapp_vserver => hiera('manila::backend::netapp::netapp_vserver'), netapp_vserver_name_template => hiera('manila::backend::netapp::netapp_vserver_name_template'), netapp_lif_name_template => hiera('manila::backend::netapp::netapp_lif_name_template'), netapp_aggregate_name_search_pattern => hiera('manila::backend::netapp::netapp_aggregate_name_search_pattern'), netapp_root_volume_aggregate => hiera('manila::backend::netapp::netapp_root_volume_aggregate'), netapp_root_volume => hiera('manila::backend::netapp::netapp_root_volume'), netapp_port_name_search_pattern => hiera('manila::backend::netapp::netapp_port_name_search_pattern'), netapp_trace_flags => hiera('manila::backend::netapp::netapp_trace_flags'), } manila::backend::dellemc_vmax { $manila_vmax_backend : driver_handles_share_servers => hiera('manila::backend::dellemc_vmax::driver_handles_share_servers', true), emc_nas_login => hiera('manila::backend::dellemc_vmax::emc_nas_login'), emc_nas_password => hiera('manila::backend::dellemc_vmax::emc_nas_password'), emc_nas_server => hiera('manila::backend::dellemc_vmax::emc_nas_server'), emc_share_backend => hiera('manila::backend::dellemc_vmax::emc_share_backend','vmax'), vmax_server_container => hiera('manila::backend::dellemc_vmax::vmax_server_container'), vmax_share_data_pools => hiera('manila::backend::dellemc_vmax::vmax_share_data_pools'), vmax_ethernet_ports => hiera('manila::backend::dellemc_vmax::vmax_ethernet_ports'), } manila::backend::dellemc_unity { $manila_unity_backend : driver_handles_share_servers => hiera('manila::backend::dellemc_unity::driver_handles_share_servers', true), emc_nas_login => hiera('manila::backend::dellemc_unity::emc_nas_login'), emc_nas_password => hiera('manila::backend::dellemc_unity::emc_nas_password'), emc_nas_server => hiera('manila::backend::dellemc_unity::emc_nas_server'), emc_share_backend => hiera('manila::backend::dellemc_unity::emc_share_backend','unity'), unity_server_meta_pool => hiera('manila::backend::dellemc_unity::unity_server_meta_pool'), unity_share_data_pools => hiera('manila::backend::dellemc_unity::unity_share_data_pools'), unity_ethernet_ports => hiera('manila::backend::dellemc_unity::unity_ethernet_ports'), network_plugin_ipv6_enabled => hiera('manila::backend::dellemc_unity::network_plugin_ipv6_enabled'), emc_ssl_cert_verify => hiera('manila::backend::dellemc_unity::emc_ssl_cert_verify'), emc_ssl_cert_path => hiera('manila::backend::dellemc_unity::emc_ssl_cert_path'), } manila::backend::dellemc_vnx { $manila_vnx_backend : driver_handles_share_servers => hiera('manila::backend::dellemc_vnx::driver_handles_share_servers', false), emc_nas_login => hiera('manila::backend::dellemc_vnx::emc_nas_login'), emc_nas_password => hiera('manila::backend::dellemc_vnx::emc_nas_password'), emc_nas_server => hiera('manila::backend::dellemc_vnx::emc_nas_server'), emc_share_backend => hiera('manila::backend::dellemc_vnx::emc_share_backend','vnx'), vnx_server_container => hiera('manila::backend::dellemc_vnx::vnx_server_container'), vnx_share_data_pools => hiera('manila::backend::dellemc_vnx::vnx_share_data_pools'), vnx_ethernet_ports => hiera('manila::backend::dellemc_vnx::vnx_ethernet_ports'), network_plugin_ipv6_enabled => hiera('manila::backend::dellemc_vnx::network_plugin_ipv6_enabled'), emc_ssl_cert_verify => hiera('manila::backend::dellemc_vnx::emc_ssl_cert_verify'), emc_ssl_cert_path => hiera('manila::backend::dellemc_vnx::emc_ssl_cert_path'), } manila::backend::dellemc_isilon { $manila_isilon_backend : driver_handles_share_servers => hiera('manila::backend::dellemc_isilon::driver_handles_share_servers', false), emc_nas_login => hiera('manila::backend::dellemc_isilon::emc_nas_login'), emc_nas_password => hiera('manila::backend::dellemc_isilon::emc_nas_password'), emc_nas_server => hiera('manila::backend::dellemc_isilon::emc_nas_server'), emc_share_backend => hiera('manila::backend::dellemc_isilon::emc_share_backend','isilon'), emc_nas_root_dir => hiera('manila::backend::dellemc_isilon::emc_nas_root_dir'), emc_nas_server_port => hiera('manila::backend::dellemc_isilon::emc_server_port'), emc_nas_server_secure => hiera('manila::backend::dellemc_isilon::emc_nas_secure'), } enabled_share_backends => $manila_enabled_backends,",98,98
openstack%2Fnova~master~I6137dc1b6b51321fee1c080bf4b85197b19bf223,openstack/nova,master,I6137dc1b6b51321fee1c080bf4b85197b19bf223,api: Handle invalid volume UUIDs during spawn,MERGED,2021-06-01 16:41:02.000000000,2021-07-08 02:57:57.000000000,2021-07-07 17:27:17.000000000,"[{'_account_id': 7166}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 16:41:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b9c992a45c4c0e604623f540d86817d77b3f119b', 'message': ""api: Handle invalid volume UUIDs during spawn\n\nIf a user requests an invalid volume UUID when creating an instance,\na 'VolumeNotFound' exception will be raised. This is not currently\nhandled. Correct this.\n\nThe behavior of the caller throwing the error is already validated in\n'ComputeAPIUnitTestCase.test_get_volumes_for_bdms_errors' in\n'nova/tests/unit/compute/test_api.py'. There is therefore no additional\nunit test added here since it would simply be validating that one\nexception is transformed into another, which we already do for various\nother exceptions.\n\nChange-Id: I6137dc1b6b51321fee1c080bf4b85197b19bf223\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1930448\n""}, {'number': 2, 'created': '2021-07-07 13:28:20.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_servers.py', 'nova/api/openstack/compute/servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/9cdecc81fb8729160693c244d8adf124eed8b9b2', 'message': ""api: Handle invalid volume UUIDs during spawn\n\nIf a user requests an invalid volume UUID when creating an instance,\na 'VolumeNotFound' exception will be raised. This is not currently\nhandled. Correct this.\n\nChange-Id: I6137dc1b6b51321fee1c080bf4b85197b19bf223\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\nCloses-Bug: #1930448\n""}]",6,794006,9cdecc81fb8729160693c244d8adf124eed8b9b2,26,4,2,15334,,,0,"api: Handle invalid volume UUIDs during spawn

If a user requests an invalid volume UUID when creating an instance,
a 'VolumeNotFound' exception will be raised. This is not currently
handled. Correct this.

Change-Id: I6137dc1b6b51321fee1c080bf4b85197b19bf223
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
Closes-Bug: #1930448
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/794006/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/api/openstack/compute/servers.py'],1,b9c992a45c4c0e604623f540d86817d77b3f119b,bug/1851425," exception.VolumeNotFound,",,1,0
openstack%2Fpuppet-openstack-integration~master~I473c0956950d3a53e724f1764ed87ad075c44124,openstack/puppet-openstack-integration,master,I473c0956950d3a53e724f1764ed87ad075c44124,Pin puppet-python to v5.0.0,MERGED,2021-07-07 23:57:56.000000000,2021-07-08 02:49:37.000000000,2021-07-08 02:49:37.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 16312}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 23:57:56.000000000', 'files': ['external_modules.txt'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/21760b6b689203ee633de47d68ea280285d69127', 'message': 'Pin puppet-python to v5.0.0\n\n... until we fix the compatibility issue in puppet-monasca.\n\nRelated-Bug: #1930553\nChange-Id: I473c0956950d3a53e724f1764ed87ad075c44124\n'}]",0,799923,21760b6b689203ee633de47d68ea280285d69127,6,7,1,9816,,,0,"Pin puppet-python to v5.0.0

... until we fix the compatibility issue in puppet-monasca.

Related-Bug: #1930553
Change-Id: I473c0956950d3a53e724f1764ed87ad075c44124
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/23/799923/1 && git format-patch -1 --stdout FETCH_HEAD,['external_modules.txt'],1,21760b6b689203ee633de47d68ea280285d69127,,"voxpupuli/puppet-python,v5.0.0",voxpupuli/puppet-python,1,1
openstack%2Ftripleo-common~master~I55905cb299ae9e35b605f0a9219177f809d6919e,openstack/tripleo-common,master,I55905cb299ae9e35b605f0a9219177f809d6919e,Add missing IPv6 support for healthcheck_port,MERGED,2021-07-06 11:18:20.000000000,2021-07-08 02:47:55.000000000,2021-07-08 02:46:35.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-06 11:18:20.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4ea75f40b7d199ead6bb294f73dc6a8c96722ec1', 'message': 'Add missing IPv6 support for healthcheck_port\n\nWith change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network\nwas overlooked, leading to issues in some cases with composable roles\nand IPv6 network.\n\nChange-Id: I55905cb299ae9e35b605f0a9219177f809d6919e\nCloses-Bug: #1934772\nResolves: rhbz#1979524\n'}]",0,799643,4ea75f40b7d199ead6bb294f73dc6a8c96722ec1,24,8,1,28223,,,0,"Add missing IPv6 support for healthcheck_port

With change I64776992a7e457781aa8ddaba359ef085d4cb77d, the IPv6 network
was overlooked, leading to issues in some cases with composable roles
and IPv6 network.

Change-Id: I55905cb299ae9e35b605f0a9219177f809d6919e
Closes-Bug: #1934772
Resolves: rhbz#1979524
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/799643/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,4ea75f40b7d199ead6bb294f73dc6a8c96722ec1,healthcheck/port/v6," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp,tcp6,udp6})"," sockets=$(awk -i join -v m=${ports} '{IGNORECASE=1; if ($2 ~ m || $3 ~ m) {output[counter++] = $10} } END{if (length(output)>0) {print join(output, 0, length(output)-1, ""|"")}}' /proc/net/{tcp,udp})",1,1
openstack%2Ftripleo-heat-templates~master~Ibee40113ec7cb9f65f6503a36e8d3ed40d3fbf4c,openstack/tripleo-heat-templates,master,Ibee40113ec7cb9f65f6503a36e8d3ed40d3fbf4c,Enable LogOffload by default in Octavia,MERGED,2021-06-29 08:08:30.000000000,2021-07-08 02:47:53.000000000,2021-07-08 02:46:39.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-29 08:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/311e9f9757d09141017cb825fff2c60da8e456a3', 'message': 'Enable LogOffload by default in Octavia\n\nOctaviaLogOffload is a feature that collects Octavia Amphora logs in a\nrsyslog service. It makes sense to enable it by default in all\ndeployments, it provides useful logs for CI jobs and for end users.\n\nChange-Id: Ibee40113ec7cb9f65f6503a36e8d3ed40d3fbf4c\n'}, {'number': 2, 'created': '2021-06-30 07:05:19.000000000', 'files': ['releasenotes/notes/octavia-enable-log-offload-by-default-53faec2d64688109.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/978c058ef120f5c45e3bf54342f8f68a21bffc15', 'message': 'Enable LogOffload by default in Octavia\n\nOctaviaLogOffload is a feature that collects Octavia Amphora logs in a\nrsyslog service. It makes sense to enable it by default in all\ndeployments, it provides useful logs for CI jobs and for end users.\n\nDepends-On: https://review.opendev.org/798066\n\nChange-Id: Ibee40113ec7cb9f65f6503a36e8d3ed40d3fbf4c\n'}]",0,798437,978c058ef120f5c45e3bf54342f8f68a21bffc15,22,5,2,29244,,,0,"Enable LogOffload by default in Octavia

OctaviaLogOffload is a feature that collects Octavia Amphora logs in a
rsyslog service. It makes sense to enable it by default in all
deployments, it provides useful logs for CI jobs and for end users.

Depends-On: https://review.opendev.org/798066

Change-Id: Ibee40113ec7cb9f65f6503a36e8d3ed40d3fbf4c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/37/798437/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/octavia-enable-log-offload-by-default-53faec2d64688109.yaml', 'deployment/octavia/octavia-health-manager-container-puppet.yaml', 'deployment/octavia/octavia-deployment-config.j2.yaml']",3,311e9f9757d09141017cb825fff2c60da8e456a3,, default: true, default: false,8,2
openstack%2Ftripleo-ansible~master~I9a425665f4714751d8b1a0bd381533e4c383df9d,openstack/tripleo-ansible,master,I9a425665f4714751d8b1a0bd381533e4c383df9d,Backup and Restore playbook is not 100% idempotent when running in snapshot mode,MERGED,2021-07-07 13:33:26.000000000,2021-07-08 02:24:48.000000000,2021-07-08 02:24:48.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-07 13:33:26.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/aa93f9d7a05d33bdf0aa6177da10f51a1e784bc2', 'message': 'Backup and Restore playbook is not 100% idempotent when running in snapshot mode\n\nThis fix a small issue that can happen when the user directly cancels\nthe execution of the playbook when the rear backup is happening. After\nthat, the node remains disconnected from pacemaker and it is necessary\nto add it back to the cluster so the mysql-galera container is running\nwhen we do the mysql dump.\n\nAs the pcs cluster start is an idempotent command in itself, we do not\nneed to perform a verification check before running it nor it will\ngenerate errors (return 1) when ran if it was already running.\n\nCloses-Bug: #1934897\n\nChange-Id: I9a425665f4714751d8b1a0bd381533e4c383df9d\n'}]",0,799829,aa93f9d7a05d33bdf0aa6177da10f51a1e784bc2,8,7,1,32968,,,0,"Backup and Restore playbook is not 100% idempotent when running in snapshot mode

This fix a small issue that can happen when the user directly cancels
the execution of the playbook when the rear backup is happening. After
that, the node remains disconnected from pacemaker and it is necessary
to add it back to the cluster so the mysql-galera container is running
when we do the mysql dump.

As the pcs cluster start is an idempotent command in itself, we do not
need to perform a verification check before running it nor it will
generate errors (return 1) when ran if it was already running.

Closes-Bug: #1934897

Change-Id: I9a425665f4714751d8b1a0bd381533e4c383df9d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/799829/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,aa93f9d7a05d33bdf0aa6177da10f51a1e784bc2,idempotency,- name: Ensure the node is back into the cluster command: pcs cluster start when: - enabled_galera - tripleo_backup_and_restore_enable_snapshots|bool tags: - bar_create_recover_image , - tripleo_backup_and_restore_service_manager|bool - not tripleo_backup_and_restore_enable_snapshots|bool,8,2
openstack%2Ftripleo-ansible~stable%2Fussuri~I49944d585825b32052278cd865a74c46dcb5eaa4,openstack/tripleo-ansible,stable/ussuri,I49944d585825b32052278cd865a74c46dcb5eaa4,Move the snapshots feature to optional/beta,MERGED,2021-07-07 13:42:42.000000000,2021-07-08 02:24:44.000000000,2021-07-08 02:24:44.000000000,"[{'_account_id': 7353}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-07 13:42:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/81cea60546b776839795ec48919bed8eb4be451f', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nDue to some other changes that arrived to the branch after this one,\nthis was not a clean commit and some manual conflict resolution was\nneeded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n(cherry picked from commit 091dd3fbb9385c65552db8f44e779544d617a18d)\n'}, {'number': 2, 'created': '2021-07-07 13:43:25.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_unstandby.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de2e1c55d6973355129a8d012897c11bdb552f75', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n(cherry picked from commit 091dd3fbb9385c65552db8f44e779544d617a18d)\n'}]",0,799770,de2e1c55d6973355129a8d012897c11bdb552f75,8,3,2,32968,,,0,"Move the snapshots feature to optional/beta

Previously a commit[1] introduced a new way of doing backup, using
""snapshots"", that do not require to bring down the whole controller to
take the backup. On that commit, the old way was removed, which do not
follow the deprecation procedure.

This commits reintroduces the old way of performing backups via stopping
the controllers and move the snapshots feature to an optional,
user-selected feature.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380

(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)
Change-Id: I49944d585825b32052278cd865a74c46dcb5eaa4
(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)
(cherry picked from commit 091dd3fbb9385c65552db8f44e779544d617a18d)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/70/799770/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_unstandby.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",6,81cea60546b776839795ec48919bed8eb4be451f,change-799144-4-stable/ussuri,"# If this is false, backup of the overcloud is taken by stopping it completely. Enable it to do a # backup stopping only one node at a time, maintaining the controller active during the backup duration. tripleo_backup_and_restore_enable_snapshots: true ",,54,26
openstack%2Ftripleo-quickstart-extras~master~Ie20ccbcbeed0769202a8408e7bae0465daaa1803,openstack/tripleo-quickstart-extras,master,Ie20ccbcbeed0769202a8408e7bae0465daaa1803,Add release_numbering & release_minor support,MERGED,2021-07-05 16:12:05.000000000,2021-07-08 02:24:40.000000000,2021-07-08 02:24:40.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 13294}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-05 16:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/f40814cb04e276bc0ca38acc0e876262c37059d8', 'message': 'Add release_numbering & release_minor support\n\nChange-Id: Ie20ccbcbeed0769202a8408e7bae0465daaa1803\n'}, {'number': 2, 'created': '2021-07-06 10:45:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0e3cf2d69ddec659967bc2b06f67c5d16fe93ea1', 'message': 'Add release_numbering & release_minor support\n\nWith this patch we are adding support for release_numbering\n& release_minor for downstream.\n\nWe will pass these parameters through downstream release config\nfiles, should be transparent for upstream.\n\n `release_numbering` defines the algorithm used by DLRN to assign\n   release numbers to packages.\n\nThe release number is created from the current date and the source\nrepository git hash, and can use different algorithms:\n\n 0.date.hash if the old method is used: 0.<date>.<hash>\n 0.1.date.hash if the new method is used: 0.1.<date>.<hash>.\nThis new method provides better compatibility with the Fedora\npackaging guidelines.\n minor.date.hash allows you to specify the minor version to be\nused, which can be different from 0.\nIf this release numbering schema is used, the value of minor\nwill be determined by release_minor.\n\n `release_minor` only takes place when release_numbering\nis set to minor.date.hash. For example, if this value is set to 3,\nthe release number for all packages will be computed as 3.date.hash.\n\nChange-Id: Ie20ccbcbeed0769202a8408e7bae0465daaa1803\n'}, {'number': 3, 'created': '2021-07-07 05:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/b0ee2586da55567809ba2e479895a152e3a1ad6e', 'message': 'Add release_numbering & release_minor support\n\nWith this patch we are adding support for release_numbering\n& release_minor for downstream.\n\nWe will pass these parameters through downstream release config\nfiles, should be transparent for upstream.\n\n `release_numbering` defines the algorithm used by DLRN to assign\n   release numbers to packages.\n\nThe release number is created from the current date and the source\nrepository git hash, and can use different algorithms:\n\n 0.date.hash if the old method is used: 0.<date>.<hash>\n 0.1.date.hash if the new method is used: 0.1.<date>.<hash>.\nThis new method provides better compatibility with the Fedora\npackaging guidelines.\n minor.date.hash allows you to specify the minor version to be\nused, which can be different from 0.\nIf this release numbering schema is used, the value of minor\nwill be determined by release_minor.\n\n `release_minor` only takes place when release_numbering\nis set to minor.date.hash. For example, if this value is set to 3,\nthe release number for all packages will be computed as 3.date.hash.\n\nChange-Id: Ie20ccbcbeed0769202a8408e7bae0465daaa1803\n'}, {'number': 4, 'created': '2021-07-07 07:22:11.000000000', 'files': ['roles/build-test-packages/templates/projects.ini.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/4907eec94012574e98d104a93ecf88550b41fb07', 'message': 'Add release_numbering & release_minor support\n\nWith this patch we are adding support for release_numbering\n& release_minor for downstream.\n\nWe will pass these parameters through downstream release config\nfiles, should be transparent for upstream.\n\n `release_numbering` defines the algorithm used by DLRN to assign\n   release numbers to packages.\n\nThe release number is created from the current date and the source\nrepository git hash, and can use different algorithms:\n\n 0.date.hash if the old method is used: 0.<date>.<hash>\n 0.1.date.hash if the new method is used: 0.1.<date>.<hash>.\nThis new method provides better compatibility with the Fedora\npackaging guidelines.\n minor.date.hash allows you to specify the minor version to be\nused, which can be different from 0.\nIf this release numbering schema is used, the value of minor\nwill be determined by release_minor.\n\n `release_minor` only takes place when release_numbering\nis set to minor.date.hash. For example, if this value is set to 3,\nthe release number for all packages will be computed as 3.date.hash.\n\nChange-Id: Ie20ccbcbeed0769202a8408e7bae0465daaa1803\n'}]",12,799517,4907eec94012574e98d104a93ecf88550b41fb07,30,11,4,29775,,,0,"Add release_numbering & release_minor support

With this patch we are adding support for release_numbering
& release_minor for downstream.

We will pass these parameters through downstream release config
files, should be transparent for upstream.

 `release_numbering` defines the algorithm used by DLRN to assign
   release numbers to packages.

The release number is created from the current date and the source
repository git hash, and can use different algorithms:

 0.date.hash if the old method is used: 0.<date>.<hash>
 0.1.date.hash if the new method is used: 0.1.<date>.<hash>.
This new method provides better compatibility with the Fedora
packaging guidelines.
 minor.date.hash allows you to specify the minor version to be
used, which can be different from 0.
If this release numbering schema is used, the value of minor
will be determined by release_minor.

 `release_minor` only takes place when release_numbering
is set to minor.date.hash. For example, if this value is set to 3,
the release number for all packages will be computed as 3.date.hash.

Change-Id: Ie20ccbcbeed0769202a8408e7bae0465daaa1803
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/17/799517/4 && git format-patch -1 --stdout FETCH_HEAD,"['roles/build-test-packages/templates/projects.ini.j2', 'zuul.d/layout.yaml']",2,f40814cb04e276bc0ca38acc0e876262c37059d8,, check: jobs: [], templates: - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-scenarios-pipeline - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,3,58
openstack%2Fpuppet-cinder~master~I5e541975936f2040d96593342662373a78204429,openstack/puppet-cinder,master,I5e541975936f2040d96593342662373a78204429,Drop Fedora support,ABANDONED,2021-06-12 07:42:19.000000000,2021-07-08 02:00:52.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:42:19.000000000', 'files': ['releasenotes/notes/drop-fedora-e64a1f56512449be.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/decb4f7266113b4a5a59108244cbc09b78c55dda', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I5e541975936f2040d96593342662373a78204429\n""}]",0,796111,decb4f7266113b4a5a59108244cbc09b78c55dda,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I5e541975936f2040d96593342662373a78204429
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/11/796111/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-e64a1f56512449be.yaml']",2,decb4f7266113b4a5a59108244cbc09b78c55dda,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-barbican~master~I481b940f16f261455e1f7b8f0d91566cafdba5e5,openstack/puppet-barbican,master,I481b940f16f261455e1f7b8f0d91566cafdba5e5,Drop Fedora support,ABANDONED,2021-06-12 07:31:31.000000000,2021-07-08 02:00:31.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:31:31.000000000', 'files': ['releasenotes/notes/drop-fedora-53afa0f08b57cb3a.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-barbican/commit/cf235cfed09846b08b4928cb63ffafc507e68f59', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I481b940f16f261455e1f7b8f0d91566cafdba5e5\n""}]",0,796108,cf235cfed09846b08b4928cb63ffafc507e68f59,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I481b940f16f261455e1f7b8f0d91566cafdba5e5
",git fetch https://review.opendev.org/openstack/puppet-barbican refs/changes/08/796108/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-fedora-53afa0f08b57cb3a.yaml', 'metadata.json']",2,cf235cfed09846b08b4928cb63ffafc507e68f59,,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",4,6
openstack%2Fpuppet-placement~master~I2ffe3cc7049418c778f9a1a15ba9988593503f4a,openstack/puppet-placement,master,I2ffe3cc7049418c778f9a1a15ba9988593503f4a,Drop Fedora support,ABANDONED,2021-06-15 05:48:51.000000000,2021-07-08 02:00:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 05:48:51.000000000', 'files': ['releasenotes/notes/drop-fedora-499efc34c9bc85ea.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-placement/commit/de5b0169bf2d2ad158935b4b4e951fdd975a8a11', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I2ffe3cc7049418c778f9a1a15ba9988593503f4a\n""}]",0,796370,de5b0169bf2d2ad158935b4b4e951fdd975a8a11,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I2ffe3cc7049418c778f9a1a15ba9988593503f4a
",git fetch https://review.opendev.org/openstack/puppet-placement refs/changes/70/796370/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-499efc34c9bc85ea.yaml']",2,de5b0169bf2d2ad158935b4b4e951fdd975a8a11,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-designate~master~I9dcac4235b1fc7efca01af38c23bc801c39bf281,openstack/puppet-designate,master,I9dcac4235b1fc7efca01af38c23bc801c39bf281,Drop Fedora support,ABANDONED,2021-06-15 02:08:17.000000000,2021-07-08 02:00:19.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:08:17.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-b1c00fff648553b8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/9d8639ae017fd2f2cc4b20eb73a5f68b59475019', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I9dcac4235b1fc7efca01af38c23bc801c39bf281\n""}]",0,796330,9d8639ae017fd2f2cc4b20eb73a5f68b59475019,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I9dcac4235b1fc7efca01af38c23bc801c39bf281
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/30/796330/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-b1c00fff648553b8.yaml']",2,9d8639ae017fd2f2cc4b20eb73a5f68b59475019,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-ec2api~master~Ic44613384db67dffdea1e7e57c9a3d02dc93c12a,openstack/puppet-ec2api,master,Ic44613384db67dffdea1e7e57c9a3d02dc93c12a,Drop Fedora support,ABANDONED,2021-06-15 02:11:23.000000000,2021-07-08 02:00:15.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:11:23.000000000', 'files': ['releasenotes/notes/drop-fedora-3a27dc704e849994.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-ec2api/commit/0428999df846f7bb3688322fd2e1302fb6b8856c', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ic44613384db67dffdea1e7e57c9a3d02dc93c12a\n""}]",0,796331,0428999df846f7bb3688322fd2e1302fb6b8856c,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ic44613384db67dffdea1e7e57c9a3d02dc93c12a
",git fetch https://review.opendev.org/openstack/puppet-ec2api refs/changes/31/796331/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-fedora-3a27dc704e849994.yaml', 'metadata.json']",2,0428999df846f7bb3688322fd2e1302fb6b8856c,,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",4,6
openstack%2Fpuppet-gnocchi~master~If4314c437ee00dd0a3c951ac587370c01e9ea1bf,openstack/puppet-gnocchi,master,If4314c437ee00dd0a3c951ac587370c01e9ea1bf,Drop Fedora support,ABANDONED,2021-06-15 02:17:42.000000000,2021-07-08 02:00:12.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:17:42.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-e433515877856913.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-gnocchi/commit/eb3c05ff5e064eae656c2e38f73ba00b8181285f', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: If4314c437ee00dd0a3c951ac587370c01e9ea1bf\n""}]",0,796333,eb3c05ff5e064eae656c2e38f73ba00b8181285f,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: If4314c437ee00dd0a3c951ac587370c01e9ea1bf
",git fetch https://review.opendev.org/openstack/puppet-gnocchi refs/changes/33/796333/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-e433515877856913.yaml']",2,eb3c05ff5e064eae656c2e38f73ba00b8181285f,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-heat~master~I7ea50aa40091bbeea72c6cf0085dffcf80d3a439,openstack/puppet-heat,master,I7ea50aa40091bbeea72c6cf0085dffcf80d3a439,Drop Fedora support,ABANDONED,2021-06-15 02:26:54.000000000,2021-07-08 02:00:08.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:26:54.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-fcc4178efc804fd4.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/6dc94de65602213d69422af6cee1cc2d39d06024', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I7ea50aa40091bbeea72c6cf0085dffcf80d3a439\n""}]",0,796334,6dc94de65602213d69422af6cee1cc2d39d06024,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I7ea50aa40091bbeea72c6cf0085dffcf80d3a439
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/34/796334/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-fcc4178efc804fd4.yaml']",2,6dc94de65602213d69422af6cee1cc2d39d06024,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-magnum~master~I120f72e60b6b7e34f2b32082412ad15740402cdb,openstack/puppet-magnum,master,I120f72e60b6b7e34f2b32082412ad15740402cdb,Drop Fedora support,ABANDONED,2021-06-15 02:36:44.000000000,2021-07-08 02:00:05.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:36:44.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-abf9c6aaf655247f.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-magnum/commit/350c46dcaa5db6e0c8cd327153eee5880781c73e', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I120f72e60b6b7e34f2b32082412ad15740402cdb\n""}]",0,796336,350c46dcaa5db6e0c8cd327153eee5880781c73e,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I120f72e60b6b7e34f2b32082412ad15740402cdb
",git fetch https://review.opendev.org/openstack/puppet-magnum refs/changes/36/796336/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-abf9c6aaf655247f.yaml']",2,350c46dcaa5db6e0c8cd327153eee5880781c73e,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-horizon~master~I6282fd3e5c0c2225eaf863976e3da34d26698083,openstack/puppet-horizon,master,I6282fd3e5c0c2225eaf863976e3da34d26698083,Drop Fedora support,ABANDONED,2021-06-15 02:30:29.000000000,2021-07-08 02:00:01.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:30:29.000000000', 'files': ['releasenotes/notes/drop-fedora-90031e891cd0a4b8.yaml', 'metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/ab98149b2790d01a3795cd070047b9c319b47295', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I6282fd3e5c0c2225eaf863976e3da34d26698083\n""}]",0,796335,ab98149b2790d01a3795cd070047b9c319b47295,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I6282fd3e5c0c2225eaf863976e3da34d26698083
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/35/796335/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/drop-fedora-90031e891cd0a4b8.yaml', 'metadata.json']",2,ab98149b2790d01a3795cd070047b9c319b47295,,," ""operatingsystem"": ""Fedora"", ""operatingsystemrelease"": [ ""24"" ] }, {",4,6
openstack%2Fpuppet-tempest~master~I1838c8aa81f1ef38b59d7983f0c3d2d5c4d60879,openstack/puppet-tempest,master,I1838c8aa81f1ef38b59d7983f0c3d2d5c4d60879,Drop Fedora support,ABANDONED,2021-06-15 03:17:12.000000000,2021-07-08 01:59:56.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 03:17:12.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-6857f38ee1e4a0bd.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tempest/commit/8e1778324caf405c450e6e54c4d6df6a5035e9a8', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I1838c8aa81f1ef38b59d7983f0c3d2d5c4d60879\n""}]",0,796354,8e1778324caf405c450e6e54c4d6df6a5035e9a8,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I1838c8aa81f1ef38b59d7983f0c3d2d5c4d60879
",git fetch https://review.opendev.org/openstack/puppet-tempest refs/changes/54/796354/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-6857f38ee1e4a0bd.yaml']",2,8e1778324caf405c450e6e54c4d6df6a5035e9a8,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-manila~master~I3682491f737e0d9274a4647731f34c64ec7279ff,openstack/puppet-manila,master,I3682491f737e0d9274a4647731f34c64ec7279ff,Drop Fedora support,ABANDONED,2021-06-15 02:41:04.000000000,2021-07-08 01:59:52.000000000,,"[{'_account_id': 9816}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 02:41:04.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-a40b4d92f34d80f2.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/ad7e612843828913a0af8042457a152ee141f0c4', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I3682491f737e0d9274a4647731f34c64ec7279ff\n""}]",0,796337,ad7e612843828913a0af8042457a152ee141f0c4,5,3,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I3682491f737e0d9274a4647731f34c64ec7279ff
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/37/796337/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-a40b4d92f34d80f2.yaml']",2,ad7e612843828913a0af8042457a152ee141f0c4,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-openstack_extras~master~Ie233bf20c781ec5a7b3587bc148366050341eb27,openstack/puppet-openstack_extras,master,Ie233bf20c781ec5a7b3587bc148366050341eb27,Drop Fedora support,ABANDONED,2021-06-15 05:55:43.000000000,2021-07-08 01:59:49.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 05:55:43.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-b7a8578a5dea4b14.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/1e2b5844c2ee0086201678849729535d5bd4c28b', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ie233bf20c781ec5a7b3587bc148366050341eb27\n""}]",0,796372,1e2b5844c2ee0086201678849729535d5bd4c28b,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ie233bf20c781ec5a7b3587bc148366050341eb27
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/72/796372/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-b7a8578a5dea4b14.yaml']",2,1e2b5844c2ee0086201678849729535d5bd4c28b,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-octavia~master~I28140d8ef011f4957deb5cf0da05ab2d1e6fbfc2,openstack/puppet-octavia,master,I28140d8ef011f4957deb5cf0da05ab2d1e6fbfc2,Drop Fedora support,ABANDONED,2021-06-15 06:12:56.000000000,2021-07-08 01:59:46.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 06:12:56.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-ec3042e230b3022e.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/c9a1d3c4f10e66d248e8a4b6d79e08dc85c7a7bb', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I28140d8ef011f4957deb5cf0da05ab2d1e6fbfc2\n""}]",0,796376,c9a1d3c4f10e66d248e8a4b6d79e08dc85c7a7bb,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I28140d8ef011f4957deb5cf0da05ab2d1e6fbfc2
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/76/796376/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-ec3042e230b3022e.yaml']",2,c9a1d3c4f10e66d248e8a4b6d79e08dc85c7a7bb,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-mistral~master~Ibfb856e2eb2097bef54646bcda8371fe5c981000,openstack/puppet-mistral,master,Ibfb856e2eb2097bef54646bcda8371fe5c981000,Drop Fedora support,ABANDONED,2021-06-15 06:17:24.000000000,2021-07-08 01:59:41.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 06:17:24.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-8774f082cce4029b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/bcea2abd0a424a902870e12fd4188e18bfb543cd', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ibfb856e2eb2097bef54646bcda8371fe5c981000\n""}]",0,796377,bcea2abd0a424a902870e12fd4188e18bfb543cd,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ibfb856e2eb2097bef54646bcda8371fe5c981000
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/77/796377/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-8774f082cce4029b.yaml']",2,bcea2abd0a424a902870e12fd4188e18bfb543cd,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-ovn~master~I95c5060291ed39b7800607a56cf0fe2e48adee0c,openstack/puppet-ovn,master,I95c5060291ed39b7800607a56cf0fe2e48adee0c,Drop Fedora support,ABANDONED,2021-06-15 03:34:18.000000000,2021-07-08 01:59:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 03:34:18.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-d1870df387b2f919.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/5725b3213213fdeec669f3d69275a5fbfdce816b', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I95c5060291ed39b7800607a56cf0fe2e48adee0c\n""}]",0,796361,5725b3213213fdeec669f3d69275a5fbfdce816b,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I95c5060291ed39b7800607a56cf0fe2e48adee0c
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/61/796361/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-d1870df387b2f919.yaml']",2,5725b3213213fdeec669f3d69275a5fbfdce816b,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-tacker~master~I519fd651b2336a04ae167f1664cc1aff1877af95,openstack/puppet-tacker,master,I519fd651b2336a04ae167f1664cc1aff1877af95,Drop Fedora support,ABANDONED,2021-06-15 03:30:42.000000000,2021-07-08 01:59:30.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 03:30:42.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-580f6ec5d6e16f86.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/ff1adbef231274c4dcd0fb92991ab3c5ba88cf41', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I519fd651b2336a04ae167f1664cc1aff1877af95\n""}]",0,796360,ff1adbef231274c4dcd0fb92991ab3c5ba88cf41,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I519fd651b2336a04ae167f1664cc1aff1877af95
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/60/796360/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-580f6ec5d6e16f86.yaml']",2,ff1adbef231274c4dcd0fb92991ab3c5ba88cf41,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-sahara~master~Ie7f3698ad930ea04d3fcf97e9a47979979f45922,openstack/puppet-sahara,master,Ie7f3698ad930ea04d3fcf97e9a47979979f45922,Drop Fedora support,ABANDONED,2021-06-15 03:28:12.000000000,2021-07-08 01:59:27.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 03:28:12.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-a3688d5fc0413f72.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-sahara/commit/0672a0d02ae29400c7cdf413c72035d478c6b78e', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: Ie7f3698ad930ea04d3fcf97e9a47979979f45922\n""}]",0,796358,0672a0d02ae29400c7cdf413c72035d478c6b78e,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: Ie7f3698ad930ea04d3fcf97e9a47979979f45922
",git fetch https://review.opendev.org/openstack/puppet-sahara refs/changes/58/796358/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-a3688d5fc0413f72.yaml']",2,0672a0d02ae29400c7cdf413c72035d478c6b78e,,"--- prelude: > Replace this text with content to appear at the top of the section for this release. All of the prelude content is merged together and then rendered separately from the items listed in other parts of the file, so the text needs to be worded so that both the prelude and the other items make sense when read independently. This may mean repeating some details. Not every release note requires a prelude. Usually only notes describing major features or adding release theme details should have a prelude. features: - | List new features here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. issues: - | List known issues here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. upgrade: - | List upgrade notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. deprecations: - | List deprecations notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. critical: - | Add critical notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. security: - | Add security notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. fixes: - | Add normal bug fixes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. other: - | Add other notes here, or remove this section. All of the list items in this section are combined when the release notes are rendered, so the text needs to be worded so that it does not depend on any information only available in another section, such as the prelude. This may mean repeating some details. ",,65,6
openstack%2Fpuppet-qdr~master~I3c936f3f64420a69157aee24361ccae28b4761c9,openstack/puppet-qdr,master,I3c936f3f64420a69157aee24361ccae28b4761c9,Drop Fedora support,ABANDONED,2021-06-15 05:51:36.000000000,2021-07-08 01:59:23.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 05:51:36.000000000', 'files': ['metadata.json', 'releasenotes/notes/drop-fedora-bce3a0c11caa011b.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-qdr/commit/b802e3892a44d87cd78250b105864ae4f8a723c0', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I3c936f3f64420a69157aee24361ccae28b4761c9\n""}]",0,796371,b802e3892a44d87cd78250b105864ae4f8a723c0,4,2,1,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

Change-Id: I3c936f3f64420a69157aee24361ccae28b4761c9
",git fetch https://review.opendev.org/openstack/puppet-qdr refs/changes/71/796371/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-bce3a0c11caa011b.yaml']",2,b802e3892a44d87cd78250b105864ae4f8a723c0,,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Ftripleo-ansible~master~If80f48c39ea9fcb09a75711932ddb3958a4e8b16,openstack/tripleo-ansible,master,If80f48c39ea9fcb09a75711932ddb3958a4e8b16,Fix tripleo_backup_and_restore_rear_simulate boolean check,MERGED,2021-07-06 11:55:48.000000000,2021-07-08 01:58:00.000000000,2021-07-08 01:58:00.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-06 11:55:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8e8fae804e88f1a8df409a5b869ef70132e28e97', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n'}, {'number': 2, 'created': '2021-07-06 12:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/12b23d2f4b24719228a2c2019f37c0eb2ecb26ff', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nCloses-Bug: #1934777\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n'}, {'number': 3, 'created': '2021-07-07 12:59:56.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/07658bc8e030d041baf836f95a15a43a0e315176', 'message': 'Fix tripleo_backup_and_restore_rear_simulate boolean check\n\nIf |bool is not added to the check,\n""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is\nconsidered to be True.\n\nCloses-Bug: #1934777\n\nChange-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16\n'}]",3,799649,07658bc8e030d041baf836f95a15a43a0e315176,15,7,3,32968,,,0,"Fix tripleo_backup_and_restore_rear_simulate boolean check

If |bool is not added to the check,
""--extra-vars tripleo_backup_and_restore_rear_simulate=false"" is
considered to be True.

Closes-Bug: #1934777

Change-Id: If80f48c39ea9fcb09a75711932ddb3958a4e8b16
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/799649/3 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml'],1,8e8fae804e88f1a8df409a5b869ef70132e28e97,change-799649-2, command: rear {{ '-s ' if tripleo_backup_and_restore_rear_simulate|bool else '' }}-d -v mkbackup, command: rear {{ '-s ' if tripleo_backup_and_restore_rear_simulate else '' }}-d -v mkbackup,1,1
openstack%2Fcyborg-specs~master~I1904efd872d7ab41ce6d835ce8dd8ab199b6a081,openstack/cyborg-specs,master,I1904efd872d7ab41ce6d835ce8dd8ab199b6a081,Running Cyborg with rootwrap as a daemon,ABANDONED,2021-05-04 07:50:51.000000000,2021-07-08 01:56:24.000000000,,"[{'_account_id': 22348}, {'_account_id': 25738}, {'_account_id': 26458}, {'_account_id': 28748}]","[{'number': 1, 'created': '2021-05-04 07:50:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ec3297b6d807bf8187482d35627c8401ebbbabd5', 'message': 'Running Nova with rootwrap as a daemon\n\nChange-Id: I1904efd872d7ab41ce6d835ce8dd8ab199b6a081\n'}, {'number': 2, 'created': '2021-05-08 06:57:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/3ef20bdfc81450dfce232a10ea2c8ddf2b8182b9', 'message': 'Running Cyborg with rootwrap as a daemon\n\nChange-Id: I1904efd872d7ab41ce6d835ce8dd8ab199b6a081\n'}, {'number': 3, 'created': '2021-05-17 08:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/78d6574f991d24d55196fe2cd56ba41093e3bd1c', 'message': 'Running Cyborg with rootwrap as a daemon\n\nChange-Id: I1904efd872d7ab41ce6d835ce8dd8ab199b6a081\n'}, {'number': 4, 'created': '2021-05-17 08:48:56.000000000', 'files': ['specs/xena/approved/cyborg-rootwrap-daemon-mode.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/8a2aabe27b346159ec328a22546ed5b75d70b42a', 'message': 'Running Cyborg with rootwrap as a daemon\n\nThis blueprint proposes adopting functionality in oslo.rootwrap that\nwould allow to run rootwrap daemon.\n\nImplements: blueprint cyborg-rootwrap-daemon-mode\n\nChange-Id: I1904efd872d7ab41ce6d835ce8dd8ab199b6a081\n'}]",22,789506,8a2aabe27b346159ec328a22546ed5b75d70b42a,14,4,4,31412,,,0,"Running Cyborg with rootwrap as a daemon

This blueprint proposes adopting functionality in oslo.rootwrap that
would allow to run rootwrap daemon.

Implements: blueprint cyborg-rootwrap-daemon-mode

Change-Id: I1904efd872d7ab41ce6d835ce8dd8ab199b6a081
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/06/789506/3 && git format-patch -1 --stdout FETCH_HEAD,['specs/xena/approved/cyborg-rootwrap-daemon-mode.rst'],1,ec3297b6d807bf8187482d35627c8401ebbbabd5,bp/cyborg-rootwrap-daemon-mode,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ==================== rootwrap daemon mode ==================== https://blueprints.launchpad.net/openstack-cyborg/+spec/cyborg-rootwrap-daemon-mode Cyborg is one of projects that heavily depends on executing actions on compute nodes that require root priviledges on Linux system. Currently this is achieved with oslo.rootwrap that has to be run with sudo. Both sudo and rootwrap produce significant performance overhead. This blueprint is one of the series of blueprints that would cover mitigating rootwrap part of the overhead using new mode of operations for rootwrap - daemon mode. Nova and Neutron have already adopted this approach. Problem description =================== Today, if the user uses Cyborg to manage NVMe SSD, it will raise `permission denied` by executing the `lvdisplay` command line to get the root disk with stack user. As you can see in [#ne_ml]_ rootwrap presents big performance overhead for Neutron. Impact on Cyborg is not as signigicant since most of the work is done with lspci cmd but it is still there. Details of the overhead are covered in [#rw_bp]_. Use Cases ---------- When the user is using Cyborg to manage accelerators such as NVMe SSD, AEP and so on, we need to make the `lvdisplay` and `ndctl` commands excuted with root priviledged. Project Priority ----------------- None Proposed change =============== This blueprint proposes adopting functionality in oslo.rootwrap that would allow to run rootwrap daemon. The daemon will work just as a usual rootwrap but will accept commands to be run over authenticated UNIX domain socket instead of command line and will run continuously in background. Note that this is not usual RPC over some message queue. It uses UNIX socket, so no remote connections are available. It also uses digest authentication with key shared over stdout (pipe) with parent process, so no other processes will have access to the daemon. Further details of rootwrap daemon are covered in [#rw_bp]_. ``use_rootwrap_daemon`` configuration option should be added that will make ``utils.execute`` use daemon instead of usual rootwrap. Alternatives ------------ Alternative approaches have been discussed for Neutron in [#ne_eth]_. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- This change requires additional endpoint to be available to run as root - ``cyborg-rootwrap-daemon``. It should be added to the ``sudoers`` file. All security issues with using client+daemon instead of plain rootwrap are covered in [#rw_bp]_. Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ This change introduces performance boost for disk and network operations that are required to be run with root priviledges in ``cyborg-agent``. Current state of rootwrap daemon shows over 10x speedup comparing to usual ``sudo rootwrap`` call. Total speedup for Cyborg will be less impressive but should be noticeable. Other deployer impact --------------------- This change introduces new config variable ``use_rootwrap_daemon`` that switches on new behavior. Note that by default ``use_rootwrap_daemon`` will be turned off so to get the speedup one will have to turn it on. With it turned on ``cyborg-rootwrap-daemon`` is used to run commands that require root priviledges. This change also introduces new binary ``cyborg-rootwrap-daemon`` that should be deployed beside ``cyborg-rootwrap`` and added to ``sudoers``. Developer impact ---------------- None Implementation ============== Assignee(s) ----------- Primary assignee: Davanum Srinivas <davanum@gmail.com> Work Items ---------- The only work item here is to implement new config variable and run rootwrap in daemon mode with it. Dependencies ============ * rootwrap-daemon-mode blueprint in oslo.rootwrap [#rw_bp]_. Testing ======= This change doesn't change APIs so it doesn't require additional integration tests. Documentation Impact ==================== None References ========== .. [#rw_bp] oslo.rootwrap blueprint: https://blueprints.launchpad.net/openstack-cyborg/+spec/cyborg-rootwrap-daemon-mode .. [#ne_ml] Original mailing list thread: http://lists.openstack.org/pipermail/openstack-dev/2014-March/029017.html .. [#ne_eth] Original problem statement summarized here: https://etherpad.openstack.org/p/neutron-agent-exec-performance .. [#cyborg_perf] Cyborg check-tempest-dsvm-full comparison: https://docs.google.com/spreadsheets/d/1sxhan2fRg6eshY4559O8z1g8sFPRXma00xz53nZ6sAI/edit#gid=870990378 ",,165,0
openstack%2Fpuppet-horizon~master~Ia53fa9780371c238b1bddb24d4cc4bf3eda75264,openstack/puppet-horizon,master,Ia53fa9780371c238b1bddb24d4cc4bf3eda75264,Correction of syntax errors,ABANDONED,2018-12-01 03:31:06.000000000,2021-07-08 01:56:07.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-01 03:31:06.000000000', 'files': ['releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-horizon/commit/7a758b225d54e315fa5d2995a426f5ee73a18e61', 'message': 'Correction of syntax errors\n\nChange-Id: Ia53fa9780371c238b1bddb24d4cc4bf3eda75264\n'}]",0,621327,7a758b225d54e315fa5d2995a426f5ee73a18e61,3,1,1,27566,,,0,"Correction of syntax errors

Change-Id: Ia53fa9780371c238b1bddb24d4cc4bf3eda75264
",git fetch https://review.opendev.org/openstack/puppet-horizon refs/changes/27/621327/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/ssl-redirect-bug-38095eeba290933a.yaml'],1,7a758b225d54e315fa5d2995a426f5ee73a18e61,, Fixed a bug where having ssl and redirection enabled combined with an empty, Fixed a bug where having ssl and redirection enabled combined with a empty,1,1
openstack%2Fpuppet-cinder~master~I1c24f9a00a8cded31fed11b786a9253ae22b5442,openstack/puppet-cinder,master,I1c24f9a00a8cded31fed11b786a9253ae22b5442,Added support for VStorage backup driver,ABANDONED,2017-05-12 10:15:40.000000000,2021-07-08 01:52:23.000000000,,"[{'_account_id': 3}, {'_account_id': 8971}, {'_account_id': 9414}, {'_account_id': 12408}, {'_account_id': 13431}, {'_account_id': 14985}, {'_account_id': 18795}, {'_account_id': 21284}]","[{'number': 1, 'created': '2017-05-12 10:15:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/d25c27ffdfda1a86ae2bd49401aec4c3ad179e9f', 'message': 'Cinder: Added class for VStorage backup driver\n\nChange-Id: I1c24f9a00a8cded31fed11b786a9253ae22b5442\nDepends-On: I180500fbd1eb790e0caf19bcf8061b7536a63120\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 2, 'created': '2017-05-12 15:19:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/00013ce958f251c9f58bb8ed4afe198664c1a5f1', 'message': 'Added class for VStorage backup driver\n\nChange-Id: I1c24f9a00a8cded31fed11b786a9253ae22b5442\nDepends-On: I180500fbd1eb790e0caf19bcf8061b7536a63120\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 3, 'created': '2017-05-15 16:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/63a62ac80d4f5cb7dbb37df606ecdd1de2842aa2', 'message': 'Added support for VStorage backup driver\n\nChange-Id: I1c24f9a00a8cded31fed11b786a9253ae22b5442\nDepends-On: I180500fbd1eb790e0caf19bcf8061b7536a63120\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}, {'number': 4, 'created': '2017-05-19 15:09:11.000000000', 'files': ['releasenotes/notes/vstorage-backup-backend-6a36eb036242b880.yaml', 'spec/classes/cinder_backup_vstorage_spec.rb', 'manifests/backup/vstorage.pp'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/29a8a3c7d49127416193d4b9bae4f6f4c88de1e6', 'message': 'Added support for VStorage backup driver\n\nChange-Id: I1c24f9a00a8cded31fed11b786a9253ae22b5442\nDepends-On: I180500fbd1eb790e0caf19bcf8061b7536a63120\nSigned-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>\n'}]",0,464173,29a8a3c7d49127416193d4b9bae4f6f4c88de1e6,27,8,4,21284,,,0,"Added support for VStorage backup driver

Change-Id: I1c24f9a00a8cded31fed11b786a9253ae22b5442
Depends-On: I180500fbd1eb790e0caf19bcf8061b7536a63120
Signed-off-by: Pavel Glushchak <pglushchak@virtuozzo.com>
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/73/464173/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/cinder_backup_vstorage_spec.rb', 'manifests/backup/vstorage.pp']",2,d25c27ffdfda1a86ae2bd49401aec4c3ad179e9f,vstorage_backup,"# == Class: cinder::backup::vstorage # # Setup Cinder to backup volumes into VStorage. # # === Parameters # # [*backup_share*] # VzStorage backup share. # # [*backup_mount_point*] # (optional) Mount point. # Defaults to $::os_service_default # # [*backup_mount_user*] # (optional) Mount user. # Defaults to $::os_service_default # # [*backup_mount_group*] # (optional) Mount group. # Defaults to $::os_service_default # # [*backup_mount_perms*] # (optional) Mount permissions. # Defaults to $::os_service_default # class cinder::backup::vstorage ( $backup_share, $backup_mount_point = $::os_service_default, $backup_mount_user = $::os_service_default, $backup_mount_group = $::os_service_default, $backup_mount_perms = $::os_service_default, ) { include ::cinder::deps cinder_config { 'DEFAULT/backup_driver': value => 'cinder.backup.drivers.vzstorage'; 'DEFAULT/vzstorage_backup_share': value => $backup_share; 'DEFAULT/vzstorage_backup_mount_point': value => $backup_mount_point; 'DEFAULT/vzstorage_backup_mount_user': value => $backup_mount_user; 'DEFAULT/vzstorage_backup_mount_group': value => $backup_mount_group; 'DEFAULT/vzstorage_backup_mount_perms': value => $backup_mount_perms; } } ",,91,0
openstack%2Fpuppet-openstack-integration~master~I68963641b38c5150201d43f129bd08613f91f0bf,openstack/puppet-openstack-integration,master,I68963641b38c5150201d43f129bd08613f91f0bf,Do not enable cinder v2 api,ABANDONED,2020-11-13 06:45:43.000000000,2021-07-08 01:45:00.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2020-11-13 06:45:43.000000000', 'files': ['manifests/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/e56939e05d37524a0cea53f031536722a0afe5e5', 'message': 'Do not enable cinder v2 api\n\n... because it was already deprecated.\n\nDepends-on: https://review.opendev.org/#/c/762618/\nChange-Id: I68963641b38c5150201d43f129bd08613f91f0bf\n'}]",0,762619,e56939e05d37524a0cea53f031536722a0afe5e5,3,1,1,9816,,,0,"Do not enable cinder v2 api

... because it was already deprecated.

Depends-on: https://review.opendev.org/#/c/762618/
Change-Id: I68963641b38c5150201d43f129bd08613f91f0bf
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/19/762619/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/cinder.pp'],1,e56939e05d37524a0cea53f031536722a0afe5e5,cinder-v2-api,," public_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"", internal_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"", admin_url_v2 => ""${::openstack_integration::config::base_url}:8776/v2/%(tenant_id)s"",",0,3
openstack%2Fpuppet-openstack-integration~master~I0e93b378912bc813d557fd3f4052e9d7b5c89b84,openstack/puppet-openstack-integration,master,I0e93b378912bc813d557fd3f4052e9d7b5c89b84,Use the new horizon::heat class,ABANDONED,2021-02-12 07:39:22.000000000,2021-07-08 01:43:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-02-12 07:39:22.000000000', 'files': ['fixtures/scenario003.pp', 'manifests/horizon.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/5b7a88fd3e9a4060c9925c216eb3845cb797997a', 'message': 'Use the new horizon::heat class\n\nDepends-on: https://review.opendev.org/775322\nChange-Id: I0e93b378912bc813d557fd3f4052e9d7b5c89b84\n'}]",0,775323,5b7a88fd3e9a4060c9925c216eb3845cb797997a,3,1,1,9816,,,0,"Use the new horizon::heat class

Depends-on: https://review.opendev.org/775322
Change-Id: I0e93b378912bc813d557fd3f4052e9d7b5c89b84
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/23/775323/1 && git format-patch -1 --stdout FETCH_HEAD,"['fixtures/scenario003.pp', 'manifests/horizon.pp']",2,5b7a88fd3e9a4060c9925c216eb3845cb797997a,heat-dashboard,"# Configure the Horizon service # # [*enable_heat*] # (optional) Enable heat-dashboard # Defaults to false. # class openstack_integration::horizon ( enable_heat = false, ) { if enable_heat { class {'horizon::dashboards::heat': } }",class openstack_integration::horizon { horizon::dashboard { 'heat': },15,3
openstack%2Fdiskimage-builder~master~If86a0e49186ce5a65cc0084101d31ce59a97b854,openstack/diskimage-builder,master,If86a0e49186ce5a65cc0084101d31ce59a97b854,Add element block-device-efi-lvm,MERGED,2021-05-07 00:03:46.000000000,2021-07-08 01:10:08.000000000,2021-07-08 01:08:26.000000000,"[{'_account_id': 4146}, {'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 9592}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-07 00:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/36e444f3f88aeab89e4d225ac05e9aabf41b3464', 'message': 'Add element block-device-efi-lvm\n\nElement block-device-efi-lvm has been added which is like\nblock-device-efi but defines an LVM logical group in the root\npartition. Four logical volumes are defined in that group, mounted to\n/, /tmp, /var, and /home.\n\nThis volume layout will not meet all requirements, but this is more of\nan example demonstrating the capability to encourage more usage of\nthis existing feature.\n\nThis is based on the overcloud-partition-uefi element in\ntripleo-image-elements, and I believe this capability is too useful to\nhave the only working example buried in a related project repo.\n\nChange-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854\nBlueprint: whole-disk-default\n'}, {'number': 2, 'created': '2021-05-09 22:00:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eafd6e5c5b0bb812ed2e49c26a51a17561cf080b', 'message': ""Add element block-device-efi-lvm\n\nElement block-device-efi-lvm has been added which is like\nblock-device-efi but defines an LVM logical group in the root\npartition. Four logical volumes are defined in that group, mounted to\n/, /tmp, /var, and /home.\n\nThis volume layout will not meet all requirements, but this is more of\nan example demonstrating the capability to encourage more usage of\nthis existing feature.\n\nThis is based on the overcloud-partition-uefi element in\ntripleo-image-elements, and I believe this capability is too useful to\nhave the only working example buried in a related project repo.\n\nThis change also fixes the element string matching in\n_arg_defaults_hack, the 'vm' test was also matching against 'lvm' and\n'block-device-efi-lvm' elements. Also the 'block-device-' test now\nproperly tests for this being the prefix of the block-device element.\n\nChange-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854\nBlueprint: whole-disk-default\n""}, {'number': 3, 'created': '2021-05-13 02:46:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d7c4f2067744d7b3ed613ee852192f061057f932', 'message': ""Add element block-device-efi-lvm\n\nElement block-device-efi-lvm has been added which is like\nblock-device-efi but defines an LVM logical group in the root\npartition. Four logical volumes are defined in that group, mounted to\n/, /tmp, /var, and /home.\n\nThis volume layout will not meet all requirements, but this is more of\nan example demonstrating the capability to encourage more usage of\nthis existing feature.\n\nThis is based on the overcloud-partition-uefi element in\ntripleo-image-elements, and I believe this capability is too useful to\nhave the only working example buried in a related project repo.\n\nThis change also fixes the element string matching in\n_arg_defaults_hack, the 'vm' test was also matching against 'lvm' and\n'block-device-efi-lvm' elements. Also the 'block-device-' test now\nproperly tests for this being the prefix of the block-device element.\n\nChange-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854\nBlueprint: whole-disk-default\n""}, {'number': 4, 'created': '2021-05-20 01:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/eff7f0fd07350383cb8487cf7661d30a3c7961ef', 'message': ""Add element block-device-efi-lvm\n\nElement block-device-efi-lvm has been added which is like\nblock-device-efi but defines an LVM logical group in the root\npartition. Three logical volumes are defined in that group, mounted to\n/, /var, and /home.\n\nThis volume layout will not meet all requirements, but this is more of\nan example demonstrating the capability to encourage more usage of\nthis existing feature.\n\nThis is based on the overcloud-partition-uefi element in\ntripleo-image-elements, and I believe this capability is too useful to\nhave the only working example buried in a related project repo.\n\nThis change also fixes the element string matching in\n_arg_defaults_hack, the 'vm' test was also matching against 'lvm' and\n'block-device-efi-lvm' elements. Also the 'block-device-' test now\nproperly tests for this being the prefix of the block-device element.\n\nThis change also makes block-device-efi fsck-passno compliant with the\ndocumentation[1] so that / has value 1 and all other mounts are set to\n2.\n\n[1] https://www.man7.org/linux/man-pages/man5/fstab.5.html\n\nChange-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854\nBlueprint: whole-disk-default\n""}, {'number': 5, 'created': '2021-06-01 05:27:42.000000000', 'files': ['diskimage_builder/elements/block-device-efi-lvm/README.rst', 'diskimage_builder/elements/block-device-efi-lvm/block-device-default.yaml', 'diskimage_builder/elements/block-device-efi-lvm/element-provides', 'diskimage_builder/elements/block-device-efi-lvm/environment.d/15-block-device.bash', 'diskimage_builder/lib/common-functions', 'diskimage_builder/elements/block-device-efi/block-device-default.yaml', 'releasenotes/notes/block-device-efi-lvm-c53272600ccd6d18.yaml'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/ab8d2910c4234581025b8728f255e647f1d77a3d', 'message': ""Add element block-device-efi-lvm\n\nElement block-device-efi-lvm has been added which is like\nblock-device-efi but defines an LVM logical group in the root\npartition. Three logical volumes are defined in that group, mounted to\n/, /var, and /home.\n\nThis volume layout will not meet all requirements, but this is more of\nan example demonstrating the capability to encourage more usage of\nthis existing feature.\n\nThis is based on the overcloud-partition-uefi element in\ntripleo-image-elements, and I believe this capability is too useful to\nhave the only working example buried in a related project repo.\n\nThis change also fixes the element string matching in\n_arg_defaults_hack, the 'vm' test was also matching against 'lvm' and\n'block-device-efi-lvm' elements. Also the 'block-device-' test now\nproperly tests for this being the prefix of the block-device element.\n\nThis change also makes block-device-efi fsck-passno compliant with the\ndocumentation[1] so that / has value 1 and all other mounts are set to\n2.\n\n[1] https://www.man7.org/linux/man-pages/man5/fstab.5.html\n\nChange-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854\nBlueprint: whole-disk-default\n""}]",0,790192,ab8d2910c4234581025b8728f255e647f1d77a3d,55,7,5,4571,,,0,"Add element block-device-efi-lvm

Element block-device-efi-lvm has been added which is like
block-device-efi but defines an LVM logical group in the root
partition. Three logical volumes are defined in that group, mounted to
/, /var, and /home.

This volume layout will not meet all requirements, but this is more of
an example demonstrating the capability to encourage more usage of
this existing feature.

This is based on the overcloud-partition-uefi element in
tripleo-image-elements, and I believe this capability is too useful to
have the only working example buried in a related project repo.

This change also fixes the element string matching in
_arg_defaults_hack, the 'vm' test was also matching against 'lvm' and
'block-device-efi-lvm' elements. Also the 'block-device-' test now
properly tests for this being the prefix of the block-device element.

This change also makes block-device-efi fsck-passno compliant with the
documentation[1] so that / has value 1 and all other mounts are set to
2.

[1] https://www.man7.org/linux/man-pages/man5/fstab.5.html

Change-Id: If86a0e49186ce5a65cc0084101d31ce59a97b854
Blueprint: whole-disk-default
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/92/790192/1 && git format-patch -1 --stdout FETCH_HEAD,"['diskimage_builder/elements/block-device-efi-lvm/README.rst', 'diskimage_builder/elements/block-device-efi-lvm/block-device-default.yaml', 'diskimage_builder/elements/block-device-efi-lvm/element-provides', 'diskimage_builder/elements/block-device-efi-lvm/environment.d/15-block-device.bash', 'releasenotes/notes/block-device-efi-lvm-c53272600ccd6d18.yaml']",5,36e444f3f88aeab89e4d225ac05e9aabf41b3464,bp/whole-disk-default,"--- features: - | Element block-device-efi-lvm has been added which is like block-device-efi but defines an LVM logical group in the root partition. Four logical volumes are defined in that group, mounted to /, /tmp, /var, and /home. This volume layout will not meet all requirements, but this is more of an example demonstrating the capability to encourage more usage of this existing feature. ",,122,0
openstack%2Fgovernance~master~I46f46697fc46ad7b54d92c87933612866bfbd83d,openstack/governance,master,I46f46697fc46ad7b54d92c87933612866bfbd83d,Add DPL model also in 'Appointing leaders' section,MERGED,2021-06-24 16:57:19.000000000,2021-07-08 00:39:20.000000000,2021-07-08 00:38:00.000000000,"[{'_account_id': 4393}, {'_account_id': 7198}, {'_account_id': 8556}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-06-24 16:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/84e4e45c33c3151aa9e17753804beff352fd7f7b', 'message': ""Add DPL model also in 'Appointing leaders' section\n\nChange-Id: I46f46697fc46ad7b54d92c87933612866bfbd83d\n""}, {'number': 2, 'created': '2021-06-30 14:19:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance/commit/a9df361e0efb9b7afdaa74be888ad77f7e0a3b1e', 'message': ""Add DPL model also in 'Appointing leaders' section\n\nChange-Id: I46f46697fc46ad7b54d92c87933612866bfbd83d\n""}, {'number': 3, 'created': '2021-06-30 14:36:36.000000000', 'files': ['reference/house-rules.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/276a78e3b5560ad1d5728df7d0469e3a5f505c0c', 'message': ""Add DPL model also in 'Appointing leaders' section\n\nChange-Id: I46f46697fc46ad7b54d92c87933612866bfbd83d\n""}]",9,797985,276a78e3b5560ad1d5728df7d0469e3a5f505c0c,22,6,3,8556,,,0,"Add DPL model also in 'Appointing leaders' section

Change-Id: I46f46697fc46ad7b54d92c87933612866bfbd83d
",git fetch https://review.opendev.org/openstack/governance refs/changes/85/797985/2 && git format-patch -1 --stdout FETCH_HEAD,['reference/house-rules.rst'],1,84e4e45c33c3151aa9e17753804beff352fd7f7b,formal-vote,"Appointing Project Leaders --------------------------In case of a project with or moving to Distributed Project Leadership model (see :doc:`/resolutions/20200803-distributed-project-leadership`), the TC will make sure all the mandatory liaisons in the DPL model are assigned. ",Appointing PTLs ---------------,6,2
openstack%2Fswift~master~Ided663c5d7f42d6cdfb307fb893948cfedac930f,openstack/swift,master,Ided663c5d7f42d6cdfb307fb893948cfedac930f,WIP: playing with close_connection,NEW,2021-07-07 21:58:29.000000000,2021-07-08 00:04:04.000000000,,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 21:58:29.000000000', 'files': ['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py', 'swift/common/constraints.py', 'swift/proxy/controllers/obj.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/3f0e96f59332586f020d9a4a4bfc7f65b54a6153', 'message': 'WIP: playing with close_connection\n\nChange-Id: Ided663c5d7f42d6cdfb307fb893948cfedac930f\n'}]",4,799920,3f0e96f59332586f020d9a4a4bfc7f65b54a6153,4,2,1,1179,,,0,"WIP: playing with close_connection

Change-Id: Ided663c5d7f42d6cdfb307fb893948cfedac930f
",git fetch https://review.opendev.org/openstack/swift refs/changes/20/799920/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_http_protocol.py', 'swift/common/http_protocol.py', 'swift/common/constraints.py', 'swift/proxy/controllers/obj.py']",4,3f0e96f59332586f020d9a4a4bfc7f65b54a6153,,from swift.common import constraints req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True req.env['swift.close_connection'] = True,"from swift.common import constraints, http_protocol http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True http_protocol.LOCALS.close_connection = True",34,39
openstack%2Fmanila~stable%2Fwallaby~I5cf9788dcafebdf88426617d2824f4be42dbb412,openstack/manila,stable/wallaby,I5cf9788dcafebdf88426617d2824f4be42dbb412,"Filter shares by share type ""extra_specs""",MERGED,2021-07-07 16:54:54.000000000,2021-07-07 23:41:59.000000000,2021-07-07 20:19:26.000000000,"[{'_account_id': 9003}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32493}]","[{'number': 1, 'created': '2021-07-07 16:54:54.000000000', 'files': ['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/59a0c147df9e9255b3199fbb6846311f0fe8cef1', 'message': 'Filter shares by share type ""extra_specs""\n\nThis change fixes the query being used to filter share\ntypes. We were using an ""or"" clause instead of an ""and"" clause,\nand that was causing all the extra specs to be shown instead of\nthe ones that the user specified. With this fix, manila users will\nbe able to filter shares by share type extra_specs accurately.\n\nCloses-Bug: #1929121\n\nChange-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412\n(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)\n'}]",0,799775,59a0c147df9e9255b3199fbb6846311f0fe8cef1,13,4,1,16643,,,0,"Filter shares by share type ""extra_specs""

This change fixes the query being used to filter share
types. We were using an ""or"" clause instead of an ""and"" clause,
and that was causing all the extra specs to be shown instead of
the ones that the user specified. With this fix, manila users will
be able to filter shares by share type extra_specs accurately.

Closes-Bug: #1929121

Change-Id: I5cf9788dcafebdf88426617d2824f4be42dbb412
(cherry picked from commit 4fbacf1df1dbe7a85726e22892d462b5b7c4e316)
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/799775/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila/db/sqlalchemy/api.py', 'releasenotes/notes/bug-192912-fix-filtering-shares-by-extra-specs-b79235301306bcf2.yaml']",2,59a0c147df9e9255b3199fbb6846311f0fe8cef1,bug/1929121,"--- fixes: - | Filtering shares by share-type ""extra_specs"" as key=value now returns the expected output. ",,8,2
openstack%2Fswift~master~Ic82f8ba706a8b6889b37ec4fa40b24bdad3c3521,openstack/swift,master,Ic82f8ba706a8b6889b37ec4fa40b24bdad3c3521,Drain and close more internal client requests,MERGED,2021-07-07 19:33:10.000000000,2021-07-07 23:29:04.000000000,2021-07-07 23:27:45.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 19:33:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b8004812b3e2f2161d584dbc889aa9e6c176bf68', 'message': 'Drain and close more internal client requests\n\nSpecifically avoid logging a 499 when object-expirer calls\nswift.delete_container after clearing a bucket\n\nRelated-Change-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\nChange-Id: Ic82f8ba706a8b6889b37ec4fa40b24bdad3c3521\n'}, {'number': 2, 'created': '2021-07-07 21:29:39.000000000', 'files': ['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/26c3d819b0c14422b8e0bd5ec8c3c6f5d4fdb3ab', 'message': 'Drain and close more internal client requests\n\nSpecifically avoid logging a 499 when object-expirer calls\nswift.delete_container after clearing a bucket\n\nRelated-Change-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\nChange-Id: Ic82f8ba706a8b6889b37ec4fa40b24bdad3c3521\n'}]",2,799908,26c3d819b0c14422b8e0bd5ec8c3c6f5d4fdb3ab,12,2,2,1179,,,0,"Drain and close more internal client requests

Specifically avoid logging a 499 when object-expirer calls
swift.delete_container after clearing a bucket

Related-Change-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac
Change-Id: Ic82f8ba706a8b6889b37ec4fa40b24bdad3c3521
",git fetch https://review.opendev.org/openstack/swift refs/changes/08/799908/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/test_internal_client.py', 'swift/common/internal_client.py']",2,b8004812b3e2f2161d584dbc889aa9e6c176bf68,," def handle_request(self, *args, **kwargs): resp = self.make_request(*args, **kwargs) # Drain the response body to prevent unexpected disconnect # in proxy-server drain_and_close(resp) self.handle_request('POST', path, headers, acceptable_statuses) self.handle_request('PUT', path, {}, (201, 202)) self.handle_request('DELETE', path, {}, acceptable_statuses) self.handle_request('PUT', path, headers, acceptable_statuses) self.handle_request('DELETE', path, headers, acceptable_statuses) self.handle_request('DELETE', path, (headers or {}), acceptable_statuses) self.handle_request('PUT', path, headers, acceptable_statuses, fobj, params=params)"," self.make_request('POST', path, headers, acceptable_statuses) self.make_request('PUT', path, {}, (201, 202)) self.make_request('DELETE', path, {}, acceptable_statuses) self.make_request('PUT', path, headers, acceptable_statuses) self.make_request('DELETE', path, headers, acceptable_statuses) resp = self.make_request('DELETE', path, (headers or {}), acceptable_statuses) # Drain the response body to prevent unexpected disconnect # in proxy-server drain_and_close(resp) self.make_request('PUT', path, headers, acceptable_statuses, fobj, params=params)",123,12
openstack%2Ftripleo-ansible~master~I94283e928080a417a5ea505c789e6485a3334129,openstack/tripleo-ansible,master,I94283e928080a417a5ea505c789e6485a3334129,Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.,MERGED,2021-07-07 12:43:43.000000000,2021-07-07 23:09:15.000000000,2021-07-07 23:09:15.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-07-07 12:43:43.000000000', 'files': ['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/06a102a620e0830c3d9af6bb1bcbcf6a5cdc4df8', 'message': 'Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.\n\nReplace the hardcoded reference to /home/stack by the HOME\nenvironment variable.\n\nChange-Id: I94283e928080a417a5ea505c789e6485a3334129\n'}]",0,799805,06a102a620e0830c3d9af6bb1bcbcf6a5cdc4df8,10,6,1,26343,,,0,"Avoid hardcoding /home/stack in cli-undercloud-db-backup.yaml.

Replace the hardcoded reference to /home/stack by the HOME
environment variable.

Change-Id: I94283e928080a417a5ea505c789e6485a3334129
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/05/799805/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'],1,06a102a620e0830c3d9af6bb1bcbcf6a5cdc4df8,," tripleo_backup_and_restore_mysql_backup_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""{{ lookup('env', 'HOME') }}/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"""," tripleo_backup_and_restore_mysql_backup_file: ""/home/stack/openstack-backup-mysql-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""/home/stack/openstack-backup-mysql-grants-{{ lookup('pipe', 'date +%F_%H_%M_%S') }}.sql""",2,2
openstack%2Ftripleo-ansible~master~I1ffb37b81807119ad41bc899b12c1a331ee06e7d,openstack/tripleo-ansible,master,I1ffb37b81807119ad41bc899b12c1a331ee06e7d,Ceph roles cleanup,MERGED,2021-07-07 07:26:27.000000000,2021-07-07 23:09:10.000000000,2021-07-07 23:09:10.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-07-07 07:26:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4bbf90c3976eab3aa3c8503dbc40d7d8fab7d6f', 'message': ""Ceph roles cleanup\n\nSince we don't have ceph-ansible anymore, we can rework the existing\ntripleo-ansible ceph roles removing some unused content. For this\nreason this patch removes the tripleo_ceph_work_dir role since most\nof the tasks that are supposed to prepare the cephadm environment\nare executed using the tripleo_run_cephadm role.\n\nChange-Id: I1ffb37b81807119ad41bc899b12c1a331ee06e7d\n""}, {'number': 2, 'created': '2021-07-07 07:36:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2eb26098e1d72a6101ae5b3d3a7ce4c09440221e', 'message': ""Ceph roles cleanup\n\nSince we don't have ceph-ansible anymore, we can rework the existing\ntripleo-ansible ceph roles removing some unused content. For this\nreason this patch removes the tripleo_ceph_work_dir role since most\nof the tasks that are supposed to prepare the cephadm environment\nare executed using the tripleo_run_cephadm role.\n\nChange-Id: I1ffb37b81807119ad41bc899b12c1a331ee06e7d\n""}, {'number': 3, 'created': '2021-07-07 11:51:50.000000000', 'files': ['tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/molecule.yml', 'tripleo_ansible/playbooks/ceph.yaml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/templates/external_inventory.ini.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_config_overrides.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d15400157229d0e4cfab145c6c7b71d3c30b4c78', 'message': ""Ceph roles cleanup\n\nSince we don't have ceph-ansible anymore, we can rework the existing\ntripleo-ansible ceph roles removing some unused content. For this\nreason this patch removes the tripleo_ceph_work_dir role since most\nof the tasks that are supposed to prepare the cephadm environment\nare executed using the tripleo_run_cephadm role.\n\nChange-Id: I1ffb37b81807119ad41bc899b12c1a331ee06e7d\n""}]",0,799746,d15400157229d0e4cfab145c6c7b71d3c30b4c78,19,6,3,25402,,,0,"Ceph roles cleanup

Since we don't have ceph-ansible anymore, we can rework the existing
tripleo-ansible ceph roles removing some unused content. For this
reason this patch removes the tripleo_ceph_work_dir role since most
of the tasks that are supposed to prepare the cephadm environment
are executed using the tripleo_run_cephadm role.

Change-Id: I1ffb37b81807119ad41bc899b12c1a331ee06e7d
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/46/799746/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_ceph_work_dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_pools.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_keys.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/Dockerfile', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/converge.yml', 'tripleo_ansible/roles/tripleo_run_cephadm/tasks/build_config_overrides.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/meta/main.yml', 'tripleo_ansible/roles/tripleo_ceph_work_dir/templates/external_inventory.ini.j2', 'tripleo_ansible/roles/tripleo_ceph_work_dir/molecule/default/prepare.yml']",10,c4bbf90c3976eab3aa3c8503dbc40d7d8fab7d6f,ceph_ansible_cleanup,,"--- # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: Prepare hosts: all roles: - role: test_deps ",0,199
openstack%2Ftripleo-upgrade~stable%2Ftrain~I56ff07b5bd52857eb76e709c3690d323567d3213,openstack/tripleo-upgrade,stable/train,I56ff07b5bd52857eb76e709c3690d323567d3213,[Train-Only] Remove network agent check from sanity_check,MERGED,2021-07-07 10:25:22.000000000,2021-07-07 23:09:06.000000000,2021-07-07 23:09:06.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-07 10:25:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/6b57ef66aebac239af84cbf8d7903685c97a0afe', 'message': '[Train-Only] Remove network agent check from sanity_check\n\nStain version of OVN doesn\'t have network agent. ""openstack network\nagent list"" is empty thus the check fails. This patch removes ""openstack\nnetwork agent list"" from sanity_check\n\nChange-Id: I56ff07b5bd52857eb76e709c3690d323567d3213\n'}, {'number': 2, 'created': '2021-07-07 11:05:39.000000000', 'files': ['templates/workload_launch.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/367756b9898cc0866b26aa226f37f795fcde551a', 'message': '[Train-Only] Remove network agent check from sanity_check\n\nTrain version of OVN doesn\'t have network agent. ""openstack network\nagent list"" is empty thus the check fails. This patch removes ""openstack\nnetwork agent list"" from sanity_check\n\nChange-Id: I56ff07b5bd52857eb76e709c3690d323567d3213\n'}]",4,799785,367756b9898cc0866b26aa226f37f795fcde551a,11,5,2,11090,,,0,"[Train-Only] Remove network agent check from sanity_check

Train version of OVN doesn't have network agent. ""openstack network
agent list"" is empty thus the check fails. This patch removes ""openstack
network agent list"" from sanity_check

Change-Id: I56ff07b5bd52857eb76e709c3690d323567d3213
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/85/799785/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/workload_launch.sh.j2'],1,6b57ef66aebac239af84cbf8d7903685c97a0afe,remove_neutron_agent_check_from_workload_launch, until openstack compute service list --service nova-compute -c State -f value | grep -qv down; do, until openstack compute service list --service nova-compute -c State -f value | grep -qv down && openstack network agent list -f value -c Alive | grep -qv False; do openstack network agent list,1,2
openstack%2Fneutron~master~I80c3076b9545be55b11858c4422402dd5ae1a68e,openstack/neutron,master,I80c3076b9545be55b11858c4422402dd5ae1a68e,"Remove SG RPC ""use_enhanced_rpc"" check.",MERGED,2021-07-05 09:29:50.000000000,2021-07-07 23:07:53.000000000,2021-07-07 23:05:57.000000000,"[{'_account_id': 5948}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 09:29:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/216897f6fe20b05bb093c0dcb5ed084d4539354a', 'message': 'Remove SG RPC ""use_enhanced_rpc"" check.\n\nIt\'s been a long time since [1] was implemented. Enhanced RPC is now\nsupported by default.\n\nCloses-Bug: #1934512\n\n[1]https://review.opendev.org/c/openstack/neutron/+/111876\n\nChange-Id: I80c3076b9545be55b11858c4422402dd5ae1a68e\n'}, {'number': 2, 'created': '2021-07-06 08:10:35.000000000', 'files': ['neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f637a1f60e4f38c519184cc9ce7a0dea857a95b0', 'message': 'Remove SG RPC ""use_enhanced_rpc"" check.\n\nIt\'s been a long time since [1] was implemented. Enhanced RPC is now\nsupported by default.\n\nCloses-Bug: #1934512\n\n[1]https://review.opendev.org/c/openstack/neutron/+/111876\n\nChange-Id: I80c3076b9545be55b11858c4422402dd5ae1a68e\n'}]",1,799446,f637a1f60e4f38c519184cc9ce7a0dea857a95b0,28,4,2,16688,,,0,"Remove SG RPC ""use_enhanced_rpc"" check.

It's been a long time since [1] was implemented. Enhanced RPC is now
supported by default.

Closes-Bug: #1934512

[1]https://review.opendev.org/c/openstack/neutron/+/111876

Change-Id: I80c3076b9545be55b11858c4422402dd5ae1a68e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/46/799446/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/test_securitygroups_rpc.py', 'neutron/agent/securitygroups_rpc.py']",2,216897f6fe20b05bb093c0dcb5ed084d4539354a,bug/1934512," devices = {} security_groups = {} security_group_member_ips = {} for i in range(0, len(device_ids), step): devices_info = self.plugin_rpc.security_group_info_for_devices( self.context, list(device_ids)[i:i + step]) devices.update(devices_info['devices']) security_groups.update(devices_info['security_groups']) security_group_member_ips.update(devices_info['sg_member_ips']) LOG.debug(""Update security group information for ports %s"", devices.keys()) self._update_security_group_info( security_groups, security_group_member_ips) self.firewall.security_group_updated(action_type, sec_grp_set) if updated_devices:"," self._use_enhanced_rpc = None @property def use_enhanced_rpc(self): if self._use_enhanced_rpc is None: self._use_enhanced_rpc = ( self._check_enhanced_rpc_is_supported_by_server()) return self._use_enhanced_rpc def _check_enhanced_rpc_is_supported_by_server(self): try: self.plugin_rpc.security_group_info_for_devices( self.context, devices=[]) except oslo_messaging.UnsupportedVersion: LOG.warning('security_group_info_for_devices rpc call not ' 'supported by the server, falling back to old ' 'security_group_rules_for_devices which scales ' 'worse.') return False return True if self.use_enhanced_rpc: devices = {} security_groups = {} security_group_member_ips = {} for i in range(0, len(device_ids), step): devices_info = self.plugin_rpc.security_group_info_for_devices( self.context, list(device_ids)[i:i + step]) devices.update(devices_info['devices']) security_groups.update(devices_info['security_groups']) security_group_member_ips.update(devices_info['sg_member_ips']) else: devices = self.plugin_rpc.security_group_rules_for_devices( self.context, list(device_ids)) if self.use_enhanced_rpc: LOG.debug(""Update security group information for ports %s"", devices.keys()) self._update_security_group_info( security_groups, security_group_member_ips) if self.use_enhanced_rpc: self.firewall.security_group_updated(action_type, sec_grp_set) if self.use_enhanced_rpc and updated_devices:",15,42
openstack%2Fswift~master~I820e133a4e24400ed1e6a87ebf357f7dac463e38,openstack/swift,master,I820e133a4e24400ed1e6a87ebf357f7dac463e38,sharder: support rows_per_shard in config file,MERGED,2021-07-07 12:59:57.000000000,2021-07-07 23:07:44.000000000,2021-07-07 23:06:08.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-07 12:59:57.000000000', 'files': ['etc/container-server.conf-sample', 'test/unit/container/test_sharder.py', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a87317db6e55beee0f57cf01a8a29d8a78db0615', 'message': 'sharder: support rows_per_shard in config file\n\nMake rows_per_shard an option that can be configured\nin the [container-sharder] section of a config file.\n\nFor auto-sharding, this option was previously hard-coded to\nshard_container_threshold // 2.\n\nThe swift-manage-shard-ranges command line tool already supported\nrows_per_shard on the command line and will now also load it from a\nconfig file if specified. Any value given on the command line takes\nprecedence over any value found in a config file.\n\nChange-Id: I820e133a4e24400ed1e6a87ebf357f7dac463e38\n'}]",0,799818,a87317db6e55beee0f57cf01a8a29d8a78db0615,13,2,1,7847,,,0,"sharder: support rows_per_shard in config file

Make rows_per_shard an option that can be configured
in the [container-sharder] section of a config file.

For auto-sharding, this option was previously hard-coded to
shard_container_threshold // 2.

The swift-manage-shard-ranges command line tool already supported
rows_per_shard on the command line and will now also load it from a
config file if specified. Any value given on the command line takes
precedence over any value found in a config file.

Change-Id: I820e133a4e24400ed1e6a87ebf357f7dac463e38
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/799818/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/container-server.conf-sample', 'swift/cli/manage_shard_ranges.py', 'test/unit/cli/test_manage_shard_ranges.py', 'test/unit/container/test_sharder.py', 'doc/source/config/container_server_config.rst', 'swift/container/sharder.py']",6,a87317db6e55beee0f57cf01a8a29d8a78db0615,p-sharder-tiny-tail," self.rows_per_shard = get_val( 'rows_per_shard', config_positive_int_value, max(self.shard_container_threshold // 2, 1))", self.rows_per_shard = self.shard_container_threshold // 2,45,18
openstack%2Ftripleo-common~master~I518c854af6d8e2853fe661902b101a4cdecff2a7,openstack/tripleo-common,master,I518c854af6d8e2853fe661902b101a4cdecff2a7,Fix field validation typo s/macs/mac,MERGED,2021-07-05 08:46:09.000000000,2021-07-07 23:03:27.000000000,2021-07-07 23:02:11.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-05 08:46:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e7baf305725fae9535bf30fdea2b77f1ecc9716e', 'message': 'Fix field validation typo s/macs/mac\n\nRemoving the support for the ""mac"" field in nodes json\na check was added to raise an error when using the\nremoved field. There was a typo in the field name.\n\nThis fixes the typo, and the thus the validation.\n\nAlso fix the same typo in the release note.\n\nChange-Id: I518c854af6d8e2853fe661902b101a4cdecff2a7\nRelated-Bug: 1934133\n'}, {'number': 2, 'created': '2021-07-05 13:57:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/61e8e408bc3f04e4844bc10cbb5949ecc61fab03', 'message': 'Fix field validation typo s/macs/mac\n\nRemoving the support for the ""mac"" field in nodes json\na check was added to raise an error when using the\nremoved field. There was a typo in the field name.\n\nThis fixes the typo, and the thus the validation.\n\nAlso fix the same typo in the release note.\n\nChange-Id: I518c854af6d8e2853fe661902b101a4cdecff2a7\nRelated-Bug: 1934133\n'}, {'number': 3, 'created': '2021-07-07 08:28:29.000000000', 'files': ['releasenotes/notes/nodes-json-mac-field-no-longer-valid-6ed035c442c4fc68.yaml', 'tripleo_common/utils/nodes.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fcdbcf1fc8fef6f79dd9f42e1fbc9488ae69873e', 'message': 'Fix field validation typo s/macs/mac\n\nWhen removing support for the ""mac"" field in nodes\njson a check was added to raise an error when using\nthe removed field. There was a typo in the field name.\n\nThis fixes the typo, and the validation.\n\nAlso fix the same typo in the release note.\n\nChange-Id: I518c854af6d8e2853fe661902b101a4cdecff2a7\nRelated-Bug: 1934133\n'}]",1,799442,fcdbcf1fc8fef6f79dd9f42e1fbc9488ae69873e,24,6,3,24245,,,0,"Fix field validation typo s/macs/mac

When removing support for the ""mac"" field in nodes
json a check was added to raise an error when using
the removed field. There was a typo in the field name.

This fixes the typo, and the validation.

Also fix the same typo in the release note.

Change-Id: I518c854af6d8e2853fe661902b101a4cdecff2a7
Related-Bug: 1934133
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/42/799442/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/nodes-json-mac-field-no-longer-valid-6ed035c442c4fc68.yaml', 'tripleo_common/utils/nodes.py']",2,e7baf305725fae9535bf30fdea2b77f1ecc9716e,bug/1934133," if node.get('mac'): failures.append('The ""mac"" field is not longer supported. '"," if node.get('macs'): failures.append('The ""macs"" field is not longer supported. '",4,4
openstack%2Ftripleo-ansible~stable%2Fvictoria~I1dd246badb8d7d00abfb72cf7451856bf49263cc,openstack/tripleo-ansible,stable/victoria,I1dd246badb8d7d00abfb72cf7451856bf49263cc,[tripleo_transfer] Add more thorough testing,MERGED,2021-07-07 09:51:11.000000000,2021-07-07 23:02:15.000000000,2021-07-07 23:02:15.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2021-07-07 09:51:11.000000000', 'files': ['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/05c4669503612105439ab4d1a408cf7eddfdc179', 'message': '[tripleo_transfer] Add more thorough testing\n\nIn this patch we add some tests to verify that the correct\nfiles are copied over, are exactly the same and the files\nin the destination are removed.\n\nRelated-Bug: #1925260\n\nChange-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc\n(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)\n'}]",0,799778,05c4669503612105439ab4d1a408cf7eddfdc179,8,3,1,20778,,,0,"[tripleo_transfer] Add more thorough testing

In this patch we add some tests to verify that the correct
files are copied over, are exactly the same and the files
in the destination are removed.

Related-Bug: #1925260

Change-Id: I1dd246badb8d7d00abfb72cf7451856bf49263cc
(cherry picked from commit a025bfec8fa9b807a89e89a82a0c6921bf158e40)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/78/799778/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_transfer/molecule/default/molecule.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/cleanup.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/verify.yml', 'tripleo_ansible/roles/tripleo_transfer/molecule/default/converge.yml']",4,05c4669503612105439ab4d1a408cf7eddfdc179,bz/1916162-stable/victoria," tasks: - name: Install openssl for file creation package: name: openssl state: present become: true - name: Create test directories file: state: directory path: ""{{ item }}"" loop: - ""{{ test_src_dir }}"" - ""{{ test_dst_dir }}"" - name: Create 1GB src test files with random content shell: >- openssl rand -out {{ item }} -base64 $(( 2**30 * 3/4 )) args: chdir: ""{{ test_src_dir }}"" creates: ""{{ item }}"" loop: ""{{ test_src_files }}"" - name: Create empty dst test files with random content file: path: ""{{ test_dst_dir }}/{{ item }}"" state: touch loop: ""{{ test_dst_files }}"" - include_role: name: ""tripleo_transfer"" vars: tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: ""{{ test_src_dir }}"" tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: ""{{ test_dst_dir }}"""," roles: - role: ""tripleo_transfer"" tripleo_transfer_src_host: controller2 tripleo_transfer_src_dir: /etc tripleo_transfer_dest_host: controller1 tripleo_transfer_dest_dir: /opt/etc-target",127,7
openstack%2Fswift~master~I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6,openstack/swift,master,I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6,Replace S3Request.location with S3Request.s3api_region,NEW,2021-01-14 01:20:30.000000000,2021-07-07 22:48:28.000000000,,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-01-14 01:20:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/897dfba7ee9581beae677f6423d87877f28c2d40', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}, {'number': 2, 'created': '2021-01-14 01:23:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3eb4c49ffeb87bf9616b2be3e74c52be5df9b11c', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}, {'number': 3, 'created': '2021-01-14 02:08:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/395d2dd23d38e2441718265e2a8050a770c510ce', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}, {'number': 4, 'created': '2021-01-15 00:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/6e54618e7e21ca539f1b82a28234e47b0f9d08bc', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}, {'number': 5, 'created': '2021-01-16 00:52:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/4f0c5e83474de29c036bdf3e05dd163985b42b4d', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}, {'number': 6, 'created': '2021-07-07 21:43:02.000000000', 'files': ['swift/common/middleware/s3api/s3request.py', 'test/unit/common/middleware/s3api/test_s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/7b72e6752659f55935a4f89d9c2313bab672aa1d', 'message': ""Replace S3Request.location with S3Request.s3api_region\n\n... just so I don't confuse it with swob.Response.location, which is\nsomething else entirely.\n\nChange-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6\n""}]",2,770690,7b72e6752659f55935a4f89d9c2313bab672aa1d,18,3,6,15343,,,0,"Replace S3Request.location with S3Request.s3api_region

... just so I don't confuse it with swob.Response.location, which is
something else entirely.

Change-Id: I6a50e16ef0e010d5b23f0b0850ca62367e5a19f6
",git fetch https://review.opendev.org/openstack/swift refs/changes/90/770690/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3request.py'],1,897dfba7ee9581beae677f6423d87877f28c2d40,," self.s3api_region = self.s3api_region.lower() self.s3api_region = self.s3api_region.lower() ('region', self.s3api_region), self.s3api_region = self.conf.location"," self.location = self.location.lower() self.location = self.location.lower() ('region', self.location), self.location = self.conf.location",4,4
openstack%2Fcinder~stable%2Fwallaby~Ia2337bd69821497f42d4f99d09df87780394d4d5,openstack/cinder,stable/wallaby,Ia2337bd69821497f42d4f99d09df87780394d4d5,LVM: Use --readonly for lvdisplay in lv_has_snapshot,MERGED,2021-06-29 14:40:32.000000000,2021-07-07 22:43:54.000000000,2021-07-07 22:42:00.000000000,"[{'_account_id': 5314}, {'_account_id': 9535}, {'_account_id': 20813}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-29 14:40:32.000000000', 'files': ['cinder/brick/local_dev/lvm.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a282bc8f7b2305a6772cf056a727a0f83c508e4e', 'message': 'LVM: Use --readonly for lvdisplay in lv_has_snapshot\n\nFollow-on to Ib2a6dac8d074decf, we only need readonly\nmode for lvdisplay.\n\nChange-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5\n(cherry picked from commit 02f609c714ac1d7f87a2277eaa11fd7be2f57995)\n'}]",0,798696,a282bc8f7b2305a6772cf056a727a0f83c508e4e,38,4,1,4523,,,0,"LVM: Use --readonly for lvdisplay in lv_has_snapshot

Follow-on to Ib2a6dac8d074decf, we only need readonly
mode for lvdisplay.

Change-Id: Ia2337bd69821497f42d4f99d09df87780394d4d5
(cherry picked from commit 02f609c714ac1d7f87a2277eaa11fd7be2f57995)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/96/798696/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/brick/local_dev/lvm.py'],1,a282bc8f7b2305a6772cf056a727a0f83c508e4e,," 'Attr', '--readonly', '%s/%s' % (self.vg_name, name)]"," 'Attr', '%s/%s' % (self.vg_name, name)]",2,1
openstack%2Fswift~master~I867f3ea0cf60620c576da0c1f2c65cec2cf19aa0,openstack/swift,master,I867f3ea0cf60620c576da0c1f2c65cec2cf19aa0,reconstructor: make quarantine delay configurable,MERGED,2021-07-02 15:05:57.000000000,2021-07-07 22:43:42.000000000,2021-07-07 22:42:06.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 15:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/ba1e894058a7d643a7a3e0952c8ecbcf707251f4', 'message': 'reconstructor: make quarantine delay configurable\n\nPreviously the reconstructor would quarantine isolated durable\nfragments that were more than reclaim_age old. This patch adds a\nquarantine_age option for the reconstructor which defaults to\nreclaim_age but can be used to configure the age that a fragment must\nreach before quarantining.\n\nChange-Id: I867f3ea0cf60620c576da0c1f2c65cec2cf19aa0\n'}, {'number': 2, 'created': '2021-07-06 15:41:43.000000000', 'files': ['test/probe/test_reconstructor_rebuild.py', 'swift/obj/reconstructor.py', 'doc/source/config/object_server_config.rst', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/2fd5b87dc5b0e0fe99421becef77bd888ca02368', 'message': 'reconstructor: make quarantine delay configurable\n\nPreviously the reconstructor would quarantine isolated durable\nfragments that were more than reclaim_age old. This patch adds a\nquarantine_age option for the reconstructor which defaults to\nreclaim_age but can be used to configure the age that a fragment must\nreach before quarantining.\n\nChange-Id: I867f3ea0cf60620c576da0c1f2c65cec2cf19aa0\n'}]",6,799218,2fd5b87dc5b0e0fe99421becef77bd888ca02368,15,3,2,7847,,,0,"reconstructor: make quarantine delay configurable

Previously the reconstructor would quarantine isolated durable
fragments that were more than reclaim_age old. This patch adds a
quarantine_age option for the reconstructor which defaults to
reclaim_age but can be used to configure the age that a fragment must
reach before quarantining.

Change-Id: I867f3ea0cf60620c576da0c1f2c65cec2cf19aa0
",git fetch https://review.opendev.org/openstack/swift refs/changes/18/799218/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/probe/test_reconstructor_rebuild.py', 'swift/obj/reconstructor.py', 'doc/source/config/object_server_config.rst', 'etc/object-server.conf-sample', 'test/unit/obj/test_reconstructor.py']",5,ba1e894058a7d643a7a3e0952c8ecbcf707251f4,p-reconstructor-quarantine-age," def test_quarantine_age_conf(self): # defaults to DEFAULT_RECLAIM_AGE reconstructor = object_reconstructor.ObjectReconstructor({}) self.assertEqual(604800, reconstructor.quarantine_age) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_age': '0'}) self.assertEqual(0, reconstructor.quarantine_age) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_age': '1'}) self.assertEqual(1, reconstructor.quarantine_age) # trumps reclaim_age reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_age': '1', 'reclaim_age': 0}) self.assertEqual(1, reconstructor.quarantine_age) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_age': '1', 'reclaim_age': 2}) self.assertEqual(1, reconstructor.quarantine_age) reconstructor = object_reconstructor.ObjectReconstructor( {'quarantine_age': 2.2}) self.assertEqual(2, reconstructor.quarantine_age) for bad in ('1.1', 'auto', 'bad'): with annotate_failure(bad): with self.assertRaises(ValueError): object_reconstructor.ObjectReconstructor( {'quarantine_age': bad}) def test_reconstruct_fa_quarantine_threshold_two_with_quarantine_age(self): num_other_resps = 2 * self.policy.object_ring.replicas - 3 other_responses = [(404, None, None)] * num_other_resps conf = {'quarantine_threshold': 2, 'quarantine_age': 0, # quarantine age trumps reclaim age 'reclaim_age': 1000} exc = self._do_test_reconstruct_insufficient_frags( conf, 2, other_responses) self.assertIsInstance(exc, DiskFileQuarantined) self._assert_diskfile_quarantined() self._verify_error_lines(2, other_responses, 2) {'quarantine_threshold': 1, 'quarantine_age': 10000, # quarantine_age trumps reclaim_age 'reclaim_age': 0}, 1, other_responses) self.assertIsInstance(exc, DiskFileError) self._assert_diskfile_not_quarantined() self._verify_error_lines(1, other_responses, 1) exc = self._do_test_reconstruct_insufficient_frags(",,77,6
openstack%2Fswift~master~I1d5c6e40e1833c53994f8e15b4850871789413ac,openstack/swift,master,I1d5c6e40e1833c53994f8e15b4850871789413ac,Have expirer use IC's delete_object,MERGED,2020-11-13 19:00:25.000000000,2021-07-07 22:33:29.000000000,2021-07-07 22:31:54.000000000,"[{'_account_id': 597}, {'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-11-13 19:00:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/e8bd9e4fa7c8ac923614c6f61397a2e449b98307', 'message': ""Have expirer use IC's delete_object\n\nThat way, it properly drains the response and we'll see logs/stats for\n404s and 409s.\n\nChange-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\n""}, {'number': 2, 'created': '2020-11-14 06:05:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/1db54462206d47885c42cd5c456f0bf07926523e', 'message': ""Have expirer use IC's delete_object\n\nThat way, it properly drains the response and we'll see logs/stats for\n404s and 409s.\n\nChange-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\n""}, {'number': 3, 'created': '2021-06-23 23:43:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/2342ee92b484911fcaddf32c9d79127fc6d5441b', 'message': ""Have expirer use IC's delete_object\n\nThat way, it properly drains the response and we'll see logs/stats for\n404s and 409s.\n\nChange-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\n""}, {'number': 4, 'created': '2021-07-02 16:37:52.000000000', 'files': ['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/45a5ecc8a148a0f1c494d88b5d982cf236be489f', 'message': ""Have expirer use IC's delete_object\n\nThat way, it properly drains the response and we'll see logs/stats for\n404s and 409s.\n\nChange-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac\n""}]",20,762704,45a5ecc8a148a0f1c494d88b5d982cf236be489f,29,5,4,15343,,,0,"Have expirer use IC's delete_object

That way, it properly drains the response and we'll see logs/stats for
404s and 409s.

Change-Id: I1d5c6e40e1833c53994f8e15b4850871789413ac
",git fetch https://review.opendev.org/openstack/swift refs/changes/04/762704/4 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/obj/test_expirer.py', 'swift/obj/expirer.py', 'swift/common/internal_client.py']",3,e8bd9e4fa7c8ac923614c6f61397a2e449b98307,,"from swift.common.utils import quote, close_if_possible, drain_and_close # for non 2XX requests it's safe and useful to drain # the response body so we log the correct status code if resp.status_int // 100 != 2: drain_and_close(resp) else: # Just close; the 499 is appropriate close_if_possible(resp.app_iter) drain_and_close(resp)","from swift.common.utils import quote, closing_if_possible # always close any resp.app_iter before we discard it with closing_if_possible(resp.app_iter): # for non 2XX requests it's safe and useful to drain # the response body so we log the correct status code if resp.status_int // 100 != 2: for iter_body in resp.app_iter: pass with closing_if_possible(resp.app_iter): for iter_body in resp.app_iter: pass",26,24
openstack%2Fdevstack~master~I8d4ec68f116eea07bc7346f939e134fa2e655eac,openstack/devstack,master,I8d4ec68f116eea07bc7346f939e134fa2e655eac,Use specific credentials for tempest plugin setup,MERGED,2021-03-12 19:22:01.000000000,2021-07-07 22:33:13.000000000,2021-07-07 22:31:48.000000000,"[{'_account_id': 5046}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2021-03-12 19:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/3b9bb465ae8f6f738f3ccc9a511f9f58104d3f24', 'message': ""Use specific credentials for tempest\n\nTempest expects the classic environment variables to be\npresent for credentials to access the cloud, but this is\nwrong in cases where we're trying to setup system\nscoped services and need to remove the environment variables\nthat was being used.\n\nInstead, change the plugin to use the os-cloud entry definitions,\nand specifically in this case devstack-admin which makes sense\nuntil we begin to start to make tempest scope aware.\n\nChange-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac\n""}, {'number': 2, 'created': '2021-03-13 00:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/0f23a719e2a40a093089122427062b838377ce0a', 'message': ""Use specific credentials for tempest\n\nTempest expects the classic environment variables to be\npresent for credentials to access the cloud, but this is\nwrong in cases where we're trying to setup system\nscoped services and need to remove the environment variables\nthat was being used.\n\nInstead, change the plugin to use the os-cloud entry definitions,\nand specifically in this case devstack-admin which makes sense\nuntil we begin to start to make tempest scope aware.\n\nChange-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac\n""}, {'number': 3, 'created': '2021-06-15 18:56:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/a542a9d59d4f30f8a5638f16850893be38c2c310', 'message': ""Use specific credentials for tempest\n\nTempest expects the classic environment variables to be\npresent for credentials to access the cloud, but this is\nwrong in cases where we're trying to setup system\nscoped services and need to remove the environment variables\nthat was being used.\n\nInstead, change the plugin to use the os-cloud entry definitions,\nand specifically in this case devstack-admin which makes sense\nuntil we begin to start to make tempest scope aware.\n\nWe likely will want to change the environment variables from being\nregistered at some point and completely shift towards passing an\n--os-cloud parameter, but that is outside the scope of this change.\n\nChange-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac\n""}, {'number': 4, 'created': '2021-06-16 19:00:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/d9f8d28807c77378d9b6d95a5832f4a349e9b904', 'message': ""Use specific credentials for tempest plugin setup\n\nThe tempest plugin expects the classic environment variables\nto be present for credentials to access the cloud, but this is\nwrong in cases where we're trying to setup system\nscoped services and need to remove the environment variables\nthat was being used.\n\nInstead, change the plugin to use the os-cloud entry definitions,\nand specifically in this case devstack-admin which makes sense\nuntil we begin to start to make tempest itself scope aware.\n\nWe likely will want to change the environment variables from being\nregistered in devstack at some point and completely shift towards\npassing an-os-cloud parameter, but that is outside the scope of\nthis change as doing so will likely break all plugins.\n\nChange-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac\n""}, {'number': 5, 'created': '2021-06-22 14:49:12.000000000', 'files': ['lib/tempest'], 'web_link': 'https://opendev.org/openstack/devstack/commit/5c9affdd9a2baff2166146f4743fe75009b32eab', 'message': ""Use specific credentials for tempest plugin setup\n\nThe tempest plugin expects the classic environment variables\nto be present for credentials to access the cloud, but this is\nwrong in cases where we're trying to setup system\nscoped services and need to remove the environment variables\nthat was being used.\n\nInstead, change the plugin to use the os-cloud entry definitions,\nand specifically in this case devstack-admin which makes sense\nuntil we begin to start to make tempest itself scope aware.\n\nWe likely will want to change the environment variables from being\nregistered in devstack at some point and completely shift towards\npassing an-os-cloud parameter, but that is outside the scope of\nthis change as doing so will likely break all plugins.\n\nChange-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac\n""}]",6,780315,5c9affdd9a2baff2166146f4743fe75009b32eab,23,4,5,11655,,,0,"Use specific credentials for tempest plugin setup

The tempest plugin expects the classic environment variables
to be present for credentials to access the cloud, but this is
wrong in cases where we're trying to setup system
scoped services and need to remove the environment variables
that was being used.

Instead, change the plugin to use the os-cloud entry definitions,
and specifically in this case devstack-admin which makes sense
until we begin to start to make tempest itself scope aware.

We likely will want to change the environment variables from being
registered in devstack at some point and completely shift towards
passing an-os-cloud parameter, but that is outside the scope of
this change as doing so will likely break all plugins.

Change-Id: I8d4ec68f116eea07bc7346f939e134fa2e655eac
",git fetch https://review.opendev.org/openstack/devstack refs/changes/15/780315/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/tempest'],1,3b9bb465ae8f6f738f3ccc9a511f9f58104d3f24,secure-rbac," size=$(openstack --os-cloud devstack-admin image show $1 -c size -f value) done < <(openstack --os-cloud devstack-admin image list --property status=active | awk -F'|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }') admin_project_id=$(openstack --os-cloud devstack-admin project list | awk ""/ admin / { print \$2 }"") openstack --os-cloud devstack-admin flavor create --id 42 --ram 128 --disk $disk --vcpus 1 --property hw_rng:allowed=True m1.nano openstack --os-cloud devstack-admin flavor create --id 84 --ram 192 --disk $disk --vcpus 1 --property hw_rng:allowed=True m1.micro flavor_ref_size=$(openstack --os-cloud devstack-admin flavor show --format value --column disk ""${flavor_ref}"") flavor_ref_alt_size=$(openstack --os-cloud devstack-admin flavor show --format value --column disk ""${f}"") public_network_id=$(openstack --os-cloud devstack-admin network show -f value -c id $PUBLIC_NETWORK_NAME) openstack --os-cloud devstack-admin network create --share shared openstack --os-cloud devstack-admin subnet create --description shared-subnet --subnet-range ${TEMPEST_SHARED_POOL:-192.168.233.0/24} --network shared shared-subnet"," size=$(openstack image show $1 -c size -f value) done < <(openstack image list --property status=active | awk -F'|' '!/^(+--)|ID|aki|ari/ { print $3,$2 }') admin_project_id=$(openstack project list | awk ""/ admin / { print \$2 }"") openstack flavor create --id 42 --ram 128 --disk $disk --vcpus 1 --property hw_rng:allowed=True m1.nano openstack flavor create --id 84 --ram 192 --disk $disk --vcpus 1 --property hw_rng:allowed=True m1.micro flavor_ref_size=$(openstack flavor show --format value --column disk ""${flavor_ref}"") flavor_ref_alt_size=$(openstack flavor show --format value --column disk ""${f}"") public_network_id=$(openstack network show -f value -c id $PUBLIC_NETWORK_NAME) openstack network create --share shared openstack subnet create --description shared-subnet --subnet-range ${TEMPEST_SHARED_POOL:-192.168.233.0/24} --network shared shared-subnet",10,10
openstack%2Fpuppet-neutron~master~I070b1a8df1e1d2777d21d7ed6ea2915f0b7ce532,openstack/puppet-neutron,master,I070b1a8df1e1d2777d21d7ed6ea2915f0b7ce532,Add support for [cors] options,MERGED,2021-07-05 02:52:06.000000000,2021-07-07 22:24:35.000000000,2021-07-07 22:23:25.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 02:52:06.000000000', 'files': ['spec/classes/neutron_cors_spec.rb', 'releasenotes/notes/cors-a67d94560064c373.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/2f321629aaeae5492e395c1c97bfffc6530d52a1', 'message': 'Add support for [cors] options\n\nChange-Id: I070b1a8df1e1d2777d21d7ed6ea2915f0b7ce532\n'}]",0,799428,2f321629aaeae5492e395c1c97bfffc6530d52a1,8,3,1,9816,,,0,"Add support for [cors] options

Change-Id: I070b1a8df1e1d2777d21d7ed6ea2915f0b7ce532
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/28/799428/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_cors_spec.rb', 'releasenotes/notes/cors-a67d94560064c373.yaml', 'manifests/cors.pp']",3,2f321629aaeae5492e395c1c97bfffc6530d52a1,cors-opts,"# == Class: neutron::cors # # Configure the neutron cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class neutron::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include neutron::deps oslo::cors { 'neutron_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,115,0
openstack%2Ftripleo-heat-templates~master~I5c0ac76cedfbfa54caff6d45f8af1ca908551b04,openstack/tripleo-heat-templates,master,I5c0ac76cedfbfa54caff6d45f8af1ca908551b04,Rename AdminToken to KeystonePassword,MERGED,2021-07-05 01:13:54.000000000,2021-07-07 22:13:19.000000000,2021-07-07 22:11:54.000000000,"[{'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 16347}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-05 01:13:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1d8ffc8ee75b935871825209a8c1f9eabcb5b29', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since, but\nused as a password of the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}, {'number': 2, 'created': '2021-07-05 01:30:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0804941338aa20d887b2f687e538c35130e782c8', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since, but\nused as a password of the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}, {'number': 3, 'created': '2021-07-05 01:34:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24fa9adaa1b03d572575def7db5c3f7298000b4e', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since, but\nused as a password of the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}, {'number': 4, 'created': '2021-07-05 01:36:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c998684a10ccf2be5820ce0022cb44fe41800e0', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since, but\nused as a password of the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}, {'number': 5, 'created': '2021-07-05 01:37:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733fb6c0f32298baabc06bd6940e28415e731c38', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since we\nremoved usage of admin token in keystone, but used only as a password\nof the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}, {'number': 6, 'created': '2021-07-05 02:22:45.000000000', 'files': ['releasenotes/notes/rename-admin-token-ae1b694f063035c8.yaml', 'deployment/keystone/keystone-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/681fa9a223c76faffeb8c9cf693f6cd8a7bff079', 'message': 'Rename AdminToken to KeystonePassword\n\nThe AdminToken parameter is no longer used as admin token since we\nremoved usage of admin token in keystone, but used only as a password\nof the keystone user.\nThis change renames the parameter to make it consistent with the other\nparameters.\n\nChange-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04\n'}]",1,799425,681fa9a223c76faffeb8c9cf693f6cd8a7bff079,17,7,6,9816,,,0,"Rename AdminToken to KeystonePassword

The AdminToken parameter is no longer used as admin token since we
removed usage of admin token in keystone, but used only as a password
of the keystone user.
This change renames the parameter to make it consistent with the other
parameters.

Change-Id: I5c0ac76cedfbfa54caff6d45f8af1ca908551b04
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/25/799425/5 && git format-patch -1 --stdout FETCH_HEAD,['deployment/keystone/keystone-container-puppet.yaml'],1,b1d8ffc8ee75b935871825209a8c1f9eabcb5b29,keystone-password," KeystonePassword: descrpition: The password for the nova service and db account default: '' AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. type: string hidden: true parameter_groups: - label: deprecated description: | The following parameters are deprecated and will be removed. They should not be relied on for new deployments. If you have concerns regarding deprecated parameters, please contact the TripleO development team on IRC or the OpenStack mailing list. parameters: - AdminPassword admin_token_set: {not: {equals: [{get_param: AdminToken}, '']}} password: if: - admin_token_set - {get_param: AdminToken} - {get_param: KeystonePassword} keystone::db::mysql::password: if: - admin_token_set - {get_param: AdminToken} - {get_param: KeystonePassword}"," AdminPassword: description: The password for the keystone admin account, used for monitoring, querying neutron etc. password: {get_param: AdminToken} keystone::db::mysql::password: {get_param: AdminToken}",28,4
openstack%2Fpuppet-nova~master~I6e49393dd63ba0432edff665b272e3dff077b6fe,openstack/puppet-nova,master,I6e49393dd63ba0432edff665b272e3dff077b6fe,Fix order of parameter descriptions,MERGED,2021-06-01 03:09:17.000000000,2021-07-07 22:09:23.000000000,2021-07-07 22:09:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 20733}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-01 03:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/8d6b7e9d8d2c6119a549b55a39b67365c856c608', 'message': 'Fix order of parameter descriptions\n\n... so that order becomes consistent with parameter definitions.\n\nChange-Id: I6e49393dd63ba0432edff665b272e3dff077b6fe\n'}, {'number': 2, 'created': '2021-07-07 03:47:39.000000000', 'files': ['manifests/compute/libvirt.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/2efdfdd6e7112f9888ecd1aa82b2806196bfdb30', 'message': 'Fix order of parameter descriptions\n\n... so that order becomes consistent with parameter definitions.\n\nChange-Id: I6e49393dd63ba0432edff665b272e3dff077b6fe\n'}]",0,793879,2efdfdd6e7112f9888ecd1aa82b2806196bfdb30,12,4,2,9816,,,0,"Fix order of parameter descriptions

... so that order becomes consistent with parameter definitions.

Change-Id: I6e49393dd63ba0432edff665b272e3dff077b6fe
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/79/793879/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/libvirt.pp'],1,8d6b7e9d8d2c6119a549b55a39b67365c856c608,param-desc-order,"# [*swtpm_enabled*] # (optional) Enable emulated Trusted Platform Module (TPM) for guests. # Defaults to $::os_service_default # # [*swtpm_user*] # (optional) Configure the user that the swtpm binary, used for emulated # Trusted Platform Module (TPM) functionality, runs as. # Defaults to $::os_service_default # # [*swtpm_group*] # (optional) Configure the group that the swtpm binary, used for emulated # Trusted Platform Module (TPM) functionality, runs as. # Defaults to $::os_service_default #","# [*swtpm_enabled*] # (optional) Enable emulated Trusted Platform Module (TPM) for guests. # Defaults to $::os_service_default # # [*swtpm_user*] # (optional) Configure the user that the swtpm binary, used for emulated # Trusted Platform Module (TPM) functionality, runs as. # Defaults to $::os_service_default # # [*swtpm_group*] # (optional) Configure the group that the swtpm binary, used for emulated # Trusted Platform Module (TPM) functionality, runs as. # Defaults to $::os_service_default #",14,14
openstack%2Fpuppet-cinder~master~I9af225f714bf2df6b4c579ff12392d5c30769cb1,openstack/puppet-cinder,master,I9af225f714bf2df6b4c579ff12392d5c30769cb1,Remove support for the Veritas HyperScale Driver,MERGED,2021-04-27 15:22:30.000000000,2021-07-07 22:04:04.000000000,2021-07-07 22:02:39.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 15:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/8ec8c1d16116e62f4b35f912e511c1ac121621ab', 'message': 'Remove support for the Veritas HyperScale Driver\n\n... because it was deprecated during Victoria cycle[1] and driver\ncode was already removed from cinder.\n\n[1] 0da2b260eb6961222a23f7728c41593bcf349030\n\nChange-Id: I9af225f714bf2df6b4c579ff12392d5c30769cb1\n'}, {'number': 2, 'created': '2021-04-27 16:09:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/6f949003600a8f4149e43b97dac9ffafbbdf57c4', 'message': 'Remove support for the Veritas HyperScale Driver\n\n... because it was deprecated during Victoria cycle[1] and driver\ncode was already removed from cinder.\n\n[1] 0da2b260eb6961222a23f7728c41593bcf349030\n\nChange-Id: I9af225f714bf2df6b4c579ff12392d5c30769cb1\n'}, {'number': 3, 'created': '2021-07-07 03:52:15.000000000', 'files': ['spec/defines/cinder_backend_veritas_hyperscale_spec.rb', 'manifests/backend/veritas_hyperscale.pp', 'releasenotes/notes/remove-veritas_hyperscale-bf6af00ea5cbc876.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/75949efb1d6af18ea971b9b84bf1ad52879cad41', 'message': 'Remove support for the Veritas HyperScale Driver\n\n... because it was deprecated during Victoria cycle[1] and driver\ncode was already removed from cinder.\n\n[1] 0da2b260eb6961222a23f7728c41593bcf349030\n\nChange-Id: I9af225f714bf2df6b4c579ff12392d5c30769cb1\n'}]",3,788315,75949efb1d6af18ea971b9b84bf1ad52879cad41,15,3,3,9816,,,0,"Remove support for the Veritas HyperScale Driver

... because it was deprecated during Victoria cycle[1] and driver
code was already removed from cinder.

[1] 0da2b260eb6961222a23f7728c41593bcf349030

Change-Id: I9af225f714bf2df6b4c579ff12392d5c30769cb1
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/15/788315/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/cinder_backend_veritas_hyperscale_spec.rb', 'manifests/backend/veritas_hyperscale.pp', 'releasenotes/notes/remove-veritas_hyperscale-bf6af00ea5cbc876.yaml']",3,8ec8c1d16116e62f4b35f912e511c1ac121621ab,vrts,--- upgrade: - | Support for Veritas HyperScale Block Stoage driver has been removed. ,,4,121
openstack%2Fpuppet-oslo~stable%2Fvictoria~Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,openstack/puppet-oslo,stable/victoria,Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2,Fix the wrong default value of idle_timeout,MERGED,2021-02-24 07:14:15.000000000,2021-07-07 22:03:00.000000000,2021-07-07 22:03:00.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-02-24 07:14:15.000000000', 'files': ['manifests/db.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/69263d76c1e9d925b96a36beba521dde756863e8', 'message': 'Fix the wrong default value of idle_timeout\n\nCurrently we always get the following warnings because of the wrong\ndefault value of idle_timeout.\n\nThe idle_timeout parameter is deprecated.\nPlease use connection_recycle_time instead.\n\nThis change fixes the default and ensures that the warning message\nis shown only when the deprecated parameter is set.\n\nChange-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2\n(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)\n'}]",0,777127,69263d76c1e9d925b96a36beba521dde756863e8,9,5,1,9816,,,0,"Fix the wrong default value of idle_timeout

Currently we always get the following warnings because of the wrong
default value of idle_timeout.

The idle_timeout parameter is deprecated.
Please use connection_recycle_time instead.

This change fixes the default and ensures that the warning message
is shown only when the deprecated parameter is set.

Change-Id: Iba93ffdacf45096a6db65f3f0dfcfaf7d87574f2
(cherry picked from commit 12e2f4a886f7a97d1f34bce22254ea114f829bbd)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/27/777127/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/db.pp'],1,69263d76c1e9d925b96a36beba521dde756863e8,idle_timeout-stable/victoria," $idle_timeout = undef, if $idle_timeout != undef {"," $idle_timeout = $::os_service_default, if $idle_timeout {",2,2
openstack%2Fpuppet-oslo~stable%2Fwallaby~I4478d209c23e7468e6f36fe417acc01d7b986938,openstack/puppet-oslo,stable/wallaby,I4478d209c23e7468e6f36fe417acc01d7b986938,Cors: Accept array for ListOpts,MERGED,2021-07-05 03:01:49.000000000,2021-07-07 22:02:57.000000000,2021-07-07 22:02:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 03:01:49.000000000', 'files': ['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/83e2c42821c9f1f7cba052355b90b38b97198f95', 'message': 'Cors: Accept array for ListOpts\n\nThe following four parameters of cors middleware are ListOpt, thus\naccepting array for these options allows users to define parameters\nin a similar format.\n\n - allowed_origin\n - expose_headers\n - allow_methods\n - allow_headers\n\nChange-Id: I4478d209c23e7468e6f36fe417acc01d7b986938\n(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)\n'}]",0,799361,83e2c42821c9f1f7cba052355b90b38b97198f95,7,3,1,9816,,,0,"Cors: Accept array for ListOpts

The following four parameters of cors middleware are ListOpt, thus
accepting array for these options allows users to define parameters
in a similar format.

 - allowed_origin
 - expose_headers
 - allow_methods
 - allow_headers

Change-Id: I4478d209c23e7468e6f36fe417acc01d7b986938
(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/61/799361/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp']",2,83e2c42821c9f1f7cba052355b90b38b97198f95,listopts-stable/wallaby," 'cors/allowed_origin' => { value => join(any2array($allowed_origin), ',') }, 'cors/expose_headers' => { value => join(any2array($expose_headers), ',') }, 'cors/allow_methods' => { value => join(any2array($allow_methods), ',') }, 'cors/allow_headers' => { value => join(any2array($allow_headers), ',') }"," 'cors/allowed_origin' => { value => $allowed_origin }, 'cors/expose_headers' => { value => $expose_headers }, 'cors/allow_methods' => { value => $allow_methods }, 'cors/allow_headers' => { value => $allow_headers }",43,4
openstack%2Fpuppet-oslo~stable%2Fvictoria~I4478d209c23e7468e6f36fe417acc01d7b986938,openstack/puppet-oslo,stable/victoria,I4478d209c23e7468e6f36fe417acc01d7b986938,Cors: Accept array for ListOpts,MERGED,2021-07-05 03:02:21.000000000,2021-07-07 21:53:14.000000000,2021-07-07 21:53:14.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 03:02:21.000000000', 'files': ['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/5f6a5967d588d20f42f70ce1178726f0d29ec399', 'message': 'Cors: Accept array for ListOpts\n\nThe following four parameters of cors middleware are ListOpt, thus\naccepting array for these options allows users to define parameters\nin a similar format.\n\n - allowed_origin\n - expose_headers\n - allow_methods\n - allow_headers\n\nChange-Id: I4478d209c23e7468e6f36fe417acc01d7b986938\n(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)\n(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)\n'}]",0,799362,5f6a5967d588d20f42f70ce1178726f0d29ec399,7,3,1,9816,,,0,"Cors: Accept array for ListOpts

The following four parameters of cors middleware are ListOpt, thus
accepting array for these options allows users to define parameters
in a similar format.

 - allowed_origin
 - expose_headers
 - allow_methods
 - allow_headers

Change-Id: I4478d209c23e7468e6f36fe417acc01d7b986938
(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)
(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/62/799362/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp']",2,5f6a5967d588d20f42f70ce1178726f0d29ec399,listopts-stable/wallaby-stable/victoria," 'cors/allowed_origin' => { value => join(any2array($allowed_origin), ',') }, 'cors/expose_headers' => { value => join(any2array($expose_headers), ',') }, 'cors/allow_methods' => { value => join(any2array($allow_methods), ',') }, 'cors/allow_headers' => { value => join(any2array($allow_headers), ',') }"," 'cors/allowed_origin' => { value => $allowed_origin }, 'cors/expose_headers' => { value => $expose_headers }, 'cors/allow_methods' => { value => $allow_methods }, 'cors/allow_headers' => { value => $allow_headers }",43,4
openstack%2Fironic~master~I2ef0086907f785a1a1d9a29c4a0aa068f72eb2d6,openstack/ironic,master,I2ef0086907f785a1a1d9a29c4a0aa068f72eb2d6,DNM: Exploring DB performance on long running queries,ABANDONED,2021-04-30 00:18:36.000000000,2021-07-07 21:46:55.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-04-30 00:18:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/3b9b9e99d0804888168a96063d5902cb6ad3e9da', 'message': 'DNM: Exploring DB performance on long running queries\n\nChange-Id: I2ef0086907f785a1a1d9a29c4a0aa068f72eb2d6\n'}, {'number': 2, 'created': '2021-05-06 13:14:43.000000000', 'files': ['ironic/api/controllers/v1/utils.py.rej', 'ironic/api/controllers/v1/collection.py', 'ironic/objects/node.py.rej', 'ironic/api/controllers/v1/node.py.rej', 'ironic/db/sqlalchemy/models.py.rej', 'ironic/cmd/stats.py', 'ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/api/controllers/link.py', 'ironic/api/controllers/v1/utils.py', 'ironic/db/sqlalchemy/models.py', 'ironic/objects/base.py.rej', 'ironic/api/controllers/v1/node.py', 'ironic/db/sqlalchemy/api.py.rej', 'ironic/objects/base.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7cc7db0f92f0e6f9873cebeb0cdd6624ff10c845', 'message': 'DNM: Exploring DB performance on long running queries\n\nChange-Id: I2ef0086907f785a1a1d9a29c4a0aa068f72eb2d6\n'}]",68,788854,7cc7db0f92f0e6f9873cebeb0cdd6624ff10c845,13,1,2,11655,,,0,"DNM: Exploring DB performance on long running queries

Change-Id: I2ef0086907f785a1a1d9a29c4a0aa068f72eb2d6
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/788854/2 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/cmd/stats.py', 'ironic/objects/node.py', 'ironic/db/sqlalchemy/api.py', 'ironic/api/controllers/v1/utils.py', 'ironic/db/sqlalchemy/models.py', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py']",7,3b9b9e99d0804888168a96063d5902cb6ad3e9da,db-wip," def _from_db_object_list(cls, context, db_objects, fields=None): return [cls._from_db_object(context, cls(), db_obj, fields)"," def _from_db_object_list(cls, context, db_objects): return [cls._from_db_object(context, cls(), db_obj)",353,83
openstack%2Fpuppet-designate~master~I7e3a98a8b477df0580159ccc0e615cf63bae0e47,openstack/puppet-designate,master,I7e3a98a8b477df0580159ccc0e615cf63bae0e47,Use oslo::coordination to manage coordination parameters,MERGED,2021-07-06 04:26:59.000000000,2021-07-07 21:41:20.000000000,2021-07-07 21:39:55.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 04:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/36471982427e174e663b9a95d697d7417d5160cb', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I7e3a98a8b477df0580159ccc0e615cf63bae0e47\n'}, {'number': 2, 'created': '2021-07-06 07:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/bcae42b83153a8f365e76e34dd7d39863d5ca302', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I7e3a98a8b477df0580159ccc0e615cf63bae0e47\n'}, {'number': 3, 'created': '2021-07-06 07:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/4e705559c10278e0bd61162036a33e5f27091e15', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I7e3a98a8b477df0580159ccc0e615cf63bae0e47\n'}, {'number': 4, 'created': '2021-07-06 08:04:14.000000000', 'files': ['manifests/producer.pp', 'spec/classes/designate_producer_spec.rb', 'spec/classes/designate_coordination_spec.rb', 'releasenotes/notes/coordination-9043dd34f67ee3a1.yaml', 'manifests/coordination.pp'], 'web_link': 'https://opendev.org/openstack/puppet-designate/commit/823d409fe8ef56bb5be931791c5624bd70df0e26', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I7e3a98a8b477df0580159ccc0e615cf63bae0e47\n'}]",0,799556,823d409fe8ef56bb5be931791c5624bd70df0e26,12,3,4,9816,,,0,"Use oslo::coordination to manage coordination parameters

This change replaces current implementation to manage coordination
parameters by the base class in puppet-oslo. With this change
the required backend package is installed according to the backend
driver used.

Depends-on: https://review.opendev.org/791628
Change-Id: I7e3a98a8b477df0580159ccc0e615cf63bae0e47
",git fetch https://review.opendev.org/openstack/puppet-designate refs/changes/56/799556/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/producer.pp', 'spec/classes/designate_coordination_spec.rb', 'releasenotes/notes/coordination-9043dd34f67ee3a1.yaml', 'manifests/coordination.pp']",4,36471982427e174e663b9a95d697d7417d5160cb,coordination,"# == Class: designate::coordination # # Setup and configure Designate coordination settings. # # === Parameters # # [*backend_url*] # (Optional) Coordination backend URL. # Defaults to $::os_service_default # # [*heartbeat_interval*] # (Optional) Number of seconds between hearbeats for distributed # coordintation. # Defaults to $::os_service_default # # [*run_watchers_interval*] # (Optional) Numeber of seconds between checks to see if group membership # has changed. # Defaults to $::os_service_default # # [*max_retry_interval*] # (Optional) Maximum number of seconds between retry to join partitioning # group # Defaults to $::os_service_default # class designate::coordination ( $backend_url = $::os_service_default, $heartbeat_interval = $::os_service_default, $run_watchers_interval = $::os_service_default, ) { include designate::deps $backend_url = pick($::designate::producer::backend_url, $backend_url) oslo::coordination{ 'designate_config': backend_url => $backend_url_real } designate_config { 'coordination/heartbeat_interval': value => $heartbeat_interval; 'coordination/run_watchers_interval' value => $run_watchers_interval; } } ",,108,3
openstack%2Fpuppet-ceph~master~I541a57bf4bdb51d1d27ff25e317683e3dbb56afa,openstack/puppet-ceph,master,I541a57bf4bdb51d1d27ff25e317683e3dbb56afa,Drop Fedora support,MERGED,2021-06-12 07:37:49.000000000,2021-07-07 21:33:48.000000000,2021-07-07 21:32:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-12 07:37:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/f161dc0c1e68b336ed03e78757d032739ca3bb02', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa\n""}, {'number': 2, 'created': '2021-07-05 03:12:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/14727e8762dc6e4003f2e94e4cf8d55398bdacdf', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa\n""}, {'number': 3, 'created': '2021-07-05 03:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/2a4fd2dbcf73c401067540696243a0edd17bca07', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa\n""}, {'number': 4, 'created': '2021-07-05 03:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/5bcb926d0adc5835804980629c484f5924cdf574', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nChange-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa\n""}, {'number': 5, 'created': '2021-07-05 03:23:45.000000000', 'files': ['metadata.json', 'manifests/rgw/keystone.pp', 'manifests/repo.pp', 'releasenotes/notes/drop-fedora-01b1484406c0c888.yaml', 'spec/classes/ceph_repo_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ceph/commit/6edfc34ed75274a9e27bcaceca2136f8f3ef4940', 'message': ""Drop Fedora support\n\nFedora support is never tested, and has been unmaintained for a while.\nBecause we don't expect any actual user using OpenStack on Fedora, this\nchange drops support for Fedora directly.\n\nThis change also fixes the release version used in CentOS8/RHEL8 when\nsetting up package repositories.\n\nChange-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa\n""}]",0,796109,6edfc34ed75274a9e27bcaceca2136f8f3ef4940,18,4,5,30384,,,0,"Drop Fedora support

Fedora support is never tested, and has been unmaintained for a while.
Because we don't expect any actual user using OpenStack on Fedora, this
change drops support for Fedora directly.

This change also fixes the release version used in CentOS8/RHEL8 when
setting up package repositories.

Change-Id: I541a57bf4bdb51d1d27ff25e317683e3dbb56afa
",git fetch https://review.opendev.org/openstack/puppet-ceph refs/changes/09/796109/1 && git format-patch -1 --stdout FETCH_HEAD,"['metadata.json', 'releasenotes/notes/drop-fedora-01b1484406c0c888.yaml']",2,f161dc0c1e68b336ed03e78757d032739ca3bb02,drop-fedora,--- upgrade: - | Fedora is no longer supported.,,4,6
openstack%2Fpuppet-oslo~stable%2Fussuri~I4478d209c23e7468e6f36fe417acc01d7b986938,openstack/puppet-oslo,stable/ussuri,I4478d209c23e7468e6f36fe417acc01d7b986938,Cors: Accept array for ListOpts,MERGED,2021-07-05 03:03:36.000000000,2021-07-07 21:32:20.000000000,2021-07-07 21:32:20.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 03:03:36.000000000', 'files': ['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/be425dd82d82425ccc9852b62280d6ffe96fb9b8', 'message': 'Cors: Accept array for ListOpts\n\nThe following four parameters of cors middleware are ListOpt, thus\naccepting array for these options allows users to define parameters\nin a similar format.\n\n - allowed_origin\n - expose_headers\n - allow_methods\n - allow_headers\n\nChange-Id: I4478d209c23e7468e6f36fe417acc01d7b986938\n(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)\n(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)\n(cherry picked from commit 5f6a5967d588d20f42f70ce1178726f0d29ec399)\n'}]",0,799363,be425dd82d82425ccc9852b62280d6ffe96fb9b8,9,3,1,9816,,,0,"Cors: Accept array for ListOpts

The following four parameters of cors middleware are ListOpt, thus
accepting array for these options allows users to define parameters
in a similar format.

 - allowed_origin
 - expose_headers
 - allow_methods
 - allow_headers

Change-Id: I4478d209c23e7468e6f36fe417acc01d7b986938
(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)
(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)
(cherry picked from commit 5f6a5967d588d20f42f70ce1178726f0d29ec399)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/63/799363/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp']",2,be425dd82d82425ccc9852b62280d6ffe96fb9b8,listopts-stable/wallaby-stable/victoria-stable/ussuri," 'cors/allowed_origin' => { value => join(any2array($allowed_origin), ',') }, 'cors/expose_headers' => { value => join(any2array($expose_headers), ',') }, 'cors/allow_methods' => { value => join(any2array($allow_methods), ',') }, 'cors/allow_headers' => { value => join(any2array($allow_headers), ',') }"," 'cors/allowed_origin' => { value => $allowed_origin }, 'cors/expose_headers' => { value => $expose_headers }, 'cors/allow_methods' => { value => $allow_methods }, 'cors/allow_headers' => { value => $allow_headers }",43,4
openstack%2Fpuppet-oslo~stable%2Ftrain~I4478d209c23e7468e6f36fe417acc01d7b986938,openstack/puppet-oslo,stable/train,I4478d209c23e7468e6f36fe417acc01d7b986938,Cors: Accept array for ListOpts,MERGED,2021-07-05 03:04:12.000000000,2021-07-07 21:32:15.000000000,2021-07-07 21:32:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 03:04:12.000000000', 'files': ['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/78c768e61643f86db4031f3e03eb26ea24d61bb9', 'message': 'Cors: Accept array for ListOpts\n\nThe following four parameters of cors middleware are ListOpt, thus\naccepting array for these options allows users to define parameters\nin a similar format.\n\n - allowed_origin\n - expose_headers\n - allow_methods\n - allow_headers\n\nChange-Id: I4478d209c23e7468e6f36fe417acc01d7b986938\n(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)\n(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)\n(cherry picked from commit 5f6a5967d588d20f42f70ce1178726f0d29ec399)\n(cherry picked from commit be425dd82d82425ccc9852b62280d6ffe96fb9b8)\n'}]",0,799364,78c768e61643f86db4031f3e03eb26ea24d61bb9,7,3,1,9816,,,0,"Cors: Accept array for ListOpts

The following four parameters of cors middleware are ListOpt, thus
accepting array for these options allows users to define parameters
in a similar format.

 - allowed_origin
 - expose_headers
 - allow_methods
 - allow_headers

Change-Id: I4478d209c23e7468e6f36fe417acc01d7b986938
(cherry picked from commit 769ff6dec9cbc9fe1c48b6493027407b37217f96)
(cherry picked from commit 83e2c42821c9f1f7cba052355b90b38b97198f95)
(cherry picked from commit 5f6a5967d588d20f42f70ce1178726f0d29ec399)
(cherry picked from commit be425dd82d82425ccc9852b62280d6ffe96fb9b8)
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/64/799364/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/defines/oslo_cors_spec.rb', 'manifests/cors.pp']",2,78c768e61643f86db4031f3e03eb26ea24d61bb9,listopts-stable/wallaby-stable/victoria-stable/ussuri-stable/train," 'cors/allowed_origin' => { value => join(any2array($allowed_origin), ',') }, 'cors/expose_headers' => { value => join(any2array($expose_headers), ',') }, 'cors/allow_methods' => { value => join(any2array($allow_methods), ',') }, 'cors/allow_headers' => { value => join(any2array($allow_headers), ',') }"," 'cors/allowed_origin' => { value => $allowed_origin }, 'cors/expose_headers' => { value => $expose_headers }, 'cors/allow_methods' => { value => $allow_methods }, 'cors/allow_headers' => { value => $allow_headers }",43,4
openstack%2Fpuppet-manila~master~I1a4c342a1d7876762af51d2c8bef87881719e598,openstack/puppet-manila,master,I1a4c342a1d7876762af51d2c8bef87881719e598,Add support for coordination parameters,MERGED,2021-07-06 04:32:17.000000000,2021-07-07 21:30:41.000000000,2021-07-07 21:29:05.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 04:32:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/1877626772ea9cca09405cf4fdd421422e9af6fd', 'message': 'Add support for coordination parameters\n\nThe tooz library was introduced to Manila a while ago[1]. This change\nadds the new manila::coordination class to manage coordination\nparameters and backend packages.\n\n[1] 326755f42ccf0385a02db37e734251860d81b00d\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I1a4c342a1d7876762af51d2c8bef87881719e598\n'}, {'number': 2, 'created': '2021-07-06 04:33:16.000000000', 'files': ['spec/classes/manila_coordination_spec.rb', 'releasenotes/notes/coordination-07f3f700248c38fb.yaml', 'manifests/coordination.pp'], 'web_link': 'https://opendev.org/openstack/puppet-manila/commit/e1aaaf7237933f745498b0f35dfc5570cc8eb79d', 'message': 'Add support for coordination parameters\n\nThe tooz library was introduced to Manila a while ago[1]. This change\nadds the new manila::coordination class to manage coordination\nparameters and backend packages.\n\n[1] 326755f42ccf0385a02db37e734251860d81b00d\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I1a4c342a1d7876762af51d2c8bef87881719e598\n'}]",0,799557,e1aaaf7237933f745498b0f35dfc5570cc8eb79d,9,3,2,9816,,,0,"Add support for coordination parameters

The tooz library was introduced to Manila a while ago[1]. This change
adds the new manila::coordination class to manage coordination
parameters and backend packages.

[1] 326755f42ccf0385a02db37e734251860d81b00d

Depends-on: https://review.opendev.org/791628
Change-Id: I1a4c342a1d7876762af51d2c8bef87881719e598
",git fetch https://review.opendev.org/openstack/puppet-manila refs/changes/57/799557/2 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/manila_coordination_spec.rb', 'releasenotes/notes/coordination-07f3f700248c38fb.yaml', 'manifests/coordination.pp']",3,1877626772ea9cca09405cf4fdd421422e9af6fd,coordination,"# == Class: manila::coordination # # Setup and configure Manila coordination settings. # # === Parameters # # [*backend_url*] # (Optional) Coordination backend URL. # Defaults to $::os_service_default # class manila::coordination ( $backend_url = $::os_service_default, ) { include manila::deps oslo::coordination{ 'manila_config': backend_url => $backend_url } } ",,63,0
openstack%2Fpuppet-openstack-integration~master~I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee,openstack/puppet-openstack-integration,master,I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee,Initialize iscsi target during installation,MERGED,2021-06-03 15:56:48.000000000,2021-07-07 21:30:17.000000000,2021-07-07 21:30:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-03 15:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/a4c57e9165197ad3a7a714a7ef63ebb70a3050c2', 'message': 'WIP: Enable iscsid configuration\n\nDepends-on: https://review.opendev.org/794605\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n'}, {'number': 2, 'created': '2021-06-04 11:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9347ba4b5aa219e8aebeb8c9a3d78184404007c4', 'message': 'WIP: Enable iscsid configuration\n\nDepends-on: https://review.opendev.org/794605\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n'}, {'number': 3, 'created': '2021-07-05 17:19:15.000000000', 'files': ['manifests/cinder.pp', 'manifests/nova.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c3bbd0059dbfdfd3dfdda487efc06132efc99092', 'message': 'Initialize iscsi target during installation\n\nThis change enables initialization of iscsi target using the new\nopenstacklib::iscsid class to ensure that initiator name is generated\nduring installation.\n\nDepends-on: https://review.opendev.org/794605\nChange-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee\n'}]",0,794635,c3bbd0059dbfdfd3dfdda487efc06132efc99092,12,3,3,9816,,,0,"Initialize iscsi target during installation

This change enables initialization of iscsi target using the new
openstacklib::iscsid class to ensure that initiator name is generated
during installation.

Depends-on: https://review.opendev.org/794605
Change-Id: I6b762c8ef0e7b4b19ae81acf878236330b3ba3ee
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/35/794635/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/nova.pp']",2,a4c57e9165197ad3a7a714a7ef63ebb70a3050c2,iscsid, } else { include openstacklib::iscsid Service['iscid'] -> Service['nova-compute'],,5,0
openstack%2Fpuppet-mistral~master~I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8,openstack/puppet-mistral,master,I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8,Use oslo::coordination to manage coordination parameters,MERGED,2021-07-06 08:03:48.000000000,2021-07-07 21:27:14.000000000,2021-07-07 21:25:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 08:03:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/92b545e73698ca2c69db98fee4bc7fea64f5a5a4', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8\n'}, {'number': 2, 'created': '2021-07-06 09:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/14ff00189551b70716225cfb0825757c2d067d46', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8\n'}, {'number': 3, 'created': '2021-07-06 11:38:17.000000000', 'files': ['manifests/init.pp', 'releasenotes/notes/coordination-6da1ae2202029007.yaml', 'spec/classes/mistral_coordination_spec.rb', 'manifests/coordination.pp', 'spec/classes/mistral_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-mistral/commit/298c6ec174780d97966d1724107910ab88d26def', 'message': 'Use oslo::coordination to manage coordination parameters\n\nThis change replaces current implementation to manage coordination\nparameters by the base class in puppet-oslo. With this change\nthe required backend package is installed according to the backend\ndriver used.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8\n'}]",0,799575,298c6ec174780d97966d1724107910ab88d26def,12,3,3,9816,,,0,"Use oslo::coordination to manage coordination parameters

This change replaces current implementation to manage coordination
parameters by the base class in puppet-oslo. With this change
the required backend package is installed according to the backend
driver used.

Depends-on: https://review.opendev.org/791628
Change-Id: I5c2653475bbbf6dc0a9ce795958fd884bcdf13e8
",git fetch https://review.opendev.org/openstack/puppet-mistral refs/changes/75/799575/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'releasenotes/notes/coordination-6da1ae2202029007.yaml', 'spec/classes/mistral_coordination_spec.rb', 'manifests/coordination.pp', 'spec/classes/mistral_init_spec.rb']",5,92b545e73698ca2c69db98fee4bc7fea64f5a5a4,coordination,, should contain_mistral_config('coordination/backend_url').with(:value => '<SERVICE DEFAULT>') should contain_mistral_config('coordination/heartbeat_interval').with(:value => '<SERVICE DEFAULT>'),101,14
openstack%2Ftripleo-heat-templates~master~Ia7610a157ae2598c32bcc3b7d9d45f0d3ebf11e5,openstack/tripleo-heat-templates,master,Ia7610a157ae2598c32bcc3b7d9d45f0d3ebf11e5,"DNM Revert ""Remove NovaVncProxyNetwork from ServiceNetMap""",ABANDONED,2021-07-07 21:05:30.000000000,2021-07-07 21:06:21.000000000,,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-07-07 21:05:30.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f59ba8dc8a7d72ef62770b8c606e4eafe1f00847', 'message': 'DNM Revert ""Remove NovaVncProxyNetwork from ServiceNetMap""\n\nThis reverts commit 9da8a405952623e42f52e13ac948da1e57cf6906.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/797823\n\nReason for revert: just testing\n\nChange-Id: Ia7610a157ae2598c32bcc3b7d9d45f0d3ebf11e5\n'}]",0,799881,f59ba8dc8a7d72ef62770b8c606e4eafe1f00847,4,7,1,10969,,,0,"DNM Revert ""Remove NovaVncProxyNetwork from ServiceNetMap""

This reverts commit 9da8a405952623e42f52e13ac948da1e57cf6906.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/797823

Reason for revert: just testing

Change-Id: Ia7610a157ae2598c32bcc3b7d9d45f0d3ebf11e5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/799881/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'network/service_net_map.j2.yaml']",2,f59ba8dc8a7d72ef62770b8c606e4eafe1f00847,1917719-2, map_replace: - {get_param: ServiceNetMap} - values: {{network.name_lower}}: {get_param: {{network.name}}NetName} keys: {get_param: ServiceNetMapDeprecatedMapping}," map_merge: - map_replace: - {get_param: ServiceNetMap} - values: {{network.name_lower}}: {get_param: {{network.name}}NetName} keys: {get_param: ServiceNetMapDeprecatedMapping} - NovaVncProxyNetwork: { get_param: [ServiceNetMap, NovaLibvirtNetwork] }",6,7
openstack%2Ftripleo-heat-templates~master~I08fa1ee947574e6fac24885b17706a22054fcba9,openstack/tripleo-heat-templates,master,I08fa1ee947574e6fac24885b17706a22054fcba9,Remove NovaVncProxyNetwork from ServiceNetMap,MERGED,2021-06-28 13:17:25.000000000,2021-07-07 21:05:30.000000000,2021-06-29 09:35:35.000000000,"[{'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 27419}]","[{'number': 1, 'created': '2021-06-28 13:17:25.000000000', 'files': ['overcloud-resource-registry-puppet.j2.yaml', 'network/service_net_map.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9da8a405952623e42f52e13ac948da1e57cf6906', 'message': 'Remove NovaVncProxyNetwork from ServiceNetMap\n\nIn Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use\nNovaLibvirtNetwork as the single network to configure instance console\ncomponents.\nDue to how hieradata is being rendered via tripleo-hieradata, the\nremoved NovaVncProxyNetwork resulted in no-vnc-proxy service to\nfall back to the control plane network because NovaVncProxyNetwork\nwas removed.\nNovaVncProxyNetwork was then reintroduced with\nI595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect\nagain introduced the inconsistency on the console configuration.\n\nThis patch removes the NovaVncProxyNetwork from ServiceNetMap\nbut set it as part of service_net_map.j2.yaml and keep it in\nsync with NovaLibvirtNetwork.\n\nChange-Id: I08fa1ee947574e6fac24885b17706a22054fcba9\nCloses-Bug: #1917719\n'}]",1,798301,9da8a405952623e42f52e13ac948da1e57cf6906,9,6,1,17216,,,0,"Remove NovaVncProxyNetwork from ServiceNetMap

In Icef2481b65b41b524ad44eeecfbee4451006e1d2 we moved to use
NovaLibvirtNetwork as the single network to configure instance console
components.
Due to how hieradata is being rendered via tripleo-hieradata, the
removed NovaVncProxyNetwork resulted in no-vnc-proxy service to
fall back to the control plane network because NovaVncProxyNetwork
was removed.
NovaVncProxyNetwork was then reintroduced with
I595294956a4a7a0e2280c685ac1d2543edbc32f2 but as a side effect
again introduced the inconsistency on the console configuration.

This patch removes the NovaVncProxyNetwork from ServiceNetMap
but set it as part of service_net_map.j2.yaml and keep it in
sync with NovaLibvirtNetwork.

Change-Id: I08fa1ee947574e6fac24885b17706a22054fcba9
Closes-Bug: #1917719
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/798301/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud-resource-registry-puppet.j2.yaml', 'network/service_net_map.j2.yaml']",2,9da8a405952623e42f52e13ac948da1e57cf6906,1917719-2," map_merge: - map_replace: - {get_param: ServiceNetMap} - values: {{network.name_lower}}: {get_param: {{network.name}}NetName} keys: {get_param: ServiceNetMapDeprecatedMapping} - NovaVncProxyNetwork: { get_param: [ServiceNetMap, NovaLibvirtNetwork] }", map_replace: - {get_param: ServiceNetMap} - values: {{network.name_lower}}: {get_param: {{network.name}}NetName} keys: {get_param: ServiceNetMapDeprecatedMapping},7,6
openstack%2Ftripleo-upgrade~stable%2Fvictoria~Ie6952f833887507d3dc5ae10cccb246c9f525c12,openstack/tripleo-upgrade,stable/victoria,Ie6952f833887507d3dc5ae10cccb246c9f525c12,[FFWD upgrade pre] Add support in cold evacuate,MERGED,2021-07-05 15:35:31.000000000,2021-07-07 21:00:06.000000000,2021-07-07 21:00:06.000000000,"[{'_account_id': 11090}, {'_account_id': 20171}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 15:35:31.000000000', 'files': ['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/abb07a66309219f71d658b83c9c5081881a7b325', 'message': '[FFWD upgrade pre] Add support in cold evacuate\n\nAdding parameter spec compute_cold_evacuate\n\nTo extend node_upgrade_pre.sh.j2 with cold migration,\nCurrently it is a mast from queens->train in nfv use cases\n\nChange-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12\n(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)\n'}]",0,799487,abb07a66309219f71d658b83c9c5081881a7b325,8,3,1,6816,,,0,"[FFWD upgrade pre] Add support in cold evacuate

Adding parameter spec compute_cold_evacuate

To extend node_upgrade_pre.sh.j2 with cold migration,
Currently it is a mast from queens->train in nfv use cases

Change-Id: Ie6952f833887507d3dc5ae10cccb246c9f525c12
(cherry picked from commit 7c1df132e69f1d1f5a32bc4159b8c928d51e323a)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/87/799487/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/node_upgrade_pre.sh.j2', 'infrared_plugin/plugin.spec', 'infrared_plugin/main.yml', 'defaults/main.yml']",4,abb07a66309219f71d658b83c9c5081881a7b325,upgrade-compute-cold-evacuate-stable/victoria,compute_cold_evacuate: false,,26,5
openstack%2Fpuppet-tacker~master~I3cb36be7fe6b43133f09ed6edce3f258786d7dc2,openstack/puppet-tacker,master,I3cb36be7fe6b43133f09ed6edce3f258786d7dc2,Add support for coordination parameters,MERGED,2021-07-06 02:30:21.000000000,2021-07-07 20:56:54.000000000,2021-07-07 20:55:29.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 02:30:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/69571474c9a2ea9dac5f9776b147778024537eb8', 'message': 'Add support for coordination parameters\n\nThis change introduces the new tacker::coordination class which manages\ncoordination parameters and backend packages using oslo::coordination\nresource type.\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I3cb36be7fe6b43133f09ed6edce3f258786d7dc2\n'}, {'number': 2, 'created': '2021-07-06 02:31:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/73e3e3afdc8e5649c77f14d2183bb6114e2c2212', 'message': 'Add support for coordination parameters\n\nRecent Tacker uses the tooz library to synchronize vnf action tasks[1].\nThis change introduces the new tacker::coordination class which manages\ncoordination parameters and backend packages using oslo::coordination\nresource type.\n\n[1] cff8c756822da5a8a7b92eec536db4532d31c408\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I3cb36be7fe6b43133f09ed6edce3f258786d7dc2\n'}, {'number': 3, 'created': '2021-07-06 04:05:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/ea4aaf7fbc214752bf26d17b15c3c351862cc945', 'message': 'Add support for coordination parameters\n\nRecent Tacker uses the tooz library to synchronize vnf action tasks[1].\nThis change introduces the new tacker::coordination class which manages\ncoordination parameters and backend packages using oslo::coordination\nresource type.\n\n[1] cff8c756822da5a8a7b92eec536db4532d31c408\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I3cb36be7fe6b43133f09ed6edce3f258786d7dc2\n'}, {'number': 4, 'created': '2021-07-06 04:18:37.000000000', 'files': ['releasenotes/notes/coordination-62df61b16108ae0b.yaml', 'spec/classes/tacker_coordination_spec.rb', 'manifests/coordination.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tacker/commit/f10b246ac0c81deffeb789f63353485c84449c23', 'message': 'Add support for coordination parameters\n\nRecent Tacker uses the tooz library to synchronize vnf action tasks[1].\nThis change introduces the new tacker::coordination class which manages\ncoordination parameters and backend packages using oslo::coordination\nresource type.\n\n[1] cff8c756822da5a8a7b92eec536db4532d31c408\n\nDepends-on: https://review.opendev.org/791628\nChange-Id: I3cb36be7fe6b43133f09ed6edce3f258786d7dc2\n'}]",0,799551,f10b246ac0c81deffeb789f63353485c84449c23,12,3,4,9816,,,0,"Add support for coordination parameters

Recent Tacker uses the tooz library to synchronize vnf action tasks[1].
This change introduces the new tacker::coordination class which manages
coordination parameters and backend packages using oslo::coordination
resource type.

[1] cff8c756822da5a8a7b92eec536db4532d31c408

Depends-on: https://review.opendev.org/791628
Change-Id: I3cb36be7fe6b43133f09ed6edce3f258786d7dc2
",git fetch https://review.opendev.org/openstack/puppet-tacker refs/changes/51/799551/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/coordination-62df61b16108ae0b.yaml', 'spec/classes/tacker_coordination_spec.rb', 'manifests/coordination.pp']",3,69571474c9a2ea9dac5f9776b147778024537eb8,coordination,"# == Class: tacker::coordination # # Setup and configure tacker coordination settings. # # === Parameters # # [*backend_url*] # (Optional) Coordination backend URL. # Defaults to $::os_service_default # class tacker::coordination ( $backend_url = $::os_service_default, ) { include tacker::deps oslo::coordination{ 'tacker_config': backend_url => $backend_url_real } } ",,63,0
openstack%2Fcinderlib~master~I4a0ed3e899ac76161099e5d126ec2b0b192fda08,openstack/cinderlib,master,I4a0ed3e899ac76161099e5d126ec2b0b192fda08,Update master for stable/wallaby,ABANDONED,2021-04-05 03:15:25.000000000,2021-07-07 20:46:13.000000000,,"[{'_account_id': 5314}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-05 03:15:25.000000000', 'files': ['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/cinderlib/commit/92f40a8fd6b9c8bd9380ba6aac07899adcd62fe6', 'message': 'Update master for stable/wallaby\n\nChange-Id: I4a0ed3e899ac76161099e5d126ec2b0b192fda08\n'}]",0,784721,92f40a8fd6b9c8bd9380ba6aac07899adcd62fe6,5,2,1,30384,,,0,"Update master for stable/wallaby

Change-Id: I4a0ed3e899ac76161099e5d126ec2b0b192fda08
",git fetch https://review.opendev.org/openstack/cinderlib refs/changes/21/784721/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/wallaby.rst', 'releasenotes/source/index.rst']",2,92f40a8fd6b9c8bd9380ba6aac07899adcd62fe6,, wallaby,,7,0
openstack%2Fpuppet-octavia~master~I8054327879deb71a759885e94dd5fb830cb62f97,openstack/puppet-octavia,master,I8054327879deb71a759885e94dd5fb830cb62f97,Add support for [cors] options,MERGED,2021-07-05 02:56:19.000000000,2021-07-07 20:42:18.000000000,2021-07-07 20:40:50.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 02:56:19.000000000', 'files': ['spec/classes/octavia_cors_spec.rb', 'releasenotes/notes/cors-0a1240b26cf2b8b2.yaml', 'manifests/cors.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/dedd259113152946e2cdd15e7b2e29c4f13176ab', 'message': 'Add support for [cors] options\n\nChange-Id: I8054327879deb71a759885e94dd5fb830cb62f97\n'}]",0,799430,dedd259113152946e2cdd15e7b2e29c4f13176ab,8,3,1,9816,,,0,"Add support for [cors] options

Change-Id: I8054327879deb71a759885e94dd5fb830cb62f97
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/30/799430/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/octavia_cors_spec.rb', 'releasenotes/notes/cors-0a1240b26cf2b8b2.yaml', 'manifests/cors.pp']",3,dedd259113152946e2cdd15e7b2e29c4f13176ab,cors-opts,"# == Class: octavia::cors # # Configure the octavia cors # # === Parameters # # [*allowed_origin*] # (Optional) Indicate whether this resource may be shared with the domain # received in the requests ""origin"" header. # (string value) # Defaults to $::os_service_default. # # [*allow_credentials*] # (Optional) Indicate that the actual request can include user credentials. # (boolean value) # Defaults to $::os_service_default. # # [*expose_headers*] # (Optional) Indicate which headers are safe to expose to the API. # (list value) # Defaults to $::os_service_default. # # [*max_age*] # (Optional) Maximum cache age of CORS preflight requests. # (integer value) # Defaults to $::os_service_default. # # [*allow_methods*] # (Optional) Indicate which methods can be used during the actual request. # (list value) # Defaults to $::os_service_default. # # [*allow_headers*] # (Optional) Indicate which header field names may be used during the actual # request. # (list value) # Defaults to $::os_service_default. # class octavia::cors ( $allowed_origin = $::os_service_default, $allow_credentials = $::os_service_default, $expose_headers = $::os_service_default, $max_age = $::os_service_default, $allow_methods = $::os_service_default, $allow_headers = $::os_service_default, ) { include octavia::deps oslo::cors { 'octavia_config': allowed_origin => $allowed_origin, allow_credentials => $allow_credentials, expose_headers => $expose_headers, max_age => $max_age, allow_methods => $allow_methods, allow_headers => $allow_headers, } } ",,116,0
openstack%2Fmanila~master~Ie1601bfe79f744c553c25d7724cc9bf1894bc59b,openstack/manila,master,Ie1601bfe79f744c553c25d7724cc9bf1894bc59b,Replace oslo_utils.fnmatch with fnmatch,MERGED,2021-07-06 12:16:08.000000000,2021-07-07 20:21:17.000000000,2021-07-07 20:19:30.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2021-07-06 12:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/91ff3754b66459bad46f3351ed07d6721efe3d8e', 'message': ""Replace oslo_utils.fnmatch by fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ie1601bfe79f744c553c25d7724cc9bf1894bc59b\n""}, {'number': 2, 'created': '2021-07-06 12:23:21.000000000', 'files': ['manila/share/drivers/dell_emc/plugins/unity/utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/52f2ebe6e356a9ddf60bf31f6b124ee7bf03441a', 'message': ""Replace oslo_utils.fnmatch with fnmatch\n\nThe oslo_utils.fnmatch module was added to solve an issue in py2.7 but\nit is no longer required because py2.7 is no longer supported.\nThe module was deprecated since oslo.utils 4.9.1[1] and the stdlib's\nfnmatch module should be used instead.\n\n[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b\n\nChange-Id: Ie1601bfe79f744c553c25d7724cc9bf1894bc59b\n""}]",0,799653,52f2ebe6e356a9ddf60bf31f6b124ee7bf03441a,16,3,2,9816,,,0,"Replace oslo_utils.fnmatch with fnmatch

The oslo_utils.fnmatch module was added to solve an issue in py2.7 but
it is no longer required because py2.7 is no longer supported.
The module was deprecated since oslo.utils 4.9.1[1] and the stdlib's
fnmatch module should be used instead.

[1] 4c893c92f551c9dd2a7cfbe7ae8171ad8139df0b

Change-Id: Ie1601bfe79f744c553c25d7724cc9bf1894bc59b
",git fetch https://review.opendev.org/openstack/manila refs/changes/53/799653/2 && git format-patch -1 --stdout FETCH_HEAD,"['manila/share/drivers/dell_emc/plugins/unity/utils.py', 'manila/share/drivers/dell_emc/common/enas/utils.py']",2,91ff3754b66459bad46f3351ed07d6721efe3d8e,fnmatch,import fnmatch,from oslo_utils import fnmatch,3,2
openstack%2Ftripleo-quickstart-extras~master~Ie655df7e2762490cf8e37d8f0ababae2da3a2064,openstack/tripleo-quickstart-extras,master,Ie655df7e2762490cf8e37d8f0ababae2da3a2064,Use openstack commands when setting dns_servers,MERGED,2021-06-28 08:12:44.000000000,2021-07-07 20:19:21.000000000,2021-07-07 20:19:21.000000000,"[{'_account_id': 7353}, {'_account_id': 8367}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 08:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/27f95e5234bd9e61c7cec10ce8a70c4ddb971d91', 'message': 'Use openstack commands when setting dns_servers\n\nWe should not be using legacy cli commands.\n\nChange-Id: Ie655df7e2762490cf8e37d8f0ababae2da3a2064\n'}, {'number': 2, 'created': '2021-06-28 12:11:52.000000000', 'files': ['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/a80b15f69a0b755a328bd417ac0ad8e0de10eddd', 'message': 'Use openstack commands when setting dns_servers\n\nWe should not be using legacy cli commands.\n\nChange-Id: Ie655df7e2762490cf8e37d8f0ababae2da3a2064\n'}]",3,798260,a80b15f69a0b755a328bd417ac0ad8e0de10eddd,25,5,2,8833,,,0,"Use openstack commands when setting dns_servers

We should not be using legacy cli commands.

Change-Id: Ie655df7e2762490cf8e37d8f0ababae2da3a2064
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/60/798260/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/overcloud-prep-network/templates/overcloud-prep-network.sh.j2'],1,27f95e5234bd9e61c7cec10ce8a70c4ddb971d91,keystoneless,"{% if overcloud_dns_servers|default([]) %} openstack subnet set $CTLPLANE_SUBNET \ openstack subnet set $(openstack subnet list | awk '/ctlplane/{print $(NF-7) }') $(awk 'match($0, /nameserver\s+(([0-9]{1,3}.?){4})/,address){printf "" --dns-nameserver %s"", address[1]}' /etc/resolv.conf)","{% if overcloud_dns_servers|default([]) and release not in ['mitaka', 'newton'] %} neutron subnet-update $CTLPLANE_SUBNET \ neutron subnet-update $(neutron net-list | awk '/ctlplane/{print $(NF-2) }') $(awk 'match($0, /nameserver\s+(([0-9]{1,3}.?){4})/,address){printf "" --dns-nameserver %s"", address[1]}' /etc/resolv.conf)",3,3
openstack%2Fironic~master~Ided419263d84184cab902944b6c518f98618c9d2,openstack/ironic,master,Ided419263d84184cab902944b6c518f98618c9d2,API to pass fields to node object list,MERGED,2021-05-19 22:10:00.000000000,2021-07-07 20:19:04.000000000,2021-07-06 08:18:19.000000000,"[{'_account_id': 4571}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 15519}, {'_account_id': 22348}, {'_account_id': 32592}]","[{'number': 1, 'created': '2021-05-19 22:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/64861546a83996f79ea565f7e0f8a7a44fd37b23', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 2, 'created': '2021-05-20 22:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e249c7a165a5f5ad4be712ff4884043c11365468', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 3, 'created': '2021-05-24 19:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/67f65b763504e060abe0f30edfb255a33f59ef10', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 4, 'created': '2021-05-24 22:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e600129308c241c02854650a2e7d1046afc21446', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 5, 'created': '2021-06-01 22:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77b86539de05c46260a9bb7ca99d192c3bab8415', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 6, 'created': '2021-06-03 22:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f77ef50ec35d1298c82146fb305a9a2911bfdd58', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 7, 'created': '2021-06-04 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8818c5966ff3e1ead3babea9b982394760a49b34', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 8, 'created': '2021-06-04 18:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d0fb50c809d16ac4e1c8351686b2aeba7900aa3f', 'message': 'WIP: API to pass fields to node object list\n\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 9, 'created': '2021-06-04 20:39:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c10cd998686babee36371a65b2d944b6aac2ca0e', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 10, 'created': '2021-06-17 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b4a63102febe8e1ff175ae481ee648c43857e1a3', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 11, 'created': '2021-06-18 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/69d39077c4a0621a5bcce9cf5fb9e4348c1fd53f', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 12, 'created': '2021-06-21 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74f2c33c5a53bec0b996e0862b7b381edf2ee386', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 13, 'created': '2021-06-21 22:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/60de93213a462230178b0eb1116299d268e991dc', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}, {'number': 14, 'created': '2021-06-25 23:04:31.000000000', 'files': ['ironic/objects/node.py', 'releasenotes/notes/db-field-overhead-reduction-40be1821e38b468c.yaml', 'ironic/api/controllers/v1/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/87e42afb9e98204a683baff22c67171dca2100fe', 'message': 'API to pass fields to node object list\n\nThis change modifies the nodes _get_nodes_collection method to\nconsider and pass in an explicit lisst of requested fields into\nthe node list method, while also including the required fields\nfor things like ownership/policy checking.\n\nAnd slightly modifies node_convert_with_links method to simplify\nit while enabling field validity to be checked, and specific\nrequisite field lists provided in based upon that value.\n\nAnd also optionally builds the traits list as they are nolonger\n*always* populated on all objects with fully populated objects\nas only partially hydrated objects are provided back when specific\nfields are requested.\n\nStory: 2008885\nTask: 42572\nChange-Id: Ided419263d84184cab902944b6c518f98618c9d2\n'}]",38,792296,87e42afb9e98204a683baff22c67171dca2100fe,100,6,14,11655,,,0,"API to pass fields to node object list

This change modifies the nodes _get_nodes_collection method to
consider and pass in an explicit lisst of requested fields into
the node list method, while also including the required fields
for things like ownership/policy checking.

And slightly modifies node_convert_with_links method to simplify
it while enabling field validity to be checked, and specific
requisite field lists provided in based upon that value.

And also optionally builds the traits list as they are nolonger
*always* populated on all objects with fully populated objects
as only partially hydrated objects are provided back when specific
fields are requested.

Story: 2008885
Task: 42572
Change-Id: Ided419263d84184cab902944b6c518f98618c9d2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/96/792296/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/utils.py', 'ironic/api/controllers/v1/node.py']",2,64861546a83996f79ea565f7e0f8a7a44fd37b23,db-perf-1," if fields: node = api_utils.field_entry_list_prep( rpc_node, link_resource='nodes', fields=fields) else: node = api_utils.object_to_dict( rpc_node, link_resource='nodes', fields=( 'automated_clean', 'bios_interface', 'boot_interface', 'clean_step', 'conductor_group', 'console_enabled', 'console_interface', 'deploy_interface', 'deploy_step', 'description', 'driver', 'driver_info', 'driver_internal_info', 'extra', 'fault', 'inspection_finished_at', 'inspection_started_at', 'inspect_interface', 'instance_info', 'instance_uuid', 'last_error', 'lessee', 'maintenance', 'maintenance_reason', 'management_interface', 'name', 'network_data', 'network_interface', 'owner', 'power_interface', 'power_state', 'properties', 'protected', 'protected_reason', 'provision_state', 'provision_updated_at', 'raid_config', 'raid_interface', 'rescue_interface', 'reservation', 'resource_class', 'retired', 'retired_reason', 'storage_interface', 'target_power_state', 'target_provision_state', 'target_raid_config', 'vendor_interface' ), ) node['traits'] = rpc_node.traits.get_trait_names() filters=filters, fields=fields)"," node = api_utils.object_to_dict( rpc_node, link_resource='nodes', fields=( 'automated_clean', 'bios_interface', 'boot_interface', 'clean_step', 'conductor_group', 'console_enabled', 'console_interface', 'deploy_interface', 'deploy_step', 'description', 'driver', 'driver_info', 'driver_internal_info', 'extra', 'fault', 'inspection_finished_at', 'inspection_started_at', 'inspect_interface', 'instance_info', 'instance_uuid', 'last_error', 'lessee', 'maintenance', 'maintenance_reason', 'management_interface', 'name', 'network_data', 'network_interface', 'owner', 'power_interface', 'power_state', 'properties', 'protected', 'protected_reason', 'provision_state', 'provision_updated_at', 'raid_config', 'raid_interface', 'rescue_interface', 'reservation', 'resource_class', 'retired', 'retired_reason', 'storage_interface', 'target_power_state', 'target_provision_state', 'target_raid_config', 'vendor_interface' ), ) node['traits'] = rpc_node.traits.get_trait_names() filters=filters)",128,56
openstack%2Fironic~master~I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68,openstack/ironic,master,I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68,Set stage for objects to handle selected field lists.,MERGED,2021-05-19 22:10:00.000000000,2021-07-07 20:13:17.000000000,2021-07-02 17:15:25.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-19 22:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/325af4b8bddf60740c426f7d0f56dcd59b238b5c', 'message': ""Hand object a list of fields\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 2, 'created': '2021-05-20 15:41:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/74ecdcf9df6328a617f407dd7ee8bf0ec3301aff', 'message': ""Hand object a list of fields\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 3, 'created': '2021-05-20 22:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a2c276516e2858a700f719c481c2385304659021', 'message': ""Hand object a list of fields\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 4, 'created': '2021-05-24 19:58:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/53a6806cefca6c01fa515cb86d5f495508405f42', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 5, 'created': '2021-05-24 22:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c6f0eb277dbcd2eea3330a365fa28846e48764af', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 6, 'created': '2021-06-01 22:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/474888480930df24232e9f5bef248bb317fcf14b', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 7, 'created': '2021-06-02 20:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/9e5338f95c94b3371900c4eaca88138f550c691f', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 8, 'created': '2021-06-03 22:49:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/76c1bff9dbc798f833022462ef7f610f6664a777', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 9, 'created': '2021-06-04 15:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/138ffe243bf4654d53f9706384b90a2fe37238b9', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 10, 'created': '2021-06-04 18:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6b7902636ae47c6a0bf2ed99b3f849b970a688a1', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 11, 'created': '2021-06-17 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/02d10ab737bb61caa4137d74ffaf5d532b3e29df', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 12, 'created': '2021-06-18 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5441dd5bbde3ffb94b14b3a58f2b588c590bf922', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 13, 'created': '2021-06-21 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/16a48d348bc3305f58da46b312f4db4176c35244', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 14, 'created': '2021-06-21 22:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/fff3e1fbc41eee7e0ab2f1b44beccc368a417603', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}, {'number': 15, 'created': '2021-06-25 23:04:09.000000000', 'files': ['ironic/objects/node.py', 'ironic/tests/unit/api/controllers/v1/test_node.py', 'ironic/tests/unit/objects/test_node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/7b37e03b691cc45e319f61baa494dc0592c2a6f0', 'message': ""Set stage for objects to handle selected field lists.\n\nPrior to this change, ironic would not pass the API consumer request\nfor a list of nodes down to the underlying layers with the list of\nspecific fields being requested.\n\nThis resulted in full objects being returned from the database where\nin essence the entire database would be downloaded to construct the\nobjects, and in the case of joined views, whole roles would largely\nbe duplicated.\n\nIn order to be more efficent, we need to hand the user desired\nfields down to the database, in order to return only that data,\nand thus transform it.\n\nIn this case, we already have testing that handles the conversion\nof objects at the lower layer, and in this case, the db object\nconversion handler already understood fields, so we're just kind\nof completing the awareness further downward for increased efficency.\n\nThis change only sets the stage, the final change to this is aligned\nwith API change to leverage this as the API is coded such that the\nfield does not include all of the required fields needed by the API\nto render replies, which is fixed in the API patch to leverage this\nwith the API.\n\nStory: 2008885\nTask: 42495\nChange-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68\n""}]",4,792275,7b37e03b691cc45e319f61baa494dc0592c2a6f0,103,4,15,11655,,,0,"Set stage for objects to handle selected field lists.

Prior to this change, ironic would not pass the API consumer request
for a list of nodes down to the underlying layers with the list of
specific fields being requested.

This resulted in full objects being returned from the database where
in essence the entire database would be downloaded to construct the
objects, and in the case of joined views, whole roles would largely
be duplicated.

In order to be more efficent, we need to hand the user desired
fields down to the database, in order to return only that data,
and thus transform it.

In this case, we already have testing that handles the conversion
of objects at the lower layer, and in this case, the db object
conversion handler already understood fields, so we're just kind
of completing the awareness further downward for increased efficency.

This change only sets the stage, the final change to this is aligned
with API change to leverage this as the API is coded such that the
field does not include all of the required fields needed by the API
to render replies, which is fixed in the API patch to leverage this
with the API.

Story: 2008885
Task: 42495
Change-Id: I6283c4cc1b1ff608c4be24a6c41eb7b430a5ad68
",git fetch https://review.opendev.org/openstack/ironic refs/changes/75/792275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/objects/node.py', 'ironic/objects/base.py', 'ironic/tests/unit/objects/test_node.py']",3,325af4b8bddf60740c426f7d0f56dcd59b238b5c,db-perf-1," def test_list_with_fields(self): with mock.patch.object(self.dbapi, 'get_node_list', autospec=True) as mock_get_list: mock_get_list.return_value = [self.fake_node] nodes = objects.Node.list(self.context, fields=['uuid', 'provision_state']) self.assertThat(nodes, matchers.HasLength(1)) self.assertEqual(self.fake_node['uuid'], nodes[0].uuid) self.assertEqual(self.fake_node['provision_state'], nodes[0].provision_state) self.assertIsNone(nodes[0].owner) self.assertIsNone(nodes[0].lessee) # Random assortment of fields which should not be present. for field in ['power_state', 'instance_info', 'resource_class', 'automated_clean', 'properties', 'driver']: self.assertFalse(field not in dir(nodes[0])) ",,26,6
openstack%2Fpuppet-cinder~master~I89dbe09a45eeae6ac442b425291135d31befe306,openstack/puppet-cinder,master,I89dbe09a45eeae6ac442b425291135d31befe306,Fix wrong explanation of cinder::cors,MERGED,2021-07-05 02:54:10.000000000,2021-07-07 20:12:57.000000000,2021-07-07 20:11:32.000000000,"[{'_account_id': 14985}, {'_account_id': 21129}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 02:54:10.000000000', 'files': ['releasenotes/notes/cors-ec65ae3f0a49fc44.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-cinder/commit/bf039f2d429990b0c9ea7b2fe6dbabbdd885895f', 'message': 'Fix wrong explanation of cinder::cors\n\ncinder::cors is not an option but a class. This change fixes the wrong\ndescription added by a432ad63b41a9e2d4342c7f6aef2601babd769a8.\n\nChange-Id: I89dbe09a45eeae6ac442b425291135d31befe306\n'}]",0,799429,bf039f2d429990b0c9ea7b2fe6dbabbdd885895f,8,3,1,9816,,,0,"Fix wrong explanation of cinder::cors

cinder::cors is not an option but a class. This change fixes the wrong
description added by a432ad63b41a9e2d4342c7f6aef2601babd769a8.

Change-Id: I89dbe09a45eeae6ac442b425291135d31befe306
",git fetch https://review.opendev.org/openstack/puppet-cinder refs/changes/29/799429/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/cors-ec65ae3f0a49fc44.yaml'],1,bf039f2d429990b0c9ea7b2fe6dbabbdd885895f,, The new ``cinder::cors`` class has been added., The new ``cinder::cors`` option has been added.,1,1
openstack%2Fcharm-vault~stable%2F21.04~Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6,openstack/charm-vault,stable/21.04,Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6,Use bionic version of easyrsa and etcd,MERGED,2021-07-07 15:14:46.000000000,2021-07-07 19:47:52.000000000,2021-07-07 19:47:52.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-07 15:14:46.000000000', 'files': ['src/tests/bundles/xenial-ha-mysql.yaml'], 'web_link': 'https://opendev.org/openstack/charm-vault/commit/d6f1a63b10a6dba74009fb22a75c198ddaaff770', 'message': 'Use bionic version of easyrsa and etcd\n\nThe xenial-ha-mysql test has been failing as there are issues with the\nxenial versions of easyrsa and etcd. The charm under test is vault so we\ncan use the bionic versions of those charms to get unstuck.\n\nChange-Id: Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6\n(cherry picked from commit 54d1ec3a3317b0b96a4447bac3d13240405c30d4)\n'}]",0,799773,d6f1a63b10a6dba74009fb22a75c198ddaaff770,8,5,1,11805,,,0,"Use bionic version of easyrsa and etcd

The xenial-ha-mysql test has been failing as there are issues with the
xenial versions of easyrsa and etcd. The charm under test is vault so we
can use the bionic versions of those charms to get unstuck.

Change-Id: Iabec6088eaaf4f1dd93b16f0f0d99d2ad4c915f6
(cherry picked from commit 54d1ec3a3317b0b96a4447bac3d13240405c30d4)
",git fetch https://review.opendev.org/openstack/charm-vault refs/changes/73/799773/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/bundles/xenial-ha-mysql.yaml'],1,d6f1a63b10a6dba74009fb22a75c198ddaaff770,fix-xenial-tests-stable/21.04, series: bionic etcd: charm: cs:etcd series: bionic, etcd: # NOTE(ajkavanagh) using pinned etcd to work around # https://bugs.launchpad.net/charm-etcd/+bug/1861483 #charm: cs:etcd charm: cs:~containers/etcd-474,3,4
openstack%2Fironic-tempest-plugin~master~I3715bdc7079d6a8754be514a2131a3dae06769c2,openstack/ironic-tempest-plugin,master,I3715bdc7079d6a8754be514a2131a3dae06769c2,Update min version of tox to use allowlist,MERGED,2021-06-15 08:04:30.000000000,2021-07-07 19:42:25.000000000,2021-07-07 19:39:02.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-15 08:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/9aa06470072da8adc8e01e66a7ec1decddda934b', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I3715bdc7079d6a8754be514a2131a3dae06769c2\n'}, {'number': 2, 'created': '2021-07-05 09:25:14.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/c4ad6e2d99fd1c76bdd27b5e6c8acc08a32e5033', 'message': 'Update min version of tox to use allowlist\n\nThe min version of tox is updated to 3.18.0 to replace whitelist_externals\nwith allowist_externals option [1]\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I3715bdc7079d6a8754be514a2131a3dae06769c2\n'}]",1,796393,c4ad6e2d99fd1c76bdd27b5e6c8acc08a32e5033,11,3,2,23851,,,0,"Update min version of tox to use allowlist

The min version of tox is updated to 3.18.0 to replace whitelist_externals
with allowist_externals option [1]

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I3715bdc7079d6a8754be514a2131a3dae06769c2
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/93/796393/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9aa06470072da8adc8e01e66a7ec1decddda934b,allowlist-tox,minversion = 3.19.0allowlist_externals = make,minversion = 3.9.0whitelist_externals = make,2,2
openstack%2Fironic-tempest-plugin~master~I069a9ec15d94871c7b610e130b13e9403110f728,openstack/ironic-tempest-plugin,master,I069a9ec15d94871c7b610e130b13e9403110f728,Remove train testing from ironic-tempest-plugin,MERGED,2021-07-06 14:25:58.000000000,2021-07-07 19:41:24.000000000,2021-07-07 19:38:59.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 14:25:58.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-tempest-plugin/commit/8b9be89a64c7c078072a02dd057c73898fce6f67', 'message': ""Remove train testing from ironic-tempest-plugin\n\nAt this point, it is relatively safe to remove the\ntrain jobs for ironic-tempest-plugin. The branches\nare EOL, and we're unlikely to make any changes which\ntesting against Train, that can't be identified or\nrevealed in later community supported stable branches.\n\nChange-Id: I069a9ec15d94871c7b610e130b13e9403110f728\n""}]",0,799678,8b9be89a64c7c078072a02dd057c73898fce6f67,8,3,1,11655,,,0,"Remove train testing from ironic-tempest-plugin

At this point, it is relatively safe to remove the
train jobs for ironic-tempest-plugin. The branches
are EOL, and we're unlikely to make any changes which
testing against Train, that can't be identified or
revealed in later community supported stable branches.

Change-Id: I069a9ec15d94871c7b610e130b13e9403110f728
",git fetch https://review.opendev.org/openstack/ironic-tempest-plugin refs/changes/78/799678/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,8b9be89a64c7c078072a02dd057c73898fce6f67,, - ironic-standalone-ussuri: - ironic-tempest-functional-python3-ussuri: - ironic-inspector-tempest-ussuri:, - ironic-standalone-ussuri - ironic-standalone-train: - ironic-tempest-functional-python3-ussuri - ironic-tempest-functional-python3-train: - ironic-inspector-tempest-ussuri - ironic-inspector-tempest-train: - ironic-standalone-redfish-train: voting: false - ironic-tempest-ipa-wholedisk-direct-tinyipa-multinode-train: voting: false - ironic-inspector-tempest-discovery-train: voting: false,3,12
openstack%2Fopenstack-helm-infra~master~I42530795b2f62797488e078d9f549dd9208fffc9,openstack/openstack-helm-infra,master,I42530795b2f62797488e078d9f549dd9208fffc9,[WIP][DNM] RGW test secret hash,ABANDONED,2021-06-28 21:51:22.000000000,2021-07-07 19:29:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-28 21:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/af8e760412f0cf3a147af9eb41a30c8d685d7fc5', 'message': '[WIP][DNM] RGW test secret hash\n\nChange-Id: I42530795b2f62797488e078d9f549dd9208fffc9\n'}, {'number': 2, 'created': '2021-06-28 22:46:01.000000000', 'files': ['ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/54d630b5486e41454910e8cd9e7bdeea1bc9cd81', 'message': '[WIP][DNM] RGW test secret hash\n\nChange-Id: I42530795b2f62797488e078d9f549dd9208fffc9\n'}]",0,798386,54d630b5486e41454910e8cd9e7bdeea1bc9cd81,5,1,2,32190,,,0,"[WIP][DNM] RGW test secret hash

Change-Id: I42530795b2f62797488e078d9f549dd9208fffc9
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/86/798386/2 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/deployment-rgw.yaml'],1,af8e760412f0cf3a147af9eb41a30c8d685d7fc5,test-rgw-hash," secret-keystone-rgw-hash: {{ tuple ""secret-keystone-rgw.yaml"" . | include ""helm-toolkit.utils.hash"" }}",,1,0
openstack%2Ftripleo-heat-templates~master~I13270a4866f9b339cb31ebba223121978e52b499,openstack/tripleo-heat-templates,master,I13270a4866f9b339cb31ebba223121978e52b499,Move ephemeral heat upgrade to the service,MERGED,2021-06-22 17:37:51.000000000,2021-07-07 19:21:42.000000000,2021-07-07 19:20:20.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-22 17:37:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2510d5467b730e8bb1bcffdd2611a4b50d23e511', 'message': 'Move ephemeral heat upgrade to the service\n\nRather than using a new service, we can use the existing HeatEphemeral\nservice we added to ensure the undercloud is prepared for the overcloud\ndeployment usage of the ephemeral heat version.  Additionally this will\nproperly tear down the previous containered heat services once the data\nhas been extracted from the existing databases.\n\nChange-Id: I13270a4866f9b339cb31ebba223121978e52b499\n'}, {'number': 2, 'created': '2021-06-28 11:30:52.000000000', 'files': ['scripts/undercloud-upgrade-ephemeral-heat.py', 'environments/lifecycle/undercloud-upgrade-prepare.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4da03adefe09005bcac245a6c4a61eaac14d26f6', 'message': 'Move ephemeral heat upgrade to the service\n\nRather than using a new service, we can use the existing HeatEphemeral\nservice we added to ensure the undercloud is prepared for the overcloud\ndeployment usage of the ephemeral heat version.  Additionally this will\nproperly tear down the previous containered heat services once the data\nhas been extracted from the existing databases.\n\nChange-Id: I13270a4866f9b339cb31ebba223121978e52b499\n'}]",1,797522,4da03adefe09005bcac245a6c4a61eaac14d26f6,25,7,2,14985,,,0,"Move ephemeral heat upgrade to the service

Rather than using a new service, we can use the existing HeatEphemeral
service we added to ensure the undercloud is prepared for the overcloud
deployment usage of the ephemeral heat version.  Additionally this will
properly tear down the previous containered heat services once the data
has been extracted from the existing databases.

Change-Id: I13270a4866f9b339cb31ebba223121978e52b499
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/22/797522/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/lifecycle/undercloud-upgrade-prepare.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'releasenotes/notes/undercloud-upgrade-ephemeral-heat-c838a9c61fc742a3.yaml', 'deployment/heat/heat-ephemeral-container-ansible.yaml', 'roles_data_undercloud.yaml', 'deployment/undercloud/undercloud-upgrade-ephemeral-heat.yaml', 'roles/Undercloud.yaml']",7,2510d5467b730e8bb1bcffdd2611a4b50d23e511,change-797522-1,, - OS::TripleO::Services::UndercloudUpgradeEphemeralHeat,41,65
openstack%2Fglance_store~master~I0603ba217d6dc19f5c9f73c60c7b365efd28d30b,openstack/glance_store,master,I0603ba217d6dc19f5c9f73c60c7b365efd28d30b,Replace md5 with oslo version,MERGED,2020-10-05 20:27:32.000000000,2021-07-07 19:02:33.000000000,2020-11-30 18:43:25.000000000,"[{'_account_id': 5202}, {'_account_id': 8122}, {'_account_id': 9303}, {'_account_id': 9914}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-10-05 20:27:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/afef8cacb1075c8cb406ec0879d47fd703afe465', 'message': 'Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nIt looks like the uses of the md5 are primarily for checksums and\ngeneration of etags.\n\nWith this patch, all the unit and functional tests appear to pass\non a FIPS enabled system.\n\nChange-Id: I0603ba217d6dc19f5c9f73c60c7b365efd28d30b\n'}, {'number': 2, 'created': '2020-10-29 19:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance_store/commit/80464d6f6c2309f8877262caf16597a65d1cb08b', 'message': 'Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nIt looks like the uses of the md5 are primarily for checksums and\ngeneration of etags.\n\nWith this patch, all the unit and functional tests appear to pass\non a FIPS enabled system.\n\nChange-Id: I0603ba217d6dc19f5c9f73c60c7b365efd28d30b\nDepends-On: https://review.opendev.org/#/c/760160\n'}, {'number': 3, 'created': '2020-11-11 18:55:39.000000000', 'files': ['glance_store/tests/unit/test_filesystem_store.py', 'glance_store/tests/unit/test_vmware_store.py', 'glance_store/_drivers/s3.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_rbd_store.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py', 'lower-constraints.txt', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'requirements.txt', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_driver.py', 'glance_store/_drivers/cinder.py', 'glance_store/common/utils.py', 'glance_store/tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py'], 'web_link': 'https://opendev.org/openstack/glance_store/commit/a34419aecdf3db58426fe8fb7e1849ebdff6a5f1', 'message': 'Replace md5 with oslo version\n\nmd5 is not an approved algorithm in FIPS mode, and trying to\ninstantiate a hashlib.md5() will fail when the system is running in\nFIPS mode.\n\nmd5 is allowed when in a non-security context.  There is a plan to\nadd a keyword parameter (usedforsecurity) to hashlib.md5() to annotate\nwhether or not the instance is being used in a security context.\n\nIn the case where it is not, the instantiation of md5 will be allowed.\nSee https://bugs.python.org/issue9216 for more details.\n\nSome downstream python versions already support this parameter.  To\nsupport these versions, a new encapsulation of md5() has been added to\noslo_utils.  See https://review.opendev.org/#/c/750031/\n\nThis patch is to replace the instances of hashlib.md5() with this new\nencapsulation, adding an annotation indicating whether the usage is\na security context or not.\n\nIt looks like the uses of the md5 are primarily for checksums and\ngeneration of etags.\n\nWith this patch, all the unit and functional tests appear to pass\non a FIPS enabled system.\n\nChange-Id: I0603ba217d6dc19f5c9f73c60c7b365efd28d30b\nDepends-On: https://review.opendev.org/#/c/760160\n'}]",3,756157,a34419aecdf3db58426fe8fb7e1849ebdff6a5f1,16,6,3,9914,,,0,"Replace md5 with oslo version

md5 is not an approved algorithm in FIPS mode, and trying to
instantiate a hashlib.md5() will fail when the system is running in
FIPS mode.

md5 is allowed when in a non-security context.  There is a plan to
add a keyword parameter (usedforsecurity) to hashlib.md5() to annotate
whether or not the instance is being used in a security context.

In the case where it is not, the instantiation of md5 will be allowed.
See https://bugs.python.org/issue9216 for more details.

Some downstream python versions already support this parameter.  To
support these versions, a new encapsulation of md5() has been added to
oslo_utils.  See https://review.opendev.org/#/c/750031/

This patch is to replace the instances of hashlib.md5() with this new
encapsulation, adding an annotation indicating whether the usage is
a security context or not.

It looks like the uses of the md5 are primarily for checksums and
generation of etags.

With this patch, all the unit and functional tests appear to pass
on a FIPS enabled system.

Change-Id: I0603ba217d6dc19f5c9f73c60c7b365efd28d30b
Depends-On: https://review.opendev.org/#/c/760160
",git fetch https://review.opendev.org/openstack/glance_store refs/changes/57/756157/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance_store/tests/unit/test_filesystem_store.py', 'glance_store/tests/unit/test_vmware_store.py', 'glance_store/_drivers/s3.py', 'glance_store/_drivers/vmware_datastore.py', 'glance_store/tests/unit/test_multistore_vmware.py', 'glance_store/_drivers/rbd.py', 'glance_store/tests/unit/test_multistore_filesystem.py', 'glance_store/_drivers/swift/store.py', 'glance_store/tests/unit/test_rbd_store.py', 'glance_store/tests/unit/test_s3_store.py', 'glance_store/tests/unit/test_multistore_s3.py', 'glance_store/tests/unit/test_multistore_cinder.py', 'glance_store/tests/unit/test_swift_store_multibackend.py', 'glance_store/tests/unit/test_cinder_store.py', 'glance_store/tests/unit/test_driver.py', 'glance_store/_drivers/cinder.py', 'glance_store/tests/unit/test_swift_store.py', 'glance_store/_drivers/filesystem.py']",18,afef8cacb1075c8cb406ec0879d47fd703afe465,replace_md5_for_fips,from oslo_utils.secretutils import md5 if str(hashing_algo) == 'md5': os_hash_value = md5(usedforsecurity=False) else: os_hash_value = hashlib.new(str(hashing_algo)) checksum = md5(usedforsecurity=False), os_hash_value = hashlib.new(str(hashing_algo)) checksum = hashlib.md5(),162,82
openstack%2Fopenstack-helm-infra~master~I82600e3add6cf199807532c14ba1daaa2e5bec53,openstack/openstack-helm-infra,master,I82600e3add6cf199807532c14ba1daaa2e5bec53,Add hash for ceph rgw keystone user,ABANDONED,2021-06-28 16:48:11.000000000,2021-07-07 18:35:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-28 16:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e5e8025037f37a45f1d1ccc4d292cd30b2a54449', 'message': 'Add hash for ceph rgw keystone user\n\nThis PS is to force the RGW pods to reload when the keystone user\nsecret is changed.\n\nChange-Id: I82600e3add6cf199807532c14ba1daaa2e5bec53\n'}, {'number': 2, 'created': '2021-06-28 19:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/449bf6e98046f01b1484d460c43b858beefbec5e', 'message': 'Add hash for ceph rgw keystone user\n\nThis PS is to force the RGW pods to reload when the keystone user\nsecret is changed.\n\nChange-Id: I82600e3add6cf199807532c14ba1daaa2e5bec53\n'}, {'number': 3, 'created': '2021-06-28 21:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a74e88951c787afb5f0c1ab30afa19a82a62c145', 'message': 'Add hash for ceph rgw keystone user\n\nThis PS is to force the RGW pods to reload when the keystone user\nsecret is changed.\n\nChange-Id: I82600e3add6cf199807532c14ba1daaa2e5bec53\n'}, {'number': 4, 'created': '2021-06-28 21:53:13.000000000', 'files': ['ceph-rgw/Chart.yaml', 'releasenotes/notes/ceph-rgw.yaml', 'ceph-rgw/templates/deployment-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ab4d9fdad8e45bcf7d22ab4f14de9727611000be', 'message': 'Add hash for ceph rgw keystone user\n\nThis PS is to force the RGW pods to reload when the keystone user\nsecret is changed.\n\nChange-Id: I82600e3add6cf199807532c14ba1daaa2e5bec53\n'}]",0,798355,ab4d9fdad8e45bcf7d22ab4f14de9727611000be,10,1,4,32190,,,0,"Add hash for ceph rgw keystone user

This PS is to force the RGW pods to reload when the keystone user
secret is changed.

Change-Id: I82600e3add6cf199807532c14ba1daaa2e5bec53
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/55/798355/4 && git format-patch -1 --stdout FETCH_HEAD,['ceph-rgw/templates/deployment-rgw.yaml'],1,e5e8025037f37a45f1d1ccc4d292cd30b2a54449,rgw-reload," secret-keystone-rgw: {{ tuple ""secret-keystone-rgw.yaml"" . | include ""helm-toolkit.utils.hash"" }}",,1,0
openstack%2Fironic~master~I342e7900cac388cb4749480684418a5a15ac60eb,openstack/ironic,master,I342e7900cac388cb4749480684418a5a15ac60eb,Allow node_sanitize function to be provided overrides,MERGED,2021-06-04 18:57:52.000000000,2021-07-07 18:35:03.000000000,2021-07-07 18:24:45.000000000,"[{'_account_id': 10342}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-04 18:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/05dfdd40742298dde072246f14948dab7c972973', 'message': 'WIP: Allow node_sanitize function to be provided overrides\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 2, 'created': '2021-06-04 20:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/153a1165dd529059e525d5b7edda38f2f5d12036', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 3, 'created': '2021-06-04 20:52:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/97473fe4229d2b618cd4fbaf65ce12362a585f13', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 4, 'created': '2021-06-17 20:27:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d00fdff6da45f9053e3561a89c845f8a47dbf490', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 5, 'created': '2021-06-18 18:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8483378c27949f43bb3e0377a619c76efb33ed57', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 6, 'created': '2021-06-21 18:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ef6005c61898b45cb1b9f21a87fe9f70681178c', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 7, 'created': '2021-06-21 22:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6e1fb208b128ae6708644e94588bff5236a982ea', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 8, 'created': '2021-06-25 23:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a5ce2d9d63d1b8b2357486ec93892b0b621bb3c3', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}, {'number': 9, 'created': '2021-07-06 20:06:33.000000000', 'files': ['ironic/api/controllers/v1/collection.py', 'releasenotes/notes/improves-node-retrieval-performance-cf5a02eb629bf32c.yaml', 'ironic/api/controllers/v1/node.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/9851b68ee9d19d53313853fe93126dcfec7ba1e1', 'message': 'Allow node_sanitize function to be provided overrides\n\nThe biggest amount of API overhead is the node sanitization\nprocess, at least at this point in time.\n\nWe have streamlined the database interaction to ensure specific\nfield selection lists are as orderly as possible, but the\nnode sanitization code re-executes some methods over and over\nwhich do not require variable data from the underlying node.\n\nThese are blanket settings ""is the user allowed to see x, or y"".\n\nWhich means we can call node_sanitize pre-seeding these\narguments and execute the calls once, instead of a thousand times\nto have the same exact result.\n\nStory: 2008885\nTask: 42433\n\nChange-Id: I342e7900cac388cb4749480684418a5a15ac60eb\n'}]",10,794880,9851b68ee9d19d53313853fe93126dcfec7ba1e1,52,3,9,11655,,,0,"Allow node_sanitize function to be provided overrides

The biggest amount of API overhead is the node sanitization
process, at least at this point in time.

We have streamlined the database interaction to ensure specific
field selection lists are as orderly as possible, but the
node sanitization code re-executes some methods over and over
which do not require variable data from the underlying node.

These are blanket settings ""is the user allowed to see x, or y"".

Which means we can call node_sanitize pre-seeding these
arguments and execute the calls once, instead of a thousand times
to have the same exact result.

Story: 2008885
Task: 42433

Change-Id: I342e7900cac388cb4749480684418a5a15ac60eb
",git fetch https://review.opendev.org/openstack/ironic refs/changes/80/794880/8 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/api/controllers/v1/collection.py', 'ironic/api/controllers/v1/node.py']",2,05dfdd40742298dde072246f14948dab7c972973,db-perf-1,"def node_sanitize(node, fields, cdict=None, show_driver_secrets=None, show_instance_secrets=None, evaluate_additional_policies=None): :param cdict: Context dictionary for policy values evaluation. If not provided, it will be executed by the method, however for enumarting node lists, it is more efficent to provide. :param show_driver_secrets: A boolean value to allow external single evaluation of policy instead of once per node. Default None. :param show_instance_secrets: A boolean value to allow external evaluation of policy instead of once per node. Default None. :param evaluate_additional_policies: A boolean value to allow external evaluation of policy instead of once per node. Default None. if not cdict: cdict = api.request.context.to_policy_values() if show_driver_secrets is None: show_driver_secrets = policy.check(""show_password"", cdict, target_dict) if show_instance_secrets is None: show_instance_secrets = policy.check(""show_instance_secrets"", cdict, target_dict) if evaluate_additional_policies is None: evaluate_additional_policies = not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict) cdict = api.request.context.to_policy_values() target_dict = dict(cdict) sanitizer_args = { 'cdict': cdict, 'show_driver_secrets': policy.check(""show_password"", cdict, target_dict), 'show_instance_secrets': policy.check(""show_instance_secrets"", cdict, target_dict), 'evaluate_additional_policies': not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict), } sanitizer_args=sanitizer_args,","def node_sanitize(node, fields): cdict = api.request.context.to_policy_values() show_driver_secrets = policy.check(""show_password"", cdict, target_dict) show_instance_secrets = policy.check(""show_instance_secrets"", cdict, target_dict) evaluate_additional_policies = not policy.check_policy( ""baremetal:node:get:filter_threshold"", target_dict, cdict)",53,11
openstack%2Fswift~master~Ib9a774a07de2fe5fe4577daa7545f430a5764b9b,openstack/swift,master,Ib9a774a07de2fe5fe4577daa7545f430a5764b9b,Do not use epoll in relinker,MERGED,2021-07-01 15:18:50.000000000,2021-07-07 18:26:40.000000000,2021-07-07 18:24:31.000000000,"[{'_account_id': 1179}, {'_account_id': 7233}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 15:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/5294ba2761b106bad18544ebe55775bf6789c804', 'message': ""Do not use epoll in relinker\n\nIn all daemons and servers we use the poll hub, there's a note about\nepoll locking up when a watched fd gets closed.  We observed the\nrelinker locking up and hung in epoll (perhaps related to the logging\nPipeMutex fd getting closed?)\n\nWe should use the same hub in the relinker for consistency.\n\nChange-Id: Ib9a774a07de2fe5fe4577daa7545f430a5764b9b\n""}, {'number': 2, 'created': '2021-07-05 04:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/3fdfde18a80a84218f38fced3c7f06da49abcac4', 'message': ""Do not use epoll in relinker\n\nIn all daemons and servers we use the poll hub, there's a note about\nepoll locking up when a watched fd gets closed.  We observed the\nrelinker locking up and hung in epoll (perhaps related to the logging\nPipeMutex fd getting closed?)\n\nWe should use the same hub in the relinker for consistency.\n\nChange-Id: Ib9a774a07de2fe5fe4577daa7545f430a5764b9b\n""}, {'number': 3, 'created': '2021-07-05 17:15:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/893a890d00b17d26a48f7ec027769e4a086d6500', 'message': ""Do not use epoll in relinker\n\nIn all daemons and servers we use the poll hub, there's a note about\nepoll locking up when a watched fd gets closed.  We observed the\nrelinker locking up and hung in epoll (perhaps related to the logging\nPipeMutex fd getting closed?)\n\nWe should use the same hub in the relinker for consistency.\n\nChange-Id: Ib9a774a07de2fe5fe4577daa7545f430a5764b9b\n""}, {'number': 4, 'created': '2021-07-07 15:46:26.000000000', 'files': ['test/unit/cli/test_relinker.py', 'swift/cli/relinker.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4c1320c4ca5003964b221a88abbcf9178acfdc80', 'message': ""Do not use epoll in relinker\n\nIn all daemons and servers we use the poll hub, there's a note about\nepoll locking up when a watched fd gets closed.\n\nWe observed the relinker locking up and hung in epoll (perhaps related\nto the logging PipeMutex fd getting closed?)\n\nWe should use the same hub in the relinker as other swift processes for\nconsistency.\n\nChange-Id: Ib9a774a07de2fe5fe4577daa7545f430a5764b9b\n""}]",2,799093,4c1320c4ca5003964b221a88abbcf9178acfdc80,25,5,4,1179,,,0,"Do not use epoll in relinker

In all daemons and servers we use the poll hub, there's a note about
epoll locking up when a watched fd gets closed.

We observed the relinker locking up and hung in epoll (perhaps related
to the logging PipeMutex fd getting closed?)

We should use the same hub in the relinker as other swift processes for
consistency.

Change-Id: Ib9a774a07de2fe5fe4577daa7545f430a5764b9b
",git fetch https://review.opendev.org/openstack/swift refs/changes/93/799093/3 && git format-patch -1 --stdout FETCH_HEAD,['swift/cli/relinker.py'],1,5294ba2761b106bad18544ebe55775bf6789c804,relinker-poll,"import eventlet.hubs dump_recon_cache, get_partition_from_path, get_hub eventlet.hubs.use_hub(get_hub())"," dump_recon_cache, get_partition_from_path",4,1
openstack%2Fneutron~master~I4575ca06ccba3537a8fd2347b837231e0643e64c,openstack/neutron,master,I4575ca06ccba3537a8fd2347b837231e0643e64c,"[OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private",MERGED,2021-06-24 02:46:46.000000000,2021-07-07 18:21:49.000000000,2021-07-07 18:19:43.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-24 02:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4ce9cb3a5c2d02875d88ee74a0edf38543d4498c', 'message': ""[OVN]fix bug: determine whether the agnet is a gateway\n\nwhen chassis_private support, 'ovn-cms-options' not in chassis_private\nexternal_ids, it's in chassis.external_ids associated with chassis_private\n\nCloses-bug: #1933401\n\nChange-Id: I4575ca06ccba3537a8fd2347b837231e0643e64c\n""}, {'number': 2, 'created': '2021-06-24 02:48:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b13ebd9a76597e8e3f12fbf2cbf0a8eda3e038b6', 'message': ""[OVN]fix bug: determine whether the agent is a gateway\n\nwhen chassis_private support, 'ovn-cms-options' not in chassis_private\nexternal_ids, it's in chassis.external_ids associated with chassis_private\n\nCloses-bug: #1933401\n\nChange-Id: I4575ca06ccba3537a8fd2347b837231e0643e64c\n""}, {'number': 3, 'created': '2021-06-26 01:37:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d3f89fcc1041e5d0d71b8f0513af62c1b13e5821', 'message': '[OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\n\nBecause we support OVN version with and without Chassis_Private,\n""ControllerAgent"" should accept both type of registers. In Chassis, the\n""external_ids"" are stored as a main attribute while in Chassis_Private\nare stored on the chassis reference list.\n\nCloses-bug: #1933401\n\nChange-Id: I4575ca06ccba3537a8fd2347b837231e0643e64c\n'}, {'number': 4, 'created': '2021-07-07 02:40:05.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1f3762b0fb8258e2f77b600df8ab96f20d65f5b8', 'message': '[OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private\n\nBecause we support OVN version with and without Chassis_Private,\n""ControllerAgent"" should accept both type of registers. In Chassis, the\n""external_ids"" are stored as a main attribute while in Chassis_Private\nare stored on the chassis reference list.\n\nCloses-bug: #1933401\n\nChange-Id: I4575ca06ccba3537a8fd2347b837231e0643e64c\n'}]",4,797796,1f3762b0fb8258e2f77b600df8ab96f20d65f5b8,34,5,4,30380,,,0,"[OVN] ""ControllerAgent"" should accept Chassis and Chassis_Private

Because we support OVN version with and without Chassis_Private,
""ControllerAgent"" should accept both type of registers. In Chassis, the
""external_ids"" are stored as a main attribute while in Chassis_Private
are stored on the chassis reference list.

Closes-bug: #1933401

Change-Id: I4575ca06ccba3537a8fd2347b837231e0643e64c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/96/797796/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py'],1,4ce9cb3a5c2d02875d88ee74a0edf38543d4498c,," try: external_ids = chassis_private.chassis[0].external_ids except (AttributeError, IndexError): # No Chassis_Private support, just use Chassis external_ids = chassis_private.external_ids external_ids.get('ovn-cms-options', [])):"," chassis_private.external_ids.get('ovn-cms-options', [])):",6,1
openstack%2Fswift~master~I08be94fc5cf16679f41a2fd08ce1d52ce6300871,openstack/swift,master,I08be94fc5cf16679f41a2fd08ce1d52ce6300871,Handle ClientDisconnect on s3api object PUT,MERGED,2021-07-05 19:54:30.000000000,2021-07-07 18:21:42.000000000,2021-07-07 18:19:58.000000000,"[{'_account_id': 1179}, {'_account_id': 7847}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-05 19:54:30.000000000', 'files': ['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/391cc713e9982ad2dbea81aeacfd7b2dd6e852db', 'message': 'Handle ClientDisconnect on s3api object PUT\n\nMostly when I disconnect during upload with s3api clients I see the\nproxy log a traceback for EPIPE, but if I set my my client_timeout low\nand the proxy initiates the disconnect s3api will get surprised by the\n499 response and return 500.\n\nNow s3api will handle it the same as a RequestTimeout, which looks like\na 400 on the wire if anyone is still there.\n\nChange-Id: I08be94fc5cf16679f41a2fd08ce1d52ce6300871\n'}]",2,799541,391cc713e9982ad2dbea81aeacfd7b2dd6e852db,12,4,1,1179,,,0,"Handle ClientDisconnect on s3api object PUT

Mostly when I disconnect during upload with s3api clients I see the
proxy log a traceback for EPIPE, but if I set my my client_timeout low
and the proxy initiates the disconnect s3api will get surprised by the
499 response and return 500.

Now s3api will handle it the same as a RequestTimeout, which looks like
a 400 on the wire if anyone is still there.

Change-Id: I08be94fc5cf16679f41a2fd08ce1d52ce6300871
",git fetch https://review.opendev.org/openstack/swift refs/changes/41/799541/1 && git format-patch -1 --stdout FETCH_HEAD,"['test/unit/common/middleware/s3api/test_obj.py', 'swift/common/middleware/s3api/s3request.py']",2,391cc713e9982ad2dbea81aeacfd7b2dd6e852db,s3api-499," HTTP_TOO_MANY_REQUESTS, HTTP_RATE_LIMITED, is_success, \ HTTP_CLIENT_CLOSED_REQUEST HTTP_CLIENT_CLOSED_REQUEST: RequestTimeout,"," HTTP_TOO_MANY_REQUESTS, HTTP_RATE_LIMITED, is_success",7,1
openstack%2Fptgbot~master~Ie80f0bf820aed54e8a097d323b4ec69143e1e900,openstack/ptgbot,master,Ie80f0bf820aed54e8a097d323b4ec69143e1e900,Moving IRC network reference to OFTC,ABANDONED,2021-07-06 18:57:52.000000000,2021-07-07 18:20:13.000000000,,"[{'_account_id': 308}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 18:57:52.000000000', 'files': ['ptgbot/bot.py', 'README.rst', 'config.json.sample'], 'web_link': 'https://opendev.org/openstack/ptgbot/commit/5c061195ea64569a595626c9fc7b00447750b131', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: Ie80f0bf820aed54e8a097d323b4ec69143e1e900\n'}]",0,799709,5c061195ea64569a595626c9fc7b00447750b131,4,2,1,8556,,,0,"Moving IRC network reference to OFTC

Change-Id: Ie80f0bf820aed54e8a097d323b4ec69143e1e900
",git fetch https://review.opendev.org/openstack/ptgbot refs/changes/09/799709/1 && git format-patch -1 --stdout FETCH_HEAD,"['ptgbot/bot.py', 'README.rst', 'config.json.sample']",3,5c061195ea64569a595626c9fc7b00447750b131,oftc," ""irc_server"": ""irc.oftc.net"","," ""irc_server"": ""irc.freenode.net"",",3,3
openstack%2Fnova~master~Ia0eef4961e8cbb947c403bee5793429ad50fe222,openstack/nova,master,Ia0eef4961e8cbb947c403bee5793429ad50fe222,zuul: Add CentOS 8 stream integrated compute tempest job to gate,ABANDONED,2021-06-23 09:57:47.000000000,2021-07-07 18:01:30.000000000,,"[{'_account_id': 7634}, {'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-23 09:57:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3202ac14dec52a9cf21dcea11bf42889779303e0', 'message': 'zuul: Add CentOS 8 stream integrated compute tempest job to gate\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple intergrated compute tempest\njob using CentOS 8 stream to both the check and gate queues.\n\nChange-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222\n'}, {'number': 2, 'created': '2021-06-29 08:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3ce755759bab61fda598d582cb43d48b94ecedfa', 'message': 'zuul: Add CentOS 8 stream integrated compute tempest job to gate\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple intergrated compute tempest\njob using CentOS 8 stream to both the check and gate queues.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222\n'}, {'number': 3, 'created': '2021-07-02 10:45:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cedbbb4406938ebb9d5e3eee5a359242b1c55203', 'message': 'zuul: Add CentOS 8 stream integrated compute tempest job to gate\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple intergrated compute tempest\njob using CentOS 8 stream to both the check and gate queues.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222\n'}, {'number': 4, 'created': '2021-07-06 08:12:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ebab6418b9e96f22ff92e79ad565459c29108872', 'message': 'zuul: Add CentOS 8 stream integrated compute tempest job to gate\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple intergrated compute tempest\njob using CentOS 8 stream to both the check and gate queues.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222\n'}, {'number': 5, 'created': '2021-07-07 09:56:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/391946f09dcf9db8074907fa3f48c3f8cac214c7', 'message': 'zuul: Add CentOS 8 stream integrated compute tempest job to gate\n\nAs set out in the governance repo for Xena CentOS 8 stream with py36 is\na supported platform and runtime for the release:\n\nhttps://governance.openstack.org/tc/reference/runtimes/xena.html\n\nGiven the above this change adds a simple intergrated compute tempest\njob using CentOS 8 stream to both the check and gate queues.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/798514\nChange-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222\n'}]",11,797616,391946f09dcf9db8074907fa3f48c3f8cac214c7,77,6,5,10135,,,0,"zuul: Add CentOS 8 stream integrated compute tempest job to gate

As set out in the governance repo for Xena CentOS 8 stream with py36 is
a supported platform and runtime for the release:

https://governance.openstack.org/tc/reference/runtimes/xena.html

Given the above this change adds a simple intergrated compute tempest
job using CentOS 8 stream to both the check and gate queues.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/798514
Change-Id: Ia0eef4961e8cbb947c403bee5793429ad50fe222
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/797616/2 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3202ac14dec52a9cf21dcea11bf42889779303e0,nova-centos-8-stream,"- job: name: tempest-integrated-compute-centos-8-stream parent: tempest-integrated-compute nodeset: devstack-single-node-centos-8-stream description: | This job runs integration tests for compute. This is subset of 'tempest-full-py3' job and run Nova, Neutron, Cinder (except backup tests) and Glance related tests. This is meant to be run on Nova gate only. This version of the job also uses CentOS 8 stream. - tempest-integrated-compute-centos-8-stream: irrelevant-files: *policies-irrelevant-files - tempest-integrated-compute-centos-8-stream: irrelevant-files: *policies-irrelevant-files",,14,0
openstack%2Fopenstack-ansible-tests~stable%2Fussuri~Ic102ed66d27acacbf470dbcb83c0877194702ea4,openstack/openstack-ansible-tests,stable/ussuri,Ic102ed66d27acacbf470dbcb83c0877194702ea4,Remove tempest_git_repo variable,MERGED,2021-07-07 14:53:27.000000000,2021-07-07 17:46:53.000000000,2021-07-07 17:45:32.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-07 14:53:27.000000000', 'files': ['test-vars.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/7d8808596e55c8f228f28abcf96ab20a230be53c', 'message': 'Remove tempest_git_repo variable\n\nHaving issues with the openstack-ansible-uw_apache-* jobs on ussuri\nwhere tests/common/test-ansible-functional.sh is failing because\nof a missing import to function oslo_utils.secretutils.md5.\n\nChange-Id: Ic102ed66d27acacbf470dbcb83c0877194702ea4\n'}]",0,799846,7d8808596e55c8f228f28abcf96ab20a230be53c,8,3,1,29865,,,0,"Remove tempest_git_repo variable

Having issues with the openstack-ansible-uw_apache-* jobs on ussuri
where tests/common/test-ansible-functional.sh is failing because
of a missing import to function oslo_utils.secretutils.md5.

Change-Id: Ic102ed66d27acacbf470dbcb83c0877194702ea4
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/46/799846/1 && git format-patch -1 --stdout FETCH_HEAD,['test-vars.yml'],1,7d8808596e55c8f228f28abcf96ab20a230be53c,,#tempest_git_repo: https://opendev.org/openstack/tempest,tempest_git_repo: https://opendev.org/openstack/tempest,1,1
openstack%2Fopenstacksdk~master~Iccf2f83a1b58363e3532d84ecb17b930c902995a,openstack/openstacksdk,master,Iccf2f83a1b58363e3532d84ecb17b930c902995a,Add the os-migrations API,ABANDONED,2021-07-07 15:38:36.000000000,2021-07-07 17:44:30.000000000,,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-07-07 15:38:36.000000000', 'files': ['openstack/compute/v2/migrations.py', 'openstack/tests/unit/compute/v2/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/77b027c0733ca67e55e4099021135e0334b1d2a2', 'message': 'Add the os-migrations API\n\nThe os-migrations API [1] lists migrations, and filters the migrations based on the request parameters\n\n[1] https://docs.openstack.org/api-ref/compute/#list-migrations\n\nChange-Id: Iccf2f83a1b58363e3532d84ecb17b930c902995a\n'}]",0,799856,77b027c0733ca67e55e4099021135e0334b1d2a2,4,2,1,33012,,,0,"Add the os-migrations API

The os-migrations API [1] lists migrations, and filters the migrations based on the request parameters

[1] https://docs.openstack.org/api-ref/compute/#list-migrations

Change-Id: Iccf2f83a1b58363e3532d84ecb17b930c902995a
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/56/799856/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/migrations.py', 'openstack/tests/unit/compute/v2/test_migrations.py']",2,77b027c0733ca67e55e4099021135e0334b1d2a2,,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from openstack.compute.v2 import migrations from openstack.tests.unit import base IDENTIFIER = 'IDENTIFIER' EXAMPLE = { ""hidden"": 1, ""host"": ""2"", ""instance_uuid"": ""3"", ""migration_type"": ""4"", ""source_compute"": ""5"", ""status"": ""6"", ""user_id"": ""7"", ""project_id"": ""8"" } class TestMigrations(base.TestCase): def test_basic(self): sot = migrations.Migrations() self.assertEqual('migrations', sot.resource_key) self.assertEqual('/os-migrations', sot.base_path) self.assertTrue(sot.allow_list) self.assertDictEqual({""changes_before"": ""changes-before"", ""changes_since"": ""changes-since"", ""limit"": ""limit"", ""marker"": ""marker""}, sot._query_mapping._mapping) def test_make_basic(self): sot = migrations.Migrations(**EXAMPLE) self.assertEqual(EXAMPLE['hidden'], sot.hidden) self.assertEqual(EXAMPLE['host'], sot.host) self.assertEqual(EXAMPLE['instance_uuid'], sot.instance_uuid) self.assertEqual(EXAMPLE['migration_type'], sot.migration_type) self.assertEqual(EXAMPLE['source_compute'], sot.source_compute) self.assertEqual(EXAMPLE['status'], sot.status) self.assertEqual(EXAMPLE['user_id'], sot.user_id) self.assertEqual(EXAMPLE['project_id'], sot.project_id) ",,98,0
openstack%2Fcharm-neutron-api~master~Ic9251c5290f777f544a150a92702566474b264b8,openstack/charm-neutron-api,master,Ic9251c5290f777f544a150a92702566474b264b8,Remove neutron-fwaas for >= V,MERGED,2021-06-30 16:59:12.000000000,2021-07-07 17:26:31.000000000,2021-07-07 13:40:32.000000000,"[{'_account_id': 6737}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-06-30 16:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/0b2a9e52ff3b1332d0498e74beb274d309caa331', 'message': 'Remove neutron-fwaas for >= V\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 2, 'created': '2021-07-01 09:46:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/af790d6fc7aa821f3b4f7c7f33c6df0e1f713e98', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 3, 'created': '2021-07-02 10:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/bd09e83a0b6d5f84a2e1659dcd39ff2ca27f30cd', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 4, 'created': '2021-07-02 11:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/209f67f20dc7b834923fbce89ed0e100f0e1459b', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 5, 'created': '2021-07-02 13:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/751c2e5539e0ac65865498189ad0700ea30969c2', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 6, 'created': '2021-07-06 10:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/fc689946088ec75eb0898a3f1259b2dab7ec7688', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}, {'number': 7, 'created': '2021-07-07 09:12:27.000000000', 'files': ['hooks/neutron_api_context.py', 'hooks/neutron_api_utils.py', 'config.yaml', 'unit_tests/test_neutron_api_context.py', 'unit_tests/test_neutron_api_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/00e7c8b6ad32108cf0d6f317e281c6090a588240', 'message': 'Remove neutron-fwaas for >= V\n\nAlso adds config option enable-fwaas which defaults to\nTrue to allow disabling fwaas for releases earlier than\nVictoria.\n\nChange-Id: Ic9251c5290f777f544a150a92702566474b264b8\nCloses-Bug: 1934129\n'}]",10,798934,00e7c8b6ad32108cf0d6f317e281c6090a588240,40,4,7,6737,,,0,"Remove neutron-fwaas for >= V

Also adds config option enable-fwaas which defaults to
True to allow disabling fwaas for releases earlier than
Victoria.

Change-Id: Ic9251c5290f777f544a150a92702566474b264b8
Closes-Bug: 1934129
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/34/798934/3 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_api_context.py', 'hooks/neutron_api_utils.py']",2,0b2a9e52ff3b1332d0498e74beb274d309caa331,bug/1934129,"PURGE_EXTRA_PACKAGES_ON_VICTORIA = [ 'python3-neutron-fwaas', ] if cmp_os_source >= 'victoria': return PURGE_PACKAGES + PURGE_EXTRA_PACKAGES_ON_TRAIN + PURGE_EXTRA_PACKAGES_ON_VICTORIA elif cmp_os_source >= 'train': if (CompareOpenStackReleases(new_os_rel) >= 'stein' and CompareOpenStackReleases(new_os_rel) <= 'ussuri'):", if cmp_os_source >= 'train': if CompareOpenStackReleases(new_os_rel) >= 'stein':,13,7
openstack%2Fpython-octaviaclient~stable%2Ftrain~I6e68113aea9ce27beb6691bd2a398bf276a23ae2,openstack/python-octaviaclient,stable/train,I6e68113aea9ce27beb6691bd2a398bf276a23ae2,Improve the client performance on large clouds,MERGED,2021-06-13 04:54:30.000000000,2021-07-07 17:23:14.000000000,2021-07-07 17:20:55.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 04:54:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/c845ae44d2d8007776abceadccda2161e845a968', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}, {'number': 2, 'created': '2021-06-18 08:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/48d90f0c2ce4c3a1dbdb2f75dee7b359e3531436', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}, {'number': 3, 'created': '2021-06-18 09:15:08.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ebfe469c2dbd92d09e0a669638d090735254d95b', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}]",2,796162,ebfe469c2dbd92d09e0a669638d090735254d95b,12,3,3,11628,,,0,"Improve the client performance on large clouds

This patch fixes the client performance when used on large clouds.
Previously the client was pulling down a full list of resources when
mapping names to IDs and filtering on the client side. This is inefficient
as it is transfering many more records than are necessary.
This patch uses the filter capabilities of the OpenStack APIs to target
the search for a resource ID.

Change-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2
(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/62/796162/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py']",9,c845ae44d2d8007776abceadccda2161e845a968,train, self.api_mock.pool_list.return_value = {'pools': []},,88,29
openstack%2Fpython-octaviaclient~stable%2Ftrain~Ica7c8c953c11af4400b224ad942023f69a72ae02,openstack/python-octaviaclient,stable/train,Ica7c8c953c11af4400b224ad942023f69a72ae02,Support pagination for 'list' API calls,MERGED,2021-06-13 04:15:46.000000000,2021-07-07 17:22:16.000000000,2021-07-07 17:20:45.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 04:15:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/0af3511841c39f9919805e09f7cd2065658e790d', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}, {'number': 2, 'created': '2021-06-18 07:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/16853dee7774f513c2c0de9a8a41d022efdfe32b', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}, {'number': 3, 'created': '2021-06-18 07:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/2e6a33ef38d44a729a0441d5f27bde48ab8de701', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}, {'number': 4, 'created': '2021-06-18 08:15:03.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/76a59a3f1c2c29d9c2bea81432977eb93fa27f98', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}]",0,796161,76a59a3f1c2c29d9c2bea81432977eb93fa27f98,14,3,4,11628,,,0,"Support pagination for 'list' API calls

Fix 'list' CLI calls when API calls are paginated.
Fix some UUID or name lookups that failed when the number of resources
exceeded 'pagination_max_limit'.

Story 2008892
Task 42489

Change-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02
(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/61/796161/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py']",4,0af3511841c39f9919805e09f7cd2065658e790d,,"LIST_L7PO_RESP = { 'l7policies': [{'name': 'l71'}, {'name': 'l72'}] }","LIST_L7PO_RESP = [ {'name': 'l71'}, {'name': 'l72'}, ]",110,39
openstack%2Fpython-octaviaclient~stable%2Fussuri~I6e68113aea9ce27beb6691bd2a398bf276a23ae2,openstack/python-octaviaclient,stable/ussuri,I6e68113aea9ce27beb6691bd2a398bf276a23ae2,Improve the client performance on large clouds,MERGED,2021-06-13 04:32:19.000000000,2021-07-07 17:22:10.000000000,2021-07-07 17:20:41.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 04:32:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/1fdc4b66dec7834ac145c19a85a88ca9517e81bc', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}, {'number': 2, 'created': '2021-06-18 08:34:48.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/6d843fb6f1c3ed6aa7bd8c9acf6afea15fc783a3', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}]",0,796205,6d843fb6f1c3ed6aa7bd8c9acf6afea15fc783a3,10,3,2,11628,,,0,"Improve the client performance on large clouds

This patch fixes the client performance when used on large clouds.
Previously the client was pulling down a full list of resources when
mapping names to IDs and filtering on the client side. This is inefficient
as it is transfering many more records than are necessary.
This patch uses the filter capabilities of the OpenStack APIs to target
the search for a resource ID.

Change-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2
(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/05/796205/2 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py']",11,1fdc4b66dec7834ac145c19a85a88ca9517e81bc,fast-name-client-stable/wallaby-stable/victoria-stable/ussuri, self.api_mock.availabilityzoneprofile_list.return_value = { 'availability_zone_profiles': []},,88,22
openstack%2Fpython-octaviaclient~stable%2Fvictoria~I6e68113aea9ce27beb6691bd2a398bf276a23ae2,openstack/python-octaviaclient,stable/victoria,I6e68113aea9ce27beb6691bd2a398bf276a23ae2,Improve the client performance on large clouds,MERGED,2021-06-13 04:31:35.000000000,2021-07-07 17:18:53.000000000,2021-07-07 17:17:14.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 04:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/d5956222d0cab5508048257dcd0ab7f12acd13ee', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}, {'number': 2, 'created': '2021-06-18 08:33:29.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/c2aa20175c425b5ace32ec6862dba1189ae1ad5a', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}]",0,796204,c2aa20175c425b5ace32ec6862dba1189ae1ad5a,10,3,2,11628,,,0,"Improve the client performance on large clouds

This patch fixes the client performance when used on large clouds.
Previously the client was pulling down a full list of resources when
mapping names to IDs and filtering on the client side. This is inefficient
as it is transfering many more records than are necessary.
This patch uses the filter capabilities of the OpenStack APIs to target
the search for a resource ID.

Change-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2
(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/04/796204/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py']",11,d5956222d0cab5508048257dcd0ab7f12acd13ee,fast-name-client-stable/wallaby-stable/victoria, self.api_mock.availabilityzoneprofile_list.return_value = { 'availability_zone_profiles': []},,88,22
openstack%2Fpython-octaviaclient~stable%2Fussuri~Ica7c8c953c11af4400b224ad942023f69a72ae02,openstack/python-octaviaclient,stable/ussuri,Ica7c8c953c11af4400b224ad942023f69a72ae02,Support pagination for 'list' API calls,MERGED,2021-06-13 03:02:52.000000000,2021-07-07 17:18:30.000000000,2021-07-07 17:17:17.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 03:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/57a2080751cad10c6e9d3a0cfd3ccde292470ed2', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}, {'number': 2, 'created': '2021-06-18 08:34:48.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/a5beab0da3ae89f3bff3ea94ec8401ba3e16a050', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}]",0,796202,a5beab0da3ae89f3bff3ea94ec8401ba3e16a050,10,3,2,11628,,,0,"Support pagination for 'list' API calls

Fix 'list' CLI calls when API calls are paginated.
Fix some UUID or name lookups that failed when the number of resources
exceeded 'pagination_max_limit'.

Story 2008892
Task 42489

Change-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02
(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/02/796202/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py']",4,57a2080751cad10c6e9d3a0cfd3ccde292470ed2,fast-name-client-stable/wallaby-stable/victoria-stable/ussuri,"LIST_L7PO_RESP = { 'l7policies': [{'name': 'l71'}, {'name': 'l72'}] }","LIST_L7PO_RESP = [ {'name': 'l71'}, {'name': 'l72'}, ]",121,42
openstack%2Fpython-octaviaclient~stable%2Fwallaby~I6e68113aea9ce27beb6691bd2a398bf276a23ae2,openstack/python-octaviaclient,stable/wallaby,I6e68113aea9ce27beb6691bd2a398bf276a23ae2,Improve the client performance on large clouds,MERGED,2021-06-13 04:29:33.000000000,2021-07-07 17:07:00.000000000,2021-07-07 17:04:56.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 04:29:33.000000000', 'files': ['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/51347bcbca53d4aeecaab5cbd0f9a3f6b47520d8', 'message': 'Improve the client performance on large clouds\n\nThis patch fixes the client performance when used on large clouds.\nPreviously the client was pulling down a full list of resources when\nmapping names to IDs and filtering on the client side. This is inefficient\nas it is transfering many more records than are necessary.\nThis patch uses the filter capabilities of the OpenStack APIs to target\nthe search for a resource ID.\n\nChange-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2\n(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)\n'}]",0,796203,51347bcbca53d4aeecaab5cbd0f9a3f6b47520d8,8,3,1,11628,,,0,"Improve the client performance on large clouds

This patch fixes the client performance when used on large clouds.
Previously the client was pulling down a full list of resources when
mapping names to IDs and filtering on the client side. This is inefficient
as it is transfering many more records than are necessary.
This patch uses the filter capabilities of the OpenStack APIs to target
the search for a resource ID.

Change-Id: I6e68113aea9ce27beb6691bd2a398bf276a23ae2
(cherry picked from commit 84e927d4bb3dc38fb3717dfec602e5625e7f882f)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/03/796203/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/tests/unit/osc/v2/test_flavorprofile.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzone.py', 'releasenotes/notes/Improve-client-performance-when-using-a-name-instead-of-ID-51a6637050386a90.yaml', 'octaviaclient/tests/unit/osc/v2/test_health_monitor.py', 'octaviaclient/tests/unit/osc/v2/test_listener.py', 'octaviaclient/tests/unit/osc/v2/test_load_balancer.py', 'octaviaclient/tests/unit/osc/v2/test_flavor.py', 'octaviaclient/tests/unit/osc/v2/test_l7policy.py', 'octaviaclient/osc/v2/utils.py', 'octaviaclient/tests/unit/osc/v2/test_pool.py', 'octaviaclient/tests/unit/osc/v2/test_availabilityzoneprofile.py']",11,51347bcbca53d4aeecaab5cbd0f9a3f6b47520d8,fast-name-client-stable/wallaby, self.api_mock.availabilityzoneprofile_list.return_value = { 'availability_zone_profiles': []},,88,22
openstack%2Fpython-octaviaclient~stable%2Fvictoria~Ica7c8c953c11af4400b224ad942023f69a72ae02,openstack/python-octaviaclient,stable/victoria,Ica7c8c953c11af4400b224ad942023f69a72ae02,Support pagination for 'list' API calls,MERGED,2021-06-13 03:01:59.000000000,2021-07-07 17:06:19.000000000,2021-07-07 17:04:59.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 03:01:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/4c4bdf35cc59fdcdbf99bd0a4559cc4d0c999d0a', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}, {'number': 2, 'created': '2021-06-18 08:33:29.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/ea0eedc54ac6f13e03c7f7b96b451e1c1cd198cd', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}]",0,796201,ea0eedc54ac6f13e03c7f7b96b451e1c1cd198cd,10,3,2,11628,,,0,"Support pagination for 'list' API calls

Fix 'list' CLI calls when API calls are paginated.
Fix some UUID or name lookups that failed when the number of resources
exceeded 'pagination_max_limit'.

Story 2008892
Task 42489

Change-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02
(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/01/796201/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py']",4,4c4bdf35cc59fdcdbf99bd0a4559cc4d0c999d0a,fast-name-client-stable/wallaby-stable/victoria,"LIST_L7PO_RESP = { 'l7policies': [{'name': 'l71'}, {'name': 'l72'}] }","LIST_L7PO_RESP = [ {'name': 'l71'}, {'name': 'l72'}, ]",121,42
openstack%2Fpython-octaviaclient~stable%2Fwallaby~Ica7c8c953c11af4400b224ad942023f69a72ae02,openstack/python-octaviaclient,stable/wallaby,Ica7c8c953c11af4400b224ad942023f69a72ae02,Support pagination for 'list' API calls,MERGED,2021-06-13 02:59:33.000000000,2021-07-07 17:03:36.000000000,2021-07-07 17:02:03.000000000,"[{'_account_id': 10273}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2021-06-13 02:59:33.000000000', 'files': ['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/34e55d38cb5ce2d35ad87ad276a2e3897b56e7d5', 'message': ""Support pagination for 'list' API calls\n\nFix 'list' CLI calls when API calls are paginated.\nFix some UUID or name lookups that failed when the number of resources\nexceeded 'pagination_max_limit'.\n\nStory 2008892\nTask 42489\n\nChange-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02\n(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)\n""}]",0,796200,34e55d38cb5ce2d35ad87ad276a2e3897b56e7d5,8,3,1,11628,,,0,"Support pagination for 'list' API calls

Fix 'list' CLI calls when API calls are paginated.
Fix some UUID or name lookups that failed when the number of resources
exceeded 'pagination_max_limit'.

Story 2008892
Task 42489

Change-Id: Ica7c8c953c11af4400b224ad942023f69a72ae02
(cherry picked from commit cf0c4be37e6f602bf354fb795f370b30841cefa9)
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/00/796200/1 && git format-patch -1 --stdout FETCH_HEAD,"['octaviaclient/api/v2/octavia.py', 'releasenotes/notes/fix-cli-pagination-792ad8cd386eb0e7.yaml', 'octaviaclient/api/constants.py', 'octaviaclient/tests/unit/api/test_octavia.py']",4,34e55d38cb5ce2d35ad87ad276a2e3897b56e7d5,,"LIST_L7PO_RESP = { 'l7policies': [{'name': 'l71'}, {'name': 'l72'}] }","LIST_L7PO_RESP = [ {'name': 'l71'}, {'name': 'l72'}, ]",121,42
openstack%2Fwatcher-dashboard~master~I3f0ec731d28d0f55c4378038237dc91b5c548ed5,openstack/watcher-dashboard,master,I3f0ec731d28d0f55c4378038237dc91b5c548ed5,Repair coverage report tox job,MERGED,2021-07-02 08:40:10.000000000,2021-07-07 17:02:46.000000000,2021-07-07 17:00:31.000000000,"[{'_account_id': 22348}, {'_account_id': 29911}]","[{'number': 1, 'created': '2021-07-02 08:40:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/d347171660ccb7ba6d992519316a7ef2b271e0c4', 'message': 'Repair coverage report tox job\n\nCoverage report job for watcher dashboard must have been\nbroken for an extensive amount of time. This patch\nfixes it.\n\nChange-Id: I3f0ec731d28d0f55c4378038237dc91b5c548ed5\n'}, {'number': 2, 'created': '2021-07-07 08:06:00.000000000', 'files': ['.gitignore', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher-dashboard/commit/5d22d8c97f9b74b80654016c3d6f36df9f024ef0', 'message': 'Repair coverage report tox job\n\nCoverage report job for watcher dashboard must have been\nbroken for an extensive amount of time. This patch\nfixes it.\n\nChange-Id: I3f0ec731d28d0f55c4378038237dc91b5c548ed5\n'}]",0,799176,5d22d8c97f9b74b80654016c3d6f36df9f024ef0,10,2,2,29911,,,0,"Repair coverage report tox job

Coverage report job for watcher dashboard must have been
broken for an extensive amount of time. This patch
fixes it.

Change-Id: I3f0ec731d28d0f55c4378038237dc91b5c548ed5
",git fetch https://review.opendev.org/openstack/watcher-dashboard refs/changes/76/799176/2 && git format-patch -1 --stdout FETCH_HEAD,"['.gitignore', 'tox.ini']",2,d347171660ccb7ba6d992519316a7ef2b271e0c4,,commands = coverage erase coverage run --source watcher_dashboard {toxinidir}/manage.py test \ --settings=watcher_dashboard.test.settings \ --exclude-tag integration watcher_dashboard {posargs} coverage xml coverage html -d ./cover --omit='*tests*' coverage report,commands = python setup.py testr --coverage --testr-args='{posargs}',9,1
openstack%2Fwatcher-tempest-plugin~master~Ibff5a92d8cbd88c63ad5d6c71be24f7c57cf0050,openstack/watcher-tempest-plugin,master,Ibff5a92d8cbd88c63ad5d6c71be24f7c57cf0050,Add temptest tests for victoria and wallaby,MERGED,2021-07-02 08:58:26.000000000,2021-07-07 17:00:26.000000000,2021-07-07 17:00:26.000000000,"[{'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}, {'_account_id': 30384}, {'_account_id': 31455}, {'_account_id': 32291}]","[{'number': 1, 'created': '2021-07-02 08:58:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/75777051540771cda7f20ffd5e82218049b044d1', 'message': 'Add temptest tests for victoria and wallaby\n\nBoth victoria and wallaby should be currently maintained\nand as a result they should also be tested.\n\nChange-Id: Ibff5a92d8cbd88c63ad5d6c71be24f7c57cf0050\n'}, {'number': 2, 'created': '2021-07-02 10:04:09.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/watcher-tempest-plugin/commit/93ce2f356ebe4d238121a3d8e896827e15637a35', 'message': 'Add temptest tests for victoria and wallaby\n\nBoth victoria and wallaby should be currently maintained\nand as a result they should also be tested.\n\nChange-Id: Ibff5a92d8cbd88c63ad5d6c71be24f7c57cf0050\n'}]",0,799179,93ce2f356ebe4d238121a3d8e896827e15637a35,8,6,2,29911,,,0,"Add temptest tests for victoria and wallaby

Both victoria and wallaby should be currently maintained
and as a result they should also be tested.

Change-Id: Ibff5a92d8cbd88c63ad5d6c71be24f7c57cf0050
",git fetch https://review.opendev.org/openstack/watcher-tempest-plugin refs/changes/79/799179/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,75777051540771cda7f20ffd5e82218049b044d1,, - watcher-tempest-functional-wallaby - watcher-tempest-functional-victoria name: watcher-tempest-functional-wallaby parent: watcher-tempest-functional nodeset: openstack-single-node-bionic override-checkout: stable/wallaby - job: name: watcher-tempest-functional-victoria parent: watcher-tempest-functional nodeset: openstack-single-node-bionic override-checkout: stable/victoria - job:,,14,0
openstack%2Ftripleo-quickstart-extras~master~I62565c75e981ebfb38d5a3566f111a6c07f5b5b6,openstack/tripleo-quickstart-extras,master,I62565c75e981ebfb38d5a3566f111a6c07f5b5b6,Don't use home directory as output directory,MERGED,2021-05-05 09:22:04.000000000,2021-07-07 16:51:58.000000000,2021-07-07 16:51:58.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 13294}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-05-05 09:22:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/33e80570cae9d0866a6fbd7cf921729076e49bf8', 'message': ""[DNM] Don't use home directory as working dir\n\nTo avoid massive log collection.\n\nChange-Id: I62565c75e981ebfb38d5a3566f111a6c07f5b5b6\n""}, {'number': 2, 'created': '2021-05-06 05:39:33.000000000', 'files': ['roles/standalone/tasks/standalone-install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/3cb264dcf737656d05783bfa35041caac39682a4', 'message': ""Don't use home directory as output directory\n\nTripleO deploy archives output directory, and since\nwe are using home directory as output directory, it\narchives everything in home(like zuul cloned repos,\nvirtual envs, pip cache etc) making logs huge.\n\nThis patch changes output directory to <working_dir>/tripleo-deploy\nwhich is already collected in logs[1] to ensure only\nthe required part is archived and collected.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784075\n\nCloses-Bug: #1927307\nChange-Id: I62565c75e981ebfb38d5a3566f111a6c07f5b5b6\n""}]",1,789764,3cb264dcf737656d05783bfa35041caac39682a4,17,9,2,13861,,,0,"Don't use home directory as output directory

TripleO deploy archives output directory, and since
we are using home directory as output directory, it
archives everything in home(like zuul cloned repos,
virtual envs, pip cache etc) making logs huge.

This patch changes output directory to <working_dir>/tripleo-deploy
which is already collected in logs[1] to ensure only
the required part is archived and collected.

[1] https://review.opendev.org/c/openstack/tripleo-ci/+/784075

Closes-Bug: #1927307
Change-Id: I62565c75e981ebfb38d5a3566f111a6c07f5b5b6
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/64/789764/2 && git format-patch -1 --stdout FETCH_HEAD,"['roles/standalone/tasks/standalone-install.yml', 'zuul.d/layout.yaml']",2,33e80570cae9d0866a6fbd7cf921729076e49bf8,dnmlog, check: jobs: [], - tripleo-undercloud-jobs-pipeline - tripleo-multinode-container-full-pipeline - tripleo-multinode-branchful - release-notes-jobs-python3 - tripleo-standalone-multinode-ipa-pipeline - tripleo-upgrades-master-pipeline check: jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$ - tripleo-ci-centos-8-standalone-on-multinode-ipa: vars: consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/ipa-multinode.*$ - ^roles/standalone.*$ - ^playbooks/multinode-standalone-ipa.yml.*$ - tripleo-ci-centos-8-repoclosure: files: - ^roles/repoclosure.*$ gate: queue: tripleo jobs: - openstack-tox-linters - openstack-tox-molecule: required-projects: - openstack/tripleo-quickstart - tripleo-ci-centos-8-containers-undercloud-minion: vars: consumer_job: true remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider files: - ^roles/.*minion.*$ - ^playbooks/.*minion.*$,2,57
openstack%2Ftripleo-heat-templates~stable%2Fussuri~Ic77ed56c32c7071ce126a1528030094b97894653,openstack/tripleo-heat-templates,stable/ussuri,Ic77ed56c32c7071ce126a1528030094b97894653,Add TLS support to services using memcached,MERGED,2021-03-18 08:49:04.000000000,2021-07-07 16:51:51.000000000,2021-07-07 16:51:51.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-03-18 08:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/25ee8af885e1541e7c0dc14b47944c66efe9c980', 'message': ""Add TLS support to services using memcached\n\nThis patch enables TLS connections to memcached in services which\nsupport it. Specifically the settings are consumed by swift's internal\nmemcached client through puppet-swift; or oslo.cache, through\npuppet-ceilometer, puppet-keystone, puppet-nova, puppet-heat\nand puppet-oslo.\n\nDepends-on: https://review.opendev.org/773909\nDepends-on: https://review.opendev.org/775610\nDepends-on: https://review.opendev.org/775619\nDepends-on: https://review.opendev.org/779925\nDepends-on: https://review.opendev.org/775648\nChange-Id: Ic77ed56c32c7071ce126a1528030094b97894653\n(cherry picked from commit 1ceb521805875b41ebfafb1ff7a862df4df6fd16)\n""}, {'number': 2, 'created': '2021-03-22 13:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97feabfb116bbc30f716807e3c43b0186b21d56d', 'message': ""Add TLS support to services using memcached\n\nThis patch enables TLS connections to memcached in services which\nsupport it. Specifically the settings are consumed by swift's internal\nmemcached client through puppet-swift; or oslo.cache, through\npuppet-ceilometer, puppet-keystone, puppet-nova, puppet-heat\nand puppet-oslo.\n\nDepends-on: https://review.opendev.org/773909\nDepends-on: https://review.opendev.org/775610\nDepends-on: https://review.opendev.org/775619\nDepends-on: https://review.opendev.org/779925\nDepends-on: https://review.opendev.org/775648\nChange-Id: Ic77ed56c32c7071ce126a1528030094b97894653\n(cherry picked from commit 1ceb521805875b41ebfafb1ff7a862df4df6fd16)\n""}, {'number': 3, 'created': '2021-03-22 20:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8f42b920095afbf4558f7cb4a0f2563110dd73c3', 'message': ""Add TLS support to services using memcached\n\nThis patch enables TLS connections to memcached in services which\nsupport it. Specifically the settings are consumed by swift's internal\nmemcached client through puppet-swift; or oslo.cache, through\npuppet-ceilometer, puppet-keystone, puppet-nova, puppet-heat\nand puppet-oslo.\n\nNOTE(moguimar): Squashing fixes proposed by Rabi Mirsha in order to\noptimize conditions.\n\nSquashes:\n- Optimize conditions for TLS support\n  (cherry picked from commit cc5eb81771cb0016f7c4ac02d17627474e210597)\n\nDepends-on: https://review.opendev.org/773909\nDepends-on: https://review.opendev.org/775610\nDepends-on: https://review.opendev.org/775619\nDepends-on: https://review.opendev.org/779925\nDepends-on: https://review.opendev.org/775648\nChange-Id: Ic77ed56c32c7071ce126a1528030094b97894653\n(cherry picked from commit 1ceb521805875b41ebfafb1ff7a862df4df6fd16)\n""}, {'number': 4, 'created': '2021-07-04 13:17:42.000000000', 'files': ['deployment/heat/heat-base-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/enable-memcached-tls.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/memcached/memcached-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e412bd6ce11c83bd3e69e057c6636976eae8220', 'message': ""Add TLS support to services using memcached\n\nThis patch enables TLS connections to memcached in services which\nsupport it. Specifically the settings are consumed by swift's internal\nmemcached client through puppet-swift; or oslo.cache, through\npuppet-ceilometer, puppet-keystone, puppet-nova, puppet-heat\nand puppet-oslo.\n\nNOTE(moguimar): Squashing fixes proposed by Rabi Mirsha in order to\noptimize conditions.\n\nSquashes:\n- Optimize conditions for TLS support\n  (cherry picked from commit cc5eb81771cb0016f7c4ac02d17627474e210597)\n\nDepends-on: https://review.opendev.org/773909\nDepends-on: https://review.opendev.org/775610\nDepends-on: https://review.opendev.org/775619\nDepends-on: https://review.opendev.org/779925\nDepends-on: https://review.opendev.org/775648\nChange-Id: Ic77ed56c32c7071ce126a1528030094b97894653\n(cherry picked from commit 1ceb521805875b41ebfafb1ff7a862df4df6fd16)\n""}]",2,781223,8e412bd6ce11c83bd3e69e057c6636976eae8220,65,5,4,14250,,,0,"Add TLS support to services using memcached

This patch enables TLS connections to memcached in services which
support it. Specifically the settings are consumed by swift's internal
memcached client through puppet-swift; or oslo.cache, through
puppet-ceilometer, puppet-keystone, puppet-nova, puppet-heat
and puppet-oslo.

NOTE(moguimar): Squashing fixes proposed by Rabi Mirsha in order to
optimize conditions.

Squashes:
- Optimize conditions for TLS support
  (cherry picked from commit cc5eb81771cb0016f7c4ac02d17627474e210597)

Depends-on: https://review.opendev.org/773909
Depends-on: https://review.opendev.org/775610
Depends-on: https://review.opendev.org/775619
Depends-on: https://review.opendev.org/779925
Depends-on: https://review.opendev.org/775648
Change-Id: Ic77ed56c32c7071ce126a1528030094b97894653
(cherry picked from commit 1ceb521805875b41ebfafb1ff7a862df4df6fd16)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/23/781223/4 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/heat/heat-base-puppet.yaml', 'deployment/swift/swift-storage-container-puppet.yaml', 'deployment/ceilometer/ceilometer-base-container-puppet.yaml', 'deployment/nova/nova-base-puppet.yaml', 'environments/ssl/enable-memcached-tls.yaml', 'deployment/keystone/keystone-container-puppet.yaml', 'deployment/swift/swift-proxy-container-puppet.yaml']",7,25ee8af885e1541e7c0dc14b47944c66efe9c980,memcached-cert-stable/ussuri," MemcachedTLS: default: false description: Set to True to enable TLS on Memcached service. Because not all services support Memcached TLS, during the migration period, Memcached will listen on 2 ports - on the port set with MemcachedPort parameter (above) and on 11211, without TLS. type: boolean swift::proxy::cache::tls_enabled: {get_param: MemcachedTLS}",,101,22
openstack%2Fpuppet-tripleo~master~I43eb5e96a2f15c4c49193c676acccce9c3f413c1,openstack/puppet-tripleo,master,I43eb5e96a2f15c4c49193c676acccce9c3f413c1,"Revert ""Aodh deprecation""",MERGED,2021-04-21 12:16:55.000000000,2021-07-07 16:51:29.000000000,2021-07-07 16:51:29.000000000,"[{'_account_id': 4264}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-21 12:16:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/158a599222999b2a716d4b1259889de2b6537706', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReson for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to our\nusers. Deprecation should happen in a consistent manner within all\nTripleO repos.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}, {'number': 2, 'created': '2021-04-21 12:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c032935f0d9fdf5c86b8a12370e1153ef258414', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReson for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}, {'number': 3, 'created': '2021-04-21 12:18:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/11b51949cdfb744255a57f4e14c01a45303a7b5b', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReson for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}, {'number': 4, 'created': '2021-04-21 12:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a944a03c77b498d08e538736e2da3c0156c202ff', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}, {'number': 5, 'created': '2021-07-07 03:45:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7fe6c5bc05be212786a3cb941f262755a2b758b2', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}, {'number': 6, 'created': '2021-07-07 07:27:25.000000000', 'files': ['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bf8895796fe5427092ba76104c64b659dfff25d8', 'message': 'Revert ""Aodh deprecation""\n\nThis reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.\n\nReason for revert:\nAodh service has never been deprecated in tripleo-heat-templates.\nThe current warning in puppet-tripleo gives a wrong notice to users.\nDeprecation should happen in a consistent manner within all TripleO\nrepos.\n\nConflicts:\n        manifests/profile/base/aodh/api.pp\n        manifests/profile/base/aodh/evaluator.pp\n        manifests/profile/base/aodh/listener.pp\n        manifests/profile/base/aodh/notifier.pp\n\nResolved conflicts caused by migration of class name format (from\nabsolute names to relative names)\n\nChange-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1\n'}]",0,787357,bf8895796fe5427092ba76104c64b659dfff25d8,17,4,6,9816,,,0,"Revert ""Aodh deprecation""

This reverts commit de98e1411b0d433c3176098dc7eca3cf022bef76.

Reason for revert:
Aodh service has never been deprecated in tripleo-heat-templates.
The current warning in puppet-tripleo gives a wrong notice to users.
Deprecation should happen in a consistent manner within all TripleO
repos.

Conflicts:
        manifests/profile/base/aodh/api.pp
        manifests/profile/base/aodh/evaluator.pp
        manifests/profile/base/aodh/listener.pp
        manifests/profile/base/aodh/notifier.pp

Resolved conflicts caused by migration of class name format (from
absolute names to relative names)

Change-Id: I43eb5e96a2f15c4c49193c676acccce9c3f413c1
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/57/787357/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/aodh/api.pp', 'manifests/profile/base/aodh/listener.pp', 'manifests/profile/base/aodh/notifier.pp', 'manifests/profile/base/aodh/evaluator.pp']",4,158a599222999b2a716d4b1259889de2b6537706,,," warning('Service aodh is deprecated. Please take in mind, that it is going to be removed in T release.')",3,4
openstack%2Fpuppet-tripleo~master~If0c356ed1a6497fda2e8e8b040aaf917c0de5238,openstack/puppet-tripleo,master,If0c356ed1a6497fda2e8e8b040aaf917c0de5238,Glance: Use defaults defined in puppet-glance,MERGED,2021-06-26 03:46:12.000000000,2021-07-07 16:50:37.000000000,2021-07-07 16:50:37.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-26 03:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/e90da3059c006d65c126f4f1a12aea1dac32d2e3', 'message': 'Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n'}, {'number': 2, 'created': '2021-06-26 18:43:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/08a5d3f83519de5b7cb068dc2cce5d349da0e31c', 'message': 'Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n'}, {'number': 3, 'created': '2021-06-27 08:09:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b0b4606ed4ccff541bf989c73183bf9b86f4ba19', 'message': 'Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n'}, {'number': 4, 'created': '2021-06-27 13:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/907a420310f2c7a063c13badaf282c7967cab6fa', 'message': 'Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n'}, {'number': 5, 'created': '2021-06-27 13:09:53.000000000', 'files': ['manifests/profile/base/glance/backend/rbd.pp', 'manifests/profile/base/glance/backend/swift.pp', 'manifests/profile/base/glance/backend/file.pp', 'manifests/profile/base/glance/backend/cinder.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/b714aa373b24c4b32f4cb610a518eb6734e01104', 'message': 'Glance: Use defaults defined in puppet-glance\n\nCurrently we override default values for backend manifests by undef\nbut because of this we already need to define each parameters otherwise\npuppet-glance raises validation failure or set empty values.\nThis change removes that redundant overrides and make puppet-tripleo\nrely on defaults in puppet-glance (and most of them are\n$::os_service_default which result in defaults in glance itself)\n\nChange-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238\n'}]",0,798179,b714aa373b24c4b32f4cb610a518eb6734e01104,14,3,5,9816,,,0,"Glance: Use defaults defined in puppet-glance

Currently we override default values for backend manifests by undef
but because of this we already need to define each parameters otherwise
puppet-glance raises validation failure or set empty values.
This change removes that redundant overrides and make puppet-tripleo
rely on defaults in puppet-glance (and most of them are
$::os_service_default which result in defaults in glance itself)

Change-Id: If0c356ed1a6497fda2e8e8b040aaf917c0de5238
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/79/798179/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/glance/backend/rbd.pp', 'manifests/profile/base/glance/backend/swift.pp', 'manifests/profile/base/glance/backend/file.pp', 'manifests/profile/base/glance/backend/cinder.pp']",4,e90da3059c006d65c126f4f1a12aea1dac32d2e3,glance-backend-defaults," create_resources('glance::backend::multistore::cinder', $backend_name, remove_undef_values({ 'cinder_api_insecure' => $cinder_api_insecure, 'cinder_catalog_info' => $cinder_catalog_info, 'cinder_http_retries' => $cinder_http_retries, 'cinder_endpoint_template' => $cinder_endpoint_template, 'cinder_ca_certificates_file' => $cinder_ca_certificates_file, 'cinder_store_auth_address' => $cinder_store_auth_address, 'cinder_store_project_name' => $cinder_store_project_name, 'cinder_store_user_name' => $cinder_store_user_name, 'cinder_store_password' => $cinder_store_password, 'cinder_enforce_multipath' => $cinder_enforce_multipath, 'cinder_use_multipath' => $cinder_use_multipath, 'cinder_mount_point_base' => $cinder_mount_point_base, 'cinder_volume_type' => $cinder_volume_type_real, 'store_description' => $store_description_real, }))"," glance::backend::multistore::cinder { $backend_name: cinder_api_insecure => $cinder_api_insecure, cinder_catalog_info => $cinder_catalog_info, cinder_http_retries => $cinder_http_retries, cinder_endpoint_template => $cinder_endpoint_template, cinder_ca_certificates_file => $cinder_ca_certificates_file, cinder_store_auth_address => $cinder_store_auth_address, cinder_store_project_name => $cinder_store_project_name, cinder_store_user_name => $cinder_store_user_name, cinder_store_password => $cinder_store_password, cinder_enforce_multipath => $cinder_enforce_multipath, cinder_use_multipath => $cinder_use_multipath, cinder_mount_point_base => $cinder_mount_point_base, cinder_volume_type => $cinder_volume_type_real, store_description => $store_description_real, }",46,46
openstack%2Fpuppet-tripleo~stable%2Ftrain~I05b3b1848081b6247870a540b06ff589c8b5f7eb,openstack/puppet-tripleo,stable/train,I05b3b1848081b6247870a540b06ff589c8b5f7eb,Cinder: Dell EMC PowerMax: Fix typo in hash key,MERGED,2021-07-05 05:55:05.000000000,2021-07-07 16:50:09.000000000,2021-07-07 16:50:09.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-07-05 05:55:05.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/17fafbb6f8ca1f164bbbec10eb421c4d7f1b8881', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)\n(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)\n(cherry picked from commit a29d7cb11e16d100aa3e8c5e110c665644a703de)\n(cherry picked from commit f220923d6e0842be6a7b0f1b5b3e285918227498)\n'}]",0,799369,17fafbb6f8ca1f164bbbec10eb421c4d7f1b8881,7,3,1,9816,,,0,"Cinder: Dell EMC PowerMax: Fix typo in hash key

This change fixes a wrong hash key to define the powermax_port_groups
parameter.

Change-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb
(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)
(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)
(cherry picked from commit a29d7cb11e16d100aa3e8c5e110c665644a703de)
(cherry picked from commit f220923d6e0842be6a7b0f1b5b3e285918227498)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/69/799369/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powermax.pp'],1,17fafbb6f8ca1f164bbbec10eb421c4d7f1b8881,," powermax_port_groups => $backend_config['CinderPowermaxPortGroups'],"," powermax_port_groups => $backend_config['CinderPowermaPortGroups'],",1,1
openstack%2Fpuppet-tripleo~stable%2Fussuri~I05b3b1848081b6247870a540b06ff589c8b5f7eb,openstack/puppet-tripleo,stable/ussuri,I05b3b1848081b6247870a540b06ff589c8b5f7eb,Cinder: Dell EMC PowerMax: Fix typo in hash key,MERGED,2021-07-05 05:54:34.000000000,2021-07-07 16:49:45.000000000,2021-07-07 16:49:45.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-05 05:54:34.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/f220923d6e0842be6a7b0f1b5b3e285918227498', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)\n(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)\n(cherry picked from commit a29d7cb11e16d100aa3e8c5e110c665644a703de)\n'}]",0,799368,f220923d6e0842be6a7b0f1b5b3e285918227498,6,2,1,9816,,,0,"Cinder: Dell EMC PowerMax: Fix typo in hash key

This change fixes a wrong hash key to define the powermax_port_groups
parameter.

Change-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb
(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)
(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)
(cherry picked from commit a29d7cb11e16d100aa3e8c5e110c665644a703de)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/68/799368/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powermax.pp'],1,f220923d6e0842be6a7b0f1b5b3e285918227498,," powermax_port_groups => $backend_config['CinderPowermaxPortGroups'],"," powermax_port_groups => $backend_config['CinderPowermaPortGroups'],",1,1
openstack%2Fpuppet-tripleo~stable%2Fvictoria~I05b3b1848081b6247870a540b06ff589c8b5f7eb,openstack/puppet-tripleo,stable/victoria,I05b3b1848081b6247870a540b06ff589c8b5f7eb,Cinder: Dell EMC PowerMax: Fix typo in hash key,MERGED,2021-07-05 05:53:52.000000000,2021-07-07 16:49:38.000000000,2021-07-07 16:49:38.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-05 05:53:52.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a29d7cb11e16d100aa3e8c5e110c665644a703de', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)\n(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)\n'}]",0,799367,a29d7cb11e16d100aa3e8c5e110c665644a703de,6,2,1,9816,,,0,"Cinder: Dell EMC PowerMax: Fix typo in hash key

This change fixes a wrong hash key to define the powermax_port_groups
parameter.

Change-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb
(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)
(cherry picked from commit 092bc1271f8b66f1b3ba8ba604144b2db7764637)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/67/799367/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powermax.pp'],1,a29d7cb11e16d100aa3e8c5e110c665644a703de,," powermax_port_groups => $backend_config['CinderPowermaxPortGroups'],"," powermax_port_groups => $backend_config['CinderPowermaPortGroups'],",1,1
openstack%2Fironic~master~I7f2b6ab9c3adf88202f213a42af7553cf9e8276d,openstack/ironic,master,I7f2b6ab9c3adf88202f213a42af7553cf9e8276d,Add note regarding configuration drives to tuning docs,MERGED,2021-05-04 19:20:45.000000000,2021-07-07 16:34:37.000000000,2021-07-07 16:28:55.000000000,"[{'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-04 19:20:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e8b02dcf58ee6f27a04c1b821945a63a4bf0a868', 'message': 'Add note regarding configuration drives to tuning docs\n\nConfiguraiton drives get stored in the instance_info field which\nis of a text type, which in theory is not a big deal, however large\nconfiguration drives are returned over the database client\nand when entire node objects are generated by the client, which\nhas an obvious bandwidth and record transfer latency overhead.\n\nChange-Id: I7f2b6ab9c3adf88202f213a42af7553cf9e8276d\n'}, {'number': 2, 'created': '2021-06-25 13:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6dc1891696c0efc0d1866d68379b34796b9848db', 'message': 'Add note regarding configuration drives to tuning docs\n\nConfiguraiton drives get stored in the instance_info field which\nis of a text type, which in theory is not a big deal, however large\nconfiguration drives are returned over the database client\nand when entire node objects are generated by the client, which\nhas an obvious bandwidth and record transfer latency overhead.\n\nChange-Id: I7f2b6ab9c3adf88202f213a42af7553cf9e8276d\n'}, {'number': 3, 'created': '2021-07-06 16:12:31.000000000', 'files': ['doc/source/admin/tuning.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/85212fead4eea3f00652afa2feb27abc84f372d7', 'message': 'Add note regarding configuration drives to tuning docs\n\nConfiguraiton drives get stored in the instance_info field which\nis of a text type, which in theory is not a big deal, however large\nconfiguration drives are returned over the database client\nand when entire node objects are generated by the client, which\nhas an obvious bandwidth and record transfer latency overhead.\n\nChange-Id: I7f2b6ab9c3adf88202f213a42af7553cf9e8276d\n'}]",5,789623,85212fead4eea3f00652afa2feb27abc84f372d7,18,3,3,11655,,,0,"Add note regarding configuration drives to tuning docs

Configuraiton drives get stored in the instance_info field which
is of a text type, which in theory is not a big deal, however large
configuration drives are returned over the database client
and when entire node objects are generated by the client, which
has an obvious bandwidth and record transfer latency overhead.

Change-Id: I7f2b6ab9c3adf88202f213a42af7553cf9e8276d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/23/789623/3 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/tuning.rst'],1,e8b02dcf58ee6f27a04c1b821945a63a4bf0a868,indexes,"* If your making use of large configuration drives, you may wish to ensure your using Swift to store them as opposed to housing them inside of the database. The entire object and contents are returned whenever Ironic needs to evaluate the entire node, which can become a performance impact.",,4,0
openstack%2Fdesignate~master~I7034a70950b787f1cdbc510e88ab777957339ba7,openstack/designate,master,I7034a70950b787f1cdbc510e88ab777957339ba7,Fix oslo policy DeprecatedRule warnings,MERGED,2021-07-03 23:28:51.000000000,2021-07-07 16:34:34.000000000,2021-07-07 16:30:20.000000000,"[{'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2021-07-03 23:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/a672534ba1f70f2473c1ca876e62a48ee1060e5f', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I7034a70950b787f1cdbc510e88ab777957339ba7\n'}, {'number': 2, 'created': '2021-07-04 04:50:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8279e22af5687db8929a8a13d348eb4077f38f57', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I7034a70950b787f1cdbc510e88ab777957339ba7\n'}, {'number': 3, 'created': '2021-07-04 23:04:22.000000000', 'files': ['designate/common/policies/zone.py', 'designate/common/policies/pool.py', 'designate/common/policies/tsigkey.py', 'designate/common/policies/zone_transfer_accept.py', 'designate/common/policies/tenant.py', 'designate/common/policies/tld.py', 'designate/common/policies/zone_export.py', 'designate/common/policies/quota.py', 'designate/common/policies/record.py', 'lower-constraints.txt', 'designate/common/policies/zone_import.py', 'designate/common/policies/blacklist.py', 'requirements.txt', 'designate/common/policies/recordset.py', 'designate/common/policies/service_status.py', 'designate/common/policies/zone_transfer_request.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/4797efae2e26c81d1749e1faa1802b8e321abff1', 'message': 'Fix oslo policy DeprecatedRule warnings\n\nSince 3.7.0, oslo policy started the DeprecationWarning[1] if\ndeprecated_reason and deprecated_since param are not passed\nin DeprecatedRule or they are passed in RuleDefault object.\n\nThese warnings are logged for every test which increase the\nlog size and sometime can full the log buffer and fail the\njob.\n\n[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538\n\nChange-Id: I7034a70950b787f1cdbc510e88ab777957339ba7\n'}]",0,799401,4797efae2e26c81d1749e1faa1802b8e321abff1,21,4,3,8556,,,0,"Fix oslo policy DeprecatedRule warnings

Since 3.7.0, oslo policy started the DeprecationWarning[1] if
deprecated_reason and deprecated_since param are not passed
in DeprecatedRule or they are passed in RuleDefault object.

These warnings are logged for every test which increase the
log size and sometime can full the log buffer and fail the
job.

[1] https://github.com/openstack/oslo.policy/blob/3.7.0/oslo_policy/policy.py#L1538

Change-Id: I7034a70950b787f1cdbc510e88ab777957339ba7
",git fetch https://review.opendev.org/openstack/designate refs/changes/01/799401/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/common/policies/zone.py', 'designate/common/policies/pool.py', 'designate/common/policies/tsigkey.py', 'designate/common/policies/zone_transfer_accept.py', 'designate/common/policies/tenant.py', 'designate/common/policies/tld.py', 'designate/common/policies/zone_export.py', 'designate/common/policies/quota.py', 'designate/common/policies/record.py', 'designate/common/policies/zone_import.py', 'designate/common/policies/blacklist.py', 'designate/common/policies/recordset.py', 'designate/common/policies/service_status.py', 'designate/common/policies/zone_transfer_request.py']",14,a672534ba1f70f2473c1ca876e62a48ee1060e5f,fix-oslo-policy-warnings," check_str=base.RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=base.RULE_ZONE_TRANSFER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=base.RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=base.RULE_ANY, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=base.RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY check_str=base.RULE_ADMIN_OR_OWNER, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_create_zone_transfer_request deprecated_rule=deprecated_create_zone_transfer_request deprecated_rule=deprecated_update_zone_transfer_request deprecated_rule=deprecated_delete_zone_transfer_request"," check_str=base.RULE_ADMIN_OR_OWNER check_str=base.RULE_ZONE_TRANSFER check_str=base.RULE_ADMIN_OR_OWNER check_str=base.RULE_ANY check_str=base.RULE_ADMIN_OR_OWNER check_str=base.RULE_ADMIN_OR_OWNER deprecated_rule=deprecated_create_zone_transfer_request, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_create_zone_transfer_request, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_update_zone_transfer_request, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY deprecated_rule=deprecated_delete_zone_transfer_request, deprecated_reason=DEPRECATED_REASON, deprecated_since=versionutils.deprecated.WALLABY",305,299
openstack%2Fdesignate-dashboard~master~Iec841b13f74c219be5b8493eb42ab3bf9bef0cd0,openstack/designate-dashboard,master,Iec841b13f74c219be5b8493eb42ab3bf9bef0cd0,Drop horizon-nodejs10-jobs template,MERGED,2021-06-09 16:48:05.000000000,2021-07-07 16:34:00.000000000,2021-07-07 16:30:24.000000000,"[{'_account_id': 8648}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 16:48:05.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate-dashboard/commit/f329b358efb25f6fc24f0fe4486ab7ab3f6f1654', 'message': ""Drop horizon-nodejs10-jobs template\n\nAs we already added horizon-nodejs14-jobs template in this plugin\nand nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs\ntemplate because nodejs10 is already EOL.\n\nChange-Id: Iec841b13f74c219be5b8493eb42ab3bf9bef0cd0\n""}]",0,795595,f329b358efb25f6fc24f0fe4486ab7ab3f6f1654,9,4,1,29313,,,0,"Drop horizon-nodejs10-jobs template

As we already added horizon-nodejs14-jobs template in this plugin
and nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs
template because nodejs10 is already EOL.

Change-Id: Iec841b13f74c219be5b8493eb42ab3bf9bef0cd0
",git fetch https://review.opendev.org/openstack/designate-dashboard refs/changes/95/795595/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f329b358efb25f6fc24f0fe4486ab7ab3f6f1654,drop-nodejs10,, - horizon-nodejs10-jobs,0,1
openstack%2Ftripleo-quickstart~master~I117722697cc859e31f37eba70f825d41c9ac121d,openstack/tripleo-quickstart,master,I117722697cc859e31f37eba70f825d41c9ac121d,Set proper DNS forwarders for FreeIPA,MERGED,2021-06-02 06:48:07.000000000,2021-07-07 16:32:22.000000000,2021-07-07 16:29:56.000000000,"[{'_account_id': 6926}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-06-02 06:48:07.000000000', 'files': ['config/general_config/ipa.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b7fcb80297b9643ca2b183ec2ad0023882319a7c', 'message': ""Set proper DNS forwarders for FreeIPA\n\nCurrently freeipa_internal_ip is used as DNS forwarder\nfor FreeIPA which is wrong as self ip can't be used\nas forwarder. We need to use some public DNS servers\nfor this, setting to the same we already use in CI.\n\nCloses-Bug: #1925770\nChange-Id: I117722697cc859e31f37eba70f825d41c9ac121d\n""}]",3,794141,b7fcb80297b9643ca2b183ec2ad0023882319a7c,15,8,1,13861,,,0,"Set proper DNS forwarders for FreeIPA

Currently freeipa_internal_ip is used as DNS forwarder
for FreeIPA which is wrong as self ip can't be used
as forwarder. We need to use some public DNS servers
for this, setting to the same we already use in CI.

Closes-Bug: #1925770
Change-Id: I117722697cc859e31f37eba70f825d41c9ac121d
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/41/794141/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/ipa.yml'],1,b7fcb80297b9643ca2b183ec2ad0023882319a7c,,# custom_nameserver is used to set forwarders for FreeIPA custom_nameserver: - 1.1.1.1 # Define FreeIPA server as DNS server for under/overcloud.,"# Define FreeIPA server as DNS server for under/overcloud. custom_nameserver: - ""{{ freeipa_internal_ip }}""",3,2
openstack%2Fironic~master~I77ef1cabbcea9808771613fa37b27978fd0ce770,openstack/ironic,master,I77ef1cabbcea9808771613fa37b27978fd0ce770,Avoid double file removal in create_boot_iso,MERGED,2021-07-06 17:10:38.000000000,2021-07-07 16:32:07.000000000,2021-07-07 16:28:45.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 17:10:38.000000000', 'files': ['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/c830861ee8ef3a3fcf537f21a75f91a6e7e4ca4d', 'message': 'Avoid double file removal in create_boot_iso\n\nThe images.fetch call removes the provided destination file on error.\nThe create_boot_iso function calls it with a temporary file, which\nresults in another attempt to remove it. This attempt fails and masks\nthe actual exception (e.g. validation failure).\n\nI doubt this problem is exposed to end users, but fixing it anyway.\n\nChange-Id: I77ef1cabbcea9808771613fa37b27978fd0ce770\n'}]",0,799695,c830861ee8ef3a3fcf537f21a75f91a6e7e4ca4d,11,3,1,10239,,,0,"Avoid double file removal in create_boot_iso

The images.fetch call removes the provided destination file on error.
The create_boot_iso function calls it with a temporary file, which
results in another attempt to remove it. This attempt fails and masks
the actual exception (e.g. validation failure).

I doubt this problem is exposed to end users, but fixing it anyway.

Change-Id: I77ef1cabbcea9808771613fa37b27978fd0ce770
",git fetch https://review.opendev.org/openstack/ironic refs/changes/95/799695/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/tests/unit/common/test_images.py', 'ironic/common/images.py']",2,c830861ee8ef3a3fcf537f21a75f91a6e7e4ca4d,boot-iso-removal," if isinstance(image_file, str): with open(image_file, ""wb"") as image_file_obj: image_service.download(image_href, image_file_obj) else: image_service.download(image_href, image_file) fetch_into(context, image_href, path) fetch_into(context, base_iso, output_filename)"," image_service.download(image_href, image_file) with open(path, ""wb"") as image_file: fetch_into(context, image_href, image_file) fetch(context, base_iso, output_filename)",8,5
openstack%2Fpuppet-tripleo~stable%2Fwallaby~I05b3b1848081b6247870a540b06ff589c8b5f7eb,openstack/puppet-tripleo,stable/wallaby,I05b3b1848081b6247870a540b06ff589c8b5f7eb,Cinder: Dell EMC PowerMax: Fix typo in hash key,MERGED,2021-07-05 05:51:55.000000000,2021-07-07 16:30:01.000000000,2021-07-07 16:30:01.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-05 05:51:55.000000000', 'files': ['manifests/profile/base/cinder/volume/dellemc_powermax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/092bc1271f8b66f1b3ba8ba604144b2db7764637', 'message': 'Cinder: Dell EMC PowerMax: Fix typo in hash key\n\nThis change fixes a wrong hash key to define the powermax_port_groups\nparameter.\n\nChange-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb\n(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)\n'}]",0,799366,092bc1271f8b66f1b3ba8ba604144b2db7764637,7,2,1,9816,,,0,"Cinder: Dell EMC PowerMax: Fix typo in hash key

This change fixes a wrong hash key to define the powermax_port_groups
parameter.

Change-Id: I05b3b1848081b6247870a540b06ff589c8b5f7eb
(cherry picked from commit a4ea71d3c7fb5ce0583b3b7042cca395f1a70a56)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/799366/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/cinder/volume/dellemc_powermax.pp'],1,092bc1271f8b66f1b3ba8ba604144b2db7764637,," powermax_port_groups => $backend_config['CinderPowermaxPortGroups'],"," powermax_port_groups => $backend_config['CinderPowermaPortGroups'],",1,1
openstack%2Fironic~master~Ie72bb5e62c29efa5eea1710e74f505329d28d726,openstack/ironic,master,Ie72bb5e62c29efa5eea1710e74f505329d28d726,"Support ""swift"" for ramdisk_image_download_source",MERGED,2021-07-06 15:43:06.000000000,2021-07-07 16:16:24.000000000,2021-07-07 16:13:53.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 15:43:06.000000000', 'files': ['releasenotes/notes/deploy-iso-swift-355ad6eba6c511b4.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/conf/deploy.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8cb6057450182d2d24cafcb27c2518094441fd3f', 'message': 'Support ""swift"" for ramdisk_image_download_source\n\nThe ilo-virtual-media boot interface supports exposing Glance images via\na temporary URL. This change brings this support to Redfish and others.\n\nChange-Id: Ie72bb5e62c29efa5eea1710e74f505329d28d726\n'}]",0,799685,8cb6057450182d2d24cafcb27c2518094441fd3f,11,3,1,10239,,,0,"Support ""swift"" for ramdisk_image_download_source

The ilo-virtual-media boot interface supports exposing Glance images via
a temporary URL. This change brings this support to Redfish and others.

Change-Id: Ie72bb5e62c29efa5eea1710e74f505329d28d726
",git fetch https://review.opendev.org/openstack/ironic refs/changes/85/799685/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deploy-iso-swift-355ad6eba6c511b4.yaml', 'ironic/tests/unit/drivers/modules/test_image_utils.py', 'ironic/drivers/modules/image_utils.py', 'ironic/conf/deploy.py']",4,8cb6057450182d2d24cafcb27c2518094441fd3f,deploy-iso-swift," 'the conductor.')), ('swift', _('Same as ""http"", but if the image ' 'is a Glance UUID, it is exposed via a ' 'Swift temporary URL.'))],"," 'the conductor.'))],",48,7
openstack%2Fovn-octavia-provider~master~Ia061f72705c50df843e6d77ebe4e7d2962adba24,openstack/ovn-octavia-provider,master,Ia061f72705c50df843e6d77ebe4e7d2962adba24,Fix new pylint issues,MERGED,2021-07-01 07:52:36.000000000,2021-07-07 15:52:20.000000000,2021-07-07 15:51:05.000000000,"[{'_account_id': 1131}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-01 07:52:36.000000000', 'files': ['.pylintrc'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6bde6cb70f0dadea7c2aa19e322f348fb91581b8', 'message': 'Fix new pylint issues\n\nDisable new checker from pylint 2.9.0: arguments-renamed\n\nChange-Id: Ia061f72705c50df843e6d77ebe4e7d2962adba24\n'}]",0,799002,6bde6cb70f0dadea7c2aa19e322f348fb91581b8,27,2,1,29244,,,0,"Fix new pylint issues

Disable new checker from pylint 2.9.0: arguments-renamed

Change-Id: Ia061f72705c50df843e6d77ebe4e7d2962adba24
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/02/799002/1 && git format-patch -1 --stdout FETCH_HEAD,['.pylintrc'],1,6bde6cb70f0dadea7c2aa19e322f348fb91581b8,," useless-object-inheritance, arguments-renamed", useless-object-inheritance,2,1
openstack%2Foctavia-dashboard~master~Ie6a547bacdc1dff069720755d6bb2214680525a5,openstack/octavia-dashboard,master,Ie6a547bacdc1dff069720755d6bb2214680525a5,Drop horizon-nodejs10-jobs template,MERGED,2021-06-09 16:46:57.000000000,2021-07-07 15:41:11.000000000,2021-07-07 15:39:20.000000000,"[{'_account_id': 6469}, {'_account_id': 8648}, {'_account_id': 11628}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-09 16:46:57.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-dashboard/commit/91042f2b1080c9c8a45bf7e7f61f17bbf0d38572', 'message': ""Drop horizon-nodejs10-jobs template\n\nAs we already added horizon-nodejs14-jobs template in this plugin\nand nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs\ntemplate because nodejs10 is already EOL.\n\nChange-Id: Ie6a547bacdc1dff069720755d6bb2214680525a5\n""}]",0,795594,91042f2b1080c9c8a45bf7e7f61f17bbf0d38572,10,4,1,29313,,,0,"Drop horizon-nodejs10-jobs template

As we already added horizon-nodejs14-jobs template in this plugin
and nodejs14 jobs running fine. So let's drop horizon-nodejs10-jobs
template because nodejs10 is already EOL.

Change-Id: Ie6a547bacdc1dff069720755d6bb2214680525a5
",git fetch https://review.opendev.org/openstack/octavia-dashboard refs/changes/94/795594/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,91042f2b1080c9c8a45bf7e7f61f17bbf0d38572,drop-nodejs10,, - horizon-nodejs10-jobs,0,1
openstack%2Freleases~master~I0fd2deceac89592da4c74af80a3c86101fe3c5c3,openstack/releases,master,I0fd2deceac89592da4c74af80a3c86101fe3c5c3,Release OpenStack-Ansible Ussuri,MERGED,2021-07-07 11:34:13.000000000,2021-07-07 15:26:33.000000000,2021-07-07 15:26:33.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-07 11:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/09a1899384ce483d10fe64ef5196780f0f4da727', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: I0fd2deceac89592da4c74af80a3c86101fe3c5c3\n'}, {'number': 2, 'created': '2021-07-07 11:58:53.000000000', 'files': ['deliverables/ussuri/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/252bdeaa3a1f3229248752d97af93246a0350984', 'message': 'Release OpenStack-Ansible Ussuri\n\nChange-Id: I0fd2deceac89592da4c74af80a3c86101fe3c5c3\n'}]",0,799795,252bdeaa3a1f3229248752d97af93246a0350984,11,3,2,28619,,,0,"Release OpenStack-Ansible Ussuri

Change-Id: I0fd2deceac89592da4c74af80a3c86101fe3c5c3
",git fetch https://review.opendev.org/openstack/releases refs/changes/95/799795/2 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/ussuri/openstack-ansible.yaml'],1,09a1899384ce483d10fe64ef5196780f0f4da727,release_osa, - version: 21.2.6 projects: - repo: openstack/openstack-ansible hash: 024b08dad7053114b23cbab08514a6154c9440bd,,4,0
openstack%2Fironic~master~If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5,openstack/ironic,master,If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5,Document operators troubleshooting steps,NEW,2016-06-30 14:35:47.000000000,2021-07-07 15:19:38.000000000,,"[{'_account_id': 6618}, {'_account_id': 7080}, {'_account_id': 10239}, {'_account_id': 10379}, {'_account_id': 10697}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 19339}, {'_account_id': 20311}, {'_account_id': 20835}, {'_account_id': 22348}]","[{'number': 1, 'created': '2016-06-30 14:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f9083e6314489bfd9b75a1b8e610a4925119240a', 'message': '(WIP) Document operators troubleshooting steps\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our published documentation.\n\nThis is only the first 2 steps of our actual downstream owners manual.\nFollowing feedback, I will ""port"" the other steps to this document.\n\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\n'}, {'number': 2, 'created': '2016-06-30 14:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/933ca15c1d9de9f0317f84bf93e86beedbbd67a1', 'message': '(WIP) Document operators troubleshooting steps\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our published documentation.\n\nThis is only the first 2 steps of our actual downstream owners manual.\nFollowing feedback, I will ""port"" the other steps to this document.\n\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\n'}, {'number': 3, 'created': '2016-06-30 14:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d3b5cdf5cfa4956e96343ba4676665cc062f8de2', 'message': '(WIP) Document operators troubleshooting steps\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our published documentation.\n\nThis is only the first 2 steps of our actual downstream owners manual.\nFollowing feedback, I will ""port"" the other steps to this document.\n\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\n'}, {'number': 4, 'created': '2016-07-07 19:52:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b47eaa247623e337321eb3eb80b21d437c663c57', 'message': 'Document operators troubleshooting steps\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our troubleshooting\ndocumentation.\n\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\n'}, {'number': 5, 'created': '2016-07-08 18:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/816f8c734eb2412517d279b30164a7a11a961458', 'message': 'Document operators troubleshooting steps\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our troubleshooting\ndocumentation.\n\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\n'}, {'number': 6, 'created': '2021-07-06 17:45:34.000000000', 'files': ['doc/source/admin/troubleshooting.rst'], 'web_link': 'https://opendev.org/openstack/ironic/commit/6ec232b6eb584d3d9cf2142a0817076a96c56d9e', 'message': 'Document operators troubleshooting steps\n\nNote form Julia Kreger: Revised patch from several years back which\nI discovered when sifting through open stories in storyboard.\nI revised the change to be a bit more inline and attempted to provide\nmore context for operators. Additionally, some cases no longer applied\nfrom the original patch or that conflicted with our general\nrecommendations on (not) editing the database.\n\nOperators are asking for basic troubleshooting steps and our current\ntroubleshooting documentation only covers some of the possible errors.\n\nDocument known troubleshooting steps in our troubleshooting\ndocumentation.\n\nCo-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>\nChange-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5\nCloses-bug: #1597785\nStory: 1597785\nTask: 10472\n'}]",30,336055,6ec232b6eb584d3d9cf2142a0817076a96c56d9e,28,11,6,7080,,,0,"Document operators troubleshooting steps

Note form Julia Kreger: Revised patch from several years back which
I discovered when sifting through open stories in storyboard.
I revised the change to be a bit more inline and attempted to provide
more context for operators. Additionally, some cases no longer applied
from the original patch or that conflicted with our general
recommendations on (not) editing the database.

Operators are asking for basic troubleshooting steps and our current
troubleshooting documentation only covers some of the possible errors.

Document known troubleshooting steps in our troubleshooting
documentation.

Co-Authored-By: Julia Kreger <juliaashleykreger@gmail.com>
Change-Id: If7e6a39052082dfbf6835dcb386e1fc63bdb9ee5
Closes-bug: #1597785
Story: 1597785
Task: 10472
",git fetch https://review.opendev.org/openstack/ironic refs/changes/55/336055/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/deploy/troubleshooting.rst'],1,f9083e6314489bfd9b75a1b8e610a4925119240a,indexes,"Instance Stuck in SCHEDULING ============================ Possible cause: * The scheduling process failed and did not transition the instance in the error state. This can happen when using nova-cells as cell scheduling is known to be flaky. Action: * Verify nova-cells logs on both API and metal cells * Ensure all nova-cells configuration are present (especially capabilities) * Validate if both parent and child cells are on the same codebase Instance in ERROR, no node with instance UUID ============================================= Possible cause: * There was an error creating the instance. The error happened before Nova reserved the Ironic node. Action: * As admin, run ``nova show INSTANCE_UUID`` and look at the error message * Look at the (child cell) nova-conductor and nova-compute logs to find out what went wrong. ============== ========== ========== ===================== Manufacturer Model Supported? Driver name ============== ========== ========== ===================== APC AP7920 Yes apc_masterswitch APC AP9606 Yes apc_masterswitch",,34,0
openstack%2Ftripleo-heat-templates~master~Id1d3e8baf56530cddfe0644ac9345ee2b0607807,openstack/tripleo-heat-templates,master,Id1d3e8baf56530cddfe0644ac9345ee2b0607807,Neutron: Rename VnicTypeBlacklist parameters,MERGED,2021-04-25 15:07:15.000000000,2021-07-07 15:18:32.000000000,2021-07-07 15:17:05.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-25 15:07:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e7ec035fc287b3407065a84bb95c3bfdc3e5f775', 'message': 'Neutron: Rename VnicTypeBlacklist parameters\n\n... to follow renaming in neutron[1] and puppet-neutron[2].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n[2] 2c5ed70823415e4cfe35ddf1555ee63df61be9b3\n\nChange-Id: Id1d3e8baf56530cddfe0644ac9345ee2b0607807\n'}, {'number': 2, 'created': '2021-06-05 01:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d142aec0bcbeccb2c1cc7b49a53fa47d8427eb0d', 'message': 'Neutron: Rename VnicTypeBlacklist parameters\n\n... to follow renaming in neutron[1] and puppet-neutron[2].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n[2] 2c5ed70823415e4cfe35ddf1555ee63df61be9b3\n\nChange-Id: Id1d3e8baf56530cddfe0644ac9345ee2b0607807\n'}, {'number': 3, 'created': '2021-06-05 01:57:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4a8d0d9bce7906d89448513ad1451a8bb1137a5f', 'message': 'Neutron: Rename VnicTypeBlacklist parameters\n\n... to follow renaming in neutron[1] and puppet-neutron[2].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n[2] 2c5ed70823415e4cfe35ddf1555ee63df61be9b3\n\nChange-Id: Id1d3e8baf56530cddfe0644ac9345ee2b0607807\n'}, {'number': 4, 'created': '2021-07-03 07:20:11.000000000', 'files': ['releasenotes/notes/neutron-vnic_type_prohibitlist-21e23e511ca0e922.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a2619ba57299eb8c19c7a7e047398c4f7f869d82', 'message': 'Neutron: Rename VnicTypeBlacklist parameters\n\n... to follow renaming in neutron[1] and puppet-neutron[2].\n\n[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950\n[2] 2c5ed70823415e4cfe35ddf1555ee63df61be9b3\n\nChange-Id: Id1d3e8baf56530cddfe0644ac9345ee2b0607807\n'}]",1,787889,a2619ba57299eb8c19c7a7e047398c4f7f869d82,24,7,4,9816,,,0,"Neutron: Rename VnicTypeBlacklist parameters

... to follow renaming in neutron[1] and puppet-neutron[2].

[1] 055036ba2bc1fd1cfc54ef63dc6cb82037111950
[2] 2c5ed70823415e4cfe35ddf1555ee63df61be9b3

Change-Id: Id1d3e8baf56530cddfe0644ac9345ee2b0607807
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/787889/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/neutron-vnic_type_prohibitlist-21e23e511ca0e922.yaml', 'deployment/neutron/neutron-plugin-ml2.yaml']",2,e7ec035fc287b3407065a84bb95c3bfdc3e5f775,neutron-prohibitlist, NeutronOvsVnicTypeProhibitlist: default: [] NeutronSriovVnicTypeProhibitlist: default: [] NeutronOvsVnicTypeBlacklist: description: | Comma-separated list of VNIC types for which support in Neutron is administratively prohibited by the OVS mechanism driver. type: comma_delimited_list default: [] NeutronSriovVnicTypeBlacklist: description: > Comma-separated list of VNIC types for which support in Neutron is administratively prohibited by the SR-IOV mechanism driver. type: comma_delimited_list default: [] - NeutronOvsVnicTypeBlacklist - NeutronSriovVnicTypeBlacklist neutron::plugins::ml2::ovs_driver::vnic_type_prohibitlist: list_concat: - {get_param: NeutronOvsVnicTypeBlacklist} - {get_param: NeutronOvsVnicTypeProhibitlist} neutron::plugins::ml2::sriov_driver::vnic_type_prohibitlist: list_concat: - {get_param: NeutronSriovVnicTypeBlacklist} - {get_param: NeutronSriovVnicTypeProhibitlist}," NeutronOvsVnicTypeBlacklist: default: """" NeutronSriovVnicTypeBlacklist: default: """" neutron::plugins::ml2::ovs_driver::vnic_type_blacklist: {get_param: NeutronOvsVnicTypeBlacklist} neutron::plugins::ml2::sriov_driver::vnic_type_blacklist: {get_param: NeutronSriovVnicTypeBlacklist}",31,6
openstack%2Fneutron~master~I33ecd6f32410f9b7ab1e87a6640201ea157bc383,openstack/neutron,master,I33ecd6f32410f9b7ab1e87a6640201ea157bc383,Use os-resource-classes lib for resource classes names,MERGED,2021-07-06 14:08:28.000000000,2021-07-07 15:14:09.000000000,2021-07-07 15:11:57.000000000,"[{'_account_id': 8313}, {'_account_id': 9708}, {'_account_id': 11975}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 14:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/09b6e01794266ca3e0a9ec374b7297b33bb43285', 'message': 'Use os-resource-classes lib for resource classes names\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. However, they are already marked as deprecated and\nare going to be removed with next major release.\n\nRelated-Bug: #1934256\nChange-Id: I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n'}, {'number': 2, 'created': '2021-07-06 14:11:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7c583e0a342a50bd1941a1575282691408a970e7', 'message': 'Use os-resource-classes lib for resource classes names\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. However, they are already marked as deprecated and\nare going to be removed with next major release.\n\nRelated-Bug: #1934256\nChange-Id: I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n'}, {'number': 3, 'created': '2021-07-06 14:51:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c08388cc5427eebbdebfcc512b421837d2489972', 'message': 'Use os-resource-classes lib for resource classes names\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. However, they are already marked as deprecated and\nare going to be removed with next major release.\n\nRelated-Bug: #1934256\nChange-Id: I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n'}, {'number': 4, 'created': '2021-07-07 07:35:38.000000000', 'files': ['neutron/agent/common/placement_report.py', 'neutron/services/qos/qos_plugin.py', 'requirements.txt', 'lower-constraints.txt', 'neutron/tests/unit/services/qos/test_qos_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/26b06d246a345029ca9eb2137c1be14338f0dcae', 'message': 'Use os-resource-classes lib for resource classes names\n\nThe os-resource-classes lib is the official source of the standard\nplacement resource classes. Currently, the neutron-lib contains a copy\nof those constants. However, they are already marked as deprecated and\nare going to be removed with next major release.\n\nRelated-Bug: #1934256\nChange-Id: I33ecd6f32410f9b7ab1e87a6640201ea157bc383\n'}]",3,799676,26b06d246a345029ca9eb2137c1be14338f0dcae,25,6,4,33652,,,0,"Use os-resource-classes lib for resource classes names

The os-resource-classes lib is the official source of the standard
placement resource classes. Currently, the neutron-lib contains a copy
of those constants. However, they are already marked as deprecated and
are going to be removed with next major release.

Related-Bug: #1934256
Change-Id: I33ecd6f32410f9b7ab1e87a6640201ea157bc383
",git fetch https://review.opendev.org/openstack/neutron refs/changes/76/799676/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/common/placement_report.py', 'neutron/services/qos/qos_plugin.py', 'requirements.txt', 'lower-constraints.txt', 'neutron/tests/unit/services/qos/test_qos_plugin.py']",5,09b6e01794266ca3e0a9ec374b7297b33bb43285,,"import os_resource_classes as orc {orc.NET_BW_EGR_KILOBIT_PER_SEC: 10}, orc.NET_BW_EGR_KILOBIT_PER_SEC: 10, orc.NET_BW_IGR_KILOBIT_PER_SEC: 20 {orc.NET_BW_EGR_KILOBIT_PER_SEC: 10},","from neutron_lib.placement import constants as pl_constants {pl_constants.CLASS_NET_BW_EGRESS_KBPS: 10}, pl_constants.CLASS_NET_BW_EGRESS_KBPS: 10, pl_constants.CLASS_NET_BW_INGRESS_KBPS: 20 {pl_constants.CLASS_NET_BW_EGRESS_KBPS: 10},",15,13
openstack%2Fpython-openstackclient~master~I9386d1350099b10659c6b0e632e4d83cae5b2bfd,openstack/python-openstackclient,master,I9386d1350099b10659c6b0e632e4d83cae5b2bfd,cinder: Remove redundant command,MERGED,2021-06-22 17:27:15.000000000,2021-07-07 15:13:47.000000000,2021-07-07 15:12:12.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2021-06-22 17:27:15.000000000', 'files': ['releasenotes/notes/add-volume-group-commands-b121d6ec7da9779a.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/af406f33e38a8e9a5fb3c58e34f0d55c1d4d1d74', 'message': ""cinder: Remove redundant command\n\nThere is no 'volume group unset' command nor any need for one right now.\nThis was mistakenly added in I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835.\n\nChange-Id: I9386d1350099b10659c6b0e632e4d83cae5b2bfd\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,797520,af406f33e38a8e9a5fb3c58e34f0d55c1d4d1d74,8,3,1,15334,,,0,"cinder: Remove redundant command

There is no 'volume group unset' command nor any need for one right now.
This was mistakenly added in I3b2c0cb92b8a53cc1c0cefa3313b80f59c9e5835.

Change-Id: I9386d1350099b10659c6b0e632e4d83cae5b2bfd
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/20/797520/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-volume-group-commands-b121d6ec7da9779a.yaml', 'setup.cfg']",2,af406f33e38a8e9a5fb3c58e34f0d55c1d4d1d74,trivial,, volume_group_unset = openstackclient.volume.v3.volume_group:UnsetVolumeGroup,1,2
openstack%2Freleases~master~I9610a7088fe801735f1f3c8d9ffab24d6d9b43fc,openstack/releases,master,I9610a7088fe801735f1f3c8d9ffab24d6d9b43fc,Release OpenStack-Ansible Victoria,MERGED,2021-07-07 10:02:28.000000000,2021-07-07 15:12:28.000000000,2021-07-07 15:12:28.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-07 10:02:28.000000000', 'files': ['deliverables/victoria/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/726cfd89d0d942a16b7c26589d556f766e2e4957', 'message': 'Release OpenStack-Ansible Victoria\n\nChange-Id: I9610a7088fe801735f1f3c8d9ffab24d6d9b43fc\n'}]",0,799780,726cfd89d0d942a16b7c26589d556f766e2e4957,9,3,1,28619,,,0,"Release OpenStack-Ansible Victoria

Change-Id: I9610a7088fe801735f1f3c8d9ffab24d6d9b43fc
",git fetch https://review.opendev.org/openstack/releases refs/changes/80/799780/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/victoria/openstack-ansible.yaml'],1,726cfd89d0d942a16b7c26589d556f766e2e4957,release_osa, - version: 22.2.0 projects: - repo: openstack/openstack-ansible hash: fe0ad34919db094940fffbe6df97b9e16bfb773a,,4,0
openstack%2Fansible-collections-openstack~master~I15647e22725d7c95155c2dbe40e6e7b5428d806c,openstack/ansible-collections-openstack,master,I15647e22725d7c95155c2dbe40e6e7b5428d806c,Add federation service provider module,NEW,2021-07-02 19:09:02.000000000,2021-07-07 15:11:16.000000000,,"[{'_account_id': 10969}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-02 19:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/f9fff292add347456f8d2a6818e4040186a522fb', 'message': 'Add federation service provider module\n\nChange-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c\n'}, {'number': 2, 'created': '2021-07-02 19:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/7e88f46ce9fa0567cd039bc5a9810a1fcc73a6a4', 'message': 'Add federation service provider module\nDepends-On: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c\nChange-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c\n'}, {'number': 3, 'created': '2021-07-02 19:11:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/db62ba7599adfc63950916e5b76efda156800ae0', 'message': 'Add federation service provider module\n\nDepends-On: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c\nChange-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c\n'}, {'number': 4, 'created': '2021-07-05 15:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/19c11ec2d2945c45c58515ab948345c0c1e4c99b', 'message': 'Add federation service provider module\n\nDepends-On: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c\nChange-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c\n'}, {'number': 5, 'created': '2021-07-05 15:24:11.000000000', 'files': ['plugins/modules/keystone_federation_service_provider.py', 'ci/roles/keystone_federation_service_provider/defaults/main.yml', 'ci/roles/keystone_federation_service_provider/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/keystone_federation_service_provider_info.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/2952b043b1797d0fef58281afbd5f9f18a18f12a', 'message': 'Add federation service provider module\n\nDepends-On: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c\nChange-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c\n'}]",3,799321,2952b043b1797d0fef58281afbd5f9f18a18f12a,9,2,5,29865,,,0,"Add federation service provider module

Depends-On: I0c4c1ee77b0bbccd18af5b9b84a585a79f1a500c
Change-Id: I15647e22725d7c95155c2dbe40e6e7b5428d806c
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/21/799321/1 && git format-patch -1 --stdout FETCH_HEAD,"['plugins/modules/keystone_federation_service_provider.py', 'ci/roles/keystone_federation_service_provider/defaults/main.yml', 'ci/roles/keystone_federation_service_provider/tasks/main.yml', 'ci/run-collection.yml', 'plugins/modules/keystone_federation_service_provider_info.py']",5,f9fff292add347456f8d2a6818e4040186a522fb,federation_service_provider,"#!/usr/bin/python # Copyright (c) 2021, BBC # GNU General Public License v3.0+ (see COPYING or https://www.gnu.org/licenses/gpl-3.0.txt) DOCUMENTATION = ''' --- module: keystone_federation_service_provider_info short_description: get information about the available federation service providers. author: Georgina Shippey description: - Fetch a federation service provider. options: name: description: - The name of the service provider to fetch. - If I(name) is specified, the module will return failed if the service provider doesn't exist. type: str aliases: ['id'] requirements: - ""python >= 3.6"" - ""openstacksdk >= 0.58"" # Waiting on openstacksdk code to merge and release extends_documentation_fragment: - openstack.cloud.openstack ''' EXAMPLES = ''' - name: Fetch a specific service provider openstack.cloud.keystone_federation_service_provider_info: cloud: example_cloud name: example_service_provider - name: Fetch all service providers openstack.cloud.keystone_federation_service_provider_info: cloud: example_cloud ''' RETURN = ''' ''' from ansible_collections.openstack.cloud.plugins.module_utils.openstack import OpenStackModule class KeystoneFederationServiceProviderInfoModule(OpenStackModule): argument_spec = dict( name=dict(aliases=['id']), ) module_kwargs = dict( supports_check_mode=True ) def normalize_service_provider(self, service_provider): """""" Normalizes the service provider definitions so that the outputs are consistent with the parameters - ""enabled"" (parameter) == ""is_enabled"" (SDK) - ""name"" (parameter) == ""id"" (SDK) """""" if service_provider is None: return None _service_provider = service_provider.to_dict() _service_provider['enabled'] = service_provider['is_enabled'] _service_provider['name'] = service_provider['id'] return _service_provider def run(self): """""" Module entry point """""" name = self.params.get('name') if name: service_provider = self.normalize_service_provider(self.conn.identity.get_service_provider(name)) self.exit_json(changed=False, service_providers=[service_provider]) else: service_providers = list(map(self.normalize_service_provider, self.conn.identity.service_providers())) self.exit_json(changed=False, service_providers=service_providers) def main(): module = KeystoneFederationServiceProviderInfoModule() module() if __name__ == '__main__': main() ",,1009,0
openstack%2Freleases~master~I11c2d59ecdfa65cc50514c3359c303cf0ecfbeec,openstack/releases,master,I11c2d59ecdfa65cc50514c3359c303cf0ecfbeec,Create puppet-tripleo release for wallaby,MERGED,2021-07-06 16:15:43.000000000,2021-07-07 15:09:35.000000000,2021-07-07 15:09:35.000000000,"[{'_account_id': 308}, {'_account_id': 8449}, {'_account_id': 16312}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-06 16:15:43.000000000', 'files': ['deliverables/wallaby/puppet-tripleo.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/94ed675eb318de1f24b2554bdc628404deba59e2', 'message': 'Create puppet-tripleo release for wallaby\n\nMetadata already bumped in [1].\n\n[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/799558/\n\nRelated-Bug: #1934722\nChange-Id: I11c2d59ecdfa65cc50514c3359c303cf0ecfbeec\n'}]",1,799689,94ed675eb318de1f24b2554bdc628404deba59e2,9,6,1,13861,,,0,"Create puppet-tripleo release for wallaby

Metadata already bumped in [1].

[1] https://review.opendev.org/c/openstack/puppet-tripleo/+/799558/

Related-Bug: #1934722
Change-Id: I11c2d59ecdfa65cc50514c3359c303cf0ecfbeec
",git fetch https://review.opendev.org/openstack/releases refs/changes/89/799689/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/puppet-tripleo.yaml'],1,94ed675eb318de1f24b2554bdc628404deba59e2,, - version: 14.2.0 projects: - repo: openstack/puppet-tripleo hash: 9afc84aea1efc6fe95a470b9a8a537e4b09693b4,,4,0
openstack%2Fironic-lib~master~I4c9bdbccb9345e2259ddb0737f37c09d99dd1c4f,openstack/ironic-lib,master,I4c9bdbccb9345e2259ddb0737f37c09d99dd1c4f,Use the json format output of qemu-img info,MERGED,2021-07-06 12:58:02.000000000,2021-07-07 15:05:48.000000000,2021-07-07 15:04:25.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 12:58:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/a07f89eadf462874f7bba58dab62139a13427860', 'message': 'Use the json format output of qemu-img info\n\nSupport for the human format by oslo_utils.imageutils.QemuImgInfo was\ndeprecated since oslo.utils 4.9.1 [1]. This change replaces the human\nformat with the json format which will be used by default.\n\n[1] 73eb0673f627aad382e08a816191b637af436465\n\nChange-Id: I4c9bdbccb9345e2259ddb0737f37c09d99dd1c4f\n'}, {'number': 2, 'created': '2021-07-06 15:41:10.000000000', 'files': ['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-lib/commit/d33cf3e0332da7be400fc769eb6f51b6d4e84575', 'message': 'Use the json format output of qemu-img info\n\nSupport for the human format by oslo_utils.imageutils.QemuImgInfo was\ndeprecated since oslo.utils 4.9.1 [1]. This change replaces the human\nformat with the json format which will be used by default.\n\n[1] 73eb0673f627aad382e08a816191b637af436465\n\nChange-Id: I4c9bdbccb9345e2259ddb0737f37c09d99dd1c4f\n'}]",1,799664,d33cf3e0332da7be400fc769eb6f51b6d4e84575,13,3,2,9816,,,0,"Use the json format output of qemu-img info

Support for the human format by oslo_utils.imageutils.QemuImgInfo was
deprecated since oslo.utils 4.9.1 [1]. This change replaces the human
format with the json format which will be used by default.

[1] 73eb0673f627aad382e08a816191b637af436465

Change-Id: I4c9bdbccb9345e2259ddb0737f37c09d99dd1c4f
",git fetch https://review.opendev.org/openstack/ironic-lib refs/changes/64/799664/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_lib/tests/test_disk_utils.py', 'ironic_lib/disk_utils.py']",2,a07f89eadf462874f7bba58dab62139a13427860,qemu-img-info-json," '--format=json', return imageutils.QemuImgInfo(out, format='json')", return imageutils.QemuImgInfo(out),4,2
openstack%2Freleases~master~Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66,openstack/releases,master,Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66,[Puppet OpenStack] Transition Train to EM,MERGED,2021-05-11 15:19:56.000000000,2021-07-07 15:04:54.000000000,2021-07-07 15:04:54.000000000,"[{'_account_id': 9414}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-05-11 15:19:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/c2509d9cb8066267896b8a20bb3aba2fafd58222', 'message': '[Puppet OpenStack] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66\n'}, {'number': 2, 'created': '2021-05-11 15:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/fa6521b696ff6147a035b6aec39af3727cd824c1', 'message': '[Puppet OpenStack] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66\n'}, {'number': 3, 'created': '2021-06-17 18:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/812112202d199d8436dffc79dc0cacfa3dec4775', 'message': '[Puppet OpenStack] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66\n'}, {'number': 4, 'created': '2021-06-18 00:01:01.000000000', 'files': ['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-monasca.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-qdr.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/9ad46a4e2ed40c1b726405abdf3c2c97683e1296', 'message': '[Puppet OpenStack] Transition Train to EM\n\nThis transition the train branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nChange-Id: Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66\n'}]",2,790767,9ad46a4e2ed40c1b726405abdf3c2c97683e1296,31,6,4,17685,,,0,"[Puppet OpenStack] Transition Train to EM

This transition the train branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

Change-Id: Ib0ea7e3976c48fc5d5334b3b0a7b37a3dae23d66
",git fetch https://review.opendev.org/openstack/releases refs/changes/67/790767/2 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/train/puppet-keystone.yaml', 'deliverables/train/puppet-monasca.yaml', 'deliverables/train/puppet-senlin.yaml', 'deliverables/train/puppet-placement.yaml', 'deliverables/train/puppet-nova.yaml', 'deliverables/train/puppet-ceilometer.yaml', 'deliverables/train/puppet-freezer.yaml', 'deliverables/train/puppet-barbican.yaml', 'deliverables/train/puppet-trove.yaml', 'deliverables/train/puppet-tempest.yaml', 'deliverables/train/puppet-qdr.yaml', 'deliverables/train/puppet-aodh.yaml', 'deliverables/train/puppet-neutron.yaml', 'deliverables/train/puppet-panko.yaml', 'deliverables/train/puppet-watcher.yaml', 'deliverables/train/puppet-murano.yaml', 'deliverables/train/puppet-ec2api.yaml', 'deliverables/train/puppet-openstack_spec_helper.yaml', 'deliverables/train/puppet-openstack_extras.yaml', 'deliverables/train/puppet-octavia.yaml', 'deliverables/train/puppet-cinder.yaml', 'deliverables/train/puppet-ironic.yaml', 'deliverables/train/puppet-rally.yaml', 'deliverables/train/puppet-magnum.yaml', 'deliverables/train/puppet-cloudkitty.yaml', 'deliverables/train/puppet-gnocchi.yaml', 'deliverables/train/puppet-vswitch.yaml', 'deliverables/train/puppet-tacker.yaml', 'deliverables/train/puppet-openstacklib.yaml', 'deliverables/train/puppet-sahara.yaml', 'deliverables/train/puppet-vitrage.yaml', 'deliverables/train/puppet-manila.yaml', 'deliverables/train/puppet-oslo.yaml', 'deliverables/train/puppet-zaqar.yaml', 'deliverables/train/puppet-horizon.yaml', 'deliverables/train/puppet-glance.yaml', 'deliverables/train/puppet-heat.yaml', 'deliverables/train/puppet-openstack-integration.yaml', 'deliverables/train/puppet-designate.yaml', 'deliverables/train/puppet-swift.yaml', 'deliverables/train/puppet-glare.yaml', 'deliverables/train/puppet-mistral.yaml', 'deliverables/train/puppet-congress.yaml', 'deliverables/train/puppet-ovn.yaml']",44,c2509d9cb8066267896b8a20bb3aba2fafd58222,train-em, - version: train-em projects: - repo: openstack/puppet-ovn hash: dae1449f477b65f30e1786a74438e17b8c7b4b8d,,179,1
openstack%2Freleases~master~I8550787cdd313bdcedeb3440039b369c68aeba1b,openstack/releases,master,I8550787cdd313bdcedeb3440039b369c68aeba1b,Create ocata-eol tag for Neutron stadium projects,MERGED,2021-07-05 13:26:05.000000000,2021-07-07 14:54:09.000000000,2021-07-07 14:54:09.000000000,"[{'_account_id': 841}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 17685}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2021-07-05 13:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/99cf75ec12dc17cc852df41f4bc5128282040293', 'message': 'Create ocata-eol tag for Neutron stadium projects\n\nThe stable/ocata branch of Neutron stadium projects were EOLed (see [1])\nThis patch adds ocata-eol tag for these projects, so Ocata branch can be\nretired.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html\n\nChange-Id: I8550787cdd313bdcedeb3440039b369c68aeba1b\n'}, {'number': 2, 'created': '2021-07-05 13:29:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/9952a8f081b5bad44a8ee33e6fb5d196c5c5a49f', 'message': 'Create ocata-eol tag for Neutron stadium projects\n\nThe stable/ocata branch of Neutron stadium projects were EOLed (see [1])\nThis patch adds ocata-eol tag for these projects, so Ocata branch can be\nretired.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html\n\nChange-Id: I8550787cdd313bdcedeb3440039b369c68aeba1b\n'}, {'number': 3, 'created': '2021-07-06 08:31:11.000000000', 'files': ['deliverables/ocata/networking-bagpipe.yaml', 'deliverables/ocata/networking-sfc.yaml', 'deliverables/ocata/networking-midonet.yaml', 'deliverables/ocata/neutron-vpnaas.yaml', 'deliverables/ocata/networking-bgpvpn.yaml', 'deliverables/ocata/networking-odl.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/7eff128679485ef4bb30d9f903decfdddcfdb760', 'message': 'Create ocata-eol tag for Neutron stadium projects\n\nThe stable/ocata branch of Neutron stadium projects were EOLed (see [1])\nThis patch adds ocata-eol tag for these projects, so Ocata branch can be\nretired.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html\n\nChange-Id: I8550787cdd313bdcedeb3440039b369c68aeba1b\n'}]",3,799473,7eff128679485ef4bb30d9f903decfdddcfdb760,22,7,3,8313,,,0,"Create ocata-eol tag for Neutron stadium projects

The stable/ocata branch of Neutron stadium projects were EOLed (see [1])
This patch adds ocata-eol tag for these projects, so Ocata branch can be
retired.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2021-May/022269.html

Change-Id: I8550787cdd313bdcedeb3440039b369c68aeba1b
",git fetch https://review.opendev.org/openstack/releases refs/changes/73/799473/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/ocata/networking-bagpipe.yaml', 'deliverables/ocata/networking-sfc.yaml', 'deliverables/ocata/networking-bgpvpn.yaml', 'deliverables/ocata/networking-odl.yaml']",4,99cf75ec12dc17cc852df41f4bc5128282040293,odl-stale-eol,--- launchpad: networking-odl release-model: untagged stable-branch-type: tagless releases: - projects: - hash: 9495f09c1f52790b9efc88c7cda1d073d8dfb832 repo: openstack/networking-odl version: ocata-eol team: neutron type: other repository-settings: openstack/networking-odl: {} ,,56,0
openstack%2Fglance~master~Ifbd6a93cce21ea18d85039b9a8b1508de61deeda,openstack/glance,master,Ifbd6a93cce21ea18d85039b9a8b1508de61deeda,glance-manage support to obfuscate deleted images,ABANDONED,2019-07-19 11:23:19.000000000,2021-07-07 14:42:56.000000000,,"[{'_account_id': 2033}, {'_account_id': 5314}, {'_account_id': 9008}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-19 11:23:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/e04227fd429263b23ceb4951aef13a8f1f7a32a8', 'message': ""glance-manage support to obfuscate deleted images\n\nIntroduces a glance-manage command to obfuscate deleted images from\nimages table that can't be purged because OSSN-0075.\n\nThe image id is preserved however all the other fields related to\nthe image are obfuscated. All the dates are set to glance initial\ncommit (values required) and all the other fields are set to NULL\nexcept protected, visibility and os_hidden.\n\nProtected and os_hidden are set to true and visibility to private.\n\nChange-Id: Ifbd6a93cce21ea18d85039b9a8b1508de61deeda\nCloses-Bug: #1837200\n""}, {'number': 2, 'created': '2019-07-19 13:58:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/0a3f7b676c4f47e4bce63ce8ddb35674de47bed7', 'message': ""glance-manage support to obfuscate deleted images\n\nIntroduces a glance-manage command to obfuscate deleted images from\nimages table that can't be purged because OSSN-0075.\n\nThe image id is preserved however all the other fields related to\nthe image are obfuscated. All the dates are set to glance initial\ncommit (values required) and all the other fields are set to NULL\nexcept protected, visibility and os_hidden.\n\nProtected and os_hidden are set to true and visibility to private.\n\nChange-Id: Ifbd6a93cce21ea18d85039b9a8b1508de61deeda\nCloses-Bug: #1837200\n""}, {'number': 3, 'created': '2019-07-23 13:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/eb79c356aac364454381f1c2e8f9b0ad9cec7733', 'message': ""glance-manage support to obfuscate deleted images\n\nIntroduces a glance-manage command to obfuscate deleted images from\nimages table that can't be purged because OSSN-0075.\n\nThe image id is preserved however all the other fields related to\nthe image are obfuscated. All the dates are set to glance initial\ncommit (values required) and all the other fields are set to NULL\nexcept protected, visibility and os_hidden.\n\nProtected and os_hidden are set to true and visibility to private.\n\nChange-Id: Ifbd6a93cce21ea18d85039b9a8b1508de61deeda\nCloses-Bug: #1837200\n""}, {'number': 4, 'created': '2019-08-28 22:07:12.000000000', 'files': ['glance/tests/unit/test_glance_manage.py', 'releasenotes/notes/1837200-ad7ed8c6c30e905f.yaml', 'glance/cmd/manage.py', 'glance/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/440d60400d8becb31d3f09032343e5c030a734fb', 'message': ""glance-manage support to obfuscate deleted images\n\nIntroduces a glance-manage command to obfuscate deleted images from\nimages table that can't be purged because OSSN-0075.\n\nThe image id is preserved however all the other fields related to\nthe image are obfuscated. All the dates are set to glance initial\ncommit (values required) and all the other fields are set to NULL\nexcept protected, visibility and os_hidden.\n\nProtected and os_hidden are set to true and visibility to private.\n\nChange-Id: Ifbd6a93cce21ea18d85039b9a8b1508de61deeda\nCloses-Bug: #1837200\n""}]",10,671707,440d60400d8becb31d3f09032343e5c030a734fb,19,4,4,2033,,,0,"glance-manage support to obfuscate deleted images

Introduces a glance-manage command to obfuscate deleted images from
images table that can't be purged because OSSN-0075.

The image id is preserved however all the other fields related to
the image are obfuscated. All the dates are set to glance initial
commit (values required) and all the other fields are set to NULL
except protected, visibility and os_hidden.

Protected and os_hidden are set to true and visibility to private.

Change-Id: Ifbd6a93cce21ea18d85039b9a8b1508de61deeda
Closes-Bug: #1837200
",git fetch https://review.opendev.org/openstack/glance refs/changes/07/671707/3 && git format-patch -1 --stdout FETCH_HEAD,"['glance/tests/unit/test_glance_manage.py', 'glance/cmd/manage.py', 'glance/db/sqlalchemy/api.py']",3,e04227fd429263b23ceb4951aef13a8f1f7a32a8,1837200,"def obfuscate_deleted_images(context, age_in_days, max_rows, session=None): """"""Obfuscate soft deleted image rows Obfuscates deleted rows of images table according to a given age. Related to OSSN-0075. """""" # check max_rows for its maximum limit _validate_db_int(max_rows=max_rows) session = session or get_session() metadata = MetaData(get_engine()) deleted_age = timeutils.utcnow() - datetime.timedelta(days=age_in_days) tab = Table('images', metadata, autoload=True) LOG.info( _LI('Obfuscating deleted rows older than %(age_in_days)d day(s) ' 'from table images'), {'age_in_days': age_in_days}) column = tab.c.id deleted_at_column = tab.c.deleted_at obfuscate_deleted = sql.select( [column], deleted_at_column < deleted_age).order_by( deleted_at_column).limit(max_rows) obfuscated_values = {'name': None, 'size': None, 'created_at': '2010-08-06 00:00:00', 'updated_at': '2010-08-06 00:00:00', 'deleted_at': '2010-08-06 00:00:00', 'disk_format': None, 'container_format': None, 'checksum': None, 'owner': None, 'min_disk': 0, 'min_ram': 0, 'protected': 1, 'virtual_size': None, 'visibility': 'private', 'os_hidden': 1, 'os_hash_algo': None, 'os_hash_value': None} try: with session.begin(): result = session.execute(obfuscate_deleted) for (image_id,) in result: LOG.info(""Obfuscating deleted image: %s"" % image_id) query = session.query(models.Image).filter_by(id=image_id) updated = query.update(obfuscated_values, synchronize_session='fetch') except db_exception.DBReferenceError as ex: with excutils.save_and_reraise_exception(): LOG.error(_LE('DBError detected when obfuscating deleted images ' "": %(error)s""), {'error': six.text_type(ex)}) ",,143,0
openstack%2Fheat~master~I0dab229a1731c8f61a389a70a2378e5627ba3766,openstack/heat,master,I0dab229a1731c8f61a389a70a2378e5627ba3766,Add project ID as a property to the ProviderNet resource,ABANDONED,2019-11-08 23:01:43.000000000,2021-07-07 14:40:37.000000000,,"[{'_account_id': 12404}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2019-11-08 23:01:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/089a050b3bf67c78b78e45f6ae46941b66e56cea', 'message': '[WIP] Add project ID as a property to the ProviderNet resource\n\nThis patch will add the project ID to the existing neutron ProviderNet\nresource. This new property will add new value by allowing a tenant to\nassociate a project ID with the provider network.\n\nChange-Id: I0dab229a1731c8f61a389a70a2378e5627ba3766\n'}, {'number': 2, 'created': '2019-11-12 18:31:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/1e2cdd0dc9ef9e6130e99391221b6ef4dda989a2', 'message': '[WIP] Add project ID as a property to the ProviderNet resource\n\nThis patch will add the project ID to the existing neutron ProviderNet\nresource. This new property will add new value by allowing a tenant to\nassociate a project ID with the provider network.\n\nChange-Id: I0dab229a1731c8f61a389a70a2378e5627ba3766\n'}, {'number': 3, 'created': '2019-11-12 18:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/83acda5e83170da3d1d6982a1dcda1615c104c9e', 'message': '[WIP] Add project ID as a property to the ProviderNet resource\n\nThis patch will add the project ID to the existing neutron ProviderNet\nresource. This new property will add new value by allowing a tenant to\nassociate a project ID with the provider network.\n\nChange-Id: I0dab229a1731c8f61a389a70a2378e5627ba3766\n'}, {'number': 4, 'created': '2019-11-12 21:22:03.000000000', 'files': ['heat/tests/openstack/neutron/test_neutron_provider_net.py', 'heat/engine/resources/openstack/neutron/provider_net.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/009846985c17b8004c7686d8eb40c958612f298d', 'message': 'Add project ID as a property to the ProviderNet resource\n\nThis patch will add the project ID to the existing neutron ProviderNet\nresource. This new property will add new value by allowing a tenant to\nassociate a project ID with the provider network.\n\nChange-Id: I0dab229a1731c8f61a389a70a2378e5627ba3766\n'}]",2,693599,009846985c17b8004c7686d8eb40c958612f298d,10,3,4,22636,,,0,"Add project ID as a property to the ProviderNet resource

This patch will add the project ID to the existing neutron ProviderNet
resource. This new property will add new value by allowing a tenant to
associate a project ID with the provider network.

Change-Id: I0dab229a1731c8f61a389a70a2378e5627ba3766
",git fetch https://review.opendev.org/openstack/heat refs/changes/99/693599/4 && git format-patch -1 --stdout FETCH_HEAD,"['heat/tests/openstack/neutron/test_neutron_provider_net.py', 'heat/engine/resources/openstack/neutron/provider_net.py']",2,089a050b3bf67c78b78e45f6ae46941b66e56cea,," PORT_SECURITY_ENABLED, ROUTER_EXTERNAL, TAGS, PROJECT_ID, 'project_id', PROJECT_ID: properties.Schema( properties.Schema.STRING, _('Project owning the network.'), update_allowed=False, required=False ),"," PORT_SECURITY_ENABLED, ROUTER_EXTERNAL, TAGS,",10,2
openstack%2Fcharm-cinder-purestorage~master~I4dd89baa875a53e04cfc3a38d34b44cda07eda9d,openstack/charm-cinder-purestorage,master,I4dd89baa875a53e04cfc3a38d34b44cda07eda9d,Moving IRC network reference to OFTC,MERGED,2021-07-07 10:12:42.000000000,2021-07-07 14:06:37.000000000,2021-07-07 14:06:37.000000000,"[{'_account_id': 935}, {'_account_id': 8992}, {'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-07 10:12:42.000000000', 'files': ['README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-purestorage/commit/8c3c10a5c1031d2c720c64099899158357286696', 'message': 'Moving IRC network reference to OFTC\n\nChange-Id: I4dd89baa875a53e04cfc3a38d34b44cda07eda9d\n'}]",0,799783,8c3c10a5c1031d2c720c64099899158357286696,7,6,1,30615,,,0,"Moving IRC network reference to OFTC

Change-Id: I4dd89baa875a53e04cfc3a38d34b44cda07eda9d
",git fetch https://review.opendev.org/openstack/charm-cinder-purestorage refs/changes/83/799783/1 && git format-patch -1 --stdout FETCH_HEAD,['README.md'],1,8c3c10a5c1031d2c720c64099899158357286696,,OFTC IRC: #openstack-charms,Freenode IRC: #openstack-charms,1,1
openstack%2Ftripleo-heat-templates~master~Ia1b4fda4a15e6f3a2fc75661420a561078b18a59,openstack/tripleo-heat-templates,master,Ia1b4fda4a15e6f3a2fc75661420a561078b18a59,Migrate introspection data for undercloud upgrade,MERGED,2021-04-20 04:53:47.000000000,2021-07-07 13:52:44.000000000,2021-04-21 01:07:16.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-04-20 04:53:47.000000000', 'files': ['deployment/undercloud/undercloud-upgrade.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a1e464a3d44275c256f7e41a4a6e19ca88989826', 'message': ""Migrate introspection data for undercloud upgrade\n\nAs we've disabled swift on the undercloud, migrate\nintrospection data from swift to database when doing\nundercloud upgrade.\n\nChange-Id: Ia1b4fda4a15e6f3a2fc75661420a561078b18a59\n""}]",1,787067,a1e464a3d44275c256f7e41a4a6e19ca88989826,9,6,1,8833,,,0,"Migrate introspection data for undercloud upgrade

As we've disabled swift on the undercloud, migrate
introspection data from swift to database when doing
undercloud upgrade.

Change-Id: Ia1b4fda4a15e6f3a2fc75661420a561078b18a59
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/787067/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/undercloud/undercloud-upgrade.yaml'],1,a1e464a3d44275c256f7e41a4a6e19ca88989826,," - name: migrate existing introspection data shell: > {{ container_cli }} exec -u root ironic_inspector ironic-inspector-migrate-data --from swift --to database --config-file /etc/ironic-inspector/inspector.conf become: true register: ironic_inspector_migrate_data_result when: - step|int == 3 failed_when: - ironic_inspector_migrate_data_result.rc is defined # do not fail in dry run mode - ironic_inspector_migrate_data_result.rc not in [0, 125] # ignore if container not running",,11,0
openstack%2Fopenstack-tempest-skiplist~master~I077a6111acbd84949e61c9facf0a61dd621cc12e,openstack/openstack-tempest-skiplist,master,I077a6111acbd84949e61c9facf0a61dd621cc12e,Add compute component test to BZ1976239 skips,MERGED,2021-07-06 13:14:09.000000000,2021-07-07 13:45:07.000000000,2021-07-07 13:43:42.000000000,"[{'_account_id': 8367}, {'_account_id': 9592}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-07-06 13:14:09.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/df3dae525885f5d7843cfef5baceee0767f1849b', 'message': 'Add compute component test to BZ1976239 skips\n\nThe tempest.api.compute.volumes.\ntest_attach_volume_negative.AttachVolumeNegativeTest\nis hitting the compuet rhos-17 component line now.\nAdding the tempest-api test to the skip list.\n\nChange-Id: I077a6111acbd84949e61c9facf0a61dd621cc12e\nRelated-Bug: BZ1976239\n'}]",0,799667,df3dae525885f5d7843cfef5baceee0767f1849b,8,5,1,9976,,,0,"Add compute component test to BZ1976239 skips

The tempest.api.compute.volumes.
test_attach_volume_negative.AttachVolumeNegativeTest
is hitting the compuet rhos-17 component line now.
Adding the tempest-api test to the skip list.

Change-Id: I077a6111acbd84949e61c9facf0a61dd621cc12e
Related-Bug: BZ1976239
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/67/799667/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,df3dae525885f5d7843cfef5baceee0767f1849b,compute-bz-1976239, - periodic-tripleo-ci-rhel-8-standalone-full-tempest-api-compute-rhos-17,,1,0
openstack%2Ftripleo-ansible~stable%2Fvictoria~I49944d585825b32052278cd865a74c46dcb5eaa4,openstack/tripleo-ansible,stable/victoria,I49944d585825b32052278cd865a74c46dcb5eaa4,Move the snapshots feature to optional/beta,MERGED,2021-07-02 08:58:37.000000000,2021-07-07 13:42:02.000000000,2021-07-07 13:14:24.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-02 08:58:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/45ca26794f5489df5459451818ac7565a9bd53d2', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n'}, {'number': 2, 'created': '2021-07-02 10:24:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c1aff126a03aa3baa5d402bf5e11d4c65eb70657', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nDue to some other changes that arrived to the branch after this one,\nthis was not a clean commit and some manual conflict resolution was\nneeded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n'}, {'number': 3, 'created': '2021-07-02 10:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dcca96d773fac6e59bf1df286fb7bfcd81ebfc94', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nDue to some other changes that arrived to the branch after this one,\nthis was not a clean commit and some manual conflict resolution was\nneeded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n'}, {'number': 4, 'created': '2021-07-05 08:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d7299620c3bc4547f52e50f9177f77e5a1c4a90a', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nDue to some other changes that arrived to the branch after this one,\nthis was not a clean commit and some manual conflict resolution was\nneeded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n'}, {'number': 5, 'created': '2021-07-05 08:50:11.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_unstandby.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/091dd3fbb9385c65552db8f44e779544d617a18d', 'message': 'Move the snapshots feature to optional/beta\n\nPreviously a commit[1] introduced a new way of doing backup, using\n""snapshots"", that do not require to bring down the whole controller to\ntake the backup. On that commit, the old way was removed, which do not\nfollow the deprecation procedure.\n\nThis commits reintroduces the old way of performing backups via stopping\nthe controllers and move the snapshots feature to an optional,\nuser-selected feature.\n\nDue to some other changes that arrived to the branch after this one,\nthis was not a clean commit and some manual conflict resolution was\nneeded.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380\n\n(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)\nChange-Id: I49944d585825b32052278cd865a74c46dcb5eaa4\n(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)\n'}]",6,799144,091dd3fbb9385c65552db8f44e779544d617a18d,21,8,5,32968,,,0,"Move the snapshots feature to optional/beta

Previously a commit[1] introduced a new way of doing backup, using
""snapshots"", that do not require to bring down the whole controller to
take the backup. On that commit, the old way was removed, which do not
follow the deprecation procedure.

This commits reintroduces the old way of performing backups via stopping
the controllers and move the snapshots feature to an optional,
user-selected feature.

Due to some other changes that arrived to the branch after this one,
this was not a clean commit and some manual conflict resolution was
needed.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/786380

(cherry picked from commit 00a17ffb4a2262bffe750330bee333a8d3948247)
Change-Id: I49944d585825b32052278cd865a74c46dcb5eaa4
(cherry picked from commit 2b56b7f933adda7bd26c8ccf12bee179beb1dffb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/799144/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/converge.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/run_backup.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml']",6,45ca26794f5489df5459451818ac7565a9bd53d2,change-799144-4,"# If this is false, backup of the overcloud is taken by stopping it completely. Enable it to do a # backup stopping only one node at a time, maintaining the controller active during the backup duration. tripleo_backup_and_restore_enable_snapshots: true ",,54,1
openstack%2Ftripleo-validations~stable%2Ftrain~I864a4e5a32b21ddf1a786ea9b87be5d6aa9f2700,openstack/tripleo-validations,stable/train,I864a4e5a32b21ddf1a786ea9b87be5d6aa9f2700,DNM,ABANDONED,2021-06-29 07:58:23.000000000,2021-07-07 13:41:29.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-29 07:58:23.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/59d46b41bbc644a9e0cb6ff1fb413e95e8dc03c5', 'message': 'DNM\n\nDepends-On: https://review.opendev.org/c/openstack/validations-common/+/798425\nChange-Id: I864a4e5a32b21ddf1a786ea9b87be5d6aa9f2700\n'}]",0,798432,59d46b41bbc644a9e0cb6ff1fb413e95e8dc03c5,3,1,1,32926,,,0,"DNM

Depends-On: https://review.opendev.org/c/openstack/validations-common/+/798425
Change-Id: I864a4e5a32b21ddf1a786ea9b87be5d6aa9f2700
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/32/798432/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,59d46b41bbc644a9e0cb6ff1fb413e95e8dc03c5,1933515, - tripleo-ci-centos-8-content-provider, - tripleo-ci-centos-8-content-provider: dependencies: - openstack-tox-linters,1,3
openstack%2Fvalidations-common~master~I87e1139fe7dd98aa16c1c235c940bb8415a4c191,openstack/validations-common,master,I87e1139fe7dd98aa16c1c235c940bb8415a4c191,DNM,ABANDONED,2021-06-29 07:15:08.000000000,2021-07-07 13:41:19.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-06-29 07:15:08.000000000', 'files': ['roles/validations/vars/main.yaml'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/dec9939c980cb74e4739196f28ef52c54db24145', 'message': 'DNM\n\nChange-Id: I87e1139fe7dd98aa16c1c235c940bb8415a4c191\n'}]",0,798425,dec9939c980cb74e4739196f28ef52c54db24145,3,1,1,32926,,,0,"DNM

Change-Id: I87e1139fe7dd98aa16c1c235c940bb8415a4c191
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/25/798425/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validations/vars/main.yaml'],1,dec9939c980cb74e4739196f28ef52c54db24145,1933515," extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default --extra-env-vars VALIDATIONS_LOG_DIR=/var/log/validations"" extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default --extra-env-vars VALIDATIONS_LOG_DIR=/var/log/validations"""," extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default {{ extra_env_vars | default('') }}"" extra_env_args: ""--extra-env-vars ANSIBLE_STDOUT_CALLBACK=default {{ extra_env_vars | default('') }}""",2,2
openstack%2Ftripleo-heat-templates~master~I2f977f4a710a5e9f68f508d4b880c18ec61caf0c,openstack/tripleo-heat-templates,master,I2f977f4a710a5e9f68f508d4b880c18ec61caf0c,placement: Adding Debug parameter,MERGED,2021-06-08 21:21:45.000000000,2021-07-07 13:14:33.000000000,2021-07-07 13:14:33.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-08 21:21:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14c460ba72ca7691f78e2c3f8d97c948ff8010fe', 'message': 'placement: placement::logging::debug added\n\nWhen we set Debug: true, placement is the only service without\nDEFAULT/debug set to true.\n\nChange-Id: I2f977f4a710a5e9f68f508d4b880c18ec61caf0c\n'}, {'number': 2, 'created': '2021-06-09 12:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3fd4c7abdb5a7f656b6a2d71957341c841eb82a0', 'message': 'placement: Adding Debug parameter\n\nWhen we set Debug: true, placement is the only service without\nDEFAULT/debug set to true.\n\nChange-Id: I2f977f4a710a5e9f68f508d4b880c18ec61caf0c\n'}, {'number': 3, 'created': '2021-07-05 12:56:12.000000000', 'files': ['deployment/placement/placement-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/514f6df76f88a80e206d883149f26fdfadc7eb92', 'message': 'placement: Adding Debug parameter\n\nWhen we set Debug: true, placement is the only service without\nDEFAULT/debug set to true.\n\nChange-Id: I2f977f4a710a5e9f68f508d4b880c18ec61caf0c\n'}]",1,795418,514f6df76f88a80e206d883149f26fdfadc7eb92,36,8,3,27419,,,0,"placement: Adding Debug parameter

When we set Debug: true, placement is the only service without
DEFAULT/debug set to true.

Change-Id: I2f977f4a710a5e9f68f508d4b880c18ec61caf0c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/18/795418/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/placement/placement-api-container-puppet.yaml'],1,14c460ba72ca7691f78e2c3f8d97c948ff8010fe,, placement::logging::debug: {get_param: Debug},,1,0
openstack%2Fnova~master~Ibcf03ec3dfd7d5baa4aaa3ac46308a3cda95ba96,openstack/nova,master,Ibcf03ec3dfd7d5baa4aaa3ac46308a3cda95ba96,[WIP] add non-voting cyborg multinode job.,ABANDONED,2020-07-10 22:12:46.000000000,2021-07-07 13:12:03.000000000,,"[{'_account_id': 9008}, {'_account_id': 10118}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-07-10 22:12:46.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/03b41e9d5e5fe1edb9b74277daa78903f1fa11af', 'message': '[WIP] add non-voting cyborg multinode job.\n\nThis change adds the cyborg-multinode-tempest-full\njob to the check pipeline as a non voting job.\n\nnot i have not adjusted the test regex to only run\nthe test that should pass. some of the move operation\nwill fail but we can validat what should pass and fail\nby looking at the results. if we rebase this change on the\nother commits that add shevle and resize support then those\ntest shoudl start passing. eventually it would be good\nto run just the test that should pass but for now this\nis just to provide extra testing so we can use that when\nreviewing.\n\nDepends-on: https://review.opendev.org/#/c/709641\nChange-Id: Ibcf03ec3dfd7d5baa4aaa3ac46308a3cda95ba96\n'}]",2,740528,03b41e9d5e5fe1edb9b74277daa78903f1fa11af,10,7,1,11604,,,0,"[WIP] add non-voting cyborg multinode job.

This change adds the cyborg-multinode-tempest-full
job to the check pipeline as a non voting job.

not i have not adjusted the test regex to only run
the test that should pass. some of the move operation
will fail but we can validat what should pass and fail
by looking at the results. if we rebase this change on the
other commits that add shevle and resize support then those
test shoudl start passing. eventually it would be good
to run just the test that should pass but for now this
is just to provide extra testing so we can use that when
reviewing.

Depends-on: https://review.opendev.org/#/c/709641
Change-Id: Ibcf03ec3dfd7d5baa4aaa3ac46308a3cda95ba96
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/740528/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03b41e9d5e5fe1edb9b74277daa78903f1fa11af,bp/cyborg-rebuild-and-evacuate, # This runs just the test form the cyborg tempest plugin # This runs standard tempest with cyborg flavors - cyborg-multinode-tempest-full: irrelevant-files: *dsvm-irrelevant-files voting: false,,5,0
openstack%2Fnova~master~I2af59666069879732fbbb5cdd3d3fc975a74124c,openstack/nova,master,I2af59666069879732fbbb5cdd3d3fc975a74124c,Add a link to Large Scale wiki page,ABANDONED,2020-05-19 09:42:24.000000000,2021-07-07 13:11:20.000000000,,"[{'_account_id': 308}, {'_account_id': 2033}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 11604}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 29963}]","[{'number': 1, 'created': '2020-05-19 09:42:24.000000000', 'files': ['nova/conf/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/7658e28abcfed24786a171ce2fd1e1474befd5e4', 'message': 'Add a link to Large Scale wiki page\n\nI propose to add a small info and a link to the wiki page related to\nlarge scale configuration guidelines.\n\nChange-Id: I2af59666069879732fbbb5cdd3d3fc975a74124c\nSigned-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>\n'}]",0,729190,7658e28abcfed24786a171ce2fd1e1474befd5e4,15,13,1,11583,,,0,"Add a link to Large Scale wiki page

I propose to add a small info and a link to the wiki page related to
large scale configuration guidelines.

Change-Id: I2af59666069879732fbbb5cdd3d3fc975a74124c
Signed-off-by: Arnaud Morin <arnaud.morin@corp.ovh.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/90/729190/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/conf/api.py'],1,7658e28abcfed24786a171ce2fd1e1474befd5e4,, This setting may affect you if you are running a Large Scale OpenStack. See https://wiki.openstack.org/wiki/Large_Scale_Configuration_Guidelines#api.max_limit for details.,,5,0
openstack%2Fnova~master~I45bfd4e7bc292643710f3eaab78cee38d52e009c,openstack/nova,master,I45bfd4e7bc292643710f3eaab78cee38d52e009c,Change the migration warning log,ABANDONED,2019-05-09 04:13:15.000000000,2021-07-07 13:09:43.000000000,,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15751}, {'_account_id': 15888}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26458}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-09 04:13:15.000000000', 'files': ['nova/compute/resource_tracker.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/fbf3dccab92e4252f8816540c32d2b54b900a6be', 'message': 'Change the migration warning log\n\nThis log is not at the end of the live migration (not a final state), so\nrecored this with a *temporarily* process, avoid giving developers a\nmisunderstanding when locating logs.\n\nCloses-Bug: #1821536\nChange-Id: I45bfd4e7bc292643710f3eaab78cee38d52e009c\n'}]",7,657916,fbf3dccab92e4252f8816540c32d2b54b900a6be,19,17,1,26458,,,0,"Change the migration warning log

This log is not at the end of the live migration (not a final state), so
recored this with a *temporarily* process, avoid giving developers a
misunderstanding when locating logs.

Closes-Bug: #1821536
Change-Id: I45bfd4e7bc292643710f3eaab78cee38d52e009c
",git fetch https://review.opendev.org/openstack/nova refs/changes/16/657916/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/resource_tracker.py'],1,fbf3dccab92e4252f8816540c32d2b54b900a6be,bug/1821536," LOG.warning(""Instance %s has been temporarily moved to "" ""another host %s(%s). There are allocations "" ""remaining against the source host that might "" ""need to be removed: %s."","," LOG.warning(""Instance %s has been moved to another host "" ""%s(%s). There are allocations remaining against "" ""the source host that might need to be removed: "" ""%s."",",4,4
openstack%2Ftripleo-ansible~master~I330484381dc86e8b6697fdc249deb886d2dfa712,openstack/tripleo-ansible,master,I330484381dc86e8b6697fdc249deb886d2dfa712,NFV derive parameters molecule tests,MERGED,2020-09-28 04:59:36.000000000,2021-07-07 13:06:14.000000000,2021-07-07 13:04:31.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2020-09-28 04:59:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57037961c5fe3c60819b886a0e1cabe81d717799', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 2, 'created': '2020-11-06 08:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdcba444ffc820354732bf53854e8d266cf77249', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 3, 'created': '2020-11-18 16:44:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7a5fdb461b8a3d99a4388a2d7a588ae9c21b2550', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 4, 'created': '2020-12-09 08:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e2a848f3b5eeebc7fc1237fd0d73881eccf9cf49', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 5, 'created': '2021-01-05 07:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1963ba2781bc1a8f6e143a4ca417e21908970cb2', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 6, 'created': '2021-01-05 08:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/625f2a78c67f40cb1fdbd9aa6835d157296bf678', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 7, 'created': '2021-01-05 12:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42267771943ac97ceaf159bed1859bcac0aa9a56', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 8, 'created': '2021-01-05 16:13:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/742dd1c342b7eb8eadcdea2fc561ed2fe5081a19', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 9, 'created': '2021-01-05 22:38:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bf367bcaa2db0115870fa02264d6330317f410bc', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 10, 'created': '2021-04-19 04:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/208fc36e4bde9a3b6e97b80a999e553bdca305cb', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 11, 'created': '2021-05-04 13:25:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d3a779e940dafa786c209e5cc4ae475fc1eea7b0', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}, {'number': 12, 'created': '2021-06-29 19:09:29.000000000', 'files': ['tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_params', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/molecule.yml', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_host_cpus.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_get_dpdk_core_list.py', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/converge.yml', 'tripleo_ansible/tests/modules/test_tripleo_get_host_cpus.py', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/derive-ovs-dpdk-parameters.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_roles', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/prepare.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_baremetal_ComputeSriov', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_dpdk_nics_numa_info', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/derive-sriov-parameters.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/derive-host-parameters.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/tasks/main.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_ironic_all', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/Dockerfile', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_baremetal_ComputeOvsDpdk', 'tripleo_ansible/tests/modules/test_tripleo_get_dpdk_core_list.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/808723d040b24d8883f6f68a3d6dbbc5025d0caf', 'message': 'NFV derive parameters molecule tests\n\nThis changes to add the NFV OvS Dpdk and Sriov derive parameters\nmolecule tests.\n\nChange-Id: I330484381dc86e8b6697fdc249deb886d2dfa712\n'}]",14,754630,808723d040b24d8883f6f68a3d6dbbc5025d0caf,103,7,12,22865,,,0,"NFV derive parameters molecule tests

This changes to add the NFV OvS Dpdk and Sriov derive parameters
molecule tests.

Change-Id: I330484381dc86e8b6697fdc249deb886d2dfa712
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/754630/4 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_params', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/molecule.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/converge.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_roles', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/prepare.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_ironic_all', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/Dockerfile', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_baremetal_ComputeSriov', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/nfv/verify.yml', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_baremetal_ComputeOvsDpdk', 'tripleo_ansible/roles/tripleo_derived_parameters/molecule/mock_nfv_dpdk_nics_numa_info']",11,57037961c5fe3c60819b886a0e1cabe81d717799,derive-params-nfv-molecule,- name: eno4 numa_node: 0 mtu: 1500 bridge_name: br-link1 addresses: [] ,,19246,0
openstack%2Fnova~master~Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9,openstack/nova,master,Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9,Add CPU parameters to flavor,NEW,2021-06-18 03:49:20.000000000,2021-07-07 12:57:09.000000000,,"[{'_account_id': 11604}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-06-18 03:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5bc663c4a12594752b02203c8b4554e269cfee49', 'message': 'Three CPU parameters, mode, model and vendor_id, are added to flavor, some guest os do not support new CPU, so you need to specify a specific CPU when starting.\n\nChange-Id: Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9\n'}, {'number': 2, 'created': '2021-07-07 03:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9975d7eb974b202951e8c0f5bb6da3334b5adbf6', 'message': 'Three CPU parameters, mode, model and vendor_id, are added to flavor, some guest os do not support new CPU, so you need to specify a specific CPU when starting.\n\nChange-Id: Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9\n'}, {'number': 3, 'created': '2021-07-07 03:34:29.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/virt/libvirt/config.py', 'nova/api/validation/extra_specs/hw.py', 'nova/objects/virt_cpu_topology.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b38a1fa498ad57d3f814b1aef2338b53f4928079', 'message': 'Add CPU parameters to flavor\n\nThree CPU parameters, mode, model and vendor_id, are added to flavor, some guest os do not support new CPU, so you need to specify a specific CPU when starting.\n\nChange-Id: Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9\n'}]",5,796986,b38a1fa498ad57d3f814b1aef2338b53f4928079,19,3,3,30641,,,0,"Add CPU parameters to flavor

Three CPU parameters, mode, model and vendor_id, are added to flavor, some guest os do not support new CPU, so you need to specify a specific CPU when starting.

Change-Id: Ibf1d68bd9af392d3f879d19dfcb6da79d1aca4b9
",git fetch https://review.opendev.org/openstack/nova refs/changes/86/796986/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/virt/hardware.py', 'nova/virt/libvirt/config.py', 'nova/api/validation/extra_specs/hw.py', 'nova/objects/virt_cpu_topology.py']",5,5bc663c4a12594752b02203c8b4554e269cfee49,add-flavor-extra-parameter," @base.NovaObjectRegistry.register class VirtCPUParameter(base.NovaObject): # Version 1.0: Initial version VERSION = '1.0' fields = { 'mode': fields.StringField(nullable=True, default=None), 'model': fields.StringField(nullable=True, default=None), 'vendor_id': fields.StringField(nullable=True, default=None), } # NOTE(jaypipes): for backward compatibility, the virt CPU topology # data is stored in the database as a nested dict. @classmethod def from_dict(cls, data): return cls(mode=data.get('mode'), model=data.get('model'), vendor_id=data.get('vendor_id')) def to_dict(self): return { 'mode': self.mode, 'model': self.model, 'vendor_id': self.vendor_id }",,115,1
openstack%2Ftripleo-ansible~master~I62cadfd95c514edf0b982fa652a53feadb24f2b7,openstack/tripleo-ansible,master,I62cadfd95c514edf0b982fa652a53feadb24f2b7,Add playbook to perform UC DB backup only.,MERGED,2021-05-26 10:49:08.000000000,2021-07-07 12:45:39.000000000,2021-06-16 06:00:29.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 11166}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 32728}, {'_account_id': 32968}]","[{'number': 1, 'created': '2021-05-26 10:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/202c932c76e8e0449a8f96032f35b98d5dc385a1', 'message': ""Add playbook to perform UC DB backup only.\n\nCurrently, the openstack undercloud backup command allows us setting\nup rear, nfs and run the Undercloud's backup. However, it might be\nuseful to just perform a DB backup instead of a full backup of the\nUndercloud.\n\nThis patch adds a new playbook cli-undercloud-db-backup.yaml which\ninvokes only the db_backup.yml play from the backup_and_restore\nrole. This will perform only the MariaDB database backup for the\nUndercloud node. As the file name was hardcoded in the play, this\npatch also parametrizes it so that it will be possible to run\nthe command multiple times without override an existing backup.\n\nChange-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}, {'number': 2, 'created': '2021-05-26 14:11:20.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0f221aca95252b0851b64548471f0b548016705c', 'message': ""Add playbook to perform UC DB backup only.\n\nCurrently, the openstack undercloud backup command allows us setting\nup rear, nfs and run the Undercloud's backup. However, it might be\nuseful to just perform a DB backup instead of a full backup of the\nUndercloud.\n\nThis patch adds a new playbook cli-undercloud-db-backup.yaml which\ninvokes only the db_backup.yml play from the backup_and_restore\nrole. This will perform only the MariaDB database backup for the\nUndercloud node. As the file name was hardcoded in the play, this\npatch also parametrizes it so that it will be possible to run\nthe command multiple times without override an existing backup.\n\nChange-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7\n""}]",7,793140,0f221aca95252b0851b64548471f0b548016705c,22,11,2,26343,,,0,"Add playbook to perform UC DB backup only.

Currently, the openstack undercloud backup command allows us setting
up rear, nfs and run the Undercloud's backup. However, it might be
useful to just perform a DB backup instead of a full backup of the
Undercloud.

This patch adds a new playbook cli-undercloud-db-backup.yaml which
invokes only the db_backup.yml play from the backup_and_restore
role. This will perform only the MariaDB database backup for the
Undercloud node. As the file name was hardcoded in the play, this
patch also parametrizes it so that it will be possible to run
the command multiple times without override an existing backup.

Change-Id: I62cadfd95c514edf0b982fa652a53feadb24f2b7
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/40/793140/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/defaults/main.yml', 'tripleo_ansible/playbooks/cli-undercloud-db-backup.yaml']",3,202c932c76e8e0449a8f96032f35b98d5dc385a1,,"--- # Copyright 2020 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. - name: TripleO Undercloud DB backup. hosts: Undercloud remote_user: ""{{ tripleo_target_user | default(lookup('env', 'USER')) }}"" become: true tasks: - name: Create DB Backup for the undercloud vars: tripleo_backup_and_restore_service_manager: false tripleo_backup_and_restore_mysql_backup_file: ""openstack-backup-mysql-{{ ansible_date_time.iso8601_basic_short }}.sql"" tripleo_backup_and_restore_mysql_grants_file: ""openstack-backup-mysql-grants-{{ ansible_date_time.iso8601_basic_short }}.sql"" include_role: name: backup-and-restore tasks_from: db_backup.yml ",,36,2
openstack%2Fcharm-glance~stable%2F21.04~I6e2aacee540478fa0a60aada06125265e206af55,openstack/charm-glance,stable/21.04,I6e2aacee540478fa0a60aada06125265e206af55,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:03:09.000000000,2021-07-07 12:43:11.000000000,2021-07-07 12:43:11.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:03:09.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance/commit/0eb74b0ead69fdf19d65b8db2cc3277b927e36ce', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I6e2aacee540478fa0a60aada06125265e206af55\n'}]",0,799259,0eb74b0ead69fdf19d65b8db2cc3277b927e36ce,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I6e2aacee540478fa0a60aada06125265e206af55
",git fetch https://review.opendev.org/openstack/charm-glance refs/changes/59/799259/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,0eb74b0ead69fdf19d65b8db2cc3277b927e36ce,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-cinder-backup~stable%2F21.04~Ib697ac6d7305cbdad09d543bad74cf0821711dc5,openstack/charm-cinder-backup,stable/21.04,Ib697ac6d7305cbdad09d543bad74cf0821711dc5,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:32.000000000,2021-07-07 12:39:16.000000000,2021-07-07 12:39:16.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:32.000000000', 'files': ['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-cinder-backup/commit/137c2b7042c4a25bb9ba0c0747950fc7ca7a9577', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ib697ac6d7305cbdad09d543bad74cf0821711dc5\n'}]",0,799257,137c2b7042c4a25bb9ba0c0747950fc7ca7a9577,12,5,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ib697ac6d7305cbdad09d543bad74cf0821711dc5
",git fetch https://review.opendev.org/openstack/charm-cinder-backup refs/changes/57/799257/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",3,137c2b7042c4a25bb9ba0c0747950fc7ca7a9577,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fpython-tripleoclient~stable%2Ftrain~If2740767521453c7adfca56d942db97af13bfaf2,openstack/python-tripleoclient,stable/train,If2740767521453c7adfca56d942db97af13bfaf2,Use explicit order for ironic enabled interfaces,MERGED,2021-07-02 02:49:36.000000000,2021-07-07 12:39:04.000000000,2021-07-07 12:37:38.000000000,"[{'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-07-02 02:49:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f2ad27f22aa799c3f941d7efbea54aa99eb7a985', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)\n'}, {'number': 2, 'created': '2021-07-04 21:16:04.000000000', 'files': ['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/31dd5e7cfa8848b9562322b3c4a6c1327e62aba8', 'message': 'Use explicit order for ironic enabled interfaces\n\nIronic uses the order of enabled interfaces to attempt each interface\nin turn, so sorting the list will result in an incorrect order in some\ncases, which will cause deployment failures on some hardware.\n\nThis change sets an explicit order for each interface.\n\nChange-Id: If2740767521453c7adfca56d942db97af13bfaf2\nCloses-Bug: #1931161\n(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)\n'}]",1,799156,31dd5e7cfa8848b9562322b3c4a6c1327e62aba8,14,2,2,4571,,,0,"Use explicit order for ironic enabled interfaces

Ironic uses the order of enabled interfaces to attempt each interface
in turn, so sorting the list will result in an incorrect order in some
cases, which will cause deployment failures on some hardware.

This change sets an explicit order for each interface.

Change-Id: If2740767521453c7adfca56d942db97af13bfaf2
Closes-Bug: #1931161
(cherry picked from commit 05500120e07311389d6227d5e513fda422844321)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/799156/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py']",2,f2ad27f22aa799c3f941d7efbea54aa99eb7a985,trainbug/1931161," 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'fake'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac'] 'IronicEnabledHardwareTypes': ['redfish', 'ipmi'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'fake'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool'], 'IronicEnabledHardwareTypes': ['ipmi', 'redfish', 'ilo', 'idrac', 'staging-ovirt', 'snmp', 'irmc', 'xclarity', 'fake-hardware'], 'IronicEnabledBootInterfaces': ['ipxe', 'pxe', 'ilo-pxe', 'irmc-pxe', 'fake'], 'IronicEnabledBiosInterfaces': ['no-bios', 'ilo', 'irmc', 'redfish'], 'IronicEnabledDeployInterfaces': ['direct', 'iscsi', 'ansible', 'fake'], 'IronicEnabledInspectInterfaces': ['inspector', 'no-inspect', 'redfish', 'idrac', 'ilo', 'irmc'], 'IronicEnabledManagementInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'noop'], 'IronicEnabledPowerInterfaces': ['ipmitool', 'redfish', 'idrac', 'ilo', 'irmc', 'staging-ovirt', 'xclarity', 'fake', 'snmp'], 'IronicEnabledRaidInterfaces': ['no-raid', 'idrac'], 'IronicEnabledVendorInterfaces': ['no-vendor', 'ipmitool', 'idrac']"," 'IronicEnabledHardwareTypes': ['idrac', 'ilo', 'ipmi', 'redfish'], 'IronicEnabledBootInterfaces': ['ilo-pxe', 'ipxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'redfish'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor'] 'IronicEnabledHardwareTypes': ['ipmi', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'iscsi'], 'IronicEnabledManagementInterfaces': ['fake', 'ipmitool', 'noop', 'redfish'], 'IronicEnabledPowerInterfaces': ['fake', 'ipmitool', 'redfish'], 'IronicEnabledVendorInterfaces': ['ipmitool', 'no-vendor'], 'IronicEnabledHardwareTypes': ['fake-hardware', 'idrac', 'ilo', 'ipmi', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledBootInterfaces': ['fake', 'ilo-pxe', 'ipxe', 'irmc-pxe', 'pxe'], 'IronicEnabledBiosInterfaces': ['ilo', 'irmc', 'no-bios', 'redfish'], 'IronicEnabledDeployInterfaces': ['ansible', 'direct', 'fake', 'iscsi'], 'IronicEnabledInspectInterfaces': ['idrac', 'ilo', 'inspector', 'irmc', 'no-inspect', 'redfish'], 'IronicEnabledManagementInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'noop', 'redfish', 'staging-ovirt', 'xclarity'], 'IronicEnabledPowerInterfaces': ['fake', 'idrac', 'ilo', 'ipmitool', 'irmc', 'redfish', 'snmp', 'staging-ovirt', 'xclarity'], 'IronicEnabledRaidInterfaces': ['idrac', 'no-raid'], 'IronicEnabledVendorInterfaces': ['idrac', 'ipmitool', 'no-vendor']",69,69
openstack%2Fcharm-swift-proxy~stable%2F21.04~I2c57ad2dae48904c8c154b5936bcfb66c59d493d,openstack/charm-swift-proxy,stable/21.04,I2c57ad2dae48904c8c154b5936bcfb66c59d493d,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:57.000000000,2021-07-07 12:27:19.000000000,2021-07-07 12:27:19.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:57.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/6f71f11e0c6b657096cd3bbd4efb6d779ac11224', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I2c57ad2dae48904c8c154b5936bcfb66c59d493d\n'}]",0,799272,6f71f11e0c6b657096cd3bbd4efb6d779ac11224,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I2c57ad2dae48904c8c154b5936bcfb66c59d493d
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/72/799272/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,6f71f11e0c6b657096cd3bbd4efb6d779ac11224,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-openstack-dashboard~stable%2F21.04~I117a92e05211bba0841742de822548312a5a813d,openstack/charm-openstack-dashboard,stable/21.04,I117a92e05211bba0841742de822548312a5a813d,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:29.000000000,2021-07-07 12:27:15.000000000,2021-07-07 12:27:15.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:29.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-openstack-dashboard/commit/0770d63495604ae0a4b2bef43c32988305f74099', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I117a92e05211bba0841742de822548312a5a813d\n'}]",0,799269,0770d63495604ae0a4b2bef43c32988305f74099,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I117a92e05211bba0841742de822548312a5a813d
",git fetch https://review.opendev.org/openstack/charm-openstack-dashboard refs/changes/69/799269/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,0770d63495604ae0a4b2bef43c32988305f74099,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-ceph-proxy~stable%2F21.04~I2233fb9a3a0aa9b91b01d7808f8a1039f50cbe31,openstack/charm-ceph-proxy,stable/21.04,I2233fb9a3a0aa9b91b01d7808f8a1039f50cbe31,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:13.000000000,2021-07-07 12:26:23.000000000,2021-07-07 12:26:23.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:13.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/utils.py', 'lib/charms_ceph/crush_utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-proxy/commit/f845822b1b70baf7ae2dda2e0ebf6b8aae419355', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I2233fb9a3a0aa9b91b01d7808f8a1039f50cbe31\n'}]",0,799234,f845822b1b70baf7ae2dda2e0ebf6b8aae419355,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I2233fb9a3a0aa9b91b01d7808f8a1039f50cbe31
",git fetch https://review.opendev.org/openstack/charm-ceph-proxy refs/changes/34/799234/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/utils.py', 'charmhelpers/fetch/ubuntu.py']",5,f845822b1b70baf7ae2dda2e0ebf6b8aae419355,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",155,19
openstack%2Fcharm-nova-compute~stable%2F21.04~I5907d887bc15bc764146d322e784998c44f2029e,openstack/charm-nova-compute,stable/21.04,I5907d887bc15bc764146d322e784998c44f2029e,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:22.000000000,2021-07-07 12:26:12.000000000,2021-07-07 12:26:12.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:22.000000000', 'files': ['hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/85fbaed625d2de1577f2539f616850ea715ea02b', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I5907d887bc15bc764146d322e784998c44f2029e\n'}]",0,799268,85fbaed625d2de1577f2539f616850ea715ea02b,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I5907d887bc15bc764146d322e784998c44f2029e
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/68/799268/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/charmhelpers/fetch/ubuntu.py'],1,85fbaed625d2de1577f2539f616850ea715ea02b,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",3,9
openstack%2Fcharm-swift-storage~stable%2F21.04~I5f8a1b5d184277ede9a60a607961515e1ec95f93,openstack/charm-swift-storage,stable/21.04,I5f8a1b5d184277ede9a60a607961515e1ec95f93,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:05:03.000000000,2021-07-07 12:25:58.000000000,2021-07-07 12:25:58.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:05:03.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-swift-storage/commit/bec1e1ab6caded3a46b84c7febdce29c71bb850e', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I5f8a1b5d184277ede9a60a607961515e1ec95f93\n'}]",0,799273,bec1e1ab6caded3a46b84c7febdce29c71bb850e,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I5f8a1b5d184277ede9a60a607961515e1ec95f93
",git fetch https://review.opendev.org/openstack/charm-swift-storage refs/changes/73/799273/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,bec1e1ab6caded3a46b84c7febdce29c71bb850e,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-ceph-radosgw~stable%2F21.04~Ifacb64c08555f54ee832d3e971e032b4c4152747,openstack/charm-ceph-radosgw,stable/21.04,Ifacb64c08555f54ee832d3e971e032b4c4152747,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:02:19.000000000,2021-07-07 12:25:51.000000000,2021-07-07 12:25:51.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:02:19.000000000', 'files': ['lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c80419aa176a54ced4b4d319b152bfa6a07690e2', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: Ifacb64c08555f54ee832d3e971e032b4c4152747\n'}]",0,799235,c80419aa176a54ced4b4d319b152bfa6a07690e2,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: Ifacb64c08555f54ee832d3e971e032b4c4152747
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/35/799235/1 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/charmhelpers/contrib/openstack/deferred_events.py', 'lib/charms_ceph/crush_utils.py', 'lib/charms_ceph/utils.py', 'hooks/charmhelpers/contrib/openstack/utils.py', 'hooks/charmhelpers/fetch/ubuntu.py']",5,c80419aa176a54ced4b4d319b152bfa6a07690e2,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",155,19
openstack%2Fcharm-percona-cluster~stable%2F21.04~I0cd01433e1770d78c1b5b4b23a023b96e338598b,openstack/charm-percona-cluster,stable/21.04,I0cd01433e1770d78c1b5b4b23a023b96e338598b,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:04:36.000000000,2021-07-07 12:24:53.000000000,2021-07-07 12:24:53.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:04:36.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-percona-cluster/commit/d48e2bac7eda7c7c2be2370d094d0ff27ebc9c3c', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I0cd01433e1770d78c1b5b4b23a023b96e338598b\n'}]",0,799270,d48e2bac7eda7c7c2be2370d094d0ff27ebc9c3c,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I0cd01433e1770d78c1b5b4b23a023b96e338598b
",git fetch https://review.opendev.org/openstack/charm-percona-cluster refs/changes/70/799270/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,d48e2bac7eda7c7c2be2370d094d0ff27ebc9c3c,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fcharm-glance-simplestreams-sync~stable%2F21.04~I596eee33c1fbd3a1add81fcf4f5ffa52696db1ea,openstack/charm-glance-simplestreams-sync,stable/21.04,I596eee33c1fbd3a1add81fcf4f5ffa52696db1ea,c-h sync - restore proxy env vars for add-apt-repository,MERGED,2021-07-02 17:03:19.000000000,2021-07-07 12:24:43.000000000,2021-07-07 12:24:43.000000000,"[{'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 31289}]","[{'number': 1, 'created': '2021-07-02 17:03:19.000000000', 'files': ['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py'], 'web_link': 'https://opendev.org/openstack/charm-glance-simplestreams-sync/commit/3ddab01473e2df0f24d2a8e2ef306d735aa6af6f', 'message': 'c-h sync - restore proxy env vars for add-apt-repository\n\nChange-Id: I596eee33c1fbd3a1add81fcf4f5ffa52696db1ea\n'}]",0,799260,3ddab01473e2df0f24d2a8e2ef306d735aa6af6f,8,4,1,11805,,,0,"c-h sync - restore proxy env vars for add-apt-repository

Change-Id: I596eee33c1fbd3a1add81fcf4f5ffa52696db1ea
",git fetch https://review.opendev.org/openstack/charm-glance-simplestreams-sync refs/changes/60/799260/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/deferred_events.py', 'charmhelpers/contrib/openstack/utils.py', 'charmhelpers/fetch/ubuntu.py']",3,3ddab01473e2df0f24d2a8e2ef306d735aa6af6f,batch-update," if '{series}' in spec: series = get_distrib_codename() _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http']))"," series = get_distrib_codename() if '{series}' in spec: # software-properties package for bionic properly reacts to proxy settings # set via apt.conf (see lp:1433761), however this is not the case for LTS # and non-LTS releases before bionic. if series in ('trusty', 'xenial'): _run_with_retries(['add-apt-repository', '--yes', spec], cmd_env=env_proxy_settings(['https', 'http'])) else: _run_with_retries(['add-apt-repository', '--yes', spec])",18,13
openstack%2Fsolum-specs~master~I9819c4f5d6d613bbd0c360135f3c0edd1e11b253,openstack/solum-specs,master,I9819c4f5d6d613bbd0c360135f3c0edd1e11b253,Migrate from testr to stestr,NEW,2021-06-30 17:55:32.000000000,2021-07-07 12:15:51.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-30 17:55:32.000000000', 'files': ['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf'], 'web_link': 'https://opendev.org/openstack/solum-specs/commit/4eea21e56665bd3ba76807e7416f4a534ba9daee', 'message': 'Migrate from testr to stestr\n\n* Replace .testr.conf by .stestr.conf for migration and update\n  .gitignore, tox.ini and requirements.txt files accordingly\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: I9819c4f5d6d613bbd0c360135f3c0edd1e11b253\n'}]",0,798939,4eea21e56665bd3ba76807e7416f4a534ba9daee,4,3,1,33370,,,0,"Migrate from testr to stestr

* Replace .testr.conf by .stestr.conf for migration and update
  .gitignore, tox.ini and requirements.txt files accordingly

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: I9819c4f5d6d613bbd0c360135f3c0edd1e11b253
",git fetch https://review.opendev.org/openstack/solum-specs refs/changes/39/798939/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.gitignore', '.testr.conf', 'tox.ini', '.stestr.conf']",5,4eea21e56665bd3ba76807e7416f4a534ba9daee,stestr,[DEFAULT] test_path=./tests/ top_dir=./ ,,18,11
openstack%2Ftripleo-quickstart-extras~master~I9b890c55b174f20af992ec617d6b5e62c86118ca,openstack/tripleo-quickstart-extras,master,I9b890c55b174f20af992ec617d6b5e62c86118ca,Add custom podman search registries,ABANDONED,2021-06-11 16:29:04.000000000,2021-07-07 11:46:11.000000000,,"[{'_account_id': 7144}, {'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-06-11 16:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/dffc77782634d6f06d6421cdaa07db98abe2e29e', 'message': 'DNM: Add custom podman search registries\n\nTesting with job. var to set custom\nsearch registries.\n\nDepends-On: If4654470a77a67445a56fb8fed6963fed300aad4\nChange-Id: I9b890c55b174f20af992ec617d6b5e62c86118ca\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2021-06-14 18:25:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/2dac101adab700a1b28c3f702b9bc6b2b7b62429', 'message': 'DNM: Add custom podman search registries\n\nTesting with job. var to set custom\nsearch registries.\n\nDepends-On: If4654470a77a67445a56fb8fed6963fed300aad4\nChange-Id: I9b890c55b174f20af992ec617d6b5e62c86118ca\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2021-06-14 18:26:34.000000000', 'files': ['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/0b29cd7d0963aac23aad90baa13b66833e60de10', 'message': 'Add custom podman search registries\n\nAdds variable to set custom search registries.\n\nDepends-On: If4654470a77a67445a56fb8fed6963fed300aad4\nChange-Id: I9b890c55b174f20af992ec617d6b5e62c86118ca\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,796047,0b29cd7d0963aac23aad90baa13b66833e60de10,16,6,3,7353,,,0,"Add custom podman search registries

Adds variable to set custom search registries.

Depends-On: If4654470a77a67445a56fb8fed6963fed300aad4
Change-Id: I9b890c55b174f20af992ec617d6b5e62c86118ca
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/47/796047/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/undercloud-deploy/templates/containers-prepare-parameter.yaml.j2'],1,dffc77782634d6f06d6421cdaa07db98abe2e29e,,{% if job.custom_tripleo_podman_unqualified_search_registries is defined and job.custom_tripleo_podman_unqualified_search_registries %} ExtraAnsibleGroupVars: tripleo_podman_unqualified_search_registries: {{ job.custom_tripleo_podman_unqualified_search_registries }} {% endif %},,4,0
openstack%2Fsushy~stable%2Fvictoria~I4891b89a65567c9ba2057557462a5d3840808ae1,openstack/sushy,stable/victoria,I4891b89a65567c9ba2057557462a5d3840808ae1,Protect Connector against empty auth object,MERGED,2021-07-06 11:16:09.000000000,2021-07-07 11:38:44.000000000,2021-07-07 11:37:27.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 11:16:09.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/efd47e36737538a5143c164e360dad2207c0d4fb', 'message': 'Protect Connector against empty auth object\n\nAuth uses Connector, Connector uses Auth. This convoluted relationship\nresults in connector._auth being unset when an authentication request is\nmade. If it results in AccessError, sushy tries to access non-existing\nconnector._auth. This change protects against it and allows the actual\nerror to bubble up.\n\nChange-Id: I4891b89a65567c9ba2057557462a5d3840808ae1\nStory: #2008661\nTask: #41935\n(cherry picked from commit bf50d7363888f2333bdf0c36d65b4144b66d37d4)\n'}]",0,799584,efd47e36737538a5143c164e360dad2207c0d4fb,8,2,1,10239,,,0,"Protect Connector against empty auth object

Auth uses Connector, Connector uses Auth. This convoluted relationship
results in connector._auth being unset when an authentication request is
made. If it results in AccessError, sushy tries to access non-existing
connector._auth. This change protects against it and allows the actual
error to bubble up.

Change-Id: I4891b89a65567c9ba2057557462a5d3840808ae1
Story: #2008661
Task: #41935
(cherry picked from commit bf50d7363888f2333bdf0c36d65b4144b66d37d4)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/84/799584/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,efd47e36737538a5143c164e360dad2207c0d4fb,auth-none-stable/victoria," def test_access_error_without_auth(self): self.conn._auth = None self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://foo.bar') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) ",,14,1
openstack%2Fopenstack-ansible~stable%2Fussuri~Ibe74954a4de3d33c6f0060715592ba4606c6b249,openstack/openstack-ansible,stable/ussuri,Ibe74954a4de3d33c6f0060715592ba4606c6b249,Bump OpenStack-Ansible Ussuri,MERGED,2021-07-05 15:57:05.000000000,2021-07-07 11:25:49.000000000,2021-07-07 11:24:17.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2021-07-05 15:57:05.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/024b08dad7053114b23cbab08514a6154c9440bd', 'message': 'Bump OpenStack-Ansible Ussuri\n\nChange-Id: Ibe74954a4de3d33c6f0060715592ba4606c6b249\n'}]",0,799515,024b08dad7053114b23cbab08514a6154c9440bd,8,3,1,28619,,,0,"Bump OpenStack-Ansible Ussuri

Change-Id: Ibe74954a4de3d33c6f0060715592ba4606c6b249
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/15/799515/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'ansible-role-requirements.yml']",4,024b08dad7053114b23cbab08514a6154c9440bd,bump_osa, version: 8a9b9622d5225177891bf0fa14b4b37b8c5fb379 version: 46ce3b3edab51e5b56f50e8781d5373b38244a64 version: 6075cf5885358f310e4d8fb4db3d042866dbe0c0 version: e970ca0038820ab5c6573e45bfcacc834866b21d version: ba15680dc4e8a8c2b8db5c24aaa919dd0b4ceed9 version: 73ac14dfaa5b7df9927190b0a5e66de11d5baac5, version: 57efa55efbc1d16ee1538786c93af27d916d4039 version: a7943972a3bdde4f8e35544c571c14a242a9aa86 version: eac40c8e694266b2d41fdb160ff496b3fa82dde5 version: 4d64ba37f104a869119f1f3dfc7c62aafcbf3d14 version: d05b605886b25bb05e6edd444ba83ca8fd2b353f version: e3bcafaeaef1556a9da98ba2d6d24a23146e963c,57,57
openstack%2Ftripleo-quickstart~master~Ieeb6243903b813a114c66c2bb20df8321b813762,openstack/tripleo-quickstart,master,Ieeb6243903b813a114c66c2bb20df8321b813762,Ensure Network config is present for undercloud vm,MERGED,2021-07-06 08:03:41.000000000,2021-07-07 11:21:44.000000000,2021-07-07 11:20:25.000000000,"[{'_account_id': 8367}, {'_account_id': 8449}, {'_account_id': 9592}, {'_account_id': 10969}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2021-07-06 08:03:41.000000000', 'files': ['roles/convert-image/templates/convert_image.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/8148dc04b4a928a3af0fc87327dc33ea59fe29d1', 'message': ""Ensure Network config is present for undercloud vm\n\nWith [1] ifcfg-eth* Network configs are removed from\novercloud images, and since for libvirt deployments\nwhen using overcloud_as_undercloud=true, overcloud images\nare used and undercloud vm needs the network config for\nconnectivity, let's ensure it exists for such case.\n\n[1] https://review.opendev.org/q/I3b8cb5f8c413c109da1228878db9cff4d439273b\n\nCloses-Bug: #1932019\nChange-Id: Ieeb6243903b813a114c66c2bb20df8321b813762\n""}]",0,799574,8148dc04b4a928a3af0fc87327dc33ea59fe29d1,12,9,1,13861,,,0,"Ensure Network config is present for undercloud vm

With [1] ifcfg-eth* Network configs are removed from
overcloud images, and since for libvirt deployments
when using overcloud_as_undercloud=true, overcloud images
are used and undercloud vm needs the network config for
connectivity, let's ensure it exists for such case.

[1] https://review.opendev.org/q/I3b8cb5f8c413c109da1228878db9cff4d439273b

Closes-Bug: #1932019
Change-Id: Ieeb6243903b813a114c66c2bb20df8321b813762
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/74/799574/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/convert-image/templates/convert_image.sh.j2'],1,8148dc04b4a928a3af0fc87327dc33ea59fe29d1,,"{% if overcloud_as_undercloud|bool and ansible_distribution_major_version is version(8, '<=') %} # Create ifcfg file if not exist, as it's removed in overcloud prep # https://review.opendev.org/q/I3b8cb5f8c413c109da1228878db9cff4d439273b if [ ! -f /etc/sysconfig/network-scripts/ifcfg-eth0 ]; then cat >/etc/sysconfig/network-scripts/ifcfg-eth0<<EOF DEVICE=""eth0"" BOOTPROTO=""dhcp"" ONBOOT=""yes"" TYPE=""Ethernet"" EOF fi {% endif %} ",,13,0
openstack%2Fsushy~stable%2Fwallaby~I4891b89a65567c9ba2057557462a5d3840808ae1,openstack/sushy,stable/wallaby,I4891b89a65567c9ba2057557462a5d3840808ae1,Protect Connector against empty auth object,MERGED,2021-07-06 11:04:15.000000000,2021-07-07 11:13:56.000000000,2021-07-07 11:12:42.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 11:04:15.000000000', 'files': ['sushy/connector.py', 'sushy/tests/unit/test_connector.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/c2425e743c203f6d949d640d8f2324340618d109', 'message': 'Protect Connector against empty auth object\n\nAuth uses Connector, Connector uses Auth. This convoluted relationship\nresults in connector._auth being unset when an authentication request is\nmade. If it results in AccessError, sushy tries to access non-existing\nconnector._auth. This change protects against it and allows the actual\nerror to bubble up.\n\nChange-Id: I4891b89a65567c9ba2057557462a5d3840808ae1\nStory: #2008661\nTask: #41935\n(cherry picked from commit bf50d7363888f2333bdf0c36d65b4144b66d37d4)\n'}]",0,799583,c2425e743c203f6d949d640d8f2324340618d109,8,2,1,10239,,,0,"Protect Connector against empty auth object

Auth uses Connector, Connector uses Auth. This convoluted relationship
results in connector._auth being unset when an authentication request is
made. If it results in AccessError, sushy tries to access non-existing
connector._auth. This change protects against it and allows the actual
error to bubble up.

Change-Id: I4891b89a65567c9ba2057557462a5d3840808ae1
Story: #2008661
Task: #41935
(cherry picked from commit bf50d7363888f2333bdf0c36d65b4144b66d37d4)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/83/799583/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/connector.py', 'sushy/tests/unit/test_connector.py']",2,c2425e743c203f6d949d640d8f2324340618d109,auth-none-stable/wallaby," def test_access_error_without_auth(self): self.conn._auth = None self.request.return_value.status_code = http_client.FORBIDDEN self.request.return_value.json.side_effect = ValueError('no json') with self.assertRaisesRegex(exceptions.AccessError, 'unknown error') as cm: self.conn._op('GET', 'http://foo.bar') exc = cm.exception self.assertEqual(http_client.FORBIDDEN, exc.status_code) ",,14,1
openstack%2Fopenstack-ansible~master~Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8,openstack/openstack-ansible,master,Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8,Start Xena cycle,MERGED,2021-06-30 15:37:01.000000000,2021-07-07 11:10:06.000000000,2021-07-07 11:08:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 25600}]","[{'number': 1, 'created': '2021-06-30 15:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f86e1c3930ca46fed2f999be3a228eda3b51e2b0', 'message': 'Start Xena cycle\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n'}, {'number': 2, 'created': '2021-06-30 15:50:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2822ebe84817a1a91d4aece9562512fa520660e9', 'message': 'Start Xena cycle\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n'}, {'number': 3, 'created': '2021-06-30 20:24:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/602c509278c27ab26cbdf5bdbf9a3b4390d857f2', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}, {'number': 4, 'created': '2021-07-01 11:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d377a8fcbab30108c0887d6808672a8c4858a2c5', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}, {'number': 5, 'created': '2021-07-02 15:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/0236870b3d41a54b4dbba2d073eda3b2024f9c28', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}, {'number': 6, 'created': '2021-07-02 21:01:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/6479544b006ba3758efb11b254297899c1044022', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}, {'number': 7, 'created': '2021-07-04 05:13:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/431ecb9b01fddf092aec65052130119a139e508a', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}, {'number': 8, 'created': '2021-07-05 18:02:28.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'playbooks/os-tempest-install.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'scripts/gate-check-commit.sh', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'scripts/run-upgrade.sh', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/aab4de765f16576dee41d14d9964665ce86e0a73', 'message': ""Start Xena cycle\n\nWe also don't use u-c for placement client because of the\nregression that breaks utility install and hasn't been tagged\nyet.\n\nChange-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8\n""}]",4,798920,aab4de765f16576dee41d14d9964665ce86e0a73,23,3,8,28619,,,0,"Start Xena cycle

We also don't use u-c for placement client because of the
regression that breaks utility install and hasn't been tagged
yet.

Change-Id: Ifa659c2dfc76003e2f64cabd307ce17bbfb262a8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/20/798920/4 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'doc/source/index.rst', 'playbooks/os-tempest-install.yml', 'playbooks/defaults/repo_packages/gnocchi.yml', 'playbooks/defaults/repo_packages/nova_consoles.yml', 'doc/source/conf.py', 'deploy-guide/source/conf.py', 'scripts/run-upgrade.sh', 'playbooks/defaults/repo_packages/openstack_testing.yml', 'ansible-role-requirements.yml']",10,f86e1c3930ca46fed2f999be3a228eda3b51e2b0,798920, version: master trackbranch: master version: master trackbranch: master version: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master version: master version: master version: master version: master version: stable-5.0 version: master version: master version: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master version: master trackbranch: master trackbranch: master version: master, version: 141c98dbeecb37b736762f32534072873f662cdf trackbranch: stable/wallaby version: 434478c28955327e36ac098d2843b90427bf964c trackbranch: stable/wallaby version: 8a9b9622d5225177891bf0fa14b4b37b8c5fb379 version: e2643a1a142679dfb8c38e67dc5c6c0749c31647 trackbranch: stable/wallaby version: 13657acfb26742ea10906c3f5a008f35561174e8 trackbranch: stable/wallaby version: d49c53dcf0c9e4b86ca3ff9ecb4ec7fa67f3b58c trackbranch: stable/wallaby version: b5fe49d98601f62055365645df47ef1bae30ee74 version: 95a85139dda56d550a7ab0fe0da5c71facca4d97 trackbranch: stable/wallaby version: c389c026c2220e8bddeafa6a3d55d23b6bddd04e trackbranch: stable/wallaby version: 866db1969d6e9edfb0ce54f5fc7f893ad48d43d8 trackbranch: stable/wallaby version: 4923bc834ffa5c8cb99b87f267f2669f4004229f trackbranch: stable/wallaby version: 429de8b7a1b6b1a52b07d2321566aa90ea10a731 trackbranch: stable/wallaby version: 52e249cfe5f83d44dfcb512548a40775b955826e trackbranch: stable/wallaby version: c8ee47b3a9c9a6a69bcedc196c1183d9b9f2249b trackbranch: stable/wallaby version: c8b97900948b9c04f1ffc55cc367c4f0adbb0042 trackbranch: stable/wallaby version: 302178f9a5b8d91c0f9c3b391455b579dd09f10c trackbranch: stable/wallaby version: 114460a935e2d74ee29a87ecca65b76a33937b92 trackbranch: stable/wallaby version: 2a7e249d95863bfcf3bfd9bccd9e2b35d291a1a5 trackbranch: stable/wallaby version: d412e1b7015a482d30d1b1fe5052c947a25ce880 trackbranch: stable/wallaby version: 47e95e86449979b7cd4cdcfd9a77bb93a0bc90a9 trackbranch: stable/wallaby version: 319e00295bd1d91865a22c7c78b289ed15c55f68 trackbranch: stable/wallaby version: 09e142ce94d32f001bdcb6953cb6af80ae3985ae trackbranch: stable/wallaby version: 9e409492ff11895363b6eb6d0771d277975786a9 trackbranch: stable/wallaby version: 0061c0a3f6ae2cbcd20ac8105093ced9ad54310c trackbranch: stable/wallaby version: 6e331b16ea65d402ca7d6e5ac91a259232a199b5 trackbranch: stable/wallaby version: 570879e85f44bdf06dcce3a4edbefb986e282653 trackbranch: stable/wallaby version: 176d814e74a7c132763393b4c52f9e6f75535007 trackbranch: stable/wallaby version: 616458635adf0d8399d5371f72d250e2043cc1df trackbranch: stable/wallaby version: 95093ace1379c2cf22e4d4834f65d7c4ebbca91d trackbranch: stable/wallaby version: fce6170874c229e1f03bda4c9435c72aca63333e trackbranch: stable/wallaby version: d45e5f918a48fff2f1427f5100f6bc4521e1ffbb trackbranch: stable/wallaby version: 29e5fbf252074bd8cefb875911d88f58af9cb205 trackbranch: stable/wallaby version: 5a1a798e4ca5923e8ae8ada9f277879b9117bbef trackbranch: stable/wallaby version: 0f89cac86cfb9b2706669c97c02d394770acf08b trackbranch: stable/wallaby version: e25d1a7d16c74d6d87ad4d8f1a3242982deca2ec trackbranch: stable/wallaby version: 26886e42afa2f63078a4bc221470cb7f1cede054 trackbranch: stable/wallaby version: fbdc19066d9646e3e1dc2afdcb07e5674c02c365 trackbranch: stable/wallaby version: 72d1b4d4b7004a611c3886e5c7993c3bde5c13a6 trackbranch: stable/wallaby version: 5d90bfe91ce2eb5c2dda39bc2a352673d6b25253 trackbranch: stable/wallaby version: 2e5b9ca11aaece1755ac882fbe475d0471ca0b5f trackbranch: stable/wallaby version: 69761c1f542184af553fc65754557ce470f9c0ff trackbranch: stable/wallaby version: 42f33d8cae55c7e6c361564010e0651703bc3ac5 trackbranch: stable/wallaby version: 307b1b08c3f84c40adb5e5a87d1f9c6c7d7c1c60 trackbranch: stable/wallaby version: 6100acfd33cbcd3a31ace6f66573073bb5f098a1 trackbranch: stable/wallaby version: f89b7f0aaf69b9d0877e6380bfc009f24b4e3f84 trackbranch: stable/wallaby version: 1c06fe38f0aaa251e50c321bdb2f7cb8c5391d17 trackbranch: stable/wallaby version: 87a3f4fa3a50a3a2959cf841deb03c8aea5f32fc trackbranch: stable/wallaby version: 2a5ae448bc9c26c36eb02e1050b9b2ffe7aa4f08 trackbranch: stable/wallaby version: 91ee683e978fd35cf2a6a8190ee5258edce20fd6 trackbranch: stable/wallaby version: 5340b650e513ed6323602879c0db841681c5bc59 trackbranch: stable/wallaby version: c4db22f16dd59e61881c4ff026e2804a170446a1 version: 9e5a7d7fc8b72ad4aa73280a7638b0554cf20d5c version: ab9861e35c23342fa30c703d29e370da590ea582 version: f8e2d8a89ddb9352d5748332a5f3a33ed33f66ab version: f7f694b3dd4361e364dccb4ce94e6510727fca2f version: a348116bf7e5c7a81574bab4256833b841f43930 version: 4a9217ed0fe9078152435daaa2d3f45b81021b3a version: 8e3a24a35beb16d717072dc83895c5a1f92689fb version: 70d3c59efea4c3080fa66aeef75eadd0a032a83e version: 9d14e194caa46fb503d1be72c96916cd90b88997 trackbranch: stable/wallaby version: 00a542c7fccf56cb6314f04b949c62eede2f6f17 trackbranch: stable/wallaby version: e5de91480723fa43de7e0a240d3b0727adf8738a trackbranch: stable/wallaby version: 0e735c4f8f0442588482bd60c2307f9e7023fe3b trackbranch: stable/wallaby version: d91a7bf8505e4d5ac01167084df97bc8b229cbd0 trackbranch: stable/wallaby trackbranch: stable/wallaby version: 6085b72be2abd0b7ff60e195bd55c00a8393cef1,281,242
openstack%2Fsushy~master~Ic836e8e99ea66199b48d9d40eb56e102bdbd498d,openstack/sushy,master,Ic836e8e99ea66199b48d9d40eb56e102bdbd498d,Add Drive.volumes,MERGED,2021-07-06 09:24:45.000000000,2021-07-07 11:05:42.000000000,2021-07-07 11:04:27.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2021-07-06 09:24:45.000000000', 'files': ['sushy/resources/system/storage/drive.py', 'sushy/tests/unit/resources/system/storage/test_drive.py', 'releasenotes/notes/add-drive-volumes-971d80644c3bd1e0.yaml'], 'web_link': 'https://opendev.org/openstack/sushy/commit/0eaacad87f16cd2a3334a65872cc794a150792fd', 'message': 'Add Drive.volumes\n\nChange-Id: Ic836e8e99ea66199b48d9d40eb56e102bdbd498d\n'}]",0,799612,0eaacad87f16cd2a3334a65872cc794a150792fd,9,3,1,27909,,,0,"Add Drive.volumes

Change-Id: Ic836e8e99ea66199b48d9d40eb56e102bdbd498d
",git fetch https://review.opendev.org/openstack/sushy refs/changes/12/799612/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/resources/system/storage/drive.py', 'sushy/tests/unit/resources/system/storage/test_drive.py', 'releasenotes/notes/add-drive-volumes-971d80644c3bd1e0.yaml']",3,0eaacad87f16cd2a3334a65872cc794a150792fd,drive-volume-link,--- features: - | Adds ``Drive.volumes`` property for list of volumes that drive is part of. ,,46,0
openstack%2Fos-traits~master~I26fffc6e83581fd8babc2d64481e2700896c9112,openstack/os-traits,master,I26fffc6e83581fd8babc2d64481e2700896c9112,setup.cfg: Replace dashes with underscores,MERGED,2021-05-13 11:48:15.000000000,2021-07-07 10:58:00.000000000,2021-07-07 10:56:34.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-13 11:48:15.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/99dbadebabe55af6f9021fc118e2339135631277', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of dash-separated\noptions in 'setup.cfg' will not be supported in a future version [1].\nGet ahead of the issue by replacing the dashes with underscores. Without\nthis, we see 'UserWarning' messages like the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nSigned-off-by: Takashi Natsume <takanattie@gmail.com>\nChange-Id: I26fffc6e83581fd8babc2d64481e2700896c9112\n""}]",0,791133,99dbadebabe55af6f9021fc118e2339135631277,7,2,1,7634,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of dash-separated
options in 'setup.cfg' will not be supported in a future version [1].
Get ahead of the issue by replacing the dashes with underscores. Without
this, we see 'UserWarning' messages like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Signed-off-by: Takashi Natsume <takanattie@gmail.com>
Change-Id: I26fffc6e83581fd8babc2d64481e2700896c9112
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/33/791133/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,99dbadebabe55af6f9021fc118e2339135631277,replace_dashes,description_file =author_email = openstack-discuss@lists.openstack.org home_page = https://docs.openstack.org/os-traits/latest/ python_requires = >=3.6,description-file =author-email = openstack-discuss@lists.openstack.org home-page = https://docs.openstack.org/os-traits/latest/ python-requires = >=3.6,4,4
openstack%2Ftripleo-common~master~Ic23e80465356f0a336621008e0a9d5b0c295d816,openstack/tripleo-common,master,Ic23e80465356f0a336621008e0a9d5b0c295d816,Remove ironic-inspector dnsmasq healthcheck,MERGED,2021-07-02 04:04:25.000000000,2021-07-07 10:47:24.000000000,2021-07-07 10:45:56.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2021-07-02 04:04:25.000000000', 'files': ['healthcheck/ironic-inspector'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a3be15743bcb33d6ecd67e24d082aa664d55864b', 'message': ""Remove ironic-inspector dnsmasq healthcheck\n\nThis check is broken because healthcheck_port uses the user of the\nprocess, but the /proc files accessed are owned by root. This is\nprobably because dnsmasq starts as root to bind to priviliged port 67,\nthen drops to the dnsmasq user.\n\nThis healthcheck likely doesn't add much value since it is a\nself-contained tool which will be bound to the port if it is running.\n\nSee https://bugzilla.redhat.com/show_bug.cgi?id=1961237\n\nChange-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816\n""}]",0,799158,a3be15743bcb33d6ecd67e24d082aa664d55864b,10,5,1,4571,,,0,"Remove ironic-inspector dnsmasq healthcheck

This check is broken because healthcheck_port uses the user of the
process, but the /proc files accessed are owned by root. This is
probably because dnsmasq starts as root to bind to priviliged port 67,
then drops to the dnsmasq user.

This healthcheck likely doesn't add much value since it is a
self-contained tool which will be bound to the port if it is running.

See https://bugzilla.redhat.com/show_bug.cgi?id=1961237

Change-Id: Ic23e80465356f0a336621008e0a9d5b0c295d816
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/58/799158/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/ironic-inspector'],1,a3be15743bcb33d6ecd67e24d082aa664d55864b,dnsmasq-health, exit 0," listen_address=$(get_config_val /etc/ironic-inspector/inspector.conf DEFAULT listen_address 127.0.0.1) # Check DHCPv6 port if using IPv6 if [[ $listen_address =~ "":"" ]]; then port=""547"" else port=""67"" fi echo ""Checking $process port(s) $port."" if ! healthcheck_port $process $port; then echo ""There is no $process process listening on port(s) $port in the container."" exit 1 fi",1,12
openstack%2Ftripleo-quickstart~master~Ifa8b980a72c0746fb079f7f3bfefb550268ed853,openstack/tripleo-quickstart,master,Ifa8b980a72c0746fb079f7f3bfefb550268ed853,"Enable ephemeral heat for fs001, fs002 and fs039",MERGED,2021-06-28 09:39:21.000000000,2021-07-07 10:47:17.000000000,2021-07-07 10:45:47.000000000,"[{'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2021-06-28 09:39:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/98ea9c414d5cd4d92e34a1c614bd5bbb2980bd9a', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\n\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}, {'number': 2, 'created': '2021-06-29 03:23:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/c3d41b0145646edff2d7b2c742af4c4173466b59', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\nAlso drops installed heat from fs027.\n\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}, {'number': 3, 'created': '2021-06-29 10:23:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9088dbc50d023f5942280204fe299e84a361cd29', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\nAlso drops installed heat from fs027.\n\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}, {'number': 4, 'created': '2021-07-01 09:40:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/0d360467cd4ccc9e096a08183f57395db03d6223', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\nAlso drops installed heat from fs027.\n\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}, {'number': 5, 'created': '2021-07-04 09:41:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ef700bf2f55faed9a251840267f6aac66a04f8c9', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\nAlso drops installed heat from fs027.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/799414\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}, {'number': 6, 'created': '2021-07-04 12:40:15.000000000', 'files': ['config/general_config/featureset039.yml', 'config/general_config/featureset027.yml', 'config/general_config/featureset002.yml', 'config/general_config/featureset001.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/df346cec9b18fae2df229c8a87504a903690924b', 'message': 'Enable ephemeral heat for fs001, fs002 and fs039\n\nThese featuresets still deploying installed heat.\nAlso drops installed heat from fs027.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/799414\nChange-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853\n'}]",0,798276,df346cec9b18fae2df229c8a87504a903690924b,36,5,6,8833,,,0,"Enable ephemeral heat for fs001, fs002 and fs039

These featuresets still deploying installed heat.
Also drops installed heat from fs027.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/799414
Change-Id: Ifa8b980a72c0746fb079f7f3bfefb550268ed853
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/76/798276/5 && git format-patch -1 --stdout FETCH_HEAD,"['config/general_config/featureset039.yml', 'config/general_config/featureset001.yml', 'config/general_config/featureset002.yml']",3,98ea9c414d5cd4d92e34a1c614bd5bbb2980bd9a,keystoneless,"ephemeral_heat: ""{{ (release not in ['queens', 'stein','train','ussuri','victoria']) | bool }}"" ephemeral_heat_args: ""{{ '--heat-type pod' if ephemeral_heat|bool else '' }}"" ",,9,0
openstack%2Ftripleo-heat-templates~master~Id57f86e62409e257f5619dc8b360cee3f922c805,openstack/tripleo-heat-templates,master,Id57f86e62409e257f5619dc8b360cee3f922c805,Neutron: Use the pids subsystem to look up container id,MERGED,2021-06-29 05:07:09.000000000,2021-07-07 10:45:31.000000000,2021-07-07 10:45:31.000000000,"[{'_account_id': 6681}, {'_account_id': 11975}, {'_account_id': 14985}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2021-06-29 05:07:09.000000000', 'files': ['deployment/neutron/kill-script'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1e992a739057d0b3b72dedeb9e6c47a14f47829', 'message': 'Neutron: Use the pids subsystem to look up container id\n\nCurrently we rely on cgroup name to detect id of sidecar containers but\nthe name is not managed by podman and it is not guaranteed that it is\nconsistent with container id.\nThis changes switches the base record to the pid subsystem which is\nactively managed by podman and more likely to be consistent with\ncontainer ids.\n\nCloses-Bug: #1933918\nChange-Id: Id57f86e62409e257f5619dc8b360cee3f922c805\n'}]",0,798414,b1e992a739057d0b3b72dedeb9e6c47a14f47829,17,10,1,9816,,,0,"Neutron: Use the pids subsystem to look up container id

Currently we rely on cgroup name to detect id of sidecar containers but
the name is not managed by podman and it is not guaranteed that it is
consistent with container id.
This changes switches the base record to the pid subsystem which is
actively managed by podman and more likely to be consistent with
container ids.

Closes-Bug: #1933918
Change-Id: Id57f86e62409e257f5619dc8b360cee3f922c805
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/14/798414/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/neutron/kill-script'],1,b1e992a739057d0b3b72dedeb9e6c47a14f47829,bug/1933918," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /:pids:/{print $3}' /proc/$PID/cgroup)"," CT_ID=$(awk 'BEGIN {FS=""[-.]""} /name=/{print $3}' /proc/$PID/cgroup)",1,1
openstack%2Ftripleo-ansible~master~I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,openstack/tripleo-ansible,master,I72b8380025fbd7b22999d4ea938cb9c218f9ad8f,Use serial or parallel execution depending on the kind of backup,MERGED,2021-06-04 09:53:49.000000000,2021-07-07 10:45:16.000000000,2021-07-07 10:45:16.000000000,"[{'_account_id': 7144}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-06-04 09:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bae53c42f6d7d3ee8b4bc60fa6ea6ccd01a5353e', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n'}, {'number': 2, 'created': '2021-06-04 10:31:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c029f33da11d2f5cd4d54d5ee11a2b78d4a4974', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n'}, {'number': 3, 'created': '2021-07-01 11:16:15.000000000', 'files': ['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed0437e2c073ae0052d1dba762940d07f16b5aa0', 'message': 'Use serial or parallel execution depending on the kind of backup\n\nCurrently, we support two kinds of backups: the ""old way"" that stops all\nthe controllers at the same time and then does the backup and the\n""snapshots"" that only stops one controller at a time.\n\nIn the first case, we want to take the backup of all the controllers\nin parallel to save time, while in the second case we want to take the\nbackup of each controller serialized so we do not stop all of them at\nthe same time.\n\nThis change enables this for the openstack overcloud backup CLI action.\n\nCloses-Bug: #1930861\nChange-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f\n'}]",2,794764,ed0437e2c073ae0052d1dba762940d07f16b5aa0,28,9,3,32968,,,0,"Use serial or parallel execution depending on the kind of backup

Currently, we support two kinds of backups: the ""old way"" that stops all
the controllers at the same time and then does the backup and the
""snapshots"" that only stops one controller at a time.

In the first case, we want to take the backup of all the controllers
in parallel to save time, while in the second case we want to take the
backup of each controller serialized so we do not stop all of them at
the same time.

This change enables this for the openstack overcloud backup CLI action.

Closes-Bug: #1930861
Change-Id: I72b8380025fbd7b22999d4ea938cb9c218f9ad8f
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/64/794764/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/cli-overcloud-backup.yaml'],1,bae53c42f6d7d3ee8b4bc60fa6ea6ccd01a5353e,change-794764-2,"- name: Backup ceph authentication become: true serial: ""{{ groups['Controller']|length if not tripleo_backup_and_restore_enable_snapshots|bool else 1}}"" vars_files: ../roles/backup_and_restore/defaults/main.yml tasks: roles: - role: backup_and_restore",- become: true name: Backup ceph authentication roles: - role: backup_and_restore,8,4
openstack%2Ftripleo-ansible~master~I879abd53a17402a0860557d8e0e31ab0c560fcd4,openstack/tripleo-ansible,master,I879abd53a17402a0860557d8e0e31ab0c560fcd4,Online backup of the galera database must desynchronize the node before backup,MERGED,2021-07-05 09:24:58.000000000,2021-07-07 10:45:09.000000000,2021-07-07 10:45:09.000000000,"[{'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 29268}, {'_account_id': 32728}]","[{'number': 1, 'created': '2021-07-05 09:24:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a452f03faa93fbba63bdf087bdd265c7e5a03b58', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 2, 'created': '2021-07-05 09:28:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9b5f0f78abb5545d015f7f274441c27ae45cc291', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 3, 'created': '2021-07-05 09:29:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9fe2c16eedb4d1ffa014d063ad06192a5590c2ee', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 4, 'created': '2021-07-05 09:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/62ddbdccf09034c8388505dcd264cfb301c24670', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 5, 'created': '2021-07-05 09:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3fc963d81042f16b33ccf3b57f0027e49d295a89', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 6, 'created': '2021-07-05 09:46:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3bf0ab11536504ef32f680d3e172d93eb70dcebe', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 7, 'created': '2021-07-05 14:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/17cbce227c7e415acbec99decae3d34266ab6bc0', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}, {'number': 8, 'created': '2021-07-05 14:27:50.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dea5ae05694a64634bfc3df63bc176a1cbeab585', 'message': 'Online backup of the galera database must desynchronize the node before backup\n\nThis fix aims to desynchonize the current node of the galera database to\navoid receiving any writes or syncs from the master node while the\nbackup is being performed, ensuring the consistency of the dump.\n\nThis procedure is specified on the product manual [1].\n\n[1] https://galeracluster.com/library/training/tutorials/galera-backup.html\n\nCloses-Bug: #1934654\n\nChange-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4\n'}]",4,799444,dea5ae05694a64634bfc3df63bc176a1cbeab585,24,8,8,32968,,,0,"Online backup of the galera database must desynchronize the node before backup

This fix aims to desynchonize the current node of the galera database to
avoid receiving any writes or syncs from the master node while the
backup is being performed, ensuring the consistency of the dump.

This procedure is specified on the product manual [1].

[1] https://galeracluster.com/library/training/tutorials/galera-backup.html

Closes-Bug: #1934654

Change-Id: I879abd53a17402a0860557d8e0e31ab0c560fcd4
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/44/799444/8 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml'],1,a452f03faa93fbba63bdf087bdd265c7e5a03b58,change-799444-6,"- name: Galera desync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root --execute \ 'SET wsrep_desync = ON'"" when: - mysql_password.stderr is defined - enabled_galera tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" - name: Galera sync the MySQL node shell: | set -o pipefail {{ tripleo_container_cli }} exec {{ tripleo_backup_and_restore_mysql_container }} bash -c ""mysql -p -u root --execute \ 'SET wsrep_desync = OFF'"" when: - mysql_password.stderr is defined - enabled_galera tags: - bar_create_recover_image no_log: ""{{ tripleo_backup_and_restore_hide_sensitive_logs | bool }}"" ",,24,0
openstack%2Fself-healing-sig~master~Icb9ca482bf8948bcfa3b04e1ce93f311f756f202,openstack/self-healing-sig,master,Icb9ca482bf8948bcfa3b04e1ce93f311f756f202,Remove testr,NEW,2021-06-30 17:43:55.000000000,2021-07-07 10:33:00.000000000,,"[{'_account_id': 2394}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2021-06-30 17:43:55.000000000', 'files': ['.stestr/format', '.gitignore', '.testr.conf', '.stestr/next-stream'], 'web_link': 'https://opendev.org/openstack/self-healing-sig/commit/0ba2b312ccc4b2473ba1c937614842abaadf1cb8', 'message': 'Remove testr\n\n* Remove .testr.conf as there are no tests present in this repository\n  and update .gitignore accordingly\n* Remove .stestr folder which is should not be present in repository\n\nSigned-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>\nChange-Id: Icb9ca482bf8948bcfa3b04e1ce93f311f756f202\n'}]",0,798937,0ba2b312ccc4b2473ba1c937614842abaadf1cb8,4,3,1,33370,,,0,"Remove testr

* Remove .testr.conf as there are no tests present in this repository
  and update .gitignore accordingly
* Remove .stestr folder which is should not be present in repository

Signed-off-by: HeroicHitesh <email.hiteshkumar@gmail.com>
Change-Id: Icb9ca482bf8948bcfa3b04e1ce93f311f756f202
",git fetch https://review.opendev.org/openstack/self-healing-sig refs/changes/37/798937/1 && git format-patch -1 --stdout FETCH_HEAD,"['.stestr/format', '.gitignore', '.testr.conf', '.stestr/next-stream']",4,0ba2b312ccc4b2473ba1c937614842abaadf1cb8,stestr,,0 ,0,10
