id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fneutron~865588,openstack/neutron,master,I6803a194218fc2e92aae481917e850a27417d721,"Remove deprecation warning of ""ovs-ofctl"" usage",MERGED,2022-11-24 17:02:43.000000000,2022-11-28 18:45:48.000000000,2022-11-28 18:45:48.000000000,"[{'_account_id': 1131}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-24 17:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3e318fb903892ef412136cf3c2908c45567f4e97', 'message': 'Remove deprecation warning of ""ovs-ofctl"" usage\n\nThis tool was not removed in the expected version and there are no\nplans to remove it yet. This patch removes the deprecation warning.\n\nChange-Id: I6803a194218fc2e92aae481917e850a27417d721\n'}, {'number': 2, 'created': '2022-11-25 08:19:48.000000000', 'files': ['neutron/agent/common/ovs_lib.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5dad500481dc6ac9b9f2f91995f25d8b33af56bf', 'message': 'Remove deprecation warning of ""ovs-ofctl"" usage\n\nThis tool was not removed in the expected version and there are no\nplans to remove it yet. This patch removes the deprecation warning.\n\nChange-Id: I6803a194218fc2e92aae481917e850a27417d721\n'}]",1,865588,5dad500481dc6ac9b9f2f91995f25d8b33af56bf,15,5,2,16688,,,0,"Remove deprecation warning of ""ovs-ofctl"" usage

This tool was not removed in the expected version and there are no
plans to remove it yet. This patch removes the deprecation warning.

Change-Id: I6803a194218fc2e92aae481917e850a27417d721
",git fetch https://review.opendev.org/openstack/neutron refs/changes/88/865588/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/common/ovs_lib.py'],1,3e318fb903892ef412136cf3c2908c45567f4e97,remove_ovs-ofctl_deprecation_warning,," debtcollector.deprecate(""Use of run_ofctl is "" ""deprecated"", removal_version='V')",0,2
openstack%2Fironic~864057,openstack/ironic,master,Id2e1462362e97d0152f3948e978a05ec16ca8e4d,Get inventory from Inspector,MERGED,2022-11-08 19:15:17.000000000,2022-11-28 18:38:40.000000000,2022-11-28 18:37:09.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 19:15:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/554b8846a54f79a07d589fec49ccde195de93bbb', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 2, 'created': '2022-11-15 17:00:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8f710be20a60f7abba4dcbf24c02a1840e191a92', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 3, 'created': '2022-11-22 17:35:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6161af95f0b588a2d74b7569cfbd5ce6551a6847', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 4, 'created': '2022-11-22 17:58:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73d70735a7182fc5367474d04347459ae39b10e2', 'message': 'WIP: Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}, {'number': 5, 'created': '2022-11-22 18:38:10.000000000', 'files': ['ironic/tests/unit/drivers/modules/test_inspector.py', 'ironic/drivers/modules/inspector.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4073d198390914b3582e7692e3032d0d644b9479', 'message': 'Get inventory from Inspector\n\nGet inventory data and store it in the local database.\n\nStory: 2010275\nTask: 46204\nChange-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d\n'}]",4,864057,4073d198390914b3582e7692e3032d0d644b9479,28,4,5,35099,,,0,"Get inventory from Inspector

Get inventory data and store it in the local database.

Story: 2010275
Task: 46204
Change-Id: Id2e1462362e97d0152f3948e978a05ec16ca8e4d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/57/864057/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic/drivers/modules/inspector.py'],1,554b8846a54f79a07d589fec49ccde195de93bbb,get_inventory_from_inspector,"from ironic.objects import node_inventory inspector_client = _get_client(task.context) status = inspector_client.get_introspection(node.uuid) inventory_data = inspector_client.get_introspection_data( node.uuid, processed=True) node_inventory.NodeInventory( node_id=node.id, inventory_data=inventory_data).create()", status = _get_client(task.context).get_introspection(node.uuid),8,1
openstack%2Fansible-role-pki~865420,openstack/ansible-role-pki,master,I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172,Allow to specify format for private keys,MERGED,2022-11-23 11:49:14.000000000,2022-11-28 18:13:08.000000000,2022-11-28 18:12:13.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-23 11:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/9d97eafdd39a77924998efa3d5841660e480753e', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}, {'number': 2, 'created': '2022-11-24 10:23:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/b1dee02a6c8ee653d10332d60d92866a254c262b', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}, {'number': 3, 'created': '2022-11-24 15:22:08.000000000', 'files': ['tasks/standalone/create_cert.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/eb5c560158929439886713ce687d522a86429f72', 'message': 'Allow to specify format for private keys\n\nSome applications, like zookeeper, require private key to be in pkcs8\nformat while default one is pkcs1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312\nChange-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172\n'}]",0,865420,eb5c560158929439886713ce687d522a86429f72,13,3,3,28619,,,0,"Allow to specify format for private keys

Some applications, like zookeeper, require private key to be in pkcs8
format while default one is pkcs1

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/865312
Change-Id: I5c27ddbc29f572ad48d5acb9a3ec17613f0d2172
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/20/865420/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/standalone/create_cert.yml'],1,9d97eafdd39a77924998efa3d5841660e480753e,osa/zookeeper," format: ""{{ cert.key_format | default(omit) }}""",,1,0
openstack%2Fdiskimage-builder~860428,openstack/diskimage-builder,master,I5f3d0dc5a72db853fea37873eb4643a116412dda,Change rockylinux-9 container to use baseurl instead of mirrorlist,ABANDONED,2022-10-05 14:52:25.000000000,2022-11-28 18:11:10.000000000,,"[{'_account_id': 4146}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-05 14:52:25.000000000', 'files': ['diskimage_builder/elements/rocky-container/containerfiles/9'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/516ef9c0d768d46b132e50e7a3500a2a312829ce', 'message': 'Change rockylinux-9 container to use baseurl instead of mirrorlist\n\nSome errors during build due to a bad mirror, it appears. This should\nuse the dl.rockylinux.org CDN and will help determine if it was just a\nproblem with a single mirror being returned to the node builder\nmachines.\n\nChange-Id: I5f3d0dc5a72db853fea37873eb4643a116412dda\n'}]",1,860428,516ef9c0d768d46b132e50e7a3500a2a312829ce,9,4,1,34411,,,0,"Change rockylinux-9 container to use baseurl instead of mirrorlist

Some errors during build due to a bad mirror, it appears. This should
use the dl.rockylinux.org CDN and will help determine if it was just a
problem with a single mirror being returned to the node builder
machines.

Change-Id: I5f3d0dc5a72db853fea37873eb4643a116412dda
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/28/860428/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/rocky-container/containerfiles/9'],1,516ef9c0d768d46b132e50e7a3500a2a312829ce,,# NOTE(nhanlon) 2022-10-05: Force rocky mirrors to use dl.rockylinux.org instead of mirrorlist RUN sed -i -e 's/^mirrorlist.*//g' -e 's/^#baseurl/baseurl/g' /etc/yum.repos.d/rocky*.repo ,,3,0
openstack%2Fansible-role-pki~865574,openstack/ansible-role-pki,master,I979fad595325f5608c889993079a8bb4bcdb9929,Drop bindep file,MERGED,2022-11-24 15:21:54.000000000,2022-11-28 18:05:00.000000000,2022-11-28 18:04:06.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2022-11-24 15:21:54.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ansible-role-pki/commit/af36b57757429b0aceb6e62894ce8f9ef5ab9682', 'message': ""Drop bindep file\n\nWe don't really need bindep file on our roles so it can be safely\nremoved.\n\nAt the moment role breaks due to content of bindep as with switch to\nUbuntu Jammy python2 packages are no longer available.\n\nChange-Id: I979fad595325f5608c889993079a8bb4bcdb9929\n""}]",0,865574,af36b57757429b0aceb6e62894ce8f9ef5ab9682,8,3,1,28619,,,0,"Drop bindep file

We don't really need bindep file on our roles so it can be safely
removed.

At the moment role breaks due to content of bindep as with switch to
Ubuntu Jammy python2 packages are no longer available.

Change-Id: I979fad595325f5608c889993079a8bb4bcdb9929
",git fetch https://review.opendev.org/openstack/ansible-role-pki refs/changes/74/865574/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,af36b57757429b0aceb6e62894ce8f9ef5ab9682,,,"# This file facilitates OpenStack-CI package installation # before the execution of any tests. # # See the following for details: # - https://docs.openstack.org/infra/bindep/ # - https://opendev.org/openstack-infra/bindep # # Even if the role does not make use of this facility, it # is better to have this file empty, otherwise OpenStack-CI # will fall back to installing its default packages which # will potentially be detrimental to the tests executed. # # Note: # This file is maintained in the openstack-ansible-tests repository. # https://opendev.org/openstack/openstack-ansible-tests/src/bindep.txt # If you need to remove or add extra dependencies, you should modify # the central file instead and once your change is accepted then update # this file as well. The purpose of this file is to ensure that Python and # Ansible have all their necessary binary requirements on the test host before # tox executes. Any binary requirements needed by services/roles should be # installed by those roles in their applicable package install tasks, not through # using this file. # # The gcc compiler gcc # Base requirements for Ubuntu git-core [platform:dpkg platform:suse] libssl-dev [platform:dpkg] libffi-dev [platform:dpkg] python2.7 [platform:dpkg] python-apt [platform:dpkg] python-dev [platform:dpkg] python3 [platform:dpkg] python3-apt [platform:dpkg] python3-dev [platform:dpkg] # Base requirements for RPM distros gcc-c++ [platform:rpm] git [platform:rpm !platform:suse] libffi-devel [platform:rpm] openssl-devel [platform:rpm] python-devel [platform:rpm] python2-dnf [platform:fedora] # Base requirements for Gentoo git [platform:gentoo] # For SELinux libselinux-python [platform:redhat] libsemanage-python [platform:redhat] ",0,52
openstack%2Fopenstack-ansible-lxc_hosts~828120,openstack/openstack-ansible-lxc_hosts,master,I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e,Replace ifupdown with native ip-link,MERGED,2022-02-07 12:30:38.000000000,2022-11-28 18:03:57.000000000,2022-11-28 18:02:55.000000000,"[{'_account_id': 7353}, {'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-02-07 12:30:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/b929e677617247ac5eea42126ee11c7f76909c0d', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 2, 'created': '2022-02-07 14:42:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/edd80cf9e11a80e9cb6d1fe6505dbb0f34006d56', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 3, 'created': '2022-02-07 14:42:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/59f44ab99bc0d958031ef01f9b43f6ed2de46383', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 4, 'created': '2022-02-07 14:44:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/83af9d96f35a5d65a916e0acc3b19b6a7f278f36', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 5, 'created': '2022-02-19 15:32:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/c6729553f977da0764b2bca13cfbc7f5fca425ea', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 6, 'created': '2022-10-14 08:27:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9e341409b1ecf78d63fa514a91c4d8eadcf830cb', 'message': 'Replace ifupdown with native ip-link\n\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n'}, {'number': 7, 'created': '2022-10-14 10:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/9d48d917dd3a9a5d4c95242494b71d09e91804d3', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 8, 'created': '2022-10-14 10:52:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/99325ab127c064fc1c61c911f7e58a5707a80025', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 9, 'created': '2022-10-14 11:03:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0a75340f7d4185ba970438bb8290acd18d5e968a', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 10, 'created': '2022-10-14 11:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/de38595061cd846dd7dcf5c7d54293d6a3c99907', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 11, 'created': '2022-10-18 08:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/6134f97cd562534cd5fca28021fc893c41e33e25', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 12, 'created': '2022-10-18 08:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/957c0419dcfecfbb7612fd1e7cbae34287c30dea', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 13, 'created': '2022-10-18 08:37:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/0cc0dc613054f915dae79c8f9f90fc5c10a13a3b', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 14, 'created': '2022-11-02 12:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/ad3d4b0d134f8c8b83b447ea52160107c60cd9b4', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}, {'number': 15, 'created': '2022-11-11 08:58:05.000000000', 'files': ['templates/lxc-networkd-bridge.netdev.j2', 'templates/lxc-system-manage.j2', 'tasks/lxc_net.yml', 'templates/lxc-net-bridge.cfg.j2', 'vars/debian-host.yml', 'templates/lxc-dnsmasq-systemd-init.j2', 'templates/lxc-networkd-bridge.network.j2', 'handlers/main.yml', 'templates/lxc-net-redhat-bridge.cfg.j2', 'vars/redhat-host.yml', 'templates/lxc-net-redhat-postdown.cfg.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-lxc_hosts/commit/3d8e3690ba620d1724129f8ed1a6a040c5ccdac9', 'message': ""Replace ifupdown with native ip-link\n\nWe also leverage systemd-networkd for managing lxc-net and replace\nusing of custom service template for lxc-dnsmasq service with our\nsystemd-service role. These changes are quite tighten together, so\nit's quite hard to split them in different patchsets.\n\nDepends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350\nChange-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e\n""}]",12,828120,3d8e3690ba620d1724129f8ed1a6a040c5ccdac9,43,5,15,28619,,,0,"Replace ifupdown with native ip-link

We also leverage systemd-networkd for managing lxc-net and replace
using of custom service template for lxc-dnsmasq service with our
systemd-service role. These changes are quite tighten together, so
it's quite hard to split them in different patchsets.

Depends-On: https://review.opendev.org/c/openstack/ansible-role-systemd_service/+/861350
Change-Id: I5ac99e2b6c6e6ccd9da18ae68e1f8801f95f4f4e
",git fetch https://review.opendev.org/openstack/openstack-ansible-lxc_hosts refs/changes/20/828120/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/lxc-system-manage.j2', 'vars/debian-host.yml', 'handlers/main.yml', 'vars/ubuntu-20.04-host.yml']",4,b929e677617247ac5eea42126ee11c7f76909c0d,osa/systemd_roles,, - ifupdown,2,4
openstack%2Ftripleo-ci~865506,openstack/tripleo-ci,master,Ibacc9b0e4d00c24f4224ccfb01381735ebab503b,Trigger scenario001 job when tripelo-podman role is upsed,MERGED,2022-11-24 06:53:19.000000000,2022-11-28 17:52:56.000000000,2022-11-28 17:52:56.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-24 06:53:19.000000000', 'files': ['zuul.d/standalone-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/592bfa8155a1cf60ae135fa0ea20643cca3ca8e0', 'message': 'Trigger scenario001 job when tripelo-podman role is upsed\n\nThe collectd service now directly refers to the implementations in\ntripleo-podman role. This change makes sure we trigger the scenario 001\njob, which contains collectd, when we make any change in tripleo-podman\nrole.\n\nChange-Id: Ibacc9b0e4d00c24f4224ccfb01381735ebab503b\n'}]",2,865506,592bfa8155a1cf60ae135fa0ea20643cca3ca8e0,12,5,1,9816,,,0,"Trigger scenario001 job when tripelo-podman role is upsed

The collectd service now directly refers to the implementations in
tripleo-podman role. This change makes sure we trigger the scenario 001
job, which contains collectd, when we make any change in tripleo-podman
role.

Change-Id: Ibacc9b0e4d00c24f4224ccfb01381735ebab503b
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/06/865506/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,592bfa8155a1cf60ae135fa0ea20643cca3ca8e0,, - ^tripleo_ansible/roles/tripleo_podman/.*,,1,0
openstack%2Fneutron~864152,openstack/neutron,master,Ib9663495f30562f79babef163729a0c43812089d,Fix behaviour of enable/disable in OVN network log,MERGED,2022-11-09 23:49:33.000000000,2022-11-28 17:47:00.000000000,2022-11-28 17:44:38.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-09 23:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0e6b6787ffefd40231fa0915f87d6bf183d21c3a', 'message': '[WIP][OVN] Support enable and disable network logging\n\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\n'}, {'number': 2, 'created': '2022-11-11 16:59:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2956e3712ea7cad0abd06552c42f881c7b3173cb', 'message': '[WIP][OVN] Support enable and disable network logging\n\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\n'}, {'number': 3, 'created': '2022-11-16 15:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c50eebc3f2fab424c79036cf2029244b25ca4ed6', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 4, 'created': '2022-11-18 13:54:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4d6df4bb6fe942bd6e05088d030b49a65dd7056f', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 5, 'created': '2022-11-24 12:06:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfd34d8e64c99eedc5573317d4daa1d0130c8be8', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}, {'number': 6, 'created': '2022-11-25 15:42:45.000000000', 'files': ['neutron/services/logapi/drivers/ovn/driver.py', 'neutron/tests/functional/services/logapi/drivers/ovn/test_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/f629b77d3c821717333eb740311a33a7a45b0e8d', 'message': 'Fix behaviour of enable/disable in OVN network log\n\nPreviously, only the first log object created that associated to a\ncertain ACL would be able to make changes to the True/False property of\nthat ACL. This patch makes the driver to take in consideration each log\nobject created to enable or disable an ACL logging status. A functional\ntest is added so as to ensure correct behaviour of this feature.\n\nCloses-Bug: #1996780\nChange-Id: Ib9663495f30562f79babef163729a0c43812089d\nSigned-off-by: Elvira García <egarciar@redhat.com>\n'}]",25,864152,f629b77d3c821717333eb740311a33a7a45b0e8d,39,4,6,32586,,,0,"Fix behaviour of enable/disable in OVN network log

Previously, only the first log object created that associated to a
certain ACL would be able to make changes to the True/False property of
that ACL. This patch makes the driver to take in consideration each log
object created to enable or disable an ACL logging status. A functional
test is added so as to ensure correct behaviour of this feature.

Closes-Bug: #1996780
Change-Id: Ib9663495f30562f79babef163729a0c43812089d
Signed-off-by: Elvira García <egarciar@redhat.com>
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/864152/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/logapi/drivers/ovn/driver.py'],1,0e6b6787ffefd40231fa0915f87d6bf183d21c3a,disable_sgl," #import pdb; pdb.set_trace() if not log_obj.enabled: other_logs = [log for log in self._get_logs(context) if log.id != log_obj.id and log.enabled] if other_logs: if log_obj.event == log_const.ALL_EVENT: acls_to_check = pgs[0][""acls""].copy() for log in other_logs: active_acls = self._pgs_from_log_obj(context, log)[0][""acls""] for acl in active_acls: if acl in acls_to_check: acl_to_check.remove(acl) if not acls_to_check: return acls_to_remove = [{""name"":pgs[0][""name""], ""acls"":acls_to_check}] self._remove_acls_log(acls_to_remove, ovn_txn) else: all_events = set([log.event for log in other_logs if not log.resource_id or log.resource_id == log_obj.resource_id]) if log_const.ALL_EVENT in all_events: return elif log_obj.event not in all_events: self._remove_acls_log(pgs, ovn_txn) else: self._set_acls_log(pgs, ovn_txn, actions_enabled, utils.ovn_name(log_obj.id))"," self._set_acls_log(pgs, ovn_txn, actions_enabled, utils.ovn_name(log_obj.id)) ",25,3
openstack%2Fswift~865707,openstack/swift,master,Ic0454c5f1d37a84258e43427cfe7cd6dfced285b,proxy: add test for ContainerController._GET_using_cache,MERGED,2022-11-25 18:25:15.000000000,2022-11-28 17:45:50.000000000,2022-11-28 17:44:42.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 18:25:15.000000000', 'files': ['test/unit/proxy/controllers/test_container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/a1939cba037926400cd777059ee511481916cb08', 'message': ""proxy: add test for ContainerController._GET_using_cache\n\nAdd coverage for container the GET path that attempts to use memcache.\n\nWhen memcache is not available the backend requests will reverse shard\nranges if required by the request params. When memcache is available\nthe proxy sends a 'X-Backend-Override-Shard-Name-Filter' header to\ninstruct the backend to always return ShardRanges in their natural\norder. Add test coverage for the latter case.\n\nAlso add a last_modified item to the shard range dicts in mock\nresponse bodies to be consistent with the real server response.\n\nChange-Id: Ic0454c5f1d37a84258e43427cfe7cd6dfced285b\n""}]",3,865707,a1939cba037926400cd777059ee511481916cb08,13,2,1,7847,,,0,"proxy: add test for ContainerController._GET_using_cache

Add coverage for container the GET path that attempts to use memcache.

When memcache is not available the backend requests will reverse shard
ranges if required by the request params. When memcache is available
the proxy sends a 'X-Backend-Override-Shard-Name-Filter' header to
instruct the backend to always return ShardRanges in their natural
order. Add test coverage for the latter case.

Also add a last_modified item to the shard range dicts in mock
response bodies to be consistent with the real server response.

Change-Id: Ic0454c5f1d37a84258e43427cfe7cd6dfced285b
",git fetch https://review.opendev.org/openstack/swift refs/changes/07/865707/1 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/proxy/controllers/test_container.py'],1,a1939cba037926400cd777059ee511481916cb08,p-namespace-map-2," reverse=False, expected_status=200, memcache=False): if memcache: # memcache exists, which causes backend to ignore constraints and # reverse params for shard range GETs request.environ['swift.cache'] = FakeMemcache() if memcache: self.assertEqual('sharded', req['headers'].get( 'X-Backend-Override-Shard-Name-Filter')) else: self.assertNotIn('X-Backend-Override-Shard-Name-Filter', req['headers']) def test_GET_sharded_container_no_memcache(self): sr_dicts = [dict(sr, last_modified=sr.timestamp.isoformat) for sr in shard_ranges] # NB: the backend returns reversed shard range list def test_GET_sharded_container_with_memcache(self): # verify alternative code path in ContainerController when memcache is # available... shard_bounds = ('', 'ham', 'pie', u'\N{SNOWMAN}', u'\U0001F334', '') shard_ranges = [ ShardRange('.shards_a/c_%s' % upper, Timestamp.now(), lower, upper) for lower, upper in zip(shard_bounds[:-1], shard_bounds[1:])] sr_dicts = [dict(sr, last_modified=sr.timestamp.isoformat) for sr in shard_ranges] sr_objs = [self._make_shard_objects(sr) for sr in shard_ranges] shard_resp_hdrs = [ {'X-Backend-Sharding-State': 'unsharded', 'X-Container-Object-Count': len(sr_objs[i]), 'X-Container-Bytes-Used': sum([obj['bytes'] for obj in sr_objs[i]]), 'X-Container-Meta-Flavour': 'flavour%d' % i, 'X-Backend-Storage-Policy-Index': 0} for i, _ in enumerate(shard_ranges)] all_objects = [] for objects in sr_objs: all_objects.extend(objects) size_all_objects = sum([obj['bytes'] for obj in all_objects]) num_all_objects = len(all_objects) limit = CONTAINER_LISTING_LIMIT expected_objects = all_objects root_resp_hdrs = {'X-Backend-Sharding-State': 'sharded', 'X-Backend-Timestamp': '99', # pretend root object stats are not yet updated 'X-Container-Object-Count': num_all_objects - 1, 'X-Container-Bytes-Used': size_all_objects - 1, 'X-Container-Meta-Flavour': 'peach', 'X-Backend-Storage-Policy-Index': 0, 'X-Backend-Override-Shard-Name-Filter': 'true'} root_shard_resp_hdrs = dict(root_resp_hdrs) root_shard_resp_hdrs['X-Backend-Record-Type'] = 'shard' # GET all objects # include some failed responses mock_responses = [ # status, body, headers (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2], shard_resp_hdrs[2]), (200, sr_objs[3], shard_resp_hdrs[3]), (200, sr_objs[4], shard_resp_hdrs[4]), ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto'}, dict(states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='ham\x00', limit=str(limit), states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xd1\xb0', end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xe2\xa8\x83', end_marker='', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2] + sr_objs[3])))), # 200 ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET all objects - sharding, final shard range points back to root root_range = ShardRange('a/c', Timestamp.now(), 'pie', '') mock_responses = [ # status, body, headers (200, sr_dicts[:2] + [dict(root_range)], root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2] + sr_objs[3] + sr_objs[4], root_resp_hdrs) ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing')), # 200 (shard_ranges[0].name, {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='ham\x00', limit=str(limit), states='listing')), # 200 (shard_ranges[1].name, {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), # 200 (root_range.name, {'X-Backend-Record-Type': 'object', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='p', end_marker='', limit=str(limit - len(sr_objs[0] + sr_objs[1])))) # 200 ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET all objects in reverse and *blank* limit mock_responses = [ # status, body, headers (200, list(sr_dicts), root_shard_resp_hdrs), (200, list(reversed(sr_objs[4])), shard_resp_hdrs[4]), (200, list(reversed(sr_objs[3])), shard_resp_hdrs[3]), (200, list(reversed(sr_objs[2])), shard_resp_hdrs[2]), (200, list(reversed(sr_objs[1])), shard_resp_hdrs[1]), (200, list(reversed(sr_objs[0])), shard_resp_hdrs[0]), ] expected_requests = [ # path, headers, params ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing', reverse='true', limit='')), (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='', end_marker='\xf0\x9f\x8c\xb4', states='listing', reverse='true', limit=str(limit))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xf0\x9f\x8c\xb5', end_marker='\xe2\x98\x83', states='listing', reverse='true', limit=str(limit - len(sr_objs[4])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='\xe2\x98\x84', end_marker='pie', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='q', end_marker='ham', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3] + sr_objs[2])))), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, dict(marker='i', end_marker='', states='listing', reverse='true', limit=str(limit - len(sr_objs[4] + sr_objs[3] + sr_objs[2] + sr_objs[1])))), # 200 ] resp = self._check_GET_shard_listing( mock_responses, list(reversed(expected_objects)), expected_requests, query_string='?reverse=true&limit=', reverse=True, memcache=True) # root object count will overridden by actual length of listing self.check_response(resp, root_resp_hdrs, expected_objects=expected_objects) # GET with limit param limit = len(sr_objs[0]) + len(sr_objs[1]) + 1 expected_objects = all_objects[:limit] mock_responses = [ (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2][:1], shard_resp_hdrs[2]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(limit=str(limit), states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(limit=str(limit), states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='', end_marker='ham\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?limit=%s' % limit, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with marker marker = bytes_to_wsgi(sr_objs[3][2]['name'].encode('utf8')) first_included = (len(sr_objs[0]) + len(sr_objs[1]) + len(sr_objs[2]) + 2) limit = CONTAINER_LISTING_LIMIT expected_objects = all_objects[first_included:] mock_responses = [ (404, '', {}), (200, sr_dicts[3:], root_shard_resp_hdrs), (404, '', {}), (200, sr_objs[3][2:], shard_resp_hdrs[3]), (200, sr_objs[4], shard_resp_hdrs[4]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=marker, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=marker, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker='\xf0\x9f\x8c\xb4\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[4].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='\xe2\xa8\x83', end_marker='', states='listing', limit=str(limit - len(sr_objs[3][2:])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s' % marker, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with end marker end_marker = bytes_to_wsgi(sr_objs[3][6]['name'].encode('utf8')) first_excluded = (len(sr_objs[0]) + len(sr_objs[1]) + len(sr_objs[2]) + 6) expected_objects = all_objects[:first_excluded] mock_responses = [ (404, '', {}), (200, sr_dicts[:4], root_shard_resp_hdrs), (200, sr_objs[0], shard_resp_hdrs[0]), (404, '', {}), (200, sr_objs[1], shard_resp_hdrs[1]), (200, sr_objs[2], shard_resp_hdrs[2]), (404, '', {}), (200, sr_objs[3][:6], shard_resp_hdrs[3]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(end_marker=end_marker, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(end_marker=end_marker, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[0].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='', end_marker='ham\x00', states='listing', limit=str(limit))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='h', end_marker='pie\x00', states='listing', limit=str(limit - len(sr_objs[0])))), (wsgi_quote(str_to_wsgi(shard_ranges[2].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='p', end_marker='\xe2\x98\x83\x00', states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1])))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(marker='\xd1\xb0', end_marker=end_marker, states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker='\xd1\xb0', end_marker=end_marker, states='listing', limit=str(limit - len(sr_objs[0] + sr_objs[1] + sr_objs[2])))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?end_marker=%s' % end_marker, memcache=True) self.check_response(resp, root_resp_hdrs) # GET with prefix prefix = 'hat' # they're all 1-character names; the important thing # is which shards we query expected_objects = [] mock_responses = [ (404, '', {}), (200, sr_dicts, root_shard_resp_hdrs), (200, [], shard_resp_hdrs[1]), ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(prefix=prefix, states='listing')), # 404 ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(prefix=prefix, states='listing')), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[1].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 404 dict(prefix=prefix, marker='', end_marker='pie\x00', states='listing', limit=str(limit))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?prefix=%s' % prefix, memcache=True) self.check_response(resp, root_resp_hdrs) # marker and end_marker and limit limit = 2 expected_objects = all_objects[first_included:first_excluded] mock_responses = [ (200, sr_dicts[3:4], root_shard_resp_hdrs), (200, sr_objs[3][2:6], shard_resp_hdrs[1]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(states='listing', limit=str(limit), marker=marker, end_marker=end_marker)), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=marker, end_marker=end_marker, states='listing', limit=str(limit))), ] resp = self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s&end_marker=%s&limit=%s' % (marker, end_marker, limit), memcache=True) self.check_response(resp, root_resp_hdrs) # reverse with marker, end_marker, and limit expected_objects.reverse() mock_responses = [ (200, sr_dicts[3:4], root_shard_resp_hdrs), (200, list(reversed(sr_objs[3][2:6])), shard_resp_hdrs[1]) ] expected_requests = [ ('a/c', {'X-Backend-Record-Type': 'auto', 'X-Backend-Override-Shard-Name-Filter': 'sharded'}, dict(marker=end_marker, reverse='true', end_marker=marker, limit=str(limit), states='listing',)), # 200 (wsgi_quote(str_to_wsgi(shard_ranges[3].name)), {'X-Backend-Record-Type': 'auto', 'X-Backend-Storage-Policy-Index': '0'}, # 200 dict(marker=end_marker, end_marker=marker, states='listing', limit=str(limit), reverse='true')), ] self._check_GET_shard_listing( mock_responses, expected_objects, expected_requests, query_string='?marker=%s&end_marker=%s&limit=%s&reverse=true' % (end_marker, marker, limit), reverse=True, memcache=True) self.check_response(resp, root_resp_hdrs) "," reverse=False, expected_status=200): def test_GET_sharded_container(self): sr_dicts = [dict(sr) for sr in shard_ranges]",415,3
openstack%2Fneutron~865525,openstack/neutron,master,Ic35b5d4b9110b832c10345c45ec62c0923237cfd,Fix duplicated routes exceptions,MERGED,2022-11-24 10:49:47.000000000,2022-11-28 17:45:46.000000000,2022-11-28 17:44:30.000000000,"[{'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 10:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/773c92b23bfc3f8d3bbf208ebfbc356429f555bb', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending on the keepalived version.\nThis can result in duplicated routes inside network namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state because it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of keepalived's configuration\nso network namespaces do not run into duplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 2, 'created': '2022-11-24 11:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3ab987398926aa859ced0cab5f763a53b5e38278', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending on the keepalived version.\nThis can result in duplicated routes inside network namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state because it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of keepalived's configuration\nso network namespaces do not run into duplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 3, 'created': '2022-11-24 12:00:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5a11e73da7b75fcfb39ae4eff99bfa14ed043465', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 4, 'created': '2022-11-24 12:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e006ad9fc3f0a68f1186699f649c9746da0f9ed6', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 5, 'created': '2022-11-24 22:13:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92b3027b60e2257e554aa91c8295672e72ecde2f', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 6, 'created': '2022-11-25 08:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7fbe080712193e05c594f3241d62cdcd0c2769ea', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 7, 'created': '2022-11-25 15:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a91a2e23ddb7220f27938590562ab7bad3147d11', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}, {'number': 8, 'created': '2022-11-25 18:40:09.000000000', 'files': ['neutron/tests/unit/agent/linux/test_keepalived.py', 'neutron/agent/linux/keepalived.py', 'neutron/tests/functional/agent/l3/framework.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c813b658d0e5e0c00093f90f849fcf67ddca16cf', 'message': ""Fix duplicated routes exceptions\n\nSince the train release neutron adds routes with protocol static.\nKeepalived also adds the same routes with different protocols depending\non the keepalived version. This can result in duplicated routes inside\nnetwork namespaces. On l3 agent restarts those duplicate routes\nthen prevent the l3 agent from updating its router state\nbecause it runs into 'RTNETLINK answers: File exists expections'\nwhen it tries to execute 'ip route' commands.\n\nThis patch adds the same protocol static to each virtual route of\nkeepalived's configuration so network namespaces do not run into\nduplicated routes anymore.\n\nCloses-Bug: #1956846\nChange-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd\n""}]",25,865525,c813b658d0e5e0c00093f90f849fcf67ddca16cf,41,4,8,34380,,,0,"Fix duplicated routes exceptions

Since the train release neutron adds routes with protocol static.
Keepalived also adds the same routes with different protocols depending
on the keepalived version. This can result in duplicated routes inside
network namespaces. On l3 agent restarts those duplicate routes
then prevent the l3 agent from updating its router state
because it runs into 'RTNETLINK answers: File exists expections'
when it tries to execute 'ip route' commands.

This patch adds the same protocol static to each virtual route of
keepalived's configuration so network namespaces do not run into
duplicated routes anymore.

Closes-Bug: #1956846
Change-Id: Ic35b5d4b9110b832c10345c45ec62c0923237cfd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/865525/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/linux/keepalived.py'],1,773c92b23bfc3f8d3bbf208ebfbc356429f555bb,fix-duplicated-routes, # NOTE: neutron and keepalived are adding the same routes on primary routers. # With this we ensure that both are adding the routes with the same procotol # and prevent duplicated routes which result in neutron exception for ip route commands. output += ' protocol static',,4,0
openstack%2Fpuppet-nova~826958,openstack/puppet-nova,master,I0f590f12017e743a17d989d3a1008faa9b840e87,Migrate instance_name_template to the base class,MERGED,2022-01-29 14:39:35.000000000,2022-11-28 17:42:24.000000000,2022-11-28 17:41:25.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 25613}, {'_account_id': 27419}]","[{'number': 1, 'created': '2022-01-29 14:39:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/36c568452c69430067079710c9a9967a6c7ad37e', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nDeployment would fail if the old parameter is used and customized\nto let users aware of the ineffective usage.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 2, 'created': '2022-11-18 03:29:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1884f41b2b994ecbaa620cd0916a899855700f1e', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 3, 'created': '2022-11-18 05:20:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0d953bf80a13c2928ee7ae5c47946642d298bcbf', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}, {'number': 4, 'created': '2022-11-21 00:48:26.000000000', 'files': ['manifests/api.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/move-instance_name_template-to-base-52516c9df907a8c6.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/73eb553202e77ca3073764bb863cc07adc7f32c4', 'message': 'Migrate instance_name_template to the base class\n\nThe [DEFAULT] instance_name_template parameter is used not only by\nnova-api but by other services like nova-conductor or nova-compute.\nThis change migrate the parameter from the api class to the base class\nso that users can configure the parameter for all services.\n\nChange-Id: I0f590f12017e743a17d989d3a1008faa9b840e87\n'}]",8,826958,73eb553202e77ca3073764bb863cc07adc7f32c4,34,6,4,9816,,,0,"Migrate instance_name_template to the base class

The [DEFAULT] instance_name_template parameter is used not only by
nova-api but by other services like nova-conductor or nova-compute.
This change migrate the parameter from the api class to the base class
so that users can configure the parameter for all services.

Change-Id: I0f590f12017e743a17d989d3a1008faa9b840e87
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/826958/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/api.pp', 'manifests/init.pp', 'spec/classes/nova_init_spec.rb', 'releasenotes/notes/move-instance_name_template-to-base-52516c9df907a8c6.yaml']",5,36c568452c69430067079710c9a9967a6c7ad37e,instance_name_template,--- deprecations: - | The ``nova::api::instance_name_template`` parameter has been deprecated and has no effect. Use the ``nova::instance_name_template`` parameter instead so that the setting is applied to all nova services. ,,28,26
openstack%2Fneutron~865039,openstack/neutron,master,I902cc542f2d0e81ff7d1c4379199a5cf92af907c,[DNM] Testing patch,ABANDONED,2022-11-18 15:32:10.000000000,2022-11-28 17:25:00.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 15:32:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/13c35ad5ddda254678fa918387109bf89553143f', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 2, 'created': '2022-11-18 16:29:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36a42c574df6bb7557e087ab37edeca11723ca70', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 3, 'created': '2022-11-21 12:57:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1440c8feb503f1548c8ac657c53ad866fb0b06fc', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 4, 'created': '2022-11-21 17:16:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/140a8c6fd4b754f26564744ab557bed7b1df9d93', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 5, 'created': '2022-11-21 19:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e7f61163e21d6f4055b3a3bd757a7de559dded64', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 6, 'created': '2022-11-22 09:24:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5e00993109f7b1ee044644401832d3c23d6b4359', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 7, 'created': '2022-11-22 12:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d6733fdd7261d5dc1ca9c06ed5edc80e085817a1', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 8, 'created': '2022-11-22 15:34:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/348b8cf559655543418352bc19062141c101c4eb', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 9, 'created': '2022-11-22 17:01:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b7555bc39d5f55801e6e77442654989405b3433e', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 10, 'created': '2022-11-23 09:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ee4169aa1d5a89b529290f3b95367d758b3be0a', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 11, 'created': '2022-11-23 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7da7c53442dbfd729a882d23f075695da5cd2883', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 12, 'created': '2022-11-24 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5b7828ebdd6377fae88f34c91eebf50b74115a4', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 13, 'created': '2022-11-25 10:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a04d5557ad92c6fc99f8fcda0b6a0ba7ca64bd7b', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}, {'number': 14, 'created': '2022-11-25 12:48:59.000000000', 'files': ['zuul.d/tempest-multinode.yaml', 'zuul.d/project.yaml', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d8c53cef1d14b8242c23eab4e46c174044a05021', 'message': '[DNM] Testing patch\n\nThis patch tests https://review.opendev.org/c/openstack/neutron/+/837780\n\nI\'ll recheck this patch several times in order to run\n""neutron-ovs-tempest-multinode-full"" several times, testing that\n""test_live_migration_with_trunk"" test is now working (as expected).\n\nChange-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c\n'}]",13,865039,d8c53cef1d14b8242c23eab4e46c174044a05021,71,2,14,16688,,,0,"[DNM] Testing patch

This patch tests https://review.opendev.org/c/openstack/neutron/+/837780

I'll recheck this patch several times in order to run
""neutron-ovs-tempest-multinode-full"" several times, testing that
""test_live_migration_with_trunk"" test is now working (as expected).

Change-Id: I902cc542f2d0e81ff7d1c4379199a5cf92af907c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/865039/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py']",2,13c35ad5ddda254678fa918387109bf89553143f,bug/1869244,# Trivial change to force testing.,,1,50
openstack%2Fneutron~837780,openstack/neutron,master,I4e16357f3ff214fcf41e418982806c24088a2665,Avoid race condition when deleting trunk bridges,MERGED,2022-04-13 23:26:56.000000000,2022-11-28 17:20:36.000000000,2022-11-28 17:18:19.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-13 23:26:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/faf396f2589a8dd0acebb9e0d8528c333319f6df', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but are deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 2, 'created': '2022-04-13 23:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4600e85ea84c024f3becde895a5531f0b6c5ccfc', 'message': ""[WIP] Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but are deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 3, 'created': '2022-04-14 21:35:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3dc4e71e5d3375782e1298c295ea6fece60bd7ba', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 4, 'created': '2022-05-02 23:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4822996d95a7fb259b86a3e766d9a437014e08ee', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 5, 'created': '2022-05-04 21:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dc5cdf520802417ec3ad06d98bee70a438431c6', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 6, 'created': '2022-05-05 16:46:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8eee41e0bff6fbcb328a3954451429972e1d3cd7', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 7, 'created': '2022-05-11 23:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f693121ba014b15ac5b6459be8af6261971dbb70', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 8, 'created': '2022-07-22 23:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f25c9756a06f668acbd47cab5eea2357c3f8187', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 9, 'created': '2022-07-26 23:27:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/25607c183519ea50dd95f07443a302caaaeb702b', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 10, 'created': '2022-07-29 23:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c8d9329b85ea9baf0aa67cad2ea0d6dc0f0dd1ea', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851619\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 11, 'created': '2022-08-01 22:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/86284ac401e589b4fdca4d92d46d61238010bde4', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/851619\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\nCloses-Bug: #1869244\n""}, {'number': 12, 'created': '2022-11-18 15:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/89d1f52b7a08b697d2f6fcfd0eb6aab23d083278', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nCloses-Bug: #1869244\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 13, 'created': '2022-11-18 16:26:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ca52af597b04243e37795c6b6c231d768091a0c1', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/865041\n\nCloses-Bug: #1869244\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 14, 'created': '2022-11-23 09:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/59045b54df67831363a925e0e3c7388494bd21e0', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1]. As commented in the previous paragraph,\nthis patch fixes the issue reported in LP#1997025. The trunk port live\nmigration must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 15, 'created': '2022-11-23 10:55:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adc79d90b3cfba01c2d9fb3fb4c14a6d62ae8114', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1]. As commented in the previous paragraph,\nthis patch fixes the issue reported in LP#1997025. The trunk port live\nmigration must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 16, 'created': '2022-11-24 15:33:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3a6678e3c746de11772cbe0fe70c227f44f0b3be', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [1] and [2]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/865295\n[1]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 17, 'created': '2022-11-25 10:20:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d0834eeb73ba906c5876d7d294d13048a4805b9e', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity. Since [1], Nova uses the os-vif version that contains\nthis functionality.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [2] and [3]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/nova/+/865031\n[2]https://review.opendev.org/c/openstack/neutron/+/865295\n[3]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}, {'number': 18, 'created': '2022-11-25 12:48:59.000000000', 'files': ['neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_trunk_manager.py', 'zuul.d/tempest-multinode.yaml', 'requirements.txt', 'neutron/services/trunk/drivers/openvswitch/driver.py', 'neutron/tests/fullstack/test_trunk.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/test_driver.py', 'neutron/tests/functional/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py', 'neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py', 'neutron/tests/common/net_helpers.py', 'neutron/services/trunk/drivers/openvswitch/agent/ovsdb_handler.py', 'neutron/tests/unit/services/trunk/drivers/openvswitch/agent/test_ovsdb_handler.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/33de608f04dcc8117eeba63876598dc2ae93013a', 'message': ""Avoid race condition when deleting trunk bridges\n\nPrior to this change, trunk bridges are created by os-vif but deleted\nby Neutron when the last vif is removed from it. This creates race\nconditions in some use cases, like DPDK with vhostuserclient mode, when\nVMs are rebooted. To avoid these races, Neutron will not delete trunk\nbridges anymore. Their creation and deletion will be os-vif's\nresponsiblity. Since [1], Nova uses the os-vif version that contains\nthis functionality.\n\nThis patch also changes the trunk status change event. During a live\nmigration, when the trunk parent port has been bound to the destination\nhost (that means there is only one port binding associated) and the\nstatus has changed to ACTIVE, the method triggers the subport binding\nto the new host too. This is because there could be a race condition\nbetween the subport binding, triggered by the OVS agent, and the parent\nport binding, triggered by Nova. If when the OVS agent tries to bind the\nsubports, the parent port is still bound to the source host, the subport\nbinding remains in the source host too, instead of changing to the\ndestination.\n\nThis patch also reverts [2] and [3]. As commented in the previous\nparagraph, this patch fixes the issue reported in LP#1997025. The trunk\nport live migration with ML2/OVS must be fixed with this patch.\n\n[1]https://review.opendev.org/c/openstack/nova/+/865031\n[2]https://review.opendev.org/c/openstack/neutron/+/865295\n[3]https://review.opendev.org/c/openstack/neutron/+/865424\n\nCloses-Bug: #1869244\nCloses-Bug: #1997025\n\nChange-Id: I4e16357f3ff214fcf41e418982806c24088a2665\n""}]",36,837780,33de608f04dcc8117eeba63876598dc2ae93013a,131,8,18,4694,,,0,"Avoid race condition when deleting trunk bridges

Prior to this change, trunk bridges are created by os-vif but deleted
by Neutron when the last vif is removed from it. This creates race
conditions in some use cases, like DPDK with vhostuserclient mode, when
VMs are rebooted. To avoid these races, Neutron will not delete trunk
bridges anymore. Their creation and deletion will be os-vif's
responsiblity. Since [1], Nova uses the os-vif version that contains
this functionality.

This patch also changes the trunk status change event. During a live
migration, when the trunk parent port has been bound to the destination
host (that means there is only one port binding associated) and the
status has changed to ACTIVE, the method triggers the subport binding
to the new host too. This is because there could be a race condition
between the subport binding, triggered by the OVS agent, and the parent
port binding, triggered by Nova. If when the OVS agent tries to bind the
subports, the parent port is still bound to the source host, the subport
binding remains in the source host too, instead of changing to the
destination.

This patch also reverts [2] and [3]. As commented in the previous
paragraph, this patch fixes the issue reported in LP#1997025. The trunk
port live migration with ML2/OVS must be fixed with this patch.

[1]https://review.opendev.org/c/openstack/nova/+/865031
[2]https://review.opendev.org/c/openstack/neutron/+/865295
[3]https://review.opendev.org/c/openstack/neutron/+/865424

Closes-Bug: #1869244
Closes-Bug: #1997025

Change-Id: I4e16357f3ff214fcf41e418982806c24088a2665
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/837780/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/services/trunk/drivers/openvswitch/agent/trunk_manager.py'],1,faf396f2589a8dd0acebb9e0d8528c333319f6df,bug/1869244,, txn.add(ovsdb.del_br(self.bridge.br_name)),0,1
openstack%2Ftripleo-heat-templates~846539,openstack/tripleo-heat-templates,master,I1331a179d53d992e692128d2b419290843031740,Ceilometer: Remove ceilometer::db parameters,MERGED,2022-06-20 01:12:46.000000000,2022-11-28 17:09:12.000000000,2022-11-28 17:09:12.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22865}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-06-20 01:12:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a443217ad8ed4ca452777d642d0ab9717233280', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 2, 'created': '2022-08-30 09:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5bf112eb6b47128a30e1e12c64a831dfab66fe4f', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 3, 'created': '2022-09-08 12:54:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c1d4f12b9e8ec1d977dda6e5edc1dac2e87f79a6', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}, {'number': 4, 'created': '2022-11-24 02:40:02.000000000', 'files': ['deployment/ceilometer/ceilometer-base-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9172e88a11d1998172b64ea23e43fcec326ce2a6', 'message': 'Ceilometer: Remove ceilometer::db parameters\n\n... because the class is no longer included.\n\nDepends-on: https://review.opendev.org/846537\nChange-Id: I1331a179d53d992e692128d2b419290843031740\n'}]",2,846539,9172e88a11d1998172b64ea23e43fcec326ce2a6,27,8,4,9816,,,0,"Ceilometer: Remove ceilometer::db parameters

... because the class is no longer included.

Depends-on: https://review.opendev.org/846537
Change-Id: I1331a179d53d992e692128d2b419290843031740
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/39/846539/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-base-container-puppet.yaml'],1,5a443217ad8ed4ca452777d642d0ab9717233280,ceilometer-remove-db,, ceilometer::db::sync_db: false,0,1
openstack%2Fcharm-ceph-mon~865346,openstack/charm-ceph-mon,stable/quincy,I9dbc28e3d400169d011f0aa3c90a9f9445079bb2,Backport pg-repair action (quincy),ABANDONED,2022-11-22 22:39:29.000000000,2022-11-28 17:06:33.000000000,,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 22:39:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1c93c81e14bc7643490e05eb095fbdb163b658fa', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 2, 'created': '2022-11-22 23:22:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/19d186ecf5502d43c73bafc1eef7d94edadbdac4', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 3, 'created': '2022-11-22 23:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/1bfe5fa5452664c53e1cdd6749fa325ad251ea30', 'message': 'Added safe-pg-repair action (quincy)\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 4, 'created': '2022-11-23 22:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ad2cc33623aab994eb933e4ec46d5f1a07ff5fdd', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 5, 'created': '2022-11-24 00:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/ea3686def056912535ce56ea8c2caac14e016e87', 'message': 'Added safe-pg-repair action\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}, {'number': 6, 'created': '2022-11-26 00:12:27.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'actions/pg-repair', 'actions/pg_repair.py', 'tox.ini', 'unit_tests/test_action_pg_repair.py', 'actions.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-mon/commit/3aabb478851261c483dc1e66fbd672cfebb7fe19', 'message': 'Backport pg-repair action (quincy)\n\nThis action automatically repairs inconsistent placement groups\nwhich are caused by read errors.\n\nPGs are repaired using `ceph pg repair <pgid>`.\n\nAction is only taken if on of a PG\'s shards has a ""read_error"",\nand no action will be taken if any additional errors are found.\nNo action will be taken if multiple ""read_errors"" are found.\n\nThis action is intended to be safe to run in all contexts.\n\nCloses-Bug: #1923218\n(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)\n\nChange-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2\n'}]",3,865346,3aabb478851261c483dc1e66fbd672cfebb7fe19,22,3,6,33717,,,0,"Backport pg-repair action (quincy)

This action automatically repairs inconsistent placement groups
which are caused by read errors.

PGs are repaired using `ceph pg repair <pgid>`.

Action is only taken if on of a PG's shards has a ""read_error"",
and no action will be taken if any additional errors are found.
No action will be taken if multiple ""read_errors"" are found.

This action is intended to be safe to run in all contexts.

Closes-Bug: #1923218
(cherry-picked from commit a1cffc669322a2fe1c709e09a717ff9f78ab5680)

Change-Id: I9dbc28e3d400169d011f0aa3c90a9f9445079bb2
",git fetch https://review.opendev.org/openstack/charm-ceph-mon refs/changes/46/865346/1 && git format-patch -1 --stdout FETCH_HEAD,"['actions/pg-repair', 'actions/pg_repair.py', 'unit_tests/test_action_pg_repair.py', 'actions.yaml']",4,1c93c81e14bc7643490e05eb095fbdb163b658fa,quincy-pg-repair,"pg-repair: description: ""Repair inconsistent placement groups, if safe to do so.""",,485,0
openstack%2Ftrove~865635,openstack/trove,master,I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48,Fix the missing log request-id,MERGED,2022-11-27 16:33:56.000000000,2022-11-28 16:51:33.000000000,2022-11-28 16:50:26.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-27 16:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/6ba50273e972fbd95b346f2a1da0ed713c15cdaf', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}, {'number': 2, 'created': '2022-11-28 08:21:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/addafe105b0b1dd497bc9ed552377d52b58b8620', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}, {'number': 3, 'created': '2022-11-28 08:32:13.000000000', 'files': ['releasenotes/notes/fix-missing-request-id-in-log.yaml', 'trove/common/context.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/61a5198255a76fce0582e22510ef29b751211e28', 'message': 'Fix the missing log request-id\n\nThis PS ensure oslo Context.update_store method is called, to\nensure that thread-local context object is updated before\nTrove service render log\n\nStory: 2010451\nTask: 46951\n\nChange-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48\nSigned-off-by: Ha Minh Cong <conghm1@viettel.com.vn>\n'}]",5,865635,61a5198255a76fce0582e22510ef29b751211e28,16,2,3,28290,,,0,"Fix the missing log request-id

This PS ensure oslo Context.update_store method is called, to
ensure that thread-local context object is updated before
Trove service render log

Story: 2010451
Task: 46951

Change-Id: I5258853aed33cbcd26a5b6d68a5e5a4b9aa1fd48
Signed-off-by: Ha Minh Cong <conghm1@viettel.com.vn>
",git fetch https://review.opendev.org/openstack/trove refs/changes/35/865635/1 && git format-patch -1 --stdout FETCH_HEAD,['trove/common/context.py'],1,6ba50273e972fbd95b346f2a1da0ed713c15cdaf,fix-log-request-id-missing," super(TroveContext, self).update_store()",,1,0
openstack%2Fironic~865802,openstack/ironic,bugfix/19.0,I98955e90f216411c0ca3077dfb20fc3f2dc5b93e,Deals with migration of tox base job to Ubuntu Jammy,MERGED,2022-11-28 08:39:26.000000000,2022-11-28 16:22:50.000000000,2022-11-28 16:20:13.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-28 08:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/dbdd3afdeed32374c397f2ff6036b3336225af31', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover and openstack-tox-pep8\n(there is no package named 'python-dev' in Ubuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e\n""}, {'number': 2, 'created': '2022-11-28 08:51:41.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/5b194c2d424634e5cc08a59095bacb4c852af1a3', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover, openstack-tox-pep8,\nironic-tox-unit-with-driver-libs, ironic-tox-bandit and\nironic-cross-sushy (there is no package named 'python-dev' in\nUbuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e\n""}]",0,865802,5b194c2d424634e5cc08a59095bacb4c852af1a3,9,3,2,30566,,,0,"Deals with migration of tox base job to Ubuntu Jammy

OpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)
adds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th
(6d85fd8399ed6b9f2358412945cd6683989662cd).
This causes CI failure in openstack-tox-cover, openstack-tox-pep8,
ironic-tox-unit-with-driver-libs, ironic-tox-bandit and
ironic-cross-sushy (there is no package named 'python-dev' in
Ubuntu Jammy).

This commit fixes this through specifying Ubuntu Focal Zuul node.

Change-Id: I98955e90f216411c0ca3077dfb20fc3f2dc5b93e
",git fetch https://review.opendev.org/openstack/ironic refs/changes/02/865802/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'bindep.txt']",2,dbdd3afdeed32374c397f2ff6036b3336225af31,handle_jammy_change_19.0,python-dev [platform:dpkg test !platform:ubuntu-jammy],python-dev [platform:dpkg test],5,1
openstack%2Ftripleo-quickstart~865827,openstack/tripleo-quickstart,master,I45ccfea8d301abef09ad9d10c85eaf4497cde901,[DNM] Activating debug for update.,ABANDONED,2022-11-28 13:21:53.000000000,2022-11-28 16:21:27.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-28 13:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/b5fc7a43f4f2d2a5a2e102df896b96fb67df4056', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}, {'number': 2, 'created': '2022-11-28 13:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/4f9aa02dd43ecb73cb7718b13be31feba7842ae1', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}, {'number': 3, 'created': '2022-11-28 13:28:53.000000000', 'files': ['config/general_config/featureset037.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9868f24e0c6a93c6b57d69a6bb2b85343a60fd82', 'message': '[DNM] Activating debug for update.\n\nTrying to understand what happen there\nhttps://review.opendev.org/c/openstack/tripleo-common/+/859403\n\nChange-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901\n'}]",0,865827,9868f24e0c6a93c6b57d69a6bb2b85343a60fd82,6,2,3,8297,,,0,"[DNM] Activating debug for update.

Trying to understand what happen there
https://review.opendev.org/c/openstack/tripleo-common/+/859403

Change-Id: I45ccfea8d301abef09ad9d10c85eaf4497cde901
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/27/865827/1 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset037.yml'],1,b5fc7a43f4f2d2a5a2e102df896b96fb67df4056,,quickstart_verbosity: '-vvvv' ,,2,0
openstack%2Fironic~865804,openstack/ironic,bugfix/18.1,I190687b259d38fc42ec82c2440a6f92092602362,Deals with migration of tox base job to Ubuntu Jammy,MERGED,2022-11-28 08:47:25.000000000,2022-11-28 16:19:20.000000000,2022-11-28 16:16:11.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-28 08:47:25.000000000', 'files': ['zuul.d/ironic-jobs.yaml', 'bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/777734ba6231dcfd092e983319b91a3a408a6f6d', 'message': ""Deals with migration of tox base job to Ubuntu Jammy\n\nOpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)\nadds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th\n(6d85fd8399ed6b9f2358412945cd6683989662cd).\nThis causes CI failure in openstack-tox-cover, openstack-tox-pep8,\nironic-tox-unit-with-driver-libs and ironic-tox-bandit\n(there is no package named 'python-dev' in Ubuntu Jammy).\n\nThis commit fixes this through specifying Ubuntu Focal Zuul node.\n\nChange-Id: I190687b259d38fc42ec82c2440a6f92092602362\n""}]",0,865804,777734ba6231dcfd092e983319b91a3a408a6f6d,8,3,1,30566,,,0,"Deals with migration of tox base job to Ubuntu Jammy

OpenStack Infra Zuul jobs (openstack/openstack-zuul-jobs)
adds support of Zuul node based on Ubuntu Jammy on 2022 Oct 12th
(6d85fd8399ed6b9f2358412945cd6683989662cd).
This causes CI failure in openstack-tox-cover, openstack-tox-pep8,
ironic-tox-unit-with-driver-libs and ironic-tox-bandit
(there is no package named 'python-dev' in Ubuntu Jammy).

This commit fixes this through specifying Ubuntu Focal Zuul node.

Change-Id: I190687b259d38fc42ec82c2440a6f92092602362
",git fetch https://review.opendev.org/openstack/ironic refs/changes/04/865804/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/ironic-jobs.yaml', 'bindep.txt']",2,777734ba6231dcfd092e983319b91a3a408a6f6d,handle_jammy_change_18.1,python-dev [platform:dpkg test !platform:ubuntu-jammy],python-dev [platform:dpkg test],8,2
openstack%2Fopenstack-ansible~860746,openstack/openstack-ansible,master,I6ca593142c673ea24aed9e5ce58a03bca0bfd48d,Make bootstrap-ansible fail for unsupported distro installs,NEW,2022-10-07 20:06:44.000000000,2022-11-28 16:19:13.000000000,,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-10-07 20:06:44.000000000', 'files': ['releasenotes/notes/limit-distro-installs-15abdcf018dc62ef.yaml', 'playbooks/openstack-hosts-setup.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b', 'message': 'Make bootstrap-ansible fail for unsupported distro installs\n\nThe Zed release only supports Ubuntu Focal for distro install_method,\nso make the bootstrap fail for any other operating systems.\n\nThis will reduce the possibility of the use of unsupported operating\nsystems during the installation / upgrade of the Zed release.\n\nChange-Id: I6ca593142c673ea24aed9e5ce58a03bca0bfd48d\n'}]",1,860746,54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b,5,3,1,25023,,,0,"Make bootstrap-ansible fail for unsupported distro installs

The Zed release only supports Ubuntu Focal for distro install_method,
so make the bootstrap fail for any other operating systems.

This will reduce the possibility of the use of unsupported operating
systems during the installation / upgrade of the Zed release.

Change-Id: I6ca593142c673ea24aed9e5ce58a03bca0bfd48d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/46/860746/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/limit-distro-installs-15abdcf018dc62ef.yaml', 'playbooks/openstack-hosts-setup.yml']",2,54985bc43cc8b65ae8ce6dc6d168793e5a1bd60b,," - name: Check for a valid install_method vars: bypass_install_method_check: ""{{ use_unsupported_install_method | default(False) }}"" assert: that: - (install_method == 'source') or (install_method == 'distro' and ansible_facts['distribution'] == 'Ubuntu' and ansible_facts['distribution_release'] == 'focal') or bypass_install_method_check msg: > The only supported platform for 'distro' install_method is Ubuntu Focal. Set use_unsupported_install_method: true in user_variables.yml to disable this check",,27,0
openstack%2Fironic-python-agent~803510,openstack/ironic-python-agent,master,I98f1c1ff03868fc610e6133419fade094d15e2f6,Add an attestation extension,NEW,2021-08-04 19:37:01.000000000,2022-11-28 16:17:57.000000000,,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-08-04 19:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/1441fb33d7547ec3aef35be9ac06344914d33dbb', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 2, 'created': '2021-08-09 16:09:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ec16532893ff954456a4f40fda15b996e3b72c0a', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 3, 'created': '2021-08-10 14:16:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d3ce9494431a01fabc376c2418d7fe905566bfc5', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to grab the info and start attestation.\n\nStory: 2002713\n\nTask: 42947\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 4, 'created': '2021-09-21 16:41:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/ca8b2e4e365f469fd49504c4c2d4bfb3fb656fff', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 5, 'created': '2021-09-21 18:03:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/2d1364962648cac1f9138cd43e07788642fc5990', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 6, 'created': '2021-09-27 14:55:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/4e586fe1c4aeea288e91ba55df5047681a4f265c', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}, {'number': 7, 'created': '2022-11-28 14:29:29.000000000', 'files': ['releasenotes/notes/add-attestation-extension-4bed291b16c3f541.yaml', 'ironic_python_agent/tests/unit/extensions/test_attestation.py', 'ironic_python_agent/extensions/attestation.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/395bcc6246fe3f363a83df539ff9fbb1002f7a4a', 'message': 'Add an attestation extension\n\nThis extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.\nStory: 2002713\nTask: 42947\n\nChange-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6\n'}]",22,803510,395bcc6246fe3f363a83df539ff9fbb1002f7a4a,20,2,7,32617,,,0,"Add an attestation extension

This extension gathers keylime agent information on the node. Ironic calls this API to collect the info and start attestation.
Story: 2002713
Task: 42947

Change-Id: I98f1c1ff03868fc610e6133419fade094d15e2f6
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/10/803510/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_attestation.py', 'ironic_python_agent/extensions/attestation.py', 'setup.cfg']",3,1441fb33d7547ec3aef35be9ac06344914d33dbb,keylime-attestation, attestation = ironic_python_agent.extensions.attestation:AttestationExtension,,96,0
openstack%2Fcharm-mysql-innodb-cluster~865685,openstack/charm-mysql-innodb-cluster,master,I119018f31a7d08f38d4b51d613a2c028132247cc,Add bindep.txt,MERGED,2022-11-25 12:57:04.000000000,2022-11-28 16:11:36.000000000,2022-11-28 16:11:36.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 12:57:04.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/charm-mysql-innodb-cluster/commit/95cc98597d2aab1e01a569599c3674c2c0262d69', 'message': 'Add bindep.txt\n\nChange-Id: I119018f31a7d08f38d4b51d613a2c028132247cc\n'}]",0,865685,95cc98597d2aab1e01a569599c3674c2c0262d69,7,3,1,2424,,,0,"Add bindep.txt

Change-Id: I119018f31a7d08f38d4b51d613a2c028132247cc
",git fetch https://review.opendev.org/openstack/charm-mysql-innodb-cluster refs/changes/85/865685/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,95cc98597d2aab1e01a569599c3674c2c0262d69,add-bindep,libffi-dev [platform:dpkg] libpq-dev [platform:dpkg] libxml2-dev [platform:dpkg] libxslt1-dev [platform:dpkg] ,,4,0
openstack%2Fovn-octavia-provider~865713,openstack/ovn-octavia-provider,stable/wallaby,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:32:14.000000000,2022-11-28 15:54:45.000000000,2022-11-28 15:53:31.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:32:14.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865713,6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/13/865713/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,6b9db4f5d0a1b78f79c1b30ced2c90d7be89063a,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Fovn-octavia-provider~865712,openstack/ovn-octavia-provider,stable/xena,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:31:58.000000000,2022-11-28 15:54:41.000000000,2022-11-28 15:53:29.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:31:58.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865712,ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/12/865712/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,ccfcf6e2e67ca51b8bdaaad0ffe326bb738af080,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Ftripleo-ansible~863312,openstack/tripleo-ansible,master,I78a3c5361276d8f2a7cf42e95a32592f26606dee,Drop unused vars for cells v2 discover tasks,MERGED,2022-11-02 13:53:29.000000000,2022-11-28 15:51:47.000000000,2022-11-28 15:51:47.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-02 13:53:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7220011bf86396308ac5445590de6d849ad7a83c', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-25 15:32:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/485dc3ef36bc23ea570f2ad9871faf4a2b088c66', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-11-25 15:33:57.000000000', 'files': ['tripleo_ansible/playbooks/create-nova-cell-v2.yaml', 'tripleo_ansible/roles/tripleo_cellv2/defaults/main.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/discover_hosts.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/check_cell_exist.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/create_cell.yml', 'tripleo_ansible/roles/tripleo_cellv2/tasks/add_internalapi_hosts_entries.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26c905e08b322cb2db7556da7a14459adbe3875f', 'message': 'Drop unused vars for cells v2 discover tasks\n\nChange-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",6,863312,26c905e08b322cb2db7556da7a14459adbe3875f,21,8,3,6926,,,0,"Drop unused vars for cells v2 discover tasks

Change-Id: I78a3c5361276d8f2a7cf42e95a32592f26606dee
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/863312/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/playbooks/create-nova-cell-v2.yaml'],1,7220011bf86396308ac5445590de6d849ad7a83c,,," tripleo_cellv2_cell_name: ""{{ tripleo_cellv2_cell_name }}"" tripleo_cellv2_cellcontroller_group: ""{{ groups['CellController'] }}""",0,2
openstack%2Ftripleo-heat-templates~865501,openstack/tripleo-heat-templates,master,Idb16f8664d937d8d11108f2b29b22f8b7ced521c,Expose /var/lib/glance to cron container,MERGED,2022-11-24 06:21:26.000000000,2022-11-28 15:51:43.000000000,2022-11-28 15:51:43.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-24 06:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8cdd3214771222cda8158e6ad07fd9bc2092a112', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}, {'number': 2, 'created': '2022-11-24 06:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdb77112cf65b82de2581291978f093fb6a18222', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}, {'number': 3, 'created': '2022-11-28 08:37:04.000000000', 'files': ['deployment/glance/glance-api-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b532a042152805e32c2f410bbfe16f5e8e222581', 'message': 'Expose /var/lib/glance to cron container\n\nThe glance_api_cron container executes the cache clean/prune jobs, thus\nit requires access to the /var/lib/glance directory which contains\nthe cache data.\n\nBecause the directory is now shared by the two containers (glance_api\nand glance_api_cron), the mount flag is updated from slave to shared\nso that any change is propagated between these two containers.\n\nCloses-Bug: #1997625\nChange-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c\n'}]",4,865501,b532a042152805e32c2f410bbfe16f5e8e222581,16,4,3,9816,,,0,"Expose /var/lib/glance to cron container

The glance_api_cron container executes the cache clean/prune jobs, thus
it requires access to the /var/lib/glance directory which contains
the cache data.

Because the directory is now shared by the two containers (glance_api
and glance_api_cron), the mount flag is updated from slave to shared
so that any change is propagated between these two containers.

Closes-Bug: #1997625
Change-Id: Idb16f8664d937d8d11108f2b29b22f8b7ced521c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/865501/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/glance/glance-api-container-puppet.yaml'],1,8cdd3214771222cda8158e6ad07fd9bc2092a112,bug/1997625, - /var/lib/glance:/var/lib/glance:slave,,1,0
openstack%2Ftripleo-heat-templates~865048,openstack/tripleo-heat-templates,master,I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd,Use renamed task files for podman.,MERGED,2022-11-18 17:24:34.000000000,2022-11-28 15:51:39.000000000,2022-11-28 15:51:39.000000000,"[{'_account_id': 6816}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-18 17:24:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3cd1dc262cfb7e239ce6a1b47c56c03165f893ec', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the qtask file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 2, 'created': '2022-11-18 17:26:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9c3ad104f890528065043430593bc1027e2e64d0', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the qtask file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 3, 'created': '2022-11-18 17:59:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/733dc2135a0519bdc7f70f9f6d41e011fdb3c697', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 4, 'created': '2022-11-24 09:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1a09814abc2c1e7c8c9e59d18c39ba8a3f91fb27', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}, {'number': 5, 'created': '2022-11-24 09:32:47.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml', 'deployment/metrics/collectd-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c36313639db1bbcdd31df158fdaf278ec18ea3e6', 'message': 'Use renamed task files for podman.\n\nThe depends on commit updates the task file names to match the\nstandalone-roles conventions. This patch updates the\npodman template to use the updated names.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865503\nChange-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd\n'}]",7,865048,c36313639db1bbcdd31df158fdaf278ec18ea3e6,35,7,5,31245,,,0,"Use renamed task files for podman.

The depends on commit updates the task file names to match the
standalone-roles conventions. This patch updates the
podman template to use the updated names.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865047
Depends-On: https://review.opendev.org/c/openstack/tripleo-ansible/+/865503
Change-Id: I8f22bd86ef8b30dce2e01d124a192dcda57bbdfd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/48/865048/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,3cd1dc262cfb7e239ce6a1b47c56c03165f893ec,standalone-roles, tasks_from: install.yml tasks_from: login.yml tasks_from: install.yml tasks_from: purge.yml tasks_from: purge.yml, tasks_from: tripleo_podman_install.yml tasks_from: tripleo_podman_login.yml tasks_from: tripleo_podman_install.yml tasks_from: tripleo_podman_purge.yml tasks_from: tripleo_podman_purge.yml,5,5
openstack%2Fovn-octavia-provider~865711,openstack/ovn-octavia-provider,stable/yoga,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:31:28.000000000,2022-11-28 15:25:58.000000000,2022-11-28 15:24:39.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:31:28.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/229c36067d982d3ede427551019b868b3627a55d', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",0,865711,229c36067d982d3ede427551019b868b3627a55d,9,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/11/865711/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,229c36067d982d3ede427551019b868b3627a55d,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Ftrove~848849,openstack/trove,master,I32211508adf34cbb53500937c41b8842e60175d7,Add offline support for mysql-8.0,ABANDONED,2022-07-06 14:05:01.000000000,2022-11-28 15:23:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-06 14:05:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/4f1e8c2b01dbce79292251135a6a4342a224c876', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}, {'number': 2, 'created': '2022-07-07 14:21:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/68f2a7d86cff39c67ea0f8f9926ec9f7e5d1a412', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}, {'number': 3, 'created': '2022-07-11 03:14:37.000000000', 'files': ['integration/scripts/files/elements/ubuntu-guest/pre-install.d/11-baseline-tools', 'trove/guestagent/common/operating_system.py', 'trove/templates/mysql/config.template', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/service.py', 'integration/scripts/files/elements/ubuntu-datastore/install.d/31-mysql-8.0', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'integration/scripts/files/elements/ubuntu-datastore/element-deps', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/tests/unittests/guestagent/datastore/mysql/test_mysql_service.py'], 'web_link': 'https://opendev.org/openstack/trove/commit/0f804df70bb6d034fa55395bb073da1d7b44f1a7', 'message': ""Add offline support for mysql-8.0\n\nThis PR adds a new variable 'binary_install_type', when it set\nto True, trove will stop docker and install binary package for\ndatastore. currently, it supports mysql 8.0 datastore.\n\nStory: 2010131\nTask: 45735\n\nChange-Id: I32211508adf34cbb53500937c41b8842e60175d7\n""}]",0,848849,0f804df70bb6d034fa55395bb073da1d7b44f1a7,7,1,3,26285,,,0,"Add offline support for mysql-8.0

This PR adds a new variable 'binary_install_type', when it set
to True, trove will stop docker and install binary package for
datastore. currently, it supports mysql 8.0 datastore.

Story: 2010131
Task: 45735

Change-Id: I32211508adf34cbb53500937c41b8842e60175d7
",git fetch https://review.opendev.org/openstack/trove refs/changes/49/848849/1 && git format-patch -1 --stdout FETCH_HEAD,"['integration/scripts/files/elements/ubuntu-guest/pre-install.d/11-baseline-tools', 'trove/guestagent/common/operating_system.py', 'trove/templates/mysql/config.template', 'integration/scripts/functions_qemu', 'trove/guestagent/datastore/service.py', 'integration/scripts/files/elements/ubuntu-datastore/install.d/31-mysql-8.0', 'trove/guestagent/datastore/mysql_common/service.py', 'trove/guestagent/datastore/manager.py', 'integration/scripts/files/elements/ubuntu-datastore/element-deps', 'trove/guestagent/datastore/mysql_common/manager.py', 'trove/common/cfg.py', 'trove/cmd/guest.py', 'trove/tests/unittests/guestagent/datastore/mysql/test_mysql_service.py']",13,4f1e8c2b01dbce79292251135a6a4342a224c876,add-mysql-8.0,"# Copyright 2022 Yovole Cloud # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. from unittest import mock import fixtures from oslo_config import fixture as oslo_fixture from trove.common.cfg import cfg from trove.guestagent.datastore.mysql_common import service from trove.tests.unittests import trove_testtools from trove.instance import service_status TROVE_AGENT_CONF_PATH = '/etc/trove/config.d/' class TestMysqlStatus(trove_testtools.TestCase): def setUp(self): super(TestMysqlStatus, self).setUp() docker_client = mock.MagicMock() self.mysql_status = service.BaseMySqlAppStatus(docker_client) @mock.patch('trove.guestagent.common.operating_system.get_service_status') def test__get_mysql_service_status_ACTIVE(self, mock_service_status): mock_service_status.return_value = ""active"" status = self.mysql_status._get_mysql_service_status() self.assertEqual(status, service_status.ServiceStatuses.RUNNING) @mock.patch('trove.guestagent.common.operating_system.get_service_status') def test__get_mysql_service_status_SHUTDOWN(self, mock_service_status): mock_service_status.return_value = ""inactive"" status = self.mysql_status._get_mysql_service_status() self.assertEqual(status, service_status.ServiceStatuses.SHUTDOWN) class TestBaseMysqlApp(trove_testtools.TestCase): def setUp(self): super().setUp() docker_client = mock.MagicMock() self.mysql_status = service.BaseMySqlAppStatus(docker_client) @mock.patch('trove.guestagent.common.operating_system.remove') @mock.patch('trove.guestagent.common.operating_system.stop_docker') def test__do_cleanup(self, mock_stop_docker, mock_remove): service.BaseMySqlApp._do_cleanup() mock_stop_docker.assert_called_once() self.assertEquals(4, mock_remove.call_count) @mock.patch('trove.guestagent.datastore.mysql_common.service.BaseMySqlApp') @mock.patch('trove.guestagent.common.operating_system.install_package_from_path') @mock.patch('trove.guestagent.common.operating_system.exists') def test_install_mysql(self, mock_exists, mock_install_package, mock_mysql_service): fake_return_value = 'Job for mysql.service failed because the ' \ 'control process exited with an error code. ' \ 'See ""systemctl status mysql.service"" ' \ 'and ""journalctl -xe"" for details.' mock_exists.return_value = True mock_mysql_service.return_value._do_cleanup.return_value = None mock_install_package.return_value = (fake_return_value, None) ds_version = '8.0' self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app.install_mysql(ds_version) def test_start_db_with_docker(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group=""guest_agent"", binary_install_type=False) self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app.start_db_container = mock.MagicMock() self.mysql_app.start_db() self.mysql_app.start_db_container.assert_called_once_with( False, None, None, None ) def test_start_db_with_binary(self): self.conf = self.useFixture(oslo_fixture.Config(cfg.CONF)) self.conf.config(group=""guest_agent"", binary_install_type=True) self.mysql_status.start_db_service = mock.MagicMock() self.mysql_app = service.BaseMySqlApp(self.mysql_status, None) self.mysql_app._set_root_password = mock.MagicMock() self.mysql_app.start_db() self.mysql_status.start_db_service.assert_called_once_with(['mysql'], enable_on_boot=True, timeout=300, update_db=False) self.mysql_app._set_root_password.assert_called_once() ",,324,15
openstack%2Fovn-octavia-provider~865710,openstack/ovn-octavia-provider,stable/zed,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-25 17:30:54.000000000,2022-11-28 15:19:33.000000000,2022-11-28 15:18:30.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-25 17:30:54.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/2af4494842f8d1b3071b815159df9d51ddb54a77', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)\n'}]",2,865710,2af4494842f8d1b3071b815159df9d51ddb54a77,11,4,1,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
(cherry picked from commit 4ccc5970da34d6e50704affd71306b8991b05aa0)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/10/865710/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,2af4494842f8d1b3071b815159df9d51ddb54a77,," @mock.patch.object(ovn_helper.OvnProviderHelper, '_find_ovn_lb_from_hm_id') def test_hm_update_just_interval(self, folbfhi): folbfhi.return_value = (self.ovn_hm, self.ovn_hm_lb) self.health_monitor['interval'] = 3 self.helper.hm_update(self.health_monitor) options = { 'interval': str(self.health_monitor['interval']), 'timeout': str(self.health_monitor['timeout']), 'success_count': str(self.health_monitor['success_count']), 'failure_count': str(self.health_monitor['failure_count'])} self.helper.ovn_nbdb_api.db_set.assert_called_once_with( 'Load_Balancer_Health_Check', self.ovn_hm.uuid, ('options', options)) ",,24,5
openstack%2Fneutron~735525,openstack/neutron,master,Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2,Detect flows on br-tun whether be used before clean it.,ABANDONED,2020-06-15 08:32:01.000000000,2022-11-28 13:57:00.000000000,,"[{'_account_id': 5948}, {'_account_id': 9531}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 31769}]","[{'number': 1, 'created': '2020-06-15 08:32:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/555d8d9396d0a6d11b1618b1eed97f82fa503278', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 2, 'created': '2020-06-15 08:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/85fbbb8737d068264dbd0292354e92d01e620676', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 3, 'created': '2020-06-15 08:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/715dc22700870aa758084d2ee9c58c9915e4c98b', 'message': 'Fix flows l2 population related on br-tun being cleaned after RabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify function cleanup_flows in ofswitch.py and add funcion check_and_cleanup_table to it.\nThe three function ensure flows in table 22 which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 4, 'created': '2020-06-15 09:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/44f91c4067526908184d43645ed30079aa25d007', 'message': 'Fix flows l2 population related on br-tun being cleaned after\nRabbitMQ cluster has experienced a network partition\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table 22\nwhich are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 5, 'created': '2020-06-15 11:28:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/dab8231b02f87606511ed8fb9d4c9a126f3ff312', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 6, 'created': '2020-06-16 01:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6fbf1c46283729543c3a375a84850cada3160b45', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 7, 'created': '2020-06-16 01:46:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fdfff0ec9cab3b798c607254be36d3e34b5675f7', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 8, 'created': '2020-06-16 02:26:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5431f1abd88371ef8e704c0c53e8678156ad1d23', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 9, 'created': '2020-06-16 08:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7cd4ce57fc8091c42c99230ce479e51ece2c94fe', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}, {'number': 10, 'created': '2020-06-22 09:08:34.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fb39ad07e07e69e32bfabbbb8e9c95bcc727d687', 'message': 'Detect flows on br-tun whether be used before clean it.\n\nAdd function get_net_uuid_by_vlan to vlanmanager.py,modify fun-\nction cleanup_flows in ofswitch.py and add funcion check_and_c-\nleanup_table to it.The three function ensure flows in table\nFLOOD_TO_TUN which are in use will not be cleaned.\nThe l2 pop related flows mainly include table20, table21, and\ntable 22, the flow with lowest priority in them is resubmitted\nto table 22, so we only need to ensure flows in table 22 exist.\nBefore cleanup flows in table 22, we dump all flows in it, then\ncompare vlan_num of every flow with LocalVLANMapping to judge\nthis network is still in use, if not, cleanup it. If this netw-\nork is still in use, the flow related it in  table 22 will not\nbe cleaned until agent get rpc to refresh it.\n\nChange-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2\nCloses-Bug:#1883071\n'}]",11,735525,fb39ad07e07e69e32bfabbbb8e9c95bcc727d687,33,7,10,31834,,,0,"Detect flows on br-tun whether be used before clean it.

Add function get_net_uuid_by_vlan to vlanmanager.py,modify fun-
ction cleanup_flows in ofswitch.py and add funcion check_and_c-
leanup_table to it.The three function ensure flows in table
FLOOD_TO_TUN which are in use will not be cleaned.
The l2 pop related flows mainly include table20, table21, and
table 22, the flow with lowest priority in them is resubmitted
to table 22, so we only need to ensure flows in table 22 exist.
Before cleanup flows in table 22, we dump all flows in it, then
compare vlan_num of every flow with LocalVLANMapping to judge
this network is still in use, if not, cleanup it. If this netw-
ork is still in use, the flow related it in  table 22 will not
be cleaned until agent get rpc to refresh it.

Change-Id: Ide36c7a5a2f3610f32e5d8d3c66117715cf416f2
Closes-Bug:#1883071
",git fetch https://review.opendev.org/openstack/neutron refs/changes/25/735525/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/vlanmanager.py', 'neutron/plugins/ml2/drivers/openvswitch/agent/openflow/native/ofswitch.py']",3,555d8d9396d0a6d11b1618b1eed97f82fa503278,bug/1883071,"from neutron.plugins.ml2.drivers.openvswitch.agent import vlanmanager self.vlan_manager = vlanmanager.LocalVlanManager() if table_id == 22: self.check_and_cleanup_table(table_id) else: self._dump_and_clean(table_id) def check_and_cleanup_table(self, table_id): LOG.debug('check and cleanup table %s', table_id) flows = self.dump_flows(table_id) for flow in flows: matches = dict(flow.match.items()) if matches.get('vlan_vid'): vlan = matches['vlan_vid'] & 0x0fff if not self.vlan_manager.get_net_uuid_by_vlan(vlan): self.uninstall_flows(table_id=22, match=flow.match) ", self._dump_and_clean(table_id),39,1
openstack%2Fcloudkitty~864412,openstack/cloudkitty,master,I46b09ee11821620f7eab6758961ce651f3c8af46,Announce future deprecation of Elasticsearch,MERGED,2022-11-14 14:18:54.000000000,2022-11-28 13:38:45.000000000,2022-11-28 13:37:23.000000000,"[{'_account_id': 22348}, {'_account_id': 25277}, {'_account_id': 28356}]","[{'number': 1, 'created': '2022-11-14 14:18:54.000000000', 'files': ['releasenotes/notes/deprecate-elasticsearch-for-opensearch-a338965edff23509.yaml'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/addb4d6aa865f3b0a5bde20238bdb629aa624a4a', 'message': 'Announce future deprecation of Elasticsearch\n\nChange-Id: I46b09ee11821620f7eab6758961ce651f3c8af46\n'}]",0,864412,addb4d6aa865f3b0a5bde20238bdb629aa624a4a,8,3,1,15197,,,0,"Announce future deprecation of Elasticsearch

Change-Id: I46b09ee11821620f7eab6758961ce651f3c8af46
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/12/864412/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/deprecate-elasticsearch-for-opensearch-a338965edff23509.yaml'],1,addb4d6aa865f3b0a5bde20238bdb629aa624a4a,deprecate-elasticsearch,"--- deprecations: - | Support for using Elasticsearch as a storage backend is being deprecated in the Antelope release in favour of OpenSearch. We will try to keep CloudKitty compatible with both solutions. However, we will only test with OpenSearch. ",,7,0
openstack%2Fopenstacksdk~865828,openstack/openstacksdk,master,Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c,cloud: create_server: fix scheduler_hints/group,ABANDONED,2022-11-28 13:27:10.000000000,2022-11-28 13:35:29.000000000,,[],"[{'number': 1, 'created': '2022-11-28 13:27:10.000000000', 'files': ['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/11863843956377ff715cd03a8583f7be240e0bb8', 'message': 'cloud: create_server: fix scheduler_hints/group\n\nChange I1a6ba311ddedc1b8910051257299d3acd367df46 stopped sending\nserver_json data and instead called self.compute.create_server(**kwargs).\n\nBefore this change the code would pop() scheduler_hints from kwargs, so\nit was not present when creating the server. Additionally the ""group""\ncode would also only operate on the no longer used server_json.\n\nRemove server_json and override/set the scheduler_hints group key\ndirectly in kwargs if ""group"" is supplied.\n\nAlso add tests for this functionality.\n\nCo-Authored-byː stephenfin <stephenfin@redhat.com>\nChange-Id: I7ac2fd85970bf4c6c6e73af8aad11348a290a90a\n\nChange-Id: Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c\n'}]",0,865828,11863843956377ff715cd03a8583f7be240e0bb8,2,0,1,35573,,,0,"cloud: create_server: fix scheduler_hints/group

Change I1a6ba311ddedc1b8910051257299d3acd367df46 stopped sending
server_json data and instead called self.compute.create_server(**kwargs).

Before this change the code would pop() scheduler_hints from kwargs, so
it was not present when creating the server. Additionally the ""group""
code would also only operate on the no longer used server_json.

Remove server_json and override/set the scheduler_hints group key
directly in kwargs if ""group"" is supplied.

Also add tests for this functionality.

Co-Authored-byː stephenfin <stephenfin@redhat.com>
Change-Id: I7ac2fd85970bf4c6c6e73af8aad11348a290a90a

Change-Id: Ifcc3858ffe69f40bb5d3ff8257f45476bc75290c
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/28/865828/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/cloud/test_create_server.py', 'openstack/cloud/_compute.py']",2,11863843956377ff715cd03a8583f7be240e0bb8,fix-scheduler_hints-and-group, if 'scheduler_hints' not in kwargs: kwargs['scheduler_hints'] = {} kwargs['scheduler_hints']['group'] = group_obj['id'] ," server_json = {'server': kwargs} hints = kwargs.pop('scheduler_hints', {}) hints['group'] = group_obj['id'] if hints: server_json['os:scheduler_hints'] = hints",171,6
openstack%2Fneutron-lib~865578,openstack/neutron-lib,master,Idbec232e95bdc71942f4e3f88684c3de62294d51,"User ""sha1"" with ""usedforsecurity=False""",MERGED,2022-11-24 15:52:21.000000000,2022-11-28 13:21:00.000000000,2022-11-28 13:19:50.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 15:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/d94609dbff567aba63408f0c6f9a513bcac558cd', 'message': 'Test sha1 pylint error\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 2, 'created': '2022-11-24 16:02:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3732f74cd045a9be4b01c045153f3569033863ed', 'message': 'Use a secure hash method: replace ""sha1"" with ""sha256""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 3, 'created': '2022-11-25 08:18:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2a31ab6fe40ff36bd6b00d21e9a3dd98f9e11bde', 'message': 'Use a secure hash method: replace ""sha1"" with ""sha256""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}, {'number': 4, 'created': '2022-11-25 14:20:54.000000000', 'files': ['neutron_lib/plugins/utils.py', 'neutron_lib/tests/unit/plugins/test_utils.py'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/2ded6ed3ce93983b7c852a873f1808fe13931eba', 'message': 'User ""sha1"" with ""usedforsecurity=False""\n\nThat prevents the pep8 pylint error B324 [1].\n\n[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html\n\nTrivial-Fix\n\nChange-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51\n'}]",5,865578,2ded6ed3ce93983b7c852a873f1808fe13931eba,19,4,4,16688,,,0,"User ""sha1"" with ""usedforsecurity=False""

That prevents the pep8 pylint error B324 [1].

[1]https://bandit.readthedocs.io/en/latest/plugins/b324_hashlib.html

Trivial-Fix

Change-Id: Idbec232e95bdc71942f4e3f88684c3de62294d51
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/78/865578/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/plugins/utils.py'],1,d94609dbff567aba63408f0c6f9a513bcac558cd,sha1_pylint, # To be changed,,1,0
openstack%2Fswift~865706,openstack/swift,master,Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88,proxy: refactor ContainerController._GET_using_cache,MERGED,2022-11-25 18:25:15.000000000,2022-11-28 13:10:24.000000000,2022-11-28 13:09:22.000000000,"[{'_account_id': 7233}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 18:25:15.000000000', 'files': ['swift/proxy/controllers/container.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/bd5d099035a50c419c4c257f41de15966ff3f5b3', 'message': 'proxy: refactor ContainerController._GET_using_cache\n\nRefactor the ContainerController._GET_using_cache. No behavioral\nchanges.\n\n* Make the top-level method shorter.\n\n* Make the flow easier to follow.\n\n* Make various return points more obvious.\n\n* Change variable names to clarify those that are lists of ShardRange\n  objects from those that are lists of dicts representing shard\n  ranges.\n\nChange-Id: Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88\n'}]",2,865706,bd5d099035a50c419c4c257f41de15966ff3f5b3,13,2,1,7847,,,0,"proxy: refactor ContainerController._GET_using_cache

Refactor the ContainerController._GET_using_cache. No behavioral
changes.

* Make the top-level method shorter.

* Make the flow easier to follow.

* Make various return points more obvious.

* Change variable names to clarify those that are lists of ShardRange
  objects from those that are lists of dicts representing shard
  ranges.

Change-Id: Ibb7cd761be4a5b1ec53dd16b7c5d256ed7666a88
",git fetch https://review.opendev.org/openstack/swift refs/changes/06/865706/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/proxy/controllers/container.py'],1,bd5d099035a50c419c4c257f41de15966ff3f5b3,p-namespace-map-2," def _make_shard_ranges_response_body(self, req, shard_range_dicts): # filter shard ranges according to request constraints and return a # serialised list of shard ranges for shard_range in shard_range_dicts] def _get_shard_ranges_from_cache(self, req, info): headers = headers_from_container_info(info) if not headers: # only use cached values if all required headers available return None infocache = req.environ.setdefault('swift.infocache', {}) memcache = cache_from_env(req.environ, True) cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') resp_body = None cached_range_dicts = infocache.get(cache_key) if cached_range_dicts: resp_body = self._make_shard_ranges_response_body( req, cached_range_dicts) elif memcache: skip_chance = \ self.app.container_listing_shard_ranges_skip_cache if skip_chance and random.random() < skip_chance: self.logger.increment('shard_listing.cache.skip') else: try: cached_range_dicts = memcache.get( cache_key, raise_on_error=True) if cached_range_dicts: cache_state = 'hit' resp_body = self._make_shard_ranges_response_body( req, cached_range_dicts) else: cache_state = 'miss' except MemcacheConnectionError: cache_state = 'error' self.logger.increment( 'shard_listing.cache.%s' % cache_state) if resp_body is None: resp = None else: # shard ranges can be returned from cache infocache[cache_key] = tuple(cached_range_dicts) self.logger.debug('Found %d shards in cache for %s', len(cached_range_dicts), req.path_qs) headers.update({'x-backend-record-type': 'shard', 'x-backend-cached-results': 'true'}) # mimic GetOrHeadHandler.get_working_response... # note: server sets charset with content_type but proxy # GETorHEAD_base does not, so don't set it here either resp = Response(request=req, body=resp_body) update_headers(resp, headers) resp.last_modified = Timestamp(headers['x-put-timestamp']).ceil() resp.environ['swift_x_timestamp'] = headers.get('x-timestamp') resp.accept_ranges = 'bytes' resp.content_type = 'application/json' return resp def _store_shard_ranges_in_cache(self, req, resp): # parse shard ranges returned from backend, store them in infocache and # memcache, and return a list of dicts cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') data = self._parse_listing_response(req, resp) backend_shard_ranges = self._parse_shard_ranges(req, data, resp) if backend_shard_ranges is None: return None cached_range_dicts = [dict(sr) for sr in backend_shard_ranges] if resp.headers.get('x-backend-sharding-state') == 'sharded': # cache in infocache even if no shard ranges returned; this # is unexpected but use that result for this request infocache = req.environ.setdefault('swift.infocache', {}) infocache[cache_key] = tuple(cached_range_dicts) memcache = cache_from_env(req.environ, True) if memcache and cached_range_dicts: # cache in memcache only if shard ranges as expected self.logger.debug('Caching %d shards for %s', len(cached_range_dicts), req.path_qs) memcache.set(cache_key, cached_range_dicts, time=self.app.recheck_listing_shard_ranges) return cached_range_dicts def _get_shard_ranges_from_backend(self, req): # Make a backend request for shard ranges. The response is cached and # then returned as a list of dicts. # Note: We instruct the backend server to ignore name constraints in cached_range_dicts = self._store_shard_ranges_in_cache(req, resp) if cached_range_dicts: resp.body = self._make_shard_ranges_response_body( req, cached_range_dicts) def _GET_using_cache(self, req, info): # It may be possible to fulfil the request from cache: we only reach # here if request record_type is 'shard' or 'auto', so if the container # state is 'sharded' then look for cached shard ranges. However, if # X-Newest is true then we always fetch from the backend servers. get_newest = config_true_value(req.headers.get('x-newest', False)) if get_newest: self.logger.debug( 'Skipping shard cache lookup (x-newest) for %s', req.path_qs) elif (info and is_success(info['status']) and info.get('sharding_state') == 'sharded'): # container is sharded so we may have the shard ranges cached resp = self._get_shard_ranges_from_cache(req, info) if resp: return resp # The request was not fulfilled from cache so send to backend server return self._get_shard_ranges_from_backend(req) "," def _filter_resp_shard_ranges(self, req, cached_ranges): # filter returned shard ranges according to request constraints for shard_range in cached_ranges] def _GET_using_cache(self, req, info): # It may be possible to fulfil the request from cache: we only reach # here if request record_type is 'shard' or 'auto', so if the container # state is 'sharded' then look for cached shard ranges. However, if # X-Newest is true then we always fetch from the backend servers. get_newest = config_true_value(req.headers.get('x-newest', False)) if get_newest: self.logger.debug( 'Skipping shard cache lookup (x-newest) for %s', req.path_qs) elif (info and is_success(info['status']) and info.get('sharding_state') == 'sharded'): # container is sharded so we may have the shard ranges cached headers = headers_from_container_info(info) if headers: # only use cached values if all required headers available infocache = req.environ.setdefault('swift.infocache', {}) memcache = cache_from_env(req.environ, True) cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') cached_ranges = infocache.get(cache_key) if cached_ranges is None and memcache: skip_chance = \ self.app.container_listing_shard_ranges_skip_cache if skip_chance and random.random() < skip_chance: self.logger.increment('shard_listing.cache.skip') else: try: cached_ranges = memcache.get( cache_key, raise_on_error=True) cache_state = 'hit' if cached_ranges else 'miss' except MemcacheConnectionError: cache_state = 'error' self.logger.increment( 'shard_listing.cache.%s' % cache_state) if cached_ranges is not None: infocache[cache_key] = tuple(cached_ranges) # shard ranges can be returned from cache self.logger.debug('Found %d shards in cache for %s', len(cached_ranges), req.path_qs) headers.update({'x-backend-record-type': 'shard', 'x-backend-cached-results': 'true'}) shard_range_body = self._filter_resp_shard_ranges( req, cached_ranges) # mimic GetOrHeadHandler.get_working_response... # note: server sets charset with content_type but proxy # GETorHEAD_base does not, so don't set it here either resp = Response(request=req, body=shard_range_body) update_headers(resp, headers) resp.last_modified = Timestamp( headers['x-put-timestamp']).ceil() resp.environ['swift_x_timestamp'] = headers.get( 'x-timestamp') resp.accept_ranges = 'bytes' resp.content_type = 'application/json' return resp # The request was not fulfilled from cache so send to the backend # server, but instruct the backend server to ignore name constraints in # backend returned unfiltered listing state shard ranges so parse # them and replace response body with filtered listing cache_key = get_cache_key(self.account_name, self.container_name, shard='listing') data = self._parse_listing_response(req, resp) backend_shard_ranges = self._parse_shard_ranges(req, data, resp) if backend_shard_ranges is not None: cached_ranges = [dict(sr) for sr in backend_shard_ranges] if resp.headers.get('x-backend-sharding-state') == 'sharded': # cache in infocache even if no shard ranges returned; this # is unexpected but use that result for this request infocache = req.environ.setdefault('swift.infocache', {}) infocache[cache_key] = tuple(cached_ranges) memcache = cache_from_env(req.environ, True) if memcache and cached_ranges: # cache in memcache only if shard ranges as expected self.logger.debug('Caching %d shards for %s', len(cached_ranges), req.path_qs) memcache.set( cache_key, cached_ranges, time=self.app.recheck_listing_shard_ranges) # filter returned shard ranges according to request constraints resp.body = self._filter_resp_shard_ranges(req, cached_ranges) ",110,85
openstack%2Fopenstack-zuul-jobs~862286,openstack/openstack-zuul-jobs,master,I96023fb323647465dacc450567d4a6adf6f59314,Add py310 master template jobs,MERGED,2022-10-21 10:00:01.000000000,2022-11-28 13:08:31.000000000,2022-11-28 13:06:40.000000000,"[{'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-21 10:00:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/fa1994409aeb73a55383d425803b331954985bc8', 'message': 'Add py310 master template jobs\n\nThe following master templates has been added to py310 based testing:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 2, 'created': '2022-10-24 08:14:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/21c49eab2f943209a3a0f297771cc3ff32dd0b94', 'message': 'Add py310 master template jobs\n\nThe following master templates has been added to py310 based testing:\n- periodic-jobs-with-neutron-lib-master-py310\n- periodic-jobs-with-oslo-master-py310\n- periodic-jobs-with-ovsdbapp-master-py310\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 3, 'created': '2022-10-25 08:28:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/b02ebffad4bc49fc27c28636a834d50357722c86', 'message': 'Add py310 master template jobs\n\nThe following py39 based jobs has been changed to py310 based in these\ntemplates:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}, {'number': 4, 'created': '2022-10-25 08:31:05.000000000', 'files': ['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/4d28e8dcff9e7bd55dd5431c4e2e107457a6fa2b', 'message': 'Add py310 master template jobs\n\nThe following py39 based jobs has been changed to py310 based in these\ntemplates:\n- periodic-jobs-with-neutron-lib-master\n- periodic-jobs-with-oslo-master\n- periodic-jobs-with-ovsdbapp-master\n\nChange-Id: I96023fb323647465dacc450567d4a6adf6f59314\n'}]",6,862286,4d28e8dcff9e7bd55dd5431c4e2e107457a6fa2b,20,6,4,8313,,,0,"Add py310 master template jobs

The following py39 based jobs has been changed to py310 based in these
templates:
- periodic-jobs-with-neutron-lib-master
- periodic-jobs-with-oslo-master
- periodic-jobs-with-ovsdbapp-master

Change-Id: I96023fb323647465dacc450567d4a6adf6f59314
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/86/862286/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project-templates.yaml', 'zuul.d/jobs.yaml']",2,fa1994409aeb73a55383d425803b331954985bc8,py310_master_jobs," name: openstack-tox-py310-with-oslo-master parent: openstack-tox-with-oslo-master-base nodeset: ubuntu-jammy description: | This job installs all oslo libraries from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master vars: tox_envlist: py310 bindep_profile: test py310 python_version: '3.10' - job: name: openstack-tox-py310-with-neutron-lib-master parent: openstack-tox-py310 timeout: 3000 description: | This job installs neutron-lib from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master required-projects: - openstack/neutron - openstack/neutron-lib vars: tox_install_siblings: true - job: name: openstack-tox-py310-with-ovsdbapp-master parent: openstack-tox-py310 timeout: 3000 description: | This job installs ovsdbapp from source and tests that the unit tests of the tested project work. It uses the tox ``py310`` environment. The job is normally run in a periodic pipeline, it is configured to run on the master branch. branches: master required-projects: - openstack/ovsdbapp vars: tox_install_siblings: true - job:",,52,0
openstack%2Fpuppet-nova~865100,openstack/puppet-nova,master,I66527f6ef2ad547621e80ea702ef65980db77b26,Deprecate support for [upgrade_levels] network,MERGED,2022-11-21 05:35:53.000000000,2022-11-28 13:02:10.000000000,2022-11-28 13:01:15.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:35:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/966afac8bf3b717b50b8a853c3438914183bf56f', 'message': 'Deprecate support for [upgrade_level] network\n\n... because the option was deprecated several cycles ago by [1].\n\n[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6\n\nChange-Id: I66527f6ef2ad547621e80ea702ef65980db77b26\n'}, {'number': 2, 'created': '2022-11-21 07:34:55.000000000', 'files': ['releasenotes/notes/deprecate-upgrade_level_network-64301c66337d1ad0.yaml', 'manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/feb79359eb2cda759cfdb513d03302f1b2021c77', 'message': 'Deprecate support for [upgrade_levels] network\n\n... because the option was deprecated several cycles ago by [1].\n\n[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6\n\nChange-Id: I66527f6ef2ad547621e80ea702ef65980db77b26\n'}]",5,865100,feb79359eb2cda759cfdb513d03302f1b2021c77,24,3,2,9816,,,0,"Deprecate support for [upgrade_levels] network

... because the option was deprecated several cycles ago by [1].

[1] f0d2925bc71d0649f75fd3d281742f2e56e7e3b6

Change-Id: I66527f6ef2ad547621e80ea702ef65980db77b26
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/00/865100/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/deprecate-upgrade_level_network-64301c66337d1ad0.yaml', 'manifests/init.pp']",2,966afac8bf3b717b50b8a853c3438914183bf56f,,"# [*upgrade_level_network*] # (optional) Sets a version cap for messages sent to network services # Defaults to $::os_service_default # $upgrade_level_network = undef, warning(""The upgrade_level_cert parameter is deprecated and will be removed \ in a future release."") } if $upgrade_level_network != undef { warning(""The upgrade_level_network parameter is deprecated and will be removed \ in a future release."") 'upgrade_levels/network': value => pick($upgrade_level_network, $::os_service_default);","# [*upgrade_level_network*] # (optional) Sets a version cap for messages sent to network services # Defaults to $::os_service_default # $upgrade_level_network = $::os_service_default, warning('The upgrade_level_cert parameter is deprecated and will be removed \ in a future release.') 'upgrade_levels/network': value => $upgrade_level_network;",18,8
openstack%2Fnova-specs~864150,openstack/nova-specs,master,I5dd783d13902e0b1b69299e91147bbf6d168e71f,Re-propose per process healthchecks,MERGED,2022-11-09 23:44:44.000000000,2022-11-28 12:39:22.000000000,2022-11-28 12:38:09.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32761}]","[{'number': 1, 'created': '2022-11-09 23:44:44.000000000', 'files': ['specs/2023.1/approved/per-process-healthchecks.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91c90e090caf6848e88e6c23fefdb9f2222704af', 'message': 'Re-propose per process healthchecks\n\nPreviously-approved: Yoga\n\nSpelling and capitalization have been adjusted where noticed.\n\nRelated to blueprint per-process-healthchecks\n\nChange-Id: I5dd783d13902e0b1b69299e91147bbf6d168e71f\n'}]",4,864150,91c90e090caf6848e88e6c23fefdb9f2222704af,14,5,1,4690,,,0,"Re-propose per process healthchecks

Previously-approved: Yoga

Spelling and capitalization have been adjusted where noticed.

Related to blueprint per-process-healthchecks

Change-Id: I5dd783d13902e0b1b69299e91147bbf6d168e71f
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/50/864150/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/per-process-healthchecks.rst'],1,91c90e090caf6848e88e6c23fefdb9f2222704af,per-process-healthchecks,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================= Per Process Healthcheck endpoints ================================= https://blueprints.launchpad.net/nova/+spec/per-process-healthchecks In many modern deployment frameworks, there is an expectation that an application can expose a health-check endpoint so that the binary status can be monitored. Nova currently does not provide a native way to inspect the health of its binaries which doesn't help cloud monitoring and maintenance. While limited support exists for health checks via Oslo middleware for our WSGI based API binaries, this blueprint seeks to expose a local HTTP health-check endpoint to address this feature gap consistently for all Nova components. Problem description =================== To monitor the health of a Nova service today requires experience to develop and implement a series of external heuristics to infer the state of the service binaries. This can be as simple as checking the service status for those with heartbeats or can comprise monitoring log output via a watchdog and restarting the service if no output is detected after a protracted period. Processing the logs for known error messages and executing a remediation script or other methods that are easy to do incorrectly are also common. This is also quite unfriendly to new Nova users who have not gained enough experience with operating Nova to know what warning signs they should look for such as inability to connect to the message bus. Nova developers however do know what some of the important health indicators are and can expose those as a local health-check endpoint that operators can use instead. The existing Oslo middleware does not address this problem statement because: #. It can only be used by the API and metadata binaries #. The middleware does not tell you the service is alive if its hosted by a WSGI server like Apache since the middleware is executed independently from the WSGI application. i.e. the middleware can pass while the nova-api can't connect to the DB and is otherwise broken. #. The Oslo middleware in detailed mode leaks info about the host Python kernel, Python version and hostname which can be used to determine in the host is vulnerable to CVEs which means it should never be exposed to the Internet. e.g. :: platform: 'Linux-5.15.2-xanmod1-tt-x86_64-with-glibc2.2.5', python_version: '3.8.12 (default, Aug 30 2021, 16:42:10) \n[GCC 10.3.0]' Use Cases --------- As an operator, I want a simple REST endpoint I can consume to know if a Nova process is healthy. As an operator I want this health check to not impact the performance of the service so it can be queried frequently at short intervals. As a deployment tool implementer, I want the health check to be local with no dependencies on other hosts or services to function so I can integrate it with service managers such as systemd or a container runtime like Docker. As a packager, I would like the use of the health check endpoints to not require special clients or packages to consume them. cURL, socat, or netcat should be all that is required to connect to the health check and retrieve the service status. As an operator I would like to be able to use health-check of the Nova API and metadata services to manage the membership of endpoints in my load-balancer or reverse proxy automatically. Proposed change =============== Definitions ----------- ``TTL``: The time interval for which a health check item is valid. ``pass``: all health indicators are passing and their TTLs have not expired. ``warn``: any health indicator has an expired TTL or where there is a partial transient failure. ``fail``: any health indicator is reporting an error or all TTLs are expired. .. Note: In line with the recommendation in the IETF RFC API health check draft `[1]`_ ``pass`` and ``warn`` will respond with a 200 OK ``fail`` will respond with a 503 Service Unavailable Content-Type: application/health+json will be used in all cases. Warn vs fail ------------ In general if any of the health check indicators are failing then the service should be reported as ``fail`` however if the specific error condition is recoverable or only a partial failure the ``warn`` state can and should be used. An example of this is a service that has lost a connection to the message bus. When the connection is lost it should go to the ``warn`` state, if the first attempt to reconnect fails it should go to the ``fail`` state. Transient failure should be considered warning but persistent errors should be escalated to failures. In many cases external management systems will treat ``warn`` and ``fail`` as equivalent and raise an alarm or restart the service. While this spec does not specify how you should recover from a degraded state, it is important to include a human readable description of why the ``warn`` or ``fail`` state was entered. Services in the ``warn`` state are still considered healthy in most cases but they may be about to fail soon or be partially degraded. .. NOTE: Where no health check items are currently registered such as during start up the health check, status will be considered ``pass`` not ``warn`` or ``fail``. This will prevent restart loops for any service managers that treat any value other then ``pass`` as an error state. Code changes ------------ A new top-level Nova health check module will be created to encapsulate the common code and data structure required to implement this feature. A new health check manager class will be introduced which will maintain the health-check state and all functions related to retrieving, updating and summarizing that state. .. NOTE: All health check state will be stored in memory and reset/lost on restart of the binary. For services that support dynamic reconfiguration via SIG_HUP the health check data will be reset as part of this process. The health check manager will be responsible for creating the health check endpoint when it is enabled in the nova.conf and exposing the health check over HTTP. The initial implementation will support HTTP over TCP with optional support for UNIX domain sockets as a more secure alternative to be added later. The HTTP endpoint in both cases will be unauthenticated and the response will be in JSON format. A new HealthcheckStausItem data class will be introduced to store an individual health check data-point. The HealtcheckStatusItem will contain the name of the health check, its status, the time it was recorded, and an optional output string that should be populated if the status is ``warn`` or ``fail``. A new decorator will be introduced that will automatically retrieve the reference to the healthcheck manager from the Nova context object and update the result based on whether the function decorated raises an exception or not. The exception list and healthcheck item name will be specifiable. The decorator will accept the name of the health check as a positional argument and include the exception message as the output of the health check on failure. Note that the decorator will only support the pass or fail status for simplicity; where warn is appropriate a manual check should be written. If multiple functions act as indicators of the same capability the same name should be used. e.g. .. code-block:: python @healthcheck('database', [SQLAlchemyError]) def my_db_func(self): pass @healthcheck('database', [SQLAlchemyError]) def my_other_db_func(self): pass By default all exceptions will be caught and re-raised by the decorator. The new REST health check endpoint exposed by this spec will initially only support one URL path ``/health``. The ``/health`` endpoint will include a `Cache-Control: max-age=<ttl>` header as part of its response which can optionally be consumed by the client. The endpoint may also implement a simple incrementing etag at a later date once the initial implementation is complete, if required. Initially adding an ``etag`` is not provided as the response is expected to be small and cheap to query, so etags do not actually provide much benefit form a performance perspective. If implemented, the ``etag`` will be incremented whenever the service state changes and will reset to 0 when the service is restarted. Additional URL paths may be supported in the future, for example to retrieve the running configuration or trigger the generation of Guru Meditation Reports or enable debug logging. However, any endpoint beyond ``/health`` is out of scope of this spec. ``/`` is not used for health check response to facilitate additional paths in the future. Example output ~~~~~~~~~~~~~~ :: GET /health HTTP/1.1 Host: example.org Accept: application/health+json HTTP/1.1 200 OK Content-Type: application/health+json Cache-Control: max-age=3600 Connection: close { ""status"": ""pass"", ""version"": ""1.0"", ""serviceId"": ""e3c22423-cd7a-47dc-b6e9-e18d1a8b3bdf"", ""description"": ""nova-api"", ""notes"": {""host"": ""controller-1.cloud"", ""hostname"": ""controller-1.cloud""} ""checks"": { ""message_bus"": {""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""}, ""api_db"": {""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""} } } GET /health HTTP/1.1 Host: example.org Accept: application/health+json HTTP/1.1 503 Sevice Unavailable Content-Type: application/health+json Cache-Control: no-cache Connection: close { ""status"": ""fail"", ""version"": ""1.0"", ""serviceId"": ""0a47dceb-11b1-4d94-8b9c-927d998be320"", ""description"": ""nova-compute"", ""notes"": {""host"": ""controller-1.cloud"", ""hostname"": ""controller-1.cloud""} ""checks"":{ ""message_bus"":{""status"": ""pass"", ""time"": ""2021-12-17T16:02:55+00:00""}, ""hypervisor"":{ ""status"": ""fail"", ""time"": ""2021-12-17T16:05:55+00:00"", ""output"": ""Libvirt Error: ..."" } } } .. NOTE: ``version`` will initially be 1.0 and can be incremented following ``SemVer`` conventions if we extend the response format. This is not the Nova version. Adding new checks to the Nova code base will not increment the version of the response but adding or removing any new field to the response will. The set of check names will be closed and each new check name that is added will be signaled by a minor version bump. The initial set of check names for version 1.0 is left to the implementation. ``serviceId`` should be set to the Nova service ID for this binary. ``description`` will contain the binary name for the service. ``notes`` the notes will contain the CONF.host value in the host field and optionally the hypervisor_hostname in the hostname field. ``status`` will contain the overall status of the service with details provided in the ``checks`` dictionary. The keys of the ``checks`` dictionary will be the name of the health check and the value will contain the ``status`` and ``time`` in ISO datetime format that the status was recorded at. If the ``status`` is ``warn`` or ``error`` an ``output`` key will be present with a message explaining the status. Alternatives ------------ Instead of maintaining the state of the process in a data structure and returning the cached state we, could implement the health check as a series of active probes such as checking the DB schema version to ensure we can access it or making a ping RPC call to the cell conductor or our own services RPC endpoint. While this approach has some advantages it will have a negative performance impact if the health-check is queried frequently or in a large deployment where infrequent queries may still degrade the DB and message bus performance due to the scale of the deployment. This spec initially suggested using ``OK``, ``Degraded`` and ``Faulty`` as the values for the status field. These were updated to ``pass``, ``warn`` and ``fail`` to align with the draft IETF RFC for health check response format for HTTP APIs `[1]`_. Data model impact ----------------- The Nova context object will be extended to store a reference to the health check manager. REST API impact --------------- None While this change will expose a new REST API endpoint it will not be part of the existing Nova API. In the Nova API the /health check route will not initially be used to allow those that already enable the Oslo middleware to continue to do so. In a future release Nova reserves the right to add a /health check endpoint that may or may not correspond to the response format defined in Oslo. A translation between the Oslo response format and the health check module may be provided in the future but it is out of the scope of this spec. Security impact --------------- The new health check endpoint will be disabled by default. When enabled it will not provide any authentication or explicit access control. The documentation will detail that when enabled, the TCP endpoint should be bound to ``localhost`` and that file system permission should be used to secure the UNIX socket. The TCP configuration option will not prevent binding it to a routable IP if the operator chooses to do so. The intent is that the data contained in the endpoint will be non-privileged however it may contain hostnames/FQDNs or other infrastructure information such as service UUIDs, so it should not be accessible from the Internet. Notifications impact -------------------- None While the health checks will use the ability to send notification as an input to determine the health of the system, this spec will not introduce any new notifications and as such it will not impact the Notification subsystem in Nova. New notifications are not added as this would incur a performance overhead. Other end user impact --------------------- None At present, it is not planned to extend the Nova client or the unified client to query the new endpoint. cURL, socat, or any other UNIX socket or TCP HTTP client can be used to invoke the endpoint. Performance Impact ------------------ None We expect there to be little or no performance impact as we will be taking a minimally invasive approach to add health indicators to key functions which will be cached in memory. While this will slightly increase memory usage there is no expected impact on system performance. Other deployer impact --------------------- A new config section ``healthcheck`` will be added in the nova.conf A ``uri`` config option will be introduced to enable the health check functionality. The config option will be a string opt that supports a comma-separated list of URIs with the following format uri=<scheme>://[host:port|path],<scheme>://[host:port|path] e.g. :: [healthcheck] uri=tcp://localhost:424242 [healthcheck] uri=unix:///run/nova/nova-compute.sock [healthcheck] uri=tcp://localhost:424242,unix:///run/nova/nova-compute.sock The URI should be limited to the following characters ``[a-zA-Z0-9_-]``, ``,`` is reserved as a separation character, ``.`` may only be used in IPv4 addresses, and ``:`` is reserved for port separation unless the address is an IPv6 address. IPv6 addresses must be enclosed in ``[`` and ``]``. ``/`` may be used with the UNIX protocol however relative paths are not supported. These constraints and the parsing of the URI will be enforced and provided by the RFC3986 lib https://pypi.org/project/rfc3986/ A ``ttl`` IntOpt will be added with a default value of 300 seconds. If set to 0, the time to live of a health check item will be infinite. If the TTL expires, the state will be considered unknown and the healthcheck item will be discarded. A cache_control IntOpt will be provided to set the max-age value in the cache_control header. By default it will have the same max-age as the TTL config option. Setting this to 0 will disable the reporting of the header. Setting this to -1 will report ``Cache-Control: no-cache``. Any other positive integer value will be used as the max-age. Developer impact ---------------- Developers should be aware of the new decorator and consider whether it should be added to more functions, if that function is an indicator of the system's health. Failures due to interactions with external systems such as Neutron port binding external events should be handled with caution. While failure to receive a port binding event will likely result in the failure to boot a VM, it should not be used as a health indicator for the nova-compute agent. This is because such a failure may be due to a failure in Neutron, not Nova. As such, other operations such as VM snapshot may be unaffected and the Nova compute service may be otherwise healthy. Any failure to connect to a non-OpenStack service such as the message bus, hypervisor, or database should be treated as a ``warn`` or ``fail`` health indicator if it prevents the Nova binary from functioning correctly. Upgrade impact -------------- None Implementation ============== Assignee(s) ----------- Primary assignee: sean-k-mooney Other contributors: melwitt Feature Liaison --------------- Feature liaison: sean-k-mooney Work Items ---------- * Add new module * Introduce decorator * Extend context object to store a reference to health check manager * Add config options * Expose TCP endpoint * Expose UNIX socket endpoint support * Add docs Dependencies ============ None Testing ======= This can be tested entirely with unit and functional tests, however, Devstack will be extended to expose the endpoint and use it to determine whether the Nova services have started. Documentation Impact ==================== The config options will be documented in the config reference and a release note will be added for the feature. A new health check section will be added to the admin docs describing the current response format and how to enable the feature and its intended usage. This document should be evolved whenever the format changes or new functionality is added beyond the scope of this spec. References ========== * Yoga PTG topic: https://etherpad.opendev.org/p/r.e70aa851abf8644c29c8abe4bce32b81#L415 .. _`[1]`: https://tools.ietf.org/id/draft-inadarei-api-health-check-06.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced * - 2023.1 Antelope - Reproposed ",,517,0
openstack%2Fcharm-neutron-k8s~865127,openstack/charm-neutron-k8s,stable/xena,If55075356b976b611509becdf8cfbcdae0f6f360,Updates for stable xena opening,MERGED,2022-11-21 13:29:59.000000000,2022-11-28 12:33:35.000000000,2022-11-28 11:46:28.000000000,"[{'_account_id': 10366}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 13:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/c5f146d44f9738d3785df264b2e27a01d8c6afbd', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 2, 'created': '2022-11-22 14:16:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/5dcb9060bff9e41f19822e165884a03c7d107e79', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 3, 'created': '2022-11-28 09:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/a4d8de04b6ed361dc6dc66a771605c42644a97e9', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nForce series to jammy to workaround bug 1997688.\n\nRelated-Bug: 1997688\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}, {'number': 4, 'created': '2022-11-28 10:18:40.000000000', 'files': ['tests/bundles/xena.yaml', '.gitreview', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/3abe73557903fafa4bfe36b55dc30b9b9080105e', 'message': 'Updates for stable xena opening\n\nUpdate git review configuration.\n\nRefresh bundle with up-to-date channel information.\n\nForce series to jammy to workaround bug 1997688.\n\nPin flake8<6 for the time being.\n\nRelated-Bug: 1997688\nChange-Id: If55075356b976b611509becdf8cfbcdae0f6f360\n'}]",11,865127,3abe73557903fafa4bfe36b55dc30b9b9080105e,32,2,4,935,,,0,"Updates for stable xena opening

Update git review configuration.

Refresh bundle with up-to-date channel information.

Force series to jammy to workaround bug 1997688.

Pin flake8<6 for the time being.

Related-Bug: 1997688
Change-Id: If55075356b976b611509becdf8cfbcdae0f6f360
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/27/865127/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xena.yaml', '.gitreview']",2,c5f146d44f9738d3785df264b2e27a01d8c6afbd,,defaultbranch=stable/xena,defaultbranch=main,9,9
openstack%2Fskyline-console~865799,openstack/skyline-console,master,Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95,Fix keypair in magnum,MERGED,2022-11-28 08:01:08.000000000,2022-11-28 12:12:15.000000000,2022-11-28 12:11:01.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-28 08:01:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/7ff344af4e2e94d15fcfa27a7dcc5f712d9ee2eb', 'message': 'Fix keypair in magnum\n\n1.The form items will be resetted, when create a new keypair\n2.Same issue when create instance\n\nCloses-Bug: #1998077\nChange-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95\n'}, {'number': 2, 'created': '2022-11-28 09:12:59.000000000', 'files': ['src/stores/magnum/clusterTemplates.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/ac1edd6e9785c45b58a69debab99b9480a696177', 'message': 'Fix keypair in magnum\n\n1.The form items value will be resetted, when create a new keypair\n2.Same issue when create instance\n\nCloses-Bug: #1998077\nChange-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95\n'}]",0,865799,ac1edd6e9785c45b58a69debab99b9480a696177,9,3,2,33689,,,0,"Fix keypair in magnum

1.The form items value will be resetted, when create a new keypair
2.Same issue when create instance

Closes-Bug: #1998077
Change-Id: Ie0021cbddc4c8730d604e4892a8cfa878a5bcb95
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/99/865799/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/magnum/clusterTemplates.js', 'src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/index.jsx']",6,7ff344af4e2e94d15fcfa27a7dcc5f712d9ee2eb,fix-create-keypair," keypair, if (keypair) { body.keypair_id = keypair.selectedRowKeys[0];"," keypairs, if (keypairs) { body.keypair_id = keypairs.selectedRowKeys[0];",15,21
openstack%2Ftripleo-heat-templates~865798,openstack/tripleo-heat-templates,stable/wallaby,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 07:58:49.000000000,2022-11-28 11:42:57.000000000,2022-11-28 11:41:57.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:58:49.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/623465ef8b400a27eb7cd9a61db325f6f58a7e2a', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nConflicts:\n\ttox.ini\n\nBackport note:\nThis backport effectively backports the change[1] to fix encoding\nerrors.\n\n[1] https://review.opendev.org/805119\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)\n(cherry picked from commit e675ecb95561b5061b5c2b5737348c0bd818feac)\n""}]",0,865798,623465ef8b400a27eb7cd9a61db325f6f58a7e2a,7,2,1,9816,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Conflicts:
	tox.ini

Backport note:
This backport effectively backports the change[1] to fix encoding
errors.

[1] https://review.opendev.org/805119

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)
(cherry picked from commit e675ecb95561b5061b5c2b5737348c0bd818feac)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/98/865798/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,623465ef8b400a27eb7cd9a61db325f6f58a7e2a,,setenv = VIRTUAL_ENV={envdir} LC_ALL=en_US.UTF-8,requires = # extra plugin returns error if git reports untracked or dirty files tox-extra>=0.0.0,3,11
openstack%2Ftripleo-heat-templates~864955,openstack/tripleo-heat-templates,master,I4288738c2c95ab990024845fa43653854e790bd8,Improve volumes format check of yaml-validate.py,MERGED,2022-11-18 01:33:04.000000000,2022-11-28 11:41:53.000000000,2022-11-28 11:41:53.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-18 01:33:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/13e548408f34a41ddb7cf348f7c3b18312945bf9', 'message': 'Improve volumes format check of yaml-validate.py\n\nCurrently, yaml-validate.py cannot detect trailing slashes under\n""list_concat"" and ""if"".\n\n  volumes:\n    - /example:/example/ # <======= detected\n\n  volumes:\n    list_concat:\n    - - /example1:/example1/ # <===== not detected\n      - /example2:/example2\n    - if:\n      - {get_param: TestValue}\n      - - /example3:/example3/ # <==== not detected\n        - /example4:/example4\n\nThis fix makes yaml-validate.py detect the these trailing slashes.\n\nBecause the current implementation digs ""list"" twice in one call to\ncheck_volumes(), trailing slashes under ""list_concat"" are not detected.\nBecause the current implementation ignores ""if"", trailing slashes under\n""if"" are not deleted. check_volumes() doesn\'t have to ignore ""if""\nbecause non-volume-style value is ignored because of IndexError.\n\nChange-Id: I4288738c2c95ab990024845fa43653854e790bd8\n'}, {'number': 2, 'created': '2022-11-18 01:58:12.000000000', 'files': ['deployment/database/mysql-container-puppet.yaml', 'tools/yaml-validate.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d940f586147e40e52b53b44c239e113a6d460747', 'message': 'Improve volumes format check of yaml-validate.py\n\nCurrently, yaml-validate.py cannot detect trailing slashes under\n""list_concat"" and ""if"".\n\n  volumes:\n    - /example:/example/ # <======= detected\n\n  volumes:\n    list_concat:\n    - - /example1:/example1/ # <===== not detected\n      - /example2:/example2\n    - if:\n      - {get_param: TestValue}\n      - - /example3:/example3/ # <==== not detected\n        - /example4:/example4\n\nThis fix makes yaml-validate.py detect the these trailing slashes.\n\nBecause the current implementation digs ""list"" twice in one call to\ncheck_volumes(), trailing slashes under ""list_concat"" are not detected.\nBecause the current implementation ignores ""if"", trailing slashes under\n""if"" are not deleted. check_volumes() doesn\'t have to ignore ""if""\nbecause non-volume-style value is ignored because of IndexError.\n\nChange-Id: I4288738c2c95ab990024845fa43653854e790bd8\n'}]",1,864955,d940f586147e40e52b53b44c239e113a6d460747,9,4,2,34564,,,0,"Improve volumes format check of yaml-validate.py

Currently, yaml-validate.py cannot detect trailing slashes under
""list_concat"" and ""if"".

  volumes:
    - /example:/example/ # <======= detected

  volumes:
    list_concat:
    - - /example1:/example1/ # <===== not detected
      - /example2:/example2
    - if:
      - {get_param: TestValue}
      - - /example3:/example3/ # <==== not detected
        - /example4:/example4

This fix makes yaml-validate.py detect the these trailing slashes.

Because the current implementation digs ""list"" twice in one call to
check_volumes(), trailing slashes under ""list_concat"" are not detected.
Because the current implementation ignores ""if"", trailing slashes under
""if"" are not deleted. check_volumes() doesn't have to ignore ""if""
because non-volume-style value is ignored because of IndexError.

Change-Id: I4288738c2c95ab990024845fa43653854e790bd8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/55/864955/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/database/mysql-container-puppet.yaml', 'tools/yaml-validate.py']",2,13e548408f34a41ddb7cf348f7c3b18312945bf9,," result += check_volumes(vol) elif isinstance(volumes, dict): elif isinstance(volumes, str): vol_def = volumes.split(':') try: if vol_def[0][-1] == '/' or vol_def[1][-1] == '/': print('ERROR: trailing ""/"" detected' ' for {}'.format(volumes)) return 1 except IndexError: # Not a volume definition, ignore it pass"," if isinstance(vol, dict): # Avoid 'if', 'get_*' etc continue elif isinstance(vol, list): for item in vol: result += check_volumes(item) elif isinstance(vol, str): vol_def = vol.split(':') try: if vol_def[0][-1] == '/' or vol_def[1][-1] == '/': print('ERROR: trailing ""/"" detected' ' for {}'.format(vol)) return 1 except IndexError: # Not a volume definition, ignore it continue elif isinstance(volumes, dict): # Step into 'list_concat', 'map_*' etc.",12,18
openstack%2Ftripleo-heat-templates~863635,openstack/tripleo-heat-templates,master,I03de141258ae7528706dd3a1d2eb5305e027d657,Use root for frr container,ABANDONED,2022-11-04 10:43:32.000000000,2022-11-28 11:40:38.000000000,,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-04 10:43:32.000000000', 'files': ['deployment/frr/frr-container-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e982b4690a1a92b2a67559ab171c6425db6493c0', 'message': 'Use root for frr container\n\nSince frr-8.3 enforces the frr daemons to be started/stopped by\nthe root user we need to align our container definition.\n\nChange-Id: I03de141258ae7528706dd3a1d2eb5305e027d657\n'}]",4,863635,e982b4690a1a92b2a67559ab171c6425db6493c0,12,5,1,30126,,,0,"Use root for frr container

Since frr-8.3 enforces the frr daemons to be started/stopped by
the root user we need to align our container definition.

Change-Id: I03de141258ae7528706dd3a1d2eb5305e027d657
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/35/863635/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/frr/frr-container-ansible.yaml'],1,e982b4690a1a92b2a67559ab171c6425db6493c0,, user: root,,1,0
openstack%2Fnova-specs~861591,openstack/nova-specs,master,I529100701b4e37838894913613d485fa5ecc9d63,Proposes cpu power managment in libvirt,MERGED,2022-10-17 09:17:19.000000000,2022-11-28 11:28:38.000000000,2022-11-28 11:27:08.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-17 09:17:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/ed3310a372d9d865944eba2777e43f706aca1764', 'message': 'Add spec for external cpu power managment\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 2, 'created': '2022-10-17 09:19:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f25893955fe6fe02100ce285347249cd13118737', 'message': 'Proposes external cpu power managment\n\nThis spec describes blueprint external-cpu-management\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 3, 'created': '2022-10-17 09:30:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/da67beac37b0dfe7ee263284e9de3b03f9f16299', 'message': 'Proposes external cpu power managment\n\nThis spec describes blueprint external-cpu-management\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 4, 'created': '2022-11-15 13:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4edf34adcc30edf1f8d95ea237f930a76f3b8e8c', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 5, 'created': '2022-11-16 16:43:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4d8daf7db868af8e3c9d8e8e6a20c4c869f492a5', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}, {'number': 6, 'created': '2022-11-25 15:13:06.000000000', 'files': ['specs/2023.1/approved/libvirt-cpu-state-mgmt.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bba19dc7939198528f9b3583472691d997860e03', 'message': 'Proposes cpu power managment in libvirt\n\nThis spec describes blueprint libvirt-cpu-state-mgmt\n\nChange-Id: I529100701b4e37838894913613d485fa5ecc9d63\nCo-Authored-By: Sean Mooney <work@seanmooney.info>\n'}]",48,861591,bba19dc7939198528f9b3583472691d997860e03,28,4,6,7166,,,0,"Proposes cpu power managment in libvirt

This spec describes blueprint libvirt-cpu-state-mgmt

Change-Id: I529100701b4e37838894913613d485fa5ecc9d63
Co-Authored-By: Sean Mooney <work@seanmooney.info>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/91/861591/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/2023.1/approved/external-cpu-management.rst'],1,ed3310a372d9d865944eba2777e43f706aca1764,external-cpu-management,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================= External CPU Management ======================= https://blueprints.launchpad.net/nova/+spec/external-cpu-management In many telecom or semi-static clouds, there is a bin packing problem where a node for all practical use cases is full since no further applications can be scheduled to the host but in reality, it still has unused CPU cores. In a typical server system, an idle CPU core consumes 3-5 watts of power and produces 3-5 watts of heat which the data center cooling solution must accommodate. To facilitate reducing power usage and heat output in order to make data centers greener and less expensive, it makes sense to allow the power state of CPUs to be turned off or using another governor so that they can be optimized. As we don't want to have the nova-compute services to support this as it would be different between virt drivers etc. we prefer to have a external CPU management tool for this. Problem description =================== For our large telco operators, they often find that they have 2-4 CPUs that are not usable due to CPU pinning/packing requirements per host. Each CPU consumes 3-5 watts per core or ~12-20 watts per host. Assuming a nominal cost per kWh of $0,20 and 1000 hosts, that means they pay $35,040 in wasted electricity a year alone from just the idle CPU usage plus the additional cost of dissipating all of the heat generated. Furthermore, while many telco use-cases require low latency and high throughput, not all of them require the CPU to run at the max frequency. Use Cases --------- As an operator using the nova libvirt driver, I would like to be able to disable (offline) cpu cores using the kernel sysfs interface from an external tool. As an operator, I would like to leverage server metadata and tags to express a policy that my external tool can use to tune the host. Proposed change =============== There are three parts to this proposal : - add a config option for declaring that CPUs are externally managed - modify inventories for reserving offlined CPUs - use events between Nova and the external tool to know when a CPU is onlined Let's discuss those three parts by each of them : Declaring CPUs as externally managed ------------------------------------ We can add a config option to the hardware section to declare that the host CPUs are externally managed `[1]`_. .. code:: # registered in group [hardware] cfg.BoolOpt('cpu_external_management', default=False, help='Use of an external CPU management tool.') If this option is set to True, then all the CPUs will be told as onlined even if they are offlined as the external management tool could online them after starting the nova-compute service. ..note:: For the moment, only the libvirt driver will use this option but other drivers could support it too later. Modify the inventories to reserve offline CPUs ---------------------------------------------- The update provider tree will be modified for CPU inventories by modifying the ``reserved`` field to the number of offline CPUs if ``[hardware]/cpu_external_management option`` is set to True. This will allow the external tool to notify Placement of the offlined CPUs for correct scheduling. Use events between Nova and the external tool --------------------------------------------- ..note:: this step can be optional if operators don't want to run an external tool as a dynamic daemon that would turn on CPUs on fly when an instance is created. They indeed could just set the CPUs on or off statically based on their different use cases. We propose to add a new external event and a second config option to wait for this event. .. code:: # registered in group [hardware] cfg.IntOpt('external_management_timeout', default=-1, help=""Event wait time from external management tool. Set to -1 to disable this timeout, 0 for waiting indefinitely or any positive number for the number of seconds to wait for this event."") When this config option is not equal to -1, a new set of external event waiters will be activated in specific instance actions before nova starts a VM at boot, unshelve, cold migrate, rebuild, rescue, and evacuate. As synchronization during a live migrate action is non-trivial and Nova can not control when the VM un-pauses, *no* additional waiting will be added for live-migrate. The external service would listen to the versioned nova notification stream to know that an instance needs to be managed so no direct interface between nova and the external service is required. Some examples of this back-and-forth between the nova-compute service and the external management tool can be : - when an instance is spawned, it holds until the external tool turns the corresponding CPU online. - when an instance is spawned, it holds until the CPU governor is set to performance. Other examples could happen later, but as you see, all of those won't require any changes in Nova. Alternatives ------------ We could just do the first step and provide a way to disable checking the CPU online state in the libvirt driver with no external synchronization, but this would require the operators to statically manage their cloud, which is cumbersome. We could do this directly in nova and amend Nova everytime we want a new usecase. Not sure we'd appreciate this. We could make reporting CPUs to the Placement API controlable via config, but this would only solve one usecase and would still require some tooling for playing with the config option. Data model impact ----------------- None REST API impact --------------- A new external event type will be added : ``hypervisor-external-management-complete``. Security impact --------------- None While the external management component will need to ensure that it works securely, there is no security impact to Nova. Notifications impact -------------------- If we implement the last step, which is an event listener, we may also want to send a new notification to indicate we have started waiting for external management of the instance. Other end user impact --------------------- None Performance Impact ------------------ This could generate a bit more extra load on some Nova REST API calls as they would need an event arrivate to complete. This will also add more messages to the message bus. That being said, as this feature is opt-in, operators can identify any potential need for performance tuning before fully adopting it. Other deployer impact --------------------- In addition to the Nova change, deployment tools that choose to support this feature will need to be enhanced to deploy the external management daemon. Developer impact ---------------- None Upgrade impact -------------- The external management daemon will not be usable until after the compute node is upgraded to Antelope due to the current restriction on core online status. However once the compute node is updated, there should be no upgrade impact. Implementation ============== Assignee(s) ----------- Primary assignee: bauzas Other contributors: sean-k-mooney Feature Liaison --------------- Feature liaison: N/A Work Items ---------- * Add a config option for external cpu state management `[1]`_ * Add a config option for external event timeout * Add an external event type to API * Add conditional event waiting blocks to instance start operations. * Add example documentation for how to integrate an external service. Dependencies ============ None Testing ======= Testing of this spec will be done with unit and functional tests. A test fixture to fake an external service will be added. This fixture will be a noop that just sends the event in response to the new notification. The API sample tests will be updated to account for the new notification. We could also integrate a Tempest scenario that would rely on a small external tool that would just send the event back. Documentation Impact ==================== An example documentation will be provided on how to integrate a service for deployment tools to consume. References ========== .. _[1]: https://review.opendev.org/c/openstack/nova/+/821228 A WIP reference implementation of the external service is hosted at https://github.com/SeanMooney/arbiterd This may be upstreamed to opendev in the future. In the specific case of arbiterd, the intent is to allow add integration with Placement so that it can mark any off-lined core as reserved in placement to ensure correct scheduling. Traits inventories of power budget or other resources may also be exposed over time however ``provider.yaml`` may also be used for that. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Yoga - Introduced * - Antelope - Reproposed ",,299,0
openstack%2Fbarbican~865552,openstack/barbican,stable/wallaby,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-24 13:13:41.000000000,2022-11-28 10:18:44.000000000,2022-11-28 10:17:19.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:41.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/6ee5ad91635b41c3ab891602942b1b809a25ace6', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)\n'}]",1,865552,6ee5ad91635b41c3ab891602942b1b809a25ace6,9,2,1,14250,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/52/865552/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,6ee5ad91635b41c3ab891602942b1b809a25ace6,policy-system-admin-typo-stable/wallaby," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Fpycadf~863690,openstack/pycadf,stable/victoria,Ia3f66b6805704c254295fd663f0260d5d963ed66,Drop lower-constraints.txt and its testing,MERGED,2022-11-04 18:46:48.000000000,2022-11-28 10:18:36.000000000,2022-11-28 10:15:29.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 18:46:48.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/0475709c0734d8314637298de2fd2b005ad5a1cb', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 84f6e5b7658adc36e9e9cedcd42642c9ab8ceb15)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}]",0,863690,0475709c0734d8314637298de2fd2b005ad5a1cb,9,5,1,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

(cherry picked from commit 84f6e5b7658adc36e9e9cedcd42642c9ab8ceb15)

Change-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/90/863690/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,0475709c0734d8314637298de2fd2b005ad5a1cb,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,58
openstack%2Fpycadf~863691,openstack/pycadf,stable/ussuri,Ia3f66b6805704c254295fd663f0260d5d963ed66,Drop lower-constraints.txt and its testing,MERGED,2022-11-04 18:51:25.000000000,2022-11-28 10:18:34.000000000,2022-11-28 10:15:31.000000000,"[{'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-04 18:51:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/pycadf/commit/414bc907b3d0440238dbf602d2b74e92364147c1', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}, {'number': 2, 'created': '2022-11-04 19:39:52.000000000', 'files': ['requirements.txt', '.zuul.yaml', 'setup.py', 'lower-constraints.txt', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/pycadf/commit/6fe11b5188bbdbb39bff511fa0227e5785be17f7', 'message': 'Drop lower-constraints.txt and its testing\n\nAs discussed in TC PTG[1] and TC resolution[2], we are\ndropping the lower-constraints.txt file and its testing.\nWe will keep lower bounds in the requirements.txt file but\nwith a note that these are not tested lower bounds and we\ntry our best to keep them updated.\n\n[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326\n[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal\n\n(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)\n\nChange-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66\n'}]",0,863691,6fe11b5188bbdbb39bff511fa0227e5785be17f7,11,4,2,7973,,,0,"Drop lower-constraints.txt and its testing

As discussed in TC PTG[1] and TC resolution[2], we are
dropping the lower-constraints.txt file and its testing.
We will keep lower bounds in the requirements.txt file but
with a note that these are not tested lower bounds and we
try our best to keep them updated.

[1] https://etherpad.opendev.org/p/tc-zed-ptg#L326
[2] https://governance.openstack.org/tc/resolutions/20220414-drop-lower-constraints.html#proposal

(cherry picked from commit 0475709c0734d8314637298de2fd2b005ad5a1cb)

Change-Id: Ia3f66b6805704c254295fd663f0260d5d963ed66
",git fetch https://review.opendev.org/openstack/pycadf refs/changes/91/863691/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', '.zuul.yaml', 'lower-constraints.txt', 'tox.ini']",4,414bc907b3d0440238dbf602d2b74e92364147c1,,, [testenv:lower-constraints] deps = -c{toxinidir}/lower-constraints.txt -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,4,63
openstack%2Ftripleo-ci~845763,openstack/tripleo-ci,master,I3aa5b15015ec316a1ea4457637cdd908468ebdff,"[DNM][WIP]""Add Ironic standalone job""",ABANDONED,2022-06-14 14:15:24.000000000,2022-11-28 09:56:48.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-14 14:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d5bee6f4e3dcfdb30b7cdba7d1fcb12477fc6ce4', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit attempts to introduce a new job replicating\nan Ironic job used in phase 3 with Infrared.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 2, 'created': '2022-06-15 07:28:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/4b7381abeec74a5e81625b740def2f4a543575db', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 3, 'created': '2022-06-20 14:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/2bc8cc16454453fcf6b4bb293a630ae61d7284ba', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 4, 'created': '2022-06-21 09:14:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/98368d3f2d1e95b5082426ae3348164d647e8e7a', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 5, 'created': '2022-06-21 09:30:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/091b72efb9e93a30620e3e08f94b6e25c0ddb56e', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 6, 'created': '2022-06-21 09:48:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/876d7a4ae6a5f4292fdfe75f78f5acf9ad9cc7bf', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 7, 'created': '2022-06-21 09:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/28fb4871f86709cec5f1cc890129923f4390c473', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 8, 'created': '2022-06-21 10:03:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e577864098344d1a2cdb7353f7dd77ddb85bd054', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 9, 'created': '2022-06-21 10:05:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0cda4c822de9f7bfa92d3f8642470d3a0503d5bd', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 10, 'created': '2022-06-21 14:23:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/0eae36d78cd61c2de5af1f439a045b0903300156', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 11, 'created': '2022-06-21 14:29:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/49c8b73d548873f7bbf05bf64da6b1f989137063', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 12, 'created': '2022-06-21 14:33:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/a843b79a3b1991b34249b48747a2b373d3c66049', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 13, 'created': '2022-06-21 14:40:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/61610cfd6c56a6d885286a5ffe4aee63f2c33df5', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 14, 'created': '2022-06-21 14:43:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/b72aaa9d8686835da411894452209e14a2847642', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 15, 'created': '2022-06-21 15:08:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/5a3c6b96cbfe3cd3e550b4c301b71a28f8cc0a25', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}, {'number': 16, 'created': '2022-06-22 10:40:29.000000000', 'files': ['zuul.d/standalone-jobs.yaml', 'zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/6e8535e0c80dcbea58574a2f88578348e7333325', 'message': '[DNM][WIP]""Add Ironic standalone job""\n\nThis commit introduces a new job for Ironic project.\n\nChange-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff\n'}]",3,845763,6e8535e0c80dcbea58574a2f88578348e7333325,42,2,16,34602,,,0,"[DNM][WIP]""Add Ironic standalone job""

This commit introduces a new job for Ironic project.

Change-Id: I3aa5b15015ec316a1ea4457637cdd908468ebdff
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/63/845763/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/standalone-jobs.yaml'],1,d5bee6f4e3dcfdb30b7cdba7d1fcb12477fc6ce4,, name: tripleo-ci-scenario012-ironic-options vars: featureset: '060' featureset_override: standalone_environment_files: - 'ci/environments/scenario012-standalone.yaml' - job: name: tripleo-ci-centos-8-ironic-standalone parent: tripleo-ci-scenario012-ironic-options - job:,,12,0
openstack%2Fkeystonemiddleware~843653,openstack/keystonemiddleware,stable/xena,I0ced0a7f4c8947d879676b17cb8b49368df2a634,Xena: Update classifiers according to tested runtimes,MERGED,2022-05-27 16:15:51.000000000,2022-11-28 09:53:00.000000000,2022-11-28 09:51:57.000000000,"[{'_account_id': 5046}, {'_account_id': 7414}, {'_account_id': 7973}, {'_account_id': 14250}, {'_account_id': 16465}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-27 16:15:51.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5c318d603b2c27d98f57a9512225ed6ebf7108cd', 'message': 'Xena: Update classifiers according to tested runtimes\n\nChange-Id: I0ced0a7f4c8947d879676b17cb8b49368df2a634\n'}]",0,843653,5c318d603b2c27d98f57a9512225ed6ebf7108cd,9,6,1,9816,,,0,"Xena: Update classifiers according to tested runtimes

Change-Id: I0ced0a7f4c8947d879676b17cb8b49368df2a634
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/53/843653/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,5c318d603b2c27d98f57a9512225ed6ebf7108cd,,python-requires >= 3.6 Programming Language :: Python :: 3 :: Only Programming Language :: Python :: 3.8,,3,0
openstack%2Fhorizon~864081,openstack/horizon,master,I568e3320294d5f78d17bebd58e40b35f03806a08,[DNM] Test nodejs test job,ABANDONED,2022-11-09 05:58:07.000000000,2022-11-28 09:35:24.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-09 05:58:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/08a16f69e64a2763df794c31561bd5bcf8f18687', 'message': '[DNM] Test nodejs test job\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}, {'number': 2, 'created': '2022-11-09 07:24:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7b240cefcdd62f9182866cee7f098a572b773889', 'message': '[DNM] Test nodejs test job\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}, {'number': 3, 'created': '2022-11-09 14:20:51.000000000', 'files': ['bindep.txt', '.zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/8db5f7a83db67398931f476bff8c2f6ac68fa31f', 'message': '[DNM] Test nodejs test job\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/864119\n\nChange-Id: I568e3320294d5f78d17bebd58e40b35f03806a08\n'}]",0,864081,8db5f7a83db67398931f476bff8c2f6ac68fa31f,6,1,3,29313,,,0,"[DNM] Test nodejs test job

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/864119

Change-Id: I568e3320294d5f78d17bebd58e40b35f03806a08
",git fetch https://review.opendev.org/openstack/horizon refs/changes/81/864081/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/project.yaml'],1,08a16f69e64a2763df794c31561bd5bcf8f18687,, #- check-requirements #- horizon-cross-jobs #- horizon-non-primary-django-jobs #- openstack-python3-jobs #- periodic-stable-jobs #- publish-openstack-docs-pti #- release-notes-jobs-python3 #- horizon-integration-tests #- horizon-dsvm-tempest-plugin #- horizon-tox-bandit-baseline #- horizon-tempest-plugin-ipv6, - check-requirements - horizon-cross-jobs - horizon-non-primary-django-jobs - openstack-python3-jobs - periodic-stable-jobs - publish-openstack-docs-pti - release-notes-jobs-python3 - horizon-integration-tests - horizon-dsvm-tempest-plugin - horizon-tox-bandit-baseline - horizon-tempest-plugin-ipv6,11,11
openstack%2Fpuppet-neutron~864451,openstack/puppet-neutron,master,Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968,ovn-metadata: Remove deprecated metadata_ip,MERGED,2022-11-15 01:59:31.000000000,2022-11-28 08:39:51.000000000,2022-11-28 08:38:48.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-15 01:59:31.000000000', 'files': ['releasenotes/notes/remove-ovn_metadata-metadata_ip-a83b5fbf0cc7a630.yaml', 'manifests/agents/ovn_metadata.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/5e9324e62f96ca2128548b95341b9376f400f85d', 'message': 'ovn-metadata: Remove deprecated metadata_ip\n\nThe parameter was deprecated during the previous cycle[1], because\nthe actual parameter in Neutron had been removed a long ago.\n\n[1] 189d7d6bea084b0298e5490c43157018a330f5c4\n\nChange-Id: Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968\n'}]",11,864451,5e9324e62f96ca2128548b95341b9376f400f85d,38,3,1,9816,,,0,"ovn-metadata: Remove deprecated metadata_ip

The parameter was deprecated during the previous cycle[1], because
the actual parameter in Neutron had been removed a long ago.

[1] 189d7d6bea084b0298e5490c43157018a330f5c4

Change-Id: Id07aa47e723b44d53aaac02bbdb3f0b4e8d72968
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/51/864451/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-ovn_metadata-metadata_ip-a83b5fbf0cc7a630.yaml', 'manifests/agents/ovn_metadata.pp']",2,5e9324e62f96ca2128548b95341b9376f400f85d,,,"# DEPRECATED PARAMETERS # # [*metadata_ip*] # The IP address of the metadata service. # Defaults to undef # # DEPRECATED PARAMETERS $metadata_ip = undef, if $metadata_ip != undef { warning('The metadata_ip parameter is deprecated and has no effect') } ovn_metadata_agent_config { 'DEFAULT/nova_metadata_ip': ensure => absent; } ",5,15
openstack%2Fkeystonemiddleware~865325,openstack/keystonemiddleware,master,I0107815b9423ea3661cef0a20a8689c6eba454ce,Switch memcache_pool_socket_timeout to a float,NEW,2022-11-22 19:08:32.000000000,2022-11-28 08:11:47.000000000,,"[{'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-22 19:08:32.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/bca0311f94ae2f04440006efd20b84af7d440939', 'message': ""Switch memcache_pool_socket_timeout to a float\n\nIt's not unusual to set 0.25 as a socket_timeout value, and this was\nnot possible. This can have a dramatic impact for performance when one\nmemcached server is down, especially when keystone is involved.\n\nSee https://review.opendev.org/c/openstack/oslo.cache/+/519353/\nfor a similar change in oslo (and related lp#1731921).\n\nChange-Id: I0107815b9423ea3661cef0a20a8689c6eba454ce\n""}]",3,865325,bca0311f94ae2f04440006efd20b84af7d440939,6,2,1,30126,,,0,"Switch memcache_pool_socket_timeout to a float

It's not unusual to set 0.25 as a socket_timeout value, and this was
not possible. This can have a dramatic impact for performance when one
memcached server is down, especially when keystone is involved.

See https://review.opendev.org/c/openstack/oslo.cache/+/519353/
for a similar change in oslo (and related lp#1731921).

Change-Id: I0107815b9423ea3661cef0a20a8689c6eba454ce
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/25/865325/1 && git format-patch -1 --stdout FETCH_HEAD,['keystonemiddleware/auth_token/_opts.py'],1,bca0311f94ae2f04440006efd20b84af7d440939,," cfg.FloatOpt('memcache_pool_socket_timeout', default=3.0,"," cfg.IntOpt('memcache_pool_socket_timeout', default=3,",2,2
openstack%2Ftrove~865413,openstack/trove,master,I8619621b4348bff26808104e4f9e070c64429c3f,Follow up: CI: test build docker image,MERGED,2022-11-23 11:02:03.000000000,2022-11-28 07:52:15.000000000,2022-11-28 07:50:36.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-23 11:02:03.000000000', 'files': ['playbooks/image-build/docker-registry.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/trove/commit/3134fd478d11ea08c513254a305b6ae0bf323b75', 'message': 'Follow up: CI: test build docker image\n\nThe previous patch forgot to push the tarball to openstack website.\nThis change adds a task to push it and replaces hard quote with soft\nquote\n\nChange-Id: I8619621b4348bff26808104e4f9e070c64429c3f\n'}]",0,865413,3134fd478d11ea08c513254a305b6ae0bf323b75,8,2,1,26285,,,0,"Follow up: CI: test build docker image

The previous patch forgot to push the tarball to openstack website.
This change adds a task to push it and replaces hard quote with soft
quote

Change-Id: I8619621b4348bff26808104e4f9e070c64429c3f
",git fetch https://review.opendev.org/openstack/trove refs/changes/13/865413/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/image-build/docker-registry.yaml', 'zuul.d/jobs.yaml']",2,3134fd478d11ea08c513254a305b6ae0bf323b75,trove-local-registry, parent: publish-openstack-artifacts - openstack/trove , - openstack/trove,3,2
openstack%2Ftripleo-heat-templates~865726,openstack/tripleo-heat-templates,stable/zed,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 07:28:11.000000000,2022-11-28 07:48:18.000000000,2022-11-28 07:47:22.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-28 07:28:11.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e675ecb95561b5061b5c2b5737348c0bd818feac', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)\n""}]",1,865726,e675ecb95561b5061b5c2b5737348c0bd818feac,8,2,1,8833,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
(cherry picked from commit 889dffa6a8a65d50d418c3724abb1912d5d4e882)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/26/865726/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,e675ecb95561b5061b5c2b5737348c0bd818feac,, VIRTUAL_ENV={envdir},requires = # extra plugin returns error if git reports untracked or dirty files tox-extra>=0.0.0,1,11
openstack%2Ftripleo-heat-templates~865789,openstack/tripleo-heat-templates,master,I154bfc36cc56f6b5425ec6bf805a290973203ba1,Fix openstack-tox* failures,MERGED,2022-11-28 06:04:22.000000000,2022-11-28 07:26:42.000000000,2022-11-28 07:25:44.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-28 06:04:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/162742bd3c321659d24b7c07edacacb91b46f2d5', 'message': 'WIP fix tox failures\n\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n'}, {'number': 2, 'created': '2022-11-28 06:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14ba40f6c609526669f696d4be22b435ad5efd4b', 'message': 'WIP fix tox failures\n\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n'}, {'number': 3, 'created': '2022-11-28 06:25:15.000000000', 'files': ['setup.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/889dffa6a8a65d50d418c3724abb1912d5d4e882', 'message': ""Fix openstack-tox* failures\n\nLooks like tox-extra plugin breaks openstack-tox*\njobs. Not sure if this is regression. I don't see\nit being used in any other openstack projects.\nLet's drop it.\n\nAlso cleans up things in setup.py.\n\nCloses-Bug: #1998074\nChange-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1\n""}]",1,865789,889dffa6a8a65d50d418c3724abb1912d5d4e882,11,3,3,8833,,,0,"Fix openstack-tox* failures

Looks like tox-extra plugin breaks openstack-tox*
jobs. Not sure if this is regression. I don't see
it being used in any other openstack projects.
Let's drop it.

Also cleans up things in setup.py.

Closes-Bug: #1998074
Change-Id: I154bfc36cc56f6b5425ec6bf805a290973203ba1
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/865789/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.py', 'tox.ini']",2,162742bd3c321659d24b7c07edacacb91b46f2d5,, VIRTUAL_ENV={envdir},,1,8
openstack%2Fmasakari~789460,openstack/masakari,master,Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3,vm evacuations for host recovery,ABANDONED,2021-05-04 02:13:49.000000000,2022-11-28 07:26:18.000000000,,"[{'_account_id': 22348}, {'_account_id': 24501}, {'_account_id': 30623}]","[{'number': 1, 'created': '2021-05-04 02:13:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2685fd7a342c819f9fb6f86a45419d2f3f94037e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 2, 'created': '2021-05-04 07:09:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/ae0ac89152f8d578fd6e495d8e1e1d4961395ac4', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 3, 'created': '2021-05-04 07:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/7a2c216dc1be291c1e5134f74bf60a9eade0f0b6', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 4, 'created': '2021-05-05 01:59:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/666c31c6b9268ed33182a6add9abdb58cf8cbb19', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 5, 'created': '2021-08-16 06:18:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/e400db3e5b3cfb0e96b20d09fd97e8d57cd8fd1e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 6, 'created': '2021-08-20 02:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/2cd7d0e94d00a4699a3046d61217bd0469dd2d1a', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 7, 'created': '2021-08-20 03:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/512200c691f797a7ed163380c5713401bfc14b14', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 8, 'created': '2021-08-20 03:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/30a6e27ae569edeb64081d761126b52ef78b0eec', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nImplements: vm-evacuations-for-host-recovery\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\n'}, {'number': 9, 'created': '2021-08-20 05:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/9a222a3ef24aa98ed05685e881151d1d9e802eb3', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 10, 'created': '2021-08-25 12:19:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/186341469e1b9a0973804218ddcdf772144ef531', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 11, 'created': '2021-08-25 12:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a3208e357a5eaa49641ba4c6778c41ce207d4efa', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 12, 'created': '2021-08-31 11:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/a33cc521b631c111f0b2a545f06ea753e3e45118', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 13, 'created': '2021-12-21 07:50:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/masakari/commit/4a8dfaa9a4cf0f4b5cba4533ab0ea02144d80037', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nCo-Authored-By: suzhengwei <sugar-2008@163.com>\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}, {'number': 14, 'created': '2021-12-22 02:00:33.000000000', 'files': ['masakari/tests/unit/api/openstack/ha/test_evacuations.py', 'masakari/tests/unit/fakes.py', 'masakari/tests/unit/objects/test_objects.py', 'masakari/tests/unit/db/test_migrations.py', 'masakari/exception.py', 'masakari/policies/evacuations.py', 'masakari/policies/__init__.py', 'masakari/api/openstack/ha/evacuations.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/objects/__init__.py', 'masakari/ha/api.py', 'masakari/tests/unit/engine/drivers/taskflow/test_host_failure_flow.py', 'masakari/tests/unit/objects/test_evacuations.py', 'masakari/db/sqlalchemy/api.py', 'masakari/objects/evacuation.py', 'masakari/db/api.py', 'masakari/objects/fields.py', 'masakari/tests/unit/ha/test_api.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_evacuation_table.py', 'masakari/tests/unit/db/test_db_api.py', 'masakari/db/sqlalchemy/models.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/masakari/commit/8997e895f1ff321c8b05208e88b8d9911739a75e', 'message': 'vm evacuations for host recovery\n\nGenerally, the resources of computing nodes are gradually reduced.\nIf a large number of hosts fail at the same time and there are not\nenough computing node resources, the operator needs to set the\npriority of instance evacuation in advance to ensure that the\nevacuation can be carried out in the order of priority.\n\nWhen the failed compute node recovers, in order to make full\nuse of the computing node resources, and some instances need\nto run on a specific computing node, the operator wants to\nmigrate the instance back to the original node.\n\nCo-Authored-By: suzhengwei <sugar-2008@163.com>\nChange-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3\nImplements: BP vm-evacuations-for-host-recovery\n'}]",134,789460,8997e895f1ff321c8b05208e88b8d9911739a75e,33,3,14,31825,,,0,"vm evacuations for host recovery

Generally, the resources of computing nodes are gradually reduced.
If a large number of hosts fail at the same time and there are not
enough computing node resources, the operator needs to set the
priority of instance evacuation in advance to ensure that the
evacuation can be carried out in the order of priority.

When the failed compute node recovers, in order to make full
use of the computing node resources, and some instances need
to run on a specific computing node, the operator wants to
migrate the instance back to the original node.

Co-Authored-By: suzhengwei <sugar-2008@163.com>
Change-Id: Ib955d22f5bc0fe3fc616b24e9ec718cca48ef9f3
Implements: BP vm-evacuations-for-host-recovery
",git fetch https://review.opendev.org/openstack/masakari refs/changes/60/789460/1 && git format-patch -1 --stdout FETCH_HEAD,"['masakari/exception.py', 'masakari/policies/evacuations.py', 'masakari/policies/__init__.py', 'masakari/api/openstack/ha/evacuations.py', 'masakari/engine/drivers/taskflow/host_failure.py', 'masakari/objects/__init__.py', 'masakari/ha/api.py', 'masakari/db/sqlalchemy/api.py', 'masakari/objects/evacuation.py', 'masakari/db/api.py', 'masakari/objects/fields.py', 'masakari/db/sqlalchemy/migrate_repo/versions/008_add_evacuation_table.py', 'masakari/db/sqlalchemy/models.py', 'setup.cfg']",14,2685fd7a342c819f9fb6f86a45419d2f3f94037e,bp/vm-evacuations-for-host-recovery, evacuations = masakari.api.openstack.ha.evacuations:Evacuations,,703,37
openstack%2Ftrove~862987,openstack/trove,master,I11aa38d2ff0da058590ec2b089756a659cad777b,Adds database_service_uid to the document,MERGED,2022-10-31 04:48:20.000000000,2022-11-28 06:39:12.000000000,2022-11-28 06:38:12.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 26285}, {'_account_id': 31737}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-10-31 04:48:20.000000000', 'files': ['doc/source/admin/run_trove_in_production.rst'], 'web_link': 'https://opendev.org/openstack/trove/commit/a39d7f9a29a9f8abdb36f472e2f286c7aff73728', 'message': 'Adds database_service_uid to the document\n\nThis PR adds the `database_service_uid` configuration option to the\ndocument.\n\nStory: 2010259\nTask: 46154\nChange-Id: I11aa38d2ff0da058590ec2b089756a659cad777b\n'}]",2,862987,a39d7f9a29a9f8abdb36f472e2f286c7aff73728,10,5,1,31737,,,0,"Adds database_service_uid to the document

This PR adds the `database_service_uid` configuration option to the
document.

Story: 2010259
Task: 46154
Change-Id: I11aa38d2ff0da058590ec2b089756a659cad777b
",git fetch https://review.opendev.org/openstack/trove refs/changes/87/862987/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/run_trove_in_production.rst'],1,a39d7f9a29a9f8abdb36f472e2f286c7aff73728,story/2010259, database_service_uid The UID(GID) of database service user. ,,3,0
openstack%2Fpuppet-openstack_extras~864126,openstack/puppet-openstack_extras,master,I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb,CentOS: Remove deprecated parameters,MERGED,2022-11-09 15:42:44.000000000,2022-11-28 06:36:27.000000000,2022-11-28 06:35:30.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-09 15:42:44.000000000', 'files': ['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/redhat-repo-cleanup-antelope-ca46c38bbf3ee957.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/bdf0f42d522d79266c3292005866de8ed0285112', 'message': 'CentOS: Remove deprecated parameters\n\nThese parameters were deprecated during the past cycles and have no\neffect since support for CentOS 8 has been completely removed.\n\nChange-Id: I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb\n'}]",5,864126,bdf0f42d522d79266c3292005866de8ed0285112,24,3,1,9816,,,0,"CentOS: Remove deprecated parameters

These parameters were deprecated during the past cycles and have no
effect since support for CentOS 8 has been completely removed.

Change-Id: I46cf7b3ae2e2d0cc8521653a1eba5ddb20d7e0eb
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/26/864126/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/repo/redhat/redhat.pp', 'releasenotes/notes/redhat-repo-cleanup-antelope-ca46c38bbf3ee957.yaml']",2,bdf0f42d522d79266c3292005866de8ed0285112,,--- upgrade: - | The following parameters of the ``openstack_extras::repo::redhat::redhat`` class have been removed. - ``stream`` - ``manage_virt`` ,,8,23
openstack%2Ftripleo-heat-templates~863485,openstack/tripleo-heat-templates,master,I26cbcb812da8473536d25a4ba26e45e42af4db10,Use pacemaker-managed redis for Octavia,ABANDONED,2022-11-03 09:18:21.000000000,2022-11-28 06:35:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-03 09:18:21.000000000', 'files': ['environments/services/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/83b725e0031de49d0b0307dfad8533d219cda5c0', 'message': 'Use pacemaker-managed redis for Octavia\n\nTest\n\nChange-Id: I26cbcb812da8473536d25a4ba26e45e42af4db10\n'}]",0,863485,83b725e0031de49d0b0307dfad8533d219cda5c0,5,3,1,30126,,,0,"Use pacemaker-managed redis for Octavia

Test

Change-Id: I26cbcb812da8473536d25a4ba26e45e42af4db10
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/85/863485/1 && git format-patch -1 --stdout FETCH_HEAD,['environments/services/octavia.yaml'],1,83b725e0031de49d0b0307dfad8533d219cda5c0,, OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml, OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml,1,1
openstack%2Fpuppet-swift~865209,openstack/puppet-swift,master,I77657c2dd50df511f5191219896e780d94405949,DNM: Testing canonical IPv6 address,ABANDONED,2022-11-21 23:50:15.000000000,2022-11-28 03:40:35.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-21 23:50:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/8e817dcfeeb88f05be5f90975260cf17c038385c', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}, {'number': 2, 'created': '2022-11-22 00:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/caef230dff75d6cea5870b4b2178c3de06ecf708', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}, {'number': 3, 'created': '2022-11-22 02:08:30.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5c436ac47c965e7c17f8cdf55267052b156e2d85', 'message': 'DNM: Testing canonical IPv6 address\n\nChange-Id: I77657c2dd50df511f5191219896e780d94405949\n'}]",0,865209,5c436ac47c965e7c17f8cdf55267052b156e2d85,7,1,3,9816,,,0,"DNM: Testing canonical IPv6 address

Change-Id: I77657c2dd50df511f5191219896e780d94405949
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/09/865209/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_swift_spec.rb'],1,8e817dcfeeb88f05be5f90975260cf17c038385c,," $swift_node_host = $openstack_integration::config::ipv6 ? { true => '0000:0000:0000:0000:0000:0000:0000:0001', default => $::openstack_integration::config::host } storage_local_net_ip => $swift_node_host,"," storage_local_net_ip => $::openstack_integration::config::host,",5,1
openstack%2Fpuppet-tripleo~865774,openstack/puppet-tripleo,master,Ie4db2e34caea708603850eaeb7436e719d057b9e,Octavia: Remove deprecated parameters,ABANDONED,2022-11-26 17:20:07.000000000,2022-11-28 03:22:00.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-26 17:20:07.000000000', 'files': ['manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/32a09bd573244676e3203c119072df2749df8e47', 'message': 'Octavia: Remove deprecated parameters\n\nThe ovn db parameters were deprecated before Zed release[1] thus can\nbe removed now. Also, the neutron_driver parameter was deprecated\nseveral cycles ago[2] and can be removed now as well.\n\n[1] a485965a2326cb1e62c2597b3eeac7e2cd54131f\n[2] 517eea74811fa5e61ea6010a620ffb50d207844b\n\nChange-Id: Ie4db2e34caea708603850eaeb7436e719d057b9e\n'}]",0,865774,32a09bd573244676e3203c119072df2749df8e47,4,2,1,9816,,,0,"Octavia: Remove deprecated parameters

The ovn db parameters were deprecated before Zed release[1] thus can
be removed now. Also, the neutron_driver parameter was deprecated
several cycles ago[2] and can be removed now as well.

[1] a485965a2326cb1e62c2597b3eeac7e2cd54131f
[2] 517eea74811fa5e61ea6010a620ffb50d207844b

Change-Id: Ie4db2e34caea708603850eaeb7436e719d057b9e
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/74/865774/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/octavia/api.pp', 'manifests/profile/base/octavia/provider/ovn.pp']",2,32a09bd573244676e3203c119072df2749df8e47,," if $ovn_db_clustered { join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port}""].filter |$c| { !$c.empty() }, ':') join([$protocol, normalize_ip_for_uri($h), ""${ovn_sb_port}""].filter |$c| { !$c.empty() }, ':')"," # For backward compatibility # TODO(tkajinam): Remove these deprecated parameters if $::tripleo::profile::base::octavia::api::ovn_db_host and !is_service_default(::tripleo::profile::base::octavia::api::ovn_db_host) { $ovn_db_hosts_real = any2array($::tripleo::profile::base::octavia::api::ovn_db_host) $ovn_nb_port_real = $::tripleo::profile::base::octavia::api::ovn_nb_port # NOTE(beagles): there is no backwards compatible case for the sb_port but I'm # adding this line for consistency. $ovn_sb_port_real = $ovn_sb_port } elsif $ovn_db_clustered { $ovn_nb_port_real = $ovn_nb_port $ovn_sb_port_real = $ovn_sb_port $ovn_nb_port_real = $ovn_nb_port $ovn_sb_port_real = $ovn_sb_port join([$protocol, normalize_ip_for_uri($h), ""${ovn_nb_port_real}""].filter |$c| { !$c.empty() }, ':') join([$protocol, normalize_ip_for_uri($h), ""${ovn_sb_port_real}""].filter |$c| { !$c.empty() }, ':')",3,37
openstack%2Frequirements~865586,openstack/requirements,stable/xena,Ib60c615f1040a80a5872106f90b3c508b06c69ff,update constraint for sushy to new release 3.12.5,MERGED,2022-11-24 16:36:32.000000000,2022-11-28 01:15:30.000000000,2022-11-28 01:15:30.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 16:36:32.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/6d75796d8562a5c5f243272dcd4f21c672f15f83', 'message': 'update constraint for sushy to new release 3.12.5\n\nmeta: version: 3.12.5\nmeta: diff-start: -\nmeta: series: xena\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Jacob Anders <janders@redhat.com>\nmeta: release:Commit: Jacob Anders <janders@redhat.com>\nmeta: release:Change-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib60c615f1040a80a5872106f90b3c508b06c69ff\n'}]",1,865586,6d75796d8562a5c5f243272dcd4f21c672f15f83,10,3,1,11131,,,0,"update constraint for sushy to new release 3.12.5

meta: version: 3.12.5
meta: diff-start: -
meta: series: xena
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Jacob Anders <janders@redhat.com>
meta: release:Commit: Jacob Anders <janders@redhat.com>
meta: release:Change-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib60c615f1040a80a5872106f90b3c508b06c69ff
",git fetch https://review.opendev.org/openstack/requirements refs/changes/86/865586/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,6d75796d8562a5c5f243272dcd4f21c672f15f83,new-release,sushy===3.12.5,sushy===3.12.4,1,1
openstack%2Frequirements~865584,openstack/requirements,stable/yoga,Ibaa72523fa74e5648687ea7bc066652b1b66332b,update constraint for sushy to new release 4.1.5,MERGED,2022-11-24 16:24:36.000000000,2022-11-27 20:08:48.000000000,2022-11-27 20:08:48.000000000,"[{'_account_id': 11904}, {'_account_id': 14288}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 16:24:36.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d', 'message': 'update constraint for sushy to new release 4.1.5\n\nmeta: version: 4.1.5\nmeta: diff-start: -\nmeta: series: yoga\nmeta: release-type: release\nmeta: pypi: no\nmeta: first: no\nmeta: release:Author: Jacob Anders <janders@redhat.com>\nmeta: release:Commit: Jacob Anders <janders@redhat.com>\nmeta: release:Change-Id: Ic15aa833a408685811e53c457c1c5653547b0f85\nmeta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ibaa72523fa74e5648687ea7bc066652b1b66332b\n'}]",0,865584,1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d,8,3,1,11131,,,0,"update constraint for sushy to new release 4.1.5

meta: version: 4.1.5
meta: diff-start: -
meta: series: yoga
meta: release-type: release
meta: pypi: no
meta: first: no
meta: release:Author: Jacob Anders <janders@redhat.com>
meta: release:Commit: Jacob Anders <janders@redhat.com>
meta: release:Change-Id: Ic15aa833a408685811e53c457c1c5653547b0f85
meta: release:Code-Review+1: Riccardo Pittau <elfosardo@gmail.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ibaa72523fa74e5648687ea7bc066652b1b66332b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/84/865584/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,1fc4f541dabad6c0b825df1ee3cb9e22d8446b0d,new-release,sushy===4.1.5,sushy===4.1.3,1,1
openstack%2Fpython-swiftclient~822210,openstack/python-swiftclient,master,Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e,Fix region selection in a multi-region deployment.,ABANDONED,2021-12-17 22:33:28.000000000,2022-11-27 15:49:05.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2021-12-17 22:33:28.000000000', 'files': ['swiftclient/client.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e9c786863c822d0c37f8ffab63b7d79c44911b4b', 'message': 'Fix region selection in a multi-region deployment.\n\nSwift doesn’t pass correctly the value of region_name option\nto keystoneauth1.plugin.BaseAuthPlugin. Specifically, what happens is\nthat the region_name parameter is passed to the function\nget_endpoint_data as part of **kwargs, but the current\nimplementation of the function ignores the content of kwargs,\ntherefore get_endpoint_data doesn’t receive any info on the region_name.\n\nChange-Id: Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e\n'}]",5,822210,e9c786863c822d0c37f8ffab63b7d79c44911b4b,5,1,1,34379,,,0,"Fix region selection in a multi-region deployment.

Swift doesn’t pass correctly the value of region_name option
to keystoneauth1.plugin.BaseAuthPlugin. Specifically, what happens is
that the region_name parameter is passed to the function
get_endpoint_data as part of **kwargs, but the current
implementation of the function ignores the content of kwargs,
therefore get_endpoint_data doesn’t receive any info on the region_name.

Change-Id: Id8bcc5148c49aa427d6ec25cee10bb0190c4ec6e
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/10/822210/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/client.py'],1,e9c786863c822d0c37f8ffab63b7d79c44911b4b,fix-region-selection," region_name = os_options.get('region_name') or 'default' region_name=region_name,",,2,0
openstack%2Fpuppet-neutron~865219,openstack/puppet-neutron,master,I88f96f6a73921907cf076a8689b4113fc2b8170b,Document default values of neutron::designate parameters,MERGED,2022-11-22 02:39:13.000000000,2022-11-26 21:50:06.000000000,2022-11-26 21:50:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 02:39:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/71e9ec2a717a638691671e0cc9c7b3f19f27c8f0', 'message': 'Document default values of neutron::designate parameters\n\nThis change fixes some missing description about the default values of\nthe neutron::designate class parameters, and makes the description\nformat more consistent.\n\nChange-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b\n'}, {'number': 2, 'created': '2022-11-22 02:47:59.000000000', 'files': ['manifests/designate.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4305385ebc8654843bb275fff60c6b01a1b3a74b', 'message': 'Document default values of neutron::designate parameters\n\nThis change fixes some missing description about the default values of\nthe neutron::designate class parameters, and makes the description\nformat more consistent.\n\nChange-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b\n'}]",1,865219,4305385ebc8654843bb275fff60c6b01a1b3a74b,12,3,2,9816,,,0,"Document default values of neutron::designate parameters

This change fixes some missing description about the default values of
the neutron::designate class parameters, and makes the description
format more consistent.

Change-Id: I88f96f6a73921907cf076a8689b4113fc2b8170b
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/19/865219/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/designate.pp'],1,71e9ec2a717a638691671e0cc9c7b3f19f27c8f0,,# (Required) Password for connection to designate in admin context.# (Required) URL to the designate service.# (Optional) An authentication type to use with an OpenStack Identity server.# (Optional) Username for connection to designate in admin context# (Optional) The name of the admin project# (Optional) Authorization URI for connection to designate in admin context.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) Enable or not the creation of reverse lookup (PTR) records. # Defaults to $::os_service_default.# (Optional) The email address to be used when creating PTR zones. # Defaults to $::os_service_default.,# (required) Password for connection to designate in admin context.# (required) URL to the designate service.# (optional) An authentication type to use with an OpenStack Identity server.# (optional) Username for connection to designate in admin context# (optional) The name of the admin project# (optional) Authorization URI for connection to designate in admin context.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) Enable or not the creation of reverse lookup (PTR) records.# (optional) The email address to be used when creating PTR zones.,14,10
openstack%2Ftripleo-ansible~863314,openstack/tripleo-ansible,master,I161a68c94f09b7febb3a260f54a0ef58311eee77,Sync: Use ansible group var to detect instance ha,MERGED,2022-11-02 14:16:06.000000000,2022-11-26 19:56:32.000000000,2022-11-26 19:56:32.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-02 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/26fcaf2cbc6c39adb2ad6e39771d9b6b0289c311', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-11-16 16:39:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/811ffd84fd84f0b03d7e381e99692d0c4d27619e', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-11-21 13:29:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9c88bbf14b5bb26382721625198370aa6f4e3a78', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-11-25 15:22:52.000000000', 'files': ['tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a30b17ddc152dbb0ebd5b4b5ee9016b0c754df8', 'message': 'Sync: Use ansible group var to detect instance ha\n\nSync t-h-t changes for instance HA detection.\n\nChange the way we identify if a host is an instance ha node:\ninstead of relying on service_names (not a thing here)\njust check if inventory hostname belongs to the compute_instanceha\ngroup. Inventory generation in deployment framework ensures\nthere are groups named as it is defined in t-h-t service_names.\n\nI78b5544f9000af64f0f0fddad3457482ed63e338\n\nChange-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",8,863314,6a30b17ddc152dbb0ebd5b4b5ee9016b0c754df8,27,8,4,6926,,,0,"Sync: Use ansible group var to detect instance ha

Sync t-h-t changes for instance HA detection.

Change the way we identify if a host is an instance ha node:
instead of relying on service_names (not a thing here)
just check if inventory hostname belongs to the compute_instanceha
group. Inventory generation in deployment framework ensures
there are groups named as it is defined in t-h-t service_names.

I78b5544f9000af64f0f0fddad3457482ed63e338

Change-Id: I161a68c94f09b7febb3a260f54a0ef58311eee77
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/14/863314/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_nova_compute/tasks/install.yml'],1,26fcaf2cbc6c39adb2ad6e39771d9b6b0289c311,sync_tht_nova_compute," when: inventory_hostname in groups[""compute_instanceha""]"," - name: Get list of instance HA compute nodes command: hiera -c /etc/puppet/hiera.yaml compute_instanceha_short_node_names register: iha_nodes when: iha_nodes.stdout|lower is search('""'+ansible_facts['hostname']|lower+'""')",1,5
openstack%2Fpuppet-openstack-integration~865087,openstack/puppet-openstack-integration,master,If9c4bdbb3d8c447303adb6ddee420c12ecda4133,Install ruby-augeas in Debian,MERGED,2022-11-21 01:28:13.000000000,2022-11-26 18:55:32.000000000,2022-11-26 18:55:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:28:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/c104dd1a1fc7973c13001d06ac7b02384382cb90', 'message': 'Install ruby-augeas in Debian\n\n... because the package is available in recent stable releases. This\nallows us to make the logic to install the package simpler.\n\nChange-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133\n'}, {'number': 2, 'created': '2022-11-21 01:29:12.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/1002258b5d318cce34ea61c9331487df437e876c', 'message': 'Install ruby-augeas in Debian\n\n... because the package is available in recent stable releases[1].\nThis allows us to make the logic to install the package simpler.\n\n[1]\nhttps://packages.debian.org/stretch/ruby-augeas\nhttps://packages.debian.org/buster/ruby-augeas\nhttps://packages.debian.org/bullseye/ruby-augeas\n\nChange-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133\n'}]",2,865087,1002258b5d318cce34ea61c9331487df437e876c,16,3,2,9816,,,0,"Install ruby-augeas in Debian

... because the package is available in recent stable releases[1].
This allows us to make the logic to install the package simpler.

[1]
https://packages.debian.org/stretch/ruby-augeas
https://packages.debian.org/buster/ruby-augeas
https://packages.debian.org/bullseye/ruby-augeas

Change-Id: If9c4bdbb3d8c447303adb6ddee420c12ecda4133
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/87/865087/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,c104dd1a1fc7973c13001d06ac7b02384382cb90,," # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } "," # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } if $::operatingsystem == 'Ubuntu' { # NOTE(tobias-urdin): Needed where augeas is used, like puppet-ovn. package { 'ruby-augeas': ensure => 'present', } }",5,11
openstack%2Ftripleo-heat-templates~865567,openstack/tripleo-heat-templates,stable/train,Id13a221726af88dd229cf8e12462eabb4027b377,Nova: Use internal endpoint to access Keystone,MERGED,2022-11-25 14:13:45.000000000,2022-11-26 11:02:21.000000000,2022-11-26 11:02:21.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 14:13:45.000000000', 'files': ['deployment/nova/nova-metadata-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b', 'message': ""Nova: Use internal endpoint to access Keystone\n\nThe Keystone admin endpoint is deployed on the provisioning network by\ndefault, and usually this network has no redundancy. We don't expect\noutage in provisioning network affects functionality of overcloud so\nservices should not be rely on connectivity in provisioning network.\n\nThis change ensures that internal endpoint, which is deployed on\ninternal api network, is used instead.\n\nCloses-Bug: #1959353\nChange-Id: Id13a221726af88dd229cf8e12462eabb4027b377\n(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)\n(cherry picked from commit b67137ae93a1ce4612c6ac82eeabbec6abac70aa)\n""}]",2,865567,ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b,10,3,1,6926,,,0,"Nova: Use internal endpoint to access Keystone

The Keystone admin endpoint is deployed on the provisioning network by
default, and usually this network has no redundancy. We don't expect
outage in provisioning network affects functionality of overcloud so
services should not be rely on connectivity in provisioning network.

This change ensures that internal endpoint, which is deployed on
internal api network, is used instead.

Closes-Bug: #1959353
Change-Id: Id13a221726af88dd229cf8e12462eabb4027b377
(cherry picked from commit c3affa49a33bb62e019263186e446a1a70194970)
(cherry picked from commit b67137ae93a1ce4612c6ac82eeabbec6abac70aa)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/67/865567/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-metadata-container-puppet.yaml'],1,ce6ccaf547b06b702aaf0d8a6664fcb62ae6992b,bug/1959353-stable/train," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneInternal, uri_no_suffix]}"," nova::keystone::authtoken::auth_url: {get_param: [EndpointMap, KeystoneAdmin, uri_no_suffix]}",1,1
openstack%2Fmistral~822467,openstack/mistral,master,I892b35ffa609820d71a13893d883477e99795d67,Update python testing classifier,NEW,2021-12-21 10:28:12.000000000,2022-11-26 09:16:33.000000000,,"[{'_account_id': 11583}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2021-12-21 10:28:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/1177863a1aa5fdd950db3bf030969214e2e71c25', 'message': 'Update python testing classifier\n\nWe facing errors related to the new pip resolver, this\ntopic was discussed on the ML and QA team proposed to\nto test lower-constraints [1].\n\nI propose to drop this test because the complexity and recurring pain needed\nto maintain that now exceeds the benefits provided by this mechanismes.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2020-December/019390.html\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}, {'number': 2, 'created': '2022-04-19 08:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/mistral/commit/779e7babd1b3bfcc1690fcc7644ed55d6dd76f67', 'message': 'Update python testing classifier\n\nYoga testing runtime[1] has been updated to add py39\ntesting as voting. Unit tests update are handled by the\njob template change in openstack-zuul-job\n\n- https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/820286\n\nthis commit updates the classifier in setup.cfg file.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/yoga.html\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}, {'number': 3, 'created': '2022-10-10 09:10:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/mistral/commit/b612e3a94fa5aef679d044985ad79caf50839c53', 'message': 'Update python testing classifier\n\nThis patch updates the python classifier in setup.cfg not dropping lower-constraints job. So please use the correct commit-msg, for more info please refer [1].\n\n[1] https://review.opendev.org/c/openstack/cloudkitty-dashboard/+/822368\n\nChange-Id: I892b35ffa609820d71a13893d883477e99795d67\n'}]",3,822467,b612e3a94fa5aef679d044985ad79caf50839c53,9,3,3,31412,,,0,"Update python testing classifier

This patch updates the python classifier in setup.cfg not dropping lower-constraints job. So please use the correct commit-msg, for more info please refer [1].

[1] https://review.opendev.org/c/openstack/cloudkitty-dashboard/+/822368

Change-Id: I892b35ffa609820d71a13893d883477e99795d67
",git fetch https://review.opendev.org/openstack/mistral refs/changes/67/822467/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,1177863a1aa5fdd950db3bf030969214e2e71c25,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fopenstack-ansible~864792,openstack/openstack-ansible,master,Ie41e26c1dcc671c30d39b34d3f436e225e7580a5,Disable stick tables for galera,MERGED,2022-11-16 21:37:16.000000000,2022-11-26 04:13:55.000000000,2022-11-26 04:12:00.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-16 21:37:16.000000000', 'files': ['inventory/group_vars/haproxy/haproxy.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/c673e7a027780ca47ada6258fdccc5bb770b7624', 'message': ""Disable stick tables for galera\n\nHaproxy config check(/usr/sbin/haproxy -c -f /etc/haproxy/haproxy.cfg)\nshows a warning:\n\n'http-request' rules ignored for backend 'galera-back' as they require\nHTTP mode.\n\nIt's caused by the way we configure stick tables in haproxy.\nWe don't need stick tables for galera as it has only one active backend.\n\nChange-Id: Ie41e26c1dcc671c30d39b34d3f436e225e7580a5\n""}]",4,864792,c673e7a027780ca47ada6258fdccc5bb770b7624,19,3,1,32666,,,0,"Disable stick tables for galera

Haproxy config check(/usr/sbin/haproxy -c -f /etc/haproxy/haproxy.cfg)
shows a warning:

'http-request' rules ignored for backend 'galera-back' as they require
HTTP mode.

It's caused by the way we configure stick tables in haproxy.
We don't need stick tables for galera as it has only one active backend.

Change-Id: Ie41e26c1dcc671c30d39b34d3f436e225e7580a5
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/92/864792/1 && git format-patch -1 --stdout FETCH_HEAD,['inventory/group_vars/haproxy/haproxy.yml'],1,c673e7a027780ca47ada6258fdccc5bb770b7624,tls-backend, haproxy_stick_table_enabled: False,,1,0
openstack%2Fvenus~865696,openstack/venus,master,I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b,Add devstack steps.,MERGED,2022-11-25 14:59:02.000000000,2022-11-26 03:53:20.000000000,2022-11-26 03:52:21.000000000,"[{'_account_id': 22348}, {'_account_id': 24061}, {'_account_id': 26458}]","[{'number': 1, 'created': '2022-11-25 14:59:02.000000000', 'files': ['devstack/README.md'], 'web_link': 'https://opendev.org/openstack/venus/commit/41a116ea80a4ba7fd04ce4f82833c53afbd1b477', 'message': 'Add devstack steps.\n\nChange-Id: I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b\n'}]",2,865696,41a116ea80a4ba7fd04ce4f82833c53afbd1b477,8,3,1,30562,,,0,"Add devstack steps.

Change-Id: I8006158fd257f220b0fe6ca3cbb7fad30d23ed3b
",git fetch https://review.opendev.org/openstack/venus refs/changes/96/865696/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/README.md'],1,41a116ea80a4ba7fd04ce4f82833c53afbd1b477,,"# Enabling Venus in DevStack To enable Venus in DevStack, perform the following steps: ## 1. Enabling Venus in local.conf Enable the plugin by adding the following section to `local.conf` ``` [[local|localrc]] enable_plugin venus https://review.opendev.org/openstack/venus enable_plugin venus-dashboard https://review.opendev.org/openstack/venus-dashboard ``` ## 2. Modify service log format After `stack.sh` process finished, replace the lines begin with `logging_default_format_string =` and `logging_context_format_string =` with ``` logging_default_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [- req-None - - - - -] %(instance)s%(message)s logging_context_format_string = %(asctime)s.%(msecs)03d %(process)d %(levelname)s %(name)s [%(global_request_id)s %(request_id)s ``` in files - /etc/nova/nova.conf - /etc/cinder/cinder.conf - /etc/neutron/neutron.conf Restart nova, cinder and neutron service: ``` systemctl restart devstack@n-api.service systemctl restart devstack@c-api.service systemctl restart devstack@q-svc.service ``` ## 3. [Optional] Manually download td-agent and es If you want to download td-agent and es yourself when the official download link is not available, you cloud get them via the following links: - https://artifacts.elastic.co/downloads/elasticsearch/elasticsearch-5.6.16.deb - http://packages.treasuredata.com.s3.amazonaws.com/4/ubuntu/bionic/pool/contrib/t/td-agent/td-agent_4.1.0-1_amd64.deb And save the files to `/opt/stack/venus/devstack/files`",,39,0
openstack%2Fvalidations-libs~865378,openstack/validations-libs,master,I7d434408ab0af67967e9c1407a8e286daee51769,Format list to str for get_reason message or skip,MERGED,2022-11-23 09:11:49.000000000,2022-11-26 02:17:47.000000000,2022-11-26 02:15:50.000000000,"[{'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 32926}]","[{'number': 1, 'created': '2022-11-23 09:11:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/cedefc6744d00f5e80e316201210ecc8070b3095', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}, {'number': 2, 'created': '2022-11-23 09:13:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/fd0bfb9b03d6ecd80bdaf29c90f5697c42586d29', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}, {'number': 3, 'created': '2022-11-25 09:02:21.000000000', 'files': ['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/ac2b6b7b7ed8b8ba231b7ad7dc1ed5730c09cfb6', 'message': 'Format list to str for get_reason message or skip\n\nIf the message in the validation log is a list, this patch\nformat it to a string, as expected, otherwise, if the message\nanother type, we just skip and move to default reason: Unknown\n\nChange-Id: I7d434408ab0af67967e9c1407a8e286daee51769\n'}]",5,865378,ac2b6b7b7ed8b8ba231b7ad7dc1ed5730c09cfb6,20,3,3,16515,,,0,"Format list to str for get_reason message or skip

If the message in the validation log is a list, this patch
format it to a string, as expected, otherwise, if the message
another type, we just skip and move to default reason: Unknown

Change-Id: I7d434408ab0af67967e9c1407a8e286daee51769
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/78/865378/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations_libs/validation_logs.py', 'validations_libs/tests/test_validation_log.py', 'validations_libs/tests/fakes.py']",3,cedefc6744d00f5e80e316201210ecc8070b3095,catch/wierd/msg,"FAILED_VALIDATIONS_LOGS_WRONG_MSG_LIST = [{ 'stats': { 'undercloud': { 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0 } }, 'validation_output': [ { ""task"": { ""hosts"": { ""localhost"": { ""_ansible_no_log"": False, ""action"": ""fail"", ""changed"": False, ""failed"": True, ""failed_when_result"": True, ""msg"": [""Fake"", ""Failed""] } }, ""name"": ""Verify Fake requirements"", ""status"": ""FAILED"" } } ] }] FAILED_VALIDATIONS_LOGS_WRONG_MSG_TYPE = [{ 'stats': { 'undercloud': { 'changed': 0, 'failures': 1, 'ignored': 0, 'ok': 0, 'rescued': 0, 'skipped': 0, 'unreachable': 0 } }, 'validation_output': [ { ""task"": { ""hosts"": { ""localhost"": { ""_ansible_no_log"": False, ""action"": ""fail"", ""changed"": False, ""failed"": True, ""failed_when_result"": True, ""msg"": True } }, ""name"": ""Verify Fake requirements"", ""status"": ""FAILED"" } } ] }] ",,105,2
openstack%2Fopenstack-ansible~864553,openstack/openstack-ansible,master,Ifbca3e17e57ee0250def5a65c6855acc01b0a464,Update ansible-collections-openstack version,MERGED,2022-11-15 14:52:55.000000000,2022-11-25 22:55:37.000000000,2022-11-25 22:54:12.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-15 14:52:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/28d48c67f792fc5897c9ab077deba31b3a96f801', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}, {'number': 2, 'created': '2022-11-24 15:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/594fcd870afdcae5b99f4ee2e037f5898238fba1', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}, {'number': 3, 'created': '2022-11-25 17:27:45.000000000', 'files': ['ansible-collection-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/a5053c88a56d80292eee0b4bfd4e8a232684c878', 'message': 'Update ansible-collections-openstack version\n\nCurrent collections version is failing to manage quota which results in\nOctavia role failure.\n\nChange-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464\n'}]",1,864553,a5053c88a56d80292eee0b4bfd4e8a232684c878,19,5,3,28619,,,0,"Update ansible-collections-openstack version

Current collections version is failing to manage quota which results in
Octavia role failure.

Change-Id: Ifbca3e17e57ee0250def5a65c6855acc01b0a464
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/53/864553/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible-collection-requirements.yml'],1,28d48c67f792fc5897c9ab077deba31b3a96f801,, version: f0cb7f680231bf17fdf043de4e5e8117c1aef097, version: 9f3f0837c88f847b229e8bcd23986b362eee9b1f,1,1
openstack%2Fopenstack-ansible~865166,openstack/openstack-ansible,stable/yoga,Ife227db4ad25851456e1acc6b4daf198f39d989a,Update self version fetching mechanism,MERGED,2022-11-22 17:10:30.000000000,2022-11-25 21:56:43.000000000,2022-11-25 21:55:29.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-22 17:10:30.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/f933194813de9d18b89040fa8c5b80bcd0dd967c', 'message': ""Update self version fetching mechanism\n\nWith release of new setuptools running setup.py --version started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nCloses-Bug: #1997365\nChange-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a\n""}]",2,865166,f933194813de9d18b89040fa8c5b80bcd0dd967c,14,3,1,28619,,,0,"Update self version fetching mechanism

With release of new setuptools running setup.py --version started
returining extra line. Eventually, running setup.py as a script is not
considered as good practice and we should not rely on it's output much.
Instead, we can leverage importlib.metadata as it should be more
reliable in long run.

Closes-Bug: #1997365
Change-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/66/865166/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,f933194813de9d18b89040fa8c5b80bcd0dd967c,,"export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python -c ""from importlib.metadata import version; print(version('openstack-ansible'))"")",export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python setup.py --version),1,1
openstack%2Fpuppet-keystone~864832,openstack/puppet-keystone,master,I79e39b43baa5963e13a4fda404244e6787980f9e,Fix wrong indent,MERGED,2022-11-17 03:06:22.000000000,2022-11-25 19:48:38.000000000,2022-11-25 19:48:38.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 03:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/050f3d0670667f1200c13d281ee74ff30b11ea9b', 'message': 'Fix wrong indent\n\nTrivial-Fix\n\nChange-Id: I79e39b43baa5963e13a4fda404244e6787980f9e\n'}, {'number': 2, 'created': '2022-11-25 14:00:53.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/2d6bab823199c8b2c0b5d871349d2f67aadfc2af', 'message': 'Fix wrong indent\n\nTrivial-Fix\n\nChange-Id: I79e39b43baa5963e13a4fda404244e6787980f9e\n'}]",4,864832,2d6bab823199c8b2c0b5d871349d2f67aadfc2af,16,3,2,9816,,,0,"Fix wrong indent

Trivial-Fix

Change-Id: I79e39b43baa5963e13a4fda404244e6787980f9e
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/32/864832/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,050f3d0670667f1200c13d281ee74ff30b11ea9b,, if $fernet_keys {, if $fernet_keys {,1,1
openstack%2Fnova~865037,openstack/nova,master,I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122,Fix VMs sorting fail in case of comparison with None,NEW,2022-11-18 15:27:59.000000000,2022-11-25 19:40:07.000000000,,"[{'_account_id': 11604}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 15:27:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecf8a2be2a990982378a6aa62bb7670bfc5795f2', 'message': 'Fix VMs sorting fail in case of comparison two None values\n\nThis patch fixes a bug when trying to compare two None values:\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}, {'number': 2, 'created': '2022-11-22 21:08:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/656a306aeab5b30335a621760c98461f888b350d', 'message': 'Fix VMs sorting fail in case of comparison with None\n\nThis patch fixes a bug when trying to compare two None values, which is not\nallowed in python3.\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nAlso skip comparison with one of None as sort order is undefined for comparison\nbetween None and any value.\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}, {'number': 3, 'created': '2022-11-23 10:23:13.000000000', 'files': ['nova/compute/multi_cell_list.py', 'nova/tests/unit/compute/test_multi_cell_list.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/b23869dc36213a952aebd4e86ea97c82261020a0', 'message': 'Fix VMs sorting fail in case of comparison with None\n\nThis patch fixes a bug when trying to compare two None values, which is not\nallowed in python3.\n\n>>> None < None\nTraceback (most recent call last):\n  File ""<stdin>"", line 1, in <module>\nTypeError: \'<\' not supported between instances of \'NoneType\' and \'NoneType\'\n>>>\n\nAlso skip comparison with one of None as sort order is undefined for comparison\nbetween None and any value.\n\nCloses-Bug: #1997090\nSigned-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>\nChange-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122\n'}]",9,865037,b23869dc36213a952aebd4e86ea97c82261020a0,19,3,3,28722,,,0,"Fix VMs sorting fail in case of comparison with None

This patch fixes a bug when trying to compare two None values, which is not
allowed in python3.

>>> None < None
Traceback (most recent call last):
  File ""<stdin>"", line 1, in <module>
TypeError: '<' not supported between instances of 'NoneType' and 'NoneType'
>>>

Also skip comparison with one of None as sort order is undefined for comparison
between None and any value.

Closes-Bug: #1997090
Signed-off-by: Anton Kurbatov <Anton.Kurbatov@acronis.com>
Change-Id: I1e0f0ccf7982ebb7d3ee30139ba889a0f113f122
",git fetch https://review.opendev.org/openstack/nova refs/changes/37/865037/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/compute/multi_cell_list.py', 'nova/tests/unit/compute/test_multi_cell_list.py']",2,ecf8a2be2a990982378a6aa62bb7670bfc5795f2,bug/1997090," inst1 = {'key0': 'foo', 'key1': 'd', 'key2': 456, 'key4': dt1, 'key5': None} inst2 = {'key0': 'foo', 'key1': 's', 'key2': 123, 'key4': dt2, 'key5': None} # Descending by key5: None == None: ctx = multi_cell_list.RecordSortContext(['key5'], ['desc']) self.assertEqual(0, ctx.compare_records(inst1, inst2)) # Ascending by key5: None == None: ctx = multi_cell_list.RecordSortContext(['key5'], ['asc']) self.assertEqual(0, ctx.compare_records(inst1, inst2)) "," inst1 = {'key0': 'foo', 'key1': 'd', 'key2': 456, 'key4': dt1} inst2 = {'key0': 'foo', 'key1': 's', 'key2': 123, 'key4': dt2}",14,2
openstack%2Fpuppet-nova~865097,openstack/puppet-nova,master,Id0222c03595bdf04596cc9a5f51734460da69e62,Ensure [api] auth_strategy is wiped by default,MERGED,2022-11-21 05:11:12.000000000,2022-11-25 19:37:19.000000000,2022-11-25 19:37:19.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:11:12.000000000', 'files': ['manifests/init.pp', 'spec/classes/nova_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6', 'message': 'Ensure [api] auth_strategy is wiped by default\n\n... instead of leaving the parameter unmanaged.\n\nChange-Id: Id0222c03595bdf04596cc9a5f51734460da69e62\n'}]",0,865097,da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6,8,4,1,9816,,,0,"Ensure [api] auth_strategy is wiped by default

... instead of leaving the parameter unmanaged.

Change-Id: Id0222c03595bdf04596cc9a5f51734460da69e62
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/97/865097/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/nova_init_spec.rb']",2,da09ff11a2ece02cabac685a0dd8d5d3d12ba3a6,, is_expected.to contain_nova_config('api/auth_strategy').with_value('<SERVICE DEFAULT>'), is_expected.not_to contain_nova_config('api/auth_strategy'),4,2
openstack%2Fpuppet-nova~865099,openstack/puppet-nova,master,I4fbd1c23c1fec1310675dd69491626c0f98e3dda,Remove deprecated cinder parameters,MERGED,2022-11-21 05:27:56.000000000,2022-11-25 19:27:54.000000000,2022-11-25 19:27:02.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:27:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/42951166f44f672ea2d5c39e13abb50b1a36d480', 'message': 'Remove deprecated cinder parameters\n\nThis change removes the deprecated cinder parameters from the nova\nclasses, because these were all deprecated before Zed release.\n\nThis also makes the nova::cinder class removes all credential\nparameters in case the password parameter is unset, because these are\nuseless unless the password parameter is given.\n\nChange-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda\n'}, {'number': 2, 'created': '2022-11-21 07:00:50.000000000', 'files': ['manifests/cinder.pp', 'manifests/init.pp', 'releasenotes/notes/remove-cinder-opts-fa152e7b58c61bd8.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c5fd57ddba61bfcc188f17950cd53e17cf5461c2', 'message': 'Remove deprecated cinder parameters\n\nThis change removes the deprecated cinder parameters from the nova\nclasses, because these were all deprecated before Zed release.\n\nThis also makes the nova::cinder class removes all credential\nparameters in case the password parameter is unset, because these are\nuseless unless the password parameter is given.\n\nChange-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda\n'}]",0,865099,c5fd57ddba61bfcc188f17950cd53e17cf5461c2,11,4,2,9816,,,0,"Remove deprecated cinder parameters

This change removes the deprecated cinder parameters from the nova
classes, because these were all deprecated before Zed release.

This also makes the nova::cinder class removes all credential
parameters in case the password parameter is unset, because these are
useless unless the password parameter is given.

Change-Id: I4fbd1c23c1fec1310675dd69491626c0f98e3dda
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/865099/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cinder.pp', 'manifests/init.pp', 'releasenotes/notes/remove-cinder-opts-fa152e7b58c61bd8.yaml']",3,42951166f44f672ea2d5c39e13abb50b1a36d480,,--- upgrade: - | The following parameters have been removed. Use the ``nova::cinder`` class parameters instead. - ``nova::os_region_name`` - ``nova::cinder_catalog_info`` - ``nova::cross_az_attach`` ,,38,65
openstack%2Fopenstacksdk~865265,openstack/openstacksdk,master,I401f58a65555aa397c14e2795e11d3e76047ba63,docs: Add overview of supported services to README,MERGED,2022-11-22 11:36:23.000000000,2022-11-25 19:04:10.000000000,2022-11-25 19:02:13.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:36:23.000000000', 'files': ['README.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/b1f15919e13cd30ca16063ccc7671820d7d7669b', 'message': 'docs: Add overview of supported services to README\n\nChange-Id: I401f58a65555aa397c14e2795e11d3e76047ba63\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n'}]",1,865265,b1f15919e13cd30ca16063ccc7671820d7d7669b,7,2,1,15334,,,0,"docs: Add overview of supported services to README

Change-Id: I401f58a65555aa397c14e2795e11d3e76047ba63
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/65/865265/1 && git format-patch -1 --stdout FETCH_HEAD,['README.rst'],1,b1f15919e13cd30ca16063ccc7671820d7d7669b,coe-gaps,"Supported services ------------------ The following services are currently supported. A full list of all available OpenStack service can be found in the `Project Navigator`__. .. __: https://www.openstack.org/software/project-navigator/openstack-components#openstack-services .. note:: Support here does not guarantee full-support for all APIs. It simply means some aspect of the project is supported. .. list-table:: Supported services :widths: 15 25 10 40 :header-rows: 1 * - Service - Description - Cloud Layer - Proxy & Resource Layer * - **Compute** - - - * - Nova - Compute - ✔ - ✔ (``openstack.compute``) * - **Hardware Lifecycle** - - - * - Ironic - Bare metal provisioning - ✔ - ✔ (``openstack.baremetal``, ``openstack.baremetal_introspection``) * - Cyborg - Lifecycle management of accelerators - ✔ - ✔ (``openstack.accelerator``) * - **Storage** - - - * - Cinder - Block storage - ✔ - ✔ (``openstack.block_storage``) * - Swift - Object store - ✔ - ✔ (``openstack.object_store``) * - Cinder - Shared filesystems - ✔ - ✔ (``openstack.share_file_system``) * - **Networking** - - - * - Neutron - Networking - ✔ - ✔ (``openstack.network``) * - Octavia - Load balancing - ✔ - ✔ (``openstack.load_balancer``) * - Designate - DNS - ✔ - ✔ (``openstack.dns``) * - **Shared services** - - - * - Keystone - Identity - ✔ - ✔ (``openstack.identity``) * - Placement - Placement - ✔ - ✔ (``openstack.placement``) * - Glance - Image storage - ✔ - ✔ (``openstack.image``) * - Barbican - Key management - ✔ - ✔ (``openstack.key_manager``) * - **Workload provisioning** - - - * - Magnum - Container orchestration engine provisioning - ✔ - ✘ * - **Orchestration** - - - * - Heat - Orchestration - ✔ - ✔ (``openstack.orchestration``) * - Senlin - Clustering - ✔ - ✔ (``openstack.clustering``) * - Mistral - Workflow - ✔ - ✔ (``openstack.workflow``) * - Zaqar - Messaging - ✔ - ✔ (``openstack.message``) * - **Application lifecycle** - - - * - Masakari - Instances high availability service - ✔ - ✔ (``openstack.instance_ha``) ",,157,0
openstack%2Fpython-openstackclient~865689,openstack/python-openstackclient,master,I6cf28bdd217326db991466a21221b685124d4b99,docs: Small cleanup of human interface guide,MERGED,2022-11-25 13:47:29.000000000,2022-11-25 19:03:21.000000000,2022-11-25 19:02:15.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-25 13:47:29.000000000', 'files': ['doc/source/contributor/humaninterfaceguide.rst'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/abf1a7cc4b1caada799aa4549f9753b76146e243', 'message': 'docs: Small cleanup of human interface guide\n\nBefore we add more content.\n\nChange-Id: I6cf28bdd217326db991466a21221b685124d4b99\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",3,865689,abf1a7cc4b1caada799aa4549f9753b76146e243,9,3,1,15334,,,0,"docs: Small cleanup of human interface guide

Before we add more content.

Change-Id: I6cf28bdd217326db991466a21221b685124d4b99
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/89/865689/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/humaninterfaceguide.rst'],1,abf1a7cc4b1caada799aa4549f9753b76146e243,docs,"To determine a list of available commands, use the ``-h`` or ``--help`` options:For help with an individual command, use the ``help`` command:* The top level command name is ``openstack``from the option name by dropping the leading dashes (``--``), converting each embedded dash (``-``) to an underscore (``_``), and converting to upper case. * All long options names shall begin with two dashes (``--``) and use a single dash (``-`` internally between words (``--like-this``). Underscores (``_``) shall notFor example, ``--os-username`` can be set from the environment via ``OS_USERNAME``. ``--help`` ++++++++++ The standard ``--help`` global option displays the documentation for invokingform help option (``-h``) is also available. ``--version`` +++++++++++++ The standard ``--version`` option displays the name and version on standardCommands consist of an object described by one or more words followed by an action. Commands that require two objects have the primary object ahead of the action and the secondary object after the action. Any positional arguments identifying the objects shall appear in the same order as the objects. In badly formed English it is expressed as ""(Take) object-1 (and perform) action (using) object-2 (to it).""::* ``group add user <group> <user>`` * ``volume type list`` (note that ``volume type`` is a two-word single object) The ``help`` command is unique as it appears in front of a normal command* **boolean**: boolean options shall use a form of ``--<true>|--<false>`` (preferred) or ``--<option>|--no-<option>``. For example, the ``enabled`` state of a project is set with ``--enable|--disable``.``prettytable`` module. Machine-parsable output format may be specified with the ``--format`` option to ``list`` and ``show`` commands. ``list`` commands have an option (``--format csv``) for CSV output and ``show`` commands have an option (``--format shell``) for the shell variable assignment syntax of ``var=""value""``. In both cases, all data fields are quoted with ``""``tasks. The format of the ``help`` command therefore varies from the form for other commands in that the ``help`` command appears in frontThe options ``--help`` and ``-h`` display the global options and aversions that are in effect; i.e. if ``--os-identity-api-version=3`` isUsing the CSV output format with a list command:``my_`` to avoid collisions with existing environment variables:","To determine a list of available commands, use the :code:`-h` or :code:`--help` options:For help with an individual command, use the :code:`help` command:* The top level command name is :code:`openstack`from the option name by dropping the leading dashes ('--'), converting each embedded dash ('-') to an underscore ('_'), and converting to upper case.* All long options names shall begin with two dashes ('--') and use a single dash ('-') internally between words (:code:`--like-this`). Underscores ('_') shall notFor example, :code:`--os-username` can be set from the environment via :code:`OS_USERNAME`. --help ++++++ The standard :code:`--help` global option displays the documentation for invokingform help option (:code:`-h`) is also available. --version +++++++++ The standard :code:`--version` option displays the name and version on standardCommands consist of an object described by one or more words followed by an action. Commands that require two objects have the primary object ahead of the action and the secondary object after the action. Any positional arguments identifying the objects shall appear in the same order as the objects. In badly formed English it is expressed as ""(Take) object1 (and perform) action (using) object2 (to it).""* :code:`group add user <group> <user>` * :code:`volume type list` # Note that :code:`volume type` is a two-word single object The :code:`help` command is unique as it appears in front of a normal command* **boolean**: boolean options shall use a form of :code:`--<true>|--<false>` (preferred) or :code:`--<option>|--no-<option>`. For example, the :code:`enabled` state of a project is set with :code:`--enable|--disable`.:code:`prettytable` module. Machine-parsable output format may be specified with the :code:`--format` option to :code:`list` and :code:`show` commands. :code:`list` commands have an option (:code:`--format csv`) for CSV output and :code:`show` commands have an option (:code:`--format shell`) for the shell variable assignment syntax of :code:`var=""value""`. In both cases, all data fields are quoted with `""`tasks. The format of the :code:`help` command therefore varies from the form for other commands in that the :code:`help` command appears in frontThe options :code:`--help` and :code:`-h` display the global options and aversions that are in effect; i.e. if :code:`--os-identity-api-version=3` isUsing the csv output format with a list command::code:`my_` to avoid collisions with existing environment variables:",43,37
openstack%2Fopenstacksdk~865264,openstack/openstacksdk,master,I8e16961c8812ee9c15a8771ea7babf81c9ec534e,docs: Add docstring to 'openstack' module,MERGED,2022-11-22 11:36:23.000000000,2022-11-25 19:03:21.000000000,2022-11-25 19:02:11.000000000,"[{'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:36:23.000000000', 'files': ['openstack/__init__.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/62f64754f100d4ed03c377197d5f81358729acf1', 'message': ""docs: Add docstring to 'openstack' module\n\nChange-Id: I8e16961c8812ee9c15a8771ea7babf81c9ec534e\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",0,865264,62f64754f100d4ed03c377197d5f81358729acf1,7,2,1,15334,,,0,"docs: Add docstring to 'openstack' module

Change-Id: I8e16961c8812ee9c15a8771ea7babf81c9ec534e
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/64/865264/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/__init__.py'],1,62f64754f100d4ed03c377197d5f81358729acf1,coe-gaps," """"""The openstack SDK. :py:mod:`openstacksdk` is a client library for building applications to work with OpenStack clouds. The project aims to provide a consistent and complete set of interactions with OpenStack's many services, along with complete documentation, examples, and tools. There are three ways to interact with :py:mod:`openstacksdk`. The *clouds layer*, the *proxy layer*, and the *resource layer*. Most users will make use of either the *cloud layer* or *proxy layer*. Listing flavours using the *cloud layer*:: >>> import openstack >>> conn = openstack.connect(cloud='mordred') >>> for server in conn.list_servers(): ... print(server.to_dict()) Listing servers using the *proxy layer*:: >>> import openstack >>> conn = openstack.connect(cloud='mordred') >>> for server in conn.compute.servers(): ... print(server.to_dict()) Listing servers using the *resource layer*:: >>> import openstack >>> import openstack.compute.v2.server >>> conn = openstack.connect(cloud='mordred') >>> for server in openstack.compute.v2.server.Server.list( ... session=conn.compute, ... ): ... print(server.to_dict()) For more information, refer to the documentation found in each submodule. """""" import argparse import typing as ty from openstack._log import enable_logging cloud: ty.Optional[str] = None, app_name: ty.Optional[str] = None, app_version: ty.Optional[str] = None, options: ty.Optional[argparse.Namespace] = None, load_yaml_config: bool = True, load_envvars: bool = True, **kwargs, ) -> openstack.connection.Connection: An argparse Namespace object. Allows direct passing in of app_name=app_name, app_version=app_version, options=options, **kwargs, ) vendor_hook=kwargs.get('vendor_hook'), )","import typing from openstack._log import enable_logging # noqa cloud=None, app_name=None, # type: typing.Optional[str] app_version=None, # type: typing.Optional[str] options=None, load_yaml_config=True, # type: bool load_envvars=True, # type: bool **kwargs): # type: (...) -> openstack.connection.Connection An argparse Namespace object. allows direct passing in of app_name=app_name, app_version=app_version, options=options, **kwargs) vendor_hook=kwargs.get('vendor_hook'))",58,14
openstack%2Fpython-neutronclient~865694,openstack/python-neutronclient,master,I13e9d1132fc38104e6e85d9c8442bc7506adc2fd,Fix help sentence in network log create --enable,MERGED,2022-11-25 14:09:09.000000000,2022-11-25 18:07:44.000000000,2022-11-25 18:06:41.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 14:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/1c0cf14a2a36769e745377c2481c43c5cee77aaf', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is to be\nenabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}, {'number': 2, 'created': '2022-11-25 14:10:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/95225fc1ed18a659799dacc92a30eea6c939383b', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is\nto be enabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}, {'number': 3, 'created': '2022-11-25 14:33:10.000000000', 'files': ['neutronclient/osc/v2/logging/network_log.py'], 'web_link': 'https://opendev.org/openstack/python-neutronclient/commit/776e360e351c4b0c754fec5ad6308323adb44437', 'message': 'Fix help sentence in network log create --enable\n\nAs the documentation states [1], the default in network log objects is\nto be enabled, not disabled.\n\n[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html\n\nChange-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd\n'}]",0,865694,776e360e351c4b0c754fec5ad6308323adb44437,10,3,3,32586,,,0,"Fix help sentence in network log create --enable

As the documentation states [1], the default in network log objects is
to be enabled, not disabled.

[1] https://docs.openstack.org/neutron/latest/admin/config-logging.html

Change-Id: I13e9d1132fc38104e6e85d9c8442bc7506adc2fd
",git fetch https://review.opendev.org/openstack/python-neutronclient refs/changes/94/865694/1 && git format-patch -1 --stdout FETCH_HEAD,['neutronclient/osc/v2/logging/network_log.py'],1,1c0cf14a2a36769e745377c2481c43c5cee77aaf,, help=_('Enable this log (default is enabled)')), help=_('Enable this log (default is disabled)')),1,1
openstack%2Fpuppet-nova~865091,openstack/puppet-nova,master,I4e62309109bf0889741dc2da9fcb7cd6c7ac011b,Allow customizing state of libvirt packages,MERGED,2022-11-21 03:51:45.000000000,2022-11-25 18:01:30.000000000,2022-11-25 17:59:30.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 03:51:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d362f7dcc43130c7bcfad90b3975aabc44378bfa', 'message': 'Allow customizing state of libvirt packages\n\n... instead of hard-coding the state.\n\nChange-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b\n'}, {'number': 2, 'created': '2022-11-21 06:00:58.000000000', 'files': ['releasenotes/notes/libvirt-ensure_package-6136e2ae53a04974.yaml', 'manifests/compute/libvirt/services.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7', 'message': 'Allow customizing state of libvirt packages\n\n... instead of hard-coding the state.\n\nChange-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b\n'}]",3,865091,ec7b9f29b44ccd9dda5b379c11414f23dc6ae0d7,17,4,2,9816,,,0,"Allow customizing state of libvirt packages

... instead of hard-coding the state.

Change-Id: I4e62309109bf0889741dc2da9fcb7cd6c7ac011b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/91/865091/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/libvirt-ensure_package-6136e2ae53a04974.yaml', 'manifests/compute/libvirt/services.pp']",2,d362f7dcc43130c7bcfad90b3975aabc44378bfa,,"# [*ensure_package*] # (optional) The state of the libvirt packages. # Defaults to 'present' # $ensure_package = 'present', ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package, ensure => $ensure_package,"," ensure => present, ensure => present, ensure => present, ensure => present, ensure => present, ensure => running, ensure => present,",17,7
openstack%2Fpuppet-nova~865105,openstack/puppet-nova,master,I2ae6ed374dda55f8f68c3be5449b1fcd2a890123,Ubuntu/Debian: Install qemu-block-extra when rbd backend is used,MERGED,2022-11-21 06:56:54.000000000,2022-11-25 18:00:39.000000000,2022-11-25 17:59:28.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 06:56:54.000000000', 'files': ['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'releasenotes/notes/qemu-block-extra-998bf6f1d9d75eda.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/449507e1a929c60f0a89f9f0d3ee16d0103b8289', 'message': 'Ubuntu/Debian: Install qemu-block-extra when rbd backend is used\n\nIn Ubuntu Jammy, the qemu-block-extra package is no longer required by\nthe qemu-utils package and should be additionally installed to use rbd\nbackend.\n\nChange-Id: I2ae6ed374dda55f8f68c3be5449b1fcd2a890123\n'}]",3,865105,449507e1a929c60f0a89f9f0d3ee16d0103b8289,14,3,1,9816,,,0,"Ubuntu/Debian: Install qemu-block-extra when rbd backend is used

In Ubuntu Jammy, the qemu-block-extra package is no longer required by
the qemu-utils package and should be additionally installed to use rbd
backend.

Change-Id: I2ae6ed374dda55f8f68c3be5449b1fcd2a890123
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/05/865105/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/compute/rbd.pp', 'spec/classes/nova_compute_rbd_spec.rb', 'releasenotes/notes/qemu-block-extra-998bf6f1d9d75eda.yaml']",3,449507e1a929c60f0a89f9f0d3ee16d0103b8289,,--- features: - | The ``nova::compute::rbd`` class now installs the ``qemu-block-extra`` package in Ubuntu or Debian. The ``package_ensure`` parameter can be used to customize state of the package. ,,40,4
openstack%2Fvalidations-libs~865680,openstack/validations-libs,stable/1.6,I2737c334286794f0f352fa6bc7dea320a5a6d7a9,[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs,MERGED,2022-11-25 12:03:01.000000000,2022-11-25 17:59:45.000000000,2022-11-25 17:58:29.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-25 12:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/a6be2790f2681d583fde543541ecd2d8b7e6ce7c', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9\n'}, {'number': 2, 'created': '2022-11-25 12:18:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/50813ff1fe3ac5305e78672323fc6c8094c517ce', 'message': '[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9\n'}]",0,865680,50813ff1fe3ac5305e78672323fc6c8094c517ce,11,3,2,32926,,,0,"[stable/1.6 only] ubuntu focal nodeset for the linter and cover jobs

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I2737c334286794f0f352fa6bc7dea320a5a6d7a9
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/80/865680/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a6be2790f2681d583fde543541ecd2d8b7e6ce7c,ubuntu-focal,- job: name: openstack-tox-linters-ubuntu-focal nodeset: ubuntu-focal parent: openstack-tox-linters - job: name: openstack-tox-cover-ubuntu-focal nodeset: ubuntu-focal parent: openstack-tox-cover - openstack-tox-linters-ubuntu-focal: &tox_override_checkout - openstack-tox-linters-ubuntu-focal - openstack-tox-cover-ubuntu-focal - openstack-tox-linters-ubuntu-focal: *tox_override_checkout - openstack-tox-linters-ubuntu-focal, - openstack-tox-linters: &tox_override_checkout - openstack-tox-linters - openstack-tox-cover - openstack-tox-linters: *tox_override_checkout - openstack-tox-linters,15,5
openstack%2Fpuppet-octavia~865088,openstack/puppet-octavia,master,I13fb52a3f8e0e3237013da2c42c7b8baf322a006,Add support for [controller_worker] amphora_delete_* options,MERGED,2022-11-21 02:19:57.000000000,2022-11-25 17:41:57.000000000,2022-11-25 17:40:39.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 02:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/d09ee3f9b0dfeab2f2264e1e82d5c162d5c487a0', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 2, 'created': '2022-11-21 03:06:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/8190214e863d9f2a0c01203abc24b8b904639d15', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 3, 'created': '2022-11-21 04:50:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/81e298061c641d4bc20071780bf65e78df222fd2', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}, {'number': 4, 'created': '2022-11-21 05:58:16.000000000', 'files': ['releasenotes/notes/amphora_delete-opts-187baf4230e484fb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-octavia/commit/6840de653f717ccb715d362dd4f054c8e57ec8ae', 'message': 'Add support for [controller_worker] amphora_delete_* options\n\n... so that users can tune these options using the native class\nparameters.\n\nChange-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006\n'}]",2,865088,6840de653f717ccb715d362dd4f054c8e57ec8ae,16,3,4,9816,,,0,"Add support for [controller_worker] amphora_delete_* options

... so that users can tune these options using the native class
parameters.

Change-Id: I13fb52a3f8e0e3237013da2c42c7b8baf322a006
",git fetch https://review.opendev.org/openstack/puppet-octavia refs/changes/88/865088/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/amphora_delete-opts-187baf4230e484fb.yaml', 'spec/classes/octavia_controller_spec.rb', 'manifests/controller.pp']",3,d09ee3f9b0dfeab2f2264e1e82d5c162d5c487a0,,"# Defaults to $::os_service_default # # [*amphora_delete_retries*] # (optional) Number of times an amphora delete should be retried. # Defaults to $::os_service_default # # [*amphora_delete_retry_interval*] # (optional) Time, in seconds, between amphora delete retries. # Defaults to $::os_service_default 'controller_worker/amphora_delete_retries': : value => $amphora_delete_retries; 'controller_worker/amphora_delete_retry_interval': : value => $amphora_delete_retry_interval;",# Default is $::os_service_default,25,1
openstack%2Fopenstack-manuals~862395,openstack/openstack-manuals,master,I5034a4d42086d2640bfe2c5d5003c5b125809fbb,[www] Set Wallaby status to Extended Maintenance,MERGED,2022-10-21 18:08:39.000000000,2022-11-25 17:29:42.000000000,2022-11-25 17:09:37.000000000,"[{'_account_id': 6547}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-21 18:08:39.000000000', 'files': ['tools/www-generator.py'], 'web_link': 'https://opendev.org/openstack/openstack-manuals/commit/88533d978957c8194bb7a75764c84e2f7513943b', 'message': ""[www] Set Wallaby status to Extended Maintenance\n\nProject's last releases in Wallaby have been tagged with wallaby-em.\nNow indicate that Wallaby is in Extended Maintenance phase also at\nhttps://docs.openstack.org\n\nPlanned transition date is November 2nd, 2022.\n\nChange-Id: I5034a4d42086d2640bfe2c5d5003c5b125809fbb\n""}]",3,862395,88533d978957c8194bb7a75764c84e2f7513943b,10,3,1,17685,,,0,"[www] Set Wallaby status to Extended Maintenance

Project's last releases in Wallaby have been tagged with wallaby-em.
Now indicate that Wallaby is in Extended Maintenance phase also at
https://docs.openstack.org

Planned transition date is November 2nd, 2022.

Change-Id: I5034a4d42086d2640bfe2c5d5003c5b125809fbb
",git fetch https://review.opendev.org/openstack/openstack-manuals refs/changes/95/862395/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/www-generator.py'],1,88533d978957c8194bb7a75764c84e2f7513943b,wallaby-em," 'wallaby': SeriesInfo(date='April 2021', status='extended-maintenance'),"," 'wallaby': SeriesInfo(date='April 2021', status='maintained'),",1,1
openstack%2Fblazar~862799,openstack/blazar,master,Ibed073bf14ce5ea23641aa8a1362f239351aa80e,DNM: testing jobs on Ubuntu Jammy (22.04),ABANDONED,2022-10-27 11:48:56.000000000,2022-11-25 17:28:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-27 11:48:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/80aa3c4fabcdec646eef246029568bc6361a0383', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}, {'number': 2, 'created': '2022-11-17 13:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar/commit/ab4cb579c17d5dff5e4f5134f2abca9c35e11a97', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/blazar-tempest-plugin/+/864895\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}, {'number': 3, 'created': '2022-11-17 20:06:33.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/blazar/commit/a2658339a0dd32dc5e5d69035ff009d5f4df244e', 'message': 'DNM: testing jobs on Ubuntu Jammy (22.04)\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nChange-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e\n'}]",1,862799,a2658339a0dd32dc5e5d69035ff009d5f4df244e,9,1,3,28619,,,0,"DNM: testing jobs on Ubuntu Jammy (22.04)

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Change-Id: Ibed073bf14ce5ea23641aa8a1362f239351aa80e
",git fetch https://review.opendev.org/openstack/blazar refs/changes/99/862799/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,80aa3c4fabcdec646eef246029568bc6361a0383,migrate-to-jammy,,,0,0
openstack%2Fopenstack-ansible-os_designate~744149,openstack/openstack-ansible-os_designate,master,I9490820bf344fc387a15020d0c5dedf08ab925f1,Adds handler for copying policy.json to the right place,ABANDONED,2020-07-31 12:59:07.000000000,2022-11-25 17:23:44.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2020-07-31 12:59:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/8b44a5b6ad416eb011ee6078b2bdc23619cab2cf', 'message': 'Adds handler for copying policy.json to the right place\n\nIf designate_policy_overrides existed, the changes were written to\n/etc/designate/policy.json-{{ designate_venv_tag  }}, but not\ncopied to /etc/designate/policy.json.\n\nChange-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1\n'}, {'number': 2, 'created': '2021-01-21 15:36:01.000000000', 'files': ['tasks/designate_post_install.yml', 'handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_designate/commit/07e8bf0534d5058d6bf2b33d078ebd605b8a9a10', 'message': 'Adds handler for copying policy.json to the right place\n\nIf designate_policy_overrides existed, the changes were written to\n/etc/designate/policy.json-{{ designate_venv_tag  }}, but not\ncopied to /etc/designate/policy.json.\n\nChange-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1\n'}]",2,744149,07e8bf0534d5058d6bf2b33d078ebd605b8a9a10,6,2,2,30660,,,0,"Adds handler for copying policy.json to the right place

If designate_policy_overrides existed, the changes were written to
/etc/designate/policy.json-{{ designate_venv_tag  }}, but not
copied to /etc/designate/policy.json.

Change-Id: I9490820bf344fc387a15020d0c5dedf08ab925f1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_designate refs/changes/49/744149/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/designate_post_install.yml', 'handlers/main.yml']",2,8b44a5b6ad416eb011ee6078b2bdc23619cab2cf,copy-policy-json-in-place," - ""Copy policy.json to the right place""",,2,0
openstack%2Fopenstack-virtual-baremetal~865671,openstack/openstack-virtual-baremetal,stable/2.0,I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884,DNM - Testing RDO third party ci,ABANDONED,2022-11-25 11:23:25.000000000,2022-11-25 17:14:52.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 11:23:25.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/5680409a54e7ef64d2fee89982edb523a5409b0a', 'message': 'DNM - Testing RDO third party ci\n\nChange-Id: I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884\n'}]",0,865671,5680409a54e7ef64d2fee89982edb523a5409b0a,4,2,1,30002,,,0,"DNM - Testing RDO third party ci

Change-Id: I3f5a21bedf68acfd2a1d59a0d20f29eb727ba884
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/71/865671/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,5680409a54e7ef64d2fee89982edb523a5409b0a,dnm_test_rdo,,,0,0
openstack%2Fopenstacksdk~865626,openstack/openstacksdk,master,I8cf81fb102dbca566c29fb085851610349caa5a7,Respect the kwargs in _get_grant_revoke_params,NEW,2022-11-25 08:08:15.000000000,2022-11-25 17:11:49.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 08:08:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/29f5ca099c4334f0a14726b2e8de5e352f8b2567', 'message': ""Respect the kwargs in _get_grant_revoke_params\n\nFixed search_args targeting in _get_grant_revoke_params method.\nUsing search_args as filters of the get_user method doesn't work.\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I8cf81fb102dbca566c29fb085851610349caa5a7\n""}, {'number': 2, 'created': '2022-11-25 08:08:54.000000000', 'files': ['openstack/cloud/_identity.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/bccca3c2aa52886fcdb370b0e276e7153fec2ba5', 'message': ""Respect the kwargs in _get_grant_revoke_params\n\nFixed search_args targeting in _get_grant_revoke_params method.\nUsing search_args as filters of the get_user method doesn't work.\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I8cf81fb102dbca566c29fb085851610349caa5a7\n""}]",3,865626,bccca3c2aa52886fcdb370b0e276e7153fec2ba5,6,2,2,34379,,,0,"Respect the kwargs in _get_grant_revoke_params

Fixed search_args targeting in _get_grant_revoke_params method.
Using search_args as filters of the get_user method doesn't work.

Signed-off-by: Francesco Lombardo <francesco.lombardo@garr.it>
Change-Id: I8cf81fb102dbca566c29fb085851610349caa5a7
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/865626/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_identity.py'],1,29f5ca099c4334f0a14726b2e8de5e352f8b2567,get-user-with-domain_id," data['user'] = self.get_user(user, **search_args)"," data['user'] = self.get_user(user, filters=search_args)",1,1
openstack%2Fovn-octavia-provider~864821,openstack/ovn-octavia-provider,master,Ie47f19afdd041843fe47da739b09ee03a88c7b02,Ensure HM updates work as expected,MERGED,2022-11-22 11:33:33.000000000,2022-11-25 17:06:05.000000000,2022-11-25 17:05:05.000000000,"[{'_account_id': 6773}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-22 11:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/fada24ddee04140ad53d4d8e5a325e1d85fc3cbe', 'message': 'Ensure HM updates work as expected\n\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n'}, {'number': 2, 'created': '2022-11-22 13:41:20.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4ccc5970da34d6e50704affd71306b8991b05aa0', 'message': 'Ensure HM updates work as expected\n\nThis patch ensures if only one parameter is provided the\nrest are not modified (set to undefined)\n\nCloses-Bug: #1997416\nChange-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02\n'}]",3,864821,4ccc5970da34d6e50704affd71306b8991b05aa0,15,4,2,23567,,,0,"Ensure HM updates work as expected

This patch ensures if only one parameter is provided the
rest are not modified (set to undefined)

Closes-Bug: #1997416
Change-Id: Ie47f19afdd041843fe47da739b09ee03a88c7b02
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/21/864821/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/helper.py'],1,fada24ddee04140ad53d4d8e5a325e1d85fc3cbe,, options = {} if info['interval']: options['interval'] = str(info['interval']) if info['timeout']: options['timeout'] = str(info['timeout']) if info['success_count']: options['success_count'] = str(info['success_count']) if info['failure_count']: options['failure_count'] = str(info['failure_count'])," options = { 'interval': str(info['interval']), 'timeout': str(info['timeout']), 'success_count': str(info['success_count']), 'failure_count': str(info['failure_count'])}",9,5
openstack%2Fopenstack-virtual-baremetal~865398,openstack/openstack-virtual-baremetal,stable/2.0,I178bd5c642ac8c54c94cd854452f9bcebf697fba,Set bmc_other_ports port_security_enabled: false,MERGED,2022-11-23 21:09:31.000000000,2022-11-25 16:38:38.000000000,2022-11-25 16:38:38.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-23 21:09:31.000000000', 'files': ['templates/bmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa', 'message': 'Set bmc_other_ports port_security_enabled: false\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nSet port_security_enabled: false on BMC other ports.\n\nCloses-Bug: #1997561\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n(cherry picked from commit 31896d86b8db2be180b1fb22fab12a521a34f0f8)\n'}]",11,865398,2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa,22,3,1,30002,,,0,"Set bmc_other_ports port_security_enabled: false

We are seeing error in BMC console on some clouds:
  Error, some other host (<% MAC_ADDR %>) already uses
  address <% IP ADDR %>.

Set port_security_enabled: false on BMC other ports.

Closes-Bug: #1997561

Change-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba
(cherry picked from commit 31896d86b8db2be180b1fb22fab12a521a34f0f8)
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/98/865398/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/bmc.yaml'],1,2baa5b7aaf166d2b5c1da5fe779d7eccb6f036fa,bmc-other-no-port-security-stable/2.0, port_security_enabled: false,,1,0
openstack%2Freleases~862394,openstack/releases,master,I0f093865bab190273421d966c755434d0369e0a0,Update _CLOSED_SERIES set with Wallaby,MERGED,2022-10-21 18:04:20.000000000,2022-11-25 16:36:17.000000000,2022-11-25 16:36:17.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 18:04:20.000000000', 'files': ['openstack_releases/cmds/validate.py'], 'web_link': 'https://opendev.org/openstack/releases/commit/671c4b7a09e64a6a44744cfb568af8de560da985', 'message': ""Update _CLOSED_SERIES set with Wallaby\n\nValidation is not needed for a series as soon as it reaches the\nExtended Maintenance state as there won't be any releases from such\nbranches. This patch updates the set of closed series to avoid\nunnecessary validation.\n\nChange-Id: I0f093865bab190273421d966c755434d0369e0a0\n""}]",0,862394,671c4b7a09e64a6a44744cfb568af8de560da985,7,3,1,17685,,,0,"Update _CLOSED_SERIES set with Wallaby

Validation is not needed for a series as soon as it reaches the
Extended Maintenance state as there won't be any releases from such
branches. This patch updates the set of closed series to avoid
unnecessary validation.

Change-Id: I0f093865bab190273421d966c755434d0369e0a0
",git fetch https://review.opendev.org/openstack/releases refs/changes/94/862394/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_releases/cmds/validate.py'],1,671c4b7a09e64a6a44744cfb568af8de560da985,wallaby-em," 'wallaby',",,1,0
openstack%2Freleases~862393,openstack/releases,master,Ib27a507a0bf47881bff842bfb9185dd6aee837e2,Set Wallaby status to Extended Maintenance,MERGED,2022-10-21 18:04:20.000000000,2022-11-25 16:36:15.000000000,2022-11-25 16:36:15.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 18:04:20.000000000', 'files': ['data/series_status.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/4eff323c1b3e8769c96580c0268d70afdfe02826', 'message': ""Set Wallaby status to Extended Maintenance\n\nProject's last releases in Wallaby have been tagged with wallaby-em.\nNow indicate that Wallaby is in Extended Maintenance phase also at\nhttps://releases.openstack.org\n\nTransition date is November 2nd, 2022.\n\nChange-Id: Ib27a507a0bf47881bff842bfb9185dd6aee837e2\n""}]",3,862393,4eff323c1b3e8769c96580c0268d70afdfe02826,9,3,1,17685,,,0,"Set Wallaby status to Extended Maintenance

Project's last releases in Wallaby have been tagged with wallaby-em.
Now indicate that Wallaby is in Extended Maintenance phase also at
https://releases.openstack.org

Transition date is November 2nd, 2022.

Change-Id: Ib27a507a0bf47881bff842bfb9185dd6aee837e2
",git fetch https://review.opendev.org/openstack/releases refs/changes/93/862393/1 && git format-patch -1 --stdout FETCH_HEAD,['data/series_status.yaml'],1,4eff323c1b3e8769c96580c0268d70afdfe02826,wallaby-em, status: extended maintenance status: unmaintained, status: maintained status: extended maintenance date: 2022-11-02,2,3
openstack%2Fironic~862552,openstack/ironic,master,Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9,Align iRMC driver with Ironic's default boot_mode,MERGED,2022-10-25 05:29:20.000000000,2022-11-25 16:34:19.000000000,2022-11-25 16:32:42.000000000,"[{'_account_id': 4571}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-25 05:29:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/25f8282f16e9b60f4765cc3351aa91a7e2137de1', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 2, 'created': '2022-10-25 05:46:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/1218eecacf08bbc851ef4fdb8d923e158d2f8904', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 3, 'created': '2022-10-25 08:18:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f953abef92b0af1c45135b783406101ec329bc73', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 4, 'created': '2022-10-27 06:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d053ddf5ad50beaf3a39439dee4ef255c6e9b856', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}, {'number': 5, 'created': '2022-11-07 02:57:28.000000000', 'files': ['releasenotes/notes/irmc-align-with-ironic-default-boot-mode-dde6f65ea084c9e6.yaml', 'ironic/drivers/modules/irmc/management.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/drivers/modules/irmc/test_management.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/071cf9b2dd2233509c3cdb8261c0ee7b391e6b2c', 'message': ""Align iRMC driver with Ironic's default boot_mode\n\nThis commit modifies iRMC driver to use ironic.conf [deploy]\ndefault_boot_mode as default value of boot_mode.\nBefore this commit, iRMC driver assumes Legacy BIOS as default\nboot_mode and value of default_boot_mode doesn't have any effect\non iRMC driver's behavior.\n\nStory: 2010381\nTask: 46643\nChange-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9\n""}]",5,862552,071cf9b2dd2233509c3cdb8261c0ee7b391e6b2c,36,3,5,30566,,,0,"Align iRMC driver with Ironic's default boot_mode

This commit modifies iRMC driver to use ironic.conf [deploy]
default_boot_mode as default value of boot_mode.
Before this commit, iRMC driver assumes Legacy BIOS as default
boot_mode and value of default_boot_mode doesn't have any effect
on iRMC driver's behavior.

Story: 2010381
Task: 46643
Change-Id: Ic5a235785a1a2bb37fef38bd3a86f40125acb3d9
",git fetch https://review.opendev.org/openstack/ironic refs/changes/52/862552/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/irmc-align-with-ironic-default-boot-mode-dde6f65ea084c9e6.yaml', 'ironic/drivers/modules/irmc/management.py', 'ironic/tests/unit/drivers/modules/irmc/test_management.py']",3,25f8282f16e9b60f4765cc3351aa91a7e2137de1,align_with_ironic_boot_mode," ""0x00 0x08 0x05 0xa0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xa0 0x0c 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xe0 0x0c 0x00 0x00 0x00"")"," ""0x00 0x08 0x05 0x80 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x04 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x08 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x20 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x18 0x00 0x00 0x00"") ""0x00 0x08 0x05 0x80 0x0c 0x00 0x00 0x00"") ""0x00 0x08 0x05 0xc0 0x0c 0x00 0x00 0x00"")",17,11
openstack%2Fneutron~783543,openstack/neutron,stable/queens,I240a78879db757592df138a53b2c22d7f5a9ae13,Call install_ingress_direct_goto_flows() when ovs restarts,ABANDONED,2021-03-29 03:29:39.000000000,2022-11-25 16:32:12.000000000,,"[{'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-03-29 03:29:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/aa7d5e47f36d7a124968603a4236dfd58709e77c', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n'}, {'number': 2, 'created': '2021-07-02 10:23:18.000000000', 'files': ['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/02e7ffa5f317db526b455b33f0369c9aa1b978ee', 'message': 'Call install_ingress_direct_goto_flows() when ovs restarts\n\nWhen ovs restarts and needs to regenerate flows, some flows will be\nmissing in br-int, as follows:\n * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)\n * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)\n * table=61,priority=0 actions=resubmit(,62)\nCall install_ingress_direct_goto_flows() again in the\n_handle_ovs_restart() to ensure generate these flows.\n\nConflicts:\n    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py\n\nChange-Id: I240a78879db757592df138a53b2c22d7f5a9ae13\nCloses-Bug: #1920700\n(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)\n(cherry picked from commit 27ade26b64446554135e5d6f04c0927de314377a)\n'}]",0,783543,02e7ffa5f317db526b455b33f0369c9aa1b978ee,7,3,2,31769,,,0,"Call install_ingress_direct_goto_flows() when ovs restarts

When ovs restarts and needs to regenerate flows, some flows will be
missing in br-int, as follows:
 * table=60,priority=4,in_port=""int-br-floating"" actions=resubmit(,61)
 * table=60,priority=4,in_port=""patch-tun"" actions=resubmit(,61)
 * table=61,priority=0 actions=resubmit(,62)
Call install_ingress_direct_goto_flows() again in the
_handle_ovs_restart() to ensure generate these flows.

Conflicts:
    neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py

Change-Id: I240a78879db757592df138a53b2c22d7f5a9ae13
Closes-Bug: #1920700
(cherry picked from commit 2bb52d49bec299f070a513fee6f9f7ae5d53118b)
(cherry picked from commit 27ade26b64446554135e5d6f04c0927de314377a)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/43/783543/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/openvswitch/agent/ovs_neutron_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/test_ovs_neutron_agent.py']",2,aa7d5e47f36d7a124968603a4236dfd58709e77c,bug/1920700-stable/queens," def test_ovs_restart_for_ingress_direct_goto_flows(self): with mock.patch.object(self.agent, 'check_ovs_status', return_value=constants.OVS_RESTARTED), \ mock.patch.object(self.agent, '_agent_has_updates', side_effect=TypeError('loop exit')), \ mock.patch.object(self.agent, 'setup_integration_br'), \ mock.patch.object(self.agent, 'install_ingress_direct_goto_flows') as \ install_ingress_direct_goto_flows: try: self.agent.rpc_loop(polling_manager=mock.Mock()) except TypeError: pass install_ingress_direct_goto_flows.assert_called_once_with() ",,49,0
openstack%2Fneutron~860901,openstack/neutron,stable/queens,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,ABANDONED,2022-10-11 03:41:22.000000000,2022-11-25 16:32:01.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-11 03:41:22.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5720994cdcb33e14982822e8c5c651ae7aab5451', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",2,860901,5720994cdcb33e14982822e8c5c651ae7aab5451,9,1,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/01/860901/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,5720994cdcb33e14982822e8c5c651ae7aab5451,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~860900,openstack/neutron,stable/rocky,Ib3945d294601b35f9b268c25841cd284b52c4ca3,[L3HA] Don't update HA router's ports if router isn't active on agents,ABANDONED,2022-10-11 03:41:11.000000000,2022-11-25 16:31:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-11 03:41:11.000000000', 'files': ['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7925eab522e60478dd5ebb66c9fc6a453d779410', 'message': '[L3HA] Don\'t update HA router\'s ports if router isn\'t active on agents\n\nIn case when HA router isn\'t active on any L3 agent,\n_ensure_host_set_on_port method shouldn\'t try to update port\'s host to\nthe host from which there was an rpc message sent, as this can be host\non which router is in the ""standby"" mode.\nThis method should only update port\'s host to the router\'s ""active_host""\nif there is such active_host found already.\n\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/841489\n\nCloses-Bug: #1973162\nCloses-Bug: #1942190\nChange-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3\n(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)\n'}]",2,860900,7925eab522e60478dd5ebb66c9fc6a453d779410,9,1,1,9531,,,0,"[L3HA] Don't update HA router's ports if router isn't active on agents

In case when HA router isn't active on any L3 agent,
_ensure_host_set_on_port method shouldn't try to update port's host to
the host from which there was an rpc message sent, as this can be host
on which router is in the ""standby"" mode.
This method should only update port's host to the router's ""active_host""
if there is such active_host found already.

Depends-On: https://review.opendev.org/c/openstack/requirements/+/841489

Closes-Bug: #1973162
Closes-Bug: #1942190
Change-Id: Ib3945d294601b35f9b268c25841cd284b52c4ca3
(cherry picked from commit cd8bf18150c8b0a4bc64979d800726483d9cdb6e)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/00/860900/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/db/test_l3_hamode_db.py', 'neutron/api/rpc/handlers/l3_rpc.py']",2,7925eab522e60478dd5ebb66c9fc6a453d779410,bug/1973162," if not active_host: LOG.debug(""Router %(router)s is not active on any "" ""host. Port %(port)s will not be updated "" ""now."", {'router': router_id, 'port': port['id']}) return ""host"": active_host}) {'port': {portbindings.HOST_ID: active_host}})"," if active_host: host = active_host # If there is currently no active router instance (For # example it's a new router), the host that requested # the routers (Essentially a random host) will do. The # port binding will be corrected when an active is # elected. ""host"": host}) {'port': {portbindings.HOST_ID: host}})",19,10
openstack%2Fneutron~864339,openstack/neutron,stable/rocky,I600d0a4bb3629c360ead2f7ebad2cee58b15137e,[stable-only] CI: Remove Ironic test; branch EOL,ABANDONED,2022-11-12 17:03:29.000000000,2022-11-25 16:31:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-12 17:03:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2656e75ed47a6b2cb048e0a9d49db7870064f37d', 'message': '[stable-only] CI: Remove Ironic test; branch EOL\n\nIronic rocky is EOL, remove the job.\n\nChange-Id: I600d0a4bb3629c360ead2f7ebad2cee58b15137e\n'}]",1,864339,2656e75ed47a6b2cb048e0a9d49db7870064f37d,4,1,1,10342,,,0,"[stable-only] CI: Remove Ironic test; branch EOL

Ironic rocky is EOL, remove the job.

Change-Id: I600d0a4bb3629c360ead2f7ebad2cee58b15137e
",git fetch https://review.opendev.org/openstack/neutron refs/changes/39/864339/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2656e75ed47a6b2cb048e0a9d49db7870064f37d,,, - ironic-tempest-dsvm-ipa-wholedisk-bios-agent_ipmitool-tinyipa: voting: false,0,2
openstack%2Fopenstack-ansible-os_swift~864685,openstack/openstack-ansible-os_swift,master,I254e35a67195817c237dba00bec6338d3fffa985,Add support for running object-servers Per Disk,MERGED,2022-11-16 08:38:43.000000000,2022-11-25 16:29:26.000000000,2022-11-25 16:28:15.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-16 08:38:43.000000000', 'files': ['doc/source/configure-swift-config.rst', 'templates/ring.contents.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/89a6bb07187f87aa8aab11ffba14f0248019886f', 'message': 'Add support for running object-servers Per Disk\n\nAdds support for configuring different storage port per disk\nin the storage policy ring. This Swift feature is described\nhere https://docs.openstack.org/swift/latest/deployment_guide.html#running-object-servers-per-disk\n\nSigned-off-by: Andrej Babolcai <andrej.babolcai@gmail.com>\nChange-Id: I254e35a67195817c237dba00bec6338d3fffa985\n'}]",0,864685,89a6bb07187f87aa8aab11ffba14f0248019886f,8,3,1,35543,,,0,"Add support for running object-servers Per Disk

Adds support for configuring different storage port per disk
in the storage policy ring. This Swift feature is described
here https://docs.openstack.org/swift/latest/deployment_guide.html#running-object-servers-per-disk

Signed-off-by: Andrej Babolcai <andrej.babolcai@gmail.com>
Change-Id: I254e35a67195817c237dba00bec6338d3fffa985
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/85/864685/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/configure-swift-config.rst', 'templates/ring.contents.j2']",2,89a6bb07187f87aa8aab11ffba14f0248019886f,feature-servers_per_port,{% set stor_port = drive.storage_port | default(port) %} {% set repl_port = drive.repl_port | default(port) %}{% set _update = device.update({'replication_port': repl_port|int}) %}{% set _update = device.update({'port': stor_port|int}) %},{% set _update = device.update({'replication_port': port|int}) %}{% set _update = device.update({'port': port|int}) %},11,2
openstack%2Fpuppet-openstack-integration~865085,openstack/puppet-openstack-integration,master,Ic8f5d35aca87a5df40864aeec3b04b5ea746188c,Remove logic for CentOS < 9,MERGED,2022-11-21 01:01:51.000000000,2022-11-25 16:21:23.000000000,2022-11-25 16:21:23.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:01:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/480e7c9a7a18ce397b3208bf591acf8662d4940b', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 2, 'created': '2022-11-21 01:25:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/9731fb6b037b5be9fd29da9fc5dc6a589af061a7', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 3, 'created': '2022-11-21 07:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d33db08c8cbfcdb900e6e58a6568c8aae3ad799c', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}, {'number': 4, 'created': '2022-11-21 07:24:38.000000000', 'files': ['manifests/neutron.pp', 'manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/017e308b491747418018dd005749351294fa3ea2', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c\n'}]",0,865085,017e308b491747418018dd005749351294fa3ea2,13,3,4,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: Ic8f5d35aca87a5df40864aeec3b04b5ea746188c
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/85/865085/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,480e7c9a7a18ce397b3208bf591acf8662d4940b,puppet-c8-cleanup," $powertools_repo = 'crb' $centos_mirror = 'http://mirror.stream.centos.org', $ceph_mirror_fallback = ""${centos_mirror}/SIGs/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", $ceph_mirror = $::ceph_mirror_host exec { 'enable-crb': command => 'dnf config-manager --enable crb', unless => 'test 0 -ne $(dnf repolist --enabled crb | wc -l)'"," # Set specific variables for CentOS Stream 9 if versioncmp($::os['release']['major'], '9') >= 0 { $powertools_repo = 'crb' } else { $powertools_repo = 'powertools' } $centos_mirror = $::os['release']['major'] ? { '9' => 'http://mirror.stream.centos.org', default => 'http://mirror.centos.org', } $ceph_mirror_fallback = $::os['release']['major'] ? { '9' => ""${centos_mirror}/SIGs/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", default => ""${centos_mirror}/centos/${::os['release']['major']}-stream/storage/x86_64/ceph-${ceph_version_real}/"", } $ceph_mirror = pick($::ceph_mirror_host, $ceph_mirror_fallback) exec { 'enable-powertools': command => ""dnf config-manager --enable ${powertools_repo}"", unless => ""test 0 -ne $(dnf repolist --enabled ${powertools_repo} | wc -l)""",8,18
openstack%2Fpuppet-openstack-integration~865086,openstack/puppet-openstack-integration,master,I5549e5edea33e720a7d5cf67c3056036daca52fc,Allow disabling separate Ceph repository,MERGED,2022-11-21 01:09:01.000000000,2022-11-25 16:21:06.000000000,2022-11-25 16:21:06.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 01:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/d7fdac730bf2ab6f5479b480cbcfde7f37893e47', 'message': 'Allow disabling separate Ceph repository\n\nThis change introduces the new flag to disable the separate Ceph\nrepository. This is now required to migrate Ubuntu job to Jammy,\nbecause the upstream ceph repository does not provide the packages\nfor Ubuntu Jammy yet.\n\nChange-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc\n'}, {'number': 2, 'created': '2022-11-21 01:34:32.000000000', 'files': ['manifests/repos.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/82d6eae24871afb79319744a208edb4008497515', 'message': 'Allow disabling separate Ceph repository\n\nThis change introduces the new flag to disable the separate Ceph\nrepository. This is now required to migrate Ubuntu job to Jammy,\nbecause the upstream ceph repository does not provide the packages\nfor Ubuntu Jammy yet.\n\nChange-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc\n'}]",0,865086,82d6eae24871afb79319744a208edb4008497515,8,3,2,9816,,,0,"Allow disabling separate Ceph repository

This change introduces the new flag to disable the separate Ceph
repository. This is now required to migrate Ubuntu job to Jammy,
because the upstream ceph repository does not provide the packages
for Ubuntu Jammy yet.

Change-Id: I5549e5edea33e720a7d5cf67c3056036daca52fc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/86/865086/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repos.pp'],1,d7fdac730bf2ab6f5479b480cbcfde7f37893e47,," if defined('$::enable_ceph_repo') and downcase($::enable_ceph_repo) == 'false' { $enable_ceph_repository = false } else { $enable_ceph_repository = true } if $enable_ceph_repository { # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', } if $enable_ceph_repository {"," # Ceph is both packaged on UCA and official download.ceph.com packages # which we mirror. We want to use the official packages or our mirror. if $ceph_mirror_fallback !~ '^http://download.ceph.com/.*' { $ceph_version_cap = capitalize($ceph_version_real) apt::pin { 'ceph': priority => 1001, originator => ""Ceph ${ceph_version_cap}"", } } else { apt::pin { 'ceph': priority => 1001, origin => 'download.ceph.com', if $::osfamily == 'RedHat' or $::operatingsystem == 'Ubuntu' {",22,13
openstack%2Fhorizon~865655,openstack/horizon,master,I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77,[DNM] Test nodejs job with new changes,ABANDONED,2022-11-25 09:53:51.000000000,2022-11-25 16:02:25.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 09:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/a6c75ac38269f8fbe7bf974fe0c3d67a9992c329', 'message': '[DNM] Test nodejs job with new changes\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459\nChange-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77\n'}, {'number': 2, 'created': '2022-11-25 11:59:14.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', '.zuul.d/base.yaml', '.zuul.d/tempest-and-integrated.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d0dec2b2980600ea5ffd11e8a76670907de409db', 'message': '[DNM] Test nodejs job with new changes\n\nDepends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459\nChange-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77\n'}]",0,865655,d0dec2b2980600ea5ffd11e8a76670907de409db,5,1,2,29313,,,0,"[DNM] Test nodejs job with new changes

Depends-On: https://review.opendev.org/c/zuul/zuul-jobs/+/865459
Change-Id: I21d2b6f5fc36b8fa2837aa4cfbf8884e2e91bf77
",git fetch https://review.opendev.org/openstack/horizon refs/changes/55/865655/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,a6c75ac38269f8fbe7bf974fe0c3d67a9992c329,865655,,,1,0
openstack%2Fopenstack-ansible-os_aodh~864966,openstack/openstack-ansible-os_aodh,master,Ied5a4defa1351dced468a7215e5c84fe30a58c24,Install git into aodh containers,MERGED,2022-11-18 02:49:00.000000000,2022-11-25 15:59:39.000000000,2022-11-25 15:58:13.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-18 02:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/4ab5709582c5b03d82aaecf5c524d36e336d8376', 'message': 'Install git into aodh containers\n\nIf venv_wheel_build_enabled is default to False, aodh will fail to clone\nand install repositories due to missing git binary.\n\nRelated-bug: #1995535\n\nSigned-off-by: Matthew Thode <mthode@mthode.org>\nChange-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24\n'}, {'number': 2, 'created': '2022-11-24 17:23:06.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_aodh/commit/c87f251c5acf63b66c4083e39adecf180dbcace8', 'message': 'Install git into aodh containers\n\nIf venv_wheel_build_enabled is default to False, aodh will fail to clone\nand install repositories due to missing git binary.\n\nRelated-bug: #1995535\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/864962\nSigned-off-by: Matthew Thode <mthode@mthode.org>\nChange-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24\n'}]",1,864966,c87f251c5acf63b66c4083e39adecf180dbcace8,13,3,2,14288,,,0,"Install git into aodh containers

If venv_wheel_build_enabled is default to False, aodh will fail to clone
and install repositories due to missing git binary.

Related-bug: #1995535

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-os_ceilometer/+/864962
Signed-off-by: Matthew Thode <mthode@mthode.org>
Change-Id: Ied5a4defa1351dced468a7215e5c84fe30a58c24
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_aodh refs/changes/66/864966/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,4ab5709582c5b03d82aaecf5c524d36e336d8376,fix-git-missing, - git,,2,0
openstack%2Fpuppet-swift~865095,openstack/puppet-swift,master,I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea,Remove logic for CentOS < 9,MERGED,2022-11-21 05:05:21.000000000,2022-11-25 15:59:01.000000000,2022-11-25 15:59:01.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:05:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/0f76582c2126f76ee19b73bac05ef61d207a51fa', 'message': 'Clean up logics for CentOS <= 8\n\n... because RDO no longer supports CentOS Stream 8.\n\nChange-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea\n'}, {'number': 2, 'created': '2022-11-21 05:06:44.000000000', 'files': ['spec/classes/swift_storage_all_spec.rb', 'spec/classes/swift_storage_spec.rb', 'manifests/params.pp', 'spec/classes/swift_ringserver_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/be26baa863c473ae139deb0587a37fa0a97dc2d5', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea\n'}]",0,865095,be26baa863c473ae139deb0587a37fa0a97dc2d5,9,3,2,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: I9f1faaaf8481da40992e5ccf3cc0c7a66f4811ea
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/95/865095/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/swift_storage_all_spec.rb', 'spec/classes/swift_storage_spec.rb', 'manifests/params.pp', 'spec/classes/swift_ringserver_spec.rb']",4,0f76582c2126f76ee19b73bac05ef61d207a51fa,puppet-c8-cleanup, { :xinetd_available => true } { :xinetd_available => false }, { :xinetd_available => true } if facts[:operatingsystemmajrelease] > '8' { :xinetd_available => false } else { :xinetd_available => true } end,6,22
openstack%2Fpuppet-swift~865107,openstack/puppet-swift,master,I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd,Ubuntu: Disable acceptance tests with swiftinit service provider,MERGED,2022-11-21 07:57:27.000000000,2022-11-25 15:58:59.000000000,2022-11-25 15:58:59.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 07:57:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/20b807240be956c3ff70df845face7a6f83d2ec5', 'message': 'Ubuntu: Disable acceptance tests with swiftinit service provider\n\nCurrently acceptance tests are consistently failing in Ubuntu, because\nof broken idempotency with swiftinit service provider.\n\nThis change disables the test cases as a temporal workaround.\n\nChange-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd\n'}, {'number': 2, 'created': '2022-11-21 08:42:55.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/de018ad7d4523a0cf9853910f77a9f4c6a832abe', 'message': 'Ubuntu: Disable acceptance tests with swiftinit service provider\n\nCurrently acceptance tests are consistently failing in Ubuntu, because\nof broken idempotency with swiftinit service provider.\n\nThis change disables the test cases as a temporal workaround.\n\nChange-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd\n'}]",0,865107,de018ad7d4523a0cf9853910f77a9f4c6a832abe,9,3,2,9816,,,0,"Ubuntu: Disable acceptance tests with swiftinit service provider

Currently acceptance tests are consistently failing in Ubuntu, because
of broken idempotency with swiftinit service provider.

This change disables the test cases as a temporal workaround.

Change-Id: I03265d899ad04f2aa6e39fcb4b79352ac7fa56cd
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/07/865107/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_swift_spec.rb'],1,20b807240be956c3ff70df845face7a6f83d2ec5,," # NOTE(tkajinam): The scenario with swiftinit provider causes broken # idempotency. We disable the scenario temporarily. if os[:family] != 'Debian' # Run one time to catch any errors upgrading to swiftinit service provider apply_manifest(swiftinit_pp, :catch_failures => true) # The second run tests idempotency apply_manifest(swiftinit_pp, :catch_changes => true) end"," # Run one time to catch any errors upgrading to swiftinit service provider apply_manifest(swiftinit_pp, :catch_failures => true) # The second run tests idempotency apply_manifest(swiftinit_pp, :catch_changes => true)",8,4
openstack%2Fpuppet-swift~865094,openstack/puppet-swift,master,I762f0780ba25536aa616482a49d59c7db69924d6,Ensure consistent IPv6 address format,MERGED,2022-11-21 05:03:08.000000000,2022-11-25 15:58:57.000000000,2022-11-25 15:58:57.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/dd01a0a4d6066c37fc309808e38855f10405ab42', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 2, 'created': '2022-11-21 05:56:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1e221ce1e5b9e00a02cb0e34305fc172be98faa3', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 3, 'created': '2022-11-21 08:01:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/87716d9624466d51fbf7e4404b350ae5b09a48b1', 'message': 'WIP: Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened vs canonical).\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 4, 'created': '2022-11-21 08:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4c13991ca8d439314d9c6f2a478cf54773dd4c5e', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 5, 'created': '2022-11-21 09:04:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/facb76cffa253987672da018567d876243444308', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 6, 'created': '2022-11-21 14:16:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/7d1f43239db1f5f2d01877c44607ac333024ce5c', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 7, 'created': '2022-11-21 23:45:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/697362c0dd07f13386676e25a839f12f1f9e6caa', 'message': 'Ensure consistent IPv6 format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}, {'number': 8, 'created': '2022-11-22 05:45:07.000000000', 'files': ['lib/puppet/type/ring_account_device.rb', 'lib/puppet/type/ring_container_device.rb', 'lib/puppet/provider/swift_ring_builder.rb', 'lib/puppet/type/ring_object_device.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/249f466f94441ae554478467949378d81b034f89', 'message': 'Ensure consistent IPv6 address format\n\nThis change ensures the shortened address representations are always\nused for ring devices to avoid broken idempotency caused by different\nrepresentations (shortened[1] vs canonical[2]).\n\n[1] ::1\n[2] 0000:0000:0000:0000:0000:0000:0000:0001\n\nCloses-Bug: #1997313\nChange-Id: I762f0780ba25536aa616482a49d59c7db69924d6\n'}]",0,865094,249f466f94441ae554478467949378d81b034f89,18,3,8,9816,,,0,"Ensure consistent IPv6 address format

This change ensures the shortened address representations are always
used for ring devices to avoid broken idempotency caused by different
representations (shortened[1] vs canonical[2]).

[1] ::1
[2] 0000:0000:0000:0000:0000:0000:0000:0001

Closes-Bug: #1997313
Change-Id: I762f0780ba25536aa616482a49d59c7db69924d6
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/94/865094/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/type/ring_account_device.rb', 'lib/puppet/provider/swift_ring_builder.rb']",2,dd01a0a4d6066c37fc309808e38855f10405ab42,bug/1997313, '[' + ip.to_s + ']', '[' + ip.to_s + ']',15,2
openstack%2Fpuppet-swift~865215,openstack/puppet-swift,master,I390f3c7bbfbbbc7217f81e8a0312e5db201ef409,Format IPv6 address for ring device,MERGED,2022-11-22 02:14:33.000000000,2022-11-25 15:58:56.000000000,2022-11-25 15:58:56.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 02:14:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/4738e82b5af5079a0040f7366d5d22e0b3397937', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted.\n\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 2, 'created': '2022-11-22 02:24:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/5e5acfb37080714211afcc0ad687c534a0fe375d', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 3, 'created': '2022-11-22 02:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/1779f6cc547b53733627734ab04f1f87c3b973ae', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}, {'number': 4, 'created': '2022-11-22 05:52:50.000000000', 'files': ['manifests/storage/node.pp', 'spec/defines/swift_storage_node_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/a8ef5f69060adda86433ff2de4c761a0f86f68c3', 'message': 'Format IPv6 address for ring device\n\nThe IPv6 addresses in ring_*_device resource names should be surrounded\nby []. This ensures the address is properly formatted when the resource\nis define in swift::storage::node.\n\nCloses-Bug: #1997295\nChange-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409\n'}]",0,865215,a8ef5f69060adda86433ff2de4c761a0f86f68c3,11,3,4,9816,,,0,"Format IPv6 address for ring device

The IPv6 addresses in ring_*_device resource names should be surrounded
by []. This ensures the address is properly formatted when the resource
is define in swift::storage::node.

Closes-Bug: #1997295
Change-Id: I390f3c7bbfbbbc7217f81e8a0312e5db201ef409
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/15/865215/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/storage/node.pp'],1,4738e82b5af5079a0040f7366d5d22e0b3397937,bug/1997295," $ring_host = normalize_ip_for_uri($storage_local_net_ip) if !$policy_index { $ring_device = ""${ring_host}:60${name}0/${name}"" } else { $ring_device = ""${policy_index}:${ring_host}:60${name}0/${name}"" ring_container_device { ""${ring_host}:60${name}1/${name}"": ring_account_device { ""${ring_host}:60${name}2/${name}"":"," if !$policy_index { $ring_device = ""${storage_local_net_ip}:60${name}0/${name}"" } else { $ring_device = ""${policy_index}:${storage_local_net_ip}:60${name}0/${name}"" ring_container_device { ""${storage_local_net_ip}:60${name}1/${name}"": ring_account_device { ""${storage_local_net_ip}:60${name}2/${name}"":",6,4
openstack%2Fopenstack-ansible-os_tempest~849973,openstack/openstack-ansible-os_tempest,stable/ussuri,I20ecfcb95d482701e865151822c2d625c0640743,Remove tripleo jobs from stable/ussuri branch,MERGED,2022-07-15 09:44:19.000000000,2022-11-25 15:55:15.000000000,2022-11-25 15:52:32.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-07-15 09:44:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/eaf229a3ff4b7034240f9c39980c4b378a7b73c2', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 2, 'created': '2022-10-21 17:12:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/3fdc557872ec4fc1de9104dbf0e92933c5292688', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 3, 'created': '2022-10-24 07:49:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/077e013ded39a14e2aed5524f89bb4516bad8e6f', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}, {'number': 4, 'created': '2022-10-24 10:35:41.000000000', 'files': ['tests/ansible-role-requirements.yml', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_tempest/commit/6db911b42c60ad0c2328b923c31ff9c8765c56ec', 'message': 'Remove tripleo jobs from stable/ussuri branch\n\nIn TripleO, os_tempest is used from master for all\nrelease. It does not make sense to keep running these jobs\nin os_tempest for stable/ussuri branch.\n\nThis job is also based on old zuul parenting work, which are\ngetting removed via this topic:\nhttps://review.opendev.org/q/topic:post_cleanup_zuul_parenting\n\nSo this patch removes these jobs completely.\nSigned-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>\nChange-Id: I20ecfcb95d482701e865151822c2d625c0640743\n'}]",7,849973,6db911b42c60ad0c2328b923c31ff9c8765c56ec,28,5,4,12393,,,0,"Remove tripleo jobs from stable/ussuri branch

In TripleO, os_tempest is used from master for all
release. It does not make sense to keep running these jobs
in os_tempest for stable/ussuri branch.

This job is also based on old zuul parenting work, which are
getting removed via this topic:
https://review.opendev.org/q/topic:post_cleanup_zuul_parenting

So this patch removes these jobs completely.
Signed-off-by: Chandan Kumar (raukadah) <chkumar@redhat.com>
Change-Id: I20ecfcb95d482701e865151822c2d625c0640743
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_tempest refs/changes/73/849973/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/project.yaml', 'zuul.d/jobs.yaml']",2,eaf229a3ff4b7034240f9c39980c4b378a7b73c2,post_cleanup_zuul_parenting,, - job: name: tripleo-ci-centos-8-standalone-os-tempest parent: tripleo-ci-base-standalone nodeset: single-centos-8-node vars: featureset: '052' featureset_override: use_os_tempest: true tempest_tempest_conf_overrides: auth.use_dynamic_credentials: true tempest_test_whitelist: - 'tempest.api.identity.v3' - 'tempest.scenario.test_server_basic_ops' - 'tempest.api.volume.admin.test_multi_backend' - 'tempest.scenario.test_object_storage_basic_ops' consumer_job: true build_container_images: false remove_tags: - build dependencies: - tripleo-ci-centos-8-content-provider,0,28
openstack%2Freleases~862308,openstack/releases,master,I616705d23d95f77057a77aeee38f6cffc7fb6fa0,[Puppet OpenStack] Transition Wallaby to EM,MERGED,2022-10-21 12:53:56.000000000,2022-11-25 15:44:44.000000000,2022-11-25 15:44:44.000000000,"[{'_account_id': 9816}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-10-21 12:53:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/cfcaa2237e10390143f4e78d1bfcfb24bde460d2', 'message': '[Puppet OpenStack] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0\n'}, {'number': 2, 'created': '2022-11-15 10:02:30.000000000', 'files': ['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/016b5a49d1497ccd5b54ff38a62be7a3aa225358', 'message': '[Puppet OpenStack] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0\n'}]",7,862308,016b5a49d1497ccd5b54ff38a62be7a3aa225358,15,4,2,17685,,,0,"[Puppet OpenStack] Transition Wallaby to EM

This transition the wallaby branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is November 2nd, 2022.

Change-Id: I616705d23d95f77057a77aeee38f6cffc7fb6fa0
",git fetch https://review.opendev.org/openstack/releases refs/changes/08/862308/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/wallaby/puppet-senlin.yaml', 'deliverables/wallaby/puppet-watcher.yaml', 'deliverables/wallaby/puppet-neutron.yaml', 'deliverables/wallaby/puppet-qdr.yaml', 'deliverables/wallaby/puppet-tempest.yaml', 'deliverables/wallaby/puppet-zaqar.yaml', 'deliverables/wallaby/puppet-barbican.yaml', 'deliverables/wallaby/puppet-cloudkitty.yaml', 'deliverables/wallaby/puppet-keystone.yaml', 'deliverables/wallaby/puppet-oslo.yaml', 'deliverables/wallaby/puppet-swift.yaml', 'deliverables/wallaby/puppet-placement.yaml', 'deliverables/wallaby/puppet-magnum.yaml', 'deliverables/wallaby/puppet-ovn.yaml', 'deliverables/wallaby/puppet-vitrage.yaml', 'deliverables/wallaby/puppet-murano.yaml', 'deliverables/wallaby/puppet-nova.yaml', 'deliverables/wallaby/puppet-panko.yaml', 'deliverables/wallaby/puppet-rally.yaml', 'deliverables/wallaby/puppet-aodh.yaml', 'deliverables/wallaby/puppet-sahara.yaml', 'deliverables/wallaby/puppet-designate.yaml', 'deliverables/wallaby/puppet-ironic.yaml', 'deliverables/wallaby/puppet-horizon.yaml', 'deliverables/wallaby/puppet-ceilometer.yaml', 'deliverables/wallaby/puppet-trove.yaml', 'deliverables/wallaby/puppet-octavia.yaml', 'deliverables/wallaby/puppet-openstacklib.yaml', 'deliverables/wallaby/puppet-ec2api.yaml', 'deliverables/wallaby/puppet-mistral.yaml', 'deliverables/wallaby/puppet-openstack_extras.yaml', 'deliverables/wallaby/puppet-freezer.yaml', 'deliverables/wallaby/puppet-manila.yaml', 'deliverables/wallaby/puppet-glare.yaml', 'deliverables/wallaby/puppet-vswitch.yaml', 'deliverables/wallaby/puppet-monasca.yaml', 'deliverables/wallaby/puppet-tacker.yaml', 'deliverables/wallaby/puppet-heat.yaml', 'deliverables/wallaby/puppet-cinder.yaml', 'deliverables/wallaby/puppet-glance.yaml', 'deliverables/wallaby/puppet-gnocchi.yaml']",41,cfcaa2237e10390143f4e78d1bfcfb24bde460d2,wallaby-em, - version: wallaby-em projects: - repo: openstack/puppet-gnocchi hash: 4bdde679c1691a6300424efd193676b285b35e4e,,164,0
openstack%2Freleases~862306,openstack/releases,master,I808f3b08e845af0330404650807d32a44047cf01,[OpenStackAnsible] Transition Wallaby to EM,MERGED,2022-10-21 12:53:15.000000000,2022-11-25 15:42:41.000000000,2022-11-25 15:42:41.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-10-21 12:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/dc04df99909cd7ea13568983785a11d72e8316ae', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 2, 'created': '2022-11-21 11:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/879b336808440a09337c800fa285a68db90947ca', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 3, 'created': '2022-11-24 16:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4b1a31cdaee8a809e64418263f46c2bc75578a1c', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}, {'number': 4, 'created': '2022-11-24 16:17:59.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/18543ea6fa499054cdd1e418c2ed71119f0a029c', 'message': '[OpenStackAnsible] Transition Wallaby to EM\n\nThis transition the wallaby branch to extended maintenance.\nChanges for bugfixes and things the team deems important are\nstill encouraged, but there will no longer be official releases\noff of the branch.\n\nPlease +1 if the team is ready for us to proceed with this\ntransition, or -1 if there are any final backports currently in\nflight that we should wait for. For the latter case, please\nupdate the patch with the new commit hash after doing a final\nrelease to get those changes out so we know to proceed with the\ntransition.\n\nThe transition deadline is November 2nd, 2022.\n\nChange-Id: I808f3b08e845af0330404650807d32a44047cf01\n'}]",4,862306,18543ea6fa499054cdd1e418c2ed71119f0a029c,19,4,4,17685,,,0,"[OpenStackAnsible] Transition Wallaby to EM

This transition the wallaby branch to extended maintenance.
Changes for bugfixes and things the team deems important are
still encouraged, but there will no longer be official releases
off of the branch.

Please +1 if the team is ready for us to proceed with this
transition, or -1 if there are any final backports currently in
flight that we should wait for. For the latter case, please
update the patch with the new commit hash after doing a final
release to get those changes out so we know to proceed with the
transition.

The transition deadline is November 2nd, 2022.

Change-Id: I808f3b08e845af0330404650807d32a44047cf01
",git fetch https://review.opendev.org/openstack/releases refs/changes/06/862306/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,dc04df99909cd7ea13568983785a11d72e8316ae,wallaby-em, - version: wallaby-em projects: - repo: openstack/openstack-ansible hash: 236e2677f1a7e7862aded23b251a47547270d623,,4,0
openstack%2Fpuppet-nova~865108,openstack/puppet-nova,master,I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9,Remove logic for CentOS < 9,MERGED,2022-11-21 08:51:26.000000000,2022-11-25 15:38:51.000000000,2022-11-25 15:38:51.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 08:51:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/185504c3d675d49d03ba2d3e4ff5069ac9934aac', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9\n'}, {'number': 2, 'created': '2022-11-21 09:26:51.000000000', 'files': ['spec/classes/nova_compute_spec.rb', 'manifests/params.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/610ae05f9127b8c73e86f20dbff9ca0cd7e019e8', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9\n'}]",3,865108,610ae05f9127b8c73e86f20dbff9ca0cd7e019e8,15,4,2,9816,,,0,"Remove logic for CentOS < 9

... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.

Change-Id: I0ff6eb5da73d1be6fd8e5f1c8127f9b18116c7b9
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/08/865108/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_compute_spec.rb', 'manifests/params.pp']",2,185504c3d675d49d03ba2d3e4ff5069ac9934aac,puppet-c8-cleanup, $mkisofs_package_name = 'xorriso' $mkisofs_cmd = 'mkisofs'," if versioncmp($::operatingsystemmajrelease, '9') >= 0 { $mkisofs_package_name = 'xorriso' $mkisofs_cmd = 'mkisofs' } else { $mkisofs_package_name = 'genisoimage' $mkisofs_cmd = false }",4,22
openstack%2Fopenstack-ansible-os_rally~861790,openstack/openstack-ansible-os_rally,stable/ussuri,I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045,Return jobs to voting,MERGED,2022-10-18 19:41:17.000000000,2022-11-25 15:34:03.000000000,2022-11-25 15:31:45.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-18 19:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/f6af1a195ba9152b7b090756c3df991431597b1e', 'message': 'Return jobs to voting\n\nChange-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045\n'}, {'number': 2, 'created': '2022-10-21 07:53:45.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_rally/commit/21005bd625cd86f1109a69f5425a7093b4e19acd', 'message': 'Return jobs to voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/853029\nChange-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045\n'}]",2,861790,21005bd625cd86f1109a69f5425a7093b4e19acd,16,3,2,28619,,,0,"Return jobs to voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible/+/853029
Change-Id: I57cfcf0d76ae9fa1331b9b2fad14ffb2d4c1b045
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_rally refs/changes/90/861790/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,f6af1a195ba9152b7b090756c3df991431597b1e,,, check: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false gate: jobs: - openstack-ansible-deploy-aio_metal-ubuntu-bionic: voting: false - openstack-ansible-deploy-aio_metal-ubuntu-focal: voting: false - openstack-ansible-upgrade-aio_metal-ubuntu-bionic: voting: false,0,16
openstack%2Fopenstacksdk~859026,openstack/openstacksdk,master,I09d118097bade8f0d8ff497957846a754ebc7c1e,Initialize tests of real clouds,MERGED,2022-09-23 08:20:48.000000000,2022-11-25 15:30:38.000000000,2022-11-25 15:28:58.000000000,"[{'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-09-23 08:20:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8887adc3f075a18dc0f4811d4706a29be82fc2c6', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 2, 'created': '2022-09-23 09:54:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/75a8d3e43d9ffd9950e174280ff8dabfeae1b426', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 3, 'created': '2022-09-23 15:55:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/8e6e7044a223270babb645efd85676f3126df227', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 4, 'created': '2022-09-28 12:36:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/1d40306799e9be10ebf5dcfc831e694a7950a28b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 5, 'created': '2022-09-30 07:50:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/e66b8e9ee92f510d0df9a0fe34986e36d3a6cfb0', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 6, 'created': '2022-09-30 13:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2b5a9d485d813cd5fc25e2db450d12fc205fd09b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}, {'number': 7, 'created': '2022-10-18 12:56:46.000000000', 'files': ['openstack/tests/functional/base.py', 'openstack/tests/functional/block_storage/v3/test_type.py', 'include-acceptance-regular-user.txt', 'openstack/tests/functional/block_storage/v3/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/70dbcfcd66d85875447a29a5abab110af38b6c5b', 'message': 'Initialize tests of real clouds\n\nWe want to start testing sdk and osc on real clouds. They are all\ndifferent, have different settings, policies, etc. In order to cope with\nthat it would be necessary to rework lot of tests and code to ensure all\nof those ""feautres"" are properly detected by sdk and osc.\n\nBlock-storage test base class should not set operator cloud, only tests\nthat require it explicitly should use it\n\nChange-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e\n'}]",11,859026,70dbcfcd66d85875447a29a5abab110af38b6c5b,27,4,7,27900,,,0,"Initialize tests of real clouds

We want to start testing sdk and osc on real clouds. They are all
different, have different settings, policies, etc. In order to cope with
that it would be necessary to rework lot of tests and code to ensure all
of those ""feautres"" are properly detected by sdk and osc.

Block-storage test base class should not set operator cloud, only tests
that require it explicitly should use it

Change-Id: I09d118097bade8f0d8ff497957846a754ebc7c1e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/26/859026/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/functional/base.py', 'include-acceptance-regular-user.txt', 'openstack/tests/functional/block_storage/v3/test_volume.py', 'tox.ini', 'openstack/tests/functional/block_storage/v3/test_backup.py']",5,8887adc3f075a18dc0f4811d4706a29be82fc2c6,better_tests,import uuid self.VOLUME_NAME = uuid.uuid4().hex self.BACKUP_NAME = uuid.uuid4().hex, self.VOLUME_NAME = self.getUniqueString() self.BACKUP_NAME = self.getUniqueString(),34,9
openstack%2Fneutron~865590,openstack/neutron,master,I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6,Use the neutron-lib constant for PACKET_RATE_LIMIT table number,MERGED,2022-11-24 17:26:09.000000000,2022-11-25 15:30:33.000000000,2022-11-25 15:29:01.000000000,"[{'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32586}, {'_account_id': 34451}]","[{'number': 1, 'created': '2022-11-24 17:26:09.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5640eee1164cd88b3d9b01848638eeb57d2efb0', 'message': 'Use the neutron-lib constant for PACKET_RATE_LIMIT table number\n\nIn neutron-lib 3.2.0, the table PACKET_RATE_LIMIT changes from 59\nto 58. This patch uses the imported n-lib constant instead of a\nhardcoded number. That will allow the neutron-lib version bump.\nSee [1].\n\n[1]https://review.opendev.org/c/openstack/requirements/+/864899\n\nRelated-Bug: #1938966\nChange-Id: I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6\n'}]",2,865590,c5640eee1164cd88b3d9b01848638eeb57d2efb0,13,7,1,16688,,,0,"Use the neutron-lib constant for PACKET_RATE_LIMIT table number

In neutron-lib 3.2.0, the table PACKET_RATE_LIMIT changes from 59
to 58. This patch uses the imported n-lib constant instead of a
hardcoded number. That will allow the neutron-lib version bump.
See [1].

[1]https://review.opendev.org/c/openstack/requirements/+/864899

Related-Bug: #1938966
Change-Id: I0929e5ad59bfdd1ec7477adef3a52ec8d25ccfa6
",git fetch https://review.opendev.org/openstack/neutron refs/changes/90/865590/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/tests/unit/plugins/ml2/drivers/openvswitch/agent/openflow/native/test_br_int.py'],1,c5640eee1164cd88b3d9b01848638eeb57d2efb0,bug/1938966," ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.TRANSIENT_TABLE), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT), goto_pkt_rate = ofpp.OFPInstructionGotoTable( table_id=ovs_constants.PACKET_RATE_LIMIT) instructions=[goto_pkt_rate],"," ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=60), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), ofpp.OFPInstructionGotoTable(table_id=59), instructions=[ ofpp.OFPInstructionGotoTable(table_id=59)],",25,13
openstack%2Fpuppet-openstack-integration~865101,openstack/puppet-openstack-integration,master,Icb582e0956f02f1ac6b6d9568fc33ec086b747ee,Capture OS user/group in integration/litmus jobs,MERGED,2022-11-21 05:47:54.000000000,2022-11-25 15:24:00.000000000,2022-11-25 15:24:00.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 05:47:54.000000000', 'files': ['copy_logs.sh'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/00861b75a084e6fe1fff3cceed8f869e54b34ef0', 'message': 'Capture OS user/group in integration/litmus jobs\n\nChange-Id: Icb582e0956f02f1ac6b6d9568fc33ec086b747ee\n'}]",0,865101,00861b75a084e6fe1fff3cceed8f869e54b34ef0,7,3,1,9816,,,0,"Capture OS user/group in integration/litmus jobs

Change-Id: Icb582e0956f02f1ac6b6d9568fc33ec086b747ee
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/01/865101/1 && git format-patch -1 --stdout FETCH_HEAD,['copy_logs.sh'],1,00861b75a084e6fe1fff3cceed8f869e54b34ef0,,sudo cp /etc/passwd $LOG_DIR/etc sudo cp /etc/group $LOG_DIR/etc,,2,0
openstack%2Ftooz~865401,openstack/tooz,stable/wallaby,Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1,Move flake8 as a pre-commit local target.,MERGED,2022-11-24 05:00:52.000000000,2022-11-25 15:18:45.000000000,2022-11-25 15:17:38.000000000,"[{'_account_id': 7294}, {'_account_id': 15334}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 05:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tooz/commit/e8f32ae47922519c2fdb8ee2c7443086c5717154', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1\n(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)\n""}, {'number': 2, 'created': '2022-11-24 05:22:06.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tooz/commit/8611c15308925621260f573c0f275a1dea9f80e0', 'message': ""Move flake8 as a pre-commit local target.\n\nThe goal here is to avoid conflicts between flake8 and hacking version each\n2 days.\n\nInspired from nova's approach[1].\n\nThe flake8 version to install will be determined by hacking and\nrequirements[2] will stay aligned instead of relying on different versions.\n\n[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35\n[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1\n\nChange-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1\n(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)\n""}]",1,865401,8611c15308925621260f573c0f275a1dea9f80e0,11,5,2,32240,,,0,"Move flake8 as a pre-commit local target.

The goal here is to avoid conflicts between flake8 and hacking version each
2 days.

Inspired from nova's approach[1].

The flake8 version to install will be determined by hacking and
requirements[2] will stay aligned instead of relying on different versions.

[1] https://opendev.org/openstack/nova/src/branch/master/.pre-commit-config.yaml#L26-L35
[2] https://opendev.org/openstack/hacking/src/branch/master/requirements.txt#L1

Change-Id: Ic3f3d05ce7bb10a7d29815444dac00dea4f9c9d1
(cherry picked from commit 714e77e71f69a223e47afd9d129fc50f76ecd1fc)
",git fetch https://review.opendev.org/openstack/tooz refs/changes/01/865401/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', '.pre-commit-config.yaml']",2,e8f32ae47922519c2fdb8ee2c7443086c5717154,move_flake8_local-stable/wallaby," rev: 9136088a246768144165fcc3ecc3d31bb686920a # v3.3.0<<<<<<< HEAD (73dbe0 Cap protobuf < 4.x)======= - repo: local >>>>>>> CHANGE (714e77 Move flake8 as a pre-commit local target.) name: flake8 additional_dependencies: <<<<<<< HEAD (73dbe0 Cap protobuf < 4.x)======= - hacking>=4.0.0,<4.1.0 language: python entry: flake8 files: '^.*\.py$' exclude: '^(doc|releasenotes|tools)/.*$' >>>>>>> CHANGE (714e77 Move flake8 as a pre-commit local target.)", rev: ebc15addedad713c86ef18ae9632c88e187dd0af # v3.1.0 additional_dependencies:,18,1
openstack%2Fpuppet-openstack_extras~865084,openstack/puppet-openstack_extras,master,I05326c3231cb1ca2186731afa249e1cbdf1184d9,CentOS: Switch default to zed release,MERGED,2022-11-21 00:56:22.000000000,2022-11-25 15:18:17.000000000,2022-11-25 15:18:17.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 00:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/97ceaea1a7d39ff2eae5e2acfad40e55f3fddbbd', 'message': 'CentOS: Switch default to zed release\n\nChange-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9\n'}, {'number': 2, 'created': '2022-11-21 01:32:11.000000000', 'files': ['manifests/repo/redhat/params.pp', 'spec/classes/openstack_extras_repo_redhat_redhat_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_extras/commit/5a6ef41d19133505bef972ceb711cd5cb21d9884', 'message': 'CentOS: Switch default to zed release\n\nChange-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9\n'}]",1,865084,5a6ef41d19133505bef972ceb711cd5cb21d9884,10,3,2,9816,,,0,"CentOS: Switch default to zed release

Change-Id: I05326c3231cb1ca2186731afa249e1cbdf1184d9
",git fetch https://review.opendev.org/openstack/puppet-openstack_extras refs/changes/84/865084/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/repo/redhat/params.pp'],1,97ceaea1a7d39ff2eae5e2acfad40e55f3fddbbd,, $release = 'zed', $release = 'yoga',1,1
openstack%2Fpuppet-ovn~865549,openstack/puppet-ovn,master,I40afe284da3b6c0b6f7d6af813a24801f8f40654,Add an extra space to align variables in class ovn::controller,MERGED,2022-11-24 14:32:37.000000000,2022-11-25 15:08:02.000000000,2022-11-25 15:08:02.000000000,"[{'_account_id': 9816}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 14:32:37.000000000', 'files': ['manifests/controller.pp'], 'web_link': 'https://opendev.org/openstack/puppet-ovn/commit/bd2256daeae7ef1a1344cdb172e0f4422ceba706', 'message': 'Add an extra space to align variables in class ovn::controller\n\nAdd an extra space to align variables in class ovn::controller\n\nChange-Id: I40afe284da3b6c0b6f7d6af813a24801f8f40654\n'}]",0,865549,bd2256daeae7ef1a1344cdb172e0f4422ceba706,7,3,1,7130,,,0,"Add an extra space to align variables in class ovn::controller

Add an extra space to align variables in class ovn::controller

Change-Id: I40afe284da3b6c0b6f7d6af813a24801f8f40654
",git fetch https://review.opendev.org/openstack/puppet-ovn refs/changes/49/865549/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/controller.pp'],1,bd2256daeae7ef1a1344cdb172e0f4422ceba706,align," $ovn_encap_type = 'geneve', $ovn_encap_tos = undef, $ovn_bridge_mappings = [], $bridge_interface_mappings = [], $hostname = $::fqdn, $ovn_bridge = 'br-int', $mac_table_size = undef, $datapath_type = undef, $enable_dpdk = false, $ovn_cms_options = undef, $ovn_remote_probe_interval = 60000, $ovn_openflow_probe_interval = 60, $ovn_transport_zones = [], $enable_ovn_match_northd = false, $ovn_chassis_mac_map = [], $ovn_monitor_all = false, $manage_ovs_bridge = true,"," $ovn_encap_type = 'geneve', $ovn_encap_tos = undef, $ovn_bridge_mappings = [], $bridge_interface_mappings = [], $hostname = $::fqdn, $ovn_bridge = 'br-int', $mac_table_size = undef, $datapath_type = undef, $enable_dpdk = false, $ovn_cms_options = undef, $ovn_remote_probe_interval = 60000, $ovn_openflow_probe_interval = 60, $ovn_transport_zones = [], $enable_ovn_match_northd = false, $ovn_chassis_mac_map = [], $ovn_monitor_all = false, $manage_ovs_bridge = true,",17,17
openstack%2Freleases~865583,openstack/releases,master,I053ce436bf43f194c5b909cc756283b043442651,Release OpenSTack-Ansible for Wallaby EM,MERGED,2022-11-24 16:17:06.000000000,2022-11-25 14:50:18.000000000,2022-11-25 14:50:18.000000000,"[{'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 16:17:06.000000000', 'files': ['deliverables/wallaby/openstack-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/dff995375231b2c7ceef991116848dda488e2ade', 'message': 'Release OpenSTack-Ansible for Wallaby EM\n\nSince EM is not ""independant"" release and must be based on some other\ntag - creating such tag that is designed for EM only.\n\nChange-Id: I053ce436bf43f194c5b909cc756283b043442651\n'}]",1,865583,dff995375231b2c7ceef991116848dda488e2ade,8,3,1,28619,,,0,"Release OpenSTack-Ansible for Wallaby EM

Since EM is not ""independant"" release and must be based on some other
tag - creating such tag that is designed for EM only.

Change-Id: I053ce436bf43f194c5b909cc756283b043442651
",git fetch https://review.opendev.org/openstack/releases refs/changes/83/865583/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/wallaby/openstack-ansible.yaml'],1,dff995375231b2c7ceef991116848dda488e2ade,, - version: 23.4.4 projects: - repo: openstack/openstack-ansible hash: 91f0009dcbd45e0828f6d47e70930c524b37fc5d,,4,0
openstack%2Fpuppet-openstack_spec_helper~848537,openstack/puppet-openstack_spec_helper,master,I195165dd2e4d0e7806ad56d6e417d34f458f09dd,Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal),MERGED,2022-07-03 15:31:04.000000000,2022-11-25 14:29:32.000000000,2022-11-25 14:29:32.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-03 15:31:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/d2a1dbbaf7053a82dfa731bf83e74f65dd2f240c', 'message': 'Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)\n\n... because the Zed release is supposed to be available for only 22.04.\n\nChange-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd\n'}, {'number': 2, 'created': '2022-08-17 02:06:54.000000000', 'files': ['lib/puppet-openstack_spec_helper/defaults.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/b1eafc75f0ed78cfdcbc3fff8098b6249c82d7ee', 'message': 'Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)\n\n... because the Zed release is supposed to be available for only 22.04.\n\nChange-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd\n'}]",0,848537,b1eafc75f0ed78cfdcbc3fff8098b6249c82d7ee,13,4,2,9816,,,0,"Ubuntu: Use 22.04 (jammy) instead of 20.04 (focal)

... because the Zed release is supposed to be available for only 22.04.

Change-Id: I195165dd2e4d0e7806ad56d6e417d34f458f09dd
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/37/848537/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet-openstack_spec_helper/defaults.rb'],1,d2a1dbbaf7053a82dfa731bf83e74f65dd2f240c,puppet-jammy," 'operatingsystemrelease' => [ '22.04' ] },"," 'operatingsystemrelease' => [ '20.04' ] },",1,1
openstack%2Fpuppet-zaqar~865142,openstack/puppet-zaqar,master,Ia13da06587e9d44049945952fb754333a529b0ef,Remove logic for CentOS 8/RHEL 8,MERGED,2022-11-21 14:56:09.000000000,2022-11-25 14:10:03.000000000,2022-11-25 14:10:03.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 14:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/f5b637ca150bad09afad044424f4a91a9848d82d', 'message': 'Remove logic for CentOS < 9\n\n... because RDO supports CentOS Stream 9 (aka CentOS 9) only since Zed.\n\nChange-Id: Ia13da06587e9d44049945952fb754333a529b0ef\n'}, {'number': 2, 'created': '2022-11-21 14:57:41.000000000', 'files': ['spec/classes/zaqar_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-zaqar/commit/9d64b592bacf088f1a8b7d15c3858d87640632ae', 'message': 'Remove logic for CentOS 8/RHEL 8\n\n... because CentOS 8 and RHEL 8 are no longer supported by RDO since\nZed release.\n\nChange-Id: Ia13da06587e9d44049945952fb754333a529b0ef\n'}]",0,865142,9d64b592bacf088f1a8b7d15c3858d87640632ae,8,3,2,9816,,,0,"Remove logic for CentOS 8/RHEL 8

... because CentOS 8 and RHEL 8 are no longer supported by RDO since
Zed release.

Change-Id: Ia13da06587e9d44049945952fb754333a529b0ef
",git fetch https://review.opendev.org/openstack/puppet-zaqar refs/changes/42/865142/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/classes/zaqar_wsgi_apache_spec.rb'],1,f5b637ca150bad09afad044424f4a91a9848d82d,puppet-c8-cleanup," { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.9/site-packages/zaqar/transport/wsgi/app.py' }"," if facts[:operatingsystemmajrelease].to_i > 8 { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.9/site-packages/zaqar/transport/wsgi/app.py' } else { :wsgi_script_path => '/var/www/cgi-bin/zaqar', :wsgi_script_source => '/usr/lib/python3.6/site-packages/zaqar/transport/wsgi/app.py' } end",4,11
openstack%2Fhorizon~865474,openstack/horizon,master,I1a5a46d7be12ed179474a6a74647d0872b27b492,Fix preselection for launch Instance dialog,MERGED,2022-11-23 21:55:35.000000000,2022-11-25 13:50:38.000000000,2022-11-25 13:49:33.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-23 21:55:35.000000000', 'files': ['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/452c37dd369d2fa4c0dac9da1aba53bf1da89a30', 'message': 'Fix preselection for launch Instance dialog\n\nLaunch instance from a volumes/volume snapshot/instance snapshot\nshould open a dialog with preselected boot source. However the\ndialog shows Image as selected boot source in any case, discarding\nthe preselection.\n\nThis patch fixes it, explicitly changing the boot source according to\nthe preselection.\n\nChange-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492\n'}]",1,865474,452c37dd369d2fa4c0dac9da1aba53bf1da89a30,8,3,1,6914,,,0,"Fix preselection for launch Instance dialog

Launch instance from a volumes/volume snapshot/instance snapshot
should open a dialog with preselected boot source. However the
dialog shows Image as selected boot source in any case, discarding
the preselection.

This patch fixes it, explicitly changing the boot source according to
the preselection.

Change-Id: I1a5a46d7be12ed179474a6a74647d0872b27b492
",git fetch https://review.opendev.org/openstack/horizon refs/changes/74/865474/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack_dashboard/dashboards/project/static/dashboard/project/workflow/launch-instance/source/source.controller.js'],1,452c37dd369d2fa4c0dac9da1aba53bf1da89a30,launch_from_volume, // and update the table for the new source selection. The default value is function updateBootSource(newValue) { // Update the initial boot source selection when launching from a preselected source for (var index = 0; index < $scope.model.allowedBootSources.length; index++) { if ($scope.model.allowedBootSources[index].type === key) { $scope.model.allowedBootSources[index].selected = true; } else { $scope.model.allowedBootSources[index].selected = false; } }, // and update the table for the new source selection. The devault value is function changeBootSource(newValue) {,11,2
openstack%2Fopenstack-ansible-ops~864258,openstack/openstack-ansible-ops,master,I0231b0b00277f306066d4827988f9640d9a1fba7,kibana: fix installation on ubuntu jammy and other py3 only systems,MERGED,2022-11-11 10:29:50.000000000,2022-11-25 13:32:23.000000000,2022-11-25 13:31:25.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-11 10:29:50.000000000', 'files': ['elk_metrics_7x/roles/elastic_kibana/vars/ubuntu-18.04.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-ops/commit/2f1449b04c423861cf79ccfe8a793f71db358943', 'message': 'kibana: fix installation on ubuntu jammy and other py3 only systems\n\nChange-Id: I0231b0b00277f306066d4827988f9640d9a1fba7\n'}]",0,864258,2f1449b04c423861cf79ccfe8a793f71db358943,8,3,1,31542,,,0,"kibana: fix installation on ubuntu jammy and other py3 only systems

Change-Id: I0231b0b00277f306066d4827988f9640d9a1fba7
",git fetch https://review.opendev.org/openstack/openstack-ansible-ops refs/changes/58/864258/1 && git format-patch -1 --stdout FETCH_HEAD,"['elk_metrics_7x/roles/elastic_kibana/vars/ubuntu-18.04.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/suse.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/redhat.yml', 'elk_metrics_7x/roles/elastic_kibana/vars/ubuntu.yml']",4,2f1449b04c423861cf79ccfe8a793f71db358943,, - python3-passlib, - python-passlib,24,3
openstack%2Fneutron~865161,openstack/neutron,stable/xena,I27af495f96a3ea88dd31345dbfb55f1be8faabd6,ovn: Use ovsdb-client to create neutron_pg_drop,MERGED,2022-11-22 15:40:36.000000000,2022-11-25 13:31:12.000000000,2022-11-25 13:29:59.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:40:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/67673846bcd9b0c2611f5e532ce0f2ec391abbe0', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/common/ovn/test_utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n'}, {'number': 2, 'created': '2022-11-22 15:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6c5e6d2c3606701834f9f0b35442b7609620212', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/common/ovn/test_utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n(cherry picked from commit 454355fd3cbbc91e10e75cb62e5b221f809367c8)\n'}, {'number': 3, 'created': '2022-11-22 18:18:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ceefdfa982339306ccd673b6a31aa56535524245', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/common/ovn/test_utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n(cherry picked from commit 454355fd3cbbc91e10e75cb62e5b221f809367c8)\n'}, {'number': 4, 'created': '2022-11-22 22:05:06.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/798f05af4ef83ce496f0bcca848c61967e548b21', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n(cherry picked from commit 0d0e6cd47b7a0f53d9eb1549eed4e540f76508c9)\n'}]",11,865161,798f05af4ef83ce496f0bcca848c61967e548b21,25,3,4,8655,,,0,"ovn: Use ovsdb-client to create neutron_pg_drop

Previously we used short living OVN database connection to create
neutron_pg_drop Port Group before workers were spawned. The
pre_fork_initialize actually happens after the api workers are spawned
anyways and it blocks spawning of other workers, such as maintenance,
rpc or periodic. If the OVN database was large it may take several
minutes to connect to the database at scale and this blocks spawning of
other workers. That means connecting to OVN in pre_fork is not a good
idea.

This patch replaces the mechanism by using ovsdb-client to send a
transaction without connecting to the database and downloading the whole
content. The command does following, everything is on the server side:

 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is
    present, the transaction finishes and nothing happens.

 2) If the PG is not present, it times out immediately and commits new
    entries that effectivelly creates neutron_pg_drop Port Group with
    implicit ACLs to block ingress and egress traffic.

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Closes-Bug: #1991579
Co-Authored-By: Terry Wilson <twilson@redhat.com>

Change-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6
(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)
(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)
(cherry picked from commit 0d0e6cd47b7a0f53d9eb1549eed4e540f76508c9)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/61/865161/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,67673846bcd9b0c2611f5e532ce0f2ec391abbe0,bug/1991579-xena," ovn_utils.create_neutron_pg_drop() cmd = [ ""OVN_Southbound"", { ""op"": ""delete"", ""table"": ""MAC_Binding"", ""where"": [ [""ip"", ""=="", external_ip] ] } ] return ovn_utils.OvsdbClientTransactCommand.run(cmd)","from oslo_concurrency import processutilsfrom neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor self._create_neutron_pg_drop() def _create_neutron_pg_drop(self): """"""Create neutron_pg_drop Port Group. The method creates a short living connection to the Northbound database. Because of multiple controllers can attempt to create the Port Group at the same time the transaction can fail and raise RuntimeError. In such case, we make sure the Port Group was created, otherwise the error is something else and it's raised to the caller. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), self.nb_schema_helper, self) # Only one server should try to create the port group idl.set_lock('pg_drop_creation') with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as pre_ovn_nb_api: try: create_default_drop_port_group(pre_ovn_nb_api) except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass except RuntimeError as re: # If we don't get the lock, and the port group didn't exist # when we tried to create it, it might still have been # created by another server and we just haven't gotten the # update yet. LOG.info(""Waiting for Port Group %(pg)s to be created"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) if not idl.neutron_pg_drop_event.wait(): LOG.error(""Port Group %(pg)s was not created in time"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) raise re LOG.info(""Porg Group %(pg)s was created by another server"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection(), '--timeout', str(ovn_conf.get_ovn_ovsdb_timeout())] if ovn_conf.get_ovn_sb_private_key(): cmd += ['-p', ovn_conf.get_ovn_sb_private_key(), '-c', ovn_conf.get_ovn_sb_certificate(), '-C', ovn_conf.get_ovn_sb_ca_cert()] cmd += ['[""OVN_Southbound"", {""op"": ""delete"", ""table"": ""MAC_Binding"", ' '""where"": [[""ip"", ""=="", ""%s""]]}]' % external_ip] return processutils.execute(*cmd, log_errors=processutils.LOG_FINAL_ERROR)def create_default_drop_port_group(nb_idl): pg_name = ovn_const.OVN_DROP_PORT_GROUP_NAME if nb_idl.get_port_group(pg_name): LOG.debug(""Port Group %s already exists"", pg_name) return with nb_idl.transaction(check_error=True) as txn: # If drop Port Group doesn't exist yet, create it. txn.add(nb_idl.pg_add(pg_name, acls=[], may_exist=True)) # Add ACLs to this Port Group so that all traffic is dropped. acls = ovn_acl.add_acls_for_drop_port_group(pg_name) for acl in acls: txn.add(nb_idl.pg_acl_add(may_exist=True, **acl)) ports_with_pg = set() for pg in nb_idl.get_sg_port_groups().values(): ports_with_pg.update(pg['ports']) if ports_with_pg: # Add the ports to the default Port Group txn.add(nb_idl.pg_add_ports(pg_name, list(ports_with_pg))) ",606,225
openstack%2Fneutron-dynamic-routing~863713,openstack/neutron-dynamic-routing,master,I335f9440c31a4b63253edb9f8dc32e1ea26678c3,Fix sql queries when using ovn plugin,ABANDONED,2022-11-04 20:22:57.000000000,2022-11-25 13:13:08.000000000,,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-04 20:22:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8e1fea837ddc96582d7ba9c7afcb22d6e991d6b9', 'message': 'OVN: Fix sql queries when using ovn plugin. The RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement. Verified with Openstack Yoga + OVN deployment.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 2, 'created': '2022-11-07 14:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/963bf990172dc4e201b734db41a2af017751a95a', 'message': 'Fix sql queries when using ovn plugin\n\nFix sql queries when using ovn plugin. The RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement. Verified with Openstack Yoga + OVN deployment.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 3, 'created': '2022-11-07 14:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/731c93aa0ccf9b7aada8d6bc33c50efbb5b75e5b', 'message': 'Fix sql queries when using ovn plugin\n\nFix sql queries when using ovn plugin. The RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement. Verified with Openstack Yoga + OVN deployment.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 4, 'created': '2022-11-07 14:39:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/fb2ba1a18724288cc350368520e7c8ca6af7531c', 'message': 'Fix sql queries when using ovn plugin\n\nFix sql queries when using ovn plugin. The RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 5, 'created': '2022-11-07 14:59:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ae19caf6a4d3a815d93b4e6239f2ace61c9e9c7a', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 6, 'created': '2022-11-07 16:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/549a14e202392860bb33c78160cf0f09744082aa', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 7, 'created': '2022-11-07 17:33:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d8a5ddfc1ae108de335546711a33310319b27d8e', 'message': 'Fix sql queries when using ovn plugin\n\nFix sql queries when using ovn plugin. The RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement. Verified with Openstack Yoga + OVN deployment.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 8, 'created': '2022-11-07 19:22:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/ebd4b1d9e5609b39205bdce295d1082621c0c183', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 9, 'created': '2022-11-08 11:18:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9edea2f4c568f0ab5742cecca4e195aac939174d', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 10, 'created': '2022-11-08 11:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/427cd5dfb2b1fd6b93a8af18bb7318139d081266', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 11, 'created': '2022-11-08 11:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/c385cda1189f9acbf3cf07d5608b371b325405b1', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case and must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}, {'number': 12, 'created': '2022-11-10 13:07:18.000000000', 'files': ['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/3c05adc89ed19c8eb15216ff039f55959a74ddff', 'message': 'Fix sql queries when using ovn plugin\n\nThe RouterExtraAttributes table is not populated by neutron in this case\nand must be skipped including the always true statement.\n\nChange-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3\n'}]",25,863713,3c05adc89ed19c8eb15216ff039f55959a74ddff,31,4,12,35432,,,0,"Fix sql queries when using ovn plugin

The RouterExtraAttributes table is not populated by neutron in this case
and must be skipped including the always true statement.

Change-Id: I335f9440c31a4b63253edb9f8dc32e1ea26678c3
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/13/863713/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/services/bgp/bgp_plugin.py', 'neutron_dynamic_routing/db/bgp_db.py']",2,8e1fea837ddc96582d7ba9c7afcb22d6e991d6b9,,from neutron.common.ovn import utils if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.Router.id router_attrs.distributed = False if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.Router.id router_attrs.distributed = False if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.Router.id router_attrs.distributed = False if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.FloatingIP.router_id router_attrs.distributed = True if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.RouterPort.router_id if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.RouterPort.router_id if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.RouterPort.router_id if utils.is_ovn_l3(self.l3_plugin): router_attrs.router_id = l3_db.Router.id,,24,0
openstack%2Fneutron~865135,openstack/neutron,stable/yoga,Iadf191e3fb995f04ca303278496d085f7970e672,"Since OVN 20.06, config is stored in ""Chassis.other_config""",ABANDONED,2022-11-21 13:55:23.000000000,2022-11-25 11:57:51.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 13:55:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c49624c4aa9cc82492499edd6591441baf2f0bce', 'message': 'Since OVN 20.06, config is stored in ""Chassis.other_config""\n\nSince OVN 20.06 [1], the OVN configuration is stored in\n""Chassis.other_config"".\n\nSince OVN 22.09, the ""Chassis"" configuration stored in\n""Chassis.other_config"" will not be replicated to\n""Chassis.external_ids"".\n\nThe ML2/OVN plugin tries to retrieve the ""Chassis""\nconfiguration from the ""other_config"" field first; if this\nfield does not exist (in OVN versions before 20.06), the plugin\nwill use ""external_ids"" field instead. Neutron will be compatible\nwith the different OVN versions (with and without ""other_config""\nfield).\n\n[1]https://github.com/ovn-org/ovn/commit/74d90c2223d0a8c123823fb849b4c2de58c296e4\n[2]https://github.com/ovn-org/ovn/commit/51309429cc3032a0cb422603e7bbda4905ca01ae\n\nNOTE: this patch is similar to [1], but in this case neutron keeps\ncompatibility with the different OVN versions (with and without\n""other_config"" field). Since [2], the Neutron CI has a new job that\nuses the OVN/OVS packages distributed by the operating system\ninstalled by the CI (in this case, Ubuntu 20.04 and OVN 20.03).\n\n[1]https://review.opendev.org/c/openstack/neutron/+/859642\n[2]https://review.opendev.org/c/openstack/neutron/+/860636\n\nCloses-Bug: #1990229\n(cherry picked from commit 536498a29a4e7662a4d0b1bb923e2521509ad77a)\nChange-Id: Iadf191e3fb995f04ca303278496d085f7970e672\n'}, {'number': 2, 'created': '2022-11-24 09:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60b281ef8c44143ee991f684932d9c87dc1908ed', 'message': 'Since OVN 20.06, config is stored in ""Chassis.other_config""\n\nSince OVN 20.06 [1], the OVN configuration is stored in\n""Chassis.other_config"".\n\nSince OVN 22.09, the ""Chassis"" configuration stored in\n""Chassis.other_config"" will not be replicated to\n""Chassis.external_ids"".\n\nThe ML2/OVN plugin tries to retrieve the ""Chassis""\nconfiguration from the ""other_config"" field first; if this\nfield does not exist (in OVN versions before 20.06), the plugin\nwill use ""external_ids"" field instead. Neutron will be compatible\nwith the different OVN versions (with and without ""other_config""\nfield).\n\n[1]https://github.com/ovn-org/ovn/commit/74d90c2223d0a8c123823fb849b4c2de58c296e4\n[2]https://github.com/ovn-org/ovn/commit/51309429cc3032a0cb422603e7bbda4905ca01ae\n\nNOTE: this patch is similar to [1], but in this case neutron keeps\ncompatibility with the different OVN versions (with and without\n""other_config"" field). Since [2], the Neutron CI has a new job that\nuses the OVN/OVS packages distributed by the operating system\ninstalled by the CI (in this case, Ubuntu 20.04 and OVN 20.03).\n\n[1]https://review.opendev.org/c/openstack/neutron/+/859642\n[2]https://review.opendev.org/c/openstack/neutron/+/860636\n\nCloses-Bug: #1990229\n(cherry picked from commit 536498a29a4e7662a4d0b1bb923e2521509ad77a)\nChange-Id: Iadf191e3fb995f04ca303278496d085f7970e672\n'}, {'number': 3, 'created': '2022-11-24 12:18:52.000000000', 'files': ['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'releasenotes/notes/ovn-chassis-other-config-7db15b9d10bf7f04.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1722b2e11c09b1dff94100512ae29db80e75292c', 'message': 'Since OVN 20.06, config is stored in ""Chassis.other_config""\n\nSince OVN 20.06 [1], the OVN configuration is stored in\n""Chassis.other_config"".\n\nSince OVN 22.09, the ""Chassis"" configuration stored in\n""Chassis.other_config"" will not be replicated to\n""Chassis.external_ids"".\n\nThe ML2/OVN plugin tries to retrieve the ""Chassis""\nconfiguration from the ""other_config"" field first; if this\nfield does not exist (in OVN versions before 20.06), the plugin\nwill use ""external_ids"" field instead. Neutron will be compatible\nwith the different OVN versions (with and without ""other_config""\nfield).\n\n[1]https://github.com/ovn-org/ovn/commit/74d90c2223d0a8c123823fb849b4c2de58c296e4\n[2]https://github.com/ovn-org/ovn/commit/51309429cc3032a0cb422603e7bbda4905ca01ae\n\nNOTE: this patch is similar to [1], but in this case neutron keeps\ncompatibility with the different OVN versions (with and without\n""other_config"" field). Since [2], the Neutron CI has a new job that\nuses the OVN/OVS packages distributed by the operating system\ninstalled by the CI (in this case, Ubuntu 20.04 and OVN 20.03).\n\n[1]https://review.opendev.org/c/openstack/neutron/+/859642\n[2]https://review.opendev.org/c/openstack/neutron/+/860636\n\nCloses-Bug: #1990229\n(cherry picked from commit 536498a29a4e7662a4d0b1bb923e2521509ad77a)\nChange-Id: Iadf191e3fb995f04ca303278496d085f7970e672\n'}]",5,865135,1722b2e11c09b1dff94100512ae29db80e75292c,16,2,3,29074,,,0,"Since OVN 20.06, config is stored in ""Chassis.other_config""

Since OVN 20.06 [1], the OVN configuration is stored in
""Chassis.other_config"".

Since OVN 22.09, the ""Chassis"" configuration stored in
""Chassis.other_config"" will not be replicated to
""Chassis.external_ids"".

The ML2/OVN plugin tries to retrieve the ""Chassis""
configuration from the ""other_config"" field first; if this
field does not exist (in OVN versions before 20.06), the plugin
will use ""external_ids"" field instead. Neutron will be compatible
with the different OVN versions (with and without ""other_config""
field).

[1]https://github.com/ovn-org/ovn/commit/74d90c2223d0a8c123823fb849b4c2de58c296e4
[2]https://github.com/ovn-org/ovn/commit/51309429cc3032a0cb422603e7bbda4905ca01ae

NOTE: this patch is similar to [1], but in this case neutron keeps
compatibility with the different OVN versions (with and without
""other_config"" field). Since [2], the Neutron CI has a new job that
uses the OVN/OVS packages distributed by the operating system
installed by the CI (in this case, Ubuntu 20.04 and OVN 20.03).

[1]https://review.opendev.org/c/openstack/neutron/+/859642
[2]https://review.opendev.org/c/openstack/neutron/+/860636

Closes-Bug: #1990229
(cherry picked from commit 536498a29a4e7662a4d0b1bb923e2521509ad77a)
Change-Id: Iadf191e3fb995f04ca303278496d085f7970e672
",git fetch https://review.opendev.org/openstack/neutron refs/changes/35/865135/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/services/ovn_l3/test_plugin.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_placement.py', 'neutron/plugins/ml2/drivers/ovn/agent/neutron_agent.py', 'neutron/tests/functional/base.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'releasenotes/notes/ovn-chassis-other-config-7db15b9d10bf7f04.yaml', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/placement.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl_ovn.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/agent/test_neutron_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",19,c49624c4aa9cc82492499edd6591441baf2f0bce,bug/1990229-stable/zed-stable/yoga," {'other_config': {'ovn-bridge-mappings': {'other_config': {'ovn-bridge-mappings': {'other_config': {'ovn-bridge-mappings': other_config=chassis['other_config'])) {'other_config': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}}"," {'external_ids': {'ovn-bridge-mappings': {'external_ids': {'ovn-bridge-mappings': {'external_ids': {'ovn-bridge-mappings': external_ids=chassis['external_ids'])) {'external_ids': {'ovn-bridge-mappings': 'p1:br-ex,p2:br-ex'}}",150,97
openstack%2Fneutron~865011,openstack/neutron,stable/ussuri,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:21:25.000000000,2022-11-25 11:30:43.000000000,2022-11-25 11:29:21.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c221531827cac580d3e027971f44a0c58ef29a2c', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}, {'number': 2, 'created': '2022-11-18 11:55:26.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4c124667c41727e5dd3af9026c27d5a8905c49b7', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",10,865011,4c124667c41727e5dd3af9026c27d5a8905c49b7,25,3,2,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/11/865011/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,c221531827cac580d3e027971f44a0c58ef29a2c,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Ftripleo-heat-templates~850884,openstack/tripleo-heat-templates,master,I694dd9b691e434e6496a7ef8c77b881eee910eaa,Designate/Octavia: Use HA Redis by default,MERGED,2022-07-25 13:10:52.000000000,2022-11-25 11:25:06.000000000,2022-11-25 11:25:06.000000000,"[{'_account_id': 6681}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-25 13:10:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1f604bafaba054fc773d42b5d550c4c0f6644891', 'message': 'Designate/Octavia: Use HA Redis by default\n\nSince b0e70081968c96af04d2858d040f97a67115391f was merged, we use\npacemaker to manage a few HA services like mysql by default. This is\nmore suitable for overcloud deployments with HA implemented. This\nfollows that direction and makes sure HA Redis, instead of standalone\nRedis, is used by environment files to enable Designate and Octavia.\n\nThis change also updates the standalone test so that we test Designate\nand Octavia with HA Redis, instead of standalone Redis, as we expect\nHA Redis will be more generally used.\n\nChange-Id: I694dd9b691e434e6496a7ef8c77b881eee910eaa\n'}, {'number': 2, 'created': '2022-07-26 00:51:53.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'environments/enable-designate.yaml', 'environments/services/octavia.yaml', 'ci/environments/scenario003-standalone.yaml', 'environments/services/designate.yaml', 'environments/services-baremetal/octavia.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fdb85e2cd58a69d243fc827497e62d2f2516bc82', 'message': 'Designate/Octavia: Use HA Redis by default\n\nSince b0e70081968c96af04d2858d040f97a67115391f was merged, we use\npacemaker to manage a few HA services like mysql by default. This is\nmore suitable for overcloud deployments with HA implemented. This\nfollows that direction and makes sure HA Redis, instead of standalone\nRedis, is used by environment files to enable Designate and Octavia.\n\nThis change also updates the standalone test so that we test Designate\nand Octavia with HA Redis, instead of standalone Redis, as we expect\nHA Redis will be more generally used.\n\nChange-Id: I694dd9b691e434e6496a7ef8c77b881eee910eaa\n'}]",4,850884,fdb85e2cd58a69d243fc827497e62d2f2516bc82,14,4,2,9816,,,0,"Designate/Octavia: Use HA Redis by default

Since b0e70081968c96af04d2858d040f97a67115391f was merged, we use
pacemaker to manage a few HA services like mysql by default. This is
more suitable for overcloud deployments with HA implemented. This
follows that direction and makes sure HA Redis, instead of standalone
Redis, is used by environment files to enable Designate and Octavia.

This change also updates the standalone test so that we test Designate
and Octavia with HA Redis, instead of standalone Redis, as we expect
HA Redis will be more generally used.

Change-Id: I694dd9b691e434e6496a7ef8c77b881eee910eaa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/850884/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario012-standalone.yaml', 'environments/enable-designate.yaml', 'environments/services/octavia.yaml', 'ci/environments/scenario003-standalone.yaml', 'environments/services/designate.yaml', 'environments/services-baremetal/octavia.yaml']",6,1f604bafaba054fc773d42b5d550c4c0f6644891,, OS::TripleO::Services::Redis: ../../deployment/database/redis-pacemaker-puppet.yaml, OS::TripleO::Services::Redis: ../../deployment/database/redis-container-puppet.yaml,6,6
openstack%2Fneutron~865162,openstack/neutron,stable/xena,I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a,Delete MAC binding for LRP when the port is deleted,MERGED,2022-11-22 15:44:43.000000000,2022-11-25 11:08:24.000000000,2022-11-25 11:07:04.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 34125}]","[{'number': 1, 'created': '2022-11-22 15:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b09f78c38ebb1d1e53cac1899a72e9cb116b7c28', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)\n'}, {'number': 2, 'created': '2022-11-22 22:05:06.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c95d541518300203fb1bdd23b3b47bbf862bbd76', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)\n(cherry picked from commit b09f78c38ebb1d1e53cac1899a72e9cb116b7c28)\n'}]",6,865162,c95d541518300203fb1bdd23b3b47bbf862bbd76,28,4,2,8655,,,0,"Delete MAC binding for LRP when the port is deleted

If router_A connect subnet by ip <x.x.x.x> and
there are packets through it when always_learn_from_arp_request
is set to False(patch[1]), the mac_binding table of ovn south
db will learn mac address of <x.x.x.x>.
If disconnect the subnet, the mac of <x.x.x.x> still
exits in mac_binding table. When reconnecting subnet by
the same ip as <x.x.x.x>, the mac_binding can not
update the mac of <x.x.x.x> to the latest mac address.
This will cause packets that need pass <x.x.x.x>
can not normal arrival destination address.
Fix it by clearing mac address of the <x.x.x.x> in
mac_binding tables when disconnects the subnet.

[1]https://review.opendev.org/c/openstack/neutron/+/814421

Closes-Bug: #1954771
Change-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a
(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)
(cherry picked from commit b09f78c38ebb1d1e53cac1899a72e9cb116b7c28)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/62/865162/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,b09f78c38ebb1d1e53cac1899a72e9cb116b7c28,bug/1991579-xena," self._start_mock( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.ovn_client.' 'OVNClient.delete_mac_binding_entries_by_mac', return_value=1) self._start_mock( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.ovn_client.' 'OVNClient.delete_mac_binding_entries_by_mac', return_value=1)",,35,0
openstack%2Fneutron~815093,openstack/neutron,master,I9bfdd7f5eebcddbb5b39e089e6956742db866c63,Configure placement credentials for segments plugin,MERGED,2021-10-22 07:26:36.000000000,2022-11-25 11:08:23.000000000,2022-11-25 11:06:59.000000000,"[{'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2021-10-22 07:26:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04a3365f4fb97c6eb06a04b61f8f378207ea93f3', 'message': 'Configure placement credentials for segments plugin\n\nCall configure_placement_neutron to fill all the placement related\nsettings in neutron.conf if segments service plugin is enabled.\n\nChange-Id: I9bfdd7f5eebcddbb5b39e089e6956742db866c63\n'}, {'number': 2, 'created': '2022-11-24 13:09:25.000000000', 'files': ['devstack/lib/segments'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7a7448ead416a55dfdfaec5233bedf181b1fa465', 'message': 'Configure placement credentials for segments plugin\n\nCall configure_placement_neutron to fill all the placement related\nsettings in neutron.conf if segments service plugin is enabled.\n\nChange-Id: I9bfdd7f5eebcddbb5b39e089e6956742db866c63\n'}]",7,815093,7a7448ead416a55dfdfaec5233bedf181b1fa465,32,4,2,8313,,,0,"Configure placement credentials for segments plugin

Call configure_placement_neutron to fill all the placement related
settings in neutron.conf if segments service plugin is enabled.

Change-Id: I9bfdd7f5eebcddbb5b39e089e6956742db866c63
",git fetch https://review.opendev.org/openstack/neutron refs/changes/93/815093/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/segments'],1,04a3365f4fb97c6eb06a04b61f8f378207ea93f3,segments, configure_placement_neutron,,1,0
openstack%2Fskyline-console~865623,openstack/skyline-console,master,Iab9a7c5c2e609d8794369ea52c7c07e0b0d941e8,fix: fix the instance-volume in form items,MERGED,2022-11-25 07:36:56.000000000,2022-11-25 10:54:20.000000000,2022-11-25 10:53:19.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-25 07:36:56.000000000', 'files': ['src/components/FormItem/InstanceVolume/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/8401c5b5461f760b87e48844de1f0721f9163630', 'message': 'fix: fix the instance-volume in form items\n\nfix the delete checkbox to get better extensions\n\nChange-Id: Iab9a7c5c2e609d8794369ea52c7c07e0b0d941e8\n'}]",0,865623,8401c5b5461f760b87e48844de1f0721f9163630,8,3,1,33689,,,0,"fix: fix the instance-volume in form items

fix the delete checkbox to get better extensions

Change-Id: Iab9a7c5c2e609d8794369ea52c7c07e0b0d941e8
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/23/865623/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/FormItem/InstanceVolume/index.jsx'],1,8401c5b5461f760b87e48844de1f0721f9163630,fix-instance-volume," const { name, showDelete = true } = this.props; const checkbox = showDelete ? ( ) : null;", const { name } = this.props; const checkbox = ( );,3,3
openstack%2Frpm-packaging~862224,openstack/rpm-packaging,stable/wallaby,I2ce365ac2117341cce699c9d8f9942037924858d,[wallaby] update sushy to 3.7.5,ABANDONED,2022-10-21 06:45:20.000000000,2022-11-25 10:30:59.000000000,,"[{'_account_id': 6593}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-10-21 06:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c01d777432d10f61de2f91999e32e6e7e1a1c3a2', 'message': '[wallaby] update sushy tp 3.12.2\n\nChange-Id: I2ce365ac2117341cce699c9d8f9942037924858d\n'}, {'number': 2, 'created': '2022-10-21 06:45:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3262bdb203777ab22d5094269026f9a7ce5dacc2', 'message': '[wallaby] update sushy to 3.12.2\n\nChange-Id: I2ce365ac2117341cce699c9d8f9942037924858d\n'}, {'number': 3, 'created': '2022-10-21 06:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/afc773e3ad4cd918c1d80c9fe040dbcf355c0cee', 'message': '[wallaby] update sushy to 3.7.5\n\nChange-Id: I2ce365ac2117341cce699c9d8f9942037924858d\n'}]",2,862224,afc773e3ad4cd918c1d80c9fe040dbcf355c0cee,10,4,3,23851,,,0,"[wallaby] update sushy to 3.7.5

Change-Id: I2ce365ac2117341cce699c9d8f9942037924858d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/24/862224/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,c01d777432d10f61de2f91999e32e6e7e1a1c3a2,sushy-wallaby-375,{% set upstream_version = upstream_version('3.12.2') %},{% set upstream_version = upstream_version('3.7.5') %},1,1
openstack%2Ftempest~685039,openstack/tempest,master,I144c3f9d0e24297618552e76edb2c124caaeda2f,Wait for ports to be ready,ABANDONED,2019-09-26 11:21:11.000000000,2022-11-25 10:27:21.000000000,,"[{'_account_id': 8556}, {'_account_id': 9732}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-09-26 11:21:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/42fae1cb7731c5e4b3a7c881d8d634fe812fc7f8', 'message': ""Wait for ports to be ready\n\ntest_network_basic_ops would often fail for me. It turns out my vm's\nport was often still in BUILD state. Adding a retry loop to wait for it\nto be ready.\n\nChange-Id: I144c3f9d0e24297618552e76edb2c124caaeda2f\n""}, {'number': 2, 'created': '2019-09-26 11:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/70be4363fb604d91d50504460165f9ab4e9ce94e', 'message': ""Wait for ports to be ready\n\ntest_network_basic_ops would often fail for me. It turns out my vm's\nport was often still in BUILD state. Adding a retry loop to wait for it\nto be ready.\n\nFixes #1845486\n\nChange-Id: I144c3f9d0e24297618552e76edb2c124caaeda2f\n""}, {'number': 3, 'created': '2019-09-26 11:24:03.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/42f4a17301827eb3b9dffe0d9fcbeac5b82a1745', 'message': ""Wait for ports to be ready\n\ntest_network_basic_ops would often fail for me. It turns out my vm's\nport was often still in BUILD state. Adding a retry loop to wait for it\nto be ready.\n\nCloses-Bug: #1845486\nChange-Id: I144c3f9d0e24297618552e76edb2c124caaeda2f\n""}]",1,685039,42f4a17301827eb3b9dffe0d9fcbeac5b82a1745,7,3,3,518,,,0,"Wait for ports to be ready

test_network_basic_ops would often fail for me. It turns out my vm's
port was often still in BUILD state. Adding a retry loop to wait for it
to be ready.

Closes-Bug: #1845486
Change-Id: I144c3f9d0e24297618552e76edb2c124caaeda2f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/39/685039/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,42fae1cb7731c5e4b3a7c881d8d634fe812fc7f8,bug/1845486,"import time vars = {} def refresh(vars=vars): if ip_addr: ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ips='ip_address=%s' % ip_addr)['ports'] else: ports = self.os_admin.ports_client.list_ports( device_id=server['id'])['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if (netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status)] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive) vars['ports'] = ports vars['port_map'] = port_map return len(port_map) != 0 test_utils.call_until_true(refresh, CONF.network.build_timeout, CONF.network.build_interval) ports = vars['ports'] port_map = vars['port_map']"," if ip_addr: ports = self.os_admin.ports_client.list_ports( device_id=server['id'], fixed_ips='ip_address=%s' % ip_addr)['ports'] else: ports = self.os_admin.ports_client.list_ports( device_id=server['id'])['ports'] # A port can have more than one IP address in some cases. # If the network is dual-stack (IPv4 + IPv6), this port is associated # with 2 subnets p_status = ['ACTIVE'] # NOTE(vsaienko) With Ironic, instances live on separate hardware # servers. Neutron does not bind ports for Ironic instances, as a # result the port remains in the DOWN state. # TODO(vsaienko) remove once bug: #1599836 is resolved. if getattr(CONF.service_available, 'ironic', False): p_status.append('DOWN') port_map = [(p[""id""], fxip[""ip_address""]) for p in ports for fxip in p[""fixed_ips""] if (netutils.is_valid_ipv4(fxip[""ip_address""]) and p['status'] in p_status)] inactive = [p for p in ports if p['status'] != 'ACTIVE'] if inactive: LOG.warning(""Instance has ports that are not ACTIVE: %s"", inactive)",37,25
openstack%2Fbarbican~865550,openstack/barbican,stable/xena,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-24 13:13:22.000000000,2022-11-25 10:21:23.000000000,2022-11-25 10:20:18.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:13:22.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/e32e2e421b00482d26f7e263855b0555ca8a94c5', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)\n'}]",1,865550,e32e2e421b00482d26f7e263855b0555ca8a94c5,9,2,1,14250,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/50/865550/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,e32e2e421b00482d26f7e263855b0555ca8a94c5,policy-system-admin-typo-stable/xena," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Fbarbican~865409,openstack/barbican,stable/yoga,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-24 13:12:59.000000000,2022-11-25 10:21:13.000000000,2022-11-25 10:20:12.000000000,"[{'_account_id': 9914}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 13:12:59.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)\n'}]",0,865409,f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a,7,2,1,14250,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/09/865409/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,f5147debb9af3eb9b5a9ce61d8c5177470bdfc9a,policy-system-admin-typo-stable/yoga," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Ftempest~828938,openstack/tempest,master,I0f3188ac86df359c8f422a2d044e55c484f602aa,"Fix error ""Authentication failed"" when using paramiko>=2.9.0",ABANDONED,2022-02-12 09:40:22.000000000,2022-11-25 10:19:03.000000000,,"[{'_account_id': 8367}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-02-12 09:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c6badb20b3ee5afb1e9d7b85bec333e2e8833c47', 'message': 'Fix error ""Authentication failed"" when using paramiko>=2.9.0\n\nFrom https://www.paramiko.org/changelog.html#2.9.0, there is\nbackwards incompatible change. This patch adds the \'disabled_algorithms\'\nin ssh.connect().\n\nCloses-Bug: #1952997\nChange-Id: I0f3188ac86df359c8f422a2d044e55c484f602aa\n'}, {'number': 2, 'created': '2022-02-14 00:58:55.000000000', 'files': ['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/96f6cc305e2a9a817df5f8d8011104600ff3bf3b', 'message': 'Fix error ""Authentication failed"" when using paramiko>=2.9.0\n\nFrom https://www.paramiko.org/changelog.html#2.9.0, there is\nbackwards incompatible change. This patch adds the \'disabled_algorithms\'\nin ssh.connect().\n\nCloses-Bug: #1952997\nChange-Id: I0f3188ac86df359c8f422a2d044e55c484f602aa\n'}]",2,828938,96f6cc305e2a9a817df5f8d8011104600ff3bf3b,9,4,2,23950,,,0,"Fix error ""Authentication failed"" when using paramiko>=2.9.0

From https://www.paramiko.org/changelog.html#2.9.0, there is
backwards incompatible change. This patch adds the 'disabled_algorithms'
in ssh.connect().

Closes-Bug: #1952997
Change-Id: I0f3188ac86df359c8f422a2d044e55c484f602aa
",git fetch https://review.opendev.org/openstack/tempest refs/changes/38/828938/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/lib/common/ssh.py', 'tempest/tests/lib/test_ssh.py']",2,c6badb20b3ee5afb1e9d7b85bec333e2e8833c47,bug/1952997," sock=None, disabled_algorithms={'pubkeys': ['rsa-sha2-256', 'rsa-sha2-512']} sock=proxy_client_mock.get_transport().open_session(), disabled_algorithms={'pubkeys': ['rsa-sha2-256', 'rsa-sha2-512']}", sock=None sock=proxy_client_mock.get_transport().open_session(),8,3
openstack%2Ftempest~838767,openstack/tempest,master,Ibc76d4811c2e28c5ff935f0cb06019642cf04c03,Test fails due to wrong assertRaises catch label,ABANDONED,2022-04-20 17:34:46.000000000,2022-11-25 10:16:34.000000000,,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-04-20 17:34:46.000000000', 'files': ['tempest/api/object_storage/test_container_quotas.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/237bddb5fc3f2bbb3baf7c2dac955861b5e52bdd', 'message': ""Test fails due to wrong assertRaises catch label\n\nThis bug patch fixes the incorrect catch label 'OverQuotaObject' with the\ncorrect label 'QuotaExceeded'. The metadata is set correctly, 3 objects are created, and the forth object fails as expected.  However the assertRaises function has the wrong label.\n\nCloses-Bug: #1969639\nChange-Id: Ibc76d4811c2e28c5ff935f0cb06019642cf04c03\n""}]",2,838767,237bddb5fc3f2bbb3baf7c2dac955861b5e52bdd,7,3,1,20451,,,0,"Test fails due to wrong assertRaises catch label

This bug patch fixes the incorrect catch label 'OverQuotaObject' with the
correct label 'QuotaExceeded'. The metadata is set correctly, 3 objects are created, and the forth object fails as expected.  However the assertRaises function has the wrong label.

Closes-Bug: #1969639
Change-Id: Ibc76d4811c2e28c5ff935f0cb06019642cf04c03
",git fetch https://review.opendev.org/openstack/tempest refs/changes/67/838767/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/object_storage/test_container_quotas.py'],1,237bddb5fc3f2bbb3baf7c2dac955861b5e52bdd,bug/1969639," self.container_name, ""QuotaExceeded"", """")"," self.container_name, ""OverQuotaObject"", """")",1,1
openstack%2Fbarbican~865404,openstack/barbican,stable/zed,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-24 10:51:47.000000000,2022-11-25 10:09:43.000000000,2022-11-25 10:08:44.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 10:51:47.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/ac7ba5e20a001e24f18fd305e87730267df0a2d0', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)\n'}]",0,865404,ac7ba5e20a001e24f18fd305e87730267df0a2d0,8,3,1,14250,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
(cherry picked from commit 455057c9417d8bce8a60e3903a289c0f1eecadb7)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/04/865404/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,ac7ba5e20a001e24f18fd305e87730267df0a2d0,policy-system-admin-typo-stable/zed," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Ftripleo-common~865102,openstack/tripleo-common,master,I8a350ab5ac9b72465b22c19cfeb0e7b544fd3b39,MariaDB: Remove logic for xinetd,MERGED,2022-11-21 06:24:20.000000000,2022-11-25 10:08:46.000000000,2022-11-25 10:07:44.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 20778}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30126}]","[{'number': 1, 'created': '2022-11-21 06:24:20.000000000', 'files': ['healthcheck/mariadb'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/003e514561815d36e82d20d8ef61061f9329d723', 'message': 'MariaDB: Remove logic for xinetd\n\n... because xinetd is no longer available in CentOS Stream 9 and\nthe logic is not used.\n\nChange-Id: I8a350ab5ac9b72465b22c19cfeb0e7b544fd3b39\n'}]",1,865102,003e514561815d36e82d20d8ef61061f9329d723,12,7,1,9816,,,0,"MariaDB: Remove logic for xinetd

... because xinetd is no longer available in CentOS Stream 9 and
the logic is not used.

Change-Id: I8a350ab5ac9b72465b22c19cfeb0e7b544fd3b39
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/865102/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/mariadb'],1,003e514561815d36e82d20d8ef61061f9329d723,xinetd-cleanup,if pgrep -a socat 2> /dev/null | grep -w clustercheck; then,"GALERA_XINETD_CONF='/etc/xinetd.d/galera-monitor'# If the mariadb container is running xinetd with galera-monitor or socat then # it is a clustercheck container, otherwise a mysql/mariadb one if pgrep xinetd &> /dev/null && grep -qe 'disable.*no' $GALERA_XINETD_CONF; then PORT=$(awk '/port.*=/{ print $3 }' $GALERA_XINETD_CONF) ADDR=$(awk '/bind.*=/{ print $3 }' $GALERA_XINETD_CONF) elif pgrep -a socat 2> /dev/null | grep -w clustercheck; then",1,7
openstack%2Frpm-packaging~865654,openstack/rpm-packaging,stable/xena,I4700e1b232e117941f180e4bdeb23e94ed95d56d,[xena] sushy 3.12.5,NEW,2022-11-25 09:53:31.000000000,2022-11-25 10:04:12.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-25 09:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/ba86eb9d80d25bdf98dfdee0fb17f77ff8ea302e', 'message': '[zed] sushy 3.12.5\n\nChange-Id: I4700e1b232e117941f180e4bdeb23e94ed95d56d\n'}, {'number': 2, 'created': '2022-11-25 09:54:33.000000000', 'files': ['openstack/sushy/sushy.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/63110f1bcabe9f95a22478ac1eed887c807160e8', 'message': '[xena] sushy 3.12.5\n\nChange-Id: I4700e1b232e117941f180e4bdeb23e94ed95d56d\n'}]",0,865654,63110f1bcabe9f95a22478ac1eed887c807160e8,4,2,2,28522,,,0,"[xena] sushy 3.12.5

Change-Id: I4700e1b232e117941f180e4bdeb23e94ed95d56d
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/54/865654/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/sushy/sushy.spec.j2'],1,ba86eb9d80d25bdf98dfdee0fb17f77ff8ea302e,xena,{% set upstream_version = upstream_version('3.12.5') %},{% set upstream_version = upstream_version('3.12.4') %},1,1
openstack%2Fskyline-console~865629,openstack/skyline-console,master,Iba5b38264a03743e5edc6ac422c46591ed0099ab,feat: set list store data of pureFetchList method,ABANDONED,2022-11-25 09:15:57.000000000,2022-11-25 09:59:35.000000000,,[],"[{'number': 1, 'created': '2022-11-25 09:15:57.000000000', 'files': ['src/stores/base.js', 'src/components/FormItem/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/72eb5fa5da8e5907da333bb20fa9266867e36285', 'message': 'feat: set list store data of pureFetchList method\n\n1. set list store data of pureFetchList method\n2. set validator for add-select form item\n\nChange-Id: Iba5b38264a03743e5edc6ac422c46591ed0099ab\n'}]",0,865629,72eb5fa5da8e5907da333bb20fa9266867e36285,2,0,1,34589,,,0,"feat: set list store data of pureFetchList method

1. set list store data of pureFetchList method
2. set validator for add-select form item

Change-Id: Iba5b38264a03743e5edc6ac422c46591ed0099ab
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/29/865629/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/base.js', 'src/components/FormItem/index.jsx']",2,72eb5fa5da8e5907da333bb20fa9266867e36285,,"import { isEmpty, isString } from 'lodash'; getAddSelectValidator = (_, values) => { if (isEmpty(values)) { return true; } const item = values.find((it) => { const { key, value } = it.value || {}; const itemKey = isString(key) ? key.trim() : key; const itemValue = isString(value) ? value.trim() : value; return isEmpty(itemKey) || isEmpty(itemValue); }); if (item) { return Promise.reject(t('Please enter complete key value!')); } return Promise.resolve(); }; } else if (type === 'add-select') { newRule.validator = this.getAddSelectValidator;",import { isEmpty } from 'lodash';,22,1
openstack%2Fvalidations-libs~865651,openstack/validations-libs,stable/1.6,I32d163970ef1ab4d6159670a0619ffd037eca1de,[stable/1.6 only] Bumping basepython version of the tox environments to 3.10,ABANDONED,2022-11-25 09:29:06.000000000,2022-11-25 09:44:00.000000000,,[{'_account_id': 16515}],"[{'number': 1, 'created': '2022-11-25 09:29:06.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/0e8af1b81b1eea1cc3b5c88128603dcdd7980f6a', 'message': '[stable/1.6 only] Bumping basepython version of the tox environments to 3.10\n\nThis change to the tox environment should be rolled back if older python\ninterpreter versions become available again.\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I32d163970ef1ab4d6159670a0619ffd037eca1de\n(cherry picked from commit 9a2bcee59f9704d510eccb2385464920ceec87ef)\n'}]",0,865651,0e8af1b81b1eea1cc3b5c88128603dcdd7980f6a,4,1,1,32926,,,0,"[stable/1.6 only] Bumping basepython version of the tox environments to 3.10

This change to the tox environment should be rolled back if older python
interpreter versions become available again.

Closes-Bug: #1997256

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I32d163970ef1ab4d6159670a0619ffd037eca1de
(cherry picked from commit 9a2bcee59f9704d510eccb2385464920ceec87ef)
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/51/865651/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,0e8af1b81b1eea1cc3b5c88128603dcdd7980f6a,tox/py310,basepython = python3.10,basepython = python3.8,1,1
openstack%2Fvalidations-common~865650,openstack/validations-common,stable/1.6,I624af42bed68a317a3197fe8758d63a6ba23dd46,[stable/1.6 only] Bumping basepython version of the tox environments to 3.10,ABANDONED,2022-11-25 09:26:29.000000000,2022-11-25 09:43:32.000000000,,"[{'_account_id': 16515}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-25 09:26:29.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/d4a377b222dceee07602d7c1708727ce83edc45b', 'message': '[stable/1.6 only] Bumping basepython version of the tox environments to 3.10\n\nThis change to the tox environment should be rolled back if older python\ninterpreter versions become available again.\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I624af42bed68a317a3197fe8758d63a6ba23dd46\n(cherry picked from commit 9ef6e757a5283bb0fa16168aa80af68b1bfa832c)\n'}]",0,865650,d4a377b222dceee07602d7c1708727ce83edc45b,5,2,1,32926,,,0,"[stable/1.6 only] Bumping basepython version of the tox environments to 3.10

This change to the tox environment should be rolled back if older python
interpreter versions become available again.

Closes-Bug: #1997256

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I624af42bed68a317a3197fe8758d63a6ba23dd46
(cherry picked from commit 9ef6e757a5283bb0fa16168aa80af68b1bfa832c)
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/50/865650/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d4a377b222dceee07602d7c1708727ce83edc45b,tox/py310,basepython = python3.10,basepython = python3.8,1,1
openstack%2Fnova~864672,openstack/nova,stable/train,I475b18272a5791aaa501ec5da1818ba22d8ec1f2,functional: Change order of two classes,ABANDONED,2022-11-16 05:44:33.000000000,2022-11-25 09:41:04.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-16 05:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/40a20d14287dd7f9c6de27f3f0537045c1ccc8bd', 'message': ""functional: Change order of two classes\n\nWe want the 'IntegratedHelper' class to use the 'InstanceMixin' mixin\nclass. This is currently not possible because the latter is defined\nafter the former.  This patch moves the class definitions around,\nallowing us to do this in a future change when we've unified the\nbehavior of some competing functions provided by either.\n\nChange-Id: I475b18272a5791aaa501ec5da1818ba22d8ec1f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 931ce9b9d2481b5eb50e0bc987f925b55b6ef13b)\n""}, {'number': 2, 'created': '2022-11-16 06:42:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/097a21821874b3934412676ae5c7009b061e563d', 'message': ""functional: Change order of two classes\n\nWe want the 'IntegratedHelper' class to use the 'InstanceMixin' mixin\nclass. This is currently not possible because the latter is defined\nafter the former.  This patch moves the class definitions around,\nallowing us to do this in a future change when we've unified the\nbehavior of some competing functions provided by either.\n\nChange-Id: I475b18272a5791aaa501ec5da1818ba22d8ec1f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 931ce9b9d2481b5eb50e0bc987f925b55b6ef13b)\n""}, {'number': 3, 'created': '2022-11-17 13:36:14.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/c70b3810da3e1d5a428c380ec71be64c419eb25f', 'message': ""functional: Change order of two classes\n\nWe want the 'IntegratedHelper' class to use the 'InstanceMixin' mixin\nclass. This is currently not possible because the latter is defined\nafter the former.  This patch moves the class definitions around,\nallowing us to do this in a future change when we've unified the\nbehavior of some competing functions provided by either.\n\nRelated-Bug: #1978983\n\nChange-Id: I475b18272a5791aaa501ec5da1818ba22d8ec1f2\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 931ce9b9d2481b5eb50e0bc987f925b55b6ef13b)\n""}]",1,864672,c70b3810da3e1d5a428c380ec71be64c419eb25f,9,3,3,34860,,,0,"functional: Change order of two classes

We want the 'IntegratedHelper' class to use the 'InstanceMixin' mixin
class. This is currently not possible because the latter is defined
after the former.  This patch moves the class definitions around,
allowing us to do this in a future change when we've unified the
behavior of some competing functions provided by either.

Related-Bug: #1978983

Change-Id: I475b18272a5791aaa501ec5da1818ba22d8ec1f2
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 931ce9b9d2481b5eb50e0bc987f925b55b6ef13b)
",git fetch https://review.opendev.org/openstack/nova refs/changes/72/864672/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,40a20d14287dd7f9c6de27f3f0537045c1ccc8bd,bug/1978983,"class InstanceHelperMixin(object): def _wait_for_server_parameter(self, admin_api, server, expected_params, max_retries=10): retry_count = 0 while True: server = admin_api.get_server(server['id']) if all([server[attr] == expected_params[attr] for attr in expected_params]): break retry_count += 1 if retry_count == max_retries: self.fail('Wait for state change failed, ' 'expected_params=%s, server=%s' % ( expected_params, server)) time.sleep(0.5) return server def _wait_for_state_change(self, admin_api, server, expected_status, max_retries=10): return self._wait_for_server_parameter( admin_api, server, {'status': expected_status}, max_retries) def _build_minimal_create_server_request(self, api, name, image_uuid=None, flavor_id=None, networks=None, az=None, host=None): server = {} # We now have a valid imageId server['imageRef'] = image_uuid or api.get_images()[0]['id'] if not flavor_id: # Set a valid flavorId flavor_id = api.get_flavors()[1]['id'] server['flavorRef'] = ('http://fake.server/%s' % flavor_id) server['name'] = name if networks is not None: server['networks'] = networks if az is not None: server['availability_zone'] = az # This requires at least microversion 2.74 to work if host is not None: server['host'] = host return server def _wait_until_deleted(self, server): initially_in_error = (server['status'] == 'ERROR') try: for i in range(40): server = self.api.get_server(server['id']) if not initially_in_error and server['status'] == 'ERROR': self.fail('Server went to error state instead of' 'disappearing.') time.sleep(0.5) self.fail('Server failed to delete.') except api_client.OpenStackApiNotFoundException: return def _wait_for_action_fail_completion( self, server, expected_action, event_name, api=None): """"""Polls instance action events for the given instance, action and action event name until it finds the action event with an error result. """""" if api is None: api = self.api return self._wait_for_instance_action_event( api, server, expected_action, event_name, event_result='error') def _wait_for_instance_action_event( self, api, server, action_name, event_name, event_result): """"""Polls the instance action events for the given instance, action, event, and event result until it finds the event. """""" actions = [] events = [] for attempt in range(10): actions = api.get_instance_actions(server['id']) # The API returns the newest event first for action in actions: if action['action'] == action_name: events = ( api.api_get( '/servers/%s/os-instance-actions/%s' % (server['id'], action['request_id']) ).body['instanceAction']['events']) # Look for the action event being in error state. for event in events: result = event['result'] if (event['event'] == event_name and result is not None and result.lower() == event_result.lower()): return event # We didn't find the completion event yet, so wait a bit. time.sleep(0.5) self.fail( 'Timed out waiting for %s instance action event. Current instance ' 'actions: %s. Events in the last matching action: %s' % (event_name, actions, events)) def _assert_resize_migrate_action_fail(self, server, action, error_in_tb): """"""Waits for the conductor_migrate_server action event to fail for the given action and asserts the error is in the event traceback. :param server: API response dict of the server being resized/migrated :param action: Either ""resize"" or ""migrate"" instance action. :param error_in_tb: Some expected part of the error event traceback. """""" api = self.admin_api if hasattr(self, 'admin_api') else self.api event = self._wait_for_action_fail_completion( server, action, 'conductor_migrate_server', api=api) self.assertIn(error_in_tb, event['traceback']) def _wait_for_migration_status(self, server, expected_statuses): """"""Waits for a migration record with the given statuses to be found for the given server, else the test fails. The migration record, if found, is returned. """""" api = getattr(self, 'admin_api', None) if api is None: api = self.api statuses = [status.lower() for status in expected_statuses] for attempt in range(10): migrations = api.api_get('/os-migrations').body['migrations'] for migration in migrations: if (migration['instance_uuid'] == server['id'] and migration['status'].lower() in statuses): return migration time.sleep(0.5) self.fail('Timed out waiting for migration with status ""%s"" for ' 'instance: %s' % (expected_statuses, server['id'])) def _wait_for_log(self, log_line): for i in range(10): if log_line in self.stdlog.logger.output: return time.sleep(0.5) self.fail('The line ""%(log_line)s"" did not appear in the log') ","class InstanceHelperMixin(object): def _wait_for_server_parameter(self, admin_api, server, expected_params, max_retries=10): retry_count = 0 while True: server = admin_api.get_server(server['id']) if all([server[attr] == expected_params[attr] for attr in expected_params]): break retry_count += 1 if retry_count == max_retries: self.fail('Wait for state change failed, ' 'expected_params=%s, server=%s' % ( expected_params, server)) time.sleep(0.5) return server def _wait_for_state_change(self, admin_api, server, expected_status, max_retries=10): return self._wait_for_server_parameter( admin_api, server, {'status': expected_status}, max_retries) def _build_minimal_create_server_request(self, api, name, image_uuid=None, flavor_id=None, networks=None, az=None, host=None): server = {} # We now have a valid imageId server['imageRef'] = image_uuid or api.get_images()[0]['id'] if not flavor_id: # Set a valid flavorId flavor_id = api.get_flavors()[1]['id'] server['flavorRef'] = ('http://fake.server/%s' % flavor_id) server['name'] = name if networks is not None: server['networks'] = networks if az is not None: server['availability_zone'] = az # This requires at least microversion 2.74 to work if host is not None: server['host'] = host return server def _wait_until_deleted(self, server): initially_in_error = server.get('status') == 'ERROR' try: for i in range(40): server = self.api.get_server(server['id']) if not initially_in_error and server['status'] == 'ERROR': self.fail('Server went to error state instead of' 'disappearing.') time.sleep(0.5) self.fail('Server failed to delete.') except api_client.OpenStackApiNotFoundException: return def _wait_for_action_fail_completion( self, server, expected_action, event_name, api=None): """"""Polls instance action events for the given instance, action and action event name until it finds the action event with an error result. """""" if api is None: api = self.api return self._wait_for_instance_action_event( api, server, expected_action, event_name, event_result='error') def _wait_for_instance_action_event( self, api, server, action_name, event_name, event_result): """"""Polls the instance action events for the given instance, action, event, and event result until it finds the event. """""" actions = [] events = [] for attempt in range(10): actions = api.get_instance_actions(server['id']) # The API returns the newest event first for action in actions: if action['action'] == action_name: events = ( api.api_get( '/servers/%s/os-instance-actions/%s' % (server['id'], action['request_id']) ).body['instanceAction']['events']) # Look for the action event being in error state. for event in events: result = event['result'] if (event['event'] == event_name and result is not None and result.lower() == event_result.lower()): return event # We didn't find the completion event yet, so wait a bit. time.sleep(0.5) self.fail( 'Timed out waiting for %s instance action event. Current instance ' 'actions: %s. Events in the last matching action: %s' % (event_name, actions, events)) def _wait_for_migration_status(self, server, expected_statuses): """"""Waits for a migration record with the given statuses to be found for the given server, else the test fails. The migration record, if found, is returned. """""" api = getattr(self, 'admin_api', None) if api is None: api = self.api statuses = [status.lower() for status in expected_statuses] for attempt in range(10): migrations = api.api_get('/os-migrations').body['migrations'] for migration in migrations: if (migration['instance_uuid'] == server['id'] and migration['status'].lower() in statuses): return migration time.sleep(0.5) self.fail('Timed out waiting for migration with status ""%s"" for ' 'instance: %s' % (expected_statuses, server['id'])) def _wait_for_log(self, log_line): for i in range(10): if log_line in self.stdlog.logger.output: return time.sleep(0.5) self.fail('The line ""%(log_line)s"" did not appear in the log') ",144,131
openstack%2Fnova~864713,openstack/nova,stable/train,I6177ae1c768a234ea17f4ca406a7f3f0bfa329e5,functional: Unify '_build_minimal_create_server_request' implementations,ABANDONED,2022-11-16 09:16:38.000000000,2022-11-25 09:41:01.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-16 09:16:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0348773af3d8dc69bd1792607c7a045cc7381a1b', 'message': ""functional: Unify '_build_minimal_create_server_request' implementations\n\nJust like I0c56841d098d3e9d72db65be3143f3c893f0b6ba, this is another\nfunction that exists in multiple places. Unify the implementations, at\nthe expense of some duplication that we can clean up shortly.\n\nChange-Id: I6177ae1c768a234ea17f4ca406a7f3f0bfa329e5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d888d9b8edc0e07abc39bd35acca33e029686d54)\n""}, {'number': 2, 'created': '2022-11-17 13:36:14.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/25091f961404e2f2d8fff59d40cd0fa937306fc6', 'message': ""functional: Unify '_build_minimal_create_server_request' implementations\n\nJust like I0c56841d098d3e9d72db65be3143f3c893f0b6ba, this is another\nfunction that exists in multiple places. Unify the implementations, at\nthe expense of some duplication that we can clean up shortly.\n\nRelated-Bug: #1978983\n\nChange-Id: I6177ae1c768a234ea17f4ca406a7f3f0bfa329e5\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit d888d9b8edc0e07abc39bd35acca33e029686d54)\n""}]",0,864713,25091f961404e2f2d8fff59d40cd0fa937306fc6,8,2,2,34860,,,0,"functional: Unify '_build_minimal_create_server_request' implementations

Just like I0c56841d098d3e9d72db65be3143f3c893f0b6ba, this is another
function that exists in multiple places. Unify the implementations, at
the expense of some duplication that we can clean up shortly.

Related-Bug: #1978983

Change-Id: I6177ae1c768a234ea17f4ca406a7f3f0bfa329e5
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit d888d9b8edc0e07abc39bd35acca33e029686d54)
",git fetch https://review.opendev.org/openstack/nova refs/changes/13/864713/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,0348773af3d8dc69bd1792607c7a045cc7381a1b,bug/1978983," def _build_minimal_create_server_request(self, api, name=None, image_uuid=None, flavor_id=None, networks=None, az=None, host=None): if not image_uuid: # NOTE(takashin): In API version 2.36, image APIs were deprecated. # In API version 2.36 or greater, self.api.get_images() returns # a 404 error. In that case, 'image_uuid' should be specified. image_uuid = api.get_images()[0]['id'] server['imageRef'] = image_uuid if not name: name = ''.join( random.choice(string.ascii_lowercase) for i in range(10)) server['name'] = name flavor_id = api.get_flavors()[0]['id'] server['flavorRef'] = 'http://fake.server/%s' % flavor_id def _build_minimal_create_server_request(self, name=None, image_uuid=None, flavor_id=None, networks=None, az=None, host=None): if not image_uuid: # NOTE(takashin): In API version 2.36, image APIs were deprecated. # In API version 2.36 or greater, self.api.get_images() returns # a 404 error. In that case, 'image_uuid' should be specified. image_uuid = self.api.get_images()[0]['id'] server['imageRef'] = image_uuid if not name: name = ''.join( random.choice(string.ascii_lowercase) for i in range(10)) server['name'] = name if not flavor_id: # Set a valid flavorId flavor_id = self.api.get_flavors()[0]['id'] server['flavorRef'] = 'http://fake.server/%s' % flavor_id if networks is not None: server['networks'] = networks if az is not None: server['availability_zone'] = az # This requires at least microversion 2.74 to work if host is not None: server['host'] = host"," def _build_minimal_create_server_request(self, api, name, image_uuid=None, flavor_id=None, networks=None, az=None, host=None): # We now have a valid imageId server['imageRef'] = image_uuid or api.get_images()[0]['id'] flavor_id = api.get_flavors()[1]['id'] server['flavorRef'] = ('http://fake.server/%s' % flavor_id) server['name'] = name def _build_minimal_create_server_request(self, image_uuid=None): # NOTE(takashin): In API version 2.36, image APIs were deprecated. # In API version 2.36 or greater, self.api.get_images() returns # a 404 error. In that case, 'image_uuid' should be specified. server[self._image_ref_parameter] = (image_uuid or self.api.get_images()[0]['id']) # Set a valid flavorId flavor = self.api.get_flavors()[0] LOG.debug(""Using flavor: %s"", flavor) server[self._flavor_ref_parameter] = ('http://fake.server/%s' % flavor['id']) # Set a valid server name server_name = self.get_unused_server_name() server['name'] = server_name",43,22
openstack%2Fnova~864721,openstack/nova,stable/train,Iceafa5ff2b7abff7c6d974ba49036ef03fb1c85f,functional: Rework '_delete_server',ABANDONED,2022-11-16 10:17:02.000000000,2022-11-25 09:40:57.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-16 10:17:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d04ab080af1a725872519a5daaac6d8ea243424d', 'message': 'functional: Rework \'_delete_server\'\n\nWe want \'ServerBase\' to inherit from \'InstanceHelperMixin\'. They both\nhave implementations of a ""wait until server is deleted"" function.  The\n\'ServerBase\' implementation is called \'_wait_for_deletion\' and takes a\n\'server_id\', while the \'InstanceHelperMixin\' implementation is called\n\'_wait_until_deleted\' and takes a full server JSON-y dict. A later\nchange, I0c56841d098d3e9d72db65be3143f3c893f0b6ba, will rework the\n\'ServersTestBase\' version to bring it inline with \'InstanceHelperMixin\'\nversion. However, \'ServerBase._delete_server\' currently calls a\n\'_wait_for_deletion\' function and passes it a \'server_id\'. As such,\n\'_delete_server\' itself is only passed a server_id. After the future\nchange, this \'server_id\' will no longer be enough as \'_delete_server\'\nwill need to call the newly merged \'_wait_until_deleted\' that takes a\nfull server JSON-y dict, so \'_delete_server\' itself needs to receive a\nfull server JSON-y dict.\n\nDo this work now to simplify the future patch.\n\nChange-Id: Iceafa5ff2b7abff7c6d974ba49036ef03fb1c85f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 57f335090b9e56d764c02705a42ce2d3690d8955)\n'}, {'number': 2, 'created': '2022-11-17 13:36:14.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1670627.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/test_images.py', 'nova/tests/functional/regressions/test_bug_1678326.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_instance_actions.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1cd02cba257edf6452604ffab27efda9230298f6', 'message': 'functional: Rework \'_delete_server\'\n\nWe want \'ServerBase\' to inherit from \'InstanceHelperMixin\'. They both\nhave implementations of a ""wait until server is deleted"" function.  The\n\'ServerBase\' implementation is called \'_wait_for_deletion\' and takes a\n\'server_id\', while the \'InstanceHelperMixin\' implementation is called\n\'_wait_until_deleted\' and takes a full server JSON-y dict. A later\nchange, I0c56841d098d3e9d72db65be3143f3c893f0b6ba, will rework the\n\'ServersTestBase\' version to bring it inline with \'InstanceHelperMixin\'\nversion. However, \'ServerBase._delete_server\' currently calls a\n\'_wait_for_deletion\' function and passes it a \'server_id\'. As such,\n\'_delete_server\' itself is only passed a server_id. After the future\nchange, this \'server_id\' will no longer be enough as \'_delete_server\'\nwill need to call the newly merged \'_wait_until_deleted\' that takes a\nfull server JSON-y dict, so \'_delete_server\' itself needs to receive a\nfull server JSON-y dict.\n\nDo this work now to simplify the future patch.\n\nRelated-Bug: #1978983\n\nChange-Id: Iceafa5ff2b7abff7c6d974ba49036ef03fb1c85f\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n(cherry picked from commit 57f335090b9e56d764c02705a42ce2d3690d8955)\n'}]",0,864721,1cd02cba257edf6452604ffab27efda9230298f6,6,2,2,34860,,,0,"functional: Rework '_delete_server'

We want 'ServerBase' to inherit from 'InstanceHelperMixin'. They both
have implementations of a ""wait until server is deleted"" function.  The
'ServerBase' implementation is called '_wait_for_deletion' and takes a
'server_id', while the 'InstanceHelperMixin' implementation is called
'_wait_until_deleted' and takes a full server JSON-y dict. A later
change, I0c56841d098d3e9d72db65be3143f3c893f0b6ba, will rework the
'ServersTestBase' version to bring it inline with 'InstanceHelperMixin'
version. However, 'ServerBase._delete_server' currently calls a
'_wait_for_deletion' function and passes it a 'server_id'. As such,
'_delete_server' itself is only passed a server_id. After the future
change, this 'server_id' will no longer be enough as '_delete_server'
will need to call the newly merged '_wait_until_deleted' that takes a
full server JSON-y dict, so '_delete_server' itself needs to receive a
full server JSON-y dict.

Do this work now to simplify the future patch.

Related-Bug: #1978983

Change-Id: Iceafa5ff2b7abff7c6d974ba49036ef03fb1c85f
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
(cherry picked from commit 57f335090b9e56d764c02705a42ce2d3690d8955)
",git fetch https://review.opendev.org/openstack/nova refs/changes/21/864721/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/regressions/test_bug_1670627.py', 'nova/tests/functional/db/test_archive.py', 'nova/tests/functional/libvirt/test_pci_sriov_servers.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/test_images.py', 'nova/tests/functional/regressions/test_bug_1678326.py', 'nova/tests/functional/libvirt/test_rt_servers.py', 'nova/tests/functional/wsgi/test_interfaces.py', 'nova/tests/functional/libvirt/test_numa_servers.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/test_instance_actions.py']",11,d04ab080af1a725872519a5daaac6d8ea243424d,bug/1978983, self._delete_server(server) self._delete_server(server), self._delete_server(server['id']) self._delete_server(server['id']),343,62
openstack%2Fnova~864900,openstack/nova,stable/train,I63c1109dcdb9132cdbc41010654c5fdb31a4fe31,Extend NeutronFixture to allow live migration with ports,ABANDONED,2022-11-17 13:36:14.000000000,2022-11-25 09:40:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 34860}]","[{'number': 1, 'created': '2022-11-17 13:36:14.000000000', 'files': ['nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e0ad12f88548af4fe9cb8f4a49f907ad0dc917d9', 'message': ""Extend NeutronFixture to allow live migration with ports\n\nNone of our functional live migration tests uses neutron ports. Simply\nadding a port to the boot request shows that the live migration step of\nthe tests fails because the compute manager's\n_do_pre_live_migration_from_source() call wait for vif-plugged events\nfrom Neutron but our Neutron fixture does not send it.\n\nThis does not cause problem during a simple boot because during boot the\nvirt driver triggers the waiting for the vif-plug event and in the\nfunctional test we have a FakeDriver that does not do it.\n\nThis patch implements the simplest solution to make it possible to test\nlive migration with neutron ports. It simply turns off the waiting by\nsetting CONF.vif_plugging_timeout to 0\n\nA nicer solution would be to extend either the Neutron fixture or the\nfake virt driver to send vif-plug event at certain triggers. But that\nwould require a lot more surgery.\n\nThis patch is a prerequisite to later patches covering live migration\nwith qos neutron ports.\n\nblueprint: support-move-ops-with-qos-ports-ussuri\n\nRelated-Bug: #1978983\n\nChange-Id: I63c1109dcdb9132cdbc41010654c5fdb31a4fe31\n(cherry picked from commit b2734b5a9ae8b869fc9e8e229826343da3b47fcb)\n""}]",0,864900,e0ad12f88548af4fe9cb8f4a49f907ad0dc917d9,4,2,1,34860,,,0,"Extend NeutronFixture to allow live migration with ports

None of our functional live migration tests uses neutron ports. Simply
adding a port to the boot request shows that the live migration step of
the tests fails because the compute manager's
_do_pre_live_migration_from_source() call wait for vif-plugged events
from Neutron but our Neutron fixture does not send it.

This does not cause problem during a simple boot because during boot the
virt driver triggers the waiting for the vif-plug event and in the
functional test we have a FakeDriver that does not do it.

This patch implements the simplest solution to make it possible to test
live migration with neutron ports. It simply turns off the waiting by
setting CONF.vif_plugging_timeout to 0

A nicer solution would be to extend either the Neutron fixture or the
fake virt driver to send vif-plug event at certain triggers. But that
would require a lot more surgery.

This patch is a prerequisite to later patches covering live migration
with qos neutron ports.

blueprint: support-move-ops-with-qos-ports-ussuri

Related-Bug: #1978983

Change-Id: I63c1109dcdb9132cdbc41010654c5fdb31a4fe31
(cherry picked from commit b2734b5a9ae8b869fc9e8e229826343da3b47fcb)
",git fetch https://review.opendev.org/openstack/nova refs/changes/00/864900/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/fixtures.py', 'nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/test_servers.py']",3,e0ad12f88548af4fe9cb8f4a49f907ad0dc917d9,bug/1978983," self.flavor1, source_hostname, networks=[{'port': self.neutron.port_1['id']}])"," self.flavor1, source_hostname)",13,3
openstack%2Fbarbican~865406,openstack/barbican,stable/zed,Ib538184bf224fd76a892509752fdb2000c205f38,Fix unit test error after cryptography update,MERGED,2022-11-24 12:51:25.000000000,2022-11-25 09:38:17.000000000,2022-11-25 09:37:18.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-24 12:51:25.000000000', 'files': ['barbican/tests/certificate_utils.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/5f4f7ce12febaa86af5a6467ba7f085defca48f7', 'message': 'Fix unit test error after cryptography update\n\nAfter migrating from cryptography===36.0.2 to 38.0.2, the function\ngenerating a not signed CSR fails during the serialization process.\n\nThis fix returns a pre-generated CSR from cryptography===36.0.2\n\nChange-Id: Ib538184bf224fd76a892509752fdb2000c205f38\n(cherry picked from commit 564c1e50d39998c2cc0b7ed4098f97bfee753472)\n'}]",1,865406,5f4f7ce12febaa86af5a6467ba7f085defca48f7,11,4,1,9914,,,0,"Fix unit test error after cryptography update

After migrating from cryptography===36.0.2 to 38.0.2, the function
generating a not signed CSR fails during the serialization process.

This fix returns a pre-generated CSR from cryptography===36.0.2

Change-Id: Ib538184bf224fd76a892509752fdb2000c205f38
(cherry picked from commit 564c1e50d39998c2cc0b7ed4098f97bfee753472)
",git fetch https://review.opendev.org/openstack/barbican refs/changes/06/865406/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/tests/certificate_utils.py'],1,5f4f7ce12febaa86af5a6467ba7f085defca48f7,," """"""Return a CSR that has not been signed."""""" # NOTE(xek): This method was relying on unsupported behaviour # in OpenSSL to create an unsigned CSR in the past, so just # return a pre-generated certificate request. return b""""""-----BEGIN CERTIFICATE REQUEST----- MIIBUTCCAUgCAQAwGzEZMBcGA1UEAwwQaG9zdC5leGFtcGxlLm5ldDCCASIwDQYJ KoZIhvcNAQEBBQADggEPADCCAQoCggEBAPPO24Fzfoh4pAqfzGrJGEwINi42MY4S NMI8+l53vwD0Ld5FN9O044NAuDrGv5KbCoKI6APRYsESZ3adaiHKXfIiEX9QPn8D wJVU388O7gi43tUFl02a65ffczDDYQqHc05rFACvYhYzsjXescqeQjQydI8GcSe0 UGsi4IEyU3iI9hKgYwGRRbPezlkpK5t/wW08Qv1muPNkJi1kJklSrNbVYfN+lj7U e3hntigVIo9AP7d++YcMVelrQqFRkhC9+LPo75cKZ5qONQKp5qbDXuHyXh8/H3gv G903n2Dy9QqqV3zNbDyhBLcjv6802ITtSZSv/GuGM2UUj1o+Eo4B2ycCAwEAAaAA MAADAQA= -----END CERTIFICATE REQUEST----- """""""," """"""Generate a CSR that has not been signed."""""" key_pair = create_key_pair(crypto.TYPE_RSA, 2048) csr = crypto.X509Req() subject = csr.get_subject() setattr(subject, ""CN"", ""host.example.net"") csr.set_pubkey(key_pair) pem = crypto.dump_certificate_request(crypto.FILETYPE_PEM, csr) return pem",16,8
openstack%2Fkolla-ansible~864815,openstack/kolla-ansible,master,Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4,[WIP] Forward SQL read queries to a dedicated listener,NEW,2022-11-18 15:28:30.000000000,2022-11-25 09:30:23.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-18 15:28:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0b9577bbbaf1310f64a312d1dc309e005321f36', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\n'}, {'number': 2, 'created': '2022-11-18 15:33:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/405cd3e3413f177966a66887fe402c5b961f38d9', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 3, 'created': '2022-11-18 15:58:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f7b1d322475358e615070c525f5961ba653be21', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 4, 'created': '2022-11-23 22:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/12ba124467525ca24b5d506f981fd4c94ed26a68', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 5, 'created': '2022-11-23 22:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9ee507e9c30e24a4e362121f905bcab919cd7eca', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 6, 'created': '2022-11-23 22:48:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/48fbdee6bf59835188dfe96ea937da0d37520751', 'message': '[WIP] Forward read queries to a read loadbalancer listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 7, 'created': '2022-11-23 22:51:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ba4f8617aa1acb32485fd48712ee8fcdd53b1058', 'message': '[WIP] Forward read queries to a dedicated listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}, {'number': 8, 'created': '2022-11-24 08:43:15.000000000', 'files': ['ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/roles/freezer/defaults/main.yml', 'ansible/roles/designate/defaults/main.yml', 'ansible/roles/freezer/templates/freezer.conf.j2', 'ansible/roles/aodh/templates/aodh.conf.j2', 'ansible/roles/cinder/templates/cinder.conf.j2', 'ansible/roles/designate/templates/designate.conf.j2', 'ansible/roles/cinder/defaults/main.yml', 'ansible/roles/blazar/templates/blazar.conf.j2', 'ansible/roles/cyborg/defaults/main.yml', 'ansible/roles/cyborg/templates/cyborg.conf.j2', 'ansible/roles/cloudkitty/defaults/main.yml', 'ansible/roles/cloudkitty/templates/cloudkitty.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/aodh/defaults/main.yml', 'ansible/roles/blazar/defaults/main.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'releasenotes/notes/read-requests-database-4e1bb40b9bbc8f40.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/644786f0985883b5ac21d59a9979e53394859a4b', 'message': '[WIP] Forward SQL read queries to a dedicated listener\n\nLarge scale SIG recommends to use others available mariadb galera\ncluster nodes for read requests in order to spread them to multiple\nnodes and reduce the load on the mariadb[0] node.\nThis patch will help to create a new listener with all others nodes\nand assume that the write node will be a backup node.\nreference: https://docs.openstack.org/large-scale/journey/configure/database.html\n\nImplements: read-requests-database\nChange-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4\nCo-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>\n'}]",3,864815,644786f0985883b5ac21d59a9979e53394859a4b,19,1,8,31357,,,0,"[WIP] Forward SQL read queries to a dedicated listener

Large scale SIG recommends to use others available mariadb galera
cluster nodes for read requests in order to spread them to multiple
nodes and reduce the load on the mariadb[0] node.
This patch will help to create a new listener with all others nodes
and assume that the write node will be a backup node.
reference: https://docs.openstack.org/large-scale/journey/configure/database.html

Implements: read-requests-database
Change-Id: Ifff1ddaf7af34bdcca4aa1c1e7c9ab0c41e6a9e4
Co-authored-by: Soumaya MSALLEM <soumaya.msallem.tn@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/15/864815/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/cinder/defaults/main.yml', 'ansible/roles/keystone/templates/keystone.conf.j2', 'ansible/group_vars/all.yml', 'ansible/roles/keystone/defaults/main.yml', 'ansible/roles/mariadb/defaults/main.yml', 'releasenotes/notes/read-requests-database-4e1bb40b9bbc8f40.yaml']",6,a0b9577bbbaf1310f64a312d1dc309e005321f36,read-requests-database,--- features: - | Large scale SIG recommends to use others available mariadb galera cluster nodes for read requests in order to spread them to multiple nodes and reduce the load on the mariadb[0] node. This patch will help to create a new listener with all others nodes and assume that the write node will be a backup node. reference: https://docs.openstack.org/large-scale/journey/configure/database.html ,,52,26
openstack%2Fneutron~865167,openstack/neutron,stable/wallaby,Id870f746ff8e9741a7c211aebdcf13597d31465b,Ensure only one worker creates neturon_pg_drop,MERGED,2022-11-22 18:40:21.000000000,2022-11-25 09:14:11.000000000,2022-11-25 09:12:59.000000000,"[{'_account_id': 4694}, {'_account_id': 5756}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 18:40:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/7d2d7862c3ddeb8824a7e0d058829f1aa555e4ef', 'message': ""Ensure only one worker creates neturon_pg_drop\n\nUse an OVSDB lock to ensure that only one worker tries to create\nthe neutron_pg_drop port group. This also waits pre_fork so that if\ngetting the port group fails, neutron exits instead of continuing\non without the port group being created.\n\nIt was previously possible that a server could create the port\ngroup and we wouldn't get the update before trying to create it\nourselves and checking for its existence.\n\nThis also modifies the get_port_group method to use the built-in\nlookup() which searches by name or uuid and can take advantage of\nboth indexing and newly added ovsdbapp wait for sync functionality.\n\nCloses-Bug: #1934930\nChange-Id: Id870f746ff8e9741a7c211aebdcf13597d31465b\n(cherry picked from commit 2e6f6c9ec30259d03363479e72e36129b08563b1)\n""}, {'number': 2, 'created': '2022-11-22 18:42:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8379079198f6d922c5a3146332258d4dd89c4b87', 'message': ""Ensure only one worker creates neturon_pg_drop\n\nUse an OVSDB lock to ensure that only one worker tries to create\nthe neutron_pg_drop port group. This also waits pre_fork so that if\ngetting the port group fails, neutron exits instead of continuing\non without the port group being created.\n\nIt was previously possible that a server could create the port\ngroup and we wouldn't get the update before trying to create it\nourselves and checking for its existence.\n\nThis also modifies the get_port_group method to use the built-in\nlookup() which searches by name or uuid and can take advantage of\nboth indexing and newly added ovsdbapp wait for sync functionality.\n\nConflicts:\n     neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nCloses-Bug: #1934930\nChange-Id: Id870f746ff8e9741a7c211aebdcf13597d31465b\n(cherry picked from commit 2e6f6c9ec30259d03363479e72e36129b08563b1)\n""}, {'number': 3, 'created': '2022-11-22 22:27:20.000000000', 'files': ['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8f200e881fb6363e9ef721d910f6dddf27c0d251', 'message': ""Ensure only one worker creates neturon_pg_drop\n\nUse an OVSDB lock to ensure that only one worker tries to create\nthe neutron_pg_drop port group. This also waits pre_fork so that if\ngetting the port group fails, neutron exits instead of continuing\non without the port group being created.\n\nIt was previously possible that a server could create the port\ngroup and we wouldn't get the update before trying to create it\nourselves and checking for its existence.\n\nThis also modifies the get_port_group method to use the built-in\nlookup() which searches by name or uuid and can take advantage of\nboth indexing and newly added ovsdbapp wait for sync functionality.\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\nCloses-Bug: #1934930\nChange-Id: Id870f746ff8e9741a7c211aebdcf13597d31465b\n(cherry picked from commit 2e6f6c9ec30259d03363479e72e36129b08563b1)\n""}]",1,865167,8f200e881fb6363e9ef721d910f6dddf27c0d251,15,4,3,8655,,,0,"Ensure only one worker creates neturon_pg_drop

Use an OVSDB lock to ensure that only one worker tries to create
the neutron_pg_drop port group. This also waits pre_fork so that if
getting the port group fails, neutron exits instead of continuing
on without the port group being created.

It was previously possible that a server could create the port
group and we wouldn't get the update before trying to create it
ourselves and checking for its existence.

This also modifies the get_port_group method to use the built-in
lookup() which searches by name or uuid and can take advantage of
both indexing and newly added ovsdbapp wait for sync functionality.

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py

Closes-Bug: #1934930
Change-Id: Id870f746ff8e9741a7c211aebdcf13597d31465b
(cherry picked from commit 2e6f6c9ec30259d03363479e72e36129b08563b1)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/67/865167/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/impl_idl_ovn.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",4,7d2d7862c3ddeb8824a7e0d058829f1aa555e4ef,bug/1991579-wallaby," # Only one server should try to create the port group idl.set_lock('pg_drop_creation') # If we don't get the lock, and the port group didn't exist # when we tried to create it, it might still have been # created by another server and we just haven't gotten the # update yet. LOG.info(""Waiting for Port Group %(pg)s to be created"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) if not idl.neutron_pg_drop_event.wait(): LOG.error(""Port Group %(pg)s was not created in time"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) raise re LOG.info(""Porg Group %(pg)s was created by another server"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME})"," if pre_ovn_nb_api.get_port_group( ovn_const.OVN_DROP_PORT_GROUP_NAME): LOG.debug( ""Port Group %(port_group)s already exists, "" ""ignoring RuntimeError %(error)s"", { 'port_group': ovn_const.OVN_DROP_PORT_GROUP_NAME, 'error': re}) else: raise self._wait_for_pg_drop_event() def _wait_for_pg_drop_event(self): """"""Wait for event that occurs when neutron_pg_drop Port Group exists. The method creates a short living connection to the Northbound database. It waits for CREATE event caused by the Port Group. Such event occurs when: 1) The Port Group doesn't exist and is created by other process. 2) The Port Group already exists and event is emitted when DB copy is available to the IDL. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), self.nb_schema_helper, self, pg_only=True) with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as ovn_nb_api: ovn_nb_api.idl.neutron_pg_drop_event.wait() ",41,37
openstack%2Fneutron~865163,openstack/neutron,stable/wallaby,I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a,Delete MAC binding for LRP when the port is deleted,MERGED,2022-11-22 15:44:54.000000000,2022-11-25 09:08:58.000000000,2022-11-25 09:07:38.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:44:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a6c7ae1d674c3d6b0ae18420187a5cfcf77acb67', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)\n'}, {'number': 2, 'created': '2022-11-22 18:43:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/60533db2da3209fbf336e144889a5460cd01488a', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)\n'}, {'number': 3, 'created': '2022-11-22 22:27:20.000000000', 'files': ['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/64df95b7bf39dc52455259925bf1fb074398b65a', 'message': 'Delete MAC binding for LRP when the port is deleted\n\nIf router_A connect subnet by ip <x.x.x.x> and\nthere are packets through it when always_learn_from_arp_request\nis set to False(patch[1]), the mac_binding table of ovn south\ndb will learn mac address of <x.x.x.x>.\nIf disconnect the subnet, the mac of <x.x.x.x> still\nexits in mac_binding table. When reconnecting subnet by\nthe same ip as <x.x.x.x>, the mac_binding can not\nupdate the mac of <x.x.x.x> to the latest mac address.\nThis will cause packets that need pass <x.x.x.x>\ncan not normal arrival destination address.\nFix it by clearing mac address of the <x.x.x.x> in\nmac_binding tables when disconnects the subnet.\n\n[1]https://review.opendev.org/c/openstack/neutron/+/814421\n\nCloses-Bug: #1954771\nChange-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a\n(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)\n(cherry picked from commit b09f78c38ebb1d1e53cac1899a72e9cb116b7c28)\n(cherry picked from commit c95d541518300203fb1bdd23b3b47bbf862bbd76)\n'}]",3,865163,64df95b7bf39dc52455259925bf1fb074398b65a,21,3,3,8655,,,0,"Delete MAC binding for LRP when the port is deleted

If router_A connect subnet by ip <x.x.x.x> and
there are packets through it when always_learn_from_arp_request
is set to False(patch[1]), the mac_binding table of ovn south
db will learn mac address of <x.x.x.x>.
If disconnect the subnet, the mac of <x.x.x.x> still
exits in mac_binding table. When reconnecting subnet by
the same ip as <x.x.x.x>, the mac_binding can not
update the mac of <x.x.x.x> to the latest mac address.
This will cause packets that need pass <x.x.x.x>
can not normal arrival destination address.
Fix it by clearing mac address of the <x.x.x.x> in
mac_binding tables when disconnects the subnet.

[1]https://review.opendev.org/c/openstack/neutron/+/814421

Closes-Bug: #1954771
Change-Id: I57d531eafb08dbebee7f1c4c98ba98ce7e4c4b4a
(cherry picked from commit f2e8a619c5ce7a4b4713f40c6da68da1a3e4410c)
(cherry picked from commit b09f78c38ebb1d1e53cac1899a72e9cb116b7c28)
(cherry picked from commit c95d541518300203fb1bdd23b3b47bbf862bbd76)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/63/865163/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/unit/services/ovn_l3/test_plugin.py']",2,a6c7ae1d674c3d6b0ae18420187a5cfcf77acb67,bug/1991579-wallaby," self._start_mock( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.ovn_client.' 'OVNClient.delete_mac_binding_entries_by_mac', return_value=1) self._start_mock( 'neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb.ovn_client.' 'OVNClient.delete_mac_binding_entries_by_mac', return_value=1)",,35,0
openstack%2Fneutron~865220,openstack/neutron,master,I56a1079fbfc044532aee64f4fbdec50d9524a580,Fix missing [designate] options,MERGED,2022-11-22 03:00:55.000000000,2022-11-25 09:08:47.000000000,2022-11-25 09:07:33.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 03:00:55.000000000', 'files': ['neutron/opts.py', 'etc/oslo-config-generator/neutron.conf', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/neutron/commit/67bd2badc92e4609019efcc7010172bf592a71e9', 'message': 'Fix missing [designate] options\n\nThis change ensures the [designate] options, which is used by\nthe designate external DNS driver, are rendered into neutron.conf\ngenerated by oslo-config-generator.\n\nChange-Id: I56a1079fbfc044532aee64f4fbdec50d9524a580\n'}]",3,865220,67bd2badc92e4609019efcc7010172bf592a71e9,18,4,1,9816,,,0,"Fix missing [designate] options

This change ensures the [designate] options, which is used by
the designate external DNS driver, are rendered into neutron.conf
generated by oslo-config-generator.

Change-Id: I56a1079fbfc044532aee64f4fbdec50d9524a580
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/865220/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/opts.py', 'etc/oslo-config-generator/neutron.conf', 'setup.cfg']",3,67bd2badc92e4609019efcc7010172bf592a71e9,, designate.auth = neutron.opts:list_designate_auth_opts,,12,1
openstack%2Fpython-octaviaclient~842878,openstack/python-octaviaclient,master,I5639fe73fe8ca4ae0e47eae0fb0b0f3c46c9ca19,Bump tox minversion to 3.18.0,MERGED,2022-05-22 13:33:09.000000000,2022-11-25 07:35:13.000000000,2022-11-25 07:34:17.000000000,"[{'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 33493}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-05-22 13:33:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-octaviaclient/commit/9c2178db36c304b50e601a84de0c31526c372727', 'message': 'Bump tox minversion to 3.18.0\n\nSince tox 3.18.0, the whitelist_externals option has been deprecated in\nfavor of the new allow_list_externals option[1].\n\nThis change bumps the minversion of tox so that we can replace\nthe deprecated option.\n\n[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23\n\nChange-Id: I5639fe73fe8ca4ae0e47eae0fb0b0f3c46c9ca19\n'}]",1,842878,9c2178db36c304b50e601a84de0c31526c372727,12,4,1,9816,,,0,"Bump tox minversion to 3.18.0

Since tox 3.18.0, the whitelist_externals option has been deprecated in
favor of the new allow_list_externals option[1].

This change bumps the minversion of tox so that we can replace
the deprecated option.

[1] https://github.com/tox-dev/tox/blob/master/docs/changelog.rst#v3180-2020-07-23

Change-Id: I5639fe73fe8ca4ae0e47eae0fb0b0f3c46c9ca19
",git fetch https://review.opendev.org/openstack/python-octaviaclient refs/changes/78/842878/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9c2178db36c304b50e601a84de0c31526c372727,update-min-tox,minversion = 3.18.0allowlist_externals =allowlist_externals =allowlist_externals =allowlist_externals =allowlist_externals = sh,minversion = 2.5.0whitelist_externals =whitelist_externals =whitelist_externals =whitelist_externals =whitelist_externals = sh,6,6
openstack%2Fpython-heatclient~848802,openstack/python-heatclient,master,Ie385012787c3d574611a50781c59090efff2377c,Imported Translations from Zanata,MERGED,2022-07-06 03:52:57.000000000,2022-11-25 06:40:53.000000000,2022-11-25 06:39:57.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 32102}]","[{'number': 1, 'created': '2022-07-06 03:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/a89901a9ad17af91fc6cd944836aebd361962e82', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie385012787c3d574611a50781c59090efff2377c\n'}, {'number': 2, 'created': '2022-09-07 02:48:29.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/python-heatclient/commit/1c851850a32930e40dfbbd14ad8bbaf2d5811fa3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ie385012787c3d574611a50781c59090efff2377c\n'}]",0,848802,1c851850a32930e40dfbbd14ad8bbaf2d5811fa3,12,3,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ie385012787c3d574611a50781c59090efff2377c
",git fetch https://review.opendev.org/openstack/python-heatclient refs/changes/02/848802/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,a89901a9ad17af91fc6cd944836aebd361962e82,zanata/translations,"# Andi Chandler <andi@gowling.com>, 2022. #zanata msgid """" msgstr """" ""Project-Id-Version: Python-heatclient releasenotes\n"" ""Report-Msgid-Bugs-To: \n"" ""POT-Creation-Date: 2022-07-04 03:05+0000\n"" ""MIME-Version: 1.0\n"" ""Content-Type: text/plain; charset=UTF-8\n"" ""Content-Transfer-Encoding: 8bit\n"" ""PO-Revision-Date: 2022-07-05 09:33+0000\n"" ""Last-Translator: Andi Chandler <andi@gowling.com>\n"" ""Language-Team: English (United Kingdom)\n"" ""Language: en_GB\n"" ""X-Generator: Zanata 4.3.3\n"" ""Plural-Forms: nplurals=2; plural=(n != 1)\n"" msgid ""# openstack stack update --converge ... <stack_name>"" msgstr ""# openstack stack update --converge ... <stack_name>"" msgid ""1.13.0"" msgstr ""1.13.0"" msgid ""2.0.0"" msgstr ""2.0.0"" msgid ""2.1.0"" msgstr ""2.1.0"" msgid """" ""Adds '--converge' option for stack update with openstackclient. If "" ""specified, existing resource attributes (which may have diverged) are "" ""compared with the resource properties in the template used for update."" msgstr """" ""Adds '--converge' option for stack update with openstackclient. If "" ""specified, existing resource attributes (which may have diverged) are "" ""compared with the resource properties in the template used for the update."" msgid """" ""Adds ``files-container`` option for stack create, update and template "" ""validate with openstackclient. If specified, no local files other than root "" ""template would be sent to heat engine. Heat engine would try and download "" ""the all other files relative to the ``files-container``, else raise an error."" msgstr """" ""Adds ``files-container`` option for stack create, update and template "" ""validate with openstackclient. If specified, no local files other than root "" ""template would be sent to the Heat engine. The Heat engine would try and "" ""download all other files relative to the ``files-container``, else raise an "" ""error."" msgid ""Contents:"" msgstr ""Contents:"" msgid ""Current Series Release Notes"" msgstr ""Current Series Release Notes"" msgid ""New Features"" msgstr ""New Features"" msgid """" ""Python 2.7 support has been dropped. The minimum version of Python now "" ""supported by python-heatclient is Python 3.6."" msgstr """" ""Python 2.7 support has been dropped. The minimum version of Python now "" ""supported by python-heatclient is Python 3.6."" msgid ""Queens Series Release Notes"" msgstr ""Queens Series Release Notes"" msgid ""Rocky Series Release Notes"" msgstr ""Rocky Series Release Notes"" msgid ""Stein Series Release Notes"" msgstr ""Stein Series Release Notes"" msgid ""Train Series Release Notes"" msgstr ""Train Series Release Notes"" msgid ""Upgrade Notes"" msgstr ""Upgrade Notes"" msgid ""Usage:"" msgstr ""Usage:"" msgid ""Ussuri Series Release Notes"" msgstr ""Ussuri Series Release Notes"" msgid ""Victoria Series Release Notes"" msgstr ""Victoria Series Release Notes"" msgid ""Wallaby Series Release Notes"" msgstr ""Wallaby Series Release Notes"" msgid ""Welcome to Python-heatclient releasenotes's documentation!"" msgstr ""Welcome to Python-heatclient releasenotes documentation!"" msgid ""Xena Series Release Notes"" msgstr ""Xena Series Release Notes"" msgid ""Yoga Series Release Notes"" msgstr ""Yoga Series Release Notes"" ",,100,0
openstack%2Fui-cookiecutter~788296,openstack/ui-cookiecutter,master,I3eb1514af40f59996a8c6f10129d2a2b62510fba,Use Horizon project template for nodejs jobs,NEW,2021-04-27 13:36:29.000000000,2022-11-25 06:27:10.000000000,,"[{'_account_id': 16352}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-27 13:36:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/3e2b8166e6514cbab3a2063528042dc6a6da9dd7', 'message': 'Add horizon-nodejs14-job template.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/784062\nChange-Id: I3eb1514af40f59996a8c6f10129d2a2b62510fba\n'}, {'number': 2, 'created': '2021-06-16 13:54:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/f44cc41f05c4da9c92b487c05098d82dbb139767', 'message': 'Update horizon nodejs template\n\nNodejs10 is already EOL[1] . So this patch updates\nhorizon-nodejs10 template with horizon-nodejs14 template\nwhich is next LTS vesrion of nodejs.\n\n[1] https://nodejs.org/en/about/releases/\n\nChange-Id: I3eb1514af40f59996a8c6f10129d2a2b62510fba\n'}, {'number': 3, 'created': '2022-05-10 19:05:45.000000000', 'files': ['{{cookiecutter.repo_name}}/.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/ui-cookiecutter/commit/0fa50ffea0cfcea9941005b9f374cd7d28f4a5fa', 'message': ""Use Horizon project template for nodejs jobs\n\nHorizon defined a project template 'horizon-nodejs-jobs'\nfor nodejs jobs. This patch updates ``.zuul.yaml`` to\nuse that template to run nodejs jobs here.\n\nDepends-On: https://review.opendev.org/c/openstack/horizon/+/831929\nChange-Id: I3eb1514af40f59996a8c6f10129d2a2b62510fba\n""}]",2,788296,0fa50ffea0cfcea9941005b9f374cd7d28f4a5fa,20,2,3,29313,,,0,"Use Horizon project template for nodejs jobs

Horizon defined a project template 'horizon-nodejs-jobs'
for nodejs jobs. This patch updates ``.zuul.yaml`` to
use that template to run nodejs jobs here.

Depends-On: https://review.opendev.org/c/openstack/horizon/+/831929
Change-Id: I3eb1514af40f59996a8c6f10129d2a2b62510fba
",git fetch https://review.opendev.org/openstack/ui-cookiecutter refs/changes/96/788296/1 && git format-patch -1 --stdout FETCH_HEAD,['{{cookiecutter.repo_name}}/.zuul.yaml'],1,3e2b8166e6514cbab3a2063528042dc6a6da9dd7,migrate-to-nodejs16, - horizon-nodejs14-jobs,,1,0
openstack%2Ftripleo-ansible~863876,openstack/tripleo-ansible,master,Ida1bf054455b53c96952ecc78f8282f94c3a31a0,Use uc for tox py* targets,MERGED,2022-11-07 13:39:26.000000000,2022-11-25 04:37:02.000000000,2022-11-25 04:36:07.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-07 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/40b1868aae633f6c9e844b3d84c43c090372b0b3', 'message': 'Use uc for tox py* targets\n\nThese jobs atm install tripleo-common master\non stable/zed and stable/wallaby.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 2, 'created': '2022-11-07 13:45:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/366c08e45046e35fd78a1487f62c77add57d12d9', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 3, 'created': '2022-11-20 06:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cc645d600fd1213ca6104f0ff6c4a34c227f0cc0', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 4, 'created': '2022-11-20 06:24:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5a2d9b7dcb9535b1a078802b58c5b8c91d4b7bc', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 5, 'created': '2022-11-20 06:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d10bf4cde6ad3ca5cd7df679c5066b2c01944f48', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 6, 'created': '2022-11-20 07:15:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bb3808c4afeb28ad85d3430b4adbe20170a79e7e', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}, {'number': 7, 'created': '2022-11-21 00:44:09.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f', 'message': 'Use uc for tox py* targets\n\nWe install tripleo-common master on stable/zed and stable/wallaby now\nand they would be broken for changes in tripleo-common.\n\nChange-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0\n'}]",5,863876,cd6aa62f1b03eb4e474df9e161a3ee6b2e9f183f,33,4,7,8833,,,0,"Use uc for tox py* targets

We install tripleo-common master on stable/zed and stable/wallaby now
and they would be broken for changes in tripleo-common.

Change-Id: Ida1bf054455b53c96952ecc78f8282f94c3a31a0
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/76/863876/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,40b1868aae633f6c9e844b3d84c43c090372b0b3,, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -r {toxinidir}/requirements.txt,install_command = python3 -m pip install {opts} {packages},2,1
openstack%2Fneutron~864981,openstack/neutron,stable/ussuri,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:14:09.000000000,2022-11-25 03:01:59.000000000,2022-11-25 03:00:36.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:14:09.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nConflicts:\n      neutron/agent/ovn/metadata/agent.py\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",6,864981,4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc,26,6,1,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Conflicts:
      neutron/agent/ovn/metadata/agent.py

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/81/864981/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc,," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,63
openstack%2Fheat~853891,openstack/heat,master,I5bb181ed1665c02b6d5e7a26e3663389001cf138,DNM: Disable tests which require Cinder,ABANDONED,2022-08-22 00:14:24.000000000,2022-11-25 02:57:52.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-22 00:14:24.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/873370e222d7a63efe23bcf554a31701ec52342e', 'message': 'DNM: Disable tests which require Cinder\n\nDepends-on: https://review.opendev.org/853864\nChange-Id: I5bb181ed1665c02b6d5e7a26e3663389001cf138\n'}]",1,853891,873370e222d7a63efe23bcf554a31701ec52342e,7,1,1,9816,,,0,"DNM: Disable tests which require Cinder

Depends-on: https://review.opendev.org/853864
Change-Id: I5bb181ed1665c02b6d5e7a26e3663389001cf138
",git fetch https://review.opendev.org/openstack/heat refs/changes/91/853891/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,873370e222d7a63efe23bcf554a31701ec52342e,, cinder: False,,1,0
openstack%2Fheat~853890,openstack/heat,master,I01e7e897f0f21f2fd76782bb3641d38e932c3b4e,DNM: Testing [service_available] heat = false,ABANDONED,2022-08-22 00:13:06.000000000,2022-11-25 02:57:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-08-22 00:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b92a748b9d3c4751ccd917b0ab6038d858e1736a', 'message': 'DNM: Testing [service_available] heat = false\n\nDepends-on: https://review.opendev.org/c/openstack/heat-tempest-plugin/+/853889\nChange-Id: I01e7e897f0f21f2fd76782bb3641d38e932c3b4e\n'}, {'number': 2, 'created': '2022-08-22 00:14:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/63e81ef0d3e26d7f50b27f140f0868e6e918c5f5', 'message': 'DNM: Testing [service_available] heat = false\n\nDepends-on: https://review.opendev.org/c/openstack/heat-tempest-plugin/+/848556\nChange-Id: I01e7e897f0f21f2fd76782bb3641d38e932c3b4e\n'}]",0,853890,63e81ef0d3e26d7f50b27f140f0868e6e918c5f5,7,1,2,9816,,,0,"DNM: Testing [service_available] heat = false

Depends-on: https://review.opendev.org/c/openstack/heat-tempest-plugin/+/848556
Change-Id: I01e7e897f0f21f2fd76782bb3641d38e932c3b4e
",git fetch https://review.opendev.org/openstack/heat refs/changes/90/853890/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,b92a748b9d3c4751ccd917b0ab6038d858e1736a,, heat: False, heat: True,1,1
openstack%2Fswift~865609,openstack/swift,master,I15177b3633cb7480df982c1ac4ebb4e97b95cf9d,Move to tracing swift.common.trace namespace,NEW,2022-11-25 00:38:46.000000000,2022-11-25 01:53:49.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-25 00:38:46.000000000', 'files': ['swift/obj/server.py', 'test/unit/common/middleware/test_quotas.py', 'swift/common/middleware/versioned_writes/legacy.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/memcache.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/common/trace/tracer/jaeger.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/recon.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/trace/tracer/otel.py', 'swift/common/middleware/crypto/encrypter.py', 'swift/common/middleware/copy.py', 'swift/common/digest.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/domain_remap.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/common/middleware/request_trace.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/test_tempurl.py', 'setup.cfg', 'swift/common/middleware/catch_errors.py', 'swift/common/trace/__init__.py', 'swift/common/middleware/container_quotas.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_container_sync.py', 'swift/common/middleware/listing_formats.py', 'swift/account/server.py', 'swift/common/middleware/cname_lookup.py', 'test/unit/common/test_wsgi.py', 'swift/common/middleware/name_check.py', 'swift/common/middleware/symlink.py', 'swift/container/server.py', 'test/unit/common/middleware/test_tempauth.py', 'swift/common/middleware/healthcheck.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/trace/tracer/__init__.py', 'swift/common/middleware/read_only.py', 'test/unit/common/test_trace.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/keystoneauth.py', 'test/unit/common/middleware/test_list_endpoints.py', 'swift/proxy/server.py', 'swift/common/middleware/s3api/s3token.py', 'swift/common/middleware/gatekeeper.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_keystoneauth.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/common/middleware/crossdomain.py', 'test/unit/common/middleware/helpers.py', 'swift/proxy/controllers/base.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/4b222ef3f05bdfaaed9de2af809b4ac038133771', 'message': 'Move to tracing swift.common.trace namespace\n\nAnd make the new traceaware eventlet pile and pool optionally use a env\nand fallback to the opentelemetry.trace latest span (although maybe this\nshould be removed).\n\nChange-Id: I15177b3633cb7480df982c1ac4ebb4e97b95cf9d\n'}]",1,865609,4b222ef3f05bdfaaed9de2af809b4ac038133771,3,1,1,7233,,,0,"Move to tracing swift.common.trace namespace

And make the new traceaware eventlet pile and pool optionally use a env
and fallback to the opentelemetry.trace latest span (although maybe this
should be removed).

Change-Id: I15177b3633cb7480df982c1ac4ebb4e97b95cf9d
",git fetch https://review.opendev.org/openstack/swift refs/changes/09/865609/1 && git format-patch -1 --stdout FETCH_HEAD,"['swift/obj/server.py', 'test/unit/common/middleware/test_quotas.py', 'swift/common/middleware/versioned_writes/legacy.py', 'test/unit/common/middleware/test_ratelimit.py', 'test/unit/proxy/controllers/test_base.py', 'swift/common/middleware/crypto/decrypter.py', 'swift/common/middleware/memcache.py', 'swift/common/wsgi.py', 'swift/proxy/controllers/obj.py', 'swift/common/trace/tracer/jaeger.py', 'swift/common/middleware/bulk.py', 'swift/common/middleware/recon.py', 'test/unit/common/middleware/test_slo.py', 'swift/common/middleware/proxy_logging.py', 'swift/common/trace/tracer/otel.py', 'swift/common/middleware/crypto/encrypter.py', 'swift/common/middleware/copy.py', 'swift/common/digest.py', 'swift/common/middleware/formpost.py', 'swift/common/middleware/domain_remap.py', 'swift/common/middleware/versioned_writes/object_versioning.py', 'swift/common/middleware/dlo.py', 'test/unit/common/middleware/test_account_quotas.py', 'swift/common/middleware/request_trace.py', 'test/unit/common/middleware/s3api/__init__.py', 'test/unit/common/middleware/test_tempurl.py', 'setup.cfg', 'swift/common/middleware/catch_errors.py', 'swift/common/trace/__init__.py', 'swift/common/middleware/container_quotas.py', 'swift/common/middleware/xprofile.py', 'swift/common/middleware/staticweb.py', 'test/unit/common/middleware/test_container_sync.py', 'swift/common/middleware/listing_formats.py', 'swift/account/server.py', 'swift/common/middleware/cname_lookup.py', 'test/unit/common/test_wsgi.py', 'swift/common/middleware/name_check.py', 'swift/common/middleware/symlink.py', 'swift/container/server.py', 'test/unit/common/middleware/test_tempauth.py', 'swift/common/middleware/healthcheck.py', 'swift/common/middleware/account_quotas.py', 'swift/common/middleware/slo.py', 'swift/common/middleware/container_sync.py', 'swift/common/middleware/s3api/s3api.py', 'swift/common/trace/tracer/__init__.py', 'swift/common/middleware/read_only.py', 'test/unit/common/test_trace.py', 'swift/common/middleware/tempurl.py', 'swift/common/middleware/crypto/keymaster.py', 'swift/common/middleware/etag_quoter.py', 'swift/common/middleware/keystoneauth.py', 'test/unit/common/middleware/test_list_endpoints.py', 'swift/proxy/server.py', 'swift/common/middleware/s3api/s3token.py', 'swift/common/middleware/gatekeeper.py', 'swift/common/utils.py', 'test/unit/common/middleware/test_keystoneauth.py', 'swift/common/middleware/ratelimit.py', 'swift/common/middleware/list_endpoints.py', 'swift/common/middleware/tempauth.py', 'swift/common/middleware/crossdomain.py', 'test/unit/common/middleware/helpers.py', 'swift/proxy/controllers/base.py']",65,4b222ef3f05bdfaaed9de2af809b4ac038133771,otel-trace-backup," pile = GreenAsyncPile(self.concurrency, self.env) pile = GreenAsyncPile(node_number, req.environ)", pile = GreenAsyncPile(self.concurrency) pile = GreenAsyncPile(node_number),478,404
openstack%2Fcyborg-tempest-plugin~860787,openstack/cyborg-tempest-plugin,master,I04df834d56fc29a9cc1c15e292fbfbbe858368e5,create the accelerator request with special characters,MERGED,2022-10-11 09:50:10.000000000,2022-11-25 01:47:38.000000000,2022-11-25 01:47:38.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29759}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-10-11 09:50:10.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/d602ec90bec44b0a2f11ea7d2a629c50db91d886', 'message': 'create the accelerator request with special characters\n\ncreate the accelerator request with special characters\n\nChange-Id: I04df834d56fc29a9cc1c15e292fbfbbe858368e5\n'}]",1,860787,d602ec90bec44b0a2f11ea7d2a629c50db91d886,8,4,1,30409,,,0,"create the accelerator request with special characters

create the accelerator request with special characters

Change-Id: I04df834d56fc29a9cc1c15e292fbfbbe858368e5
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/87/860787/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_accelerator_request_negative.py'],1,d602ec90bec44b0a2f11ea7d2a629c50db91d886,master11," @test.attr(type=['negative', 'gate']) def test_create_accelerator_request_with_special_characters(self): # create the accelerator request with special characters dp_mame = {""device_profile_name"": ""!@#$%^&*()=-[]""} self.assertRaises( lib_exc.NotFound, self.os_admin.cyborg_client.create_accelerator_request, dp_mame)",,9,0
openstack%2Fopenstack-helm~865347,openstack/openstack-helm,master,I29ea57aa80444ed64673818e597c9ca346ba7b2f,Avoid unrequired policy setup,MERGED,2022-11-22 23:18:53.000000000,2022-11-25 01:05:12.000000000,2022-11-25 01:04:00.000000000,"[{'_account_id': 1004}, {'_account_id': 8898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 23:18:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c7b79c3d04406ae57db9e0a7b1a7709d55301e28', 'message': 'Avoid unrequired policy setup\n\nOpenStack services already moved to use policy in code.\nNo need to have policy file at this point, at least no need to put\ndefault policy rule to policy.yaml file anymore.\nTo put in duplicate rules, will cause unnecessay logs and process.\nAlso not healthy for policy in code maintain as the `default` rules in\nopenstack-helm might override actual default rules in code which we\nmight not even mean to change it at all.\n\nChange-Id: I29ea57aa80444ed64673818e597c9ca346ba7b2f\n'}, {'number': 2, 'created': '2022-11-23 14:43:28.000000000', 'files': ['releasenotes/notes/magnum.yaml', 'releasenotes/notes/heat.yaml', 'heat/Chart.yaml', 'releasenotes/notes/neutron.yaml', 'glance/values.yaml', 'ceilometer/values.yaml', 'magnum/Chart.yaml', 'cinder/Chart.yaml', 'designate/Chart.yaml', 'releasenotes/notes/cinder.yaml', 'releasenotes/notes/mistral.yaml', 'releasenotes/notes/senlin.yaml', 'senlin/values.yaml', 'aodh/Chart.yaml', 'mistral/values.yaml', 'mistral/Chart.yaml', 'senlin/Chart.yaml', 'heat/values.yaml', 'releasenotes/notes/aodh.yaml', 'releasenotes/notes/glance.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'releasenotes/notes/placement.yaml', 'aodh/values.yaml', 'neutron/Chart.yaml', 'designate/values.yaml', 'glance/Chart.yaml', 'releasenotes/notes/ceilometer.yaml', 'placement/values.yaml', 'releasenotes/notes/designate.yaml', 'placement/Chart.yaml', 'ceilometer/Chart.yaml', 'neutron/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b72f3d0f3c6278521b70bbaaefb9fe81063619a2', 'message': 'Avoid unrequired policy setup\n\nOpenStack services already moved to use policy in code.\nNo need to have policy file at this point, at least no need to put\ndefault policy rule to policy.yaml file anymore.\nTo put in duplicate rules, will cause unnecessay logs and process.\nAlso not healthy for policy in code maintain as the `default` rules in\nopenstack-helm might override actual default rules in code which we\nmight not even mean to change it at all.\n\nChange-Id: I29ea57aa80444ed64673818e597c9ca346ba7b2f\n'}]",3,865347,b72f3d0f3c6278521b70bbaaefb9fe81063619a2,15,3,2,12404,,,0,"Avoid unrequired policy setup

OpenStack services already moved to use policy in code.
No need to have policy file at this point, at least no need to put
default policy rule to policy.yaml file anymore.
To put in duplicate rules, will cause unnecessay logs and process.
Also not healthy for policy in code maintain as the `default` rules in
openstack-helm might override actual default rules in code which we
might not even mean to change it at all.

Change-Id: I29ea57aa80444ed64673818e597c9ca346ba7b2f
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/47/865347/1 && git format-patch -1 --stdout FETCH_HEAD,"['mistral/values.yaml', 'openstack/charts/helm-toolkit', 'heat/values.yaml', 'cinder/values.yaml', 'magnum/values.yaml', 'aodh/values.yaml', 'glance/values.yaml', 'designate/values.yaml', 'ceilometer/values.yaml', 'placement/values.yaml', 'neutron/values.yaml', 'senlin/values.yaml']",12,c7b79c3d04406ae57db9e0a7b1a7709d55301e28,fix-duplicate-policy-setup, policy: {}," policy: context_is_admin: role:admin deny_everybody: ""!"" build_info:build_info: '' profile_types:index: '' profile_types:get: '' policy_types:index: '' policy_types:get: '' clusters:index: '' clusters:create: '' clusters:delete: '' clusters:get: '' clusters:action: '' clusters:update: '' clusters:collect: '' profiles:index: '' profiles:create: '' profiles:get: '' profiles:delete: '' profiles:update: '' profiles:validate: '' nodes:index: '' nodes:create: '' nodes:get: '' nodes:action: '' nodes:update: '' nodes:delete: '' policies:index: '' policies:create: '' policies:get: '' policies:update: '' policies:delete: '' policies:validate: '' cluster_policies:index: '' cluster_policies:attach: '' cluster_policies:detach: '' cluster_policies:update: '' cluster_policies:get: '' receivers:index: '' receivers:create: '' receivers:get: '' receivers:delete: '' actions:index: '' actions:get: '' events:index: '' events:get: '' webhooks:trigger: ''",11,765
openstack%2Ftripleo-upgrade~849682,openstack/tripleo-upgrade,master,Iae1c9ef1244676589ee505201093daa52704a438,FFWD3 Refactor ffwd upgrade for train to wallaby,MERGED,2022-07-13 13:45:08.000000000,2022-11-25 00:14:05.000000000,2022-11-25 00:14:05.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 25402}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-07-13 13:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/edcaa14e5a1cb56a6c55af7924d8b412639f54d5', 'message': 'FFWD3 WIP\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 2, 'created': '2022-07-29 09:17:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/12c397fef87e8a1731ab5ef0e1721447d462128d', 'message': 'FFWD3 WIP\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 3, 'created': '2022-08-01 10:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/350e00bb07fbe5f2eeef10f0c14713ed42067d29', 'message': 'FFWD3 WIP\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 4, 'created': '2022-08-01 21:35:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/40312b75f3cdaa449958a5b57a4cba720f5b4169', 'message': 'FFWD3 WIP\n\ncoauthored...\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 5, 'created': '2022-08-02 08:56:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/ac85e98e4f272dbae12494034cfbb57d0825f1e6', 'message': 'FFWD3 WIP\n\ncoauthored...\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 6, 'created': '2022-08-04 21:44:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/d0bb2248a385c57972922868d71bf6d4bf405c9b', 'message': 'FFWD3 WIP\n\ncoauthored...\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 7, 'created': '2022-10-27 10:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/583790567b4ff15f7b4aa0ff84c0ac0158398a94', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 8, 'created': '2022-10-27 11:05:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bdb3e82543e236ebcd8df6a78de98f8150753833', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 9, 'created': '2022-11-14 11:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/57d91e8f8c93ce294497ea2755d980a55be762e3', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 10, 'created': '2022-11-23 17:28:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/65d0c1d44cac9fa5f5d83b1a564e0cdcea76aab0', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 11, 'created': '2022-11-24 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c5b6d1ac19c7e25e3204e1a7212df2e132574b82', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 12, 'created': '2022-11-24 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/89b9b530f58bb22135c492e8d8786a1d3a1143a1', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 13, 'created': '2022-11-24 12:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/256f6032d0444466f7407344bd5f0200ec7e1290', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}, {'number': 14, 'created': '2022-11-24 17:31:59.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/feef2cb04e08345db05b3a6018db94e2234c0616', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n'}]",21,849682,feef2cb04e08345db05b3a6018db94e2234c0616,52,5,14,11166,,,0,"FFWD3 Refactor ffwd upgrade for train to wallaby

This is first attempt to test whole upgrade procedure from
Train to Wallaby. We for now deal just with the OpenStack
upgrade part without OS upgrade step. When we will understand
the process better we will refactor this code.

Changes:
- Remove tls templates comversion.
- Cleanup adjust-roles-data. We might introduce new ones.
- Handle the network switch to ansible templates
- For now use Fast Furious procedure to generate playbook
- Add ceph adoption workflow from ceph-ansible to cephadm

Co-authored-by: jbadiapa@redhat.com

Change-Id: Iae1c9ef1244676589ee505201093daa52704a438
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/82/849682/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'tasks/common/convert_nic_templates.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/main.yml']",4,edcaa14e5a1cb56a6c55af7924d8b412639f54d5,,, - name: convert nic templates import_tasks: ../common/convert_nic_templates.yaml tags: ffu_overcloud_prepare - name: convert tls templates import_tasks: convert_tls_templates.yaml tags: ffu_overcloud_prepare ,0,169
openstack%2Ftripleo-upgrade~865530,openstack/tripleo-upgrade,master,Ia162563838c59c47fbcd1cc3e60af496674be9e1,Remove ansible-core and molecule pins,MERGED,2022-11-24 11:29:18.000000000,2022-11-24 23:02:35.000000000,2022-11-24 23:02:35.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/8701b539da55c70bab759fde347c13e42ffde623', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 2, 'created': '2022-11-24 12:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/25ce691d67a16998ab968c0955f02af1d2a7145f', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 3, 'created': '2022-11-24 12:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/625015a54c51e4abf81230df72e9d6a6aabd6751', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\nAlso makes necessary changes for molecule 3.x.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 4, 'created': '2022-11-24 13:49:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/216259e39a6129b41a2295bc2479e1f6854637f4', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\nAlso makes necessary changes for molecule 3.x.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 5, 'created': '2022-11-24 14:37:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/169fc0a2abc5500f766278e7f51c3b9db5afab6b', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\nAlso makes necessary changes for molecule 3.x.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 6, 'created': '2022-11-24 15:33:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4fcfc572eeb126fd5c5879d4a48c0126cbd1c98b', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\nAlso makes necessary changes for molecule 3.x.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}, {'number': 7, 'created': '2022-11-24 16:14:52.000000000', 'files': ['ansible-requirements.txt', 'molecule/molecule-requirements.txt', 'molecule/ansible-role-requirements.yml', 'molecule/default/molecule.yml', 'meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/39936a4d0a8dfff28462acf95c6c72c1f7466358', 'message': 'Remove ansible-core and molecule pins\n\nThis fixes the current linter job issue.\nAlso makes necessary changes for molecule 3.x.\n\nChange-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1\n'}]",0,865530,39936a4d0a8dfff28462acf95c6c72c1f7466358,17,2,7,8833,,,0,"Remove ansible-core and molecule pins

This fixes the current linter job issue.
Also makes necessary changes for molecule 3.x.

Change-Id: Ia162563838c59c47fbcd1cc3e60af496674be9e1
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/30/865530/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'molecule/molecule-requirements.txt']",2,8701b539da55c70bab759fde347c13e42ffde623,,molecule>=3.3.4,"molecule>=2.22rc1,<3",2,2
openstack%2Fpuppet-tripleo~855443,openstack/puppet-tripleo,master,Iae1198f82fd89e9dacb84cd1140757785602311c,Stop creating ceilometer database,MERGED,2022-09-01 00:59:02.000000000,2022-11-24 22:54:20.000000000,2022-11-24 22:54:20.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-09-01 00:59:02.000000000', 'files': ['manifests/profile/base/database/mysql.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/7aa7a9c5fbec61213d4757ed6f0fae48ccd7da8a', 'message': 'Stop creating ceilometer database\n\n... because it is no longer used since metric data was offloaded to\nGnocchi.\n\nChange-Id: Iae1198f82fd89e9dacb84cd1140757785602311c\n'}]",1,855443,7aa7a9c5fbec61213d4757ed6f0fae48ccd7da8a,13,6,1,9816,,,0,"Stop creating ceilometer database

... because it is no longer used since metric data was offloaded to
Gnocchi.

Change-Id: Iae1198f82fd89e9dacb84cd1140757785602311c
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/43/855443/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/database/mysql.pp'],1,7aa7a9c5fbec61213d4757ed6f0fae48ccd7da8a,ceilometer-remove-db,," if lookup('ceilometer_collector_enabled', undef, undef, false) { tripleo::profile::base::database::mysql::include_and_check_auth{'ceilometer::db::mysql':} }",0,3
openstack%2Fpuppet-tripleo~846537,openstack/puppet-tripleo,master,I2ee3e942f07eda5c61a348e058fcf43ce2c7af70,Ceilometer: Skip configuring db parameters,MERGED,2022-06-20 01:05:54.000000000,2022-11-24 22:54:17.000000000,2022-11-24 22:54:17.000000000,"[{'_account_id': 4264}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-06-20 01:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5981900daaf5071a6bc5917e104955fdecfd9dea', 'message': 'Ceilometer: Skip configuring db parameters\n\n... because these parameters are not used actually.\n\nChange-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70\n'}, {'number': 2, 'created': '2022-06-20 01:12:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/49c1d31c91b0062461cf4cc0f964a78918e31250', 'message': 'Ceilometer: Skip configuring db parameters\n\n... because these parameters are not used actually.\n\nChange-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70\n'}, {'number': 3, 'created': '2022-06-20 01:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/4493ec8f281acfa1b6457bd89a043a0d1dec0ae0', 'message': 'Ceilometer: Skip configuring db parameters\n\n... because these parameters are not used actually.\n\nChange-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70\n'}, {'number': 4, 'created': '2022-09-01 00:59:02.000000000', 'files': ['spec/classes/tripleo_profile_base_ceilometer_spec.rb', 'manifests/profile/base/ceilometer.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5c58f0a47b93ba759a922f1c95bf226a92d0a210', 'message': 'Ceilometer: Skip configuring db parameters\n\n... because these parameters are not used actually.\n\nChange-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70\n'}]",2,846537,5c58f0a47b93ba759a922f1c95bf226a92d0a210,17,5,4,9816,,,0,"Ceilometer: Skip configuring db parameters

... because these parameters are not used actually.

Change-Id: I2ee3e942f07eda5c61a348e058fcf43ce2c7af70
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/37/846537/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_ceilometer_spec.rb', 'manifests/profile/base/ceilometer.pp']",2,5981900daaf5071a6bc5917e104955fdecfd9dea,ceilometer-remove-db, include ceilometer::db::sync, include ceilometer::db,3,3
openstack%2Fopenstack-ansible-os_neutron~864572,openstack/openstack-ansible-os_neutron,master,I6af7f0d643ad09f98120fca9c18063b4fe4d29e9,Add dep python-binary-memcached,MERGED,2022-11-15 16:42:14.000000000,2022-11-24 22:39:04.000000000,2022-11-24 22:38:10.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-15 16:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/f55a97f191339ace1d19ca45e691775ecfcb0e33', 'message': 'Add dep python-binary-memcached\n\nThe dogpile library is attempting to load bmemcached and without the\ndependencies the service will throw an excessive amount of errors\nwhen attempting to load the library. To resolve this issue we install\nthe missing dependency.\n\n* Package install for debian\n* Pip install\nX no RPM was found so none included in this PR\n\nChange-Id: I6af7f0d643ad09f98120fca9c18063b4fe4d29e9\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 2, 'created': '2022-11-15 17:09:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/994ff89cc27919f87f183c6d8c49efd4466fa4a5', 'message': 'Add dep python-binary-memcached\n\nThe dogpile library is attempting to load bmemcached and without the\ndependencies the service will throw an excessive amount of errors\nwhen attempting to load the library. To resolve this issue we install\nthe missing dependency.\n\n* Package install for debian\n* Pip install\nX no RPM was found so none included in this PR\n\nChange-Id: I6af7f0d643ad09f98120fca9c18063b4fe4d29e9\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2022-11-24 15:46:27.000000000', 'files': ['vars/debian.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/07e7d0f079fad34e6b82b4a3d395161561c24d62', 'message': 'Add dep python-binary-memcached\n\nThe dogpile library is attempting to load bmemcached and without the\ndependencies the service will throw an excessive amount of errors\nwhen attempting to load the library. To resolve this issue we install\nthe missing dependency.\n\n* Package install for debian\n* Pip install\nX no RPM was found so none included in this PR\n\nChange-Id: I6af7f0d643ad09f98120fca9c18063b4fe4d29e9\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",2,864572,07e7d0f079fad34e6b82b4a3d395161561c24d62,14,3,3,7353,,,0,"Add dep python-binary-memcached

The dogpile library is attempting to load bmemcached and without the
dependencies the service will throw an excessive amount of errors
when attempting to load the library. To resolve this issue we install
the missing dependency.

* Package install for debian
* Pip install
X no RPM was found so none included in this PR

Change-Id: I6af7f0d643ad09f98120fca9c18063b4fe4d29e9
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/72/864572/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/debian.yml', 'vars/main.yml']",2,f55a97f191339ace1d19ca45e691775ecfcb0e33,, - python-binary-memcached,,2,0
openstack%2Fopenstack-ansible-os_ceilometer~864962,openstack/openstack-ansible-os_ceilometer,master,Ic23655e793aca9db344354ef95460858534c518c,remove loadbalancer from installed definitions,MERGED,2022-11-18 02:31:35.000000000,2022-11-24 22:25:11.000000000,2022-11-24 22:24:12.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-18 02:31:35.000000000', 'files': ['defaults/main.yml', 'vars/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_ceilometer/commit/19c0141676a978bb96ecf4ea4905e95d0dc4a344', 'message': 'remove loadbalancer from installed definitions\n\nThe example file was removed from ceilometer in\n318c54648c2c85d4f4f5425c5ffc5e5f3dda86f2\n\nSigned-off-by: Matthew Thode <mthode@mthode.org>\nChange-Id: Ic23655e793aca9db344354ef95460858534c518c\n'}]",0,864962,19c0141676a978bb96ecf4ea4905e95d0dc4a344,8,3,1,14288,,,0,"remove loadbalancer from installed definitions

The example file was removed from ceilometer in
318c54648c2c85d4f4f5425c5ffc5e5f3dda86f2

Signed-off-by: Matthew Thode <mthode@mthode.org>
Change-Id: Ic23655e793aca9db344354ef95460858534c518c
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_ceilometer refs/changes/62/864962/1 && git format-patch -1 --stdout FETCH_HEAD,"['defaults/main.yml', 'vars/main.yml']",2,19c0141676a978bb96ecf4ea4905e95d0dc4a344,remove_lb,,"ceilometer_loadbalancer_v2_meter_definitions_user_content: ""{{ lookup('file', ceilometer_loadbalancer_v2_meter_definitions_default_file_path, errors='ignore') }}"" - tmp_f: ""{{ (ceilometer_loadbalancer_v2_meter_definitions_user_content | length > 0) | ternary(false, '/tmp/loadbalancer_v2_meter_definitions.yaml') }}"" source_f: ""/etc/ceilometer/examples/loadbalancer_v2_meter_definitions.yaml"" target_f: ""/etc/ceilometer/loadbalancer_v2_meter_definitions.yaml"" config_overrides: ""{{ ceilometer_loadbalancer_v2_meter_definitions_yaml_overrides }}"" config_type: ""yaml"" list_extend: false content: ""{{ ceilometer_loadbalancer_v2_meter_definitions_user_content }}"" condition: ""{{ ceilometer_install_method == 'source' }}""",0,11
openstack%2Ftripleo-validations~864854,openstack/tripleo-validations,master,Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d,Add validation to check if a reboot of a node is necessary,MERGED,2022-11-17 10:03:10.000000000,2022-11-24 21:46:13.000000000,2022-11-24 21:45:12.000000000,"[{'_account_id': 6816}, {'_account_id': 8297}, {'_account_id': 11166}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 31245}, {'_account_id': 32432}, {'_account_id': 32926}, {'_account_id': 33080}]","[{'number': 1, 'created': '2022-11-17 10:03:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2fc71c03f27174469446e2bfc52605bbb1eb292a', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 2, 'created': '2022-11-17 10:06:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/1976b0218b2be8bfffeaf27bf4a334eecbf8c9bb', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 3, 'created': '2022-11-17 15:08:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2be5a8231958562133367884f7b7c80b8edc92bd', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 4, 'created': '2022-11-18 07:02:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2a98234f750cba2db4e40ac0c72d106546c8d5a0', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 5, 'created': '2022-11-24 08:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/77f8db4fb7edb172aab019188e7fcff97c6b6292', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 6, 'created': '2022-11-24 12:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/32058fb3f6e485cc31533993009a30b717e9e816', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}, {'number': 7, 'created': '2022-11-24 12:50:52.000000000', 'files': ['roles/check_reboot/defaults/main.yaml', 'roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/bb344b093ddc5df0568b8449ac35e50ab49723b5', 'message': 'Add validation to check if a reboot of a node is necessary\n\nFor Upgrade usage, this validation will check with yum-utils\nif a reboot is needed by some core packages according to:\nhttps://access.redhat.com/solutions/27943\n\nChange-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d\n'}]",13,864854,bb344b093ddc5df0568b8449ac35e50ab49723b5,31,9,7,16515,,,0,"Add validation to check if a reboot of a node is necessary

For Upgrade usage, this validation will check with yum-utils
if a reboot is needed by some core packages according to:
https://access.redhat.com/solutions/27943

Change-Id: Ib0ec55bfb4614b1415ab61a0077c34f4d147d43d
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/54/864854/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/check_reboot/tasks/main.yaml', 'doc/source/roles/role-check_reboot.rst', 'playbooks/check-reboot.yaml', 'roles/check_reboot/default/main.yaml']",4,2fc71c03f27174469446e2bfc52605bbb1eb292a,pre/upgrade/reboot,"fail_if_reboot: true no_reboot_message: ""Reboot should not be necessary."" ",,46,0
openstack%2Foctavia-tempest-plugin~812260,openstack/octavia-tempest-plugin,master,Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138,API and scenario tests for PROMETHEUS listeners.,MERGED,2021-10-02 19:59:54.000000000,2022-11-24 21:29:38.000000000,2022-11-24 21:28:32.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}, {'_account_id': 32761}, {'_account_id': 34429}]","[{'number': 1, 'created': '2021-10-02 19:59:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/713ce63868fae6ca4474aaec0be8cdc06c6d7bba', 'message': 'Adds API and scenario tests for STATS listeners.\n\nThis patch adds API and scenario tests for STATS listeners. This\nincludes scenario tests that connect to the new stats and metrics\nendpoints.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/812258\nChange-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138\n'}, {'number': 2, 'created': '2022-02-16 01:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ba14b0a39a24fbcf2486987bcceebd72a1ed87d4', 'message': 'API and scenario tests for PROMETHEUS listeners.\n\nThis patch adds API and scenario tests for PROMETHEUS listeners. This\nincludes scenario tests that connect to the metrics endpoint.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/812258\nChange-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138\n'}, {'number': 3, 'created': '2022-02-20 04:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/d13fcf777de931fdbcc9ac0923b86cf8646a1ac1', 'message': 'API and scenario tests for PROMETHEUS listeners.\n\nThis patch adds API and scenario tests for PROMETHEUS listeners. This\nincludes scenario tests that connect to the metrics endpoint.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/812258\nChange-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138\n'}, {'number': 4, 'created': '2022-02-21 17:19:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/ebdd9e109d8da04cc5d2af21ed08cecffa214534', 'message': 'API and scenario tests for PROMETHEUS listeners.\n\nThis patch adds API and scenario tests for PROMETHEUS listeners. This\nincludes scenario tests that connect to the metrics endpoint.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/812258\nChange-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138\n'}, {'number': 5, 'created': '2022-11-21 23:29:14.000000000', 'files': ['releasenotes/notes/Add-PROMETHEUS-listener-API-and-scenario-tests-ccab4b09f6a64428.yaml', 'octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/common/constants.py', 'octavia_tempest_plugin/tests/api/v2/test_listener.py'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/8646e5ae9786c7e07e781eb93c90db725eee4113', 'message': 'API and scenario tests for PROMETHEUS listeners.\n\nThis patch adds API and scenario tests for PROMETHEUS listeners. This\nincludes scenario tests that connect to the metrics endpoint.\n\nDepends-On: https://review.opendev.org/c/openstack/octavia/+/812258\nChange-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138\n'}]",14,812260,8646e5ae9786c7e07e781eb93c90db725eee4113,41,6,5,11628,,,0,"API and scenario tests for PROMETHEUS listeners.

This patch adds API and scenario tests for PROMETHEUS listeners. This
includes scenario tests that connect to the metrics endpoint.

Depends-On: https://review.opendev.org/c/openstack/octavia/+/812258
Change-Id: Ia46d8c0967bc5b0f7cd11b6e3ca3a4e03c0bc138
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/60/812260/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia_tempest_plugin/tests/scenario/v2/test_traffic_ops.py', 'octavia_tempest_plugin/config.py', 'octavia_tempest_plugin/common/constants.py', 'releasenotes/notes/Add-STATS-listener-API-and-scenario-tests-ccab4b09f6a64428.yaml', 'octavia_tempest_plugin/tests/api/v2/test_listener.py']",5,713ce63868fae6ca4474aaec0be8cdc06c6d7bba,,"import testtools @decorators.idempotent_id('1a6ba0d0-f309-4088-a686-dda0e9ab7e43') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.stats_listener_enabled, 'STATS listener tests are disabled in the tempest configuration.') def test_stats_listener_create(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('STATS listeners are only available on ' 'Octavia API version 2.25 or newer.') self._test_listener_create(const.STATS, 8090) @decorators.idempotent_id('5473e071-8277-4ac5-9277-01ecaf46e274') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.stats_listener_enabled, 'STATS listener tests are disabled in the tempest configuration.') def test_stats_listener_list(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('STATS listeners are only available on ' 'Octavia API version 2.25 or newer.') self._test_listener_list(const.STATS, 8091) @decorators.idempotent_id('b851b754-4333-4115-9063-a9fce44c2e46') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.stats_listener_enabled, 'STATS listener tests are disabled in the tempest configuration.') def test_stats_listener_show(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('STATS listeners are only available on ' 'Octavia API version 2.25 or newer.') self._test_listener_show(const.STATS, 8092) @decorators.idempotent_id('cbba6bf8-9184-4da5-95e9-5efe1f89ddf0') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.stats_listener_enabled, 'STATS listener tests are disabled in the tempest configuration.') def test_stats_listener_update(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('STATS listeners are only available on ' 'Octavia API version 2.25 or newer.') self._test_listener_update(const.STATS, 8093) @decorators.idempotent_id('322a6372-6b56-4a3c-87e3-dd82074bc83e') @testtools.skipUnless( CONF.loadbalancer_feature_enabled.stats_listener_enabled, 'STATS listener tests are disabled in the tempest configuration.') def test_stats_listener_delete(self): if not self.mem_listener_client.is_version_supported( self.api_version, '2.25'): raise self.skipException('STATS listeners are only available on ' 'Octavia API version 2.25 or newer.') self._test_listener_delete(const.STATS, 8094) ",,199,0
openstack%2Fopenstack-ansible~864268,openstack/openstack-ansible,stable/wallaby,I3729d27b71025e896b7745de6d835d1067df365b,Set Wallaby to stable branch after EM-ing,MERGED,2022-11-11 14:01:02.000000000,2022-11-24 21:07:02.000000000,2022-11-24 21:05:38.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-11 14:01:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2aff73cc17bedb31f1e5a79c2d7cfad5c643f7d9', 'message': 'Set Wallaby to stable branch after EM-ing\n\nChange-Id: I3729d27b71025e896b7745de6d835d1067df365b\n'}, {'number': 2, 'created': '2022-11-14 10:06:45.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/00eef972156d2944ee8cc3848a62496211bf1d5f', 'message': 'Set Wallaby to stable branch after EM-ing\n\nChange-Id: I3729d27b71025e896b7745de6d835d1067df365b\n'}]",1,864268,00eef972156d2944ee8cc3848a62496211bf1d5f,14,3,2,28619,,,0,"Set Wallaby to stable branch after EM-ing

Change-Id: I3729d27b71025e896b7745de6d835d1067df365b
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/68/864268/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/defaults/repo_packages/openstack_services.yml', 'ansible-role-requirements.yml']",2,2aff73cc17bedb31f1e5a79c2d7cfad5c643f7d9,bump_osa, version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable-5.0 version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby version: stable/wallaby, version: 141c98dbeecb37b736762f32534072873f662cdf version: b3bdbeb22401fa2cf14a7c73c015fc6032605d0a version: ee971b568134002ce058a3167338f56b1d489193 version: 71b4c59e57caf487fec23b33c341aaaaeff745cd version: d9fa4351db64dd3c7fe45414a3170732d09f041c version: dc2db26be5ae6c263adcea831fc71220a6edcfcc version: 7d71769b721cca23ced26453d303112515b0a508 version: 866db1969d6e9edfb0ce54f5fc7f893ad48d43d8 version: eefdc4a3af05120669065930efddf1cddc954d6b version: 67c45ef0f4275b54d3b72f621d3163a4f19cc506 version: 52e249cfe5f83d44dfcb512548a40775b955826e version: c8ee47b3a9c9a6a69bcedc196c1183d9b9f2249b version: 7036c501ad4792dda22a7357f1539bae58039307 version: 21a82561755df236d5ca3ba35d200ca95de851fb version: 114460a935e2d74ee29a87ecca65b76a33937b92 version: 87fdc3a17a211a3f896dc20c6090021bfa5c10ef version: 5e8e7720e7516b60a0c552c552ca9e35a89cff45 version: 47e95e86449979b7cd4cdcfd9a77bb93a0bc90a9 version: 319e00295bd1d91865a22c7c78b289ed15c55f68 version: da4651a7dde34b29aa1d421ee250127c394cb6f6 version: a33a5b02b9f8ce9c456ab7f2c731ad2be506f2e6 version: 0061c0a3f6ae2cbcd20ac8105093ced9ad54310c version: fb868b58cef30a378e8577ed97623bbf6602359f version: 570879e85f44bdf06dcce3a4edbefb986e282653 version: 7f767ae00e06427ae452e8a75d95adfecf3e2494 version: 616458635adf0d8399d5371f72d250e2043cc1df version: 95093ace1379c2cf22e4d4834f65d7c4ebbca91d version: 34343349d86991feed1bfbbfcf735a9cea1300ef version: e865acfc794634ca989e22df9ba81f33efcff6a2 version: 7898c61e286834c0690911cbafbbd4bac9fc3787 version: 80683028366cb5ff895fda3d95fac14c4b5dfc62 version: 53019323c41d933aa085a69ff8259deee383b9f3 version: e25d1a7d16c74d6d87ad4d8f1a3242982deca2ec version: f8b256545bdf58cbc5657ce8dab2e82d3a52afe1 version: 75f9d7b7f56a21d57169d4e5f22e34206c34d13e version: 72d1b4d4b7004a611c3886e5c7993c3bde5c13a6 version: 5d90bfe91ce2eb5c2dda39bc2a352673d6b25253 version: 164ddfdff48e8a87f62290150439f59530acaa60 version: 69761c1f542184af553fc65754557ce470f9c0ff version: cd844f513cd68c33355a3e102098b7a4e1abf481 version: 307b1b08c3f84c40adb5e5a87d1f9c6c7d7c1c60 version: ebad60dbca320b031f2d49db3a6d1a0f820ded69 version: dae22fa4e0b68185ca1c081e00bc7e732f166af7 version: 405efddcb96a647c4648386b3c483a9fdae15da2 version: 185ac4e2ae5bd15b1ee429ddbc46a72ba28fb725 version: 91ee683e978fd35cf2a6a8190ee5258edce20fd6 version: d747ea6feb5fa093839409d4f8e4b248b56495d2 version: 1b49988e4aa311559287eb51dc4040584ad1472a version: a0b0a34b36faae19e1285026c61a5660af75b4a7 version: a4bbe239984e321511ce925f77dcc8f6bbb7202d version: e9f71c8348cebcf63e50daff6cbf6444c29e0e56 version: 0838b296d7ca69afec474fe69915e071ce09c964 version: d91a7bf8505e4d5ac01167084df97bc8b229cbd0 version: 20c3db45bb3474d273937d7444cf72e74b370ba6,107,107
openstack%2Fopenstack-ansible~864377,openstack/openstack-ansible,master,I2c72bf6324b443c6b01a7f3142ebc90768c1c9c8,Drop upgrade step for Octavia certificates,MERGED,2022-11-13 15:21:53.000000000,2022-11-24 21:06:55.000000000,2022-11-24 21:05:34.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-13 15:21:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/d74b29bde5180cc4197f8c5fca28df7110c4b8b8', 'message': 'Drop upgrade step for Octavia certificates\n\nWith migration to PKI role for Octavia in Yoga, we added upgrade\nplaybook to define certificates for users that are upgrading deployment.\n\nWith SLURP releases, we either need to drop this upgrade step now or\ncarry on until Antelope.\n\nChange-Id: I2c72bf6324b443c6b01a7f3142ebc90768c1c9c8\n'}, {'number': 2, 'created': '2022-11-24 15:59:01.000000000', 'files': ['scripts/upgrade-utilities/define-octavia-certificate-vars.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'scripts/run-upgrade.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7b66935590c7b76b070502be63ef739b6de353f2', 'message': 'Drop upgrade step for Octavia certificates\n\nWith migration to PKI role for Octavia in Yoga, we added upgrade\nplaybook to define certificates for users that are upgrading deployment.\n\nWith SLURP releases, we either need to drop this upgrade step now or\ncarry on until Antelope.\n\nChange-Id: I2c72bf6324b443c6b01a7f3142ebc90768c1c9c8\n'}]",0,864377,7b66935590c7b76b070502be63ef739b6de353f2,13,4,2,28619,,,0,"Drop upgrade step for Octavia certificates

With migration to PKI role for Octavia in Yoga, we added upgrade
playbook to define certificates for users that are upgrading deployment.

With SLURP releases, we either need to drop this upgrade step now or
carry on until Antelope.

Change-Id: I2c72bf6324b443c6b01a7f3142ebc90768c1c9c8
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/77/864377/1 && git format-patch -1 --stdout FETCH_HEAD,"['scripts/upgrade-utilities/define-octavia-certificate-vars.yml', 'doc/source/admin/upgrades/major-upgrades.rst', 'scripts/run-upgrade.sh']",3,d74b29bde5180cc4197f8c5fca28df7110c4b8b8,,," RUN_TASKS+=(""${SCRIPTS_PATH}/upgrade-utilities/define-octavia-certificate-vars.yml"")",0,47
openstack%2Fnova~863792,openstack/nova,stable/xena,Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153,[compute] always set instance.host in post_livemigration,MERGED,2022-11-07 10:18:21.000000000,2022-11-24 20:39:09.000000000,2022-11-24 20:37:56.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 10:18:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c4f85ed12483a89d979c1216fd8148cd14f079bc', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n'}, {'number': 2, 'created': '2022-11-07 10:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4c102e4d56718616fa8dde4c173e086e04c6ecfb', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n'}, {'number': 3, 'created': '2022-11-07 16:53:05.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/15502ddedc23e6591ace4e73fa8ce5b18b5644b0', 'message': '[compute] always set instance.host in post_livemigration\n\nThis change add a new _post_live_migration_update_host\nfunction that wraps _post_live_migration and just ensures\nthat if we exit due to an exception instance.host is set\nto the destination host.\n\nwhen we are in _post_live_migration the guest has already\nstarted running on the destination host and we cannot revert.\nSometimes admins or users will hard reboot the instance expecting\nthat to fix everything when the vm enters the error state after\nthe failed migrations. Previously this would end up recreating the\ninstance on the source node leading to possible data corruption if\nthe instance used shared storage.\n\nChange-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153\nPartial-Bug: #1628606\n(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)\n(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)\n(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)\n'}]",1,863792,15502ddedc23e6591ace4e73fa8ce5b18b5644b0,18,3,3,34860,,,0,"[compute] always set instance.host in post_livemigration

This change add a new _post_live_migration_update_host
function that wraps _post_live_migration and just ensures
that if we exit due to an exception instance.host is set
to the destination host.

when we are in _post_live_migration the guest has already
started running on the destination host and we cannot revert.
Sometimes admins or users will hard reboot the instance expecting
that to fix everything when the vm enters the error state after
the failed migrations. Previously this would end up recreating the
instance on the source node leading to possible data corruption if
the instance used shared storage.

Change-Id: Ibc4bc7edf1c8d1e841c72c9188a0a62836e9f153
Partial-Bug: #1628606
(cherry picked from commit 8449b7caefa4a5c0728e11380a088525f15ad6f5)
(cherry picked from commit 643b0c7d35752b214eee19b8d7298a19a8493f6b)
(cherry picked from commit 17ae907569e45cc0f5c7da9511bb668a877b7b2e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/92/863792/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",3,c4f85ed12483a89d979c1216fd8148cd14f079bc,bug/1628606,"<<<<<<< HEAD (853872 Merge ""neutron: Unbind remaining ports after PortNotFound"" i) ======= # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') self.assertEqual(self.dest.host, server['OS-EXT-SRV-ATTR:host']) >>>>>>> CHANGE (17ae90 [compute] always set instance.host in post_livemigration) ",,124,3
openstack%2Ftripleo-common~865103,openstack/tripleo-common,master,Iaac54a416edb578a5d800e0553a2357b575d976f,Remove networking-ansible package,MERGED,2022-11-21 06:26:45.000000000,2022-11-24 20:32:10.000000000,2022-11-24 20:31:16.000000000,"[{'_account_id': 6926}, {'_account_id': 11090}, {'_account_id': 12398}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-21 06:26:45.000000000', 'files': ['container-images/tcib/base/os/neutron-base/neutron-server-ovn/neutron-server-ovn.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7c797c7e95c81be9a860fa510fe32b583e8d34c', 'message': 'Remove networking-ansible package\n\n... because the plugin is no longer supported.\n\nDepends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/864608\nDepends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/864607\nChange-Id: Iaac54a416edb578a5d800e0553a2357b575d976f\n'}]",0,865103,f7c797c7e95c81be9a860fa510fe32b583e8d34c,11,7,1,9816,,,0,"Remove networking-ansible package

... because the plugin is no longer supported.

Depends-on: https://review.opendev.org/c/openstack/puppet-tripleo/+/864608
Depends-on: https://review.opendev.org/c/openstack/tripleo-heat-templates/+/864607
Change-Id: Iaac54a416edb578a5d800e0553a2357b575d976f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/03/865103/1 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/tcib/base/os/neutron-base/neutron-server-ovn/neutron-server-ovn.yaml', 'container-images/tcib/base/os/neutron-base/neutron-server/neutron-server.yaml']",2,f7c797c7e95c81be9a860fa510fe32b583e8d34c,tripleo-remove-ml2-ansible,, - python3-networking-ansible,0,2
openstack%2Ftripleo-ansible~863795,openstack/tripleo-ansible,stable/zed,I7538def60e4fd3a7187ede0e1f5ada1b0c460f65,Add podman_socket role,MERGED,2022-11-08 09:44:10.000000000,2022-11-24 20:31:19.000000000,2022-11-24 20:31:19.000000000,"[{'_account_id': 7144}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-08 09:44:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2683f7a3b2f4f3553b1c2504b4a19784b88abb46', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 2, 'created': '2022-11-08 09:44:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e97d1f72c7dffc09fdb7436602b184adadb1b82c', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}, {'number': 3, 'created': '2022-11-24 14:32:12.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/64ea7d8b333d5e706ff69ebd9e5ed2a5ce5c0214', 'message': 'Add podman_socket role\n\nThis patch adds a role for creating podman unix socket for TripleO purposes.\nIt will be used during collectd deployments since collectd-sensubility\nrequires accessing podman via the socket.\n\nFixes molecule tests for tripleo_podman role.\n\nChange-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65\n(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)\n'}]",1,863795,64ea7d8b333d5e706ff69ebd9e5ed2a5ce5c0214,17,4,3,5241,,,0,"Add podman_socket role

This patch adds a role for creating podman unix socket for TripleO purposes.
It will be used during collectd deployments since collectd-sensubility
requires accessing podman via the socket.

Fixes molecule tests for tripleo_podman role.

Change-Id: I7538def60e4fd3a7187ede0e1f5ada1b0c460f65
(cherry picked from commit 4fd0e5a9aea67751a457fa82bb7331744f428259)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/95/863795/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/defaults/main.yml', 'tripleo_ansible/roles/tripleo_podman/meta/main.yml', 'tripleo_ansible/roles/tripleo_podman/templates/podman.service.j2', 'tripleo_ansible/roles/tripleo_podman/molecule/install/prepare.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/default/prepare.yml']",8,2683f7a3b2f4f3553b1c2504b4a19784b88abb46,user-podman-socket-stable/zed-stable/zed, - containernetworking-plugins,,77,0
openstack%2Fpuppet-tripleo~864608,openstack/puppet-tripleo,master,Ie76536c8e3f80feee09ff5b5f8781e938a6e3e56,Remove manifests for networking-ansible plugin,MERGED,2022-11-16 01:32:17.000000000,2022-11-24 20:31:14.000000000,2022-11-24 20:31:14.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-16 01:32:17.000000000', 'files': ['manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/6872a3ef82ecbb4d906a05c9bc75842c19ba3b15', 'message': 'Remove manifests for networking-ansible plugin\n\n... because it is no longer supported by t-h-t.\n\nDepends-on: https://review.opendev.org/864607\nChange-Id: Ie76536c8e3f80feee09ff5b5f8781e938a6e3e56\n'}]",0,864608,6872a3ef82ecbb4d906a05c9bc75842c19ba3b15,8,4,1,9816,,,0,"Remove manifests for networking-ansible plugin

... because it is no longer supported by t-h-t.

Depends-on: https://review.opendev.org/864607
Change-Id: Ie76536c8e3f80feee09ff5b5f8781e938a6e3e56
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/08/864608/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/neutron/plugins/ml2.pp', 'manifests/profile/base/neutron/plugins/ml2/networking_ansible.pp']",2,6872a3ef82ecbb4d906a05c9bc75842c19ba3b15,tripleo-remove-ml2-ansible,,"# Copyright 2018 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class:tripleo::profile::base::neutron::plugins::ml2::networking_ansible # # Neutron networking-ansible ML2 plugin profile for tripleo # # === Parameters # # [*neutron_redis_password*] # (Required) Password for the neutron redis user for the coordination url # Defaults to lookup('neutron_redis_password'), # # [*redis_vip*] # (Required) Redis ip address for the coordination url # Defaults to lookup('redis_vip'), # # [*enable_internal_tls*] # (Optional) Whether TLS in the internal network is enabled or not. # Defaults to lookup('enable_internal_tls', undef, undef, false) # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to Integer(lookup('step')) # class tripleo::profile::base::neutron::plugins::ml2::networking_ansible( $neutron_redis_password = lookup('neutron_redis_password'), $redis_vip = lookup('redis_vip'), $enable_internal_tls = lookup('enable_internal_tls', undef, undef, false), $step = Integer(lookup('step')) ) { include tripleo::profile::base::neutron if $enable_internal_tls { $tls_query_param = '?ssl=true' } else { $tls_query_param = '' } if $step >= 4 { class { 'neutron::plugins::ml2::networking_ansible': coordination_uri => join(['redis://:', $neutron_redis_password, '@', normalize_ip_for_uri($redis_vip), ':6379/', $tls_query_param]) } } } ",0,63
openstack%2Fopenstack-ansible-os_heat~864526,openstack/openstack-ansible-os_heat,master,If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc,Install git into placement containers,MERGED,2022-11-15 12:57:52.000000000,2022-11-24 20:17:25.000000000,2022-11-24 20:16:22.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-15 12:57:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/5e83ad8de5e7dc510893079f037462f37b3d2ebb', 'message': 'Install git into placement containers\nПросмотр исходного кода\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n'}, {'number': 2, 'created': '2022-11-15 13:00:34.000000000', 'files': ['vars/redhat.yml', 'vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_heat/commit/74cf65fd75f3489282803c9164f2442ba44125e4', 'message': 'Install git into placement containers\n\nIf venv_wheel_build_enable is defined to False, placement will fail to\nclone and install repositories due to missing git binary.\n\nChange-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc\nRelated-Bug: #1989506\nCloses-Bug: #1995536\n'}]",1,864526,74cf65fd75f3489282803c9164f2442ba44125e4,15,5,2,28619,,,0,"Install git into placement containers

If venv_wheel_build_enable is defined to False, placement will fail to
clone and install repositories due to missing git binary.

Change-Id: If1e3eec0c558d1472da7bc3a4e87825e36ba4fdc
Related-Bug: #1989506
Closes-Bug: #1995536
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_heat refs/changes/26/864526/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,5e83ad8de5e7dc510893079f037462f37b3d2ebb,, - git,,2,0
openstack%2Fnova~863864,openstack/nova,stable/xena,I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19,Adds a repoducer for post live migration fail,MERGED,2022-11-07 10:31:54.000000000,2022-11-24 20:07:20.000000000,2022-11-24 20:05:58.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 10:31:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/011cf199e8286f952021b194794a4423cc369b29', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n'}, {'number': 2, 'created': '2022-11-07 16:53:05.000000000', 'files': ['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5efcc3f695e02d61cb8b881e009308c2fef3aa58', 'message': 'Adds a repoducer for post live migration fail\n\nAdds a regression test or repoducer for post live migration\nfail at destination, the possible casue can be fail to get\ninstance network info or  block device info\n\nchanges:\nadds return server from _live_migrate in _integrated_helpers\n\nRelated-Bug: #1628606\nChange-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19\n(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)\n(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)\n(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)\n'}]",1,863864,5efcc3f695e02d61cb8b881e009308c2fef3aa58,13,3,2,34860,,,0,"Adds a repoducer for post live migration fail

Adds a regression test or repoducer for post live migration
fail at destination, the possible casue can be fail to get
instance network info or  block device info

changes:
adds return server from _live_migrate in _integrated_helpers

Related-Bug: #1628606
Change-Id: I48dbe0aae8a3943fdde69cda1bd663d70ea0eb19
(cherry picked from commit a20baeca1f5ebb0dfe9607335a6986e9ed0e1725)
(cherry picked from commit 74a618a8118642c9fd32c4e0d502d12ac826affe)
(cherry picked from commit 71e5a1dbcc22aeaa798d3d06ce392cf73364b8db)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/863864/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/integrated_helpers.py', 'nova/tests/functional/regressions/test_bug_1628606.py']",2,011cf199e8286f952021b194794a4423cc369b29,bug/1628606,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional.api import client from nova.tests.functional import fixtures as func_fixtures from nova.tests.functional import integrated_helpers from unittest import mock class PostLiveMigrationFail( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression test for bug 1628606 """""" def setUp(self): super().setUp() self.useFixture(nova_fixtures.NeutronFixture(self)) self.glance = self.useFixture(nova_fixtures.GlanceFixture(self)) self.useFixture(func_fixtures.PlacementFixture()) self.useFixture(nova_fixtures.HostNameWeigherFixture()) self.start_service('conductor') self.start_service('scheduler') api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.api.microversion = 'latest' self.src = self._start_compute(host='host1') self.dest = self._start_compute(host='host2') @mock.patch( 'nova.compute.manager.ComputeManager' '._post_live_migration_remove_source_vol_connections') def test_post_live_migration(self, mock_migration): server = self._create_server(networks=[]) self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) error = client.OpenStackApiException( ""Failed to remove source vol connection post live migration"") mock_migration.side_effect = error server = self._live_migrate( server, migration_expected_state='error', server_expected_state='ERROR') # FIXME(amit): this should point to the dest as after migration # but does not because of bug 1628606 self.assertEqual(self.src.host, server['OS-EXT-SRV-ATTR:host']) ",,63,1
openstack%2Fcharm-masakari-monitors~847486,openstack/charm-masakari-monitors,master,I3cc0af8443ecf62589c88d4e924cb633c419e87f,Add Kinetic and Zed support,MERGED,2022-06-24 01:25:27.000000000,2022-11-24 19:46:40.000000000,2022-11-24 19:46:40.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-06-24 01:25:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/5535670658ad127a77eafcdaf8f6b8e4f31681fc', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 2, 'created': '2022-07-22 17:28:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ad4775a8fb4eda2b7d9eb2e1120c2addc0daba07', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* rebuild for reactive charms\n* change openstack-origin/source default to zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* add run-on base for 22.10\n* drop series from metadata.yaml in favor of run-on bases\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 3, 'created': '2022-07-25 21:03:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/6420fcaf75d73d009c13eae5ec49723bc146ee7f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 4, 'created': '2022-07-26 19:45:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/653252727b01e13e68e9c446917d0ba1923fb640', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 5, 'created': '2022-07-26 20:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/4f0e35da8d9c1514041cbde21790b9f39c65f95f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 6, 'created': '2022-08-02 14:58:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/bf688b0a0de211ad951212e13daaa509ecf36575', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 7, 'created': '2022-08-04 16:24:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/663d8ca16adc3fe257f03813d06375709d8c0865', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 8, 'created': '2022-08-05 01:30:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/5168f2c48c29fb7a289e618ba3f12b2024d67944', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 1.7/stable\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 9, 'created': '2022-08-05 19:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/61e8b9ac2c4c341c709168e170670eed2875ec7c', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 10, 'created': '2022-08-15 20:46:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/092b591b0a4e7796f50d3c71cf8c64fb359b8004', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 11, 'created': '2022-08-17 18:21:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/1cc06bdeda42049971d9efa7060ebee1d3722fb0', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 12, 'created': '2022-08-18 13:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/8321bfb6ea7830f149a40b46136188505814d906', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\nDepends-On: https://review.opendev.org/c/openstack/charm-masakari-monitors/+/853657\n'}, {'number': 13, 'created': '2022-08-22 21:11:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/821ded1792892df50e5c0d9da53df827292358e6', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\nDepends-On: https://review.opendev.org/c/openstack/charm-masakari-monitors/+/853657\n'}, {'number': 14, 'created': '2022-08-26 12:31:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/36276a8cfc26a3eb479e728202c3da6dad4d78f8', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\nDepends-On: https://review.opendev.org/c/openstack/charm-masakari-monitors/+/853657\nDepends-On: https://review.opendev.org/c/openstack/charm-pacemaker-remote/+/847509\n'}, {'number': 15, 'created': '2022-08-26 18:44:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/1e4c3f3de7d5fcd8dcd5315d624985b5782cd0f2', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\nDepends-On: https://review.opendev.org/c/openstack/charm-masakari-monitors/+/853657\nDepends-On: https://review.opendev.org/c/openstack/charm-pacemaker-remote/+/847509\n'}, {'number': 16, 'created': '2022-08-31 19:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/8b1ef43e2bb32d27f653de1734dcd3745834d92f', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\nDepends-On: https://review.opendev.org/c/openstack/charm-masakari-monitors/+/853657\nDepends-On: https://review.opendev.org/c/openstack/charm-pacemaker-remote/+/847509\n'}, {'number': 17, 'created': '2022-10-11 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/156bac01c972de710fe8c6ebbe137efa6ec4b08e', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 18, 'created': '2022-10-12 13:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c9ac659b195b963e6648c8f12e81f61ca1a08a86', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 19, 'created': '2022-10-26 14:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ec712a45ce2f97c39dbfcb55341515f10ef3bc8d', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 20, 'created': '2022-11-22 13:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/908553de6954450c43607fa5c30f98a7f6c51018', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 21, 'created': '2022-11-22 19:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/d7b3a7c6c769615d8369f617dc1594b39a58a289', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}, {'number': 22, 'created': '2022-11-23 16:08:58.000000000', 'files': ['osci.yaml', 'test-requirements.txt', 'src/tests/bundles/focal-xena.yaml', '.zuul.yaml', 'src/metadata.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml', 'requirements.txt', 'src/tests/bundles/jammy-yoga.yaml', 'charmcraft.yaml', 'src/tests/bundles/jammy-zed.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/ff4ccdd27be2020d8e0f7f0e90162b2849ab91a8', 'message': 'Add Kinetic and Zed support\n\n* sync charm-helpers to classic charms\n* change openstack-origin/source default to zed\n* align testing with zed\n* add new zed bundles\n* add zed bundles to tests.yaml\n* add zed tests to osci.yaml and .zuul.yaml\n* update build-on and run-on bases\n* add bindep.txt for py310\n* sync tox.ini and requirements.txt for ruamel\n* use charmcraft_channel 2.0/stable\n* drop reactive plugin overrides\n* move interface/layer env vars to charmcraft.yaml\n\nChange-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f\n'}]",28,847486,ff4ccdd27be2020d8e0f7f0e90162b2849ab91a8,126,4,22,11805,,,0,"Add Kinetic and Zed support

* sync charm-helpers to classic charms
* change openstack-origin/source default to zed
* align testing with zed
* add new zed bundles
* add zed bundles to tests.yaml
* add zed tests to osci.yaml and .zuul.yaml
* update build-on and run-on bases
* add bindep.txt for py310
* sync tox.ini and requirements.txt for ruamel
* use charmcraft_channel 2.0/stable
* drop reactive plugin overrides
* move interface/layer env vars to charmcraft.yaml

Change-Id: I3cc0af8443ecf62589c88d4e924cb633c419e87f
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/86/847486/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', '.zuul.yaml', 'charmcraft.yaml', 'src/metadata.yaml', 'src/tests/bundles/jammy-zed.yaml', 'src/tests/tests.yaml', 'src/tests/bundles/kinetic-zed.yaml']",7,5535670658ad127a77eafcdaf8f6b8e4f31681fc,batch-update,"variables: openstack-origin: &openstack-origin distro local_overlay_enabled: False series: kinetic comment: - 'machines section to decide order of deployment. database sooner = faster' machines: '0': constraints: mem=3072M '1': constraints: mem=3072M '2': constraints: mem=3072M '3': '4': '5': '6': '7': '8': constraints: mem=4096M '9': constraints: mem=4096M '10': constraints: mem=4096M '11': '12': '13': '14': '15': '16': '17': '18': '19': '20': '21': '22': '23': applications: keystone-mysql-router: charm: ch:mysql-router channel: latest/edge cinder-mysql-router: charm: ch:mysql-router channel: latest/edge neutron-api-mysql-router: charm: ch:mysql-router channel: latest/edge glance-mysql-router: charm: ch:mysql-router channel: latest/edge nova-cloud-controller-mysql-router: charm: ch:mysql-router channel: latest/edge masakari-mysql-router: charm: ch:mysql-router channel: latest/edge vault-mysql-router: charm: ch:mysql-router channel: latest/edge placement-mysql-router: charm: ch:mysql-router channel: latest/edge mysql-innodb-cluster: charm: ch:mysql-innodb-cluster num_units: 3 options: source: *openstack-origin to: - '0' - '1' - '2' channel: latest/edge glance: charm: ch:glance num_units: 1 options: openstack-origin: *openstack-origin worker-multiplier: 0.25 to: - '3' channel: yoga/edge cinder: charm: ch:cinder num_units: 1 options: openstack-origin: *openstack-origin block-device: ""None"" glance-api-version: 2 to: - '4' channel: yoga/edge keystone: charm: ch:keystone num_units: 1 options: admin-password: openstack openstack-origin: *openstack-origin worker-multiplier: 0.25 to: - '5' channel: yoga/edge neutron-api: charm: ch:neutron-api num_units: 1 options: manage-neutron-plugin-legacy-mode: true flat-network-providers: physnet1 neutron-security-groups: true openstack-origin: *openstack-origin worker-multiplier: 0.25 to: - '6' channel: yoga/edge neutron-gateway: charm: ch:neutron-gateway num_units: 1 options: bridge-mappings: physnet1:br-ex openstack-origin: *openstack-origin worker-multiplier: 0.25 to: - '7' channel: yoga/edge neutron-openvswitch: charm: ch:neutron-openvswitch num_units: 0 channel: yoga/edge nova-cloud-controller: charm: ch:nova-cloud-controller num_units: 1 options: network-manager: Neutron openstack-origin: *openstack-origin worker-multiplier: 0.25 debug: true to: - '23' channel: yoga/edge nova-compute: charm: ch:nova-compute num_units: 3 constraints: mem=4G options: config-flags: default_ephemeral_format=ext4 enable-live-migration: true enable-resize: true migration-auth-type: ssh openstack-origin: *openstack-origin debug: true cpu-model: kvm64 cpu-mode: custom # Allow for more retries when testing ontop of openstack config-flags: block_device_allocate_retries=120 to: - '8' - '9' - '10' channel: yoga/edge rabbitmq-server: charm: ch:rabbitmq-server num_units: 1 to: - '11' channel: latest/edge masakari: charm: ch:masakari num_units: 3 options: openstack-origin: *openstack-origin to: - '12' - '13' - '14' channel: yoga/edge ceph-mon: charm: ch:ceph-mon num_units: 3 options: source: *openstack-origin expected-osd-count: 3 to: - '15' - '16' - '17' channel: quincy/edge ceph-osd: charm: ch:ceph-osd constraints: mem=1G num_units: 3 options: source: *openstack-origin storage: osd-devices: cinder,40G to: - '18' - '19' - '20' channel: quincy/edge cinder-ceph: charm: ch:cinder-ceph channel: yoga/edge masakari-monitors: charm: ../../../masakari-monitors.charm hacluster: charm: ch:hacluster options: corosync_transport: unicast cluster_count: 3 channel: latest/edge pacemaker-remote: charm: ch:pacemaker-remote options: enable-stonith: False enable-resources: False vault: num_units: 1 charm: ch:vault to: - '21' channel: latest/edge placement: charm: ch:placement num_units: 1 options: openstack-origin: *openstack-origin to: - '22' channel: yoga/edge relations: - - 'nova-compute:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:amqp-nova' - 'rabbitmq-server:amqp' - - 'keystone:shared-db' - 'keystone-mysql-router:shared-db' - - 'keystone-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:identity-service' - 'keystone:identity-service' - - 'nova-cloud-controller:identity-service' - 'keystone:identity-service' - - 'glance:identity-service' - 'keystone:identity-service' - - 'neutron-api:identity-service' - 'keystone:identity-service' - - 'neutron-openvswitch:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'cinder:shared-db' - 'cinder-mysql-router:shared-db' - - 'cinder-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'neutron-api:shared-db' - 'neutron-api-mysql-router:shared-db' - - 'neutron-api-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'cinder:amqp' - 'rabbitmq-server:amqp' - - 'neutron-api:amqp' - 'rabbitmq-server:amqp' - - 'neutron-gateway:neutron-plugin-api' - 'neutron-api:neutron-plugin-api' - - 'glance:shared-db' - 'glance-mysql-router:shared-db' - - 'glance-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'glance:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:image-service' - 'glance:image-service' - - 'nova-compute:image-service' - 'glance:image-service' - - 'nova-cloud-controller:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:quantum-network-service' - 'neutron-gateway:quantum-network-service' - - 'nova-compute:neutron-plugin' - 'neutron-openvswitch:neutron-plugin' - - 'neutron-openvswitch:amqp' - 'rabbitmq-server:amqp' - - 'nova-cloud-controller:shared-db' - 'nova-cloud-controller-mysql-router:shared-db' - - 'nova-cloud-controller-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'nova-cloud-controller:neutron-api' - 'neutron-api:neutron-api' - - 'nova-cloud-controller:cloud-compute' - 'nova-compute:cloud-compute' - - 'masakari:shared-db' - 'masakari-mysql-router:shared-db' - - 'masakari-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'masakari:amqp' - 'rabbitmq-server:amqp' - - 'masakari:identity-service' - 'keystone:identity-service' - - 'glance:ceph' - 'ceph-mon:client' - - 'ceph-mon:osd' - 'ceph-osd:mon' - - 'cinder:storage-backend' - 'cinder-ceph:storage-backend' - - 'cinder-ceph:ceph' - 'ceph-mon:client' - - 'cinder-ceph:ceph-access' - 'nova-compute:ceph-access' - - 'nova-compute:juju-info' - 'masakari-monitors:container' - - 'masakari:ha' - 'hacluster:ha' - - 'keystone:identity-credentials' - 'masakari-monitors:identity-credentials' - - 'nova-compute:juju-info' - 'pacemaker-remote:juju-info' - - 'hacluster:pacemaker-remote' - 'pacemaker-remote:pacemaker-remote' - - 'vault:shared-db' - 'vault-mysql-router:shared-db' - - 'vault-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'vault:certificates' - 'keystone:certificates' - - 'vault:certificates' - 'neutron-api:certificates' - - 'vault:certificates' - 'cinder:certificates' - - 'vault:certificates' - 'glance:certificates' - - 'vault:certificates' - 'nova-cloud-controller:certificates' - - 'vault:certificates' - 'masakari:certificates' - - 'placement:shared-db' - 'placement-mysql-router:shared-db' - - 'placement-mysql-router:db-router' - 'mysql-innodb-cluster:db-router' - - 'placement:identity-service' - 'keystone:identity-service' - - 'placement:placement' - 'nova-cloud-controller:placement' - - 'vault:certificates' - 'placement:certificates' ",,843,1
openstack%2Fcharm-masakari-monitors~860969,openstack/charm-masakari-monitors,master,I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4,Build separately for each supported series and use binary builds,MERGED,2022-10-11 17:48:09.000000000,2022-11-24 19:37:55.000000000,2022-11-24 19:37:55.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-11 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/584f2cda3c7e3397657d55164873bd1d712c9c2f', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and unused overlay\nbundles.\n\nChange-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4\n""}, {'number': 2, 'created': '2022-10-12 13:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/232eb1f1323f8ec6f79b8d893b1e42a8a795e722', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and unused overlay\nbundles.\n\nChange-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4\n""}, {'number': 3, 'created': '2022-11-22 13:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/d6ca5846741f8be84d1160c626971184c040b077', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and unused overlay\nbundles.\n\nChange-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4\n""}, {'number': 4, 'created': '2022-11-22 19:55:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/c24f36af6f7e44aa923a5db9bed2829b7079c6e6', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and unused overlay\nbundles.\n\nChange-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4\n""}, {'number': 5, 'created': '2022-11-23 16:08:58.000000000', 'files': ['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/overlays/jammy-yoga.yaml.j2', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-yoga.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/123e8e06f6763bbbee669321ba5fa160ecbc89cc', 'message': ""Build separately for each supported series and use binary builds\n\nCharms for OpenStack Yoga supports both Ubuntu Focal and Jammy\nwhich means Python 3.8 and Python 3.10.  Managing dependencies\nacross those two versions is non-trivial and we need to build\nthe charm on the series the charm is supposed to support.\n\nSwitch to using a binary build which allows pip's dependency\nresolution to work.\n\nThis patch also drops the impish bundle and unused overlay\nbundles.\n\nChange-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4\n""}]",6,860969,123e8e06f6763bbbee669321ba5fa160ecbc89cc,31,4,5,11805,,,0,"Build separately for each supported series and use binary builds

Charms for OpenStack Yoga supports both Ubuntu Focal and Jammy
which means Python 3.8 and Python 3.10.  Managing dependencies
across those two versions is non-trivial and we need to build
the charm on the series the charm is supposed to support.

Switch to using a binary build which allows pip's dependency
resolution to work.

This patch also drops the impish bundle and unused overlay
bundles.

Change-Id: I85d45fd390eccfef2fbdcd9de96b7b7cf01483f4
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/69/860969/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/tests/bundles/overlays/local-charm-overlay.yaml.j2', 'src/tests/bundles/overlays/focal-xena.yaml.j2', 'osci.yaml', 'src/tests/bundles/overlays/hirsute-wallaby.yaml.j2', 'src/tests/bundles/impish-xena.yaml', 'src/tests/bundles/overlays/focal-victoria.yaml.j2', 'src/tests/bundles/focal-xena.yaml', 'src/tests/bundles/overlays/bionic-train.yaml.j2', 'src/tests/bundles/overlays/jammy-yoga.yaml.j2', 'src/tests/bundles/focal-yoga.yaml', 'src/tests/bundles/jammy-yoga.yaml', 'bindep.txt', 'src/tests/bundles/overlays/focal-wallaby.yaml.j2', 'src/tests/bundles/overlays/focal-yoga.yaml.j2', 'src/tests/bundles/overlays/bionic-ussuri.yaml.j2', 'src/tests/bundles/overlays/focal-ussuri.yaml.j2', 'charmcraft.yaml', 'src/tests/bundles/overlays/impish-xena.yaml.j2', 'src/tests/bundles/overlays/bionic-stein.yaml.j2', 'tox.ini']",20,584f2cda3c7e3397657d55164873bd1d712c9c2f,batch-update, charmcraft -v pack charm-build --log-level DEBUG --use-lock-file-branches --binary-wheels-from-source -o {toxinidir}/build/builds src {posargs} git+https://github.com/juju/charm-tools.git,"# NOTES: # * We avoid the new dependency resolver by pinning pip < 20.3, see # https://github.com/pypa/pip/issues/9187 # * Pinning dependencies requires tox >= 3.2.0, see # https://tox.readthedocs.io/en/latest/config.html#conf-requires # * It is also necessary to pin virtualenv as a newer virtualenv would still # lead to fetching the latest pip in the func* tox targets, see # https://stackoverflow.com/a/38133283 requires = pip < 20.3 virtualenv < 20.0 setuptools<50.0.0 rename.sh charmcraft -v build {toxinidir}/rename.sh charm-build --log-level DEBUG --use-lock-file-branches -o {toxinidir}/build/builds src {posargs} charm-tools==2.8.3",54,467
openstack%2Fcharm-masakari-monitors~853657,openstack/charm-masakari-monitors,master,I77a35c074e234c3bdfa78800b05ee770492e0694,Fix config-flags support,MERGED,2022-08-18 13:28:00.000000000,2022-11-24 19:35:52.000000000,2022-11-24 19:35:52.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-18 13:28:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/41c5b97bb125fb7281deff764979bb6713748df7', 'message': 'Fix config-flags support\n\nThis change puts the specified key/value config-flags into\nthe [DEFAULT] section of the config file rather than the [api]\nsection, as they were supposed to be in the [DEFAULT] section.\n\nAdditionally, this change switches to using the config-flags\nsupport from charms.openstack.\n\nCloses-Bug: #1986943\nChange-Id: I77a35c074e234c3bdfa78800b05ee770492e0694\n'}, {'number': 2, 'created': '2022-10-11 17:48:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/f5424b5449fa2365c0b993b9b9e843411908470d', 'message': 'Fix config-flags support\n\nThis change puts the specified key/value config-flags into\nthe [DEFAULT] section of the config file rather than the [api]\nsection, as they were supposed to be in the [DEFAULT] section.\n\nAdditionally, this change switches to using the config-flags\nsupport from charms.openstack.\n\nCloses-Bug: #1986943\nChange-Id: I77a35c074e234c3bdfa78800b05ee770492e0694\n'}, {'number': 3, 'created': '2022-10-12 13:11:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/8f68a49e7e50c76bfc36a8c09e88f0c9c9cee225', 'message': 'Fix config-flags support\n\nThis change puts the specified key/value config-flags into\nthe [DEFAULT] section of the config file rather than the [api]\nsection, as they were supposed to be in the [DEFAULT] section.\n\nAdditionally, this change switches to using the config-flags\nsupport from charms.openstack.\n\nCloses-Bug: #1986943\nChange-Id: I77a35c074e234c3bdfa78800b05ee770492e0694\n'}, {'number': 4, 'created': '2022-11-22 13:45:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/cca87a691edaf66d88b6b450493ad2de5512ad82', 'message': 'Fix config-flags support\n\nThis change puts the specified key/value config-flags into\nthe [DEFAULT] section of the config file rather than the [api]\nsection, as they were supposed to be in the [DEFAULT] section.\n\nAdditionally, this change switches to using the config-flags\nsupport from charms.openstack.\n\nCloses-Bug: #1986943\nChange-Id: I77a35c074e234c3bdfa78800b05ee770492e0694\n'}, {'number': 5, 'created': '2022-11-22 19:55:16.000000000', 'files': ['src/config.yaml', 'src/templates/masakarimonitors.conf', 'bindep.txt', 'src/lib/charm/openstack/masakari_monitors.py', 'unit_tests/test_lib_charm_openstack_masakari_monitors.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-masakari-monitors/commit/e7fd6815c902604970b8069409cfcc0113dc33f3', 'message': 'Fix config-flags support\n\nThis change puts the specified key/value config-flags into\nthe [DEFAULT] section of the config file rather than the [api]\nsection, as they were supposed to be in the [DEFAULT] section.\n\nAdditionally, this change switches to using the config-flags\nsupport from charms.openstack.\n\nCloses-Bug: #1986943\nChange-Id: I77a35c074e234c3bdfa78800b05ee770492e0694\n'}]",4,853657,e7fd6815c902604970b8069409cfcc0113dc33f3,26,4,5,11805,,,0,"Fix config-flags support

This change puts the specified key/value config-flags into
the [DEFAULT] section of the config file rather than the [api]
section, as they were supposed to be in the [DEFAULT] section.

Additionally, this change switches to using the config-flags
support from charms.openstack.

Closes-Bug: #1986943
Change-Id: I77a35c074e234c3bdfa78800b05ee770492e0694
",git fetch https://review.opendev.org/openstack/charm-masakari-monitors refs/changes/57/853657/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/config.yaml', 'src/templates/masakarimonitors.conf', 'src/lib/charm/openstack/masakari_monitors.py', 'unit_tests/test_lib_charm_openstack_masakari_monitors.py']",4,41c5b97bb125fb7281deff764979bb6713748df7,batch-update,," def test_user_config_flags(self): charm = self.\ _patch_config_and_charm({'config-flags': 'k1=v1, k2=v2'}) config = charm.user_config_flags() # Add check here that configuration is as expected. self.assertEqual(config.get('k1'), ""v1"") self.assertEqual(config.get('k2'), ""v2"")",5,21
openstack%2Ftripleo-heat-templates~864607,openstack/tripleo-heat-templates,master,I7923a3b20f0ec9530b6809dd834711d6d4a43646,Remove support for networking-ansible,MERGED,2022-11-16 01:30:28.000000000,2022-11-24 19:34:36.000000000,2022-11-24 19:33:34.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-16 01:30:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05cb46d2aab3f9a6dd885011260adda9eecff651', 'message': 'Remove support for networking-ansible\n\n... because it was deprecated before Zed release[1].\n\n[1] f90f685d5d22b12f3d74a141ce57d9cee02e0047\n\nChange-Id: I7923a3b20f0ec9530b6809dd834711d6d4a43646\n'}, {'number': 2, 'created': '2022-11-16 05:07:39.000000000', 'files': ['ci/environments/scenario012-standalone.yaml', 'environments/neutron-ml2-ansible.yaml', 'releasenotes/notes/remove-networking-ansible-c3fca3209b864aa0.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/deprecated/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'environments/services/neutron-ml2-ansible.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/disable-neutron.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3626ac3dfb9547c766228d7ee6b90a62a2e71749', 'message': 'Remove support for networking-ansible\n\n... because it was deprecated before Zed release[1].\n\n[1] f90f685d5d22b12f3d74a141ce57d9cee02e0047\n\nChange-Id: I7923a3b20f0ec9530b6809dd834711d6d4a43646\n'}]",0,864607,3626ac3dfb9547c766228d7ee6b90a62a2e71749,12,4,2,9816,,,0,"Remove support for networking-ansible

... because it was deprecated before Zed release[1].

[1] f90f685d5d22b12f3d74a141ce57d9cee02e0047

Change-Id: I7923a3b20f0ec9530b6809dd834711d6d4a43646
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/864607/1 && git format-patch -1 --stdout FETCH_HEAD,"['ci/environments/scenario012-standalone.yaml', 'releasenotes/notes/remove-networking-ansible-c3fca3209b864aa0.yaml', 'ci/environments/scenario000-standalone.yaml', 'deployment/deprecated/neutron/neutron-plugin-ml2-ansible-container-puppet.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'environments/disable-neutron.yaml']",6,05cb46d2aab3f9a6dd885011260adda9eecff651,tripleo-remove-ml2-ansible,, OS::TripleO::Services::NeutronCorePluginML2Ansible: OS::Heat::None,4,91
openstack%2Frequirements~865582,openstack/requirements,master,I0380df7c8c4f85660d7764be0e39f5c773643ad8,update constraint for keystoneauth1 to new release 5.1.0,MERGED,2022-11-24 16:06:17.000000000,2022-11-24 19:28:41.000000000,2022-11-24 19:27:40.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 16:06:17.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/ec4db0629fc336118836854cef5483d439da1dc4', 'message': 'update constraint for keystoneauth1 to new release 5.1.0\n\nmeta: version: 5.1.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ib1c929efb1f113bc153798a9c356ad45a0bbfc24\nmeta: release:Code-Review+1: David Wilde <dwilde@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: I0380df7c8c4f85660d7764be0e39f5c773643ad8\n'}]",0,865582,ec4db0629fc336118836854cef5483d439da1dc4,9,3,1,11131,,,0,"update constraint for keystoneauth1 to new release 5.1.0

meta: version: 5.1.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ib1c929efb1f113bc153798a9c356ad45a0bbfc24
meta: release:Code-Review+1: David Wilde <dwilde@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: I0380df7c8c4f85660d7764be0e39f5c773643ad8
",git fetch https://review.opendev.org/openstack/requirements refs/changes/82/865582/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,ec4db0629fc336118836854cef5483d439da1dc4,new-release,keystoneauth1===5.1.0,keystoneauth1===5.0.0,1,1
openstack%2Frequirements~865581,openstack/requirements,master,Ie2d300e5df9c999984ff46d5e6b06b2fa258162e,update constraint for python-octaviaclient to new release 3.2.0,MERGED,2022-11-24 16:02:09.000000000,2022-11-24 19:19:28.000000000,2022-11-24 19:18:26.000000000,"[{'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 16:02:09.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/3e2e064e593d84bdc080305bf57bc0634508667c', 'message': 'update constraint for python-octaviaclient to new release 3.2.0\n\nmeta: version: 3.2.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: yes\nmeta: release:Author: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Commit: Hervé Beraud <hberaud@redhat.com>\nmeta: release:Change-Id: Ic876b08e66d90fe8e6249578248e6ec5114b6cbc\nmeta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>\nmeta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ie2d300e5df9c999984ff46d5e6b06b2fa258162e\n'}]",0,865581,3e2e064e593d84bdc080305bf57bc0634508667c,9,3,1,11131,,,0,"update constraint for python-octaviaclient to new release 3.2.0

meta: version: 3.2.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: yes
meta: release:Author: Hervé Beraud <hberaud@redhat.com>
meta: release:Commit: Hervé Beraud <hberaud@redhat.com>
meta: release:Change-Id: Ic876b08e66d90fe8e6249578248e6ec5114b6cbc
meta: release:Code-Review+1: Gregory Thiemonge <gthiemon@redhat.com>
meta: release:Code-Review+2: Hervé Beraud <herveberaud.pro@gmail.com>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ie2d300e5df9c999984ff46d5e6b06b2fa258162e
",git fetch https://review.opendev.org/openstack/requirements refs/changes/81/865581/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,3e2e064e593d84bdc080305bf57bc0634508667c,new-release,python-octaviaclient===3.2.0,python-octaviaclient===3.1.0,1,1
openstack%2Fnova~865335,openstack/nova,stable/wallaby,I4b400d499b9f594798f2da6d16f21204371a9f42,Detect port-resource-request-groups neutron API extension,ABANDONED,2022-11-22 20:59:56.000000000,2022-11-24 19:14:59.000000000,,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 20:59:56.000000000', 'files': ['nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/eaf70f06a136c86a20d97191b7f801038c81f751', 'message': 'Detect port-resource-request-groups neutron API extension\n\nThe new neutron API extension signals the format change of the\nresource_request field of the port. This patch only adds functions to\ndetect the existence of such extension. Later patches will adapt Nova\nfor the new format.\n\nDepends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905\n\nChange-Id: I4b400d499b9f594798f2da6d16f21204371a9f42\nblueprint: qos-minimum-guaranteed-packet-rate\n(cherry picked from commit 017b0a3d2332b1d3d20c2aa51ae9605f6c7676ee)\n'}]",5,865335,eaf70f06a136c86a20d97191b7f801038c81f751,7,3,1,11604,,,0,"Detect port-resource-request-groups neutron API extension

The new neutron API extension signals the format change of the
resource_request field of the port. This patch only adds functions to
detect the existence of such extension. Later patches will adapt Nova
for the new format.

Depends-On: https://review.opendev.org/c/openstack/neutron-lib/+/803905

Change-Id: I4b400d499b9f594798f2da6d16f21204371a9f42
blueprint: qos-minimum-guaranteed-packet-rate
(cherry picked from commit 017b0a3d2332b1d3d20c2aa51ae9605f6c7676ee)
",git fetch https://review.opendev.org/openstack/nova refs/changes/35/865335/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/network/test_neutron.py', 'nova/network/constants.py', 'nova/network/neutron.py']",3,eaf70f06a136c86a20d97191b7f801038c81f751,bug/1970467," def _has_resource_request(self, context, port, neutron): resource_request = port.get(constants.RESOURCE_REQUEST) or {} if self._has_extended_resource_request_extension(context, neutron): return bool(resource_request.get(constants.REQUEST_GROUPS, [])) else: return bool(resource_request) # TODO(gibi): Remove all branches where this is False after Neutron made # the this extension mandatory. In Xena this extension will be optional to # support the scenario where Neutron upgraded first. So Neutron can mark # this mandatory earliest in Yoga. def _has_extended_resource_request_extension(self, context, neutron=None): self._refresh_neutron_extensions_cache(context, neutron=neutron) return constants.RESOURCE_REQUEST_GROUPS_EXTENSION in self.extensions ",,81,0
openstack%2Fansible-collections-openstack~839879,openstack/ansible-collections-openstack,master,I9fc91a9fa52c19a8d635c5faaa06a99934100229,Add 'parent_id' to project module,NEW,2022-04-29 08:55:38.000000000,2022-11-24 19:14:58.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-04-29 08:55:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/d07361941e5fed84940dee394f4004d8c82fc334', 'message': ""Add 'parent_id' to project module\n\nThis allows you to specify the 'parent_id' of the project being created\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I9fc91a9fa52c19a8d635c5faaa06a99934100229\n""}, {'number': 2, 'created': '2022-11-24 15:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/eab8b495f7f4cb587a8264b52621594ce443e4a1', 'message': ""Add 'parent_id' to project module\n\nThis allows you to specify the 'parent_id' of the project being created\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I9fc91a9fa52c19a8d635c5faaa06a99934100229\n""}, {'number': 3, 'created': '2022-11-24 16:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/a447ae262006f8c5d0dfe8e46145f718373aebb1', 'message': ""Add 'parent_id' to project module\n\nThis allows you to specify the 'parent_id' of the project being created\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I9fc91a9fa52c19a8d635c5faaa06a99934100229\n""}, {'number': 4, 'created': '2022-11-24 17:02:12.000000000', 'files': ['plugins/modules/project.py'], 'web_link': 'https://opendev.org/openstack/ansible-collections-openstack/commit/61086eed3adcbdce0584fc89094542b99fc856f5', 'message': ""Add 'parent_id' to project module\n\nThis allows you to specify the 'parent_id' of the project being created\n\nSigned-off-by: Francesco Lombardo <francesco.lombardo@garr.it>\nChange-Id: I9fc91a9fa52c19a8d635c5faaa06a99934100229\n""}]",9,839879,61086eed3adcbdce0584fc89094542b99fc856f5,12,2,4,34379,,,0,"Add 'parent_id' to project module

This allows you to specify the 'parent_id' of the project being created

Signed-off-by: Francesco Lombardo <francesco.lombardo@garr.it>
Change-Id: I9fc91a9fa52c19a8d635c5faaa06a99934100229
",git fetch https://review.opendev.org/openstack/ansible-collections-openstack refs/changes/79/839879/1 && git format-patch -1 --stdout FETCH_HEAD,['plugins/modules/project.py'],1,d07361941e5fed84940dee394f4004d8c82fc334,create-project-with-parent," parent_id: description: - Parent project of this project. aliases: ['parent'] type: str parent_id: demoproject_parent_id parent_id=dict(required=False, aliases=['parent']), creation_kwargs = dict() if 'parent_id' in self.params and self.params['parent_id'] is not None: creation_kwargs['parent_id'] = self.params['parent_id'] if creation_kwargs is {}: project = self.conn.create_project( name=name, description=description, domain_id=domain, enabled=enabled) else: project = self.conn.create_project( name=name, description=description, domain_id=domain, enabled=enabled, **creation_kwargs)"," project = self.conn.create_project( name=name, description=description, domain_id=domain, enabled=enabled)",22,4
openstack%2Ftripleo-ci~865540,openstack/tripleo-ci,master,I498c9cac7815d3d0682835d2bf943594dad2203c,Do not use --debug for image build,MERGED,2022-11-24 12:53:24.000000000,2022-11-24 19:07:36.000000000,2022-11-24 19:07:36.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-11-24 12:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/fe67aac22b0d40ed9bef5f3116590f2615d5d458', 'message': ""Do not use --debug for image build\n\nSince Ansible was bumped to 2.14, we've observed the container image\nbuild process gets stuck in the middle of ansible tasks to generate\nDocker/Buildah files, because of a bug[1] with ansible-runner.\n\nThis removes --debug option from the build command to avoid -vvv option\nin the ansible command, to workaround the above bug.\n\nSame workaround is added for content-provider already, adding same\nworkaround for build-containers role.\n\n[1] https://github.com/ansible/ansible-runner/issues/1164\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nRelated-Bug: #1996612\n\nChange-Id: I498c9cac7815d3d0682835d2bf943594dad2203c\n""}, {'number': 2, 'created': '2022-11-24 12:57:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/3ccfceed0b708fdab5e907a050a6f72ee20c2289', 'message': ""Do not use --debug for image build\n\nSince Ansible was bumped to 2.14, we've observed the container image\nbuild process gets stuck in the middle of ansible tasks to generate\nDocker/Buildah files, because of a bug[1] with ansible-runner.\n\nThis removes --debug option from the build command to avoid -vvv option\nin the ansible command, to workaround the above bug.\n\nSame workaround is added for content-provider already, adding same\nworkaround for build-containers role.\n\n[1] https://github.com/ansible/ansible-runner/issues/1164\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\n\nRelated-Bug: #1996612\nChange-Id: I498c9cac7815d3d0682835d2bf943594dad2203c\n""}, {'number': 3, 'created': '2022-11-24 12:57:35.000000000', 'files': ['roles/build-containers/templates/tripleo-build.sh.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/909c83bc625fac1479b281d325e29bb7b2388c3f', 'message': ""Do not use --debug for image build\n\nSince Ansible was bumped to 2.14, we've observed the container image\nbuild process gets stuck in the middle of ansible tasks to generate\nDocker/Buildah files, because of a bug[1] with ansible-runner.\n\nThis removes --debug option from the build command to avoid -vvv option\nin the ansible command, to workaround the above bug.\n\nSame workaround is added for content-provider already[2], adding same\nworkaround for build-containers role.\n\n[1] https://github.com/ansible/ansible-runner/issues/1164\n[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\n\nRelated-Bug: #1996612\nChange-Id: I498c9cac7815d3d0682835d2bf943594dad2203c\n""}]",2,865540,909c83bc625fac1479b281d325e29bb7b2388c3f,15,7,3,29775,,,0,"Do not use --debug for image build

Since Ansible was bumped to 2.14, we've observed the container image
build process gets stuck in the middle of ansible tasks to generate
Docker/Buildah files, because of a bug[1] with ansible-runner.

This removes --debug option from the build command to avoid -vvv option
in the ansible command, to workaround the above bug.

Same workaround is added for content-provider already[2], adding same
workaround for build-containers role.

[1] https://github.com/ansible/ansible-runner/issues/1164
[2] https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838

Related-Bug: #1996612
Change-Id: I498c9cac7815d3d0682835d2bf943594dad2203c
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/40/865540/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-containers/templates/tripleo-build.sh.j2'],1,fe67aac22b0d40ed9bef5f3116590f2615d5d458,,"# TODO(tkajinam): With Ansible 2.14, the playbook triggered by the command # gets stuck if -vvv is set. We temporarily remove --debug # as a workaround until we find out the appropriate fix. # https://github.com/ansible/ansible-runner/issues/1164 # --debug", --debug,5,1
openstack%2Ftripleo-upgrade~865520,openstack/tripleo-upgrade,stable/wallaby,Iae1c9ef1244676589ee505201093daa52704a438,FFWD3 Refactor ffwd upgrade for train to wallaby,MERGED,2022-11-24 10:02:40.000000000,2022-11-24 19:07:34.000000000,2022-11-24 19:07:34.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 10:02:40.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/bad76132a0be44be3445fb05458cd975d0e9beed', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n(cherry picked from commit 65d0c1d44cac9fa5f5d83b1a564e0cdcea76aab0)\n'}]",1,865520,bad76132a0be44be3445fb05458cd975d0e9beed,9,3,1,6816,,,0,"FFWD3 Refactor ffwd upgrade for train to wallaby

This is first attempt to test whole upgrade procedure from
Train to Wallaby. We for now deal just with the OpenStack
upgrade part without OS upgrade step. When we will understand
the process better we will refactor this code.

Changes:
- Remove tls templates comversion.
- Cleanup adjust-roles-data. We might introduce new ones.
- Handle the network switch to ansible templates
- For now use Fast Furious procedure to generate playbook
- Add ceph adoption workflow from ceph-ansible to cephadm

Co-authored-by: jbadiapa@redhat.com

Change-Id: Iae1c9ef1244676589ee505201093daa52704a438
(cherry picked from commit 65d0c1d44cac9fa5f5d83b1a564e0cdcea76aab0)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/20/865520/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml']",8,bad76132a0be44be3445fb05458cd975d0e9beed,,, - name: convert tls templates import_tasks: convert_tls_templates.yaml tags: ffu_overcloud_prepare ,66,160
openstack%2Fopenstack-ansible-rabbitmq_server~862564,openstack/openstack-ansible-rabbitmq_server,stable/ussuri,I588f62a1ab7dc32fcfb41e3f62fe3281b84674cf,Set erlang version to 23.3.4.12-1 for Ubuntu,MERGED,2022-10-25 08:52:07.000000000,2022-11-24 19:05:42.000000000,2022-11-24 19:04:48.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-25 08:52:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/184dec6981af29e502174384c36277a2c4cce7a3', 'message': 'Set erlang version to 23.3.4.15-1\n\nPrior version has been dropped from cloudsmith so we need to adjust it\none more time\n\nChange-Id: I588f62a1ab7dc32fcfb41e3f62fe3281b84674cf\n'}, {'number': 2, 'created': '2022-10-31 14:38:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/e6e4d633025232c92b527200f56e814c6587abcb', 'message': 'Set erlang version to 23.3.4.12-1 ofr Ubuntu\n\nPrior version has been dropped from cloudsmith so we need to adjust it\none more time. And no newer versions are avaialble for CentOS 7.\n\nChange-Id: I588f62a1ab7dc32fcfb41e3f62fe3281b84674cf\n'}, {'number': 3, 'created': '2022-10-31 14:40:51.000000000', 'files': ['vars/debian.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-rabbitmq_server/commit/78a4fbab7a6b8e880d9b4b1b2f8985040925e72d', 'message': 'Set erlang version to 23.3.4.12-1 for Ubuntu\n\nPrior version has been dropped from cloudsmith so we need to adjust it\none more time. And no newer versions are avaialble for CentOS 7.\n\nChange-Id: I588f62a1ab7dc32fcfb41e3f62fe3281b84674cf\n'}]",1,862564,78a4fbab7a6b8e880d9b4b1b2f8985040925e72d,13,3,3,28619,,,0,"Set erlang version to 23.3.4.12-1 for Ubuntu

Prior version has been dropped from cloudsmith so we need to adjust it
one more time. And no newer versions are avaialble for CentOS 7.

Change-Id: I588f62a1ab7dc32fcfb41e3f62fe3281b84674cf
",git fetch https://review.opendev.org/openstack/openstack-ansible-rabbitmq_server refs/changes/64/862564/1 && git format-patch -1 --stdout FETCH_HEAD,"['vars/redhat.yml', 'vars/debian.yml']",2,184dec6981af29e502174384c36277a2c4cce7a3,,"_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:23.3.4.15-1', '1:22.*') }}""","_rabbitmq_erlang_version_spec: ""{{ (rabbitmq_install_method == 'external_repo') | ternary('1:23.3.4.11-1', '1:22.*') }}""",2,2
openstack%2Fneutron-lib~864738,openstack/neutron-lib,stable/xena,I0531ea2c1bf29aecfab9b491eefef044a4ee49ad,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""",MERGED,2022-11-16 14:02:57.000000000,2022-11-24 18:25:49.000000000,2022-11-24 18:24:43.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 14:02:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/3f9cbe45252d93dac4c8dbd11c1629aec43137b0', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nConflicts:\n       neutron_lib/services/constants.py\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n'}, {'number': 2, 'created': '2022-11-17 13:22:52.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/057da4b7656110bfb125346fcbe2394312a025f9', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nConflicts:\n       neutron_lib/services/constants.py\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n'}]",1,864738,057da4b7656110bfb125346fcbe2394312a025f9,14,3,2,16688,,,0,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""

The plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.
The policy engine can now check the QoS rule ownership using the QoS
policy project ID. The QoS rules are resources that do not have an
assigned project ID, it is inherited from the QoS policy. This patch
allows to check a QoS rule ownership using the ""ext_parent_policy_id""
field, that stores the QoS policy project ID.

NOTE: once released, this bug fix must include Neutron unit tests
checking, using the rules:
  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""

Conflicts:
       neutron_lib/services/constants.py

Closes-Bug: #1996606
Change-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad
(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/38/864738/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml']",2,3f9cbe45252d93dac4c8dbd11c1629aec43137b0,bug/1996606,--- other: - | Parent resource mapping was added to ``EXT_PARENT_RESOURCE_MAPPING`` in ``neutron_lib.services.constants`` for the ``qos`` plugin. ,,8,1
openstack%2Fopenstack-ansible-tests~862377,openstack/openstack-ansible-tests,stable/stein,I99ee095bb692401d1a8dd5fff8c14a3579b09181,Return functional jobs to voting,MERGED,2022-10-21 16:28:25.000000000,2022-11-24 17:45:33.000000000,2022-11-24 17:42:56.000000000,"[{'_account_id': 22348}, {'_account_id': 28619}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-21 16:28:25.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-tests/commit/c3cfc983ee8df692b9fa83f618d0bfa3bfcd2712', 'message': 'Return functional jobs to voting\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/862104\nChange-Id: I99ee095bb692401d1a8dd5fff8c14a3579b09181\n'}]",0,862377,c3cfc983ee8df692b9fa83f618d0bfa3bfcd2712,8,3,1,28619,,,0,"Return functional jobs to voting

Depends-On: https://review.opendev.org/c/openstack/openstack-ansible-rabbitmq_server/+/862104
Change-Id: I99ee095bb692401d1a8dd5fff8c14a3579b09181
",git fetch https://review.opendev.org/openstack/openstack-ansible-tests refs/changes/77/862377/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,c3cfc983ee8df692b9fa83f618d0bfa3bfcd2712,,, check: jobs: - openstack-ansible-functional-centos-7: voting: false - openstack-ansible-functional-ubuntu-bionic: voting: false gate: jobs: - openstack-ansible-functional-centos-7: voting: false - openstack-ansible-functional-ubuntu-bionic: voting: false,0,12
openstack%2Ftripleo-validations~864559,openstack/tripleo-validations,stable/zed,Ib4172beea8452eee4f633cb18ce32a16699b4b6a,Refactoring ironic-boot-configuration validation to use openstack collection modules,MERGED,2022-11-15 15:09:55.000000000,2022-11-24 17:35:39.000000000,2022-11-24 17:33:10.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-15 15:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/4aedbb842f1cb92b7503679e99cc4d5dc43f695e', 'message': 'Refactoring ironic-boot-configuration validation to use openstack collection modules\n\nAnsible modules from openstack collection will now be used to retrieve\ninformation about baremetal nodes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib4172beea8452eee4f633cb18ce32a16699b4b6a\n(cherry picked from commit 29a344f5e5d2c68d9937053bae4d8135f8d5140f)\n'}, {'number': 2, 'created': '2022-11-24 08:48:53.000000000', 'files': ['roles/ironic_boot_configuration/tasks/main.yml', 'roles/ironic_boot_configuration/vars/main.yml', 'playbooks/ironic-boot-configuration.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/592ca8ed2c6d6d45a80d19233886b0f5107e11ce', 'message': 'Refactoring ironic-boot-configuration validation to use openstack collection modules\n\nAnsible modules from openstack collection will now be used to retrieve\ninformation about baremetal nodes.\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: Ib4172beea8452eee4f633cb18ce32a16699b4b6a\n(cherry picked from commit 29a344f5e5d2c68d9937053bae4d8135f8d5140f)\n'}]",1,864559,592ca8ed2c6d6d45a80d19233886b0f5107e11ce,11,3,2,32926,,,0,"Refactoring ironic-boot-configuration validation to use openstack collection modules

Ansible modules from openstack collection will now be used to retrieve
information about baremetal nodes.

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: Ib4172beea8452eee4f633cb18ce32a16699b4b6a
(cherry picked from commit 29a344f5e5d2c68d9937053bae4d8135f8d5140f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/59/864559/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ironic_boot_configuration/tasks/main.yml', 'roles/ironic_boot_configuration/vars/main.yml', 'playbooks/ironic-boot-configuration.yaml']",3,4aedbb842f1cb92b7503679e99cc4d5dc43f695e,,- hosts: localhost,- hosts: undercloud,21,2
openstack%2Ftripleo-validations~865515,openstack/tripleo-validations,stable/zed,I59e7255f5c6d9b11ee0d14f171c15843f4871225,"Replace the task ""Get nova_libvirt_launcher Process"" to ""Get libvirtd Process""",MERGED,2022-11-24 09:25:22.000000000,2022-11-24 17:34:30.000000000,2022-11-24 17:33:08.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 34647}]","[{'number': 1, 'created': '2022-11-24 09:25:22.000000000', 'files': ['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/7092063227adcf55f8dbc24061a43f9d6163460d', 'message': 'Replace the task ""Get nova_libvirt_launcher Process"" to ""Get libvirtd Process""\n\nThe process nova_libvirt_launcher.sh does not exist anymore. Replaced the search for libvirtd process. Changed the registered variable name for clarity.\n\nCloses-Bug: #1970755\n\nSigned-off-by: Juan Pablo Marti <jmarti@redhat.com>\nChange-Id: I59e7255f5c6d9b11ee0d14f171c15843f4871225\n(cherry picked from commit d6cbb646d6bdd84ae3d18c3439e2813dfc51c6d8)\n'}]",0,865515,7092063227adcf55f8dbc24061a43f9d6163460d,8,3,1,32926,,,0,"Replace the task ""Get nova_libvirt_launcher Process"" to ""Get libvirtd Process""

The process nova_libvirt_launcher.sh does not exist anymore. Replaced the search for libvirtd process. Changed the registered variable name for clarity.

Closes-Bug: #1970755

Signed-off-by: Juan Pablo Marti <jmarti@redhat.com>
Change-Id: I59e7255f5c6d9b11ee0d14f171c15843f4871225
(cherry picked from commit d6cbb646d6bdd84ae3d18c3439e2813dfc51c6d8)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/15/865515/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/check_nfv_ovsdpdk_zero_packet_loss/tasks/main.yml'],1,7092063227adcf55f8dbc24061a43f9d6163460d,,- name: Get libvirtd Process ps -Leaf | awk '/\/usr\/sbin\/libvirt[d]/ {print $2; exit}' register: libvirtd pgrep --ns {{ libvirtd.stdout }},- name: Get nova_libvirt_launcher Process ps -Leaf | grep nova_libvirt_launcher.sh | grep -v pts -m 1 | awk '{print $2}' register: nova_libvirt_launcher pgrep --ns {{ nova_libvirt_launcher.stdout }},4,4
openstack%2Fansible-role-collect-logs~859401,openstack/ansible-role-collect-logs,master,Iebba70821f7aec02dc97477f49148064da9aa743,Copy and unzip testrepository,MERGED,2022-09-27 10:28:28.000000000,2022-11-24 17:33:12.000000000,2022-11-24 17:33:12.000000000,"[{'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-09-27 10:28:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/71162a9493e9dee078fdf23e4de4c85a22c9bae3', 'message': ""Unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet.\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 2, 'created': '2022-11-09 09:09:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a3cc107498856c2e16a5e5fdb47c1af814a89c3e', 'message': ""Unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 3, 'created': '2022-11-09 12:54:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/a51c6c30b924cf4825a6bd1335117084234cd37d', 'message': ""Unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 4, 'created': '2022-11-10 09:51:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/d482fa50741d5c84d2a7ec5c957d7a846dae539a', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 5, 'created': '2022-11-10 11:59:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/814de1360e00a84a94af37d61898de62821d5d6f', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 6, 'created': '2022-11-10 12:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/6e10ac2b7f03da3b14aefd216df4527ca803b3a6', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 7, 'created': '2022-11-10 12:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/e854bef2927983196930b1b1606058fb13a83fdb', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 8, 'created': '2022-11-17 10:53:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/87873568c1ef0e1067429471d4d7ab52eff27ef2', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}, {'number': 9, 'created': '2022-11-21 11:28:14.000000000', 'files': ['roles/collect_logs/tasks/publish.yml'], 'web_link': 'https://opendev.org/openstack/ansible-role-collect-logs/commit/b44c7cc7b418b4aa4dad05439e8fdda6823b78cc', 'message': ""Copy and unzip testrepository\n\nIn an effort for ci-logging-processing process the testrepository to\nhave tempest results on opensearch, the testrepository can not be\ngzipped, since logging processing tool doesn't support gzipped files\nyet, and also be in the root of the logs directory.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526\n\nChange-Id: Iebba70821f7aec02dc97477f49148064da9aa743\n""}]",12,859401,b44c7cc7b418b4aa4dad05439e8fdda6823b78cc,37,5,9,8367,,,0,"Copy and unzip testrepository

In an effort for ci-logging-processing process the testrepository to
have tempest results on opensearch, the testrepository can not be
gzipped, since logging processing tool doesn't support gzipped files
yet, and also be in the root of the logs directory.

Depends-On: https://review.opendev.org/c/openstack/tripleo-ci/+/859526

Change-Id: Iebba70821f7aec02dc97477f49148064da9aa743
",git fetch https://review.opendev.org/openstack/ansible-role-collect-logs refs/changes/01/859401/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/collect_logs/tasks/publish.yml'],1,71162a9493e9dee078fdf23e4de4c85a22c9bae3,unzip-testrepository, gunzip {{ artcl_collect_dir }}/testrepository.subunit.gz || true,,1,0
openstack%2Frequirements~865547,openstack/requirements,master,Ib9d02f46501024f77fa27fabf26b52450d6f698b,update constraint for openstacksdk to new release 0.103.0,MERGED,2022-11-24 13:49:08.000000000,2022-11-24 17:17:58.000000000,2022-11-24 17:16:49.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 13:49:08.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/e81ba13b8719448e89245f5541a1fb61484ce4c5', 'message': 'update constraint for openstacksdk to new release 0.103.0\n\nmeta: version: 0.103.0\nmeta: diff-start: -\nmeta: series: antelope\nmeta: release-type: release\nmeta: pypi: yes\nmeta: first: no\nmeta: release:Author: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>\nmeta: release:Change-Id: Id4ff2853464e9fc544b7da1d7f1fafcadf281303\nmeta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>\nmeta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>\nmeta: release:Workflow+1: Elod Illes <elod.illes@est.tech>\nChange-Id: Ib9d02f46501024f77fa27fabf26b52450d6f698b\n'}]",0,865547,e81ba13b8719448e89245f5541a1fb61484ce4c5,10,4,1,11131,,,0,"update constraint for openstacksdk to new release 0.103.0

meta: version: 0.103.0
meta: diff-start: -
meta: series: antelope
meta: release-type: release
meta: pypi: yes
meta: first: no
meta: release:Author: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Commit: Artem Goncharov <artem.goncharov@gmail.com>
meta: release:Change-Id: Id4ff2853464e9fc544b7da1d7f1fafcadf281303
meta: release:Code-Review+2: Thierry Carrez <thierry@openstack.org>
meta: release:Code-Review+2: Elod Illes <elod.illes@est.tech>
meta: release:Workflow+1: Elod Illes <elod.illes@est.tech>
Change-Id: Ib9d02f46501024f77fa27fabf26b52450d6f698b
",git fetch https://review.opendev.org/openstack/requirements refs/changes/47/865547/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,e81ba13b8719448e89245f5541a1fb61484ce4c5,new-release,openstacksdk===0.103.0,openstacksdk===0.102.0,1,1
openstack%2Fpython-tripleoclient~864255,openstack/python-tripleoclient,master,I22354b47b4687f1a0e81522062fd99281c9314cb,Removing superflous linebreak character,MERGED,2022-11-11 09:43:58.000000000,2022-11-24 17:09:48.000000000,2022-11-24 17:08:36.000000000,"[{'_account_id': 8449}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 35059}]","[{'number': 1, 'created': '2022-11-11 09:43:58.000000000', 'files': ['tripleoclient/v1/undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8628b07d96054d0d54b957b2bc940ddc2e2581f6', 'message': 'Removing superflous linebreak character\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I22354b47b4687f1a0e81522062fd99281c9314cb\n'}]",2,864255,8628b07d96054d0d54b957b2bc940ddc2e2581f6,9,6,1,32926,,,0,"Removing superflous linebreak character

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I22354b47b4687f1a0e81522062fd99281c9314cb
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/55/864255/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/undercloud.py'],1,8628b07d96054d0d54b957b2bc940ddc2e2581f6,formatting," no_validations=parsed_args.no_validations,"," no_validations=parsed_args. no_validations,",1,2
openstack%2Ftripleo-upgrade~865521,openstack/tripleo-upgrade,stable/zed,Iae1c9ef1244676589ee505201093daa52704a438,FFWD3 Refactor ffwd upgrade for train to wallaby,MERGED,2022-11-24 10:03:26.000000000,2022-11-24 16:13:01.000000000,2022-11-24 16:13:01.000000000,"[{'_account_id': 6816}, {'_account_id': 11090}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 10:03:26.000000000', 'files': ['tasks/common/adjust-roles-data.yaml', 'templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/26c9183fde49c0d7b2fb5a9102d42abf7dfb9b08', 'message': 'FFWD3 Refactor ffwd upgrade for train to wallaby\n\nThis is first attempt to test whole upgrade procedure from\nTrain to Wallaby. We for now deal just with the OpenStack\nupgrade part without OS upgrade step. When we will understand\nthe process better we will refactor this code.\n\nChanges:\n- Remove tls templates comversion.\n- Cleanup adjust-roles-data. We might introduce new ones.\n- Handle the network switch to ansible templates\n- For now use Fast Furious procedure to generate playbook\n- Add ceph adoption workflow from ceph-ansible to cephadm\n\nCo-authored-by: jbadiapa@redhat.com\n\nChange-Id: Iae1c9ef1244676589ee505201093daa52704a438\n(cherry picked from commit 65d0c1d44cac9fa5f5d83b1a564e0cdcea76aab0)\n'}]",0,865521,26c9183fde49c0d7b2fb5a9102d42abf7dfb9b08,8,3,1,6816,,,0,"FFWD3 Refactor ffwd upgrade for train to wallaby

This is first attempt to test whole upgrade procedure from
Train to Wallaby. We for now deal just with the OpenStack
upgrade part without OS upgrade step. When we will understand
the process better we will refactor this code.

Changes:
- Remove tls templates comversion.
- Cleanup adjust-roles-data. We might introduce new ones.
- Handle the network switch to ansible templates
- For now use Fast Furious procedure to generate playbook
- Add ceph adoption workflow from ceph-ansible to cephadm

Co-authored-by: jbadiapa@redhat.com

Change-Id: Iae1c9ef1244676589ee505201093daa52704a438
(cherry picked from commit 65d0c1d44cac9fa5f5d83b1a564e0cdcea76aab0)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/21/865521/1 && git format-patch -1 --stdout FETCH_HEAD,"['tasks/common/adjust-roles-data.yaml', 'templates/ceph_host_limit.txt.j2', 'templates/ceph-upgrade-run.sh.j2', 'tasks/common/auxilary-facts.yaml', 'tasks/fast-forward-upgrade/convert_tls_templates.yaml', 'tasks/fast-forward-upgrade/overcloud_upgrade_fast_and_furious.yaml', 'tasks/fast-forward-upgrade/create-overcloud-ffu-scripts.yaml', 'tasks/fast-forward-upgrade/main.yml']",8,26c9183fde49c0d7b2fb5a9102d42abf7dfb9b08,,, - name: convert tls templates import_tasks: convert_tls_templates.yaml tags: ffu_overcloud_prepare ,66,160
openstack%2Freleases~865533,openstack/releases,master,I7d70b067836fa38a8e24fad16afd3feaa6eeb04e,Release sushy 3.12.5 for Xena,MERGED,2022-11-24 11:46:37.000000000,2022-11-24 16:10:37.000000000,2022-11-24 16:10:37.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 11:46:37.000000000', 'files': ['deliverables/xena/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/03c325338a2c828c0dbcf319a92b740fe2a3c7f2', 'message': 'Release sushy 3.12.5 for Xena\n\nChange-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e\n'}]",1,865533,03c325338a2c828c0dbcf319a92b740fe2a3c7f2,9,7,1,32177,,,0,"Release sushy 3.12.5 for Xena

Change-Id: I7d70b067836fa38a8e24fad16afd3feaa6eeb04e
",git fetch https://review.opendev.org/openstack/releases refs/changes/33/865533/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/xena/sushy.yaml'],1,03c325338a2c828c0dbcf319a92b740fe2a3c7f2,, - version: 3.12.5 projects: - repo: openstack/sushy hash: 42effa17c989bb8f1f425e769f9242d4b8f9780b,,4,0
openstack%2Freleases~865529,openstack/releases,master,Ic15aa833a408685811e53c457c1c5653547b0f85,Releasing sushy 4.1.5 for Yoga,MERGED,2022-11-24 11:21:33.000000000,2022-11-24 16:10:07.000000000,2022-11-24 16:10:07.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 11:21:33.000000000', 'files': ['deliverables/yoga/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/0ee804d868957a6f4f486fbb1ffa33953569f88e', 'message': 'Releasing sushy 4.1.5 for Yoga\n\nChange-Id: Ic15aa833a408685811e53c457c1c5653547b0f85\n'}]",1,865529,0ee804d868957a6f4f486fbb1ffa33953569f88e,9,7,1,32177,,,0,"Releasing sushy 4.1.5 for Yoga

Change-Id: Ic15aa833a408685811e53c457c1c5653547b0f85
",git fetch https://review.opendev.org/openstack/releases refs/changes/29/865529/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/yoga/sushy.yaml'],1,0ee804d868957a6f4f486fbb1ffa33953569f88e,, - version: 4.1.5 projects: - repo: openstack/sushy hash: ff9517642f298c8bafc0084bf366bd0591f048d6,,4,0
openstack%2Freleases~865527,openstack/releases,master,I3b1a2c83f04a81186d8f8b9ebd63d041c5d74c20,Release sushy 4.3.3 for Zed,MERGED,2022-11-24 11:05:32.000000000,2022-11-24 16:09:54.000000000,2022-11-24 16:09:54.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-24 11:05:32.000000000', 'files': ['deliverables/zed/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c0e52954162f1e655eb741f22aa0df904819e5da', 'message': 'Release sushy 4.3.3 for Zed\n\nChange-Id: I3b1a2c83f04a81186d8f8b9ebd63d041c5d74c20\n'}]",1,865527,c0e52954162f1e655eb741f22aa0df904819e5da,9,7,1,32177,,,0,"Release sushy 4.3.3 for Zed

Change-Id: I3b1a2c83f04a81186d8f8b9ebd63d041c5d74c20
",git fetch https://review.opendev.org/openstack/releases refs/changes/27/865527/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/zed/sushy.yaml'],1,c0e52954162f1e655eb741f22aa0df904819e5da,wallaby-sushy-3.7.6, - version: 4.3.3 projects: - repo: openstack/sushy hash: 6489bd2ea158cc3a12c0d15311bbaf62a8503d8a,,4,0
openstack%2Fopenstack-ansible-os_neutron~846063,openstack/openstack-ansible-os_neutron,master,I85188d62ab1f477ac624775025536a4632a580f2,[DNM] Test CI,ABANDONED,2022-06-15 19:38:40.000000000,2022-11-24 15:53:36.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-06-15 19:38:40.000000000', 'files': ['noop'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/4d9abfdaebf857593504cf64c8a6049e027c8459', 'message': '[DNM] Test CI\n\nChange-Id: I85188d62ab1f477ac624775025536a4632a580f2\n'}]",0,846063,4d9abfdaebf857593504cf64c8a6049e027c8459,3,1,1,28619,,,0,"[DNM] Test CI

Change-Id: I85188d62ab1f477ac624775025536a4632a580f2
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/63/846063/1 && git format-patch -1 --stdout FETCH_HEAD,['noop'],1,4d9abfdaebf857593504cf64c8a6049e027c8459,,,,0,0
openstack%2Freleases~864522,openstack/releases,master,Ib1c929efb1f113bc153798a9c356ad45a0bbfc24,Release keystoneauth for Antelope-1 milestone,MERGED,2022-11-15 12:55:50.000000000,2022-11-24 15:52:16.000000000,2022-11-24 15:52:16.000000000,"[{'_account_id': 7414}, {'_account_id': 16465}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-15 12:55:50.000000000', 'files': ['deliverables/antelope/keystoneauth.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/3cccafc2558c2806c0b56f930033c2bf7c47ebc2', 'message': 'Release keystoneauth for Antelope-1 milestone\n\nThis is a library release for keystoneauth for the Antelope-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 5.0.0..aa9c5d2\naa9c5d2 OAuth2.0 Client Credentials Grant Flow Support\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ib1c929efb1f113bc153798a9c356ad45a0bbfc24\n'}]",4,864522,3cccafc2558c2806c0b56f930033c2bf7c47ebc2,14,5,1,28522,,,0,"Release keystoneauth for Antelope-1 milestone

This is a library release for keystoneauth for the Antelope-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 5.0.0..aa9c5d2
aa9c5d2 OAuth2.0 Client Credentials Grant Flow Support

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ib1c929efb1f113bc153798a9c356ad45a0bbfc24
",git fetch https://review.opendev.org/openstack/releases refs/changes/22/864522/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/keystoneauth.yaml'],1,3cccafc2558c2806c0b56f930033c2bf7c47ebc2,antelope-milestone-1,releases: - version: 5.1.0 projects: - repo: openstack/keystoneauth hash: aa9c5d230f48c0ca4a4fb5dde6c92a07aab287e0,,5,0
openstack%2Freleases~864537,openstack/releases,master,Ic876b08e66d90fe8e6249578248e6ec5114b6cbc,Release python-octaviaclient for Antelope-1 milestone,MERGED,2022-11-15 13:05:58.000000000,2022-11-24 15:47:09.000000000,2022-11-24 15:47:09.000000000,"[{'_account_id': 6469}, {'_account_id': 11628}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-11-15 13:05:58.000000000', 'files': ['deliverables/antelope/python-octaviaclient.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/91476391b765f0fc7ee0ddc61f74eee4741fa92c', 'message': 'Release python-octaviaclient for Antelope-1 milestone\n\nThis is a library release for python-octaviaclient for the Antelope-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 3.1.0..04344bc\nb764c14 Clarify the client code is not python bindings\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ic876b08e66d90fe8e6249578248e6ec5114b6cbc\n'}]",5,864537,91476391b765f0fc7ee0ddc61f74eee4741fa92c,11,6,1,28522,,,0,"Release python-octaviaclient for Antelope-1 milestone

This is a library release for python-octaviaclient for the Antelope-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 3.1.0..04344bc
b764c14 Clarify the client code is not python bindings

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ic876b08e66d90fe8e6249578248e6ec5114b6cbc
",git fetch https://review.opendev.org/openstack/releases refs/changes/37/864537/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/python-octaviaclient.yaml'],1,91476391b765f0fc7ee0ddc61f74eee4741fa92c,antelope-milestone-1,releases: - version: 3.2.0 projects: - repo: openstack/python-octaviaclient hash: 04344bc3b798670047b507675ded5ace7132551f,,5,0
openstack%2Ftripleo-quickstart~864726,openstack/tripleo-quickstart,master,Id3f25ad2990209e29e4a2792f55bafb6c6b3bdb8,Remove conditional dlrn_hash_tag current-tripleo in mixed OS jobs,MERGED,2022-11-16 12:35:03.000000000,2022-11-24 15:26:47.000000000,2022-11-24 15:25:45.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 20182}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}, {'_account_id': 30002}, {'_account_id': 30750}]","[{'number': 1, 'created': '2022-11-16 12:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/22c36048d4634bf4209f37d1fa7eb81d59fda68e', 'message': ""Remove conditional dlrn_hash_tag current-tripleo in mixed OS jobs\n\nThis removes the conditional used by the mixed OS jobs to pull\nthe right 'stable' version (in 9 line, use 8 current-tripleo)\ndepending on where the job is running (9 or 8 wallaby periodic).\n\nThe patch at [1] which depends-on this reworks the mixed OS\njob. We will now test and qualify ci-testing for both 8 and 9\ntogether so we need to remove this condition and always return\ntripleo-ci-testing for the dlrn_hash_tag\n\n[1]\n\nChange-Id: Id3f25ad2990209e29e4a2792f55bafb6c6b3bdb8\n""}, {'number': 2, 'created': '2022-11-16 12:35:54.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/54c32bfb6e1f2cab5b5f76ef7632632bb08b46e7', 'message': ""Remove conditional dlrn_hash_tag current-tripleo in mixed OS jobs\n\nThis removes the conditional used by the mixed OS jobs to pull\nthe right 'stable' version (in 9 line, use 8 current-tripleo)\ndepending on where the job is running (9 or 8 wallaby periodic).\n\nThe patch at [1] which depends-on this reworks the mixed OS\njob. We will now test and qualify ci-testing for both 8 and 9\ntogether so we need to remove this condition and always return\ntripleo-ci-testing for the dlrn_hash_tag\n\n[1] https://review.rdoproject.org/r/c/rdo-jobs/+/46119\n\nChange-Id: Id3f25ad2990209e29e4a2792f55bafb6c6b3bdb8\n""}]",5,864726,54c32bfb6e1f2cab5b5f76ef7632632bb08b46e7,16,9,2,8449,,,0,"Remove conditional dlrn_hash_tag current-tripleo in mixed OS jobs

This removes the conditional used by the mixed OS jobs to pull
the right 'stable' version (in 9 line, use 8 current-tripleo)
depending on where the job is running (9 or 8 wallaby periodic).

The patch at [1] which depends-on this reworks the mixed OS
job. We will now test and qualify ci-testing for both 8 and 9
together so we need to remove this condition and always return
tripleo-ci-testing for the dlrn_hash_tag

[1] https://review.rdoproject.org/r/c/rdo-jobs/+/46119

Change-Id: Id3f25ad2990209e29e4a2792f55bafb6c6b3bdb8
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/26/864726/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-8/promotion-testing-hash-wallaby.yml']",2,22c36048d4634bf4209f37d1fa7eb81d59fda68e,oooci_mixed_rhel,dlrn_hash_tag: tripleo-ci-testing,dlrn_hash_tag: >- {% if job.mixed_os_stable_version is defined and job.mixed_os_stable_version in distro_ver -%} current-tripleo {%- else -%} tripleo-ci-testing {%- endif -%},2,14
openstack%2Ftripleo-ansible~865503,openstack/tripleo-ansible,master,I0646f49a6572b800b87a01f904833c689dc8759b,Fix missing links for old names,MERGED,2022-11-24 06:42:12.000000000,2022-11-24 15:25:43.000000000,2022-11-24 15:25:43.000000000,"[{'_account_id': 6816}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-24 06:42:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/49fbcf84619a2efc5d8f89c186462b1b97ba124d', 'message': 'Fix missing tripleo_podman_service.yml\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for this file though it is still used by the collectd\nservice template.\n\nThis change adds the link as a temporal fix. All symbolic links are\nlater removed once usage in tht is updated to use the new names.\n\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}, {'number': 2, 'created': '2022-11-24 06:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b5217a950d381b78e890448ae1bac3e0572639a2', 'message': 'Fix missing tripleo_podman_service.yml\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for this file though it is still used by the collectd\nservice template.\n\nThis change adds the link as a temporal fix. All symbolic links are\nlater removed once usage in tht is updated to use the new names.\n\n[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3\n\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}, {'number': 3, 'created': '2022-11-24 06:46:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/632592ab24419feb3a9d2bfcc3ca4a16e031cb2a', 'message': 'Fix missing links for old names\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for the following files though these are still used by\nthe collectd service template.\n - tripleo_service.yml\n - tripleo_rsyslog_cleanup.yml\n\nThis change adds the links to unblock CI now. All symbolic links will\nbe removed later once references in tht are updated to use the new\nnames.\n\n[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3\n\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}, {'number': 4, 'created': '2022-11-24 06:53:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/da9c61ec72264588f3c763f7d00082f77752f511', 'message': 'tripleo_podman: Fix missing links for old names\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for the following files though these are still used by\nthe collectd service template.\n - tripleo_service.yml\n - tripleo_rsyslog_cleanup.yml\n\nThis change adds the links to unblock CI now. All symbolic links will\nbe removed later once references in tht are updated to use the new\nnames.\n\n[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3\n\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}, {'number': 5, 'created': '2022-11-24 06:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4973a01864004edd4ba33c0e4554cd7b4ff5e27a', 'message': 'Fix missing links for old names\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for the following files though these are still used by\nthe collectd service template.\n - tripleo_service.yml\n - tripleo_rsyslog_cleanup.yml\n\nThis change adds the links to unblock CI now. All symbolic links will\nbe removed later once references in tht are updated to use the new\nnames.\n\n[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3\n\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}, {'number': 6, 'created': '2022-11-24 07:02:51.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a0dc6efe88a24eebfe7d2a2499b35fd64cae20e7', 'message': 'Fix missing links for old names\n\nWe have renamed the task files for tripleo_podman_role[1] but we missed\nadding link for the following files though these are still used by\nthe collectd service template.\n - tripleo_service.yml\n - tripleo_rsyslog_cleanup.yml\n\nThis change adds the links to unblock CI now. All symbolic links will\nbe removed later once references in tht are updated to use the new\nnames.\n\n[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3\n\nCloses-Bug: #1997664\nChange-Id: I0646f49a6572b800b87a01f904833c689dc8759b\n'}]",0,865503,a0dc6efe88a24eebfe7d2a2499b35fd64cae20e7,17,6,6,9816,,,0,"Fix missing links for old names

We have renamed the task files for tripleo_podman_role[1] but we missed
adding link for the following files though these are still used by
the collectd service template.
 - tripleo_service.yml
 - tripleo_rsyslog_cleanup.yml

This change adds the links to unblock CI now. All symbolic links will
be removed later once references in tht are updated to use the new
names.

[1] 0692c49525c3a5a4680ff0b9e15bbfe2822639a3

Closes-Bug: #1997664
Change-Id: I0646f49a6572b800b87a01f904833c689dc8759b
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/03/865503/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_service.yml'],1,49fbcf84619a2efc5d8f89c186462b1b97ba124d,bug/1997664,service.yml,,1,0
openstack%2Foctavia~855468,openstack/octavia,stable/ussuri,I24ec7dc3b18111c126bcfdaa0780bfd7993020fb,Cache subnets validation for batch member update,MERGED,2022-09-01 17:30:01.000000000,2022-11-24 15:02:38.000000000,2022-11-24 15:01:18.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-01 17:30:01.000000000', 'files': ['octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'releasenotes/notes/catch_validation-27ffe48ca187c46f.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/0545e81b376184cfc224f8c57829cdf355b4ddcf', 'message': ""Cache subnets validation for batch member update\n\nAt the moment, we are actually going ahead and sending\nan API request for every single member when doing a batch\nupdate, this can be very expensive in large number of\nmembers and will cause a big hit against the Neutron API,\nit potentially also makes those API calls timeout.\n\nThis patch instead implements a simple cache (per batch\ncall) to simply store the subnets which are considered valid\nwhich means that it will make significantly less calls,\npotentially even one.\n\nIt also adjusts the behaviour so that it only runs this on newly\nadded members which should avoid running it for deleted and\nupdated members which won't have an effect in this change.\n\nChange-Id: I24ec7dc3b18111c126bcfdaa0780bfd7993020fb\n(cherry picked from commit e0a9ba1560bf38d07d7e03bc0f36195703884db1)\n""}]",3,855468,0545e81b376184cfc224f8c57829cdf355b4ddcf,13,3,1,12404,,,0,"Cache subnets validation for batch member update

At the moment, we are actually going ahead and sending
an API request for every single member when doing a batch
update, this can be very expensive in large number of
members and will cause a big hit against the Neutron API,
it potentially also makes those API calls timeout.

This patch instead implements a simple cache (per batch
call) to simply store the subnets which are considered valid
which means that it will make significantly less calls,
potentially even one.

It also adjusts the behaviour so that it only runs this on newly
added members which should avoid running it for deleted and
updated members which won't have an effect in this change.

Change-Id: I24ec7dc3b18111c126bcfdaa0780bfd7993020fb
(cherry picked from commit e0a9ba1560bf38d07d7e03bc0f36195703884db1)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/68/855468/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/v2/controllers/member.py', 'octavia/tests/functional/api/v2/test_member.py', 'releasenotes/notes/catch_validation-27ffe48ca187c46f.yaml']",3,0545e81b376184cfc224f8c57829cdf355b4ddcf,catch_validation-stable/ussuri,"--- fixes: - | In order to avoid hitting the Neutron API hard when batch update with creating many new members, we cache the subnet validation results in batch update members API call. We also change to validate new members only during batch update members since subnet ID is immutable. ",,71,7
openstack%2Fdevstack~864848,openstack/devstack,master,Ic4a960066abb1b413d43890c53ffa2fe33a99c0a,Fix git path for cursive library,ABANDONED,2022-11-17 09:10:35.000000000,2022-11-24 14:57:30.000000000,,"[{'_account_id': 13252}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 09:10:35.000000000', 'files': ['stackrc'], 'web_link': 'https://opendev.org/openstack/devstack/commit/4e4043eb88d27b22d592474136036217b365a2e3', 'message': 'Fix git path for cursive library\n\nThis was moved to the x namespace from OpenStack\nso in order to override this checkout with\nDepends-On we need to fix the default git path.\n\nChange-Id: Ic4a960066abb1b413d43890c53ffa2fe33a99c0a\n'}]",2,864848,4e4043eb88d27b22d592474136036217b365a2e3,6,3,1,16137,,,0,"Fix git path for cursive library

This was moved to the x namespace from OpenStack
so in order to override this checkout with
Depends-On we need to fix the default git path.

Change-Id: Ic4a960066abb1b413d43890c53ffa2fe33a99c0a
",git fetch https://review.opendev.org/openstack/devstack refs/changes/48/864848/1 && git format-patch -1 --stdout FETCH_HEAD,['stackrc'],1,4e4043eb88d27b22d592474136036217b365a2e3,,"GITREPO[""cursive""]=${CURSIVE_REPO:-${GIT_BASE}/x/cursive.git}","GITREPO[""cursive""]=${CURSIVE_REPO:-${GIT_BASE}/openstack/cursive.git}",1,1
openstack%2Fbifrost~865523,openstack/bifrost,master,Ia2d96552e302b861a2df65f34137ad6c55973770,Adapt openstack.cloud.catalog_service calls to Ansible OpenStack Col.>=2.0.0,MERGED,2022-11-24 10:16:01.000000000,2022-11-24 14:50:57.000000000,2022-11-24 14:49:50.000000000,"[{'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-24 10:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1de1ca2bc267174c1173a7d77f10bc57a583eb63', 'message': 'Adapt openstack.cloud.catalog_service calls to Ansible OpenStack Col.>=2.0.0\n\nChange-Id: Ia2d96552e302b861a2df65f34137ad6c55973770\n'}, {'number': 2, 'created': '2022-11-24 10:19:41.000000000', 'files': ['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-keystone-install/tasks/upgrade.yml'], 'web_link': 'https://opendev.org/openstack/bifrost/commit/1c0cbcb86667a0ca60d6722a24a5b56de39d9fdf', 'message': 'Adapt openstack.cloud.catalog_service calls to Ansible OpenStack Col.>=2.0.0\n\nChange-Id: Ia2d96552e302b861a2df65f34137ad6c55973770\n'}]",1,865523,1c0cbcb86667a0ca60d6722a24a5b56de39d9fdf,10,3,2,32962,,,0,"Adapt openstack.cloud.catalog_service calls to Ansible OpenStack Col.>=2.0.0

Change-Id: Ia2d96552e302b861a2df65f34137ad6c55973770
",git fetch https://review.opendev.org/openstack/bifrost refs/changes/23/865523/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/roles/bifrost-ironic-install/tasks/keystone_setup.yml', 'playbooks/roles/bifrost-ironic-install/tasks/keystone_setup_inspector.yml', 'playbooks/roles/bifrost-keystone-install/tasks/upgrade.yml']",3,1de1ca2bc267174c1173a7d77f10bc57a583eb63,catalog-service," service: ""{{ identity_catalog_service.service.id | default(identity_catalog_service.id) }}"" when: identity_catalog_service.id is defined or identity_catalog_service.service.id is defined service: ""{{ identity_catalog_service.service.id | default(identity_catalog_service.id) }}"" when: identity_catalog_service.id is defined or identity_catalog_service.service.id is defined service: ""{{ identity_catalog_service.service.id | default(identity_catalog_service.id) }}"" when: identity_catalog_service.id is defined or identity_catalog_service.service.id is defined"," service: ""{{ identity_catalog_service.id }}"" when: identity_catalog_service.id is defined service: ""{{ identity_catalog_service.id }}"" when: identity_catalog_service.id is defined service: ""{{ identity_catalog_service.id }}"" when: identity_catalog_service.id is defined",12,12
openstack%2Foctavia~855631,openstack/octavia,stable/ussuri,I387d9a3ad2197f6b59cd12db5f7643484c98fcd2,Ignore status update on deleted objects in driver-agent,MERGED,2022-09-02 09:40:15.000000000,2022-11-24 14:20:51.000000000,2022-11-24 14:19:20.000000000,"[{'_account_id': 7249}, {'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-02 09:40:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/b612b8ccc2d60c98a402b287298391b595cafb0c', 'message': 'Ignore status update on deleted objects in driver-agent\n\nWhen receiving 2 DELETE updates on the same object, ignore the 2nd\nupdate. It avoids throwing exceptions because the object no longer\nexists in the DB.\n\nStory 2009202\nTask 43259\n\nChange-Id: I387d9a3ad2197f6b59cd12db5f7643484c98fcd2\n(cherry picked from commit f5655b5eeec9bc1e59407b307233e9e6cdfc3896)\n(cherry picked from commit 0598c4fb864828c10f76df232f0283ba4fd9dd1e)\n(cherry picked from commit 9311c825cbcff8b5534843e46b2dcf77b72de797)\n(cherry picked from commit be227519df401915651394013e17c9d7bc4b8a42)\n(cherry picked from commit 5f6792153033259126efe78cd7522263eb169582)\n'}, {'number': 2, 'created': '2022-09-06 08:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/a47451aa241ef847ba68f81f495eb7f5baa72b1a', 'message': 'Ignore status update on deleted objects in driver-agent\n\nWhen receiving 2 DELETE updates on the same object, ignore the 2nd\nupdate. It avoids throwing exceptions because the object no longer\nexists in the DB.\n\nStory 2009202\nTask 43259\n\nChange-Id: I387d9a3ad2197f6b59cd12db5f7643484c98fcd2\n(cherry picked from commit f5655b5eeec9bc1e59407b307233e9e6cdfc3896)\n(cherry picked from commit 0598c4fb864828c10f76df232f0283ba4fd9dd1e)\n(cherry picked from commit 9311c825cbcff8b5534843e46b2dcf77b72de797)\n(cherry picked from commit be227519df401915651394013e17c9d7bc4b8a42)\n(cherry picked from commit 5f6792153033259126efe78cd7522263eb169582)\n'}, {'number': 3, 'created': '2022-09-06 08:09:58.000000000', 'files': ['octavia/api/drivers/driver_agent/driver_updater.py', 'octavia/tests/functional/api/drivers/driver_agent/test_driver_agent.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/7c82d9082e260451201c498d1e1a83d776adb944', 'message': 'Ignore status update on deleted objects in driver-agent\n\nWhen receiving 2 DELETE updates on the same object, ignore the 2nd\nupdate. It avoids throwing exceptions because the object no longer\nexists in the DB.\n\nNote: for Ussuri backport, the NotFound class is re-defined, as it was\nnot implemented in octavia-lib<2.1.0\n\nStory 2009202\nTask 43259\n\nChange-Id: I387d9a3ad2197f6b59cd12db5f7643484c98fcd2\n(cherry picked from commit f5655b5eeec9bc1e59407b307233e9e6cdfc3896)\n(cherry picked from commit 0598c4fb864828c10f76df232f0283ba4fd9dd1e)\n(cherry picked from commit 9311c825cbcff8b5534843e46b2dcf77b72de797)\n(cherry picked from commit be227519df401915651394013e17c9d7bc4b8a42)\n(cherry picked from commit 5f6792153033259126efe78cd7522263eb169582)\n'}]",5,855631,7c82d9082e260451201c498d1e1a83d776adb944,21,5,3,29244,,,0,"Ignore status update on deleted objects in driver-agent

When receiving 2 DELETE updates on the same object, ignore the 2nd
update. It avoids throwing exceptions because the object no longer
exists in the DB.

Note: for Ussuri backport, the NotFound class is re-defined, as it was
not implemented in octavia-lib<2.1.0

Story 2009202
Task 43259

Change-Id: I387d9a3ad2197f6b59cd12db5f7643484c98fcd2
(cherry picked from commit f5655b5eeec9bc1e59407b307233e9e6cdfc3896)
(cherry picked from commit 0598c4fb864828c10f76df232f0283ba4fd9dd1e)
(cherry picked from commit 9311c825cbcff8b5534843e46b2dcf77b72de797)
(cherry picked from commit be227519df401915651394013e17c9d7bc4b8a42)
(cherry picked from commit 5f6792153033259126efe78cd7522263eb169582)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/31/855631/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/api/drivers/driver_agent/driver_updater.py', 'octavia/tests/functional/api/drivers/driver_agent/test_driver_agent.py']",2,b612b8ccc2d60c98a402b287298391b595cafb0c,," def test_update_load_balancer_status(self): # Add a new member member_dict = copy.deepcopy(self.sample_data.test_member2_dict) self.repos.member.create(self.session, **member_dict) result = self.driver_lib.get_member(member_dict[lib_consts.ID]) self.assertEqual(self.sample_data.provider_member2_dict, result.to_dict(render_unsets=True)) # Test deleting a member status = { ""loadbalancers"": [ {""id"": self.sample_data.lb_id, ""provisioning_status"": ""ACTIVE"", ""operating_status"": ""ONLINE""} ], ""healthmonitors"": [], ""l7policies"": [], ""l7rules"": [], ""listeners"": [], ""members"": [ {""id"": member_dict[lib_consts.ID], ""provisioning_status"": ""DELETED""} ], ""pools"": [] } self.driver_lib.update_loadbalancer_status(status) result = self.driver_lib.get_member(member_dict[lib_consts.ID]) self.assertIsNone(result) # Test deleting an already deleted member # It should be silently ignored self.driver_lib.update_loadbalancer_status(status) result = self.driver_lib.get_member(member_dict[lib_consts.ID]) self.assertIsNone(result)",,50,1
openstack%2Fdevstack-plugin-container~839135,openstack/devstack-plugin-container,master,Id5f1fa24ebb09db10f0d56e4d6b111be66869b5a,Fix docker group name,MERGED,2022-04-24 19:43:03.000000000,2022-11-24 14:13:30.000000000,2022-11-24 14:13:30.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-04-24 19:43:03.000000000', 'files': ['devstack/lib/docker'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/b648421624d551db7b5f41c189e4f7b650c0c041', 'message': 'Fix docker group name\n\ndevstack-plugin-container wrongfully assumes that the stack user name\nis also the name of the group under which install the docker daemon.\nThis can cause devstack to install docker in such a way that the stack\nuser does not have permissions to access the docker socket, as seen in\n[3].\n\n[1] https://opendev.org/openstack/devstack-plugin-container\n[2] https://github.com/openstack/devstack-plugin-container/blob/f09c5c9/devstack/lib/docker#L27\n[3] https://github.com/gophercloud/gophercloud/pull/2380#issuecomment-1094295137\n\nCloses-Bug: 1970129\nChange-Id: Id5f1fa24ebb09db10f0d56e4d6b111be66869b5a\n'}]",2,839135,b648421624d551db7b5f41c189e4f7b650c0c041,9,2,1,13039,,,0,"Fix docker group name

devstack-plugin-container wrongfully assumes that the stack user name
is also the name of the group under which install the docker daemon.
This can cause devstack to install docker in such a way that the stack
user does not have permissions to access the docker socket, as seen in
[3].

[1] https://opendev.org/openstack/devstack-plugin-container
[2] https://github.com/openstack/devstack-plugin-container/blob/f09c5c9/devstack/lib/docker#L27
[3] https://github.com/gophercloud/gophercloud/pull/2380#issuecomment-1094295137

Closes-Bug: 1970129
Change-Id: Id5f1fa24ebb09db10f0d56e4d6b111be66869b5a
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/35/839135/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/docker'],1,b648421624d551db7b5f41c189e4f7b650c0c041,fix_docker_group,"STACK_GROUP=""$( id --group --name ""$STACK_USER"" )"" DOCKER_GROUP=${DOCKER_GROUP:-$STACK_GROUP}",DOCKER_GROUP=${DOCKER_GROUP:-$STACK_USER},2,1
openstack%2Fkolla-ansible~865468,openstack/kolla-ansible,master,Ibcd81a3a5f4b8de60459b3a4cfc30a50a06a436f,Remove allow_overlapping_ips configuration option,MERGED,2022-11-23 20:17:31.000000000,2022-11-24 14:07:34.000000000,2022-11-24 14:06:29.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-23 20:17:31.000000000', 'files': ['ansible/roles/neutron/templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/68376d6f313895711dcd6dc992be1e8cdcf459a0', 'message': 'Remove allow_overlapping_ips configuration option\n\nThis option was removed from Neutron in the Zed release [1]. This can be\nbackported to Yoga where the default value was changed to True [2].\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837286\n[2] https://review.opendev.org/c/openstack/neutron/+/807848\n\nChange-Id: Ibcd81a3a5f4b8de60459b3a4cfc30a50a06a436f\n'}]",1,865468,68376d6f313895711dcd6dc992be1e8cdcf459a0,9,4,1,15197,,,0,"Remove allow_overlapping_ips configuration option

This option was removed from Neutron in the Zed release [1]. This can be
backported to Yoga where the default value was changed to True [2].

[1] https://review.opendev.org/c/openstack/neutron/+/837286
[2] https://review.opendev.org/c/openstack/neutron/+/807848

Change-Id: Ibcd81a3a5f4b8de60459b3a4cfc30a50a06a436f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/68/865468/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/roles/neutron/templates/neutron.conf.j2'],1,68376d6f313895711dcd6dc992be1e8cdcf459a0,neutron-allow-overlapping-ips,,allow_overlapping_ips = true ,0,2
openstack%2Foctavia~859821,openstack/octavia,stable/ussuri,Ifff0a4a5f78e35ecd722ecdb15edd08347230842,Add *.orig to .gitignore,MERGED,2022-09-29 09:08:27.000000000,2022-11-24 13:54:53.000000000,2022-11-24 13:53:36.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-09-29 09:08:27.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/octavia/commit/629d3e7aae7cb17fcf7c28d26d227d378eb63c7b', 'message': 'Add *.orig to .gitignore\n\n.orig files get generated by Git when a merge conflict happens. Nobody\nshould ever want to add those files to the Git tree. By including them\nin .gitignore we prevent that those files get added by accident.\n\n Conflicts:\n\t.gitignore\n\nChange-Id: Ifff0a4a5f78e35ecd722ecdb15edd08347230842\n(cherry picked from commit 54a778e8a598e5eca7269305ea1017d55d220fb5)\n(cherry picked from commit b7fc5b10b2787ee84588646a5590de4a43306e98)\n(cherry picked from commit 10042f76d6f7855d348c1680c1f54f5cff045cc4)\n(cherry picked from commit c87ff96d0b02a31f349967e82a78b740adb6a309)\n(cherry picked from commit 9d1f7f67feaf60eaddb1d8887609c527d372fff6)\n(cherry picked from commit 9d34d73af84812d1faf11c3c7e6b1076b8ec6861)\n'}]",2,859821,629d3e7aae7cb17fcf7c28d26d227d378eb63c7b,12,3,1,34429,,,0,"Add *.orig to .gitignore

.orig files get generated by Git when a merge conflict happens. Nobody
should ever want to add those files to the Git tree. By including them
in .gitignore we prevent that those files get added by accident.

 Conflicts:
	.gitignore

Change-Id: Ifff0a4a5f78e35ecd722ecdb15edd08347230842
(cherry picked from commit 54a778e8a598e5eca7269305ea1017d55d220fb5)
(cherry picked from commit b7fc5b10b2787ee84588646a5590de4a43306e98)
(cherry picked from commit 10042f76d6f7855d348c1680c1f54f5cff045cc4)
(cherry picked from commit c87ff96d0b02a31f349967e82a78b740adb6a309)
(cherry picked from commit 9d1f7f67feaf60eaddb1d8887609c527d372fff6)
(cherry picked from commit 9d34d73af84812d1faf11c3c7e6b1076b8ec6861)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/21/859821/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,629d3e7aae7cb17fcf7c28d26d227d378eb63c7b,,*.orig,,1,0
openstack%2Freleases~865456,openstack/releases,master,Id4ff2853464e9fc544b7da1d7f1fafcadf281303,Release OpenStackSDK 0.103.0,MERGED,2022-11-23 17:57:59.000000000,2022-11-24 13:25:07.000000000,2022-11-24 13:25:07.000000000,"[{'_account_id': 308}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 17:57:59.000000000', 'files': ['deliverables/antelope/openstacksdk.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/94a8a8144c7a5b414153e28a86f164de6ed00626', 'message': 'Release OpenStackSDK 0.103.0\n\nChange-Id: Id4ff2853464e9fc544b7da1d7f1fafcadf281303\n'}]",1,865456,94a8a8144c7a5b414153e28a86f164de6ed00626,8,3,1,27900,,,0,"Release OpenStackSDK 0.103.0

Change-Id: Id4ff2853464e9fc544b7da1d7f1fafcadf281303
",git fetch https://review.opendev.org/openstack/releases refs/changes/56/865456/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/openstacksdk.yaml'],1,94a8a8144c7a5b414153e28a86f164de6ed00626,, - version: 0.103.0 projects: - repo: openstack/openstacksdk hash: 2baee35a5b054fe4ed505f2d8e9f276bbcae472f,,4,0
openstack%2Fcharm-designate~862976,openstack/charm-designate,master,I48a04ac619204ba109d87ca05de7cbe308592486,Add check to expose internal endpoints,MERGED,2022-10-30 00:56:38.000000000,2022-11-24 13:19:14.000000000,2022-11-24 13:19:14.000000000,"[{'_account_id': 6737}, {'_account_id': 8992}, {'_account_id': 10058}, {'_account_id': 19298}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-30 00:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/81799ab13a2b427da2543e7505e9b01cc769f4a0', 'message': 'Add check to expose internal endpoints\n\nCurrently, the charm ignores the use-internal-endpoints config\noption that is being inherited from the Openstack Layer. This\npatch adds a check to ensure that the internal endpoint is exposed\nif this is set to True.\n\nCloses-bug: #1995188\nChange-Id: I48a04ac619204ba109d87ca05de7cbe308592486\n'}, {'number': 2, 'created': '2022-11-11 20:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/9fdcfe0d57c6856499dc4ed986cc396edc81bbda', 'message': 'Add check to expose internal endpoints\n\nCurrently, the charm ignores the use-internal-endpoints config\noption that is being inherited from the Openstack Layer. This\npatch adds a check to ensure that the internal endpoint is exposed\nif this is set to True.\n\nCloses-bug: #1995188\nChange-Id: I48a04ac619204ba109d87ca05de7cbe308592486\n'}, {'number': 3, 'created': '2022-11-22 14:33:51.000000000', 'files': ['unit_tests/test_designate_handlers.py', 'src/reactive/designate_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-designate/commit/8a4940bbb108124246ad3ae830964cf58dfc9ec3', 'message': 'Add check to expose internal endpoints\n\nCurrently, the charm ignores the use-internal-endpoints config\noption that is being inherited from the Openstack Layer. This\npatch adds a check to ensure that the internal endpoint is exposed\nif this is set to True.\n\nCloses-bug: #1995188\nChange-Id: I48a04ac619204ba109d87ca05de7cbe308592486\n'}]",6,862976,8a4940bbb108124246ad3ae830964cf58dfc9ec3,26,6,3,17097,,,0,"Add check to expose internal endpoints

Currently, the charm ignores the use-internal-endpoints config
option that is being inherited from the Openstack Layer. This
patch adds a check to ensure that the internal endpoint is exposed
if this is set to True.

Closes-bug: #1995188
Change-Id: I48a04ac619204ba109d87ca05de7cbe308592486
",git fetch https://review.opendev.org/openstack/charm-designate refs/changes/76/862976/1 && git format-patch -1 --stdout FETCH_HEAD,['src/reactive/designate_handlers.py'],1,81799ab13a2b427da2543e7505e9b01cc769f4a0,, if hookenv.config('use-internal-endpoints'): endpoint.expose_endpoint(instance.internal_url) else: endpoint.expose_endpoint(instance.public_url), endpoint.expose_endpoint(instance.public_url),4,1
openstack%2Fpuppet-openstack-integration~865359,openstack/puppet-openstack-integration,master,Id32f2bc77a9173f3cc3a111e421a91bbeb37e5dc,Updated from Puppet OpenStack modules constraints,MERGED,2022-11-23 02:15:51.000000000,2022-11-24 13:10:56.000000000,2022-11-24 13:10:56.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 02:15:51.000000000', 'files': ['Puppetfile'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/409968413df8f0f06d5be64ee8fd69e230e3d624', 'message': 'Updated from Puppet OpenStack modules constraints\n\nChange-Id: Id32f2bc77a9173f3cc3a111e421a91bbeb37e5dc\n'}]",3,865359,409968413df8f0f06d5be64ee8fd69e230e3d624,19,3,1,11131,,,0,"Updated from Puppet OpenStack modules constraints

Change-Id: Id32f2bc77a9173f3cc3a111e421a91bbeb37e5dc
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/59/865359/1 && git format-patch -1 --stdout FETCH_HEAD,['Puppetfile'],1,409968413df8f0f06d5be64ee8fd69e230e3d624,openstack/puppet/constraints, :ref => 'v4.0.0', :ref => 'v3.6.0',1,1
openstack%2Ftripleo-common~865397,openstack/tripleo-common,stable/wallaby,I99bdc55445313f823a761b913407398f98650c5f,Use net=host with buildah bud,MERGED,2022-11-23 18:52:40.000000000,2022-11-24 12:55:51.000000000,2022-11-24 12:53:53.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-23 18:52:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cfdb770b8277e8a9ad5f89f006080e3db023301b', 'message': 'Use net=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n(cherry picked from commit b3a35712588e1e982ae0dd856adba978d0a9ae28)\n(cherry picked from commit c33f5005aba34dcc5a56e1a2e604c7c126eca00a)\n'}, {'number': 2, 'created': '2022-11-24 05:23:40.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/3f747586204bea6f7484b45d076af0ddff48a3fe', 'message': 'Use net=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n(cherry picked from commit b3a35712588e1e982ae0dd856adba978d0a9ae28)\n(cherry picked from commit c33f5005aba34dcc5a56e1a2e604c7c126eca00a)\n'}]",2,865397,3f747586204bea6f7484b45d076af0ddff48a3fe,15,6,2,9976,,,0,"Use net=host with buildah bud

We use the default networking (netavark) with RUN instructions.
We can simplify this by just using host network.

Change-Id: I99bdc55445313f823a761b913407398f98650c5f
(cherry picked from commit b3a35712588e1e982ae0dd856adba978d0a9ae28)
(cherry picked from commit c33f5005aba34dcc5a56e1a2e604c7c126eca00a)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/97/865397/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,cfdb770b8277e8a9ad5f89f006080e3db023301b,," buildah_cmd_build = ['--log-level=debug', 'bud', '--net=host', buildah_cmd_build = ['bud', '--net=host', '--format', 'docker', '--tls-verify=False', buildah_cmd_build = ['bud', '--net=host', '--volume', '/etc/pki:/etc/pki',"," buildah_cmd_build = ['--log-level=debug', 'bud', buildah_cmd_build = ['bud', '--format', 'docker', '--tls-verify=False', buildah_cmd_build = ['bud', '--volume', '/etc/pki:/etc/pki',",6,5
openstack%2Ftripleo-common~865118,openstack/tripleo-common,master,I5f99a2fad3ddd5b00d4a7363565545d08f8523fe,tripleo_inventory is not needed for standalone roles,MERGED,2022-11-21 10:12:43.000000000,2022-11-24 12:55:08.000000000,2022-11-24 12:53:55.000000000,"[{'_account_id': 7144}, {'_account_id': 11090}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 10:12:43.000000000', 'files': ['container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/41c0af15f82eeaf3a65ad388c8b8e80de90d7dbf', 'message': 'tripleo_inventory is not needed for standalone roles\n\ntripleo_inventory files mean nothing in the context of running standalone\nroles, and the configuration that is included in the set of inventory\nfiles is tampering with the configuration needed to run standalone roles\non external dataplane. It seems better to not mount them by default on the\n/runner directory, but let the user mount them if they are useful to his\ncase.\n\nChange-Id: I5f99a2fad3ddd5b00d4a7363565545d08f8523fe\n'}]",1,865118,41c0af15f82eeaf3a65ad388c8b8e80de90d7dbf,10,5,1,32968,,,0,"tripleo_inventory is not needed for standalone roles

tripleo_inventory files mean nothing in the context of running standalone
roles, and the configuration that is included in the set of inventory
files is tampering with the configuration needed to run standalone roles
on external dataplane. It seems better to not mount them by default on the
/runner directory, but let the user mount them if they are useful to his
case.

Change-Id: I5f99a2fad3ddd5b00d4a7363565545d08f8523fe
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/18/865118/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/tripleo-ansible-ee/tripleo-ansible-ee.yaml'],1,41c0af15f82eeaf3a65ad388c8b8e80de90d7dbf,,,"- run: >- if [ -d ""/usr/share/ansible/tripleo-inventory"" ]; then rm -rf /runner/inventory && ln -snf /usr/share/ansible/tripleo-inventory inventory; fi",0,3
openstack%2Ftripleo-common~865402,openstack/tripleo-common,stable/wallaby,I480ff3878c2ed3ae8222fe3b8a47af790673bcc8,Stop downgrading pacemaker,MERGED,2022-11-24 05:16:07.000000000,2022-11-24 12:54:59.000000000,2022-11-24 12:53:50.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-24 05:16:07.000000000', 'files': ['container-images/tcib/base/redis/redis.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f7cd739c38611ae914a7bf3e48ce9f4368c89caf', 'message': 'Stop downgrading pacemaker\n\nThis reverts the following two changes in a single commit.\n\ncommit bf87555420bfd17d8b90f70ea9616476741b1819\nDowngrade pacemaker and resource-agents\n\ncommit 0b6ae01e797f3f34c83d14fa03151b33ce6894bb\nDowngrade pacemaker, resource-agents - exact ver\n\nThe bug[1] in pacemaker was already fixed and the new pacemaker package\n( 2.1.4-2 ) with the fix was already released in CentOS Stream 9 repo.\n\n[1] https://bugzilla.redhat.com/show_bug.cgi?id=2099331\n\nRelated-Bug: #1978997\nChange-Id: I480ff3878c2ed3ae8222fe3b8a47af790673bcc8\n(cherry picked from commit d407c857a6e96683e9834136349d880d92f2f94d)\n'}]",1,865402,f7cd739c38611ae914a7bf3e48ce9f4368c89caf,10,4,1,9816,,,0,"Stop downgrading pacemaker

This reverts the following two changes in a single commit.

commit bf87555420bfd17d8b90f70ea9616476741b1819
Downgrade pacemaker and resource-agents

commit 0b6ae01e797f3f34c83d14fa03151b33ce6894bb
Downgrade pacemaker, resource-agents - exact ver

The bug[1] in pacemaker was already fixed and the new pacemaker package
( 2.1.4-2 ) with the fix was already released in CentOS Stream 9 repo.

[1] https://bugzilla.redhat.com/show_bug.cgi?id=2099331

Related-Bug: #1978997
Change-Id: I480ff3878c2ed3ae8222fe3b8a47af790673bcc8
(cherry picked from commit d407c857a6e96683e9834136349d880d92f2f94d)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/02/865402/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/redis/redis.yaml'],1,f7cd739c38611ae914a7bf3e48ce9f4368c89caf,,,- run: >- if [ '{{ tcib_distro }}' == 'centos' ] && [ '{{ tcib_release }}' == '9' ]; then dnf -y downgrade pacemaker-2.1.2-4.el9 pacemaker-remote-1.2-4.el9 resource-agents-4.10.0-17.el9; fi,0,3
openstack%2Fpython-openstackclient~865377,openstack/python-openstackclient,master,I9219eecc65f0382c74c97cd13abd8f1bd258c3c1,Update size and name parameters in volume create,ABANDONED,2022-11-23 08:52:21.000000000,2022-11-24 12:52:21.000000000,,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 08:52:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/51fda22bbf944db6e03c1cbbfa5878e33fd57f90', 'message': ""Update size and name parameters in volume create\n\nWhile migrating from cinderclient to OpenStack client, there is\nexpected to be a smooth transition and that means we want to try\nto keep the syntax as similar as possible.\nOne such case where this isn't satisfied is the name and size\narguments in the volume create command.\nThe name argument is positional (although it was made optional) and\nsize is an optional argument (although it is mandatory when not\ncreating volume from another resource), this is a gap that could\ncause the following behavior for end users:\n\nWhen we are creating a volume from snapshot (or source volume or\nbackup), we execute the following command in cinderclient:\n\ncinder create --snapshot <snapshot-uuid> <size>\n\nThis will create a volume from snapshot with the given size.\n\nEg: cinder create --snapshot <some-snapshot-uuid> 2\nwill create a volume of size 2 from given snapshot.\n\nIf we execute the same command in OSC,\n\nopenstack volume create --snapshot <some-snapshot-uuid> 2\nThis will create a volume of size same as snapshot but with name as 2.\n\nThis is because the syntax in OSC is following:\nopenstack volume create --snapshot <snapshot-uuid> <name>\nand we need to specify --size to provide the size for the resource.\nThis example is executed in [1] for reference.\n\nThis patch modifies the behavior to make size as positional argument\nand name as optional (--name).\n\n[1] https://paste.opendev.org/show/bBUk8ul0v2qpQJRS1hwt/\n\nChange-Id: I9219eecc65f0382c74c97cd13abd8f1bd258c3c1\n""}, {'number': 2, 'created': '2022-11-23 08:55:04.000000000', 'files': ['openstackclient/volume/v2/volume.py', 'releasenotes/notes/size-positional-in-vol-create-d89f495d72029ed7.yaml', 'openstackclient/tests/unit/volume/v2/test_volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/bd741b96367aade8ae3509d06b229b28e6714eb4', 'message': ""Update size and name parameters in volume create\n\nWhile migrating from cinderclient to OpenStack client, there is\nexpected to be a smooth transition and that means we want to try\nto keep the syntax as similar as possible.\nOne such case where this isn't satisfied is the name and size\narguments in the volume create command.\nThe name argument is positional (although it was made optional) and\nsize is an optional argument (although it is mandatory when not\ncreating volume from another resource), this is a gap that could\ncause the following behavior for end users:\n\nWhen we are creating a volume from snapshot (or source volume or\nbackup), we execute the following command in cinderclient:\n\ncinder create --snapshot <snapshot-uuid> <size>\n\nThis will create a volume from snapshot with the given size.\n\nEg: cinder create --snapshot <some-snapshot-uuid> 2\nwill create a volume of size 2 from given snapshot.\n\nIf we execute the same command in OSC,\n\nopenstack volume create --snapshot <some-snapshot-uuid> 2\nThis will create a volume of size same as snapshot but with name as 2.\n\nThis is because the syntax in OSC is following:\nopenstack volume create --snapshot <snapshot-uuid> <name>\nand we need to specify --size to provide the size for the resource.\nThis example is executed in [1] for reference.\n\nThis patch modifies the behavior to make size as positional argument\nand name as optional (--name).\n\n[1] https://paste.opendev.org/show/bBUk8ul0v2qpQJRS1hwt/\n\nChange-Id: I9219eecc65f0382c74c97cd13abd8f1bd258c3c1\n""}]",4,865377,bd741b96367aade8ae3509d06b229b28e6714eb4,7,2,2,27615,,,0,"Update size and name parameters in volume create

While migrating from cinderclient to OpenStack client, there is
expected to be a smooth transition and that means we want to try
to keep the syntax as similar as possible.
One such case where this isn't satisfied is the name and size
arguments in the volume create command.
The name argument is positional (although it was made optional) and
size is an optional argument (although it is mandatory when not
creating volume from another resource), this is a gap that could
cause the following behavior for end users:

When we are creating a volume from snapshot (or source volume or
backup), we execute the following command in cinderclient:

cinder create --snapshot <snapshot-uuid> <size>

This will create a volume from snapshot with the given size.

Eg: cinder create --snapshot <some-snapshot-uuid> 2
will create a volume of size 2 from given snapshot.

If we execute the same command in OSC,

openstack volume create --snapshot <some-snapshot-uuid> 2
This will create a volume of size same as snapshot but with name as 2.

This is because the syntax in OSC is following:
openstack volume create --snapshot <snapshot-uuid> <name>
and we need to specify --size to provide the size for the resource.
This example is executed in [1] for reference.

This patch modifies the behavior to make size as positional argument
and name as optional (--name).

[1] https://paste.opendev.org/show/bBUk8ul0v2qpQJRS1hwt/

Change-Id: I9219eecc65f0382c74c97cd13abd8f1bd258c3c1
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/77/865377/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/volume/v2/volume.py', 'releasenotes/notes/size-positional-in-vol-create-d89f495d72029ed7.yaml', 'openstackclient/tests/unit/volume/v2/test_volume.py']",3,51fda22bbf944db6e03c1cbbfa5878e33fd57f90,," str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, '--name', self.new_volume.name, '--name', self.new_volume.name, '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size), '--name', self.new_volume.name, str(self.new_volume.size),"," '--size', str(self.new_volume.size), '--size', str(self.new_volume.size), self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, self.new_volume.name, self.new_volume.name, self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, '--size', str(self.new_volume.size), self.new_volume.name, def test_volume_create_without_size(self): arglist = [ self.new_volume.name, ] verifylist = [ ('name', self.new_volume.name), ] parsed_args = self.check_parser(self.cmd, arglist, verifylist) self.assertRaises(exceptions.CommandError, self.cmd.take_action, parsed_args) ",40,49
openstack%2Fopenstack-ansible~862922,openstack/openstack-ansible,master,I6ce27125d2fa670bb0f240195a59f8ea242369d9,Try to adjust Apache directives for AIO,MERGED,2022-10-28 14:27:19.000000000,2022-11-24 12:21:20.000000000,2022-11-24 12:19:51.000000000,"[{'_account_id': 13095}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-10-28 14:27:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/392e665196cfb185920f4d9c03883e902072eca5', 'message': 'Try to adjust Apache directives for AIO\n\nWe started seing tempest failing on keystone quite frequently since\nmoved keystone behind Apache instead of nginx. At the same time we see\nno issues. Also there are no issues logged which points towards too\nsmall amount of threads/connection available for normal work and even\nserial tempest tests. We try to minorly increase amount of threads for\nApache to see if that helps.\n\nChange-Id: I6ce27125d2fa670bb0f240195a59f8ea242369d9\n'}, {'number': 2, 'created': '2022-11-23 09:01:46.000000000', 'files': ['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91315414d15121b1dd29a8168d96fb6a9dc41c21', 'message': 'Try to adjust Apache directives for AIO\n\nWe started seing tempest failing on keystone quite frequently since\nmoved keystone behind Apache instead of nginx. At the same time we see\nno issues. Also there are no issues logged which points towards too\nsmall amount of threads/connection available for normal work and even\nserial tempest tests. We try to minorly increase amount of threads for\nApache to see if that helps.\n\nChange-Id: I6ce27125d2fa670bb0f240195a59f8ea242369d9\n'}]",1,862922,91315414d15121b1dd29a8168d96fb6a9dc41c21,15,4,2,28619,,,0,"Try to adjust Apache directives for AIO

We started seing tempest failing on keystone quite frequently since
moved keystone behind Apache instead of nginx. At the same time we see
no issues. Also there are no issues logged which points towards too
small amount of threads/connection available for normal work and even
serial tempest tests. We try to minorly increase amount of threads for
Apache to see if that helps.

Change-Id: I6ce27125d2fa670bb0f240195a59f8ea242369d9
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/22/862922/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/roles/bootstrap-host/templates/user_variables.aio.yml.j2'],1,392e665196cfb185920f4d9c03883e902072eca5,,keystone_httpd_mpm_min_spare_threads: 5 keystone_httpd_mpm_max_spare_threads: 10keystone_httpd_mpm_thread_child: 15,keystone_httpd_mpm_min_spare_threads: 1 keystone_httpd_mpm_max_spare_threads: 2keystone_httpd_mpm_thread_child: 5,3,3
openstack%2Fneutron~865341,openstack/neutron,stable/xena,I4bccb094ee7f690cbc352c38b5b39d505e6ea460,Avoid register config options on imports,MERGED,2022-11-22 22:05:06.000000000,2022-11-24 12:20:43.000000000,2022-11-24 12:17:54.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 22:05:06.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/510beec6291fa5d3ce5a6e8eaf85f9253c981f84', 'message': 'Avoid register config options on imports\n\nContinue similar approach following in [1], where some project imports\ncollide with config options.\n\nAs part of the change, a wrapped decorator has been implemented to cover\nthose functions that include any of the ovn config options as value to\nthe decorators arguments (e.g. tenacity retry). This way we avoid\nrequiring the options to be registered as soon as the module is imported,\nwhere they have not yet been registered by a main process.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837392\n\nCo-authored-by: Jakub Libosvar <libosvar@redhat.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nConflicts:\n\tneutron/agent/ovn/metadata_agent.py\n\tneutron/cmd/ovn/neutron_ovn_db_sync_util.py\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py\n\nChange-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460\n(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)\n(cherry picked from commit 44ec1f150338ec69a811e1b2cfa4214c07a9af83)\n'}]",4,865341,510beec6291fa5d3ce5a6e8eaf85f9253c981f84,23,3,1,8655,,,0,"Avoid register config options on imports

Continue similar approach following in [1], where some project imports
collide with config options.

As part of the change, a wrapped decorator has been implemented to cover
those functions that include any of the ovn config options as value to
the decorators arguments (e.g. tenacity retry). This way we avoid
requiring the options to be registered as soon as the module is imported,
where they have not yet been registered by a main process.

[1] https://review.opendev.org/c/openstack/neutron/+/837392

Co-authored-by: Jakub Libosvar <libosvar@redhat.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

Conflicts:
	neutron/agent/ovn/metadata_agent.py
	neutron/cmd/ovn/neutron_ovn_db_sync_util.py
	neutron/common/ovn/utils.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/tests/unit/common/ovn/test_utils.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py

Change-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460
(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)
(cherry picked from commit 44ec1f150338ec69a811e1b2cfa4214c07a9af83)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/41/865341/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",17,510beec6291fa5d3ce5a6e8eaf85f9253c981f84,bug/1991579-xena,from neutron.conf.plugins.ml2.drivers.ovn import ovn_conf ovn_conf.register_opts(),,93,15
openstack%2Ftempest~865300,openstack/tempest,master,I9c30cf332a419946516cba776b8a3ecdb3cbd3c2,"Set back to use Bionic for Ussuri, Train and Stein",MERGED,2022-11-22 15:37:42.000000000,2022-11-24 12:20:40.000000000,2022-11-24 12:17:51.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-22 15:37:42.000000000', 'files': ['zuul.d/stable-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/78d2492f91fb01f228d2949a17618c830061ee89', 'message': 'Set back to use Bionic for Ussuri, Train and Stein\n\nWith patch I2e37603b098880b778100613800496b01167b22f some jobs based on\ntempest-multinode-full-py3 on stein, train and ussuri branches started\nto to run on Focal, howerer those run on Bionic previously.\nThis patch sets back to use Bionic for those branches.\n\nChange-Id: I9c30cf332a419946516cba776b8a3ecdb3cbd3c2\n'}]",8,865300,78d2492f91fb01f228d2949a17618c830061ee89,22,3,1,17685,,,0,"Set back to use Bionic for Ussuri, Train and Stein

With patch I2e37603b098880b778100613800496b01167b22f some jobs based on
tempest-multinode-full-py3 on stein, train and ussuri branches started
to to run on Focal, howerer those run on Bionic previously.
This patch sets back to use Bionic for those branches.

Change-Id: I9c30cf332a419946516cba776b8a3ecdb3cbd3c2
",git fetch https://review.opendev.org/openstack/tempest refs/changes/00/865300/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/stable-jobs.yaml'],1,78d2492f91fb01f228d2949a17618c830061ee89,, nodeset: openstack-two-node-bionic # This job runs on Bionic. vars: devstack_localrc: USE_PYTHON3: true devstack_plugins: neutron: https://opendev.org/openstack/neutron devstack_services: neutron-trunk: true group-vars: subnode: devstack_localrc: USE_PYTHON3: true - job: name: tempest-multinode-full-py3 parent: tempest-multinode-full nodeset: openstack-two-node-focal # This job runs on Focal and supposed to run until stable/zed. branches:, nodeset: openstack-two-node-focal # This job runs on Focal and supposed to run until stable/zed.,20,2
openstack%2Fopenstack-ansible~865312,openstack/openstack-ansible,master,Ife227db4ad25851456e1acc6b4daf198f39d989a,Update self version fetching mechanism,MERGED,2022-11-22 17:10:11.000000000,2022-11-24 12:13:00.000000000,2022-11-24 12:11:04.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 31542}]","[{'number': 1, 'created': '2022-11-22 17:10:11.000000000', 'files': ['scripts/bootstrap-ansible.sh'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7eebc69e8a5a2a6346f68b11bd9f6b6109e10fd9', 'message': ""Update self version fetching mechanism\n\nWith release of new setuptools running setup.py --version started\nreturining extra line. Eventually, running setup.py as a script is not\nconsidered as good practice and we should not rely on it's output much.\nInstead, we can leverage importlib.metadata as it should be more\nreliable in long run.\n\nCloses-Bug: #1997365\nChange-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a\n""}]",3,865312,7eebc69e8a5a2a6346f68b11bd9f6b6109e10fd9,14,3,1,28619,,,0,"Update self version fetching mechanism

With release of new setuptools running setup.py --version started
returining extra line. Eventually, running setup.py as a script is not
considered as good practice and we should not rely on it's output much.
Instead, we can leverage importlib.metadata as it should be more
reliable in long run.

Closes-Bug: #1997365
Change-Id: Ife227db4ad25851456e1acc6b4daf198f39d989a
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/12/865312/1 && git format-patch -1 --stdout FETCH_HEAD,['scripts/bootstrap-ansible.sh'],1,7eebc69e8a5a2a6346f68b11bd9f6b6109e10fd9,,"export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python -c ""from importlib.metadata import version; print(version('openstack-ansible'))"")",export CURRENT_OSA_VERSION=$(cd ${OSA_CLONE_DIR}; /opt/ansible-runtime/bin/python setup.py --version),1,1
openstack%2Foctavia~854227,openstack/octavia,stable/ussuri,I494ea357afc072360765d7a30a9488e08bfda52c,Fix bug when rolling back prov and op status for some API calls,MERGED,2022-08-23 15:13:50.000000000,2022-11-24 12:11:09.000000000,2022-11-24 12:09:41.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 34429}]","[{'number': 1, 'created': '2022-08-23 15:13:50.000000000', 'files': ['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'releasenotes/notes/fixed-PENDING_UPDATE-on-provider-errors-40a03adc8ef82a54.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/64abc34c7325c695e84d87bab3d187e83e2cbd5d', 'message': ""Fix bug when rolling back prov and op status for some API calls\n\nPOST l7rule API call and PUT pool API call had a bug that might have\nkept a load balancer in provisioning_status when the call was rejected\nby the provider.\n\nThe code didn't use the right locked DB session to set the statuses and\nthen to rollback them when an exception was caught.\n\nStory 2010210\nTask 45947\n\nConflicts:\n\toctavia/tests/functional/api/v2/test_pool.py\n\nChange-Id: I494ea357afc072360765d7a30a9488e08bfda52c\n(cherry picked from commit fdcea400c6f591485fcb116cb47dc07c5229898d)\n(cherry picked from commit 3e6f180b77f1c58265ae9351151e32bb1d215fe7)\n(cherry picked from commit 81cb9d5efccdeabe67b7a79d8de43fdbb66fdd4f)\n(cherry picked from commit 173f024b59a0d25cb66e25bd4f9ca3e62d8ad9b0)\n(cherry picked from commit ab39cc3881a9a05147e620df61d3865b43418ce5)\n""}]",1,854227,64abc34c7325c695e84d87bab3d187e83e2cbd5d,8,3,1,29244,,,0,"Fix bug when rolling back prov and op status for some API calls

POST l7rule API call and PUT pool API call had a bug that might have
kept a load balancer in provisioning_status when the call was rejected
by the provider.

The code didn't use the right locked DB session to set the statuses and
then to rollback them when an exception was caught.

Story 2010210
Task 45947

Conflicts:
	octavia/tests/functional/api/v2/test_pool.py

Change-Id: I494ea357afc072360765d7a30a9488e08bfda52c
(cherry picked from commit fdcea400c6f591485fcb116cb47dc07c5229898d)
(cherry picked from commit 3e6f180b77f1c58265ae9351151e32bb1d215fe7)
(cherry picked from commit 81cb9d5efccdeabe67b7a79d8de43fdbb66fdd4f)
(cherry picked from commit 173f024b59a0d25cb66e25bd4f9ca3e62d8ad9b0)
(cherry picked from commit ab39cc3881a9a05147e620df61d3865b43418ce5)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/27/854227/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/tests/functional/api/v2/test_pool.py', 'octavia/api/v2/controllers/pool.py', 'octavia/tests/functional/api/v2/test_l7rule.py', 'octavia/api/v2/controllers/l7rule.py', 'releasenotes/notes/fixed-PENDING_UPDATE-on-provider-errors-40a03adc8ef82a54.yaml']",5,64abc34c7325c695e84d87bab3d187e83e2cbd5d,,"--- fixes: - | Fix load balancers stuck in PENDING_UPDATE issues for some API calls (POST /l7rule, PUT /pool) when a provider denied the call. ",,44,2
openstack%2Fsushy~865507,openstack/sushy,stable/wallaby,If25e30bfb9bf06fdbba6051177947d4d285ae2ab,Fix setting boot related attributes,MERGED,2022-11-24 07:01:39.000000000,2022-11-24 11:50:29.000000000,2022-11-24 11:49:28.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-11-24 07:01:39.000000000', 'files': ['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/15a1f451641ade610b96de3a7ca766d963a3dfda', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)\n(cherry picked from commit 42effa17c989bb8f1f425e769f9242d4b8f9780b)\n'}]",0,865507,15a1f451641ade610b96de3a7ca766d963a3dfda,9,3,1,32177,,,0,"Fix setting boot related attributes

Enhance handling of System Settings URI so that it is only used
for PATCH requests needed for boot sequence overrides if
the attributes in question are present in response to a GET
request against SettingsURI. If the attributes are absent, fall
back to System URI.

Change-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab
(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)
(cherry picked from commit 42effa17c989bb8f1f425e769f9242d4b8f9780b)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/07/865507/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json']",7,15a1f451641ade610b96de3a7ca766d963a3dfda,wallaby-865482-backport,"{ ""@Redfish.Settings"": { ""Time"": null, ""SupportedApplyTimes"": [ ""OnReset"" ], ""Messages"": [], ""@odata.type"": ""#Settings.v1_3_0.Settings"", ""SettingsObject"": { ""@odata.id"": ""/redfish/v1/Systems/1/Pending"" } } } ",,224,20
openstack%2Fsushy~865482,openstack/sushy,stable/xena,If25e30bfb9bf06fdbba6051177947d4d285ae2ab,Fix setting boot related attributes,MERGED,2022-11-24 00:49:17.000000000,2022-11-24 11:44:31.000000000,2022-11-24 11:43:30.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-11-24 00:49:17.000000000', 'files': ['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/42effa17c989bb8f1f425e769f9242d4b8f9780b', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)\n'}]",0,865482,42effa17c989bb8f1f425e769f9242d4b8f9780b,9,3,1,32177,,,0,"Fix setting boot related attributes

Enhance handling of System Settings URI so that it is only used
for PATCH requests needed for boot sequence overrides if
the attributes in question are present in response to a GET
request against SettingsURI. If the attributes are absent, fall
back to System URI.

Change-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab
(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/82/865482/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json']",7,42effa17c989bb8f1f425e769f9242d4b8f9780b,xena-856597-backport,"{ ""@Redfish.Settings"": { ""Time"": null, ""SupportedApplyTimes"": [ ""OnReset"" ], ""Messages"": [], ""@odata.type"": ""#Settings.v1_3_0.Settings"", ""SettingsObject"": { ""@odata.id"": ""/redfish/v1/Systems/1/Pending"" } } } ",,224,20
openstack%2Foctavia~858505,openstack/octavia,stable/ussuri,Icc7dc9bb22187f908852c20415227574ded347aa,Handle feature compatibility of HAProxy server-state-file option,MERGED,2022-09-20 09:05:57.000000000,2022-11-24 11:37:27.000000000,2022-11-24 11:36:22.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}, {'_account_id': 31664}]","[{'number': 1, 'created': '2022-09-20 09:05:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9910f866ecf683e45d9e61643b01808af5d8d3b', 'message': 'Handle feature compatibility of HAProxy server-state-file option\n\nhttps://review.opendev.org/c/openstack/octavia/+/805955 introduced\na new feature that requires HAProxy 1.6 or higher to work. This change\nensures that with older HAProxy version this feature does not get\nenabled to avoid errors.\n\n Conflicts:\n\toctavia/common/constants.py\n\toctavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2\n\toctavia/common/jinja/haproxy/combined_listeners/templates/macros.j2\n\toctavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py\n\toctavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py\n\nStory: 2010254\nTask: 46145\nChange-Id: Icc7dc9bb22187f908852c20415227574ded347aa\n(cherry picked from commit 69ecdb190880d0c49e9f0ef92fd53de14cf66720)\n(cherry picked from commit 7f220d41adaab75471e551f89b0c2b97e830bab7)\n(cherry picked from commit 6346341b8ebb60c33b53f81e8c39f9c24d7de6df)\n(cherry picked from commit de3e6c4ef098f7e0cf29122c56dbedb96252b8d6)\n(cherry picked from commit 5e8331676e043ebaad8998e7c99b9e82f9800642)\n(cherry picked from commit 3fc9d3923c6330c8fe4d39ed225179ad5802e076)\n'}, {'number': 2, 'created': '2022-11-16 17:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia/commit/f9d0326eb95bc3ceb6b3ad6190077d99638cd124', 'message': 'Handle feature compatibility of HAProxy server-state-file option\n\nhttps://review.opendev.org/c/openstack/octavia/+/805955 introduced\na new feature that requires HAProxy 1.6 or higher to work. This change\nensures that with older HAProxy version this feature does not get\nenabled to avoid errors.\n\n Conflicts:\n\toctavia/common/constants.py\n\toctavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2\n\toctavia/common/jinja/haproxy/combined_listeners/templates/macros.j2\n\toctavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py\n\toctavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py\n\nStory: 2010254\nTask: 46145\nChange-Id: Icc7dc9bb22187f908852c20415227574ded347aa\n(cherry picked from commit 69ecdb190880d0c49e9f0ef92fd53de14cf66720)\n(cherry picked from commit 7f220d41adaab75471e551f89b0c2b97e830bab7)\n(cherry picked from commit 6346341b8ebb60c33b53f81e8c39f9c24d7de6df)\n(cherry picked from commit de3e6c4ef098f7e0cf29122c56dbedb96252b8d6)\n(cherry picked from commit 5e8331676e043ebaad8998e7c99b9e82f9800642)\n(cherry picked from commit 3fc9d3923c6330c8fe4d39ed225179ad5802e076)\n'}, {'number': 3, 'created': '2022-11-17 12:07:20.000000000', 'files': ['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'releasenotes/notes/fix-haproxy-compatibility-about-server-state-file-df70e5ac859417e2.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py'], 'web_link': 'https://opendev.org/openstack/octavia/commit/9bb97cdcdd19b736f0158d471cce1ab7cb8079d1', 'message': 'Handle feature compatibility of HAProxy server-state-file option\n\nhttps://review.opendev.org/c/openstack/octavia/+/805955 introduced\na new feature that requires HAProxy 1.6 or higher to work. This change\nensures that with older HAProxy version this feature does not get\nenabled to avoid errors.\n\n Conflicts:\n\toctavia/common/constants.py\n\toctavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2\n\toctavia/common/jinja/haproxy/combined_listeners/templates/macros.j2\n\toctavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py\n\toctavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py\n\nDepends-on: I3da638eb97939186b923a5854f2ea260b61953e8\n\nStory: 2010254\nTask: 46145\nChange-Id: Icc7dc9bb22187f908852c20415227574ded347aa\n(cherry picked from commit 69ecdb190880d0c49e9f0ef92fd53de14cf66720)\n(cherry picked from commit 7f220d41adaab75471e551f89b0c2b97e830bab7)\n(cherry picked from commit 6346341b8ebb60c33b53f81e8c39f9c24d7de6df)\n(cherry picked from commit de3e6c4ef098f7e0cf29122c56dbedb96252b8d6)\n(cherry picked from commit 5e8331676e043ebaad8998e7c99b9e82f9800642)\n(cherry picked from commit 3fc9d3923c6330c8fe4d39ed225179ad5802e076)\n'}]",5,858505,9bb97cdcdd19b736f0158d471cce1ab7cb8079d1,19,4,3,34429,,,0,"Handle feature compatibility of HAProxy server-state-file option

https://review.opendev.org/c/openstack/octavia/+/805955 introduced
a new feature that requires HAProxy 1.6 or higher to work. This change
ensures that with older HAProxy version this feature does not get
enabled to avoid errors.

 Conflicts:
	octavia/common/constants.py
	octavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2
	octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2
	octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py
	octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py

Depends-on: I3da638eb97939186b923a5854f2ea260b61953e8

Story: 2010254
Task: 46145
Change-Id: Icc7dc9bb22187f908852c20415227574ded347aa
(cherry picked from commit 69ecdb190880d0c49e9f0ef92fd53de14cf66720)
(cherry picked from commit 7f220d41adaab75471e551f89b0c2b97e830bab7)
(cherry picked from commit 6346341b8ebb60c33b53f81e8c39f9c24d7de6df)
(cherry picked from commit de3e6c4ef098f7e0cf29122c56dbedb96252b8d6)
(cherry picked from commit 5e8331676e043ebaad8998e7c99b9e82f9800642)
(cherry picked from commit 3fc9d3923c6330c8fe4d39ed225179ad5802e076)
",git fetch https://review.opendev.org/openstack/octavia refs/changes/05/858505/1 && git format-patch -1 --stdout FETCH_HEAD,"['octavia/common/jinja/haproxy/combined_listeners/jinja_cfg.py', 'octavia/common/constants.py', 'octavia/tests/unit/amphorae/backends/agent/api_server/test_haproxy_compatibility.py', 'releasenotes/notes/fix-haproxy-compatibility-about-server-state-file-df70e5ac859417e2.yaml', 'octavia/common/jinja/haproxy/combined_listeners/templates/base.j2', 'octavia/tests/unit/common/jinja/haproxy/combined_listeners/test_jinja_cfg.py', 'octavia/common/jinja/haproxy/combined_listeners/templates/haproxy.cfg.j2', 'octavia/common/jinja/haproxy/combined_listeners/templates/macros.j2', 'octavia/tests/unit/common/sample_configs/sample_configs_combined.py']",9,f9910f866ecf683e45d9e61643b01808af5d8d3b,," "" mode 0666 level user\n"" +"," "" load-server-state-from-file global\n"" "" mode 0666 level user\n"" "" server-state-file /var/lib/octavia/sample_loadbalancer_id_1"" ""/servers-state\n"" +",28,38
openstack%2Ftripleo-ansible~865150,openstack/tripleo-ansible,stable/zed,I215cacebd8efb3e9bd40ea4b044619cbde6a5b2c,Trigger all molecule jobs if we modify molecule-requirements,MERGED,2022-11-21 14:13:53.000000000,2022-11-24 11:32:51.000000000,2022-11-24 11:32:51.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 14:13:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0acb1ea50ae3f8acac65ae10c9dfdb41831973e0', 'message': ""Trigger all molecule jobs if we modify molecule-requirements\n\nThis will prevent future issues in case we change that file and don't\ntest all jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nChange-Id: I215cacebd8efb3e9bd40ea4b044619cbde6a5b2c\n(cherry picked from commit 4dd5ae225a49e98656cece1f301672ea3c4797b9)\n""}, {'number': 2, 'created': '2022-11-22 08:12:41.000000000', 'files': ['zuul.d/molecule.yaml', 'role-addition.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82b87c1a6a9b4fae3eee161871931fa4a9500ad6', 'message': ""Trigger all molecule jobs if we modify molecule-requirements\n\nThis will prevent future issues in case we change that file and don't\ntest all jobs.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nChange-Id: I215cacebd8efb3e9bd40ea4b044619cbde6a5b2c\n(cherry picked from commit 4dd5ae225a49e98656cece1f301672ea3c4797b9)\n""}]",1,865150,82b87c1a6a9b4fae3eee161871931fa4a9500ad6,11,3,2,28223,,,0,"Trigger all molecule jobs if we modify molecule-requirements

This will prevent future issues in case we change that file and don't
test all jobs.

Depends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838
Change-Id: I215cacebd8efb3e9bd40ea4b044619cbde6a5b2c
(cherry picked from commit 4dd5ae225a49e98656cece1f301672ea3c4797b9)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/50/865150/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/molecule.yaml', 'role-addition.yml']",2,0acb1ea50ae3f8acac65ae10c9dfdb41831973e0,molecule-corrections-stable/zed," ""^tripleo_ansible/roles/"" ~ _role_name ~ ""/(?!meta).*"", ""^molecule-requirements.txt"","," ""^tripleo_ansible/roles/"" ~ _role_name ~ ""/(?!meta).*""",77,1
openstack%2Ftripleo-ansible~864987,openstack/tripleo-ansible,stable/zed,I8dfcce68a00ed4fd4a2f0ecbf094dc3689423dfd,Mass corrections of molecule scenarios,MERGED,2022-11-21 09:00:00.000000000,2022-11-24 11:32:49.000000000,2022-11-24 11:32:49.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 09:00:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/20c8bc4295f4609a725749c62b864a9b6b669550', 'message': ""Mass corrections of molecule scenarios\n\nWith [1] in play, we're able to get a proper overview of the molecule\nstate. Apparently, some jobs were broken, and could merge because they\nweren't run back then (there was some issue in the way zuul launched\nmolecule, running only the default scenario).\n\nWe also ensure we're cleaning dnf cache in case we're switching to\nthe mirror.\n\nThis patch ensures everything is square and straight so that [1] can\nmerge properly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/864994/\n\nChange-Id: I8dfcce68a00ed4fd4a2f0ecbf094dc3689423dfd\n(cherry picked from commit 1a0dc2dc9510724072f02882e2ab553190af93fb)\n""}, {'number': 2, 'created': '2022-11-22 08:12:41.000000000', 'files': ['tripleo_ansible/roles/snapshot_and_revert/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/converge.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/prepare.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/molecule.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ed722bec60ad3fb73ff25272d96597d5a1ed4723', 'message': ""Mass corrections of molecule scenarios\n\nWith [1] in play, we're able to get a proper overview of the molecule\nstate. Apparently, some jobs were broken, and could merge because they\nweren't run back then (there was some issue in the way zuul launched\nmolecule, running only the default scenario).\n\nWe also ensure we're cleaning dnf cache in case we're switching to\nthe mirror.\n\nThis patch ensures everything is square and straight so that [1] can\nmerge properly.\n\n[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/864994/\n\nChange-Id: I8dfcce68a00ed4fd4a2f0ecbf094dc3689423dfd\n(cherry picked from commit 1a0dc2dc9510724072f02882e2ab553190af93fb)\n""}]",1,864987,ed722bec60ad3fb73ff25272d96597d5a1ed4723,14,4,2,28223,,,0,"Mass corrections of molecule scenarios

With [1] in play, we're able to get a proper overview of the molecule
state. Apparently, some jobs were broken, and could merge because they
weren't run back then (there was some issue in the way zuul launched
molecule, running only the default scenario).

We also ensure we're cleaning dnf cache in case we're switching to
the mirror.

This patch ensures everything is square and straight so that [1] can
merge properly.

[1] https://review.opendev.org/c/openstack/tripleo-ansible/+/864994/

Change-Id: I8dfcce68a00ed4fd4a2f0ecbf094dc3689423dfd
(cherry picked from commit 1a0dc2dc9510724072f02882e2ab553190af93fb)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/87/864987/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/snapshot_and_revert/molecule/default/molecule.yml', 'tripleo_ansible/roles/test_deps/tasks/main.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/converge.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/prepare.yml', 'tripleo_ansible/roles/tripleo_auditd/molecule/custom_rules/molecule.yml']",5,20c8bc4295f4609a725749c62b864a9b6b669550,molecule-corrections-stable/zed,,,3,1
openstack%2Ftripleo-heat-templates~865484,openstack/tripleo-heat-templates,master,I9d939b72827aff24de4dd8f496ff01b6df028cfa,Ensure standalone role data is up-to-date,MERGED,2022-11-24 02:03:08.000000000,2022-11-24 11:32:46.000000000,2022-11-24 11:32:46.000000000,"[{'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-24 02:03:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ab76b1905d048b00b1889e9c28bba3c3c0da921c', 'message': 'Ensure standalone role data is up-to-date\n\nThis is follow-up of 743c5fa0cd330ca7970d5d5323005cf630771a4b and\nensures the roles_data_standalone.yaml file is synced with the latest\ncontents in the roles directory.\n\nChange-Id: I9d939b72827aff24de4dd8f496ff01b6df028cfa\n'}, {'number': 2, 'created': '2022-11-24 05:20:42.000000000', 'files': ['tools/roles-data-validation.sh', 'roles_data_standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f813a554a2a420f9da55493e6c8f876fc67ba7dd', 'message': 'Ensure standalone role data is up-to-date\n\nThis is follow-up of 743c5fa0cd330ca7970d5d5323005cf630771a4b and\nensures the roles_data_standalone.yaml file is synced with the latest\ncontents in the roles directory.\n\nChange-Id: I9d939b72827aff24de4dd8f496ff01b6df028cfa\n'}]",0,865484,f813a554a2a420f9da55493e6c8f876fc67ba7dd,11,4,2,9816,,,0,"Ensure standalone role data is up-to-date

This is follow-up of 743c5fa0cd330ca7970d5d5323005cf630771a4b and
ensures the roles_data_standalone.yaml file is synced with the latest
contents in the roles directory.

Change-Id: I9d939b72827aff24de4dd8f496ff01b6df028cfa
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/84/865484/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/roles-data-validation.sh'],1,ab76b1905d048b00b1889e9c28bba3c3c0da921c,,check_diff $THT_DIR/roles_data_standalone.yaml $TMPDIR/roles_data_standalone.yaml,,1,0
openstack%2Fskyline-console~865508,openstack/skyline-console,master,Ia0256668b0dbcd4dad31048b36929a99205707ed,Fix: fix the image store in magnum node spec,MERGED,2022-11-24 07:40:24.000000000,2022-11-24 11:15:59.000000000,2022-11-24 11:15:00.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-24 07:40:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/a26a0af9b88ab0dcf54e7a3d9e2009db82fa1677', 'message': 'Fix: fix the image store in magnum node spec\n\nfix the image store to get better extensions\n\nChange-Id: Ia0256668b0dbcd4dad31048b36929a99205707ed\n'}, {'number': 2, 'created': '2022-11-24 09:19:46.000000000', 'files': ['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/72b81c645efe7dfaff17d23caba3187e7eb9dfa4', 'message': 'Fix: fix the image store in magnum node spec\n\nfix the image store to get better extensions\n\nChange-Id: Ia0256668b0dbcd4dad31048b36929a99205707ed\n'}]",0,865508,72b81c645efe7dfaff17d23caba3187e7eb9dfa4,10,3,2,33689,,,0,"Fix: fix the image store in magnum node spec

fix the image store to get better extensions

Change-Id: Ia0256668b0dbcd4dad31048b36929a99205707ed
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/08/865508/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx'],1,a26a0af9b88ab0dcf54e7a3d9e2009db82fa1677,fix-magnum-image," this.imageStore = globalImageStore; await this.imageStore.fetchList({ all_projects: this.hasAdminRole }); return (this.imageStore.list.data || []).filter((it) => { isLoading: this.imageStore.list.isLoading,"," await globalImageStore.fetchList({ all_projects: this.hasAdminRole }); return (globalImageStore.list.data || []).filter((it) => { isLoading: globalImageStore.list.isLoading,",4,3
openstack%2Fbarbican~864226,openstack/barbican,master,I4896f1508e34785864c260e64484ae0138100ef4,Fix typo in check_str for system_admin policy rule,MERGED,2022-11-10 20:47:17.000000000,2022-11-24 10:51:11.000000000,2022-11-24 10:49:39.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 20:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/4366c90247a2b4f56071e39585ec0cebffa9fb09', 'message': 'Fix typo in check_str for system_admin policy rule\n\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n'}, {'number': 2, 'created': '2022-11-17 08:39:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/fa68dbe22b2f8101cfdf56e06b160d3fe36ee2aa', 'message': 'Fix typo in check_str for system_admin policy rule\n\nDepends-On: https://review.opendev.org/c/x/cursive/+/864846\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n'}, {'number': 3, 'created': '2022-11-17 09:19:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/barbican/commit/f29b636f69e2dd73a08f6dbec7c74bfdaca309db', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/864848\nDepends-On: https://review.opendev.org/c/x/cursive/+/864846\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n'}, {'number': 4, 'created': '2022-11-22 15:09:55.000000000', 'files': ['barbican/common/policies/base.py'], 'web_link': 'https://opendev.org/openstack/barbican/commit/455057c9417d8bce8a60e3903a289c0f1eecadb7', 'message': 'Fix typo in check_str for system_admin policy rule\n\nStory: #2010435\nTask: #46851\nDepends-On: https://review.opendev.org/c/openstack/requirements/+/865276\nChange-Id: I4896f1508e34785864c260e64484ae0138100ef4\n'}]",15,864226,455057c9417d8bce8a60e3903a289c0f1eecadb7,32,4,4,4690,,,0,"Fix typo in check_str for system_admin policy rule

Story: #2010435
Task: #46851
Depends-On: https://review.opendev.org/c/openstack/requirements/+/865276
Change-Id: I4896f1508e34785864c260e64484ae0138100ef4
",git fetch https://review.opendev.org/openstack/barbican refs/changes/26/864226/1 && git format-patch -1 --stdout FETCH_HEAD,['barbican/common/policies/base.py'],1,4366c90247a2b4f56071e39585ec0cebffa9fb09,policy-system-admin-typo," check_str='role:admin and system_scope:all'),"," check_str='role:amdin and system_scope:all'),",1,1
openstack%2Fneutron~841459,openstack/neutron,master,Ic564131dcd7525fc5f24c3282688e3584cd2e2e0,db: add segment_index to the unique constraint,MERGED,2022-05-11 17:26:44.000000000,2022-11-24 10:24:57.000000000,2022-11-24 10:23:22.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-11 17:26:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7aba651706c9ca9e0eaee3cd48ace49cd11f7f4', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 2, 'created': '2022-05-16 07:11:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/02af836305fdb8fc20ac616ab4e3dba82aa8d500', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 3, 'created': '2022-05-23 10:21:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8d86b66bacf1428c11169f86d59fe2f8f77c0c1e', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 4, 'created': '2022-05-23 12:29:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9d0af6042c918ee991fda90d99fdf72ad3b189f0', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 5, 'created': '2022-06-17 07:10:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/0bb4e7efee12e16aad359c7375f6ffa4c9b16e33', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 6, 'created': '2022-06-27 07:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/843df2161dc8825260b2f08b5a518c3cc522cfac', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 7, 'created': '2022-06-30 17:32:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d865026dbfef16cc5a563f5acd80401fd0335e12', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 8, 'created': '2022-06-30 17:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcf769f3ba74d4e77383671a6859326432321e55', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 9, 'created': '2022-07-04 16:01:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/00da2e1255a44710e4b4825c890abd7f5808fe99', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 10, 'created': '2022-07-07 05:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/433f7eedfee4300dd4bec145fbba78d125aba77c', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 11, 'created': '2022-07-11 07:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae74cf49af7125ae504c69d0f2ec3e15a361e337', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 12, 'created': '2022-07-11 12:48:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/3832d4acd2ed1152dd84b910749fd603d8b49e6b', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 13, 'created': '2022-07-15 07:37:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f1aa4be2bacf52e72c85e642bf03fba951fb5911', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 14, 'created': '2022-07-18 09:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c513f7f9322fa9618463ba915892b716b39e05fe', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 15, 'created': '2022-07-18 14:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2e0051818ea33af7793a8dd4a393bb02ec9a499b', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 16, 'created': '2022-07-19 20:00:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6dde34cdb02a643727ecade7eaeffc15623d278d', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 17, 'created': '2022-07-20 05:30:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d663914a7af111daf0b1f6a194e7f019d3f8c376', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 18, 'created': '2022-07-20 20:31:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/36d67b7a9b7604b9b5cabeab15c940e86b235e12', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 19, 'created': '2022-07-21 06:22:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1c8aee7005ae88f0f2e9638ea0e83fa4cee74b0b', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 20, 'created': '2022-07-21 07:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/92c1748c27f247c904ba02edbd45fc01b52becbe', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 21, 'created': '2022-07-21 10:16:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f50cb80987545b6181392c64352fe8bc6d9551c4', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 22, 'created': '2022-07-21 15:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fa335cb6e309a2a1d718a565ed5435ac61c8e416', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 23, 'created': '2022-07-21 19:34:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/f82dac5f27b5f5e9d3242d906039106862d420f0', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 24, 'created': '2022-07-22 06:08:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b54fa4298766014bad651309f7ef09a5a9d2440e', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 25, 'created': '2022-07-25 13:00:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/74b03c09268b2576cc0cd005f955e4ac605324b0', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 26, 'created': '2022-08-01 08:33:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/612301a059b03a564cc7d7274f0021648e0ce5b1', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 27, 'created': '2022-08-01 13:21:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/93c18cf85e39e726d6c431cba4f708b0a221e53c', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 28, 'created': '2022-08-01 13:44:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/212551ffcacf8702811c34304f8874b9869c84c0', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 29, 'created': '2022-08-02 09:33:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5f96e1f5d68ae1a2bae5649d61341db7f8b41b08', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 30, 'created': '2022-08-04 15:39:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cfb28f07e9d83ce6a55d0245e6479f9d9b51d5f', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 31, 'created': '2022-08-05 06:57:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6b25c8008abc464de43d76883d4111d326cebb59', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 32, 'created': '2022-08-29 13:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff8d3da7233452d98aaf8c55c968bbb2a74871b2', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 33, 'created': '2022-08-30 08:10:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c7fced51a55283fa813fb99fcc37645f62721166', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 34, 'created': '2022-09-01 16:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/667a6a265b1242f4ba47346c4e639e8a579edd3f', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 35, 'created': '2022-09-02 10:09:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/04617051ee25abda96c3c50be12e1b9cc6ddeaf3', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 36, 'created': '2022-09-20 09:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c3de2dd9dbd6c4e3553cd8fcd2696c7bc771f72d', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 37, 'created': '2022-10-03 09:31:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e714eac87715a130ef7ea7d1b604669f508e13ec', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 38, 'created': '2022-10-04 13:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8c8b3694d31356679a5ac2a2e596430b9e18f3ef', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 39, 'created': '2022-10-05 06:43:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/19dad1332bcb07125e140de247a5c12b9bf9ff4c', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 40, 'created': '2022-10-05 09:41:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/eb202b51511aa7f0fb01effc491bc18a027618d9', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 41, 'created': '2022-10-05 16:05:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30b5d9c70171b0b26de8f16d29d8b30c46f59522', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 42, 'created': '2022-10-06 08:43:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2b2a863fd7f8be7dabdef3ed2255533d4ef4d263', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 43, 'created': '2022-10-06 18:35:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/54d6e476193aeab46ec6bfb4a971a16548469aa7', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 44, 'created': '2022-10-10 13:47:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a616ba68685dcc1d2d1db021373e090b3f2b1bc8', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 45, 'created': '2022-10-11 06:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/880e3ba5f9434893d646647e175469ae23f9ccb9', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 46, 'created': '2022-10-24 09:27:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6e060c571359c5546831c2da9c800bbdfcce4384', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 47, 'created': '2022-10-27 07:30:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b71983b58a65d29a2f564db1d47ab10c0eb175d', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 48, 'created': '2022-11-04 13:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a540860ccfefa2716c122b959aea99fb99034e41', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 49, 'created': '2022-11-04 14:54:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1b552afeebae12e66048a09e01a3a091d1423ec0', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 50, 'created': '2022-11-06 12:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/2aa8452ea9ec986d961afafb49b370c1879f6b06', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 51, 'created': '2022-11-07 08:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30fa075b142208efcbb7f1ce62f68fa378827edb', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 52, 'created': '2022-11-07 12:27:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5d7bb01a6978ec896db419c322f601d083d21174', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 53, 'created': '2022-11-08 09:21:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b56fbf590466c87b05ce63e422818727a785dfee', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 54, 'created': '2022-11-08 11:09:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d4cc887f224c5195d6ae9381863dcfa1935657c8', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 55, 'created': '2022-11-08 13:59:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae4df109817a0fb00e6efd6e72e9491181527ada', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 56, 'created': '2022-11-09 06:54:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/9955242e85a9f1e9d254f244fe21f193bb5effd9', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 57, 'created': '2022-11-09 08:56:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6a54eda81c829fc9f329d38f95c04f059e20729', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 58, 'created': '2022-11-16 08:20:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/55bc7b2ca2d0dc2ac672ffb73ca5a428e2090a1d', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 59, 'created': '2022-11-16 18:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/196f8a156e9e1291e34cc37d5f8109e4ce59f7de', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 60, 'created': '2022-11-17 07:17:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b873c4abd4584478a099d171165540eb216fd32d', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 61, 'created': '2022-11-17 10:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/961def08d01b411965fb992d0aa79d7bc36259a4', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}, {'number': 62, 'created': '2022-11-23 07:43:32.000000000', 'files': ['neutron/cmd/upgrade_checks/checks.py', 'neutron/tests/unit/plugins/ml2/test_plugin.py', 'neutron/db/models/segment.py', 'neutron/db/migration/alembic_migrations/versions/antelope/expand/fc153938cdc1_update_segment_networks_constraint.py', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD'], 'web_link': 'https://opendev.org/openstack/neutron/commit/eeff5b3c81ae7846a77c65edaafe58332090a621', 'message': 'db: add segment_index to the unique constraint\n\nFor multi segments support we have update the unique contraint so\n`segment_index` will be part of it.\n\nRelated-Bug: #1791233\nPartial-Bug: #1956435\nPartial-Bug: #1764738\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0\n'}]",71,841459,eeff5b3c81ae7846a77c65edaafe58332090a621,347,6,62,7730,,,0,"db: add segment_index to the unique constraint

For multi segments support we have update the unique contraint so
`segment_index` will be part of it.

Related-Bug: #1791233
Partial-Bug: #1956435
Partial-Bug: #1764738
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Ic564131dcd7525fc5f24c3282688e3584cd2e2e0
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/841459/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/cmd/upgrade_checks/checks.py', 'neutron/db/migration/alembic_migrations/versions/zed/expand/e38852cbedef_update_segment_networks_uniq_contraint.py', 'neutron/db/migration/alembic_migrations/versions/CONTRACT_HEAD', 'neutron/db/migration/alembic_migrations/versions/EXPAND_HEAD', 'neutron/db/migration/alembic_migrations/versions/zed/contract/a14c3a339401_update_segment_networks_uniq_contraint.py']",5,d7aba651706c9ca9e0eaee3cd48ace49cd11f7f4,segments,"# Copyright 2022 OpenStack Foundation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # from alembic import op import sqlalchemy as sa """"""update segment networks uniq contraint Revision ID: a14c3a339401 Revises: 5c85685d616d Create Date: 2022-05-11 11:47:25.823193 """""" # revision identifiers, used by Alembic. revision = 'a14c3a339401' down_revision = '5c85685d616d' def upgrade(): pass ",,85,3
openstack%2Fnova~865031,openstack/nova,master,Icb5744497faa8761eb0891cc8c347dfaa71f1f29,Bump minimum version of os-vif to 3.1.0,MERGED,2022-11-18 15:04:15.000000000,2022-11-24 10:24:52.000000000,2022-11-24 10:23:28.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-18 15:04:15.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/nova/commit/688fd7b42734d262ef2c73b6990488219acb008b', 'message': 'Bump minimum version of os-vif to 3.1.0\n\nThis new os-vif version implements [1]. Now os-vif (Nova that\nuses this library) is responsible of deleting the trunk bridges.\nNo other change is needed in Nova.\n\nPlease check [2] for context.\n\n[1]https://review.opendev.org/c/openstack/os-vif/+/841499\n[2]https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html\n\nRelated-Bug: #1869244\nChange-Id: Icb5744497faa8761eb0891cc8c347dfaa71f1f29\n'}]",0,865031,688fd7b42734d262ef2c73b6990488219acb008b,13,5,1,16688,,,0,"Bump minimum version of os-vif to 3.1.0

This new os-vif version implements [1]. Now os-vif (Nova that
uses this library) is responsible of deleting the trunk bridges.
No other change is needed in Nova.

Please check [2] for context.

[1]https://review.opendev.org/c/openstack/os-vif/+/841499
[2]https://lists.openstack.org/pipermail/openstack-discuss/2022-April/028164.html

Related-Bug: #1869244
Change-Id: Icb5744497faa8761eb0891cc8c347dfaa71f1f29
",git fetch https://review.opendev.org/openstack/nova refs/changes/31/865031/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,688fd7b42734d262ef2c73b6990488219acb008b,bug/1869244,os-vif>=3.1.0 # Apache-2.0,os-vif>=1.15.2 # Apache-2.0,1,1
openstack%2Fsushy~865411,openstack/sushy,stable/yoga,If25e30bfb9bf06fdbba6051177947d4d285ae2ab,Fix setting boot related attributes,MERGED,2022-11-23 10:46:53.000000000,2022-11-24 10:15:14.000000000,2022-11-24 10:14:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-11-23 10:46:53.000000000', 'files': ['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ff9517642f298c8bafc0084bf366bd0591f048d6', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)\n'}]",0,865411,ff9517642f298c8bafc0084bf366bd0591f048d6,9,3,1,32177,,,0,"Fix setting boot related attributes

Enhance handling of System Settings URI so that it is only used
for PATCH requests needed for boot sequence overrides if
the attributes in question are present in response to a GET
request against SettingsURI. If the attributes are absent, fall
back to System URI.

Change-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab
(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/11/865411/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json']",7,ff9517642f298c8bafc0084bf366bd0591f048d6,yoga-856597-backport,"{ ""@Redfish.Settings"": { ""Time"": null, ""SupportedApplyTimes"": [ ""OnReset"" ], ""Messages"": [], ""@odata.type"": ""#Settings.v1_3_0.Settings"", ""SettingsObject"": { ""@odata.id"": ""/redfish/v1/Systems/1/Pending"" } } } ",,224,23
openstack%2Fsushy~865388,openstack/sushy,stable/zed,If25e30bfb9bf06fdbba6051177947d4d285ae2ab,Fix setting boot related attributes,MERGED,2022-11-23 10:37:51.000000000,2022-11-24 10:15:10.000000000,2022-11-24 10:13:58.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}]","[{'number': 1, 'created': '2022-11-23 10:37:51.000000000', 'files': ['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/6489bd2ea158cc3a12c0d15311bbaf62a8503d8a', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)\n'}]",0,865388,6489bd2ea158cc3a12c0d15311bbaf62a8503d8a,9,3,1,32177,,,0,"Fix setting boot related attributes

Enhance handling of System Settings URI so that it is only used
for PATCH requests needed for boot sequence overrides if
the attributes in question are present in response to a GET
request against SettingsURI. If the attributes are absent, fall
back to System URI.

Change-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab
(cherry picked from commit 2c8229046c6ca8aa342e028c96aaa066f517eb9f)
",git fetch https://review.opendev.org/openstack/sushy refs/changes/88/865388/1 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json']",7,6489bd2ea158cc3a12c0d15311bbaf62a8503d8a,zed-856597-backport,"{ ""@Redfish.Settings"": { ""Time"": null, ""SupportedApplyTimes"": [ ""OnReset"" ], ""Messages"": [], ""@odata.type"": ""#Settings.v1_3_0.Settings"", ""SettingsObject"": { ""@odata.id"": ""/redfish/v1/Systems/1/Pending"" } } } ",,224,23
openstack%2Fnova~865381,openstack/nova,stable/train,I70c4715de05d64fabc498b02d5c757af9450fbe9,func: Add _live_migrate helper to InstanceHelperMixin,MERGED,2022-11-23 09:57:31.000000000,2022-11-24 10:05:53.000000000,2022-11-24 10:04:36.000000000,"[{'_account_id': 7166}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 09:57:31.000000000', 'files': ['nova/tests/functional/integrated_helpers.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d3b46af01b7afa1a9051cb440a7986bfcb1a59b1', 'message': 'func: Add _live_migrate helper to InstanceHelperMixin\n\nThis is a partial backport of I70c4715de05d64fabc498b02d5c757af9450fbe9\nthat introduced this helper will addressing feedback on\nIa3d7351c1805d98bcb799ab0375673c7f1cb8848 and\nI78e79112a9c803fb45d828cfb4641456da66364a that landed in Victoria.\n\nFollow-up for NUMA live migration functional tests\n\nThis patch addresses outstanding feedback on\nIa3d7351c1805d98bcb799ab0375673c7f1cb8848 and\nI78e79112a9c803fb45d828cfb4641456da66364a.\n\nRelated-Bug: #1628606\n\nChange-Id: I70c4715de05d64fabc498b02d5c757af9450fbe9\n(cherry picked from commit ca8f1f422298b0a26cf30165595d256f4fa71135)\n(cherry picked from commit 726ca4aec5ccea96748de88b2c2a2fd1a078cfc5)\n'}]",1,865381,d3b46af01b7afa1a9051cb440a7986bfcb1a59b1,9,3,1,34860,,,0,"func: Add _live_migrate helper to InstanceHelperMixin

This is a partial backport of I70c4715de05d64fabc498b02d5c757af9450fbe9
that introduced this helper will addressing feedback on
Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 and
I78e79112a9c803fb45d828cfb4641456da66364a that landed in Victoria.

Follow-up for NUMA live migration functional tests

This patch addresses outstanding feedback on
Ia3d7351c1805d98bcb799ab0375673c7f1cb8848 and
I78e79112a9c803fb45d828cfb4641456da66364a.

Related-Bug: #1628606

Change-Id: I70c4715de05d64fabc498b02d5c757af9450fbe9
(cherry picked from commit ca8f1f422298b0a26cf30165595d256f4fa71135)
(cherry picked from commit 726ca4aec5ccea96748de88b2c2a2fd1a078cfc5)
",git fetch https://review.opendev.org/openstack/nova refs/changes/81/865381/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/integrated_helpers.py'],1,d3b46af01b7afa1a9051cb440a7986bfcb1a59b1,bug/1628606," def _live_migrate(self, server, migration_final_status): self.api.post_server_action( server['id'], {'os-migrateLive': {'host': None, 'block_migration': 'auto'}}) self._wait_for_state_change(self.api, server, 'ACTIVE') self._wait_for_migration_status(server, [migration_final_status]) ",,8,0
openstack%2Ftempest~864789,openstack/tempest,master,I47993d16b86671433a64c6db57d53c2d15f8a7ae,Fix Compute Live Migration tests with Ironic,MERGED,2022-11-16 20:51:31.000000000,2022-11-24 10:05:47.000000000,2022-11-24 10:04:31.000000000,"[{'_account_id': 8556}, {'_account_id': 16198}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-16 20:51:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/cacdc7bb48f904cc6423d636eb69c0d6c10c1998', 'message': 'Fix Compute Live Migration tests with Ironic\n\nIn some deployments when Nova Compute configured together with Ironic\nservice there are many test_live_migration.* tests failed with an\nerror ""Migration pre-check error: Unable to migrate..."". This change\nfix the issue removing \'*-ironic\' hosts (Kolla-Ansible) or duplicate\ncontroller hosts (OpenStack-Ansible, TripleO and other Puppet deploy\ntools) from the nova-compute list for particular tests.\n\nChange-Id: I47993d16b86671433a64c6db57d53c2d15f8a7ae\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 2, 'created': '2022-11-23 20:00:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04db965d471b669bbe16ea6482ae1be010338a4c', 'message': 'Fix Compute Live Migration tests with Ironic\n\nIn some deployments when Nova Compute configured together with Ironic\nservice there are many test_live_migration.* tests failed with an\nerror ""Migration pre-check error: Unable to migrate..."". This change\nfix the issue removing \'*-ironic\' hosts (used in Kolla-Ansible).\nThe other deployments (OpenStack-Ansible, TripleO, etc.) should\ndeploy the Ironic-Complute services with correct hostnames.\n\nChange-Id: I47993d16b86671433a64c6db57d53c2d15f8a7ae\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}, {'number': 3, 'created': '2022-11-23 22:03:48.000000000', 'files': ['tempest/api/compute/base.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/f4970a3f8a07e0b7d1ee98dd1289e0a14e8f25b3', 'message': 'Fix Compute Live Migration tests with Ironic\n\nIn some deployments when Nova Compute configured together with Ironic\nservice there are many test_live_migration.* tests failed with an\nerror ""Migration pre-check error: Unable to migrate..."". This change\nfix the issue removing \'*-ironic\' hosts (used in Kolla-Ansible).\nThe other deployments (OpenStack-Ansible, TripleO, etc.) should\ndeploy the Ironic-Complute services with correct hostnames.\n\nChange-Id: I47993d16b86671433a64c6db57d53c2d15f8a7ae\nSigned-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>\n'}]",8,864789,f4970a3f8a07e0b7d1ee98dd1289e0a14e8f25b3,19,4,3,14200,,,0,"Fix Compute Live Migration tests with Ironic

In some deployments when Nova Compute configured together with Ironic
service there are many test_live_migration.* tests failed with an
error ""Migration pre-check error: Unable to migrate..."". This change
fix the issue removing '*-ironic' hosts (used in Kolla-Ansible).
The other deployments (OpenStack-Ansible, TripleO, etc.) should
deploy the Ironic-Complute services with correct hostnames.

Change-Id: I47993d16b86671433a64c6db57d53c2d15f8a7ae
Signed-off-by: Maksim Malchuk <maksim.malchuk@gmail.com>
",git fetch https://review.opendev.org/openstack/tempest refs/changes/89/864789/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/base.py'],1,cacdc7bb48f904cc6423d636eb69c0d6c10c1998,fix-live-migration-tests, binary='nova-scheduler')['services'] controllers = [svc['host'] for svc in svcs] svcs = self.os_admin.services_client.list_services( if svc['host'].endswith('-ironic') or svc['host'] in controllers: continue,,6,0
openstack%2Fdevstack-plugin-container~865504,openstack/devstack-plugin-container,master,I66d69d5df254af027baf1d359130d4423fe3c4a9,Fix to be prompted to add apt repos,MERGED,2022-11-24 06:47:12.000000000,2022-11-24 09:52:48.000000000,2022-11-24 09:52:48.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-24 06:47:12.000000000', 'files': ['devstack/lib/crio'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/a7295a5201a1eed61e0544be7392012647f470bc', 'message': 'Fix to be prompted to add apt repos\n\nFix devstack installation for crio is prompted while running\napt-add-repository.\n\nSigned-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>\nChange-Id: I66d69d5df254af027baf1d359130d4423fe3c4a9\n'}]",1,865504,a7295a5201a1eed61e0544be7392012647f470bc,7,2,1,25701,,,0,"Fix to be prompted to add apt repos

Fix devstack installation for crio is prompted while running
apt-add-repository.

Signed-off-by: Yasufumi Ogawa <yasufum.o@gmail.com>
Change-Id: I66d69d5df254af027baf1d359130d4423fe3c4a9
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/04/865504/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/crio'],1,a7295a5201a1eed61e0544be7392012647f470bc,migrate-to-jammy," sudo apt-add-repository -y ""deb https://download.opensuse.org/""` sudo apt-add-repository -y ""deb http://download.opensuse.org/""`"," sudo apt-add-repository ""deb https://download.opensuse.org/""` sudo apt-add-repository ""deb http://download.opensuse.org/""`",2,2
openstack%2Fneutron-vpnaas~862108,openstack/neutron-vpnaas,master,I95fa73ebc4841061909b51dd8e2dba259c4c0c7c,CI: Add openstack-tox-py39-with-oslo-master to periodic weekly queue,MERGED,2022-10-20 12:09:51.000000000,2022-11-24 09:45:10.000000000,2022-11-24 09:42:54.000000000,"[{'_account_id': 12860}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-20 12:09:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/d1b1f94b1b7aaa559b43e222974e0e92d811aff7', 'message': 'CI: Add openstack-tox-py39-with-oslo-master to periodic weekly queue\n\nChange-Id: I95fa73ebc4841061909b51dd8e2dba259c4c0c7c\n'}]",0,862108,d1b1f94b1b7aaa559b43e222974e0e92d811aff7,8,3,1,8313,,,0,"CI: Add openstack-tox-py39-with-oslo-master to periodic weekly queue

Change-Id: I95fa73ebc4841061909b51dd8e2dba259c4c0c7c
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/08/862108/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d1b1f94b1b7aaa559b43e222974e0e92d811aff7,oslo_master_periodic, - openstack-tox-py39-with-oslo-master: required-projects: - openstack/neutron,,3,0
openstack%2Fdevstack-plugin-container~859549,openstack/devstack-plugin-container,stable/zed,I7661795d066dbfc7d733aeae07a720aefb708f30,Update .gitreview for stable/zed,MERGED,2022-09-28 10:52:35.000000000,2022-11-24 09:44:20.000000000,2022-11-24 09:44:20.000000000,"[{'_account_id': 11536}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-28 10:52:35.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-container/commit/9c451951726812213917a82c5381ed98091a9d80', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I7661795d066dbfc7d733aeae07a720aefb708f30\n'}]",1,859549,9c451951726812213917a82c5381ed98091a9d80,7,3,1,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I7661795d066dbfc7d733aeae07a720aefb708f30
",git fetch https://review.opendev.org/openstack/devstack-plugin-container refs/changes/49/859549/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,9c451951726812213917a82c5381ed98091a9d80,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fpython-tripleoclient~850456,openstack/python-tripleoclient,master,Ib4d12a6e8227f5f7764761c4904d569625c7ed88,Disable redundant shutoff of ephemeral heat,MERGED,2022-07-20 07:45:51.000000000,2022-11-24 09:06:52.000000000,2022-11-24 09:05:01.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-20 07:45:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4f65e85fef59d0feaec21265e89f4f578c76afcc', 'message': ""Disable redundant shutoff of ephemeral heat\n\nEphemeral Heat is shut off just after a Heat stack is created and\nplaybooks are generated. Thus we don't need to shut it off again.\n\nChange-Id: Ib4d12a6e8227f5f7764761c4904d569625c7ed88\n""}, {'number': 2, 'created': '2022-11-22 08:02:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d27250403c7fb6ae8334130025a6df8a9a3f3d51', 'message': ""Disable redundant shutoff of ephemeral heat\n\nEphemeral Heat is shut off just after a Heat stack is created and\nplaybooks are generated. Thus we don't need to shut it off again.\n\nChange-Id: Ib4d12a6e8227f5f7764761c4904d569625c7ed88\n""}, {'number': 3, 'created': '2022-11-22 08:05:19.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f3807e55959d8fffecf38067cf970e7ad42667b4', 'message': ""Disable redundant shutoff of ephemeral heat\n\nEphemeral heat is shut off just after a Heat stack is created and\nplaybooks are generated. Thus we don't need to shut it off again.\n\nExporting stack no longer launches the ephemeral heat service since\ncommit d7af2f54826b3086af4691753b00173dc7a95a70 was merged.\n\nChange-Id: Ib4d12a6e8227f5f7764761c4904d569625c7ed88\n""}]",2,850456,f3807e55959d8fffecf38067cf970e7ad42667b4,17,4,3,9816,,,0,"Disable redundant shutoff of ephemeral heat

Ephemeral heat is shut off just after a Heat stack is created and
playbooks are generated. Thus we don't need to shut it off again.

Exporting stack no longer launches the ephemeral heat service since
commit d7af2f54826b3086af4691753b00173dc7a95a70 was merged.

Change-Id: Ib4d12a6e8227f5f7764761c4904d569625c7ed88
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/56/850456/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,4f65e85fef59d0feaec21265e89f4f578c76afcc,,," self.log.info(""Stopping ephemeral heat."") utils.kill_heat(self.heat_launcher) utils.rm_heat(self.heat_launcher, backup_db=True) except Exception as e: self.log.error('Exception stopping ephemeral Heat') self.log.error(e) try:",1,8
openstack%2Fpython-tripleoclient~862970,openstack/python-tripleoclient,master,Ifd7bfe266be39b4a3643e5fcf1fd506d777448db,Standalone: Generate port map in a new format,MERGED,2022-10-29 15:31:39.000000000,2022-11-24 09:06:03.000000000,2022-11-24 09:04:56.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 24245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-10-29 15:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7e0a58a25f0d6a790e22feda2423c7f2750779d6', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 2, 'created': '2022-10-29 16:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/66494c5071aaa8872301c9ea8c9924886a552059', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 3, 'created': '2022-10-30 07:20:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f201965b33fee5dba789770bcf98ece979736d58', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 4, 'created': '2022-10-30 07:21:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/dd87848c92e85686a99a6520a736eda8b18a210e', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 5, 'created': '2022-10-30 07:22:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ba384ff1967ea3a893977090424463608c61db40', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 6, 'created': '2022-10-30 14:04:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/02f04ab2fb7da431eb5b935ddf1214ed5f176c07', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 7, 'created': '2022-10-31 00:14:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/070345c42d27f32c23d3ea9d68c1affdbbebf995', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}, {'number': 8, 'created': '2022-11-17 01:47:47.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/055133078dbbd838f54cb65b5e4b8d9334df171c', 'message': 'Standalone: Generate port map in a new format\n\nThe DeployedServerPortMap parameter was already deprecated[1] in favor\nof the new NodePortMap, ControlPlaneVipData and VipPortMap. This change\nensures the deployment command use the new parameters.\n\nNote that the old parameter is still kept until the environment file\nis updated to use the new deployed-ports.yaml template.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db\n'}]",10,862970,055133078dbbd838f54cb65b5e4b8d9334df171c,29,5,8,9816,,,0,"Standalone: Generate port map in a new format

The DeployedServerPortMap parameter was already deprecated[1] in favor
of the new NodePortMap, ControlPlaneVipData and VipPortMap. This change
ensures the deployment command use the new parameters.

Note that the old parameter is still kept until the environment file
is updated to use the new deployed-ports.yaml template.

[1] 26be3179905c7751812aa10a0af9f56e58e7ef08

Change-Id: Ifd7bfe266be39b4a3643e5fcf1fd506d777448db
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/70/862970/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/tripleo_deploy.py'],1,7e0a58a25f0d6a790e22feda2423c7f2750779d6,deployed-port," def _ip_for_uri(self, ip_addr, ip_nw): if ip_nw.version == 6: return '[%s]' % ip_addr return ip_addr }, 'NodePortMap': { hostname: { 'ctlplane': { 'ip_address': ip_addr, 'ip_address_uri': self._ip_for_uri(ip_addr), 'ip_subnet': '%s/%s' % (ip_addr, ip_nw.prefixlen), } } }, 'ControlPlaneVipdata': { 'fixed_ips': { [{'ip_address': ctlplane_vip_addr}], }, 'name': control_virtual_ip, 'network': { 'tags': ['%s/%s' % (control_virtual_ip, ip_nw.prefixlen)] } }, 'VipPortMap': { 'external': { 'ip_address': public_vip_addr, 'ip_address_uri': self._ip_for_uri(public_vip_addr), 'ip_subnet': '%s/%s' % (ip_addr, ip_nw.prefixlen), }",,30,0
openstack%2Ftripleo-ansible~862974,openstack/tripleo-ansible,master,I4059bb4591656bf4e66059b6993b0a2b6706a01c,Use vip_map data instead of deployed_server_port_map,MERGED,2022-10-29 16:16:04.000000000,2022-11-24 09:04:58.000000000,2022-11-24 09:04:58.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-29 16:16:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/84114e152941331f49f9d61256b302c93de6c085', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variable\nby the new vip_map variable injected into the group var.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 2, 'created': '2022-10-29 16:18:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1101a65bd6aff41235d27d866aab07c717400320', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variable\nby the new vip_map variable injected into the group var.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 3, 'created': '2022-10-30 07:24:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3680a96bd32e33acba787e755d82c3e62fffcdf3', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variable\nby the new vip_map variable injected into the group var.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862970\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 4, 'created': '2022-10-31 00:19:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2bbfbd85461bdf1e8f4a4c4576e7adeec947fce8', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variable\nby the new vip_map variable injected into the group var.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862970\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 5, 'created': '2022-10-31 01:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5500f07e6f1cac611548de05ac6c6805b23f7b94', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variables\nused to detect interface ips so that we can remove the deprecated tht\nparameter.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862970\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 6, 'created': '2022-10-31 04:26:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae664452dd09179e31ffe981a5fde3a7ebd39171', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variables\nused to detect interface ips so that we can remove the deprecated tht\nparameter.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862970\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}, {'number': 7, 'created': '2022-10-31 05:03:55.000000000', 'files': ['tripleo_ansible/roles/tripleo_network_config/templates/standalone.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/undercloud.j2', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/42b30f270985ca36f07ab309dc83e7eb27e5316c', 'message': 'Use vip_map data instead of deployed_server_port_map\n\nThe deployed_server_port_map variable depends on the deprecated\nDeployedServerPortMap parameter[1]. This change replaces the variables\nused to detect interface ips so that we can remove the deprecated tht\nparameter.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nDepends-on: https://review.opendev.org/862970\nDepends-on: https://review.opendev.org/862973\nChange-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c\n'}]",1,862974,42b30f270985ca36f07ab309dc83e7eb27e5316c,24,5,7,9816,,,0,"Use vip_map data instead of deployed_server_port_map

The deployed_server_port_map variable depends on the deprecated
DeployedServerPortMap parameter[1]. This change replaces the variables
used to detect interface ips so that we can remove the deprecated tht
parameter.

[1] 26be3179905c7751812aa10a0af9f56e58e7ef08

Depends-on: https://review.opendev.org/862970
Depends-on: https://review.opendev.org/862973
Change-Id: I4059bb4591656bf4e66059b6993b0a2b6706a01c
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/74/862974/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_network_config/templates/standalone.j2', 'tripleo_ansible/roles/tripleo_network_config/templates/undercloud.j2', 'tripleo_ansible/roles/tripleo_network_config/molecule/default/converge.yml']",3,84114e152941331f49f9d61256b302c93de6c085,deployed-port, vip_map: ctlplane: 203.0.113.3 ctlplane_subnet: 203.0.113.0/24 ctlplane_uri: 203.0.113.3 public: 203.0.113.1 public_subnet: 203.0.113.0/24 public_uri: 203.0.113.1, deployed_server_port_map: control_virtual_ip: fixed_ips: - ip_address: 203.0.113.3 network: tags: - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24 public_virtual_ip: fixed_ips: - ip_address: 203.0.113.1 network: tags: - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24 standalone-ctlplane: fixed_ips: - ip_address: 203.0.113.1 network: tags: - 203.0.113.0/24 subnets: - cidr: 203.0.113.0/24,11,29
openstack%2Ftripleo-common~863330,openstack/tripleo-common,stable/train,Iaa09a8a4cad12d49007ea92ea0922597916981af,Add TRIPLEO_KOLLA_UMASK for custom umask settings,MERGED,2022-11-02 14:22:25.000000000,2022-11-24 09:02:35.000000000,2022-11-24 09:01:28.000000000,"[{'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-02 14:22:25.000000000', 'files': ['container-images/kolla/base/start.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1cef380470a87be680646451a43c5c80a22e5634', 'message': 'Add TRIPLEO_KOLLA_UMASK for custom umask settings\n\nAllow execution of the kolla_start script with\na given umask settings. Virtqemud container requires this\nat the least, as libvirt/qemu dynamic permissions should\nbe restricted to not create VM files world readable.\n\nChange-Id: Iaa09a8a4cad12d49007ea92ea0922597916981af\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 8aa57665b59bc6556a79729ce83177591f28911f)\n'}]",3,863330,1cef380470a87be680646451a43c5c80a22e5634,14,7,1,6926,,,0,"Add TRIPLEO_KOLLA_UMASK for custom umask settings

Allow execution of the kolla_start script with
a given umask settings. Virtqemud container requires this
at the least, as libvirt/qemu dynamic permissions should
be restricted to not create VM files world readable.

Change-Id: Iaa09a8a4cad12d49007ea92ea0922597916981af
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8aa57665b59bc6556a79729ce83177591f28911f)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/30/863330/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/kolla/base/start.sh'],1,1cef380470a87be680646451a43c5c80a22e5634,libvirt_dynamic_permissions-stable/wallaby-stable/train,"umask ""${TRIPLEO_KOLLA_UMASK:-0022}""",,1,0
openstack%2Fneutron~864195,openstack/neutron,master,I27d64a094a8266b1571d0152cb029c38a452af43,DNM Test FT timeout with oslo master,ABANDONED,2022-11-10 10:49:28.000000000,2022-11-24 09:02:14.000000000,,"[{'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-10 10:49:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ac1159e6e4c0fee9dc79add4ee1e0e6afd4a894a', 'message': 'DNM Test FT timeout with oslo master\n\nCI job failing: neutron-functional-with-oslo-master\n\nhttps://bugs.launchpad.net/neutron/+bug/1995091\n\nSecond option: to mock the call to oslo_log.log._fix_eventlet_logging\n\nRelated-Bug: #1995091\nChange-Id: I27d64a094a8266b1571d0152cb029c38a452af43\n'}, {'number': 2, 'created': '2022-11-10 14:21:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/738840c74873f593c6dca72532c0d116d79b5fb6', 'message': 'DNM Test FT timeout with oslo master\n\nCI job failing: neutron-functional-with-oslo-master\n\nhttps://bugs.launchpad.net/neutron/+bug/1995091\n\nSecond option: to mock the call to oslo_log.log._fix_eventlet_logging\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/864209\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/864018\n\nRelated-Bug: #1995091\nChange-Id: I27d64a094a8266b1571d0152cb029c38a452af43\n'}, {'number': 3, 'created': '2022-11-11 08:23:30.000000000', 'files': ['zuul.d/base.yaml', 'zuul.d/project.yaml', 'neutron/tests/functional/base.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2c9fd5bbf753af48d06473be595980fecaebbbaa', 'message': 'DNM Test FT timeout with oslo master\n\nCI job failing: neutron-functional-with-oslo-master\n\nhttps://bugs.launchpad.net/neutron/+bug/1995091\n\nSecond option: to mock the call to oslo_log.log._fix_eventlet_logging\nDepends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/864209\nDepends-On: https://review.opendev.org/c/openstack/oslo.log/+/864018\n\nRelated-Bug: #1995091\nChange-Id: I27d64a094a8266b1571d0152cb029c38a452af43\n'}]",2,864195,2c9fd5bbf753af48d06473be595980fecaebbbaa,14,2,3,16688,,,0,"DNM Test FT timeout with oslo master

CI job failing: neutron-functional-with-oslo-master

https://bugs.launchpad.net/neutron/+bug/1995091

Second option: to mock the call to oslo_log.log._fix_eventlet_logging
Depends-On: https://review.opendev.org/c/openstack/oslo.privsep/+/864209
Depends-On: https://review.opendev.org/c/openstack/oslo.log/+/864018

Related-Bug: #1995091
Change-Id: I27d64a094a8266b1571d0152cb029c38a452af43
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/864195/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml', 'neutron/tests/functional/base.py', 'tox.ini']",4,ac1159e6e4c0fee9dc79add4ee1e0e6afd4a894a,bug/1995091, stestr run --concurrency 2 --exclude-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs}, stestr run --concurrency 2 --black-regex neutron.tests.fullstack.test_securitygroup.TestSecurityGroupsSameNetwork.test_securitygroup {posargs},16,68
openstack%2Fovn-bgp-agent~864813,openstack/ovn-bgp-agent,master,Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a,Add support to only expose tenant IPv6 GUA IPs,MERGED,2022-11-17 11:14:43.000000000,2022-11-24 07:36:24.000000000,2022-11-24 07:36:24.000000000,"[{'_account_id': 6773}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2022-11-17 11:14:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/7452b18b358124cfbbfb35be0cff2daaa5c3ee1e', 'message': '[WIP] Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nTODO:\n- Testing\n- Documentation update\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 2, 'created': '2022-11-18 15:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/12fd6c77b31d206904951777379f79a1c4707222', 'message': '[WIP] Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nTODO:\n- Documentation update\n- Unittesting\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 3, 'created': '2022-11-21 09:21:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/55f3da9f9b107def8e8d33ea9c8998c177b41e5c', 'message': 'Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 4, 'created': '2022-11-21 11:20:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/0248a829606d5f19c0fef43e08b5b98a1eb5ffe4', 'message': 'Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 5, 'created': '2022-11-21 11:30:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/2384aaae012b68d230d0e46e4e7a3fdb5c2c7025', 'message': 'Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 6, 'created': '2022-11-22 18:06:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/63acb02f2ac996c6239879ed9f85858226af4369', 'message': 'Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it will be checked if they are IPv6 and\nof global type, and only in that case they will be advertized\n-- regardless of the expose_tenant_network flag setting\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}, {'number': 7, 'created': '2022-11-22 18:31:36.000000000', 'files': ['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/config.py', 'doc/source/contributor/bgp_mode_design.rst', 'ovn_bgp_agent/tests/unit/drivers/openstack/test_ovn_bgp_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-bgp-agent/commit/d6686c88e6c388592d6f5dc792aa6021bb4d947a', 'message': 'Add support to only expose tenant IPv6 GUA IPs\n\nA new flag is added so that we can either expose all the\ntenant network IPs (expose_tenant_networks) or just the\nIPv6 GUA ones (expose_ipv6_gua_tenant_networks).\n\nIf the expose_ipv6_gua_tenant_network flag is enabled, before\nexposing the tenant IPs it is checked if they are IPv6 and\nof global type, and only in that case they will be advertized.\n\nStory 2010374\nTask 46609\n\nChange-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a\n'}]",32,864813,d6686c88e6c388592d6f5dc792aa6021bb4d947a,24,3,7,23567,,,0,"Add support to only expose tenant IPv6 GUA IPs

A new flag is added so that we can either expose all the
tenant network IPs (expose_tenant_networks) or just the
IPv6 GUA ones (expose_ipv6_gua_tenant_networks).

If the expose_ipv6_gua_tenant_network flag is enabled, before
exposing the tenant IPs it is checked if they are IPv6 and
of global type, and only in that case they will be advertized.

Story 2010374
Task 46609

Change-Id: Ifa1e25aabb3f6a3fc5f1e5ba5a32bfedadf6765a
",git fetch https://review.opendev.org/openstack/ovn-bgp-agent refs/changes/13/864813/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_bgp_agent/drivers/openstack/ovn_bgp_driver.py', 'ovn_bgp_agent/drivers/openstack/utils/driver_utils.py', 'ovn_bgp_agent/config.py']",3,7452b18b358124cfbbfb35be0cff2daaa5c3ee1e,ipv6-gua," cfg.BoolOpt('expose_ipv6_gua_tenant_networks', help='Expose VM IPv6 IPs on tenant networks if they are GUA', default=False),",,53,7
openstack%2Fneutron~864715,openstack/neutron,master,Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509,Update tap ip in metadata agent when metadata port ip updated,MERGED,2022-11-16 09:38:44.000000000,2022-11-24 06:32:40.000000000,2022-11-24 06:31:33.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6773}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 28056}]","[{'number': 1, 'created': '2022-11-16 09:38:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/35ca26edbdd99339a5aedc9218d2b765331964f4', 'message': '[neutron]Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, add the port_binding update event\nof monitoring localport tpye, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 2, 'created': '2022-11-17 08:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6a15606438b16d1f503d48616bd73cc31f258c69', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\nCall update_subnet for update DHCP_Options classless_static_route when\nupdate metadata port ip address.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 3, 'created': '2022-11-18 09:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/5c6ada3a516ba3688189709d961a1cdcb0b14ab3', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 4, 'created': '2022-11-21 02:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4eb3b68328770f0ba3edfba39b3131eded06029b', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 5, 'created': '2022-11-21 06:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/be63cce45f4e8dfdbf53c7a90cfe50ea2a35840d', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 6, 'created': '2022-11-21 06:18:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4886e89c0b28619fcea4d4a6b92dcddd3aee7dc2', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}, {'number': 7, 'created': '2022-11-21 09:46:42.000000000', 'files': ['neutron/tests/functional/agent/ovn/metadata/test_metadata_agent.py', 'neutron/agent/ovn/metadata/agent.py', 'releasenotes/notes/bug-1996677-64851b476a0c5a37.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/686698284b3553001398f65614c6521359bc45aa', 'message': 'Update tap ip in metadata agent when metadata port ip updated\n\nUpdate neutron-ovn-metadata-agent, catch port_binding update event\nof monitoring localport type, and judge if the neutron:cidrs field in\nthe external_ids of port_binding table has changed,\nthen update_datapath.\n\nCloses-Bug: #1996677\nChange-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509\n'}]",36,864715,686698284b3553001398f65614c6521359bc45aa,47,7,7,34125,,,0,"Update tap ip in metadata agent when metadata port ip updated

Update neutron-ovn-metadata-agent, catch port_binding update event
of monitoring localport type, and judge if the neutron:cidrs field in
the external_ids of port_binding table has changed,
then update_datapath.

Closes-Bug: #1996677
Change-Id: Ibdc1b385b07a2ab1ca8e4b6278f6d39fb5839509
",git fetch https://review.opendev.org/openstack/neutron refs/changes/15/864715/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/ovn/metadata/agent.py'],1,35ca26edbdd99339a5aedc9218d2b765331964f4,bug/1996677,"OVN_VIF_PORT_TYPES = ("""", ""external"", ""localport"", ) if row.type == ""localport"": new_ext_ids = row.external_ids old_ext_ids = old.external_ids device_id = row.external_ids.get(""neutron:device_id"", """") if not device_id.startswith(NS_PREFIX): return new_cidr = new_ext_ids.get(""neutron:cidrs"", """") old_cidr = old_ext_ids.get(""neutron:cidrs"", """") # If old_cidr is """", it is create event, nothing needs to be done. # If old_cidr equals new_cidr, the ip does not change. if old_cidr in ("""", new_cidr, ): returnclass PortBindingMetaPortUpdatedEvent(PortBindingChassisEvent): LOG_MSG = ""Metadata Port %s in datapath %s updated."" def __init__(self, metadata_agent): events = (self.ROW_UPDATE,) super(PortBindingMetaPortUpdatedEvent, self).__init__( metadata_agent, events) def match_fn(self, event, row, old): if row.type == ""localport"": if hasattr(row, 'external_ids') and hasattr(old, 'external_ids'): device_id = row.external_ids.get(""neutron:device_id"", """") if device_id.startswith(NS_PREFIX): return True return False SbGlobalUpdateEvent(self), PortBindingMetaPortUpdatedEvent(self))","OVN_VIF_PORT_TYPES = ("""", ""external"", ) SbGlobalUpdateEvent(self))",32,2
openstack%2Ftripleo-heat-templates~865245,openstack/tripleo-heat-templates,master,I6f6a65fc8821c5d21d89452138248c02450a623d,Remove remaining reference to VPP and ML2/VPP plugin,MERGED,2022-11-22 09:04:01.000000000,2022-11-24 05:35:00.000000000,2022-11-24 05:35:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-22 09:04:01.000000000', 'files': ['roles_data_standalone.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/243166902c22ad98238a226cb4353575b062e4d3', 'message': 'Remove remaining reference to VPP and ML2/VPP plugin\n\nSupport for VPP and ML2/VPP plugin have been removed by [1]. This\nchange removes the remaining reference in standalone role data.\n\n[1] 4ecf3ecaa47a61b33477821fd1d2c15d301081ca\n\nChange-Id: I6f6a65fc8821c5d21d89452138248c02450a623d\n'}]",0,865245,243166902c22ad98238a226cb4353575b062e4d3,9,4,1,9816,,,0,"Remove remaining reference to VPP and ML2/VPP plugin

Support for VPP and ML2/VPP plugin have been removed by [1]. This
change removes the remaining reference in standalone role data.

[1] 4ecf3ecaa47a61b33477821fd1d2c15d301081ca

Change-Id: I6f6a65fc8821c5d21d89452138248c02450a623d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/865245/1 && git format-patch -1 --stdout FETCH_HEAD,['roles_data_standalone.yaml'],1,243166902c22ad98238a226cb4353575b062e4d3,tripleo-remove-vpp,, - OS::TripleO::Services::NeutronVppAgent - OS::TripleO::Services::Vpp,0,2
openstack%2Ftripleo-ansible~865047,openstack/tripleo-ansible,master,I31bb5c2902f5061d6fda74c17cd3df4de4f06c82,Rename the files tasks.,MERGED,2022-11-18 17:12:36.000000000,2022-11-24 05:34:58.000000000,2022-11-24 05:34:58.000000000,"[{'_account_id': 7144}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-18 17:12:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bdb4df4f85da0cd3ab6779212d4ba7e6a34d57d0', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}, {'number': 2, 'created': '2022-11-18 17:14:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/362ed097c87489f988d396c817922dda58723642', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}, {'number': 3, 'created': '2022-11-18 17:41:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ab49a86acaac6df72551dea878c5876ca7f4062d', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}, {'number': 4, 'created': '2022-11-18 23:07:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22b5b836ae2ad553eedb3963280cda678c8aafae', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}, {'number': 5, 'created': '2022-11-21 14:41:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e6464dc8140d09b7f85ba934ece4fac90172f1cc', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\nWe still keep some ""alias"" tasks with the old names, but we should\nremove these once we update the usage in tripleo-heat-templates.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}, {'number': 6, 'created': '2022-11-21 14:50:32.000000000', 'files': ['tripleo_ansible/roles/tripleo_podman/molecule/login/prepare.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-configure.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/buildah_login.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/install/converge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_purge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/login.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/service.yml', 'tripleo_ansible/roles/tripleo_podman/molecule/login/converge.yml', 'tripleo_ansible/playbooks/deploy-tripleo-os-install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/purge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog.yml', 'tripleo_ansible/playbooks/cli-container-registry-config.yaml', 'tripleo_ansible/roles/tripleo_podman/tasks/install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_install.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/tripleo_podman_login.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0692c49525c3a5a4680ff0b9e15bbfe2822639a3', 'message': 'Rename the files tasks.\n\nAccording to the documentation[1] rename the tasks files to respect the\nnew structure. To respect the pattern do the same for the specific\npodman files.\n\nWe still keep some symbolic links with the old names, but we should\nremove these once we update the usage in tripleo-heat-templates.\n\n[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html\n\nChange-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82\n'}]",9,865047,0692c49525c3a5a4680ff0b9e15bbfe2822639a3,33,6,6,31245,,,0,"Rename the files tasks.

According to the documentation[1] rename the tasks files to respect the
new structure. To respect the pattern do the same for the specific
podman files.

We still keep some symbolic links with the old names, but we should
remove these once we update the usage in tripleo-heat-templates.

[1] https://docs.openstack.org/tripleo-ansible/latest/standalone-roles-playbooks.html

Change-Id: I31bb5c2902f5061d6fda74c17cd3df4de4f06c82
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/47/865047/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo_podman/tasks/buildah_login.yml', 'tripleo_ansible/roles/tripleo_image_serve/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/configure.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/main.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog_cleanup.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/login.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/service.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/purge.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/rsyslog.yml', 'tripleo_ansible/roles/tripleo_podman/tasks/install.yml', 'tripleo_ansible/roles/tripleo_rabbitmq_messaging_rpc_pacemaker/tasks/upgrade.yml', 'tripleo_ansible/roles/tripleo_rabbitmq_prepare_switch_image_name/tasks/main.yml']",12,bdb4df4f85da0cd3ab6779212d4ba7e6a34d57d0,standalone-roles,"--- # Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # ""tripleo_rabbitmq_prepare_switch_image_name"" will search for and load any operating system variable file - name: Get rabbitmq image id currently used by pacemaker shell: ""pcs resource config rabbitmq-bundle | grep -Eo 'image=[^ ]+' | awk -F= '{print $2;}'"" register: rabbitmq_image_current_res failed_when: false - name: Image facts for rabbitmq set_fact: rabbitmq_image_latest: *rabbitmq_image_pcmklatest rabbitmq_image_current: ""{{rabbitmq_image_current_res.stdout}}"" - name: Prepare the switch to new rabbitmq container image name in pacemaker block: - name: Temporarily tag the current rabbitmq image id with the upgraded image name import_role: name: tripleo_container_tag vars: container_image: ""{{rabbitmq_image_current}}"" container_image_latest: ""{{rabbitmq_image_latest}}"" pull_image: false when: - rabbitmq_image_current != '' - rabbitmq_image_current != rabbitmq_image_latest - name: Check rabbitmq cluster resource status shell: pcs resource config rabbitmq-bundle failed_when: false register: rabbitmq_pcs_res_result - name: Set fact rabbitmq_pcs_res set_fact: rabbitmq_pcs_res: ""{{rabbitmq_pcs_res_result.rc == 0}}"" - name: set is_rpc_rabbitmq_bootstrap_node fact set_fact: is_rpc_rabbitmq_bootstrap_node={{oslo_messaging_rpc_short_bootstrap_node_name|lower == ansible_facts['hostname']|lower}} ",,189,5
openstack%2Fnova~864671,openstack/nova,stable/train,I2b07fd03fd3ba7662695384940ceda479fcf9f0a,Move pre-3.44 Cinder post live migration test to test_compute_mgr,ABANDONED,2022-11-16 05:44:33.000000000,2022-11-24 04:29:42.000000000,,"[{'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 05:44:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f68899fc24248adf67c26d56e9b720c2a150eb6d', 'message': 'Move pre-3.44 Cinder post live migration test to test_compute_mgr\n\nThe previous patch (Id0e8b1c32600d53382e5ac938e403258c80221a0) created\n_post_live_migration_remove_source_vol_connections() in an attempt to\nsplit out _post_live_migration() into smaller more self-contained\nmethods. The test for the pre-3.44 Cinder API behavior was kept in\ntest_compute. test_compute runs API and compute services and\nuses the database, and therefore should not receive new tests. Compute\nAPI tests should go in test_compute_api, compute manager tests in\ntest_compute_mgr and anything that needs a running service and/or\ndatabase should go under functional/. While there will be no concerted\neffort to ""convert"" test_compute (like for mox -> mock), it\'s still\ngood to do it when the opportunity arises. In addition, having unit\ntests for two branches of the same method in different files is just\nconfusing. This patch removes the pre-3.44 Cinder API unit test from\ntest_compute and adds a new one right above the existing test for\npost-3.44 Cinder API behavior in test_compute_mgr.\n\nChange-Id: I2b07fd03fd3ba7662695384940ceda479fcf9f0a\n(cherry picked from commit cfb283cdd0fd016bc8151a5122b7b1f581203c34)\n'}, {'number': 2, 'created': '2022-11-23 09:57:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/645af0a6715457970a8e9b1670f174d54e9ff651', 'message': 'Move pre-3.44 Cinder post live migration test to test_compute_mgr\n\nThe previous patch (Id0e8b1c32600d53382e5ac938e403258c80221a0) created\n_post_live_migration_remove_source_vol_connections() in an attempt to\nsplit out _post_live_migration() into smaller more self-contained\nmethods. The test for the pre-3.44 Cinder API behavior was kept in\ntest_compute. test_compute runs API and compute services and\nuses the database, and therefore should not receive new tests. Compute\nAPI tests should go in test_compute_api, compute manager tests in\ntest_compute_mgr and anything that needs a running service and/or\ndatabase should go under functional/. While there will be no concerted\neffort to ""convert"" test_compute (like for mox -> mock), it\'s still\ngood to do it when the opportunity arises. In addition, having unit\ntests for two branches of the same method in different files is just\nconfusing. This patch removes the pre-3.44 Cinder API unit test from\ntest_compute and adds a new one right above the existing test for\npost-3.44 Cinder API behavior in test_compute_mgr.\n\nPartial-Bug: #1628606\n\nChange-Id: I2b07fd03fd3ba7662695384940ceda479fcf9f0a\n(cherry picked from commit cfb283cdd0fd016bc8151a5122b7b1f581203c34)\n'}, {'number': 3, 'created': '2022-11-23 10:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/59dd7506f7e5950b35dfd842b13ff8cbfe5233fb', 'message': 'Move pre-3.44 Cinder post live migration test to test_compute_mgr\n\nThe previous patch (Id0e8b1c32600d53382e5ac938e403258c80221a0) created\n_post_live_migration_remove_source_vol_connections() in an attempt to\nsplit out _post_live_migration() into smaller more self-contained\nmethods. The test for the pre-3.44 Cinder API behavior was kept in\ntest_compute. test_compute runs API and compute services and\nuses the database, and therefore should not receive new tests. Compute\nAPI tests should go in test_compute_api, compute manager tests in\ntest_compute_mgr and anything that needs a running service and/or\ndatabase should go under functional/. While there will be no concerted\neffort to ""convert"" test_compute (like for mox -> mock), it\'s still\ngood to do it when the opportunity arises. In addition, having unit\ntests for two branches of the same method in different files is just\nconfusing. This patch removes the pre-3.44 Cinder API unit test from\ntest_compute and adds a new one right above the existing test for\npost-3.44 Cinder API behavior in test_compute_mgr.\n\nPartial-Bug: #1628606\n\nChange-Id: I2b07fd03fd3ba7662695384940ceda479fcf9f0a\n(cherry picked from commit cfb283cdd0fd016bc8151a5122b7b1f581203c34)\n'}, {'number': 4, 'created': '2022-11-23 11:00:41.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/afb063c33cedeaab3271cec7d7509d0bb06e0efc', 'message': 'Move pre-3.44 Cinder post live migration test to test_compute_mgr\n\nThe previous patch (Id0e8b1c32600d53382e5ac938e403258c80221a0) created\n_post_live_migration_remove_source_vol_connections() in an attempt to\nsplit out _post_live_migration() into smaller more self-contained\nmethods. The test for the pre-3.44 Cinder API behavior was kept in\ntest_compute. test_compute runs API and compute services and\nuses the database, and therefore should not receive new tests. Compute\nAPI tests should go in test_compute_api, compute manager tests in\ntest_compute_mgr and anything that needs a running service and/or\ndatabase should go under functional/. While there will be no concerted\neffort to ""convert"" test_compute (like for mox -> mock), it\'s still\ngood to do it when the opportunity arises. In addition, having unit\ntests for two branches of the same method in different files is just\nconfusing. This patch removes the pre-3.44 Cinder API unit test from\ntest_compute and adds a new one right above the existing test for\npost-3.44 Cinder API behavior in test_compute_mgr.\n\nPartial-Bug: #1628606\n\nChange-Id: I2b07fd03fd3ba7662695384940ceda479fcf9f0a\n(cherry picked from commit cfb283cdd0fd016bc8151a5122b7b1f581203c34)\n'}]",1,864671,afb063c33cedeaab3271cec7d7509d0bb06e0efc,9,2,4,34860,,,0,"Move pre-3.44 Cinder post live migration test to test_compute_mgr

The previous patch (Id0e8b1c32600d53382e5ac938e403258c80221a0) created
_post_live_migration_remove_source_vol_connections() in an attempt to
split out _post_live_migration() into smaller more self-contained
methods. The test for the pre-3.44 Cinder API behavior was kept in
test_compute. test_compute runs API and compute services and
uses the database, and therefore should not receive new tests. Compute
API tests should go in test_compute_api, compute manager tests in
test_compute_mgr and anything that needs a running service and/or
database should go under functional/. While there will be no concerted
effort to ""convert"" test_compute (like for mox -> mock), it's still
good to do it when the opportunity arises. In addition, having unit
tests for two branches of the same method in different files is just
confusing. This patch removes the pre-3.44 Cinder API unit test from
test_compute and adds a new one right above the existing test for
post-3.44 Cinder API behavior in test_compute_mgr.

Partial-Bug: #1628606

Change-Id: I2b07fd03fd3ba7662695384940ceda479fcf9f0a
(cherry picked from commit cfb283cdd0fd016bc8151a5122b7b1f581203c34)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/864671/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py']",2,f68899fc24248adf67c26d56e9b720c2a150eb6d,bug/1628606,," def test_post_live_migration_terminate_volume_connections(self): c = context.get_admin_context() instance = self._create_fake_instance_obj({ 'host': self.compute.host, 'state_description': 'migrating', 'state': power_state.PAUSED}, ctxt=c) bdms = block_device_obj.block_device_make_list(c, [fake_block_device.FakeDbBlockDeviceDict({ 'source_type': 'blank', 'guest_format': None, 'destination_type': 'local'}), fake_block_device.FakeDbBlockDeviceDict({ 'source_type': 'volume', 'destination_type': 'volume', 'volume_id': uuids.volume_id}), ]) with test.nested( mock.patch.object(self.compute.driver, 'get_volume_connector'), mock.patch.object(cinder.API, 'terminate_connection'), ) as ( get_volume_connector, terminate_connection, ): get_volume_connector.return_value = 'fake-connector' self.compute._post_live_migration_remove_source_vol_connections( c, instance, bdms) terminate_connection.assert_called_once_with( c, uuids.volume_id, 'fake-connector') ",36,32
openstack%2Fpuppet-openstacklib~865486,openstack/puppet-openstacklib,master,I149b019fe4c68f6f404e78ab8f4e48c29d6ac74b,Remove logic for ruby < 2.0,ABANDONED,2022-11-24 03:03:12.000000000,2022-11-24 03:06:26.000000000,,[],"[{'number': 1, 'created': '2022-11-24 03:03:12.000000000', 'files': ['lib/puppet/functions/inet6_prefix.rb'], 'web_link': 'https://opendev.org/openstack/puppet-openstacklib/commit/3aa322b1e92143a7ff83c9eed0a726cae022e192', 'message': 'Remove logic for ruby < 2.0\n\nThe logic was added to support ruby 1.x.x which does not contain [1],\nbut recent operating systems no longer ship such an old version.\n\nCentOS 9: Ruby 3.0\nCentOS 8: Ruby 2.5\nUbuntu 20.04: Ruby 2.7\n\n[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4\n\nChange-Id: I149b019fe4c68f6f404e78ab8f4e48c29d6ac74b\n'}]",0,865486,3aa322b1e92143a7ff83c9eed0a726cae022e192,2,0,1,9816,,,0,"Remove logic for ruby < 2.0

The logic was added to support ruby 1.x.x which does not contain [1],
but recent operating systems no longer ship such an old version.

CentOS 9: Ruby 3.0
CentOS 8: Ruby 2.5
Ubuntu 20.04: Ruby 2.7

[1] https://github.com/ruby/ruby/commit/e03d266c1dbf82c25fd63a2a4a1a9665dbc1bab4

Change-Id: I149b019fe4c68f6f404e78ab8f4e48c29d6ac74b
",git fetch https://review.opendev.org/openstack/puppet-openstacklib refs/changes/86/865486/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/puppet/functions/inet6_prefix.rb'],1,3aa322b1e92143a7ff83c9eed0a726cae022e192,," exp = [ IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError]"," # NOTE(tobias-urdin): Add support for older version of the ipaddr # lib where ArgumentError hasn't been replaced yet. if IPAddr.const_defined?('InvalidAddressError') exp = [IPAddr::AddressFamilyError, IPAddr::Error, IPAddr::InvalidAddressError, IPAddr::InvalidPrefixError, ArgumentError, NoMethodError] else exp = [ArgumentError, NoMethodError] end",3,8
openstack%2Fskyline-console~865385,openstack/skyline-console,master,If299e6791ce5c30be936fbd5fbc2b5427a59ff39,fix: Fix the store path in magnum and required name in zun container,MERGED,2022-11-23 10:21:07.000000000,2022-11-24 02:58:08.000000000,2022-11-24 02:57:02.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-23 10:21:07.000000000', 'files': ['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/463ced2667f4628dc45c04826e4fdc32e6b644e2', 'message': ""fix: Fix the store path in magnum and required name in zun container\n\n1. Change the store path from 'src/stores' to 'stores' to avoid some strange bugs\n\n2. Make the container name be required\n\nChange-Id: If299e6791ce5c30be936fbd5fbc2b5427a59ff39\n""}]",0,865385,463ced2667f4628dc45c04826e4fdc32e6b644e2,8,3,1,33689,,,0,"fix: Fix the store path in magnum and required name in zun container

1. Change the store path from 'src/stores' to 'stores' to avoid some strange bugs

2. Make the container name be required

Change-Id: If299e6791ce5c30be936fbd5fbc2b5427a59ff39
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/85/865385/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/StepInfo/index.jsx']",3,463ced2667f4628dc45c04826e4fdc32e6b644e2,fix-zun-path," required: true,",,5,4
openstack%2Ftempest~865314,openstack/tempest,master,I75a6bd7985fce66b3e8a4cb81320b22d71f6bc4a,Cleanup tox.ini,MERGED,2022-11-22 17:31:42.000000000,2022-11-24 02:12:44.000000000,2022-11-24 02:05:37.000000000,"[{'_account_id': 8556}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-22 17:31:42.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tempest/commit/a673bd93cb2b4a327c00f3f8184802e37b77eb09', 'message': ""Cleanup tox.ini\n\nWe remove install_command because the value set here is basically the\ndefault but with one small difference. It doesn't run using `python -m\npip` which means we could potentially find a global pip install which\ninstalls to the wrong python by default. Using python -m pip as the tox\ndefault does should ensure it consistently finds the venv pip.\n\nAdditionally we stop allowlisting all external commands to make problems\nlike this more apparent.\n\nChange-Id: I75a6bd7985fce66b3e8a4cb81320b22d71f6bc4a\n""}]",1,865314,a673bd93cb2b4a327c00f3f8184802e37b77eb09,8,3,1,4146,,,0,"Cleanup tox.ini

We remove install_command because the value set here is basically the
default but with one small difference. It doesn't run using `python -m
pip` which means we could potentially find a global pip install which
installs to the wrong python by default. Using python -m pip as the tox
default does should ensure it consistently finds the venv pip.

Additionally we stop allowlisting all external commands to make problems
like this more apparent.

Change-Id: I75a6bd7985fce66b3e8a4cb81320b22d71f6bc4a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/14/865314/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,a673bd93cb2b4a327c00f3f8184802e37b77eb09,cleanup-tox,allowlist_externals = find,install_command = pip install {opts} {packages} allowlist_externals = *,2,2
openstack%2Fpuppet-openstack-integration~865450,openstack/puppet-openstack-integration,master,If53e0ad4ad42f140579c901ca820abfc66085259,DNM: Test canonical IPv6 address in ring_*_device,ABANDONED,2022-11-23 17:04:52.000000000,2022-11-24 01:17:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-23 17:04:52.000000000', 'files': ['manifests/swift.pp'], 'web_link': 'https://opendev.org/openstack/puppet-openstack-integration/commit/30b43a028541fdfe421146ffe12d7a6f27cb19d8', 'message': 'DNM: Test canonical IPv6 address in ring_*_device\n\nChange-Id: If53e0ad4ad42f140579c901ca820abfc66085259\n'}]",0,865450,30b43a028541fdfe421146ffe12d7a6f27cb19d8,3,1,1,9816,,,0,"DNM: Test canonical IPv6 address in ring_*_device

Change-Id: If53e0ad4ad42f140579c901ca820abfc66085259
",git fetch https://review.opendev.org/openstack/puppet-openstack-integration refs/changes/50/865450/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/swift.pp'],1,30b43a028541fdfe421146ffe12d7a6f27cb19d8,," if $::openstack_integration::config::ipv6 { $ring_host = '[0000:0000:0000:0000:0000:0000:0000:0001]' } else { $ring_host = $::openstack_integration::config::ip_for_url } ring_object_device { [""${ring_host}:6000/1"", ""${ring_host}:6000/2"", ""${ring_host}:6000/3""]: ring_container_device { [""${ring_host}:6001/1"", ""${ring_host}:6001/2"", ""${ring_host}:6001/3""]: ring_account_device { [""${ring_host}:6002/1"", ""${ring_host}:6002/2"", ""${ring_host}:6002/3""]:"," ring_object_device { [""${::openstack_integration::config::ip_for_url}:6000/1"", ""${::openstack_integration::config::ip_for_url}:6000/2"", ""${::openstack_integration::config::ip_for_url}:6000/3""]: ring_container_device { [""${::openstack_integration::config::ip_for_url}:6001/1"", ""${::openstack_integration::config::ip_for_url}:6001/2"", ""${::openstack_integration::config::ip_for_url}:6001/3""]: ring_account_device { [""${::openstack_integration::config::ip_for_url}:6002/1"", ""${::openstack_integration::config::ip_for_url}:6002/2"", ""${::openstack_integration::config::ip_for_url}:6002/3""]:",8,3
openstack%2Ftripleo-ansible~864468,openstack/tripleo-ansible,master,If75c896b05131ced3ef4d0b71686e66e1271fd88,Drop ansible-core pin from requirements,MERGED,2022-11-15 03:46:12.000000000,2022-11-24 01:09:29.000000000,2022-11-24 01:08:27.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-15 03:46:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ae251a0098b77820b5645f91f3e228f5ba1a08d2', 'message': 'WIP Drop ansible-core pin from requirements\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n'}, {'number': 2, 'created': '2022-11-15 04:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/d38f931bb38cf374526e8b52244b7613fcfbc98f', 'message': 'WIP Drop ansible-core pin from requirements\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n'}, {'number': 3, 'created': '2022-11-15 14:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c19d13ca3ff4abeb8499a907c7b2f3dbbe3ce21b', 'message': 'WIP Drop ansible-core pin from requirements\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n'}, {'number': 4, 'created': '2022-11-20 05:34:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/61ce69b4bc28106d3e8ed597cf89ab5ac8113424', 'message': 'Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n'}, {'number': 5, 'created': '2022-11-21 00:44:01.000000000', 'files': ['ansible-requirements.txt', 'doc/requirements.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7baae8e14f0c493d3b165220f6b2d246d145d6d3', 'message': 'Drop ansible-core pin from requirements\n\nWe test latest ansible with scenario jobs, there is\nmore problems than benifits of pinning ansible in\nmoleclule jobs.\n\nChange-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88\n'}]",13,864468,7baae8e14f0c493d3b165220f6b2d246d145d6d3,46,4,5,8833,,,0,"Drop ansible-core pin from requirements

We test latest ansible with scenario jobs, there is
more problems than benifits of pinning ansible in
moleclule jobs.

Change-Id: If75c896b05131ced3ef4d0b71686e66e1271fd88
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/68/864468/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'doc/requirements.txt', 'molecule-requirements.txt']",3,ae251a0098b77820b5645f91f3e228f5ba1a08d2,molecule-corrections,ansible-core,ansible-core<2.12.0,3,3
openstack%2Ftempest~865469,openstack/tempest,master,Ida4ca6e04f6485c5c11e95ff708558267a827d2a,Fix python classifier for py39,MERGED,2022-11-23 20:33:43.000000000,2022-11-24 00:16:58.000000000,2022-11-24 00:15:34.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-23 20:33:43.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/25c441c76a248a525d4ad83dafda5c7d07e1ff4e', 'message': 'Fix python classifier for py39\n\nTemepest test and support python 3.9 so\nfixing then python classifier in setup.cfg\n\nChange-Id: Ida4ca6e04f6485c5c11e95ff708558267a827d2a\n'}]",1,865469,25c441c76a248a525d4ad83dafda5c7d07e1ff4e,7,2,1,8556,,,0,"Fix python classifier for py39

Temepest test and support python 3.9 so
fixing then python classifier in setup.cfg

Change-Id: Ida4ca6e04f6485c5c11e95ff708558267a827d2a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/69/865469/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,25c441c76a248a525d4ad83dafda5c7d07e1ff4e,, Programming Language :: Python :: 3.9,,1,0
openstack%2Fhorizon~861880,openstack/horizon,master,I8caabe248b4a454f245aa2eedf36b2d63fd90e92,Setup project template for nodejs v18 jobs,MERGED,2022-10-19 12:04:41.000000000,2022-11-23 22:55:50.000000000,2022-11-23 22:53:47.000000000,"[{'_account_id': 841}, {'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-10-19 12:04:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/d15a8fb92db9b3b237ca1bc26b760394c6b6a3c7', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}, {'number': 2, 'created': '2022-10-19 12:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8103096db48ad241fd683af6b424f393bb287e73', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}, {'number': 3, 'created': '2022-10-19 12:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/103d6ea054cd025f64161842a6f8e4b1702d993e', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}, {'number': 4, 'created': '2022-10-19 13:18:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ceeecba80bae2ec7957064eb4f2465583442d3e2', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}, {'number': 5, 'created': '2022-10-19 13:41:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/92dae7aea6c698244aff1c9b01b023e94c2a7844', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}, {'number': 6, 'created': '2022-11-03 07:27:52.000000000', 'files': ['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/eaed7513ced3c10626169ab735e4d2bf3ba6201f', 'message': 'Setup project template for nodejs v18 jobs\n\nThis patch defines job for for nodejs v18 which is the\nnext LTS version of nodejs[1] and also, the runtime for\nthe 2023.1 cycle[2]. The next step is to remove nodejs v16\njobs once nodejs v18 job passes for the horizon and its plugins.\n\n[1] https://nodejs.org/en/about/releases/\n[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1\n\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876\nChange-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92\n'}]",7,861880,eaed7513ced3c10626169ab735e4d2bf3ba6201f,26,5,6,29313,,,0,"Setup project template for nodejs v18 jobs

This patch defines job for for nodejs v18 which is the
next LTS version of nodejs[1] and also, the runtime for
the 2023.1 cycle[2]. The next step is to remove nodejs v16
jobs once nodejs v18 job passes for the horizon and its plugins.

[1] https://nodejs.org/en/about/releases/
[2] https://governance.openstack.org/tc/reference/runtimes/2023.1.html#node-js-runtime-for-2023-1

Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861876
Change-Id: I8caabe248b4a454f245aa2eedf36b2d63fd90e92
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/861880/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/nodejs-jobs.yaml', '.zuul.d/project.yaml', '.zuul.d/xstatic-master.yaml']",3,d15a8fb92db9b3b237ca1bc26b760394c6b6a3c7,, - job: name: horizon-nodejs18-run-test-xstatic-master parent: horizon-nodejs18-run-test required-projects: *xstatic-projects pre-run: playbooks/npm-test-xstatic-master/pre.yaml,,40,0
openstack%2Ftripleo-heat-templates~862973,openstack/tripleo-heat-templates,master,I29b7ed036d0775d6cb98c6dc40cfde407c46fbbe,Inject VipPortMap to ansible group vars,MERGED,2022-10-29 16:14:24.000000000,2022-11-23 22:54:39.000000000,2022-11-23 22:54:39.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-10-29 16:14:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7b9caf3777af0c2e72e6b6dee219ca998dde9d9a', 'message': 'Inject VipMap data to ansible group var\n\nThe DeployedServerPortMap parameter was already deprecated[1]. This\nadds VipMap data into ansible group var so that we can use it instead.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: I29b7ed036d0775d6cb98c6dc40cfde407c46fbbe\n'}, {'number': 2, 'created': '2022-10-31 01:09:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d9df26d84a49e37f54d0f3f8bec11890cd5f6115', 'message': 'Inject VipPortMap to ansible group vars\n\nThe DeployedServer parameter was already deprecated[1]. This adds\nthe VipPortMap parameter, which is now used to define vips, into\nansible group vars. Currently this is required so that standalone\ndeployment process can loop up the additional ip passed by\nthe --public-virtual-ip option.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: I29b7ed036d0775d6cb98c6dc40cfde407c46fbbe\n'}, {'number': 3, 'created': '2022-10-31 01:24:38.000000000', 'files': ['overcloud.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3df912576b90e1977dc065024e87bf628a0ce04c', 'message': 'Inject VipPortMap to ansible group vars\n\nThe DeployedServer parameter was already deprecated[1]. This adds\nthe VipPortMap parameter, which is now used to define vips, into\nansible group vars. Currently this is required so that standalone\ndeployment process can loop up the additional ip passed by\nthe --public-virtual-ip option.\n\n[1] 26be3179905c7751812aa10a0af9f56e58e7ef08\n\nChange-Id: I29b7ed036d0775d6cb98c6dc40cfde407c46fbbe\n'}]",2,862973,3df912576b90e1977dc065024e87bf628a0ce04c,25,8,3,9816,,,0,"Inject VipPortMap to ansible group vars

The DeployedServer parameter was already deprecated[1]. This adds
the VipPortMap parameter, which is now used to define vips, into
ansible group vars. Currently this is required so that standalone
deployment process can loop up the additional ip passed by
the --public-virtual-ip option.

[1] 26be3179905c7751812aa10a0af9f56e58e7ef08

Change-Id: I29b7ed036d0775d6cb98c6dc40cfde407c46fbbe
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/73/862973/1 && git format-patch -1 --stdout FETCH_HEAD,['overcloud.j2.yaml'],1,7b9caf3777af0c2e72e6b6dee219ca998dde9d9a,deployed-port," vip_map: {get_attr: [VipMap, net_ip_map]}",,1,0
openstack%2Ftripleo-common~864643,openstack/tripleo-common,master,I6fbfdca7efcd84317b3085b58273edbb4da60029,Delete realtime kernel images,MERGED,2022-11-16 02:40:30.000000000,2022-11-23 22:44:27.000000000,2022-11-23 22:43:33.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-16 02:40:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9a6858497eff2fe09efcb3707d59c32b2b31c32c', 'message': 'Delete realtime kernel images\n\nDownstream the realtime kernel images are created by documenting a\nrecipe to use virt-customize on overcloud-hardened-uefi-full. So these\nimage definitions has likely not been used for a very long time.\n\nChange-Id: I6fbfdca7efcd84317b3085b58273edbb4da60029\n'}, {'number': 2, 'created': '2022-11-20 20:03:04.000000000', 'files': ['image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/dd5ebed20053073879e2ed1dc3a9f34b45182007', 'message': 'Delete realtime kernel images\n\nDownstream the realtime kernel images are created by documenting a\nrecipe to use virt-customize on overcloud-hardened-uefi-full. So these\nimage definitions has likely not been used for a very long time.\n\nChange-Id: I6fbfdca7efcd84317b3085b58273edbb4da60029\n'}]",2,864643,dd5ebed20053073879e2ed1dc3a9f34b45182007,15,4,2,4571,,,0,"Delete realtime kernel images

Downstream the realtime kernel images are created by documenting a
recipe to use virt-customize on overcloud-hardened-uefi-full. So these
image definitions has likely not been used for a very long time.

Change-Id: I6fbfdca7efcd84317b3085b58273edbb4da60029
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/43/864643/1 && git format-patch -1 --stdout FETCH_HEAD,"['image-yaml/overcloud-hardened-images-uefi-python3-rt-kernel.yaml', 'image-yaml/overcloud-realtime-compute-python3.yaml']",2,9a6858497eff2fe09efcb3707d59c32b2b31c32c,old-image-delete,,"disk_images: - imagename: overcloud-realtime-compute type: qcow2 elements: - baremetal - openvswitch - overcloud-compute - puppet-modules - stable-interface-names - bootloader - element-manifest - dynamic-login - iptables - enable-packages-install - override-pip-and-virtualenv - dracut-regenerate - remove-resolvconf - realtime-kernel - openssh - disable-nouveau - reset-bls-entries options: - ""--min-tmpfs=7"" environment: DIB_PYTHON_VERSION: '3' DIB_BAREMETAL_KERNEL_PATTERN: 'vmlinuz*.rt*' DIB_BAREMETAL_INITRD_PATTERN: 'initramfs-*.rt*' ",0,65
openstack%2Fneutron~865380,openstack/neutron,stable/zed,Ic546e40513402fa101c9687acce382cd6b84356c,"Always create a ""router_extra_attributes"" register per router",MERGED,2022-11-23 09:56:50.000000000,2022-11-23 22:10:36.000000000,2022-11-23 22:09:22.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 09:56:50.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/availability_zone/router.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/objects/router.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/55c8173f64e5b2a184eb7e51556a72ec641433a1', 'message': 'Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n(cherry picked from commit 2081910d6d942d49d96297884a932ff93acb8759)\n'}]",2,865380,55c8173f64e5b2a184eb7e51556a72ec641433a1,12,3,1,16688,,,0,"Always create a ""router_extra_attributes"" register per router

The table ""router_extra_attributes"" is a child of ""router"" table.
Each register contains extra information that completes the router
description. When using ML2/OVS mechanism driver, the methods that
create and populate the ""router_extra_attributes"" register are always
called from the L3 DVR, L3 HA and availability zones extensions.

When using ML2/OVN, those extensions are not loaded and therefore the
""router_extra_attributes"" register is not created.

Despite this register is currently not used in ML2/OVN (it will be in
future features), there are some project expecting the
""router_extra_attributes"" register to be always created (for example,
neutron-dynamic-routing [1]).

This patch enforces the child register creating always when a router is
created. This register is populated with the default values. This new
register does not affect any current operation related to ML2/OVN nor
ML2/OVS.

There is a 1:1 relationship between ""routers"" and
""router_extra_attributes"". The child register is deleted by the database
engine when the ""routers"" register is deleted (ondelete=""CASCADE"").

[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713

Closes-Bug: #1995974
Change-Id: Ic546e40513402fa101c9687acce382cd6b84356c
(cherry picked from commit 2081910d6d942d49d96297884a932ff93acb8759)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/865380/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/availability_zone/router.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/objects/router.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py']",10,55c8173f64e5b2a184eb7e51556a72ec641433a1,bug/1995974,"from neutron_lib.db import api as db_apifrom neutron.db import l3_attrs_dbfrom neutron.objects import router as router_obj # TODO(ralonsoh): Remove this in the Antelope+4 cycle @periodics.periodic(spacing=600, run_immediately=True) def create_router_extra_attributes_registers(self): """"""Create missing ``RouterExtraAttributes`` registers. ML2/OVN L3 plugin does not inherit the ``ExtraAttributesMixin`` class. Before LP#1995974, the L3 plugin was not creating a ``RouterExtraAttributes`` register per ``Routers`` register. This one only execution method finds those ``Routers`` registers without the child one and creates one with the default values. """""" if not self.has_lock: return context = n_context.get_admin_context() for router_id in router_obj.Router.\ get_router_ids_without_router_std_attrs(context): with db_api.CONTEXT_WRITER.using(context): router_db = {'id': router_id} l3_attrs_db.ExtraAttributesMixin.add_extra_attr(context, router_db) raise periodics.NeverAgain() ",,105,28
openstack%2Fpuppet-neutron~864630,openstack/puppet-neutron,master,I64da797bc921702f710e7328ef3e230354e2ceaf,Remove support for networking-vpp plugin,MERGED,2022-11-16 01:42:01.000000000,2022-11-23 22:00:50.000000000,2022-11-23 21:59:53.000000000,"[{'_account_id': 9816}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 01:42:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/fc3b2248b0fc7e991f5ab7ec70b3423722b18508', 'message': 'Remove support for networking-vpp plugin\n\n... because it was deprecated during Zed cycle by [1].\n\n[1] 7a47c5a29d530982ed85e5976de7b95992b9ed93\n\nChange-Id: I64da797bc921702f710e7328ef3e230354e2ceaf\n'}, {'number': 2, 'created': '2022-11-16 02:23:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ce8439d96f07b0637627b6da4684ec853ddd1c97', 'message': 'Remove support for networking-vpp plugin\n\n... because it was deprecated during Zed cycle by [1].\n\n[1] 7a47c5a29d530982ed85e5976de7b95992b9ed93\n\nChange-Id: I64da797bc921702f710e7328ef3e230354e2ceaf\n'}, {'number': 3, 'created': '2022-11-18 01:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9be4f0be02b7cadcff9a6dce1d8887b93aaf3241', 'message': 'Remove support for networking-vpp plugin\n\n... because it was deprecated during Zed cycle by [1].\n\n[1] 7a47c5a29d530982ed85e5976de7b95992b9ed93\n\nChange-Id: I64da797bc921702f710e7328ef3e230354e2ceaf\n'}, {'number': 4, 'created': '2022-11-18 05:38:28.000000000', 'files': ['lib/puppet/type/neutron_agent_vpp.rb', 'spec/acceptance/99_neutron_config_spec.rb', 'lib/puppet/provider/neutron_agent_vpp/ini_settings.rb', 'spec/unit/provider/neutron_agent_vpp/ini_setting_spec.rb', 'spec/classes/neutron_plugins_ml2_vpp_spec.rb', 'spec/classes/neutron_agents_ml2_vpp_spec.rb', 'spec/unit/type/neutron_agent_vpp_spec.rb', 'manifests/params.pp', 'manifests/agents/ml2/vpp.pp', 'manifests/deps.pp', 'releasenotes/notes/remove-networking-vpp-189431a381cf017b.yaml', 'manifests/plugins/ml2/vpp.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/746280be8640e61e7263199c3eac28e0a3ee603c', 'message': 'Remove support for networking-vpp plugin\n\n... because it was deprecated during Zed cycle by [1].\n\n[1] 7a47c5a29d530982ed85e5976de7b95992b9ed93\n\nChange-Id: I64da797bc921702f710e7328ef3e230354e2ceaf\n'}]",3,864630,746280be8640e61e7263199c3eac28e0a3ee603c,22,4,4,9816,,,0,"Remove support for networking-vpp plugin

... because it was deprecated during Zed cycle by [1].

[1] 7a47c5a29d530982ed85e5976de7b95992b9ed93

Change-Id: I64da797bc921702f710e7328ef3e230354e2ceaf
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/30/864630/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/unit/provider/neutron_agent_vpp/ini_setting_spec.rb', 'lib/puppet/type/neutron_agent_vpp.rb', 'spec/classes/neutron_plugins_ml2_vpp_spec.rb', 'spec/classes/neutron_agents_ml2_vpp_spec.rb', 'spec/unit/type/neutron_agent_vpp_spec.rb', 'manifests/agents/ml2/vpp.pp', 'releasenotes/notes/remove-networking-vpp-189431a381cf017b.yaml', 'lib/puppet/provider/neutron_agent_vpp/ini_settings.rb', 'manifests/plugins/ml2/vpp.pp']",9,fc3b2248b0fc7e991f5ab7ec70b3423722b18508,,,"# == Class: neutron::plugins::ml2::vpp # # DEPRECATED !! # Install the networking-vpp ML2 mechanism driver and generate config file # from parameters in the other classes. # # === Parameters # # [*etcd_host*] # (optional) etcd server host name or IP. # Defaults to $::os_service_default # # [*etcd_port*] # (optional) etcd server listening port. # Defaults to $::os_service_default. # # [*etcd_user*] # (optional) User name for etcd authentication # Defaults to $::os_service_default. # # [*etcd_pass*] # (optional) Password for etcd authentication # Defaults to $::os_service_default. # # [*l3_hosts*] # (optional) List of hostnames to render L3 services on. # Defaults to $::os_service_default. # # [*enable_l3_ha*] # (optional) Enable L3 HA feature. # Defaults to $::os_service_default. # class neutron::plugins::ml2::vpp ( $etcd_host = $::os_service_default, $etcd_port = $::os_service_default, $etcd_user = $::os_service_default, $etcd_pass = $::os_service_default, $l3_hosts = $::os_service_default, $enable_l3_ha = $::os_service_default, ) { include neutron::deps require neutron::plugins::ml2 warning('Support for the networking-vpp plugin has been deprecated.') neutron_plugin_ml2 { 'ml2_vpp/etcd_host': value => $etcd_host; 'ml2_vpp/etcd_port': value => $etcd_port; 'ml2_vpp/etcd_user': value => $etcd_user; 'ml2_vpp/etcd_pass': value => $etcd_pass, secret => true; 'ml2_vpp/l3_hosts': value => join(any2array($l3_hosts), ','); 'ml2_vpp/enable_l3_ha': value => $enable_l3_ha; } } ",4,460
openstack%2Fpuppet-neutron~864804,openstack/puppet-neutron,master,I95feecae2e3beaed00b4a8da4c2340a0006993c8,Remove support for NSX plugin,MERGED,2022-11-17 01:56:31.000000000,2022-11-23 21:43:57.000000000,2022-11-23 21:42:21.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 01:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/a89e3096e7565431f36b961b2382e750d99bec81', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}, {'number': 2, 'created': '2022-11-17 01:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f45351f47ecb122d285887e9475765d08f0c202b', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}, {'number': 3, 'created': '2022-11-17 02:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/87e5ee47e2c422a06f9475198fff09738682b897', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}, {'number': 4, 'created': '2022-11-17 02:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/4f7ed201cc430addbd4f7da7b437f1178944d5e8', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}, {'number': 5, 'created': '2022-11-18 01:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/f47b5fc3968267b58ad4834c786be0371b04abe3', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}, {'number': 6, 'created': '2022-11-18 05:38:23.000000000', 'files': ['spec/classes/neutron_plugins_nsx_spec.rb', 'spec/unit/provider/neutron_plugin_nsx/ini_setting_spec.rb', 'spec/acceptance/99_neutron_config_spec.rb', 'manifests/config.pp', 'spec/classes/neutron_config_spec.rb', 'manifests/plugins/nsx.pp', 'releasenotes/notes/remove-nsx-b6c2e9abcc6ccedd.yaml', 'lib/puppet/type/neutron_plugin_nsx.rb', 'spec/unit/type/neutron_plugin_nsx_spec.rb', 'manifests/params.pp', 'manifests/deps.pp', 'lib/puppet/provider/neutron_plugin_nsx/ini_setting.rb'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/ed0709cb48d60462e503f0c28415dfa3c96ac1b9', 'message': 'Remove support for NSX plugin\n\nIt was deprecated during Zed cycle by [1], because the plugin is no\nlonger maintained.\n\n[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1\n\nChange-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8\n'}]",2,864804,ed0709cb48d60462e503f0c28415dfa3c96ac1b9,22,3,6,9816,,,0,"Remove support for NSX plugin

It was deprecated during Zed cycle by [1], because the plugin is no
longer maintained.

[1] c148a64307582445f7b1b6b3ae2cee4c7c6c0ea1

Change-Id: I95feecae2e3beaed00b4a8da4c2340a0006993c8
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/04/864804/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/neutron_config_spec.rb', 'spec/classes/neutron_plugins_nsx_spec.rb', 'manifests/plugins/nsx.pp', 'spec/unit/provider/neutron_plugin_nsx/ini_setting_spec.rb', 'releasenotes/notes/remove-nsx-b6c2e9abcc6ccedd.yaml', 'lib/puppet/type/neutron_plugin_nsx.rb', 'spec/unit/type/neutron_plugin_nsx_spec.rb', 'manifests/deps.pp', 'spec/acceptance/99_neutron_config_spec.rb', 'manifests/config.pp', 'lib/puppet/provider/neutron_plugin_nsx/ini_setting.rb']",11,a89e3096e7565431f36b961b2382e750d99bec81,,,"Puppet::Type.type(:neutron_plugin_nsx).provide( :ini_setting, :parent => Puppet::Type.type(:openstack_config).provider(:ini_setting) ) do def self.file_path '/etc/neutron/plugins/vmware/nsx.ini' end # added for backwards compatibility with older versions of inifile def file_path self.class.file_path end end ",5,484
openstack%2Fpuppet-neutron~864805,openstack/puppet-neutron,master,Ie43d17c3e7d411c723986f52c4c2e1d49713711f,Remove support for linuxbridge plugin config,MERGED,2022-11-17 02:01:00.000000000,2022-11-23 21:43:14.000000000,2022-11-23 21:42:19.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 02:01:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/9a69a411a55dd0d9050bc8ad4590684aaa1aa0f5', 'message': 'Remove support for linuxbridge plugin config\n\n... because it has been unused actually and was formally deprecated\nduring Zed cycle[1].\n\n[1] 959c1cefeea69b65c67670b0ad44376843c9836f\n\nChange-Id: Ie43d17c3e7d411c723986f52c4c2e1d49713711f\n'}, {'number': 2, 'created': '2022-11-17 02:04:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/47bd51314cc78785e2b446ea639f84370e3a9565', 'message': 'Remove support for linuxbridge plugin config\n\n... because it has been unused actually and was formally deprecated\nduring Zed cycle[1].\n\n[1] 959c1cefeea69b65c67670b0ad44376843c9836f\n\nChange-Id: Ie43d17c3e7d411c723986f52c4c2e1d49713711f\n'}, {'number': 3, 'created': '2022-11-18 01:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/3c84a34834401c388751c3fe2c6d71537570e4d0', 'message': 'Remove support for linuxbridge plugin config\n\n... because it has been unused actually and was formally deprecated\nduring Zed cycle[1].\n\n[1] 959c1cefeea69b65c67670b0ad44376843c9836f\n\nChange-Id: Ie43d17c3e7d411c723986f52c4c2e1d49713711f\n'}, {'number': 4, 'created': '2022-11-18 05:38:18.000000000', 'files': ['lib/puppet/provider/neutron_plugin_linuxbridge/ini_setting.rb', 'releasenotes/notes/remove-neutron_plugin_linuxbridge-bb4695f5dfe47c74.yaml', 'lib/puppet/type/neutron_plugin_linuxbridge.rb', 'manifests/deps.pp', 'spec/acceptance/99_neutron_config_spec.rb', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/8e007943dcbc8c2d5ab90a846c0f7231c9a5738d', 'message': 'Remove support for linuxbridge plugin config\n\n... because it has been unused actually and was formally deprecated\nduring Zed cycle[1].\n\n[1] 959c1cefeea69b65c67670b0ad44376843c9836f\n\nChange-Id: Ie43d17c3e7d411c723986f52c4c2e1d49713711f\n'}]",3,864805,8e007943dcbc8c2d5ab90a846c0f7231c9a5738d,25,3,4,9816,,,0,"Remove support for linuxbridge plugin config

... because it has been unused actually and was formally deprecated
during Zed cycle[1].

[1] 959c1cefeea69b65c67670b0ad44376843c9836f

Change-Id: Ie43d17c3e7d411c723986f52c4c2e1d49713711f
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/05/864805/1 && git format-patch -1 --stdout FETCH_HEAD,"['lib/puppet/provider/neutron_plugin_linuxbridge/ini_setting.rb', 'releasenotes/notes/remove-neutron_plugin_linuxbridge-bb4695f5dfe47c74.yaml', 'lib/puppet/type/neutron_plugin_linuxbridge.rb', 'manifests/deps.pp', 'manifests/config.pp']",5,9a69a411a55dd0d9050bc8ad4590684aaa1aa0f5,,,"# [*plugin_linuxbridge_config*] # (optional) Manage configuration of linuxbridge_conf.ini # $plugin_linuxbridge_config = undef, if $plugin_linuxbridge_config != undef { warning('The plugin_linuxbridge_config parameter is deprecated and has no effect.') } ",8,48
openstack%2Fneutron~865344,openstack/neutron,stable/wallaby,I4bccb094ee7f690cbc352c38b5b39d505e6ea460,Avoid register config options on imports,MERGED,2022-11-22 22:27:20.000000000,2022-11-23 21:32:20.000000000,2022-11-23 21:31:12.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 22:27:20.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb279b3b0515d6c0ef9f4b243ec2cc0c9ac9fdc6', 'message': 'Avoid register config options on imports\n\nContinue similar approach following in [1], where some project imports\ncollide with config options.\n\nAs part of the change, a wrapped decorator has been implemented to cover\nthose functions that include any of the ovn config options as value to\nthe decorators arguments (e.g. tenacity retry). This way we avoid\nrequiring the options to be registered as soon as the module is imported,\nwhere they have not yet been registered by a main process.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837392\n\nCo-authored-by: Jakub Libosvar <libosvar@redhat.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nConflicts:\n\tneutron/agent/ovn/metadata_agent.py\n\tneutron/cmd/ovn/neutron_ovn_db_sync_util.py\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/tests/functional/base.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nChange-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460\n(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)\n(cherry picked from commit 44ec1f150338ec69a811e1b2cfa4214c07a9af83)\n(cherry picked from commit 510beec6291fa5d3ce5a6e8eaf85f9253c981f84)\n'}]",4,865344,bb279b3b0515d6c0ef9f4b243ec2cc0c9ac9fdc6,12,4,1,8655,,,0,"Avoid register config options on imports

Continue similar approach following in [1], where some project imports
collide with config options.

As part of the change, a wrapped decorator has been implemented to cover
those functions that include any of the ovn config options as value to
the decorators arguments (e.g. tenacity retry). This way we avoid
requiring the options to be registered as soon as the module is imported,
where they have not yet been registered by a main process.

[1] https://review.opendev.org/c/openstack/neutron/+/837392

Co-authored-by: Jakub Libosvar <libosvar@redhat.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

Conflicts:
	neutron/agent/ovn/metadata_agent.py
	neutron/cmd/ovn/neutron_ovn_db_sync_util.py
	neutron/common/ovn/utils.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/tests/functional/base.py
	neutron/tests/unit/common/ovn/test_utils.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Change-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460
(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)
(cherry picked from commit 44ec1f150338ec69a811e1b2cfa4214c07a9af83)
(cherry picked from commit 510beec6291fa5d3ce5a6e8eaf85f9253c981f84)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/44/865344/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py']",17,bb279b3b0515d6c0ef9f4b243ec2cc0c9ac9fdc6,bug/1991579-wallaby,from neutron.conf.plugins.ml2.drivers.ovn import ovn_conf ovn_conf.register_opts(),,93,15
openstack%2Fneutron-lib~864739,openstack/neutron-lib,stable/wallaby,I0531ea2c1bf29aecfab9b491eefef044a4ee49ad,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""",MERGED,2022-11-16 14:03:24.000000000,2022-11-23 20:53:00.000000000,2022-11-23 20:51:40.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 14:03:24.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/acfb2fdc29ab6b22003903b16688cde373f5082a', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nConflicts:\n       neutron_lib/services/constants.py\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n(cherry picked from commit 3f9cbe45252d93dac4c8dbd11c1629aec43137b0)\n'}]",1,864739,acfb2fdc29ab6b22003903b16688cde373f5082a,8,3,1,16688,,,0,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""

The plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.
The policy engine can now check the QoS rule ownership using the QoS
policy project ID. The QoS rules are resources that do not have an
assigned project ID, it is inherited from the QoS policy. This patch
allows to check a QoS rule ownership using the ""ext_parent_policy_id""
field, that stores the QoS policy project ID.

NOTE: once released, this bug fix must include Neutron unit tests
checking, using the rules:
  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""

Conflicts:
       neutron_lib/services/constants.py

Closes-Bug: #1996606
Change-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad
(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)
(cherry picked from commit 3f9cbe45252d93dac4c8dbd11c1629aec43137b0)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/39/864739/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml']",2,acfb2fdc29ab6b22003903b16688cde373f5082a,bug/1996606,--- other: - | Parent resource mapping was added to ``EXT_PARENT_RESOURCE_MAPPING`` in ``neutron_lib.services.constants`` for the ``qos`` plugin. ,,8,1
openstack%2Fhorizon~864062,openstack/horizon,master,I892465ca4688fce9f7123682d02f11c92c7d2c5c,Make readonly metadata properties unable to edit,MERGED,2022-11-08 20:49:40.000000000,2022-11-23 20:52:44.000000000,2022-11-23 20:51:30.000000000,"[{'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-08 20:49:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/6963b8dda1d69c9692f81280216af32a99a77109', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n'}, {'number': 2, 'created': '2022-11-09 19:40:13.000000000', 'files': ['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js'], 'web_link': 'https://opendev.org/openstack/horizon/commit/892080ec0ff6174d5fd5de221ec4802bd21371a6', 'message': 'Make readonly metadata properties unable to edit\n\nImage metadata properties os_hash_algo and os_hash_value are\nreadonly, and attempts to edit them fail with unclear message.\n\nThis patch makes these fields readonly in update metadata form.\n\nAlso, if the existing metadata property is null, Horizon should\nconsider it optional too, in addition to empty field fix:\nhttps://review.opendev.org/c/openstack/horizon/+/812009\n\nChange-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c\n'}]",6,864062,892080ec0ff6174d5fd5de221ec4802bd21371a6,20,3,2,6914,,,0,"Make readonly metadata properties unable to edit

Image metadata properties os_hash_algo and os_hash_value are
readonly, and attempts to edit them fail with unclear message.

This patch makes these fields readonly in update metadata form.

Also, if the existing metadata property is null, Horizon should
consider it optional too, in addition to empty field fix:
https://review.opendev.org/c/openstack/horizon/+/812009

Change-Id: I892465ca4688fce9f7123682d02f11c92c7d2c5c
",git fetch https://review.opendev.org/openstack/horizon refs/changes/62/864062/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/static/framework/widgets/metadata/tree/tree.service.js', 'horizon/static/framework/widgets/metadata/tree/metadata-tree-item.controller.js']",2,6963b8dda1d69c9692f81280216af32a99a77109,hide-readonly-metadata," if ('item' in ctrl && 'leaf' in ctrl.item) { if ((ctrl.item.leaf.name === ""os_hash_algo"") || (ctrl.item.leaf.name === ""os_hash_value"")) { ctrl.item.leaf.readonly = true; ctrl.item.leaf.required = false; } } ",,9,0
openstack%2Fopenstack-helm~865471,openstack/openstack-helm,master,Id6cde764bdb1ce6f8a86188dd02fd038d683934a,debug,ABANDONED,2022-11-23 20:42:20.000000000,2022-11-23 20:48:53.000000000,,[],"[{'number': 1, 'created': '2022-11-23 20:42:20.000000000', 'files': ['tools/gate/playbooks/vars.yaml', 'tools/deployment/common/wait-for-pods.sh', 'tools/gate/playbooks/multinode.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'openstack/Chart.yaml', 'tools/deployment/multinode/050-mariadb.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/da1055a834eab5117bd52f439b003990b37525a4', 'message': 'debug\n\nChange-Id: Id6cde764bdb1ce6f8a86188dd02fd038d683934a\n'}]",0,865471,da1055a834eab5117bd52f439b003990b37525a4,2,0,1,35266,,,0,"debug

Change-Id: Id6cde764bdb1ce6f8a86188dd02fd038d683934a
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/71/865471/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/gate/playbooks/vars.yaml', 'tools/deployment/common/wait-for-pods.sh', 'tools/gate/playbooks/multinode.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml', 'openstack/Chart.yaml', 'tools/deployment/multinode/050-mariadb.sh']",7,da1055a834eab5117bd52f439b003990b37525a4,Multinode-kubeadm,: ${REPLICA:=3} server: $REPLICA, server: 3,286,12
openstack%2Fneutron~865159,openstack/neutron,stable/yoga,I27af495f96a3ea88dd31345dbfb55f1be8faabd6,ovn: Use ovsdb-client to create neutron_pg_drop,MERGED,2022-11-22 15:31:29.000000000,2022-11-23 20:37:16.000000000,2022-11-23 20:33:37.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a376899ee88310ebb495d1439e57dd84d5fb8732', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n'}, {'number': 2, 'created': '2022-11-22 15:37:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/454355fd3cbbc91e10e75cb62e5b221f809367c8', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/common/ovn/test_utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n'}, {'number': 3, 'created': '2022-11-22 18:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/cec1f3a994c7511550924140536dc92c395764b9', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py\n\tneutron/tests/functional/common/ovn/test_utils.py\n\tneutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\tneutron/tests/unit/common/ovn/test_utils.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n'}, {'number': 4, 'created': '2022-11-22 20:47:59.000000000', 'files': ['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/0d0e6cd47b7a0f53d9eb1549eed4e540f76508c9', 'message': 'ovn: Use ovsdb-client to create neutron_pg_drop\n\nPreviously we used short living OVN database connection to create\nneutron_pg_drop Port Group before workers were spawned. The\npre_fork_initialize actually happens after the api workers are spawned\nanyways and it blocks spawning of other workers, such as maintenance,\nrpc or periodic. If the OVN database was large it may take several\nminutes to connect to the database at scale and this blocks spawning of\nother workers. That means connecting to OVN in pre_fork is not a good\nidea.\n\nThis patch replaces the mechanism by using ovsdb-client to send a\ntransaction without connecting to the database and downloading the whole\ncontent. The command does following, everything is on the server side:\n\n 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is\n    present, the transaction finishes and nothing happens.\n\n 2) If the PG is not present, it times out immediately and commits new\n    entries that effectivelly creates neutron_pg_drop Port Group with\n    implicit ACLs to block ingress and egress traffic.\n\nConflicts:\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\tneutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py\n\nCloses-Bug: #1991579\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nChange-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6\n(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)\n(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)\n'}]",10,865159,0d0e6cd47b7a0f53d9eb1549eed4e540f76508c9,17,3,4,8655,,,0,"ovn: Use ovsdb-client to create neutron_pg_drop

Previously we used short living OVN database connection to create
neutron_pg_drop Port Group before workers were spawned. The
pre_fork_initialize actually happens after the api workers are spawned
anyways and it blocks spawning of other workers, such as maintenance,
rpc or periodic. If the OVN database was large it may take several
minutes to connect to the database at scale and this blocks spawning of
other workers. That means connecting to OVN in pre_fork is not a good
idea.

This patch replaces the mechanism by using ovsdb-client to send a
transaction without connecting to the database and downloading the whole
content. The command does following, everything is on the server side:

 1) With timeout 0 it waits for neutron_pg_drop Port Group. If the PG is
    present, the transaction finishes and nothing happens.

 2) If the PG is not present, it times out immediately and commits new
    entries that effectivelly creates neutron_pg_drop Port Group with
    implicit ACLs to block ingress and egress traffic.

Conflicts:
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py
	neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py

Closes-Bug: #1991579
Co-Authored-By: Terry Wilson <twilson@redhat.com>

Change-Id: I27af495f96a3ea88dd31345dbfb55f1be8faabd6
(cherry picked from commit 50eee19723b2d762c2b5653e7a2c75e470f44cdf)
(cherry picked from commit 5deea002aa4da506dc7c931c97cfc2414e66868b)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/59/865159/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/common/ovn/utils.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovn_client.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/ovsdb_monitor.py', 'neutron/tests/functional/common/ovn/test_utils.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,a376899ee88310ebb495d1439e57dd84d5fb8732,bug/1991579," ovn_utils.create_neutron_pg_drop() cmd = [ ""OVN_Southbound"", { ""op"": ""delete"", ""table"": ""MAC_Binding"", ""where"": [ [""ip"", ""=="", external_ip] ] } ] return ovn_utils.OvsdbClientTransactCommand.run(cmd)","from oslo_concurrency import processutilsfrom neutron.plugins.ml2.drivers.ovn.mech_driver.ovsdb import ovsdb_monitor self._create_neutron_pg_drop() def _create_neutron_pg_drop(self): """"""Create neutron_pg_drop Port Group. The method creates a short living connection to the Northbound database. Because of multiple controllers can attempt to create the Port Group at the same time the transaction can fail and raise RuntimeError. In such case, we make sure the Port Group was created, otherwise the error is something else and it's raised to the caller. """""" idl = ovsdb_monitor.OvnInitPGNbIdl.from_server( ovn_conf.get_ovn_nb_connection(), self.nb_schema_helper, self) # Only one server should try to create the port group idl.set_lock('pg_drop_creation') with ovsdb_monitor.short_living_ovsdb_api( impl_idl_ovn.OvsdbNbOvnIdl, idl) as pre_ovn_nb_api: try: create_default_drop_port_group(pre_ovn_nb_api) except KeyError: # Due to a bug in python-ovs, we can send transactions before # the initial OVSDB is populated in memory. This can break # the AddCommand post_commit method which tries to return a # row looked up by the newly commited row's uuid. Since we # don't care about the return value from the PgAddCommand, we # can just catch the KeyError and continue. This can be # removed when the python-ovs bug is resolved. pass except RuntimeError as re: # If we don't get the lock, and the port group didn't exist # when we tried to create it, it might still have been # created by another server and we just haven't gotten the # update yet. LOG.info(""Waiting for Port Group %(pg)s to be created"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) if not idl.neutron_pg_drop_event.wait(): LOG.error(""Port Group %(pg)s was not created in time"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) raise re LOG.info(""Porg Group %(pg)s was created by another server"", {'pg': ovn_const.OVN_DROP_PORT_GROUP_NAME}) cmd = ['ovsdb-client', 'transact', ovn_conf.get_ovn_sb_connection(), '--timeout', str(ovn_conf.get_ovn_ovsdb_timeout())] if ovn_conf.get_ovn_sb_private_key(): cmd += ['-p', ovn_conf.get_ovn_sb_private_key(), '-c', ovn_conf.get_ovn_sb_certificate(), '-C', ovn_conf.get_ovn_sb_ca_cert()] cmd += ['[""OVN_Southbound"", {""op"": ""delete"", ""table"": ""MAC_Binding"", ' '""where"": [[""ip"", ""=="", ""%s""]]}]' % external_ip] return processutils.execute(*cmd, log_errors=processutils.LOG_FINAL_ERROR)def create_default_drop_port_group(nb_idl): pg_name = ovn_const.OVN_DROP_PORT_GROUP_NAME if nb_idl.get_port_group(pg_name): LOG.debug(""Port Group %s already exists"", pg_name) return with nb_idl.transaction(check_error=True) as txn: # If drop Port Group doesn't exist yet, create it. txn.add(nb_idl.pg_add(pg_name, acls=[], may_exist=True)) # Add ACLs to this Port Group so that all traffic is dropped. acls = ovn_acl.add_acls_for_drop_port_group(pg_name) for acl in acls: txn.add(nb_idl.pg_acl_add(may_exist=True, **acl)) ports_with_pg = set() for pg in nb_idl.get_sg_port_groups().values(): ports_with_pg.update(pg['ports']) if ports_with_pg: # Add the ports to the default Port Group txn.add(nb_idl.pg_add_ports(pg_name, list(ports_with_pg))) ",387,155
openstack%2Fneutron~864648,openstack/neutron,master,I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4,Code move for metadata haproxy,MERGED,2022-11-16 03:35:22.000000000,2022-11-23 20:37:15.000000000,2022-11-23 20:33:23.000000000,"[{'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 03:35:22.000000000', 'files': ['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/common/metadata.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/25d4e3862b2d753919c4d662ca6c17132bd2c4e3', 'message': 'Code move for metadata haproxy\n\nMove common Exception class to one place. Move haproxy same\nconfiguration to one place.\n\nPartially-Implements: blueprint distributed-metadata-datapath\nChange-Id: I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4\n'}]",1,864648,25d4e3862b2d753919c4d662ca6c17132bd2c4e3,11,4,1,9531,,,0,"Code move for metadata haproxy

Move common Exception class to one place. Move haproxy same
configuration to one place.

Partially-Implements: blueprint distributed-metadata-datapath
Change-Id: I3a0fc72da4520d6bc7193fb32a1bcf9a5585fbf4
",git fetch https://review.opendev.org/openstack/neutron refs/changes/48/864648/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/agent/metadata/test_driver.py', 'neutron/agent/metadata/driver.py', 'neutron/agent/ovn/metadata/driver.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/common/metadata.py']",5,25d4e3862b2d753919c4d662ca6c17132bd2c4e3,distributed_metadata_data_path,"# # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. PROXY_SERVICE_NAME = 'haproxy' PROXY_SERVICE_CMD = 'haproxy' class InvalidUserOrGroupException(Exception): pass METADATA_HAPROXY_GLOBAL = """""" global log /dev/log local0 %(log_level)s log-tag %(log_tag)s user %(user)s group %(group)s maxconn 1024 pidfile %(pidfile)s daemon defaults log global mode http option httplog option dontlognull option http-server-close option forwardfor retries 3 timeout http-request 30s timeout connect 30s timeout client 32s timeout server 32s timeout http-keep-alive 30s """""" ",,60,62
openstack%2Fneutron~865333,openstack/neutron,stable/yoga,I4bccb094ee7f690cbc352c38b5b39d505e6ea460,Avoid register config options on imports,MERGED,2022-11-22 20:47:59.000000000,2022-11-23 20:36:03.000000000,2022-11-23 20:33:32.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 20:47:59.000000000', 'files': ['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/44ec1f150338ec69a811e1b2cfa4214c07a9af83', 'message': 'Avoid register config options on imports\n\nContinue similar approach following in [1], where some project imports\ncollide with config options.\n\nAs part of the change, a wrapped decorator has been implemented to cover\nthose functions that include any of the ovn config options as value to\nthe decorators arguments (e.g. tenacity retry). This way we avoid\nrequiring the options to be registered as soon as the module is imported,\nwhere they have not yet been registered by a main process.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/837392\n\nCo-authored-by: Jakub Libosvar <libosvar@redhat.com>\nCo-authored-by: Fernando Royo <froyo@redhat.com>\n\nConflicts:\n\tneutron/agent/ovn/metadata_agent.py\n\tneutron/cmd/ovn/neutron_ovn_db_sync_util.py\n\tneutron/common/ovn/utils.py\n\tneutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py\n\nChange-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460\n(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)\n'}]",2,865333,44ec1f150338ec69a811e1b2cfa4214c07a9af83,12,3,1,8655,,,0,"Avoid register config options on imports

Continue similar approach following in [1], where some project imports
collide with config options.

As part of the change, a wrapped decorator has been implemented to cover
those functions that include any of the ovn config options as value to
the decorators arguments (e.g. tenacity retry). This way we avoid
requiring the options to be registered as soon as the module is imported,
where they have not yet been registered by a main process.

[1] https://review.opendev.org/c/openstack/neutron/+/837392

Co-authored-by: Jakub Libosvar <libosvar@redhat.com>
Co-authored-by: Fernando Royo <froyo@redhat.com>

Conflicts:
	neutron/agent/ovn/metadata_agent.py
	neutron/cmd/ovn/neutron_ovn_db_sync_util.py
	neutron/common/ovn/utils.py
	neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py

Change-Id: I4bccb094ee7f690cbc352c38b5b39d505e6ea460
(cherry picked from commit 227c5f8568d0b2499db0d20c36eb65a07e56a893)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/33/865333/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/extensions/test_qos.py', 'neutron/tests/unit/agent/ovn/metadata/test_driver.py', 'neutron/tests/functional/base.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovsdb_monitor.py', 'neutron/common/ovn/utils.py', 'neutron/agent/ovn/metadata_agent.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_maintenance.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/agent/ovn/metadata/ovsdb.py', 'neutron/agent/ovn/metadata/agent.py', 'neutron/conf/plugins/ml2/drivers/ovn/ovn_conf.py', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py', 'neutron/tests/functional/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_impl_idl.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/ovsdb/test_ovn_client.py']",18,44ec1f150338ec69a811e1b2cfa4214c07a9af83,bug/1991579,from neutron.conf.plugins.ml2.drivers.ovn import ovn_conf ovn_conf.register_opts(),,95,15
openstack%2Fneutron~864855,openstack/neutron,master,If9b05655286f42081cf26c90c563429ca2e63244,Make MechanismDriverContext plugin_context public,MERGED,2022-11-17 10:05:01.000000000,2022-11-23 20:35:58.000000000,2022-11-23 20:33:10.000000000,"[{'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:05:01.000000000', 'files': ['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9a483f02bebfd0f1241e40fc98eb740496f78990', 'message': 'Make MechanismDriverContext plugin_context public\n\nMechanismDriverContext has an attribute _plugin_context, which carries\nthe current context with it. This is used by many ml2 drivers, as it is\nthe only way for them to get the current context. We now make this a\npublic API by adding a property to MechanismDriverContext that returns\n_plugin_context as a read-only attribute.\n\nChange-Id: If9b05655286f42081cf26c90c563429ca2e63244\n'}]",10,864855,9a483f02bebfd0f1241e40fc98eb740496f78990,28,4,1,30314,,,0,"Make MechanismDriverContext plugin_context public

MechanismDriverContext has an attribute _plugin_context, which carries
the current context with it. This is used by many ml2 drivers, as it is
the only way for them to get the current context. We now make this a
public API by adding a property to MechanismDriverContext that returns
_plugin_context as a read-only attribute.

Change-Id: If9b05655286f42081cf26c90c563429ca2e63244
",git fetch https://review.opendev.org/openstack/neutron refs/changes/55/864855/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/tests/unit/fake_resources.py', 'neutron/tests/unit/plugins/ml2/drivers/ovn/mech_driver/test_mech_driver.py', 'neutron/plugins/ml2/managers.py', 'neutron/plugins/ml2/drivers/l2pop/mech_driver.py', 'neutron/plugins/ml2/driver_context.py', 'neutron/plugins/ml2/drivers/mech_agent.py', 'neutron/cmd/ovn/neutron_ovn_db_sync_util.py', 'neutron/plugins/ml2/plugin.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py']",9,9a483f02bebfd0f1241e40fc98eb740496f78990,make-mechanismdrivercontext-plugin-context-a-public-api," context.plugin_context, context.current['id'], self._ovn_client.create_network(context.plugin_context, network) context.plugin_context, context.current, context.plugin_context, context.plugin_context, context.current['id'], self._ovn_client.create_subnet(context.plugin_context, context.plugin_context, context.current, context.network.current) self._ovn_client.delete_subnet(context.plugin_context, self._insert_port_provisioning_block(context.plugin_context, context.plugin_context, port['id'], ovn_const.TYPE_PORTS, context.plugin_context, port['id'], self._ovn_client.create_port(context.plugin_context, port) self._insert_port_provisioning_block(context.plugin_context, context.plugin_context, port['id'], self._plugin.update_port_status(context.plugin_context, self._ovn_update_port(context.plugin_context, port, original_port, self._ovn_client.delete_port(context.plugin_context, port['id'],"," context._plugin_context, context.current['id'], self._ovn_client.create_network(context._plugin_context, network) context._plugin_context, context.current, context._plugin_context, context._plugin_context, context.current['id'], self._ovn_client.create_subnet(context._plugin_context, context._plugin_context, context.current, context.network.current) self._ovn_client.delete_subnet(context._plugin_context, self._insert_port_provisioning_block(context._plugin_context, context._plugin_context, port['id'], ovn_const.TYPE_PORTS, context._plugin_context, port['id'], self._ovn_client.create_port(context._plugin_context, port) self._insert_port_provisioning_block(context._plugin_context, context._plugin_context, port['id'], self._plugin.update_port_status(context._plugin_context, self._ovn_update_port(context._plugin_context, port, original_port, # FIXME(lucasagomes): PortContext does not have a session, therefore # we need to use the _plugin_context attribute. self._ovn_client.delete_port(context._plugin_context, port['id'],",63,55
openstack%2Ftempest~861110,openstack/tempest,master,I2e37603b098880b778100613800496b01167b22f,Migrate tempest jobs to Ubuntu Jammy (22.04),MERGED,2022-10-12 21:02:58.000000000,2022-11-23 20:34:14.000000000,2022-11-21 18:58:21.000000000,"[{'_account_id': 8367}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-10-12 21:02:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/3346cc3042718496006e113f77016faa4bd010d4', 'message': 'Migrate tempest jobs to focal\n\nAs per 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Jammy(Depends-On).\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards.\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}, {'number': 2, 'created': '2022-10-12 21:12:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/0772bf18bd56d84ba89ef5afd01849bbd62bcda5', 'message': 'Migrate tempest jobs to Ubuntu Jammy (22.04)\n\nAs per 2023.1 cycle testing runtime and community goal[1]\nwe need to migrate upstream CI/CD to Ubuntu Jammy(22.04).\n\nMost of the Tempest jobs will be migrate automatically once devstack\nbase job start running on Jammy(Depends-On).\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards.\n\nstable jobs testing stable branch needs to keep running on their supported\ndistro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}, {'number': 3, 'created': '2022-10-12 23:00:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7715bb691628fea6dc8dbed3402c1eebad0c9e50', 'message': 'Migrate tempest jobs to Ubuntu Jammy (22.04)\n\nAs per 2023.1 cycle testing runtime and community goal[1] we need to migrate\nupstream CI/CD to Ubuntu Jammy(22.04).Most of the Tempest jobs will be migrate\nautomatically once devstack base job start running on Jammy(Depends-On).\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards. Stable branch jobs testing stable branch needs to\nkeep running on their supported distro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}, {'number': 4, 'created': '2022-10-14 20:29:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/04c8a685b711f0b7f102b195428c3a54f564a770', 'message': 'Migrate tempest jobs to Ubuntu Jammy (22.04)\n\nAs per 2023.1 cycle testing runtime and community goal[1] we need to migrate\nupstream CI/CD to Ubuntu Jammy(22.04).Most of the Tempest jobs will be migrate\nautomatically once devstack base job start running on Jammy(Depends-On).\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards. Stable branch jobs testing stable branch needs to\nkeep running on their supported distro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}, {'number': 5, 'created': '2022-11-17 19:52:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/fc87042e1b3eb128033e38afe80609faef0f7e42', 'message': 'Migrate tempest jobs to Ubuntu Jammy (22.04)\n\nAs per 2023.1 cycle testing runtime and community goal[1] we need to migrate\nupstream CI/CD to Ubuntu Jammy(22.04). Most of the Tempest jobs will be migrate\nautomatically once devstack base job start running on Jammy(Depends-On).\nAs we need to run at least one job on Ubuntu Focal(20.04), I am running\ntempest-full-py3-ipv6 job on focal.\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards. Stable branch jobs testing stable branch needs to\nkeep running on their supported distro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}, {'number': 6, 'created': '2022-11-18 03:48:26.000000000', 'files': ['zuul.d/stable-jobs.yaml', 'zuul.d/project.yaml', 'zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/tempest/commit/24a3a3667a4929059c8366691a6386296bb43083', 'message': 'Migrate tempest jobs to Ubuntu Jammy (22.04)\n\nAs per 2023.1 cycle testing runtime and community goal[1] we need to migrate\nupstream CI/CD to Ubuntu Jammy(22.04). Most of the Tempest jobs will be migrate\nautomatically once devstack base job start running on Jammy(Depends-On).\nAs we need to run at least one job on Ubuntu Focal(20.04), I am adding\na new job tempest-full-ubuntu-focal.\n\nFew job like tempest-full-multinode-py3 and plugin sanity job needs to override\nthe nodeset. multinode job needs to run on Focal till stable/zed and on Jammy\nfrom master(2023.1) onwards. Stable branch jobs testing stable branch needs to\nkeep running on their supported distro version which is Focal.\n\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/860795\nDepends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\n[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html\n\nChange-Id: I2e37603b098880b778100613800496b01167b22f\n'}]",11,861110,24a3a3667a4929059c8366691a6386296bb43083,36,6,6,8556,,,0,"Migrate tempest jobs to Ubuntu Jammy (22.04)

As per 2023.1 cycle testing runtime and community goal[1] we need to migrate
upstream CI/CD to Ubuntu Jammy(22.04). Most of the Tempest jobs will be migrate
automatically once devstack base job start running on Jammy(Depends-On).
As we need to run at least one job on Ubuntu Focal(20.04), I am adding
a new job tempest-full-ubuntu-focal.

Few job like tempest-full-multinode-py3 and plugin sanity job needs to override
the nodeset. multinode job needs to run on Focal till stable/zed and on Jammy
from master(2023.1) onwards. Stable branch jobs testing stable branch needs to
keep running on their supported distro version which is Focal.

Depends-On: https://review.opendev.org/c/openstack/devstack/+/860795
Depends-On: https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116

[1] https://governance.openstack.org/tc/goals/selected/migrate-ci-jobs-to-ubuntu-jammy.html

Change-Id: I2e37603b098880b778100613800496b01167b22f
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/861110/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/stable-jobs.yaml', 'zuul.d/tempest-specific.yaml', 'zuul.d/integrated-gate.yaml']",3,3346cc3042718496006e113f77016faa4bd010d4,migrate-to-jammy, nodeset: openstack-two-node-jammy # This job runs on ubuntu Jammy and after stable/zed. branches: ^(?!stable/(pike|queens|rocky|stein|train|ussuri|victoria|wallaby|xena|yoga|zed)).*$, name: tempest-multinode-full parent: tempest-multinode-full-base nodeset: openstack-two-node-focal # This job runs on Focal from stable/victoria on. branches: ^(?!stable/(ocata|pike|queens|rocky|stein|train|ussuri)).*$ vars: devstack_localrc: USE_PYTHON3: False group-vars: subnode: devstack_localrc: USE_PYTHON3: False - job:,57,15
openstack%2Fneutron-tempest-plugin~864995,openstack/neutron-tempest-plugin,master,I46b84d172f12739d775544abc0903016d7c278c9,Drop unused branch_override,MERGED,2022-11-18 07:45:17.000000000,2022-11-23 20:33:16.000000000,2022-11-23 20:33:16.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 07:45:17.000000000', 'files': ['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/victoria_jobs.yaml', 'zuul.d/zed_jobs.yaml', 'zuul.d/rocky_jobs.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/ff70d53e36da761721ececace637ca7b57c2251a', 'message': 'Drop unused branch_override\n\nbranch_override is not used by jobs, only we require\noverride-checkout for branched jobs.\n\nChange-Id: I46b84d172f12739d775544abc0903016d7c278c9\n'}]",3,864995,ff70d53e36da761721ececace637ca7b57c2251a,9,5,1,13861,,,0,"Drop unused branch_override

branch_override is not used by jobs, only we require
override-checkout for branched jobs.

Change-Id: I46b84d172f12739d775544abc0903016d7c278c9
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/95/864995/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/queens_jobs.yaml', 'zuul.d/stein_jobs.yaml', 'zuul.d/train_jobs.yaml', 'zuul.d/ussuri_jobs.yaml', 'zuul.d/wallaby_jobs.yaml', 'zuul.d/xena_jobs.yaml', 'zuul.d/yoga_jobs.yaml', 'zuul.d/victoria_jobs.yaml', 'zuul.d/zed_jobs.yaml', 'zuul.d/rocky_jobs.yaml']",10,ff70d53e36da761721ececace637ca7b57c2251a,drop-branch_override,, branch_override: stable/rocky branch_override: stable/rocky branch_override: stable/rocky branch_override: stable/rocky branch_override: stable/rocky,0,92
openstack%2Fopenstack-virtual-baremetal~865374,openstack/openstack-virtual-baremetal,master,I178bd5c642ac8c54c94cd854452f9bcebf697fba,Set bmc_other_ports port_security_enabled: false,MERGED,2022-11-23 07:49:52.000000000,2022-11-23 20:30:01.000000000,2022-11-23 20:30:01.000000000,"[{'_account_id': 4571}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-11-23 07:49:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/ad73203618cb0928addea2db94f3b5a717979f04', 'message': 'Set bmc_other_ports admin_state_up = False\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n'}, {'number': 2, 'created': '2022-11-23 08:54:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/7ddf8d98c13bcaf1cb9af5fbecaa67b141255659', 'message': 'Set bmc_other_ports admin_state_up = False\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nSet:\n admin_state_up: false\n port_security_enabled: false\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n'}, {'number': 3, 'created': '2022-11-23 10:06:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/ead5b62a79d9472487934e6913ad527628fe909f', 'message': 'Set bmc_other_ports port_security_enabled: false\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nSet port_security_enabled: false on BMC other ports.\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n'}, {'number': 4, 'created': '2022-11-23 19:40:38.000000000', 'files': ['templates/bmc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/31896d86b8db2be180b1fb22fab12a521a34f0f8', 'message': 'Set bmc_other_ports port_security_enabled: false\n\nWe are seeing error in BMC console on some clouds:\n  Error, some other host (<% MAC_ADDR %>) already uses\n  address <% IP ADDR %>.\n\nSet port_security_enabled: false on BMC other ports.\n\nCloses-Bug: #1997561\n\nChange-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba\n'}]",1,865374,31896d86b8db2be180b1fb22fab12a521a34f0f8,16,4,4,24245,,,0,"Set bmc_other_ports port_security_enabled: false

We are seeing error in BMC console on some clouds:
  Error, some other host (<% MAC_ADDR %>) already uses
  address <% IP ADDR %>.

Set port_security_enabled: false on BMC other ports.

Closes-Bug: #1997561

Change-Id: I178bd5c642ac8c54c94cd854452f9bcebf697fba
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/74/865374/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/bmc.yaml'],1,ad73203618cb0928addea2db94f3b5a717979f04,bmc-other-no-port-security, admin_state_up: false,,1,0
openstack%2Fneutron~864980,openstack/neutron,stable/wallaby,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:09:27.000000000,2022-11-23 20:02:04.000000000,2022-11-23 19:59:15.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e9ceb9d977fb23a2e119e18f4bb4b7fe24110d34', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n""}, {'number': 2, 'created': '2022-11-21 13:06:39.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/37ced67abafa150aa446fa06583983d81e499b31', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",2,864980,37ced67abafa150aa446fa06583983d81e499b31,26,6,2,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/80/864980/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,e9ceb9d977fb23a2e119e18f4bb4b7fe24110d34,ovn-meta-first-cleanup-stable/wallaby," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,64
openstack%2Fneutron~865424,openstack/neutron,master,I3cb1e709bb6b4f6acea37fce8bec8bb35b3e84aa,"Disable ""test_live_migration_with_trunk"" execution from dvr job",MERGED,2022-11-23 12:17:16.000000000,2022-11-23 20:01:59.000000000,2022-11-23 19:59:40.000000000,"[{'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-23 12:17:16.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e1d70f9cb0fb7c291672f08151ee03f18da49d74', 'message': 'Disable ""test_live_migration_with_trunk"" execution from dvr job\n\nIt\'s follow up for [1] which temporary disabled this test\non other multinode jobs.\n\n[1] https://review.opendev.org/c/openstack/neutron/+/865295\n\nRelated-bug: #1997025\nChange-Id: I3cb1e709bb6b4f6acea37fce8bec8bb35b3e84aa\n'}]",2,865424,e1d70f9cb0fb7c291672f08151ee03f18da49d74,10,4,1,11975,,,0,"Disable ""test_live_migration_with_trunk"" execution from dvr job

It's follow up for [1] which temporary disabled this test
on other multinode jobs.

[1] https://review.opendev.org/c/openstack/neutron/+/865295

Related-bug: #1997025
Change-Id: I3cb1e709bb6b4f6acea37fce8bec8bb35b3e84aa
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/865424/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,e1d70f9cb0fb7c291672f08151ee03f18da49d74,bug/1997025," # NOTE(ralonsoh): to be removed once LP#1997025 is fixed. tempest_exclude_regex: ""\ (^tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk)|\ (^tempest.api.compute.admin.test_live_migration.LiveMigrationTest.test_live_migration_with_trunk)""",,4,0
openstack%2Fnova~850673,openstack/nova,master,I0f785178b132dfef668829558dea9f7e674abadb,Reproducer for bug 1951656,MERGED,2022-07-21 16:23:00.000000000,2022-11-23 20:01:36.000000000,2022-11-23 19:59:33.000000000,"[{'_account_id': 8864}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-07-21 16:23:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7343aeaea7caa78cde823478d8113b30b9786493', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 2, 'created': '2022-07-26 18:55:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5406081a204e03cddd38fa295e31ab4052ccce3a', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 3, 'created': '2022-11-14 15:19:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d725a1112d7535210b88912b0fab2651be556da2', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 4, 'created': '2022-11-16 17:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/db8760c4440d23430ccab05a836348bf6f790f7b', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 5, 'created': '2022-11-18 10:13:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/7a5e548f11feec3dabd4dd3cd975f701dcd300ba', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 6, 'created': '2022-11-18 15:08:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08cf3a1f28f88e414d955991a3f0dabe8d2ee619', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}, {'number': 7, 'created': '2022-11-18 15:16:51.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1951656.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/185201974775bab966f4e5ca3bbdc31b8269fa4c', 'message': ""Reproducer for bug 1951656\n\nDue to a new mdev naming, we can't parse it.\n\nChange-Id: I0f785178b132dfef668829558dea9f7e674abadb\nRelated-Bug: #1951656\n""}]",9,850673,185201974775bab966f4e5ca3bbdc31b8269fa4c,37,4,7,7166,,,0,"Reproducer for bug 1951656

Due to a new mdev naming, we can't parse it.

Change-Id: I0f785178b132dfef668829558dea9f7e674abadb
Related-Bug: #1951656
",git fetch https://review.opendev.org/openstack/nova refs/changes/73/850673/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1951656.py'],1,7343aeaea7caa78cde823478d8113b30b9786493,bug/1951656-2,"# Copyright 2021, Canonical, Inc. All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import os_resource_classes as orc from oslo_utils import uuidutils from nova import test from nova.tests.fixtures import libvirt as fakelibvirt from nova.tests.functional.libvirt import test_vgpu from nova.virt.libvirt import utils as libvirt_utils class VGPUTestsLibvirt7_7(test_vgpu.VGPUTestBase): def _create_mdev(self, physical_device, mdev_type, uuid=None): # We need to fake the newly created sysfs object by adding a new # FakeMdevDevice in the existing persisted Connection object so # when asking to get the existing mdevs, we would see it. if not uuid: uuid = uuidutils.generate_uuid() mdev_name = libvirt_utils.mdev_uuid2name(uuid) libvirt_parent = self.pci2libvirt_address(physical_device) # Libvirt 7.7 now creates mdevs with a parent_addr suffix. mdev_name = '_'.join([mdev_name, libvirt_parent]) # Here, we get the right compute thanks by the self.current_host that # was modified just before connection = self.computes[ self._current_host].driver._host.get_connection() connection.mdev_info.devices.update( {mdev_name: fakelibvirt.FakeMdevDevice(dev_name=mdev_name, type_id=mdev_type, parent=libvirt_parent)}) return uuid def setUp(self): super(VGPUTestsLibvirt7_7, self).setUp() extra_spec = {""resources:VGPU"": ""1""} self.flavor = self._create_flavor(extra_spec=extra_spec) # Start compute1 supporting only nvidia-11 self.flags( enabled_mdev_types=fakelibvirt.NVIDIA_11_VGPU_TYPE, group='devices') self.compute1 = self.start_compute('host1') def test_create_servers_with_vgpu(self): # Create a single instance against a specific compute node. server = self._create_server( image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', flavor_id=self.flavor, host=self.compute1.host, networks='auto', expected_state='ACTIVE') # Verify the inventories and the usage allocations = self._get_allocations_by_server_uuid(server['id']) allocated_rp = None # We should have one single allocation against a GPU RP as we created # only one instance with 1 VGPU for rp, alloc in allocations.items(): for rc, value in alloc['resources'].items(): if rc == orc.VGPU: # We found the right allocation, we should only ask for 1 self.assertEqual(1, value) # Let's remember which RP is used for this allocation allocated_rp = rp break if not allocated_rp: raise test.TestingException(""Can't find the resource provider"") inventory = self._get_provider_inventory(allocated_rp) if orc.VGPU in inventory: usage = self._get_provider_usages(rp) self.assertEqual(16, inventory[orc.VGPU]['total']) self.assertEqual(1, usage[orc.VGPU]) # TODO(sbauza): Modify this once bug #1851656 is fixed. # Now, the problem is that we can't create new instances with VGPUs # from this host. server = self._create_server( image_uuid='155d900f-4e14-4e4c-a73d-069cbf4541e6', flavor_id=self.flavor, host=self.compute1.host, networks='auto', expected_state='ERROR') # The error is due to a bad mdev name parsing self.assertIn('fault', server) # since we forced the host, we have a RescheduledException self.assertIn('Exceeded maximum number of retries', server['fault']['message']) inventory = self._get_provider_inventory(allocated_rp) self.assertEqual(16, inventory[orc.VGPU]['total']) ",,104,0
openstack%2Fneutron~865414,openstack/neutron,master,If0631bf0cdfd5f0989c60d40e31f89cee317e497,"Execute functional test ""test_get_all_devices"" alone",MERGED,2022-11-23 11:31:59.000000000,2022-11-23 20:00:55.000000000,2022-11-23 19:59:20.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-11-23 11:31:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8837db1a2b4256382ea069814e6b89251d33627f', 'message': 'DNM test ""test_get_all_devices"" concurrency 1\n\nLP#1997341\n\nChange-Id: If0631bf0cdfd5f0989c60d40e31f89cee317e497\n'}, {'number': 2, 'created': '2022-11-23 12:53:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ff66ca92755970c88fbb0f347400786089c11c4b', 'message': 'Execute functional test ""test_get_all_devices"" alone\n\nSince [1], the functional tests are being executed in Ubuntu 22.04.\nThe test ""test_get_all_devices"" is failing frequently, maybe because\nother tests are interfering and modifying the root namespace\ninterface list.\n\nBecause this test cannot be executed inside a temporary namespace,\nthis patch moves the execution of this test to the section of\n""concurrency=1"". That will ensure no other test interferes the\nresult.\n\nCloses-Bug: #1997341\n\nChange-Id: If0631bf0cdfd5f0989c60d40e31f89cee317e497\n'}]",1,865414,ff66ca92755970c88fbb0f347400786089c11c4b,11,4,2,16688,,,0,"Execute functional test ""test_get_all_devices"" alone

Since [1], the functional tests are being executed in Ubuntu 22.04.
The test ""test_get_all_devices"" is failing frequently, maybe because
other tests are interfering and modifying the root namespace
interface list.

Because this test cannot be executed inside a temporary namespace,
this patch moves the execution of this test to the section of
""concurrency=1"". That will ensure no other test interferes the
result.

Closes-Bug: #1997341

Change-Id: If0631bf0cdfd5f0989c60d40e31f89cee317e497
",git fetch https://review.opendev.org/openstack/neutron refs/changes/14/865414/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/project.yaml', 'tox.ini']",3,8837db1a2b4256382ea069814e6b89251d33627f,bug/1997341, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.|.*test_get_all_devices) {posargs}, stestr run --exclude-regex (.*MySQL\.|.*PostgreSQL\.) {posargs} stestr run --combine --concurrency 1 (.*MySQL\.|.*PostgreSQL\.) {posargs},53,76
openstack%2Fneutron~863852,openstack/neutron,stable/wallaby,I7cec8b53e72e7abf34012906e6adfecf079525af,Check subnet overlapping after add router interface,MERGED,2022-11-07 10:08:37.000000000,2022-11-23 20:00:54.000000000,2022-11-23 19:59:11.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-07 10:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7d2b85245f7fb242fc73f1cff069a6b36fb0ac2', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nConflicts:\n       neutron/db/l3_db.py\n       neutron/tests/unit/db/test_l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 2, 'created': '2022-11-07 12:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/30e3472c22b1ac3e6ed3c78191aeb50cc128b90e', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nNote: Added clean of l3_obj.RouterPort to avoid errors on\nsetUp of test class L3TestCase, pick from [1]\n\nConflicts:\n       neutron/db/l3_db.py\n       neutron/tests/unit/db/test_l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\n[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 3, 'created': '2022-11-07 16:39:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/71a834c62ea516f0a460e92ab2fe022d46a271a4', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nNote: Added clean of l3_obj.RouterPort to avoid errors on\nsetUp of test class L3TestCase, pick from [1]. Also added\ncfg allow_overlapping_ips to True for fullstack job, this one\nhad been deprecated in newer releases but added in order to\nrun the tests over this stable branch.\n\nConflicts:\n       neutron/db/l3_db.py\n       neutron/tests/unit/db/test_l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\n[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 4, 'created': '2022-11-07 18:30:07.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/98abcb6eac1c705c9cf328ef323dc0307adef61c', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nNote: Added clean of l3_obj.RouterPort to avoid errors on\nsetUp of test class L3TestCase, pick from [1]. Also added\ncfg allow_overlapping_ips to True for fullstack job, this one\nhad been deprecated and enabled by default in newer releases\nbut added in order to run the backported tests over this\nstable branch.\n\nConflicts:\n       neutron/db/l3_db.py\n       neutron/tests/unit/db/test_l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\n[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}]",6,863852,98abcb6eac1c705c9cf328ef323dc0307adef61c,30,3,4,34451,,,0,"Check subnet overlapping after add router interface

When simultaneous attempts are made to add an interface
to the same router including overlapping networks in cidrs,
both attempts are successful. There is a check to avoid this
overlap but is performed when creating the network interface
and it is done over the ports already attached to the router,
so at this moment the check is not able to detect the
overlapping. Furthermore, the create_port operation over the
ML2 plugin  must be executed in isolated transactions, so
trying to control the execution context or adding additional
steps to the transaction is not feasible.

This patch checks once the RouterPort is created on the
neutron database if there is more than one overlapping port,
triggering in that case the exception that will remove the
the culprit of overlapping.

Note: Added clean of l3_obj.RouterPort to avoid errors on
setUp of test class L3TestCase, pick from [1]. Also added
cfg allow_overlapping_ips to True for fullstack job, this one
had been deprecated and enabled by default in newer releases
but added in order to run the backported tests over this
stable branch.

Conflicts:
       neutron/db/l3_db.py
       neutron/tests/unit/db/test_l3_db.py
(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)

[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612

Closes-Bug: #1987666
Change-Id: I7cec8b53e72e7abf34012906e6adfecf079525af
(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/52/863852/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py']",3,d7d2b85245f7fb242fc73f1cff069a6b36fb0ac2,,"from neutron.db import models_v2 def test__raise_on_subnets_overlap_does_not_raise(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/24'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.2.0.0/24'}] self.db._raise_on_subnets_overlap(subnets[0], subnets[1]) def test__raise_on_subnets_overlap_raises(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/20'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.1.10.0/24'}] self.assertRaises( n_exc.BadRequest, self.db._raise_on_subnets_overlap, subnets[0], subnets[1]) def test__validate_one_router_ipv6_port_per_network(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network2', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_mix_ipv4_ipv6(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '10.1.10.0/24').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_failed(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.assertRaises( n_exc.BadRequest, self.db._validate_one_router_ipv6_port_per_network, router, new_port) @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_port_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') ipa = str(netaddr.IPNetwork(subnet['subnet']['cidr']).ip + 10) fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': ipa}] port = self.create_port( network2['network']['id'], {'fixed_ips': fixed_ips}) self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': port['port']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': self.ports[0]['port']['id']}) mock_raise_on_subnets_overlap.assert_called_once() @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_subnet_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': subnet['subnet']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': self.subnets[0]['subnet']['id']}) mock_raise_on_subnets_overlap.assert_called_once() ",,246,30
openstack%2Ftempest~864968,openstack/tempest,master,I1c9a99d036de760a15a5725db87ca4e9d6f2263d,Add test for compute server external event API,MERGED,2022-11-18 03:18:23.000000000,2022-11-23 20:00:54.000000000,2022-11-23 19:59:08.000000000,"[{'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-11-18 03:18:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b14a91b820a5dcab02044ed7f2c2ba3060d5f8c2', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}, {'number': 2, 'created': '2022-11-18 04:47:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4ea5290a51b6e142024163532ed080207f8f382a', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}, {'number': 3, 'created': '2022-11-18 06:09:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a78633c3a0f580ff7bbeaced20a632f5c01d6736', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}, {'number': 4, 'created': '2022-11-18 07:18:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/c18271f65872cf43a1e12e746e4fa49f24752475', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}, {'number': 5, 'created': '2022-11-21 20:27:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/71c85bd4afc472b6ac710d7e563d1318657f2776', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}, {'number': 6, 'created': '2022-11-21 20:30:35.000000000', 'files': ['tempest/api/compute/admin/test_server_external_events.py', 'tempest/lib/services/compute/server_external_events_client.py', 'tempest/clients.py', 'tempest/lib/api_schema/response/compute/v2_1/server_external_events.py', 'releasenotes/notes/add-server-external-events-client-c86b269b0091077b.yaml', 'tempest/tests/lib/services/compute/test_server_external_events_client.py', 'tempest/lib/services/compute/__init__.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/81bd0e9e19c30fb2685c744aedbc40c766885a9a', 'message': 'Add test for compute server external event API\n\nAdding test as well as the service client for the compute\nserver external event API\n- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events\n\nChange-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d\n'}]",19,864968,81bd0e9e19c30fb2685c744aedbc40c766885a9a,29,3,6,8556,,,0,"Add test for compute server external event API

Adding test as well as the service client for the compute
server external event API
- https://docs.openstack.org/api-ref/compute/?expanded=run-events-detail#run-events

Change-Id: I1c9a99d036de760a15a5725db87ca4e9d6f2263d
",git fetch https://review.opendev.org/openstack/tempest refs/changes/68/864968/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_server_external_events.py', 'tempest/lib/services/compute/server_external_events_client.py', 'tempest/clients.py', 'tempest/lib/api_schema/response/compute/v2_1/server_external_events.py', 'releasenotes/notes/add-server-external-events-client-c86b269b0091077b.yaml', 'tempest/tests/lib/services/compute/test_server_external_events_client.py', 'tempest/lib/services/compute/__init__.py']",7,b14a91b820a5dcab02044ed7f2c2ba3060d5f8c2,secure-rbac,"from tempest.lib.services.compute.server_external_events_client \ import ServerExternalEventsClient 'ServerExternalEventsClient', 'ServerGroupsClient', 'ServersClient', 'ServicesClient', 'SnapshotsClient', 'TenantNetworksClient', 'TenantUsagesClient', 'VersionsClient', 'VolumesClient']"," 'ServerGroupsClient', 'ServersClient', 'ServicesClient', 'SnapshotsClient', 'TenantNetworksClient', 'TenantUsagesClient', 'VersionsClient', 'VolumesClient']",192,3
openstack%2Fneutron~865184,openstack/neutron,master,I5daf258d9bdce8a671d8311c89087da23b807ecd,ovn: use dicts instead of sets of tuples,MERGED,2022-11-21 18:37:54.000000000,2022-11-23 19:59:28.000000000,2022-11-23 19:59:28.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-21 18:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/4fb7e818ad0365553575e4f3724f403e4fd8e860', 'message': 'ovn: use dicts instead of sets of tuples\n\nThis simplifies the code a bit.\n\nTrivialFix\nChange-Id: I0d9b2542012d57cc45e4793313d4f4c2201a62b4\n\nChange-Id: I5daf258d9bdce8a671d8311c89087da23b807ecd\n'}, {'number': 2, 'created': '2022-11-21 18:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d7eae76f78e785039eb99dd95cd7dff97a5ee895', 'message': 'ovn: use dicts instead of sets of tuples\n\nThis simplifies the code a bit.\n\nTrivialFix\n\nChange-Id: I5daf258d9bdce8a671d8311c89087da23b807ecd\n'}, {'number': 3, 'created': '2022-11-21 18:47:39.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/631ad0ce6b288eea07b87e0a502e6b28d060acf3', 'message': 'ovn: use dicts instead of sets of tuples\n\nThis simplifies the code a bit.\n\nTrivialFix\n\nChange-Id: I5daf258d9bdce8a671d8311c89087da23b807ecd\n'}]",1,865184,631ad0ce6b288eea07b87e0a502e6b28d060acf3,17,7,3,9656,,,0,"ovn: use dicts instead of sets of tuples

This simplifies the code a bit.

TrivialFix

Change-Id: I5daf258d9bdce8a671d8311c89087da23b807ecd
",git fetch https://review.opendev.org/openstack/neutron refs/changes/84/865184/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,4fb7e818ad0365553575e4f3724f403e4fd8e860,metadata-ovn-cleanup," expected_networks = {str(i): str(i) for i in range(0, 4)}"," expected_networks = {(str(i), str(i)) for i in range(0, 4)}",12,7
openstack%2Fneutron~865183,openstack/neutron,master,Ie9761ddfce24df7c5df358e1df7f39dbb375f16c,ovn: inline ensure_all_networks_provisioned method,MERGED,2022-11-21 18:37:54.000000000,2022-11-23 19:59:24.000000000,2022-11-23 19:59:24.000000000,"[{'_account_id': 4694}, {'_account_id': 8655}, {'_account_id': 9845}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 18:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/adafa7548bacb7d62321f40b973e85081b7bae09', 'message': ""ovn: inline ensure_all_networks_provisioned method\n\nThe method is now so short and simple that it's not worth having it.\n\nTrivialFix\nChange-Id: Ic75b11e5f97303b255f6c8b1ceaf04a96d1eb8c4\n\nChange-Id: Ie9761ddfce24df7c5df358e1df7f39dbb375f16c\n""}, {'number': 2, 'created': '2022-11-21 18:38:50.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae845d572c62f7220dec0d864b9117237a1dbbcb', 'message': ""ovn: inline ensure_all_networks_provisioned method\n\nThe method is now so short and simple that it's not worth having it.\n\nTrivialFix\n\nChange-Id: Ie9761ddfce24df7c5df358e1df7f39dbb375f16c\n""}]",0,865183,ae845d572c62f7220dec0d864b9117237a1dbbcb,13,5,2,9656,,,0,"ovn: inline ensure_all_networks_provisioned method

The method is now so short and simple that it's not worth having it.

TrivialFix

Change-Id: Ie9761ddfce24df7c5df358e1df7f39dbb375f16c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/865183/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,adafa7548bacb7d62321f40b973e85081b7bae09,metadata-ovn-cleanup," self.agent, 'provision_datapath') as pdp,\ pdp.assert_has_calls( [ mock.call(p.datapath.uuid, p.datapath.uuid) for p in self.ports ], any_order=True ) self.agent, 'provision_datapath') as pdp,\ pdp.assert_has_calls( [ mock.call(p.datapath.uuid, p.datapath.uuid) for p in self.ports ], any_order=True )"," self.agent, 'ensure_all_networks_provisioned') as enp,\ enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) self.agent, 'ensure_all_networks_provisioned') as enp,\ enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports })",18,22
openstack%2Fneutron-lib~864736,openstack/neutron-lib,stable/yoga,I0531ea2c1bf29aecfab9b491eefef044a4ee49ad,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""",MERGED,2022-11-16 14:00:52.000000000,2022-11-23 19:58:28.000000000,2022-11-23 19:57:22.000000000,"[{'_account_id': 4694}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-11-16 14:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7a6e68763bca8f38039a452ff0d9e7516dc4052c', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n'}, {'number': 2, 'created': '2022-11-17 13:22:49.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/a09e58a1a23b58bca1df5ea9203cccd7cf611a86', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n'}]",1,864736,a09e58a1a23b58bca1df5ea9203cccd7cf611a86,11,4,2,16688,,,0,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""

The plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.
The policy engine can now check the QoS rule ownership using the QoS
policy project ID. The QoS rules are resources that do not have an
assigned project ID, it is inherited from the QoS policy. This patch
allows to check a QoS rule ownership using the ""ext_parent_policy_id""
field, that stores the QoS policy project ID.

NOTE: once released, this bug fix must include Neutron unit tests
checking, using the rules:
  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""

Closes-Bug: #1996606
Change-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad
(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/36/864736/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml']",2,7a6e68763bca8f38039a452ff0d9e7516dc4052c,bug/1996606,--- other: - | Parent resource mapping was added to ``EXT_PARENT_RESOURCE_MAPPING`` in ``neutron_lib.services.constants`` for the ``qos`` plugin. ,,8,1
openstack%2Fneutron-dynamic-routing~814055,openstack/neutron-dynamic-routing,master,I66da8324b0630ed68fdc05831cc59de047594126,DNM: Testing running with OVN,ABANDONED,2021-10-14 19:31:03.000000000,2022-11-23 19:52:13.000000000,,"[{'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-10-14 19:31:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/8c3737dac1196de460f18ac2a62ee8bf2569773d', 'message': 'DNM: Testing running with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 2, 'created': '2021-10-14 19:50:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/9898fc6192f59f3099202f8d74dc2bdbbfba12cd', 'message': 'DNM: Testing running with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 3, 'created': '2021-10-14 19:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/d6c7341737690a5590240a20d80058318e17e154', 'message': 'DNM: Testing running with OVN\n\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 4, 'created': '2021-10-15 08:03:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/dc53468fda359f0018e97e281e849037e2c78340', 'message': 'DNM: Testing running with OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/738641\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 5, 'created': '2022-04-06 16:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/5b7c9d13046ff845b4935b0b06526eb6b7a36932', 'message': 'DNM: Testing running with OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/738641\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 6, 'created': '2022-04-06 16:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/f46e87378d390b689647ec8bc8f798b3c5586740', 'message': 'DNM: Testing running with OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/738641\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}, {'number': 7, 'created': '2022-11-17 08:17:02.000000000', 'files': ['.zuul.yaml', 'playbooks/dynamic-routing-pre-run.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-dynamic-routing/commit/0ab5b02a6c2a27169865b44f4a4ae709b5cae65f', 'message': 'DNM: Testing running with OVN\n\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/738641\nDepends-On: https://review.opendev.org/c/openstack/neutron/+/864051\nSigned-off-by: Dr. Jens Harbott <harbott@osism.tech>\nChange-Id: I66da8324b0630ed68fdc05831cc59de047594126\n'}]",6,814055,0ab5b02a6c2a27169865b44f4a4ae709b5cae65f,32,3,7,13252,,,0,"DNM: Testing running with OVN

Depends-On: https://review.opendev.org/c/openstack/neutron/+/738641
Depends-On: https://review.opendev.org/c/openstack/neutron/+/864051
Signed-off-by: Dr. Jens Harbott <harbott@osism.tech>
Change-Id: I66da8324b0630ed68fdc05831cc59de047594126
",git fetch https://review.opendev.org/openstack/neutron-dynamic-routing refs/changes/55/814055/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_dynamic_routing/db/bgp_db.py', '.zuul.yaml', 'playbooks/dynamic-routing-pre-run.yaml']",3,8c3737dac1196de460f18ac2a62ee8bf2569773d,ovn_test,- hosts: all roles: - docker-setup ,,32,25
openstack%2Fopenstack-virtual-baremetal~865321,openstack/openstack-virtual-baremetal,master,I530616065dc14a7df28798496201d53394451d4b,DNM - Add some debug prints on install_openstackbmc,ABANDONED,2022-11-22 18:33:43.000000000,2022-11-23 19:45:03.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 18:33:43.000000000', 'files': ['bin/install_openstackbmc.sh'], 'web_link': 'https://opendev.org/openstack/openstack-virtual-baremetal/commit/bfa9800a49bc783123967ded6313b8c1474b5881', 'message': 'DNM - Add some debug prints on install_openstackbmc\n\nChange-Id: I530616065dc14a7df28798496201d53394451d4b\n'}]",0,865321,bfa9800a49bc783123967ded6313b8c1474b5881,5,2,1,30002,,,0,"DNM - Add some debug prints on install_openstackbmc

Change-Id: I530616065dc14a7df28798496201d53394451d4b
",git fetch https://review.opendev.org/openstack/openstack-virtual-baremetal refs/changes/21/865321/1 && git format-patch -1 --stdout FETCH_HEAD,['bin/install_openstackbmc.sh'],1,bfa9800a49bc783123967ded6313b8c1474b5881,ibm_bm3,"print(""before bmc_ports: "" + str(os_net_config)) print(""bmc port names: "" + str(bmc_port_names)) print(unit_template.format(port_name=port_name, port_instance=device_id, port_ip=port_ip, cache_status=cache_status))print(""final os_net_config: "" + str(os_net_config))",,5,0
openstack%2Fheat-dashboard~864490,openstack/heat-dashboard,master,If0613dd5ed8ae21693b5a0912a14978a6d13eb65,Imported Translations from Zanata,MERGED,2022-11-15 03:58:09.000000000,2022-11-23 19:21:14.000000000,2022-11-23 19:19:58.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-15 03:58:09.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/heat-dashboard/commit/903d7a925aa0db3a0924e8ee6316723b2e0c687c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If0613dd5ed8ae21693b5a0912a14978a6d13eb65\n'}]",0,864490,903d7a925aa0db3a0924e8ee6316723b2e0c687c,8,3,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If0613dd5ed8ae21693b5a0912a14978a6d13eb65
",git fetch https://review.opendev.org/openstack/heat-dashboard refs/changes/90/864490/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,903d7a925aa0db3a0924e8ee6316723b2e0c687c,zanata/translations,"""POT-Creation-Date: 2022-11-10 09:14+0000\n""""PO-Revision-Date: 2022-11-14 10:33+0000\n""msgid ""8.0.0"" msgstr ""8.0.0""","""POT-Creation-Date: 2022-09-20 03:04+0000\n""""PO-Revision-Date: 2022-09-24 01:11+0000\n""msgid ""8.0.0.0rc1"" msgstr ""8.0.0.0rc1""",4,4
openstack%2Fpuppet-tripleo~821135,openstack/puppet-tripleo,master,I375c446bb5d9a4358a45021a38015ec8b0df4acc,WIP/DNM Add support for VMAX multibackend,ABANDONED,2021-12-08 23:14:16.000000000,2022-11-23 19:11:35.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-12-08 23:14:16.000000000', 'files': ['manifests/profile/base/manila/share.pp', 'manifests/profile/base/manila/share/dellemc_vmax.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a0b8f83e94634e20b1b1fffe1c6be2e2a013ffdb', 'message': 'WIP/DNM Add support for VMAX multibackend\n\nFollowing cinders structure, this implements homogenous\nmultibackend support for DellEMC VMAX.\n\nPartially-Implements: manila-homogenous-mulitbackend\nChange-Id: I375c446bb5d9a4358a45021a38015ec8b0df4acc\n'}]",1,821135,a0b8f83e94634e20b1b1fffe1c6be2e2a013ffdb,5,2,1,32594,,,0,"WIP/DNM Add support for VMAX multibackend

Following cinders structure, this implements homogenous
multibackend support for DellEMC VMAX.

Partially-Implements: manila-homogenous-mulitbackend
Change-Id: I375c446bb5d9a4358a45021a38015ec8b0df4acc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/35/821135/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/manila/share.pp', 'manifests/profile/base/manila/share/dellemc_vmax.pp']",2,a0b8f83e94634e20b1b1fffe1c6be2e2a013ffdb,vmax_multi_backend,"# Copyright 2016 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. # # == Class: tripleo::profile::base::manila::share # # Manila share profile for tripleo # # === Parameters # # [*backend_vmax_enabled*] # (Optional) Whether or not the vmax backend is enabled # Defaults to hiera('manila_backend_vmax_enabled', false) # # [*step*] # (Optional) The current step in deployment. See tripleo-heat-templates # for more details. # Defaults to hiera('step') # class tripleo::profile::base::manila::share::dellemc_vmax ( $backend_name = hiera('manila::backend::dellemc_vmax::title', ['tripleo_manila_vmax']) $multi_config = hiera('manila::backend::dellemc_vmax::multiconfig', {}) $step = Integer(hiera('step')), ) { include tripleo::profile::base::manila::share if $step >= 4 { $backend_defaults = { 'ManilaDellEMCVMAXAvailabilityZone' => hiera('manila::backend::dellemc_vmax::backend_availability_zone', undef), 'ManilaDellEMCVMAXNasLogin' => hiera('manila::backend::dellemc_vmax::emc_nas_login', undef), 'ManilaDellEMCVMAXNasPassword' => hiera('manila::backend::dellemc_vmax::emc_nas_password', undef), 'ManilaDellEMCVMAXNas_Server' => hiera('manila::backend::dellemc_vmax::emc_nas_server', undef), 'ManilaDellEMCVMAXShareBackend' => hiera('manila::backend::dellemc_vmax::emc_share_backend','vmax'), 'ManilaDellEMCVMAXServerContainer' => hiera('manila::backend::dellemc_vmax::vmax_server_container', undef), 'ManilaDellEMCVMAXShareDataPools' => hiera('manila::backend::dellemc_vmax::vmax_share_data_pools', undef), 'ManilaDellEMCVMAXEthernetPorts' => hiera('manila::backend::dellemc_vmax::vmax_ethernet_ports', undef), } $backend_name.each |String $backend| { $backend_config = merge($backend_defaults, pick($multi_config[$backend], {})) create_resources('manila::backend::dellemc_vmax', { $backend_name => delete_undef_values({ 'backend_availability_zone' => $backend_config['ManilaDellEMCVMAXAvailabilityZone'], 'emc_nas_login' => $backend_config['ManilaDellEMCVMAXNasLogin'], 'emc_nas_password' => $backend_config['ManilaDellEMCVMAXNasPassword'], 'emc_nas_server' => $backend_config['ManilaDellEMCVMAXNas_Server'], 'emc_share_backend' => $backend_config['ManilaDellEMCVMAXShareBackend'], 'vmax_server_container' => $backend_config['ManilaDellEMCVMAXServerContainer'], 'vmax_share_data_pools' => $backend_config['ManilaDellEMCVMAXShareDataPools'], 'vmax_ethernet_ports' => $backend_config['ManilaDellEMCVMAXEthernetPorts'], })}) } } } ",,71,11
openstack%2Ftripleo-heat-templates~821136,openstack/tripleo-heat-templates,master,Id9067db418a6adc7a4f261adde152b532ecb1b27,WIP/DNM Add support for VMAX multibackend,ABANDONED,2021-12-08 23:18:29.000000000,2022-11-23 19:11:29.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2021-12-08 23:18:29.000000000', 'files': ['deployment/manila/manila-backend-vmax.yaml', 'environments/manila-vmax-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5752717e37fb9429cc406f6d2dbdedd2743a803', 'message': 'WIP/DNM Add support for VMAX multibackend\n\nFollowing cinders structure, this implements homogenous\nmultibackend support for DellEMC VMAX.\n\nPartially-Implements: manila-homogenous-mulitbackend\nChange-Id: Id9067db418a6adc7a4f261adde152b532ecb1b27\n'}]",1,821136,b5752717e37fb9429cc406f6d2dbdedd2743a803,6,3,1,32594,,,0,"WIP/DNM Add support for VMAX multibackend

Following cinders structure, this implements homogenous
multibackend support for DellEMC VMAX.

Partially-Implements: manila-homogenous-mulitbackend
Change-Id: Id9067db418a6adc7a4f261adde152b532ecb1b27
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/36/821136/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/manila/manila-backend-vmax.yaml', 'environments/manila-vmax-config.yaml']",2,b5752717e37fb9429cc406f6d2dbdedd2743a803,vmax_multi_backend," ManilaVMAXMultiConfig: {}# To configure multiple VMAX backends, use ManilaVMAXMultiConfig to # assign parameter values specific to that backend. For example: # ManilaVMAXBackendName: # - tripleo_manila_vmax_1 # - tripleo_manila_vmax_2 # ManilaVMAXDriverHandlesShareServers: false # CinderPureMultiConfig: # tripleo_manila_vmax_1: # ManilaVMAXNasLogin: 'someone' # ManilaVMAXNasPassword: 'secret' # tripleo_manila-vmax_2: # ManilaVMAXNasLogin: 'someonelse' # ManilaVMAXNasPassword: 'anothersecret' # ManilaVMAXDriverHandlesShareServers: true",,30,7
openstack%2Ftripleo-validations~865170,openstack/tripleo-validations,master,I22cb24a544e0c97fc659e2c7f212cb23e3cee074,Bumping basepython version of the tox environments to 3.10,MERGED,2022-11-21 15:49:37.000000000,2022-11-23 18:52:35.000000000,2022-11-23 18:51:35.000000000,"[{'_account_id': 9976}, {'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-21 15:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/08bc990de6a23c5b16e1ac24ef67720892e13e53', 'message': 'Bumping basepython version of the tox environments to 3.9\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I22cb24a544e0c97fc659e2c7f212cb23e3cee074\n'}, {'number': 2, 'created': '2022-11-21 16:01:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/27c336eaadb573f37080dd9333b6d0748bafcc52', 'message': 'Bumping basepython version of the tox environments to 3.9\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I22cb24a544e0c97fc659e2c7f212cb23e3cee074\n'}, {'number': 3, 'created': '2022-11-21 16:02:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/e794bac656ae30f5247d67c177eb259e23ea44af', 'message': 'Bumping basepython version of the tox environments to 3.10\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I22cb24a544e0c97fc659e2c7f212cb23e3cee074\n'}]",4,865170,e794bac656ae30f5247d67c177eb259e23ea44af,24,4,3,32926,,,0,"Bumping basepython version of the tox environments to 3.10

Closes-Bug: #1997256

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I22cb24a544e0c97fc659e2c7f212cb23e3cee074
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/70/865170/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,08bc990de6a23c5b16e1ac24ef67720892e13e53,tox/py310,basepython = python3.9,basepython = python3.8,1,1
openstack%2Ftripleo-quickstart~864690,openstack/tripleo-quickstart,master,I0b81a7ade6d092b2c5481252219d2dbe903274bd,"Partial Revert ""Pin ansible-core until we can fix compatibility with 2.14""",MERGED,2022-11-16 08:34:42.000000000,2022-11-23 18:40:53.000000000,2022-11-23 18:39:47.000000000,"[{'_account_id': 8449}, {'_account_id': 9816}, {'_account_id': 9976}, {'_account_id': 12393}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-16 08:34:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/827d2dffdcb1ab1a0051307345b11c76f8a9a2f4', 'message': 'Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nReason for revert: Merged https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\n\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}, {'number': 2, 'created': '2022-11-16 10:04:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/2d0cc2f6f943296d5910afdd44350e9a34f25573', 'message': 'Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nReason for revert:\nThe issue caused by the new version has been fixed or workarounded.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nDepends-on: https://review.opendev.org/c/openstack/python-tripleoclient/+/864717/1\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}, {'number': 3, 'created': '2022-11-17 01:34:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/5a27226f703e571bd21cbb25a42d4461412bee71', 'message': 'Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nReason for revert:\nThe issue caused by the new version has been fixed or workarounded.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/864803\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}, {'number': 4, 'created': '2022-11-17 04:23:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/bb65cd43e36d24d6a3da46399a6c0b954870c3f4', 'message': 'Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nReason for revert:\nThe issue caused by the new version has been fixed or workarounded.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}, {'number': 5, 'created': '2022-11-20 05:57:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/f0fe7a6c695b7fbedace8a6978b5031440f9fd45', 'message': 'Parital Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis partially reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nLeft the pinning for stable/wallaby as we probably don\'t want to bump\nto ansible 2.14 there. It can be reverted later if we want.\n\nReason for revert:\nThe issue caused by the new version has been fixed or workarounded.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}, {'number': 6, 'created': '2022-11-20 06:13:53.000000000', 'files': ['config/release/tripleo-ci/CentOS-9/zed.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-zed.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/3997315bd47334828e786c4de75b9b7d455d937f', 'message': 'Partial Revert ""Pin ansible-core until we can fix compatibility with 2.14""\n\nThis partially reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.\n\nLeft the pinning for stable/wallaby as we probably don\'t want to bump\nto ansible 2.14 there. It can be reverted later if we want.\n\nReason for revert:\nThe issue caused by the new version has been fixed or workarounded.\n\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392\nDepends-on: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nChange-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd\n'}]",12,864690,3997315bd47334828e786c4de75b9b7d455d937f,37,8,6,30750,,,0,"Partial Revert ""Pin ansible-core until we can fix compatibility with 2.14""

This partially reverts commit da7312c530c441cbcf12f1f67c3a49cfbbe418c9.

Left the pinning for stable/wallaby as we probably don't want to bump
to ansible 2.14 there. It can be reverted later if we want.

Reason for revert:
The issue caused by the new version has been fixed or workarounded.

Depends-on: https://review.opendev.org/c/openstack/tripleo-ansible/+/864392
Depends-on: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838
Change-Id: I0b81a7ade6d092b2c5481252219d2dbe903274bd
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/90/864690/1 && git format-patch -1 --stdout FETCH_HEAD,"['config/release/tripleo-ci/CentOS-9/zed.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-wallaby.yml', 'config/release/tripleo-ci/CentOS-9/wallaby.yml', 'config/release/tripleo-ci/CentOS-9/master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-master.yml', 'config/release/tripleo-ci/CentOS-9/promotion-testing-hash-zed.yml']",6,827d2dffdcb1ab1a0051307345b11c76f8a9a2f4,,, - ansible-core-2.14.* # TODO(marios) unpin https://bugs.launchpad.net/tripleo /+bug/1996482,0,6
openstack%2Foctavia-tempest-plugin~864886,openstack/octavia-tempest-plugin,master,I3da638eb97939186b923a5854f2ea260b61953e8,Pin barbican-tempest-plugin to version 1.6.0,MERGED,2022-11-17 12:05:23.000000000,2022-11-23 18:30:51.000000000,2022-11-23 18:28:38.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 29244}]","[{'number': 1, 'created': '2022-11-17 12:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/c682a5e488ded9c8fd985bb9351bf6ce2ee8caf5', 'message': 'Pin barbican-tempest-plugin to version 1.6.0\n\nThis version is the last that one that supports Python 3.6, which is the\nversion Ussuri uses.\n\nChange-Id: I3da638eb97939186b923a5854f2ea260b61953e8\n'}, {'number': 2, 'created': '2022-11-17 12:26:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/7b7d91a3acb30f4f612ff5ed10844dc8983e3118', 'message': 'Pin barbican-tempest-plugin to version 1.6.0\n\nThis version is the last that one that supports Python 3.6, which is the\nversion Ussuri uses.\n\nChange-Id: I3da638eb97939186b923a5854f2ea260b61953e8\n'}, {'number': 3, 'created': '2022-11-17 16:24:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/3444d6529df1fd13cc7a12aa5e5be197ea77bc48', 'message': 'Pin barbican-tempest-plugin to version 1.6.0\n\nThis version is the last that one that supports Python 3.6, which is the\nversion Ussuri uses.\n\nChange-Id: I3da638eb97939186b923a5854f2ea260b61953e8\n'}, {'number': 4, 'created': '2022-11-17 16:28:34.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia-tempest-plugin/commit/295576db0467bcf738843b44a1a541a9fa1b0591', 'message': 'Pin barbican-tempest-plugin to version 1.6.0\n\nThis version is the last that one that supports Python 3.6, which is the\nversion Ussuri uses.\n\nChange-Id: I3da638eb97939186b923a5854f2ea260b61953e8\n'}]",12,864886,295576db0467bcf738843b44a1a541a9fa1b0591,22,3,4,34429,,,0,"Pin barbican-tempest-plugin to version 1.6.0

This version is the last that one that supports Python 3.6, which is the
version Ussuri uses.

Change-Id: I3da638eb97939186b923a5854f2ea260b61953e8
",git fetch https://review.opendev.org/openstack/octavia-tempest-plugin refs/changes/86/864886/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c682a5e488ded9c8fd985bb9351bf6ce2ee8caf5,ussuri-pin-barbican-tempest, - name: openstack/barbican-tempest-plugin override-checkout: 1.6.0, - openstack/barbican-tempest-plugin,2,1
openstack%2Fkolla-ansible~865393,openstack/kolla-ansible,stable/xena,I1d8d0da684b7bc58da74a0c5ccb90261f9347ff9,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""",MERGED,2022-11-23 13:46:43.000000000,2022-11-23 18:23:23.000000000,2022-11-23 18:22:10.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-23 13:46:43.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b3adebf979555a1e42b0d972bd68f7c2a0b986e1', 'message': 'Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""\n\nThis reverts commit 55fb10b7820fa6c5de45774ca793427bc27a3e38.\n\nReason for revert: Setting ovn-chassis-mac-mappings on network nodes \nis causing mac flooding [1] [2] for traffic between external ports, \nand very slow troughput in consequence.\nOVN HA Chassis priorities between gateways should probably be managed\nby Neutron [3]\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html\n[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html\n[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html\n\nChange-Id: I1d8d0da684b7bc58da74a0c5ccb90261f9347ff9\n'}]",0,865393,b3adebf979555a1e42b0d972bd68f7c2a0b986e1,9,6,1,23084,,,0,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""

This reverts commit 55fb10b7820fa6c5de45774ca793427bc27a3e38.

Reason for revert: Setting ovn-chassis-mac-mappings on network nodes 
is causing mac flooding [1] [2] for traffic between external ports, 
and very slow troughput in consequence.
OVN HA Chassis priorities between gateways should probably be managed
by Neutron [3]

[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html
[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html
[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html

Change-Id: I1d8d0da684b7bc58da74a0c5ccb90261f9347ff9
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/93/865393/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,b3adebf979555a1e42b0d972bd68f7c2a0b986e1,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }",1,10
openstack%2Ftripleo-common~865391,openstack/tripleo-common,stable/zed,I99bdc55445313f823a761b913407398f98650c5f,Use net=host with buildah bud,MERGED,2022-11-23 10:42:06.000000000,2022-11-23 18:05:51.000000000,2022-11-23 18:04:46.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-23 10:42:06.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c33f5005aba34dcc5a56e1a2e604c7c126eca00a', 'message': 'Use net=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n(cherry picked from commit b3a35712588e1e982ae0dd856adba978d0a9ae28)\n'}]",2,865391,c33f5005aba34dcc5a56e1a2e604c7c126eca00a,11,6,1,8833,,,0,"Use net=host with buildah bud

We use the default networking (netavark) with RUN instructions.
We can simplify this by just using host network.

Change-Id: I99bdc55445313f823a761b913407398f98650c5f
(cherry picked from commit b3a35712588e1e982ae0dd856adba978d0a9ae28)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/91/865391/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py']",2,c33f5005aba34dcc5a56e1a2e604c7c126eca00a,," buildah_cmd_build = ['--log-level=debug', 'bud', '--net=host', buildah_cmd_build = ['bud', '--net=host', '--format', 'docker', '--tls-verify=False', buildah_cmd_build = ['bud', '--net=host', '--volume', '/etc/pki:/etc/pki',"," buildah_cmd_build = ['--log-level=debug', 'bud', buildah_cmd_build = ['bud', '--format', 'docker', '--tls-verify=False', buildah_cmd_build = ['bud', '--volume', '/etc/pki:/etc/pki',",6,5
openstack%2Fkolla-ansible~865394,openstack/kolla-ansible,stable/wallaby,Ic6c9e38d4eae2ea4162353ccbe71a6b0e7d375d4,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""",MERGED,2022-11-23 13:46:54.000000000,2022-11-23 17:40:30.000000000,2022-11-23 17:39:25.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-23 13:46:54.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1a600a545e51c263371aa66a46dd50da85d13d3d', 'message': 'Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""\n\nThis reverts commit 40a4240e88573b43e3b7a7b98a9949f8029a1d18.\n\nReason for revert: Setting ovn-chassis-mac-mappings on network nodes \nis causing mac flooding [1] [2] for traffic between external ports, \nand very slow troughput in consequence.\nOVN HA Chassis priorities between gateways should probably be managed\nby Neutron [3]\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html\n[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html\n[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html\n\nChange-Id: Ic6c9e38d4eae2ea4162353ccbe71a6b0e7d375d4\n'}]",0,865394,1a600a545e51c263371aa66a46dd50da85d13d3d,9,6,1,23084,,,0,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""

This reverts commit 40a4240e88573b43e3b7a7b98a9949f8029a1d18.

Reason for revert: Setting ovn-chassis-mac-mappings on network nodes 
is causing mac flooding [1] [2] for traffic between external ports, 
and very slow troughput in consequence.
OVN HA Chassis priorities between gateways should probably be managed
by Neutron [3]

[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html
[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html
[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html

Change-Id: Ic6c9e38d4eae2ea4162353ccbe71a6b0e7d375d4
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/94/865394/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,1a600a545e51c263371aa66a46dd50da85d13d3d,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }",1,10
openstack%2Fhorizon~865293,openstack/horizon,master,Ic11bd7b565304acd9e2227c255a06a3867fed3bf,[DNM] Test horizon plugins npm job with nodejs v18,ABANDONED,2022-11-22 15:15:35.000000000,2022-11-23 17:22:13.000000000,,"[{'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-22 15:15:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/51d9671ba71167da7fd743400823a2f7aff5bbb9', 'message': '[DNM] Test horizon plugins npm job with nodejs v18\n\nChange-Id: Ic11bd7b565304acd9e2227c255a06a3867fed3bf\n'}, {'number': 2, 'created': '2022-11-22 15:19:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/79f96a5cb4ab839d07bd4808b59c0b87062e2a6d', 'message': '[DNM] Test horizon plugins npm job with nodejs v18\n\nChange-Id: Ic11bd7b565304acd9e2227c255a06a3867fed3bf\n'}, {'number': 3, 'created': '2022-11-22 15:22:06.000000000', 'files': ['.zuul.d/cross-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/fe2c2febac28acfc32604247e93d1f06373c4fd2', 'message': '[DNM] Test horizon plugins npm job with nodejs v18\n\nChange-Id: Ic11bd7b565304acd9e2227c255a06a3867fed3bf\n'}]",2,865293,fe2c2febac28acfc32604247e93d1f06373c4fd2,10,2,3,29313,,,0,"[DNM] Test horizon plugins npm job with nodejs v18

Change-Id: Ic11bd7b565304acd9e2227c255a06a3867fed3bf
",git fetch https://review.opendev.org/openstack/horizon refs/changes/93/865293/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.d/cross-jobs.yaml'],1,51d9671ba71167da7fd743400823a2f7aff5bbb9,861880," - horizon-cross-octavia-dashboard-npm: voting: false - horizon-cross-senlin-dashboard-npm: voting: false - horizon-cross-designate-dashboard-npm: voting: false - horizon-cross-vitrage-dashboard-npm: voting: false - horizon-cross-murano-dashboard-npm: voting: false - horizon-cross-zaqar-ui-npm: voting: false - horizon-cross-zun-ui-npm: voting: false - horizon-cross-magnum-ui-npm: voting: false parent: horizon-nodejs18-run-test - job: name: horizon-cross-octavia-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/octavia-dashboard'].src_dir }}"" required-projects: - openstack/octavia-dashboard - job: name: horizon-cross-senlin-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/senlin-dashboard'].src_dir }}"" required-projects: - openstack/senlin-dashboard - job: name: horizon-cross-designate-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/designate-dashboard'].src_dir }}"" required-projects: - openstack/designate-dashboard - job: name: horizon-cross-heat-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/heat-dashboard'].src_dir }}"" required-projects: - openstack/heat-dashboard - job: name: horizon-cross-vitrage-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/vitrage-dashboard'].src_dir }}"" required-projects: - openstack/vitrage-dashboard - job: name: horizon-cross-murano-dashboard-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/murano-dashboard'].src_dir }}"" required-projects: - openstack/murano-dashboard - job: name: horizon-cross-magnum-ui-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/magnum-ui'].src_dir }}"" required-projects: - openstack/magnum-ui - job: name: horizon-cross-zun-ui-npm parent: horizon-nodejs18-run-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/zun-ui'].src_dir }}"" required-projects: - openstack/zun-ui - job: name: horizon-cross-zaqar-ui-npm parent: horizon-nodejs18 prun-test pre-run: playbooks/cross-jobs/phantomjs-deps.yaml vars: zuul_work_dir: ""{{ zuul.projects['opendev.org/openstack/zaqar-ui'].src_dir }}"" required-projects: - openstack/zaqar-ui", parent: horizon-nodejs16-run-test,99,1
openstack%2Fhorizon~865316,openstack/horizon,master,I674d7d3a8e1b34229fd5ef0285153e13324d3417,Set Nodeset to ubuntu-focal for integration and selenium job,MERGED,2022-11-22 17:43:26.000000000,2022-11-23 17:06:52.000000000,2022-11-23 17:04:24.000000000,"[{'_account_id': 6914}, {'_account_id': 8648}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-22 17:43:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/638f83849885d59cd0e3ca4237a2857f9c6fea9e', 'message': 'Set Nodeset to ubuntu-focal for integration and selenium job\n\nAs openstack-tox jobs migrated from ubuntu focal to ubuntu\njammy. So horizon integration and selenium-headless jobs\nstart failing. This patch changes the nodeset for both\nthese jobs to ubuntu focal as a workaround to unblock\nthe CI.\n\nRelated-Bug: #1996638\nChange-Id: I674d7d3a8e1b34229fd5ef0285153e13324d3417\n'}, {'number': 2, 'created': '2022-11-22 18:50:36.000000000', 'files': ['.zuul.d/base.yaml', '.zuul.d/tempest-and-integrated.yaml'], 'web_link': 'https://opendev.org/openstack/horizon/commit/bebc8dad2fdcd8d766ca7a1f529c5afab9b9e203', 'message': 'Set Nodeset to ubuntu-focal for integration and selenium job\n\nAs openstack-tox jobs migrated from ubuntu focal to ubuntu\njammy[1]. So horizon integration and selenium-headless jobs\nstart failing. This patch changes the nodeset for both\nthese jobs to ubuntu focal as a workaround to unblock\nthe CI.\n\n[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116\n\nRelated-Bug: #1996638\nChange-Id: I674d7d3a8e1b34229fd5ef0285153e13324d3417\n'}]",0,865316,bebc8dad2fdcd8d766ca7a1f529c5afab9b9e203,12,4,2,29313,,,0,"Set Nodeset to ubuntu-focal for integration and selenium job

As openstack-tox jobs migrated from ubuntu focal to ubuntu
jammy[1]. So horizon integration and selenium-headless jobs
start failing. This patch changes the nodeset for both
these jobs to ubuntu focal as a workaround to unblock
the CI.

[1] https://review.opendev.org/c/openstack/openstack-zuul-jobs/+/861116

Related-Bug: #1996638
Change-Id: I674d7d3a8e1b34229fd5ef0285153e13324d3417
",git fetch https://review.opendev.org/openstack/horizon refs/changes/16/865316/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.d/base.yaml', '.zuul.d/tempest-and-integrated.yaml']",2,638f83849885d59cd0e3ca4237a2857f9c6fea9e,bug/1996638, nodeset: ubuntu-focal,,2,0
openstack%2Fpuppet-openstack_spec_helper~864382,openstack/puppet-openstack_spec_helper,stable/victoria,I37c115739ef9ff6daa2ec29e11fe41d9d4f3f39f,Victoria-only: Pin public_suffix in CentOS 8,ABANDONED,2022-11-14 04:23:36.000000000,2022-11-23 17:01:58.000000000,,"[{'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-14 04:23:36.000000000', 'files': ['puppet-openstack_spec_helper.gemspec'], 'web_link': 'https://opendev.org/openstack/puppet-openstack_spec_helper/commit/99ec3a404eb4315fa46f9ebfaac09995998c2d97', 'message': ""Victoria-only: Pin public_suffix in CentOS 8\n\nThe latest public_suffix, 5.0.0, requires Ruby >= 2.6 . Let's pin it\nto avoid failure during bundle install in CentOS 8.\n\nChange-Id: I37c115739ef9ff6daa2ec29e11fe41d9d4f3f39f\n""}]",0,864382,99ec3a404eb4315fa46f9ebfaac09995998c2d97,4,2,1,9816,,,0,"Victoria-only: Pin public_suffix in CentOS 8

The latest public_suffix, 5.0.0, requires Ruby >= 2.6 . Let's pin it
to avoid failure during bundle install in CentOS 8.

Change-Id: I37c115739ef9ff6daa2ec29e11fe41d9d4f3f39f
",git fetch https://review.opendev.org/openstack/puppet-openstack_spec_helper refs/changes/82/864382/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet-openstack_spec_helper.gemspec'],1,99ec3a404eb4315fa46f9ebfaac09995998c2d97,," if RUBY_VERSION < '2.6.0' # public_suffix 5.0.0 requires Ruby >= 2.6 spec.add_dependency 'public_suffix', ['< 5.0.0'] end ",,5,0
openstack%2Fkolla-ansible~865392,openstack/kolla-ansible,master,Ia3b279d7e2c08464fda1a5dc41518296f559e93f,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""",MERGED,2022-11-23 13:16:59.000000000,2022-11-23 16:58:33.000000000,2022-11-23 16:57:17.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-11-23 13:16:59.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/826fd12a11bac3f03602de0c1e53f9e08c787d6c', 'message': 'Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""\n\nThis reverts commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86.\n\nReason for revert: Setting ovn-chassis-mac-mappings on network nodes \nis causing mac flooding [1] [2] for traffic between external ports, \nand very slow troughput in consequence.\nOVN HA Chassis priorities between gateways should probably be managed\nby Neutron [3]\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html\n[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html\n[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html\n\nChange-Id: Ia3b279d7e2c08464fda1a5dc41518296f559e93f\n'}]",0,865392,826fd12a11bac3f03602de0c1e53f9e08c787d6c,9,6,1,23084,,,0,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""

This reverts commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86.

Reason for revert: Setting ovn-chassis-mac-mappings on network nodes 
is causing mac flooding [1] [2] for traffic between external ports, 
and very slow troughput in consequence.
OVN HA Chassis priorities between gateways should probably be managed
by Neutron [3]

[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html
[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html
[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html

Change-Id: Ia3b279d7e2c08464fda1a5dc41518296f559e93f
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/92/865392/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,826fd12a11bac3f03602de0c1e53f9e08c787d6c,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }",1,10
openstack%2Fkolla-ansible~865395,openstack/kolla-ansible,stable/yoga,I5b4498dda35244034c01828161176bd6ccaadf3e,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""",MERGED,2022-11-23 13:47:09.000000000,2022-11-23 16:58:30.000000000,2022-11-23 16:57:20.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-23 13:47:09.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/3f88b894c572099baa81b30f3fa2f4d5f15ae2d3', 'message': 'Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""\n\nThis reverts commit 86e2f2df428cc8e8157942b8776600fa9674ff99.\n\nReason for revert: Setting ovn-chassis-mac-mappings on network nodes \nis causing mac flooding [1] [2] for traffic between external ports, \nand very slow troughput in consequence.\nOVN HA Chassis priorities between gateways should probably be managed\nby Neutron [3]\n\n[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html\n[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html\n[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html\n\nChange-Id: I5b4498dda35244034c01828161176bd6ccaadf3e\n'}]",0,865395,3f88b894c572099baa81b30f3fa2f4d5f15ae2d3,9,6,1,23084,,,0,"Revert ""Generate ovn-chassis-mac-mappings on ovn-controller group""

This reverts commit 86e2f2df428cc8e8157942b8776600fa9674ff99.

Reason for revert: Setting ovn-chassis-mac-mappings on network nodes 
is causing mac flooding [1] [2] for traffic between external ports, 
and very slow troughput in consequence.
OVN HA Chassis priorities between gateways should probably be managed
by Neutron [3]

[1] https://mail.openvswitch.org/pipermail/ovs-discuss/2020-September/050691.html
[2] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-May/051837.html
[3] https://mail.openvswitch.org/pipermail/ovs-discuss/2022-October/052068.html

Change-Id: I5b4498dda35244034c01828161176bd6ccaadf3e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/95/865395/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,3f88b894c572099baa81b30f3fa2f4d5f15ae2d3,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }",1,10
openstack%2Fneutron~863275,openstack/neutron,stable/yoga,I7cec8b53e72e7abf34012906e6adfecf079525af,Check subnet overlapping after add router interface,MERGED,2022-11-02 11:51:28.000000000,2022-11-23 16:21:04.000000000,2022-11-23 16:19:37.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 35457}]","[{'number': 1, 'created': '2022-11-02 11:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/df8d82e92adba62c90de36412469256818321e69', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 2, 'created': '2022-11-07 09:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/61f7c90338295a636a6ed218d20b72010b4fbe11', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 3, 'created': '2022-11-11 16:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6159eccdc0ab7cdf23b706ebfc65ffb9e56019a2', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 4, 'created': '2022-11-15 12:49:18.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2032397cf816f49e11dad68d5beb6e0b3dd96192', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nConflicts:\n      neutron/db/l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}]",22,863275,2032397cf816f49e11dad68d5beb6e0b3dd96192,41,4,4,35457,,,0,"Check subnet overlapping after add router interface

When simultaneous attempts are made to add an interface
to the same router including overlapping networks in cidrs,
both attempts are successful. There is a check to avoid this
overlap but is performed when creating the network interface
and it is done over the ports already attached to the router,
so at this moment the check is not able to detect the
overlapping. Furthermore, the create_port operation over the
ML2 plugin  must be executed in isolated transactions, so
trying to control the execution context or adding additional
steps to the transaction is not feasible.

This patch checks once the RouterPort is created on the
neutron database if there is more than one overlapping port,
triggering in that case the exception that will remove the
the culprit of overlapping.

Conflicts:
      neutron/db/l3_db.py
(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)

Closes-Bug: #1987666
Change-Id: I7cec8b53e72e7abf34012906e6adfecf079525af
(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/75/863275/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py']",3,df8d82e92adba62c90de36412469256818321e69,yoga," def test__raise_on_subnets_overlap_does_not_raise(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/24'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.2.0.0/24'}] self.db._raise_on_subnets_overlap(subnets[0], subnets[1]) def test__raise_on_subnets_overlap_raises(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/20'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.1.10.0/24'}] self.assertRaises( n_exc.BadRequest, self.db._raise_on_subnets_overlap, subnets[0], subnets[1]) def test__validate_one_router_ipv6_port_per_network(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network2', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_mix_ipv4_ipv6(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '10.1.10.0/24').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_failed(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.assertRaises( n_exc.BadRequest, self.db._validate_one_router_ipv6_port_per_network, router, new_port) @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_port_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') ipa = str(netaddr.IPNetwork(subnet['subnet']['cidr']).ip + 10) fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': ipa}] port = self.create_port( network2['network']['id'], {'fixed_ips': fixed_ips}) self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': port['port']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': self.ports[0]['port']['id']}) mock_raise_on_subnets_overlap.assert_called_once() @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_subnet_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': subnet['subnet']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': self.subnets[0]['subnet']['id']}) mock_raise_on_subnets_overlap.assert_called_once() ",,250,19
openstack%2Ftripleo-ansible~864793,openstack/tripleo-ansible,master,I6edef63e60623ea3b51386593d76b18092dd7f30,Ensure $tuned_params is restored after grub2-mkconfig,MERGED,2022-11-16 21:56:45.000000000,2022-11-23 16:10:55.000000000,2022-11-23 16:10:55.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28245}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-16 21:56:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/75cc0a1809161ff44097404a53c53b322d3fa205', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n'}, {'number': 2, 'created': '2022-11-17 21:24:45.000000000', 'files': ['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/55c724fefacbc1b5986065c1f90f270bf0adfb60', 'message': 'Ensure $tuned_params is restored after grub2-mkconfig\n\nThe playbook cli-overcloud-node-kernelargs.yaml calls the tuned role\nand then the tripleo_kernel role.\n\nThe tuned role executes the following command:\n    tuned-adm profile throughput-performance\n\nThis has the side-effect of adding $tuned_params to the options line\nof /boot/loader/entries files, which is required to add its kernel\narguments from /boot/grub2/grubenv.\n\nHowever when grub2-mkconfig is called, $tuned_params is *removed* from\nthe /boot/loader/entries files, breaking the enablement of the tuned\nprofile.\n\nThis change runs tuned-adm after grub2-mkconfig, which adds back\n$tuned_params if there is an active profile.\n\nChange-Id: I6edef63e60623ea3b51386593d76b18092dd7f30\nResolves: rhbz#2122949\n'}]",6,864793,55c724fefacbc1b5986065c1f90f270bf0adfb60,15,8,2,4571,,,0,"Ensure $tuned_params is restored after grub2-mkconfig

The playbook cli-overcloud-node-kernelargs.yaml calls the tuned role
and then the tripleo_kernel role.

The tuned role executes the following command:
    tuned-adm profile throughput-performance

This has the side-effect of adding $tuned_params to the options line
of /boot/loader/entries files, which is required to add its kernel
arguments from /boot/grub2/grubenv.

However when grub2-mkconfig is called, $tuned_params is *removed* from
the /boot/loader/entries files, breaking the enablement of the tuned
profile.

This change runs tuned-adm after grub2-mkconfig, which adds back
$tuned_params if there is an active profile.

Change-Id: I6edef63e60623ea3b51386593d76b18092dd7f30
Resolves: rhbz#2122949
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/864793/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo_kernel/tasks/kernelargs.yml'],1,75cc0a1809161ff44097404a53c53b322d3fa205,bz/2139922," - name: Check tuned active profile slurp: src: ""/etc/tuned/active_profile"" register: tuned_active_profile - name: Ensure $tuned_params is restored to /boot/loader/entries files command: >- tuned-adm profile {{ tuned_active_profile['content'] | b64decode }} environment: PATH: ""/bin:/usr/bin:/sbin:/usr/sbin"" when: - ((tuned_active_profile['content'] | b64decode).strip()) | length > 0 ",,14,0
openstack%2Ftripleo-ci~865305,openstack/tripleo-ci,master,I6950545f7545af7fecfa9f4991386495b3a6ea30,Switch to dnsmasq,ABANDONED,2022-11-22 16:04:20.000000000,2022-11-23 16:09:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 16:04:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/e0195801b2b954c0ee6470e06f64daa957087bb2', 'message': ""Switch to dnsmasq\n\nIn order to ensure we get a proper, clean DNS caching service, let's\nswitch to dnsmasq instead of unbound.\n\nUsing dnsmasq, we can ensure NetworkManager knows how to handle things,\nand that we'll end with the correct nameservers.\n\nChange-Id: I6950545f7545af7fecfa9f4991386495b3a6ea30\n""}, {'number': 2, 'created': '2022-11-23 07:52:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/dd4f42db1efaa00f5c877c50cce5f0567dfaf7b3', 'message': ""Switch to dnsmasq\n\nIn order to ensure we get a proper, clean DNS caching service, let's\nswitch to dnsmasq instead of unbound.\n\nUsing dnsmasq, we can ensure NetworkManager knows how to handle things,\nand that we'll end with the correct nameservers.\n\nChange-Id: I6950545f7545af7fecfa9f4991386495b3a6ea30\n""}, {'number': 3, 'created': '2022-11-23 10:10:16.000000000', 'files': ['playbooks/tripleo-ci/centos-compose-repos.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ci/commit/d365eae6d5ece2989b2e0a64c4015fc4cafbb270', 'message': ""Switch to dnsmasq\n\nIn order to ensure we get a proper, clean DNS caching service, let's\nswitch to dnsmasq instead of unbound.\n\nUsing dnsmasq, we can ensure NetworkManager knows how to handle things,\nand that we'll end with the correct nameservers.\n\nChange-Id: I6950545f7545af7fecfa9f4991386495b3a6ea30\n""}]",0,865305,d365eae6d5ece2989b2e0a64c4015fc4cafbb270,10,2,3,28223,,,0,"Switch to dnsmasq

In order to ensure we get a proper, clean DNS caching service, let's
switch to dnsmasq instead of unbound.

Using dnsmasq, we can ensure NetworkManager knows how to handle things,
and that we'll end with the correct nameservers.

Change-Id: I6950545f7545af7fecfa9f4991386495b3a6ea30
",git fetch https://review.opendev.org/openstack/tripleo-ci refs/changes/05/865305/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tripleo-ci/pre.yaml'],1,e0195801b2b954c0ee6470e06f64daa957087bb2,dnsmasq, tasks: - name: Disable unbound become: true service: name: unbound state: stopped enabled: false failed_when: false - name: Install dnsmasq become: true package: name: dnsmasq state: present - name: Configure NetworkManager for dnsmasq become: true register: nm_dnsmasq_config ini_file: backup: false dest: /etc/NetworkManager/NetworkManager.conf no_extra_spaces: true option: dns section: main state: present value: dnsmasq - name: Reload NetworkManager become: true when: - nm_dnsmasq_config is changed command: nmcli reload,,29,0
openstack%2Fneutron~864977,openstack/neutron,stable/zed,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:08:25.000000000,2022-11-23 16:06:42.000000000,2022-11-23 16:05:17.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:08:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/8a73cd7a5cb4d05fb3c46752780c046f97e52038', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n""}, {'number': 2, 'created': '2022-11-21 13:06:06.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/fcaff8c80db23ee92756b48579bf898c88d7b932', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",5,864977,fcaff8c80db23ee92756b48579bf898c88d7b932,25,7,2,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/77/864977/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,8a73cd7a5cb4d05fb3c46752780c046f97e52038,ovn-meta-first-cleanup-stable/zed," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,64
openstack%2Ftripleo-validations~865379,openstack/tripleo-validations,stable/zed,I0735454daa5fc83ea37c278b98f22870d4dfa135,Pull flake8 from Github,MERGED,2022-11-23 09:19:50.000000000,2022-11-23 15:53:04.000000000,2022-11-23 15:53:04.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-23 09:19:50.000000000', 'files': ['.pre-commit-config.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/2dbaaced1c97c043ff65e1cbb106b40a024731e6', 'message': ""Pull flake8 from Github\n\nIt seems flake8 is no longer available in Gitlab. This change switches\nthe source from Gitlab to Github to avoid the following failure.\n\nfatal: could not read Username for 'https://gitlab.com': No such device\nor address\n\nCloses-Bug: #1996668\nDepends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/864603\nChange-Id: I0735454daa5fc83ea37c278b98f22870d4dfa135\n(cherry picked from commit 6dc57261eb67399dc72a852c9fd336df96f8ae98)\n""}]",0,865379,2dbaaced1c97c043ff65e1cbb106b40a024731e6,8,3,1,32926,,,0,"Pull flake8 from Github

It seems flake8 is no longer available in Gitlab. This change switches
the source from Gitlab to Github to avoid the following failure.

fatal: could not read Username for 'https://gitlab.com': No such device
or address

Closes-Bug: #1996668
Depends-on: https://review.opendev.org/c/openstack/tripleo-ci/+/864603
Change-Id: I0735454daa5fc83ea37c278b98f22870d4dfa135
(cherry picked from commit 6dc57261eb67399dc72a852c9fd336df96f8ae98)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/79/865379/1 && git format-patch -1 --stdout FETCH_HEAD,['.pre-commit-config.yaml'],1,2dbaaced1c97c043ff65e1cbb106b40a024731e6,bug/1996668, - repo: https://github.com/pycqa/flake8, - repo: https://gitlab.com/pycqa/flake8,1,1
openstack%2Ftripleo-ansible~864749,openstack/tripleo-ansible,master,I40940aa8e6c34514dd97637734a2a1b9d1dad353,[ffwd3] Use tripleo tags in network extraction,MERGED,2022-11-16 14:49:25.000000000,2022-11-23 14:52:01.000000000,2022-11-23 14:50:44.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 31245}]","[{'number': 1, 'created': '2022-11-16 14:49:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/be163cd80a9a43aeebd5c946c5a2a4fb24df6604', 'message': ""[ffwd3] Use tripleo tags in network extraction\n\nEach network is tagged by tripleo_vip if it has virtual IPs.\nEach virtual IP has a tag tripleo_vip_net for it's network.\n\nThis solves issues around public_virtual_ip on external network.\n\nResolves: #OSP-20209\n\nChange-Id: I40940aa8e6c34514dd97637734a2a1b9d1dad353\n""}, {'number': 2, 'created': '2022-11-17 17:49:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f20316f8397d5109da71f7f97800d9021601e20f', 'message': ""[ffwd3] Use tripleo tags in network extraction\n\nEach network is tagged by tripleo_vip if it has virtual IPs.\nEach virtual IP has a tag tripleo_vip_net for it's network.\n\nThis solves issues around public_virtual_ip on external network.\n\nResolves: #OSP-20209\n\nChange-Id: I40940aa8e6c34514dd97637734a2a1b9d1dad353\n""}, {'number': 3, 'created': '2022-11-17 20:23:24.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py', 'tripleo_ansible/tests/modules/test_tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6acbbc433f0c8e1cfc53a89ba7e18e294036672a', 'message': ""[ffwd3] Use tripleo tags in network extraction\n\nEach network is tagged by tripleo_vip if it has virtual IPs.\nEach virtual IP has a tag tripleo_vip_net for it's network.\n\nThis solves issues around public_virtual_ip on external network.\n\nResolves: #OSP-20209\n\nChange-Id: I40940aa8e6c34514dd97637734a2a1b9d1dad353\n""}]",7,864749,6acbbc433f0c8e1cfc53a89ba7e18e294036672a,19,6,3,11166,,,0,"[ffwd3] Use tripleo tags in network extraction

Each network is tagged by tripleo_vip if it has virtual IPs.
Each virtual IP has a tag tripleo_vip_net for it's network.

This solves issues around public_virtual_ip on external network.

Resolves: #OSP-20209

Change-Id: I40940aa8e6c34514dd97637734a2a1b9d1dad353
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/49/864749/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_vip_extract.py', 'tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py']",2,be163cd80a9a43aeebd5c946c5a2a4fb24df6604,, return 'tripleo_vip=True' in conn.network.get_network(network_id).tags," network_name = conn.network.get_network(network_id).name vip_ports = conn.network.ports(network_id=network_id, name='{}{}'.format(network_name, n_utils.NET_VIP_SUFFIX)) try: next(vip_ports) return True except StopIteration: pass return False",2,12
openstack%2Ftripleo-upgrade~863410,openstack/tripleo-upgrade,master,I625ba2be680c5f2091966e8285b041cdc015bf35,Update master for stable/zed,MERGED,2022-11-02 16:31:15.000000000,2022-11-23 14:50:48.000000000,2022-11-23 14:50:48.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-02 16:31:15.000000000', 'files': ['releasenotes/source/zed.rst', 'releasenotes/source/index.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/4292f9222879062cfebc1c34ed6a1ef897a6fb42', 'message': 'Update master for stable/zed\n\nAdd file to the reno documentation build to show release notes for\nstable/zed.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/zed.\n\nSem-Ver: feature\nChange-Id: I625ba2be680c5f2091966e8285b041cdc015bf35\n'}]",0,863410,4292f9222879062cfebc1c34ed6a1ef897a6fb42,6,2,1,22816,,,0,"Update master for stable/zed

Add file to the reno documentation build to show release notes for
stable/zed.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/zed.

Sem-Ver: feature
Change-Id: I625ba2be680c5f2091966e8285b041cdc015bf35
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/10/863410/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/zed.rst', 'releasenotes/source/index.rst']",2,4292f9222879062cfebc1c34ed6a1ef897a6fb42,reno-zed, zed,,7,0
openstack%2Ftripleo-heat-templates~846789,openstack/tripleo-heat-templates,master,I2d3d516008f2d362463da36e8e71affd9e259c3d,nova-compute: Remove old workaround to purge nova packages,MERGED,2022-06-20 16:48:01.000000000,2022-11-23 14:50:41.000000000,2022-11-23 14:50:41.000000000,"[{'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-06-20 16:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/126f34c2208e078041e84f8979d5a6a1beec45e0', 'message': 'nova-compute: Remove old workaround to purge nova packages\n\nThese tasks were implemented during Rocky cycle[1], and was backported\nto Queens, so we can assume these tasks were executed when a deployment\nwas upgraded to stable/train.\n\n[1] 669a7b8aeb71a3b394c784fa15e137a8edb7b08b\n\nChange-Id: I2d3d516008f2d362463da36e8e71affd9e259c3d\n'}, {'number': 2, 'created': '2022-06-20 16:48:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/05e236fa85a5298722883c099c30446a41dcc50c', 'message': 'nova-compute: Remove old workaround to purge nova packages\n\nThese tasks were implemented during Stein cycle[1], and was backported\nto Queens and Rocky, so we can assume these tasks were executed when\na deployment was upgraded to stable/train.\n\n[1] 669a7b8aeb71a3b394c784fa15e137a8edb7b08b\n\nChange-Id: I2d3d516008f2d362463da36e8e71affd9e259c3d\n'}, {'number': 3, 'created': '2022-09-08 14:08:34.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d373c4952b2543e304c08aac0f1c21bd8789103c', 'message': 'nova-compute: Remove old workaround to purge nova packages\n\nThese tasks were implemented during Stein cycle[1], and was backported\nto Queens and Rocky, so we can assume these tasks were executed when\na deployment was upgraded to stable/train.\n\n[1] 669a7b8aeb71a3b394c784fa15e137a8edb7b08b\n\nChange-Id: I2d3d516008f2d362463da36e8e71affd9e259c3d\n'}]",5,846789,d373c4952b2543e304c08aac0f1c21bd8789103c,31,5,3,9816,,,0,"nova-compute: Remove old workaround to purge nova packages

These tasks were implemented during Stein cycle[1], and was backported
to Queens and Rocky, so we can assume these tasks were executed when
a deployment was upgraded to stable/train.

[1] 669a7b8aeb71a3b394c784fa15e137a8edb7b08b

Change-Id: I2d3d516008f2d362463da36e8e71affd9e259c3d
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/89/846789/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,126f34c2208e078041e84f8979d5a6a1beec45e0,,, upgrade_tasks: - name: Remove openstack-nova-compute and python-nova package during upgrade package: name: - openstack-nova-compute - python-nova state: removed failed_when: false when: step|int == 2 update_tasks: - name: Remove openstack-nova-compute and python-nova package during upgrade package: name: - openstack-nova-compute - python-nova state: removed failed_when: false when: step|int == 2,0,18
openstack%2Ftripleo-common~865157,openstack/tripleo-common,stable/zed,Ic96679548a553960f1242850e42f9eec6e4a45f0,Fix token cache expires_at check,MERGED,2022-11-22 09:07:12.000000000,2022-11-23 14:19:18.000000000,2022-11-23 14:18:20.000000000,"[{'_account_id': 8449}, {'_account_id': 8833}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-22 09:07:12.000000000', 'files': ['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/711005a6ecd75c0ad20effc13d24b794c7e60c00', 'message': ""Fix token cache expires_at check\n\nTokens can have a expires_at field (specifically, we're seeing this issue\nwith Satellite). The token does not an expires_in. This patch allows for\nthe lookup lookup of either key from the token to resolve\ncached token authentication issues.\n\nExample token:\n```\n{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',\n 'expires_at': '2022-10-28T04:54:58.296Z',\n 'issued_at': '2022-10-17T23:45:09.306Z'}\n```\n\nIt's unnecessary to get the local time, since tokens have Zulu time. So just\ndatetime.now() is sufficient. But to perform the comparison, we need to convert\nthe string datetime from the return value into a valid datetime object.\n\nThis change corrects the describe behavior.\n\nResolves: rhbz#2134075\nChange-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0\n(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)\n""}]",1,865157,711005a6ecd75c0ad20effc13d24b794c7e60c00,9,4,1,30073,,,0,"Fix token cache expires_at check

Tokens can have a expires_at field (specifically, we're seeing this issue
with Satellite). The token does not an expires_in. This patch allows for
the lookup lookup of either key from the token to resolve
cached token authentication issues.

Example token:
```
{'token': '$2a$09$1b6453892473a467d0737uJ56J02CLEXEkOaX0pdLWgLMlg.qWDSi',
 'expires_at': '2022-10-28T04:54:58.296Z',
 'issued_at': '2022-10-17T23:45:09.306Z'}
```

It's unnecessary to get the local time, since tokens have Zulu time. So just
datetime.now() is sufficient. But to perform the comparison, we need to convert
the string datetime from the return value into a valid datetime object.

This change corrects the describe behavior.

Resolves: rhbz#2134075
Change-Id: Ic96679548a553960f1242850e42f9eec6e4a45f0
(cherry picked from commit 6e4e430b46cfdce21663fa1f2417ae925aede97e)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/57/865157/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/image/test_image_uploader.py', 'tripleo_common/image/image_uploader.py']",2,711005a6ecd75c0ad20effc13d24b794c7e60c00,fix-bearer-cache-stable/zed," if data: # expires_in is an integer value from the issued_at time. # We will use this to determine if the token should be expired # https://www.rfc-editor.org/rfc/rfc6749#section-4.2.2 if data.get('expires_in'): now = datetime.now(tzlocal()) expires_in = data.get('expires_in') token_time = dt_parse(data.get('issued_at')) if (now - token_time).seconds < expires_in: return data['token'] # TODO(bshephar) Remove once Satellite returns expected expiry # expires_at uses UTC date and time format. Although, this # field doesn't appear in the RFC for OAuth. It appears some # API's return a response with expires_at instead of expires_in # https://www.rfc-editor.org/rfc/rfc6749 # https://bugzilla.redhat.com/show_bug.cgi?id=2134075 # https://bugzilla.redhat.com/show_bug.cgi?id=2138743 elif data.get('expires_at'): now = datetime.utcnow() expires = datetime.strptime(data.get('expires_at'), ""%Y-%m-%dT%H:%M:%S.%fZ"") if now < expires: return data['token'] # If we don't have expires_in or expires_at. We can just # return the token since it probably doesn't expire. else:", if data and data.get('issued_at'): token_time = dt_parse(data.get('issued_at')) now = datetime.now(tzlocal()) expires_in = data.get('expires_in') if not expires_in or (now - token_time).seconds < expires_in:,125,5
openstack%2Fopenstack-ansible~864263,openstack/openstack-ansible,stable/wallaby,Ifd2c93a55a367902a05d6ed79406f918aaccb209,Bump services for EM release,MERGED,2022-11-11 12:14:18.000000000,2022-11-23 13:52:39.000000000,2022-11-23 13:51:16.000000000,"[{'_account_id': 22348}, {'_account_id': 31542}, {'_account_id': 32666}]","[{'number': 1, 'created': '2022-11-11 12:14:18.000000000', 'files': ['playbooks/defaults/repo_packages/openstack_services.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/91f0009dcbd45e0828f6d47e70930c524b37fc5d', 'message': 'Bump services for EM release\n\nChange-Id: Ifd2c93a55a367902a05d6ed79406f918aaccb209\n'}]",2,864263,91f0009dcbd45e0828f6d47e70930c524b37fc5d,14,3,1,28619,,,0,"Bump services for EM release

Change-Id: Ifd2c93a55a367902a05d6ed79406f918aaccb209
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/63/864263/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/defaults/repo_packages/openstack_services.yml'],1,91f0009dcbd45e0828f6d47e70930c524b37fc5d,bump_osa,adjutant_git_install_branch: wallaby-emadjutant_dashboard_git_install_branch: wallaby-emaodh_git_install_branch: wallaby-embarbican_git_install_branch: wallaby-emceilometer_git_install_branch: wallaby-emcinder_git_install_branch: wallaby-emcloudkitty_git_install_branch: wallaby-emcloudkitty_dashboard_git_install_branch: wallaby-emdesignate_git_install_branch: wallaby-emdesignate_dashboard_git_install_branch: wallaby-emglance_git_install_branch: wallaby-emheat_git_install_branch: wallaby-emheat_dashboard_git_install_branch: wallaby-emhorizon_git_install_branch: wallaby-emmagnum_dashboard_git_install_branch: wallaby-emmasakari_dashboard_git_install_branch: wallaby-emsahara_dashboard_git_install_branch: wallaby-emkeystone_git_install_branch: wallaby-emmanila_git_install_branch: wallaby-emneutron_git_install_branch: wallaby-emneutron_vpnaas_git_install_branch: wallaby-emneutron_dynamic_routing_git_install_branch: wallaby-emnetworking_odl_git_install_branch: wallaby-emnetworking_bgpvpn_git_install_branch: wallaby-emnetworking_sfc_git_install_branch: wallaby-emnova_git_install_branch: wallaby-emsahara_git_install_branch: wallaby-emsenlin_git_install_branch: wallaby-emmagnum_git_install_branch: wallaby-emmasakari_git_install_branch: wallaby-emmasakari_monitors_git_install_branch: wallaby-emmistral_git_install_branch: wallaby-emmistral_extra_git_install_branch: wallaby-emmurano_git_install_branch: wallaby-emmurano_dashboard_git_install_branch: wallaby-emtrove_git_install_branch: wallaby-emtrove_dashboard_git_install_branch: wallaby-emoctavia_git_install_branch: wallaby-empanko_git_install_branch: wallaby-emplacement_git_install_branch: wallaby-emtacker_git_install_branch: wallaby-emoctavia_dashboard_git_install_branch: wallaby-emblazar_git_install_branch: wallaby-emblazar_nova_git_install_branch: wallaby-emzun_git_install_branch: wallaby-emzun_kuryr_git_install_branch: wallaby-emzun_kuryr_lib_git_install_branch: wallaby-em,adjutant_git_install_branch: d1643a725d1f3217bd4f42bf8b25cf6a19ef8b88adjutant_dashboard_git_install_branch: 104c474479e9a89d22b96777378ff59983c03393aodh_git_install_branch: 865d6d9cdb796aba8c4edf08363cd73869776c74barbican_git_install_branch: a61489d9f8f17be78d9c3befb2740208205392fcceilometer_git_install_branch: 2569c9948ed43cc9611c7c88faa5ecabf765c275cinder_git_install_branch: 70164132dcc590c944fee36c58e93056a3447142cloudkitty_git_install_branch: 11d296f240e3c9c8f16bd50806044ff4b246d5e4cloudkitty_dashboard_git_install_branch: 31c6d8c3164a1386fd0ada8e1d24fb58180c3214designate_git_install_branch: 3f4847384d3e7c6bcb7f8d13ee62b0f9141c91fcdesignate_dashboard_git_install_branch: aedd7ec53408961be11809728fee948cde4eb496glance_git_install_branch: 677c89c23631e9083261a1a18ed438d8966e0de2heat_git_install_branch: 167ece3673f6db5db8694dff9644a73216697185heat_dashboard_git_install_branch: 12d092740b00e798035d39975277cd871befc908horizon_git_install_branch: 82698aa8901b0533f2e62868fabbf5ef4c36cea0magnum_dashboard_git_install_branch: e523a37bde515954478c14bb9e510f5c53cbe981masakari_dashboard_git_install_branch: a879b6bbfbd17d2a4dbee4c0dde200db7d944631sahara_dashboard_git_install_branch: 0948f8d3dab4f967f7704f9adee4ff6cacdfc0d4keystone_git_install_branch: ed16a1c3104edc480136313986aa840d75d2e439manila_git_install_branch: bcf07d40f66ce8ea41170c843addf37e94397835neutron_git_install_branch: 1f66c049fd1a0057140abef9a5359b4a808e2839neutron_vpnaas_git_install_branch: 21c38f07c2dd4672e431fddd81e31784af15a88bneutron_dynamic_routing_git_install_branch: 1ba3fb13b63827935d93d4b0d50ca653e217f61cnetworking_odl_git_install_branch: b377b3aa527a87f415f1a6a59362229f99855802networking_bgpvpn_git_install_branch: 188121ae61f16656b721485147e6feb98201bb99networking_sfc_git_install_branch: 71d44504dab4eac9c802db6962c10b956f52ffb1nova_git_install_branch: a9e81626c5e9dac897759c5f66c7ae1b4efa3c6dsahara_git_install_branch: 0be70b44577c531068f4b7af3d0d8e86dc654f1bsenlin_git_install_branch: ac8245b582376b460a2494ad23ff9e2d83d228cbmagnum_git_install_branch: 0ffceccac21d73cf3a93f981ed56aa894d8a3f15masakari_git_install_branch: e3f6e78847568121529d24d1fd71b166cee965afmasakari_monitors_git_install_branch: 4bda2703f2ab27aa87ea41406f9670ddbfe9908fmistral_git_install_branch: c2a0205d56642ad920d94953079c98e17c7b3536mistral_extra_git_install_branch: d34df63c3aa88e9cade80a8bfc99a594ede043f1murano_git_install_branch: 972686aa3eb527021b832e56a5d2f7c43f43f15amurano_dashboard_git_install_branch: c01fbfcaeabd74f2a6b5edbe07c7d9d7515a9deatrove_git_install_branch: 3b846ad235e459481b1bd566a7a697e4ce508a91trove_dashboard_git_install_branch: 3a6e79c3c0cabaf3293046647481a792895efb05octavia_git_install_branch: 7df2b04a348be311116ed23cf8dc4df2d5a18101panko_git_install_branch: 276d891675c692c146448180767f97362871b493placement_git_install_branch: 716b947c479e36ce2e9ec6d9e0bbab882f391892tacker_git_install_branch: 74fd9813aed21589da79ce9e0fcea19345fca089octavia_dashboard_git_install_branch: 76cf920eb476d0a8313e22a112c19429e77c7d14blazar_git_install_branch: 95a3d4d821dfb8c4fe48aff7c59cd879df69810cblazar_nova_git_install_branch: c71d01e3955a5904d1f557840285292422cbefe6zun_git_install_branch: d9b470bdab254f6deae74b424eb3d68259c2c067zun_kuryr_git_install_branch: 2d4cf6435e7878d11e5bcdb280c841dd8aabaf64zun_kuryr_lib_git_install_branch: 18590ef0a13d3bc9bb1f0759dfd1ce6a16079507,47,47
openstack%2Fnetworking-midonet~864861,openstack/networking-midonet,stable/train,I6fd991a35b6e748d3be895038b07233fb3bea48e,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""",MERGED,2022-11-17 10:24:10.000000000,2022-11-23 13:47:41.000000000,2022-11-23 13:45:48.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/2f1eb37ed71f41b6692615eb537512686ac64fdb', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nChange-Id: I6fd991a35b6e748d3be895038b07233fb3bea48e\n'}, {'number': 2, 'created': '2022-11-22 15:13:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6db22bbbb90d0d966095d322188599582e01665f', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nChange-Id: I6fd991a35b6e748d3be895038b07233fb3bea48e\n'}, {'number': 3, 'created': '2022-11-23 06:10:21.000000000', 'files': ['devstack/ml2/local.conf.sample', 'playbooks/tempest-aio-ml2-full-legacy/run.yaml', 'playbooks/tempest-multinode-ml2-full/run.yaml', 'playbooks/tempest-aio-ml2-full-centos-7/run.yaml', '.zuul.yaml', 'playbooks/tempest-aio-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2/run.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b2fc65e49653f0fc564355c5942660329b724698', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nChange-Id: I6fd991a35b6e748d3be895038b07233fb3bea48e\n'}]",1,864861,b2fc65e49653f0fc564355c5942660329b724698,12,3,3,16688,,,0,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""

The project ""tap-as-a-service"" was restored and now is being
actively developed again.

This patch is also marking all check and gate jobs as non-voting
until they are fixed.

Change-Id: I6fd991a35b6e748d3be895038b07233fb3bea48e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/61/864861/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ml2/local.conf.sample', 'playbooks/tempest-aio-ml2-full-legacy/run.yaml', 'playbooks/tempest-multinode-ml2-full/run.yaml', 'playbooks/tempest-aio-ml2-full-centos-7/run.yaml', '.zuul.yaml', 'playbooks/tempest-aio-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2/run.yaml']",7,2f1eb37ed71f41b6692615eb537512686ac64fdb,fix-zuul-errors," export PROJECTS=""openstack/tap-as-a-service $PROJECTS"""," export PROJECTS=""x/tap-as-a-service $PROJECTS""",20,20
openstack%2Fkolla-ansible~864482,openstack/kolla-ansible,stable/yoga,Ie62e9220bad56262cad602ca1480e6ca65827819,Generate ovn-chassis-mac-mappings on ovn-controller group,MERGED,2022-11-15 18:13:43.000000000,2022-11-23 13:47:09.000000000,2022-11-16 15:55:52.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-15 18:13:43.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/86e2f2df428cc8e8157942b8776600fa9674ff99', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)\n'}]",1,864482,86e2f2df428cc8e8157942b8776600fa9674ff99,11,6,1,22629,,,0,"Generate ovn-chassis-mac-mappings on ovn-controller group

Previously ovn-chassis-mac-mappings [1] has been added only to
ovn-controller-compute group. However external ports are being
scheduled on network nodes, therefore we need also do that there.

Closes-Bug: 1995078

[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239

Change-Id: Ie62e9220bad56262cad602ca1480e6ca65827819
(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/82/864482/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,86e2f2df428cc8e8157942b8776600fa9674ff99,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }",10,1
openstack%2Fkolla-ansible~864484,openstack/kolla-ansible,stable/wallaby,Ie62e9220bad56262cad602ca1480e6ca65827819,Generate ovn-chassis-mac-mappings on ovn-controller group,MERGED,2022-11-15 18:14:07.000000000,2022-11-23 13:46:54.000000000,2022-11-16 16:17:50.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-15 18:14:07.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/40a4240e88573b43e3b7a7b98a9949f8029a1d18', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)\n'}]",1,864484,40a4240e88573b43e3b7a7b98a9949f8029a1d18,11,6,1,22629,,,0,"Generate ovn-chassis-mac-mappings on ovn-controller group

Previously ovn-chassis-mac-mappings [1] has been added only to
ovn-controller-compute group. However external ports are being
scheduled on network nodes, therefore we need also do that there.

Closes-Bug: 1995078

[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239

Change-Id: Ie62e9220bad56262cad602ca1480e6ca65827819
(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/84/864484/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,40a4240e88573b43e3b7a7b98a9949f8029a1d18,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }",10,1
openstack%2Fkolla-ansible~864483,openstack/kolla-ansible,stable/xena,Ie62e9220bad56262cad602ca1480e6ca65827819,Generate ovn-chassis-mac-mappings on ovn-controller group,MERGED,2022-11-15 18:13:54.000000000,2022-11-23 13:46:43.000000000,2022-11-16 16:17:48.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 34533}]","[{'number': 1, 'created': '2022-11-15 18:13:54.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/55fb10b7820fa6c5de45774ca793427bc27a3e38', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)\n'}]",1,864483,55fb10b7820fa6c5de45774ca793427bc27a3e38,11,6,1,22629,,,0,"Generate ovn-chassis-mac-mappings on ovn-controller group

Previously ovn-chassis-mac-mappings [1] has been added only to
ovn-controller-compute group. However external ports are being
scheduled on network nodes, therefore we need also do that there.

Closes-Bug: 1995078

[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239

Change-Id: Ie62e9220bad56262cad602ca1480e6ca65827819
(cherry picked from commit 8bf8656dbad3def707eca2d8ddd2c9bfed389b86)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/83/864483/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,55fb10b7820fa6c5de45774ca793427bc27a3e38,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }",10,1
openstack%2Fnetworking-midonet~864866,openstack/networking-midonet,stable/ussuri,I6fd40b1ec59a840272261fca039c8fb49fc5e478,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""",MERGED,2022-11-17 10:27:54.000000000,2022-11-23 13:44:28.000000000,2022-11-23 13:44:28.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:27:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/6a6a713b9a614bd6e52b6f9e6c2cdc5a9ed0cab4', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nChange-Id: I6fd40b1ec59a840272261fca039c8fb49fc5e478\n'}, {'number': 2, 'created': '2022-11-22 15:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/9d3392dec4ad281425af8adffba9ea63175cc78e', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nChange-Id: I6fd40b1ec59a840272261fca039c8fb49fc5e478\n'}, {'number': 3, 'created': '2022-11-22 15:38:20.000000000', 'files': ['devstack/ml2/local.conf.sample', 'playbooks/tempest-aio-ml2-full-legacy/run.yaml', 'playbooks/tempest-multinode-ml2-full/run.yaml', 'playbooks/tempest-aio-ml2-full-centos-7/run.yaml', '.zuul.yaml', 'playbooks/tempest-aio-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2/run.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7bebd5e1ee8415e1808b10c960f5722a207e79f7', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed. Some templates (check-requirements,\npublish-openstack-docs-pti and release-notes-jobs-python3) are\nremoved too.\n\nChange-Id: I6fd40b1ec59a840272261fca039c8fb49fc5e478\n'}]",0,864866,7bebd5e1ee8415e1808b10c960f5722a207e79f7,11,3,3,16688,,,0,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""

The project ""tap-as-a-service"" was restored and now is being
actively developed again.

This patch is also marking all check and gate jobs as non-voting
until they are fixed. Some templates (check-requirements,
publish-openstack-docs-pti and release-notes-jobs-python3) are
removed too.

Change-Id: I6fd40b1ec59a840272261fca039c8fb49fc5e478
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/66/864866/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ml2/local.conf.sample', 'playbooks/tempest-aio-ml2-full-legacy/run.yaml', 'playbooks/tempest-multinode-ml2-full/run.yaml', 'playbooks/tempest-aio-ml2-full-centos-7/run.yaml', '.zuul.yaml', 'playbooks/tempest-aio-ml2-centos-7/run.yaml', 'playbooks/tempest-multinode-ml2/run.yaml']",7,6a6a713b9a614bd6e52b6f9e6c2cdc5a9ed0cab4,fix-zuul-errors," export PROJECTS=""openstack/tap-as-a-service $PROJECTS"""," export PROJECTS=""x/tap-as-a-service $PROJECTS""",18,18
openstack%2Fnetworking-midonet~864867,openstack/networking-midonet,stable/victoria,I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""",MERGED,2022-11-17 10:33:38.000000000,2022-11-23 13:38:19.000000000,2022-11-23 13:38:19.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:33:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bce9e623cc58eb6d05e00793f1ef5bcbc730e191', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nChange-Id: I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b\n'}, {'number': 2, 'created': '2022-11-22 15:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bf3d169a1790674ef47f5e666c599708c8b8b315', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nChange-Id: I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b\n'}, {'number': 3, 'created': '2022-11-22 15:23:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bad02a7d1a0b4fc308be469bc4f4fc86ad013a16', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nJob ""networking-midonet-ml2-tempest-aio-centos8"" is deleted because\nnodeset ""devstack-single-node-centos-8"" does not exist.\n\nChange-Id: I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b\n'}, {'number': 4, 'created': '2022-11-23 09:24:34.000000000', 'files': ['devstack/ml2/local.conf.sample', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/653ffae3778f9f8a398d003a3a58cf02e2d4918c', 'message': 'Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""\n\nThe project ""tap-as-a-service"" was restored and now is being\nactively developed again.\n\nThis patch is also marking all check and gate jobs as non-voting\nuntil they are fixed.\n\nJob ""networking-midonet-ml2-tempest-aio-centos8"" is deleted because\nnodeset ""devstack-single-node-centos-8"" does not exist. Some templates\n(check-requirements, publish-openstack-docs-pti and\nrelease-notes-jobs-python3) are removed too.\n\nChange-Id: I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b\n'}]",3,864867,653ffae3778f9f8a398d003a3a58cf02e2d4918c,13,3,4,16688,,,0,"Replace ""x/tap-as-a-service"" with ""openstack/tap-as-a-service""

The project ""tap-as-a-service"" was restored and now is being
actively developed again.

This patch is also marking all check and gate jobs as non-voting
until they are fixed.

Job ""networking-midonet-ml2-tempest-aio-centos8"" is deleted because
nodeset ""devstack-single-node-centos-8"" does not exist. Some templates
(check-requirements, publish-openstack-docs-pti and
release-notes-jobs-python3) are removed too.

Change-Id: I7e2c47b5faef14c539ce4ec9d8c9c6b4e80c462b
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/67/864867/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/ml2/local.conf.sample', 'zuul.d/project.yaml', 'zuul.d/jobs.yaml']",3,bce9e623cc58eb6d05e00793f1ef5bcbc730e191,fix-zuul-errors, - opendev.org/openstack/tap-as-a-service - opendev.org/openstack/tap-as-a-service, - opendev.org/x/tap-as-a-service - opendev.org/x/tap-as-a-service,10,10
openstack%2Fneutron~861320,openstack/neutron,master,Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe,DNM: testing Neutron jobs on Ubuntu jammy (22.04),ABANDONED,2022-10-14 07:16:54.000000000,2022-11-23 13:30:37.000000000,,"[{'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 07:16:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/824c91c937e704b3836c4c5153ad44d80dae06ab', 'message': 'DNM: testing Neutron jobs on Ubuntu jammy (22.04)\n\nChange-Id: Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n'}, {'number': 2, 'created': '2022-10-21 05:17:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/109bea2a705f2f4a4976a4523e0dabf9ec0fcda5', 'message': 'DNM: testing Neutron jobs on Ubuntu jammy (22.04)\n\nChange-Id: Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219\n'}, {'number': 3, 'created': '2022-10-24 10:19:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e3275b017a83cae3721ab3e7204aa37218533c8f', 'message': 'DNM: testing Neutron jobs on Ubuntu jammy (22.04)\n\nChange-Id: Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/862479\n'}, {'number': 4, 'created': '2022-10-26 13:51:39.000000000', 'files': ['neutron/opts.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d50d751098303c9ec3a3e4d1dd8bef44f12539b6', 'message': 'DNM: testing Neutron jobs on Ubuntu jammy (22.04)\n\nChange-Id: Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/862479\n'}]",11,861320,d50d751098303c9ec3a3e4d1dd8bef44f12539b6,53,3,4,8313,,,0,"DNM: testing Neutron jobs on Ubuntu jammy (22.04)

Change-Id: Id28a0a5b2f9f38e2a19e6b8f3be430cd9a2cf6fe
Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Depends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219
Depends-On: https://review.opendev.org/c/openstack/devstack/+/862479
",git fetch https://review.opendev.org/openstack/neutron refs/changes/20/861320/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/opts.py'],1,824c91c937e704b3836c4c5153ad44d80dae06ab,migrate-to-jammy,# DNM: test jobs with Jammy Jellyfish,,1,0
openstack%2Fnetworking-bagpipe~862893,openstack/networking-bagpipe,stable/wallaby,Ic6d37a4e035d55b1444a41793143da68322994a2,Follow pyroute2 changes,ABANDONED,2022-10-28 15:44:54.000000000,2022-11-23 13:30:11.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-10-28 15:44:54.000000000', 'files': ['networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py'], 'web_link': 'https://opendev.org/openstack/networking-bagpipe/commit/ad2729c1f8a4021b5c054e53b71c3fbaa7129333', 'message': 'Follow pyroute2 changes\n\npyroute2 recently changed its module structure (see [1]) and deprecated\nIPDB (see [2]), this patch tries to address these.\n\n[1]: https://github.com/svinota/pyroute2/discussions/786\n[2]: https://github.com/svinota/pyroute2/discussions/788\n\nChange-Id: Ic6d37a4e035d55b1444a41793143da68322994a2\n(cherry picked from commit b01bc67ab803d89754f2da016761301dad353501)\n'}]",1,862893,ad2729c1f8a4021b5c054e53b71c3fbaa7129333,4,1,1,8313,,,0,"Follow pyroute2 changes

pyroute2 recently changed its module structure (see [1]) and deprecated
IPDB (see [2]), this patch tries to address these.

[1]: https://github.com/svinota/pyroute2/discussions/786
[2]: https://github.com/svinota/pyroute2/discussions/788

Change-Id: Ic6d37a4e035d55b1444a41793143da68322994a2
(cherry picked from commit b01bc67ab803d89754f2da016761301dad353501)
",git fetch https://review.opendev.org/openstack/networking-bagpipe refs/changes/93/862893/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_bagpipe/bagpipe_bgp/vpn/evpn/linux_vxlan.py', 'networking_bagpipe/bagpipe_bgp/vpn/ipvpn/mpls_linux_dataplane.py']",2,ad2729c1f8a4021b5c054e53b71c3fbaa7129333,pr2modules-stable/wallaby,"from pyroute2 import common as pr_common # pylint: disable=no-name-in-module from pyroute2 import netlink # pylint: disable=no-name-in-module req = {'family': pr_common.AF_MPLS, ipr.flush_routes(family=pr_common.AF_MPLS)","from pyroute2 import netlink req = {'family': pyroute2.common.AF_MPLS, ipr.flush_routes(family=pyroute2.common.AF_MPLS)",17,14
openstack%2Fneutron-tempest-plugin~861319,openstack/neutron-tempest-plugin,master,Ib1ed9df8781849665e7c87f558f311aea52698b7,DNM: testing Neutron tempest jobs on Ubuntu jammy (22.04),ABANDONED,2022-10-14 07:13:23.000000000,2022-11-23 13:28:32.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-14 07:13:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e428060fdc4986545e4fcfa848579ee65ed9ed2b', 'message': 'DNM: testign nova jobs on Ubuntu jammy (22.04)\n\nChange-Id: Ib1ed9df8781849665e7c87f558f311aea52698b7\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n'}, {'number': 2, 'created': '2022-10-14 07:15:29.000000000', 'files': ['neutron_tempest_plugin/config.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/76df4c71390185b87f0a4442802be141deaa475b', 'message': 'DNM: testing Neutron tempest jobs on Ubuntu jammy (22.04)\n\nChange-Id: Ib1ed9df8781849665e7c87f558f311aea52698b7\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\n'}]",0,861319,76df4c71390185b87f0a4442802be141deaa475b,4,2,2,8313,,,0,"DNM: testing Neutron tempest jobs on Ubuntu jammy (22.04)

Change-Id: Ib1ed9df8781849665e7c87f558f311aea52698b7
Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/19/861319/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/config.py'],1,e428060fdc4986545e4fcfa848579ee65ed9ed2b,migrate-to-jammy,# DNM: test jobs with Jammy Jellyfish,,1,0
openstack%2Fkolla-ansible~864510,openstack/kolla-ansible,master,Ie62e9220bad56262cad602ca1480e6ca65827819,Generate ovn-chassis-mac-mappings on ovn-controller group,MERGED,2022-11-15 10:21:00.000000000,2022-11-23 13:16:59.000000000,2022-11-15 16:52:07.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23084}, {'_account_id': 24072}, {'_account_id': 27339}, {'_account_id': 32657}]","[{'number': 1, 'created': '2022-11-15 10:21:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a4cebf162552287cf882fea8fe3eedd01b967d8a', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ``ovn-chassis-mac-mappings`` [1] has been added only to\n``ovn-controller-compute`` group. However external ports are being scheduled\non network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n'}, {'number': 2, 'created': '2022-11-15 10:22:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/dd4b1b0305f6d7bf243c6e1532d1a9751837bf2e', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ``ovn-chassis-mac-mappings`` [1] has been added only to\n``ovn-controller-compute`` group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n'}, {'number': 3, 'created': '2022-11-15 10:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/94ed4fba1e4982fc943a3c11c7cab130084771e0', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n'}, {'number': 4, 'created': '2022-11-15 11:17:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff2f7a20ff79334f8ccb763bf8e6d05f6008c5dc', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n'}, {'number': 5, 'created': '2022-11-15 13:13:03.000000000', 'files': ['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8bf8656dbad3def707eca2d8ddd2c9bfed389b86', 'message': 'Generate ovn-chassis-mac-mappings on ovn-controller group\n\nPreviously ovn-chassis-mac-mappings [1] has been added only to\novn-controller-compute group. However external ports are being\nscheduled on network nodes, therefore we need also do that there.\n\nCloses-Bug: 1995078\n\n[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239\n\nChange-Id: Ie62e9220bad56262cad602ca1480e6ca65827819\n'}]",8,864510,8bf8656dbad3def707eca2d8ddd2c9bfed389b86,24,7,5,23084,,,0,"Generate ovn-chassis-mac-mappings on ovn-controller group

Previously ovn-chassis-mac-mappings [1] has been added only to
ovn-controller-compute group. However external ports are being
scheduled on network nodes, therefore we need also do that there.

Closes-Bug: 1995078

[1] https://github.com/ovn-org/ovn/blob/v22.09.0/controller/ovn-controller.8.xml#L239

Change-Id: Ie62e9220bad56262cad602ca1480e6ca65827819
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/10/864510/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/bug-1995078-2671a868c4fd27d3.yaml', 'ansible/roles/ovn/tasks/bootstrap.yml']",2,a4cebf162552287cf882fea8fe3eedd01b967d8a,," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller'] else 'absent' }}"" }"," - { name: ovn-chassis-mac-mappings, value: ""{{ ovn_macs }}"", state: ""{{ 'present' if inventory_hostname in groups['ovn-controller-compute'] else 'absent' }}"" }",8,1
openstack%2Fcastellan~858749,openstack/castellan,master,Ic2b9e6afe9371dbe135e90fa6df36a8e91921556,Make tests more consistent,MERGED,2022-09-21 14:38:49.000000000,2022-11-23 13:11:49.000000000,2022-11-23 13:10:50.000000000,"[{'_account_id': 9914}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-21 14:38:49.000000000', 'files': ['tox.ini', 'castellan/tests/functional/key_manager/test_key_manager.py'], 'web_link': 'https://opendev.org/openstack/castellan/commit/316db6cb534dfeb7bafacd13864c8144a95f20f6', 'message': 'Make tests more consistent\n\nTests periodically fail right now because the cleanup which is\nrunning in a different thread sometimes removes the managed objects\nbefore we have completed testing with them.  The change to use\nconcurrency=1 will slow down the tests, but also make them more\nconsistent.\n\nAlso, when things are not cleaned up, you can get false positive\nresults if multiple objects contain the same content.  This will\nfix this problem by making the contents unique.\n\nChange-Id: Ic2b9e6afe9371dbe135e90fa6df36a8e91921556\n'}]",1,858749,316db6cb534dfeb7bafacd13864c8144a95f20f6,12,3,1,9914,,,0,"Make tests more consistent

Tests periodically fail right now because the cleanup which is
running in a different thread sometimes removes the managed objects
before we have completed testing with them.  The change to use
concurrency=1 will slow down the tests, but also make them more
consistent.

Also, when things are not cleaned up, you can get false positive
results if multiple objects contain the same content.  This will
fix this problem by making the contents unique.

Change-Id: Ic2b9e6afe9371dbe135e90fa6df36a8e91921556
",git fetch https://review.opendev.org/openstack/castellan refs/changes/49/858749/1 && git format-patch -1 --stdout FETCH_HEAD,"['tox.ini', 'castellan/tests/functional/key_manager/test_key_manager.py']",2,316db6cb534dfeb7bafacd13864c8144a95f20f6,add-consumers,"from oslo_utils import uuidutils data = bytes(uuidutils.generate_uuid(), encoding='utf-8') data = bytes(uuidutils.generate_uuid(), encoding='utf-8')", data = bytes(b'opaque data') data = bytes(b'passphrase'),6,5
openstack%2Ftripleo-ansible~865419,openstack/tripleo-ansible,master,Ia5767454ba07c2bef13bb71477fbb13d1f46b2e1,bnr - Molecule configuration modification to avoid puppet warnings,ABANDONED,2022-11-23 11:40:46.000000000,2022-11-23 12:37:46.000000000,,[],"[{'number': 1, 'created': '2022-11-23 11:40:46.000000000', 'files': ['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79cb5d550988f4d7a7fc917fcd9b1aff02c8ccd1', 'message': 'bnr - Molecule configuration modification to avoid puppet warnings\n\nPatches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue\nSince hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.\nChange-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325\n\nChange-Id: Ia5767454ba07c2bef13bb71477fbb13d1f46b2e1\n'}]",0,865419,79cb5d550988f4d7a7fc917fcd9b1aff02c8ccd1,3,0,1,34423,,,0,"bnr - Molecule configuration modification to avoid puppet warnings

Patches in backup and restore role are not passing the gate because a warning in the puppet lookup command test that makes the molecule job to fail. Changing the format of the hiera.yaml file from version 3 to version 5 fixes the issue
Since hiera command is not compatilbe with hiera.yaml version 5, is also needed to move from hiera command to puppet lookup.
Change-Id: I706fc8b26c569c916c4832e9a1845f527b2eb325

Change-Id: Ia5767454ba07c2bef13bb71477fbb13d1f46b2e1
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/19/865419/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/backup_and_restore/tasks/main.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/service_manager_pause.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/setup_rear.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/db_backup.yml', 'tripleo_ansible/roles/backup_and_restore/molecule/default/prepare.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/ceph.yml', 'tripleo_ansible/roles/backup_and_restore/tasks/pacemaker_start.yml']",7,79cb5d550988f4d7a7fc917fcd9b1aff02c8ccd1,bnr_molecule, command: puppet lookup 'service_names', command: hiera -c '{{ tripleo_backup_and_restore_hiera_config_file }}' 'service_names',34,20
openstack%2Fos-ken~864870,openstack/os-ken,master,Ia2199a2d379baa65733c476e9652999cc3d37344,"Update nx_actions.py, fixing a typo on example",MERGED,2022-11-17 10:57:05.000000000,2022-11-23 12:25:44.000000000,2022-11-23 12:24:48.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/ce166eb60b6db4e7d1c003a8edfaa91a8b338fbb', 'message': 'Update nx_actions.py, fixing a typo on example\n\nBackport from https://github.com/faucetsdn/ryu/commit/5b1343\n\nStory: #2009283\nTask: #46864\nChange-Id: Ia2199a2d379baa65733c476e9652999cc3d37344\n'}, {'number': 2, 'created': '2022-11-17 12:22:44.000000000', 'files': ['os_ken/ofproto/nx_actions.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/e28853266b042f0c4a1929040b7638d580ea216e', 'message': 'Update nx_actions.py, fixing a typo on example\n\nBackport from https://github.com/faucetsdn/ryu/commit/5b1343\n\nStory: #2009283\nTask: #46864\nChange-Id: Ia2199a2d379baa65733c476e9652999cc3d37344\n'}]",0,864870,e28853266b042f0c4a1929040b7638d580ea216e,10,3,2,16688,,,0,"Update nx_actions.py, fixing a typo on example

Backport from https://github.com/faucetsdn/ryu/commit/5b1343

Story: #2009283
Task: #46864
Change-Id: Ia2199a2d379baa65733c476e9652999cc3d37344
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/70/864870/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/ofproto/nx_actions.py'],1,ce166eb60b6db4e7d1c003a8edfaa91a8b338fbb,task/46864," actions += [parser.NXActionResubmitTable(in_port=8080, table_id=10)]"," actions += [parser.NXActionResubmit(in_port=8080, table_id=10)]",2,2
openstack%2Fneutron-lib~864735,openstack/neutron-lib,stable/zed,I0531ea2c1bf29aecfab9b491eefef044a4ee49ad,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""",MERGED,2022-11-16 14:00:31.000000000,2022-11-23 12:19:11.000000000,2022-11-23 12:18:03.000000000,"[{'_account_id': 8313}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-16 14:00:31.000000000', 'files': ['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/64b45c627ac164ca075542b095d34d80b12c9b95', 'message': 'Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""\n\nThe plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.\nThe policy engine can now check the QoS rule ownership using the QoS\npolicy project ID. The QoS rules are resources that do not have an\nassigned project ID, it is inherited from the QoS policy. This patch\nallows to check a QoS rule ownership using the ""ext_parent_policy_id""\nfield, that stores the QoS policy project ID.\n\nNOTE: once released, this bug fix must include Neutron unit tests\nchecking, using the rules:\n  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""\n  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""\n  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""\n\nCloses-Bug: #1996606\nChange-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad\n(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)\n'}]",4,864735,64b45c627ac164ca075542b095d34d80b12c9b95,16,4,1,16688,,,0,"Added ""qos"" plugin to ""EXT_PARENT_RESOURCE_MAPPING""

The plugin ""qos"" is added to the ""EXT_PARENT_RESOURCE_MAPPING"" constant.
The policy engine can now check the QoS rule ownership using the QoS
policy project ID. The QoS rules are resources that do not have an
assigned project ID, it is inherited from the QoS policy. This patch
allows to check a QoS rule ownership using the ""ext_parent_policy_id""
field, that stores the QoS policy project ID.

NOTE: once released, this bug fix must include Neutron unit tests
checking, using the rules:
  ""update_policy_bandwidth_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_packet_rate_limit_rule"": ""rule:admin_or_owner""
  ""update_policy_dscp_marking_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_bandwidth_rule"": ""rule:admin_or_owner""
  ""update_policy_minimum_packet_rate_rule"": ""rule:admin_or_owner""

Closes-Bug: #1996606
Change-Id: I0531ea2c1bf29aecfab9b491eefef044a4ee49ad
(cherry picked from commit 7e4a6beed43d28f7ab0c6c47ea056c70ea7b1fea)
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/35/864735/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/services/constants.py', 'releasenotes/notes/qos-plugin-parent-resource-mapping-ab5208caba9eda01.yaml']",2,64b45c627ac164ca075542b095d34d80b12c9b95,bug/1996606,--- other: - | Parent resource mapping was added to ``EXT_PARENT_RESOURCE_MAPPING`` in ``neutron_lib.services.constants`` for the ``qos`` plugin. ,,8,1
openstack%2Fos-ken~864869,openstack/os-ken,master,I3bfd54851717238330af82655361b7b631079f59,Add msgpack 1.0 support,MERGED,2022-11-17 10:51:48.000000000,2022-11-23 12:18:08.000000000,2022-11-23 12:16:02.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-ken/commit/a945b1b99bc16e4ea484ba28cc7ead307611fe89', 'message': 'Add msgpack 1.0 support\n\nThis project now only supports msgpack versions >= 1.0.0\n\nBackport from https://github.com/faucetsdn/ryu/commit/aa10ca\n\nStory: #2009283\nTask: #46863\nChange-Id: I3bfd54851717238330af82655361b7b631079f59\n'}, {'number': 2, 'created': '2022-11-17 12:22:32.000000000', 'files': ['os_ken/services/protocols/bgp/net_ctrl.py', 'os_ken/lib/rpc.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/fc75bd821b9c45279db9d88c6f640b24b4799f36', 'message': 'Add msgpack 1.0 support\n\nThis project now only supports msgpack versions >= 1.0.0\n\nBackport from https://github.com/faucetsdn/ryu/commit/aa10ca\n\nStory: #2009283\nTask: #46863\nChange-Id: I3bfd54851717238330af82655361b7b631079f59\n'}]",0,864869,fc75bd821b9c45279db9d88c6f640b24b4799f36,10,3,2,16688,,,0,"Add msgpack 1.0 support

This project now only supports msgpack versions >= 1.0.0

Backport from https://github.com/faucetsdn/ryu/commit/aa10ca

Story: #2009283
Task: #46863
Change-Id: I3bfd54851717238330af82655361b7b631079f59
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/69/864869/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_ken/services/protocols/bgp/net_ctrl.py', 'os_ken/lib/rpc.py', 'tools/pip-requires']",3,a945b1b99bc16e4ea484ba28cc7ead307611fe89,task/46863,<<<<<<< HEAD,,14,3
openstack%2Fos-ken~864868,openstack/os-ken,master,I2f04d74f85ade54e0826494f078c88a2a3e24a55,Enforce new msgpack format (use_bin_type=True),MERGED,2022-11-17 10:44:48.000000000,2022-11-23 12:17:11.000000000,2022-11-23 12:15:56.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 10:44:48.000000000', 'files': ['os_ken/services/protocols/bgp/net_ctrl.py'], 'web_link': 'https://opendev.org/openstack/os-ken/commit/f10f2b2852479805d9bd5c6b2fdbc7154a3d2df9', 'message': 'Enforce new msgpack format (use_bin_type=True)\n\nEnforce new msgpack format (use_bin_type=True) in\nryu.services.protocols.bgp.net_ctrl.RpcSession; this option\nis already used in ryu.lib.rpc.MessageEncoder\n\nBackport from https://github.com/faucetsdn/ryu/commit/8990ed\n\nStory: #2009283\nTask: #46863\nChange-Id: I2f04d74f85ade54e0826494f078c88a2a3e24a55\n'}]",0,864868,f10f2b2852479805d9bd5c6b2fdbc7154a3d2df9,8,3,1,16688,,,0,"Enforce new msgpack format (use_bin_type=True)

Enforce new msgpack format (use_bin_type=True) in
ryu.services.protocols.bgp.net_ctrl.RpcSession; this option
is already used in ryu.lib.rpc.MessageEncoder

Backport from https://github.com/faucetsdn/ryu/commit/8990ed

Story: #2009283
Task: #46863
Change-Id: I2f04d74f85ade54e0826494f078c88a2a3e24a55
",git fetch https://review.opendev.org/openstack/os-ken refs/changes/68/864868/1 && git format-patch -1 --stdout FETCH_HEAD,['os_ken/services/protocols/bgp/net_ctrl.py'],1,f10f2b2852479805d9bd5c6b2fdbc7154a3d2df9,task/46863," self._packer = msgpack.Packer(encoding='utf-8', use_bin_type=True) self._unpacker = msgpack.Unpacker(encoding='utf-8')", self._packer = msgpack.Packer() self._unpacker = msgpack.Unpacker(strict_map_key=False),2,2
openstack%2Fneutron~864542,openstack/neutron,stable/yoga,Ib8d193d6f84182a9f1d905e6b5c5a35b4435e003,Check subnet overlapping after add router interface,ABANDONED,2022-11-15 13:28:45.000000000,2022-11-23 12:13:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-15 13:28:45.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/8ed716a0cceac0893acf853ddfbc077d42a4e811', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nConflicts:\n      neutron/db/l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\nCloses-Bug: #1987666\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\nChange-Id: Ib8d193d6f84182a9f1d905e6b5c5a35b4435e003\n'}]",0,864542,8ed716a0cceac0893acf853ddfbc077d42a4e811,4,1,1,34451,,,0,"Check subnet overlapping after add router interface

When simultaneous attempts are made to add an interface
to the same router including overlapping networks in cidrs,
both attempts are successful. There is a check to avoid this
overlap but is performed when creating the network interface
and it is done over the ports already attached to the router,
so at this moment the check is not able to detect the
overlapping. Furthermore, the create_port operation over the
ML2 plugin  must be executed in isolated transactions, so
trying to control the execution context or adding additional
steps to the transaction is not feasible.

This patch checks once the RouterPort is created on the
neutron database if there is more than one overlapping port,
triggering in that case the exception that will remove the
the culprit of overlapping.

Conflicts:
      neutron/db/l3_db.py
(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)

Closes-Bug: #1987666
(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)
Change-Id: Ib8d193d6f84182a9f1d905e6b5c5a35b4435e003
",git fetch https://review.opendev.org/openstack/neutron refs/changes/42/864542/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py']",3,8ed716a0cceac0893acf853ddfbc077d42a4e811,," def test__raise_on_subnets_overlap_does_not_raise(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/24'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.2.0.0/24'}] self.db._raise_on_subnets_overlap(subnets[0], subnets[1]) def test__raise_on_subnets_overlap_raises(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/20'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.1.10.0/24'}] self.assertRaises( n_exc.BadRequest, self.db._raise_on_subnets_overlap, subnets[0], subnets[1]) def test__validate_one_router_ipv6_port_per_network(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network2', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_mix_ipv4_ipv6(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '10.1.10.0/24').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_failed(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.assertRaises( n_exc.BadRequest, self.db._validate_one_router_ipv6_port_per_network, router, new_port) @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_port_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') ipa = str(netaddr.IPNetwork(subnet['subnet']['cidr']).ip + 10) fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': ipa}] port = self.create_port( network2['network']['id'], {'fixed_ips': fixed_ips}) self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': port['port']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': self.ports[0]['port']['id']}) mock_raise_on_subnets_overlap.assert_called_once() @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_subnet_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': subnet['subnet']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': self.subnets[0]['subnet']['id']}) mock_raise_on_subnets_overlap.assert_called_once() ",,246,30
openstack%2Ftrove-tempest-plugin~854853,openstack/trove-tempest-plugin,master,Ie929cf7fc728e108c17561976b62094f24676193,setup.cfg: Replace dashes with underscores,MERGED,2022-08-27 02:06:45.000000000,2022-11-23 11:28:14.000000000,2022-11-23 11:28:14.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-08-27 02:06:45.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/trove-tempest-plugin/commit/4cd62b2a3d9151d83ce5d9f4e814b366c09c1de8', 'message': ""setup.cfg: Replace dashes with underscores\n\nSetuptools v54.1.0 introduces a warning that the use of\ndash-separated options in 'setup.cfg' will not be supported\nin a future version [1].\nGet ahead of the issue by replacing the dashes with underscores.\nWithout this, we see 'UserWarning' messages\nlike the following on new enough\nversions of setuptools:\n\n  UserWarning: Usage of dash-separated 'description-file' will not be\n  supported in future versions. Please use the underscore name\n  'description_file' instead\n\n[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb\n\nChange-Id: Ie929cf7fc728e108c17561976b62094f24676193\n""}]",0,854853,4cd62b2a3d9151d83ce5d9f4e814b366c09c1de8,6,2,1,32029,,,0,"setup.cfg: Replace dashes with underscores

Setuptools v54.1.0 introduces a warning that the use of
dash-separated options in 'setup.cfg' will not be supported
in a future version [1].
Get ahead of the issue by replacing the dashes with underscores.
Without this, we see 'UserWarning' messages
like the following on new enough
versions of setuptools:

  UserWarning: Usage of dash-separated 'description-file' will not be
  supported in future versions. Please use the underscore name
  'description_file' instead

[1] https://github.com/pypa/setuptools/commit/a2e9ae4cb

Change-Id: Ie929cf7fc728e108c17561976b62094f24676193
",git fetch https://review.opendev.org/openstack/trove-tempest-plugin refs/changes/53/854853/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,4cd62b2a3d9151d83ce5d9f4e814b366c09c1de8,setup,minversion = 3.18.0,minversion = 3.1.1,4,4
openstack%2Ftrove~863721,openstack/trove,master,If90736e1907a05aa48dacfc31f8ee46dfbed612b,Imported Translations from Zanata,MERGED,2022-11-05 02:28:06.000000000,2022-11-23 11:28:12.000000000,2022-11-23 11:27:05.000000000,"[{'_account_id': 22348}, {'_account_id': 26285}]","[{'number': 1, 'created': '2022-11-05 02:28:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/trove/commit/fb106ed3920a02d8f5c8b72942dd0c21284d567b', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If90736e1907a05aa48dacfc31f8ee46dfbed612b\n'}, {'number': 2, 'created': '2022-11-22 03:38:49.000000000', 'files': ['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/trove/commit/257c7b4f62a272043824892208521b0920e85b7c', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: If90736e1907a05aa48dacfc31f8ee46dfbed612b\n'}]",0,863721,257c7b4f62a272043824892208521b0920e85b7c,9,2,2,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: If90736e1907a05aa48dacfc31f8ee46dfbed612b
",git fetch https://review.opendev.org/openstack/trove refs/changes/21/863721/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/en_GB/LC_MESSAGES/releasenotes.po'],1,fb106ed3920a02d8f5c8b72942dd0c21284d567b,zanata/translations,"""POT-Creation-Date: 2022-10-19 15:07+0000\n""""PO-Revision-Date: 2022-11-04 10:52+0000\n""msgid ""18.0.0"" msgstr ""18.0.0""msgid ""New Features"" msgstr ""New Features"" msgid """" ""New framework for ``trove-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Trove "" ""upgrade to ensure if the upgrade can be performed safely."" msgstr """" ""New framework for ``trove-status upgrade check`` command is added. This "" ""framework allows adding various checks which can be run before a Trove "" ""upgrade to ensure if the upgrade can be performed safely."" msgid """" ""New instance upgrade API supports upgrading an instance of a datastore to a "" ""new datastore version. Includes implementation for MySQL family of "" ""databases."" msgstr """" ""New instance upgrade API supports upgrading an instance of a datastore to a "" ""new datastore version. Includes implementation for MySQL family of "" ""databases."" msgid """" ""New quota management APIs for reviewing and changing the quota for a "" ""particular tenant. Requires admin privileges."" msgstr """" ""New quota management APIs for reviewing and changing the quota for a "" ""particular tenant. Requires admin privileges."" msgid ""Only one trove guest image is needed for all the datastores."" msgstr ""Only one trove guest image is needed for all the datastores."" msgid """" ""OpenStack Trove now supports clustering for Cassandra datastores. You can "" ""access clustering capabilities through the Trove cluster API."" msgstr """" ""OpenStack Trove now supports clustering for Cassandra datastores. You can "" ""access clustering capabilities through the Trove cluster API."" msgid """" ""OpenStack Trove now supports clustering for MariaDB datastores. You can "" ""access clustering capabilities through the Trove cluster API."" msgstr """" ""OpenStack Trove now supports clustering for MariaDB datastores. You can "" ""access clustering capabilities through the Trove cluster API."" msgid ""Other Notes"" msgstr ""Other Notes"" msgid """" ""Pass instance nic and az to cluster grow. Add specific Fix for mongodb to "" ""use the instance nic and az."" msgstr """" ""Pass instance nic and az to cluster grow. Add specific Fix for MongoDB to "" ""use the instance nic and az."" msgid """" ""Peviously root disable API returns a HTTP 200 response without any content, "" ""a HTTP 204 reponse which is more appropriate will be returned now."" msgstr """" ""Previously root disable API returns a HTTP 200 response without any content, "" ""a HTTP 204 response which is more appropriate will be returned now."" msgid """" ""Python 2.7 support has been dropped. Last release of Trove to support py2.7 "" ""is OpenStack Train. The minimum version of Python now supported by Trove is "" ""Python 3.6."" msgstr """" ""Python 2.7 support has been dropped. The last release of Trove to support "" ""Python 2.7 was OpenStack Train. The minimum version of Python now supported "" ""by Trove is Python 3.6."" msgid """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" msgstr """" ""Python 3.6 & 3.7 support has been dropped. The minimum version of Python now "" ""supported is Python 3.8."" ","""POT-Creation-Date: 2022-09-26 08:29+0000\n""""PO-Revision-Date: 2022-10-12 01:21+0000\n""msgid ""18.0.0.0rc1"" msgstr ""18.0.0.0rc1""",82,4
openstack%2Ftripleo-quickstart-extras~864988,openstack/tripleo-quickstart-extras,master,I150c022909f1d7832d3799656694025ac26e60da,"Revert ""Do not use --debug for image build""",ABANDONED,2022-11-21 09:24:17.000000000,2022-11-23 11:11:29.000000000,,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 29775}]","[{'number': 1, 'created': '2022-11-21 09:24:17.000000000', 'files': ['roles/container-build/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart-extras/commit/17c968dfe61ee09776a9c629bff32ee0e7767d70', 'message': 'Revert ""Do not use --debug for image build""\n\nThis reverts commit c625becad164a5ad8f719c738520cb7e0e115694.\n\nReason for revert: Suspecting this caused: https://bugs.launchpad.net/tripleo/+bug/1997202\n\nChange-Id: I150c022909f1d7832d3799656694025ac26e60da\n'}]",2,864988,17c968dfe61ee09776a9c629bff32ee0e7767d70,6,6,1,29775,,,0,"Revert ""Do not use --debug for image build""

This reverts commit c625becad164a5ad8f719c738520cb7e0e115694.

Reason for revert: Suspecting this caused: https://bugs.launchpad.net/tripleo/+bug/1997202

Change-Id: I150c022909f1d7832d3799656694025ac26e60da
",git fetch https://review.opendev.org/openstack/tripleo-quickstart-extras refs/changes/88/864988/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/container-build/tasks/main.yaml'],1,17c968dfe61ee09776a9c629bff32ee0e7767d70,, tripleo_container_image_build_debug: true," # TODO(tkajinam): With Ansible 2.14, the playbook triggered by the command # gets stuck if -vvv is set. We temporarily remove --debug # as a workaround until we find out the appropriate fix. # https://github.com/ansible/ansible-runner/issues/1164 # tripleo_container_image_build_debug: true",1,5
openstack%2Fopenstacksdk~865354,openstack/openstacksdk,master,Ifc5bd0ddc92bbbc7b250df3f3931518f62cc339f,compute: don't pass networks: auto for older microversions,MERGED,2022-11-23 00:45:55.000000000,2022-11-23 11:00:14.000000000,2022-11-23 10:58:52.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-23 00:45:55.000000000', 'files': ['openstack/cloud/_compute.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/2baee35a5b054fe4ed505f2d8e9f276bbcae472f', 'message': 'compute: don\'t pass networks: auto for older microversions\n\nChange I1a6ba311ddedc1b8910051257299d3acd367df46 made this\nunconditionally specify ""networks: auto"" when no network info was\nspecified.  From the nova release notes\n\n ""Starting with microversion 2.37, this field is required and the\n special string values auto and none can be specified for\n networks. auto tells the Compute service to use a network that is\n available to the project, if one exists.""\n\nSo we should restrict where this is specified.\n\nThis was noticed when trying to use openstacksdk >=0.99 against the\nRackspace API.  I have run this change against that API and verified\nit is not passing the argument.\n\nChange-Id: Ifc5bd0ddc92bbbc7b250df3f3931518f62cc339f\n'}]",0,865354,2baee35a5b054fe4ed505f2d8e9f276bbcae472f,8,3,1,7118,,,0,"compute: don't pass networks: auto for older microversions

Change I1a6ba311ddedc1b8910051257299d3acd367df46 made this
unconditionally specify ""networks: auto"" when no network info was
specified.  From the nova release notes

 ""Starting with microversion 2.37, this field is required and the
 special string values auto and none can be specified for
 networks. auto tells the Compute service to use a network that is
 available to the project, if one exists.""

So we should restrict where this is specified.

This was noticed when trying to use openstacksdk >=0.99 against the
Rackspace API.  I have run this change against that API and verified
it is not passing the argument.

Change-Id: Ifc5bd0ddc92bbbc7b250df3f3931518f62cc339f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/54/865354/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/cloud/_compute.py'],1,2baee35a5b054fe4ed505f2d8e9f276bbcae472f,networks-auto-microversion," # If user has not passed networks - let Nova try the best; # note earlier microversions expect this to be blank. if utils.supports_microversion(self.compute, '2.37'): kwargs['networks'] = 'auto'", # If user has not passed networks - let Nova try the best. kwargs['networks'] = 'auto',4,2
openstack%2Fnova~864812,openstack/nova,master,Id20708169f47b6719cc17c0a3efdd9311ddcb7c9,Use the page's memory not host_cell.memory for small pagesize,NEW,2022-11-17 05:59:56.000000000,2022-11-23 09:51:27.000000000,,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 05:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb85b5de521078f54420337c7431c0eb62bdf803', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 2, 'created': '2022-11-17 08:04:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24854a05a0b62e933e1f9a52645f94149debb9a9', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 3, 'created': '2022-11-17 08:42:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/728d46f400af5450eb340249a66501a7777a1d40', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 4, 'created': '2022-11-18 03:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/776978c1833a41370e9b7d0ec59688438ff0ff97', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 5, 'created': '2022-11-19 12:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/495778cdf85bd23b13a9a76aeb3bbbfa68bdd5d9', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 6, 'created': '2022-11-19 14:22:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/47d2c98d20410ee36aed0f71eb30ce98f264fa21', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 7, 'created': '2022-11-20 13:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4feb6e8356a89e08977033178f01826b2138f767', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 8, 'created': '2022-11-20 13:57:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/eb7f057c096d47c7d6e877c2fe7eb7de6d9677d5', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 9, 'created': '2022-11-21 10:14:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/58b43308537734494a6d498feaf481eaf310babd', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 10, 'created': '2022-11-21 10:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bbfee4aed0cdc0d1a9ccf7306d77734bcc3d2e9', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 11, 'created': '2022-11-21 11:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be556b18406641f236bf59e599dfd02c6bb68de6', 'message': 'Optimize the small pagesize in numa_fit_instance_to_host\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n'}, {'number': 12, 'created': '2022-11-22 02:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/909c5231222e59063baedbadfdb81d5a966aed0b', 'message': ""Use the page's memory not host_cell.memory for small pagesize\n\nThe small pagesize can be overcommited, and the huge memory cannot.\nThe host topology has 1G of 4kb pagesize which 512M is used, and 2M pagesize\n1G; the instance topology  has 1G of 4kb pagesize with the ram_limit=1.\nIn this case, the instance cannot be allocated in this host cell,\nbecase the huge memory cannot be used by the instance.\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n""}, {'number': 13, 'created': '2022-11-22 03:05:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/bfa9ea798b4660fe7f37630593e86828d12b0f9b', 'message': ""Use the page's memory not host_cell.memory for small pagesize\n\nThe small pagesize can be overcommited, and the huge memory cannot.\nThe host topology has 1G of 4kb pagesize which 512M is used,\nand 2M pagesize 1G; And the instance topology has 1G of 4kb pagesize\nwith the ram_limit=1. In this case, the instance cannot be allocated\nin this host cell, becase the huge memory cannot be used by the instance.\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n""}, {'number': 14, 'created': '2022-11-22 07:52:27.000000000', 'files': ['nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py', 'nova/tests/unit/scheduler/test_host_manager.py', 'nova/tests/unit/scheduler/fakes.py', 'nova/tests/unit/scheduler/filters/test_numa_topology_filters.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/d96963893ea493ecb1830dd664478414493bf111', 'message': ""Use the page's memory not host_cell.memory for small pagesize\n\nThe small pagesize can be overcommited, and the huge memory cannot.\nThe host topology has 1G of 4kb pagesize which 512M is used,\nand 2M pagesize 1G; And the instance topology has 1G of 4kb pagesize\nwith the ram_limit=1. In this case, the instance cannot be allocated\nin this host cell, becase the huge memory cannot be used by the instance.\n\nChange-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9\n""}]",9,864812,d96963893ea493ecb1830dd664478414493bf111,43,2,14,31827,,,0,"Use the page's memory not host_cell.memory for small pagesize

The small pagesize can be overcommited, and the huge memory cannot.
The host topology has 1G of 4kb pagesize which 512M is used,
and 2M pagesize 1G; And the instance topology has 1G of 4kb pagesize
with the ram_limit=1. In this case, the instance cannot be allocated
in this host cell, becase the huge memory cannot be used by the instance.

Change-Id: Id20708169f47b6719cc17c0a3efdd9311ddcb7c9
",git fetch https://review.opendev.org/openstack/nova refs/changes/12/864812/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/numa.py', 'nova/tests/unit/virt/test_hardware.py', 'nova/virt/hardware.py']",3,cb85b5de521078f54420337c7431c0eb62bdf803,," use_free = False if pagesize == 4 else True if host_cell.can_fit_pagesize(pagesize, inst_cell_mem, use_free=use_free): if instance.pagesize == 4: avail_small_memory = (host_cell.total_small_memory - host_cell.used_small_memory) if instance_cell.memory > avail_small_memory: LOG.debug('Not enough available memory to schedule instance. ' 'Oversubscription is not possible with pinned ' 'instances. Required: %(required)s, available: ' '%(available)s, total: %(total)s. ', {'required': instance_cell.memory, 'available': avail_small_memory, 'total': host_cell.total_small_memory}) return None if instance.pagesize == 4: ram_usage = host_cell.used_small_memory + instance_cell.memory ram_ratio = limits.ram_allocation_ratio ram_limit = host_cell.total_small_memory * ram_ratio if ram_usage > ram_limit: LOG.debug('Host cell has limitations on 4kb memory. There is ' 'not enough 4kb memory to schedule this instance.' 'Usage: %(usage)d, limit: %(limit)d', {'usage': ram_usage, 'limit': ram_limit}) return None"," if host_cell.can_fit_pagesize(pagesize, inst_cell_mem): if instance_cell.memory > host_cell.avail_memory: LOG.debug('Not enough available memory to schedule instance. ' 'Oversubscription is not possible with pinned ' 'instances. Required: %(required)s, available: ' '%(available)s, total: %(total)s. ', {'required': instance_cell.memory, 'available': host_cell.avail_memory, 'total': host_cell.memory}) return None ram_usage = host_cell.memory_usage + instance_cell.memory ram_limit = host_cell.memory * limits.ram_allocation_ratio if ram_usage > ram_limit: LOG.debug('Host cell has limitations on usable memory. There is ' 'not enough free memory to schedule this instance. ' 'Usage: %(usage)d, limit: %(limit)d', {'usage': ram_usage, 'limit': ram_limit}) return None",76,18
openstack%2Fproject-config~859976,openstack/project-config,master,I3f0d7fe7e0014c28465aaab060e74e39a527b745,Add Allow-Post-Review flag to OpenStackSDK project,MERGED,2022-09-30 11:42:57.000000000,2022-11-23 09:45:14.000000000,2022-11-23 09:04:46.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/68fa766c5ed058030104eb9211c48ae06804b610', 'message': 'Add Post-Check flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}, {'number': 2, 'created': '2022-09-30 11:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/820f9093db528ff314a8bb40cfe180f6137929fe', 'message': 'Add Post-Check flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}, {'number': 3, 'created': '2022-09-30 12:15:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/41e9564b7e71342464dbec0eacd22038048fa31d', 'message': 'Add Post-Check flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}, {'number': 4, 'created': '2022-09-30 12:27:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/18d98a2de924a3b12a50773e1b1980199d5cce5a', 'message': 'Add Post-Check flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}, {'number': 5, 'created': '2022-09-30 13:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d6badfd4c54910b0e94fe2f769e0964ff0692512', 'message': 'Add Allow-Post-Review flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}, {'number': 6, 'created': '2022-10-10 07:46:55.000000000', 'files': ['gerrit/acls/openstack/openstacksdk.config', 'tools/normalize_acl.py'], 'web_link': 'https://opendev.org/openstack/project-config/commit/ef92cc76956f7fdcfc14a41f6bf6cf93a7cbb7e6', 'message': 'Add Allow-Post-Review flag to OpenStackSDK project\n\nIn order to implement post-check pipeline for dealing with secrets in\nthe check pipeline it is required to add additional flag to gerrit that\nwill be set as a prerequisite to start jobs.\n\nChange-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745\n'}]",6,859976,ef92cc76956f7fdcfc14a41f6bf6cf93a7cbb7e6,20,3,6,27900,,,0,"Add Allow-Post-Review flag to OpenStackSDK project

In order to implement post-check pipeline for dealing with secrets in
the check pipeline it is required to add additional flag to gerrit that
will be set as a prerequisite to start jobs.

Change-Id: I3f0d7fe7e0014c28465aaab060e74e39a527b745
",git fetch https://review.opendev.org/openstack/project-config refs/changes/76/859976/1 && git format-patch -1 --stdout FETCH_HEAD,['gerrit/acls/openstack/openstacksdk.config'],1,68fa766c5ed058030104eb9211c48ae06804b610,,"label-Post-Check = 0..+1 group openstacksdk-core[label ""Post-Check""] copyAllScoresOnTrivialRebase = true defaultValue = 0 function = NoOp value = 0 Abstain value = +1 Approved by Core Reviewer ",,8,0
openstack%2Fneutron~865026,openstack/neutron,master,I964bd16a8d02829c7165a0a817f6ac6bc3332677,Block os-vif<3.0.0 because of an issue with trunk and live-migration,ABANDONED,2022-11-18 14:21:58.000000000,2022-11-23 09:38:48.000000000,,"[{'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 14:21:58.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/58bc207b1fd71445fbce06b4ae7d48159e74b2fb', 'message': 'Block os-vif<3.0.0 because of an issue with trunk and live-migration\n\nBlocked temporarily any os-vif version greater or equal to os-vif==3.0.0.\nThere is an issue with trunk bridges and live migration, as reported in\nthe related bug. This patch will alleviate the CI issues until a fix is\nreleased.\n\nThe affected patch in os-vif could be [1].\n\n[1]https://review.opendev.org/c/openstack/os-vif/+/841499\n\nRelated-Bug: #1997025\nChange-Id: I964bd16a8d02829c7165a0a817f6ac6bc3332677\n'}]",0,865026,58bc207b1fd71445fbce06b4ae7d48159e74b2fb,5,2,1,16688,,,0,"Block os-vif<3.0.0 because of an issue with trunk and live-migration

Blocked temporarily any os-vif version greater or equal to os-vif==3.0.0.
There is an issue with trunk bridges and live migration, as reported in
the related bug. This patch will alleviate the CI issues until a fix is
released.

The affected patch in os-vif could be [1].

[1]https://review.opendev.org/c/openstack/os-vif/+/841499

Related-Bug: #1997025
Change-Id: I964bd16a8d02829c7165a0a817f6ac6bc3332677
",git fetch https://review.opendev.org/openstack/neutron refs/changes/26/865026/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,58bc207b1fd71445fbce06b4ae7d48159e74b2fb,bug/1997025,"os-vif>=1.15.1,<3.0.0 # Apache-2.0",os-vif>=1.15.1 # Apache-2.0,1,1
openstack%2Fdesignate-tempest-plugin~837622,openstack/designate-tempest-plugin,master,I08ea6758994a9bbd95bf9693ce344c2206818241,Removing trigger_update_secondary_zone_negative,MERGED,2022-04-12 20:27:34.000000000,2022-11-23 09:36:19.000000000,2022-11-23 09:35:08.000000000,"[{'_account_id': 11628}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-04-12 20:27:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/82aa0bd6cce8599f0ff3b7aa5cbdab3686e9766b', 'message': 'Removing trigger_update_secondary_zone_negative\n\nThis patch removes the test_manually_trigger_update_secondary_zone_negative test because it is broken due to changes in dnspython and the need for this negative test is not clear.\n\nCloses-Bug: 1968717\nChange-Id: I08ea6758994a9bbd95bf9693ce344c2206818241\n'}, {'number': 2, 'created': '2022-04-14 22:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/b5882e6e376f8344e86791c8d8cfb89b1e7fe696', 'message': 'Removing trigger_update_secondary_zone_negative\n\nThis patch removes the test_manually_trigger_update_secondary_zone_negative test because it is broken due to changes in dnspython and the need for this negative test is not clear.\n\nCloses-Bug: 1968717\nChange-Id: I08ea6758994a9bbd95bf9693ce344c2206818241\n'}, {'number': 3, 'created': '2022-11-23 00:18:47.000000000', 'files': ['designate_tempest_plugin/tests/api/v2/test_zone_tasks.py'], 'web_link': 'https://opendev.org/openstack/designate-tempest-plugin/commit/ff6c24db8461975b9409505f0dca89909ea410c9', 'message': 'Removing trigger_update_secondary_zone_negative\n\nThis patch removes the test_manually_trigger_update_secondary_zone_negative test because it is broken due to changes in dnspython and the need for this negative test is not clear.\n\nCloses-Bug: 1968717\nChange-Id: I08ea6758994a9bbd95bf9693ce344c2206818241\n'}]",3,837622,ff6c24db8461975b9409505f0dca89909ea410c9,20,3,3,11628,,,0,"Removing trigger_update_secondary_zone_negative

This patch removes the test_manually_trigger_update_secondary_zone_negative test because it is broken due to changes in dnspython and the need for this negative test is not clear.

Closes-Bug: 1968717
Change-Id: I08ea6758994a9bbd95bf9693ce344c2206818241
",git fetch https://review.opendev.org/openstack/designate-tempest-plugin refs/changes/22/837622/1 && git format-patch -1 --stdout FETCH_HEAD,['designate_tempest_plugin/tests/api/v2/test_zone_tasks.py'],1,82aa0bd6cce8599f0ff3b7aa5cbdab3686e9766b,bug/1968717,," @expectedFailure @decorators.idempotent_id('ca250d92-8a2b-11eb-b49b-74e5f9e2a801') def test_manually_trigger_update_secondary_zone_negative(self): # Create a PRIMARY zone LOG.info('Create a PRIMARY zone') pr_zone = self.client.create_zone()[1] self.addCleanup(self.wait_zone_delete, self.client, pr_zone['id']) waiters.wait_for_zone_status(self.client, pr_zone['id'], 'ACTIVE') LOG.info('Ensure we respond with CREATE+PENDING') self.assertEqual('CREATE', pr_zone['action']) self.assertEqual('PENDING', pr_zone['status']) # Get the Name Servers created for a PRIMARY zone nameservers = [ dic['hostname'] for dic in self.client.show_zone_nameservers( pr_zone['id'])[1]['nameservers']] # Make sure that the nameservers are not available using DNS # query and if it does, skip the test. LOG.info('Check if NameServers are available, skip the test if not') for ns in nameservers: if self._query_nameserver( ns, 5, pr_zone['name'], zone_type='SOA') is True: raise self.skipException( ""Nameserver:{} is available, but negative test scenario "" ""needs it to be unavailable, therefore test is "" ""skipped."".format(ns.strip('.'))) # Create a SECONDARY zone LOG.info('Create a SECONDARY zone') sec_zone = self.client.create_zone( zone_type=const.SECONDARY_ZONE_TYPE, primaries=nameservers)[1] self.addCleanup(self.wait_zone_delete, self.client, sec_zone['id']) LOG.info('Ensure we respond with CREATE+PENDING') self.assertEqual('CREATE', sec_zone['action']) self.assertEqual('PENDING', sec_zone['status']) # Manually trigger_update zone LOG.info('Manually Trigger an Update of a Secondary Zone when the ' 'nameservers not pingable. Expected: error status code 500') with self.assertRaisesDns(lib_exc.ServerFault, 'unknown', 500): self.client.trigger_manual_update(sec_zone['id'])",0,44
openstack%2Ftripleo-common~865116,openstack/tripleo-common,master,I99bdc55445313f823a761b913407398f98650c5f,Use net=host with buildah bud,MERGED,2022-11-21 09:49:18.000000000,2022-11-23 09:35:40.000000000,2022-11-23 09:34:39.000000000,"[{'_account_id': 6926}, {'_account_id': 9816}, {'_account_id': 11090}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-11-21 09:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c134798f80120a175fd80fa8f130f540a213e54c', 'message': 'Use network=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n'}, {'number': 2, 'created': '2022-11-21 10:26:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f595795884d12af2d689af11e97001e7e6936b94', 'message': 'Use net=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n'}, {'number': 3, 'created': '2022-11-22 03:11:54.000000000', 'files': ['tripleo_common/image/builder/buildah.py', 'tripleo_common/tests/image/builder/test_buildah.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b3a35712588e1e982ae0dd856adba978d0a9ae28', 'message': 'Use net=host with buildah bud\n\nWe use the default networking (netavark) with RUN instructions.\nWe can simplify this by just using host network.\n\nChange-Id: I99bdc55445313f823a761b913407398f98650c5f\n'}]",2,865116,b3a35712588e1e982ae0dd856adba978d0a9ae28,17,8,3,8833,,,0,"Use net=host with buildah bud

We use the default networking (netavark) with RUN instructions.
We can simplify this by just using host network.

Change-Id: I99bdc55445313f823a761b913407398f98650c5f
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/16/865116/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/builder/buildah.py'],1,c134798f80120a175fd80fa8f130f540a213e54c,, self.buildah_cmd.append('--network=host'),,1,0
openstack%2Frequirements~864974,openstack/requirements,master,I24d5a5c9a38446dee36dfc29c4676e5cf3f1091f,"Revert ""update constraint for os_vif to new release 3.1.0""",ABANDONED,2022-11-18 14:36:37.000000000,2022-11-23 09:26:53.000000000,,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 11131}, {'_account_id': 11604}, {'_account_id': 11975}, {'_account_id': 13861}, {'_account_id': 14288}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 14:36:37.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/766ad6c106768111db8bb0f678eb033d912ac1e7', 'message': 'Revert ""update constraint for os_vif to new release 3.1.0""\n\nThis reverts commit 30a50c0e4d36ff7e73ee655d5b2e01b0c548fa15.\n\nReason for revert: there is an issue with patch [1]. Live\nmigration with trunk patches is failing 80-90% of the times,\nas reported in LP#1997025.\n\nThe occurrence of these errors matches exactly with the release of\nthis new os-vif version.\n\n[1]https://review.opendev.org/c/openstack/os-vif/+/841499\n\nChange-Id: I24d5a5c9a38446dee36dfc29c4676e5cf3f1091f\nRelated-Bug: #1997025\n'}]",4,864974,766ad6c106768111db8bb0f678eb033d912ac1e7,9,9,1,16688,,,0,"Revert ""update constraint for os_vif to new release 3.1.0""

This reverts commit 30a50c0e4d36ff7e73ee655d5b2e01b0c548fa15.

Reason for revert: there is an issue with patch [1]. Live
migration with trunk patches is failing 80-90% of the times,
as reported in LP#1997025.

The occurrence of these errors matches exactly with the release of
this new os-vif version.

[1]https://review.opendev.org/c/openstack/os-vif/+/841499

Change-Id: I24d5a5c9a38446dee36dfc29c4676e5cf3f1091f
Related-Bug: #1997025
",git fetch https://review.opendev.org/openstack/requirements refs/changes/74/864974/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,766ad6c106768111db8bb0f678eb033d912ac1e7,new-release,os-vif===2.8.0,os-vif===3.1.0,1,1
openstack%2Fproject-config~859977,openstack/project-config,master,Ib633a621fbf004f2a34b8826014e3625c093c21f,Add post-review pipeline,MERGED,2022-09-30 11:42:57.000000000,2022-11-23 09:07:38.000000000,2022-11-23 09:07:38.000000000,"[{'_account_id': 4146}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-09-30 11:42:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/03a365cc373e330171d1d0092ea43023350ac7d3', 'message': 'Add check-post pipeline\n\nIn order to start using jobs with secrets before gating it required to\nhave a special post review pipeline. This pipeline can be triggered by\nsetting Check-Post gerrit flag.\n\nTo address potential situation where check-post jobs pass, but check\njobs fails it only sets Verified to -1 once jobs fail.\n\nFor the proper setup jobs of the check-post pipeline should also appear\nin gate pipeline.\n\nChange-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f\n'}, {'number': 2, 'created': '2022-09-30 13:07:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/accc9d832c28c635c3ae9ae68ec828fd4e5e0a3b', 'message': 'Add post-review pipeline\n\nIn order to start using jobs with secrets before gating it required to\nhave a special post review pipeline. This pipeline can be triggered by\nsetting Allow-Post-Review gerrit flag.\n\nTo address potential races for Verified flag this pipeline does not set\nit.\n\nFor the proper setup jobs of the post-review pipeline should also appear\nin gate pipeline.\n\nChange-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f\n'}, {'number': 3, 'created': '2022-10-10 07:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/57df82c76b7f50a6a520896135830ad52d2ab1d8', 'message': 'Add post-review pipeline\n\nIn order to start using jobs with secrets before gating it required to\nhave a special post review pipeline. This pipeline can be triggered by\nsetting Allow-Post-Review gerrit flag.\n\nTo address potential races for Verified flag this pipeline does not set\nit.\n\nFor the proper setup jobs of the post-review pipeline should also appear\nin gate pipeline.\n\nChange-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f\n'}, {'number': 4, 'created': '2022-10-24 16:53:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/c4aadaa1aa4e06d942f58cec9c6a6bf5bc62509f', 'message': 'Add post-review pipeline\n\nIn order to start using jobs with secrets before gating it required to\nhave a special post review pipeline. This pipeline can be triggered by\nsetting Allow-Post-Review gerrit flag.\n\nTo address potential races for Verified flag this pipeline does not set\nit.\n\nFor the proper setup jobs of the post-review pipeline should also appear\nin gate pipeline.\n\nChange-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f\n'}, {'number': 5, 'created': '2022-10-24 17:02:21.000000000', 'files': ['zuul.d/pipelines.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/51e501abc49865589ea1d055ae265b5047beea17', 'message': 'Add post-review pipeline\n\nIn order to start using jobs with secrets before gating it required to\nhave a special post review pipeline. This pipeline can be triggered by\nsetting Allow-Post-Review gerrit flag.\n\nTo address potential races for Verified flag this pipeline does not set\nit.\n\nFor the proper setup jobs of the post-review pipeline should also appear\nin gate pipeline.\n\nChange-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f\n'}]",18,859977,51e501abc49865589ea1d055ae265b5047beea17,23,3,5,27900,,,0,"Add post-review pipeline

In order to start using jobs with secrets before gating it required to
have a special post review pipeline. This pipeline can be triggered by
setting Allow-Post-Review gerrit flag.

To address potential races for Verified flag this pipeline does not set
it.

For the proper setup jobs of the post-review pipeline should also appear
in gate pipeline.

Change-Id: Ib633a621fbf004f2a34b8826014e3625c093c21f
",git fetch https://review.opendev.org/openstack/project-config refs/changes/77/859977/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/pipelines.yaml'],1,03a365cc373e330171d1d0092ea43023350ac7d3,," name: check-post description: | Patches received initial review by project trusted members enter this pipeline to receive -1 Verified vote if jobs fail. This pipeline can be used to access secrets before gating. success-message: Build succeeded (check pipeline). failure-message: | Build failed (check pipeline). For information on how to proceed, see https://docs.opendev.org/opendev/infra-manual/latest/developers.html#automated-testing manager: independent post-review: True precedence: low require: gerrit: open: True current-patchset: True approval: - Post-Check: [1] trigger: gerrit: - event: comment-added comment: (?i)^(Patch Set [0-9]+:)?( [\w\\+-]*)*(\n\n)?\s*recheck\spost - event: comment-added require-approval: - Post-Check: [1] failure: gerrit: Verified: -1 - pipeline:",,30,0
openstack%2Fopenstack-ansible~865160,openstack/openstack-ansible,stable/yoga,I34b4415b5579c751647a797ff1d86f104de75a4d,Constrain setuptools,ABANDONED,2022-11-22 15:31:58.000000000,2022-11-23 09:01:06.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-22 15:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/485c82250c55844629d8ef2d166acf4bb71b49cd', 'message': ""Constrain setuptools\n\nWe used to maintain setuptools in global-requirement-pins until it has\nappeared in upper-constraints. Since zed setuptools are gone from\nthere and recent setuptools update has broken pbr. Thus, we need to\nre-add setuptools back and keep it's version constrained.\n\nCloses-Bug: #1997365\nChange-Id: I34b4415b5579c751647a797ff1d86f104de75a4d\n""}, {'number': 2, 'created': '2022-11-22 15:33:48.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/b0f5b1b0694ba01ac617659a701330414258f7ae', 'message': ""Constrain setuptools\n\nWe used to maintain setuptools in global-requirement-pins until it has\nappeared in upper-constraints. Since zed setuptools are gone from\nthere and recent setuptools update has broken pbr. Thus, we need to\nre-add setuptools back and keep it's version constrained.\n\nCloses-Bug: #1997365\nChange-Id: I34b4415b5579c751647a797ff1d86f104de75a4d\n""}]",0,865160,b0f5b1b0694ba01ac617659a701330414258f7ae,6,2,2,28619,,,0,"Constrain setuptools

We used to maintain setuptools in global-requirement-pins until it has
appeared in upper-constraints. Since zed setuptools are gone from
there and recent setuptools update has broken pbr. Thus, we need to
re-add setuptools back and keep it's version constrained.

Closes-Bug: #1997365
Change-Id: I34b4415b5579c751647a797ff1d86f104de75a4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/60/865160/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,485c82250c55844629d8ef2d166acf4bb71b49cd,,<<<<<<< HEAD (205bfa Bump OpenStack-Ansible Yoga)======= pip==22.1.2 setuptools==65.5.1 wheel==0.37.1 uWSGI==2.0.21 >>>>>>> CHANGE (dc2cb9 Constrain setuptools),,7,0
openstack%2Fopenstack-ansible~865297,openstack/openstack-ansible,master,I34b4415b5579c751647a797ff1d86f104de75a4d,Constrain setuptools,ABANDONED,2022-11-22 15:30:54.000000000,2022-11-23 09:01:02.000000000,,"[{'_account_id': 22348}, {'_account_id': 28619}]","[{'number': 1, 'created': '2022-11-22 15:30:54.000000000', 'files': ['global-requirement-pins.txt'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dc2cb98ba1cf0f8be8ea978c2849d7e35cc7b8c2', 'message': ""Constrain setuptools\n\nWe used to maintain setuptools in global-requirement-pins until it has\nappeared in upper-constraints. Since zed setuptools are gone from\nthere and recent setuptools update has broken pbr. Thus, we need to\nre-add setuptools back and keep it's version constrained.\n\nCloses-Bug: #1997365\nChange-Id: I34b4415b5579c751647a797ff1d86f104de75a4d\n""}]",0,865297,dc2cb98ba1cf0f8be8ea978c2849d7e35cc7b8c2,4,2,1,28619,,,0,"Constrain setuptools

We used to maintain setuptools in global-requirement-pins until it has
appeared in upper-constraints. Since zed setuptools are gone from
there and recent setuptools update has broken pbr. Thus, we need to
re-add setuptools back and keep it's version constrained.

Closes-Bug: #1997365
Change-Id: I34b4415b5579c751647a797ff1d86f104de75a4d
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/97/865297/1 && git format-patch -1 --stdout FETCH_HEAD,['global-requirement-pins.txt'],1,dc2cb98ba1cf0f8be8ea978c2849d7e35cc7b8c2,,setuptools==65.5.1,,1,0
openstack%2Fskyline-console~865236,openstack/skyline-console,master,Ib0af8339fa8436ebeee958fd3f653ce0caa88a9d,fix: Fix quick creating keypair in creating instance,MERGED,2022-11-22 07:58:58.000000000,2022-11-23 08:41:50.000000000,2022-11-23 08:40:46.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-11-22 07:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/31897bd0f5e44777c59b7a072684c5f7995caa00', 'message': 'fix: Fix quick creating keypair in creating instance\n\nUse public code for quick creating keypair when create cloud instance\n\nChange-Id: Ib0af8339fa8436ebeee958fd3f653ce0caa88a9d\n'}, {'number': 2, 'created': '2022-11-23 04:16:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/48afcfb335f8f1e6d62171dc1c867b02c44624ed', 'message': 'fix: Fix quick creating keypair in creating instance\n\nUse public code for quick creating keypair when create cloud instance.\n\nChange-Id: Ib0af8339fa8436ebeee958fd3f653ce0caa88a9d\n'}, {'number': 3, 'created': '2022-11-23 05:33:28.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/f7ae6ff9d74be432fa9b63e5f4f1b1e4502759c1', 'message': 'fix: Fix quick creating keypair in creating instance\n\nUse public code for quick creating keypair when create cloud instance.\n\nChange-Id: Ib0af8339fa8436ebeee958fd3f653ce0caa88a9d\n'}]",0,865236,f7ae6ff9d74be432fa9b63e5f4f1b1e4502759c1,17,4,3,33689,,,0,"fix: Fix quick creating keypair in creating instance

Use public code for quick creating keypair when create cloud instance.

Change-Id: Ib0af8339fa8436ebeee958fd3f653ce0caa88a9d
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/36/865236/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less']",2,31897bd0f5e44777c59b7a072684c5f7995caa00,feat-magnum-redesign,, .action-wrapper { margin-left: 8px; :global { .ant-btn-link { padding: 5.6px 15px !important; border-color: @primary-color; } } },3,59
openstack%2Fkolla-ansible~864940,openstack/kolla-ansible,master,Ibd348e84a19456f97a77f082f44ef24ebaf6aa6c,Permit to customize keystone-startup.sh,NEW,2022-11-17 20:15:43.000000000,2022-11-23 08:08:19.000000000,,"[{'_account_id': 13252}, {'_account_id': 14200}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}, {'_account_id': 34656}, {'_account_id': 35552}, {'_account_id': 35562}]","[{'number': 1, 'created': '2022-11-17 20:15:43.000000000', 'files': ['ansible/roles/keystone/tasks/config.yml', 'releasenotes/bug-1996939-97943c9a8f51578b.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d7e7b89874279a6ed3abf26d9e985b7274c63f56', 'message': 'Permit to customize keystone-startup.sh\n\nPermit to customize keystone-startup.sh from keystone-startup.sh.j2 as\nexample config/keystone-startup.sh.j2\n\nCloses-Bug: 1996939\n\nSigned-off-by: Cyril Lopez <cylopez@redhat.com>\nChange-Id: Ibd348e84a19456f97a77f082f44ef24ebaf6aa6c\n'}]",7,864940,d7e7b89874279a6ed3abf26d9e985b7274c63f56,12,8,1,16339,,,0,"Permit to customize keystone-startup.sh

Permit to customize keystone-startup.sh from keystone-startup.sh.j2 as
example config/keystone-startup.sh.j2

Closes-Bug: 1996939

Signed-off-by: Cyril Lopez <cylopez@redhat.com>
Change-Id: Ibd348e84a19456f97a77f082f44ef24ebaf6aa6c
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/864940/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/keystone/tasks/config.yml', 'releasenotes/bug-1996939-97943c9a8f51578b.yaml']",2,d7e7b89874279a6ed3abf26d9e985b7274c63f56,,--- features: - | Let choose to change keystone-startup.sh from keystone-startup.sh.j2 in {{ node_custom_config }}/keystone/{{ inventory_hostname }}/ or {{ node_custom_config }}/keystone/ or {{ node_custom_config }}/keystone-startup.sh.j2. This is needed when you need to add shibboleth service for user federation as example. ,,13,1
openstack%2Fneutron~864051,openstack/neutron,master,Ic546e40513402fa101c9687acce382cd6b84356c,"Always create a ""router_extra_attributes"" register per router",MERGED,2022-11-08 17:42:17.000000000,2022-11-23 08:07:02.000000000,2022-11-23 08:05:48.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5948}, {'_account_id': 9845}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 32029}]","[{'number': 1, 'created': '2022-11-08 17:42:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ae9d2280b86f9f5c2416f1a273efc568bcfa74c4', 'message': '[WIP] Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}, {'number': 2, 'created': '2022-11-11 11:58:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/b203bc9f6fdd82a81a89a2c54b48f23e7e81dc9f', 'message': '[WIP] Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}, {'number': 3, 'created': '2022-11-11 15:02:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/1665eea7294062190014bd59ddeda1557cb1ec7a', 'message': 'Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}, {'number': 4, 'created': '2022-11-14 11:47:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/76b2cf2afd9f6ebd4b7558a19096a58af152acec', 'message': 'Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}, {'number': 5, 'created': '2022-11-17 16:49:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/e2bac40a296e8f9c432ac8d70cb0377926d183f2', 'message': 'Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}, {'number': 6, 'created': '2022-11-18 08:51:44.000000000', 'files': ['neutron/db/l3_hamode_db.py', 'neutron/db/l3_dvr_db.py', 'neutron/db/availability_zone/router.py', 'neutron/tests/unit/extensions/test_l3.py', 'neutron/db/l3_db.py', 'neutron/db/l3_attrs_db.py', 'neutron/tests/unit/objects/test_router.py', 'neutron/tests/unit/db/test_l3_db.py', 'neutron/objects/router.py', 'neutron/plugins/ml2/drivers/ovn/mech_driver/ovsdb/maintenance.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/2081910d6d942d49d96297884a932ff93acb8759', 'message': 'Always create a ""router_extra_attributes"" register per router\n\nThe table ""router_extra_attributes"" is a child of ""router"" table.\nEach register contains extra information that completes the router\ndescription. When using ML2/OVS mechanism driver, the methods that\ncreate and populate the ""router_extra_attributes"" register are always\ncalled from the L3 DVR, L3 HA and availability zones extensions.\n\nWhen using ML2/OVN, those extensions are not loaded and therefore the\n""router_extra_attributes"" register is not created.\n\nDespite this register is currently not used in ML2/OVN (it will be in\nfuture features), there are some project expecting the\n""router_extra_attributes"" register to be always created (for example,\nneutron-dynamic-routing [1]).\n\nThis patch enforces the child register creating always when a router is\ncreated. This register is populated with the default values. This new\nregister does not affect any current operation related to ML2/OVN nor\nML2/OVS.\n\nThere is a 1:1 relationship between ""routers"" and\n""router_extra_attributes"". The child register is deleted by the database\nengine when the ""routers"" register is deleted (ondelete=""CASCADE"").\n\n[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713\n\nCloses-Bug: #1995974\nChange-Id: Ic546e40513402fa101c9687acce382cd6b84356c\n'}]",17,864051,2081910d6d942d49d96297884a932ff93acb8759,57,7,6,16688,,,0,"Always create a ""router_extra_attributes"" register per router

The table ""router_extra_attributes"" is a child of ""router"" table.
Each register contains extra information that completes the router
description. When using ML2/OVS mechanism driver, the methods that
create and populate the ""router_extra_attributes"" register are always
called from the L3 DVR, L3 HA and availability zones extensions.

When using ML2/OVN, those extensions are not loaded and therefore the
""router_extra_attributes"" register is not created.

Despite this register is currently not used in ML2/OVN (it will be in
future features), there are some project expecting the
""router_extra_attributes"" register to be always created (for example,
neutron-dynamic-routing [1]).

This patch enforces the child register creating always when a router is
created. This register is populated with the default values. This new
register does not affect any current operation related to ML2/OVN nor
ML2/OVS.

There is a 1:1 relationship between ""routers"" and
""router_extra_attributes"". The child register is deleted by the database
engine when the ""routers"" register is deleted (ondelete=""CASCADE"").

[1]https://review.opendev.org/c/openstack/neutron-dynamic-routing/+/863713

Closes-Bug: #1995974
Change-Id: Ic546e40513402fa101c9687acce382cd6b84356c
",git fetch https://review.opendev.org/openstack/neutron refs/changes/51/864051/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/l3_attrs_db.py'],1,ae9d2280b86f9f5c2416f1a273efc568bcfa74c4,bug/1995974,"from neutron_lib.callbacks import events from neutron_lib.callbacks import priority_group from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources# NOTE(ralonsoh): move to ``neutron_lib.callbacks.priority_group``. PRIORITY_ROUTER_EXTENDED_ATTRIBUTE_CREATION = ( priority_group.PRIORITY_ROUTER_EXTENDED_ATTRIBUTE - 100) @registry.has_registry_receivers @registry.receives(resources.ROUTER, [events.PRECOMMIT_CREATE], PRIORITY_ROUTER_EXTENDED_ATTRIBUTE_CREATION) def _ensure_extra_attr_model(self, resource, event, trigger, payload): router_db = payload.metadata['router_db'] kwargs = {k: v['default'] for k, v in get_attr_info().items()} kwargs['router_id'] = router_db['id'] new = l3_attrs.RouterExtraAttributes(**kwargs) payload.context.session.add(new) router_db['extra_attributes'] = new #self._ensure_extra_attr_model(context, router_db)"," def _ensure_extra_attr_model(self, context, router_db): if not router_db['extra_attributes']: kwargs = {k: v['default'] for k, v in get_attr_info().items()} kwargs['router_id'] = router_db['id'] new = l3_attrs.RouterExtraAttributes(**kwargs) context.session.add(new) router_db['extra_attributes'] = new self._ensure_extra_attr_model(context, router_db)",20,8
openstack%2Fskyline-console~865260,openstack/skyline-console,master,I3c1e4299ec2e10bfcd02bcf6cd07f0ed42b3b783,fix: fix the router path and logs in zun container,MERGED,2022-11-22 10:16:48.000000000,2022-11-23 07:58:14.000000000,2022-11-23 07:57:12.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-22 10:16:48.000000000', 'files': ['src/stores/zun/capsules.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/basic/routes/index.js', 'src/pages/container-service/containers/Hosts/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/container-service/containers/Services/index.jsx', 'src/pages/container-service/routes/index.js', 'src/stores/zun/containers.js', 'src/stores/zun/services.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/layouts/menu.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/801bf664c2a3534cbf197b8a9813d6e9ad86adce', 'message': ""fix: fix the router path and logs in zun container\n\n1. fix the router path from 'container' to 'container-service' to get the same format as magnum\n\n2. Follow the api doc to hide the log tab in the container detail if the status is not acceptable\n\nCloses-Bug: #1997326\nChange-Id: I3c1e4299ec2e10bfcd02bcf6cd07f0ed42b3b783\n""}]",0,865260,801bf664c2a3534cbf197b8a9813d6e9ad86adce,8,3,1,33689,,,0,"fix: fix the router path and logs in zun container

1. fix the router path from 'container' to 'container-service' to get the same format as magnum

2. Follow the api doc to hide the log tab in the container detail if the status is not acceptable

Closes-Bug: #1997326
Change-Id: I3c1e4299ec2e10bfcd02bcf6cd07f0ed42b3b783
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/60/865260/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/stores/zun/capsules.js', 'src/pages/container-service/containers/Containers/Detail/index.jsx', 'src/pages/container-service/containers/Containers/actions/StepCreate/index.jsx', 'src/pages/container-service/containers/Containers/index.jsx', 'src/pages/basic/routes/index.js', 'src/pages/container-service/containers/Hosts/index.jsx', 'src/layouts/admin-menu.jsx', 'src/pages/container-service/containers/Services/index.jsx', 'src/pages/container-service/routes/index.js', 'src/stores/zun/containers.js', 'src/stores/zun/services.js', 'src/pages/container-service/containers/Capsules/index.jsx', 'src/layouts/menu.jsx']",13,801bf664c2a3534cbf197b8a9813d6e9ad86adce,fix-zun-path," path: '/container-service/containers', path: '/container-service/containers/create', path: /^\/container-service\/containers\/detail\/.[^/]+$/, routePath: '/container-service/containers/detail/:id', path: '/container-service/capsules', path: /^\/container-service\/capsules\/detail\/.[^/]+$/, routePath: '/container-service/capsules/detail/:id',"," path: '/container/containers', path: '/container/containers/create', path: /^\/container\/containers\/detail\/.[^/]+$/, routePath: '/container/containers/detail/:id', path: '/container/capsules', path: /^\/container\/capsules\/detail\/.[^/]+$/, routePath: '/container/capsules/detail/:id',",207,177
openstack%2Fdesignate~865355,openstack/designate,master,I44dc0499e03431261d5b596206858d94cc4803f9,Fix configuration leak in unit tests,MERGED,2022-11-23 01:10:49.000000000,2022-11-23 06:35:39.000000000,2022-11-23 06:34:34.000000000,"[{'_account_id': 5572}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2022-11-23 01:10:49.000000000', 'files': ['designate/tests/unit/agent/backends/test_bind9.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/c3cdc8f2d6063648d42c256f400ea836b5923a7b', 'message': 'Fix configuration leak in unit tests\n\nThere was a configuration leak in the agent based bind 9 tests, where if\nyou have a /etc/designate/designate.conf file with settings other than\nthe default the tests would fail.\nThis patch adds a configuration fixture setting override for the two\ntests to ensure consistent testing.\n\nChange-Id: I44dc0499e03431261d5b596206858d94cc4803f9\n'}]",1,865355,c3cdc8f2d6063648d42c256f400ea836b5923a7b,8,3,1,11628,,,0,"Fix configuration leak in unit tests

There was a configuration leak in the agent based bind 9 tests, where if
you have a /etc/designate/designate.conf file with settings other than
the default the tests would fail.
This patch adds a configuration fixture setting override for the two
tests to ensure consistent testing.

Change-Id: I44dc0499e03431261d5b596206858d94cc4803f9
",git fetch https://review.opendev.org/openstack/designate refs/changes/55/865355/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/tests/unit/agent/backends/test_bind9.py'],1,c3cdc8f2d6063648d42c256f400ea836b5923a7b,," FAKE_STATE_PATH = '/tmp/fake/state/path' self.CONF.set_override('state_path', FAKE_STATE_PATH) FAKE_STATE_PATH + '/zones/example.org.zone', relativize=False FAKE_STATE_PATH = '/tmp/fake/state/path' self.CONF.set_override('state_path', FAKE_STATE_PATH) FAKE_STATE_PATH + '/zones/example.org.zone', relativize=False 'file ""' + FAKE_STATE_PATH + '/zones/example.org.zone""; };'"," '/var/lib/designate/zones/example.org.zone', relativize=False '/var/lib/designate/zones/example.org.zone', relativize=False 'file ""/var/lib/designate/zones/example.org.zone""; };'",9,3
openstack%2Fos-net-config~791409,openstack/os-net-config,master,Iff70e708d9b17e9095e96d94980abdd0f8c13edd,WIP adding tests to nmstate,NEW,2021-05-14 08:16:47.000000000,2022-11-23 05:50:38.000000000,,"[{'_account_id': 15895}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-05-14 08:16:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/e26677ebaacc8ff5de373be6c9222c5ad28e4c0a', 'message': ""WIP adding tests to nmstate\n\nthis is a very work in progress.\n\nthe nmstate depends on nispor that is not pip installable so I'm\nadding a git install but that needs changed.\n\nalso added this to the new-os pipeline\n\nChange-Id: Iff70e708d9b17e9095e96d94980abdd0f8c13edd\n""}, {'number': 2, 'created': '2021-05-17 12:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/36c3ddcd193bbb75b9f69023759d2b88aea9ca3c', 'message': ""WIP adding tests to nmstate\n\nthis is a very work in progress.\n\nthe nmstate depends on nispor that is not pip installable so I'm\nadding a git install but that needs changed.\n\nalso added this to the new-os pipeline\n\nChange-Id: Iff70e708d9b17e9095e96d94980abdd0f8c13edd\n""}, {'number': 3, 'created': '2021-05-27 15:01:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/eb335a4e614baed9d2d75bef61fc54eb53d4ef85', 'message': ""WIP adding tests to nmstate\n\nthis is a very work in progress.\n\nthe nmstate depends on nispor that is not pip installable so I'm\nadding a git install but that needs changed.\n\nI removed the ipv4 and ipv6 from the ovsbridge because there's a comment on\n\nhttps://review.opendev.org/c/openstack/os-net-config/+/786323/2/os_net_config/impl_nmstate.py#325\n\nthat deletes it from the bridge.\n\nthere are currently only 4 failing tests when this is run under rhel9 and\n\nnispor-devel is present locally\n\nhere's the list\n\nhttp://paste.openstack.org/show/805796/\n\nChange-Id: Iff70e708d9b17e9095e96d94980abdd0f8c13edd\n""}, {'number': 4, 'created': '2021-06-03 14:33:46.000000000', 'files': ['requirements.txt', 'os_net_config/impl_nmstate.py', 'os_net_config/tests/test_impl_nmstate.py'], 'web_link': 'https://opendev.org/openstack/os-net-config/commit/51483a3494ae38ba66280daa931c2af6785192c6', 'message': ""WIP adding tests to nmstate\n\nthis is a very work in progress.\n\nthe nmstate depends on nispor that is not pip installable so I'm\nadding a git install but that needs changed.\n\nI removed the ipv4 and ipv6 from the ovsbridge because there's a comment on\n\nhttps://review.opendev.org/c/openstack/os-net-config/+/786323/2/os_net_config/impl_nmstate.py#325\n\nthat deletes it from the bridge.\n\nthere are currently only 2 failing tests when this is run under rhel9 and\n\nnispor-devel is present locally\n\nhere's the list\n\nhttp://paste.openstack.org/show/806328/\n\nChange-Id: Iff70e708d9b17e9095e96d94980abdd0f8c13edd\n""}]",2,791409,51483a3494ae38ba66280daa931c2af6785192c6,132,2,4,15895,,,0,"WIP adding tests to nmstate

this is a very work in progress.

the nmstate depends on nispor that is not pip installable so I'm
adding a git install but that needs changed.

I removed the ipv4 and ipv6 from the ovsbridge because there's a comment on

https://review.opendev.org/c/openstack/os-net-config/+/786323/2/os_net_config/impl_nmstate.py#325

that deletes it from the bridge.

there are currently only 2 failing tests when this is run under rhel9 and

nispor-devel is present locally

here's the list

http://paste.openstack.org/show/806328/

Change-Id: Iff70e708d9b17e9095e96d94980abdd0f8c13edd
",git fetch https://review.opendev.org/openstack/os-net-config refs/changes/09/791409/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'zuul.d/layout.yaml']",2,e26677ebaacc8ff5de373be6c9222c5ad28e4c0a,tests_for_nmstate, - tripleo-next-os,,3,0
openstack%2Fskyline-console~865005,openstack/skyline-console,master,I4e340785ef37c06b45342ac38ccdce560414623a,feat: add success and error status in Status component,MERGED,2022-11-18 09:56:26.000000000,2022-11-23 05:16:22.000000000,2022-11-23 05:15:27.000000000,"[{'_account_id': 22348}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-18 09:56:26.000000000', 'files': ['src/components/Status/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/bd30f8c308da5777497f3deb987610bc2743bab9', 'message': ""feat: add success and error status in Status component\n\n1. add 'pass' key in successKeys\n2. add 'refuse' key in errorKeys\n\nChange-Id: I4e340785ef37c06b45342ac38ccdce560414623a\n""}]",1,865005,bd30f8c308da5777497f3deb987610bc2743bab9,11,2,1,34589,,,0,"feat: add success and error status in Status component

1. add 'pass' key in successKeys
2. add 'refuse' key in errorKeys

Change-Id: I4e340785ef37c06b45342ac38ccdce560414623a
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/05/865005/1 && git format-patch -1 --stdout FETCH_HEAD,['src/components/Status/index.jsx'],1,bd30f8c308da5777497f3deb987610bc2743bab9,," 'pass', 'refuse',",,2,0
openstack%2Fneutron~862492,openstack/neutron,master,I8164d76b28904cde88f4de7da08d647f6bd98a10,Add tempest job which will run on the oldest Ubuntu release,MERGED,2022-10-24 13:07:58.000000000,2022-11-23 04:46:45.000000000,2022-11-23 04:44:31.000000000,"[{'_account_id': 4694}, {'_account_id': 8313}, {'_account_id': 8556}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-24 13:07:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/c27de26f430b8c6cc074b2a40860a58567455b8d', 'message': 'Add tempest job which will run on the oldest Ubuntu release\n\nAs was discussed in the TC meeting during last PTG [1] we should run\nat least one tempest job on the previosly supported Ubuntu version to\nmake sure that current release can work on older operating system and\nthat upgrade process can be as smooth as possible for operators.\n\n[1] https://etherpad.opendev.org/p/tc-2023-1-ptg#L428\n\nChange-Id: I8164d76b28904cde88f4de7da08d647f6bd98a10\n'}, {'number': 2, 'created': '2022-10-24 13:33:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/a01b4c0ef0ad0d17c1213027481af0ba4ba92604', 'message': 'Add tempest job which will run on the oldest Ubuntu release\n\nAs was discussed in the TC meeting during last PTG [1] we should run\nat least one tempest job on the previosly supported Ubuntu version to\nmake sure that current release can work on older operating system and\nthat upgrade process can be as smooth as possible for operators.\n\n[1] https://etherpad.opendev.org/p/tc-2023-1-ptg#L428\n\nChange-Id: I8164d76b28904cde88f4de7da08d647f6bd98a10\n'}, {'number': 3, 'created': '2022-10-24 13:36:29.000000000', 'files': ['zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/01b11df1b5652fbd11f941c008892261714e46a3', 'message': 'Add tempest job which will run on the oldest Ubuntu release\n\nAs was discussed in the TC meeting during last PTG [1] we should run\nat least one tempest job on the previosly supported Ubuntu version to\nmake sure that current release can work on older operating system and\nthat upgrade process can be as smooth as possible for operators.\n\n[1] https://etherpad.opendev.org/p/tc-2023-1-ptg#L428\n\nDepends-On: https://review.opendev.org/c/openstack/tempest/+/861110\nDepends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219\nDepends-On: https://review.opendev.org/c/openstack/devstack/+/862479\n\nChange-Id: I8164d76b28904cde88f4de7da08d647f6bd98a10\n'}]",16,862492,01b11df1b5652fbd11f941c008892261714e46a3,45,6,3,11975,,,0,"Add tempest job which will run on the oldest Ubuntu release

As was discussed in the TC meeting during last PTG [1] we should run
at least one tempest job on the previosly supported Ubuntu version to
make sure that current release can work on older operating system and
that upgrade process can be as smooth as possible for operators.

[1] https://etherpad.opendev.org/p/tc-2023-1-ptg#L428

Depends-On: https://review.opendev.org/c/openstack/tempest/+/861110
Depends-On: https://review.opendev.org/c/openstack/rally-openstack/+/862219
Depends-On: https://review.opendev.org/c/openstack/devstack/+/862479

Change-Id: I8164d76b28904cde88f4de7da08d647f6bd98a10
",git fetch https://review.opendev.org/openstack/neutron refs/changes/92/862492/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/tempest-singlenode.yaml', 'zuul.d/project.yaml', 'doc/source/contributor/testing/ci_scenario_jobs.rst']",3,c27de26f430b8c6cc074b2a40860a58567455b8d,improve-neutron-ci," +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ | Job name | Run tests | nodes | Operating system | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | driver | mode | | | | | queue | +==============================================+==================================+=======+==================+==============+================+==========+=======+========+============+=============+ |neutron-tempest-plugin-designate-scenario |neutron_tempest_plugin.scenario.\ | 1 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | No | | |test_dns_integration | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-linuxbridge |neutron_tempest_plugin.api | 1 | Ubuntu Jammy | linuxbridge | iptables | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_multiple_create | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-openvswitch |neutron_tempest_plugin.api | 1 | Ubuntu Jammy | openvswitch | openvswitch | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_multiple_create | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-openvswitch-\ |neutron_tempest_plugin.api | 1 | Ubuntu Jammy | openvswitch | iptables_hybrid | ha | False | False | False | Yes | | iptables_hybrid |neutron_tempest_plugin.scenario | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_multiple_create | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-scenario-ovn | neutron_tempest_plugin.scenario | 1 | Ubuntu Jammy | ovn | ovn | --- | False | False | False | Yes | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | | test_multiple_create | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-multinode-full |tempest.api (without slow tests) | 2 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-dvr-ha-multinode-full |tempest.api (without slow tests) | 3 | Ubuntu Jammy | openvswitch | openvswitch | dvr | True | True | True | No | |(non-voting) |tempest.scenario | | | | | dvr_snat | | | | | | | | | | | | dvr_snat | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-slow |tempest slow tests | 2 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | Yes | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |tempest-integrated-networking |tempest.api (without slow tests) | 1 | Ubuntu Jammy | ovn | ovn | --- | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ovs-release-ubuntu-old |tempest.api (without slow tests) | 1 | Ubuntu Focal | ovn | ovn | --- | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ipv6-only-ovs-release |tempest.api (without slow tests) | 1 | Ubuntu Jammy | ovn | ovn | --- | False | False | True | Yes | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ +------------------------------------+-------+------------------+-------------+-------------+----------+-------+--------+------------+-------------+ | Job name | nodes | Operating system | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | driver | mode | | | | queue | +====================================+=======+==================+=============+=============+==========+=======+========+============+=============+ | neutron-ovs-grenade-multinode | 2 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | Yes | +------------------------------------+-------+------------------+-------------+-------------+----------+-------+--------+------------+-------------+ | neutron-ovs-grenade-dvr-multinode | 2 | Ubuntu Jammy | openvswitch | openvswitch | dvr | False | False | True | Yes | | | | | | | dvr_snat | | | | | +------------------------------------+-------+------------------+-------------+-------------+----------+-------+--------+------------+-------------+ +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ | Job name | Run tests | nodes | Operating system | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | | driver | mode | | | | queue | +==============================================+==================================+=======+==================+=============+=================+==========+=======+========+============+=============+ |neutron-ovn-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 1 | Ubuntu Jammy | ovn | ovn | --- | --- | --- | --- | No | |(non-voting) |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-full-multinode-ovs-master |Various tempest api, scenario | 2 | Ubuntu Jammy | ovn | ovn | --- | --- | --- | --- | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ovs-master |Various tempest api, scenario | 1 | Ubuntu Jammy | ovn | ovn | --- | --- | --- | --- | No | | |and neutron_tempest_plugi tests | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-with-neutron-lib-master |tempest.api (without slow tests) | 1 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | No | | |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 1 | Ubuntu Jammy | openvswitch | openvswitch | legacy | False | False | True | No | |(non-voting) |tempest.scenario | | | | | | | | | | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ipv6-only-ovs-master |tempest.api (without slow tests) | 1 | Ubuntu Jammy | ovn | ovn | --- | False | False | True | Yes | | |(only tests related to | | | | | | | | | | | |Neutron and Nova) | | | | | | | | | | +----------------------------------------------+----------------------------------+-------+------------------+-------------+-----------------+----------+-------+--------+------------+-------------+ +--------------------------------+-------+------------------+-------------+-------------+----------+--------+------------+------------+-------------+ | Job name | nodes | Operating system | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | driver | mode | | | | queue | +================================+=======+=============+==================+=============+==========+========+============+============+=============+ | neutron-ovn-grenade-multinode | 2 | Ubuntu Jammy | OVN | --- | --- | --- | --- | False | no | | (non-voting) | | | | | | | | | | +--------------------------------+-------+------------------+-------------+-------------+----------+--------+------------+------------+-------------+"," +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ | Job name | Run tests | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | driver | mode | | | | queue | +==============================================+==================================+=======+=============+=================+==========+=======+========+============+=============+ |neutron-tempest-plugin-designate-scenario |neutron_tempest_plugin.scenario.\ | 1 | openvswitch | openvswitch | legacy | False | False | True | No | | |test_dns_integration | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-linuxbridge |neutron_tempest_plugin.api | 1 | linuxbridge | iptables | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_multiple_create | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-openvswitch |neutron_tempest_plugin.api | 1 | openvswitch | openvswitch | ha | False | False | False | Yes | | |neutron_tempest_plugin.scenario | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_multiple_create | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-openvswitch-\ |neutron_tempest_plugin.api | 1 | openvswitch | iptables_hybrid | ha | False | False | False | Yes | | iptables_hybrid |neutron_tempest_plugin.scenario | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_multiple_create | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-plugin-scenario-ovn | neutron_tempest_plugin.scenario | 1 | ovn | ovn | --- | False | False | False | Yes | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_attach_interfaces | | | | | | | | | | |tempest.api.compute.servers.\ | | | | | | | | | | | test_multiple_create | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-multinode-full |tempest.api (without slow tests) | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | | |tempest.scenario | | | | | | | | | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-dvr-ha-multinode-full |tempest.api (without slow tests) | 3 | openvswitch | openvswitch | dvr | True | True | True | No | |(non-voting) |tempest.scenario | | | | dvr_snat | | | | | | | | | | | dvr_snat | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovs-tempest-slow |tempest slow tests | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |tempest-integrated-networking |tempest.api (without slow tests) | 1 | ovn | ovn | --- | False | False | True | Yes | | |tempest.scenario | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ipv6-only-ovs-release |tempest.api (without slow tests) | 1 | ovn | ovn | --- | False | False | True | Yes | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ +------------------------------------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | Job name | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | driver | mode | | | | queue | +====================================+=======+=============+=============+==========+=======+========+============+=============+ | neutron-ovs-grenade-multinode | 2 | openvswitch | openvswitch | legacy | False | False | True | Yes | +------------------------------------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | neutron-ovs-grenade-dvr-multinode | 2 | openvswitch | openvswitch | dvr | False | False | True | Yes | | | | | | dvr_snat | | | | | +------------------------------------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ | Job name | Run tests | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | | driver | mode | | | | queue | +==============================================+==================================+=======+=============+=================+==========+=======+========+============+=============+ |neutron-ovn-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 1 | ovn | ovn | --- | --- | --- | --- | No | |(non-voting) |tempest.scenario | | | | | | | | | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-full-multinode-ovs-master |Various tempest api, scenario | 2 | ovn | ovn | --- | --- | --- | --- | No | | |and neutron_tempest_plugi tests | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ovs-master |Various tempest api, scenario | 1 | ovn | ovn | --- | --- | --- | --- | No | | |and neutron_tempest_plugi tests | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-with-neutron-lib-master |tempest.api (without slow tests) | 1 | openvswitch | openvswitch | legacy | False | False | True | No | | |tempest.scenario | | | | | | | | | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-tempest-with-uwsgi-loki |tempest.api (without slow tests) | 1 | openvswitch | openvswitch | legacy | False | False | True | No | |(non-voting) |tempest.scenario | | | | | | | | | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ |neutron-ovn-tempest-ipv6-only-ovs-master |tempest.api (without slow tests) | 1 | ovn | ovn | --- | False | False | True | Yes | | |(only tests related to | | | | | | | | | | |Neutron and Nova) | | | | | | | | | +----------------------------------------------+----------------------------------+-------+-------------+-----------------+----------+-------+--------+------------+-------------+ +--------------------------------+-------+-------------+-------------+----------+-------+--------+------------+-------------+ | Job name | nodes | L2 agent | firewall | L3 agent | L3 HA | L3 DVR | enable_dvr | Run in gate | | | | | driver | mode | | | | queue | +================================+=======+=============+=============+==========+=======+========+============+=============+ | neutron-ovn-grenade-multinode | 2 | OVN | --- | --- | --- | --- | False | no | | (non-voting) | | | | | | | | | +--------------------------------+-------+-------------+-------------+----------+-------+--------+------------+-------------+",110,97
openstack%2Fskyline-console~865109,openstack/skyline-console,master,I46b6e7f4dd5ecfeffe2845d5fb74a63092d875e7,fix: add confirm resize/migrate button in the administrator,MERGED,2022-11-21 08:56:34.000000000,2022-11-23 04:08:30.000000000,2022-11-23 04:07:25.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 33689}]","[{'number': 1, 'created': '2022-11-21 08:56:34.000000000', 'files': ['src/pages/compute/containers/Instance/actions/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c1eb34a589cffc60208eb221453c016a57a9d8b2', 'message': 'fix: add confirm resize/migrate button in the administrator\n\nAdd confirm resize/migrate button in the instance list in the administrator\n\nCloses-Bug: #1960388\nChange-Id: I46b6e7f4dd5ecfeffe2845d5fb74a63092d875e7\n'}]",2,865109,c1eb34a589cffc60208eb221453c016a57a9d8b2,12,3,1,30434,,,0,"fix: add confirm resize/migrate button in the administrator

Add confirm resize/migrate button in the instance list in the administrator

Closes-Bug: #1960388
Change-Id: I46b6e7f4dd5ecfeffe2845d5fb74a63092d875e7
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/09/865109/1 && git format-patch -1 --stdout FETCH_HEAD,['src/pages/compute/containers/Instance/actions/index.jsx'],1,c1eb34a589cffc60208eb221453c016a57a9d8b2,," { action: ConfirmResize, },",,3,0
openstack%2Fmanila-tempest-plugin~862785,openstack/manila-tempest-plugin,master,I756779789becbb0aeec74380d40f9c5fb4cd3fe8,[RBAC] Add share export locations tests,MERGED,2022-10-27 08:27:50.000000000,2022-11-23 04:00:17.000000000,2022-11-22 21:47:20.000000000,"[{'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 29632}, {'_account_id': 30025}]","[{'number': 1, 'created': '2022-10-27 08:27:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/28be225786316ffae24ab3806201c152092d2766', 'message': '[RBAC] Add share export locations tests\n\nThe tests validate policy of share export locations actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I756779789becbb0aeec74380d40f9c5fb4cd3fe8\n'}, {'number': 2, 'created': '2022-10-27 08:30:55.000000000', 'files': ['manila_tempest_tests/tests/rbac/test_export_locations.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/120862e4c1218503092c5e2b62bbb251b76872b0', 'message': '[RBAC] Add share export locations tests\n\nThe tests validate policy of share export locations actions\nfor admin,member and reader users in a project scope.\n\nChange-Id: I756779789becbb0aeec74380d40f9c5fb4cd3fe8\n'}]",9,862785,120862e4c1218503092c5e2b62bbb251b76872b0,30,4,2,19262,,,0,"[RBAC] Add share export locations tests

The tests validate policy of share export locations actions
for admin,member and reader users in a project scope.

Change-Id: I756779789becbb0aeec74380d40f9c5fb4cd3fe8
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/85/862785/1 && git format-patch -1 --stdout FETCH_HEAD,"['manila_tempest_tests/tests/rbac/test_export_locations.py', 'manila_tempest_tests/tests/rbac/test_quotas.py']",2,28be225786316ffae24ab3806201c152092d2766,secure-rbac,"# Copyright 2022 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import abc from tempest import config from tempest.lib import decorators from testtools import testcase as tc from manila_tempest_tests.tests.api import base from manila_tempest_tests.tests.rbac import base as rbac_base CONF = config.CONF class ShareRbacQuotasTests(rbac_base.ShareRbacBaseTests, metaclass=abc.ABCMeta): @classmethod def skip_checks(cls): super(ShareRbacQuotasTests, cls).skip_checks() if cls.protocol not in CONF.share.enable_protocols: message = ""%s tests are disabled"" % cls.protocol raise cls.skipException(message) @classmethod def setup_clients(cls): super(ShareRbacQuotasTests, cls).setup_clients() cls.persona = getattr(cls, 'os_%s' % cls.credentials[0]) cls.client = cls.persona.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) class TestProjectAdminTestsNFS(ShareRbacQuotasTests, base.BaseSharesTest): credentials = ['project_admin', 'project_alt_member'] protocol = 'nfs' @classmethod def setup_clients(cls): super(TestProjectAdminTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.persona, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() cls.alt_project_share_v2_client = ( cls.os_project_alt_member.share_v2.SharesV2Client()) @classmethod def resource_setup(cls): super(TestProjectAdminTestsNFS, cls).resource_setup() share_type = cls.get_share_type() cls.share = cls.create_share(cls.client, share_type['id']) cls.alt_share = cls.create_share( cls.alt_project_share_v2_client, share_type['id']) @decorators.idempotent_id('3335d272-ca9c-4e89-9c84-ec0c95ede33a') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_show_default_quotas(self): self.do_request( 'default_quotas', expected_status=200, tenant_id=self.share_member_client.tenant_id) self.do_request( 'default_quotas', expected_status=200, tenant_id=self.alt_project_share_v2_client.tenant_id) class TestProjectMemberTestsNFS(ShareRbacQuotasTests, base.BaseSharesTest): credentials = ['project_member', 'project_alt_member'] protocol = 'nfs' @classmethod def resource_setup(cls): super(TestProjectMemberTestsNFS, cls).resource_setup() share_type = cls.get_share_type() cls.share_client = getattr(cls, 'share_member_client', cls.client) cls.share = cls.create_share(cls.share_client, share_type['id']) cls.alt_share = cls.create_share( cls.alt_project_share_v2_client, share_type['id']) @decorators.idempotent_id('3335d272-ca9c-4e89-9c84-ec0c95ede33b') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_show_default_quotas(self): self.do_request( 'default_quotas', expected_status=200, tenant_id=self.share_client.tenant_id) self.do_request( 'default_quotas', expected_status=200, tenant_id=self.alt_project_share_v2_client.tenant_id) class TestProjectReaderTestsNFS(TestProjectMemberTestsNFS): """"""Test suite for basic share operations by reader user In order to test certain share operations we must create a share resource for this. Since reader user is limited in resources creation, we are forced to use admin credentials, so we can test other share operations. In this class we use admin user to create a member user within reader project. That way we can perform a reader actions on this resource. """""" credentials = ['project_reader', 'project_admin', 'project_alt_member'] @classmethod def setup_clients(cls): super(TestProjectReaderTestsNFS, cls).setup_clients() project_member = cls.setup_user_client( cls.os_project_admin, project_id=cls.persona.credentials.project_id) cls.share_member_client = project_member.share_v2.SharesV2Client() @decorators.idempotent_id('dc439eaf-c885-4002-be8f-4c488beeca81') @tc.attr(base.TAG_NEGATIVE, base.TAG_API_WITH_BACKEND) def test_show_default_quotas(self): super(TestProjectReaderTestsNFS, self).test_show_default_quotas() ",,344,0
openstack%2Ftripleo-common~865356,openstack/tripleo-common,master,Idff1ec8889aa14ef4d81f511b5635319249a4e6e,Add dosfstools to ironic-pxe image,ABANDONED,2022-11-23 01:18:27.000000000,2022-11-23 02:54:34.000000000,,"[{'_account_id': 9816}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 24245}]","[{'number': 1, 'created': '2022-11-23 01:18:27.000000000', 'files': ['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5d2d8f5a9eefe4ea6401028eae4598d25a1c0060', 'message': 'Add dosfstools to ironic-pxe image\n\nAt runtime an ESP image needs to be built to enable virtual-media-boot\nbased deployments. Building this image requires the mkfs.fat tool\nwhich is provided by dosfstools.\n\nChange-Id: Idff1ec8889aa14ef4d81f511b5635319249a4e6e\n'}]",0,865356,5d2d8f5a9eefe4ea6401028eae4598d25a1c0060,3,4,1,4571,,,0,"Add dosfstools to ironic-pxe image

At runtime an ESP image needs to be built to enable virtual-media-boot
based deployments. Building this image requires the mkfs.fat tool
which is provided by dosfstools.

Change-Id: Idff1ec8889aa14ef4d81f511b5635319249a4e6e
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/56/865356/1 && git format-patch -1 --stdout FETCH_HEAD,['container-images/tcib/base/os/ironic-base/ironic-pxe/ironic-pxe.yaml'],1,5d2d8f5a9eefe4ea6401028eae4598d25a1c0060,dosfstools, - dosfstools,,1,0
openstack%2Fneutron~864297,openstack/neutron,stable/xena,I7cec8b53e72e7abf34012906e6adfecf079525af,Check subnet overlapping after add router interface,MERGED,2022-11-11 16:18:52.000000000,2022-11-23 02:29:15.000000000,2022-11-23 02:27:26.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-11 16:18:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/299ab9066d358083f8f79981f1af2d1cff4915a5', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nConflicts:\n       neutron/db/l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}, {'number': 2, 'created': '2022-11-11 16:43:22.000000000', 'files': ['neutron/db/l3_db.py', 'neutron/tests/fullstack/resources/config.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/789a46df615dc5cf7687f643e364e008e043508b', 'message': 'Check subnet overlapping after add router interface\n\nWhen simultaneous attempts are made to add an interface\nto the same router including overlapping networks in cidrs,\nboth attempts are successful. There is a check to avoid this\noverlap but is performed when creating the network interface\nand it is done over the ports already attached to the router,\nso at this moment the check is not able to detect the\noverlapping. Furthermore, the create_port operation over the\nML2 plugin  must be executed in isolated transactions, so\ntrying to control the execution context or adding additional\nsteps to the transaction is not feasible.\n\nThis patch checks once the RouterPort is created on the\nneutron database if there is more than one overlapping port,\ntriggering in that case the exception that will remove the\nthe culprit of overlapping.\n\nNote: Added clean of l3_obj.RouterPort to avoid errors on\nsetUp of test class L3TestCase, pick from [1]. Also added\ncfg allow_overlapping_ips to True for fullstack job, this one\nhad been deprecated and enabled by default in newer releases\nbut added in order to run the backported tests over this\nstable branch.\n\nConflicts:\n       neutron/db/l3_db.py\n(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n\n[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612\n\nCloses-Bug: #1987666\nChange-Id: I7cec8b53e72e7abf34012906e6adfecf079525af\n(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)\n'}]",1,864297,789a46df615dc5cf7687f643e364e008e043508b,10,3,2,34451,,,0,"Check subnet overlapping after add router interface

When simultaneous attempts are made to add an interface
to the same router including overlapping networks in cidrs,
both attempts are successful. There is a check to avoid this
overlap but is performed when creating the network interface
and it is done over the ports already attached to the router,
so at this moment the check is not able to detect the
overlapping. Furthermore, the create_port operation over the
ML2 plugin  must be executed in isolated transactions, so
trying to control the execution context or adding additional
steps to the transaction is not feasible.

This patch checks once the RouterPort is created on the
neutron database if there is more than one overlapping port,
triggering in that case the exception that will remove the
the culprit of overlapping.

Note: Added clean of l3_obj.RouterPort to avoid errors on
setUp of test class L3TestCase, pick from [1]. Also added
cfg allow_overlapping_ips to True for fullstack job, this one
had been deprecated and enabled by default in newer releases
but added in order to run the backported tests over this
stable branch.

Conflicts:
       neutron/db/l3_db.py
(manually cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)

[1] https://review.opendev.org/c/openstack/neutron/+/804846/18/neutron/tests/unit/db/test_l3_db.py#612

Closes-Bug: #1987666
Change-Id: I7cec8b53e72e7abf34012906e6adfecf079525af
(cherry picked from commit 1abb77d7a63cde2aa9640351f663870c14430919)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/97/864297/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/db/l3_db.py', 'neutron/tests/fullstack/test_l3_agent.py', 'neutron/tests/unit/db/test_l3_db.py']",3,299ab9066d358083f8f79981f1af2d1cff4915a5,," def test__raise_on_subnets_overlap_does_not_raise(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/24'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.2.0.0/24'}] self.db._raise_on_subnets_overlap(subnets[0], subnets[1]) def test__raise_on_subnets_overlap_raises(self): subnets = [ {'id': uuidutils.generate_uuid(), 'cidr': '10.1.0.0/20'}, {'id': uuidutils.generate_uuid(), 'cidr': '10.1.10.0/24'}] self.assertRaises( n_exc.BadRequest, self.db._raise_on_subnets_overlap, subnets[0], subnets[1]) def test__validate_one_router_ipv6_port_per_network(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network2', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_mix_ipv4_ipv6(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '10.1.10.0/24').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.db._validate_one_router_ipv6_port_per_network( router, new_port) def test__validate_one_router_ipv6_port_per_network_failed(self): port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 1), subnet_id='foo_subnet')]) rports = [l3_models.RouterPort(router_id='foo_router', port=port)] router = l3_models.Router( id='foo_router', attached_ports=rports, route_list=[], gw_port_id=None) new_port = models_v2.Port( id=uuidutils.generate_uuid(), network_id='foo_network', fixed_ips=[models_v2.IPAllocation( ip_address=str(netaddr.IPNetwork( '2001:db8::/32').ip + 2), subnet_id='foo_subnet')]) self.assertRaises( n_exc.BadRequest, self.db._validate_one_router_ipv6_port_per_network, router, new_port) @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_port_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') ipa = str(netaddr.IPNetwork(subnet['subnet']['cidr']).ip + 10) fixed_ips = [{'subnet_id': subnet['subnet']['id'], 'ip_address': ipa}] port = self.create_port( network2['network']['id'], {'fixed_ips': fixed_ips}) self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': port['port']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'port_id': self.ports[0]['port']['id']}) mock_raise_on_subnets_overlap.assert_called_once() @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_for_dup_router_subnets') @mock.patch.object(l3_db.L3_NAT_dbonly_mixin, '_raise_on_subnets_overlap') def test_add_router_interface_by_subnet_overlap_detected( self, mock_raise_on_subnets_overlap, mock_check_dup): # NOTE(froyo): On a normal behaviour this overlapping would be detected # by _check_for_dup_router_subnets, in order to evalue the code # implemented to cover the race condition when two ports are added # simultaneously using colliding cidrs we need to ""fake"" this method # to overpass it and check we achieve the code part that cover the case mock_check_dup.return_value = True network2 = self.create_network('network2') subnet = self.create_subnet(network2, '1.1.1.1', '1.1.1.0/24') self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': subnet['subnet']['id']}) mock_raise_on_subnets_overlap.assert_not_called() self.mixin.add_router_interface( self.ctx, self.router['id'], interface_info={'subnet_id': self.subnets[0]['subnet']['id']}) mock_raise_on_subnets_overlap.assert_called_once() ",,246,30
openstack%2Fdesignate~835317,openstack/designate,master,Ic7b8fee4d4702b0632774d32542b23d7d2a8c253,Add option to force delete zone-files in delete API.,MERGED,2022-03-25 20:15:23.000000000,2022-11-23 01:24:55.000000000,2022-11-23 01:23:51.000000000,"[{'_account_id': 5572}, {'_account_id': 11628}, {'_account_id': 19298}, {'_account_id': 20104}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 29759}, {'_account_id': 32919}]","[{'number': 1, 'created': '2022-03-25 20:15:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4cc8d2c227e7cdb36bf33549b78cd96fa1354fbf', 'message': 'Delete back-end zone-files when zone is deleted\n\nWe do not delete the zone-files on the back-end (Bind) when the zone is\ndeleted in Designate. This results in tens of thousand leftover zone files on\nBind.\n\nThis commit provides a separate option in Designate Zone deletion API to\n""force cleaning zone"" on the back-end. This option is restricted for admin and\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 2, 'created': '2022-03-26 13:49:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/913b8ffeeeac0cbee7178cc30a7e5272d09d5606', 'message': 'Delete back-end zone-files when zone is deleted\n\nWe do not delete the zone-files on the back-end (Bind) when the zone is\ndeleted in Designate. This results in tens of thousand leftover zone files on\nBind.\n\nThis commit provides a separate option in Designate Zone deletion API to\n""force cleaning zone"" on the back-end. This option is restricted for admin and\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 3, 'created': '2022-04-30 13:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/49549c34ad4677d5124afada2849d74ad01cba26', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is deleted\nvia delete API. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to clean/delete zone files on\nthe back-end. This option is restricted for admin or owner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 4, 'created': '2022-04-30 13:16:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/33e1c6e32784e4a5d7887a455ca245a1d628ab76', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 5, 'created': '2022-06-14 17:50:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d79466311eb3ba2df4b01f63ddb9695603c8efd5', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 6, 'created': '2022-06-27 17:01:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d4074b46ac12b7f6b41c4673dad2ef2ffd718a65', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 7, 'created': '2022-08-10 09:28:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/ffa7d6ecadb892e588faf5c1af063f8b942084f2', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 8, 'created': '2022-10-03 08:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c57cf5cbed167b7f619c4c4c11fef3d2cd90bdc1', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 9, 'created': '2022-10-06 10:29:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3593de9561c793914792c1b7e72830aa3fe9d65c', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 10, 'created': '2022-10-12 16:24:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/09c53b04f3df51e20d252157f82f0ae111b8b97a', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 11, 'created': '2022-10-19 19:49:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8cb32aff4ff38c7c69cdea25842e0a2a7e63460f', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 12, 'created': '2022-10-19 20:12:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/814e78e37514c54997a3f44b5616c2904573d992', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 13, 'created': '2022-10-20 06:42:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/28b7ee1b164b48e469d0b7b7830f4cb91780cca1', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}, {'number': 14, 'created': '2022-10-20 10:01:30.000000000', 'files': ['api-ref/source/parameters.yaml', 'designate/worker/tasks/zone.py', 'designate/tests/unit/backend/test_bind9.py', 'designate/tests/unit/test_context.py', 'releasenotes/notes/Fix-Delete-back-end-zone-resources-upon-zone-deletion-da0051432c95c8e2.yaml', 'designate/common/policies/context.py', 'designate/api/middleware.py', 'designate/backend/impl_bind9.py', 'designate/backend/impl_pdns4.py', 'designate/tests/unit/workers/test_service.py', 'designate/backend/impl_akamai_v2.py', 'designate/backend/impl_dynect.py', 'designate/common/config.py', 'designate/tests/unit/api/test_middleware.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/backend/impl_fake.py', 'designate/worker/service.py', 'designate/backend/impl_ns1.py', 'designate/worker/rpcapi.py', 'designate/backend/agent_backend/base.py', 'designate/backend/impl_nsd4.py', 'api-ref/source/dns-api-v2-zone.inc', 'designate/central/service.py', 'designate/backend/impl_designate.py', 'designate/context.py', 'designate/backend/base.py', 'designate/tests/unit/workers/test_zone_tasks.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/d193b0c70c8ee1c12310f8e211307088287561f1', 'message': 'Add option to force delete zone-files in delete API.\n\nDesignate does not delete the zone-files on the back-end when zone is\ndeleted. This results in thousands leftover zone files on backend e.g.\nbind. Add option in designate zone delete API to force clean/delete\nzone-files on the back-end. This option is restricted for admin or\nowner roles.\n\nCloses-Bug: 1966517\nChange-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253\n'}]",57,835317,d193b0c70c8ee1c12310f8e211307088287561f1,74,8,14,34181,,,0,"Add option to force delete zone-files in delete API.

Designate does not delete the zone-files on the back-end when zone is
deleted. This results in thousands leftover zone files on backend e.g.
bind. Add option in designate zone delete API to force clean/delete
zone-files on the back-end. This option is restricted for admin or
owner roles.

Closes-Bug: 1966517
Change-Id: Ic7b8fee4d4702b0632774d32542b23d7d2a8c253
",git fetch https://review.opendev.org/openstack/designate refs/changes/17/835317/1 && git format-patch -1 --stdout FETCH_HEAD,"['api-ref/source/parameters.yaml', 'designate/objects/zone.py', 'designate/common/policies/zone.py', 'designate/tests/unit/test_central/test_basic.py', 'designate/central/rpcapi.py', 'api-ref/source/dns-api-v2-zone.inc', 'designate/central/service.py', 'releasenotes/notes/Fix-Delete-back-end-zone-file-upon-zone-deletion-da0051432c95c8e2.yaml', 'designate/backend/impl_bind9.py', 'designate/api/v2/controllers/zones/__init__.py']",10,4cc8d2c227e7cdb36bf33549b78cd96fa1354fbf,bug/1966517," try: body = request.body_dict except exceptions.UnsupportedContentType: body = dict() clean_zonefile = body.get('clean_zonefile', False) zone = self.central_api.delete_zone( context, zone_id, clean_zonefile=clean_zonefile )"," zone = self.central_api.delete_zone(context, zone_id)",81,9
openstack%2Ftripleo-ansible~865206,openstack/tripleo-ansible,stable/train,I61f80b11c9394f34e09297ca1aa93d7000bb8047,[TRAIN-ONLY] Rotate ceph_ansible_command.log,MERGED,2022-11-21 23:16:36.000000000,2022-11-23 01:12:07.000000000,2022-11-23 01:12:07.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-21 23:16:36.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/22e9588f9d89f385e5fbbe7deb435de0fbafae15', 'message': '[TRAIN-ONLY] Rotate ceph_ansible_command.log\n\nBefore calling ceph-ansible, check if the log file\nceph_ansible_command.log exists (from a previous run).\nIf it does, then rename it to append a timestamp. When\nceph-ansible is run a new log will be created. As per\nthe depends-on patch, the timestamped files will be\ncleaned up after LogrotatePurgeAfterDays days.\n\nThis patch goes directly into Train because the modified\nfile has been removed in Wallaby.\n\nChange-Id: I61f80b11c9394f34e09297ca1aa93d7000bb8047\nResolves: rhbz#2144485\nDepends-On: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n'}]",4,865206,22e9588f9d89f385e5fbbe7deb435de0fbafae15,11,6,1,18002,,,0,"[TRAIN-ONLY] Rotate ceph_ansible_command.log

Before calling ceph-ansible, check if the log file
ceph_ansible_command.log exists (from a previous run).
If it does, then rename it to append a timestamp. When
ceph-ansible is run a new log will be created. As per
the depends-on patch, the timestamped files will be
cleaned up after LogrotatePurgeAfterDays days.

This patch goes directly into Train because the modified
file has been removed in Wallaby.

Change-Id: I61f80b11c9394f34e09297ca1aa93d7000bb8047
Resolves: rhbz#2144485
Depends-On: Ifbd990f15b9d85260ab20a2004fe79bafda929d9
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/865206/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'],1,22e9588f9d89f385e5fbbe7deb435de0fbafae15,ceph_ansible_log_rotate,"- name: rotate ceph_ansible_command.log become: true shell: | if [[ -e ceph_ansible_command.log ]]; then mv ceph_ansible_command.log ceph_ansible_command.log-$(date ""+%Y-%m-%dT%H:%M:%S""); fi args: chdir: ""{{ playbook_dir }}/ceph-ansible/"" ",,9,0
openstack%2Fzaqar~823295,openstack/zaqar,stable/rocky,I4ff9cf8b6645aabe54b93e4cfea869e42859213c,Remove neutron-lbaas from the CI jobs requirements,ABANDONED,2022-01-03 13:38:17.000000000,2022-11-23 01:10:56.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 13:38:17.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/471b3110e3418537be82bdd3f6bc65c09452dfb5', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c\n""}]",1,823295,471b3110e3418537be82bdd3f6bc65c09452dfb5,5,2,1,11975,,,0,"Remove neutron-lbaas from the CI jobs requirements

Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/95/823295/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,471b3110e3418537be82bdd3f6bc65c09452dfb5,remove-neutron-lbaas-stable/rocky,, - openstack/neutron-lbaas,0,1
openstack%2Fzaqar~823289,openstack/zaqar,stable/stein,I4ff9cf8b6645aabe54b93e4cfea869e42859213c,Remove neutron-lbaas from the CI jobs requirements,ABANDONED,2022-01-03 13:37:53.000000000,2022-11-23 01:10:35.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 13:37:53.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/056528d5f80aa3ad00bfcbd7b4263b3cba8edc23', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c\n""}]",1,823289,056528d5f80aa3ad00bfcbd7b4263b3cba8edc23,5,2,1,11975,,,0,"Remove neutron-lbaas from the CI jobs requirements

Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/89/823289/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,056528d5f80aa3ad00bfcbd7b4263b3cba8edc23,remove-neutron-lbaas,, - openstack/neutron-lbaas,0,1
openstack%2Fzaqar~823296,openstack/zaqar,stable/queens,I4ff9cf8b6645aabe54b93e4cfea869e42859213c,Remove neutron-lbaas from the CI jobs requirements,ABANDONED,2022-01-03 13:38:29.000000000,2022-11-23 01:09:52.000000000,,"[{'_account_id': 8846}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-01-03 13:38:29.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/zaqar/commit/2ac1068f36ae3bf6d648117d95ab88ce5ae6f907', 'message': ""Remove neutron-lbaas from the CI jobs requirements\n\nNeutron-lbaas was retired some time ago [1] so there's no need\nto keep it in the requirements of the CI jobs.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n\nChange-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c\n""}]",1,823296,2ac1068f36ae3bf6d648117d95ab88ce5ae6f907,5,2,1,11975,,,0,"Remove neutron-lbaas from the CI jobs requirements

Neutron-lbaas was retired some time ago [1] so there's no need
to keep it in the requirements of the CI jobs.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html

Change-Id: I4ff9cf8b6645aabe54b93e4cfea869e42859213c
",git fetch https://review.opendev.org/openstack/zaqar refs/changes/96/823296/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2ac1068f36ae3bf6d648117d95ab88ce5ae6f907,remove-neutron-lbaas-stable/rocky-stable/queens,, - openstack/neutron-lbaas,0,1
openstack%2Fneutron~865064,openstack/neutron,stable/victoria,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:13:36.000000000,2022-11-23 01:05:59.000000000,2022-11-23 01:04:38.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:13:36.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/e6878c12c3064a5a13589dd4df05a053e3f96bee', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nConflicts:\n      neutron/agent/ovn/metadata/agent.py\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",3,865064,e6878c12c3064a5a13589dd4df05a053e3f96bee,16,6,1,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Conflicts:
      neutron/agent/ovn/metadata/agent.py

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/64/865064/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,e6878c12c3064a5a13589dd4df05a053e3f96bee,," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,63
openstack%2Fneutron~864979,openstack/neutron,stable/xena,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-18 22:09:07.000000000,2022-11-23 00:07:40.000000000,2022-11-23 00:06:20.000000000,"[{'_account_id': 8655}, {'_account_id': 9656}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 22:09:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/31b1ba82a7a4246677067eeabbfd5d6c63d1e2e7', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n""}, {'number': 2, 'created': '2022-11-21 13:06:32.000000000', 'files': ['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c5a3ea4a1027f72f3f6c5f3304a96b900d8eba95', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n""}]",2,864979,c5a3ea4a1027f72f3f6c5f3304a96b900d8eba95,20,6,2,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/79/864979/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/ovn/metadata/agent.py', 'neutron/tests/unit/agent/ovn/metadata/test_agent.py']",2,31b1ba82a7a4246677067eeabbfd5d6c63d1e2e7,ovn-meta-first-cleanup-stable/xena," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) enp.assert_called_once_with({ (p.datapath.uuid, p.datapath.uuid) for p in self.ports }) def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.assert_called_once_with() def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",51,64
openstack%2Fcinder~812751,openstack/cinder,master,I7dccb9afba052ad40d2ea0b295143dba80be8a19,NetApp ONTAP: Fix storage assisted migration,NEW,2021-10-06 21:50:39.000000000,2022-11-23 00:05:53.000000000,,"[{'_account_id': 22348}, {'_account_id': 30615}, {'_account_id': 33431}, {'_account_id': 33648}]","[{'number': 1, 'created': '2021-10-06 21:50:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/dc9d09a8881a85018714e4cb2145d92abce88338', 'message': '[NetApp] Fix storage assisted migration\n\nDuring Xena release, the patch [1] added the support for storage\nassisted migration. However, this migration is losing the QoS. Also,\nthe storage assisted migration cannot be used from or to FlexGroup pool.\nThose two issues are fixed by this patch.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/799668\n\nChange-Id: I7dccb9afba052ad40d2ea0b295143dba80be8a19\nCloses-Bug: #1946262\nClose-Bug: #1946263\n'}, {'number': 2, 'created': '2021-10-06 21:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a4f953f1181717cb8d5cfe425a291d36ddde0a80', 'message': 'NetApp ONTAP: Fix storage assisted migration\n\nDuring Xena release, the patch [1] added the support for storage\nassisted migration. However, this migration is losing the QoS. Also,\nthe storage assisted migration cannot be used from or to FlexGroup pool.\nThose two issues are fixed by this patch.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/799668\n\nChange-Id: I7dccb9afba052ad40d2ea0b295143dba80be8a19\nCloses-Bug: #1946262\nClose-Bug: #1946263\n'}, {'number': 3, 'created': '2021-10-06 21:58:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/4c1f1fcbbcef80a55eb11aa7f0982ac4f162d093', 'message': 'NetApp ONTAP: Fix storage assisted migration\n\nDuring Xena release, the patch [1] added the support for storage\nassisted migration. However, this migration is losing the QoS. Also,\nthe storage assisted migration cannot be used from or to FlexGroup pool.\nThose two issues are fixed by this patch.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/799668\n\nCloses-Bug: #1946262\nCloses-Bug: #1946263\nChange-Id: I7dccb9afba052ad40d2ea0b295143dba80be8a19\n'}, {'number': 4, 'created': '2021-10-13 04:30:30.000000000', 'files': ['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/netapp-ontap-storage-migration-bug-16ce0daf653ff32e.yaml', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/334d8d6d378027b0186b0ef65adc2603ba852162', 'message': 'NetApp ONTAP: Fix storage assisted migration\n\nDuring Xena release, the patch [1] added the support for storage\nassisted migration. However, this migration is losing the QoS. Also,\nthe storage assisted migration cannot be used from or to FlexGroup pool.\nThose two issues are fixed by this patch.\n\n[1] https://review.opendev.org/c/openstack/cinder/+/799668\n\nCloses-Bug: #1946262\nCloses-Bug: #1946263\nChange-Id: I7dccb9afba052ad40d2ea0b295143dba80be8a19\n'}]",14,812751,334d8d6d378027b0186b0ef65adc2603ba852162,60,4,4,31721,,,0,"NetApp ONTAP: Fix storage assisted migration

During Xena release, the patch [1] added the support for storage
assisted migration. However, this migration is losing the QoS. Also,
the storage assisted migration cannot be used from or to FlexGroup pool.
Those two issues are fixed by this patch.

[1] https://review.opendev.org/c/openstack/cinder/+/799668

Closes-Bug: #1946262
Closes-Bug: #1946263
Change-Id: I7dccb9afba052ad40d2ea0b295143dba80be8a19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/51/812751/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/netapp/dataontap/client/api.py', 'cinder/volume/drivers/netapp/dataontap/nfs_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_cmode.py', 'releasenotes/notes/netapp-ontap-storage-migration-bug-16ce0daf653ff32e.yaml', 'cinder/tests/unit/volume/drivers/netapp/dataontap/client/test_client_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/utils/test_data_motion.py', 'cinder/volume/drivers/netapp/dataontap/utils/data_motion.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_base.py', 'cinder/volume/drivers/netapp/dataontap/nfs_base.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_block_cmode.py', 'cinder/tests/unit/volume/drivers/netapp/dataontap/test_nfs_base.py', 'cinder/volume/drivers/netapp/dataontap/block_cmode.py', 'cinder/volume/drivers/netapp/dataontap/client/client_cmode.py', 'cinder/volume/drivers/netapp/dataontap/block_base.py']",14,dc9d09a8881a85018714e4cb2145d92abce88338,bug/1946262," def _setup_qos_for_volume(self, volume, extra_specs, use_client=None, qos_min_support=None): def _do_qos_for_volume(self, volume, extra_specs, cleanup=True, use_client=None, use_vserver=None, use_pool=None, qos_min_support=None): """"""Set QoS policy on backend from volume type information."""""" raise NotImplementedError() def is_dest_flexgroup(self, host, dest_client): """"""Check on ONTAP if the host is FlexGroup or not."""""" raise NotImplementedError()"," def _setup_qos_for_volume(self, volume, extra_specs):",441,104
openstack%2Fcharm-ceph-dashboard~858874,openstack/charm-ceph-dashboard,master,I8c14d6ab03fab3830d6da632b5dec1065d9068b2,Add job matcher. This allows query to distinguish between ceph clusters using job label.,MERGED,2022-09-22 08:58:10.000000000,2022-11-22 23:57:12.000000000,2022-11-22 23:57:12.000000000,"[{'_account_id': 15382}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 33717}]","[{'number': 1, 'created': '2022-09-22 08:58:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/b4434df54c0548e9673238a3b4ff24ee2e2f89f7', 'message': 'Add job matcher. This allows query to distinguish between ceph clusters\nusing job label.\n\nCloses-Bug: #1990248\nChange-Id: I8c14d6ab03fab3830d6da632b5dec1065d9068b2\n'}, {'number': 2, 'created': '2022-11-04 05:51:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/95e5f8320dff789ead18e39c692a2a84fa03008a', 'message': 'Add job matcher. This allows query to distinguish between ceph clusters\nusing job label.\n\nCloses-Bug: #1990248\nChange-Id: I8c14d6ab03fab3830d6da632b5dec1065d9068b2\n'}, {'number': 3, 'created': '2022-11-04 06:15:12.000000000', 'files': ['src/dashboards/host-details.json', 'src/dashboards/ceph-cluster.json', 'src/dashboards/pool-detail.json', 'src/dashboards/cephfs-overview.json', 'src/dashboards/osd-device-details.json', 'src/dashboards/radosgw-overview.json', 'src/dashboards/hosts-overview.json', 'src/dashboards/osds-overview.json', 'src/dashboards/rbd-details.json', 'src/dashboards/radosgw-detail.json', 'src/dashboards/rbd-overview.json', 'src/dashboards/pool-overview.json', 'src/dashboards/radosgw-sync-overview.json'], 'web_link': 'https://opendev.org/openstack/charm-ceph-dashboard/commit/0e604abccb9bfdb0bbf4464e9817975bac53b7dd', 'message': 'Add job matcher. This allows query to distinguish between ceph clusters\nusing job label.\n\nCloses-Bug: #1990248\nChange-Id: I8c14d6ab03fab3830d6da632b5dec1065d9068b2\n'}]",19,858874,0e604abccb9bfdb0bbf4464e9817975bac53b7dd,36,4,3,35007,,,0,"Add job matcher. This allows query to distinguish between ceph clusters
using job label.

Closes-Bug: #1990248
Change-Id: I8c14d6ab03fab3830d6da632b5dec1065d9068b2
",git fetch https://review.opendev.org/openstack/charm-ceph-dashboard refs/changes/74/858874/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/dashboards/host-details.json', 'src/dashboards/ceph-cluster.json', 'src/dashboards/pool-detail.json', 'src/dashboards/cephfs-overview.json', 'src/dashboards/osd-device-details.json', 'src/dashboards/radosgw-overview.json', 'src/dashboards/hosts-overview.json', 'src/dashboards/osds-overview.json', 'src/dashboards/rbd-details.json', 'src/dashboards/radosgw-detail.json', 'src/dashboards/rbd-overview.json', 'src/dashboards/pool-overview.json', 'src/dashboards/radosgw-sync-overview.json']",13,b4434df54c0548e9673238a3b4ff24ee2e2f89f7,bug/1990248," ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_bytes_sum{job=~\""$job\""}[30s]))"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_bytes_count{job=~\""$job\""}[30s]))"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_poll_latency_sum{job=~\""$job\""}[30s]) * 1000)"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_errors{job=~\""$job\""}[30s]))"", }, { ""allValue"": null, ""current"": {}, ""datasource"": ""$datasource"", ""hide"": 0, ""includeAll"": false, ""label"": ""Job"", ""multi"": false, ""name"": ""job"", ""options"": [], ""query"": ""label_values(ceph_osd_metadata, job)"", ""refresh"": 1, ""regex"": ""(.*)"", ""skipUrlSync"": false, ""sort"": 0, ""tagValuesQuery"": """", ""tags"": [], ""tagsQuery"": """", ""type"": ""query"", ""useTags"": false"," ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_bytes_sum[30s]))"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_bytes_count[30s]))"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_poll_latency_sum[30s]) * 1000)"", ""expr"": ""sum by (source_zone) (rate(ceph_data_sync_from_zone_fetch_errors[30s]))"",",474,201
openstack%2Floci~853553,openstack/loci,master,I76612794c1ba8dbc45b62dff00cee43c6ba10a34,Drop UWSGI from always being installed,MERGED,2022-08-17 22:37:48.000000000,2022-11-22 22:56:15.000000000,2022-11-22 22:56:15.000000000,"[{'_account_id': 8898}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-08-17 22:37:48.000000000', 'files': ['pydep.txt'], 'web_link': 'https://opendev.org/openstack/loci/commit/8b4e21b35f949dd33dd0a50d1aa6d3be7a29d17d', 'message': ""Drop UWSGI from always being installed\n\nUWSGI was always being installed no matter the release,\nwe only use this inside Barbican so we'll install it in this\nscenario only.\n\nChange-Id: I76612794c1ba8dbc45b62dff00cee43c6ba10a34\n""}]",2,853553,8b4e21b35f949dd33dd0a50d1aa6d3be7a29d17d,10,3,1,1004,,,0,"Drop UWSGI from always being installed

UWSGI was always being installed no matter the release,
we only use this inside Barbican so we'll install it in this
scenario only.

Change-Id: I76612794c1ba8dbc45b62dff00cee43c6ba10a34
",git fetch https://review.opendev.org/openstack/loci refs/changes/53/853553/1 && git format-patch -1 --stdout FETCH_HEAD,['pydep.txt'],1,8b4e21b35f949dd33dd0a50d1aa6d3be7a29d17d,cleanup/uwsgi,uwsgi [barbican],uwsgi [],1,1
openstack%2Fironic~864954,openstack/ironic,master,I394629d49051ec469b44c8fc9becaef6806281e3,Implement periodic task for populating shards tbl,ABANDONED,2022-11-18 00:11:57.000000000,2022-11-22 22:13:44.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-18 00:11:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/73aa90171e84b05224bb5229bd4d366b46e788e6', 'message': 'Implement periodic task for populating shards tbl\n\nimplements https://review.opendev.org/c/openstack/ironic-specs/+/861803implements https://review.opendev.org/c/openstack/ironic-specs/+/861803\n\nChange-Id: I394629d49051ec469b44c8fc9becaef6806281e3\n'}, {'number': 2, 'created': '2022-11-21 23:30:12.000000000', 'files': ['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_shard.py', 'ironic/db/api.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/8ee525a28c72491ba9a831b12f4820eabd0eff73', 'message': 'Implement periodic task for populating shards tbl\n\nimplements https://review.opendev.org/c/openstack/ironic-specs/+/861803\n\nChange-Id: I394629d49051ec469b44c8fc9becaef6806281e3\n'}]",7,864954,8ee525a28c72491ba9a831b12f4820eabd0eff73,11,1,2,10342,,,0,"Implement periodic task for populating shards tbl

implements https://review.opendev.org/c/openstack/ironic-specs/+/861803

Change-Id: I394629d49051ec469b44c8fc9becaef6806281e3
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/864954/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/conductor.py', 'ironic/conductor/manager.py', 'ironic/db/sqlalchemy/api.py', 'ironic/tests/unit/db/test_shard.py', 'ironic/db/api.py']",5,73aa90171e84b05224bb5229bd4d366b46e788e6,DBLayer_Shard_Key," """"""Retrieve a list of shards. :returns: a list of Shards """""" def get_shard_count_from_nodes(self): """"""Count the number of nodes with a given shard_key. :returns: a list of tuples containing (count, shard_key) """""" def replace_shards_table(self, shard_count): """"""Replace the shards table with new cached values. :param shard_count: a list of tuples containing (count, shard_key) """""""," """"""Retrieve a list of shards.""""""",113,1
openstack%2Floci~859860,openstack/loci,master,I3e619a694d0cf140f3f8f1c290755506711b533f,DNM,ABANDONED,2022-09-29 14:23:03.000000000,2022-11-22 22:11:04.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-09-29 14:23:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/e82c9880807a6088d8a3190b3b9cc72056a73a1b', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 2, 'created': '2022-10-03 14:49:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/0ea75a3adcb3da9424ee71f516c906da0ca76f76', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 3, 'created': '2022-10-03 17:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/60d0fd57c008f74815e7465ec8925c9dadf8be0a', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 4, 'created': '2022-10-03 17:44:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/b307358c66f560f9ff1dae3da70ca6ed1131bc2a', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 5, 'created': '2022-10-03 19:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/731ae65cae08f0657f12b9c6075e0c45e2c9532a', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 6, 'created': '2022-10-04 13:53:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/d6872000c724e137f9c1efe01357747547833878', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 7, 'created': '2022-10-04 19:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/loci/commit/6d56816112afabbdea6096b382588b492d04edb5', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}, {'number': 8, 'created': '2022-10-06 19:41:07.000000000', 'files': ['pydep.txt', 'dockerfiles/ubuntu/container_root/etc/apt/apt.conf.d/99-overrides', 'scripts/collect_info.sh', 'scripts/install_packages.sh', 'playbooks/vars.yaml', 'scripts/install.sh', 'scripts/create_user.sh', 'scripts/clone_project.sh', 'dockerfiles/ubuntu/container_root/etc/apt/sources.list', 'scripts/install_nova_console.sh', 'Dockerfile', 'dockerfiles/ubuntu/Dockerfile', 'bindep.txt', 'scripts/fetch_wheels.py', 'scripts/requirements.sh', 'scripts/cleanup.sh', 'scripts/pip_install.sh', 'dockerfiles/ubuntu/container_root/etc/dpkg/dpkg.cfg.d/99-overrides', 'scripts/fetch_wheels.sh', 'scripts/setup_pip.sh'], 'web_link': 'https://opendev.org/openstack/loci/commit/4ca38b7036c7703b9f69e67e969404bdcfe2fe7c', 'message': 'DNM\n\nHow did we get here? Large refactor. Supports latest\npip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy\n\nThis moves all scripts into bash functions in scripts/install.sh as well\nas refactoring a great deal of outdated code\n\nChange-Id: I3e619a694d0cf140f3f8f1c290755506711b533f\n'}]",0,859860,4ca38b7036c7703b9f69e67e969404bdcfe2fe7c,17,1,8,14119,,,0,"DNM

How did we get here? Large refactor. Supports latest
pip/setuptools/venv. Testing done with stable/zed and ubuntu:jammy

This moves all scripts into bash functions in scripts/install.sh as well
as refactoring a great deal of outdated code

Change-Id: I3e619a694d0cf140f3f8f1c290755506711b533f
",git fetch https://review.opendev.org/openstack/loci refs/changes/60/859860/1 && git format-patch -1 --stdout FETCH_HEAD,"['dockerfiles/ubuntu_focal/cloud-archive.gpg', 'pydep.txt', 'dockerfiles/ubuntu_focal/sources.list', 'dockerfiles/ubuntu_bionic/ceph.gpg', 'scripts/create_user.sh', 'scripts/clone_project.sh', 'dockerfiles/ubuntu/Dockerfile', 'bindep.txt', 'scripts/requirements.sh', 'scripts/cleanup.sh', 'dockerfiles/ubuntu_bionic/cloud-archive.gpg', 'scripts/pip_install.sh', 'dockerfiles/ubuntu/container_root/etc/dpkg/dpkg.cfg.d/99-overrides', 'dockerfiles/ubuntu/container_root/etc/apt/apt.conf.d/99-overrides', 'scripts/collect_info.sh', 'dockerfiles/ubuntu_bionic/sources.list', 'dockerfiles/ubuntu_focal/Dockerfile', 'scripts/install_packages.sh', 'playbooks/vars.yaml', 'scripts/install.sh', 'dockerfiles/ubuntu/container_root/etc/apt/sources.list', 'scripts/install_nova_console.sh', 'Dockerfile', 'dockerfiles/ubuntu_focal/ceph.gpg', 'scripts/fetch_wheels.py', 'dockerfiles/ubuntu_bionic/Dockerfile', 'scripts/fetch_wheels.sh', 'scripts/setup_pip.sh']",28,e82c9880807a6088d8a3190b3b9cc72056a73a1b,dnm_all_fixes,,"#!/bin/bash set -ex if [[ ""${PYTHON3}"" == ""no"" ]]; then TMP_VIRTUALENV=""virtualenv"" else TMP_VIRTUALENV=""python3 -m virtualenv --python=python3"" fi # This little dance allows us to install the latest pip # without get_pip.py or the python-pip package (in epel on centos) if (( $(${TMP_VIRTUALENV} --version | grep -Po '[0-9]+\.[0-9]+\.[0-9]+' | cut -d. -f1) >= 14 )); then SETUPTOOLS=""--no-setuptools"" fi if (( $(${TMP_VIRTUALENV} --version | grep -Po '[0-9]+\.[0-9]+\.[0-9]+' | cut -d. -f1) >= 20 )); then SETUPTOOLS=""--seed pip --download"" fi # virtualenv 16.4.0 fixed symlink handling. The interaction of the new # corrected behavior with legacy bugs in packaged virtualenv releases in # distributions means we need to hold on to the pip bootstrap installation # chain to preserve symlinks. As distributions upgrade their default # installations we may not need this workaround in the future PIPBOOTSTRAP=/var/lib/pipbootstrap # Create the boostrap environment so we can get pip from virtualenv ${TMP_VIRTUALENV} ${SETUPTOOLS} ${PIPBOOTSTRAP} source ${PIPBOOTSTRAP}/bin/activate # Install setuptools explicitly required for virtualenv > 20 installation pip install --upgrade setuptools # Upgrade to the latest version of virtualenv pip install --upgrade ${PIP_ARGS} virtualenv==20.7.2 # Forget the cached locations of python binaries hash -r # Create the virtualenv with the updated toolchain for openstack service virtualenv --seed pip --download /var/lib/openstack # Deactivate the old bootstrap virtualenv and switch to the new one deactivate source /var/lib/openstack/bin/activate ",469,496
openstack%2Fopenstack-helm-infra~865042,openstack/openstack-helm-infra,master,Ib6f4daa2068e7b29c62b5858848774b7117f6808,Set sticky bit for tmp,MERGED,2022-11-18 16:28:31.000000000,2022-11-22 22:02:31.000000000,2022-11-22 22:01:33.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}, {'_account_id': 32433}]","[{'number': 1, 'created': '2022-11-18 16:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c66c8288d4874db992b6c31baf5b2ef503c34a5a', 'message': '[WIP] Set sticky bit for tmp\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 2, 'created': '2022-11-18 16:44:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/34534b00187193abeab1099abb22aa3e7a99488e', 'message': 'Set sticky bit for tmp\n\n/tmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 3, 'created': '2022-11-18 16:56:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/36527b69525f3b92b37e64e5de78ac7b8e2c824a', 'message': 'Set sticky bit for tmp\n\n/tmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 4, 'created': '2022-11-18 18:21:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/600e1092a71023a965ccb8fef1dc36eccfc17bb7', 'message': 'Set sticky bit for tmp\n\n/tmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 5, 'created': '2022-11-18 20:04:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08f15b82bf2af2c6c1c55041a50cc208ed68fd38', 'message': 'Set sticky bit for tmp dir\n\n/tmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 6, 'created': '2022-11-21 14:51:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3825702e3015a92d5fe41e7d40b6006b4ca1ff59', 'message': 'Set sticky bit for tmp dir\n\ntmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}, {'number': 7, 'created': '2022-11-22 20:12:22.000000000', 'files': ['releasenotes/notes/fluentd.yaml', 'fluentd/templates/bin/_fluentd.sh.tpl', 'fluentd/Chart.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f28a6ce2883d5dbf0ee1eb97179ff91a4a80b060', 'message': 'Set sticky bit for tmp\n\ntmp is an emptyDir volume mount with 0777 permissions. Some versions\nof Ruby require the sticky bit to be set.\n\nChange-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808\n'}]",4,865042,f28a6ce2883d5dbf0ee1eb97179ff91a4a80b060,25,4,7,32190,,,0,"Set sticky bit for tmp

tmp is an emptyDir volume mount with 0777 permissions. Some versions
of Ruby require the sticky bit to be set.

Change-Id: Ib6f4daa2068e7b29c62b5858848774b7117f6808
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/42/865042/1 && git format-patch -1 --stdout FETCH_HEAD,['fluentd/templates/bin/_fluentd.sh.tpl'],1,c66c8288d4874db992b6c31baf5b2ef503c34a5a,fluentd-sticky, chmod +t /tmp,,1,0
openstack%2Fnetworking-ovn~865072,openstack/networking-ovn,stable/train,Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63,"ovn: first tear down old metadata namespaces, then deploy new",MERGED,2022-11-20 00:49:19.000000000,2022-11-22 21:38:32.000000000,2022-11-22 21:37:31.000000000,"[{'_account_id': 8655}, {'_account_id': 13861}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-20 00:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2fffb0a1ada65233529675ea27513bbee0ce0992', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nConflicts:\n      neutron/agent/ovn/metadata/agent.py\n      networking_ovn/tests/unit/agent/metadata/test_agent.py\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n(cherry picked from commit 4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc)\n""}, {'number': 2, 'created': '2022-11-21 19:00:45.000000000', 'files': ['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/unit/agent/metadata/test_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c9c5df48440be729fd854df320a2898aa62d79a1', 'message': ""ovn: first tear down old metadata namespaces, then deploy new\n\nWhile the reverse order may work, it's considered invalid by OVN and not\nguaranteed to work properly since OVN may not necessarily know which of\ntwo ports is the one to configure.\n\nThis configuration also triggered a bug in OVN where tearing down a port\nafter deploying a new one resulted in removing flows that serve the\nport.\n\nThere is a patch up for review for OVN [1] to better handle multiple\nassignment of the same port, but it doesn't make the setup any more\nvalid.\n\n[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/\n\nConflicts:\n      neutron/agent/ovn/metadata/agent.py\n      networking_ovn/tests/unit/agent/metadata/test_agent.py\n\nCloses-Bug: #1997092\nChange-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63\n(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)\n(cherry picked from commit 4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc)\n""}]",7,865072,c9c5df48440be729fd854df320a2898aa62d79a1,17,5,2,9656,,,0,"ovn: first tear down old metadata namespaces, then deploy new

While the reverse order may work, it's considered invalid by OVN and not
guaranteed to work properly since OVN may not necessarily know which of
two ports is the one to configure.

This configuration also triggered a bug in OVN where tearing down a port
after deploying a new one resulted in removing flows that serve the
port.

There is a patch up for review for OVN [1] to better handle multiple
assignment of the same port, but it doesn't make the setup any more
valid.

[1] http://patchwork.ozlabs.org/project/ovn/patch/20221114092437.2807815-1-xsimonar@redhat.com/

Conflicts:
      neutron/agent/ovn/metadata/agent.py
      networking_ovn/tests/unit/agent/metadata/test_agent.py

Closes-Bug: #1997092
Change-Id: Ic7dbc4e8b00423e58f69646a9e3cedc6f72d6c63
(cherry picked from commit 3093aaab13dd6ba04ef0e686eb4c6cc386c58941)
(cherry picked from commit 4da5638baea22db869c2ef8e1bf5bfc40cdbfdfc)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/72/865072/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/agent/metadata/agent.py', 'networking_ovn/tests/unit/agent/metadata/test_agent.py']",2,2fffb0a1ada65233529675ea27513bbee0ce0992,," self.ports = [] for i in range(0, 3): self.ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) self.agent.sb_idl.get_ports_on_chassis.return_value = self.ports def test_sync(self): def test_get_networks(self): """"""Test which networks are provisioned. It is expected that only datapaths '0', '1' and '2' are scheduled for provisioning. self.ports.append(makePort(datapath=DatapathInfo(uuid='1', self.ports.append(makePort(datapath=DatapathInfo(uuid='3', self.ports.append(makePort(datapath=DatapathInfo(uuid='5', expected_networks = {(str(i), str(i)) for i in range(0, 4)} self.assertEqual(expected_networks, self.agent.get_networks()) self.ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp: mock.patch.object(self.agent, 'teardown_datapath') as tdp:"," def test_sync(self): enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] enp.return_value = ['ovnmeta-1', 'ovnmeta-2'] def test_ensure_all_networks_provisioned(self): """"""Test networks are provisioned. It is expected that only datapaths '0', '1' and '2' are provisioned once. ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='1', ports.append(makePort(datapath=DatapathInfo(uuid='3', ports.append(makePort(datapath=DatapathInfo(uuid='5', with mock.patch.object(self.agent, 'provision_datapath', return_value=None) as pdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): self.agent.ensure_all_networks_provisioned() expected_calls = [mock.call(str(i), str(i)) for i in range(0, 4)] self.assertEqual(sorted(expected_calls), sorted(pdp.call_args_list)) ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) ports.append(makePort(datapath=DatapathInfo(uuid='3', mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports): ports = [] for i in range(0, 3): ports.append(makePort(datapath=DatapathInfo(uuid=str(i), external_ids={'name': 'neutron-%d' % i}))) mock.patch.object(self.agent, 'teardown_datapath') as tdp,\ mock.patch.object(self.agent.sb_idl, 'get_ports_on_chassis', return_value=ports):",42,61
openstack%2Fcharm-nova-compute~864676,openstack/charm-nova-compute,master,Idc0602f95e5378be1243926aa88dc7b5282ee844,Move default_ephemeral_format to [DEFAULT] section,MERGED,2022-11-16 07:47:07.000000000,2022-11-22 21:10:06.000000000,2022-11-22 21:10:06.000000000,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-16 07:47:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/eae9e0a8c6e630fe606fd25033264ed15e928a46', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844\n'}, {'number': 2, 'created': '2022-11-17 11:54:11.000000000', 'files': ['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/a3da54fb4156fa93ea89baefa47c2032edb9423e', 'message': 'Move default_ephemeral_format to [DEFAULT] section\n\nThe default_ephemeral_format line in nova.conf was not in the [DEFAULT]\nsection in the templates and has therefore been ignored ny nova-compute.\nThis change moves it to the correct section for all releases.\n\nCloses-Bug: #1992386\nChange-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844\n'}]",7,864676,a3da54fb4156fa93ea89baefa47c2032edb9423e,21,3,2,35539,,,0,"Move default_ephemeral_format to [DEFAULT] section

The default_ephemeral_format line in nova.conf was not in the [DEFAULT]
section in the templates and has therefore been ignored ny nova-compute.
This change moves it to the correct section for all releases.

Closes-Bug: #1992386
Change-Id: Idc0602f95e5378be1243926aa88dc7b5282ee844
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/76/864676/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/liberty/nova.conf', 'templates/train/nova.conf', 'templates/juno/nova.conf', 'templates/pike/nova.conf', 'templates/icehouse/nova.conf', 'templates/queens/nova.conf', 'templates/rocky/nova.conf', 'templates/newton/nova.conf', 'templates/yoga/nova.conf', 'templates/ocata/nova.conf', 'templates/stein/nova.conf', 'templates/kilo/nova.conf', 'templates/mitaka/nova.conf']",13,eae9e0a8c6e630fe606fd25033264ed15e928a46,bug/1992386,{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},{% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %},41,39
openstack%2Fmanila-tempest-plugin~865185,openstack/manila-tempest-plugin,master,Ia235cf28382947a392151f2914ce2dda964b46a6,Temporary pin the Manila jobs nodeset to Focal,MERGED,2022-11-21 18:49:00.000000000,2022-11-22 20:33:18.000000000,2022-11-22 17:44:59.000000000,"[{'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 30002}]","[{'number': 1, 'created': '2022-11-21 18:49:00.000000000', 'files': ['zuul.d/manila-tempest-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/59c47954248fce188aa7ec371547c56978cd65be', 'message': 'Temporary pin the Manila jobs nodeset to Focal\n\nAs per the community wide goal to migrate the CI/CD from\nUbuntu Focal to Ubuntu jammy, devstack change was merged, image got\nmigrated on Nov 18. But Manila jobs are failing on Ubuntu Jammy.\n\nTo unblock the Manila CI we need to pin the jobs to ubuntu focal,\nuntil all the jobs are fixed.\n\nChange-Id: Ia235cf28382947a392151f2914ce2dda964b46a6\n'}]",3,865185,59c47954248fce188aa7ec371547c56978cd65be,12,4,1,29632,,,0,"Temporary pin the Manila jobs nodeset to Focal

As per the community wide goal to migrate the CI/CD from
Ubuntu Focal to Ubuntu jammy, devstack change was merged, image got
migrated on Nov 18. But Manila jobs are failing on Ubuntu Jammy.

To unblock the Manila CI we need to pin the jobs to ubuntu focal,
until all the jobs are fixed.

Change-Id: Ia235cf28382947a392151f2914ce2dda964b46a6
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/85/865185/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/manila-tempest-jobs.yaml'],1,59c47954248fce188aa7ec371547c56978cd65be,, nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal nodeset: openstack-single-node-focal,,5,0
openstack%2Fopenstack-helm~865319,openstack/openstack-helm,master,I6c4039161d09a55cac84fc047080603953a1deb5,Change ceph-config-helper image tag,MERGED,2022-11-22 18:13:14.000000000,2022-11-22 20:12:04.000000000,2022-11-22 20:10:36.000000000,"[{'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 29974}]","[{'number': 1, 'created': '2022-11-22 18:13:14.000000000', 'files': ['cinder/Chart.yaml', 'cinder/values.yaml', 'doc/source/testing/ceph-upgrade.rst', 'releasenotes/notes/cinder.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/5ad407ab0e99d25200a3ce2da06e9f7d62b8e5ad', 'message': 'Change ceph-config-helper image tag\n\nChange ceph-config-helper image tag to bionic from focal. There is no\nfocal based image available.\n\nChange-Id: I6c4039161d09a55cac84fc047080603953a1deb5\n'}]",0,865319,5ad407ab0e99d25200a3ce2da06e9f7d62b8e5ad,8,3,1,32190,,,0,"Change ceph-config-helper image tag

Change ceph-config-helper image tag to bionic from focal. There is no
focal based image available.

Change-Id: I6c4039161d09a55cac84fc047080603953a1deb5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/19/865319/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/Chart.yaml', 'cinder/values.yaml', 'doc/source/testing/ceph-upgrade.rst', 'releasenotes/notes/cinder.yaml']",4,5ad407ab0e99d25200a3ce2da06e9f7d62b8e5ad,ceph-config-helper-image, - 0.3.1 Change ceph-config-helper image tag,,12,11
openstack%2Fneutron~840883,openstack/neutron,master,Ia6d91a0f61272d9ff7ad1ad1e0c2ed2219d99260,DNM specifically testing with ovs 2.17,ABANDONED,2022-05-06 12:20:59.000000000,2022-11-22 19:52:37.000000000,,"[{'_account_id': 5756}, {'_account_id': 9845}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-05-06 12:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/d482e10997986a8503a08859b0f6892d22fa6448', 'message': 'DNM specifically testing with ovs 2.17\n\nChange-Id: Ia6d91a0f61272d9ff7ad1ad1e0c2ed2219d99260\n'}, {'number': 2, 'created': '2022-05-06 12:28:50.000000000', 'files': ['requirements.txt', 'neutron/plugins/ml2/drivers/ovn/mech_driver/mech_driver.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/4cc8f7552b7eb5ada5119447972bf07bff438b98', 'message': 'DNM specifically testing with ovs 2.17\n\nChange-Id: Ia6d91a0f61272d9ff7ad1ad1e0c2ed2219d99260\n'}]",0,840883,4cc8f7552b7eb5ada5119447972bf07bff438b98,8,3,2,5756,,,0,"DNM specifically testing with ovs 2.17

Change-Id: Ia6d91a0f61272d9ff7ad1ad1e0c2ed2219d99260
",git fetch https://review.opendev.org/openstack/neutron refs/changes/83/840883/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,d482e10997986a8503a08859b0f6892d22fa6448,ovs-2.17-bump,ovs>=2.17.0 # Apache-2.0,ovs>=2.10.0 # Apache-2.0,1,1
openstack%2Ftempest~865041,openstack/tempest,master,Ie86d4ad49c6225a61fdeba048587b605b95fea21,Increase trunk live migration port check timeout,ABANDONED,2022-11-18 16:25:01.000000000,2022-11-22 19:47:40.000000000,,"[{'_account_id': 4694}, {'_account_id': 22348}, {'_account_id': 30674}]","[{'number': 1, 'created': '2022-11-18 16:25:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/b08c1dbbf5f95f726b9792d89877a64f3810f24f', 'message': 'Increase trunk live migration port check timeout\n\nSince LP#1869244, the status of the trunk migrated ports takes more\ntime than the 5 seconds configured. The status update from the\ndestination OVS agent is sent but not in this short period of time.\nThis patch is increasing to 30 seconds the time the test will\nwait for the port status activation.\n\nRelated-Bug: #1997025\nRelated-Bug: #1869244\nChange-Id: Ie86d4ad49c6225a61fdeba048587b605b95fea21\n'}, {'number': 2, 'created': '2022-11-18 22:14:02.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/26359eedb2684e19b32bf521f1f56d9f5ce1b508', 'message': 'Increase trunk live migration port check timeout\n\nSince LP#1869244, the status of the trunk migrated ports takes more\ntime than the 5 seconds configured. The status update from the\ndestination OVS agent is sent but not in this short period of time.\nThis patch is increasing to 30 seconds the time the test will\nwait for the port status activation.\n\nRelated-Bug: #1997025\nRelated-Bug: #1869244\nChange-Id: Ie86d4ad49c6225a61fdeba048587b605b95fea21\n'}]",6,865041,26359eedb2684e19b32bf521f1f56d9f5ce1b508,9,3,2,16688,,,0,"Increase trunk live migration port check timeout

Since LP#1869244, the status of the trunk migrated ports takes more
time than the 5 seconds configured. The status update from the
destination OVS agent is sent but not in this short period of time.
This patch is increasing to 30 seconds the time the test will
wait for the port status activation.

Related-Bug: #1997025
Related-Bug: #1869244
Change-Id: Ie86d4ad49c6225a61fdeba048587b605b95fea21
",git fetch https://review.opendev.org/openstack/tempest refs/changes/41/865041/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/api/compute/admin/test_live_migration.py'],1,b08c1dbbf5f95f726b9792d89877a64f3810f24f,bug/1997025," 30, subport['id'])) 30, parent['id']))"," 5, subport['id'])) 5, parent['id']))",2,2
openstack%2Fopenstack-tempest-skiplist~831185,openstack/openstack-tempest-skiplist,master,Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63,"Revert ""Skip keystone OAUTH1TokensTest tests""",MERGED,2022-02-28 17:48:13.000000000,2022-11-22 19:38:53.000000000,2022-11-22 19:37:58.000000000,"[{'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 22348}, {'_account_id': 30002}, {'_account_id': 32458}]","[{'number': 1, 'created': '2022-02-28 17:48:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/85dfa3fdb2093eae97dd934c9d975c248ac14565', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}, {'number': 2, 'created': '2022-02-28 17:52:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/92e67fa90e193cad5f460d4925b0fe9eb5984336', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}, {'number': 3, 'created': '2022-03-03 14:52:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/d01dad2109f235d338f713fffa0addd622ce94b1', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}, {'number': 4, 'created': '2022-04-25 17:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/9162e09577a58b59439acc9e4aece34255da15a8', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}, {'number': 5, 'created': '2022-10-03 13:47:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/65d243f13344e8d72acec15c15aecc66c414e31d', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}, {'number': 6, 'created': '2022-11-21 14:58:57.000000000', 'files': ['roles/validate-tempest/vars/tempest_skip.yml'], 'web_link': 'https://opendev.org/openstack/openstack-tempest-skiplist/commit/af0e6c17b8ce239163bdb4beb94ab6093331707e', 'message': 'Revert ""Skip keystone OAUTH1TokensTest tests""\n\nThis reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.\n\nReason for revert: Testing if the fix for this issue is already merged.\n\nChange-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63\n'}]",9,831185,af0e6c17b8ce239163bdb4beb94ab6093331707e,28,5,6,14611,,,0,"Revert ""Skip keystone OAUTH1TokensTest tests""

This reverts commit 4ecd42032b128fde0a9b87427af0d2b8725b2978.

Reason for revert: Testing if the fix for this issue is already merged.

Change-Id: Ibf5b3c93044e43353b08b2d5e0cf903a5ce2dc63
",git fetch https://review.opendev.org/openstack/openstack-tempest-skiplist refs/changes/85/831185/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/validate-tempest/vars/tempest_skip.yml'],1,85dfa3fdb2093eae97dd934c9d975c248ac14565,bug/1960355,, - test: 'keystone_tempest_plugin.tests.api.identity.v3.test_oauth1_tokens.OAUTH1TokensTest' deployment: - 'overcloud' releases: - name: master reason: Unexpected content type provided installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1960355 - name: wallaby reason: Unexpected content type provided installers: - 'tripleo' lp: https://bugs.launchpad.net/tripleo/+bug/1960355 jobs: - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-master - periodic-tripleo-ci-centos-9-ovb-3ctlr_1comp-featureset035-wallaby,0,17
openstack%2Ftripleo-common~861890,openstack/tripleo-common,stable/wallaby,I540267b22756ba64763ee2cb8f78720b7e22e7ac,Support ansible inventory merging,MERGED,2022-10-19 13:30:56.000000000,2022-11-22 19:38:35.000000000,2022-11-22 19:37:39.000000000,"[{'_account_id': 6926}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-19 13:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c197390aa8012c61439ce20a91af23eea156869c', 'message': 'WIP: Support ansible inventory merging\n\ntripleo-ansible-inventory was deprecated in\nIe02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge\n""multistack"" inventories.\n\nThis patch restructures the inventory to allow merging via ansible\ne.g by passing multiple inventory files or an inventory dir\n\nThe <plan_name> group is now a child of the ""allovercloud"" group (was\nvice-versa) allowing the allovercloud group to be merged from multiple\ninventory files.\n\nThe ""overcloud"" group is no longer a special case and will only exist if\nthat is the plan name.\n\ngenerate_tripleo_ansible_inventory now generates a merged inventory to\navoid conflicts in <role_name> group vars.\n\n Conflicts:\n\ttripleo_common/inventory.py\n\nChange-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac\n(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2022-10-19 14:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/9579ca8e94f17df00c79a4b2fac95f8d732b4559', 'message': 'WIP: Support ansible inventory merging\n\ntripleo-ansible-inventory was deprecated in\nIe02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge\n""multistack"" inventories.\n\nThis patch restructures the inventory to allow merging via ansible\ne.g by passing multiple inventory files or an inventory dir\n\nThe <plan_name> group is now a child of the ""allovercloud"" group (was\nvice-versa) allowing the allovercloud group to be merged from multiple\ninventory files.\n\nThe ""overcloud"" group is no longer a special case and will only exist if\nthat is the plan name.\n\ngenerate_tripleo_ansible_inventory now generates a merged inventory to\navoid conflicts in <role_name> group vars.\n\n Conflicts:\n\ttripleo_common/inventory.py\n\nChange-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac\n(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2022-10-20 13:32:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2dc90ec43bc75592a48f62e13ec5ddde2d9d7ba1', 'message': 'Support ansible inventory merging\n\ntripleo-ansible-inventory was deprecated in\nIe02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge\n""multistack"" inventories.\n\nThis patch restructures the inventory to allow merging via ansible\ne.g by passing multiple inventory files or an inventory dir\n\nThe <plan_name> group is now a child of the ""allovercloud"" group (was\nvice-versa) allowing the allovercloud group to be merged from multiple\ninventory files.\n\nThe ""overcloud"" group is no longer a special case and will only exist if\nthat is the plan name.\n\ngenerate_tripleo_ansible_inventory now generates a merged inventory to\navoid conflicts in <role_name> group vars.\n\n Conflicts:\n\ttripleo_common/inventory.py\n\nDepends-On: I05f4989b0f14d56d3c33f91b3cccb85b729987cb\nChange-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac\n(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2022-11-15 16:16:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/06620fedfd232007dbb5019b34fed01672cf60c7', 'message': 'Support ansible inventory merging\n\ntripleo-ansible-inventory was deprecated in\nIe02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge\n""multistack"" inventories.\n\nThis patch restructures the inventory to allow merging via ansible\ne.g by passing multiple inventory files or an inventory dir\n\nThe <plan_name> group is now a child of the ""allovercloud"" group (was\nvice-versa) allowing the allovercloud group to be merged from multiple\ninventory files.\n\nThe ""overcloud"" group is no longer a special case and will only exist if\nthat is the plan name.\n\ngenerate_tripleo_ansible_inventory now generates a merged inventory to\navoid conflicts in <role_name> group vars.\n\n Conflicts:\n\ttripleo_common/inventory.py\n\nDepends-On: I05f4989b0f14d56d3c33f91b3cccb85b729987cb\nChange-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac\n(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 5, 'created': '2022-11-21 13:29:28.000000000', 'files': ['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/tests/inventory_data/overcloud_static.yaml', 'tripleo_common/tests/inventory_data/cell1_static.yaml', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/cell1_dynamic.json', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/list_overcloud.json', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/test_inventory.py', 'tripleo_common/tests/inventory_data/overcloud_dynamic.json', 'tripleo_common/tests/inventory_data/single_static.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b84565f149d5636d20d952f9665d8871283e61f5', 'message': 'Support ansible inventory merging\n\ntripleo-ansible-inventory was deprecated in\nIe02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge\n""multistack"" inventories.\n\nThis patch restructures the inventory to allow merging via ansible\ne.g by passing multiple inventory files or an inventory dir\n\nThe <plan_name> group is now a child of the ""allovercloud"" group (was\nvice-versa) allowing the allovercloud group to be merged from multiple\ninventory files.\n\nThe ""overcloud"" group is no longer a special case and will only exist if\nthat is the plan name.\n\ngenerate_tripleo_ansible_inventory now generates a merged inventory to\navoid conflicts in <role_name> group vars.\n\n Conflicts:\n\ttripleo_common/inventory.py\n\nDepends-On: I05f4989b0f14d56d3c33f91b3cccb85b729987cb\nChange-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac\n(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",9,861890,b84565f149d5636d20d952f9665d8871283e61f5,31,4,5,6926,,,0,"Support ansible inventory merging

tripleo-ansible-inventory was deprecated in
Ie02259336c763cfa980b59ad64f9e478d05690fb leaving no method to merge
""multistack"" inventories.

This patch restructures the inventory to allow merging via ansible
e.g by passing multiple inventory files or an inventory dir

The <plan_name> group is now a child of the ""allovercloud"" group (was
vice-versa) allowing the allovercloud group to be merged from multiple
inventory files.

The ""overcloud"" group is no longer a special case and will only exist if
that is the plan name.

generate_tripleo_ansible_inventory now generates a merged inventory to
avoid conflicts in <role_name> group vars.

 Conflicts:
	tripleo_common/inventory.py

Depends-On: I05f4989b0f14d56d3c33f91b3cccb85b729987cb
Change-Id: I540267b22756ba64763ee2cb8f78720b7e22e7ac
(cherry picked from commit 354351d7d5f0b7be52ee8c90e337827cf2ff6914)
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/90/861890/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/tests/inventory_data/merged_static.yaml', 'tripleo_common/tests/inventory_data/overcloud_static.yaml', 'tripleo_common/tests/inventory_data/cell1_static.yaml', 'tripleo_common/tests/test_inventories.py', 'tripleo_common/inventory.py', 'tripleo_common/tests/inventory_data/cell1_dynamic.json', 'tripleo_common/inventories.py', 'tripleo_common/tests/inventory_data/list_overcloud.json', 'tripleo_common/tests/inventory_data/merged_dynamic.json', 'tripleo_common/tests/test_inventory.py', 'tripleo_common/tests/inventory_data/overcloud_dynamic.json', 'tripleo_common/tests/inventory_data/single_static.yaml']",12,c197390aa8012c61439ce20a91af23eea156869c,inventory_dir_support,,_meta: hostvars: {} Undercloud: hosts: - undercloud vars: ansible_connection: local ansible_host: localhost ansible_python_interpreter: /usr/bin/python2 ansible_remote_tmp: /tmp/ansible-${USER} auth_url: https://192.168.24.2:13000 cacert: /etc/pki/ca-trust/source/anchors/cm-local-ca.pem os_auth_token: gAAAAABedRLI4L-0UK1i3r0lkHVPFeGE2FB40mk7tjWw_US3nwQvzZlwKPM_uCq1wYeBqkCLwiXW61BrZswCi9M3mI-6HeniTi9qV7nXUyLHrWw1Kh5woAEGPyjmdiMiTh_P0WFKobYqXdP0oFwcN_LWr-mnYE1YWluvX4qKeUEeIOXHVj8OtMg overcloud_admin_password: 9RDyelRD5PT5Jk6q4efjYG6Es overcloud_horizon_url: https://10.0.0.5:443/dashboard overcloud_keystone_url: https://10.0.0.5:13000 plan: overcloud plans: - overcloud project_name: admin undercloud_service_list: - tripleo_ironic_conductor undercloud_swift_url: https://192.168.24.2:13808/v1/AUTH_b0d47705b94c486889fd2b26ce343763 username: admin Controller: children: - overcloud_Controller overcloud_Controller: hosts: overcloud-controller-0: ansible_host: 192.168.24.12 canonical_hostname: overcloud-controller-0.localdomain ctlplane_hostname: overcloud-controller-0.ctlplane.localdomain ctlplane_ip: 192.168.24.12 deploy_server_id: 6c1befea-4173-49bd-9507-631cc33f44a2 external_hostname: overcloud-controller-0.external.localdomain external_ip: 10.0.0.10 internal_api_hostname: overcloud-controller-0.internalapi.localdomain internal_api_ip: 172.16.2.199 management_ip: 192.168.24.12 storage_hostname: overcloud-controller-0.storage.localdomain storage_ip: 172.16.1.13 storage_mgmt_hostname: overcloud-controller-0.storagemgmt.localdomain storage_mgmt_ip: 172.16.3.89 tenant_hostname: overcloud-controller-0.tenant.localdomain tenant_ip: 172.16.0.167 vars: ansible_ssh_user: heat-admin bootstrap_server_id: 6c1befea-4173-49bd-9507-631cc33f44a2 serial: '1' tripleo_role_name: Controller tripleo_role_networks: - ctlplane - external - internal_api - management - storage - storage_mgmt - tenant Compute: children: - overcloud_Compute overcloud_Compute: hosts: overcloud-novacompute-0: ansible_host: 192.168.24.13 canonical_hostname: overcloud-novacompute-0.localdomain ctlplane_hostname: overcloud-novacompute-0.ctlplane.localdomain ctlplane_ip: 192.168.24.13 deploy_server_id: c5c20c87-60f8-4dc9-a0e8-1f185c4b8a8c external_ip: 192.168.24.13 internal_api_hostname: overcloud-novacompute-0.internalapi.localdomain internal_api_ip: 172.16.2.241 management_ip: 192.168.24.13 storage_hostname: overcloud-novacompute-0.storage.localdomain storage_ip: 172.16.1.235 storage_mgmt_ip: 192.168.24.13 tenant_hostname: overcloud-novacompute-0.tenant.localdomain tenant_ip: 172.16.0.242 vars: ansible_ssh_user: heat-admin bootstrap_server_id: 6c1befea-4173-49bd-9507-631cc33f44a2 serial: '1' tripleo_role_name: Compute tripleo_role_networks: - ctlplane - external - internal_api - management - storage - storage_mgmt - tenant allovercloud: children: - overcloud_allovercloud overcloud_allovercloud: children: - overcloud_Compute - overcloud_Controller vars: container_cli: podman ctlplane_vip: 192.168.24.7 external_vip: 10.0.0.5 internal_api_vip: 172.16.2.164 redis_vip: 172.16.2.196 storage_mgmt_vip: 172.16.3.44 storage_vip: 172.16.1.147 overcloud: children: - overcloud_allovercloud overcloud_overcloud: children: - overcloud_allovercloud kernel: children: - overcloud_kernel overcloud_kernel: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_conductor: children: - overcloud_nova_conductor overcloud_nova_conductor: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin snmp: children: - overcloud_snmp overcloud_snmp: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin mysql: children: - overcloud_mysql overcloud_mysql: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin cinder_api: children: - overcloud_cinder_api overcloud_cinder_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin swift_proxy: children: - overcloud_swift_proxy overcloud_swift_proxy: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin swift_ringbuilder: children: - overcloud_swift_ringbuilder overcloud_swift_ringbuilder: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin heat_api: children: - overcloud_heat_api overcloud_heat_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin container_image_prepare: children: - overcloud_container_image_prepare overcloud_container_image_prepare: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin timezone: children: - overcloud_timezone overcloud_timezone: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin iscsid: children: - overcloud_iscsid overcloud_iscsid: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin boot_params_service: children: - overcloud_boot_params_service overcloud_boot_params_service: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin heat_api_cloudwatch_disabled: children: - overcloud_heat_api_cloudwatch_disabled overcloud_heat_api_cloudwatch_disabled: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin tripleo_firewall: children: - overcloud_tripleo_firewall overcloud_tripleo_firewall: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin swift_storage: children: - overcloud_swift_storage overcloud_swift_storage: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin keystone_admin_api: children: - overcloud_keystone_admin_api overcloud_keystone_admin_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin certmonger_user: children: - overcloud_certmonger_user overcloud_certmonger_user: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin mysql_client: children: - overcloud_mysql_client overcloud_mysql_client: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin glance_api: children: - overcloud_glance_api overcloud_glance_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin keystone: children: - overcloud_keystone overcloud_keystone: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin cinder_volume: children: - overcloud_cinder_volume overcloud_cinder_volume: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin ovn_dbs: children: - overcloud_ovn_dbs overcloud_ovn_dbs: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin memcached: children: - overcloud_memcached overcloud_memcached: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin oslo_messaging_rpc: children: - overcloud_oslo_messaging_rpc overcloud_oslo_messaging_rpc: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_vnc_proxy: children: - overcloud_nova_vnc_proxy overcloud_nova_vnc_proxy: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin oslo_messaging_notify: children: - overcloud_oslo_messaging_notify overcloud_oslo_messaging_notify: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin keystone_public_api: children: - overcloud_keystone_public_api overcloud_keystone_public_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_api: children: - overcloud_nova_api overcloud_nova_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_metadata: children: - overcloud_nova_metadata overcloud_nova_metadata: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin heat_engine: children: - overcloud_heat_engine overcloud_heat_engine: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_migration_target: children: - overcloud_nova_migration_target overcloud_nova_migration_target: children: - overcloud_Compute vars: ansible_ssh_user: heat-admin podman: children: - overcloud_podman overcloud_podman: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin tripleo_packages: children: - overcloud_tripleo_packages overcloud_tripleo_packages: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_scheduler: children: - overcloud_nova_scheduler overcloud_nova_scheduler: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_compute: children: - overcloud_nova_compute overcloud_nova_compute: children: - overcloud_Compute vars: ansible_ssh_user: heat-admin nova_libvirt_guests: children: - overcloud_nova_libvirt_guests overcloud_nova_libvirt_guests: children: - overcloud_Compute vars: ansible_ssh_user: heat-admin neutron_plugin_ml2_ovn: children: - overcloud_neutron_plugin_ml2_ovn overcloud_neutron_plugin_ml2_ovn: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin logrotate_crond: children: - overcloud_logrotate_crond overcloud_logrotate_crond: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin haproxy: children: - overcloud_haproxy overcloud_haproxy: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin sshd: children: - overcloud_sshd overcloud_sshd: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin placement: children: - overcloud_placement overcloud_placement: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin cinder_scheduler: children: - overcloud_cinder_scheduler overcloud_cinder_scheduler: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin nova_libvirt: children: - overcloud_nova_libvirt overcloud_nova_libvirt: children: - overcloud_Compute vars: ansible_ssh_user: heat-admin ovn_metadata: children: - overcloud_ovn_metadata overcloud_ovn_metadata: children: - overcloud_Compute vars: ansible_ssh_user: heat-admin tuned: children: - overcloud_tuned overcloud_tuned: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin chrony: children: - overcloud_chrony overcloud_chrony: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin horizon: children: - overcloud_horizon overcloud_horizon: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin neutron_api: children: - overcloud_neutron_api overcloud_neutron_api: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin ca_certs: children: - overcloud_ca_certs overcloud_ca_certs: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin heat_api_cfn: children: - overcloud_heat_api_cfn overcloud_heat_api_cfn: children: - overcloud_Controller vars: ansible_ssh_user: heat-admin ovn_controller: children: - overcloud_ovn_controller overcloud_ovn_controller: children: - overcloud_Compute - overcloud_Controller vars: ansible_ssh_user: heat-admin ,99,657
openstack%2Frequirements~865276,openstack/requirements,master,If337a91abeb3727bc6649e36608c42d7bc48ce6a,Bump upper-constraint for cursive to 0.2.3,MERGED,2022-11-22 13:09:11.000000000,2022-11-22 19:38:11.000000000,2022-11-22 19:37:18.000000000,"[{'_account_id': 11904}, {'_account_id': 13252}, {'_account_id': 14250}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 13:09:11.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/8662b464ecd56ebd750cea80b951a305a5136e76', 'message': 'Bump upper-constraint for cursive to 0.2.3\n\nThis updates UC for cursive to 0.2.3 to\ninclude fix [1] that is released there that\nbreaks with the new cryptography version\nwe use.\n\n[1] https://review.opendev.org/c/x/cursive/+/864846\n\nChange-Id: If337a91abeb3727bc6649e36608c42d7bc48ce6a\n'}]",1,865276,8662b464ecd56ebd750cea80b951a305a5136e76,10,4,1,16137,,,0,"Bump upper-constraint for cursive to 0.2.3

This updates UC for cursive to 0.2.3 to
include fix [1] that is released there that
breaks with the new cryptography version
we use.

[1] https://review.opendev.org/c/x/cursive/+/864846

Change-Id: If337a91abeb3727bc6649e36608c42d7bc48ce6a
",git fetch https://review.opendev.org/openstack/requirements refs/changes/76/865276/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,8662b464ecd56ebd750cea80b951a305a5136e76,,cursive===0.2.3,cursive===0.2.2,1,1
openstack%2Fvalidations-libs~865271,openstack/validations-libs,master,I32d163970ef1ab4d6159670a0619ffd037eca1de,Bumping basepython version of the tox environments to 3.10,MERGED,2022-11-22 12:35:34.000000000,2022-11-22 19:26:39.000000000,2022-11-22 19:26:39.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-22 12:35:34.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-libs/commit/9a2bcee59f9704d510eccb2385464920ceec87ef', 'message': 'Bumping basepython version of the tox environments to 3.10\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I32d163970ef1ab4d6159670a0619ffd037eca1de\n'}]",0,865271,9a2bcee59f9704d510eccb2385464920ceec87ef,7,3,1,32926,,,0,"Bumping basepython version of the tox environments to 3.10

Closes-Bug: #1997256

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I32d163970ef1ab4d6159670a0619ffd037eca1de
",git fetch https://review.opendev.org/openstack/validations-libs refs/changes/71/865271/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9a2bcee59f9704d510eccb2385464920ceec87ef,tox/py310,basepython = python3.10,basepython = python3.8,1,1
openstack%2Fvalidations-common~865250,openstack/validations-common,master,I624af42bed68a317a3197fe8758d63a6ba23dd46,Bumping basepython version of the tox environments to 3.10,MERGED,2022-11-22 09:25:31.000000000,2022-11-22 19:26:37.000000000,2022-11-22 19:26:37.000000000,"[{'_account_id': 16515}, {'_account_id': 22348}, {'_account_id': 27427}]","[{'number': 1, 'created': '2022-11-22 09:25:31.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/validations-common/commit/9ef6e757a5283bb0fa16168aa80af68b1bfa832c', 'message': 'Bumping basepython version of the tox environments to 3.10\n\nCloses-Bug: #1997256\n\nSigned-off-by: Jiri Podivin <jpodivin@redhat.com>\nChange-Id: I624af42bed68a317a3197fe8758d63a6ba23dd46\n'}]",0,865250,9ef6e757a5283bb0fa16168aa80af68b1bfa832c,7,3,1,32926,,,0,"Bumping basepython version of the tox environments to 3.10

Closes-Bug: #1997256

Signed-off-by: Jiri Podivin <jpodivin@redhat.com>
Change-Id: I624af42bed68a317a3197fe8758d63a6ba23dd46
",git fetch https://review.opendev.org/openstack/validations-common refs/changes/50/865250/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,9ef6e757a5283bb0fa16168aa80af68b1bfa832c,tox/py310,basepython = python3.10,basepython = python3.8,1,1
openstack%2Ftripleo-heat-templates~865175,openstack/tripleo-heat-templates,stable/train,Ifbd990f15b9d85260ab20a2004fe79bafda929d9,[TRAIN-ONLY] Ensure we clean old ansible logs in mistral,MERGED,2022-11-21 16:06:04.000000000,2022-11-22 19:26:34.000000000,2022-11-22 19:26:34.000000000,"[{'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 16:06:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2d2f7361a061d38d3bcae9c82f62689b4693e461', 'message': ""[TRAIN-ONLY] Ensure we clean old ansible logs in mistral\n\nWhile we do rotate the ansible.log file, it's never cleaned. This can\nlead to some issues, depending on the amount of day-2 operations\n(scaling, update, etc) - increasing size without control is usually a\nbad thing.\n\nChange-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n""}, {'number': 2, 'created': '2022-11-21 16:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/31eacae8c1613d234172057217f740f785e6ceaf', 'message': ""[TRAIN-ONLY] Ensure we clean old ansible logs in mistral\n\nWhile we do rotate the ansible.log file, it's never cleaned. This can\nlead to some issues, depending on the amount of day-2 operations\n(scaling, update, etc) - increasing size without control is usually a\nbad thing.\n\nResolves: #2144483\nChange-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n""}, {'number': 3, 'created': '2022-11-21 16:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/432450225d999a9b21e44a6f37667f445651bfcc', 'message': '[TRAIN-ONLY] Ensure we clean old ansible logs in mistral\n\nWhile we do rotate the ansible.log file, it\'s never cleaned. This can\nlead to some issues, depending on the amount of day-2 operations\n(scaling, update, etc) - increasing size without control is usually a\nbad thing.\n\nNotes:\n- we\'re using `find\' instead of tmpwatch, because we want to target\n  precise file pattern to remove. tmpwatch does the exact contrary.\n- we\'re pushing the `find\' in the existing container log cleaning, so\n  that we don\'t have to edit newer releases to remove any new script we\n  may want to add\n- mistral being removed in newer releases (stable/wallaby), we can\n  safely make this ""train-only"", and let newer releases override that\n  script so that we don\'t have dangling things\n\nResolves: #2144483\nChange-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n'}, {'number': 4, 'created': '2022-11-21 16:45:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9583cdc1da2b6f46b3df4ca05141a34276400474', 'message': '[TRAIN-ONLY] Ensure we clean old ansible logs in mistral\n\nWhile we do rotate the ansible.log file, it\'s never cleaned. This can\nlead to some issues, depending on the amount of day-2 operations\n(scaling, update, etc) - increasing size without control is usually a\nbad thing.\n\nNotes:\n- we\'re using `find\' instead of tmpwatch, because we want to target\n  precise file pattern to remove. tmpwatch does the exact contrary.\n- we\'re pushing the `find\' in the existing container log cleaning, so\n  that we don\'t have to edit newer releases to remove any new script we\n  may want to add\n- mistral being removed in newer releases (stable/wallaby), we can\n  safely make this ""train-only"", and let newer releases override that\n  script so that we don\'t have dangling things\n\nResolves: #2144483\nChange-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n'}, {'number': 5, 'created': '2022-11-22 09:03:28.000000000', 'files': ['deployment/logrotate/logrotate-crond-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/64dd13b7b1d45f461983c45972922474192b9bfc', 'message': '[TRAIN-ONLY] Ensure we clean old ansible logs in mistral\n\nWhile we do rotate the ansible.log file, it\'s never cleaned. This can\nlead to some issues, depending on the amount of day-2 operations\n(scaling, update, etc) - increasing size without control is usually a\nbad thing.\n\nNotes:\n- we\'re using `find\' instead of tmpwatch, because we want to target\n  precise file pattern to remove. tmpwatch does the exact contrary.\n- we\'re pushing the `find\' in the existing container log cleaning, so\n  that we don\'t have to edit newer releases to remove any new script we\n  may want to add\n- mistral being removed in newer releases (stable/wallaby), we can\n  safely make this ""train-only"", and let newer releases override that\n  script so that we don\'t have dangling things\n\nResolves: rhbz#2144483\nChange-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9\n'}]",6,865175,64dd13b7b1d45f461983c45972922474192b9bfc,20,4,5,28223,,,0,"[TRAIN-ONLY] Ensure we clean old ansible logs in mistral

While we do rotate the ansible.log file, it's never cleaned. This can
lead to some issues, depending on the amount of day-2 operations
(scaling, update, etc) - increasing size without control is usually a
bad thing.

Notes:
- we're using `find' instead of tmpwatch, because we want to target
  precise file pattern to remove. tmpwatch does the exact contrary.
- we're pushing the `find' in the existing container log cleaning, so
  that we don't have to edit newer releases to remove any new script we
  may want to add
- mistral being removed in newer releases (stable/wallaby), we can
  safely make this ""train-only"", and let newer releases override that
  script so that we don't have dangling things

Resolves: rhbz#2144483
Change-Id: Ifbd990f15b9d85260ab20a2004fe79bafda929d9
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/865175/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/logrotate/logrotate-crond-container-puppet.yaml'],1,2d2f7361a061d38d3bcae9c82f62689b4693e461,mistral/ansible-log-clean," -X ""/var/lib/mistral/*/*log-*"" \",,1,0
openstack%2Ftripleo-common~860214,openstack/tripleo-common,master,Ic7928f7895d10aa4a8eb1d4e1f55fd30de83aee4,"By default, unset everything proxy related for healthcheck",MERGED,2022-10-04 08:20:59.000000000,2022-11-22 19:10:30.000000000,2022-11-22 19:09:25.000000000,"[{'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 14250}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-10-04 08:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/cad19480729b1ce39a972d4fd59f9c84a93c834c', 'message': ""Ensure we're using http/https protocol\n\nUntil now, the script was only detecting the presence of the no_proxy\nenv var. This may lead to issues, for instance when we're wanting to\ntest the tftp service for Ironic: python-requests doesn't know about\nthis protocol, and throws an error, as described in the linked bugzilla.\n\nChange-Id: Ic7928f7895d10aa4a8eb1d4e1f55fd30de83aee4\nResolves: rhbz#2121349\n""}, {'number': 2, 'created': '2022-10-17 08:23:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/43cdaa11ccc258d5f9de51d23e75c56fcc6d2d78', 'message': 'By default, unset everything proxy related for healthcheck\n\nHopefully get out of the hell of proxy/no_proxy settings for\nhealthchecks.\n\nSince operators continue to (ab)use the http_proxy, https_proxy and,\nespecially, the no_proxy environment variables, and since this has been\ncreating many, many, many issues within container healthchecks, and,\nfinally, since proxy settings are mostly useless for that specific\nusecase, we just discard them by default.\n\nWith this patch, the different healthchecks will go without using any\nproxy. This is mostly possible because checks are done on ""internal""\nnetworks provided by TripleO, and there\'s no proxy in-between. Most of\nthe connections are even on the local node, on its different and various\nassociated IPs, so there\'s, really, no need to obey any proxy setting.\n\nChange-Id: Ic7928f7895d10aa4a8eb1d4e1f55fd30de83aee4\nResolves: rhbz#2121349\n'}, {'number': 3, 'created': '2022-10-17 09:25:41.000000000', 'files': ['healthcheck/common.sh'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ec3e9fc2768b481c25938b95201e6babe429863c', 'message': 'By default, unset everything proxy related for healthcheck\n\nHopefully get out of the hell of proxy/no_proxy settings for\nhealthchecks.\n\nSince operators continue to (ab)use the http_proxy, https_proxy and,\nespecially, the no_proxy environment variables, and since this has been\ncreating many, many, many issues within container healthchecks, and,\nfinally, since proxy settings are mostly useless for that specific\nusecase, we just discard them by default.\n\nWith this patch, the different healthchecks will go without using any\nproxy. This is mostly possible because checks are done on ""internal""\nnetworks provided by TripleO, and there\'s no proxy in-between. Most of\nthe connections are even on the local node, on its different and various\nassociated IPs, so there\'s, really, no need to obey any proxy setting.\n\nChange-Id: Ic7928f7895d10aa4a8eb1d4e1f55fd30de83aee4\nResolves: rhbz#2121349\n'}]",13,860214,ec3e9fc2768b481c25938b95201e6babe429863c,29,7,3,28223,,,0,"By default, unset everything proxy related for healthcheck

Hopefully get out of the hell of proxy/no_proxy settings for
healthchecks.

Since operators continue to (ab)use the http_proxy, https_proxy and,
especially, the no_proxy environment variables, and since this has been
creating many, many, many issues within container healthchecks, and,
finally, since proxy settings are mostly useless for that specific
usecase, we just discard them by default.

With this patch, the different healthchecks will go without using any
proxy. This is mostly possible because checks are done on ""internal""
networks provided by TripleO, and there's no proxy in-between. Most of
the connections are even on the local node, on its different and various
associated IPs, so there's, really, no need to obey any proxy setting.

Change-Id: Ic7928f7895d10aa4a8eb1d4e1f55fd30de83aee4
Resolves: rhbz#2121349
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/14/860214/1 && git format-patch -1 --stdout FETCH_HEAD,['healthcheck/common.sh'],1,cad19480729b1ce39a972d4fd59f9c84a93c834c,healthcheck/no_proxy-tftp," is_http=$(echo ""$@"" | grep -Eq '^http') need_python_script=(test -n ""${HEALTHCHECK_CURL_PY+x}"" || test -n ""${no_proxy+x}"" || test -n ""${NO_PROXY+x}"") if [ $need_python_script ] && [ $is_http ]; then"," if [ -n ""${HEALTHCHECK_CURL_PY+x}"" ] || [ -n ""${no_proxy+x}"" ] || [ -n ""${NO_PROXY+x}"" ]; then",3,1
openstack%2Ftripleo-upgrade~865243,openstack/tripleo-upgrade,stable/train,I05f4989b0f14d56d3c33f91b3cccb85b729987cb,Create entry for empty groups in inventory_rolemap,MERGED,2022-11-22 08:37:58.000000000,2022-11-22 19:09:27.000000000,2022-11-22 19:09:27.000000000,"[{'_account_id': 6816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 08:37:58.000000000', 'files': ['filter_plugins/tripleo_upgrade.py'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/c04b8e8b006925d8bece0a7dbfa5edd537fba758', 'message': 'Create entry for empty groups in inventory_rolemap\n\nWhen a group is a child of another group then the child groups role mappings\nare added to the parent group role mappings. This which fails with a\nKeyError when the child is an empty group as no mapping is created.\n\nConflicts:\n\tfilter_plugins/tripleo_upgrade.py\n\nCloses-bug: #1994081\nRelated: rhbz#2089512\nChange-Id: I05f4989b0f14d56d3c33f91b3cccb85b729987cb\n(cherry picked from commit 2eea005773a5d9b2a32c88e1427d839788d00dd6)\n(cherry picked from commit 73ec7f09f4e35f1906f6fd5632aaaada72552284)\n'}]",0,865243,c04b8e8b006925d8bece0a7dbfa5edd537fba758,6,2,1,33080,,,0,"Create entry for empty groups in inventory_rolemap

When a group is a child of another group then the child groups role mappings
are added to the parent group role mappings. This which fails with a
KeyError when the child is an empty group as no mapping is created.

Conflicts:
	filter_plugins/tripleo_upgrade.py

Closes-bug: #1994081
Related: rhbz#2089512
Change-Id: I05f4989b0f14d56d3c33f91b3cccb85b729987cb
(cherry picked from commit 2eea005773a5d9b2a32c88e1427d839788d00dd6)
(cherry picked from commit 73ec7f09f4e35f1906f6fd5632aaaada72552284)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/43/865243/1 && git format-patch -1 --stdout FETCH_HEAD,['filter_plugins/tripleo_upgrade.py'],1,c04b8e8b006925d8bece0a7dbfa5edd537fba758,excluded-group-inventory, # Flattens inventory to a group->role mapping group_role_map[group] = [], # Falttens inventory to a group->role mapping group_role_map[group] = [],2,2
openstack%2Fcharm-cinder-k8s~865284,openstack/charm-cinder-k8s,main,Ie4a32a52e6924532fce6afae3212e7bd59969d27,Update to OpenStack Yoga,MERGED,2022-11-22 14:44:02.000000000,2022-11-22 18:39:41.000000000,2022-11-22 17:38:38.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 14:44:02.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-k8s/commit/dcc97ea61948cdf8c4ed660436fe43aa5b3eb84a', 'message': 'Update to OpenStack Yoga\n\nUpdate OCI images.\n\nUpdate test bundle and rename to be release agnostic.\n\nUpdate OSCI channel publish target to yoga/edge.\n\nChange-Id: Ie4a32a52e6924532fce6afae3212e7bd59969d27\n'}]",0,865284,dcc97ea61948cdf8c4ed660436fe43aa5b3eb84a,7,2,1,935,,,0,"Update to OpenStack Yoga

Update OCI images.

Update test bundle and rename to be release agnostic.

Update OSCI channel publish target to yoga/edge.

Change-Id: Ie4a32a52e6924532fce6afae3212e7bd59969d27
",git fetch https://review.opendev.org/openstack/charm-cinder-k8s refs/changes/84/865284/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",6,dcc97ea61948cdf8c4ed660436fe43aa5b3eb84a,upgrade-to-yoga,`docker.io/kolla/ubuntu-binary-cinder-api:yoga` `docker.io/kolla/ubuntu-binary-cinder-scheduler:yoga`,`docker.io/kolla/ubuntu-binary-cinder-api:xena` `docker.io/kolla/ubuntu-binary-cinder-scheduler:xena`,18,18
openstack%2Fcharm-horizon-k8s~865282,openstack/charm-horizon-k8s,main,Idd2909cdb15f1bc1081d824ea163a74ecd51d3cd,Upgrade to OpenStack Yoga,MERGED,2022-11-22 14:28:16.000000000,2022-11-22 18:39:06.000000000,2022-11-22 17:39:24.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 14:28:16.000000000', 'files': ['osci.yaml', 'CONTRIBUTING.md', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-horizon-k8s/commit/6407e0e35e84e218a195b4417ddd19b14886a3a3', 'message': 'Upgrade to OpenStack Yoga\n\nUpdate OCI image.\n\nUpdate OSCI publication target to yoga/edge.\n\nMisc doc updates.\n\nChange-Id: Idd2909cdb15f1bc1081d824ea163a74ecd51d3cd\n'}]",0,865282,6407e0e35e84e218a195b4417ddd19b14886a3a3,8,3,1,935,,,0,"Upgrade to OpenStack Yoga

Update OCI image.

Update OSCI publication target to yoga/edge.

Misc doc updates.

Change-Id: Idd2909cdb15f1bc1081d824ea163a74ecd51d3cd
",git fetch https://review.opendev.org/openstack/charm-horizon-k8s refs/changes/82/865282/1 && git format-patch -1 --stdout FETCH_HEAD,"['osci.yaml', 'CONTRIBUTING.md', 'metadata.yaml', 'README.md']",4,6407e0e35e84e218a195b4417ddd19b14886a3a3,upgrade-to-yoga,The charm by default uses `docker.io/kolla/ubuntu-binary-horizon:yoga` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-horizon:xena` image.,5,5
openstack%2Fcharm-nova-k8s~865253,openstack/charm-nova-k8s,main,Ia76d78265c75f3ff5c5687881670ffec5b92e8c3,Upgrade charm to OpenStack Yoga,MERGED,2022-11-22 09:38:57.000000000,2022-11-22 18:37:52.000000000,2022-11-22 17:36:41.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 09:38:57.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-nova-k8s/commit/7019a19710bd996d5a89bb76dc05691c08de5a12', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nMake default test/bundle name release agnostic.\n\nChange-Id: Ia76d78265c75f3ff5c5687881670ffec5b92e8c3\n'}]",1,865253,7019a19710bd996d5a89bb76dc05691c08de5a12,9,2,1,935,,,0,"Upgrade charm to OpenStack Yoga

Update OCI image.

Refresh bundles.

Update OSCI publisher.

Make default test/bundle name release agnostic.

Change-Id: Ia76d78265c75f3ff5c5687881670ffec5b92e8c3
",git fetch https://review.opendev.org/openstack/charm-nova-k8s refs/changes/53/865253/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml']",4,7019a19710bd996d5a89bb76dc05691c08de5a12,upgrade-to-yoga, # docker.io/kolla/ubuntu-binary-nova-api:yoga upstream-source: docker.io/kolla/ubuntu-binary-nova-api@sha256:a5d8efa26d8814b3b70d493ad8a56d5afdfad476fd72ce861dda24e07e2447a5 # docker.io/kolla/ubuntu-binary-nova-scheduler:yoga upstream-source: docker.io/kolla/ubuntu-binary-nova-scheduler@sha256:070456cf355e30710930349fd96ecf2489aac4154cf088547cac4abff893c51d # docker.io/kolla/ubuntu-binary-nova-conductor:yoga upstream-source: docker.io/kolla/ubuntu-binary-nova-conductor@sha256:279ed37a942396a2eba1198ea3a75f9982a0e0d766a7fc71f59e26b11df2623a, # docker.io/kolla/ubuntu-binary-nova-api:xena upstream-source: docker.io/kolla/ubuntu-binary-nova-api@sha256:67524633932e47c9e694a90786b52699ddf81000c55619f2d9bba986114b51f5 # docker.io/kolla/ubuntu-binary-nova-scheduler:xena upstream-source: docker.io/kolla/ubuntu-binary-nova-scheduler@sha256:f1950c006aadd4fa4708a625eb2c7c09870b186fb4fab4fdf71e8af25003b2c8 # docker.io/kolla/ubuntu-binary-nova-conductor:xena upstream-source: docker.io/kolla/ubuntu-binary-nova-conductor@sha256:ecbb385b6d81451cdd551e6c6cc7c05cd8dd7c51d78fd4d9567eaf6a9c46218f,19,19
openstack%2Fcharm-neutron-k8s~865292,openstack/charm-neutron-k8s,main,Ib9cbcc7c8c1deeb4f41adc4a4b45e6f060d698cf,Update to OpenStack Yoga,MERGED,2022-11-22 15:12:09.000000000,2022-11-22 18:22:05.000000000,2022-11-22 17:32:24.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:12:09.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-neutron-k8s/commit/0309319cf52e6f488661e7429d1afc02d955f667', 'message': 'Update to OpenStack Yoga\n\nUpdate OCI images.\n\nUpdate testing bundle.\n\nUpdate OSCI publication target.\n\nChange-Id: Ib9cbcc7c8c1deeb4f41adc4a4b45e6f060d698cf\n'}]",0,865292,0309319cf52e6f488661e7429d1afc02d955f667,7,2,1,935,,,0,"Update to OpenStack Yoga

Update OCI images.

Update testing bundle.

Update OSCI publication target.

Change-Id: Ib9cbcc7c8c1deeb4f41adc4a4b45e6f060d698cf
",git fetch https://review.opendev.org/openstack/charm-neutron-k8s refs/changes/92/865292/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'tests/bundles/smoke.yaml', 'metadata.yaml', 'README.md']",6,0309319cf52e6f488661e7429d1afc02d955f667,upgrade-to-yoga,The charm by default uses `docker.io/kolla/ubuntu-binary-neutron-server:yoga` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-neutron-server:xena` image.,19,18
openstack%2Fpython-openstackclient~865296,openstack/python-openstackclient,master,I12cf60079ebcfe1cd059602fbfc1a13c8fe86803,Change --size helptext to include backup,MERGED,2022-11-22 15:30:53.000000000,2022-11-22 18:22:02.000000000,2022-11-22 18:18:35.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/b6968de83fe7ad2aea22069a2fd99eae13693ebf', 'message': 'Change --size helptext to include backup\n\nFollowup from [1]. Modifying help text of --size\nargument to include --backup option.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/864893\n\nChange-Id: I12cf60079ebcfe1cd059602fbfc1a13c8fe86803\n'}, {'number': 2, 'created': '2022-11-22 15:51:05.000000000', 'files': ['openstackclient/volume/v2/volume.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/96162c24eaba5ba70a6d8f61da815d2d6ffea7ed', 'message': 'Change --size helptext to include backup\n\nFollowup from [1]. Modifying help text of --size\nargument to include --backup option.\n\n[1] https://review.opendev.org/c/openstack/python-openstackclient/+/864893\n\nChange-Id: I12cf60079ebcfe1cd059602fbfc1a13c8fe86803\n'}]",4,865296,96162c24eaba5ba70a6d8f61da815d2d6ffea7ed,11,2,2,27615,,,0,"Change --size helptext to include backup

Followup from [1]. Modifying help text of --size
argument to include --backup option.

[1] https://review.opendev.org/c/openstack/python-openstackclient/+/864893

Change-Id: I12cf60079ebcfe1cd059602fbfc1a13c8fe86803
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/96/865296/1 && git format-patch -1 --stdout FETCH_HEAD,['openstackclient/volume/v2/volume.py'],1,b6968de83fe7ad2aea22069a2fd99eae13693ebf,," help=_(""Volume size in GB (Required unless --snapshot, "" ""--source or --backup is specified)""),"," help=_(""Volume size in GB (Required unless --snapshot or "" ""--source is specified)""),",2,2
openstack%2Fneutron~865295,openstack/neutron,master,Id7a0565db9b014e2658002437a2f21facbe47a8f,"Remove ""test_live_migration_with_trunk"" execution",MERGED,2022-11-22 15:28:13.000000000,2022-11-22 18:21:57.000000000,2022-11-22 18:18:31.000000000,"[{'_account_id': 5948}, {'_account_id': 8313}, {'_account_id': 8655}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:28:13.000000000', 'files': ['zuul.d/tempest-multinode.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/51827d8e78db4926f3aa347c4b2237a7b210f861', 'message': 'Remove ""test_live_migration_with_trunk"" execution\n\nRemoved ""test_live_migration_with_trunk"" test execution from\n""neutron-ovs-tempest-multinode-full"" job until LP#1997025 is\nfixed.\n\nRelated-Bug: #1997025\nChange-Id: Id7a0565db9b014e2658002437a2f21facbe47a8f\n'}]",0,865295,51827d8e78db4926f3aa347c4b2237a7b210f861,12,5,1,16688,,,0,"Remove ""test_live_migration_with_trunk"" execution

Removed ""test_live_migration_with_trunk"" test execution from
""neutron-ovs-tempest-multinode-full"" job until LP#1997025 is
fixed.

Related-Bug: #1997025
Change-Id: Id7a0565db9b014e2658002437a2f21facbe47a8f
",git fetch https://review.opendev.org/openstack/neutron refs/changes/95/865295/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/tempest-multinode.yaml'],1,51827d8e78db4926f3aa347c4b2237a7b210f861,bug/1997025," # NOTE(ralonsoh): to be removed once LP#1997025 is fixed. tempest_exclude_regex: ""\ (^tempest.api.compute.admin.test_live_migration.LiveAutoBlockMigrationV225Test.test_live_migration_with_trunk)|\ (^tempest.api.compute.admin.test_live_migration.LiveMigrationTest.test_live_migration_with_trunk)""",,4,0
openstack%2Fnova~865134,openstack/nova,stable/wallaby,Ie924260f0d558f83b1d266f0ca41cbeeaf7d2409,[stable-only] Use os-brick from source in wallaby,MERGED,2022-11-21 13:55:22.000000000,2022-11-22 18:21:23.000000000,2022-11-22 18:18:26.000000000,"[{'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 17685}, {'_account_id': 19234}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 13:55:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d74f6d95c25540c001360b45943bc6d5e57d87a5', 'message': ""[stable-only] Use os-brick from source in wallaby\n\nWe had an issue in os-brick that caused a failure in cinder gate.\nThe wallaby patch for the fix is merged[1] but wallaby has\ntransitioned into EM and we can't release os-brick wallaby anymore.\n\nTo fix the cinder gate situation (as seen here[2]), this patch adds\nos-brick as a required project for the ceph job (which is failing)\nso we will fetch os-brick from source and not the released version\nhence fixing the gate situation.\n\n[1] https://review.opendev.org/c/openstack/os-brick/+/864479\n[2] https://review.opendev.org/c/openstack/cinder/+/864185\n\nChange-Id: Ie924260f0d558f83b1d266f0ca41cbeeaf7d2409\n""}, {'number': 2, 'created': '2022-11-22 06:30:51.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/nova/commit/33fa10f13c0e693d76203643db1047a2bfa3a032', 'message': ""[stable-only] Use os-brick from source in wallaby\n\nWe had an issue in os-brick that caused a failure of\nnova-ceph-multistore. This problem was already fixed in os-brick\nstable/wallaby [1], but wallaby has transitioned into EM and we\ncan't release os-brick wallaby anymore.\n\nTo fix the nova-ceph-multistore job this patch adds os-brick as\na required project for the affected job, so it will fetch\nos-brick from source and not the released version.\n\n[1] https://review.opendev.org/c/openstack/os-brick/+/864479\n[2] https://review.opendev.org/c/openstack/cinder/+/864916\n\nChange-Id: Ie924260f0d558f83b1d266f0ca41cbeeaf7d2409\n""}]",8,865134,33fa10f13c0e693d76203643db1047a2bfa3a032,23,5,2,19234,,,0,"[stable-only] Use os-brick from source in wallaby

We had an issue in os-brick that caused a failure of
nova-ceph-multistore. This problem was already fixed in os-brick
stable/wallaby [1], but wallaby has transitioned into EM and we
can't release os-brick wallaby anymore.

To fix the nova-ceph-multistore job this patch adds os-brick as
a required project for the affected job, so it will fetch
os-brick from source and not the released version.

[1] https://review.opendev.org/c/openstack/os-brick/+/864479
[2] https://review.opendev.org/c/openstack/cinder/+/864916

Change-Id: Ie924260f0d558f83b1d266f0ca41cbeeaf7d2409
",git fetch https://review.opendev.org/openstack/nova refs/changes/34/865134/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d74f6d95c25540c001360b45943bc6d5e57d87a5,, - openstack/os-brick,,1,0
openstack%2Fcharm-cinder-ceph-k8s~865285,openstack/charm-cinder-ceph-k8s,main,Ia38a6ed5a14b05f6418bc6ac9b72b765a552a687,Update to OpenStack Yoga,MERGED,2022-11-22 14:54:21.000000000,2022-11-22 18:17:55.000000000,2022-11-22 17:35:35.000000000,"[{'_account_id': 12549}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 14:54:21.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'test-requirements.txt', 'tests/bundles/smoke.yaml', '.zuul.yaml', 'src/charm.py', 'metadata.yaml', 'tox.ini', 'README.md'], 'web_link': 'https://opendev.org/openstack/charm-cinder-ceph-k8s/commit/ca49a1a0069588d403d0a7c70c1497f15622d59e', 'message': 'Update to OpenStack Yoga\n\nSwitch OCI image.\n\nUpdate OSCI publication target to yoga/edge.\n\nAdd a basic deploy only functional test.\n\nMisc other tidy.\n\nChange-Id: Ia38a6ed5a14b05f6418bc6ac9b72b765a552a687\n'}]",0,865285,ca49a1a0069588d403d0a7c70c1497f15622d59e,8,3,1,935,,,0,"Update to OpenStack Yoga

Switch OCI image.

Update OSCI publication target to yoga/edge.

Add a basic deploy only functional test.

Misc other tidy.

Change-Id: Ia38a6ed5a14b05f6418bc6ac9b72b765a552a687
",git fetch https://review.opendev.org/openstack/charm-cinder-ceph-k8s refs/changes/85/865285/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'CONTRIBUTING.md', 'test-requirements.txt', 'tests/bundles/smoke.yaml', '.zuul.yaml', 'src/charm.py', 'metadata.yaml', 'tox.ini', 'README.md']",10,ca49a1a0069588d403d0a7c70c1497f15622d59e,upgrade-to-yoga,The charm by default uses `docker.io/kolla/ubuntu-binary-cinder-ceph:yoga` image.,The charm by default uses `docker.io/kolla/ubuntu-binary-cinder-ceph:xena` image.,160,11
openstack%2Ftempest~852377,openstack/tempest,master,Ic838fe18ccd1aa1658a3c972148534c11c8c71da,Add ability to pass service client in manager.py,NEW,2022-08-08 07:47:17.000000000,2022-11-22 17:33:31.000000000,,"[{'_account_id': 8556}, {'_account_id': 11075}, {'_account_id': 22348}, {'_account_id': 22873}, {'_account_id': 30742}]","[{'number': 1, 'created': '2022-08-08 07:47:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/5f8451c1182beb43b746a33e986c98ee5af1ff00', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 2, 'created': '2022-08-08 12:27:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/8e565be7c6860ce2a4190c097359ad0068bc5fcd', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 3, 'created': '2022-08-08 18:48:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/6dda015e2df2771c8d46d762ab53a34ef39e99c7', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 4, 'created': '2022-08-09 07:35:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/d6888b9abe4fa70502b7fb54b15cd1eafbce0919', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 5, 'created': '2022-08-09 11:08:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/499a56fdd0de5d04406741185441f24652db628e', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 6, 'created': '2022-08-15 10:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/7e9dc8daa8abb5022706187799d173bc008b641b', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 7, 'created': '2022-08-15 13:02:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a25ffbee12a12f8251d6d1736e41ee1a65c04c3f', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 8, 'created': '2022-08-22 11:51:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/346c6cca87294b2665fdb6f2d0eac001b8c4cdb4', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 9, 'created': '2022-08-23 09:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/4827c8e14a1ffa9546830feaf1b0d2c5bed16005', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 10, 'created': '2022-08-23 14:24:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/05a858c7b80bfc379516dcc73c76bc59b60fc1a0', 'message': 'DNM - Removing the unecessary use of admin client\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 11, 'created': '2022-09-12 10:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/196c86d7b9de1bc331f42952a08ff8dc1e771fe2', 'message': 'Add possibility to passes client in manager.py\n\nIn order to avoid the use of admin client into manager, this patch\nadds the possibility of tests specify which client to be used,\nadding the clients option into the signature of the functions.\nIf no client is passed, it will use the admin client.\nThis will enable tests that use the manager to avoid the use\nof admin when it is not necessary.\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 12, 'created': '2022-09-19 08:10:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/a6463a3567c918a567bf16491b0617ae8d0e5591', 'message': 'Add possibility to passes service client in manager.py\n\nIn order to avoid the unnecessary use of admin client into manager,\nthis patch adds the possibility of tests specify which client to be used.\nIf no client is passed to the manager, it will use the default admin client.\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}, {'number': 13, 'created': '2022-10-19 09:05:13.000000000', 'files': ['tempest/scenario/manager.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2320168a29a8a6723f5c19de7d4e174e4615d55c', 'message': 'Add ability to pass service client in manager.py\n\nIn order to avoid the unnecessary use of admin client into manager,\nthis patch allow the tests to specify which client to use.\nIf no client is passed to the manager, it will use the default admin client.\n\nChange-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da\n'}]",30,852377,2320168a29a8a6723f5c19de7d4e174e4615d55c,40,5,13,8367,,,0,"Add ability to pass service client in manager.py

In order to avoid the unnecessary use of admin client into manager,
this patch allow the tests to specify which client to use.
If no client is passed to the manager, it will use the default admin client.

Change-Id: Ic838fe18ccd1aa1658a3c972148534c11c8c71da
",git fetch https://review.opendev.org/openstack/tempest refs/changes/77/852377/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/scenario/manager.py'],1,5f8451c1182beb43b746a33e986c98ee5af1ff00,os_admin, admin_volume_type_client = self.os_primary.volume_types_client_latest admin_volumes_client = self.os_primary.volumes_client_latest client = self.os_primary.volume_types_client_latest ports = self.os_primary.ports_client.list_ports( server_details = cls.os_primary.servers_client.show_server(server_id) tenant_subnets = self.os_primary.subnets_client.list_subnets( external_nets = self.os_primary.networks_client.list_networks( self.os_primary.subnets_client.list_subnets( net = self.os_primary.networks_client.list_networks( cls.admin_volume_types_client = cls.os_primary.volume_types_client_latest cls.os_primary.encryption_types_client_latest, admin_volume_type_client = self.os_admin.volume_types_client_latest admin_volumes_client = self.os_admin.volumes_client_latest client = self.os_admin.volume_types_client_latest ports = self.os_admin.ports_client.list_ports( server_details = cls.os_admin.servers_client.show_server(server_id) tenant_subnets = self.os_admin.subnets_client.list_subnets( external_nets = self.os_admin.networks_client.list_networks( self.os_admin.subnets_client.list_subnets( net = self.os_admin.networks_client.list_networks( cls.admin_volume_types_client = cls.os_admin.volume_types_client_latest cls.os_admin.encryption_types_client_latest,11,11
openstack%2Fovn-octavia-provider~865272,openstack/ovn-octavia-provider,stable/zed,Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6,Add support for HM on a fullypopulated load balancers,MERGED,2022-11-22 12:37:00.000000000,2022-11-22 16:45:15.000000000,2022-11-22 16:44:11.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 12:37:00.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/204f6e0c7a0917791b0635beac1004ba61f954a3', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)\n'}]",2,865272,204f6e0c7a0917791b0635beac1004ba61f954a3,12,4,1,34451,,,0,"Add support for HM on a fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call, and the pools included in that call could include
HM. OVN-octavia-provider was not implementing this option and only
the loadbalancer/listener(s)/pool(s)/member(s) were created,
keeping the HM at the Octavia API as PENDING_CREATE.

This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1997094

Change-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6
(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/72/865272/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,204f6e0c7a0917791b0635beac1004ba61f954a3,," if pool.healthmonitor is not None and not isinstance( pool.healthmonitor, o_datamodels.UnsetType): self.health_monitor_create(pool.healthmonitor)",,29,0
openstack%2Fhorizon~864187,openstack/horizon,stable/victoria,I076a97a6f943ab74a2db8bc5179a7db194009db4,Fix app cred create without project_id for domain admins,MERGED,2022-11-14 18:45:31.000000000,2022-11-22 16:45:14.000000000,2022-11-22 16:44:05.000000000,"[{'_account_id': 6914}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2022-11-14 18:45:31.000000000', 'files': ['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/37caed80e67fe71abf44a877908ffdf708239515', 'message': 'Fix app cred create without project_id for domain admins\n\nUsers with domain admin role that are not cloud admins are\nnot able to get scoped context and create an application\ncredential with project_id, so this change forces the\nscoped context in that particular case.\n\nCloses-bug: #1827120\nChange-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4\n(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)\n(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)\n(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)\n(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)\n(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)\n'}]",0,864187,37caed80e67fe71abf44a877908ffdf708239515,8,3,1,14567,,,0,"Fix app cred create without project_id for domain admins

Users with domain admin role that are not cloud admins are
not able to get scoped context and create an application
credential with project_id, so this change forces the
scoped context in that particular case.

Closes-bug: #1827120
Change-Id: I076a97a6f943ab74a2db8bc5179a7db194009db4
(cherry picked from commit 6eeaf9852478e25ff77c21117664ac126c5357a4)
(cherry picked from commit 778a52e66aeab883b31db729e04944eeecfec6a2)
(cherry picked from commit 13e821a079134a458b24593d9593e0e5318e6cd6)
(cherry picked from commit 084ee8aaea703d99720c0cdc2751b6479dab3b2f)
(cherry picked from commit 2f8aaa03e8ed4c2c8e3628f1f723f304b24b1f82)
",git fetch https://review.opendev.org/openstack/horizon refs/changes/87/864187/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/test/unit/api/test_keystone.py', 'openstack_dashboard/api/keystone.py']",2,37caed80e67fe71abf44a877908ffdf708239515,bug/1827120-stable/zed-stable/yoga-stable/xena-stable/wallaby-stable/victoria,"def keystoneclient(request, admin=False, force_scoped=False): if (is_domain_admin(request) and not is_domain_context_specified and not force_scoped): # NOTE(ganso): users with domain admin role that are not cloud admins are # not able to get scoped context and create an application credential with # project_id, so only in this particular case we force a scoped context force_scoped = False if (request.user.project_id and request.session.get(""domain_token"") and not policy.check( ((""identity"", ""identity:update_domain""),), request)): force_scoped = True manager = keystoneclient( request, force_scoped=force_scoped).application_credentials","def keystoneclient(request, admin=False): if is_domain_admin(request) and not is_domain_context_specified: manager = keystoneclient(request).application_credentials",58,3
openstack%2Fovn-octavia-provider~865273,openstack/ovn-octavia-provider,stable/yoga,Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6,Add support for HM on a fullypopulated load balancers,MERGED,2022-11-22 12:37:43.000000000,2022-11-22 16:38:58.000000000,2022-11-22 16:37:50.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 12:37:43.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/4157ba907df39ca734cf9d954bf0d153352224c0', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)\n'}]",0,865273,4157ba907df39ca734cf9d954bf0d153352224c0,10,4,1,34451,,,0,"Add support for HM on a fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call, and the pools included in that call could include
HM. OVN-octavia-provider was not implementing this option and only
the loadbalancer/listener(s)/pool(s)/member(s) were created,
keeping the HM at the Octavia API as PENDING_CREATE.

This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1997094

Change-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6
(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/73/865273/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,4157ba907df39ca734cf9d954bf0d153352224c0,," if pool.healthmonitor is not None and not isinstance( pool.healthmonitor, o_datamodels.UnsetType): self.health_monitor_create(pool.healthmonitor)",,29,0
openstack%2Fovn-octavia-provider~865274,openstack/ovn-octavia-provider,stable/xena,Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6,Add support for HM on a fullypopulated load balancers,MERGED,2022-11-22 12:38:13.000000000,2022-11-22 16:38:54.000000000,2022-11-22 16:37:49.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 12:38:13.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/7055f43f4a886cfdc6694aac890a0d13b7a9845e', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)\n'}]",0,865274,7055f43f4a886cfdc6694aac890a0d13b7a9845e,10,4,1,34451,,,0,"Add support for HM on a fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call, and the pools included in that call could include
HM. OVN-octavia-provider was not implementing this option and only
the loadbalancer/listener(s)/pool(s)/member(s) were created,
keeping the HM at the Octavia API as PENDING_CREATE.

This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1997094

Change-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6
(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/74/865274/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,7055f43f4a886cfdc6694aac890a0d13b7a9845e,," if pool.healthmonitor is not None and not isinstance( pool.healthmonitor, o_datamodels.UnsetType): self.health_monitor_create(pool.healthmonitor)",,29,0
openstack%2Fovn-octavia-provider~865275,openstack/ovn-octavia-provider,stable/wallaby,Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6,Add support for HM on a fullypopulated load balancers,MERGED,2022-11-22 12:38:38.000000000,2022-11-22 16:38:48.000000000,2022-11-22 16:37:47.000000000,"[{'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 12:38:38.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/0220ff080230b4e9969372a0f25727ffc8a2ad88', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)\n'}]",0,865275,0220ff080230b4e9969372a0f25727ffc8a2ad88,9,4,1,34451,,,0,"Add support for HM on a fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call, and the pools included in that call could include
HM. OVN-octavia-provider was not implementing this option and only
the loadbalancer/listener(s)/pool(s)/member(s) were created,
keeping the HM at the Octavia API as PENDING_CREATE.

This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1997094

Change-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6
(cherry picked from commit e32049135a35f45720a3a221f3f90248bdd0ac52)
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/75/865275/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py']",2,0220ff080230b4e9969372a0f25727ffc8a2ad88,," if pool.healthmonitor is not None and not isinstance( pool.healthmonitor, o_datamodels.UnsetType): self.health_monitor_create(pool.healthmonitor)",,29,0
openstack%2Fdevstack~863451,openstack/devstack,stable/yoga,I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1,Use proper sed separator for paths,MERGED,2022-11-03 10:55:06.000000000,2022-11-22 16:37:12.000000000,2022-11-22 16:36:05.000000000,"[{'_account_id': 4393}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-03 10:55:06.000000000', 'files': ['unstack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/7cfe94664f18329154f667146390a387d034b745', 'message': ""Use proper sed separator for paths\n\nI941ef5ea90970a0901236afe81c551aaf24ac1d8 added a sed command that\nshould match and delete path values but used '/' as sed separator. This\nleads to error in unstack.sh runs when the path also contains '/':\n\n+./unstack.sh:main:188 sudo sed -i '/directory=/opt/stack/ d' /etc/gitconfig\nsed: -e expression #1, char 13: unknown command: `o'\n\nSo this patch replace '/' separator with '+'.\n\nChange-Id: I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1\n(cherry picked from commit 7191c5e7e7edb1e2f28c0ce71294f61b409cf16b)\n""}]",3,863451,7cfe94664f18329154f667146390a387d034b745,13,3,1,27838,,,0,"Use proper sed separator for paths

I941ef5ea90970a0901236afe81c551aaf24ac1d8 added a sed command that
should match and delete path values but used '/' as sed separator. This
leads to error in unstack.sh runs when the path also contains '/':

+./unstack.sh:main:188 sudo sed -i '/directory=/opt/stack/ d' /etc/gitconfig
sed: -e expression #1, char 13: unknown command: `o'

So this patch replace '/' separator with '+'.

Change-Id: I06811c0d9ee7ecddf84ef1c6dd6cff5129dbf4b1
(cherry picked from commit 7191c5e7e7edb1e2f28c0ce71294f61b409cf16b)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/51/863451/1 && git format-patch -1 --stdout FETCH_HEAD,['unstack.sh'],1,7cfe94664f18329154f667146390a387d034b745,git-mark-safe-stable/yoga,"sudo sed -i ""\+directory = ${DEST}+ d"" /etc/gitconfig","sudo sed -i ""/directory=${DEST}/ d"" /etc/gitconfig",1,1
openstack%2Fcharm-zuul-jobs~865299,openstack/charm-zuul-jobs,master,I2a96378b0a813776ba2673bd9903f00a52457384,Increase functional testing timeout,MERGED,2022-11-22 15:37:23.000000000,2022-11-22 16:01:21.000000000,2022-11-22 16:01:21.000000000,"[{'_account_id': 935}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 15:37:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/7a089448766a0a8bff08fa2492ac10b022a37b07', 'message': 'Increase functional testing timeout\n\nIncrease functional testing timeout to 1 hour as 30mins is too\ntights.\n\nChange-Id: I2a96378b0a813776ba2673bd9903f00a52457384\n'}, {'number': 2, 'created': '2022-11-22 15:37:45.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/charm-zuul-jobs/commit/2d67aeba2c0022c27390f2bde16a9d6f60335a46', 'message': 'Increase functional testing timeout\n\nIncrease functional testing timeout to 1 hour as 30mins is too\ntight.\n\nChange-Id: I2a96378b0a813776ba2673bd9903f00a52457384\n'}]",0,865299,2d67aeba2c0022c27390f2bde16a9d6f60335a46,7,2,2,12549,,,0,"Increase functional testing timeout

Increase functional testing timeout to 1 hour as 30mins is too
tight.

Change-Id: I2a96378b0a813776ba2673bd9903f00a52457384
",git fetch https://review.opendev.org/openstack/charm-zuul-jobs refs/changes/99/865299/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,7a089448766a0a8bff08fa2492ac10b022a37b07,increase-functest-timeout, timeout: 3600,,1,0
openstack%2Fopenstacksdk~865158,openstack/openstacksdk,master,I34873491d928ebd791150d1eda66f697f56e134f,"Revert ""compute/server: add support of target state for evacuate API""",MERGED,2022-11-22 11:09:58.000000000,2022-11-22 15:43:42.000000000,2022-11-22 13:49:12.000000000,"[{'_account_id': 7730}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27900}]","[{'number': 1, 'created': '2022-11-22 11:09:58.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/add-target-state-for-evacuate-52be85c5c08f4109.yaml', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/601e5199dc188f48b4693c791b1bd228b127ac8f', 'message': 'Revert ""compute/server: add support of target state for evacuate API""\n\nThis reverts commit caa4e135e275ce6b453557d701a78701690d57b4.\n\nReason for revert: The spec is still under review and at the PTG we agrered not to add a target state paramater so the sdk change is not in line with the spec direction\n\nChange-Id: I34873491d928ebd791150d1eda66f697f56e134f\n'}]",2,865158,601e5199dc188f48b4693c791b1bd228b127ac8f,9,4,1,11604,,,0,"Revert ""compute/server: add support of target state for evacuate API""

This reverts commit caa4e135e275ce6b453557d701a78701690d57b4.

Reason for revert: The spec is still under review and at the PTG we agrered not to add a target state paramater so the sdk change is not in line with the spec direction

Change-Id: I34873491d928ebd791150d1eda66f697f56e134f
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/58/865158/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/add-target-state-for-evacuate-52be85c5c08f4109.yaml', 'openstack/compute/v2/_proxy.py']",5,601e5199dc188f48b4693c791b1bd228b127ac8f,bp/allowing-target-state-for-evacuate," def evacuate_server(self, server, host=None, admin_pass=None, force=None): force=force)"," def evacuate_server(self, server, host=None, admin_pass=None, force=None, target_state=None): :param target_state: Set target state for the evacuated instance (New in API version 2.94). force=force, target_state=target_state)",8,19
openstack%2Fkeystonemiddleware~766735,openstack/keystonemiddleware,master,I7fa0733d3d7b51e67ac764653a2a393565d5d7a4,[WiP] Memcached client TLS support,NEW,2020-12-11 13:58:38.000000000,2022-11-22 15:25:33.000000000,,"[{'_account_id': 22348}, {'_account_id': 27954}]","[{'number': 1, 'created': '2020-12-11 13:58:38.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/5ca32779b25f68dfb50195007f10631d23a7e866', 'message': '[WiP] Memcached client TLS support\n\nTODO: python-memcached is replaced with pymemcached to support TLS?\n\nThis patch specifies a set of configuration options required to build\na TLS context, which is used to wrap the client connection socket.\n\nChange-Id: I7fa0733d3d7b51e67ac764653a2a393565d5d7a4\n'}]",2,766735,5ca32779b25f68dfb50195007f10631d23a7e866,6,2,1,14250,,,0,"[WiP] Memcached client TLS support

TODO: python-memcached is replaced with pymemcached to support TLS?

This patch specifies a set of configuration options required to build
a TLS context, which is used to wrap the client connection socket.

Change-Id: I7fa0733d3d7b51e67ac764653a2a393565d5d7a4
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/35/766735/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystonemiddleware/auth_token/_opts.py', 'keystonemiddleware/tests/unit/auth_token/test_auth_token_middleware.py', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'keystonemiddleware/auth_token/__init__.py']",5,5ca32779b25f68dfb50195007f10631d23a7e866,memcache-authtoken,"import ssl if self._conf.get('memcache_tls_enabled'): tls_cafile = self._conf.get('memcache_tls_cafile') tls_certfile = self._conf.get('memcache_tls_certfile') tls_keyfile = self._conf.get('memcache_tls_keyfile') tls_allowed_ciphers = self._conf.get( 'memcache_tls_allowed_ciphers') tls_context = ssl.create_default_context(cafile=tls_cafile) if tls_certfile: tls_context.load_cert_chain(tls_certfile, tls_keyfile) if tls_allowed_ciphers: tls_context.set_ciphers(tls_allowed_ciphers) cache_kwargs['tls_context'] = tls_context ",,90,5
openstack%2Freleases~864363,openstack/releases,master,I1a65a80fdd8e679f41438d7150c743e3d7ecb800,[solum-tempest-plugin] Tag ussuri-last & victoria-last,MERGED,2022-11-13 00:42:52.000000000,2022-11-22 15:17:44.000000000,2022-11-22 15:17:44.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-13 00:42:52.000000000', 'files': ['deliverables/victoria/solum-tempest-plugin.yaml', 'deliverables/ussuri/solum-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/edc5d230174109b4588c273b85e0e025f1f0b46f', 'message': '[solum-tempest-plugin] Tag ussuri-last & victoria-last\n\nUssuri and Victoria branches are in Extended Maintenance[1].\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins needs to be released[2] so that we have the compatible\ntags to test the EM stable branches[3].\n\nWe taged ussuri-last & victoria-last for tempest[4] but forgot to do\nit for the tempest plugins. Using the tag 2.4.0 hash which is compatible\nfor tempest ussuri-last and victoria-last.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[3] https://review.opendev.org/c/openstack/releases/+/843039\n\nChange-Id: I1a65a80fdd8e679f41438d7150c743e3d7ecb800\n'}]",1,864363,edc5d230174109b4588c273b85e0e025f1f0b46f,9,4,1,8556,,,0,"[solum-tempest-plugin] Tag ussuri-last & victoria-last

Ussuri and Victoria branches are in Extended Maintenance[1].
Once any stable branch is moved to EM state then, Tempest and
its plugins needs to be released[2] so that we have the compatible
tags to test the EM stable branches[3].

We taged ussuri-last & victoria-last for tempest[4] but forgot to do
it for the tempest plugins. Using the tag 2.4.0 hash which is compatible
for tempest ussuri-last and victoria-last.

[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[3] https://review.opendev.org/c/openstack/releases/+/843039

Change-Id: I1a65a80fdd8e679f41438d7150c743e3d7ecb800
",git fetch https://review.opendev.org/openstack/releases refs/changes/63/864363/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/solum-tempest-plugin.yaml', 'deliverables/ussuri/solum-tempest-plugin.yaml']",2,edc5d230174109b4588c273b85e0e025f1f0b46f,u-v-last, - version: ussuri-last projects: - repo: openstack/solum-tempest-plugin hash: 1c699e1d5552ef991e0da51ec4a7be158f36ed1f,,8,0
openstack%2Freleases~864361,openstack/releases,master,Ic9d94f04aa4bfcf1035e081a9bbf6d0668b4f9f1,[murano-tempest-plugin] Tag ussuri-last & victoria-last,MERGED,2022-11-13 00:38:10.000000000,2022-11-22 15:17:42.000000000,2022-11-22 15:17:42.000000000,"[{'_account_id': 14107}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-13 00:38:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/4d1f9d141bf4cb969dd8b94b968e6bfe5bc67ff0', 'message': '[murano-tempest-plugin] Tag ussuri-last & victoria-last\n\nUssuri and Victoria branches are in Extended Maintenance[1].\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins needs to be released[2] so that we have the compatible\ntags to test the EM stable branches[3].\n\nWe taged ussuri-last & victoria-last for tempest[4] but forgot to do\nit for the tempest plugins. Using the tag 2.4.0 hash which is compatible\nfor tempest ussuri-last and victoria-last.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[3] https://review.opendev.org/c/openstack/releases/+/843039\n\nChange-Id: Ic9d94f04aa4bfcf1035e081a9bbf6d0668b4f9f1\n'}, {'number': 2, 'created': '2022-11-13 01:00:00.000000000', 'files': ['deliverables/victoria/murano-tempest-plugin.yaml', 'deliverables/ussuri/murano-tempest-plugin.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/c9886917d2af0fda596c6d9830b2ccfc3ac28d80', 'message': '[murano-tempest-plugin] Tag ussuri-last & victoria-last\n\nUssuri and Victoria branches are in Extended Maintenance[1].\nOnce any stable branch is moved to EM state then, Tempest and\nits plugins needs to be released[2] so that we have the compatible\ntags to test the EM stable branches[3].\n\nWe taged ussuri-last & victoria-last for tempest[4] but forgot to do\nit for the tempest plugins. Using the tag 2.4.0 hash which is compatible\nfor tempest ussuri-last and victoria-last.\n\n[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html\n[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html\n[3] https://review.opendev.org/c/openstack/releases/+/843039\n\nChange-Id: Ic9d94f04aa4bfcf1035e081a9bbf6d0668b4f9f1\n'}]",1,864361,c9886917d2af0fda596c6d9830b2ccfc3ac28d80,11,4,2,8556,,,0,"[murano-tempest-plugin] Tag ussuri-last & victoria-last

Ussuri and Victoria branches are in Extended Maintenance[1].
Once any stable branch is moved to EM state then, Tempest and
its plugins needs to be released[2] so that we have the compatible
tags to test the EM stable branches[3].

We taged ussuri-last & victoria-last for tempest[4] but forgot to do
it for the tempest plugins. Using the tag 2.4.0 hash which is compatible
for tempest ussuri-last and victoria-last.

[1] https://docs.openstack.org/tempest/latest/stable_branch_support_policy.html
[2] https://docs.openstack.org/tempest/latest/tempest_and_plugins_compatible_version_policy.html
[3] https://review.opendev.org/c/openstack/releases/+/843039

Change-Id: Ic9d94f04aa4bfcf1035e081a9bbf6d0668b4f9f1
",git fetch https://review.opendev.org/openstack/releases refs/changes/61/864361/1 && git format-patch -1 --stdout FETCH_HEAD,"['deliverables/victoria/murano-tempest-plugin.yaml', 'deliverables/ussuri/murano-tempest-plugin.yaml']",2,4d1f9d141bf4cb969dd8b94b968e6bfe5bc67ff0,u-v-last, - version: ussuri-last projects: - repo: openstack/murano-tempest-plugin hash: 1dc16d6ba1b859b44c2845b5f276c6546fa6f42c,,8,0
openstack%2Freleases~864538,openstack/releases,master,I82f0addd4189967668e116dc4a300fb71b8aeb32,Release sushy for Antelope-1 milestone,MERGED,2022-11-15 13:08:15.000000000,2022-11-22 15:17:40.000000000,2022-11-22 15:17:40.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-15 13:08:15.000000000', 'files': ['deliverables/antelope/sushy.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/62c91c54abd37b9a69e006ea6d2477088c2aec05', 'message': 'Release sushy for Antelope-1 milestone\n\nThis is a library release for sushy for the Antelope-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 4.3.0..56efdee\n56efdee Make server connection retries configurable\n67185bf Increase server side retries\n3e69fce Improve resiliency of eTag handling\n1c0a35a Update release versions for yoga and zed\nf00261f Fix misuse of assertTrue\n19a0671 Add Python3 antelope unit tests\nbf82e0b Update master for stable/zed\nb619196 Fix misuse of assertIsNone\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: I82f0addd4189967668e116dc4a300fb71b8aeb32\n'}]",1,864538,62c91c54abd37b9a69e006ea6d2477088c2aec05,9,7,1,28522,,,0,"Release sushy for Antelope-1 milestone

This is a library release for sushy for the Antelope-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 4.3.0..56efdee
56efdee Make server connection retries configurable
67185bf Increase server side retries
3e69fce Improve resiliency of eTag handling
1c0a35a Update release versions for yoga and zed
f00261f Fix misuse of assertTrue
19a0671 Add Python3 antelope unit tests
bf82e0b Update master for stable/zed
b619196 Fix misuse of assertIsNone

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: I82f0addd4189967668e116dc4a300fb71b8aeb32
",git fetch https://review.opendev.org/openstack/releases refs/changes/38/864538/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/sushy.yaml'],1,62c91c54abd37b9a69e006ea6d2477088c2aec05,antelope-milestone-1,releases: - version: 4.4.0 projects: - repo: openstack/sushy hash: 56efdee0eefad6ec7376cc3fea1e04979164d446,,5,0
openstack%2Freleases~864523,openstack/releases,master,Ibcdf244c5c32798d014d22a6dcf6fce600629a06,Release metalsmith for Antelope-1 milestone,MERGED,2022-11-15 12:56:29.000000000,2022-11-22 15:17:38.000000000,2022-11-22 15:17:38.000000000,"[{'_account_id': 10239}, {'_account_id': 10342}, {'_account_id': 15519}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28522}]","[{'number': 1, 'created': '2022-11-15 12:56:29.000000000', 'files': ['deliverables/antelope/metalsmith.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/50d1094f44e887f3d6b2e7c7aba16e5fdb355d7e', 'message': 'Release metalsmith for Antelope-1 milestone\n\nThis is a library release for metalsmith for the Antelope-1\nmilestone. This repository contains commits that have not been releases\nfor this cycle yet.\n\nIf the team is ready to process with this release, please leave a +1\nto indicate we should go ahead with the release.\n\nIf the team needs more time for things about to merge, or if there is\nsome other reason a release should not be done at this time, please\nleave a -1 with a comment indicating the status. Then update the patch\nwith the new commit hash to use once the team is ready to do the\nrelease.\n\n$ git log --oneline --no-merges 1.8.0..f988377\nf988377 Revert ""CI: Force ansible to version 5""\nee008f7 Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0\n523cc1d CI: Force ansible to version 5\ncc8fe24 Add Python3 antelope unit tests\n951e643 Update master for stable/zed\n\nSigned-off-by: Hervé Beraud <hberaud@redhat.com>\nChange-Id: Ibcdf244c5c32798d014d22a6dcf6fce600629a06\n'}]",1,864523,50d1094f44e887f3d6b2e7c7aba16e5fdb355d7e,9,7,1,28522,,,0,"Release metalsmith for Antelope-1 milestone

This is a library release for metalsmith for the Antelope-1
milestone. This repository contains commits that have not been releases
for this cycle yet.

If the team is ready to process with this release, please leave a +1
to indicate we should go ahead with the release.

If the team needs more time for things about to merge, or if there is
some other reason a release should not be done at this time, please
leave a -1 with a comment indicating the status. Then update the patch
with the new commit hash to use once the team is ready to do the
release.

$ git log --oneline --no-merges 1.8.0..f988377
f988377 Revert ""CI: Force ansible to version 5""
ee008f7 Allow to use Ansible OpenStack Col. 1.x.x with openstacksdk >=0.99.0
523cc1d CI: Force ansible to version 5
cc8fe24 Add Python3 antelope unit tests
951e643 Update master for stable/zed

Signed-off-by: Hervé Beraud <hberaud@redhat.com>
Change-Id: Ibcdf244c5c32798d014d22a6dcf6fce600629a06
",git fetch https://review.opendev.org/openstack/releases refs/changes/23/864523/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/antelope/metalsmith.yaml'],1,50d1094f44e887f3d6b2e7c7aba16e5fdb355d7e,antelope-milestone-1,releases: - version: 1.9.0 projects: - repo: openstack/metalsmith hash: f988377a6ae32a749b92d8717ca0ec4fc713c924,,5,0
openstack%2Fovn-octavia-provider~864820,openstack/ovn-octavia-provider,master,Ib5c4e24705333077199233f8fd4cefc63b466334,Ensure a loadbalancer may have different healtch_check,ABANDONED,2022-11-22 10:57:16.000000000,2022-11-22 15:15:32.000000000,,"[{'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-22 10:57:16.000000000', 'files': ['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/07f1a2b36f40facc35507ba5ad7320e4841f6928', 'message': 'Ensure a loadbalancer may have different healtch_check\n\nChange-Id: Ib5c4e24705333077199233f8fd4cefc63b466334\n'}]",0,864820,07f1a2b36f40facc35507ba5ad7320e4841f6928,4,2,1,23567,,,0,"Ensure a loadbalancer may have different healtch_check

Change-Id: Ib5c4e24705333077199233f8fd4cefc63b466334
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/20/864820/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/helper.py', 'ovn_octavia_provider/tests/unit/test_helper.py']",2,07f1a2b36f40facc35507ba5ad7320e4841f6928,," self.ovn_hm_lb.health_check = [self.ovn_hm.uuid] execute.side_effect = [[self.ovn_hm], [self.ovn_hm_lb]]", self.ovn_hm_lb.health_check = [] execute.return_value = [self.ovn_hm] self.helper.ovn_nbdb_api.db_find_rows.return_value.\ execute.return_value = [self.ovn_hm_lb],9,7
openstack%2Fnetworking-midonet~534211,openstack/networking-midonet,master,Iaa3d9e086abeb2377f20ad727f840c1079875907,test_fip64: Repeat the test twice,ABANDONED,2018-01-16 09:30:41.000000000,2022-11-22 14:53:08.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-16 09:30:41.000000000', 'files': ['midonet/neutron/tests/tempest/tests/scenario/test_fip64.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/70b7e73789a4bc0ffb1476e9965ddbb5974895bd', 'message': 'test_fip64: Repeat the test twice\n\nChange-Id: Iaa3d9e086abeb2377f20ad727f840c1079875907\n'}]",0,534211,70b7e73789a4bc0ffb1476e9965ddbb5974895bd,4,2,1,6854,,,0,"test_fip64: Repeat the test twice

Change-Id: Iaa3d9e086abeb2377f20ad727f840c1079875907
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/11/534211/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/tests/tempest/tests/scenario/test_fip64.py'],1,70b7e73789a4bc0ffb1476e9965ddbb5974895bd,fip64-2," # repeat server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])",,6,0
openstack%2Fnetworking-midonet~534295,openstack/networking-midonet,master,I334b36b8560ab0687b069d34e62af9e7e87b808f,test_fip64: repeat test differently,ABANDONED,2018-01-16 12:56:03.000000000,2022-11-22 14:53:06.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-01-16 12:56:03.000000000', 'files': ['midonet/neutron/tests/tempest/tests/scenario/test_fip64.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5090adc27a15ae128a95244f67b6d2453ea2ec4e', 'message': 'test_fip64: repeat test differently\n\nChange-Id: I334b36b8560ab0687b069d34e62af9e7e87b808f\n'}]",0,534295,5090adc27a15ae128a95244f67b6d2453ea2ec4e,4,2,1,6854,,,0,"test_fip64: repeat test differently

Change-Id: I334b36b8560ab0687b069d34e62af9e7e87b808f
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/95/534295/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/tests/tempest/tests/scenario/test_fip64.py'],1,5090adc27a15ae128a95244f67b6d2453ea2ec4e,fip64-2," @decorators.idempotent_id('63f7da91-c7dd-449b-b50b-1c56853ce0ff') def test_fip64_x(self): server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key']) # repeat server = self._create_server_with_fip64() self.check_connectivity(server['fip']['floating_ip_address'], CONF.validation.image_ssh_user, self.keypair['private_key'])",,13,0
openstack%2Fnetworking-midonet~617103,openstack/networking-midonet,master,Iffbe9e9578cfc960e5462ffc5dd1a2dabe26a606,Update the links http to https,ABANDONED,2018-11-10 08:56:27.000000000,2022-11-22 14:53:03.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}, {'_account_id': 27866}, {'_account_id': 29423}]","[{'number': 1, 'created': '2018-11-10 08:56:27.000000000', 'files': ['specs/kilo/provider_net.rst', 'specs/mitaka/device_management_update.rst', 'specs/kilo/agent_membership.rst', 'specs/kilo/l2gw.rst', 'specs/kilo/device_management.rst', 'specs/kilo/agent.rst', 'specs/kilo/port_binding.rst', 'specs/mitaka/border_gw.rst', 'specs/mitaka/logging-API-for-firewall-rules.rst', 'specs/kilo/extra_routes.rst', 'specs/kilo/data_sync.rst', 'specs/kilo/task_management.rst', 'specs/kilo/dynamic_routing.rst'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b31f3c548cf70568979687fef2167691090fe26c', 'message': 'Update the links http to https\n\nChange-Id: Iffbe9e9578cfc960e5462ffc5dd1a2dabe26a606\n'}]",0,617103,b31f3c548cf70568979687fef2167691090fe26c,6,4,1,29423,,,0,"Update the links http to https

Change-Id: Iffbe9e9578cfc960e5462ffc5dd1a2dabe26a606
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/03/617103/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/provider_net.rst', 'specs/mitaka/device_management_update.rst', 'specs/kilo/agent_membership.rst', 'specs/kilo/l2gw.rst', 'specs/kilo/device_management.rst', 'specs/kilo/agent.rst', 'specs/kilo/port_binding.rst', 'specs/mitaka/border_gw.rst', 'specs/mitaka/logging-API-for-firewall-rules.rst', 'specs/kilo/extra_routes.rst', 'specs/kilo/data_sync.rst', 'specs/kilo/task_management.rst', 'specs/kilo/dynamic_routing.rst']",13,b31f3c548cf70568979687fef2167691090fe26c,, https://creativecommons.org/licenses/by/4.0/, http://creativecommons.org/licenses/by/4.0/,13,13
openstack%2Fnetworking-midonet~637796,openstack/networking-midonet,master,Ia7747a291f21b17b0fa2f040ceb936472cecb114,lbaas: Convert an object to a dict earlier,ABANDONED,2019-02-19 09:23:33.000000000,2022-11-22 14:53:01.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 09:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b25a26631c633374d289ad954ac76ce8f5448c44', 'message': ""lbaas: Convert an object to a dict earlier\n\nInstead of converting it in client, do it in the lbaas driver\nand make it pass dicts instead.\nThis way it's easier to patch dicts in the driver. (We plan to\ndo it in the following patch)\n\nChange-Id: Ia7747a291f21b17b0fa2f040ceb936472cecb114\n""}, {'number': 2, 'created': '2019-02-19 13:54:20.000000000', 'files': ['midonet/neutron/client/api.py', 'midonet/neutron/services/loadbalancer/v2_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/b3bed9274795f9dd695e1090162390f1104e73c9', 'message': ""lbaas: Convert an object to a dict earlier\n\nInstead of converting it in client, do it in the lbaas driver\nand make it pass dicts instead.\nThis way it's easier to patch dicts in the driver. (We plan to\ndo it in the following patch)\n\nChange-Id: Ia7747a291f21b17b0fa2f040ceb936472cecb114\n""}]",0,637796,b3bed9274795f9dd695e1090162390f1104e73c9,16,2,2,6854,,,0,"lbaas: Convert an object to a dict earlier

Instead of converting it in client, do it in the lbaas driver
and make it pass dicts instead.
This way it's easier to patch dicts in the driver. (We plan to
do it in the following patch)

Change-Id: Ia7747a291f21b17b0fa2f040ceb936472cecb114
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/96/637796/1 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/client/api.py', 'midonet/neutron/services/loadbalancer/v2_driver.py']",2,b25a26631c633374d289ad954ac76ce8f5448c44,bug/1802438," context=context, old_obj=old_obj.to_api_dict(), obj=obj.to_api_dict(), **kwargs) context=context, obj=obj.to_api_dict(), **kwargs)"," context=context, old_obj=old_obj, obj=obj, **kwargs) context=context, obj=obj, **kwargs)",8,8
openstack%2Fnetworking-midonet~637797,openstack/networking-midonet,master,I844e4c4e60e257c2f39aca804de701093ceed580,lbaas: Try to workaround driver API incompatibility,ABANDONED,2019-02-19 09:23:33.000000000,2022-11-22 14:52:59.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-19 09:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/41db7bc0d41c988401cb41eb8a9b9b5aeed1426f', 'message': 'lbaas: Try to workaround driver API incompatibility\n\nChange-Id: I844e4c4e60e257c2f39aca804de701093ceed580\n'}, {'number': 2, 'created': '2019-02-19 13:54:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/91f4b3dfaa675608d399048eef82bb0cab1aa6b5', 'message': 'lbaas: Try to workaround driver API incompatibility\n\nChange-Id: I844e4c4e60e257c2f39aca804de701093ceed580\n'}, {'number': 3, 'created': '2019-02-19 14:25:59.000000000', 'files': ['midonet/neutron/services/loadbalancer/v2_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5afbba22d9d815b411578d7c50186302afeb8822', 'message': 'lbaas: Try to workaround driver API incompatibility\n\nChange-Id: I844e4c4e60e257c2f39aca804de701093ceed580\n'}]",0,637797,5afbba22d9d815b411578d7c50186302afeb8822,18,2,3,6854,,,0,"lbaas: Try to workaround driver API incompatibility

Change-Id: I844e4c4e60e257c2f39aca804de701093ceed580
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/97/637797/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/services/loadbalancer/v2_driver.py'],1,41db7bc0d41c988401cb41eb8a9b9b5aeed1426f,bug/1802438," def update(self, context, old_obj, obj, **kwargs): old_obj_dict = old_obj=old_obj.to_api_dict() obj_dict = obj.to_api_dict() # A workaround for driver API incompatibility (bug 1802438) if obj_dict['listener_id'] is None: obj_dict['listener_id'] = obj_dict['listeners'][0]['id'] return self.driver._client.update_healthmonitorv2( context=context, old_obj=old_obj_dict, obj=obj_dict, **kwargs)", pass,8,1
openstack%2Fnetworking-midonet~674132,openstack/networking-midonet,master,I714bcb81d9446f14c909707f09eda44f60c651c1,use callback payloads for SECURITY_GROUP,ABANDONED,2019-08-01 20:39:03.000000000,2022-11-22 14:52:56.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-08-01 20:39:03.000000000', 'files': ['midonet/neutron/ml2/sg_callback.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/739e80766c8ebbb36ff12f415d95f79035f88b11', 'message': 'use callback payloads for SECURITY_GROUP\n\nThis patch switches over to callback payloads for SECURITY_GROUP\nevents.\n\nDepends-On: https://review.opendev.org/#/c/674044/\nChange-Id: I714bcb81d9446f14c909707f09eda44f60c651c1\n'}]",0,674132,739e80766c8ebbb36ff12f415d95f79035f88b11,3,1,1,5367,,,0,"use callback payloads for SECURITY_GROUP

This patch switches over to callback payloads for SECURITY_GROUP
events.

Depends-On: https://review.opendev.org/#/c/674044/
Change-Id: I714bcb81d9446f14c909707f09eda44f60c651c1
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/32/674132/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/ml2/sg_callback.py'],1,739e80766c8ebbb36ff12f415d95f79035f88b11,use-callback-payloads," def create_security_group(self, resource, event, trigger, payload=None): sg = payload.desired_state or payload.latest_state def update_security_group(self, resource, event, trigger, payload=None): def delete_security_group(self, resource, event, trigger, payload=None): sg_id = payload.resource_id"," def create_security_group(self, resource, event, trigger, **kwargs): sg = kwargs.get('security_group') def update_security_group(self, resource, event, trigger, **kwargs): def delete_security_group(self, resource, event, trigger, **kwargs): sg_id = kwargs.get('security_group_id')",5,5
openstack%2Fnetworking-midonet~670633,openstack/networking-midonet,master,I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769,use payloads for NETWORK callback events,ABANDONED,2019-07-12 20:06:18.000000000,2022-11-22 14:52:54.000000000,,"[{'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 25564}]","[{'number': 1, 'created': '2019-07-12 20:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/123e3e04a99c59621ae0cb4d71600c6528b46b3b', 'message': 'use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events.\n\nDepends-On: https://review.opendev.org/#/c/670611/\nChange-Id: I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769\n'}, {'number': 2, 'created': '2019-07-15 14:41:02.000000000', 'files': ['midonet/neutron/db/gateway_device.py', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/18c73c744c7d4ac5a8d3353dc011faa4da394ece', 'message': 'use payloads for NETWORK callback events\n\nThis patch switches over to the payload style of callbacks for\nNETWORK based events.\n\nIt also updates the py35 zuul config to ensure neutron is used from\nthe master branch of git.\n\nDepends-On: https://review.opendev.org/#/c/670611/\n\nChange-Id: I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769\n'}]",0,670633,18c73c744c7d4ac5a8d3353dc011faa4da394ece,10,5,2,5367,,,0,"use payloads for NETWORK callback events

This patch switches over to the payload style of callbacks for
NETWORK based events.

It also updates the py35 zuul config to ensure neutron is used from
the master branch of git.

Depends-On: https://review.opendev.org/#/c/670611/

Change-Id: I68e2f333e1de3856bd1cfa4873c6f9dd8f1e8769
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/33/670633/1 && git format-patch -1 --stdout FETCH_HEAD,['midonet/neutron/db/gateway_device.py'],1,123e3e04a99c59621ae0cb4d71600c6528b46b3b,use-callback-payloads," def _gateway_device_callback(self, resource, event, trigger, payload=None): if resource == resources.NETWORK: resource_id = payload.latest_state['id'] context = payload.context"," def _gateway_device_callback(self, resource, event, trigger, **kwargs): if resource == resources.NETWORK: resource_id = kwargs['network_id'] context = kwargs.get('context')",3,3
openstack%2Fnetworking-midonet~674397,openstack/networking-midonet,master,Ie83a4dcbfc57759972714889fd53f7da4c6da741,Stop running the centos-7 integration jobs.,ABANDONED,2019-08-02 18:02:15.000000000,2022-11-22 14:52:51.000000000,,"[{'_account_id': 6854}, {'_account_id': 19307}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-08-02 18:02:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/03bc785623e264a2fed4ab31bcf2e03788722015', 'message': 'Stop running the centos-7 integration jobs.\n\nThese jobs depend on packages from builds.midonet.org but that repo\'s\nssl cert has expired and the jobs fail.\n\nThe error message:\n  https://builds.midonet.org/devstack/unstable/el7/repodata/repomd.xml: [Errno 14] curl#60 - ""Peer\'s Certificate has expired.""\n\nThese jobs can be readded when they are modified to pull from a\ndifferent repo or the upstream repo fixes its cert.\n\nChange-Id: Ie83a4dcbfc57759972714889fd53f7da4c6da741\n'}]",0,674397,03bc785623e264a2fed4ab31bcf2e03788722015,5,3,1,4146,,,0,"Stop running the centos-7 integration jobs.

These jobs depend on packages from builds.midonet.org but that repo's
ssl cert has expired and the jobs fail.

The error message:
  https://builds.midonet.org/devstack/unstable/el7/repodata/repomd.xml: [Errno 14] curl#60 - ""Peer's Certificate has expired.""

These jobs can be readded when they are modified to pull from a
different repo or the upstream repo fixes its cert.

Change-Id: Ie83a4dcbfc57759972714889fd53f7da4c6da741
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/97/674397/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,03bc785623e264a2fed4ab31bcf2e03788722015,disable-centos-7-jobs,, - networking-midonet-tempest-aio-ml2-centos-7: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$ - networking-midonet-tempest-aio-ml2-full-centos-7: voting: false irrelevant-files: - ^(test-|)requirements.txt$ - ^.*\.rst$ - ^doc/.*$ - ^midonet/neutron/tests/unit/.*$ - ^setup.cfg$ - ^specs/.*$,0,18
openstack%2Fnetworking-midonet~483174,openstack/networking-midonet,master,Iad11690ee5602d8dc99a604cfd4698f46cf7de9a,MidoNet L3 service provider,ABANDONED,2017-07-13 03:46:22.000000000,2022-11-22 14:52:49.000000000,,"[{'_account_id': 333}, {'_account_id': 748}, {'_account_id': 6854}, {'_account_id': 8976}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 22348}, {'_account_id': 26576}]","[{'number': 1, 'created': '2017-07-13 03:46:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/bfa1595e4ad9fcc67744f5db541948628016e983', 'message': 'MidoNet L3 service provider\n\nCloses-Bug: #1643830\nDepends-On: I44a9608cffeb3d68e934961adca3f9c4015b2e0e\nChange-Id: Iad11690ee5602d8dc99a604cfd4698f46cf7de9a\n'}, {'number': 2, 'created': '2017-07-13 06:12:31.000000000', 'files': ['midonet/neutron/services/l3/service_providers/__init__.py', 'midonet/neutron/services/l3/service_providers/l3_midonet.py'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5d256e9828148d238761f03ed9db60c9eaaa0263', 'message': 'MidoNet L3 service provider\n\nCloses-Bug: #1643830\nDepends-On: I44a9608cffeb3d68e934961adca3f9c4015b2e0e\nChange-Id: Iad11690ee5602d8dc99a604cfd4698f46cf7de9a\n'}]",0,483174,5d256e9828148d238761f03ed9db60c9eaaa0263,21,8,2,6854,,,0,"MidoNet L3 service provider

Closes-Bug: #1643830
Depends-On: I44a9608cffeb3d68e934961adca3f9c4015b2e0e
Change-Id: Iad11690ee5602d8dc99a604cfd4698f46cf7de9a
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/74/483174/1 && git format-patch -1 --stdout FETCH_HEAD,"['midonet/neutron/services/l3/service_providers/__init__.py', 'midonet/neutron/services/l3/service_providers/l3_midonet.py']",2,bfa1595e4ad9fcc67744f5db541948628016e983,l3-flavor,"# Copyright (C) 2017 Midokura SARL. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from neutron_lib.callbacks import events from neutron_lib.callbacks import registry from neutron_lib.callbacks import resources from oslo_config import cfg from oslo_log import helpers as log_helpers from oslo_log import log as logging from neutron.services.l3_router.service_providers import base from midonet.neutron.client import base as c_base LOG = logging.getLogger(__name__) # service_plugins = ...,router,... # # [service_providers] # service_provider = L3_ROUTER_NAT:Midonet:midonet.\ # neutron.services.l3.service_providers.l3_midonet.\ # MidoNetL3ServiceProvider:default # openstack network flavor profile create --driver \ # midonet.neutron.services.l3.service_providers.\ # l3_midonet.MidoNetL3ServiceProvider # openstack network flavor create --service-type L3_ROUTER_NAT midonet # openstack network flavor add profile midonet ${profile} # neutron router-create --flavor midonet hoge # XXX openstack cli doesn't have l3 flavor support? # TODO(yamamoto): PRECOMMIT events for task-based api. # It isn't straightforward because the reference L3 service plugin itself # (driver_controller) uses a few PRECOMMIT events to update resource # associations and the callback framework has no notion of the order of # receivers. # TODO(yamamoto): Ignore router requests unless associated to this driver. # There seems to be no good way for AFTER handlers to query which # service provider is serving the router. For CREATE and UPDATE we can # probably do get_provider_for_router equivalent. For DELETE there's # no hope because the association has already gone in PRECOMMIT. # Even worse, those notifications are made by l3_db, where no flavor # knowledge is available. # TODO(yamamoto): Error handling and recovery # When our AFTER handlers failed, we should mark the resource # failed in neutron db at least. # REVISIT(yamamoto): Consider ML2-like precommit/postcommit driver api. # Or at least introduce a different set of callbacks events dedicated # to service providers. # TODO(yamamoto): Ignore floating-ip on non-midonet networks # TODO(yamamoto): Reject router interface on non-midonet networks # TODO(yamamoto): Reject gateway port on non-midonet networks # TODO(yamamoto): Implement fip64 extension # There needs to be a hook to actually alter the behaviour. # Also, right now there's no good way for service providers to expose # extensions. (DVR and HA are just hardcoded in the l3 plugin itself.) # TODO(yamamoto): Implement router-interface-fip extension # ditto # TODO(yamamoto): Documentation # TODO(yamamoto): Update devstack plugin @registry.has_registry_receivers class MidoNetL3ServiceProvider(base.L3ServiceProvider): @log_helpers.log_method_call def __init__(self, l3_plugin): super(MidoNetL3ServiceProvider, self).__init__(l3_plugin) self.client = c_base.load_client(cfg.CONF.MIDONET) self.client.initialize() @registry.receives(resources.ROUTER, [events.AFTER_CREATE]) @log_helpers.log_method_call def _router_after_create(self, resource, event, trigger, **kwargs): router = kwargs['router'] self.client.create_router_postcommit(router) @registry.receives(resources.ROUTER, [events.AFTER_UPDATE]) @log_helpers.log_method_call def _router_after_update(self, resource, event, trigger, **kwargs): router = kwargs['router'] self.client.update_router_postcommit(router) @registry.receives(resources.ROUTER, [events.AFTER_DELETE]) @log_helpers.log_method_call def _router_after_delete(self, resource, event, trigger, **kwargs): router_id = kwargs['router_id'] self.client.delete_router_postcommit(router_id) @registry.receives(resources.ROUTER_INTERFACE, [events.AFTER_CREATE]) @log_helpers.log_method_call def _add_router_interface(self, resource, event, trigger, **kwargs): info = kwargs['router_interface_info'] router_id = info['id'] self.client.add_router_interface_postcommit(router_id, info) @registry.receives(resources.ROUTER_INTERFACE, [events.AFTER_DELETE]) @log_helpers.log_method_call def _remove_router_interface(self, resource, event, trigger, **kwargs): info = kwargs['router_interface_info'] router_id = info['id'] self.client.remove_router_interface_postcommit(router_id, info) @registry.receives(resources.FLOATING_IP, [events.AFTER_CREATE]) @log_helpers.log_method_call def _create_floatingip(self, resource, event, trigger, **kwargs): fip = kwargs['floating_ip'] self.client.create_floatingip_postcommit(fip) @registry.receives(resources.FLOATING_IP, [events.AFTER_UPDATE]) @log_helpers.log_method_call def _update_floatingip(self, resource, event, trigger, **kwargs): # REVISIT(yamamoto): The following None check is a hack. # See the comment in l3_db. fip = kwargs.get('floating_ip', None) if fip is None: return self.client.update_floatingip_postcommit(fip) @registry.receives(resources.FLOATING_IP, [events.AFTER_DELETE]) @log_helpers.log_method_call def _delete_floatingip(self, resource, event, trigger, **kwargs): id = kwargs['id'] self.client.delete_floatingip_postcommit(id) ",,136,0
openstack%2Fnetworking-midonet~697748,openstack/networking-midonet,master,I2c8489ff1068e6471ae13272f555ce52237c0c6e,DO NOT MERGE: test a revert,ABANDONED,2019-12-07 05:16:25.000000000,2022-11-22 14:52:47.000000000,,"[{'_account_id': 6854}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-12-07 05:16:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/eef738d8728a215c99010fface8b6a73c0bae6f1', 'message': 'DO NOT MERGE: test a revert\n\nDepends-On: https://review.opendev.org/#/c/697747/\nChange-Id: I2c8489ff1068e6471ae13272f555ce52237c0c6e\n'}, {'number': 2, 'created': '2019-12-07 10:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7699e6e516914ae1ded7ffdf5587d37b78967c06', 'message': 'DO NOT MERGE: test a revert\n\nDepends-On: https://review.opendev.org/#/c/697747/\nChange-Id: I2c8489ff1068e6471ae13272f555ce52237c0c6e\n'}, {'number': 3, 'created': '2019-12-09 05:25:52.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/148ab72bf77cd4a118716a3664b9c8ebf636a036', 'message': 'DO NOT MERGE: test a revert\n\nDepends-On: https://review.opendev.org/#/c/697948/\n//Depends-On: https://review.opendev.org/#/c/697747/\nChange-Id: I2c8489ff1068e6471ae13272f555ce52237c0c6e\n'}]",0,697748,148ab72bf77cd4a118716a3664b9c8ebf636a036,9,2,3,6854,,,0,"DO NOT MERGE: test a revert

Depends-On: https://review.opendev.org/#/c/697948/
//Depends-On: https://review.opendev.org/#/c/697747/
Change-Id: I2c8489ff1068e6471ae13272f555ce52237c0c6e
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/48/697748/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,eef738d8728a215c99010fface8b6a73c0bae6f1,py, #test,,3,0
openstack%2Fnetworking-midonet~695122,openstack/networking-midonet,master,I08091b0deef82b354de15993229adf2d50805063,Stop testing Python 2,ABANDONED,2019-11-20 00:46:30.000000000,2022-11-22 14:52:44.000000000,,"[{'_account_id': 8556}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-11-20 00:46:30.000000000', 'files': ['setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5c81b9516321ff5330f673ad68f34c17549cf3bf', 'message': ""Stop testing Python 2\n\nIt's Ussuri. We can stop testing Python 2\n\nChange-Id: I08091b0deef82b354de15993229adf2d50805063\n""}]",0,695122,5c81b9516321ff5330f673ad68f34c17549cf3bf,6,3,1,24061,,,0,"Stop testing Python 2

It's Ussuri. We can stop testing Python 2

Change-Id: I08091b0deef82b354de15993229adf2d50805063
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/22/695122/1 && git format-patch -1 --stdout FETCH_HEAD,"['setup.cfg', 'tox.ini']",2,5c81b9516321ff5330f673ad68f34c17549cf3bf,,"envlist = docs,py37,pep8","envlist = docs,py27,py37,pep8",1,3
openstack%2Fnetworking-midonet~753607,openstack/networking-midonet,master,Ia65b14bd3598638767a022c6c38802e1a81d58d4,Add Python3 wallaby unit tests,ABANDONED,2020-09-23 12:42:41.000000000,2022-11-22 14:52:41.000000000,,"[{'_account_id': 3031}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2020-09-23 12:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/d72ec5a4980790c592697b085245745703830e1e', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia65b14bd3598638767a022c6c38802e1a81d58d4\n'}, {'number': 2, 'created': '2020-09-24 02:29:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/12d27d0c3f55de5bc0bc505bb7c86ecd21dc5fe3', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia65b14bd3598638767a022c6c38802e1a81d58d4\n'}, {'number': 3, 'created': '2020-09-29 07:48:22.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/7c6a9d3f8ab28c846283a7f35db7dd854295b3ee', 'message': 'Add Python3 wallaby unit tests\n\nThis is an automatically generated patch to ensure unit testing\nis in place for all the of the tested runtimes for wallaby.\n\nSee also the PTI in governance [1].\n\n[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html\n\nChange-Id: Ia65b14bd3598638767a022c6c38802e1a81d58d4\n'}]",0,753607,7c6a9d3f8ab28c846283a7f35db7dd854295b3ee,15,4,3,22816,,,0,"Add Python3 wallaby unit tests

This is an automatically generated patch to ensure unit testing
is in place for all the of the tested runtimes for wallaby.

See also the PTI in governance [1].

[1]: https://governance.openstack.org/tc/reference/project-testing-interface.html

Change-Id: Ia65b14bd3598638767a022c6c38802e1a81d58d4
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/07/753607/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,d72ec5a4980790c592697b085245745703830e1e,add-wallaby-python-jobtemplates, - openstack-python3-wallaby-jobs-neutron, - openstack-python3-victoria-jobs-neutron,1,1
openstack%2Fos-vif~863995,openstack/os-vif,stable/xena,I1acd74efc100c6f949b5c72525c455aebfa2c50e,Move mtu update request into ovsdb transaction,MERGED,2022-11-08 11:34:20.000000000,2022-11-22 14:41:37.000000000,2022-11-22 14:40:41.000000000,"[{'_account_id': 7730}, {'_account_id': 11604}, {'_account_id': 12171}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-08 11:34:20.000000000', 'files': ['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py'], 'web_link': 'https://opendev.org/openstack/os-vif/commit/8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78', 'message': 'Move mtu update request into ovsdb transaction\n\nos-vif currently set the requested mtu as part of separate request\nto the port add command. As a result the port is initially created\nwith mbufer pool for the jumboframe size, which results in an\nerror in openvswitch-vswitch logs.\n\nThis change moves the mtu update request into ovsdb transaction.\n\nCloses-Bug: #1959586\nChange-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e\n(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)\n(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)\n(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)\n'}]",2,863995,8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78,10,5,1,20733,,,0,"Move mtu update request into ovsdb transaction

os-vif currently set the requested mtu as part of separate request
to the port add command. As a result the port is initially created
with mbufer pool for the jumboframe size, which results in an
error in openvswitch-vswitch logs.

This change moves the mtu update request into ovsdb transaction.

Closes-Bug: #1959586
Change-Id: I1acd74efc100c6f949b5c72525c455aebfa2c50e
(cherry picked from commit 2f55e9ea06f975240e3ff5aff21195ec6af76193)
(cherry picked from commit 51b7f486318d1b2d61f2079b615cc406dca10188)
(cherry picked from commit cf9c15d034b534e50b456a8a2f6b6a4d5b89a24b)
",git fetch https://review.opendev.org/openstack/os-vif refs/changes/95/863995/1 && git format-patch -1 --stdout FETCH_HEAD,"['vif_plug_ovs/tests/functional/ovsdb/test_ovsdb_lib.py', 'vif_plug_ovs/ovsdb/ovsdb_lib.py', 'vif_plug_ovs/tests/unit/ovsdb/test_ovsdb_lib.py']",3,8d14a1c6a9eeaef0fdae9ea1210d3310a3498d78,lp_1959586," self.br._set_mtu_request(self.mock_transaction, 'device', 1500) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, 'not_vhost' ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, 'not_vhost' ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE ) mock_set_mtu_request.assert_has_calls( [ mock.call( self.mock_transaction, 'device', 1500 ) ] ) self.br.update_device_mtu( self.mock_transaction, 'device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls( [ mock.call( txn, device, mtu, interface_type=interface_type ) ] ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls( [ mock.call( txn, device, mtu, interface_type=interface_type ) ] ) with self.br._ovsdb.transaction() as txn: mock_update_device_mtu.assert_has_calls([mock.call( txn, 'device', 1500,"," self.br._set_mtu_request('device', 1500) self.br.update_device_mtu('device', 1500, 'not_vhost') self.br.update_device_mtu('device', 1500, 'not_vhost') self.br.update_device_mtu('device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE) mock_set_mtu_request.assert_has_calls([mock.call('device', 1500)]) self.br.update_device_mtu('device', 1500, constants.OVS_VHOSTUSER_INTERFACE_TYPE) mock_update_device_mtu.assert_has_calls( [mock.call(device, mtu, interface_type=interface_type)]) mock_update_device_mtu.assert_has_calls( [mock.call(device, mtu, interface_type=interface_type)]) mock_update_device_mtu.assert_has_calls( [mock.call( 'device', 1500,",60,23
openstack%2Fos-win~865279,openstack/os-win,master,I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843,Added function for enabling AllowFullSCSICommandSet,MERGED,2022-11-22 13:46:23.000000000,2022-11-22 14:32:55.000000000,2022-11-22 14:32:55.000000000,"[{'_account_id': 8543}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 13:46:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/27905ab66d174f8e31ae62b11b542283d960df76', 'message': 'Added function for enabling AllowFullSCSICommandSet\n\nBy default, Hyper-V filters some of the SCSI commands received from\nthe VMs. This change allows disabling the filter.\n\nSigned-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>\nChange-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843\n'}, {'number': 2, 'created': '2022-11-22 13:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/b915647c3cff2f524c902ff2533c729c0785f57b', 'message': 'Added function for enabling AllowFullSCSICommandSet\n\nBy default, Hyper-V filters some of the SCSI commands received from\nthe VMs. This change allows disabling the filter.\n\nSigned-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>\nChange-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843\n'}, {'number': 3, 'created': '2022-11-22 13:59:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/36d5b5c65de1a9c0be2d893434733bb6a6d9e259', 'message': 'Added function for enabling AllowFullSCSICommandSet\n\nBy default, Hyper-V filters some of the SCSI commands received from\nthe VMs. This change allows disabling the filter.\n\nSigned-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>\nChange-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843\n'}, {'number': 4, 'created': '2022-11-22 14:09:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-win/commit/1825b6f2ab8a186aaeec5bd1f41566638021a555', 'message': 'Added function for enabling AllowFullSCSICommandSet\n\nBy default, Hyper-V filters some of the SCSI commands received from\nthe VMs. This change allows disabling the filter.\n\nSigned-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>\nChange-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843\n'}, {'number': 5, 'created': '2022-11-22 14:11:08.000000000', 'files': ['os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py'], 'web_link': 'https://opendev.org/openstack/os-win/commit/248d4f1e57879980e826a8bb740df11c3c80012d', 'message': 'Added function for enabling AllowFullSCSICommandSet\n\nBy default, Hyper-V filters some of the SCSI commands received from\nthe VMs. This change allows disabling the filter.\n\nSigned-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>\nChange-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843\n'}]",7,865279,248d4f1e57879980e826a8bb740df11c3c80012d,12,2,5,35564,,,0,"Added function for enabling AllowFullSCSICommandSet

By default, Hyper-V filters some of the SCSI commands received from
the VMs. This change allows disabling the filter.

Signed-off-by: Stefan Chivu <schivu@cloudbasesolutions.com>
Change-Id: I1b0fc8e7e75a6c5395aedd5b8e94b3bd000e1843
",git fetch https://review.opendev.org/openstack/os-win refs/changes/79/865279/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_win/tests/unit/utils/compute/test_vmutils.py', 'os_win/utils/compute/vmutils.py']",2,27905ab66d174f8e31ae62b11b542283d960df76,allow-full-scsi," def enable_vm_full_scsi_command_set(self, vm_name): """"""Enables the full SCSI command set for the instance with the given name. :param vm_name: The name of the VM for which AllowFullSCSICommandSet will be enabled. """""" vs_data = self._lookup_vm_check(vm_name) vs_data.AllowFullSCSICommandSet = True self._modify_virtual_system(vs_data) ",,18,0
openstack%2Fcharm-placement-k8s~865254,openstack/charm-placement-k8s,main,I2c80aa100826b675f307fcab227c5efdfcb894b1,Upgrade charm to OpenStack Yoga,MERGED,2022-11-22 09:41:40.000000000,2022-11-22 14:07:43.000000000,2022-11-22 13:10:58.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 09:41:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/ea31d78701e9243603420a1507e288b4475ae614', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nMake default test/bundle name release agnostic.\n\nChange-Id: I2c80aa100826b675f307fcab227c5efdfcb894b1\n'}, {'number': 2, 'created': '2022-11-22 09:49:47.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-placement-k8s/commit/70bea4f42741e342ecdbbdc755ad3faca19ce176', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nMake default test/bundle name release agnostic.\n\nChange-Id: I2c80aa100826b675f307fcab227c5efdfcb894b1\n'}]",0,865254,70bea4f42741e342ecdbbdc755ad3faca19ce176,8,2,2,935,,,0,"Upgrade charm to OpenStack Yoga

Update OCI image.

Refresh bundles.

Update OSCI publisher.

Make default test/bundle name release agnostic.

Change-Id: I2c80aa100826b675f307fcab227c5efdfcb894b1
",git fetch https://review.opendev.org/openstack/charm-placement-k8s refs/changes/54/865254/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml']",3,ea31d78701e9243603420a1507e288b4475ae614,upgrade-to-yoga, # docker.io/kolla/ubuntu-binary-placement-api:yoga upstream-source: docker.io/kolla/ubuntu-binary-placement-api@sha256:16db27df961be951bd176fe84cbc0c4df8453ed5426fae5f37f95ae41cc98758, # docker.io/kolla/ubuntu-binary-placement-api:xena upstream-source: docker.io/kolla/ubuntu-binary-placement-api@sha256:8498a09abe5490e5eaa23714ca3b253e662f3b5cc1a3f13300aa1e4865d6db16,12,12
openstack%2Fcharm-keystone-k8s~865251,openstack/charm-keystone-k8s,main,Ia17a383741d22a3f74a3448686fe99f041550ebb,Upgrade charm to OpenStack Yoga,MERGED,2022-11-22 09:32:56.000000000,2022-11-22 14:00:27.000000000,2022-11-22 13:09:59.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-22 09:32:56.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-keystone-k8s/commit/50464fc6dd4ea06aabbbce42536a84d71398162d', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nMake default test/bundle name release agnostic.\n\nChange-Id: Ia17a383741d22a3f74a3448686fe99f041550ebb\n'}]",0,865251,50464fc6dd4ea06aabbbce42536a84d71398162d,7,2,1,935,,,0,"Upgrade charm to OpenStack Yoga

Update OCI image.

Refresh bundles.

Update OSCI publisher.

Make default test/bundle name release agnostic.

Change-Id: Ia17a383741d22a3f74a3448686fe99f041550ebb
",git fetch https://review.opendev.org/openstack/charm-keystone-k8s refs/changes/51/865251/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml']",4,50464fc6dd4ea06aabbbce42536a84d71398162d,upgrade-to-yoga, # docker.io/kolla/ubuntu-binary-keystone:yoga upstream-source: docker.io/kolla/ubuntu-binary-keystone@sha256:05bc029e63ec06da8f5351f08196c549ecce371fc2236ea53dabb994f2e246b7, # docker.io/kolla/ubuntu-binary-keystone:xena upstream-source: docker.io/kolla/ubuntu-binary-keystone@sha256:aa5b22f10a26e1bf0a083f5a7bfb249573757f1d0c45bb632252c70f6f0292cb,12,12
openstack%2Fopenstacksdk~861490,openstack/openstacksdk,master,I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8,image: Add metadef resource type operations,MERGED,2022-10-15 11:39:52.000000000,2022-11-22 13:32:41.000000000,2022-11-21 18:58:24.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-15 11:39:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/02d417e011f042567a4353fe957682e407126f19', 'message': 'image: Add metadef resource type operations\n\n- Add resource for Metadata definition resource types Glance v2\n  API(https://docs.openstack.org/api-ref/image/v2/metadefs-index.html#metadata-definition-resource-types)\n\nChange-Id: I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8\n'}, {'number': 2, 'created': '2022-10-24 10:58:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3399b66a5381742fce92d1062a8c8213713000c0', 'message': 'image: Add metadef resource type operations\n\n- Add resource for Metadata definition resource types Glance v2\n  API(https://docs.openstack.org/api-ref/image/v2/metadefs-index.html#metadata-definition-resource-types)\n- Change method names and adjust spacing\n\nChange-Id: I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8\n'}, {'number': 3, 'created': '2022-10-24 12:55:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/4a45385d7aacbd6d751ef6505c170e6394e83a0c', 'message': 'image: Add metadef resource type operations\n\n- Add resource for Metadata definition resource types Glance v2\n  API(https://docs.openstack.org/api-ref/image/v2/metadefs-index.html#metadata-definition-resource-types)\n- Change method names and adjust spacing\n\nChange-Id: I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8\n'}, {'number': 4, 'created': '2022-11-04 13:55:10.000000000', 'files': ['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/functional/image/v2/test_metadef_resource_type.py', 'openstack/tests/unit/image/v2/test_metadef_resource_type_association.py', 'doc/source/user/resources/image/index.rst', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_metadef_resource_type.py', 'openstack/image/v2/metadef_resource_type.py', 'doc/source/user/resources/image/v2/metadef_resource_type.rst', 'doc/source/user/proxies/image_v2.rst'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/c52f2decd3b2b2f7b3cde811d9fbf6d1cd7a352c', 'message': 'image: Add metadef resource type operations\n\n- Add resource for Metadata definition resource types Glance v2\n  API(https://docs.openstack.org/api-ref/image/v2/metadefs-index.html#metadata-definition-resource-types)\n- Change method names and adjust spacing\n- Resolve merge conflict\n\nChange-Id: I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8\n'}]",15,861490,c52f2decd3b2b2f7b3cde811d9fbf6d1cd7a352c,18,2,4,34427,,,0,"image: Add metadef resource type operations

- Add resource for Metadata definition resource types Glance v2
  API(https://docs.openstack.org/api-ref/image/v2/metadefs-index.html#metadata-definition-resource-types)
- Change method names and adjust spacing
- Resolve merge conflict

Change-Id: I8ac7d15e69cb5cb017fe93e38736b8dbee9ae2f8
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/90/861490/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/tests/unit/image/v2/test_proxy.py', 'openstack/tests/functional/image/v2/test_metadef_resource_type.py', 'openstack/tests/unit/image/v2/test_metadef_resource_type_association.py', 'doc/source/user/resources/image/index.rst', 'openstack/image/v2/_proxy.py', 'openstack/tests/unit/image/v2/test_metadef_resource_type.py', 'openstack/image/v2/metadef_resource_type.py', 'doc/source/user/resources/image/v2/metadef_resource_type.rst', 'doc/source/user/proxies/image_v2.rst']",9,02d417e011f042567a4353fe957682e407126f19,metadef," Metadef Resource Type Operations ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^ .. autoclass:: openstack.image.v2._proxy.Proxy :noindex: :members: metadef_resource_types, metadef_resource_type_associations, metadef_resource_type_associate, metadef_resource_type_deassociate ",,374,0
openstack%2Fcharm-nova-compute~864697,openstack/charm-nova-compute,stable/yoga,Ic100528f9f38bbc0c83e4f563166113024e3db59,Update nova.conf for OpenStack Yoga,MERGED,2022-11-17 14:00:14.000000000,2022-11-22 13:12:25.000000000,2022-11-22 13:12:25.000000000,"[{'_account_id': 2424}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 14:00:14.000000000', 'files': ['templates/yoga/nova.conf'], 'web_link': 'https://opendev.org/openstack/charm-nova-compute/commit/9092d68ae66335c0bf2db75dffdb2731d9165fcd', 'message': 'Update nova.conf for OpenStack Yoga\n\nThis merge request focuses on fixing the VNC config for OpenStack Yoga\non the Focal and Jammy series. Originally, the Yoga version of this\ncharm was using a template nova.conf file from Train which did not use\nthe new [vnc] required for Yoga. Train had the VNC config in the\n[DEFAULT] section, which is depreciated in Yoga.\n\nItemized changes to charm below:\n\n * Create templates/yoga\n * Move VNC config to [vnc] section in nova.conf\n * Rename VNC config keys to follow the Yoga specification.\n\nCloses-Bug: #1974082\nCloses-Bug: #1734683\n\nChange-Id: Ic100528f9f38bbc0c83e4f563166113024e3db59\n(cherry picked from commit 73edc4f817d0a8c281284a0df850d93ea5427014)\n'}]",3,864697,9092d68ae66335c0bf2db75dffdb2731d9165fcd,10,4,1,11805,,,0,"Update nova.conf for OpenStack Yoga

This merge request focuses on fixing the VNC config for OpenStack Yoga
on the Focal and Jammy series. Originally, the Yoga version of this
charm was using a template nova.conf file from Train which did not use
the new [vnc] required for Yoga. Train had the VNC config in the
[DEFAULT] section, which is depreciated in Yoga.

Itemized changes to charm below:

 * Create templates/yoga
 * Move VNC config to [vnc] section in nova.conf
 * Rename VNC config keys to follow the Yoga specification.

Closes-Bug: #1974082
Closes-Bug: #1734683

Change-Id: Ic100528f9f38bbc0c83e4f563166113024e3db59
(cherry picked from commit 73edc4f817d0a8c281284a0df850d93ea5427014)
",git fetch https://review.opendev.org/openstack/charm-nova-compute refs/changes/97/864697/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/yoga/nova.conf'],1,9092d68ae66335c0bf2db75dffdb2731d9165fcd,fix-vnc-yoga-stable/yoga,"# yoga ############################################################################### # [ WARNING ] # Configuration file maintained by Juju. Local changes may be overwritten. {% if restart_trigger -%} # restart trigger: {{ restart_trigger }} {% endif -%} ############################################################################### [DEFAULT] verbose={{ verbose }} debug={{ debug }} dhcpbridge_flagfile=/etc/nova/nova.conf dhcpbridge=/usr/bin/nova-dhcpbridge logdir=/var/log/nova state_path=/var/lib/nova force_dhcp_release=True use_syslog = {{ use_syslog }} ec2_private_dns_show_ip=True enabled_apis=osapi_compute,metadata my_ip = {{ host_ip }} force_raw_images = {{ force_raw_images }} {% if block_device_allocate_retries -%} block_device_allocate_retries = {{ block_device_allocate_retries }} {% endif -%} {% if block_device_allocate_retries_interval -%} block_device_allocate_retries_interval = {{ block_device_allocate_retries_interval }} {% endif -%} {% if use_fqdn_hint and host_fqdn -%} host = {{ host_fqdn }} {% endif -%} {% if debug -%} default_log_levels = ""amqp=WARN, amqplib=WARN, boto=WARN, qpid=WARN, sqlalchemy=WARN, suds=INFO, oslo.messaging=INFO, oslo_messaging=DEBUG, iso8601=WARN, requests.packages.urllib3.connectionpool=WARN, urllib3.connectionpool=WARN, websocket=WARN, requests.packages.urllib3.util.retry=WARN, urllib3.util.retry=WARN, keystonemiddleware=WARN, routes.middleware=WARN, stevedore=WARN, taskflow=WARN, keystoneauth=WARN, oslo.cache=INFO, dogpile.core.dogpile=INFO, glanceclient=WARN, oslo.privsep.daemon=INFO"" {% endif -%} {% if transport_url %} transport_url = {{ transport_url }} {% endif %} {% if dns_domain -%} # Per LP#1805645, dhcp_domain needs to be configured for nova-metadata-api # It gets this information from neutron. dhcp_domain = {{ dns_domain }} {% endif -%} {% if arch == 'aarch64' -%} libvirt_use_virtio_for_bridges=False libvirt_disk_prefix=vd {% endif -%} {% if neutron_plugin and neutron_plugin in ('ovs', 'midonet') -%} libvirt_vif_driver = nova.virt.libvirt.vif.LibvirtGenericVIFDriver {% if neutron_security_groups -%} security_group_api = neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% endif -%} {% if neutron_plugin and neutron_plugin == 'vsp' -%} network_api_class=nova.network.neutronv2.api.API libvirt_vif_driver=nova.virt.libvirt.vif.LibvirtGenericVIFDriver neutron_ovs_bridge=alubr0 security_group_api=neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if neutron_plugin and (neutron_plugin == 'nvp' or neutron_plugin == 'nsx') -%} libvirt_vif_driver = nova.virt.libvirt.vif.LibvirtOpenVswitchVirtualPortDriver security_group_api = neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if neutron_plugin and neutron_plugin == 'Calico' -%} security_group_api = neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if neutron_plugin and neutron_plugin == 'plumgrid' -%} security_group_api=neutron firewall_driver = nova.virt.firewall.NoopFirewallDriver {% endif -%} {% if network_manager != 'neutron' and network_manager_config -%} {% for key, value in network_manager_config.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if network_manager == 'neutron' -%} network_api_class = nova.network.neutronv2.api.API use_neutron = True {% else -%} network_manager = nova.network.manager.FlatDHCPManager {% endif -%} {% if network_device_mtu -%} network_device_mtu = {{ network_device_mtu }} {% endif -%} {% if volume_service -%} volume_api_class = nova.volume.cinder.API {% endif -%} {% if user_config_flags -%} {% for key, value in user_config_flags.items() -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if instances_path -%} instances_path = {{ instances_path }} {% endif -%} {% if sections and 'DEFAULT' in sections -%} {% for key, value in sections['DEFAULT'] -%} {{ key }} = {{ value }} {% endfor -%} {% endif -%} {% if vcpu_pin_set -%} vcpu_pin_set = {{ vcpu_pin_set }} {% endif -%} reserved_host_memory_mb = {{ reserved_host_memory }} reserved_host_disk_mb = {{ reserved_host_disk }} {% if reserved_huge_pages -%} {% for value in reserved_huge_pages -%} reserved_huge_pages = {{ value }} {% endfor -%} {% endif -%} {% include ""section-zeromq"" %} {% if default_availability_zone -%} default_availability_zone = {{ default_availability_zone }} {% endif -%} {% if resume_guests_state_on_host_boot -%} resume_guests_state_on_host_boot = {{ resume_guests_state_on_host_boot }} {% endif -%} metadata_workers = {{ workers }} {% if initial_cpu_allocation_ratio -%} initial_cpu_allocation_ratio = {{ initial_cpu_allocation_ratio }} {% endif -%} {% if initial_ram_allocation_ratio -%} initial_ram_allocation_ratio = {{ initial_ram_allocation_ratio }} {% endif -%} {% if initial_disk_allocation_ratio -%} initial_disk_allocation_ratio = {{ initial_disk_allocation_ratio }} {% endif -%} {% if cpu_allocation_ratio -%} cpu_allocation_ratio = {{ cpu_allocation_ratio }} {% endif -%} {% if ram_allocation_ratio -%} ram_allocation_ratio = {{ ram_allocation_ratio }} {% endif -%} {% if disk_allocation_ratio -%} disk_allocation_ratio = {{ disk_allocation_ratio }} {% endif -%} {% if allow_resize_to_same_host -%} allow_resize_to_same_host = {{ allow_resize_to_same_host }} {% endif -%} [pci] {% if pci_passthrough_whitelist -%} passthrough_whitelist = {{ pci_passthrough_whitelist }} {% endif -%} {% if pci_alias %} alias = {{ pci_alias }} {% endif %} {% for alias in pci_aliases -%} alias = {{ alias }} {% endfor -%} {% if network_manager == 'neutron' and network_manager_config -%} [neutron] url = {{ network_manager_config.neutron_url }} {% if region -%} region_name = {{ region }} {% endif -%} {% if network_manager_config.keystone_host or auth_host -%} {% if neutron_plugin and neutron_plugin == 'vsp' -%} ovs_bridge = alubr0 {% endif -%} {% if auth_host -%} auth_url = {{ auth_protocol }}://{{ auth_host }}:{{ auth_port }} auth_type = password {% if admin_domain_name -%} project_domain_name = {{ admin_domain_name }} user_domain_name = {{ admin_domain_name }} {% else -%} project_domain_name = default user_domain_name = default {% endif -%} project_name = {{ admin_tenant_name }} username = {{ admin_user }} password = {{ admin_password }} signing_dir = {{ signing_dir }} {% endif -%} {% if metadata_shared_secret -%} metadata_proxy_shared_secret = {{ metadata_shared_secret }} service_metadata_proxy=True {% endif -%} {% endif -%} {% if network_manager_config.neutron_physnets -%} physnets = {{ network_manager_config.neutron_physnets.keys()|join(',') }} {% for key, value in network_manager_config.neutron_physnets.items() -%} [neutron_physnets_{{ key }}] numa_nodes = {{ value }} {% endfor -%} {% endif -%} {% if network_manager_config.neutron_tunnel -%} [neutron_tunnel] numa_nodes = {{ network_manager_config.neutron_tunnel }} {% endif -%} {% endif -%} {% include ""section-keystone-authtoken-mitaka"" %} {% if glance_api_servers -%} [glance] api_servers = {{ glance_api_servers }} {% endif -%} [api] auth_strategy=keystone {% if vendor_data or vendor_data_url -%} vendordata_providers = {{ vendordata_providers }} {% if vendor_data -%} vendordata_jsonfile_path = /etc/nova/vendor_data.json {% endif -%} {% if vendor_data_url -%} vendordata_dynamic_targets = {{ vendor_data_url }} {% endif -%} {% endif -%} {% if console_access_protocol == 'spice' -%} [spice] agent_enabled = {{ spice_agent_enabled }} enabled = True html5proxy_base_url = {{ spice_proxy_address }} keymap = {{ console_keymap }} server_listen = {{ console_listen_addr }} server_proxyclient_address = {{ console_listen_addr }} {% endif -%} [libvirt] inject_key = false inject_password = {{ inject_password }} inject_partition = {{ inject_partition }} {% if cpu_mode -%} cpu_mode = {{ cpu_mode }} {% endif -%} {% if cpu_model -%} cpu_model = {{ cpu_model }} {% endif -%} {% if cpu_model_extra_flags %} cpu_model_extra_flags = {{ cpu_model_extra_flags }} {% endif %} {% if libvirt_images_type -%} images_type = {{ libvirt_images_type }} {% endif -%} {% if libvirt_images_type and rbd_pool -%} images_rbd_pool = {{ rbd_pool }} images_rbd_ceph_conf = {{ libvirt_rbd_images_ceph_conf }} {% endif -%} rbd_user = {{ rbd_user }} rbd_secret_uuid = {{ rbd_secret_uuid }} {% if live_migration_scheme -%} live_migration_scheme = {{ live_migration_scheme }} {% endif -%} {% if live_migration_inbound_addr -%} live_migration_inbound_addr = {{ live_migration_inbound_addr }} {% endif -%} {% if live_migration_completion_timeout -%} live_migration_completion_timeout = {{ live_migration_completion_timeout }} {% endif -%} {% if live_migration_downtime -%} live_migration_downtime = {{ live_migration_downtime }} {% endif -%} {% if live_migration_downtime_steps -%} live_migration_downtime_steps = {{ live_migration_downtime_steps }} {% endif -%} {% if live_migration_downtime_delay -%} live_migration_downtime_delay = {{ live_migration_downtime_delay }} {% endif -%} {% if live_migration_permit_post_copy -%} live_migration_permit_post_copy = {{ live_migration_permit_post_copy }} live_migration_timeout_action = force_complete {% endif -%} {% if live_migration_permit_auto_converge -%} live_migration_permit_auto_converge = {{ live_migration_permit_auto_converge }} {% endif -%} {% if disk_cachemodes -%} disk_cachemodes = {{ disk_cachemodes }} {% endif %} # Disable tunnelled migration so that selective # live block migration can be supported. live_migration_tunnelled = False {% if use_multipath -%} volume_use_multipath = {{ use_multipath }} {% endif %} {% if default_ephemeral_format -%} default_ephemeral_format = {{ default_ephemeral_format }} {% endif %} hw_disk_discard = unmap {% if virtio_net_tx_queue_size -%} tx_queue_size = {{ virtio_net_tx_queue_size }} {% endif %} {% if virtio_net_rx_queue_size -%} rx_queue_size = {{ virtio_net_rx_queue_size }} {% endif %} {% if num_pcie_ports -%} num_pcie_ports = {{ num_pcie_ports }} {% endif %} {% if virt_type == 'lxd' -%} [lxd] {% if enable_live_migration -%} allow_live_migration = True {% endif -%} {% if storage_pool -%} pool = {{ storage_pool }} {% endif -%} {% endif -%} {% include ""parts/section-database"" %} {% include ""section-oslo-messaging-rabbit"" %} {% include ""section-oslo-notifications"" %} {% include ""parts/section-cinder"" %} [oslo_concurrency] lock_path=/var/lock/nova [workarounds] disable_libvirt_livesnapshot = False {% include ""parts/section-ephemeral"" %} {% include ""parts/section-serial-console"" %} {% include ""parts/section-placement"" %} {% include ""parts/section-ironic"" %} [compute] {% if cpu_shared_set -%} cpu_shared_set = {{ cpu_shared_set }} {% endif -%} {% if cpu_dedicated_set -%} cpu_dedicated_set = {{ cpu_dedicated_set }} {% endif -%} [vnc] {% if console_vnc_type -%} vnc_enabled = True novnc_enabled = True vnc_keymap = {{ console_keymap }} server_listen = {{ console_listen_addr }} server_proxyclient_address = {{ console_listen_addr }} {% if console_access_protocol == 'novnc' or console_access_protocol == 'vnc' -%} novncproxy_base_url = {{ novnc_proxy_address }} {% endif -%} {% if console_access_protocol == 'xvpvnc' or console_access_protocol == 'vnc' -%} xvpvncproxy_port = {{ xvpvnc_proxy_port }} xvpvncproxy_host = {{ xvpvnc_proxy_host }} xvpvncproxy_base_url = {{ xvpvnc_proxy_address }} {% endif -%} {% else -%} vnc_enabled = False novnc_enabled = False {% endif -%} [wsgi] api_paste_config=/etc/nova/api-paste.ini ",,387,0
openstack%2Fnetworking-ovn~865013,openstack/networking-ovn,stable/train,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:26:11.000000000,2022-11-22 12:34:23.000000000,2022-11-22 12:33:17.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a645705356b76c0d7b9c6b44e851b52b5912e776', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\n(cherry picked from Neutron commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2022-11-18 11:56:04.000000000', 'files': ['doc/source/contributor/design/dhcp_opts.rst', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/common/test_utils.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c877bc4238c0719e6b054380a6915d6482926c71', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\n(cherry picked from Neutron commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",1,865013,c877bc4238c0719e6b054380a6915d6482926c71,9,3,2,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

(cherry picked from Neutron commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/13/865013/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/design/dhcp_opts.rst', 'networking_ovn/common/constants.py', 'networking_ovn/tests/unit/common/test_utils.py']",3,a645705356b76c0d7b9c6b44e851b52b5912e776,," def test_get_lsp_dhcp_opts_for_domain_search(self): opt = {'opt_name': 'domain-search', 'opt_value': 'openstack.org,ovn.org', 'ip_version': 4} port = {portbindings.VNIC_TYPE: portbindings.VNIC_NORMAL, edo_ext.EXTRADHCPOPTS: [opt]} dhcp_disabled, options = utils.get_lsp_dhcp_opts(port, 4) self.assertFalse(dhcp_disabled) # Assert option got translated to ""domain_search_list"" and # the value is a string (double-quoted) expected_options = {'domain_search_list': '""openstack.org,ovn.org""'} self.assertEqual(expected_options, options) ",,18,0
openstack%2Fovn-octavia-provider~865003,openstack/ovn-octavia-provider,master,Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6,Add support for HM on a fullypopulated load balancers,MERGED,2022-11-18 09:50:45.000000000,2022-11-22 12:34:07.000000000,2022-11-22 12:33:05.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-18 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/25fed7e7a4408d098e6d7673aed3a9462805835f', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n'}, {'number': 2, 'created': '2022-11-18 13:46:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/b01d83137079fc933df8e2ab7d3c291ecbe029ed', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n'}, {'number': 3, 'created': '2022-11-18 15:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/be75eeb35e44a01e2779fd6a63303d1bff69e126', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n'}, {'number': 4, 'created': '2022-11-18 16:07:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/6c368adce52f31c74f7b6a206a1622b04b43357c', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n'}, {'number': 5, 'created': '2022-11-22 09:10:05.000000000', 'files': ['ovn_octavia_provider/tests/unit/test_driver.py', 'ovn_octavia_provider/driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/e32049135a35f45720a3a221f3f90248bdd0ac52', 'message': 'Add support for HM on a fullypopulated load balancers\n\nOctavia API allows to create fully populated load balancers with\na single call, and the pools included in that call could include\nHM. OVN-octavia-provider was not implementing this option and only\nthe loadbalancer/listener(s)/pool(s)/member(s) were created,\nkeeping the HM at the Octavia API as PENDING_CREATE.\n\nThis also generated leftovers when trying to delete the loadbalancer\nwith the --cascade option.\n\nCloses-Bug: #1997094\n\nChange-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6\n'}]",6,865003,e32049135a35f45720a3a221f3f90248bdd0ac52,27,3,5,34451,,,0,"Add support for HM on a fullypopulated load balancers

Octavia API allows to create fully populated load balancers with
a single call, and the pools included in that call could include
HM. OVN-octavia-provider was not implementing this option and only
the loadbalancer/listener(s)/pool(s)/member(s) were created,
keeping the HM at the Octavia API as PENDING_CREATE.

This also generated leftovers when trying to delete the loadbalancer
with the --cascade option.

Closes-Bug: #1997094

Change-Id: Ic24a0c1622c0aac2a40542cadf91a1bc47de1de6
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/03/865003/1 && git format-patch -1 --stdout FETCH_HEAD,['ovn_octavia_provider/driver.py'],1,25fed7e7a4408d098e6d7673aed3a9462805835f,," if not isinstance(pool.healthmonitor, o_datamodels.UnsetType): self.health_monitor_create(pool.healthmonitor)",,3,0
openstack%2Fneutron~864921,openstack/neutron,master,I4487de4e121362a02f839546721f007781f84057,Doc: Capitalize keystone domain names,MERGED,2022-11-17 16:44:34.000000000,2022-11-22 12:16:29.000000000,2022-11-22 12:15:14.000000000,"[{'_account_id': 8313}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 16:44:34.000000000', 'files': ['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/a2090e4cbc4ad8e86c0346a2a6be1a3778a1a06f', 'message': ""Doc: Capitalize keystone domain names\n\nThere is an inconsistency for keystone domain names\nin the docs, 'default' and 'Default'. Should always\nuse the latter, 'Default'.\n\nChange-Id: I4487de4e121362a02f839546721f007781f84057\nCloses-bug: #1996889\n""}]",0,864921,a2090e4cbc4ad8e86c0346a2a6be1a3778a1a06f,8,3,1,1131,,,0,"Doc: Capitalize keystone domain names

There is an inconsistency for keystone domain names
in the docs, 'default' and 'Default'. Should always
use the latter, 'Default'.

Change-Id: I4487de4e121362a02f839546721f007781f84057
Closes-bug: #1996889
",git fetch https://review.opendev.org/openstack/neutron refs/changes/21/864921/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/controller-install-option1-ubuntu.rst', 'doc/source/install/controller-install-option1-obs.rst', 'doc/source/install/controller-install-ubuntu.rst', 'doc/source/install/controller-install-option2-obs.rst', 'doc/source/install/controller-install-option2-rdo.rst', 'doc/source/install/controller-install-option2-ubuntu.rst', 'doc/source/install/controller-install-option1-rdo.rst', 'doc/source/install/controller-install-obs.rst', 'doc/source/install/compute-install-ubuntu.rst', 'doc/source/install/controller-install-rdo.rst', 'doc/source/install/compute-install-obs.rst', 'doc/source/install/compute-install-rdo.rst']",12,a2090e4cbc4ad8e86c0346a2a6be1a3778a1a06f,bug/1996889, project_domain_name = Default user_domain_name = Default project_domain_name = Default user_domain_name = Default, project_domain_name = default user_domain_name = default project_domain_name = default user_domain_name = default,42,42
openstack%2Fneutron~865006,openstack/neutron,stable/zed,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:20:06.000000000,2022-11-22 12:16:28.000000000,2022-11-22 12:15:10.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:20:06.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/c6778f80f413680caf178529478d476fe4a801f0', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",1,865006,c6778f80f413680caf178529478d476fe4a801f0,9,3,1,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/06/865006/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,c6778f80f413680caf178529478d476fe4a801f0,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Fneutron~865007,openstack/neutron,stable/yoga,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:20:20.000000000,2022-11-22 12:02:27.000000000,2022-11-22 12:01:11.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:20:20.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/32fde52371a7f9fbaa3d833efa687091aa10927f', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",1,865007,32fde52371a7f9fbaa3d833efa687091aa10927f,12,3,1,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/07/865007/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,32fde52371a7f9fbaa3d833efa687091aa10927f,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Fneutron~865008,openstack/neutron,stable/xena,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:20:44.000000000,2022-11-22 12:01:22.000000000,2022-11-22 11:59:59.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/56b4111a4738f1c03f877234c12c45d0ed2cdf2c', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}, {'number': 2, 'created': '2022-11-18 11:54:09.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9cdd3cc8bb369f41ad561eb7e3db4d6ea3b74eb1', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",3,865008,9cdd3cc8bb369f41ad561eb7e3db4d6ea3b74eb1,12,3,2,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/08/865008/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,56b4111a4738f1c03f877234c12c45d0ed2cdf2c,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Fneutron~865009,openstack/neutron,stable/wallaby,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:20:54.000000000,2022-11-22 12:01:03.000000000,2022-11-22 11:59:55.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 32586}]","[{'number': 1, 'created': '2022-11-18 10:20:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/08c4e74c7e0d43698ff11242c6f332c49cb7e4aa', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}, {'number': 2, 'created': '2022-11-18 11:54:37.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/7dddb6758a2805054aa70cdc73b439bfb4a4f7ce', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",5,865009,7dddb6758a2805054aa70cdc73b439bfb4a4f7ce,16,4,2,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/09/865009/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,08c4e74c7e0d43698ff11242c6f332c49cb7e4aa,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Fneutron~865010,openstack/neutron,stable/victoria,Ib1d41a6e4c869e108f31c1eb604f22c794d66467,"OVN: Add support for DHCP option ""domain-search"" for IPv4",MERGED,2022-11-18 10:21:09.000000000,2022-11-22 11:59:12.000000000,2022-11-22 11:58:01.000000000,"[{'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 10:21:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/ef12e9f0f33846584bb586b70733c1da8462b4a4', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}, {'number': 2, 'created': '2022-11-18 11:55:00.000000000', 'files': ['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/1e6ff935d8130d7d1336c58713ce2258602cdd1e', 'message': 'OVN: Add support for DHCP option ""domain-search"" for IPv4\n\nNothing much else, what the title says...\n\nChange-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467\nCloses-Bug: #1996759\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)\n'}]",2,865010,1e6ff935d8130d7d1336c58713ce2258602cdd1e,13,3,2,6773,,,0,"OVN: Add support for DHCP option ""domain-search"" for IPv4

Nothing much else, what the title says...

Change-Id: Ib1d41a6e4c869e108f31c1eb604f22c794d66467
Closes-Bug: #1996759
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
(cherry picked from commit bf44e70db6219e7f3a45bd61b7dd14a31ae33bb0)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/10/865010/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/ovn/dhcp_opts.rst', 'neutron/tests/unit/common/ovn/test_utils.py', 'neutron/common/ovn/constants.py']",3,ef12e9f0f33846584bb586b70733c1da8462b4a4,," 'domain-search': 'domain_search_list', '119': 'domain_search_list', 'domain_search_list',",,19,0
openstack%2Fblazar-nova~834159,openstack/blazar-nova,master,I6f39986bcfe2c1229bb1fd53773013bcc57098d0,CI: Install nova from local git tree,NEW,2022-03-17 12:32:20.000000000,2022-11-22 11:26:15.000000000,,"[{'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-03-17 12:32:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/79ca4195b0bf6b48ddd704ae12bd183513c4fb76', 'message': 'CI: Install nova from local git tree\n\nRemove zuul-cloner usage: this tool was removed after the migration to\nZuul v3.\n\nChange-Id: I6f39986bcfe2c1229bb1fd53773013bcc57098d0\n'}, {'number': 2, 'created': '2022-03-17 12:40:13.000000000', 'files': ['tools/tox_install.sh'], 'web_link': 'https://opendev.org/openstack/blazar-nova/commit/233e94b6c7b8a18fe6dde0bebfc3f86d829b9c4e', 'message': 'CI: Install nova from local git tree\n\nRemove zuul-cloner usage: this tool was removed after the migration to\nZuul v3.\n\nChange-Id: I6f39986bcfe2c1229bb1fd53773013bcc57098d0\n'}]",1,834159,233e94b6c7b8a18fe6dde0bebfc3f86d829b9c4e,5,2,2,15197,,,0,"CI: Install nova from local git tree

Remove zuul-cloner usage: this tool was removed after the migration to
Zuul v3.

Change-Id: I6f39986bcfe2c1229bb1fd53773013bcc57098d0
",git fetch https://review.opendev.org/openstack/blazar-nova refs/changes/59/834159/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/tox_install.sh'],1,79ca4195b0bf6b48ddd704ae12bd183513c4fb76,,"elif [ -d ""/opt/git/opendev.org/openstack/nova"" ]; then echo ""PIP LOCAL"" > /tmp/tox_install.txt if [ -z ""$NOVA_PIP_LOCATION"" ]; then NOVA_PIP_LOCATION=""/opt/git/opendev.org/openstack/nova@$BRANCH_NAME#egg=nova"" fi $install_cmd -U -e ${NOVA_PIP_LOCATION}","ZUUL_CLONER=/usr/zuul-env/bin/zuul-clonerelif [ -x ""$ZUUL_CLONER"" ]; then echo ""ZUUL CLONER"" > /tmp/tox_install.txt # Make this relative to current working directory so that # git clean can remove it. We cannot remove the directory directly # since it is referenced after $install_cmd -e. mkdir -p .tmp NOVA_DIR=$(/bin/mktemp -d -p $(pwd)/.tmp) pushd $NOVA_DIR $ZUUL_CLONER --cache-dir \ /opt/git \ --branch $BRANCH_NAME \ https://opendev.org \ openstack/nova cd openstack/nova $install_cmd -e . popd",6,17
openstack%2Fcharm-cinder~865205,openstack/charm-cinder,stable/21.10,I3f225cebdcb6d9092ddc25c544041daa0e0adcab,Remove auth_uri from group keystone_authtoken,ABANDONED,2022-11-21 23:13:34.000000000,2022-11-22 11:21:34.000000000,,"[{'_account_id': 11805}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 27623}]","[{'number': 1, 'created': '2022-11-21 23:13:34.000000000', 'files': ['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'templates/icehouse/cinder.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken'], 'web_link': 'https://opendev.org/openstack/charm-cinder/commit/f24e114e42a82496bbc816b9020c6af9e340a675', 'message': 'Remove auth_uri from group keystone_authtoken\n\nThe option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.\nThis commit changes the use of auth_uri to www_authenticate_uri correctly.\n\nCloses-Bug: #1837119\nChange-Id: I3f225cebdcb6d9092ddc25c544041daa0e0adcab\n'}]",0,865205,f24e114e42a82496bbc816b9020c6af9e340a675,4,4,1,35369,,,0,"Remove auth_uri from group keystone_authtoken

The option ""auth_uri"" from group ""keystone_authtoken"" is deprecated for removal. The auth_uri token is deprecated in favor of www_authenticate_uri.
This commit changes the use of auth_uri to www_authenticate_uri correctly.

Closes-Bug: #1837119
Change-Id: I3f225cebdcb6d9092ddc25c544041daa0e0adcab
",git fetch https://review.opendev.org/openstack/charm-cinder refs/changes/05/865205/1 && git format-patch -1 --stdout FETCH_HEAD,"['charmhelpers/contrib/openstack/templates/section-keystone-authtoken-mitaka', 'charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'templates/icehouse/cinder.conf', 'charmhelpers/contrib/openstack/templates/section-keystone-authtoken']",4,f24e114e42a82496bbc816b9020c6af9e340a675,bug/1837119,www_authenticate_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},auth_uri = {{ service_protocol }}://{{ service_host }}:{{ service_port }},5,5
openstack%2Fskyline-console~865111,openstack/skyline-console,master,If019d411b47752f738c0d43097fc00a3bf36892b,feature: Support quick creating keypair in Magnum service,MERGED,2022-11-21 09:04:36.000000000,2022-11-22 11:16:41.000000000,2022-11-22 11:15:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-21 09:04:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/df34131c2106279241241b04050ceb05bc2dce99', 'message': 'Support quick creating keypair in Magnum service:\n\n1. Support quick creating keypair when create cluster template\n\n2. Support quick creating keypair when create cluster instance\n\nChange-Id: If019d411b47752f738c0d43097fc00a3bf36892b\n'}, {'number': 2, 'created': '2022-11-21 10:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/4b5bb1aa2d23f61e8dcc610cf860e0679cd6c990', 'message': 'feature: Support quick creating keypair in Magnum service:\n\n1. Support quick creating keypair when create cluster template\n\n2. Support quick creating keypair when create cluster instance\n\nChange-Id: If019d411b47752f738c0d43097fc00a3bf36892b\n'}, {'number': 3, 'created': '2022-11-22 07:51:45.000000000', 'files': ['releasenotes/notes/Support-Quick-Create-Keypair-In-Magnum-0b10264145d52825.yaml', 'src/resources/nova/keypair.jsx', 'src/resources/nova/keypair.less', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/c49872654b512dd8fd0354f5b15b4e35d6cd076f', 'message': 'feature: Support quick creating keypair in Magnum service\n\n1. Support quick creating keypair when create cluster template\n\n2. Support quick creating keypair when create cluster instance\n\nChange-Id: If019d411b47752f738c0d43097fc00a3bf36892b\n'}]",0,865111,c49872654b512dd8fd0354f5b15b4e35d6cd076f,11,3,3,33689,,,0,"feature: Support quick creating keypair in Magnum service

1. Support quick creating keypair when create cluster template

2. Support quick creating keypair when create cluster instance

Change-Id: If019d411b47752f738c0d43097fc00a3bf36892b
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/11/865111/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/Support-Quick-Create-Keypair-In-Magnum-0b10264145d52825.yaml', 'src/resources/nova/keypair.jsx', 'src/resources/nova/keypair.less', 'src/pages/container-infra/containers/ClusterTemplates/actions/StepCreate/StepNodeSpec/index.jsx', 'src/pages/container-infra/containers/Clusters/actions/StepCreate/StepInfo/index.jsx']",5,df34131c2106279241241b04050ceb05bc2dce99,feat-magnum-redesign,"import { getKeyPairHeader } from 'resources/nova/keypair'; this.keyPairStore = globalKeypairStore; await this.keyPairStore.fetchList(); return this.keyPairStore.list.data || []; const values = {}; const { initKeyPair } = this.state; if (initKeyPair) { values.keypairs = initKeyPair; } values.clusterTemplate = { selectedRowKeys: [template], selectedRows: this.clusterTemplates, return values; const { clusterTemplate, initKeyPair } = this.state; initValue: initKeyPair, isLoading: this.keyPairStore.list.isLoading, header: getKeyPairHeader(this),"," await globalKeypairStore.fetchList(); return globalKeypairStore.list.data || []; return { clusterTemplate: { selectedRowKeys: [template], selectedRows: this.clusterTemplates, }, return {}; const { clusterTemplate } = this.state; isLoading: globalKeypairStore.list.isLoading,",111,13
openstack%2Fopenstacksdk~862258,openstack/openstacksdk,master,Ieb8681bb4fd4834666b7bdb31d0ea6339c396400,compute/server: add support of target state for evacuate API,MERGED,2022-10-21 08:05:41.000000000,2022-11-22 11:09:58.000000000,2022-11-21 18:58:44.000000000,"[{'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-21 08:05:41.000000000', 'files': ['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/add-target-state-for-evacuate-52be85c5c08f4109.yaml', 'openstack/compute/v2/_proxy.py'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/caa4e135e275ce6b453557d701a78701690d57b4', 'message': 'compute/server: add support of target state for evacuate API\n\nRelated-To: bp/allowing-target-state-for-evacuate\nSigned-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>\nChange-Id: Ieb8681bb4fd4834666b7bdb31d0ea6339c396400\n'}]",1,862258,caa4e135e275ce6b453557d701a78701690d57b4,8,2,1,7730,,,0,"compute/server: add support of target state for evacuate API

Related-To: bp/allowing-target-state-for-evacuate
Signed-off-by: Sahid Orentino Ferdjaoui <sahid.ferdjaoui@industrialdiscipline.com>
Change-Id: Ieb8681bb4fd4834666b7bdb31d0ea6339c396400
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/58/862258/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/compute/v2/server.py', 'openstack/tests/unit/compute/v2/test_server.py', 'openstack/tests/unit/compute/v2/test_proxy.py', 'releasenotes/notes/add-target-state-for-evacuate-52be85c5c08f4109.yaml', 'openstack/compute/v2/_proxy.py']",5,caa4e135e275ce6b453557d701a78701690d57b4,bp/allowing-target-state-for-evacuate," def evacuate_server(self, server, host=None, admin_pass=None, force=None, target_state=None): :param target_state: Set target state for the evacuated instance (New in API version 2.94). force=force, target_state=target_state)"," def evacuate_server(self, server, host=None, admin_pass=None, force=None): force=force)",19,8
openstack%2Fheat~864897,openstack/heat,master,Icb532ceafa04ff661809fca0fe731afb30663485,DNM: Reproduce story 2010115 with tests,ABANDONED,2022-11-17 13:26:45.000000000,2022-11-22 10:58:21.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-17 13:26:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/b52d423c2ec444d8ed021c9d3ae07e88b30f83cb', 'message': 'DNM: Reproduce story 2010115 with tests\n\nThis reproduces what is mentioned in the\nstory and also tries the solution that\nis mentioned as comment in [1] as a\nfollow-up patch to this one to verify\nit solves it.\n\n[1] https://review.opendev.org/c/openstack/heat/+/848101\n\nStory: #2010115\nChange-Id: Icb532ceafa04ff661809fca0fe731afb30663485\n'}, {'number': 2, 'created': '2022-11-17 14:53:18.000000000', 'files': ['heat/tests/test_stack_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/f63e84e0a00fbe4f49564b7623e7500dd74aabd5', 'message': 'DNM: Reproduce story 2010115 with tests\n\nThis reproduces what is mentioned in the\nstory and also tries the solution that\nis mentioned as comment in [1] as a\nfollow-up patch to this one to verify\nit solves it.\n\n[1] https://review.opendev.org/c/openstack/heat/+/848101\n\nStory: #2010115\nChange-Id: Icb532ceafa04ff661809fca0fe731afb30663485\n'}]",2,864897,f63e84e0a00fbe4f49564b7623e7500dd74aabd5,7,1,2,16137,,,0,"DNM: Reproduce story 2010115 with tests

This reproduces what is mentioned in the
story and also tries the solution that
is mentioned as comment in [1] as a
follow-up patch to this one to verify
it solves it.

[1] https://review.opendev.org/c/openstack/heat/+/848101

Story: #2010115
Change-Id: Icb532ceafa04ff661809fca0fe731afb30663485
",git fetch https://review.opendev.org/openstack/heat refs/changes/97/864897/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/tests/test_stack_resource.py'],1,b52d423c2ec444d8ed021c9d3ae07e88b30f83cb,,"import sys def test_validates_nested_stack_nested_failed(self): parent_t = self.parent_stack.t resource_defns = parent_t.resource_definitions(self.parent_stack) stk_resource = MyImplementedStackResource( 'test', resource_defns[self.ws_resname], self.parent_stack) stk_resource.child_params = mock.Mock(return_value={}) stk_resource.child_template = mock.Mock( return_value=templatem.Template(self.simple_template, stk_resource.child_params)) exc = exception.InvalidTemplateReference(resource='test', key='key') validation_mock = mock.Mock(side_effect=exc) stk_resource._parse_nested_stack = validation_mock from oslo_messaging._drivers import common as rpc_common try: stk_resource.validate() except exception.StackValidationFailed: serialized = rpc_common.serialize_remote_exception(sys.exc_info()) deserialized = rpc_common.deserialize_remote_exception(serialized, ['heat.common.exception']) self.assertEqual('StackValidationFailed_Remote', type(deserialized).__name__) ",,30,0
openstack%2Fironic~865192,openstack/ironic,stable/wallaby,I11e076ec25fa05a83d66e0db56bacdd3bbf8a75d,Remove un-needed tabs from script,MERGED,2022-11-21 20:14:13.000000000,2022-11-22 10:50:58.000000000,2022-11-22 10:48:46.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-21 20:14:13.000000000', 'files': ['devstack/lib/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/b6be5f52d0c721428dec8de2feb02d9aa9e88002', 'message': 'Remove un-needed tabs from script\n\nChange-Id: I11e076ec25fa05a83d66e0db56bacdd3bbf8a75d\n'}]",0,865192,b6be5f52d0c721428dec8de2feb02d9aa9e88002,10,2,1,11655,,,0,"Remove un-needed tabs from script

Change-Id: I11e076ec25fa05a83d66e0db56bacdd3bbf8a75d
",git fetch https://review.opendev.org/openstack/ironic refs/changes/92/865192/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/ironic'],1,b6be5f52d0c721428dec8de2feb02d9aa9e88002,," # NOTE(TheJulia): The ironic-status check command can return # 0 if all is okay, 1 if there is a warning, or >1 if something # is broken on a major upgrade and thus the process needs to # be aborted."," # NOTE(TheJulia): The ironic-status check command can return # 0 if all is okay, 1 if there is a warning, or >1 if something # is broken on a major upgrade and thus the process needs to # be aborted.",4,4
openstack%2Fironic~850707,openstack/ironic,stable/wallaby,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-07-22 02:37:28.000000000,2022-11-22 10:49:58.000000000,2022-11-22 10:48:39.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28806}]","[{'number': 1, 'created': '2022-07-22 02:37:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c5d7030858574fbbedbb7196bbf3a35e2bd2c553', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 2, 'created': '2022-07-22 02:40:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e95f31d2e35ddf248832e832d2ebfcac2892497', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 3, 'created': '2022-07-25 02:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/6071a26f2f80f528692ccf8bd591f52ed63becbe', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 4, 'created': '2022-08-01 01:08:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/77ca7cb66b1e7d96b6e2db6e3fa253f124d9544f', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 5, 'created': '2022-08-30 07:21:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef2e7e50e0800625e4ec48caf92e81038279d8ee', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 6, 'created': '2022-09-01 11:20:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/f96e6a3a8be03f007d85454ce71c44f3d5fdb6c8', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n    doc/source/admin/drivers/irmc.rst\n    driver-requirements.txt\n    ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 7, 'created': '2022-11-15 03:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/477c272a94a216e2a2c30a2d17d6ba20e6d0008f', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tdoc/source/admin/drivers/irmc.rst\n\tironic/common/utils.py\n\tironic/drivers/modules/irmc/common.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 8, 'created': '2022-11-15 09:19:24.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/e2a9a81c6cf99d73ab6a1226a0251a0f385f1c39', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tdoc/source/admin/drivers/irmc.rst\n\tironic/common/utils.py\n\tironic/drivers/modules/irmc/common.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",23,850707,e2a9a81c6cf99d73ab6a1226a0251a0f385f1c39,74,4,8,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	doc/source/admin/drivers/irmc.rst
	ironic/common/utils.py
	ironic/drivers/modules/irmc/common.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/07/850707/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'driver-requirements.txt', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",11,c5d7030858574fbbedbb7196bbf3a35e2bd2c553,snmp-wallaby," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",413,46
openstack%2Fironic~850554,openstack/ironic,stable/xena,Id6f8996e4d103f849325f54fe0619b4acb43453a,Add SNMPv3 authentication functionality,MERGED,2022-07-22 01:41:16.000000000,2022-11-22 10:46:10.000000000,2022-11-22 10:44:58.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 28806}]","[{'number': 1, 'created': '2022-07-22 01:41:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/57ee1c9d7d3f6658c86da31e8332715ee72c9d70', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 2, 'created': '2022-07-22 01:55:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/4293d7e005b7ec7eba3b252006600a141cd30176', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 3, 'created': '2022-07-22 02:21:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e9bdcfb49bf8c89e9afa53d0531f16dc3b9b112f', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 4, 'created': '2022-07-25 02:24:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c7527b974cff01a8bbc550c6f0378e8abcf3cd2a', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 5, 'created': '2022-08-01 01:10:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c8338f9dcc0a30c97386d121e0532ff6b788b1d0', 'message': ""[iRMC] Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 6, 'created': '2022-08-30 07:02:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5f53a999faa81d6c818312ffe45f1c4d76f2d58a', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 7, 'created': '2022-08-30 07:05:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/7ccc5d34de014673aa0bfa18836538766c3bdfdf', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 8, 'created': '2022-09-01 11:22:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2ba65c9411c960ae6e604d0ff5c3d043b217e2d1', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      driver-requirements.txt\n      ironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 9, 'created': '2022-09-06 01:40:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/b60fb1a76f2830b4519c2fca1e073050a387fb97', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n      doc/source/admin/drivers/irmc.rst\n      driver-requirements.txt\n      ironic/common/utils.py\n      ironic/drivers/modules/irmc/common.py\n      ironic/tests/unit/drivers/modules/irmc/test_boot.py\n      ironic/tests/unit/drivers/modules/irmc/test_common.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n""}, {'number': 10, 'created': '2022-11-15 03:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/30f4f52eabc3390879d2a2d96658c01c5dc3b159', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}, {'number': 11, 'created': '2022-11-15 09:17:59.000000000', 'files': ['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/ef0e33edf2b0420dc7fe851e41128ff86dc8ffed', 'message': ""Add SNMPv3 authentication functionality\n\nCurrently when using SNMPv3, iRMC driver does not use SNMPv3\nauthentication parameters so the SNMPv3 authentication will\nalways fail. And iRMC cannot recognize FIPS mode, so when FIPS mode\nis enabled, iRMC driver could still use non-FIPS-compliant algorithms.\n\nThis commit changes iRMC driver to require and use SNMPv3\nauthentication parameters when 'irmc_snmp_version' is set to v3 and\nalso makes iRMC driver to force 'irmc_snmp_version' to v3,\n'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES\nwhen FIPS mode is enabled, because currently among the algorithms\nsupported by iRMC, only SHA and AES are FIPS compliant.\n\nConflicts:\n\tironic/common/utils.py\n\nChange-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a\nStory: 2010085\nTask: 45590\n(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)\n(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)\n""}]",42,850554,ef0e33edf2b0420dc7fe851e41128ff86dc8ffed,92,4,11,28806,,,0,"Add SNMPv3 authentication functionality

Currently when using SNMPv3, iRMC driver does not use SNMPv3
authentication parameters so the SNMPv3 authentication will
always fail. And iRMC cannot recognize FIPS mode, so when FIPS mode
is enabled, iRMC driver could still use non-FIPS-compliant algorithms.

This commit changes iRMC driver to require and use SNMPv3
authentication parameters when 'irmc_snmp_version' is set to v3 and
also makes iRMC driver to force 'irmc_snmp_version' to v3,
'irmc_snmp_auth_proto' to SHA and 'irmc_snmp_priv_proto' to AES
when FIPS mode is enabled, because currently among the algorithms
supported by iRMC, only SHA and AES are FIPS compliant.

Conflicts:
	ironic/common/utils.py

Change-Id: Id6f8996e4d103f849325f54fe0619b4acb43453a
Story: 2010085
Task: 45590
(cherry picked from commit 79f82c0262c84f1e317991052d065259b3a4683d)
(cherry picked from commit c274231bf5bb9260d2b13865ab20f39131d30b4b)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/54/850554/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/conf/irmc.py', 'ironic/tests/unit/drivers/modules/irmc/test_common.py', 'ironic/drivers/modules/irmc/common.py', 'ironic/drivers/modules/irmc/power.py', 'ironic/tests/unit/drivers/modules/irmc/test_boot.py', 'doc/source/admin/drivers/irmc.rst', 'ironic/tests/unit/common/test_utils.py', 'driver-requirements.txt', 'releasenotes/notes/irmc-add-snmpv3-security-fca05bfc30f50d1a.yaml', 'ironic/common/utils.py', 'ironic/drivers/modules/irmc/inspect.py']",11,57ee1c9d7d3f6658c86da31e8332715ee72c9d70,snmp-xena," snmp_client = snmp.SNMPClient( address=d_info['irmc_address'], port=d_info['irmc_snmp_port'], version=d_info['irmc_snmp_version'], read_community=d_info['irmc_snmp_community'], user=d_info.get('irmc_snmp_user'), auth_proto=d_info.get('irmc_snmp_auth_proto'), auth_key=d_info.get('irmc_snmp_auth_password'), priv_proto=d_info.get('irmc_snmp_priv_proto'), priv_key=d_info.get('irmc_snmp_priv_password'))"," snmp_client = snmp.SNMPClient(d_info['irmc_address'], d_info['irmc_snmp_port'], d_info['irmc_snmp_version'], d_info['irmc_snmp_community'], d_info['irmc_snmp_security'])",431,45
openstack%2Ftripleo-heat-templates~864972,openstack/tripleo-heat-templates,stable/zed,If0e91f1b4956f451346256487c3626ed7899643b,Fix tripleo_delegate_to parameter in heat-engine,MERGED,2022-11-18 08:51:42.000000000,2022-11-22 10:35:37.000000000,2022-11-22 10:35:37.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-18 08:51:42.000000000', 'files': ['deployment/heat/heat-engine-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/97052ac0400269bf2dfb57857262e5c8168be5de', 'message': ""Fix tripleo_delegate_to parameter in heat-engine\n\nIa9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to\ntripleo_delegate_to parameter. Unfortunately, there is an unnecessary\ncharacter, '| |' in the line.\nThis blocks 'overcloud external-upgrade run'. This fix remove the\nadditonal '|' from the line.\n\nCloses-Bug: #1996492\nChange-Id: If0e91f1b4956f451346256487c3626ed7899643b\n(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)\n""}]",2,864972,97052ac0400269bf2dfb57857262e5c8168be5de,13,5,1,25613,,,0,"Fix tripleo_delegate_to parameter in heat-engine

Ia9d3c8d0a3098191b2d8b12fc24eee4517c6c521 introduces the new logic to
tripleo_delegate_to parameter. Unfortunately, there is an unnecessary
character, '| |' in the line.
This blocks 'overcloud external-upgrade run'. This fix remove the
additonal '|' from the line.

Closes-Bug: #1996492
Change-Id: If0e91f1b4956f451346256487c3626ed7899643b
(cherry picked from commit 4a1abe6c0a72215cf4878cee1830ea69a9663eb1)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/864972/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/heat/heat-engine-container-puppet.yaml'],1,97052ac0400269bf2dfb57857262e5c8168be5de,deploy_exclude-stable/zed," tripleo_delegate_to: ""{{ groups['heat_engine'] | difference(groups['excluded_overcloud']) }}"""," tripleo_delegate_to: ""{{ groups['heat_engine'] | | difference(groups['excluded_overcloud']) }}""",1,1
openstack%2Fcharm-octavia~860438,openstack/charm-octavia,stable/ussuri,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,MERGED,2022-10-05 14:17:14.000000000,2022-11-22 10:28:49.000000000,2022-11-22 10:28:49.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:17:14.000000000', 'files': ['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/89bab364721230077e7c63b149a2517e3a352cf1', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I5cda72d55b7aba51d087bababa94435e53c2201b\n(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)\n'}]",2,860438,89bab364721230077e7c63b149a2517e3a352cf1,13,4,1,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/38/860438/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py']",2,89bab364721230077e7c63b149a2517e3a352cf1,bug/1979553," self.octavia_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,3,0
openstack%2Fcharm-octavia~860437,openstack/charm-octavia,stable/victoria,I5cda72d55b7aba51d087bababa94435e53c2201b,Ensure upgrades are executed,MERGED,2022-10-05 14:16:44.000000000,2022-11-22 10:28:10.000000000,2022-11-22 10:28:10.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/028efcfabed5b8dbf3c960696aebc30b9e607ba8', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I5cda72d55b7aba51d087bababa94435e53c2201b\n(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)\n'}, {'number': 2, 'created': '2022-10-26 19:21:04.000000000', 'files': ['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/572475fb1c41479f9b373c062396a725c9f0d152', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I5cda72d55b7aba51d087bababa94435e53c2201b\n(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)\nDepends-On: https://review.opendev.org/c/openstack/charm-octavia/+/858664\n'}]",1,860437,572475fb1c41479f9b373c062396a725c9f0d152,15,4,2,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I5cda72d55b7aba51d087bababa94435e53c2201b
(cherry picked from commit e237d6621eec7734a18dae52618030c30a21c9b8)
Depends-On: https://review.opendev.org/c/openstack/charm-octavia/+/858664
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/37/860437/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/octavia_handlers.py', 'unit_tests/test_octavia_handlers.py']",2,028efcfabed5b8dbf3c960696aebc30b9e607ba8,bug/1979553," self.octavia_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,3,0
openstack%2Fcharm-barbican~860448,openstack/charm-barbican,stable/train,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,MERGED,2022-10-05 14:24:29.000000000,2022-11-22 10:27:20.000000000,2022-11-22 10:27:20.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:24:29.000000000', 'files': ['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/643afe9a7ffcedb705ca2924757469b65dcf7c1c', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6\n(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)\n'}]",2,860448,643afe9a7ffcedb705ca2924757469b65dcf7c1c,13,4,1,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/48/860448/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",2,643afe9a7ffcedb705ca2924757469b65dcf7c1c,bug/1979553," barbican_charm.configure_ssl.assert_called_once_with() barbican_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,4,0
openstack%2Fcharm-barbican~860447,openstack/charm-barbican,stable/ussuri,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,MERGED,2022-10-05 14:24:12.000000000,2022-11-22 10:27:19.000000000,2022-11-22 10:27:19.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:24:12.000000000', 'files': ['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/c84e28537ff249de5eb338d6b2eb062e2d54930b', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6\n(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)\n'}]",2,860447,c84e28537ff249de5eb338d6b2eb062e2d54930b,13,4,1,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/47/860447/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",2,c84e28537ff249de5eb338d6b2eb062e2d54930b,bug/1979553," barbican_charm.configure_ssl.assert_called_once_with() barbican_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,4,0
openstack%2Fcharm-barbican~860446,openstack/charm-barbican,stable/victoria,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,MERGED,2022-10-05 14:23:57.000000000,2022-11-22 10:27:18.000000000,2022-11-22 10:27:18.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:23:57.000000000', 'files': ['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/47f07599cfb34dda79e48c4d77a5135b22cb15a5', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6\n(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)\n'}]",1,860446,47f07599cfb34dda79e48c4d77a5135b22cb15a5,10,4,1,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/46/860446/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",2,47f07599cfb34dda79e48c4d77a5135b22cb15a5,bug/1979553," barbican_charm.configure_ssl.assert_called_once_with() barbican_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,4,0
openstack%2Fcharm-barbican~860444,openstack/charm-barbican,stable/xena,I3a9d0211bede8db43cd5ae8e0db51736155282f6,Ensure upgrades are executed,MERGED,2022-10-05 14:23:22.000000000,2022-11-22 10:27:17.000000000,2022-11-22 10:27:17.000000000,"[{'_account_id': 8992}, {'_account_id': 20648}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-05 14:23:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/ed88839701a42d61fb29259e837b3df2eda18e2d', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6\n(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)\n'}, {'number': 2, 'created': '2022-10-20 10:34:15.000000000', 'files': ['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py'], 'web_link': 'https://opendev.org/openstack/charm-barbican/commit/5ef7e2e67cbf7e1a3a5b4698745502c270ebd23b', 'message': 'Ensure upgrades are executed\n\nPrior to this change, big bang upgrades were not being run\nwhen openstack-origin was updated to a new release.\n\nCloses-Bug: #1979553\nChange-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6\n(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)\n'}]",2,860444,5ef7e2e67cbf7e1a3a5b4698745502c270ebd23b,14,4,2,11805,,,0,"Ensure upgrades are executed

Prior to this change, big bang upgrades were not being run
when openstack-origin was updated to a new release.

Closes-Bug: #1979553
Change-Id: I3a9d0211bede8db43cd5ae8e0db51736155282f6
(cherry picked from commit 6d73c8263f5ad520a75c2fc6207bba65136ef6f3)
",git fetch https://review.opendev.org/openstack/charm-barbican refs/changes/44/860444/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/reactive/barbican_handlers.py', 'unit_tests/test_barbican_handlers.py']",2,ed88839701a42d61fb29259e837b3df2eda18e2d,bug/1979553," barbican_charm.configure_ssl.assert_called_once_with() barbican_charm.upgrade_if_available.assert_called_once_with( ('arg1', 'arg2'))",,4,0
openstack%2Fkolla~863088,openstack/kolla,master,I0c7dd35ac9bbd050b708d5baae2504d3bd56828d,[docs] Add Kolla design philosophy,MERGED,2022-10-31 16:23:54.000000000,2022-11-22 10:10:09.000000000,2022-11-22 10:09:00.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-10-31 16:23:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/481710a6f9b25871dcdcb1f7022467a0983d2f82', 'message': '[docs] Add ""what is Kollish"" page\n\nAs discussed during the last PTG (Antelope 2023.1) [1].\n\nThe added page discusses two properties of the Kolla ecosystem\nthat are important mostly to contributors.\n\n[1] https://etherpad.opendev.org/p/kolla-antelope-ptg\n\nChange-Id: I0c7dd35ac9bbd050b708d5baae2504d3bd56828d\n'}, {'number': 2, 'created': '2022-11-18 08:03:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/67ed159c7776d47c804254db2e74c51dbaf4fbad', 'message': '[docs] Add ""what is Kollish"" page\n\nAs discussed during the last PTG (Antelope 2023.1) [1].\n\nThe added page discusses two properties of the Kolla ecosystem\nthat are important mostly to contributors.\n\nClean up the ""Contributing"" page a bit along the way.\n\n[1] https://etherpad.opendev.org/p/kolla-antelope-ptg\n\nChange-Id: I0c7dd35ac9bbd050b708d5baae2504d3bd56828d\n'}, {'number': 3, 'created': '2022-11-22 07:17:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/0d2a2df917b25ebc36eb50c4aa9edd083f073ef6', 'message': '[docs] Add Kolla design philosophy\n\nAs discussed during the last PTG (Antelope 2023.1) [1].\n\nThe added page discusses two properties of the Kolla ecosystem\nthat are important mostly to contributors.\n\nClean up the ""Contributing"" page a bit along the way.\n\n[1] https://etherpad.opendev.org/p/kolla-antelope-ptg\n\nChange-Id: I0c7dd35ac9bbd050b708d5baae2504d3bd56828d\n'}, {'number': 4, 'created': '2022-11-22 08:47:45.000000000', 'files': ['doc/source/contributor/contributing.rst', 'doc/source/contributor/index.rst', 'doc/source/contributor/kolla-design-philosophy.rst'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7b0acfea1107c1717696a2e6c3c8826d64ac4fe1', 'message': '[docs] Add Kolla design philosophy\n\nAs discussed during the last PTG (Antelope 2023.1) [1].\n\nThe added page discusses two properties of the Kolla ecosystem\nthat are important mostly to contributors.\n\nClean up the ""Contributing"" page a bit along the way.\n\n[1] https://etherpad.opendev.org/p/kolla-antelope-ptg\n\nChange-Id: I0c7dd35ac9bbd050b708d5baae2504d3bd56828d\n'}]",42,863088,7b0acfea1107c1717696a2e6c3c8826d64ac4fe1,29,3,4,30491,,,0,"[docs] Add Kolla design philosophy

As discussed during the last PTG (Antelope 2023.1) [1].

The added page discusses two properties of the Kolla ecosystem
that are important mostly to contributors.

Clean up the ""Contributing"" page a bit along the way.

[1] https://etherpad.opendev.org/p/kolla-antelope-ptg

Change-Id: I0c7dd35ac9bbd050b708d5baae2504d3bd56828d
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/863088/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/what-is-kollish.rst', 'doc/source/contributor/index.rst']",2,481710a6f9b25871dcdcb1f7022467a0983d2f82,what-is-kollish, what-is-kollish,,53,0
openstack%2Fkolla-ansible~863543,openstack/kolla-ansible,master,Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93,Adds a wrapper script to run ovs-vsctl commands in the container,MERGED,2022-11-03 16:59:14.000000000,2022-11-22 10:03:57.000000000,2022-11-22 10:02:51.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}]","[{'number': 1, 'created': '2022-11-03 16:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/73ef0193da500825f775586b4dcb8568aba74b3b', 'message': 'Adds a wrapper script to run ovs-vsctl commands in the container\n\nLibvirt needs to be able to plug ports into openvswitch bridges.\nIt does this using the ovs-vsctl command, which it searches for\nin $PATH[1, 2]. This change will optionally install a wrapper\nscript that executes the ovs-vsctl commands in the context of the\nopenvswitchd container. This is useful when running libvirt on the\nhost whilst still running openvswitch in a container. The advantage\nof this method over install the packages on the host is that it\nensures client compatability with the daemon. The default is set\nto false as the wrapper could overwrite ovs-vsctl installed on the\nhost.\n\n[1] https://github.com/libvirt/libvirt/blob/ee51ab86c2e52b6ff1b17a4c7ad11439fd610c9e/src/util/virnetdevopenvswitch.c#L59\n[2] https://github.com/libvirt/libvirt/blob/a89b17c2a75cfbaeb9e430f88e0f8a7475eb4f54/docs/kbase/internals/command.rst#id3\n\nCloses-Bug: #1995409\nChange-Id: Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93\n'}, {'number': 2, 'created': '2022-11-03 17:04:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c58d3cafe1330d06084c9ada811036223017a316', 'message': 'Adds a wrapper script to run ovs-vsctl commands in the container\n\nLibvirt needs to be able to plug ports into openvswitch bridges.\nIt does this using the ovs-vsctl command, which it searches for\nin $PATH[1, 2]. This change will optionally install a wrapper\nscript that executes the ovs-vsctl commands in the context of the\nopenvswitchd container. This is useful when running libvirt on the\nhost whilst still running openvswitch in a container. The advantage\nof this method over install the packages on the host is that it\nensures client compatability with the daemon. The default is set\nto false as the wrapper could overwrite ovs-vsctl installed on the\nhost.\n\n[1] https://github.com/libvirt/libvirt/blob/ee51ab86c2e52b6ff1b17a4c7ad11439fd610c9e/src/util/virnetdevopenvswitch.c#L59\n[2] https://github.com/libvirt/libvirt/blob/a89b17c2a75cfbaeb9e430f88e0f8a7475eb4f54/docs/kbase/internals/command.rst#id3\n\nCloses-Bug: #1995409\nChange-Id: Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93\n'}, {'number': 3, 'created': '2022-11-04 15:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f284c88557fbbc21b8f722c05ca2da04bcd4e762', 'message': 'Adds a wrapper script to run ovs-vsctl commands in the container\n\nLibvirt needs to be able to plug ports into openvswitch bridges.\nIt does this using the ovs-vsctl command, which it searches for\nin $PATH[1, 2]. This change will optionally install a wrapper\nscript that executes the ovs-vsctl commands in the context of the\nopenvswitchd container. This is useful when running libvirt on the\nhost whilst still running openvswitch in a container. The advantage\nof this method over install the packages on the host is that it\nensures client compatability with the daemon. The default is set\nto false as the wrapper could overwrite ovs-vsctl installed on the\nhost.\n\n[1] https://github.com/libvirt/libvirt/blob/ee51ab86c2e52b6ff1b17a4c7ad11439fd610c9e/src/util/virnetdevopenvswitch.c#L59\n[2] https://github.com/libvirt/libvirt/blob/a89b17c2a75cfbaeb9e430f88e0f8a7475eb4f54/docs/kbase/internals/command.rst#id3\n\nCloses-Bug: #1995409\nChange-Id: Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93\n'}, {'number': 4, 'created': '2022-11-15 10:16:03.000000000', 'files': ['ansible/roles/openvswitch/templates/ovs-vsctl.j2', 'doc/source/reference/compute/libvirt-guide.rst', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'releasenotes/notes/adds-ovs-vsctl-wrapper-da3dbbb19d5cc6f5.yaml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a82443481e17edecda728f8698f8b401ec910546', 'message': 'Adds a wrapper script to run ovs-vsctl commands in the container\n\nLibvirt needs to be able to plug ports into openvswitch bridges.\nIt does this using the ovs-vsctl command, which it searches for\nin $PATH[1, 2]. This change will optionally install a wrapper\nscript that executes the ovs-vsctl commands in the context of the\nopenvswitchd container. This is useful when running libvirt on the\nhost whilst still running openvswitch in a container. The advantage\nof this method over install the packages on the host is that it\nensures client compatability with the daemon. The default is set\nto false as the wrapper could overwrite ovs-vsctl installed on the\nhost.\n\n[1] https://github.com/libvirt/libvirt/blob/ee51ab86c2e52b6ff1b17a4c7ad11439fd610c9e/src/util/virnetdevopenvswitch.c#L59\n[2] https://github.com/libvirt/libvirt/blob/a89b17c2a75cfbaeb9e430f88e0f8a7475eb4f54/docs/kbase/internals/command.rst#id3\n\nCloses-Bug: #1995409\nChange-Id: Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93\n'}]",0,863543,a82443481e17edecda728f8698f8b401ec910546,16,3,4,28048,,,0,"Adds a wrapper script to run ovs-vsctl commands in the container

Libvirt needs to be able to plug ports into openvswitch bridges.
It does this using the ovs-vsctl command, which it searches for
in $PATH[1, 2]. This change will optionally install a wrapper
script that executes the ovs-vsctl commands in the context of the
openvswitchd container. This is useful when running libvirt on the
host whilst still running openvswitch in a container. The advantage
of this method over install the packages on the host is that it
ensures client compatability with the daemon. The default is set
to false as the wrapper could overwrite ovs-vsctl installed on the
host.

[1] https://github.com/libvirt/libvirt/blob/ee51ab86c2e52b6ff1b17a4c7ad11439fd610c9e/src/util/virnetdevopenvswitch.c#L59
[2] https://github.com/libvirt/libvirt/blob/a89b17c2a75cfbaeb9e430f88e0f8a7475eb4f54/docs/kbase/internals/command.rst#id3

Closes-Bug: #1995409
Change-Id: Iaa6bfb012ae847f5f6aa0a1fc1c27970ac265f93
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/43/863543/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/openvswitch/templates/ovs-vsctl.j2', 'doc/source/reference/compute/libvirt-guide.rst', 'ansible/roles/openvswitch/tasks/config.yml', 'ansible/roles/openvswitch/defaults/main.yml', 'releasenotes/notes/adds-ovs-vsctl-wrapper-da3dbbb19d5cc6f5.yaml']",5,73ef0193da500825f775586b4dcb8568aba74b3b,,"--- features: - | Adds a new flag, ``openvswitch_ovs_vsctl_wrapper_enabled`` which will install a wrapper script to ``/usr/bin/ovs-vsctl`` to docker exec into the openvswitchd container. ",,40,0
openstack%2Fneutron~865036,openstack/neutron,master,I1c50aef5e4aa60705f923f399e8d36c37a9d6289,[doc] Metadata service supports IPv6 networks,MERGED,2022-11-18 15:27:43.000000000,2022-11-22 09:55:10.000000000,2022-11-22 09:52:56.000000000,"[{'_account_id': 1131}, {'_account_id': 9656}, {'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 32238}]","[{'number': 1, 'created': '2022-11-18 15:27:43.000000000', 'files': ['doc/source/admin/config-ipv6.rst'], 'web_link': 'https://opendev.org/openstack/neutron/commit/bb2d706107c7be353aa5ebcd1fb735d13d6f6c49', 'message': '[doc] Metadata service supports IPv6 networks\n\nMetadata service now supports IPv6 networks. This patch removes\nthis limitation in the documentation.\n\nRelated-Bug: #1460177\nChange-Id: I1c50aef5e4aa60705f923f399e8d36c37a9d6289\n'}]",1,865036,bb2d706107c7be353aa5ebcd1fb735d13d6f6c49,11,6,1,16688,,,0,"[doc] Metadata service supports IPv6 networks

Metadata service now supports IPv6 networks. This patch removes
this limitation in the documentation.

Related-Bug: #1460177
Change-Id: I1c50aef5e4aa60705f923f399e8d36c37a9d6289
",git fetch https://review.opendev.org/openstack/neutron refs/changes/36/865036/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/admin/config-ipv6.rst'],1,bb2d706107c7be353aa5ebcd1fb735d13d6f6c49,bug/1460177,,"There are no provisions for an IPv6-based metadata service similar to what is provided for IPv4. In the case of dual-stacked guests though it is always possible to use the IPv4 metadata service instead. IPv6-only guests will have to use another method for metadata injection such as using a configuration drive, which is described in the Nova documentation on `config-drive <https://docs.openstack.org/nova/latest/user/config-drive.html>`__. ",0,7
openstack%2Fdevstack~864716,openstack/devstack,stable/yoga,I2c1eadc43adfbfbb2bb377a529d7af55aba5d4ee,Mark centos-9-stream as n-v on stable/yoga,MERGED,2022-11-16 09:52:42.000000000,2022-11-22 09:55:02.000000000,2022-11-22 09:52:52.000000000,"[{'_account_id': 4393}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22873}]","[{'number': 1, 'created': '2022-11-16 09:52:42.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/0026c23e24a7d603446f9584bef937a251cb7385', 'message': ""Mark centos-9-stream as n-v on stable/yoga\n\nThe devstack-platform-centos-9-stream job has been failing\non stable/yoga branch for some time now. Let's put it to n-v\nto unblock the gate.\n\nChange-Id: I2c1eadc43adfbfbb2bb377a529d7af55aba5d4ee\n""}]",0,864716,0026c23e24a7d603446f9584bef937a251cb7385,9,5,1,22873,,,0,"Mark centos-9-stream as n-v on stable/yoga

The devstack-platform-centos-9-stream job has been failing
on stable/yoga branch for some time now. Let's put it to n-v
to unblock the gate.

Change-Id: I2c1eadc43adfbfbb2bb377a529d7af55aba5d4ee
",git fetch https://review.opendev.org/openstack/devstack refs/changes/16/864716/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0026c23e24a7d603446f9584bef937a251cb7385,, voting: false, - devstack-platform-centos-9-stream,1,1
openstack%2Fironic~864762,openstack/ironic,master,Ida42e8b7c483d905dbc4226d695f35aca77a8722,Add ports statistics to tools/benchmark scripts,MERGED,2022-11-16 16:33:47.000000000,2022-11-22 09:54:48.000000000,2022-11-22 09:52:47.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2022-11-16 16:33:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/c72c8a71c2635560e972f70eb833e926ea057c38', 'message': 'Add ports statistics to tools/benchmark scripts\n\nUpdate the scripts in tools/benchmark to enable benchmarking\nports as well.\n\nChange-Id: Ida42e8b7c483d905dbc4226d695f35aca77a8722\n'}, {'number': 2, 'created': '2022-11-18 14:56:24.000000000', 'files': ['tools/benchmark/do_not_run_create_benchmark_data.py', 'tools/benchmark/generate-statistics.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/d691ee05e5362f7b7c9f135f70654f4db514a856', 'message': 'Add ports statistics to tools/benchmark scripts\n\nUpdate the scripts in tools/benchmark to enable benchmarking\nports as well.\n\nChange-Id: Ida42e8b7c483d905dbc4226d695f35aca77a8722\n'}]",0,864762,d691ee05e5362f7b7c9f135f70654f4db514a856,17,3,2,24245,,,0,"Add ports statistics to tools/benchmark scripts

Update the scripts in tools/benchmark to enable benchmarking
ports as well.

Change-Id: Ida42e8b7c483d905dbc4226d695f35aca77a8722
",git fetch https://review.opendev.org/openstack/ironic refs/changes/62/864762/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/benchmark/do_not_run_create_benchmark_data.py', 'tools/benchmark/generate-statistics.py']",2,c72c8a71c2635560e972f70eb833e926ea057c38,benchmark-ports,"from ironic.api.controllers.v1 import port as port_apifrom ironic.objects import portdef _assess_db_performance_ports(): start = time.time() dbapi = db_api.get_instance() print('Phase - Assess DB performance - Ports') _add_a_line() got_connection = time.time() ports = dbapi.get_port_list() port_count = len(ports) query_complete = time.time() delta = _calculate_delta(start, got_connection) print('Obtained DB client in %s seconds.' % delta) delta = _calculate_delta(got_connection, query_complete) print('Returned %s ports in python %s seconds from the DB.\n' % (port_count, delta)) # return node count for future use. return port_count def _assess_db_and_object_performance_ports(): print('Phase - Assess DB & Object conversion Performance - Ports') _add_a_line() start = time.time() port_list = port.Port().list(context.get_admin_context()) got_list = time.time() delta = _calculate_delta(start, got_list) print('Obtained list of port objects in %s seconds.' % delta) count = 0 tbl_size = 0 # In a sense, this helps provide a relative understanding if the # database is the bottleneck, or the objects post conversion. # converting completely to json and then measuring the size helps # ensure that everything is ""assessed"" while not revealing too # much detail. for port_obj in port_list: # Just looping through the entire set to count should be # enough to ensure that the entry is loaded from the db # and then converted to an object. tbl_size = tbl_size + sys.getsizeof(port_obj.as_dict()) count = count + 1 delta = _calculate_delta(got_list, time.time()) print('Took %s seconds to iterate through %s port objects.' % (delta, count)) print('Ports table is roughly %s bytes of JSON.\n' % tbl_size) @mock.patch('ironic.api.request') # noqa patch needed for the object model @mock.patch.object(metrics_utils, 'get_metrics_logger', lambda *_: mock.Mock) @mock.patch.object(api_utils, 'check_list_policy', lambda *_: None) @mock.patch.object(api_utils, 'check_allow_specify_fields', lambda *_: None) @mock.patch.object(api_utils, 'check_allowed_fields', lambda *_: None) @mock.patch.object(oslo_policy.policy, 'LOG', autospec=True) def _assess_db_object_and_api_performance_ports(mock_log, mock_request): print('Phase - Assess DB & Object conversion Performance - Ports') _add_a_line() # Just mock it to silence it since getting the logger to update # config seems like not a thing once started. :\ mock_log.debug = mock.Mock() # Internal logic requires major/minor versions and a context to # proceed. This is just to make the NodesController respond properly. mock_request.context = context.get_admin_context() mock_request.version.major = 1 mock_request.version.minor = 71 start = time.time() port_api_controller = port_api.PortsController() port_api_controller.context = context.get_admin_context() fields = (""uuid,node_uuid,address,extra,local_link_connection,"" ""pxe_enabled,internal_info,physical_network,"" ""is_smartnic"") total_ports = 0 res = port_api_controller._get_ports_collection( resource_url='ports', node_ident=None, address=None, portgroup_ident=None, marker=None, limit=None, sort_key=""id"", sort_dir=""asc"", fields=fields.split(',')) total_ports = len(res['ports']) while len(res['ports']) != 1: print("" ** Getting ports ** %s Elapsed: %s seconds."" % (total_ports, _calculate_delta(start, time.time()))) res = port_api_controller._get_ports_collection( resource_url='ports', node_ident=None, address=None, portgroup_ident=None, marker=res['ports'][-1]['uuid'], limit=None, sort_key=""id"", sort_dir=""asc"", fields=fields.split(',')) new_ports = len(res['ports']) if new_ports == 0: break total_ports = total_ports + new_ports delta = _calculate_delta(start, time.time()) print('Took %s seconds to return all %s ports via ' 'ports API call pattern.\n' % (delta, total_ports)) _assess_db_performance_ports() _assess_db_and_object_performance_ports() _assess_db_object_and_api_performance_ports()",,144,4
openstack%2Fsushy~856597,openstack/sushy,master,If25e30bfb9bf06fdbba6051177947d4d285ae2ab,Fix setting boot related attributes,MERGED,2022-09-09 04:50:55.000000000,2022-11-22 09:21:49.000000000,2022-11-22 09:20:37.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 27909}, {'_account_id': 32177}]","[{'number': 1, 'created': '2022-09-09 04:50:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/196ea2d2552bae2dd35c7fe644c81b614b6b5cb1', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 2, 'created': '2022-09-09 11:46:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/5e79b33a98ee01aaed088d94680a7c7eb4d11a3e', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 3, 'created': '2022-09-22 01:11:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/33ccaeb414c0441f15aa19e2d237fbb21cba875c', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 4, 'created': '2022-09-22 11:19:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/86e7dd86da3d225c2ed3788faf71ba0ba81b8cc1', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 5, 'created': '2022-09-27 12:40:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e576b74e85ebce7532c9dcd96d8f482944f4403d', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 6, 'created': '2022-09-27 12:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/47cadc5b2988aa1f86631f5b46c4fe7bad5bfa30', 'message': ""Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 7, 'created': '2022-09-27 20:35:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/25cf8f117f0bb92884f505ba9dda57c6358bf1df', 'message': ""Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 8, 'created': '2022-09-28 01:31:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/9646718933e4f24283dbf5ba65691cd876c81f28', 'message': ""Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 9, 'created': '2022-09-28 04:57:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e6d40325c2f533ad580dcfdbd032b9015beed0cf', 'message': ""Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 10, 'created': '2022-10-24 12:57:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/06dcc185c7856437079790c0b64377f8763754ea', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 11, 'created': '2022-10-25 13:24:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/49d67ada603aa1bc0fe1a4ba3d173c918c64cd14', 'message': ""[WIP] Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 12, 'created': '2022-10-26 05:14:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/398a195995173bd32b5078e63dc97c5a9a2f9409', 'message': ""Retry BootSourceOverride request when SettingsURI is read-only\n\nOn Lenovo SE450, System Settings URI advertised by the BMC is\ncurrently read-only and doesn't allow setting BootSourceOverride.\nIf this condition is detected, as a work around, re-try the request\ndisregarding Settings URI advertised by the BMC.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n""}, {'number': 13, 'created': '2022-10-26 05:26:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/33413d26adca211b949c088ad8528d3d78e4cd29', 'message': 'Retry BootSourceOverride request when SettingsURI is read-only\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 14, 'created': '2022-10-26 05:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/edf9208025be30933ea7204674552c57b66e1dc7', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 15, 'created': '2022-10-26 13:08:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/18da924389594ade34e151e2a4201c67789b5f0c', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 16, 'created': '2022-10-31 07:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/caf12318429b412752b105be526d7047c9c825c5', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 17, 'created': '2022-10-31 11:22:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/a0a6c56dafd4e857a39026ac1136fef1976c3ab1', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 18, 'created': '2022-10-31 23:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/568aacec2fc406aa901d6c9826d50d1c01cbb280', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 19, 'created': '2022-11-03 01:55:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/9cb9b50b94be842f215e984c662fee33a618cb25', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 20, 'created': '2022-11-03 12:00:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/649d8079ef4d72212f5d1440b443f35d1f39dab4', 'message': 'Only use SettingsURI for BootSourceOverride if the attribute is present\nin GET response\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 21, 'created': '2022-11-07 12:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/abcd0a21bfa183d51778c398bb2e00e130801c90', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 22, 'created': '2022-11-09 11:45:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/14c4bdae7de20bd2b45f470c5aba2f6e5754bda3', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 23, 'created': '2022-11-09 11:50:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/97cb69ecdc1b49cddcb4de46bdf233a6445f0d35', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 24, 'created': '2022-11-10 10:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/d814412087e7e6b2064c8d9aef81230f5ce14202', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}, {'number': 25, 'created': '2022-11-22 00:30:01.000000000', 'files': ['sushy/tests/unit/json_samples/settings-body-bootsourceoverridemode-only.json', 'sushy/resources/system/system.py', 'releasenotes/notes/check-for-boot-attrs-in-settingsuri-1cad07b6eb1c81b3.yaml', 'sushy/tests/unit/resources/system/test_system.py', 'sushy/tests/unit/json_samples/settings-body-nokia.json', 'sushy/tests/unit/json_samples/settings-body-lenovo-se450.json', 'sushy/tests/unit/json_samples/settings-lenovo-se450.json'], 'web_link': 'https://opendev.org/openstack/sushy/commit/2c8229046c6ca8aa342e028c96aaa066f517eb9f', 'message': 'Fix setting boot related attributes\n\nEnhance handling of System Settings URI so that it is only used\nfor PATCH requests needed for boot sequence overrides if\nthe attributes in question are present in response to a GET\nrequest against SettingsURI. If the attributes are absent, fall\nback to System URI.\n\nChange-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab\n'}]",56,856597,2c8229046c6ca8aa342e028c96aaa066f517eb9f,107,6,25,32177,,,0,"Fix setting boot related attributes

Enhance handling of System Settings URI so that it is only used
for PATCH requests needed for boot sequence overrides if
the attributes in question are present in response to a GET
request against SettingsURI. If the attributes are absent, fall
back to System URI.

Change-Id: If25e30bfb9bf06fdbba6051177947d4d285ae2ab
",git fetch https://review.opendev.org/openstack/sushy refs/changes/97/856597/1 && git format-patch -1 --stdout FETCH_HEAD,['sushy/resources/system/system.py'],1,196ea2d2552bae2dd35c7fe644c81b614b6b5cb1,pending-systemurl-fix,"import http.client as http_client settingsURI = self._settings.resource_uri try: self._conn.patch(settingsURI, data=data, headers=headers) except exceptions.HTTPError as response: if response.status_code == http_client.BAD_REQUEST: if (response.body['@Message.ExtendedInfo'][0]['MessageId'] [0] == ""Base.1.8.PropertyNotWritable""): LOG.warning(""SettingsURI %s is read only: %s, falling"" "" back to System URI"", response, settingsURI) self._conn.patch(path, data=data, headers=headers) else: # TODO(lucasagomes): Check the return code and response body ? # Probably we should call refresh() as well. if etag is not None: headers = {'If-Match': etag} self._conn.patch(path, data=data, headers=headers)"," path = self._settings.resource_uri # TODO(lucasagomes): Check the return code and response body ? # Probably we should call refresh() as well. if etag is not None: self._conn.patch(path, data=data, headers=headers)",19,6
openstack%2Fkolla-ansible~864853,openstack/kolla-ansible,master,Iabd11f03ff789f7fab8bec068bc9b4fb4dd1a2be,Improve kolla-ansible error on missing Ansible,MERGED,2022-11-17 09:58:16.000000000,2022-11-22 09:17:07.000000000,2022-11-22 09:15:57.000000000,"[{'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 27339}]","[{'number': 1, 'created': '2022-11-17 09:58:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/bd8f16eb7196b399942a77dc772fc4891656f3a7', 'message': 'Improve kolla-ansible error on missing Ansible\n\nAlso improve the error message to point out currently supported\nAnsible version.\n\nChange-Id: Iabd11f03ff789f7fab8bec068bc9b4fb4dd1a2be\n'}, {'number': 2, 'created': '2022-11-17 10:35:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c4f9c923500dde0224ba11ae10304f83ce261796', 'message': 'Improve kolla-ansible error on missing Ansible\n\nAlso improve the error message to point out currently supported\nAnsible version.\n\nChange-Id: Iabd11f03ff789f7fab8bec068bc9b4fb4dd1a2be\n'}, {'number': 3, 'created': '2022-11-22 06:23:04.000000000', 'files': ['tools/kolla-ansible'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fb447eb70af1ca3ab66710851419e0daddd106cc', 'message': 'Improve kolla-ansible error on missing Ansible\n\nAlso improve the error message to point out currently supported\nAnsible version.\n\nChange-Id: Iabd11f03ff789f7fab8bec068bc9b4fb4dd1a2be\n'}]",0,864853,fb447eb70af1ca3ab66710851419e0daddd106cc,13,4,3,22629,,,0,"Improve kolla-ansible error on missing Ansible

Also improve the error message to point out currently supported
Ansible version.

Change-Id: Iabd11f03ff789f7fab8bec068bc9b4fb4dd1a2be
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/864853/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/kolla-ansible'],1,bd8f16eb7196b399942a77dc772fc4891656f3a7,,"set -o errexit ANSIBLE_VERSION_MIN=2.12 ANSIBLE_VERSION_MAX=2.13 echo ""Ansible version should be between $ANSIBLE_VERSION_MIN and $ANSIBLE_VERSION_MAX."" >&2", local ANSIBLE_VERSION_MIN=2.12 local ANSIBLE_VERSION_MAX=2.13,6,2
openstack%2Fovn-octavia-provider~865140,openstack/ovn-octavia-provider,master,I1cadb861ff5eb8cf6379d561e693a967fd5b90fc,Increase code coverage,MERGED,2022-11-21 14:49:14.000000000,2022-11-22 09:10:05.000000000,2022-11-22 09:09:02.000000000,"[{'_account_id': 11975}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2022-11-21 14:49:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/9e09563b0332fbb3f7eb94c2b65e728fd89258af', 'message': 'Increase code coverage\n\nCoverage tests is flickering over the threshold configured on 92%.\n(without knowing the reason)\n\nThis patch adds additional unit tests to  files that has been\nflickering in the last running cover jobs, in order to keep the\nresults in a more stable line.\n\nChange-Id: I1cadb861ff5eb8cf6379d561e693a967fd5b90fc\n'}, {'number': 2, 'created': '2022-11-21 15:04:31.000000000', 'files': ['ovn_octavia_provider/tests/unit/hacking/test_checks.py', 'ovn_octavia_provider/tests/unit/test_driver.py'], 'web_link': 'https://opendev.org/openstack/ovn-octavia-provider/commit/71055bf30251a68666ddc5a5b9ad1c6228835b45', 'message': 'Increase code coverage\n\nCoverage tests is flickering over the threshold configured on 92%.\n(without knowing the reason)\n\nThis patch adds additional unit tests to  files that has been\nflickering in the last running cover jobs, in order to keep the\nresults in a more stable line.\n\nChange-Id: I1cadb861ff5eb8cf6379d561e693a967fd5b90fc\n'}]",1,865140,71055bf30251a68666ddc5a5b9ad1c6228835b45,11,3,2,34451,,,0,"Increase code coverage

Coverage tests is flickering over the threshold configured on 92%.
(without knowing the reason)

This patch adds additional unit tests to  files that has been
flickering in the last running cover jobs, in order to keep the
results in a more stable line.

Change-Id: I1cadb861ff5eb8cf6379d561e693a967fd5b90fc
",git fetch https://review.opendev.org/openstack/ovn-octavia-provider refs/changes/40/865140/1 && git format-patch -1 --stdout FETCH_HEAD,"['ovn_octavia_provider/tests/unit/hacking/test_checks.py', 'ovn_octavia_provider/tests/unit/test_driver.py']",2,9e09563b0332fbb3f7eb94c2b65e728fd89258af,," def test__ip_version_differs_lb_not_found(self): self.mock_find_ovn_lb_by_pool_id = mock.patch.object( ovn_helper.OvnProviderHelper, '_find_ovn_lb_by_pool_id').start() self.mock_find_ovn_lb_by_pool_id.return_value = (_, None) self.assertFalse(self.driver._ip_version_differs(self.ref_member)) def test__check_monitor_options_member_no_monitor_data(self): self.ref_member.monitor_address = None self.assertFalse(self.driver._check_monitor_options(self.ref_member)) def test_member_update_missing_subnet_id_differs_from_lb_vip(self): self.driver._ovn_helper._get_subnet_from_pool.return_value = ( self.ref_member.subnet_id, '198.52.100.0/24') self.driver._ovn_helper._check_ip_in_subnet.return_value = False self.ref_member.subnet_id = data_models.UnsetType() self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_update, self.ref_member, self.update_member) def test_member_delete_missing_subnet_id_differs_from_lb_vip(self): self.driver._ovn_helper._get_subnet_from_pool.return_value = ( self.ref_member.subnet_id, '198.52.100.0/24') self.driver._ovn_helper._check_ip_in_subnet.return_value = False self.ref_member.subnet_id = data_models.UnsetType() self.assertRaises(exceptions.UnsupportedOptionError, self.driver.member_delete, self.ref_member) def test_pool_create_with_health_monitor(self): self.ref_pool.healthmonitor = self.ref_health_monitor info = {'id': self.ref_pool.pool_id, 'loadbalancer_id': self.ref_pool.loadbalancer_id, 'listener_id': self.ref_pool.listener_id, 'protocol': self.ref_pool.protocol, 'lb_algorithm': constants.LB_ALGORITHM_SOURCE_IP_PORT, 'admin_state_up': self.ref_pool.admin_state_up} info_hm = {'id': self.ref_health_monitor.healthmonitor_id, 'pool_id': self.ref_health_monitor.pool_id, 'type': self.ref_health_monitor.type, 'interval': self.ref_health_monitor.delay, 'timeout': self.ref_health_monitor.timeout, 'failure_count': self.ref_health_monitor.max_retries_down, 'success_count': self.ref_health_monitor.max_retries, 'admin_state_up': self.ref_health_monitor.admin_state_up} expected_pool_dict = {'type': ovn_const.REQ_TYPE_POOL_CREATE, 'info': info} expected_hm_dict = {'type': ovn_const.REQ_TYPE_HM_CREATE, 'info': info_hm} calls = [mock.call(expected_pool_dict), mock.call(expected_hm_dict)] self.driver.pool_create(self.ref_pool) self.mock_add_request.assert_has_calls(calls) ",,79,1
openstack%2Fcyborg-tempest-plugin~860999,openstack/cyborg-tempest-plugin,master,Ia670358e21126838701f193b53d0a67dcb1c355b,create device profile name character is too long,MERGED,2022-10-13 09:07:40.000000000,2022-11-22 09:09:30.000000000,2022-11-22 09:09:30.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 29759}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-10-13 09:07:40.000000000', 'files': ['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'], 'web_link': 'https://opendev.org/openstack/cyborg-tempest-plugin/commit/a2eec8d6c1f9804739af7c170ff280d8b5e7b7de', 'message': 'create device profile name character is too long\n\ncreate device profile name character is too long\n\nChange-Id: Ia670358e21126838701f193b53d0a67dcb1c355b\n'}]",1,860999,a2eec8d6c1f9804739af7c170ff280d8b5e7b7de,8,4,1,30409,,,0,"create device profile name character is too long

create device profile name character is too long

Change-Id: Ia670358e21126838701f193b53d0a67dcb1c355b
",git fetch https://review.opendev.org/openstack/cyborg-tempest-plugin refs/changes/99/860999/1 && git format-patch -1 --stdout FETCH_HEAD,['cyborg_tempest_plugin/tests/api/test_device_profile_negative.py'],1,a2eec8d6c1f9804739af7c170ff280d8b5e7b7de,master19,"import random import string @test.attr(type=['negative', 'gate']) def test_create_device_profile_name_to_long(self): # create device profile name character is too long name_value = """".join(random.sample( string.ascii_letters * 10 + string.digits * 10, 256)) dp = [{ ""name"": name_value, ""groups"": [ { ""resources:FPGA"": ""1"", ""trait:CUSTOM_FAKE_DEVICE"": ""required"" }], ""description"": ""null"" }] # create device profile with character is too long self.assertRaises(lib_exc.ServerFault, self.os_admin.cyborg_client.create_device_profile, dp)",,22,0
openstack%2Fpuppet-tripleo~850602,openstack/puppet-tripleo,master,I1d62d43a1bd5edf7e6c69caaef532881a5b28356,Manila: Remove implementation for Dell EMC VMAX backend,ABANDONED,2022-07-21 03:18:30.000000000,2022-11-22 08:58:16.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-07-21 03:18:30.000000000', 'files': ['manifests/profile/base/manila/share.pp', 'manifests/profile/base/manila/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/abc912f212ff9c7f8dc855f4aaac87ce89156ea9', 'message': 'Manila: Remove implementation for Dell EMC VMAX backend\n\n... because it is not longer supported.\n\nChange-Id: I1d62d43a1bd5edf7e6c69caaef532881a5b28356\nDepneds-on: https://review.opendev.org/850601\n'}]",0,850602,abc912f212ff9c7f8dc855f4aaac87ce89156ea9,3,1,1,9816,,,0,"Manila: Remove implementation for Dell EMC VMAX backend

... because it is not longer supported.

Change-Id: I1d62d43a1bd5edf7e6c69caaef532881a5b28356
Depneds-on: https://review.opendev.org/850601
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/02/850602/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/manila/share.pp', 'manifests/profile/base/manila/api.pp']",2,abc912f212ff9c7f8dc855f4aaac87ce89156ea9,manila-remove-vmax, or $backend_powermax_enabled,"# [*backend_vmax_enabled*] # (Optional) Whether or not the vmax backend is enabled # Defaults to lookup('manila_backend_vmax_enabled', undef, undef, false) # $backend_vmax_enabled = lookup('manila_backend_vmax_enabled', undef, undef, false), or $backend_vmax_enabled or $backend_powermax_enabled",1,27
openstack%2Ftripleo-heat-templates~850601,openstack/tripleo-heat-templates,master,Icc956039a84cf7fdd22ba53fb1102280135fd2fd,Manila: Remove support for Dell EMC VMAX backend,ABANDONED,2022-07-21 03:16:13.000000000,2022-11-22 08:58:11.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-07-21 03:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c85dfcbaf7a0e51a67c0f57423059aa98699517c', 'message': 'Manila: Remove support for Dell EMC VMAX backend\n\nThe required implementation in puppet-manila was deprecated during\nYoga cycle and will be  removed in Zed (or a later release).\n\nBecause now TripleO supports the PowerMAX backend which replaces it\nand the implementation for VMAX backend is not functioning in recent\nreleases, this directly removes the remaining implementation.\n\nChange-Id: Icc956039a84cf7fdd22ba53fb1102280135fd2fd\n'}, {'number': 2, 'created': '2022-07-21 03:19:34.000000000', 'files': ['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'releasenotes/notes/remove-manila-vmax-a339b887b304d4d3.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/manila-vmax-config.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/668f901004885393bd204708b56d9a6e887f122f', 'message': 'Manila: Remove support for Dell EMC VMAX backend\n\nThe required implementation in puppet-manila was deprecated during\nYoga cycle[1] and will be removed in Zed (or a later release).\n\nBecause now TripleO supports the PowerMAX backend which replaces it\nand the implementation for VMAX backend is not functioning in recent\nreleases, this directly removes the remaining implementation.\n\n[1] https://review.opendev.org/c/openstack/puppet-manila/+/818182\n\nChange-Id: Icc956039a84cf7fdd22ba53fb1102280135fd2fd\n'}]",0,850601,668f901004885393bd204708b56d9a6e887f122f,5,2,2,9816,,,0,"Manila: Remove support for Dell EMC VMAX backend

The required implementation in puppet-manila was deprecated during
Yoga cycle[1] and will be removed in Zed (or a later release).

Because now TripleO supports the PowerMAX backend which replaces it
and the implementation for VMAX backend is not functioning in recent
releases, this directly removes the remaining implementation.

[1] https://review.opendev.org/c/openstack/puppet-manila/+/818182

Change-Id: Icc956039a84cf7fdd22ba53fb1102280135fd2fd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/850601/1 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'roles/Standalone.yaml', 'roles/ControllerNovaStandalone.yaml', 'roles/ControllerStorageNfs.yaml', 'deployment/manila/manila-backend-vmax.yaml', 'roles_data.yaml', 'roles/ControllerStorageDashboard.yaml', 'releasenotes/notes/remove-manila-vmax-a339b887b304d4d3.yaml', 'roles/ControllerAllNovaStandalone.yaml', 'ci/environments/scenario000-standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'roles/ControllerNoCeph.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'roles/Controller.yaml', 'ci/custom_ci_roles_data.yaml', 'environments/manila-vmax-config.yaml', 'environments/standalone/standalone-overcloud.yaml', 'roles/ControllerSriov.yaml', 'roles/ControllerOpenstack.yaml']",19,c85dfcbaf7a0e51a67c0f57423059aa98699517c,manila-remove-vmax,, - OS::TripleO::Services::ManilaBackendVMAX,9,112
openstack%2Fvenus~864281,openstack/venus,master,Id08cbd3d5a713b5d5f86ef007f06a1694d3fcca0,Supplement a unit test case for 'typical_logs'.,MERGED,2022-11-14 09:32:13.000000000,2022-11-22 08:51:16.000000000,2022-11-22 08:50:10.000000000,"[{'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-14 09:32:13.000000000', 'files': ['venus/tests/unit/api/test_search_action.py'], 'web_link': 'https://opendev.org/openstack/venus/commit/2624f6d95748057eaa49cb910335958a30c308bd', 'message': ""Supplement a unit test case for 'typical_logs'.\n\nChange-Id: Id08cbd3d5a713b5d5f86ef007f06a1694d3fcca0\n""}]",1,864281,2624f6d95748057eaa49cb910335958a30c308bd,8,3,1,34375,,,0,"Supplement a unit test case for 'typical_logs'.

Change-Id: Id08cbd3d5a713b5d5f86ef007f06a1694d3fcca0
",git fetch https://review.opendev.org/openstack/venus refs/changes/81/864281/1 && git format-patch -1 --stdout FETCH_HEAD,['venus/tests/unit/api/test_search_action.py'],1,2624f6d95748057eaa49cb910335958a30c308bd,," def test_typical_logs_invalid_param(self): action = SearchCore() expected = {""code"": -1, ""msg"": ""invalid param""} result = action.typical_logs('', '', '') self.assertEqual(expected, result) result = action.typical_logs(None, '', '') self.assertEqual(expected, result) ",,8,0
openstack%2Fpython-venusclient~864811,openstack/python-venusclient,master,I0ee2e15ac9549c3b702f770885ae521864583b00,Update readme,MERGED,2022-11-17 01:16:52.000000000,2022-11-22 08:50:09.000000000,2022-11-22 08:50:09.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 30562}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-17 01:16:52.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/49ad5d9dfef1c82b15958c936c922166f21e38b9', 'message': 'Update readme\n\nChange-Id: I0ee2e15ac9549c3b702f770885ae521864583b00\n'}]",0,864811,49ad5d9dfef1c82b15958c936c922166f21e38b9,6,4,1,26458,,,0,"Update readme

Change-Id: I0ee2e15ac9549c3b702f770885ae521864583b00
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/11/864811/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,49ad5d9dfef1c82b15958c936c922166f21e38b9,,For Contributors ================ * If you are a new contributor to python-venusclient please refer: :doc:`contributor/contributing` .. toctree:: :hidden: contributor/contributing , contributor/index,10,1
openstack%2Fpython-venusclient~864810,openstack/python-venusclient,master,I8d32e57012cc32d397908740f3e1e1b190fa3c31,Add contributing guide for venusclient,MERGED,2022-11-17 01:13:20.000000000,2022-11-22 08:50:07.000000000,2022-11-22 08:50:07.000000000,"[{'_account_id': 22348}, {'_account_id': 27565}, {'_account_id': 30562}, {'_account_id': 31412}]","[{'number': 1, 'created': '2022-11-17 01:13:20.000000000', 'files': ['doc/source/contributor/contributing.rst'], 'web_link': 'https://opendev.org/openstack/python-venusclient/commit/ee02665181dd9462ccc66af1d46d580cb17d6733', 'message': 'Add contributing guide for venusclient\n\nChange-Id: I8d32e57012cc32d397908740f3e1e1b190fa3c31\n'}]",0,864810,ee02665181dd9462ccc66af1d46d580cb17d6733,6,4,1,26458,,,0,"Add contributing guide for venusclient

Change-Id: I8d32e57012cc32d397908740f3e1e1b190fa3c31
",git fetch https://review.opendev.org/openstack/python-venusclient refs/changes/10/864810/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/contributing.rst'],1,ee02665181dd9462ccc66af1d46d580cb17d6733,contributing_docs,"============================ So You Want to Contribute... ============================ For general information on contributing to OpenStack, please check out the `contributor guide <https://docs.openstack.org/contributors/>`_ to get started. It covers all the basics that are common to all OpenStack projects: the accounts you need, the basics of interacting with our Gerrit review system, how we communicate as a community, etc. Below will cover the more project specific information you need to get started with python-venusclient. Communication ~~~~~~~~~~~~~ * IRC channel #openstack-venus at OFTC * Mailing list (prefix subjects with ``[venus]`` for faster responses) http://lists.openstack.org/cgi-bin/mailman/listinfo/openstack-discuss Contacting the Core Team ~~~~~~~~~~~~~~~~~~~~~~~~ Please refer the `python-venusclient Core Team <https://review.opendev.org/admin/groups/c5c6849cdb8c46f19e2cb128686c128f36a50f60,members>`_ contacts. New Feature Planning ~~~~~~~~~~~~~~~~~~~~ python-venusclient features are tracked on `Launchpad Bugs <https://bugs.launchpad.net/openstack-venus>`_. Task Tracking ~~~~~~~~~~~~~ We track our tasks in `Launchpad Bugs <https://bugs.launchpad.net/openstack-venus>`_. If you're looking for some smaller, easier work item to pick up and get started on, search for the 'low-hanging-fruit' tag. Reporting a Bug ~~~~~~~~~~~~~~~ You found an issue and want to make sure we are aware of it? You can do so on `Launchpad Bugs <https://bugs.launchpad.net/openstack-venus>`_. Getting Your Patch Merged ~~~~~~~~~~~~~~~~~~~~~~~~~ All changes proposed to the python-venusclient project require one or two +2 votes from python-venusclient core reviewers before one of the core reviewers can approve patch by giving ``Workflow +1`` vote. Project Team Lead Duties ~~~~~~~~~~~~~~~~~~~~~~~~ All common PTL duties are enumerated in the `PTL guide <https://docs.openstack.org/project-team-guide/ptl.html>`_.",============ Contributing ============ .. include:: ../../../CONTRIBUTING.rst,47,4
openstack%2Fcinder~864185,openstack/cinder,stable/wallaby,Ib04e49dac9fdabd81809ca389553ce3638bb9bbf,[PURE] support IPv6 / add parameter pure_iscsi_cidr_list,MERGED,2022-11-14 14:35:18.000000000,2022-11-22 08:47:09.000000000,2022-11-22 08:45:46.000000000,"[{'_account_id': 5314}, {'_account_id': 5689}, {'_account_id': 7198}, {'_account_id': 22348}, {'_account_id': 27615}]","[{'number': 1, 'created': '2022-11-14 14:35:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/a7419a24a6cac5e18671c65a8084af9fb91948f8', 'message': '[PURE] support IPv6 / add parameter pure_iscsi_cidr_list\n\nPure storage: Add support for IPv6 in pure_iscsi_cidr parameter.\nPure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.\n\nChange-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf\nCloses-Bug: 1910143\n(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)\n'}, {'number': 2, 'created': '2022-11-16 05:59:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/5ca770fe0f5a2cd42f185a4b866fabf61e3cc6a2', 'message': '[PURE] support IPv6 / add parameter pure_iscsi_cidr_list\n\nPure storage: Add support for IPv6 in pure_iscsi_cidr parameter.\nPure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.\n\nDepends-On: Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad\nChange-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf\nCloses-Bug: 1910143\n(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)\n'}, {'number': 3, 'created': '2022-11-17 22:15:00.000000000', 'files': ['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml'], 'web_link': 'https://opendev.org/openstack/cinder/commit/84dc4fb0599743ad19eac43ca2e10dedb5d5386b', 'message': '[PURE] support IPv6 / add parameter pure_iscsi_cidr_list\n\nPure storage: Add support for IPv6 in pure_iscsi_cidr parameter.\nPure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.\n\nDepends-On: Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad\nChange-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf\nCloses-Bug: 1910143\n(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)\n'}]",18,864185,84dc4fb0599743ad19eac43ca2e10dedb5d5386b,82,5,3,34598,,,0,"[PURE] support IPv6 / add parameter pure_iscsi_cidr_list

Pure storage: Add support for IPv6 in pure_iscsi_cidr parameter.
Pure storage: Add parameter pure_iscsi_cidr_list to support a list of networks.

Depends-On: Ib001e2b4d1347754c2b46730bc10d86e8cdab7ad
Change-Id: Ib04e49dac9fdabd81809ca389553ce3638bb9bbf
Closes-Bug: 1910143
(cherry picked from commit 7aa5e95d48c1bd0110001fb967c80e101f5b94dd)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/85/864185/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/volume/drivers/pure.py', 'cinder/tests/unit/volume/drivers/test_pure.py', 'releasenotes/notes/pure-iscsi-cidrs-7195eda9f7214fce.yaml']",3,a7419a24a6cac5e18671c65a8084af9fb91948f8,pure_iscsi_cidrs-stable/wallaby,--- fixes: - | Pure Storage FlashArray driver `bug 1910143 <https://bugs.launchpad.net/cinder/+bug/1910143>`_: Parameter ``pure_iscsi_cidr`` is now IPv4/v6 agnostic. features: - | Pure Storage FlashArray driver: added configuration option ``pure_iscsi_cidr_list`` for setting several network CIDRs for iSCSI target connection. Both IPv4 and IPv6 is supported. The default still allows all IPv4 targets. ,,153,18
openstack%2Fbarbican-tempest-plugin~787046,openstack/barbican-tempest-plugin,master,I83b4e1cf71625d3b3b12c896ff988dffc991f43b,Use py3 as the default runtime for tox,ABANDONED,2021-04-20 02:49:43.000000000,2022-11-22 08:38:15.000000000,,"[{'_account_id': 7973}, {'_account_id': 22348}]","[{'number': 1, 'created': '2021-04-20 02:49:43.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/barbican-tempest-plugin/commit/ddb523102bdbe21ce0d6f9e0566fba0d89500370', 'message': ""Use py3 as the default runtime for tox\n\nMoving on py3 as the default runtime for tox to avoid to update this at\neach new cycle.\n\nWallaby support officially the following runtimes [1]:\n- Python 3.6\n- Python 3.8\n\nDuring Victoria Python 3.7 was used as the default runtime [2] however this\nversion isn't longer officially supported.\n\n[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby\n[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria\n\nChange-Id: I83b4e1cf71625d3b3b12c896ff988dffc991f43b\n""}]",1,787046,ddb523102bdbe21ce0d6f9e0566fba0d89500370,8,2,1,31412,,,0,"Use py3 as the default runtime for tox

Moving on py3 as the default runtime for tox to avoid to update this at
each new cycle.

Wallaby support officially the following runtimes [1]:
- Python 3.6
- Python 3.8

During Victoria Python 3.7 was used as the default runtime [2] however this
version isn't longer officially supported.

[1] https://governance.openstack.org/tc/reference/runtimes/wallaby.html#python-runtimes-for-wallaby
[2] https://governance.openstack.org/tc/reference/runtimes/victoria.html#python-runtimes-for-victoria

Change-Id: I83b4e1cf71625d3b3b12c896ff988dffc991f43b
",git fetch https://review.opendev.org/openstack/barbican-tempest-plugin refs/changes/46/787046/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,ddb523102bdbe21ce0d6f9e0566fba0d89500370,,"envlist = py3,pypy,pep8","envlist = py38,pypy,pep8",1,1
openstack%2Fskyline-console~865120,openstack/skyline-console,master,I86366f33c613fe8957993078070ae8b7d70127f7,fix: Fix quick creating keypair in creating instance,ABANDONED,2022-11-21 10:44:57.000000000,2022-11-22 07:59:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 28706}, {'_account_id': 30434}]","[{'number': 1, 'created': '2022-11-21 10:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/e99582138183d15deec5736fb2af221917d55ce0', 'message': 'fix: Fix quick creating keypair in creating instance:\n\nUse public code for quick creating keypair when create cloud instance\n\nChange-Id: I86366f33c613fe8957993078070ae8b7d70127f7\n'}, {'number': 2, 'created': '2022-11-22 07:51:59.000000000', 'files': ['src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/resources/nova/keypair.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less'], 'web_link': 'https://opendev.org/openstack/skyline-console/commit/5819b3068864906120959cc2e461bb2b6c5503b5', 'message': 'fix: Fix quick creating keypair in creating instance\n\nUse public code for quick creating keypair when create cloud instance\n\nChange-Id: I86366f33c613fe8957993078070ae8b7d70127f7\n'}]",0,865120,5819b3068864906120959cc2e461bb2b6c5503b5,4,3,2,33689,,,0,"fix: Fix quick creating keypair in creating instance

Use public code for quick creating keypair when create cloud instance

Change-Id: I86366f33c613fe8957993078070ae8b7d70127f7
",git fetch https://review.opendev.org/openstack/skyline-console refs/changes/20/865120/1 && git format-patch -1 --stdout FETCH_HEAD,"['src/pages/compute/containers/Instance/actions/StepCreate/SystemStep/index.jsx', 'src/resources/nova/keypair.jsx', 'src/resources/nova/keypair.less', 'src/pages/compute/containers/Instance/actions/StepCreate/index.less']",4,e99582138183d15deec5736fb2af221917d55ce0,fix-instance-create-keypair,, .action-wrapper { margin-left: 8px; :global { .ant-btn-link { padding: 5.6px 15px !important; border-color: @primary-color; } } },71,59
openstack%2Fcharm-glance-k8s~865147,openstack/charm-glance-k8s,main,I300ff52401eb5ae1969327444f120be6f972a4e0,Upgrade charm to OpenStack Yoga,MERGED,2022-11-21 15:33:40.000000000,2022-11-22 07:33:04.000000000,2022-11-22 06:36:18.000000000,"[{'_account_id': 12549}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-21 15:33:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/3f6cc3de1735258ad9acb74b57c43bed6bea0f86', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nChange-Id: I300ff52401eb5ae1969327444f120be6f972a4e0\n'}, {'number': 2, 'created': '2022-11-21 16:45:19.000000000', 'files': ['tests/tests.yaml', 'osci.yaml', 'tests/bundles/smoke.yaml', 'metadata.yaml'], 'web_link': 'https://opendev.org/openstack/charm-glance-k8s/commit/a36e3c3eca4671a603e8e1d44f757e8ab13b57f8', 'message': 'Upgrade charm to OpenStack Yoga\n\nUpdate OCI image.\n\nRefresh bundles.\n\nUpdate OSCI publisher.\n\nMake default test/bundle name release agnostic.\n\nChange-Id: I300ff52401eb5ae1969327444f120be6f972a4e0\n'}]",0,865147,a36e3c3eca4671a603e8e1d44f757e8ab13b57f8,9,2,2,935,,,0,"Upgrade charm to OpenStack Yoga

Update OCI image.

Refresh bundles.

Update OSCI publisher.

Make default test/bundle name release agnostic.

Change-Id: I300ff52401eb5ae1969327444f120be6f972a4e0
",git fetch https://review.opendev.org/openstack/charm-glance-k8s refs/changes/47/865147/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/tests.yaml', 'osci.yaml', 'tests/bundles/yoga.yaml', 'metadata.yaml']",4,3f6cc3de1735258ad9acb74b57c43bed6bea0f86,upgrade-to-yoga, # docker.io/kolla/ubuntu-binary-glance-api:yoga upstream-source: docker.io/kolla/ubuntu-binary-glance-api@sha256:c333174a391b915d0b930a131c985d01462e60c5fe6f6f9f9dc7dd4a3f3be3cf, # docker.io/kolla/ubuntu-binary-glance-api:xena upstream-source: docker.io/kolla/ubuntu-binary-glance-api@sha256:8225f85767f9c712906d51526e749aacb25ed2ec8e93344067e50a15110d2b24,12,12
openstack%2Ftripleo-ansible~864906,openstack/tripleo-ansible,master,I168bb928e1a3943d243a61ddaa6fea32db7c9e5e,Remove cryptography pin,MERGED,2022-11-17 14:53:16.000000000,2022-11-22 07:21:56.000000000,2022-11-22 07:20:52.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-17 14:53:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7460aed454d88e8623984844c228b31ec5668ad3', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\nCloses-Bug: #1995608\n'}, {'number': 2, 'created': '2022-11-18 07:07:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a91f5038ce63060942babc026c26992007459b76', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 3, 'created': '2022-11-18 07:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/80e687a36bd5d5133e2734e928f94222c0adf4f0', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nDepends-On: https://review.opendev.org/c/openstack/tripleo-quickstart-extras/+/864838\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 4, 'created': '2022-11-18 07:26:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/8aa87f2f3f54222f88b495cc8d635f54d56a557d', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 5, 'created': '2022-11-18 07:26:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3d83b3e8bd4ab09430a63e0158650548d20c66ba', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 6, 'created': '2022-11-18 08:04:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6a4db9f0a1d74d95f9e6f2c7f33957b7de624514', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 7, 'created': '2022-11-18 10:51:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/dc0e72abf028e310ff8b0682ebdde8d633ba3108', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 8, 'created': '2022-11-18 12:23:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/980d37d817a924546a4b4ba5a1058c13628fc19e', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 9, 'created': '2022-11-18 13:25:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/93f9d151bc543166459a91bdd026199f43886247', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 10, 'created': '2022-11-18 15:10:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6369117c065dbac9fb836f557a4a7ca15b5ccbc7', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nWe also ensure the whole system is up-to-date.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 11, 'created': '2022-11-18 15:36:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b4ca2143a6cfb31ff07e73706861901169f0d97b', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nWe also ensure the whole system is up-to-date.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 12, 'created': '2022-11-18 15:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/16e85f7ac5e38eed73f75f88d447714afeb297a1', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}, {'number': 13, 'created': '2022-11-21 00:43:49.000000000', 'files': ['ansible-requirements.txt', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0fbc1b281acdb827bf1ade53f81d073953bfd58', 'message': 'Remove cryptography pin\n\nIf we ensure we\'re running with pyOpenSSL >= 22.1.0, we are all good\nwith the python ""cryptography"" latest version.\n\nCloses-Bug: #1995608\n\nChange-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e\n'}]",4,864906,c0fbc1b281acdb827bf1ade53f81d073953bfd58,32,3,13,28223,,,0,"Remove cryptography pin

If we ensure we're running with pyOpenSSL >= 22.1.0, we are all good
with the python ""cryptography"" latest version.

Closes-Bug: #1995608

Change-Id: I168bb928e1a3943d243a61ddaa6fea32db7c9e5e
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/864906/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'requirements.txt', 'molecule-requirements.txt']",3,7460aed454d88e8623984844c228b31ec5668ad3,molecule-corrections,,cryptography,2,2
openstack%2Fskyline-apiserver~865223,openstack/skyline-apiserver,master,I100fce84d94f2af5f07d68c5675a02ae05403110,fix: Fix the devstack for python3.8 and version in requirements,MERGED,2022-11-22 03:52:42.000000000,2022-11-22 07:16:29.000000000,2022-11-22 07:15:24.000000000,"[{'_account_id': 22348}, {'_account_id': 28706}]","[{'number': 1, 'created': '2022-11-22 03:52:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/c8aaba4b02d92c6716a922a15fc5634be85dadd9', 'message': 'fix: Fix the devstack for python3.8 install\n\nWhen the os is ubuntu, then we only need to make\nsure that python exists.\n\nChange-Id: I100fce84d94f2af5f07d68c5675a02ae05403110\n'}, {'number': 2, 'created': '2022-11-22 05:56:59.000000000', 'files': ['test-requirements.txt', 'devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/skyline-apiserver/commit/95e1c13f74395667aae3b5f63d845d83a279d113', 'message': 'fix: Fix the devstack for python3.8 and version in requirements\n\nWhen the os is ubuntu, then we only need to make\nsure that python exists.\nUpdate the version in requirements.\n\nChange-Id: I100fce84d94f2af5f07d68c5675a02ae05403110\n'}]",0,865223,95e1c13f74395667aae3b5f63d845d83a279d113,9,2,2,28706,,,0,"fix: Fix the devstack for python3.8 and version in requirements

When the os is ubuntu, then we only need to make
sure that python exists.
Update the version in requirements.

Change-Id: I100fce84d94f2af5f07d68c5675a02ae05403110
",git fetch https://review.opendev.org/openstack/skyline-apiserver refs/changes/23/865223/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,c8aaba4b02d92c6716a922a15fc5634be85dadd9,, if is_ubuntu; then install_package python-is-python3 # make sure python exists, if is_fedora; then install_package python38 else install_package python3.8 python-is-python3 # make sure python exists,2,4
openstack%2Fpuppet-swift~865231,openstack/puppet-swift,master,I1617960697c28ec7495c22889f7b950297785735,DNM: Testing canonical IPv6 address with the fix,ABANDONED,2022-11-22 06:26:56.000000000,2022-11-22 07:08:12.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2022-11-22 06:26:56.000000000', 'files': ['spec/acceptance/10_basic_swift_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-swift/commit/419236dc6d8e7bb531084fa5ccc560277fa87be8', 'message': 'DNM: Testing canonical IPv6 address with the fix\n\nChange-Id: I1617960697c28ec7495c22889f7b950297785735\n'}]",0,865231,419236dc6d8e7bb531084fa5ccc560277fa87be8,3,1,1,9816,,,0,"DNM: Testing canonical IPv6 address with the fix

Change-Id: I1617960697c28ec7495c22889f7b950297785735
",git fetch https://review.opendev.org/openstack/puppet-swift refs/changes/31/865231/1 && git format-patch -1 --stdout FETCH_HEAD,['spec/acceptance/10_basic_swift_spec.rb'],1,419236dc6d8e7bb531084fa5ccc560277fa87be8,bug/1997313," $swift_node_host = '[0000:0000:0000:0000:0000:0000:0000:0001]' storage_local_net_ip => $swift_node_host, $swift_node_host = '[0000:0000:0000:0000:0000:0000:0000:0001]' storage_local_net_ip => $swift_node_host,"," storage_local_net_ip => $::openstack_integration::config::host, storage_local_net_ip => $::openstack_integration::config::host,",4,2
openstack%2Fpuppet-tripleo~864606,openstack/puppet-tripleo,master,Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69,Remove manifests for VPP and Neutron ML2/VPP plugin,MERGED,2022-11-16 01:25:16.000000000,2022-11-22 06:20:32.000000000,2022-11-22 06:20:32.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}, {'_account_id': 30073}]","[{'number': 1, 'created': '2022-11-16 01:25:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/c3e7ba69e7efc11b6b1c31c249cf9d9cd0339067', 'message': 'Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n'}, {'number': 2, 'created': '2022-11-18 05:43:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/244d704b3974fe3499bb7d0094343d20dc11e554', 'message': 'Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t. This\nallows us to remove puppet-fdio, which looks unmaintained, from\nthe dependencies.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n'}, {'number': 3, 'created': '2022-11-18 05:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/50ef2dfae451ed4f03378f88b5cade9eb4679ae9', 'message': 'Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t. This\nallows us to remove puppet-fdio, which looks unmaintained, from\nthe dependencies.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n'}, {'number': 4, 'created': '2022-11-18 06:01:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/62fdf9e4dcc6c491d72066275a80422481188a3b', 'message': 'Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t. This\nallows us to remove puppet-fdio, which looks unmaintained, from\nthe dependencies.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n'}, {'number': 5, 'created': '2022-11-18 06:29:26.000000000', 'files': ['Puppetfile_extras', 'manifests/profile/base/vpp.pp', 'manifests/profile/base/neutron/agents/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/cd794e51ea8e22e03f5dc622fa3d4026fe339d07', 'message': 'Remove manifests for VPP and Neutron ML2/VPP plugin\n\n... because these services are no longer supported by t-h-t. This\nallows us to remove puppet-fdio, which looks unmaintained, from\nthe dependencies.\n\nDepends-on: https://review.opendev.org/864605\nChange-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69\n'}]",2,864606,cd794e51ea8e22e03f5dc622fa3d4026fe339d07,19,4,5,9816,,,0,"Remove manifests for VPP and Neutron ML2/VPP plugin

... because these services are no longer supported by t-h-t. This
allows us to remove puppet-fdio, which looks unmaintained, from
the dependencies.

Depends-on: https://review.opendev.org/864605
Change-Id: Ibe0a59ad3dd9069e9650036cb2af31a3b9ddfb69
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/06/864606/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/profile/base/vpp.pp', 'manifests/profile/base/neutron/agents/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2/vpp.pp', 'manifests/profile/base/neutron/plugins/ml2.pp']",4,c3e7ba69e7efc11b6b1c31c249cf9d9cd0339067,tripleo-remove-vpp,, if 'vpp' in $mechanism_drivers { include tripleo::profile::base::neutron::plugins::ml2::vpp } ,0,134
openstack%2Fironic~862616,openstack/ironic,master,I017c6560f9de884eefb2c1925321380cc1c721e2,Change boot_interface order of iRMC driver,MERGED,2022-10-25 14:03:23.000000000,2022-11-22 05:56:05.000000000,2022-11-22 05:54:40.000000000,"[{'_account_id': 4571}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-10-25 14:03:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/e1f5fd9ac58bb299129e75897ae45df90bd8cf4f', 'message': 'Change boot_interface order of iRMC driver\n\nThis change aligns the boot interface order of the irmc\nhardware type to match the other hardware type interface\norder lists.\n\nThis change is a result of an operator reporting inconsistent\nbehavior of ironic when they are adding nodes using the irmc\nhardware type, where they would default to use the ""irmc-pxe"" boot\ninterface, where as the other interfaces would end up defaulting\nto ""ipxe"".\n\nChange-Id: I017c6560f9de884eefb2c1925321380cc1c721e2\n'}, {'number': 2, 'created': '2022-10-27 03:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/08d0b3e3a1020b7be9c5e119ccfe3816ccc05432', 'message': 'Change boot_interface order of iRMC driver\n\nThis change aligns the boot interface order of the irmc\nhardware type to match the other hardware type interface\norder lists.\n\nThis change is a result of an operator reporting inconsistent\nbehavior of ironic when they are adding nodes using the irmc\nhardware type, where they would default to use the ""irmc-pxe"" boot\ninterface, where as the other interfaces would end up defaulting\nto ""ipxe"".\n\nChange-Id: I017c6560f9de884eefb2c1925321380cc1c721e2\n'}, {'number': 3, 'created': '2022-10-27 05:38:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/a397f16c63c735fd9a69394c393e9618058768f1', 'message': 'Change boot_interface order of iRMC driver\n\nThis change aligns the boot interface order of the irmc\nhardware type to match the other hardware type interface\norder lists.\n\nThis change is a result of an operator reporting inconsistent\nbehavior of ironic when they are adding nodes using the irmc\nhardware type, where they would default to use the ""irmc-pxe"" boot\ninterface, where as the other interfaces would end up defaulting\nto ""ipxe"".\n\nChange-Id: I017c6560f9de884eefb2c1925321380cc1c721e2\n'}, {'number': 4, 'created': '2022-10-27 06:18:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/5e21e3c5d7e7f12707d4e6a163b3147bec139df6', 'message': 'Change boot_interface order of iRMC driver\n\nThis change aligns the boot interface order of the irmc\nhardware type to match the other hardware type interface\norder lists.\n\nThis change is a result of an operator reporting inconsistent\nbehavior of ironic when they are adding nodes using the irmc\nhardware type, where they would default to use the ""irmc-pxe"" boot\ninterface, where as the other interfaces would end up defaulting\nto ""ipxe"".\n\nChange-Id: I017c6560f9de884eefb2c1925321380cc1c721e2\n'}, {'number': 5, 'created': '2022-11-07 02:56:25.000000000', 'files': ['releasenotes/notes/irmc-change-boot-interface-order-e76f5018da116a90.yaml', 'ironic/drivers/irmc.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/2200f931de0d2515397781a8c7db66c636d2b297', 'message': 'Change boot_interface order of iRMC driver\n\nThis change aligns the boot interface order of the irmc\nhardware type to match the other hardware type interface\norder lists.\n\nThis change is a result of an operator reporting inconsistent\nbehavior of ironic when they are adding nodes using the irmc\nhardware type, where they would default to use the ""irmc-pxe"" boot\ninterface, where as the other interfaces would end up defaulting\nto ""ipxe"".\n\nChange-Id: I017c6560f9de884eefb2c1925321380cc1c721e2\n'}]",5,862616,2200f931de0d2515397781a8c7db66c636d2b297,30,3,5,30566,,,0,"Change boot_interface order of iRMC driver

This change aligns the boot interface order of the irmc
hardware type to match the other hardware type interface
order lists.

This change is a result of an operator reporting inconsistent
behavior of ironic when they are adding nodes using the irmc
hardware type, where they would default to use the ""irmc-pxe"" boot
interface, where as the other interfaces would end up defaulting
to ""ipxe"".

Change-Id: I017c6560f9de884eefb2c1925321380cc1c721e2
",git fetch https://review.opendev.org/openstack/ironic refs/changes/16/862616/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/irmc-change-boot-interface-order-e76f5018da116a90.yaml', 'ironic/drivers/irmc.py']",2,e1f5fd9ac58bb299129e75897ae45df90bd8cf4f,change_boot_interface_order," return [ipxe.iPXEBoot, boot.IRMCPXEBoot, pxe.PXEBoot, boot.IRMCVirtualMediaBoot]"," return [boot.IRMCVirtualMediaBoot, boot.IRMCPXEBoot, ipxe.iPXEBoot, pxe.PXEBoot]",28,2
openstack%2Fsolum~857686,openstack/solum,stable/zed,I49dadeeef1819a7f9e12f6f987b957a229ef78ea,Update TOX_CONSTRAINTS_FILE for stable/zed,MERGED,2022-09-14 13:42:37.000000000,2022-11-22 05:30:43.000000000,2022-11-22 05:28:59.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-14 13:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/2e63338aae90754163705d4f8c93de8e70a46228', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I49dadeeef1819a7f9e12f6f987b957a229ef78ea\n'}, {'number': 2, 'created': '2022-10-18 08:46:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/08306d161f2649006b5296a3abaf3b0f6ff984af', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I49dadeeef1819a7f9e12f6f987b957a229ef78ea\n'}, {'number': 3, 'created': '2022-10-19 06:31:50.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/solum/commit/41a9354f2e5b9f5bd12574154738919542f70276', 'message': 'Update TOX_CONSTRAINTS_FILE for stable/zed\n\nUpdate the URL to the upper-constraints file to point to the redirect\nrule on releases.openstack.org so that anyone working on this branch\nwill switch to the correct upper-constraints list automatically when\nthe requirements repository branches.\n\nUntil the requirements repository has as stable/zed branch, tests will\ncontinue to use the upper-constraints list on master.\n\nChange-Id: I49dadeeef1819a7f9e12f6f987b957a229ef78ea\n'}]",1,857686,41a9354f2e5b9f5bd12574154738919542f70276,15,3,3,22816,,,0,"Update TOX_CONSTRAINTS_FILE for stable/zed

Update the URL to the upper-constraints file to point to the redirect
rule on releases.openstack.org so that anyone working on this branch
will switch to the correct upper-constraints list automatically when
the requirements repository branches.

Until the requirements repository has as stable/zed branch, tests will
continue to use the upper-constraints list on master.

Change-Id: I49dadeeef1819a7f9e12f6f987b957a229ef78ea
",git fetch https://review.opendev.org/openstack/solum refs/changes/86/857686/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,2e63338aae90754163705d4f8c93de8e70a46228,create-zed, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/zed}, -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:TOX_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},3,3
openstack%2Fsolum~857685,openstack/solum,stable/zed,I9e63fed479383b0e7515346bad1cf95ee2a6a168,Update .gitreview for stable/zed,MERGED,2022-09-14 13:42:36.000000000,2022-11-22 05:29:54.000000000,2022-11-22 05:28:58.000000000,"[{'_account_id': 14107}, {'_account_id': 22348}, {'_account_id': 30396}]","[{'number': 1, 'created': '2022-09-14 13:42:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/6da213f2ac7ec954cf1f760000f4609023d3d379', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I9e63fed479383b0e7515346bad1cf95ee2a6a168\n'}, {'number': 2, 'created': '2022-10-18 08:37:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/solum/commit/00c1843f23884a922802ee86449850d4093969f2', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I9e63fed479383b0e7515346bad1cf95ee2a6a168\n'}, {'number': 3, 'created': '2022-10-19 06:31:30.000000000', 'files': ['.gitreview'], 'web_link': 'https://opendev.org/openstack/solum/commit/fb9950c57fa07a9a1ec6fa316a5b569c53d20f87', 'message': 'Update .gitreview for stable/zed\n\nChange-Id: I9e63fed479383b0e7515346bad1cf95ee2a6a168\n'}]",7,857685,fb9950c57fa07a9a1ec6fa316a5b569c53d20f87,28,3,3,22816,,,0,"Update .gitreview for stable/zed

Change-Id: I9e63fed479383b0e7515346bad1cf95ee2a6a168
",git fetch https://review.opendev.org/openstack/solum refs/changes/85/857685/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitreview'],1,6da213f2ac7ec954cf1f760000f4609023d3d379,create-zed,defaultbranch=stable/zed,,1,0
openstack%2Fpuppet-neutron~864452,openstack/puppet-neutron,master,I99fa84f86d7c14b21393373d4684c24a4571d00d,Remove remaining parameter of the Nicira NVP plugin,MERGED,2022-11-15 02:03:17.000000000,2022-11-22 04:57:40.000000000,2022-11-22 04:56:32.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-15 02:03:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/6faec53ee4e5bcb0ef7dd706fc923c58b8674cc8', 'message': 'Remove remaining parameter of the Nicira NVP plugin\n\nThis change removes the remaining parameter of NVP plugin, which was\nformally deprecated during the past cycle by [1].\n\n[1] 4117660c384e703554b80a3a0599fc1911d173f5\n\nChange-Id: I99fa84f86d7c14b21393373d4684c24a4571d00d\n'}, {'number': 2, 'created': '2022-11-18 01:47:36.000000000', 'files': ['releasenotes/notes/cleanup-nvp-plugin-0983eaf44257d7ea.yaml', 'spec/acceptance/99_neutron_config_spec.rb', 'manifests/config.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e0e35b84f4c8de9a10d1206cc201977fa822d4f0', 'message': 'Remove remaining parameter of the Nicira NVP plugin\n\nThis change removes the remaining parameter of NVP plugin, which was\nformally deprecated during the past cycle by [1].\n\n[1] 4117660c384e703554b80a3a0599fc1911d173f5\n\nChange-Id: I99fa84f86d7c14b21393373d4684c24a4571d00d\n'}]",4,864452,e0e35b84f4c8de9a10d1206cc201977fa822d4f0,21,3,2,9816,,,0,"Remove remaining parameter of the Nicira NVP plugin

This change removes the remaining parameter of NVP plugin, which was
formally deprecated during the past cycle by [1].

[1] 4117660c384e703554b80a3a0599fc1911d173f5

Change-Id: I99fa84f86d7c14b21393373d4684c24a4571d00d
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/52/864452/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/cleanup-nvp-plugin-0983eaf44257d7ea.yaml', 'manifests/config.pp']",2,6faec53ee4e5bcb0ef7dd706fc923c58b8674cc8,,,"# [*plugin_nvp_config*] # (optional) Manage configuration of /etc/neutron/plugins/nicira/nvp.ini # $plugin_nvp_config = undef, if $plugin_nvp_config != undef { warning('The plugin_nvp_config parameter is deprecated and has no effect.') } ",4,8
openstack%2Fkeystonemiddleware~743687,openstack/keystonemiddleware,master,I53acc199be78bd994839de5ff2b17006e874aa5b,Support SASL for memcached,NEW,2020-07-29 07:55:05.000000000,2022-11-22 04:50:29.000000000,,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27954}, {'_account_id': 28522}]","[{'number': 1, 'created': '2020-07-29 07:55:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/32886de09dcd5987c802553025fc49240048b023', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\n'}, {'number': 2, 'created': '2020-07-29 08:00:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/7ff9f2de13a3d1f1aacd09a42489ddaecc548c16', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol for\nketstonemiddlware, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2\nin keystonemiddleware requirements.\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 3, 'created': '2020-07-29 09:40:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/e35e0a10e5400a1ff08524d8b5e6ca7209391113', 'message': 'Add python-binary-memcached and uhashring to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached and uhashring in requirement, and we\nneed these package to support sasl protocol for\nketstonemiddlware, so we should bump\npython-binary-memcached>=0.29.0 and uhashring>=1.2\nin keystonemiddleware requirements.\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 4, 'created': '2020-08-12 12:35:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d8dbbb62c227c308547a92a9b88efd365b983e35', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we\nneed these package to support sasl protocol for\nketstonemiddlware, so we should bump\npython-binary-memcached>=0.29.0\nin keystonemiddleware requirements.\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 5, 'created': '2020-08-13 09:18:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/caf0d875f0264f465026c1003782344265e65475', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we\nneed these package to support sasl protocol for\nketstonemiddlware, so we should bump\npython-binary-memcached>=0.29.0\nin keystonemiddleware requirements.\nOnly required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 6, 'created': '2022-01-13 08:30:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d949a763888e51f5e97c8d78d8cfb09cbcac0e53', 'message': 'Add python-binary-memcached to support SASL\n\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we\nneed these package to support sasl protocol for\nketstonemiddlware, so we should bump\npython-binary-memcached>=0.29.0\nin keystonemiddleware requirements.\nOnly required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 7, 'created': '2022-01-13 09:13:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ae563035817854e22e26acbf23a842d1dc57f99b', 'message': 'Support SASL for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackages to support sasl protocol for ketstonemiddlware, so we\nshould bump python-binary-memcached>=0.29.0 in keystonemiddleware\nrequirements. Only required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 8, 'created': '2022-08-04 02:31:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/b7080c2ef57a0ff5111a7553cd2d36622477ff8f', 'message': 'Support SASL for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackages to support sasl protocol for ketstonemiddlware, so we\nshould bump python-binary-memcached>=0.29.0 in keystonemiddleware\nrequirements. Only required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 9, 'created': '2022-08-04 06:02:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/d9fe0463580e434eec4c0ee3ec3fb398005cbbb1', 'message': 'Support SASL for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackages to support sasl protocol for ketstonemiddlware, so we\nshould bump python-binary-memcached>=0.29.0 in keystonemiddleware\nrequirements. Only required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 10, 'created': '2022-08-04 06:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/ef7c1d0a34d51230d2cdcee0063760b50e98c007', 'message': 'Support SASL for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackages to support sasl protocol for ketstonemiddlware, so we\nshould bump python-binary-memcached>=0.29.0 in keystonemiddleware\nrequirements. Only required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}, {'number': 11, 'created': '2022-11-22 03:21:37.000000000', 'files': ['keystonemiddleware/auth_token/_opts.py', 'test-requirements.txt', 'keystonemiddleware/tests/unit/test_opts.py', 'keystonemiddleware/auth_token/_cache.py', 'releasenotes/notes/enable-sasl-protocol-946149083f604216.yaml', 'doc/requirements.txt', 'keystonemiddleware/auth_token/__init__.py'], 'web_link': 'https://opendev.org/openstack/keystonemiddleware/commit/667950355129bb04c671c4ceda46d63a9a6b45b0', 'message': 'Support SASL for memcached\n\nAdd the SASL protocol for memcached, to improve the security of\nauthority when keystonemiddleware accessing the memcached servers.\nIn 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced\npython-binary-memcached in requirement, and we need these\npackages to support sasl protocol for ketstonemiddlware, so we\nshould bump python-binary-memcached>=0.29.0 in keystonemiddleware\nrequirements. Only required for sasl/binary protocol\n\nChange-Id: I53acc199be78bd994839de5ff2b17006e874aa5b\nImplements: blueprint enable-sasl-protocol\n'}]",4,743687,667950355129bb04c671c4ceda46d63a9a6b45b0,29,5,11,31827,,,0,"Support SASL for memcached

Add the SASL protocol for memcached, to improve the security of
authority when keystonemiddleware accessing the memcached servers.
In 7828bed0febabfa11a0a8f6960f4c7cc8acec841 we were introduced
python-binary-memcached in requirement, and we need these
packages to support sasl protocol for ketstonemiddlware, so we
should bump python-binary-memcached>=0.29.0 in keystonemiddleware
requirements. Only required for sasl/binary protocol

Change-Id: I53acc199be78bd994839de5ff2b17006e874aa5b
Implements: blueprint enable-sasl-protocol
",git fetch https://review.opendev.org/openstack/keystonemiddleware refs/changes/87/743687/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'lower-constraints.txt', 'doc/requirements.txt']",3,32886de09dcd5987c802553025fc49240048b023,bp/enable-sasl-protocol, # Only required for sasl/binary protocol python-binary-memcached>=0.29.0 # MIT uhashring>=1.2 # BSD,,10,0
openstack%2Fpuppet-nova~864958,openstack/puppet-nova,master,I1e89883a9044b4d6bfd810d0a616b6a29aeff050,Remove cleanup of [pci] passthrough_whitelist,MERGED,2022-11-18 02:17:23.000000000,2022-11-22 04:43:53.000000000,2022-11-22 04:43:53.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 02:17:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/45c5cee1cea32d7dbf8d36420a71ec0125cf19cc', 'message': 'Remove cleanup of [pci] passthrough_whitelist\n\nThis logic was added during the previous cycle[1] as part of migration\nto the new [pci] device_spec parameter. The old parameter should be\nremoved when a deployment is upgraded to Zed so we no longer need this\nbeyond Antelope.\n\n[1] 502aec2406e59806d23e8d857920d5d8f2ca6cd3\n\nChange-Id: I1e89883a9044b4d6bfd810d0a616b6a29aeff050\n'}, {'number': 2, 'created': '2022-11-18 02:19:39.000000000', 'files': ['manifests/compute/pci.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/d1fb621505eda9684f1563821c5c0b332a19fe1f', 'message': 'Remove cleanup of [pci] passthrough_whitelist\n\nThis logic was added during the previous cycle[1] as part of migration\nto the new [pci] device_spec parameter. The old parameter should be\nremoved when a deployment is upgraded to Zed so we no longer need this\nbeyond Zed.\n\n[1] 502aec2406e59806d23e8d857920d5d8f2ca6cd3\n\nChange-Id: I1e89883a9044b4d6bfd810d0a616b6a29aeff050\n'}]",1,864958,d1fb621505eda9684f1563821c5c0b332a19fe1f,13,4,2,9816,,,0,"Remove cleanup of [pci] passthrough_whitelist

This logic was added during the previous cycle[1] as part of migration
to the new [pci] device_spec parameter. The old parameter should be
removed when a deployment is upgraded to Zed so we no longer need this
beyond Zed.

[1] 502aec2406e59806d23e8d857920d5d8f2ca6cd3

Change-Id: I1e89883a9044b4d6bfd810d0a616b6a29aeff050
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/58/864958/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/compute/pci.pp'],1,45c5cee1cea32d7dbf8d36420a71ec0125cf19cc,,, # TODO(tkajinam): Remove this after Zed release. nova_config { 'pci/passthrough_whitelist': ensure => absent; },0,5
openstack%2Fpuppet-neutron~864963,openstack/puppet-neutron,master,Icf6c4e3c6585bfa01127695b2f00dbfb56692546,ODL: Drop cleanup of [ovs] ovsdb_connection,MERGED,2022-11-18 02:35:51.000000000,2022-11-22 04:28:12.000000000,2022-11-22 04:28:12.000000000,"[{'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2022-11-18 02:35:51.000000000', 'files': ['manifests/plugins/ml2/opendaylight.pp'], 'web_link': 'https://opendev.org/openstack/puppet-neutron/commit/e1aef2ddd3b1d5794619e7840d642057b2410032', 'message': 'ODL: Drop cleanup of [ovs] ovsdb_connection\n\n... because it was added during Zed cycle[1] and the cleanup should be\ndone when a deployment is upgraded to Zed.\n\n[1] d806c5a1bd3c967e59b0da245692996aef1008d4\n\nChange-Id: Icf6c4e3c6585bfa01127695b2f00dbfb56692546\n'}]",1,864963,e1aef2ddd3b1d5794619e7840d642057b2410032,11,3,1,9816,,,0,"ODL: Drop cleanup of [ovs] ovsdb_connection

... because it was added during Zed cycle[1] and the cleanup should be
done when a deployment is upgraded to Zed.

[1] d806c5a1bd3c967e59b0da245692996aef1008d4

Change-Id: Icf6c4e3c6585bfa01127695b2f00dbfb56692546
",git fetch https://review.opendev.org/openstack/puppet-neutron refs/changes/63/864963/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/plugins/ml2/opendaylight.pp'],1,e1aef2ddd3b1d5794619e7840d642057b2410032,,, # TODO(tkajinam): Remove this after Zed release. neutron_config { 'OVS/ovsdb_connection': ensure => absent; },0,5
openstack%2Ftripleo-ansible~865151,openstack/tripleo-ansible,stable/zed,I34fde706fea2a60dbf86d11f4c8930e3d2596670,Correct constant's spelling error,MERGED,2022-11-21 15:15:04.000000000,2022-11-22 03:29:39.000000000,2022-11-22 03:28:28.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-11-21 15:15:04.000000000', 'files': ['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/96b60ea99261fc5c43a3779c400c678b014d20f7', 'message': ""Correct constant's spelling error\n\nThis is not a functional change. It just improves readability.\n\nChange-Id: I34fde706fea2a60dbf86d11f4c8930e3d2596670\n(cherry picked from commit ae16ef2a206ec2ef05e5733d2921a8d1b4ef2fe5)\n""}]",1,865151,96b60ea99261fc5c43a3779c400c678b014d20f7,8,4,1,6816,,,0,"Correct constant's spelling error

This is not a functional change. It just improves readability.

Change-Id: I34fde706fea2a60dbf86d11f4c8930e3d2596670
(cherry picked from commit ae16ef2a206ec2ef05e5733d2921a8d1b4ef2fe5)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/51/865151/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/ansible_plugins/modules/tripleo_overcloud_network_extract.py'],1,96b60ea99261fc5c43a3779c400c678b014d20f7,,DEFAULT_NETWORK_SHARED = False if _dict['shared'] == DEFAULT_NETWORK_SHARED:,DEFAULT_NETWROK_SHARED = False if _dict['shared'] == DEFAULT_NETWROK_SHARED:,2,2
openstack%2Ftripleo-ansible~864093,openstack/tripleo-ansible,stable/train,I68a89e413b7c3eecb747386998bd36314250384b,Make creating/updating users idempotent,MERGED,2022-11-09 08:24:53.000000000,2022-11-22 03:28:26.000000000,2022-11-22 03:28:26.000000000,"[{'_account_id': 8833}, {'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-09 08:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ea28b3f24721859af38200e4cbbef04ebefd1c2b', 'message': 'Make creating/updating users idempotent\n\nSimilarly as in [1], updating user passwords causes auth tokens to\nbe revoked, which may cause service interrupution during a minor\nupdate, or even cause a prolonged interruption in case of swift [2]\n\n[1] https://bugs.launchpad.net/keystone/+bug/1647800\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2097350\n\nChange-Id: I68a89e413b7c3eecb747386998bd36314250384b\nRelated: rhbz#2097350\n(cherry picked from commit b779d63b63735d4daa4286d8621d01e2c59de906)\n'}, {'number': 2, 'created': '2022-11-09 12:31:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/663cdcafbf43f99da3a55fecd00c09d689b529a1', 'message': 'Make creating/updating users idempotent\n\nSimilarly as in [1], updating user passwords causes auth tokens to\nbe revoked, which may cause service interrupution during a minor\nupdate, or even cause a prolonged interruption in case of swift [2]\n\n[1] https://bugs.launchpad.net/keystone/+bug/1647800\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2097350\n\nChange-Id: I68a89e413b7c3eecb747386998bd36314250384b\nRelated: rhbz#2097350\n(cherry picked from commit b779d63b63735d4daa4286d8621d01e2c59de906)\n'}, {'number': 3, 'created': '2022-11-10 08:15:13.000000000', 'files': ['tripleo_ansible/roles/tripleo-keystone-resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7b8005f56056c3f7935a6721e141abeb288be05c', 'message': 'Make creating/updating users idempotent\n\nSimilarly as in [1], updating user passwords causes auth tokens to\nbe revoked, which may cause service interrupution during a minor\nupdate, or even cause a prolonged interruption in case of swift [2]\n\n[1] https://bugs.launchpad.net/keystone/+bug/1647800\n[2] https://bugzilla.redhat.com/show_bug.cgi?id=2097350\n\nChange-Id: I68a89e413b7c3eecb747386998bd36314250384b\nRelated: rhbz#2097350\n(cherry picked from commit b779d63b63735d4daa4286d8621d01e2c59de906)\n'}]",1,864093,7b8005f56056c3f7935a6721e141abeb288be05c,15,5,3,14250,,,0,"Make creating/updating users idempotent

Similarly as in [1], updating user passwords causes auth tokens to
be revoked, which may cause service interrupution during a minor
update, or even cause a prolonged interruption in case of swift [2]

[1] https://bugs.launchpad.net/keystone/+bug/1647800
[2] https://bugzilla.redhat.com/show_bug.cgi?id=2097350

Change-Id: I68a89e413b7c3eecb747386998bd36314250384b
Related: rhbz#2097350
(cherry picked from commit b779d63b63735d4daa4286d8621d01e2c59de906)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/93/864093/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-keystone-resources/tasks/admin.yml', 'tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml']",2,ea28b3f24721859af38200e4cbbef04ebefd1c2b,,"- name: ""Check password of Keystone user"" openstack.cloud.identity_user_info: name: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" auth_type: ""v3password"" auth: auth_url: ""{{ tripleo_keystone_resources_public_endpoint }}"" username: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" password: ""{{ lookup('dict', tripleo_keystone_resources_data).value.password }}"" user_domain_id: ""{{ lookup('dict', tripleo_keystone_resources_data).value.domain | default('default') }}"" project_name: ""{{ tripleo_keystone_resources_service_project }}"" project_domain_id: default register: tripleo_keystone_resources_user_info_results ignore_errors: true loop: ""{{ batched_tripleo_keystone_resources_data }}"" loop_control: label: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" loop_var: tripleo_keystone_resources_data name: ""{{ lookup('dict', tripleo_keystone_resources_data.0).value.name | default(lookup('dict', tripleo_keystone_resources_data.0).key) }}"" password: ""{{ lookup('dict', tripleo_keystone_resources_data.0).value.password }}"" update_password: ""{{ tripleo_keystone_resources_data.1 is failed | ternary('always', 'on_create') }}"" email: ""{{ lookup('dict', tripleo_keystone_resources_data.0).key }}@localhost"" domain: ""{{ lookup('dict', tripleo_keystone_resources_data.0).value.domain | default('default') }}"" loop: ""{{ batched_tripleo_keystone_resources_data|zip(tripleo_keystone_resources_user_info_results.results)|list }}"" loop_control: label: ""{{ lookup('dict', tripleo_keystone_resources_data.0).value.name | default(lookup('dict', tripleo_keystone_resources_data.0).key) }}"" label: ""{{ lookup('dict', tripleo_keystone_resources_user_async_result_item.tripleo_keystone_resources_data.0).key }}"""," name: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" password: ""{{ lookup('dict', tripleo_keystone_resources_data).value.password }}"" update_password: always email: ""{{ lookup('dict', tripleo_keystone_resources_data).key }}@localhost"" domain: ""{{ lookup('dict', tripleo_keystone_resources_data).value.domain | default('default') }}"" loop: ""{{ batched_tripleo_keystone_resources_data }}"" loop_control: label: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"" label: ""{{ lookup('dict', tripleo_keystone_resources_user_async_result_item.tripleo_keystone_resources_data).key }}""",41,9
openstack%2Ftripleo-ansible~864166,openstack/tripleo-ansible,stable/train,I646cd49b614a9f494e77f9893521d3c070900ed5,Move cryprography pin,MERGED,2022-11-10 08:10:52.000000000,2022-11-22 03:23:40.000000000,2022-11-22 03:22:28.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-10 08:10:52.000000000', 'files': ['ansible-requirements.txt', 'tripleo_ansible/roles/tripleo-keystone-resources/molecule/default/start_keystone.sh', 'tox.ini', 'molecule-requirements.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f82c62aefc8d90600e7111ae96bbce0653f23c22', 'message': 'Move cryprography pin\n\nThis moves the cryptography pin to ansible-requirements.txt\nwhich is used as a constraints file[1].\n\n[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/zuul.d/playbooks/pre.yml#L42\n\nRelated-Bug: #1995608\nChange-Id: I646cd49b614a9f494e77f9893521d3c070900ed5\n(cherry picked from commit c0bc395ab494ee18e77fba608cdd40762c7b8c51)\n'}]",2,864166,f82c62aefc8d90600e7111ae96bbce0653f23c22,10,4,1,14250,,,0,"Move cryprography pin

This moves the cryptography pin to ansible-requirements.txt
which is used as a constraints file[1].

[1] https://opendev.org/openstack/tripleo-ansible/src/branch/master/zuul.d/playbooks/pre.yml#L42

Related-Bug: #1995608
Change-Id: I646cd49b614a9f494e77f9893521d3c070900ed5
(cherry picked from commit c0bc395ab494ee18e77fba608cdd40762c7b8c51)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/864166/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible-requirements.txt', 'tripleo_ansible/roles/tripleo-keystone-resources/molecule/default/start_keystone.sh', 'tox.ini', 'molecule-requirements.txt']",4,f82c62aefc8d90600e7111ae96bbce0653f23c22,,cryptography,,3,1
openstack%2Ftripleo-ansible~864092,openstack/tripleo-ansible,stable/train,Ia41105d58f0e85117e548cbdc48a69b84b149841,Allow overriding keystone username by parameter,MERGED,2022-11-09 08:24:53.000000000,2022-11-22 03:22:31.000000000,2022-11-22 03:22:31.000000000,"[{'_account_id': 9816}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2022-11-09 08:24:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/388d28a7be6cb61d3118374145f254140f8cedcd', 'message': 'Allow overriding keystone username by parameter\n\nThis patch introduced ""name"" parameter into tripleo_keystone_resources,\nso that we can override user name by a given parameter.\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n(cherry picked from commit 6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef)\n'}, {'number': 2, 'created': '2022-11-10 08:14:52.000000000', 'files': ['tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/3ee085b61e4df8592565d87420aed17ca629de1f', 'message': 'Allow overriding keystone username by parameter\n\nThis patch introduced ""name"" parameter into tripleo_keystone_resources,\nso that we can override user name by a given parameter.\n\nChange-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841\n(cherry picked from commit 6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef)\n'}]",1,864092,3ee085b61e4df8592565d87420aed17ca629de1f,12,4,2,14250,,,0,"Allow overriding keystone username by parameter

This patch introduced ""name"" parameter into tripleo_keystone_resources,
so that we can override user name by a given parameter.

Change-Id: Ia41105d58f0e85117e548cbdc48a69b84b149841
(cherry picked from commit 6d6fbb3b6aed1e1835a8c13fccfc94d24568b3ef)
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/92/864092/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/tripleo-keystone-resources/tasks/users.yml'],1,388d28a7be6cb61d3118374145f254140f8cedcd,," name: ""{{ lookup('dict', tripleo_keystone_resources_data).value.name | default(lookup('dict', tripleo_keystone_resources_data).key) }}"""," name: ""{{ lookup('dict', tripleo_keystone_resources_data).key }}""",1,1
openstack%2Ftripleo-ansible~856538,openstack/tripleo-ansible,master,If410e4a5ceaf09991fbd3da58b084a7f0df9dc31,Designate: allow enabling bind query logging,MERGED,2022-09-08 15:34:41.000000000,2022-11-22 00:02:45.000000000,2022-10-27 10:25:14.000000000,"[{'_account_id': 7144}, {'_account_id': 8449}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2022-09-08 15:34:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/638adefadb330951f414a66b51c40c0662f1bb42', 'message': 'Designate: allow enabling bind query logging\n\nParameterize enabling dns query logging.\n\nChange-Id: If410e4a5ceaf09991fbd3da58b084a7f0df9dc31\n'}, {'number': 2, 'created': '2022-09-08 18:31:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc9866edf8124c22ce321dc330e733459bc9b7c4', 'message': 'Designate: allow enabling bind query logging\n\nParameterize enabling dns query logging.\n\nChange-Id: If410e4a5ceaf09991fbd3da58b084a7f0df9dc31\n'}, {'number': 3, 'created': '2022-10-11 17:50:50.000000000', 'files': ['tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2', 'tripleo_ansible/roles/designate_bind_config/defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c4976f234ad6d88c9eb45e3ce256eea0f6796e56', 'message': 'Designate: allow enabling bind query logging\n\nParameterize enabling dns query logging.\n\nChange-Id: If410e4a5ceaf09991fbd3da58b084a7f0df9dc31\n'}]",3,856538,c4976f234ad6d88c9eb45e3ce256eea0f6796e56,20,4,3,6681,,,0,"Designate: allow enabling bind query logging

Parameterize enabling dns query logging.

Change-Id: If410e4a5ceaf09991fbd3da58b084a7f0df9dc31
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/38/856538/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_ansible/roles/designate_bind_config/templates/options.conf.j2'],1,638adefadb330951f414a66b51c40c0662f1bb42,designate_bind_query_logging, querylog {{ designate_bind_enable_query_logging|default('no') }};, querylog no;,1,1
