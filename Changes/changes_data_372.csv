id,project,branch,change_id,subject,status,created,updated,submitted,reviewers,revisions,total_comment_count,number,current_revision,discussion_messages_count,reviewers_count,revisions_count,owner_account_id,owner_name,owner_username,is_owner_bot,commit_message,git_command,changed_files,files_count,commit_id,topic,added_lines,deleted_lines,insertions,deletions
openstack%2Fopenstack-helm-infra~master~I6e7f7b32572308345963728f2f884c1514ca122d,openstack/openstack-helm-infra,master,I6e7f7b32572308345963728f2f884c1514ca122d,[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart,MERGED,2019-03-06 04:56:18.000000000,2019-07-04 00:36:12.000000000,2019-07-04 00:36:12.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 17966}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 24165}, {'_account_id': 28372}, {'_account_id': 29132}, {'_account_id': 29268}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-03-06 04:56:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a18c22da5c785963744730f5f44f57432d871b96', 'message': 'WIP - Move osd cron job to client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 2, 'created': '2019-03-06 05:58:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8cf37b828b90ea99d8218c9c21532647dff6a840', 'message': 'WIP - Move osd cron job to client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 3, 'created': '2019-04-01 22:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eaa423968237ab6e7181fdb4f9a95217072a0b5f', 'message': 'WIP - Move osd cron job to client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 4, 'created': '2019-05-08 04:43:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d347cb1f772d1b887332a6660bfc37c7bb2d9c7c', 'message': '[Ceph Enhancement] Move degradosds cron job to client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 5, 'created': '2019-05-08 21:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d7c12a091d5329c732d335074c496e9ffd20b17c', 'message': '[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart\n\n- We want to move all cronjobs to ceph-client charts\n- As part of this error, moving ceph-defragosds to ceph-client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 6, 'created': '2019-05-14 17:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/2eeae2dfa483b9f3996323327d4acdf5ddf37a7a', 'message': '[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart\n\n- We want to move all cronjobs to ceph-client charts\n- As part of this error, moving ceph-defragosds to ceph-client chart\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 7, 'created': '2019-05-14 20:32:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/48719b9942b63a03a0e20178d49f317e8af4580a', 'message': '[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart\n\n- Move the cron manifests to ceph-client chart\n- Keep the script that actually does the work in Ceph-OSD\n- with this PS, ceph-defragosds will be started after Ceph-Client chart\ngets deployed. In the cronjob, it will exec to a running OSD pod and\nexecute the script.\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 8, 'created': '2019-05-17 16:58:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1e50711428d199d75a29e5f4578df0efeeb6efe1', 'message': '[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart\n\n- Move the cron manifests to ceph-client chart\n- Keep the script that actually does the work in Ceph-OSD\n- with this PS, ceph-defragosds will be started after Ceph-Client chart\ngets deployed. In the cronjob, it will exec to a running OSD pod and\nexecute the script.\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}, {'number': 9, 'created': '2019-07-03 21:08:37.000000000', 'files': ['ceph-osd/values.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/configmap-bin.yaml', 'ceph-osd/templates/bin/utils/_defragOSDs.sh.tpl', 'ceph-client/templates/bin/utils/_defragOSDs.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/25f4f17f8ebba1fab8040c07c0192850ed260a15', 'message': '[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart\n\n- Move the cron manifests to ceph-client chart\n- Keep the script that actually does the work in Ceph-OSD\n- with this PS, ceph-defragosds will be started after Ceph-Client chart\ngets deployed. In the cronjob, it will exec to a running OSD pod and\nexecute the script.\n\nChange-Id: I6e7f7b32572308345963728f2f884c1514ca122d\n'}]",0,641198,25f4f17f8ebba1fab8040c07c0192850ed260a15,32,10,9,24165,,,0,"[Ceph Enhancement] Move ceph-defragosds cron job to ceph-client chart

- Move the cron manifests to ceph-client chart
- Keep the script that actually does the work in Ceph-OSD
- with this PS, ceph-defragosds will be started after Ceph-Client chart
gets deployed. In the cronjob, it will exec to a running OSD pod and
execute the script.

Change-Id: I6e7f7b32572308345963728f2f884c1514ca122d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/98/641198/4 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-osd/values.yaml', 'ceph-client/templates/cronjob-defragosds.yaml', 'ceph-client/values.yaml', 'ceph-client/templates/configmap-bin.yaml', 'ceph-client/templates/bin/utils/_defragOSDs.sh.tpl']",5,a18c22da5c785963744730f5f44f57432d871b96,osd-cron-move,"#!/bin/bash {{/* Copyright 2018 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} set -ex ARG=${1} if [ ""x${ARG}"" == ""xcron"" ]; then PODS=$(kubectl get pods --namespace=${NAMESPACE} \ --selector=application=ceph,component=osd --field-selector=status.phase=Running \ '--output=jsonpath={range .items[*]}{.metadata.name}{""\n""}{end}') for POD in ${PODS}; do kubectl exec -t ${POD} --namespace=${NAMESPACE} -- \ sh -c -e ""/tmp/utils-defragOSDs.sh defrag"" done fi if [ ""x${ARG}"" == ""xdefrag"" ] && [ ""x${STORAGE_TYPE%-*}"" == ""xblock"" ]; then OSD_DEVICE=$(readlink -f ${STORAGE_LOCATION}) ODEV=$(echo ${OSD_DEVICE} | sed 's/[0-9]//g' | cut -f 3 -d '/') OSD_PATH=$(cat /proc/mounts | awk '/ceph-/{print $2}') OSD_STORE=$(cat ${OSD_PATH}/type) DATA_PART=$(cat /proc/mounts | awk '/ceph-/{print $1}') ODEV_ROTATIONAL=$(cat /sys/block/${ODEV}/queue/rotational) ODEV_SCHEDULER=$(cat /sys/block/${ODEV}/queue/scheduler | tr -d '[]') # NOTE(supamatt): TODO implement bluestore defrag options once it's available upstream if [ ""${ODEV_ROTATIONAL}"" -eq ""1"" ] && [ ""x${OSD_STORE}"" == ""xfilestore"" ]; then # NOTE(supamatt): Switch to CFQ in order to not block I/O echo ""cfq"" | tee /sys/block/${ODEV}/queue/scheduler || true ionice -c 3 xfs_fsr ""${OSD_DEVICE}"" 2>/dev/null # NOTE(supamatt): Switch back to previous IO scheduler echo ${ODEV_SCHEDULER} | tee /sys/block/${ODEV}/queue/scheduler || true fi fi exit 0 ",,75,5
openstack%2Fopenstack-helm-infra~master~I4b2e4b0eee244d102b503bee4adbbae857863c8d,openstack/openstack-helm-infra,master,I4b2e4b0eee244d102b503bee4adbbae857863c8d,Ceph-Client: Cleanup for unused values,MERGED,2019-06-25 16:03:18.000000000,2019-07-04 00:30:31.000000000,2019-07-04 00:30:30.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 28618}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-25 16:03:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/995a65546cd56eb9db3c8834d164d0375cf6d978', 'message': 'Ceph-Client: Cleanup for unused values\n\nThis is just to cleanup client chart for provisioner references.\n\nChange-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d\n'}, {'number': 2, 'created': '2019-06-28 21:01:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/0f7841dd836b9b0d0ea18767e6eda9ec8ea5baad', 'message': 'Ceph-Client: Cleanup for unused values\n\nThis is just to cleanup client chart for provisioner references.\n\nChange-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d\n'}, {'number': 3, 'created': '2019-07-01 15:11:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7ca8a258d693d6c8ca11fc7be93f2b55268fe9fb', 'message': 'Ceph-Client: Cleanup for unused values\n\nThis is just to cleanup client chart for provisioner references.\n\nChange-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d\n'}, {'number': 4, 'created': '2019-07-01 23:37:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4bff5e2f9f5fdb361a921a13d556288ed831c1f6', 'message': 'Ceph-Client: Cleanup for unused values\n\nThis is just to cleanup client chart for provisioner references.\n\nChange-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d\n'}, {'number': 5, 'created': '2019-07-03 12:32:34.000000000', 'files': ['ceph-client/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8275ad7d2f42431caca141bb790156c639c0e8f2', 'message': 'Ceph-Client: Cleanup for unused values\n\nThis is just to cleanup client chart for provisioner references.\n\nChange-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d\n'}]",0,667394,8275ad7d2f42431caca141bb790156c639c0e8f2,20,8,5,28372,,,0,"Ceph-Client: Cleanup for unused values

This is just to cleanup client chart for provisioner references.

Change-Id: I4b2e4b0eee244d102b503bee4adbbae857863c8d
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/94/667394/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/values.yaml'],1,995a65546cd56eb9db3c8834d164d0375cf6d978,ceph-charts-cleanup,, cephfs_provisioner: jobs: - ceph-rbd-pool services: - endpoint: internal service: ceph_mon rbd_provisioner: jobs: - ceph-rbd-pool services: - endpoint: internal service: ceph_mon,0,12
openstack%2Fopenstack-helm-infra~master~I98971106e202a9c4fd9d236f368492c6c6498ce1,openstack/openstack-helm-infra,master,I98971106e202a9c4fd9d236f368492c6c6498ce1,Ceph-osd: update helm tests logic for osds,MERGED,2019-07-02 19:16:14.000000000,2019-07-04 00:30:29.000000000,2019-07-04 00:30:29.000000000,"[{'_account_id': 8898}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-02 19:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/264e95235da792029ab47b196c3d2a140ea4d4cb', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}, {'number': 2, 'created': '2019-07-02 19:30:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/953d3d426ffc398b76a23c14058105284cfbb97d', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}, {'number': 3, 'created': '2019-07-02 20:23:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a194374497608a0baefd3a2d5a082f3ef27f4b49', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}, {'number': 4, 'created': '2019-07-03 12:33:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/04e5600709aa6b574fd86a11a3f884e8306c3221', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}, {'number': 5, 'created': '2019-07-03 15:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/78eb5e29adec5cad8bbb1c5a1e66040c0bdcaa0c', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}, {'number': 6, 'created': '2019-07-03 15:10:52.000000000', 'files': ['ceph-osd/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c8dd26f1d331a520f64cbc090726696e03d407e7', 'message': 'Ceph-osd: update helm tests logic for osds\n\nThis is to update helm test logic to test and exit if\nthere are no osds up in the cluster.\n\nThis may heppen when we miss ceph-osd label on the nodes.\n\nChange-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1\n'}]",0,668744,c8dd26f1d331a520f64cbc090726696e03d407e7,18,6,6,28372,,,0,"Ceph-osd: update helm tests logic for osds

This is to update helm test logic to test and exit if
there are no osds up in the cluster.

This may heppen when we miss ceph-osd label on the nodes.

Change-Id: I98971106e202a9c4fd9d236f368492c6c6498ce1
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/44/668744/6 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/_helm-tests.sh.tpl'],1,264e95235da792029ab47b196c3d2a140ea4d4cb,," if [ ""x${num_osds}"" == ""x0"" ] ; then echo ""There are no osds in the cluster"" exit 1 elif [ ""x${num_osds}"" == ""x${up_osds}"" ] && [ ""x${num_osds}"" == ""x${in_osds}"" ] ; then"," if [ ""x${num_osds}"" == ""x${up_osds}"" ] && [ ""x${num_osds}"" == ""x${in_osds}"" ] ; then",4,1
openstack%2Fopenstack-helm-infra~master~I42c62bca73dd3d257154a3141f8902d607789ac3,openstack/openstack-helm-infra,master,I42c62bca73dd3d257154a3141f8902d607789ac3,Add OpenStack instance panel to grafana dashboard,MERGED,2019-06-20 10:56:14.000000000,2019-07-04 00:09:45.000000000,2019-07-04 00:09:44.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28507}, {'_account_id': 30252}, {'_account_id': 30430}]","[{'number': 1, 'created': '2019-06-20 10:56:14.000000000', 'files': ['grafana/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79a2b09d4b6bcc2527e9a91590aa9a793169b1dc', 'message': 'Add OpenStack instance panel to grafana dashboard\n\nAdd new openstack instance panel to grafana dashboard to see the status\nof instances.\n\nChange-Id: I42c62bca73dd3d257154a3141f8902d607789ac3\n'}]",0,666538,79a2b09d4b6bcc2527e9a91590aa9a793169b1dc,11,6,1,30252,,,0,"Add OpenStack instance panel to grafana dashboard

Add new openstack instance panel to grafana dashboard to see the status
of instances.

Change-Id: I42c62bca73dd3d257154a3141f8902d607789ac3
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/38/666538/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/values.yaml'],1,79a2b09d4b6bcc2527e9a91590aa9a793169b1dc,," - aliasColors: {} bars: false dashLength: 10 dashes"": false datasource: prometheus editable: true error: false fill: 1 grid: {} id: 27 interval: ""> 60s"" legend: alignAsTable: false avg: true current: true hideEmpty: true hideZero: false max: true min: true show: true total: false values: true lines: true linewidth: 4 links: [] nullPointMode: null percentage: false pointradius: 5 points: false renderer: flot seriesOverrides: [] spaceLength: 10 stack: false steppedLine: false targets: - alias: free column: value expr: sum(openstack_running_instances) format: time_series function: mean groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] interval: ""15s"" intervalFactor: 1 legendFormat: ""{{ running_vms }}"" policy: default rawQuery: false refID: A resultFormat: time_series - alias: used column: value expr: sum(openstack_total_running_instances) format: time_series function: mean groupBy: - params: - ""$interval"" type: time - params: - '0' type: fill groupByTags: [] interval: ""15s"" intervalFactor: 1 legendFormat: ""{{ total_vms }}"" policy: default rawQuery: false refID: B resultFormat: time_series step: 120 thresholds: [] timeFrom: timeShift: title: OpenStack Instances tooltip: msResolution: false shared: true sort : 0 value_type: cumulative transparent: true type: graph xaxis: buckets: mode: time name: show: true values: [] yaxes: - format: none label: logBase: 1 max: min: show: true - format: short label: logBase: 1 max: min: show: false",,106,0
openstack%2Fgovernance-uc~master~I100af39a24a5cc436a18116c04a76eecf2cdcb1f,openstack/governance-uc,master,I100af39a24a5cc436a18116c04a76eecf2cdcb1f,Corrected pointer to the UC wiki page,MERGED,2019-03-19 21:42:30.000000000,2019-07-03 23:38:24.000000000,2019-07-03 23:38:24.000000000,"[{'_account_id': 2033}, {'_account_id': 7160}, {'_account_id': 7272}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 28738}]","[{'number': 1, 'created': '2019-03-19 21:42:30.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/ef83b58a36988a82237e25d10b5b7d86fcd709ff', 'message': ""Corrected pointer to the UC wiki page\n\nThe old link points to a page that doesn't exist anymore...\nThis new link has the correct wiki as well as a link to the user-committee mailing list allowing users to reach the UC\n\nChange-Id: I100af39a24a5cc436a18116c04a76eecf2cdcb1f\n""}]",0,644686,ef83b58a36988a82237e25d10b5b7d86fcd709ff,11,7,1,24100,,,0,"Corrected pointer to the UC wiki page

The old link points to a page that doesn't exist anymore...
This new link has the correct wiki as well as a link to the user-committee mailing list allowing users to reach the UC

Change-Id: I100af39a24a5cc436a18116c04a76eecf2cdcb1f
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/86/644686/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,ef83b58a36988a82237e25d10b5b7d86fcd709ff,,.. _UserCommittee: https://wiki.openstack.org/wiki/Governance/Foundation/UserCommittee,.. _UserCommittee: https://wiki.openstack.org/wiki/Governance/UserCommittee,1,1
openstack%2Fproject-team-guide~master~I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5,openstack/project-team-guide,master,I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5,Add Project Update info to Events Section,MERGED,2019-06-26 19:02:33.000000000,2019-07-03 23:21:25.000000000,2019-07-03 23:21:25.000000000,"[{'_account_id': 308}, {'_account_id': 8556}, {'_account_id': 11904}, {'_account_id': 17068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 19:02:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/6cec72ffb6a1e22be0cb499f07c7ee0780e4f82d', 'message': 'Add Project Update info to Events Section\n\nI routinely have PTLs ask if they need to submit project\nupdates or onboarding to the CFP. They do not. Both\ntypes of sessions are handled separately. This patch\nadds directions about the project updates.\n\nSince project onboarding will be different for Shanghai I did\nnot add that info in this patch. For Shanghai, the project\nonboarding sessions will be a part of the PTG, where normally\nthey would be part of the Forum.\n\nChange-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5\n'}, {'number': 2, 'created': '2019-06-26 19:04:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/6194ef1aa135e20213c46e8e5d01485cd12ea96a', 'message': 'Add Project Update info to Events Section\n\nI routinely have PTLs ask if they need to submit project\nupdates or onboarding to the CFP. They do not. Both\ntypes of sessions are handled separately. This patch\nadds directions about the project updates.\n\nSince project onboarding will be different for Shanghai I did\nnot add that info in this patch. For Shanghai, the project\nonboarding sessions will be a part of the PTG, where normally\nthey would be part of the Forum.\n\nDepends-on: I5c5347a2354da80af8a8ec2530eedc79124d340b\nChange-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5\n'}, {'number': 3, 'created': '2019-06-27 18:39:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/5ef1eeda5fa627c83bdda5cc041d6328a06bbd15', 'message': 'Add Project Update info to Events Section\n\nI routinely have PTLs ask if they need to submit project\nupdates or onboarding to the CFP. They do not. Both\ntypes of sessions are handled separately. This patch\nadds directions about the project updates.\n\nSince project onboarding will be different for Shanghai I did\nnot add that info in this patch. For Shanghai, the project\nonboarding sessions will be a part of the PTG, where normally\nthey would be part of the Forum.\n\nChange-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5\n'}, {'number': 4, 'created': '2019-07-01 12:07:32.000000000', 'files': ['doc/source/ptl.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/aeeb60e202ca58d0943f4960d4f2000a7eeee55d', 'message': 'Add Project Update info to Events Section\n\nI routinely have PTLs ask if they need to submit project\nupdates or onboarding to the CFP. They do not. Both\ntypes of sessions are handled separately. This patch\nadds directions about the project updates.\n\nSince project onboarding will be different for Shanghai I did\nnot add that info in this patch. For Shanghai, the project\nonboarding sessions will be a part of the PTG, where normally\nthey would be part of the Forum.\n\nChange-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5\n'}]",3,667709,aeeb60e202ca58d0943f4960d4f2000a7eeee55d,18,5,4,16708,,,0,"Add Project Update info to Events Section

I routinely have PTLs ask if they need to submit project
updates or onboarding to the CFP. They do not. Both
types of sessions are handled separately. This patch
adds directions about the project updates.

Since project onboarding will be different for Shanghai I did
not add that info in this patch. For Shanghai, the project
onboarding sessions will be a part of the PTG, where normally
they would be part of the Forum.

Change-Id: I8ef7cbd5fc81fd1e33e081bd460554a247e89bf5
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/09/667709/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ptl.rst'],1,6cec72ffb6a1e22be0cb499f07c7ee0780e4f82d,updates_and_onboarding,"Project Updates ---------------- #. Decide if your project has news they want to share with the community in the form of a 20 or 40 min project update at the upcoming Summit. #. Keep an eye out for the Project Update Request Survey from Kendall Nelson at the OpenStack Foundation. She will email the survey to all PTLs. #. If you requested a Project Update, make sure to register yourself (or that whoever else is listed as speaker does) before the deadline noted in the email with the survey to secure the update slot. with the events organizers. An email is sent out beforehand by Kendall Nelson at the Foundation - keep an eye out.", with the events organizers. An email is sent out beforehand by the Foundation - keep an eye out.,14,2
openstack%2Ftripleo-heat-templates~master~Ia455702d75a450f1c3ac88ed69853e9b98b98644,openstack/tripleo-heat-templates,master,Ia455702d75a450f1c3ac88ed69853e9b98b98644,Fix ovn dbs control port,MERGED,2019-07-01 13:38:20.000000000,2019-07-03 23:16:33.000000000,2019-07-03 23:16:33.000000000,"[{'_account_id': 6773}, {'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10237}, {'_account_id': 11082}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23804}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-01 13:38:20.000000000', 'files': ['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8775e2d5aa3e29137aadd2419ca89fbec4beb499', 'message': 'Fix ovn dbs control port\n\nWhen an OCF bundle is managed by pacemaker it runs pacemaker-remote\ninside the container. The communication between the pacemaker cluster\nand the remote happens through a so-called control port. In the case of\novn-dbs, this port is set to 3125 by default:\nhttps://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/pacemaker/ovn_dbs_bundle.pp#L62\n\nWe need to make sure that the cluster is always able to connect to said\nport as the connection might come from a cluster node that is not the\nsame node where the ovn bundle is running.\n\nThis has worked so far only by pure luck because pacemaker will retry\nthe connection from each controller node and eventually when the\nconnection comes from the same host as the one where the bundle is\nrunning it succeeds (INPUT rules do not apply to same-host connections).\n\nTested and correctly observed port 3125/tcp being open in iptables:\n* Before\n[root@controller-0]# iptables -nvL INPUT |grep 3125\n[root@controller-0]#\n\n* After\n[root@controller-0]# iptables -nvL INPUT |grep 3125\n    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 3125,6641,6642 state NEW /* 121 OVN DB server ports ipv4 */\n\nCloses-Bug: #1834856\nChange-Id: Ia455702d75a450f1c3ac88ed69853e9b98b98644\n'}]",3,668462,8775e2d5aa3e29137aadd2419ca89fbec4beb499,27,11,1,20172,,,0,"Fix ovn dbs control port

When an OCF bundle is managed by pacemaker it runs pacemaker-remote
inside the container. The communication between the pacemaker cluster
and the remote happens through a so-called control port. In the case of
ovn-dbs, this port is set to 3125 by default:
https://github.com/openstack/puppet-tripleo/blob/master/manifests/profile/pacemaker/ovn_dbs_bundle.pp#L62

We need to make sure that the cluster is always able to connect to said
port as the connection might come from a cluster node that is not the
same node where the ovn bundle is running.

This has worked so far only by pure luck because pacemaker will retry
the connection from each controller node and eventually when the
connection comes from the same host as the one where the bundle is
running it succeeds (INPUT rules do not apply to same-host connections).

Tested and correctly observed port 3125/tcp being open in iptables:
* Before
[root@controller-0]# iptables -nvL INPUT |grep 3125
[root@controller-0]#

* After
[root@controller-0]# iptables -nvL INPUT |grep 3125
    0     0 ACCEPT     tcp  --  *      *       0.0.0.0/0            0.0.0.0/0            multiport dports 3125,6641,6642 state NEW /* 121 OVN DB server ports ipv4 */

Closes-Bug: #1834856
Change-Id: Ia455702d75a450f1c3ac88ed69853e9b98b98644
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/62/668462/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ovn/ovn-dbs-pacemaker-puppet.yaml'],1,8775e2d5aa3e29137aadd2419ca89fbec4beb499,ovn-fix-ctrlport-fw, - tripleo::ovn_dbs::firewall_rules: '121 OVN DB server ports': proto: 'tcp' dport: # Control port for pcmk remote bundle - 3125 - {get_param: OVNNorthboundServerPort} - {get_param: OVNSouthboundServerPort},,8,0
openstack%2Fmanila~stable%2Fqueens~I90cda99692359dfb7d228a031688b2ce245365ff,openstack/manila,stable/queens,I90cda99692359dfb7d228a031688b2ce245365ff,DNM - test only,ABANDONED,2019-07-03 13:45:19.000000000,2019-07-03 23:09:11.000000000,,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 13:45:19.000000000', 'files': ['DNM'], 'web_link': 'https://opendev.org/openstack/manila/commit/a6ea5844920ffcbb2b98a8cdc7a40a97595d369b', 'message': 'DNM - test only\n\nChange-Id: I90cda99692359dfb7d228a031688b2ce245365ff\n'}]",0,668908,a6ea5844920ffcbb2b98a8cdc7a40a97595d369b,5,3,1,9003,,,0,"DNM - test only

Change-Id: I90cda99692359dfb7d228a031688b2ce245365ff
",git fetch https://review.opendev.org/openstack/manila refs/changes/08/668908/1 && git format-patch -1 --stdout FETCH_HEAD,['DNM'],1,a6ea5844920ffcbb2b98a8cdc7a40a97595d369b,,,,0,0
openstack%2Fnova~master~Ie29307d7b4a6d0118a93d2390141403ebe8d5353,openstack/nova,master,Ie29307d7b4a6d0118a93d2390141403ebe8d5353,Rename CinderFixtureNewAttachFlow to CinderFixture,MERGED,2019-07-01 21:03:14.000000000,2019-07-03 23:00:19.000000000,2019-07-03 23:00:19.000000000,"[{'_account_id': 4690}, {'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}, {'_account_id': 27076}]","[{'number': 1, 'created': '2019-07-01 21:03:14.000000000', 'files': ['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/fixtures.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1806064.py', 'nova/tests/functional/regressions/test_bug_1825020.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/86b78739b8cb9aebe96e474b69a4977a92e2472f', 'message': 'Rename CinderFixtureNewAttachFlow to CinderFixture\n\nThe old CinderFixture is gone, so CinderFixtureAttachNewFlow is the new\nCinderFixture.\n\nChange-Id: Ie29307d7b4a6d0118a93d2390141403ebe8d5353\n'}]",0,668561,86b78739b8cb9aebe96e474b69a4977a92e2472f,15,10,1,14070,,,0,"Rename CinderFixtureNewAttachFlow to CinderFixture

The old CinderFixture is gone, so CinderFixtureAttachNewFlow is the new
CinderFixture.

Change-Id: Ie29307d7b4a6d0118a93d2390141403ebe8d5353
",git fetch https://review.opendev.org/openstack/nova refs/changes/61/668561/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_multiattach.py', 'nova/tests/functional/notification_sample_tests/test_volume.py', 'nova/tests/functional/notification_sample_tests/test_instance.py', 'nova/tests/functional/regressions/test_bug_1746483.py', 'nova/tests/functional/regressions/test_bug_1404867.py', 'nova/tests/functional/test_nova_manage.py', 'nova/tests/functional/regressions/test_bug_1732947.py', 'nova/tests/functional/wsgi/test_servers.py', 'nova/tests/functional/test_boot_from_volume.py', 'nova/tests/fixtures.py', 'nova/tests/functional/api_sample_tests/test_servers.py', 'nova/tests/functional/regressions/test_bug_1675570.py', 'nova/tests/functional/test_conf_max_attach_disk_devices.py', 'nova/tests/functional/compute/test_live_migration.py', 'nova/tests/functional/api_sample_tests/test_volumes.py', 'nova/tests/functional/regressions/test_bug_1784353.py', 'nova/tests/functional/test_servers.py', 'nova/tests/functional/regressions/test_bug_1806064.py', 'nova/tests/functional/regressions/test_bug_1825020.py']",19,86b78739b8cb9aebe96e474b69a4977a92e2472f,CinderFixture, self.useFixture(nova_fixtures.CinderFixture(self)) vol_id = nova_fixtures.CinderFixture.IMAGE_BACKED_VOL, self.useFixture(nova_fixtures.CinderFixtureNewAttachFlow(self)) vol_id = nova_fixtures.CinderFixtureNewAttachFlow.IMAGE_BACKED_VOL,48,49
openstack%2Fpython-tripleoclient~master~I7222a116974458b9149771cb44f7d5f7bc51bc79,openstack/python-tripleoclient,master,I7222a116974458b9149771cb44f7d5f7bc51bc79,Add log_path_dir parameter,MERGED,2019-07-02 12:59:52.000000000,2019-07-03 22:58:54.000000000,2019-07-03 22:58:54.000000000,"[{'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 16515}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-02 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b8f24da10cadb3dab813d06f79b530053a14ea39', 'message': ""Add log_path_dir parameter\n\nThis patch adds a new parameter called 'log_path_dir' (Defaults to None)\nto the 'run_ansible_playbook' function. The Ansible log file will be\ncreated in the location of the playbook by default, otherwise in the given\ndirectory path.\n\nChange-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-07-03 09:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f8dcce2f980d7c25e76fb52806fd2354d743af47', 'message': ""Add log_path_dir parameter\n\nThis patch adds a new parameter called 'log_path_dir' (Defaults to None)\nto the 'run_ansible_playbook' function. The Ansible log file will be\ncreated in the location of the playbook by default, otherwise in the given\ndirectory path.\n\nChange-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-07-03 13:24:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/6017b5451f68a825449af93af01e48b413a18f25', 'message': ""Add log_path_dir parameter\n\nThis patch adds a new parameter called 'log_path_dir' (Defaults to None)\nto the 'run_ansible_playbook' function. The Ansible log file will be\ncreated in the location of the playbook by default, otherwise in the given\ndirectory path.\n\nChange-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2019-07-03 13:53:35.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9de3452cf39d5d8bbb75f20a5e8b444793d98000', 'message': ""Add log_path_dir parameter\n\nThis patch adds a new parameter called 'log_path_dir' (Defaults to None)\nto the 'run_ansible_playbook' function. The Ansible log file will be\ncreated in the location of the playbook by default, otherwise in the given\ndirectory path.\n\nChange-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",0,668672,9de3452cf39d5d8bbb75f20a5e8b444793d98000,19,9,4,11491,,,0,"Add log_path_dir parameter

This patch adds a new parameter called 'log_path_dir' (Defaults to None)
to the 'run_ansible_playbook' function. The Ansible log file will be
created in the location of the playbook by default, otherwise in the given
directory path.

Change-Id: I7222a116974458b9149771cb44f7d5f7bc51bc79
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/72/668672/3 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py']",2,b8f24da10cadb3dab813d06f79b530053a14ea39,bp/validation-framework," log_path_dir=None, :param log_path_dir: Dir path location for ansible log file. Defaults to ""None"" :type retries: String if not log_path_dir or not os.path.exists(log_path_dir): env['ANSIBLE_LOG_PATH'] = os.path.join(workdir, 'ansible.log') else: env['ANSIBLE_LOG_PATH'] = os.path.join(log_path_dir, 'ansible.log') "," env['ANSIBLE_LOG_PATH'] = os.path.join(workdir, 'ansible.log')",14,4
openstack%2Ftripleo-common~stable%2Fstein~I1809400d798d4350f9642a348ecbe81714e6af47,openstack/tripleo-common,stable/stein,I1809400d798d4350f9642a348ecbe81714e6af47,Check third-party container image metadata.,MERGED,2019-07-01 16:11:43.000000000,2019-07-03 22:53:47.000000000,2019-07-03 22:53:47.000000000,"[{'_account_id': 3098}, {'_account_id': 3153}, {'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 6926}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 16:11:43.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/bc54316c2a68b980ce795f30b81ebb1cc044e9be', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n(cherry picked from commit 67440277926e73ea0f8f913170c0013b068a99e6)\n""}]",0,668511,bc54316c2a68b980ce795f30b81ebb1cc044e9be,11,11,1,25402,,,0,"Check third-party container image metadata.

During the evaluation of a third parties image that doesn't
contain the expected metadata json, the image_uploader section
fails.
This commit adds the check on the returned dict and adds the
ability to use the fallback_tag.

Change-Id: I1809400d798d4350f9642a348ecbe81714e6af47
Closes-Bug: #1834456
(cherry picked from commit 67440277926e73ea0f8f913170c0013b068a99e6)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/11/668511/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,bc54316c2a68b980ce795f30b81ebb1cc044e9be,lp1834456-stable/stein," if(hasattr(labels, 'keys')): label_keys = ', '.join(labels.keys()) else: label_keys = """" tag_label = None if(isinstance(labels, dict)): tag_label = labels.get(tag_from_label)"," label_keys = ', '.join(labels.keys()) tag_label = labels.get(tag_from_label)",7,2
openstack%2Fplacement~master~I5469ce9c8bd35800d095a6026857e00888bcff03,openstack/placement,master,I5469ce9c8bd35800d095a6026857e00888bcff03,Inline AllocationRequestResource.__copy__ logic,ABANDONED,2019-06-29 20:53:26.000000000,2019-07-03 22:14:16.000000000,,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 20:53:26.000000000', 'files': ['placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/566b97fa040779105b547607a1cb9b8f807ffeb9', 'message': 'Inline AllocationRequestResource.__copy__ logic\n\nThe fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71\nincluded creating a __copy__ method in AllocationRequestResource to deal\nwith the way _consolidate_allocation_requests was merging\nAllocationRequestResourceZ with the same rp+rc. That smelled a bit of\ntight coupling, so this commit does it a different way: by explicitly\nconstructing the new AllocationRequestResource (without the error-prone\ncopy()ing) directly in _consolidate_allocation_requests.\n\nChange-Id: I5469ce9c8bd35800d095a6026857e00888bcff03\nRelated-Story: #2006068\n'}]",1,668310,566b97fa040779105b547607a1cb9b8f807ffeb9,10,4,1,14070,,,0,"Inline AllocationRequestResource.__copy__ logic

The fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71
included creating a __copy__ method in AllocationRequestResource to deal
with the way _consolidate_allocation_requests was merging
AllocationRequestResourceZ with the same rp+rc. That smelled a bit of
tight coupling, so this commit does it a different way: by explicitly
constructing the new AllocationRequestResource (without the error-prone
copy()ing) directly in _consolidate_allocation_requests.

Change-Id: I5469ce9c8bd35800d095a6026857e00888bcff03
Related-Story: #2006068
",git fetch https://review.opendev.org/openstack/placement refs/changes/10/668310/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/allocation_candidate.py'],1,566b97fa040779105b547607a1cb9b8f807ffeb9,story/2006068," arr2 = arrs_by_rp_rc.get(key) amount = arr.amount + (arr2.amount if arr2 else 0) suffixes = arr.suffixes | (arr2.suffixes if arr2 else set()) arrs_by_rp_rc[key] = AllocationRequestResource( resource_provider=arr.resource_provider, resource_class=arr.resource_class, amount=amount, suffixes=suffixes)"," def __copy__(self): return AllocationRequestResource( resource_provider=self.resource_provider, resource_class=self.resource_class, amount=self.amount, # Avoid reusing the same suffixes across copies. This is necessary # for (at least) _consolidate_allocation_requests. suffixes=copy.copy(self.suffixes)) if key not in arrs_by_rp_rc: arrs_by_rp_rc[key] = copy.copy(arr) else: arrs_by_rp_rc[key].amount += arr.amount arrs_by_rp_rc[key].suffixes |= arr.suffixes",8,14
openstack%2Fplacement~master~I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880,openstack/placement,master,I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880,Move combining into AllocationRequestResource,ABANDONED,2019-06-29 20:45:25.000000000,2019-07-03 22:13:59.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-29 20:45:25.000000000', 'files': ['placement/objects/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/f5a1dee08e8d350e24719d426d1cfe8d871339a1', 'message': 'Move combining into AllocationRequestResource\n\nThe fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71\nincluded creating a __copy__ method in AllocationRequestResource to deal\nwith the way _consolidate_allocation_requests was merging\nAllocationRequestResourceZ with the same rp+rc. That smelled a bit of\ntight coupling, so this commit does it a different way: by creating a\nstatic AllocationRequestResource.combine() method to house that logic.\n\nChange-Id: I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880\nRelated-Story: #2006068\n'}]",0,668309,f5a1dee08e8d350e24719d426d1cfe8d871339a1,3,1,1,14070,,,0,"Move combining into AllocationRequestResource

The fix for story 2006068 via Ifb687698dd1aa434781d06c7f111d8969120bf71
included creating a __copy__ method in AllocationRequestResource to deal
with the way _consolidate_allocation_requests was merging
AllocationRequestResourceZ with the same rp+rc. That smelled a bit of
tight coupling, so this commit does it a different way: by creating a
static AllocationRequestResource.combine() method to house that logic.

Change-Id: I5e61c5aa1b384c1cd8cd14a49f69e09c726cf880
Related-Story: #2006068
",git fetch https://review.opendev.org/openstack/placement refs/changes/09/668309/1 && git format-patch -1 --stdout FETCH_HEAD,['placement/objects/allocation_candidate.py'],1,f5a1dee08e8d350e24719d426d1cfe8d871339a1,story/2006068," @staticmethod def combine(arr1, arr2): """"""Return a new AllocationRequestResource comprising the combination of the two inputs.. The result should have the sum of the two arguments' amounts *and* the union of their suffixes. :param arr1: An AllocationRequestResource. Must not be None. :param arr2: An AllocationRequestResource. If None, a copy of arr1 is returned. Otherwise, must represent the same resource provider and resource class as arr1. :return: A new AllocationRequestResource. """""" if arr2 is None: amount2 = 0 suffixes2 = set() else: assert arr1.resource_provider.id == arr2.resource_provider.id assert arr1.resource_class == arr2.resource_class amount2 = arr2.amount suffixes2 = arr2.suffixes resource_provider=arr1.resource_provider, resource_class=arr1.resource_class, amount=arr1.amount + amount2, suffixes=arr1.suffixes | suffixes2) arrs_by_rp_rc[key] = AllocationRequestResource.combine( arr, arrs_by_rp_rc.get(key))"," def __copy__(self): resource_provider=self.resource_provider, resource_class=self.resource_class, amount=self.amount, # Avoid reusing the same suffixes across copies. This is necessary # for (at least) _consolidate_allocation_requests. suffixes=copy.copy(self.suffixes)) if key not in arrs_by_rp_rc: arrs_by_rp_rc[key] = copy.copy(arr) else: arrs_by_rp_rc[key].amount += arr.amount arrs_by_rp_rc[key].suffixes |= arr.suffixes",29,12
openstack%2Fplacement~master~Ifb687698dd1aa434781d06c7f111d8969120bf71,openstack/placement,master,Ifb687698dd1aa434781d06c7f111d8969120bf71,Fix rg-rp mappings with group_policy=none,ABANDONED,2019-06-29 19:37:09.000000000,2019-07-03 22:13:30.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 19:37:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/bc84093f67d410f9e8b80e3e199287d5bc1316e7', 'message': 'WIP: Fix rg-rp mappings with group_policy=none\n\nThis works at the API level, but weird things are happening before that.\nInvestigating...\n\nChange-Id: Ifb687698dd1aa434781d06c7f111d8969120bf71\nStory: #2006068\nTask: #34785\n'}, {'number': 2, 'created': '2019-06-29 20:25:40.000000000', 'files': ['placement/tests/functional/gabbits/allocation-candidates-mappings-numa.yaml', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/handlers/allocation_candidate.py'], 'web_link': 'https://opendev.org/openstack/placement/commit/71da565ec0cdebd285d31b35a4fd775846278a6a', 'message': 'Fix rg-rp mappings with group_policy=none\n\nUnder the bug in the referenced story, [restated] below,\n_consolidate_allocation_requests was copying the first\nAllocationRequestResource it saw for a givin rp+rc, and subsequently\njust adding resource amounts to it, thereby losing the suffix\n(RequestGroup) information from the 2nd+ AllocationRequestResourceZ for\nthat rp+rc.\n\nThis commit resolves the bug by changing\nAllocationRequestResource.suffix (previously a single string) to\n.suffixes (a set() of strings), and fixing\n_consolidate_allocation_requests to properly add to that set when\nmerging AllocationRequestResourceZ for a given rp+rc combination.\n\nThe handler code to produce the rg-rp mappings is modified accordingly\nto handle multiple suffixes (instead of just one) per\nAllocationRequestResource.\n\n[restated]\nGET /allocation_candidates\nwith group_policy=none\nand two request groups\nwhich consolidate to land on the same provider\nshould generate RequestGroup-to-ResourceProvider mappings with two\nentries: one from each request group to the (same) provider.\n\nHowever, under the referenced bug, only one mapping was returned.\n\nChange-Id: Ifb687698dd1aa434781d06c7f111d8969120bf71\nStory: #2006068\nTask: #34785\n'}]",6,668307,71da565ec0cdebd285d31b35a4fd775846278a6a,9,3,2,14070,,,0,"Fix rg-rp mappings with group_policy=none

Under the bug in the referenced story, [restated] below,
_consolidate_allocation_requests was copying the first
AllocationRequestResource it saw for a givin rp+rc, and subsequently
just adding resource amounts to it, thereby losing the suffix
(RequestGroup) information from the 2nd+ AllocationRequestResourceZ for
that rp+rc.

This commit resolves the bug by changing
AllocationRequestResource.suffix (previously a single string) to
.suffixes (a set() of strings), and fixing
_consolidate_allocation_requests to properly add to that set when
merging AllocationRequestResourceZ for a given rp+rc combination.

The handler code to produce the rg-rp mappings is modified accordingly
to handle multiple suffixes (instead of just one) per
AllocationRequestResource.

[restated]
GET /allocation_candidates
with group_policy=none
and two request groups
which consolidate to land on the same provider
should generate RequestGroup-to-ResourceProvider mappings with two
entries: one from each request group to the (same) provider.

However, under the referenced bug, only one mapping was returned.

Change-Id: Ifb687698dd1aa434781d06c7f111d8969120bf71
Story: #2006068
Task: #34785
",git fetch https://review.opendev.org/openstack/placement refs/changes/07/668307/2 && git format-patch -1 --stdout FETCH_HEAD,"['placement/tests/functional/gabbits/allocation-candidates-mappings-numa.yaml', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/db/test_allocation_candidates.py', 'placement/handlers/allocation_candidate.py']",4,bc84093f67d410f9e8b80e3e199287d5bc1316e7,story/2006068, for suffix in rr.suffixes: mappings[suffix].add(rr.resource_provider.uuid), suffix = rr.suffix mappings[suffix].add(rr.resource_provider.uuid),82,27
openstack%2Fnova~master~Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff,openstack/nova,master,Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff,Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd,MERGED,2019-06-12 16:01:55.000000000,2019-07-03 21:42:10.000000000,2019-07-03 21:42:09.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15334}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-12 16:01:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/386d3f3a31894639035aad118a360a6e941dfcaf', 'message': 'Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n\nRemove some tests that, do to changes in the aforementioned patch, are\nessentially duplicates now.\n\nChange-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 2, 'created': '2019-06-13 14:16:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f0611bed18b0ef47ca7584c564ed9a2291e3ab90', 'message': 'Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n\nRemove some tests that, due to changes in the aforementioned patch, are\nessentially duplicates now.\n\nChange-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 3, 'created': '2019-06-14 15:38:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/16a5b31c2ab363e341c06d907128fa9eb0b4c138', 'message': 'Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n\nRemove some tests that, due to changes in the aforementioned patch, are\nessentially duplicates now.\n\nChange-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 4, 'created': '2019-06-15 15:42:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3c8813504ea53e113d6d1830fe7e688c5d967da1', 'message': 'Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n\nRemove some tests that, due to changes in the aforementioned patch, are\nessentially duplicates now.\n\nChange-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}, {'number': 5, 'created': '2019-06-28 00:51:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/api_sample_tests/test_volumes.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/215475e054d144deb945b7ead93adb1b8f8978b4', 'message': 'Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd\n\nRemove some tests that, due to changes in the aforementioned patch, are\nessentially duplicates now.\n\nChange-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n'}]",14,664967,215475e054d144deb945b7ead93adb1b8f8978b4,48,12,5,15334,,,0,"Follow-up for I6a777b4b7a5729488f939df8c40e49bd40aec3dd

Remove some tests that, due to changes in the aforementioned patch, are
essentially duplicates now.

Change-Id: Ib4bcc6dc36723b9ddc9d8f8c2656d6e6b18bdeff
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/nova refs/changes/67/664967/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_api.py', 'nova/tests/functional/api_sample_tests/test_volumes.py']",2,386d3f3a31894639035aad118a360a6e941dfcaf,bp/remove-cells-v1,," def test_attach_volume_to_server(self): self.stub_out('nova.volume.cinder.API.get', fakes.stub_volume_get) self.stub_out('nova.volume.cinder.API.attachment_create', lambda *a, **k: {'id': uuids.attachment_id}) device_name = '/dev/vdd' bdm = objects.BlockDeviceMapping() bdm['device_name'] = device_name self.stub_out( 'nova.compute.manager.ComputeManager.reserve_block_device_name', lambda *a, **k: bdm) self.stub_out( 'nova.compute.manager.ComputeManager.attach_volume', lambda *a, **k: None) volume = fakes.stub_volume_get(None, context.get_admin_context(), self.OLD_VOLUME_ID) subs = { 'volume_id': volume['id'], 'device': device_name } server_id = self._post_server() subs = self._get_vol_attachment_subs(subs) response = self._do_post('servers/%s/os-volume_attachments' % server_id, 'attach-volume-to-server-req', subs) self._verify_response('attach-volume-to-server-resp', subs, response, 200) ",0,65
openstack%2Fnova~stable%2Fstein~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,stable/stein,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-03 07:25:21.000000000,2019-07-03 21:42:03.000000000,2019-07-03 21:42:03.000000000,"[{'_account_id': 6873}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-03 07:25:21.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/3bc6ff029ff24083844db363010988d8d08cff00', 'message': ""Stabilize unshelve notification sample tests\n\nThe notification sample test for unshelve waits for the instance to\nreach ACTIVE state and then asserts if unshelve.end notification is\nemitted properly. However the instance.vm_state is set to ACTIVE earlier[1]\nthan emitting the unshelve.end notification[2]. This can cause two\ndifferent test case failure.\n\n1) _test_unshelve_server() fails with no ushelve.end notification\nreceived.\n\n2) _test_shelve_and_shelve_offload_server() also has a unshelve action\nat the end and that test step also only waits for the the ACTIVE state.\nSo the unshelve.end notification from the end of\n_test_shelve_and_shelve_offload_server() can bleed into the\n_test_unshelve_server() step causing that it receive one more\nnotifications.\n\nSo this patch adds an extra\nself._wait_for_notification('instance.unshelve.end') call to each test\nstep to prevent the instability.\n\n[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326\n[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329\n[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836\n\nCloses-Bug: #1835070\n\nChange-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1\n(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)\n""}]",0,668806,3bc6ff029ff24083844db363010988d8d08cff00,8,3,1,9708,,,0,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
(cherry picked from commit 40f1e7c4c22dc6023614b34f28bb7fc416b668a8)
",git fetch https://review.opendev.org/openstack/nova refs/changes/06/668806/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,3bc6ff029ff24083844db363010988d8d08cff00,bug/1835070, self._wait_for_notification('instance.unshelve.end') self._wait_for_notification('instance.unshelve.end'),,2,0
openstack%2Fopenstack-helm-images~master~I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c,openstack/openstack-helm-images,master,I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c,Upstream to new location first time (5th trial),ABANDONED,2019-07-03 11:37:09.000000000,2019-07-03 21:40:47.000000000,,"[{'_account_id': 17591}, {'_account_id': 18295}, {'_account_id': 22348}, {'_account_id': 30166}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-07-03 11:37:09.000000000', 'files': ['nagios/plugins/query_es_failedlogins.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/aa8e9edab722a0693e09d710959975c0a3a94431', 'message': 'Upstream to new location first time (5th trial)\n\nChange-Id: I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c\n'}]",4,668871,aa8e9edab722a0693e09d710959975c0a3a94431,6,5,1,30120,,,0,"Upstream to new location first time (5th trial)

Change-Id: I7061bdc3c7c325a8978cee4f6946649b2e4f7a1c
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/71/668871/1 && git format-patch -1 --stdout FETCH_HEAD,['nagios/plugins/query_es_failedlogins.py'],1,aa8e9edab722a0693e09d710959975c0a3a94431,,"#!/usr/bin/env python # -*- coding: utf-8 -*- # # Copyright 2017 The Openstack-Helm Authors. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. # """"""Query elasticsearch using a combination of simple query pattern, field matches, and/or query clause and evaluate the results against the alert threshold"""""" from __future__ import print_function import sys import argparse from datetime import datetime, timedelta import time import json import re import requests from nagiosutil import NagiosUtil def check_bool(value): """"""validate range"""""" return value.lower() in [ 'true', 'yes', 'on', 't', 'y', '1'] def check_range(value): """"""validate range"""""" minutes = int(value) if minutes < 1 or minutes > 1440: raise argparse.ArgumentTypeError('%s is an invalid search time range.' ' Valid values are between 1 and 1440' '(1 day) minutes.' % value) return minutes def check_threshold(value): """"""validate threshold"""""" threshold = int(value) if threshold < 1: raise argparse.ArgumentTypeError('%s is an invalid threshold' ' Valid threshold is > 0' % value) return threshold def check_match(value): """"""validate match clauses"""""" if not value: # tolerate empty match clause return try: match_fields = dict(item.split(':') for item in value.split(',')) return match_fields except BaseException: raise argparse.ArgumentTypeError('%s is an invalid match clause(s) list.' ' Valid format is a comma separated' ' list of field name and value pairs.' ' ex. field1:value1,field2:value2,...' % value) def check_datetime(value): the_datetime = None if not re.match(r'\d{4}\-\d{2}\-\d{2}T\d{2}\:\d{2}\:\d{2}(\.\d+){0,1}', value.strip()): raise argparse.ArgumentTypeError('%s is an invalid date format, expect YYYY-mm-dd' % value) else: the_datetime = datetime.strptime(value, '%Y-%m-%dT%H:%M:%S') return the_datetime def check_date(value): """"""validate date (only, no time) in standard format """""" the_date = None if not re.match(r'\d{4}\-\d{2}\-\d{2}', value.strip()): raise argparse.ArgumentTypeError('%s is an invalid date format, expect YYYY-mm-dd' % value) else: the_date = datetime.strptime(value, '%Y-%m-%d') return the_date def check_timezone(value): """"""validate timezone specification +/-hh:mm """""" text = value.strip() if not re.match(r'(\+|\-){1}\d{2}\:\d{2}', text): raise argparse.ArgumentTypeError('%s is an invalid timezone format, expect +/-hh:mm' % text) return text def get_utc_timezone(): return -1 * time.altzone / (60 * 60) def get_utc_timezone_str(): text = '' offset = get_utc_timezone() if offset < 0: text = '-' else: text = '+' offset = abs(offset) return text + format(offset, '02d') + ':00' def setup_argparse(parser): """"""setup argparse parser with arguments and help texts"""""" range_help = ('relative time range between now and x minutes ago.' ' must be between 1 <= x <=1440 minutes, default is 5') endpoint_help = 'elasticsearch API service endpoint url' simple_query_fields_help = ('fields to perform the parsed simple query' ' against') match_help = ('elasticsearch match clause(s), in the format of' ' comma separated list of field name and value pairs.' ' ex. field1:value1,field2:value2,...') critical_threshold_help = ('Status is Critical if the' ' number of hits >= the threshold') parser.add_argument('endpoint', help=endpoint_help) parser.add_argument('es_index_name', help='elasticsearch index name (mandatory, used to select es index file') parser.add_argument('es_index_type', help='elasticsearch index type (mandatory es index parameter)') parser.add_argument('ok_msg', help='OK status display message') parser.add_argument('critical_msg', help='Critical status display message') parser.add_argument('critical_threshold', type=check_threshold, help=critical_threshold_help) parser.add_argument('range', type=check_range, help=range_help) parser.add_argument('company_uid_regex', help='Regular expression to recognize company uid') parser.add_argument('@@search_timestamp', type=check_datetime, help='timestamp to use for search (optional, defaults to now)') parser.add_argument('@@search_timezone', type=check_timezone, help='timezone to use for search (optional, defaults to +/-00:00)') parser.add_argument('@@es_index_date', type=check_date, help='elasticsearch index type (mandatory, but =null to not use it! used to build index file name..dated - defaults to now date)') parser.add_argument('@@only_non_company_users', type=check_bool, help='show only cases where there are non company-users (default=false)') parser.add_argument('@@usr') parser.add_argument('@@pwd') parser.add_argument('@@debug', action='store_true') def build_url_index_section(index_name, base_date, offset_array): """""" for this use-case -> always work with two index files: 1) index of the day (i.e. gte_time) and 2) index of prior day """""" text_array = [] for day_offset in offset_array: offset_date = base_date + timedelta(days=day_offset) date_text = index_name + '-' + offset_date.strftime('%Y.%m.%d') text_array.append(date_text) merged_text = "","".join(text_array) return merged_text def adjust_missing_index_date(args, ref_datetime): """""" if es index date is missing, use the search date (only date) as value """""" if not args.es_index_date: args.es_index_date = ref_datetime.date() def evaluate_results(response, args): """"""evaluate the results of the query against the threshold to determine the nagios service status"""""" if (not response or not hasattr(response, 'status_code') or response.status_code < 200 or response.status_code >= 400 or not response.json()): NagiosUtil.service_unknown('Unexpected results found. ' + response.text) elif (not response.json()['hits'] or int(response.json()['hits']['total']) < 0): NagiosUtil.service_unknown('Unexpected results found. ' + str(response.json())) if args.debug: print(response.json()) results = response.json() hits = results['hits']['total'] result_array = results['hits']['hits'] result_string = build_detailed_string_from_results(args, result_array) message = ('Found %s >= %s(threshold) occurrences' ' within the last %s minute(s). %s results: %s') if hits >= args.critical_threshold: NagiosUtil.service_critical(message % (str(hits), args.critical_threshold, args.range, args.critical_msg, result_string)) else: NagiosUtil.service_ok(args.ok_msg) def build_detailed_string_from_results(args, result_array): returned_string = """" for i in range(len(result_array)): jobj = result_array[i] jsource = jobj['_source'] the_time = jsource['@timestamp'] the_reason = jsource['log'] the_who = '' the_who2 = '' match_obj = re.match(r'.*\: from user\: (\S+)\: to user\: (\S+).*', the_reason, re.M|re.I) if match_obj: the_who = match_obj.group(1) if the_who and the_who.lower() == 'root': the_who = '' the_who2 = match_obj.group(2) if the_who2 and the_who2.lower() == 'root': the_who2 = '' if args.only_non_company_users: uid_regex = args.company_uid_regex if (not re.match(uid_regex,the_who)) or (not re.match(uid_regex,the_who2)): returned_string += ( '( ' + the_time + ' ; ' + the_who + ' ; ' + the_who2 + ' ; ' + the_reason + ' ) ' ) else: returned_string += ( '( ' + the_time + ' ; ' + the_who + ' ; ' + the_who2 + ' ; ' + the_reason + ' ) ' ) return returned_string def main(): """"""Query elasticsearch using a combination of simple query pattern, field matches, and/or query clause, then evaluate the results against the alert threshold, and finally return a status to nagios."""""" desc = ('Elasticsearch query using a combination of simple query pattern,' ' field matches, and/or query clause. Evaluate the results' ' against the alert threshold, and return a status to' ' nagios.' ' ex. \""query_elasticsearch.py endpoint index index_type' ' ok_msg critical_msg critical_threshold' ' --query_file query_file_name' ' --simple_query simple_query' ' --simple_query_fields fields' ' --match f1:v1,f2:v2 --range 5 --debug\""') parser = argparse.ArgumentParser(prefix_chars='@', description=desc) setup_argparse(parser) args = parser.parse_args() # find search date, etheir noew or parameter timestamp lt_time = datetime.utcnow() if args.search_timestamp: lt_time = args.search_timestamp gte_time = lt_time - timedelta(minutes=(int(args.range))) # if es_index_date was not passed as parameter, then create it and use search_timestamp as value adjust_missing_index_date(args, lt_time) if not args.search_timezone: args.search_timezone = get_utc_timezone_str() data_json = { ""source"": { ""explain"": ""true"", ""_source"": [ ""log"", ""@timestamp""], ""query"": { ""bool"": { ""filter"": { ""range"": { ""@timestamp"" : { ""gte"": ""{{target_gte_time}}"", ""lt"": ""{{target_lt_time}}"", ""time_zone"": ""{{target_timezone}}"" } } }, ""must"": { ""match"": { ""{{target_field}}"" : { ""query"": ""{{target_value}}"", ""type"": ""phrase"" } } } } }, ""size"" : ""{{want_size}}"" } } params = {} params['target_lt_time'] = lt_time.strftime(""%Y-%m-%dT%H:%M:%S"") + '.0' params['target_gte_time'] = gte_time.strftime(""%Y-%m-%dT%H:%M:%S"") + '.0' params['target_timezone'] = args.search_timezone params['target_field'] = ""log"" params['target_value'] = "" nologin: allowed: from user:"" params['want_size'] = 25 data_json['params'] = params url = (args.endpoint + '/' + build_url_index_section(args.es_index_name, args.es_index_date, [0, -1] ) + '/' + args.es_index_type + '/' + '_search/template') if args.debug: print('index name: ' + args.es_index_name) print('index type: ' + args.es_index_type) print('index date: ' + args.es_index_date.strftime(""%Y-%m-%d"")) print('lt_time: ' + lt_time.strftime(""%Y-%m-%dT%H:%M:%S"") ) print('gte_time: ' + gte_time.strftime(""%Y-%m-%dT%H:%M:%S"") ) print('search_timezone: ' + args.search_timezone) print('range: ' + str(args.range)) print('critial_threshold: ' + str(args.critical_threshold)) print('query url: ' + url) print('query data_json:') print(data_json) try: if args.usr and args.pwd: response = requests.post(url, data=json.dumps(data_json), headers={""Content-Type"": ""application/json""}, auth=(args.usr, args.pwd)) else: response = requests.post(url, data=json.dumps(data_json), headers={""Content-Type"": ""application/json""}) except requests.exceptions.RequestException as req_ex: NagiosUtil.service_unknown('Unexpected Error Occurred. ' + str(req_ex)) evaluate_results(response, args) if __name__ == '__main__': sys.exit(main()) ",,329,0
openstack%2Fpuppet-ironic~master~I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f,openstack/puppet-ironic,master,I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f,Do not use deprecated wsgi_script_source,MERGED,2019-07-03 14:05:26.000000000,2019-07-03 21:29:12.000000000,2019-07-03 21:29:12.000000000,"[{'_account_id': 3153}, {'_account_id': 10239}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 14:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/f2dd2df6054a9f866cd644b5c9d9a65d2bfdf434', 'message': ""Do not use deprecated wsgi_script_source\n\napp.wsgi script is deprecated for long in ironic\nin favor of ironic-api-wsgi script, the deprecated script\nis now removed in [1]. Let's use ironic-api-wsgi script\nas a wsgi_script_source path.\n\n[1] https://review.opendev.org/#/c/668515/\n\nChange-Id: I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f\n""}, {'number': 2, 'created': '2019-07-03 14:20:17.000000000', 'files': ['manifests/params.pp', 'releasenotes/notes/do_not_use_deprecated_wsgi_script_source-4c37c6dae485baf1.yaml', 'spec/classes/ironic_wsgi_apache_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-ironic/commit/e7516d3dc8d9cdd101538b222c19aa562e931fc0', 'message': ""Do not use deprecated wsgi_script_source\n\napp.wsgi script is deprecated for long in ironic\nin favor of ironic-api-wsgi script, the deprecated script\nis now removed in [1]. Let's use ironic-api-wsgi script\nas a wsgi_script_source path.\n\n[1] https://review.opendev.org/#/c/668515/\n\nChange-Id: I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f\n""}]",0,668913,e7516d3dc8d9cdd101538b222c19aa562e931fc0,14,6,2,13861,,,0,"Do not use deprecated wsgi_script_source

app.wsgi script is deprecated for long in ironic
in favor of ironic-api-wsgi script, the deprecated script
is now removed in [1]. Let's use ironic-api-wsgi script
as a wsgi_script_source path.

[1] https://review.opendev.org/#/c/668515/

Change-Id: I08016ca7b82e6987a341ffb8e3c0e5bfc872e46f
",git fetch https://review.opendev.org/openstack/puppet-ironic refs/changes/13/668913/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/params.pp', 'releasenotes/notes/do_not_use_deprecated_wsgi_script_source-4c37c6dae485baf1.yaml', 'spec/classes/ironic_wsgi_apache_spec.rb']",3,f2dd2df6054a9f866cd644b5c9d9a65d2bfdf434,," :wsgi_script_source => '/usr/bin/ironic-api-wsgi', :wsgi_script_source => '/usr/bin/ironic-api-wsgi',"," :wsgi_script_source => '/usr/lib/python3/dist-packages/ironic/api/app.wsgi', :wsgi_script_source => '/usr/lib/python2.7/site-packages/ironic/api/app.wsgi',",11,4
openstack%2Fironic-inspector~master~Ida731235367ea9931e9e6b2bd848f1c7ca657075,openstack/ironic-inspector,master,Ida731235367ea9931e9e6b2bd848f1c7ca657075,"Revert ""Lets temporarily disable broken templates so we can fix gate""",MERGED,2019-07-02 16:50:17.000000000,2019-07-03 21:18:59.000000000,2019-07-03 21:18:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-02 16:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/ea3f667204ae30c80741943c133603496e0a4614', 'message': 'Revert ""Lets temporarily disable broken templates so we can fix gate""\n\nThis reverts commit 497db8479bfb2f1d2895f65bb6e721b6259b8a66.\n\nChange-Id: Ida731235367ea9931e9e6b2bd848f1c7ca657075\n'}, {'number': 2, 'created': '2019-07-02 20:30:44.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a6509bad53116919e3fdb8ccfaf3c1ef22740a79', 'message': 'Revert ""Lets temporarily disable broken templates so we can fix gate""\n\nThis reverts commit 497db8479bfb2f1d2895f65bb6e721b6259b8a66.\n\nChange-Id: Ida731235367ea9931e9e6b2bd848f1c7ca657075\n'}]",0,668713,a6509bad53116919e3fdb8ccfaf3c1ef22740a79,22,4,2,11655,,,0,"Revert ""Lets temporarily disable broken templates so we can fix gate""

This reverts commit 497db8479bfb2f1d2895f65bb6e721b6259b8a66.

Change-Id: Ida731235367ea9931e9e6b2bd848f1c7ca657075
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/13/668713/2 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,ea3f667204ae30c80741943c133603496e0a4614,668712, - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - publish-openstack-docs-pti - release-notes-jobs-python3, # - check-requirements # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs - publish-openstack-docs-pti # - release-notes-jobs-python3,7,7
openstack%2Fopenstack-helm-infra~master~I48048cffc70c67894db23477b7e0c9bc460fed89,openstack/openstack-helm-infra,master,I48048cffc70c67894db23477b7e0c9bc460fed89,WIP: MariaDB: Update backup scripts,ABANDONED,2019-04-08 16:20:43.000000000,2019-07-03 21:09:05.000000000,,"[{'_account_id': 22348}, {'_account_id': 22636}, {'_account_id': 23928}, {'_account_id': 28875}]","[{'number': 1, 'created': '2019-04-08 16:20:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/59bbc2fbd2ae3d9aa7fea6acd7f6804a967899eb', 'message': 'WIP: MariaDB: Update backup scripts\n\nChange-Id: I48048cffc70c67894db23477b7e0c9bc460fed89\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-04-08 19:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/552a2df936ae2c0dd742453759e8891f0f254af8', 'message': 'WIP: MariaDB: Update backup scripts\n\nChange-Id: I48048cffc70c67894db23477b7e0c9bc460fed89\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-04-08 20:16:52.000000000', 'files': ['mariadb/templates/bin/_backup_mariadb.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7f6d727227343bbc7ca38f3410e4254ab24ef639', 'message': 'WIP: MariaDB: Update backup scripts\n\nChange-Id: I48048cffc70c67894db23477b7e0c9bc460fed89\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",2,650950,7f6d727227343bbc7ca38f3410e4254ab24ef639,10,4,3,23928,,,0,"WIP: MariaDB: Update backup scripts

Change-Id: I48048cffc70c67894db23477b7e0c9bc460fed89
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/650950/1 && git format-patch -1 --stdout FETCH_HEAD,['mariadb/templates/bin/_backup_mariadb.sh.tpl'],1,59bbc2fbd2ae3d9aa7fea6acd7f6804a967899eb,backup-date-fix," days_difference() { DAY_DELTA=""$(( ( $(date +%s) - $(date --date=""$1"" +%s ) ) / ( 86400 ) ))"" if [ ""$DAY_DELTA"" -le 0 ]; then DAY_DELTA='0' fi echo ""$DAY_DELTA"" }","days_difference() { archive_date=$( date --date=""$1"" +%s ) if [ ""$?"" -ne 0 ] then day_delta=0 fi current_date=$( date +%s ) date_delta=$(($current_date-$archive_date)) if [ ""$date_delta"" -lt 0 ] then day_delta=0 else day_delta=$(($date_delta/86400)) fi echo $day_delta }",7,16
openstack%2Fopenstack-helm~master~I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5,openstack/openstack-helm,master,I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5,Using htk for glance security policies,MERGED,2019-07-01 17:51:48.000000000,2019-07-03 20:59:11.000000000,2019-07-03 20:59:11.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 29144}, {'_account_id': 29161}]","[{'number': 1, 'created': '2019-07-01 17:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/639d6d69a89fbc216aa7d55159249540c62f19da', 'message': 'Implent HTK snippet to conatiner for Glance Chart\n\nOverriding the values in values.yaml\n\nChange-Id: I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5\n'}, {'number': 2, 'created': '2019-07-02 18:14:56.000000000', 'files': ['glance/templates/deployment-api.yaml', 'glance/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9d72b805d021a7a31f3635a08ccf387cd0a748df', 'message': 'Using htk for glance security policies\n\nOverriding the values in values.yaml\n\nChange-Id: I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5\n'}]",1,668534,9d72b805d021a7a31f3635a08ccf387cd0a748df,12,10,2,29144,,,0,"Using htk for glance security policies

Overriding the values in values.yaml

Change-Id: I52dd8b5513062242ad4f2c89bb4cc998dc5ef9c5
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/34/668534/2 && git format-patch -1 --stdout FETCH_HEAD,"['glance/templates/deployment-api.yaml', 'glance/values.yaml']",2,639d6d69a89fbc216aa7d55159249540c62f19da,, glance_perms: readOnlyRootFilesystem: true runAsUser: 0 ceph_keyring_placement: readOnlyRootFilesystem: true runAsUser: 0,,8,2
openstack%2Fcharm-nova-cloud-controller~master~I81d9924bebe4009119505b1d5dccf2e498925c7e,openstack/charm-nova-cloud-controller,master,I81d9924bebe4009119505b1d5dccf2e498925c7e,Refactor region notification code to not need unit,MERGED,2019-07-02 16:43:35.000000000,2019-07-03 20:18:27.000000000,2019-07-03 20:18:27.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 16:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/344e17a19aba8ee104d9160cee9e7446e1dc4a3a', 'message': ""Refactor region notification code to not need unit\n\nThe (already) refactored region notification code checked for the\n'region' value in the remote unit, despite the nova-compute charm not\nsetting the value.  This has been removed.  Now that the function only\nneeds to be set for the relation, it is no longer included in 'unit'\nloops.\n\nThe utility function is also renamed to\nset_region_on_relation_from_config to better reflect it's actual\nfunction.\n\nChange-Id: I81d9924bebe4009119505b1d5dccf2e498925c7e\nRelated-Bug: #1833420\n""}, {'number': 2, 'created': '2019-07-03 12:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/5341a54fd1e6b185d78147db1866c6c781d1e42e', 'message': ""Refactor region notification code to not need unit\n\nThe (already) refactored region notification code checked for the\n'region' value in the remote unit, despite the nova-compute charm not\nsetting the value.  This has been removed.  Now that the function only\nneeds to be set for the relation, it is no longer included in 'unit'\nloops.\n\nThe utility function is also renamed to\nset_region_on_relation_from_config to better reflect it's actual\nfunction.\n\nChange-Id: I81d9924bebe4009119505b1d5dccf2e498925c7e\nRelated-Bug: #1833420\n""}, {'number': 3, 'created': '2019-07-03 13:18:35.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/452ac31663a87fd3198896fe2ff498a1fbade769', 'message': ""Refactor region notification code to not need unit\n\nThe (already) refactored region notification code checked for the\n'region' value in the remote unit, despite the nova-compute charm not\nsetting the value.  This has been removed.  Now that the function only\nneeds to be set for the relation, it is no longer included in 'unit'\nloops.\n\nThe utility function is also renamed to\nset_region_on_relation_from_config to better reflect it's actual\nfunction.\n\nChange-Id: I81d9924bebe4009119505b1d5dccf2e498925c7e\nRelated-Bug: #1833420\n""}]",0,668711,452ac31663a87fd3198896fe2ff498a1fbade769,12,3,3,20870,,,0,"Refactor region notification code to not need unit

The (already) refactored region notification code checked for the
'region' value in the remote unit, despite the nova-compute charm not
setting the value.  This has been removed.  Now that the function only
needs to be set for the relation, it is no longer included in 'unit'
loops.

The utility function is also renamed to
set_region_on_relation_from_config to better reflect it's actual
function.

Change-Id: I81d9924bebe4009119505b1d5dccf2e498925c7e
Related-Bug: #1833420
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/11/668711/3 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,344e17a19aba8ee104d9160cee9e7446e1dc4a3a,improve-ssh-key-management," set_region_on_relation_from_config(rid) set_region_on_relation_from_config(rid=None)def set_region_on_relation_from_config(rid=None): """"""Helper function that sets the new region for that relation to trigger a change for any units that see it differently. :param rid: The relation to set, or if None, the current one related hookenv.relation_set(relation_id=rid, region=hookenv.config('region')) set_region_on_relation_from_config(r_id) for unit in hookenv.related_units(r_id):"," for unit in hookenv.related_units(rid): # Note(ajkavanagh) This used to also update all of the ssh keys # and hosts to every unit; but that's almost certainly not # needed on a config changed hook notify_region_to_unit(rid, unit) notify_region_to_unit(rid=None, unit=None)def notify_region_to_unit(rid=None, unit=None): """"""Helper function that if the relation data set by the unit differs from the config on nova-cloud-controller, then nova-cc sets the new region for that relation to trigger a change for any units that see it differently. :param rid: The relation to check/set, or if None, the current one related :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] rel_settings = hookenv.relation_get(rid=rid, unit=unit) if not rel_settings.get('region', None) == hookenv.config('region'): hookenv.relation_set(relation_id=rid, region=hookenv.config('region')) for unit in hookenv.related_units(r_id): notify_region_to_unit(r_id, unit)",29,37
openstack%2Fdevstack-plugin-ceph~master~Iea948bcc43315286e5c130485728152d4710bfcb,openstack/devstack-plugin-ceph,master,Iea948bcc43315286e5c130485728152d4710bfcb,Disable [validation]/run_validation in tempest.conf,MERGED,2019-04-24 15:31:44.000000000,2019-07-03 20:17:18.000000000,2019-07-03 20:17:18.000000000,"[{'_account_id': 4523}, {'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 10135}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 15:31:44.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/4a4481995303d97b5f646c6d3d008fbb3eab554e', 'message': ""Disable [validation]/run_validation in tempest.conf\n\nDevstack and tempest default to enable ssh validation in\na lot of API tests which can fail intermittently:\n\n  http://status.openstack.org/elastic-recheck/#1808010\n\nAlso see bug 1802971.\n\nSince a ceph backend for storage shouldn't really have\nany impact on whether or not ssh is going to work in a\ntempest run, this change disables it in the\ndevstack-plugin-ceph-tempest jobs which should make the\njob faster and more stable.\n\nChange-Id: Iea948bcc43315286e5c130485728152d4710bfcb\n""}]",0,655472,4a4481995303d97b5f646c6d3d008fbb3eab554e,11,6,1,6873,,,0,"Disable [validation]/run_validation in tempest.conf

Devstack and tempest default to enable ssh validation in
a lot of API tests which can fail intermittently:

  http://status.openstack.org/elastic-recheck/#1808010

Also see bug 1802971.

Since a ceph backend for storage shouldn't really have
any impact on whether or not ssh is going to work in a
tempest run, this change disables it in the
devstack-plugin-ceph-tempest jobs which should make the
job faster and more stable.

Change-Id: Iea948bcc43315286e5c130485728152d4710bfcb
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/72/655472/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,4a4481995303d97b5f646c6d3d008fbb3eab554e,disable-ssh-validation, TEMPEST_RUN_VALIDATION: false TEMPEST_RUN_VALIDATION: false,,2,0
openstack%2Fcharm-nova-cloud-controller~master~Id2774bb1551e4826a2fd71d1a371d65ab2439a7d,openstack/charm-nova-cloud-controller,master,Id2774bb1551e4826a2fd71d1a371d65ab2439a7d,Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines(),MERGED,2019-07-01 09:33:11.000000000,2019-07-03 20:16:19.000000000,2019-07-03 20:16:18.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 09:33:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/6f3f89ceaee909f20c3825d0487e9f9e85432a11', 'message': 'Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines()\n\nRefactor ssh_known_hosts_lines() and ssh_authorized_keys_lines to be\neasier to maintain and only call rstrip() once (per function).\n\nChange-Id: Id2774bb1551e4826a2fd71d1a371d65ab2439a7d\n'}, {'number': 2, 'created': '2019-07-03 12:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/afe976a9bc9e3bb941896d02a61a6b57d88dabb0', 'message': 'Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines()\n\nRefactor ssh_known_hosts_lines() and ssh_authorized_keys_lines to be\neasier to maintain and only call rstrip() once (per function).\n\nChange-Id: Id2774bb1551e4826a2fd71d1a371d65ab2439a7d\n'}, {'number': 3, 'created': '2019-07-03 13:18:35.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'unit_tests/test_nova_cc_utils.py', 'hooks/nova_cc_utils.py', 'tox.ini', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/afa3c9a58e6b4cea4df3ed3921fa0e119d60028d', 'message': 'Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines()\n\nRefactor ssh_known_hosts_lines() and ssh_authorized_keys_lines to be\neasier to maintain and only call rstrip() once (per function).\n\nChange-Id: Id2774bb1551e4826a2fd71d1a371d65ab2439a7d\n'}]",0,668401,afa3c9a58e6b4cea4df3ed3921fa0e119d60028d,15,4,3,20870,,,0,"Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines()

Refactor ssh_known_hosts_lines() and ssh_authorized_keys_lines to be
easier to maintain and only call rstrip() once (per function).

Change-Id: Id2774bb1551e4826a2fd71d1a371d65ab2439a7d
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/01/668401/3 && git format-patch -1 --stdout FETCH_HEAD,['hooks/nova_cc_utils.py'],1,6f3f89ceaee909f20c3825d0487e9f9e85432a11,improve-ssh-key-management, for host in set(hosts): stripped_line = hosts_line.rstrip() if stripped_line: known_hosts_list.append(stripped_line) stripped_line = authkey_line.rstrip() if stripped_line: authorized_keys_list.append(stripped_line), for host in list(set(hosts)): if hosts_line.rstrip(): known_hosts_list.append(hosts_line.rstrip()) if authkey_line.rstrip(): authorized_keys_list.append(authkey_line.rstrip()),7,5
openstack%2Fpython-openstackclient~master~I0a87e02e71ff025d30181fc17ebcd003a590f110,openstack/python-openstackclient,master,I0a87e02e71ff025d30181fc17ebcd003a590f110,compute: limit the service's force down command above 2.10,MERGED,2018-06-19 13:08:10.000000000,2019-07-03 20:16:17.000000000,2018-06-24 13:28:43.000000000,"[{'_account_id': 6482}, {'_account_id': 8276}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26311}]","[{'number': 1, 'created': '2018-06-19 13:08:10.000000000', 'files': ['openstackclient/compute/v2/service.py', 'openstackclient/tests/unit/compute/v2/test_service.py'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/956eabe96783727d6e86e3896cacf89fb893e0f5', 'message': ""compute: limit the service's force down command above 2.10\n\nThe force down action is added in Microversion 2.11, we should limit\nthe command only can be executed when the microversion is above 2.10.\n\nChange-Id: I0a87e02e71ff025d30181fc17ebcd003a590f110\n""}]",1,576514,956eabe96783727d6e86e3896cacf89fb893e0f5,13,5,1,5754,,,0,"compute: limit the service's force down command above 2.10

The force down action is added in Microversion 2.11, we should limit
the command only can be executed when the microversion is above 2.10.

Change-Id: I0a87e02e71ff025d30181fc17ebcd003a590f110
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/14/576514/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstackclient/compute/v2/service.py', 'openstackclient/tests/unit/compute/v2/test_service.py']",2,956eabe96783727d6e86e3896cacf89fb893e0f5,forced_down,from novaclient import api_versions self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.11') self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.11') self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.11') self.app.client_manager.compute.api_version = api_versions.APIVersion( '2.11'),,25,11
openstack%2Fcharm-nova-cloud-controller~master~I45bc9a889968796572a61c199ac25d543c064670,openstack/charm-nova-cloud-controller,master,I45bc9a889968796572a61c199ac25d543c064670,Refactor update_ssh_keys_and_notify_compute_units(),MERGED,2019-06-28 15:21:29.000000000,2019-07-03 20:15:53.000000000,2019-07-03 20:15:53.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 15:21:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/e29edb945b582baa4cf90d8978ab8dd9da6a37eb', 'message': 'Refactor update_ssh_keys_and_notify_compute_units()\n\nThis patchset refactors the update_ssh_keys_and_notify_compute_units()\ninto two separate halves: one is ""update keys and hosts from a specified\nunit on a relation (or the current relation/unit for the hook)"" and the\nother is update the relation_set data for the relation with the found\nkeys/hosts.\n\nThis is a precusor patch to reducing the number of dns queries and\nsetting of relation data, and to eliminate repeated operations on the\nsame data/result (which currently happens).\n\nChange-Id: I45bc9a889968796572a61c199ac25d543c064670\nRelated-Bug: 1833420\n'}, {'number': 2, 'created': '2019-07-03 12:51:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cb006f2362a9289a48e394029cc095766c2f4a43', 'message': 'Refactor update_ssh_keys_and_notify_compute_units()\n\nThis patchset refactors the update_ssh_keys_and_notify_compute_units()\ninto two separate halves: one is ""update keys and hosts from a specified\nunit on a relation (or the current relation/unit for the hook)"" and the\nother is update the relation_set data for the relation with the found\nkeys/hosts.\n\nThis is a precusor patch to reducing the number of dns queries and\nsetting of relation data, and to eliminate repeated operations on the\nsame data/result (which currently happens).\n\nChange-Id: I45bc9a889968796572a61c199ac25d543c064670\nRelated-Bug: 1833420\n'}, {'number': 3, 'created': '2019-07-03 13:18:35.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/0c96b7177ac3c19665d2b8205dac32ac2096098d', 'message': 'Refactor update_ssh_keys_and_notify_compute_units()\n\nThis patchset refactors the update_ssh_keys_and_notify_compute_units()\ninto two separate halves: one is ""update keys and hosts from a specified\nunit on a relation (or the current relation/unit for the hook)"" and the\nother is update the relation_set data for the relation with the found\nkeys/hosts.\n\nThis is a precusor patch to reducing the number of dns queries and\nsetting of relation data, and to eliminate repeated operations on the\nsame data/result (which currently happens).\n\nChange-Id: I45bc9a889968796572a61c199ac25d543c064670\nRelated-Bug: 1833420\n'}]",15,668190,0c96b7177ac3c19665d2b8205dac32ac2096098d,20,4,3,20870,,,0,"Refactor update_ssh_keys_and_notify_compute_units()

This patchset refactors the update_ssh_keys_and_notify_compute_units()
into two separate halves: one is ""update keys and hosts from a specified
unit on a relation (or the current relation/unit for the hook)"" and the
other is update the relation_set data for the relation with the found
keys/hosts.

This is a precusor patch to reducing the number of dns queries and
setting of relation data, and to eliminate repeated operations on the
same data/result (which currently happens).

Change-Id: I45bc9a889968796572a61c199ac25d543c064670
Related-Bug: 1833420
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/90/668190/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,e29edb945b582baa4cf90d8978ab8dd9da6a37eb,improve-ssh-key-management," :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] """""" update_ssh_key(rid=rid, unit=unit) notify_ssh_keys_to_compute_units(rid=rid, unit=unit) def update_ssh_key(rid=None, unit=None): """"""Update ssh keys for a nova-compute unit connected on the cloud-compute relation. If rid=None and unit=None, then this function is being called in the context of a cloud-compute relation changed hook, and will relate to that unit. If rid and unit are set, then this function is being called to refresh/update all specified units. If the 'migration_auth_type' isn't 'ssh' or the 'nova_ssh_public_key' in the relation data from the connected nova-compute unit isn't available, thenthis function does nothing. migration_auth_type = rel_settings.get('migration_auth_type', None) # bail out of doing ANY ssh keys for the remote unit if not # migration_auth_type is set in that units relation_data if migration_auth_type is None: if migration_auth_type == 'ssh': # hookenv.status_set('maintenance', 'configuring live migration') hookenv.log('SSH migration set but peer did not publish key.' ' relation={}, unit={}' .format(rid or hookenv.relation_id(), unit or hookenv.remote_unit())) nova_ssh_public_key = rel_settings.get('nova_ssh_public_key', None) # Always try to fetch the user 'nova' key on the remote compute unit if nova_ssh_public_key: ncc_utils.ssh_compute_add(nova_ssh_public_key, def notify_ssh_keys_to_compute_units(rid=None, unit=None): """"""Update and notify the collected ssh keys to nova-compute units Update/add and notify, for the associated nova-compute unit, the ssh key to all the other nova-compute units. If rid=None and unit=None, then this function is being called in the context of a cloud-compute relation changed hook, and will relate to that unit. If rid and unit are set, then this function is being called to refresh and update all specific units. TODO(ajkavanagh) it's not clear why unit is required as relation data can't be set for a particular unit, only on the relation; a coming refactor will sort this out. :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] """""" rel_settings = hookenv.relation_get(rid=rid, unit=unit) migration_auth_type = rel_settings.get('migration_auth_type', None) if migration_auth_type is None: return if migration_auth_type == 'ssh': # hookenv.status_set('maintenance', 'configuring live migration') _set_hosts_and_keys_on_relation(rid, unit, user=None) if rel_settings.get('nova_ssh_public_key', None): _set_hosts_and_keys_on_relation(rid, unit, user='nova') def _set_hosts_and_keys_on_relation(rid=None, unit=None, user=None): """"""Set the known hosts and authorized keys on the relation specified. Takes the authorized_keys and known hosts collected from all of the related compute units (that have been processed) and sets them on the relation via the _batch_write_ssh_on_relation() helper. TODO(ajkavanagh) it's not clear why unit is required as relation data can't be set for a particular unit, only on the relation; a coming refactor will sort this out. :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] :param user: the user to use in the format strings, or None for default :type user: Union[str, None] """""" if user is not None: known_hosts_prefix = ""{}_known_hosts"".format(user) known_hosts_max_key = ""{}_known_hosts_max_index"".format(user) authorized_prefix = ""{}_authorized_keys"".format(user) authorized_keys_max_key = ""{}_authorized_keys_max_index"".format(user) else: known_hosts_prefix = ""known_hosts"" known_hosts_max_key = ""known_hosts_max_index"" authorized_prefix = ""authorized_keys"" authorized_keys_max_key = ""authorized_keys_max_index"" _batch_write_ssh_on_relation( rid, known_hosts_prefix, known_hosts_max_key, ncc_utils.ssh_known_hosts_lines(unit=unit, user=user)) _batch_write_ssh_on_relation( rid, authorized_prefix, authorized_keys_max_key, ncc_utils.ssh_authorized_keys_lines(unit=unit, user=user)) def _batch_write_ssh_on_relation(rid, prefix, max_index, _iter): """"""Helper to set the relation data from an iterable to specified relation (which may be None to indicate the current, default, relation). The prefix param is used to construct the key a ""{prefix}_{index}"" with index incrementing from 0 for each line delivered from the iterable. :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param prefix: The prefix for writing the related index line (e.g. known_hosts) :type prefix: str :param max_index_key: the key against which to set the maximum index that was written (i.e. number of keys set). :param _iter: an iterable that returns the lines to associate with keys :type _iter: Iterable[str] """""" index = 0 for line in _iter: hookenv.relation_set( relation_id=rid, relation_settings={""{}_{}"".format(prefix, index): line}) index += 1 hookenv.relation_set(relation_id=rid, relation_settings={""{}"".format(max_index): index})"," TODO: split this function in to updating/adding SSH keys and notifying (set_relation) all of the other units. if 'migration_auth_type' not in rel_settings: if rel_settings['migration_auth_type'] == 'ssh': hookenv.status_set('maintenance', 'configuring live migration') hookenv.log('SSH migration set but peer did not publish key.') index = 0 for line in ncc_utils.ssh_known_hosts_lines(unit=unit): hookenv.relation_set(relation_id=rid, relation_settings={ 'known_hosts_{}'.format(index): line }) index += 1 hookenv.relation_set(relation_id=rid, known_hosts_max_index=index) index = 0 for line in ncc_utils.ssh_authorized_keys_lines(unit=unit): hookenv.relation_set(relation_id=rid, relation_settings={ 'authorized_keys_{}'.format(index): line }) index += 1 hookenv.relation_set(relation_id=rid, authorized_keys_max_index=index) if 'nova_ssh_public_key' not in rel_settings: return if rel_settings['nova_ssh_public_key']: ncc_utils.ssh_compute_add(rel_settings['nova_ssh_public_key'], index = 0 for line in ncc_utils.ssh_known_hosts_lines(unit=unit, user='nova'): hookenv.relation_set(relation_id=rid, relation_settings={ '{}_known_hosts_{}'.format('nova', index): line }) index += 1 hookenv.relation_set(relation_id=rid, relation_settings={ ('{}_known_hosts_max_index' .format('nova')): index }) index = 0 for line in ncc_utils.ssh_authorized_keys_lines( unit=unit, user='nova'): hookenv.relation_set(relation_id=rid, relation_settings={ '{}_authorized_keys_{}'.format( 'nova', index): line }) index += 1 hookenv.relation_set(relation_id=rid, relation_settings={ '{}_authorized_keys_max_index'.format( 'nova'): index })",147,56
openstack%2Fcharm-nova-cloud-controller~master~I59e52076480729beec9e125f66714a208303908d,openstack/charm-nova-cloud-controller,master,I59e52076480729beec9e125f66714a208303908d,Refactor compute_changed() hook handler,MERGED,2019-06-26 15:29:17.000000000,2019-07-03 20:15:52.000000000,2019-07-03 20:15:52.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 15:29:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/b5a92935268fc679daf899ba588d1cf6cb4b5295', 'message': ""Refactor compute_changed() hook handler\n\nThe compute_changed() function (which handled the cloud-compute relation\nchanged hook event) was also used in the config-changed and update-charm\nhooks.  This meant that it did a lot of work that wasn't necessary for\nthose hooks.\n\nThis patch splits the function up into separate functions that deal with\none thing, and then introduces a new function to call those.  This means\nthat the other usages compute_changed() now use the actual features that\nthey need.\n\nChange-Id: I59e52076480729beec9e125f66714a208303908d\nRelated-Bug: 1833420\n""}, {'number': 2, 'created': '2019-07-03 12:51:56.000000000', 'files': ['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-nova-cloud-controller/commit/cb60bab6f7124bf6ba42d0b4fd1470e8b6dc3991', 'message': ""Refactor compute_changed() hook handler\n\nThe compute_changed() function (which handled the cloud-compute relation\nchanged hook event) was also used in the config-changed and update-charm\nhooks.  This meant that it did a lot of work that wasn't necessary for\nthose hooks.\n\nThis patch splits the function up into separate functions that deal with\none thing, and then introduces a new function to call those.  This means\nthat the other usages compute_changed() now use the actual features that\nthey need.\n\nChange-Id: I59e52076480729beec9e125f66714a208303908d\nRelated-Bug: 1833420\n""}]",12,667652,cb60bab6f7124bf6ba42d0b4fd1470e8b6dc3991,16,4,2,20870,,,0,"Refactor compute_changed() hook handler

The compute_changed() function (which handled the cloud-compute relation
changed hook event) was also used in the config-changed and update-charm
hooks.  This meant that it did a lot of work that wasn't necessary for
those hooks.

This patch splits the function up into separate functions that deal with
one thing, and then introduces a new function to call those.  This means
that the other usages compute_changed() now use the actual features that
they need.

Change-Id: I59e52076480729beec9e125f66714a208303908d
Related-Bug: 1833420
",git fetch https://review.opendev.org/openstack/charm-nova-cloud-controller refs/changes/52/667652/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_nova_cc_hooks.py', 'hooks/nova_cc_hooks.py']",2,b5a92935268fc679daf899ba588d1cf6cb4b5295,improve-ssh-key-management," # Note(ajkavanagh) This used to also update all of the ssh keys # and hosts to every unit; but that's almost certainly not # needed on a config changed hook notify_region_to_unit(rid, unit)def cloud_compute_relation_changed(): """"""Performs actions associated with when the cloud compute relation changes for a unit. * add hosts to the cell when ready * notifies the region to the unit, if it has changed * notifies the ssh known hosts and authorized keys to the unit """""" add_hosts_to_cell_when_ready() notify_region_to_unit(rid=None, unit=None) update_ssh_keys_and_notify_compute_units(rid=None, unit=None) def add_hosts_to_cell_when_ready(): """"""Helper function to call add_hosts_to_cell() when the unit is the leader and the cellv2 and database are ready. :raises: subprocess.CalledProcessError if cells command fails """""" def notify_region_to_unit(rid=None, unit=None): """"""Helper function that if the relation data set by the unit differs from the config on nova-cloud-controller, then nova-cc sets the new region for that relation to trigger a change for any units that see it differently. :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] """""" rel_settings = hookenv.relation_get(rid=rid, unit=unit) if not rel_settings.get('region', None) == hookenv.config('region'): hookenv.relation_set(relation_id=rid, region=hookenv.config('region')) def update_ssh_keys_and_notify_compute_units(rid=None, unit=None): """"""Update and notify the collected ssh keys to nova-compute units Update/add and notify, for the associated nova-compute unit, the ssh key to all the other nova-compute units. If rid=None and unit=None, then this function is being called in the context of a cloud-compute relation changed hook, and will relate to that unit. If rid and unit are set, then this function is being called to refresh and update all specific units. TODO: split this function in to updating/adding SSH keys and notifying (set_relation) all of the other units. :param rid: The relation to check/set, or if None, the current one related to the hook. :type rid: Union[str. None] :param unit: the unit to check, of None for the current one according to the hook. :type unit: Union[str, None] """""" rel_settings = hookenv.relation_get(rid=rid, unit=unit) notify_region_to_unit(r_id, unit) update_ssh_keys_and_notify_compute_units(r_id, unit) add_hosts_to_cell_when_ready() "," compute_changed(rid, unit)def compute_changed(rid=None, unit=None): rel_settings = hookenv.relation_get(rid=rid, unit=unit) if not rel_settings.get('region', None) == hookenv.config('region'): hookenv.relation_set(relation_id=rid, region=hookenv.config('region')) compute_changed(r_id, unit)",100,33
openstack%2Fironic-inspector~master~Id6d56860a4e47f28c875ed6032e1f99a997aea9b,openstack/ironic-inspector,master,Id6d56860a4e47f28c875ed6032e1f99a997aea9b,Use bmc ipv6 address while processing introspection data,MERGED,2019-05-27 08:31:21.000000000,2019-07-03 20:01:29.000000000,2019-07-03 20:01:29.000000000,"[{'_account_id': 8767}, {'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 12860}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-05-27 08:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/2ff6847a8ac94eaac39927d5b159907d0f869dd7', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}, {'number': 2, 'created': '2019-05-31 14:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/6d2a3ed8328800e069065ffca3c6415c6d9b1440', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}, {'number': 3, 'created': '2019-05-31 17:06:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a366a505a2c0fc59591916e276d26c627f4cb7b9', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}, {'number': 4, 'created': '2019-06-03 17:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/084615ba91794af3af5de3e4b8b57f5bf81c15df', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}, {'number': 5, 'created': '2019-06-04 09:20:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/294e7f047465bfc3fe2e2bedf210e197ba33d3fa', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}, {'number': 6, 'created': '2019-06-19 12:03:25.000000000', 'files': ['ironic_inspector/test/base.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_plugins_discovery.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/plugins/standard.py', 'ironic_inspector/plugins/discovery.py', 'ironic_inspector/conf/discovery.py', 'ironic_inspector/utils.py', 'releasenotes/notes/enroll-nodes-with-bmc-v6address-ba224f4a8a151c53.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/fcb0ca8a6e79e3fea766bfa0e0380933a48008ba', 'message': 'Use bmc ipv6 address while processing introspection data\n\nChange-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b\nStory: #2005779\nTask: #33503\n'}]",48,661563,fcb0ca8a6e79e3fea766bfa0e0380933a48008ba,52,8,6,8767,,,0,"Use bmc ipv6 address while processing introspection data

Change-Id: Id6d56860a4e47f28c875ed6032e1f99a997aea9b
Story: #2005779
Task: #33503
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/63/661563/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_inspector/test/base.py', 'ironic_inspector/process.py', 'ironic_inspector/test/unit/test_plugins_discovery.py', 'ironic_inspector/test/unit/test_process.py', 'ironic_inspector/plugins/discovery.py', 'ironic_inspector/conf/discovery.py', 'ironic_inspector/utils.py']",7,2ff6847a8ac94eaac39927d5b159907d0f869dd7,bmc-v6address,"def get_ipmi_v6address_from_data(introspection_data): try: result = introspection_data['inventory']['bmc_v6address'] except KeyError: result = introspection_data.get('ipmi_v6address') if result in ('', '::/0'): # ipmitool can return these values, if it does not know the address return None else: return result ",,68,10
openstack%2Fcharm-keystone-saml-mellon~master~Ia73cd633f2948080e9a892869074ed2775ecc33c,openstack/charm-keystone-saml-mellon,master,Ia73cd633f2948080e9a892869074ed2775ecc33c,Fix get-sp-metadata sp-metadata file location,MERGED,2019-06-18 10:35:50.000000000,2019-07-03 20:01:03.000000000,2019-07-03 20:01:03.000000000,"[{'_account_id': 20635}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 24824}]","[{'number': 1, 'created': '2019-06-18 10:35:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/36a5c1d960dffebdb5d76613607aff2ec29bed07', 'message': 'Fix get-sp-metadata sp-metadata file location\n\nget-sp-metadata action hardcodes the location of an sp metadata file\nwhich is incorrect - it should use the application name to allow custom\napplication names and usage of multiple keystone-saml-mellon\napplications (to have multiple IdPs).\n\nChange-Id: Ia73cd633f2948080e9a892869074ed2775ecc33c\nCloses-Bug: #1833202\n'}, {'number': 2, 'created': '2019-06-22 12:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/6f4da90f804103d89290664a3bb185e716221f64', 'message': 'Fix get-sp-metadata sp-metadata file location\n\nget-sp-metadata action hardcodes the location of an sp metadata file\nwhich is incorrect - it should use the application name to allow custom\napplication names and usage of multiple keystone-saml-mellon\napplications (to have multiple IdPs).\n\nChange-Id: Ia73cd633f2948080e9a892869074ed2775ecc33c\nCloses-Bug: #1833202\n'}, {'number': 3, 'created': '2019-06-27 11:02:07.000000000', 'files': ['unit_tests/test_actions.py', 'src/actions/actions.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-keystone-saml-mellon/commit/8a4b2cb7ccc311070e518201f0b762d8113eb328', 'message': 'Fix get-sp-metadata sp-metadata file location\n\nget-sp-metadata action hardcodes the location of an sp metadata file\nwhich is incorrect - it should use the application name to allow custom\napplication names and usage of multiple keystone-saml-mellon\napplications (to have multiple IdPs).\n\nIn order to make unit testing easier the global variable for the sp\nmetadata file in actions.py is moved into a function so that it is\nevaluated at the function call time, not module import time.\n\nChange-Id: Ia73cd633f2948080e9a892869074ed2775ecc33c\nCloses-Bug: #1833202\n'}]",0,665946,8a4b2cb7ccc311070e518201f0b762d8113eb328,14,5,3,24824,,,0,"Fix get-sp-metadata sp-metadata file location

get-sp-metadata action hardcodes the location of an sp metadata file
which is incorrect - it should use the application name to allow custom
application names and usage of multiple keystone-saml-mellon
applications (to have multiple IdPs).

In order to make unit testing easier the global variable for the sp
metadata file in actions.py is moved into a function so that it is
evaluated at the function call time, not module import time.

Change-Id: Ia73cd633f2948080e9a892869074ed2775ecc33c
Closes-Bug: #1833202
",git fetch https://review.opendev.org/openstack/charm-keystone-saml-mellon refs/changes/46/665946/2 && git format-patch -1 --stdout FETCH_HEAD,['src/actions/actions.py'],1,36a5c1d960dffebdb5d76613607aff2ec29bed07,bug/1833202,"SP_METADATA_FILE = ""/etc/apache2/mellon/sp-meta.{}.xml"".format( hookenv.service_name())","SP_METADATA_FILE = ""/etc/apache2/mellon/sp-meta.keystone-saml-mellon.xml""",2,1
openstack%2Fpuppet-nova~master~I1abc672e58d4685f75fa7c237486e781dcc9227e,openstack/puppet-nova,master,I1abc672e58d4685f75fa7c237486e781dcc9227e,Remove deprecated metadata option from nova::api,MERGED,2019-07-02 12:33:19.000000000,2019-07-03 19:46:32.000000000,2019-07-03 19:46:32.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 12:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ea6852fc807974ce885469d83fbff849b7ea1554', 'message': 'Remove deprecated metadata option from nova::api\n\nRemoves deprecated neutron_metadata_proxy_shared_secret and\nmetadata_cache_expiration parameter from nova::api class.\n\nChange-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e\n'}, {'number': 2, 'created': '2019-07-03 04:30:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ac818531add1ef10bb9083c3ad8234522f5a7980', 'message': 'Remove deprecated metadata option from nova::api\n\nRemoves deprecated neutron_metadata_proxy_shared_secret and\nmetadata_cache_expiration parameter from nova::api class.\n\nChange-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e\n'}, {'number': 3, 'created': '2019-07-03 06:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c7b82141e426360872f03faa22bd2c01152f30ed', 'message': 'Remove deprecated metadata option from nova::api\n\nRemoves deprecated neutron_metadata_proxy_shared_secret and\nmetadata_cache_expiration parameter from nova::api class.\n\nChange-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e\n'}, {'number': 4, 'created': '2019-07-03 16:03:00.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'releasenotes/notes/remove_deprecated_metadata_options-2eb2a69a4b85e27a.yaml', 'manifests/api.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/66f2e8e509941391c172b56f5b9e4310e5fa72dd', 'message': 'Remove deprecated metadata option from nova::api\n\nRemoves deprecated neutron_metadata_proxy_shared_secret and\nmetadata_cache_expiration parameter from nova::api class.\n\nChange-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e\n'}]",0,668666,66f2e8e509941391c172b56f5b9e4310e5fa72dd,27,7,4,17216,,,0,"Remove deprecated metadata option from nova::api

Removes deprecated neutron_metadata_proxy_shared_secret and
metadata_cache_expiration parameter from nova::api class.

Change-Id: I1abc672e58d4685f75fa7c237486e781dcc9227e
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/66/668666/4 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'releasenotes/notes/remove_deprecated_metadata_options-2eb2a69a4b85e27a.yaml', 'manifests/api.pp']",3,ea6852fc807974ce885469d83fbff849b7ea1554,remove_deprecated_metadata,,"# [*neutron_metadata_proxy_shared_secret*] # (optional) Shared secret to validate proxies Neutron metadata requests # Defaults to undef # # [*metadata_cache_expiration*] # (optional) This option is the time (in seconds) to cache metadata. # Defaults to $::os_service_default # $neutron_metadata_proxy_shared_secret = undef, $metadata_cache_expiration = $::os_service_default, 'api/metadata_cache_expiration': value => $metadata_cache_expiration; } if ($neutron_metadata_proxy_shared_secret){ nova_config { 'neutron/service_metadata_proxy': value => true; 'neutron/metadata_proxy_shared_secret': value => $neutron_metadata_proxy_shared_secret, secret => true; } } else { nova_config { 'neutron/service_metadata_proxy': value => false; 'neutron/metadata_proxy_shared_secret': ensure => absent; }",5,35
openstack%2Fmanila-tempest-plugin~master~I1490bf8f424181233aa3ea04a8410052b385699c,openstack/manila-tempest-plugin,master,I1490bf8f424181233aa3ea04a8410052b385699c,"Look for api microversion header in ""Vary"" header data",MERGED,2019-07-02 07:29:48.000000000,2019-07-03 19:41:36.000000000,2019-07-03 19:41:36.000000000,"[{'_account_id': 9003}, {'_account_id': 16643}, {'_account_id': 19262}, {'_account_id': 22348}, {'_account_id': 25243}]","[{'number': 1, 'created': '2019-07-02 07:29:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/b9801e5e61a149d40f486d33738b9fe9480a231f', 'message': 'Look for api microversion header in ""Vary"" header data\n\nApache configuration adds ""Accept-Encoding"" to the ""Vary"" header\nin its responses, this causes to failures in some tests which check\nthe ""Vary"" header content of the response.\nIn order to avoid this issue we should only check that api microversion\nheader axists in ""Vary"" header data.\n\nChange-Id: I1490bf8f424181233aa3ea04a8410052b385699c\nRelated-bug: #1833766\n'}, {'number': 2, 'created': '2019-07-03 04:27:22.000000000', 'files': ['manila_tempest_tests/tests/api/test_microversions.py'], 'web_link': 'https://opendev.org/openstack/manila-tempest-plugin/commit/0ac95412b1b0555775b4d45f51c27af2fa84724a', 'message': 'Look for api microversion header in ""Vary"" header data\n\nApache configuration adds ""Accept-Encoding"" to the ""Vary"" header\nin its responses, this causes to failures in some tests which check\nthe ""Vary"" header content of the response.\nIn order to avoid this issue we should only check that api microversion\nheader axists in ""Vary"" header data.\n\nChange-Id: I1490bf8f424181233aa3ea04a8410052b385699c\nRelated-bug: #1833766\n'}]",2,668622,0ac95412b1b0555775b4d45f51c27af2fa84724a,13,5,2,19262,,,0,"Look for api microversion header in ""Vary"" header data

Apache configuration adds ""Accept-Encoding"" to the ""Vary"" header
in its responses, this causes to failures in some tests which check
the ""Vary"" header content of the response.
In order to avoid this issue we should only check that api microversion
header axists in ""Vary"" header data.

Change-Id: I1490bf8f424181233aa3ea04a8410052b385699c
Related-bug: #1833766
",git fetch https://review.opendev.org/openstack/manila-tempest-plugin refs/changes/22/668622/2 && git format-patch -1 --stdout FETCH_HEAD,['manila_tempest_tests/tests/api/test_microversions.py'],1,b9801e5e61a149d40f486d33738b9fe9480a231f,bug/1833766," self.assertIn(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertIn(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertIn(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertIn(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertIn(API_MICROVERSIONS_HEADER, resp.get('vary'))"," self.assertEqual(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertEqual(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertEqual(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertEqual(API_MICROVERSIONS_HEADER, resp.get('vary')) self.assertEqual(API_MICROVERSIONS_HEADER, resp.get('vary'))",5,5
openstack%2Fswift~master~I71f411a2e99fa8259b86f11ed29d1b816ff469cb,openstack/swift,master,I71f411a2e99fa8259b86f11ed29d1b816ff469cb,s3token: fix conf option name,MERGED,2019-07-03 14:28:51.000000000,2019-07-03 19:39:21.000000000,2019-07-03 19:38:03.000000000,"[{'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 14:28:51.000000000', 'files': ['etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/345f577ff191ee01c3cb4626805338028815c2b4', 'message': 's3token: fix conf option name\n\nRelated-Change: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4\nChange-Id: I71f411a2e99fa8259b86f11ed29d1b816ff469cb\n'}]",1,668919,345f577ff191ee01c3cb4626805338028815c2b4,7,2,1,15343,,,0,"s3token: fix conf option name

Related-Change: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4
Change-Id: I71f411a2e99fa8259b86f11ed29d1b816ff469cb
",git fetch https://review.opendev.org/openstack/swift refs/changes/19/668919/1 && git format-patch -1 --stdout FETCH_HEAD,['etc/proxy-server.conf-sample'],1,345f577ff191ee01c3cb4626805338028815c2b4,,# auth_type = password,# auth_plugin = password,1,1
openstack%2Fpython-novaclient~master~I76c9f982ff6cf46db25f626575257af483e3434e,openstack/python-novaclient,master,I76c9f982ff6cf46db25f626575257af483e3434e,Modify the url of upper_constraints_file,MERGED,2019-06-18 10:06:11.000000000,2019-07-03 19:34:58.000000000,2019-07-03 19:34:58.000000000,"[{'_account_id': 679}, {'_account_id': 782}, {'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 7166}, {'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-06-18 10:06:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/60c131afc39098c13c8df2d4474725c25700473a', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I76c9f982ff6cf46db25f626575257af483e3434e\n'}, {'number': 2, 'created': '2019-06-19 09:50:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/8ec9e9437e6cc57f5b0de8eab6d0de8dc71b0f7c', 'message': 'Modify the url of upper_constraints_file\n\nDepends-On: https://review.opendev.org/#/c/601188\n\nChange-Id: I76c9f982ff6cf46db25f626575257af483e3434e\n'}, {'number': 3, 'created': '2019-06-25 07:59:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/b5260c5691da6adb0361e012c43504c1003d4222', 'message': 'Modify the url of upper_constraints_file\n\nChange-Id: I76c9f982ff6cf46db25f626575257af483e3434e\n'}, {'number': 4, 'created': '2019-07-03 15:43:08.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/54904711a29687fa9e5aa7981dd6da6443608a39', 'message': 'Modify the url of upper_constraints_file\n\nAs described at [1].\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: I76c9f982ff6cf46db25f626575257af483e3434e\n'}]",2,665934,54904711a29687fa9e5aa7981dd6da6443608a39,23,14,4,28239,,,0,"Modify the url of upper_constraints_file

As described at [1].

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: I76c9f982ff6cf46db25f626575257af483e3434e
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/34/665934/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,60c131afc39098c13c8df2d4474725c25700473a,modify-url-of-upper_constraints_file, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},4,4
openstack%2Fkolla-ansible~master~I27f714fdf05e521aa8ce25c5683a452ceb35eeb8,openstack/kolla-ansible,master,I27f714fdf05e521aa8ce25c5683a452ceb35eeb8,CI: Use template-overrides.j2 from kolla,MERGED,2019-06-27 16:02:37.000000000,2019-07-03 19:34:51.000000000,2019-07-03 19:22:20.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 16:02:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/387fce7129ff7d8963c77c5dfa918027add220a8', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-27 16:03:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/738e3dd2e87462e1d40d9c4691684c22fb4673da', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nTMP: add some dep\n\nDepends-On: https://review.opendev.org/664151\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-27 16:05:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/556cbb06bca5d1de11d87c5d7617125fb32e876a', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nTMP: add some dep\n\nDepends-On: https://review.opendev.org/667587\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-06-28 18:20:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/9029c4b5da716378ce43310b873cfedbf7281039', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2019-06-28 18:33:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d0241e5e1e1c7807815dd35088f39d2fc1731d76', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2019-06-28 18:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f9c824c75527b28a201b818b455affe1732ed008', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2019-06-29 07:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/6d8312918645f0048787348df698adc08b40ee07', 'message': 'CI: Use template-override.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 8, 'created': '2019-06-29 12:17:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/ff21516089bce20c1db32fdfb80c4b026a959cca', 'message': 'CI: Use template-overrides.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors\ninstead of local ones.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 9, 'created': '2019-06-29 14:37:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ce7c869b0ab90c84f767177faf28c4f0b9b6c71', 'message': 'CI: Use template-overrides.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors\ninstead of local ones.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 10, 'created': '2019-07-01 11:36:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7eef8907d20257b23950884f052e69b4628705bc', 'message': 'CI: Use template-overrides.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors\ninstead of local ones.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 11, 'created': '2019-07-01 17:00:53.000000000', 'files': ['tests/check-config.sh', 'tests/run.yml', 'tools/setup_gate.sh'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20ab480ca541ad2c76d7bcdc57e0a076c7bf6df4', 'message': 'CI: Use template-overrides.j2 from kolla\n\nSome kolla-ansible jobs failed due to using external mirrors\ninstead of local ones.\nThis was due to not using the template override provided by kolla.\nThis patch fixes that.\n\nDepends-On: https://review.opendev.org/668226\nChange-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,667971,20ab480ca541ad2c76d7bcdc57e0a076c7bf6df4,35,4,11,30491,,,0,"CI: Use template-overrides.j2 from kolla

Some kolla-ansible jobs failed due to using external mirrors
instead of local ones.
This was due to not using the template override provided by kolla.
This patch fixes that.

Depends-On: https://review.opendev.org/668226
Change-Id: I27f714fdf05e521aa8ce25c5683a452ceb35eeb8
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/71/667971/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/setup_gate.sh'],1,387fce7129ff7d8963c77c5dfa918027add220a8,use-template-override,template_override = /etc/kolla/template_overrides.j2,,1,0
openstack%2Fkolla-ansible~master~Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e,openstack/kolla-ansible,master,Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e,Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org,MERGED,2019-07-03 02:38:50.000000000,2019-07-03 19:28:15.000000000,2019-07-03 19:28:14.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-03 02:38:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e923fd82a82b6831a8c2ef3d3677231f4b9e9afa', 'message': 'Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org\n\n1. Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org[1]\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e\n'}, {'number': 2, 'created': '2019-07-03 02:43:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8af0124b4493d11019f1e7fd0011754e24927282', 'message': 'Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org\n\n1. Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org[1]\n2. Blacklist sphinx 2.1.0[2]\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n[2]: https://github.com/sphinx-doc/sphinx/issues/6440\n\nChange-Id: Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e\n'}, {'number': 3, 'created': '2019-07-03 15:30:44.000000000', 'files': ['doc/requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/f41531851f698a06664dbc857f59387f873b1f77', 'message': 'Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org\n\n1. Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org[1]\n2. Blacklist sphinx 2.1.0[2]\n\n[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n[2]: https://github.com/sphinx-doc/sphinx/issues/6440\n\nChange-Id: Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e\n'}]",3,668777,f41531851f698a06664dbc857f59387f873b1f77,15,6,3,30356,,,0,"Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org

1. Update the UPPER_CONSTRAINTS_FILE to releases.openstack.org[1]
2. Blacklist sphinx 2.1.0[2]

[1]: http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
[2]: https://github.com/sphinx-doc/sphinx/issues/6440

Change-Id: Ie5f9ae1bd5c45617c6b7fde0e490d471e172c24e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/77/668777/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e923fd82a82b6831a8c2ef3d3677231f4b9e9afa,,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},5,5
openstack%2Fheat~stable%2Fstein~If9befe4115c64c2fda52321002ba5fe1124eaf7c,openstack/heat,stable/stein,If9befe4115c64c2fda52321002ba5fe1124eaf7c,Add local bindep.txt and limit bandit version,MERGED,2019-06-28 11:14:14.000000000,2019-07-03 19:26:22.000000000,2019-07-03 19:26:22.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 11:14:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/5d9768893246d12a393811a03fe3a14ae23a304b', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)\n\nThe following also squashed into this patch:\nUpdate tools/README.rst with bindep info\n\nRemove old test-requires-* files, update README with bindep check test.\n\n(cherry picked from commit c49e0cbc3e806a578ba8cb46100f7f5330df4e4d)\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 2, 'created': '2019-06-28 12:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/89ed0308f67e179124c312a8e88a94146ae29170', 'message': 'Add local bindep.txt, Ignore false positive Bandit test\n\nThis is a comination of patches to fix check and gate jobs:\n\n1. Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)\n\n2. Update tools/README.rst with bindep info\n\nRemove old test-requires-* files, update README with bindep check test.\n\n(cherry picked from commit c49e0cbc3e806a578ba8cb46100f7f5330df4e4d)\n\n3. Ignore false positive Bandit test\n\nImprovements[1] to the B105 hardcoded_password_string[2] test in Bandit\nresult in it now catching a false positive. Add a # nosec comment to\nskip Bandit testing of that line.\n\n[1] https://github.com/PyCQA/bandit/issues/386\n[2] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\n(cherry picked from commit d805e6b1285bf6e7d99163cd90fe3d04751eebb9)\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 3, 'created': '2019-07-02 15:18:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/12e6f5a0598c27a616623811f3fad44a824aebfd', 'message': 'Add local bindep.txt and limit bandit version\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)\n\nNote(elod.illes): patch was modified so that the test-requires files\nare kept. An upper constraint was also added for bandit. This actually\nfreezes requirements (required by bandit) on stable branch.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}, {'number': 4, 'created': '2019-07-02 15:20:42.000000000', 'files': ['bindep.txt', 'test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/heat/commit/916fd05627dddce33a577038f983e17295cc44e8', 'message': 'Add local bindep.txt and limit bandit version\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\n(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)\n\nNote(elod.illes): patch was modified so that the test-requires files\nare kept. An upper constraint was also added for bandit. This actually\nfreezes requirements (required by bandit) on stable branch.\n\nChange-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c\n'}]",1,668144,916fd05627dddce33a577038f983e17295cc44e8,20,5,4,17685,,,0,"Add local bindep.txt and limit bandit version

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

(cherry picked from commit d116b216965bbfc80840f5bfc994b731e2d29d81)

Note(elod.illes): patch was modified so that the test-requires files
are kept. An upper constraint was also added for bandit. This actually
freezes requirements (required by bandit) on stable branch.

Change-Id: If9befe4115c64c2fda52321002ba5fe1124eaf7c
",git fetch https://review.opendev.org/openstack/heat refs/changes/44/668144/2 && git format-patch -1 --stdout FETCH_HEAD,"['tools/test-requires-deb', 'bindep.txt', 'tools/README.rst', 'tools/test-requires-rpm', 'tox.ini']",5,5d9768893246d12a393811a03fe3a14ae23a304b,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,57,26
openstack%2Fkayobe~master~I06c07108693766fd436a60a39f270c116931941e,openstack/kayobe,master,I06c07108693766fd436a60a39f270c116931941e,Add support for custom Gnocchi configuration,MERGED,2019-05-31 14:49:21.000000000,2019-07-03 19:13:07.000000000,2019-07-03 19:13:07.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}, {'_account_id': 26297}, {'_account_id': 28543}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-05-31 14:49:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/c829da567d6490110375aca9d6ec8a984a6b7c80', 'message': 'Add support for custom Gnocchi configuration\n\nChange-Id: I06c07108693766fd436a60a39f270c116931941e\n'}, {'number': 2, 'created': '2019-05-31 14:49:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/722bb819c6b34e9ca0087d85481ad82c7bd1e6e5', 'message': 'Add support for custom Gnocchi configuration\n\nChange-Id: I06c07108693766fd436a60a39f270c116931941e\nStory: 2005810\nTask: 33550\n'}, {'number': 3, 'created': '2019-05-31 15:08:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/f313c1870d3796fe581e1045825c0d88be22f7ad', 'message': 'Add support for custom Gnocchi configuration\n\nChange-Id: I06c07108693766fd436a60a39f270c116931941e\nStory: 2005810\nTask: 33550\n'}, {'number': 4, 'created': '2019-05-31 15:44:37.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-support-for-custom-gnocchi-conf-51b110196f966c32.yaml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/molecule/enable-everything/molecule.yml', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/roles/kolla-openstack/templates/gnocchi.conf.j2', 'ansible/kolla-openstack.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/603527c215b08c47e213cd5115bc1637c9706ade', 'message': 'Add support for custom Gnocchi configuration\n\nChange-Id: I06c07108693766fd436a60a39f270c116931941e\nStory: 2005810\nTask: 33550\n'}]",0,662491,603527c215b08c47e213cd5115bc1637c9706ade,29,7,4,15197,,,0,"Add support for custom Gnocchi configuration

Change-Id: I06c07108693766fd436a60a39f270c116931941e
Story: 2005810
Task: 33550
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/91/662491/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/roles/kolla-openstack/tasks/config.yml', 'releasenotes/notes/add-support-for-custom-gnocchi-conf-51b110196f966c32.yaml', 'doc/source/configuration/kolla-ansible.rst', 'ansible/roles/kolla-openstack/defaults/main.yml', 'ansible/kolla-openstack.yml']",6,c829da567d6490110375aca9d6ec8a984a6b7c80,gnocchi-custom-config," - { name: gnocchi, file: gnocchi.conf }",,18,0
openstack%2Fkolla-ansible~master~Ie70e78869e628898f6a5e581d6db6b1457858815,openstack/kolla-ansible,master,Ie70e78869e628898f6a5e581d6db6b1457858815,CI: Test ceph-nfs as well when testing ceph,ABANDONED,2019-06-19 07:51:53.000000000,2019-07-03 19:01:08.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-19 07:51:53.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d31062a6a47a05cc11789aa5af007a9a0aa447f7', 'message': 'CI: Test ceph-nfs as well when testing ceph\n\nDepends-On: https://review.opendev.org/666239\n\nChange-Id: Ie70e78869e628898f6a5e581d6db6b1457858815\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,666240,d31062a6a47a05cc11789aa5af007a9a0aa447f7,7,3,1,30491,,,0,"CI: Test ceph-nfs as well when testing ceph

Depends-On: https://review.opendev.org/666239

Change-Id: Ie70e78869e628898f6a5e581d6db6b1457858815
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/40/666240/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,d31062a6a47a05cc11789aa5af007a9a0aa447f7,fix-ceph-nfs-deploy,"enable_ceph_nfs: ""yes""",,1,0
openstack%2Fpuppet-tripleo~master~Ie97449b6f3e5d3a6481e087803d1982d7c6387f3,openstack/puppet-tripleo,master,Ie97449b6f3e5d3a6481e087803d1982d7c6387f3,Add TLS support for rsyslog,MERGED,2019-06-20 13:27:49.000000000,2019-07-03 18:40:12.000000000,2019-07-03 18:40:12.000000000,"[{'_account_id': 3153}, {'_account_id': 5241}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-20 13:27:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/734347313cb2d2b99967ad123a098ab105837cc7', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 2, 'created': '2019-06-20 14:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/0cd33bdc20998360ea6635970c91c5e8dcc5c3a3', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 3, 'created': '2019-06-21 10:16:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/d86215c35dbe686ce3a7bd80befd8667f84620b3', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 4, 'created': '2019-06-28 09:01:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/aa5b1c6e91c4f012fee75e2b1ed3e88e3ee3f8f5', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 5, 'created': '2019-06-28 09:56:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/5ca1219b944f7111a7651a74d8b0da8566c9d39a', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 6, 'created': '2019-06-28 13:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/3aafca10fa7eb891c1e3cf445361981556294b60', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 7, 'created': '2019-06-28 14:37:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/754e9405df1fa536de7630385be774be858eda77', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 8, 'created': '2019-07-01 10:19:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/9559e4639ad875be857059bcdded63a84fa335c3', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 9, 'created': '2019-07-01 10:28:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/a38a3cbfdc07d4637d8b07ce2f173969f3abb9b2', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}, {'number': 10, 'created': '2019-07-03 11:24:39.000000000', 'files': ['spec/classes/tripleo_profile_base_logging_rsyslog_spec.rb', 'releasenotes/notes/rsyslog-tls-dfa676eda2ec646f.yaml', 'manifests/profile/base/logging/rsyslog.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/bcb17115a375a291b7cb7872f272bb78e508cdd9', 'message': 'Add TLS support for rsyslog\n\nThis patch implements creation of TLS certs and key for Elasticsearch\nconnection.\n\nChange-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3\n'}]",1,666573,bcb17115a375a291b7cb7872f272bb78e508cdd9,31,6,10,5241,,,0,"Add TLS support for rsyslog

This patch implements creation of TLS certs and key for Elasticsearch
connection.

Change-Id: Ie97449b6f3e5d3a6481e087803d1982d7c6387f3
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/73/666573/1 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/tripleo_profile_base_logging_rsyslog_spec.rb', 'releasenotes/notes/rsyslog-tls-dfa676eda2ec646f.yaml', 'manifests/profile/base/logging/rsyslog.pp']",3,734347313cb2d2b99967ad123a098ab105837cc7,rsyslog-tls,"# Defaults to hiera('service_names', []) # # [*elasticsearch*] # (Optional) Hash. Configuration for output plugin omelasticsearch. # Defaults to undef # # [*elasticsearch_tls_certs*] # (Optional) List of hashes. Each hash contains 'path' to TLS cacert # (or client cert or client key) which will be created and it's 'content'. # Defaults to [] $step = Integer(hiera('step')), $service_names = hiera('service_names', []) $elasticsearch = undef, $elasticsearch_tls_certs = [] $elasticsearch_tls_certs.each |$cert| { file { $cert['path']: ensure => 'present', content => $cert['content'] } } ","# [*elasticsearch*] # (Optional) Hash. Configuration for output plugin omelasticsearch. # $step = Integer(hiera('step')), $elasticsearch = undef, $service_names = hiera('service_names', [])",46,8
openstack%2Fopenstack-helm-infra~master~I4e5a44d4eb32052c565a443d9a159ac12ca49295,openstack/openstack-helm-infra,master,I4e5a44d4eb32052c565a443d9a159ac12ca49295,Create new PS to delete number is square bracket.,ABANDONED,2019-07-01 13:51:45.000000000,2019-07-03 18:35:18.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-01 13:51:45.000000000', 'files': ['grafana/templates/lasermetrics-grafana.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f8f5f12c52ca75950d92d60c52e32a9bd7d31177', 'message': 'Create new PS to delete number is square bracket.\n\nChange-Id: I4e5a44d4eb32052c565a443d9a159ac12ca49295\n'}]",0,668470,f8f5f12c52ca75950d92d60c52e32a9bd7d31177,3,1,1,30120,,,0,"Create new PS to delete number is square bracket.

Change-Id: I4e5a44d4eb32052c565a443d9a159ac12ca49295
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/70/668470/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/templates/lasermetrics-grafana.yaml'],1,f8f5f12c52ca75950d92d60c52e32a9bd7d31177,,"annotations: list: - builtIn: 1 datasource: ""-- Grafana --"" enable: true hide: true iconColor: ""rgba(0, 211, 255, 1)"" name: ""Annotations & Alerts"" type: dashboard editable: true gnetId: null graphTooltip: 0 id: 2 links: panels: - aliasColors: bars: false dashLength: 10 dashes: false fill: 1 gridPos: h: 13 w: 24 x: 0 y: 0 id: 2 legend: alignAsTable: true avg: true current: true max: true min: true rightSide: false show: true total: true values: true lines: true linewidth: 1 links: nullPointMode: null percentage: false pointradius: 2 points: false renderer: flot seriesOverrides: spaceLength: 10 stack: true steppedLine: true targets: - expr: ""node_textfile_mtime{file=\""laser-metrics.prom\""}"" format: time_series intervalFactor: 1 refId: A thresholds: timeFrom: null timeRegions: timeShift: null title: ""Laser Strength Metric"" tooltip: shared: true sort: 0 value_type: individual type: graph xaxis: buckets: null mode: time name: null show: true values: yaxes: - decimals: null format: dBm label: """" logBase: 1 max: null min: null show: true - format: short label: null logBase: 1 max: null min: null show: true yaxis: align: false alignLevel: null schemaVersion: 18 style: dark tags: templating: list: time: from: ""now-6h"" to: now timepicker: refresh_intervals: - 5s - 10s - 30s - 1m - 5m - 15m - 30m - 1h - 2h - 1d time_options: - 5m - 15m - 1h - 6h - 12h - 24h - 2d - 7d - 30d timezone: """" title: ""Laser Strength"" uid: dW0mnbRZz version: 3",,144,0
openstack%2Fopenstack-helm-infra~master~Idabf7cc700447db4a523008e6a3a1581f98516c2,openstack/openstack-helm-infra,master,Idabf7cc700447db4a523008e6a3a1581f98516c2,Second try to push changes to delete spaces,ABANDONED,2019-07-01 11:30:55.000000000,2019-07-03 18:34:18.000000000,,"[{'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30166}, {'_account_id': 30582}]","[{'number': 1, 'created': '2019-07-01 11:30:55.000000000', 'files': ['prometheus-node-exporter/lasermetrics-files/install-lasermetrics', 'prometheus-node-exporter/lasermetrics-files/lab-laser-output.txt', 'prometheus-node-exporter/lasermetrics-files/README-install-lasermetrics.txt', 'prometheus-node-exporter/lasermetrics-files/node_exporter.service', 'prometheus-node-exporter/lasermetrics-install.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/91f6ad0193f82872c1e1440592ee112a74402a3c', 'message': 'Second try to push changes to delete spaces\n\nChange-Id: Idabf7cc700447db4a523008e6a3a1581f98516c2\n'}]",4,668442,91f6ad0193f82872c1e1440592ee112a74402a3c,4,5,1,30120,,,0,"Second try to push changes to delete spaces

Change-Id: Idabf7cc700447db4a523008e6a3a1581f98516c2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/42/668442/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/lasermetrics-files/install-lasermetrics', 'prometheus-node-exporter/lasermetrics-files/lab-laser-output.txt', 'prometheus-node-exporter/lasermetrics-files/README-install-lasermetrics.txt', 'prometheus-node-exporter/lasermetrics-files/node_exporter.service', 'prometheus-node-exporter/lasermetrics-install.yaml']",5,91f6ad0193f82872c1e1440592ee112a74402a3c,,"apiVersion: lasermetrics.node_exporter.com/v1 kind: ConfigMap metadata: name: install.lasermetrics.node_exporter annotations: ""helm.sh/hook"": post-install data: setup: | # This part calls the installation shell script #!/bin/bash cd lasermetrics-files ./install-lasermetrics cd .. ",,158,0
openstack%2Fdesignate~master~I312c1e364643daad6754c743678a9d5b4a6f9984,openstack/designate,master,I312c1e364643daad6754c743678a9d5b4a6f9984,Fix postgres job and make it non-voting for now,MERGED,2019-07-02 11:26:20.000000000,2019-07-03 18:29:23.000000000,2019-07-03 18:29:23.000000000,"[{'_account_id': 8099}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-07-02 11:26:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2af3997b0f4298cce75262e3f6d2ded9bff11f6e', 'message': 'Fix postgres job\n\nChange-Id: I312c1e364643daad6754c743678a9d5b4a6f9984\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-07-03 08:47:50.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/d491cd78ff3ef85d1459977571e527e17c8d08bb', 'message': 'Fix postgres job and make it non-voting for now\n\nThe job has been running with mysql instead of postgres for some time\nand we need to iteratively fix the issues that have accumulated in the\nmeantime.\n\nChange-Id: I312c1e364643daad6754c743678a9d5b4a6f9984\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668657,d491cd78ff3ef85d1459977571e527e17c8d08bb,14,4,2,8099,,,0,"Fix postgres job and make it non-voting for now

The job has been running with mysql instead of postgres for some time
and we need to iteratively fix the issues that have accumulated in the
meantime.

Change-Id: I312c1e364643daad6754c743678a9d5b4a6f9984
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/designate refs/changes/57/668657/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,2af3997b0f4298cce75262e3f6d2ded9bff11f6e,postgress-job, devstack_services: mysql: False postgresql: True, database: postgres,3,1
openstack%2Frenderspec~master~I273919cf4f47bf9859d71bc216cbf96e82a2a6f7,openstack/renderspec,master,I273919cf4f47bf9859d71bc216cbf96e82a2a6f7,Add contextfunctions 'py2' and 'py3',MERGED,2019-07-03 12:30:58.000000000,2019-07-03 18:12:51.000000000,2019-07-03 18:12:51.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 12:30:58.000000000', 'files': ['tests.py', 'renderspec/contextfuncs.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/8083f1ed3c66d9eb5f369db37f52d1b9e9c1eecc', 'message': ""Add contextfunctions 'py2' and 'py3'\n\nBoth are shortcuts to 'py2pkg' with specific py_versions set.\nThis is useful when defining BuildRequires that are eg. python3 only.\n\nChange-Id: I273919cf4f47bf9859d71bc216cbf96e82a2a6f7\n""}]",0,668890,8083f1ed3c66d9eb5f369db37f52d1b9e9c1eecc,8,4,1,7102,,,0,"Add contextfunctions 'py2' and 'py3'

Both are shortcuts to 'py2pkg' with specific py_versions set.
This is useful when defining BuildRequires that are eg. python3 only.

Change-Id: I273919cf4f47bf9859d71bc216cbf96e82a2a6f7
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/90/668890/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/contextfuncs.py', 'tests.py', 'doc/source/usage.rst']",3,8083f1ed3c66d9eb5f369db37f52d1b9e9c1eecc,,context function `py2` ********************** Similar to `py2pkg` but uses a `py_versions` set to `py2` context function `py3` ********************** Similar to `py2pkg` but uses a `py_versions` set to `py3`. ,,54,0
openstack%2Fironic-inspector~master~Icc055980c13696b29c512edf8c48abba924aa244,openstack/ironic-inspector,master,Icc055980c13696b29c512edf8c48abba924aa244,Adds bandit template and exclude some of tests,MERGED,2019-06-20 03:33:32.000000000,2019-07-03 18:06:48.000000000,2019-07-03 18:06:48.000000000,"[{'_account_id': 10206}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-20 03:33:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/97d4cd71ba175a74cfd824a6aff06e512b6f32a0', 'message': ""Adds bandit template and exclude some of tests\n\nAdds bandit configuration template and exclude some of\ntests that we don't want to fix for the moment.\n\nKeeping job unvoted so that we can keep an eye on possible\nissues while not breaking gate.\n\nChange-Id: Icc055980c13696b29c512edf8c48abba924aa244\nStory: 2005791\nTask: 33563\n""}, {'number': 2, 'created': '2019-06-20 06:41:37.000000000', 'files': ['tools/bandit.yml', 'tox.ini', 'zuul.d/ironic-inspector-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/30a4e0981ffa61cb33a9f5f46983bc6f70836323', 'message': ""Adds bandit template and exclude some of tests\n\nAdds bandit configuration template and exclude some of\ntests that we don't want to fix for the moment.\n\nKeeping job unvoted so that we can keep an eye on possible\nissues while not breaking gate.\n\nChange-Id: Icc055980c13696b29c512edf8c48abba924aa244\nStory: 2005791\nTask: 33563\n""}]",0,666480,30a4e0981ffa61cb33a9f5f46983bc6f70836323,18,7,2,24828,,,0,"Adds bandit template and exclude some of tests

Adds bandit configuration template and exclude some of
tests that we don't want to fix for the moment.

Keeping job unvoted so that we can keep an eye on possible
issues while not breaking gate.

Change-Id: Icc055980c13696b29c512edf8c48abba924aa244
Story: 2005791
Task: 33563
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/80/666480/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/bandit.yml', 'tox.ini']",2,97d4cd71ba175a74cfd824a6aff06e512b6f32a0,bandit,commands = bandit -r ironic_inspector -x test -n 5 -ll -c tools/bandit.yml ,commands = bandit -r ironic_inspector -x test -n 5 -ll,402,1
openstack%2Fgovernance-uc~master~I54d0b0bd93ba4d152c2c7a55d105f3d749570546,openstack/governance-uc,master,I54d0b0bd93ba4d152c2c7a55d105f3d749570546,Use upper-constraints in tox runs,ABANDONED,2019-07-02 21:13:18.000000000,2019-07-03 17:54:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-02 21:13:18.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/b5014936d0df5e3af4f93ff883de92e5dae1b1f1', 'message': ""Use upper-constraints in tox runs\n\nThis fix stolen from:\nhttps://review.opendev.org/#/c/658567/\n\nThe upper-constraints file wasn't being enforced\nwhen installing dependencies in tox runs which can\nlead to failures like installing Sphinx>2.0 in py27\nwhere it's not supported.\n\nThis is loosely based on novaclient change\nI8be883215f27abb58d15b85e8542cbdf32000bac for the\nsame kind of issue.\n\nChange-Id: I54d0b0bd93ba4d152c2c7a55d105f3d749570546\n""}]",0,668758,b5014936d0df5e3af4f93ff883de92e5dae1b1f1,3,1,1,24100,,,0,"Use upper-constraints in tox runs

This fix stolen from:
https://review.opendev.org/#/c/658567/

The upper-constraints file wasn't being enforced
when installing dependencies in tox runs which can
lead to failures like installing Sphinx>2.0 in py27
where it's not supported.

This is loosely based on novaclient change
I8be883215f27abb58d15b85e8542cbdf32000bac for the
same kind of issue.

Change-Id: I54d0b0bd93ba4d152c2c7a55d105f3d749570546
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/58/668758/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,b5014936d0df5e3af4f93ff883de92e5dae1b1f1,Elections-August2019,passenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,install_command = pip install -U {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,7,2
openstack%2Fpuppet-heat~master~I00f5e43146a0b937d2dfafa080f37c3601eed809,openstack/puppet-heat,master,I00f5e43146a0b937d2dfafa080f37c3601eed809,Change memcache_socket_timeout to a float,MERGED,2019-07-03 07:19:46.000000000,2019-07-03 17:49:33.000000000,2019-07-03 17:49:33.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 07:19:46.000000000', 'files': ['releasenotes/notes/memcache_socket_timeout-9daa89a1532caf11.yaml', 'spec/classes/heat_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-heat/commit/169e0ad3ce99f21f6f468cabe7d4a61460faa987', 'message': 'Change memcache_socket_timeout to a float\n\nsee https://review.opendev.org/#/c/519353/\n\nChange-Id: I00f5e43146a0b937d2dfafa080f37c3601eed809\nCloses-Bug: #1835162\n'}]",0,668804,169e0ad3ce99f21f6f468cabe7d4a61460faa987,8,4,1,9414,,,0,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: I00f5e43146a0b937d2dfafa080f37c3601eed809
Closes-Bug: #1835162
",git fetch https://review.opendev.org/openstack/puppet-heat refs/changes/04/668804/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/memcache_socket_timeout-9daa89a1532caf11.yaml', 'spec/classes/heat_cache_spec.rb', 'manifests/cache.pp']",3,169e0ad3ce99f21f6f468cabe7d4a61460faa987,bug/1835162,# (floating point value),# (integer value),7,3
openstack%2Fos-service-types~master~I48206450371b557f51b0842976d48c9042173df2,openstack/os-service-types,master,I48206450371b557f51b0842976d48c9042173df2,Sync Sphinx requirement,MERGED,2019-06-19 16:29:52.000000000,2019-07-03 17:47:09.000000000,2019-07-03 17:47:09.000000000,"[{'_account_id': 8482}, {'_account_id': 14070}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-19 16:29:52.000000000', 'files': ['CONTRIBUTING.rst', 'doc/source/index.rst', 'test-requirements.txt', 'doc/source/contributor/index.rst'], 'web_link': 'https://opendev.org/openstack/os-service-types/commit/36a0dcaf8dd9159b59ee5dcf8dd3957ecfe0f188', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Update some URLs to latest\n3. Remove unncessary ""==""\n\nChange-Id: I48206450371b557f51b0842976d48c9042173df2\n'}]",0,666384,36a0dcaf8dd9159b59ee5dcf8dd3957ecfe0f188,9,5,1,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Update some URLs to latest
3. Remove unncessary ""==""

Change-Id: I48206450371b557f51b0842976d48c9042173df2
",git fetch https://review.opendev.org/openstack/os-service-types refs/changes/84/666384/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'doc/source/index.rst', 'doc/source/contributor/index.rst', 'test-requirements.txt']",4,36a0dcaf8dd9159b59ee5dcf8dd3957ecfe0f188,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",8,7
openstack%2Ftripleo-heat-templates~master~I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e,openstack/tripleo-heat-templates,master,I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e,"Revert ""Revert ""Remove os-collect-config related poperties and attributes""""",MERGED,2019-07-03 08:53:29.000000000,2019-07-03 17:44:32.000000000,2019-07-03 17:44:32.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-03 08:53:29.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ba1fd2bc71081d510a272a8b3be347074e30328', 'message': 'Revert ""Revert ""Remove os-collect-config related poperties and attributes""""\n\nRoot cause fix in heat https://review.opendev.org/#/c/668718/ has landed. \n\nThis reverts commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6.\n\nChange-Id: I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e\n'}]",0,668831,5ba1fd2bc71081d510a272a8b3be347074e30328,9,8,1,8833,,,0,"Revert ""Revert ""Remove os-collect-config related poperties and attributes""""

Root cause fix in heat https://review.opendev.org/#/c/668718/ has landed. 

This reverts commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6.

Change-Id: I9222fb6cc0c84d871bd7d8a4808e1212fbaf3a4e
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/31/668831/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,5ba1fd2bc71081d510a272a8b3be347074e30328,bug/1832441,," metadata: os-collect-config: command: {get_param: ConfigCommand} splay: {get_param: ConfigCollectSplay} deployed_server_deployment_swift_data_map: description: Map of Heat created hostname of the server to the Swift container and object used to created the temporary url for metadata polling with os-collect-config. value: map_replace: - hostname: container: str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 5 object: str_split: - '?' - str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 6 - 0 - keys: {hostname: {get_param: Hostname}} os_collect_config: description: The os-collect-config configuration associated with this server resource value: {get_attr: [{{server_resource_name}}, os_collect_config]}",0,55
openstack%2Fgovernance-uc~master~Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7,openstack/governance-uc,master,Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7,August 2019 election details,MERGED,2019-07-01 16:50:58.000000000,2019-07-03 17:39:52.000000000,2019-07-03 17:39:52.000000000,"[{'_account_id': 2033}, {'_account_id': 7272}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 28738}]","[{'number': 1, 'created': '2019-07-01 16:50:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/e70353292015ddc88db36c755f7ac5991afef39f', 'message': 'August 2019 election details\n\nChange-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7\n'}, {'number': 2, 'created': '2019-07-02 20:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/8383d83501d597180a96ad074d6d4adba10a6e55', 'message': 'August 2019 election details\n\nChange-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7\n'}, {'number': 3, 'created': '2019-07-02 21:13:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/a9d705ddf32675086dbb4cd950cdcd956c5d8553', 'message': 'August 2019 election details\n\nincludes fix where wrong version of Python was installed\n\nChange-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7\n'}, {'number': 4, 'created': '2019-07-02 21:28:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/d19966d168fc6399db28a1a0765242a81e1b3a92', 'message': 'August 2019 election details\n\nincludes fix where wrong version of Python was installed\n\nChange-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7\n'}, {'number': 5, 'created': '2019-07-03 12:33:28.000000000', 'files': ['reference/uc-election-aug2019.rst'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/05c60479cd8c755eb4a0b34e47a45608a98a875f', 'message': 'August 2019 election details\n\nincludes fix where wrong version of Python was installed\n\nChange-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7\n'}]",0,668525,05c60479cd8c755eb4a0b34e47a45608a98a875f,25,6,5,24100,,,0,"August 2019 election details

includes fix where wrong version of Python was installed

Change-Id: Icd5f312d0a660d61b97cac70dff38b4b9e15fbb7
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/25/668525/5 && git format-patch -1 --stdout FETCH_HEAD,['reference/uc-election-aug2019.rst'],1,e70353292015ddc88db36c755f7ac5991afef39f,Elections-August2019,"======================== UC Elections August 2019 ======================== We expect all members of our community to adhere to the highest standards of behavior during User Committee elections. Officials ========= | TBD Election System =============== Elections will be held using CIVS and a Condorcet algorithm (Schulze/Beatpath/CSSD variant). Any tie will be broken using `Governance/TieBreaking <https://wiki.openstack.org/wiki/Governance/TieBreaking>`_. Timeline ======== | August 5 - August 16, 05:59 UTC: Open candidacy for UC positions | August 19 - August 24, 11:59 UTC: UC elections (voting) Elected Positions ================= Under the rules of the UC charter, we need to elect 2 UC seats for this election. Seats are valid for one-year term. User Committee member - 2 positions. Electorate ========== The electorate for this election are the Foundation individual members that are also Active User Contributors (AUC) over the last six months. The electorate is requested to confirm their email address and (if applicable) IRC handle in their Foundation Member Profile, https://openstack.org/profile , prior to August 16, 2019 05:59 UTC so that the emailed ballots are mailed to the correct email address. Candidates ========== Any individual member of the Foundation who is an Active User Contributor (AUC) can propose their candidacy (except the three sitting UC members elected in the previous election). Self-nomination is common, no third party nomination is required. They do so by sending an email to the user-committee@lists.openstack.org mailing-list, with the subject: ""UC candidacy"" by August 16, 05:59 UTC. The email can include a description of the candidate platform. The candidacy is then confirmed by one of the election officials, after verification of the electorate status of the candidate. Results ======= | TBD ",,56,0
openstack%2Fpuppet-nova~master~I961ceec3b79ea876a02867482db995fd5499526c,openstack/puppet-nova,master,I961ceec3b79ea876a02867482db995fd5499526c,Change memcache_socket_timeout to a float,MERGED,2019-07-03 07:25:41.000000000,2019-07-03 17:21:31.000000000,2019-07-03 17:21:31.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 07:25:41.000000000', 'files': ['releasenotes/notes/memcache_socket_timeout-babb40e8ed001caf.yaml', 'spec/classes/nova_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/deb6a5da4b9a86e7b03af4df8c178cd71cc46200', 'message': 'Change memcache_socket_timeout to a float\n\nsee https://review.opendev.org/#/c/519353/\n\nChange-Id: I961ceec3b79ea876a02867482db995fd5499526c\nCloses-Bug: #1835162\n'}]",0,668807,deb6a5da4b9a86e7b03af4df8c178cd71cc46200,10,4,1,9414,,,0,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: I961ceec3b79ea876a02867482db995fd5499526c
Closes-Bug: #1835162
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/07/668807/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/memcache_socket_timeout-babb40e8ed001caf.yaml', 'spec/classes/nova_cache_spec.rb', 'manifests/cache.pp']",3,deb6a5da4b9a86e7b03af4df8c178cd71cc46200,bug/1835162,# (floating point value),# (integer value),7,3
openstack%2Fpuppet-keystone~master~If9fc5c0bb5d6216b8656ee1673e1812c543de305,openstack/puppet-keystone,master,If9fc5c0bb5d6216b8656ee1673e1812c543de305,Manage oslo_middleware/max_request_body_size,MERGED,2019-07-03 07:41:52.000000000,2019-07-03 17:21:30.000000000,2019-07-03 17:21:30.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 07:41:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/4c93210b402bcf66e44ba8f7eaebcc39dc76ea53', 'message': 'Manage oslo_middleware/max_request_body_size\n\nSo that we can increase it from the default 114688\n\nUseful in case for example the OS-Federation mapping is too large.\n\nIf this limit is breached keystone will return a 413 Entity Too Large\nand not log anything to keystone.log.\n\nCloses-Bug: #1835161\n\nChange-Id: If9fc5c0bb5d6216b8656ee1673e1812c543de305\nSigned-off-by: Johan Guldmyr <johan.guldmyr@csc.fi>\n'}, {'number': 2, 'created': '2019-07-03 08:05:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/0c9ddff12276d0e9c009f83411a5d1acb7811874', 'message': 'Manage oslo_middleware/max_request_body_size\n\nSo that we can increase it from the default 114688\n\nUseful in case for example the OS-Federation mapping is too large.\n\nIf this limit is breached keystone will return a 413 Entity Too Large\nand not log anything to keystone.log.\n\nCloses-Bug: #1835161\n\nChange-Id: If9fc5c0bb5d6216b8656ee1673e1812c543de305\nSigned-off-by: Johan Guldmyr <johan.guldmyr@csc.fi>\n'}, {'number': 3, 'created': '2019-07-03 08:59:01.000000000', 'files': ['releasenotes/notes/max_request_body_size-1835161-45ec3b7ab7c40cfa.yaml', 'manifests/init.pp', 'spec/classes/keystone_init_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/a60980f3da715b5d4ac986ae515e5aed88b35b74', 'message': 'Manage oslo_middleware/max_request_body_size\n\nSo that we can increase it from the default 114688\n\nUseful in case for example the OS-Federation mapping is too large.\n\nIf this limit is breached keystone will return a 413 Entity Too Large\nand not log anything to keystone.log.\n\nCloses-Bug: #1835161\n\nChange-Id: If9fc5c0bb5d6216b8656ee1673e1812c543de305\nSigned-off-by: Johan Guldmyr <johan.guldmyr@csc.fi>\n'}]",1,668812,a60980f3da715b5d4ac986ae515e5aed88b35b74,13,5,3,28248,,,0,"Manage oslo_middleware/max_request_body_size

So that we can increase it from the default 114688

Useful in case for example the OS-Federation mapping is too large.

If this limit is breached keystone will return a 413 Entity Too Large
and not log anything to keystone.log.

Closes-Bug: #1835161

Change-Id: If9fc5c0bb5d6216b8656ee1673e1812c543de305
Signed-off-by: Johan Guldmyr <johan.guldmyr@csc.fi>
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/12/668812/3 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/init.pp', 'spec/classes/keystone_init_spec.rb']",2,4c93210b402bcf66e44ba8f7eaebcc39dc76ea53,bug/1835161, describe 'setting max_request_body_size' do let :params do default_params.merge({:max_request_body_size => '1146880' }) end it { is_expected.to contain_keystone_config('oslo_middleware/max_request_body_size').with_value('1146880') } end ,,14,0
openstack%2Fironic-python-agent~stable%2Fqueens~I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,openstack/ironic-python-agent,stable/queens,I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,"Stop logging lshw output, collect it with other logs instead",MERGED,2019-06-18 05:46:13.000000000,2019-07-03 17:21:29.000000000,2019-07-03 17:21:28.000000000,"[{'_account_id': 10206}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 05:46:13.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/d0d47ce08f0cebed9eeb7e8d4d61219b267c06f7', 'message': 'Stop logging lshw output, collect it with other logs instead\n\nThe lshw output is huge even on virtual machines, and it pollutes\nthe debug logging. This change silences it. Instead, the lshw output\nis collected as part of the ramdisk logs.\n\nDepends-On: https://review.opendev.org/#/c/665635/\nChange-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909\n(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)\n'}]",0,665864,d0d47ce08f0cebed9eeb7e8d4d61219b267c06f7,8,4,1,10239,,,0,"Stop logging lshw output, collect it with other logs instead

The lshw output is huge even on virtual machines, and it pollutes
the debug logging. This change silences it. Instead, the lshw output
is collected as part of the ramdisk logs.

Depends-On: https://review.opendev.org/#/c/665635/
Change-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909
(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/64/665864/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,d0d47ce08f0cebed9eeb7e8d4d61219b267c06f7,lshw-stable/queens," 'lshw': ['lshw', '-quiet', '-json'],",,13,5
openstack%2Fironic-python-agent~stable%2Fstein~I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,openstack/ironic-python-agent,stable/stein,I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909,"Stop logging lshw output, collect it with other logs instead",MERGED,2019-06-18 05:45:53.000000000,2019-07-03 17:21:28.000000000,2019-07-03 17:21:27.000000000,"[{'_account_id': 10206}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 05:45:53.000000000', 'files': ['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b41e98d04fb644b82c3b399fec3903c9632bc43e', 'message': 'Stop logging lshw output, collect it with other logs instead\n\nThe lshw output is huge even on virtual machines, and it pollutes\nthe debug logging. This change silences it. Instead, the lshw output\nis collected as part of the ramdisk logs.\n\nDepends-On: https://review.opendev.org/#/c/665635/\nChange-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909\n(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)\n'}]",0,665862,b41e98d04fb644b82c3b399fec3903c9632bc43e,8,4,1,10239,,,0,"Stop logging lshw output, collect it with other logs instead

The lshw output is huge even on virtual machines, and it pollutes
the debug logging. This change silences it. Instead, the lshw output
is collected as part of the ramdisk logs.

Depends-On: https://review.opendev.org/#/c/665635/
Change-Id: I6a3015b2d8d09f6f48b5cbd39dc84bd75b72f909
(cherry picked from commit 94048fe97e93af3ad6902c3c1aa4ec5d92b41747)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/62/665862/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/hardware.py', 'releasenotes/notes/lshw-cb89894be057bdc9.yaml', 'ironic_python_agent/tests/unit/test_utils.py', 'ironic_python_agent/utils.py']",4,b41e98d04fb644b82c3b399fec3903c9632bc43e,lshw-stable/stein," 'lshw': ['lshw', '-quiet', '-json'],",,13,5
openstack%2Fironic-python-agent~stable%2Fqueens~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,stable/queens,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-27 10:24:23.000000000,2019-07-03 17:21:27.000000000,2019-07-03 17:21:27.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 10:24:23.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/64548591bc87f36228414bb777825c38e5346335', 'message': 'Correct formatting of a warning when lshw cannot be run\n\nChange-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619\n(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)\n'}]",0,667882,64548591bc87f36228414bb777825c38e5346335,6,2,1,10239,,,0,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/82/667882/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,64548591bc87f36228414bb777825c38e5346335,formatting-stable/queens," LOG.warning('Could not retrieve vendor info from lshw: %s', e)"," LOG.warning('Could not retrieve vendor info from lshw: %e', e)",1,1
openstack%2Fironic-python-agent~stable%2Fstein~I7c55aee4b3b52cb414a595cf548e1f22e954f619,openstack/ironic-python-agent,stable/stein,I7c55aee4b3b52cb414a595cf548e1f22e954f619,Correct formatting of a warning when lshw cannot be run,MERGED,2019-06-27 10:24:03.000000000,2019-07-03 17:21:26.000000000,2019-07-03 17:21:26.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-27 10:24:03.000000000', 'files': ['ironic_python_agent/hardware.py'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/00d90387227165efa136441d5487a061e8ab2622', 'message': 'Correct formatting of a warning when lshw cannot be run\n\nChange-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619\n(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)\n'}]",0,667877,00d90387227165efa136441d5487a061e8ab2622,7,3,1,10239,,,0,"Correct formatting of a warning when lshw cannot be run

Change-Id: I7c55aee4b3b52cb414a595cf548e1f22e954f619
(cherry picked from commit 69064a8610134f7e6777083375487f15f7dbbc7b)
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/77/667877/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_python_agent/hardware.py'],1,00d90387227165efa136441d5487a061e8ab2622,formatting-stable/stein," LOG.warning('Could not retrieve vendor info from lshw: %s', e)"," LOG.warning('Could not retrieve vendor info from lshw: %e', e)",1,1
openstack%2Fironic-inspector~stable%2Focata~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/ocata,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:38.000000000,2019-07-03 17:21:25.000000000,2019-07-03 17:21:25.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-29 16:33:38.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/36af5a5f34e90620f58ecc9da81d7eb90e2ca095', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",0,668299,36af5a5f34e90620f58ecc9da81d7eb90e2ca095,9,4,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/99/668299/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,36af5a5f34e90620f58ecc9da81d7eb90e2ca095,bindep-fallback-stable/ocata,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fironic-inspector~stable%2Fpike~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/pike,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:26.000000000,2019-07-03 17:21:24.000000000,2019-07-03 17:21:24.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 16:33:26.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/9a1e8823050bd1e9f4d25075c30fe49d6b45274b', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",0,668298,9a1e8823050bd1e9f4d25075c30fe49d6b45274b,7,3,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/98/668298/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,9a1e8823050bd1e9f4d25075c30fe49d6b45274b,bindep-fallback-stable/pike,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fironic-inspector~stable%2Fqueens~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/queens,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:16.000000000,2019-07-03 17:21:23.000000000,2019-07-03 17:21:23.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 16:33:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/5d6796b38966bf29f748b8dbc167ff481cfed116', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",0,668297,5d6796b38966bf29f748b8dbc167ff481cfed116,7,3,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/97/668297/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,5d6796b38966bf29f748b8dbc167ff481cfed116,bindep-fallback-stable/queens,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fpuppet-oslo~master~Ia727f5467a3b499bc2af78868adf8c872be684e1,openstack/puppet-oslo,master,Ia727f5467a3b499bc2af78868adf8c872be684e1,Change memcache_socket_timeout to a float,MERGED,2019-07-03 06:47:08.000000000,2019-07-03 17:04:15.000000000,2019-07-03 17:04:15.000000000,"[{'_account_id': 3153}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 06:47:08.000000000', 'files': ['releasenotes/notes/memcache_socket_timeout-9daa8981f42caf41.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp'], 'web_link': 'https://opendev.org/openstack/puppet-oslo/commit/08476e4e737ecf93dac4529071090738885e4bf2', 'message': 'Change memcache_socket_timeout to a float\n\nsee https://review.opendev.org/#/c/519353/\n\nChange-Id: Ia727f5467a3b499bc2af78868adf8c872be684e1\nCloses-Bug: #1835162\n'}]",0,668792,08476e4e737ecf93dac4529071090738885e4bf2,7,3,1,9414,,,0,"Change memcache_socket_timeout to a float

see https://review.opendev.org/#/c/519353/

Change-Id: Ia727f5467a3b499bc2af78868adf8c872be684e1
Closes-Bug: #1835162
",git fetch https://review.opendev.org/openstack/puppet-oslo refs/changes/92/668792/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/memcache_socket_timeout-9daa8981f42caf41.yaml', 'spec/defines/oslo_cache_spec.rb', 'manifests/cache.pp']",3,08476e4e737ecf93dac4529071090738885e4bf2,bug/1835162,# (floating point value),# (integer value),7,3
openstack%2Fironic-inspector~stable%2Frocky~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/rocky,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:33:04.000000000,2019-07-03 17:01:49.000000000,2019-07-03 17:01:49.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 16:33:04.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/adc63686dffbdf2bc2d0fd16fa234bfd21c85514', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",0,668296,adc63686dffbdf2bc2d0fd16fa234bfd21c85514,7,3,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/96/668296/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,adc63686dffbdf2bc2d0fd16fa234bfd21c85514,bindep-fallback-stable/rocky,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fironic-inspector~stable%2Fstein~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,stable/stein,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-29 16:32:51.000000000,2019-07-03 17:01:48.000000000,2019-07-03 17:01:48.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-29 16:32:51.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/a2913fc91663d5aa0a5476207b1c7c8539bdad01', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",0,668295,a2913fc91663d5aa0a5476207b1c7c8539bdad01,8,4,1,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/95/668295/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a2913fc91663d5aa0a5476207b1c7c8539bdad01,bindep-fallback-stable/stein,# needed for mysql mysql-client [platform:dpkg] mysql-server [platform:dpkg] # needed for psql postgresql postgresql-client [platform:dpkg] ,,6,0
openstack%2Fnova~master~Ie217523a8969326b27930d7f74e50e9b352ab7a1,openstack/nova,master,Ie217523a8969326b27930d7f74e50e9b352ab7a1,Stabilize unshelve notification sample tests,MERGED,2019-07-02 13:10:26.000000000,2019-07-03 16:59:58.000000000,2019-07-03 00:45:29.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-02 13:10:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1bcbe53c5c4716decc73a39be786333673c6fa49', 'message': ""Stabilize unshelve notification sample tests\n\nThe notification sample test for unshelve waits for the instance to\nreach ACTIVE state and then asserts if unshelve.end notification is\nemitted properly. However the instance.vm_state is set to ACTIVE earlier[1]\nthan emitting the unshelve.end notification[2]. This can cause two\ndifferent test case failure.\n\n1) _test_unshelve_server() fails with no ushelve.end notification\nreceived.\n\n2) _test_shelve_and_shelve_offload_server() also has a unshelve action\nat the end and that test step also only waits for the the ACTIVE state.\nSo the unshelve.end notification from the end of\n_test_shelve_and_shelve_offload_server() can bleed into the\n_test_unshelve_server() step causing that it receive one more\nnotifications.\n\nSo this patch adds an extra\nself._wait_for_notification('instance.unshelve.end') call to each test\nstep to prevent the instability.\n\n[1] https://github.com/openstack/nova/blob/5c6c1f8fce7cd976dedc0a1ad28836ed87af2780/nova/compute/manager.py#L5322-L5326\n[2] https://github.com/openstack/nova/blob/5c6c1f8fce7cd976dedc0a1ad28836ed87af2780/nova/compute/manager.py#L5329\n[3] https://github.com/openstack/nova/blob/5c6c1f8fce7cd976dedc0a1ad28836ed87af2780/nova/tests/functional/notification_sample_tests/test_instance.py#L836\n\nChange-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1\n""}, {'number': 2, 'created': '2019-07-02 15:13:54.000000000', 'files': ['nova/tests/functional/notification_sample_tests/test_instance.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/40f1e7c4c22dc6023614b34f28bb7fc416b668a8', 'message': ""Stabilize unshelve notification sample tests\n\nThe notification sample test for unshelve waits for the instance to\nreach ACTIVE state and then asserts if unshelve.end notification is\nemitted properly. However the instance.vm_state is set to ACTIVE earlier[1]\nthan emitting the unshelve.end notification[2]. This can cause two\ndifferent test case failure.\n\n1) _test_unshelve_server() fails with no ushelve.end notification\nreceived.\n\n2) _test_shelve_and_shelve_offload_server() also has a unshelve action\nat the end and that test step also only waits for the the ACTIVE state.\nSo the unshelve.end notification from the end of\n_test_shelve_and_shelve_offload_server() can bleed into the\n_test_unshelve_server() step causing that it receive one more\nnotifications.\n\nSo this patch adds an extra\nself._wait_for_notification('instance.unshelve.end') call to each test\nstep to prevent the instability.\n\n[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326\n[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329\n[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836\n\nCloses-Bug: #1835070\n\nChange-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1\n""}]",11,668675,40f1e7c4c22dc6023614b34f28bb7fc416b668a8,28,11,2,9708,,,0,"Stabilize unshelve notification sample tests

The notification sample test for unshelve waits for the instance to
reach ACTIVE state and then asserts if unshelve.end notification is
emitted properly. However the instance.vm_state is set to ACTIVE earlier[1]
than emitting the unshelve.end notification[2]. This can cause two
different test case failure.

1) _test_unshelve_server() fails with no ushelve.end notification
received.

2) _test_shelve_and_shelve_offload_server() also has a unshelve action
at the end and that test step also only waits for the the ACTIVE state.
So the unshelve.end notification from the end of
_test_shelve_and_shelve_offload_server() can bleed into the
_test_unshelve_server() step causing that it receive one more
notifications.

So this patch adds an extra
self._wait_for_notification('instance.unshelve.end') call to each test
step to prevent the instability.

[1] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5322-L5326
[2] https://github.com/openstack/nova/blob/5c6c1f8f/nova/compute/manager.py#L5329
[3] https://github.com/openstack/nova/blob/5c6c1f8f/nova/tests/functional/notification_sample_tests/test_instance.py#L836

Closes-Bug: #1835070

Change-Id: Ie217523a8969326b27930d7f74e50e9b352ab7a1
",git fetch https://review.opendev.org/openstack/nova refs/changes/75/668675/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/notification_sample_tests/test_instance.py'],1,1bcbe53c5c4716decc73a39be786333673c6fa49,bug/1835070, self._wait_for_notification('instance.unshelve.end') self._wait_for_notification('instance.unshelve.end'),,2,0
openstack%2Fmonasca-notification~master~I5c5a5089f0d78bd7c6b137876b22f439a41ab219,openstack/monasca-notification,master,I5c5a5089f0d78bd7c6b137876b22f439a41ab219,Prevent infinite loop when initializing plugins,ABANDONED,2019-07-01 16:14:02.000000000,2019-07-03 16:57:26.000000000,,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 16:14:02.000000000', 'files': ['monasca_notification/processors/notification_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/cddaf47973fee4ff5c2bd166547cbff53673f258', 'message': 'Prevent infinite loop when initializing plugins\n\nChange-Id: I5c5a5089f0d78bd7c6b137876b22f439a41ab219\nStory: 2006148\nTask: 35645\n'}]",0,668512,cddaf47973fee4ff5c2bd166547cbff53673f258,6,3,1,16222,,,0,"Prevent infinite loop when initializing plugins

Change-Id: I5c5a5089f0d78bd7c6b137876b22f439a41ab219
Story: 2006148
Task: 35645
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/12/668512/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/processors/notification_processor.py'],1,cddaf47973fee4ff5c2bd166547cbff53673f258,, remaining_plugin_types = self._remaining_plugin_types(),,1,0
openstack%2Fmonasca-notification~master~I99d7750fac6d0355d182df1612c6a5abbbad7fc6,openstack/monasca-notification,master,I99d7750fac6d0355d182df1612c6a5abbbad7fc6,Fix notification type plugin install loop,MERGED,2019-06-07 14:32:07.000000000,2019-07-03 16:50:44.000000000,2019-07-03 16:50:44.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 14:32:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/b9616ba4a45b71483a574ca044d7bd93fd658458', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}, {'number': 2, 'created': '2019-06-07 14:33:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/53ade557a184d10ce9c9217ab61ae85fdeaf78c2', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}, {'number': 3, 'created': '2019-06-07 14:40:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/190bd95b6e197c7023cb527e7fdc6f3530537db3', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nStory: 2005540\nTask: 30680\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}, {'number': 4, 'created': '2019-06-07 14:42:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0d38f59097943ca9846cb981345ff028b3cfaa20', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nStory: 2005540\nTask: 30680\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}, {'number': 5, 'created': '2019-06-07 14:44:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/e9a75059c0904ab3954cbd7a29aaaf1905705052', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nStory: 2005540\nTask: 30680\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}, {'number': 6, 'created': '2019-06-07 15:49:36.000000000', 'files': ['monasca_notification/processors/notification_processor.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/df2f1ef228c0d33cc9f8c34f80221f2ac624e3ca', 'message': ""Fix notification type plugin install loop\n\nThe 'insert_configured_plugins' function occasionally gets into an infinite loop.\nThis patch ensures the loop fails properly after max_retries is met.\n\nStory: 2005540\nTask: 30680\nChange-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6\n""}]",0,663960,df2f1ef228c0d33cc9f8c34f80221f2ac624e3ca,14,3,6,30438,,,0,"Fix notification type plugin install loop

The 'insert_configured_plugins' function occasionally gets into an infinite loop.
This patch ensures the loop fails properly after max_retries is met.

Story: 2005540
Task: 30680
Change-Id: I99d7750fac6d0355d182df1612c6a5abbbad7fc6
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/60/663960/6 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/processors/notification_processor.py'],1,b9616ba4a45b71483a574ca044d7bd93fd658458,plugin-detection-loop-fix," for attempt in range(max_retry): remaining_plugin_types = self._remaining_plugin_types() if not remaining_plugin_types: log.info(""Notification type plugins installed"") return if not remaining_plugin_types: log.info(""Notification type plugins installed"") return else: log.exception(""Couldn't insert notification types %s"", e) if (attempt == max_retry-1): log.exception(""Max retries exceeded installing notification types %s"", e) raise e "," retry_count = 0 while remaining_plugin_types: retry_count = retry_count + 1 if remaining_plugin_types and (retry_count >= max_retry): log.exception(""Couldn't insert notification types %s"", e) raise e else:",14,7
openstack%2Fopenstack-helm~master~I95ff59ce024747f7af40c6bef0661bb3743b0af1,openstack/openstack-helm,master,I95ff59ce024747f7af40c6bef0661bb3743b0af1,[neutron] Bring in L2 gateway support,MERGED,2019-06-20 12:29:27.000000000,2019-07-03 16:47:37.000000000,2019-07-03 16:47:37.000000000,"[{'_account_id': 7125}, {'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-20 12:29:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/83dc7df895373478d5feea90fa09f85838f5ee28', 'message': '[neutron] Bring in L2 gateway support\n\nL2 Gateway (L2GW) is an API framework that offers bridging 2+\nnetworks together to make them look as a single broadcast domain.\nA typical use case is bridging the virtual with the physical networks.\n\nChange-Id: I95ff59ce024747f7af40c6bef0661bb3743b0af1\n'}, {'number': 2, 'created': '2019-06-28 12:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/0cb1f3aa83870eaf2dcdfb4dd7fd12b9a8822d62', 'message': '[neutron] Bring in L2 gateway support\n\nL2 Gateway (L2GW) is an API framework that offers bridging 2+\nnetworks together to make them look as a single broadcast domain.\nA typical use case is bridging the virtual with the physical networks.\n\nChange-Id: I95ff59ce024747f7af40c6bef0661bb3743b0af1\n'}, {'number': 3, 'created': '2019-07-01 11:26:07.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/values_overrides/rocky-ubuntu_bionic.yaml', 'tools/overrides/backends/networking/l2gateway.yaml', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values_overrides/rocky-opensuse_15.yaml', 'neutron/values_overrides/rocky-ubuntu_xenial.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/values_overrides/pike-ubuntu_xenial.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/values_overrides/queens-ubuntu_xenial.yaml', 'neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8c9374304131968863ba008ac579b3bc42ff75eb', 'message': '[neutron] Bring in L2 gateway support\n\nL2 Gateway (L2GW) is an API framework that offers bridging 2+\nnetworks together to make them look as a single broadcast domain.\nA typical use case is bridging the virtual with the physical networks.\n\nChange-Id: I95ff59ce024747f7af40c6bef0661bb3743b0af1\n'}]",0,666550,8c9374304131968863ba008ac579b3bc42ff75eb,14,7,3,16771,,,0,"[neutron] Bring in L2 gateway support

L2 Gateway (L2GW) is an API framework that offers bridging 2+
networks together to make them look as a single broadcast domain.
A typical use case is bridging the virtual with the physical networks.

Change-Id: I95ff59ce024747f7af40c6bef0661bb3743b0af1
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/50/666550/2 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/deployment-server.yaml', 'tools/overrides/backends/networking/l2gateway.yaml', 'neutron/templates/configmap-bin.yaml', 'neutron/templates/daemonset-l2gw-agent.yaml', 'neutron/templates/bin/_neutron-l2gw-agent.sh.tpl', 'neutron/templates/bin/_neutron-server.sh.tpl', 'neutron/values.yaml', 'neutron/templates/configmap-etc.yaml']",8,83dc7df895373478d5feea90fa09f85838f5ee28,l2gateway," l2gw_plugin.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.plugins.l2gateway | b64enc ) ""\""\"""" }} l2gw_agent.ini: {{ default ( include ""helm-toolkit.utils.to_oslo_conf"" $envAll.Values.conf.l2gateway_agent | b64enc ) ""\""\"""" }}",,230,0
openstack%2Fpython-tripleoclient~master~I96709e67064c8b3347c9dfcd511ba823eb9dc370,openstack/python-tripleoclient,master,I96709e67064c8b3347c9dfcd511ba823eb9dc370,Remove undercloud deploy,MERGED,2019-06-26 13:25:13.000000000,2019-07-03 16:45:31.000000000,2019-07-03 16:45:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-26 13:25:13.000000000', 'files': ['tripleoclient/tests/v1/undercloud/test_deploy.py', 'releasenotes/notes/remove-undercloud-deploy-3cbbfe5f159cc71d.yaml', 'tripleoclient/v1/undercloud_deploy.py', 'setup.cfg'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e096cca54a49af22d09b5bce8cecf3dac297234b', 'message': 'Remove undercloud deploy\n\nThis was a left over from the development of the containerized\nundercloud and has been deprecated for some time. Additionally it just\nredirected to the undercloud install logic anyway.\n\nChange-Id: I96709e67064c8b3347c9dfcd511ba823eb9dc370\n'}]",0,667612,e096cca54a49af22d09b5bce8cecf3dac297234b,10,5,1,14985,,,0,"Remove undercloud deploy

This was a left over from the development of the containerized
undercloud and has been deprecated for some time. Additionally it just
redirected to the undercloud install logic anyway.

Change-Id: I96709e67064c8b3347c9dfcd511ba823eb9dc370
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/12/667612/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/tests/v1/undercloud/test_deploy.py', 'releasenotes/notes/remove-undercloud-deploy-3cbbfe5f159cc71d.yaml', 'tripleoclient/v1/undercloud_deploy.py', 'setup.cfg']",4,e096cca54a49af22d09b5bce8cecf3dac297234b,remove-undercloud-deploy,, undercloud_deploy = tripleoclient.v1.undercloud_deploy:DeployUndercloud,5,84
openstack%2Fpython-tripleoclient~master~I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090,openstack/python-tripleoclient,master,I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090,Use wait for stack ready from utils for tripleo deploy,MERGED,2019-06-19 19:58:04.000000000,2019-07-03 16:45:30.000000000,2019-07-03 16:45:30.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-19 19:58:04.000000000', 'files': ['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/06fddc5550cd1c62e2c970e8365bfd4da95c1fee', 'message': ""Use wait for stack ready from utils for tripleo deploy\n\nThe tripleo deploy command was duplicating a function call to the heat\nstack that we already had a shared function for in utils. Let's use that\ninstead as it now has additional retry logic improvements.\n\nChange-Id: I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090\n""}]",0,666432,06fddc5550cd1c62e2c970e8365bfd4da95c1fee,15,6,1,14985,,,0,"Use wait for stack ready from utils for tripleo deploy

The tripleo deploy command was duplicating a function call to the heat
stack that we already had a shared function for in utils. Let's use that
instead as it now has additional retry logic improvements.

Change-Id: I1f22b5b4aa79e5a1f7d340054e08423cd1b1c090
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/32/666432/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/v1/tripleo_deploy.py', 'tripleoclient/tests/v1/tripleo/test_tripleo_deploy.py']",2,06fddc5550cd1c62e2c970e8365bfd4da95c1fee,bug/1833452," @mock.patch('tripleoclient.utils.wait_for_stack_ready', return_value=True)"," @mock.patch('tripleoclient.v1.tripleo_deploy.' 'event_utils.poll_for_events', return_value=('CREATE_COMPLETE', 0))",5,8
openstack%2Fdevstack~master~I1b4c9571b8f3dece270865fb336e73aca3a36a76,openstack/devstack,master,I1b4c9571b8f3dece270865fb336e73aca3a36a76,Updated from generate-devstack-plugins-list,MERGED,2019-04-21 06:14:22.000000000,2019-07-03 16:38:23.000000000,2019-07-03 16:38:23.000000000,"[{'_account_id': 1653}, {'_account_id': 6873}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-04-21 06:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/051d52101c517ce8ce81d8692c79be25e367e5b3', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 2, 'created': '2019-04-29 06:15:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e047c61be02f0edc218bf5040b46aecf8f16756d', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 3, 'created': '2019-04-30 06:17:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/4fe11213fbc8c03b2f7a0856d16318c5f3c0d173', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 4, 'created': '2019-05-14 06:23:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/6f0fa28634038f4a9b897c96dfae07610d939dbb', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 5, 'created': '2019-05-25 06:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/9a01d45a2d4bb749990b99ff61b387f0df8096ad', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 6, 'created': '2019-06-08 06:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c9af47275c6dbb3dcc8816be52080e8f117e180c', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 7, 'created': '2019-06-09 06:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/79a09cc4d100a33e59e54ab7b0b628eb6029272b', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 8, 'created': '2019-06-11 06:18:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/c4c2fb9783370daf9facad8f97701911c5c5d671', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 9, 'created': '2019-06-12 06:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/e0325dca9b60eef8ec64bcde74ffec80e0217b90', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 10, 'created': '2019-06-26 06:24:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/51e686328d78f4a49a1af9d4d4baa70cf97bb0ee', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}, {'number': 11, 'created': '2019-07-03 06:12:25.000000000', 'files': ['doc/source/plugin-registry.rst'], 'web_link': 'https://opendev.org/openstack/devstack/commit/45ded1cca01bfa31dcb3ad1591125e4890d6f562', 'message': 'Updated from generate-devstack-plugins-list\n\nChange-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76\n'}]",0,654164,45ded1cca01bfa31dcb3ad1591125e4890d6f562,32,6,11,11131,,,0,"Updated from generate-devstack-plugins-list

Change-Id: I1b4c9571b8f3dece270865fb336e73aca3a36a76
",git fetch https://review.opendev.org/openstack/devstack refs/changes/64/654164/8 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/plugin-registry.rst'],1,051d52101c517ce8ce81d8692c79be25e367e5b3,openstack/devstack/plugins,=========================== === Plugin Name URL =========================== === aodh `https://git.openstack.org/openstack/aodh <https://git.openstack.org/cgit/openstack/aodh>`__ barbican `https://git.openstack.org/openstack/barbican <https://git.openstack.org/cgit/openstack/barbican>`__ blazar `https://git.openstack.org/openstack/blazar <https://git.openstack.org/cgit/openstack/blazar>`__ castellan-ui `https://git.openstack.org/openstack/castellan-ui <https://git.openstack.org/cgit/openstack/castellan-ui>`__ ceilometer `https://git.openstack.org/openstack/ceilometer <https://git.openstack.org/cgit/openstack/ceilometer>`__ ceilometer-powervm `https://git.openstack.org/openstack/ceilometer-powervm <https://git.openstack.org/cgit/openstack/ceilometer-powervm>`__ cinderlib `https://git.openstack.org/openstack/cinderlib <https://git.openstack.org/cgit/openstack/cinderlib>`__ cloudkitty `https://git.openstack.org/openstack/cloudkitty <https://git.openstack.org/cgit/openstack/cloudkitty>`__ congress `https://git.openstack.org/openstack/congress <https://git.openstack.org/cgit/openstack/congress>`__ cyborg `https://git.openstack.org/openstack/cyborg <https://git.openstack.org/cgit/openstack/cyborg>`__ designate `https://git.openstack.org/openstack/designate <https://git.openstack.org/cgit/openstack/designate>`__ devstack-plugin-amqp1 `https://git.openstack.org/openstack/devstack-plugin-amqp1 <https://git.openstack.org/cgit/openstack/devstack-plugin-amqp1>`__ devstack-plugin-ceph `https://git.openstack.org/openstack/devstack-plugin-ceph <https://git.openstack.org/cgit/openstack/devstack-plugin-ceph>`__ devstack-plugin-container `https://git.openstack.org/openstack/devstack-plugin-container <https://git.openstack.org/cgit/openstack/devstack-plugin-container>`__ devstack-plugin-kafka `https://git.openstack.org/openstack/devstack-plugin-kafka <https://git.openstack.org/cgit/openstack/devstack-plugin-kafka>`__ devstack-plugin-pika `https://git.openstack.org/openstack/devstack-plugin-pika <https://git.openstack.org/cgit/openstack/devstack-plugin-pika>`__ devstack-plugin-zmq `https://git.openstack.org/openstack/devstack-plugin-zmq <https://git.openstack.org/cgit/openstack/devstack-plugin-zmq>`__ dragonflow `https://git.openstack.org/openstack/dragonflow <https://git.openstack.org/cgit/openstack/dragonflow>`__ ec2-api `https://git.openstack.org/openstack/ec2-api <https://git.openstack.org/cgit/openstack/ec2-api>`__ freezer `https://git.openstack.org/openstack/freezer <https://git.openstack.org/cgit/openstack/freezer>`__ freezer-api `https://git.openstack.org/openstack/freezer-api <https://git.openstack.org/cgit/openstack/freezer-api>`__ freezer-tempest-plugin `https://git.openstack.org/openstack/freezer-tempest-plugin <https://git.openstack.org/cgit/openstack/freezer-tempest-plugin>`__ freezer-web-ui `https://git.openstack.org/openstack/freezer-web-ui <https://git.openstack.org/cgit/openstack/freezer-web-ui>`__ heat `https://git.openstack.org/openstack/heat <https://git.openstack.org/cgit/openstack/heat>`__ heat-dashboard `https://git.openstack.org/openstack/heat-dashboard <https://git.openstack.org/cgit/openstack/heat-dashboard>`__ ironic `https://git.openstack.org/openstack/ironic <https://git.openstack.org/cgit/openstack/ironic>`__ ironic-inspector `https://git.openstack.org/openstack/ironic-inspector <https://git.openstack.org/cgit/openstack/ironic-inspector>`__ ironic-ui `https://git.openstack.org/openstack/ironic-ui <https://git.openstack.org/cgit/openstack/ironic-ui>`__ karbor `https://git.openstack.org/openstack/karbor <https://git.openstack.org/cgit/openstack/karbor>`__ karbor-dashboard `https://git.openstack.org/openstack/karbor-dashboard <https://git.openstack.org/cgit/openstack/karbor-dashboard>`__ keystone `https://git.openstack.org/openstack/keystone <https://git.openstack.org/cgit/openstack/keystone>`__ kuryr-kubernetes `https://git.openstack.org/openstack/kuryr-kubernetes <https://git.openstack.org/cgit/openstack/kuryr-kubernetes>`__ kuryr-libnetwork `https://git.openstack.org/openstack/kuryr-libnetwork <https://git.openstack.org/cgit/openstack/kuryr-libnetwork>`__ kuryr-tempest-plugin `https://git.openstack.org/openstack/kuryr-tempest-plugin <https://git.openstack.org/cgit/openstack/kuryr-tempest-plugin>`__ magnum `https://git.openstack.org/openstack/magnum <https://git.openstack.org/cgit/openstack/magnum>`__ magnum-ui `https://git.openstack.org/openstack/magnum-ui <https://git.openstack.org/cgit/openstack/magnum-ui>`__ manila `https://git.openstack.org/openstack/manila <https://git.openstack.org/cgit/openstack/manila>`__ manila-tempest-plugin `https://git.openstack.org/openstack/manila-tempest-plugin <https://git.openstack.org/cgit/openstack/manila-tempest-plugin>`__ manila-ui `https://git.openstack.org/openstack/manila-ui <https://git.openstack.org/cgit/openstack/manila-ui>`__ masakari `https://git.openstack.org/openstack/masakari <https://git.openstack.org/cgit/openstack/masakari>`__ mistral `https://git.openstack.org/openstack/mistral <https://git.openstack.org/cgit/openstack/mistral>`__ monasca-analytics `https://git.openstack.org/openstack/monasca-analytics <https://git.openstack.org/cgit/openstack/monasca-analytics>`__ monasca-api `https://git.openstack.org/openstack/monasca-api <https://git.openstack.org/cgit/openstack/monasca-api>`__ monasca-ceilometer `https://git.openstack.org/openstack/monasca-ceilometer <https://git.openstack.org/cgit/openstack/monasca-ceilometer>`__ monasca-events-api `https://git.openstack.org/openstack/monasca-events-api <https://git.openstack.org/cgit/openstack/monasca-events-api>`__ monasca-log-api `https://git.openstack.org/openstack/monasca-log-api <https://git.openstack.org/cgit/openstack/monasca-log-api>`__ monasca-tempest-plugin `https://git.openstack.org/openstack/monasca-tempest-plugin <https://git.openstack.org/cgit/openstack/monasca-tempest-plugin>`__ monasca-transform `https://git.openstack.org/openstack/monasca-transform <https://git.openstack.org/cgit/openstack/monasca-transform>`__ murano `https://git.openstack.org/openstack/murano <https://git.openstack.org/cgit/openstack/murano>`__ networking-bagpipe `https://git.openstack.org/openstack/networking-bagpipe <https://git.openstack.org/cgit/openstack/networking-bagpipe>`__ networking-baremetal `https://git.openstack.org/openstack/networking-baremetal <https://git.openstack.org/cgit/openstack/networking-baremetal>`__ networking-bgpvpn `https://git.openstack.org/openstack/networking-bgpvpn <https://git.openstack.org/cgit/openstack/networking-bgpvpn>`__ networking-calico `https://git.openstack.org/openstack/networking-calico <https://git.openstack.org/cgit/openstack/networking-calico>`__ networking-generic-switch `https://git.openstack.org/openstack/networking-generic-switch <https://git.openstack.org/cgit/openstack/networking-generic-switch>`__ networking-hyperv `https://git.openstack.org/openstack/networking-hyperv <https://git.openstack.org/cgit/openstack/networking-hyperv>`__ networking-l2gw `https://git.openstack.org/openstack/networking-l2gw <https://git.openstack.org/cgit/openstack/networking-l2gw>`__ networking-midonet `https://git.openstack.org/openstack/networking-midonet <https://git.openstack.org/cgit/openstack/networking-midonet>`__ networking-odl `https://git.openstack.org/openstack/networking-odl <https://git.openstack.org/cgit/openstack/networking-odl>`__ networking-onos `https://git.openstack.org/openstack/networking-onos <https://git.openstack.org/cgit/openstack/networking-onos>`__ networking-ovn `https://git.openstack.org/openstack/networking-ovn <https://git.openstack.org/cgit/openstack/networking-ovn>`__ networking-powervm `https://git.openstack.org/openstack/networking-powervm <https://git.openstack.org/cgit/openstack/networking-powervm>`__ networking-sfc `https://git.openstack.org/openstack/networking-sfc <https://git.openstack.org/cgit/openstack/networking-sfc>`__ neutron `https://git.openstack.org/openstack/neutron <https://git.openstack.org/cgit/openstack/neutron>`__ neutron-dynamic-routing `https://git.openstack.org/openstack/neutron-dynamic-routing <https://git.openstack.org/cgit/openstack/neutron-dynamic-routing>`__ neutron-fwaas `https://git.openstack.org/openstack/neutron-fwaas <https://git.openstack.org/cgit/openstack/neutron-fwaas>`__ neutron-fwaas-dashboard `https://git.openstack.org/openstack/neutron-fwaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-fwaas-dashboard>`__ neutron-lbaas `https://git.openstack.org/openstack/neutron-lbaas <https://git.openstack.org/cgit/openstack/neutron-lbaas>`__ neutron-lbaas-dashboard `https://git.openstack.org/openstack/neutron-lbaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-lbaas-dashboard>`__ neutron-tempest-plugin `https://git.openstack.org/openstack/neutron-tempest-plugin <https://git.openstack.org/cgit/openstack/neutron-tempest-plugin>`__ neutron-vpnaas `https://git.openstack.org/openstack/neutron-vpnaas <https://git.openstack.org/cgit/openstack/neutron-vpnaas>`__ neutron-vpnaas-dashboard `https://git.openstack.org/openstack/neutron-vpnaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-vpnaas-dashboard>`__ nova-powervm `https://git.openstack.org/openstack/nova-powervm <https://git.openstack.org/cgit/openstack/nova-powervm>`__ octavia `https://git.openstack.org/openstack/octavia <https://git.openstack.org/cgit/openstack/octavia>`__ octavia-dashboard `https://git.openstack.org/openstack/octavia-dashboard <https://git.openstack.org/cgit/openstack/octavia-dashboard>`__ openstacksdk `https://git.openstack.org/openstack/openstacksdk <https://git.openstack.org/cgit/openstack/openstacksdk>`__ os-loganalyze `https://git.openstack.org/openstack/os-loganalyze <https://git.openstack.org/cgit/openstack/os-loganalyze>`__ osprofiler `https://git.openstack.org/openstack/osprofiler <https://git.openstack.org/cgit/openstack/osprofiler>`__ oswin-tempest-plugin `https://git.openstack.org/openstack/oswin-tempest-plugin <https://git.openstack.org/cgit/openstack/oswin-tempest-plugin>`__ panko `https://git.openstack.org/openstack/panko <https://git.openstack.org/cgit/openstack/panko>`__ patrole `https://git.openstack.org/openstack/patrole <https://git.openstack.org/cgit/openstack/patrole>`__ qinling `https://git.openstack.org/openstack/qinling <https://git.openstack.org/cgit/openstack/qinling>`__ qinling-dashboard `https://git.openstack.org/openstack/qinling-dashboard <https://git.openstack.org/cgit/openstack/qinling-dashboard>`__ rally `https://git.openstack.org/openstack/rally <https://git.openstack.org/cgit/openstack/rally>`__ rally-openstack `https://git.openstack.org/openstack/rally-openstack <https://git.openstack.org/cgit/openstack/rally-openstack>`__ sahara `https://git.openstack.org/openstack/sahara <https://git.openstack.org/cgit/openstack/sahara>`__ sahara-dashboard `https://git.openstack.org/openstack/sahara-dashboard <https://git.openstack.org/cgit/openstack/sahara-dashboard>`__ searchlight `https://git.openstack.org/openstack/searchlight <https://git.openstack.org/cgit/openstack/searchlight>`__ searchlight-ui `https://git.openstack.org/openstack/searchlight-ui <https://git.openstack.org/cgit/openstack/searchlight-ui>`__ senlin `https://git.openstack.org/openstack/senlin <https://git.openstack.org/cgit/openstack/senlin>`__ shade `https://git.openstack.org/openstack/shade <https://git.openstack.org/cgit/openstack/shade>`__ solum `https://git.openstack.org/openstack/solum <https://git.openstack.org/cgit/openstack/solum>`__ storlets `https://git.openstack.org/openstack/storlets <https://git.openstack.org/cgit/openstack/storlets>`__ tacker `https://git.openstack.org/openstack/tacker <https://git.openstack.org/cgit/openstack/tacker>`__ telemetry-tempest-plugin `https://git.openstack.org/openstack/telemetry-tempest-plugin <https://git.openstack.org/cgit/openstack/telemetry-tempest-plugin>`__ tricircle `https://git.openstack.org/openstack/tricircle <https://git.openstack.org/cgit/openstack/tricircle>`__ trove `https://git.openstack.org/openstack/trove <https://git.openstack.org/cgit/openstack/trove>`__ trove-dashboard `https://git.openstack.org/openstack/trove-dashboard <https://git.openstack.org/cgit/openstack/trove-dashboard>`__ vitrage `https://git.openstack.org/openstack/vitrage <https://git.openstack.org/cgit/openstack/vitrage>`__ vitrage-dashboard `https://git.openstack.org/openstack/vitrage-dashboard <https://git.openstack.org/cgit/openstack/vitrage-dashboard>`__ vitrage-tempest-plugin `https://git.openstack.org/openstack/vitrage-tempest-plugin <https://git.openstack.org/cgit/openstack/vitrage-tempest-plugin>`__ watcher `https://git.openstack.org/openstack/watcher <https://git.openstack.org/cgit/openstack/watcher>`__ watcher-dashboard `https://git.openstack.org/openstack/watcher-dashboard <https://git.openstack.org/cgit/openstack/watcher-dashboard>`__ zaqar `https://git.openstack.org/openstack/zaqar <https://git.openstack.org/cgit/openstack/zaqar>`__ zaqar-ui `https://git.openstack.org/openstack/zaqar-ui <https://git.openstack.org/cgit/openstack/zaqar-ui>`__ zun `https://git.openstack.org/openstack/zun <https://git.openstack.org/cgit/openstack/zun>`__ zun-ui `https://git.openstack.org/openstack/zun-ui <https://git.openstack.org/cgit/openstack/zun-ui>`__ =========================== ===,====================================== === Plugin Name URL ====================================== === almanach `https://git.openstack.org/openstack/almanach <https://git.openstack.org/cgit/openstack/almanach>`__ aodh `https://git.openstack.org/openstack/aodh <https://git.openstack.org/cgit/openstack/aodh>`__ apmec `https://git.openstack.org/openstack/apmec <https://git.openstack.org/cgit/openstack/apmec>`__ barbican `https://git.openstack.org/openstack/barbican <https://git.openstack.org/cgit/openstack/barbican>`__ bilean `https://git.openstack.org/openstack/bilean <https://git.openstack.org/cgit/openstack/bilean>`__ blazar `https://git.openstack.org/openstack/blazar <https://git.openstack.org/cgit/openstack/blazar>`__ broadview-collector `https://git.openstack.org/openstack/broadview-collector <https://git.openstack.org/cgit/openstack/broadview-collector>`__ castellan-ui `https://git.openstack.org/openstack/castellan-ui <https://git.openstack.org/cgit/openstack/castellan-ui>`__ ceilometer `https://git.openstack.org/openstack/ceilometer <https://git.openstack.org/cgit/openstack/ceilometer>`__ ceilometer-powervm `https://git.openstack.org/openstack/ceilometer-powervm <https://git.openstack.org/cgit/openstack/ceilometer-powervm>`__ cinderlib `https://git.openstack.org/openstack/cinderlib <https://git.openstack.org/cgit/openstack/cinderlib>`__ cloudkitty `https://git.openstack.org/openstack/cloudkitty <https://git.openstack.org/cgit/openstack/cloudkitty>`__ collectd-openstack-plugins `https://git.openstack.org/openstack/collectd-openstack-plugins <https://git.openstack.org/cgit/openstack/collectd-openstack-plugins>`__ congress `https://git.openstack.org/openstack/congress <https://git.openstack.org/cgit/openstack/congress>`__ cyborg `https://git.openstack.org/openstack/cyborg <https://git.openstack.org/cgit/openstack/cyborg>`__ designate `https://git.openstack.org/openstack/designate <https://git.openstack.org/cgit/openstack/designate>`__ devstack-plugin-additional-pkg-repos `https://git.openstack.org/openstack/devstack-plugin-additional-pkg-repos <https://git.openstack.org/cgit/openstack/devstack-plugin-additional-pkg-repos>`__ devstack-plugin-amqp1 `https://git.openstack.org/openstack/devstack-plugin-amqp1 <https://git.openstack.org/cgit/openstack/devstack-plugin-amqp1>`__ devstack-plugin-bdd `https://git.openstack.org/openstack/devstack-plugin-bdd <https://git.openstack.org/cgit/openstack/devstack-plugin-bdd>`__ devstack-plugin-ceph `https://git.openstack.org/openstack/devstack-plugin-ceph <https://git.openstack.org/cgit/openstack/devstack-plugin-ceph>`__ devstack-plugin-container `https://git.openstack.org/openstack/devstack-plugin-container <https://git.openstack.org/cgit/openstack/devstack-plugin-container>`__ devstack-plugin-glusterfs `https://git.openstack.org/openstack/devstack-plugin-glusterfs <https://git.openstack.org/cgit/openstack/devstack-plugin-glusterfs>`__ devstack-plugin-hdfs `https://git.openstack.org/openstack/devstack-plugin-hdfs <https://git.openstack.org/cgit/openstack/devstack-plugin-hdfs>`__ devstack-plugin-kafka `https://git.openstack.org/openstack/devstack-plugin-kafka <https://git.openstack.org/cgit/openstack/devstack-plugin-kafka>`__ devstack-plugin-libvirt-qemu `https://git.openstack.org/openstack/devstack-plugin-libvirt-qemu <https://git.openstack.org/cgit/openstack/devstack-plugin-libvirt-qemu>`__ devstack-plugin-mariadb `https://git.openstack.org/openstack/devstack-plugin-mariadb <https://git.openstack.org/cgit/openstack/devstack-plugin-mariadb>`__ devstack-plugin-nfs `https://git.openstack.org/openstack/devstack-plugin-nfs <https://git.openstack.org/cgit/openstack/devstack-plugin-nfs>`__ devstack-plugin-pika `https://git.openstack.org/openstack/devstack-plugin-pika <https://git.openstack.org/cgit/openstack/devstack-plugin-pika>`__ devstack-plugin-sheepdog `https://git.openstack.org/openstack/devstack-plugin-sheepdog <https://git.openstack.org/cgit/openstack/devstack-plugin-sheepdog>`__ devstack-plugin-vmax `https://git.openstack.org/openstack/devstack-plugin-vmax <https://git.openstack.org/cgit/openstack/devstack-plugin-vmax>`__ devstack-plugin-zmq `https://git.openstack.org/openstack/devstack-plugin-zmq <https://git.openstack.org/cgit/openstack/devstack-plugin-zmq>`__ dragonflow `https://git.openstack.org/openstack/dragonflow <https://git.openstack.org/cgit/openstack/dragonflow>`__ drbd-devstack `https://git.openstack.org/openstack/drbd-devstack <https://git.openstack.org/cgit/openstack/drbd-devstack>`__ ec2-api `https://git.openstack.org/openstack/ec2-api <https://git.openstack.org/cgit/openstack/ec2-api>`__ freezer `https://git.openstack.org/openstack/freezer <https://git.openstack.org/cgit/openstack/freezer>`__ freezer-api `https://git.openstack.org/openstack/freezer-api <https://git.openstack.org/cgit/openstack/freezer-api>`__ freezer-tempest-plugin `https://git.openstack.org/openstack/freezer-tempest-plugin <https://git.openstack.org/cgit/openstack/freezer-tempest-plugin>`__ freezer-web-ui `https://git.openstack.org/openstack/freezer-web-ui <https://git.openstack.org/cgit/openstack/freezer-web-ui>`__ gce-api `https://git.openstack.org/openstack/gce-api <https://git.openstack.org/cgit/openstack/gce-api>`__ glare `https://git.openstack.org/openstack/glare <https://git.openstack.org/cgit/openstack/glare>`__ group-based-policy `https://git.openstack.org/openstack/group-based-policy <https://git.openstack.org/cgit/openstack/group-based-policy>`__ gyan `https://git.openstack.org/openstack/gyan <https://git.openstack.org/cgit/openstack/gyan>`__ heat `https://git.openstack.org/openstack/heat <https://git.openstack.org/cgit/openstack/heat>`__ heat-dashboard `https://git.openstack.org/openstack/heat-dashboard <https://git.openstack.org/cgit/openstack/heat-dashboard>`__ horizon-mellanox `https://git.openstack.org/openstack/horizon-mellanox <https://git.openstack.org/cgit/openstack/horizon-mellanox>`__ ironic `https://git.openstack.org/openstack/ironic <https://git.openstack.org/cgit/openstack/ironic>`__ ironic-inspector `https://git.openstack.org/openstack/ironic-inspector <https://git.openstack.org/cgit/openstack/ironic-inspector>`__ ironic-staging-drivers `https://git.openstack.org/openstack/ironic-staging-drivers <https://git.openstack.org/cgit/openstack/ironic-staging-drivers>`__ ironic-ui `https://git.openstack.org/openstack/ironic-ui <https://git.openstack.org/cgit/openstack/ironic-ui>`__ karbor `https://git.openstack.org/openstack/karbor <https://git.openstack.org/cgit/openstack/karbor>`__ karbor-dashboard `https://git.openstack.org/openstack/karbor-dashboard <https://git.openstack.org/cgit/openstack/karbor-dashboard>`__ keystone `https://git.openstack.org/openstack/keystone <https://git.openstack.org/cgit/openstack/keystone>`__ kingbird `https://git.openstack.org/openstack/kingbird <https://git.openstack.org/cgit/openstack/kingbird>`__ kuryr-kubernetes `https://git.openstack.org/openstack/kuryr-kubernetes <https://git.openstack.org/cgit/openstack/kuryr-kubernetes>`__ kuryr-libnetwork `https://git.openstack.org/openstack/kuryr-libnetwork <https://git.openstack.org/cgit/openstack/kuryr-libnetwork>`__ kuryr-tempest-plugin `https://git.openstack.org/openstack/kuryr-tempest-plugin <https://git.openstack.org/cgit/openstack/kuryr-tempest-plugin>`__ magnum `https://git.openstack.org/openstack/magnum <https://git.openstack.org/cgit/openstack/magnum>`__ magnum-ui `https://git.openstack.org/openstack/magnum-ui <https://git.openstack.org/cgit/openstack/magnum-ui>`__ manila `https://git.openstack.org/openstack/manila <https://git.openstack.org/cgit/openstack/manila>`__ manila-tempest-plugin `https://git.openstack.org/openstack/manila-tempest-plugin <https://git.openstack.org/cgit/openstack/manila-tempest-plugin>`__ manila-ui `https://git.openstack.org/openstack/manila-ui <https://git.openstack.org/cgit/openstack/manila-ui>`__ masakari `https://git.openstack.org/openstack/masakari <https://git.openstack.org/cgit/openstack/masakari>`__ meteos `https://git.openstack.org/openstack/meteos <https://git.openstack.org/cgit/openstack/meteos>`__ meteos-ui `https://git.openstack.org/openstack/meteos-ui <https://git.openstack.org/cgit/openstack/meteos-ui>`__ mistral `https://git.openstack.org/openstack/mistral <https://git.openstack.org/cgit/openstack/mistral>`__ mixmatch `https://git.openstack.org/openstack/mixmatch <https://git.openstack.org/cgit/openstack/mixmatch>`__ mogan `https://git.openstack.org/openstack/mogan <https://git.openstack.org/cgit/openstack/mogan>`__ mogan-ui `https://git.openstack.org/openstack/mogan-ui <https://git.openstack.org/cgit/openstack/mogan-ui>`__ monasca-analytics `https://git.openstack.org/openstack/monasca-analytics <https://git.openstack.org/cgit/openstack/monasca-analytics>`__ monasca-api `https://git.openstack.org/openstack/monasca-api <https://git.openstack.org/cgit/openstack/monasca-api>`__ monasca-ceilometer `https://git.openstack.org/openstack/monasca-ceilometer <https://git.openstack.org/cgit/openstack/monasca-ceilometer>`__ monasca-events-api `https://git.openstack.org/openstack/monasca-events-api <https://git.openstack.org/cgit/openstack/monasca-events-api>`__ monasca-log-api `https://git.openstack.org/openstack/monasca-log-api <https://git.openstack.org/cgit/openstack/monasca-log-api>`__ monasca-tempest-plugin `https://git.openstack.org/openstack/monasca-tempest-plugin <https://git.openstack.org/cgit/openstack/monasca-tempest-plugin>`__ monasca-transform `https://git.openstack.org/openstack/monasca-transform <https://git.openstack.org/cgit/openstack/monasca-transform>`__ murano `https://git.openstack.org/openstack/murano <https://git.openstack.org/cgit/openstack/murano>`__ networking-6wind `https://git.openstack.org/openstack/networking-6wind <https://git.openstack.org/cgit/openstack/networking-6wind>`__ networking-ansible `https://git.openstack.org/openstack/networking-ansible <https://git.openstack.org/cgit/openstack/networking-ansible>`__ networking-arista `https://git.openstack.org/openstack/networking-arista <https://git.openstack.org/cgit/openstack/networking-arista>`__ networking-bagpipe `https://git.openstack.org/openstack/networking-bagpipe <https://git.openstack.org/cgit/openstack/networking-bagpipe>`__ networking-baremetal `https://git.openstack.org/openstack/networking-baremetal <https://git.openstack.org/cgit/openstack/networking-baremetal>`__ networking-bgpvpn `https://git.openstack.org/openstack/networking-bgpvpn <https://git.openstack.org/cgit/openstack/networking-bgpvpn>`__ networking-brocade `https://git.openstack.org/openstack/networking-brocade <https://git.openstack.org/cgit/openstack/networking-brocade>`__ networking-calico `https://git.openstack.org/openstack/networking-calico <https://git.openstack.org/cgit/openstack/networking-calico>`__ networking-cisco `https://git.openstack.org/openstack/networking-cisco <https://git.openstack.org/cgit/openstack/networking-cisco>`__ networking-cumulus `https://git.openstack.org/openstack/networking-cumulus <https://git.openstack.org/cgit/openstack/networking-cumulus>`__ networking-dpm `https://git.openstack.org/openstack/networking-dpm <https://git.openstack.org/cgit/openstack/networking-dpm>`__ networking-fortinet `https://git.openstack.org/openstack/networking-fortinet <https://git.openstack.org/cgit/openstack/networking-fortinet>`__ networking-generic-switch `https://git.openstack.org/openstack/networking-generic-switch <https://git.openstack.org/cgit/openstack/networking-generic-switch>`__ networking-hpe `https://git.openstack.org/openstack/networking-hpe <https://git.openstack.org/cgit/openstack/networking-hpe>`__ networking-huawei `https://git.openstack.org/openstack/networking-huawei <https://git.openstack.org/cgit/openstack/networking-huawei>`__ networking-hyperv `https://git.openstack.org/openstack/networking-hyperv <https://git.openstack.org/cgit/openstack/networking-hyperv>`__ networking-infoblox `https://git.openstack.org/openstack/networking-infoblox <https://git.openstack.org/cgit/openstack/networking-infoblox>`__ networking-l2gw `https://git.openstack.org/openstack/networking-l2gw <https://git.openstack.org/cgit/openstack/networking-l2gw>`__ networking-lagopus `https://git.openstack.org/openstack/networking-lagopus <https://git.openstack.org/cgit/openstack/networking-lagopus>`__ networking-midonet `https://git.openstack.org/openstack/networking-midonet <https://git.openstack.org/cgit/openstack/networking-midonet>`__ networking-mlnx `https://git.openstack.org/openstack/networking-mlnx <https://git.openstack.org/cgit/openstack/networking-mlnx>`__ networking-nec `https://git.openstack.org/openstack/networking-nec <https://git.openstack.org/cgit/openstack/networking-nec>`__ networking-odl `https://git.openstack.org/openstack/networking-odl <https://git.openstack.org/cgit/openstack/networking-odl>`__ networking-omnipath `https://git.openstack.org/openstack/networking-omnipath <https://git.openstack.org/cgit/openstack/networking-omnipath>`__ networking-onos `https://git.openstack.org/openstack/networking-onos <https://git.openstack.org/cgit/openstack/networking-onos>`__ networking-opencontrail `https://git.openstack.org/openstack/networking-opencontrail <https://git.openstack.org/cgit/openstack/networking-opencontrail>`__ networking-ovn `https://git.openstack.org/openstack/networking-ovn <https://git.openstack.org/cgit/openstack/networking-ovn>`__ networking-ovs-dpdk `https://git.openstack.org/openstack/networking-ovs-dpdk <https://git.openstack.org/cgit/openstack/networking-ovs-dpdk>`__ networking-plumgrid `https://git.openstack.org/openstack/networking-plumgrid <https://git.openstack.org/cgit/openstack/networking-plumgrid>`__ networking-powervm `https://git.openstack.org/openstack/networking-powervm <https://git.openstack.org/cgit/openstack/networking-powervm>`__ networking-sfc `https://git.openstack.org/openstack/networking-sfc <https://git.openstack.org/cgit/openstack/networking-sfc>`__ networking-spp `https://git.openstack.org/openstack/networking-spp <https://git.openstack.org/cgit/openstack/networking-spp>`__ networking-vpp `https://git.openstack.org/openstack/networking-vpp <https://git.openstack.org/cgit/openstack/networking-vpp>`__ networking-vsphere `https://git.openstack.org/openstack/networking-vsphere <https://git.openstack.org/cgit/openstack/networking-vsphere>`__ neutron `https://git.openstack.org/openstack/neutron <https://git.openstack.org/cgit/openstack/neutron>`__ neutron-classifier `https://git.openstack.org/openstack/neutron-classifier <https://git.openstack.org/cgit/openstack/neutron-classifier>`__ neutron-dynamic-routing `https://git.openstack.org/openstack/neutron-dynamic-routing <https://git.openstack.org/cgit/openstack/neutron-dynamic-routing>`__ neutron-fwaas `https://git.openstack.org/openstack/neutron-fwaas <https://git.openstack.org/cgit/openstack/neutron-fwaas>`__ neutron-fwaas-dashboard `https://git.openstack.org/openstack/neutron-fwaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-fwaas-dashboard>`__ neutron-lbaas `https://git.openstack.org/openstack/neutron-lbaas <https://git.openstack.org/cgit/openstack/neutron-lbaas>`__ neutron-lbaas-dashboard `https://git.openstack.org/openstack/neutron-lbaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-lbaas-dashboard>`__ neutron-tempest-plugin `https://git.openstack.org/openstack/neutron-tempest-plugin <https://git.openstack.org/cgit/openstack/neutron-tempest-plugin>`__ neutron-vpnaas `https://git.openstack.org/openstack/neutron-vpnaas <https://git.openstack.org/cgit/openstack/neutron-vpnaas>`__ neutron-vpnaas-dashboard `https://git.openstack.org/openstack/neutron-vpnaas-dashboard <https://git.openstack.org/cgit/openstack/neutron-vpnaas-dashboard>`__ nova-dpm `https://git.openstack.org/openstack/nova-dpm <https://git.openstack.org/cgit/openstack/nova-dpm>`__ nova-lxd `https://git.openstack.org/openstack/nova-lxd <https://git.openstack.org/cgit/openstack/nova-lxd>`__ nova-mksproxy `https://git.openstack.org/openstack/nova-mksproxy <https://git.openstack.org/cgit/openstack/nova-mksproxy>`__ nova-powervm `https://git.openstack.org/openstack/nova-powervm <https://git.openstack.org/cgit/openstack/nova-powervm>`__ oaktree `https://git.openstack.org/openstack/oaktree <https://git.openstack.org/cgit/openstack/oaktree>`__ octavia `https://git.openstack.org/openstack/octavia <https://git.openstack.org/cgit/openstack/octavia>`__ octavia-dashboard `https://git.openstack.org/openstack/octavia-dashboard <https://git.openstack.org/cgit/openstack/octavia-dashboard>`__ omni `https://git.openstack.org/openstack/omni <https://git.openstack.org/cgit/openstack/omni>`__ openstacksdk `https://git.openstack.org/openstack/openstacksdk <https://git.openstack.org/cgit/openstack/openstacksdk>`__ os-faults `https://git.openstack.org/openstack/os-faults <https://git.openstack.org/cgit/openstack/os-faults>`__ os-xenapi `https://git.openstack.org/openstack/os-xenapi <https://git.openstack.org/cgit/openstack/os-xenapi>`__ osprofiler `https://git.openstack.org/openstack/osprofiler <https://git.openstack.org/cgit/openstack/osprofiler>`__ oswin-tempest-plugin `https://git.openstack.org/openstack/oswin-tempest-plugin <https://git.openstack.org/cgit/openstack/oswin-tempest-plugin>`__ panko `https://git.openstack.org/openstack/panko <https://git.openstack.org/cgit/openstack/panko>`__ patrole `https://git.openstack.org/openstack/patrole <https://git.openstack.org/cgit/openstack/patrole>`__ picasso `https://git.openstack.org/openstack/picasso <https://git.openstack.org/cgit/openstack/picasso>`__ qinling `https://git.openstack.org/openstack/qinling <https://git.openstack.org/cgit/openstack/qinling>`__ qinling-dashboard `https://git.openstack.org/openstack/qinling-dashboard <https://git.openstack.org/cgit/openstack/qinling-dashboard>`__ rally `https://git.openstack.org/openstack/rally <https://git.openstack.org/cgit/openstack/rally>`__ rally-openstack `https://git.openstack.org/openstack/rally-openstack <https://git.openstack.org/cgit/openstack/rally-openstack>`__ rsd-virt-for-nova `https://git.openstack.org/openstack/rsd-virt-for-nova <https://git.openstack.org/cgit/openstack/rsd-virt-for-nova>`__ sahara `https://git.openstack.org/openstack/sahara <https://git.openstack.org/cgit/openstack/sahara>`__ sahara-dashboard `https://git.openstack.org/openstack/sahara-dashboard <https://git.openstack.org/cgit/openstack/sahara-dashboard>`__ scalpels `https://git.openstack.org/openstack/scalpels <https://git.openstack.org/cgit/openstack/scalpels>`__ searchlight `https://git.openstack.org/openstack/searchlight <https://git.openstack.org/cgit/openstack/searchlight>`__ searchlight-ui `https://git.openstack.org/openstack/searchlight-ui <https://git.openstack.org/cgit/openstack/searchlight-ui>`__ senlin `https://git.openstack.org/openstack/senlin <https://git.openstack.org/cgit/openstack/senlin>`__ slogging `https://git.openstack.org/openstack/slogging <https://git.openstack.org/cgit/openstack/slogging>`__ solum `https://git.openstack.org/openstack/solum <https://git.openstack.org/cgit/openstack/solum>`__ stackube `https://git.openstack.org/openstack/stackube <https://git.openstack.org/cgit/openstack/stackube>`__ storlets `https://git.openstack.org/openstack/storlets <https://git.openstack.org/cgit/openstack/storlets>`__ stx-config `https://git.openstack.org/openstack/stx-config <https://git.openstack.org/cgit/openstack/stx-config>`__ stx-fault `https://git.openstack.org/openstack/stx-fault <https://git.openstack.org/cgit/openstack/stx-fault>`__ stx-ha `https://git.openstack.org/openstack/stx-ha <https://git.openstack.org/cgit/openstack/stx-ha>`__ stx-integ `https://git.openstack.org/openstack/stx-integ <https://git.openstack.org/cgit/openstack/stx-integ>`__ stx-metal `https://git.openstack.org/openstack/stx-metal <https://git.openstack.org/cgit/openstack/stx-metal>`__ stx-nfv `https://git.openstack.org/openstack/stx-nfv <https://git.openstack.org/cgit/openstack/stx-nfv>`__ stx-update `https://git.openstack.org/openstack/stx-update <https://git.openstack.org/cgit/openstack/stx-update>`__ tacker `https://git.openstack.org/openstack/tacker <https://git.openstack.org/cgit/openstack/tacker>`__ tap-as-a-service `https://git.openstack.org/openstack/tap-as-a-service <https://git.openstack.org/cgit/openstack/tap-as-a-service>`__ tap-as-a-service-dashboard `https://git.openstack.org/openstack/tap-as-a-service-dashboard <https://git.openstack.org/cgit/openstack/tap-as-a-service-dashboard>`__ tatu `https://git.openstack.org/openstack/tatu <https://git.openstack.org/cgit/openstack/tatu>`__ telemetry-tempest-plugin `https://git.openstack.org/openstack/telemetry-tempest-plugin <https://git.openstack.org/cgit/openstack/telemetry-tempest-plugin>`__ tobiko `https://git.openstack.org/openstack/tobiko <https://git.openstack.org/cgit/openstack/tobiko>`__ tricircle `https://git.openstack.org/openstack/tricircle <https://git.openstack.org/cgit/openstack/tricircle>`__ trio2o `https://git.openstack.org/openstack/trio2o <https://git.openstack.org/cgit/openstack/trio2o>`__ trove `https://git.openstack.org/openstack/trove <https://git.openstack.org/cgit/openstack/trove>`__ trove-dashboard `https://git.openstack.org/openstack/trove-dashboard <https://git.openstack.org/cgit/openstack/trove-dashboard>`__ valet `https://git.openstack.org/openstack/valet <https://git.openstack.org/cgit/openstack/valet>`__ vitrage `https://git.openstack.org/openstack/vitrage <https://git.openstack.org/cgit/openstack/vitrage>`__ vitrage-dashboard `https://git.openstack.org/openstack/vitrage-dashboard <https://git.openstack.org/cgit/openstack/vitrage-dashboard>`__ vitrage-tempest-plugin `https://git.openstack.org/openstack/vitrage-tempest-plugin <https://git.openstack.org/cgit/openstack/vitrage-tempest-plugin>`__ vmware-nsx `https://git.openstack.org/openstack/vmware-nsx <https://git.openstack.org/cgit/openstack/vmware-nsx>`__ vmware-vspc `https://git.openstack.org/openstack/vmware-vspc <https://git.openstack.org/cgit/openstack/vmware-vspc>`__ watcher `https://git.openstack.org/openstack/watcher <https://git.openstack.org/cgit/openstack/watcher>`__ watcher-dashboard `https://git.openstack.org/openstack/watcher-dashboard <https://git.openstack.org/cgit/openstack/watcher-dashboard>`__ zaqar `https://git.openstack.org/openstack/zaqar <https://git.openstack.org/cgit/openstack/zaqar>`__ zaqar-ui `https://git.openstack.org/openstack/zaqar-ui <https://git.openstack.org/cgit/openstack/zaqar-ui>`__ zun `https://git.openstack.org/openstack/zun <https://git.openstack.org/cgit/openstack/zun>`__ zun-ui `https://git.openstack.org/openstack/zun-ui <https://git.openstack.org/cgit/openstack/zun-ui>`__ ====================================== ===,110,184
openstack%2Fdevstack~master~Ifcb7ecd78fb25ca2136f5848c19b74500e520873,openstack/devstack,master,Ifcb7ecd78fb25ca2136f5848c19b74500e520873,Enable universe repository on Ubuntu,MERGED,2018-11-22 13:20:28.000000000,2019-07-03 16:38:21.000000000,2019-07-03 16:38:21.000000000,"[{'_account_id': 7118}, {'_account_id': 10118}, {'_account_id': 10385}, {'_account_id': 13252}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-22 13:20:28.000000000', 'files': ['tools/fixup_stuff.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8d1b20b4c2334dc3045cea93441568657869f6d1', 'message': 'Enable universe repository on Ubuntu\n\nThe universe repository is not enabled when installing Ubuntu from an\nISO (at least for Bionic). This leads to some errors during the devstack\nrun that are not seen when running based on a cloud image which has that\nrepo enabled by default. Enable that repository unconditionally, the\noperation is idempotent.\n\nChange-Id: Ifcb7ecd78fb25ca2136f5848c19b74500e520873\nCloses-Bug: 1792936\n'}]",0,619562,8d1b20b4c2334dc3045cea93441568657869f6d1,18,7,1,13252,,,0,"Enable universe repository on Ubuntu

The universe repository is not enabled when installing Ubuntu from an
ISO (at least for Bionic). This leads to some errors during the devstack
run that are not seen when running based on a cloud image which has that
repo enabled by default. Enable that repository unconditionally, the
operation is idempotent.

Change-Id: Ifcb7ecd78fb25ca2136f5848c19b74500e520873
Closes-Bug: 1792936
",git fetch https://review.opendev.org/openstack/devstack refs/changes/62/619562/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/fixup_stuff.sh'],1,8d1b20b4c2334dc3045cea93441568657869f6d1,bug/1792936,"# Ubuntu Repositories #--------------------# Also enable universe since it is missing when installing from ISO. function fixup_ubuntu { if [[ ""$DISTRO"" != ""xenial"" && ""$DISTRO"" != ""bionic"" ]]; then # Enable universe sudo add-apt-repository -y universe if [[ ""${ENABLE_UBUNTU_CLOUD_ARCHIVE}"" == ""False"" || ""$DISTRO"" != ""xenial"" ]]; then return fi fixup_ubuntu","# Ubuntu Cloud Archive #---------------------function fixup_uca { if [[ ""${ENABLE_UBUNTU_CLOUD_ARCHIVE}"" == ""False"" || ""$DISTRO"" != ""xenial"" ]]; then fixup_uca",13,5
openstack%2Fproject-config~master~Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba,openstack/project-config,master,Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba,Upload test images to fortnebula cloud,MERGED,2019-07-03 16:03:47.000000000,2019-07-03 16:27:34.000000000,2019-07-03 16:27:34.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 16:03:47.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/3ced74e1f71e1ed705fb8e6c1d7d7fa523aaa82a', 'message': 'Upload test images to fortnebula cloud\n\nThis should be safe to get running prior to the mirror being fully\ndeployed. We only need the mirror when we add test nodes.\n\nChange-Id: Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba\n'}]",0,668952,3ced74e1f71e1ed705fb8e6c1d7d7fa523aaa82a,7,3,1,4146,,,0,"Upload test images to fortnebula cloud

This should be safe to get running prior to the mirror being fully
deployed. We only need the mirror when we add test nodes.

Change-Id: Iab6cb4039aaaba2773fc1a92d341b707b8bd99ba
",git fetch https://review.opendev.org/openstack/project-config refs/changes/52/668952/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,3ced74e1f71e1ed705fb8e6c1d7d7fa523aaa82a,fortnebula-images, - name: fortnebula-regionone region-name: 'regionOne' cloud: fortnebula rate: 0.001 diskimages: *provider_diskimages ,,6,0
openstack%2Fhorizon~master~I38f0385a1fd676a4ba18259af7ad384af31ebe5a,openstack/horizon,master,I38f0385a1fd676a4ba18259af7ad384af31ebe5a,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:15:58.000000000,2019-07-03 16:20:50.000000000,2019-07-03 16:20:50.000000000,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 6547}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28935}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-28 03:15:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/94394893a93f9681d6593589ce0a7293c5372f62', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 2, 'created': '2019-07-01 02:42:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/f9df1991dc633513e5b992b9a6156aad4f336a60', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 3, 'created': '2019-07-01 05:39:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/b3a538ae72e64f3b67db2de46213ce89e9ccd57f', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 4, 'created': '2019-07-01 07:33:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4eaa8a62c39bae21339acfca5009c4cedbaef7b1', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 5, 'created': '2019-07-02 02:21:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/eb0e9cefd8e0818cc751a4b39cc88fd388f14e01', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 6, 'created': '2019-07-02 05:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/04cb7853b13da5b125fe0d006db0b357bcbf36af', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will shows the version selector of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}, {'number': 7, 'created': '2019-07-02 06:08:52.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/b529f009373dedf8bd344aaf7221eff3e1e94de4', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will shows the version selector of the doc, too.\n\nChange-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a\n'}]",13,668080,b529f009373dedf8bd344aaf7221eff3e1e94de4,32,7,7,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will shows the version selector of the doc, too.

Change-Id: I38f0385a1fd676a4ba18259af7ad384af31ebe5a
",git fetch https://review.opendev.org/openstack/horizon refs/changes/80/668080/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,94394893a93f9681d6593589ce0a7293c5372f62,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fheat~master~I73e73455139a87fb798fd8a4651c075a91be75fd,openstack/heat,master,I73e73455139a87fb798fd8a4651c075a91be75fd,Allow creating trusts with allow_redelegation,MERGED,2019-02-21 12:53:58.000000000,2019-07-03 16:19:19.000000000,2019-07-03 16:19:18.000000000,"[{'_account_id': 4257}, {'_account_id': 5046}, {'_account_id': 8833}, {'_account_id': 9542}, {'_account_id': 12404}, {'_account_id': 17685}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28032}]","[{'number': 1, 'created': '2019-02-21 12:53:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/593fefaef065d821777bf542b7663bcdb5a9f1af', 'message': 'Add trusts_allow_redelegation option\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit adds option that allow user to create trusts with\nredelegation turned on.\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory:#2005062\n'}, {'number': 2, 'created': '2019-02-21 13:24:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a4039700ad121bada35de19d6b26322e412bedf7', 'message': 'Add trusts_allow_redelegation option\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit adds option that allow user to create trusts with\nredelegation turned on.\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\n'}, {'number': 3, 'created': '2019-02-26 13:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/75701e1947bb0afd15852bb57e142b4356998639', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\n'}, {'number': 4, 'created': '2019-02-28 08:23:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/f817107396d2962c9409cf27c9525d5d30f25429', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\n'}, {'number': 5, 'created': '2019-03-11 09:50:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/939176d6aa46b37399b3e0ebfd594a4897aa8d1f', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\n'}, {'number': 6, 'created': '2019-03-13 16:14:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/343dc974917ad678bea3c6dc268cb50d8c9e08f9', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\nTask: 29606\nTask: 17266\n'}, {'number': 7, 'created': '2019-06-11 14:59:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/a8a0a2041784b5408037fb8826b3443d6fd55370', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\nTask: 29606\nTask: 17266\n'}, {'number': 8, 'created': '2019-06-11 15:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/ed19f7ab4c3a50cd42e70267d370ced387fd3b01', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\nTask: 29606\nTask: 17266\n'}, {'number': 9, 'created': '2019-06-11 16:12:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/58b6950506486ada0c00d5e5448cfa28c39fc483', 'message': 'Create trust with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\nThis commit sets allow_redelegation to True when\nreauthentication_auth_method is trusts\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\nTask: 29606\nTask: 17266\n'}, {'number': 10, 'created': '2019-06-12 09:21:11.000000000', 'files': ['heat/tests/clients/test_heat_client.py', 'heat/common/config.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py', 'releasenotes/notes/trust-redelegate-25a6cfc78528a361.yaml'], 'web_link': 'https://opendev.org/openstack/heat/commit/e377658586c737150dad1bfd80b7b2267d46be51', 'message': 'Allow creating trusts with allow_redelegation\n\nIf you set up heat with trusts enabled, heat fails to create remote\nstack since by default it creates trusts with turned off redelegation.\n\nThis commit adds a new option `allow_trusts_redelegation`\n(False by default) which, when enabled together with\n`reauthentication_auth_method` set to `trusts` will make Heat to create\ntrusts with allow_redelegation=True, both for trusts used for deferred\nauth and for long creating stacks.\n\nChange-Id: I73e73455139a87fb798fd8a4651c075a91be75fd\nStory: #2005062\nTask: 29606\nTask: 17266\n'}]",4,638413,e377658586c737150dad1bfd80b7b2267d46be51,54,9,10,28032,,,0,"Allow creating trusts with allow_redelegation

If you set up heat with trusts enabled, heat fails to create remote
stack since by default it creates trusts with turned off redelegation.

This commit adds a new option `allow_trusts_redelegation`
(False by default) which, when enabled together with
`reauthentication_auth_method` set to `trusts` will make Heat to create
trusts with allow_redelegation=True, both for trusts used for deferred
auth and for long creating stacks.

Change-Id: I73e73455139a87fb798fd8a4651c075a91be75fd
Story: #2005062
Task: 29606
Task: 17266
",git fetch https://review.opendev.org/openstack/heat refs/changes/13/638413/9 && git format-patch -1 --stdout FETCH_HEAD,"['heat/common/config.py', 'heat/engine/clients/os/keystone/heat_keystoneclient.py']",2,593fefaef065d821777bf542b7663bcdb5a9f1af,trust_fix, trust_create_kw = {} if cfg.CONF.trusts_allow_redelegation: trust_create_kw['allow_redelegation'] = True trust_create_kw.update(role_kw) **trust_create_kw), **role_kw),9,1
openstack%2Fvitrage~master~Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,openstack/vitrage,master,Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,Bugfix - If graph is empty is_alive returns false.,MERGED,2019-07-02 11:40:12.000000000,2019-07-03 16:16:43.000000000,2019-07-03 16:16:43.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 11:40:12.000000000', 'files': ['vitrage/api_handler/apis/operational.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/194e547fc8ef66e024e3c606adae094673949bd2', 'message': 'Bugfix - If graph is empty is_alive returns false.\n\nBecause self.graph evaluates to False\n\nChange-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad\n'}]",0,668658,194e547fc8ef66e024e3c606adae094673949bd2,20,3,1,19184,,,0,"Bugfix - If graph is empty is_alive returns false.

Because self.graph evaluates to False

Change-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/58/668658/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/api_handler/apis/operational.py'],1,194e547fc8ef66e024e3c606adae094673949bd2,, if self.graph is not None and self.graph.ready:, if self.graph and self.graph.ready:,1,1
openstack%2Fcharm-ceph-radosgw~master~If24a0a94bfef0f5b078d410abc272a624b684615,openstack/charm-ceph-radosgw,master,If24a0a94bfef0f5b078d410abc272a624b684615,[DEBUG] Testing CI,ABANDONED,2019-06-14 13:56:44.000000000,2019-07-03 16:14:24.000000000,,"[{'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 13:56:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c4fca4a8265dfc746e1802eef0f6d67728f2ccff', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}, {'number': 2, 'created': '2019-06-21 14:14:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/cd68bc63cfd6ef8b8d51e178e4834d67919f3a2d', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}, {'number': 3, 'created': '2019-06-27 12:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/5760b468ffae597fe40c9dd630dae4e07a89b966', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}, {'number': 4, 'created': '2019-06-27 17:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/e34cce6baaf021435773efc6fd5ff7f7a29d0bd8', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}, {'number': 5, 'created': '2019-06-28 12:29:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/750b86f8d323cec308d45cf919a2d17a9c36ff46', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}, {'number': 6, 'created': '2019-07-01 18:37:56.000000000', 'files': ['hooks/ceph_radosgw_context.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d1a8286bc7c6255ef5f9f226ea5eab0289b500f8', 'message': '[DEBUG] Testing CI\n\nChange-Id: If24a0a94bfef0f5b078d410abc272a624b684615\n'}]",0,665397,d1a8286bc7c6255ef5f9f226ea5eab0289b500f8,33,3,6,14567,,,0,"[DEBUG] Testing CI

Change-Id: If24a0a94bfef0f5b078d410abc272a624b684615
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/97/665397/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_radosgw_context.py'],1,c4fca4a8265dfc746e1802eef0f6d67728f2ccff,,,,1,0
openstack%2Fsahara~master~Ic763c2b52501867aeee2b1d014ab1f9e9c84e145,openstack/sahara,master,Ic763c2b52501867aeee2b1d014ab1f9e9c84e145,Blacklist python-cinderclient 4.0.0,MERGED,2019-06-26 02:01:48.000000000,2019-07-03 16:04:37.000000000,2019-07-03 16:04:37.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-26 02:01:48.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/sahara/commit/ee46e8cb7f8267b5ddfcea8fe939855c44a55619', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\n\nChange-Id: Ic763c2b52501867aeee2b1d014ab1f9e9c84e145\n'}]",0,667490,ee46e8cb7f8267b5ddfcea8fe939855c44a55619,9,5,1,27822,,,0,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.

Change-Id: Ic763c2b52501867aeee2b1d014ab1f9e9c84e145
",git fetch https://review.opendev.org/openstack/sahara refs/changes/90/667490/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,ee46e8cb7f8267b5ddfcea8fe939855c44a55619,cinderclient,"python-cinderclient!=4.0.0,>=3.3.0 # Apache-2.0",python-cinderclient>=3.3.0 # Apache-2.0,1,1
openstack%2Fkolla~master~I346c06631ea4ed57ecec94aa31b787c649085346,openstack/kolla,master,I346c06631ea4ed57ecec94aa31b787c649085346,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-03 03:30:45.000000000,2019-07-03 16:01:44.000000000,2019-07-03 16:01:44.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-03 03:30:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/914c53622ea80ed99dc0285645ad730a8b8d5b00', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I346c06631ea4ed57ecec94aa31b787c649085346\n'}, {'number': 2, 'created': '2019-07-03 03:36:28.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/kolla/commit/3ada73ba6d34859a76b73bbd907c675630d93657', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I346c06631ea4ed57ecec94aa31b787c649085346\n'}]",0,668779,3ada73ba6d34859a76b73bbd907c675630d93657,11,5,2,28743,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I346c06631ea4ed57ecec94aa31b787c649085346
",git fetch https://review.opendev.org/openstack/kolla refs/changes/79/668779/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,914c53622ea80ed99dc0285645ad730a8b8d5b00,,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-brick-cinderclient-ext~master~I9e999382493c5e491fff9e003e68746b7e8302aa,openstack/python-brick-cinderclient-ext,master,I9e999382493c5e491fff9e003e68746b7e8302aa,Update to use static upper-constraints URL,MERGED,2019-06-21 15:32:30.000000000,2019-07-03 15:59:53.000000000,2019-07-03 15:59:53.000000000,"[{'_account_id': 1736}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 15:32:30.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-brick-cinderclient-ext/commit/47865bf3f77c0a0f116769c3131780c464bb46d5', 'message': 'Update to use static upper-constraints URL\n\nThere is a new upper-constraints URL to use that will make it easier to\nhandle when new stable branches are created. All projects should now be\nupdated to use these new static URLs hosted on releases.openstack.org.\n\nChange-Id: I9e999382493c5e491fff9e003e68746b7e8302aa\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,666867,47865bf3f77c0a0f116769c3131780c464bb46d5,6,2,1,11904,,,0,"Update to use static upper-constraints URL

There is a new upper-constraints URL to use that will make it easier to
handle when new stable branches are created. All projects should now be
updated to use these new static URLs hosted on releases.openstack.org.

Change-Id: I9e999382493c5e491fff9e003e68746b7e8302aa
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/python-brick-cinderclient-ext refs/changes/67/666867/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,47865bf3f77c0a0f116769c3131780c464bb46d5,u-c, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},3,3
openstack%2Fnova-specs~master~I5912498e7f5f449c44884d93585362e1a04185a9,openstack/nova-specs,master,I5912498e7f5f449c44884d93585362e1a04185a9,Add 'flavor-extra-spec-image-property-validation-extended' spec,MERGED,2019-02-22 17:54:36.000000000,2019-07-03 15:55:37.000000000,2019-07-03 15:55:37.000000000,"[{'_account_id': 782}, {'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-22 17:54:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/09c1279c49f7dac754c9715d5af7e2317f5eb7d5', 'message': ""Add 'flavor-extra-spec-image-property-validation' spec\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 2, 'created': '2019-02-25 16:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d2c759b6e000e6c9adf9814534275cd390d44aee', 'message': ""Add 'flavor-extra-spec-image-property-validation' spec\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 3, 'created': '2019-04-09 14:37:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/83b66fa2a0c9ebe17e0d3add469f431529bf5b2e', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 4, 'created': '2019-04-09 15:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9baa886e7a0a01a071fc39f24ef9da3a8dd83836', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 5, 'created': '2019-05-14 16:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/efefb374a4c5ca425e88807be01d38b138776128', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 6, 'created': '2019-05-20 10:07:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8f7b9ad03c51c415448a219ae35f3786887c86d1', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 7, 'created': '2019-05-20 10:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e3e589d64b599c7ab3f9f4ecf304318aa0330492', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 8, 'created': '2019-07-02 18:09:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/74cb610123f72f47424167bddbc0be84dd0debfe', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 9, 'created': '2019-07-03 15:32:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0f67ae4efd4707f794eea9a9420b8f7dcd444f38', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nBlueprint: flavor-extra-spec-image-property-validation\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}, {'number': 10, 'created': '2019-07-03 15:33:13.000000000', 'files': ['specs/train/approved/flavor-extra-spec-image-property-validation-extended.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9e4114fb4994aade7859f13308a94ffee599030a', 'message': ""Add 'flavor-extra-spec-image-property-validation-extended' spec\n\nIt's quite a mouthful, yes.\n\nBlueprint: flavor-extra-spec-image-property-validation-extended\n\nChange-Id: I5912498e7f5f449c44884d93585362e1a04185a9\nSigned-off-by: Stephen Finucane <stephenfin@redhat.com>\n""}]",123,638734,9e4114fb4994aade7859f13308a94ffee599030a,49,9,10,15334,,,0,"Add 'flavor-extra-spec-image-property-validation-extended' spec

It's quite a mouthful, yes.

Blueprint: flavor-extra-spec-image-property-validation-extended

Change-Id: I5912498e7f5f449c44884d93585362e1a04185a9
Signed-off-by: Stephen Finucane <stephenfin@redhat.com>
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/34/638734/10 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/flavor-extra-spec-image-property-validation.rst'],1,09c1279c49f7dac754c9715d5af7e2317f5eb7d5,bp/flavor-extra-spec-image-property-validation-extended,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ============================ Flavor Extra Spec Validation ============================ https://blueprints.launchpad.net/nova/+spec/flavor-extra-spec-validation Introduce a YAML-based schema describing flavor extra specs, image metadata properties, and the relationship between each. Problem description =================== Flavor extra specs are one of the Wild Wests aspects of nova. There are a number of issues we'd like to address: - Lack of documentation for many flavor extra specs and image metadata properties [1]_. Yes, we have Glance image metadata definitions but... - Outdated, incomplete or incorrect Glance metadata definitions. - No warnings if there is a typo in your extra spec, resulting in different behavior to that expected. - Some flavor extra specs have equivalent image metadata properties, but the precedence of these is not specified and varies between options. - No defined way to do things like deprecate a flavor extra spec, resulting in continued reinvention of the wheel. Use Cases --------- * As a deployer, I'd like to know what flavor extra specs and image metadata properties are available and why I'd want to use them. * As a deployer, I'd like nova to tell me when I've used a flavor extra spec that doesn't exist or has a typo in it. * As a developer, I'd like an easy way to deprecate flavor extra specs, which is something that will only become more common if we do things like move tracking of dedicated CPUs into placement. * As a documentation writer, I'd like to be able to cross-reference the various flavour extra specs and image metadata properties available. Proposed change =============== The core of this change is a new schema definition file. That file is a YAML-formatted file, which describes the flavour extra specs and image metadata properties available. A sample of the file is given at the end of this section. The YAML format is chosen as it allows us to define a specification in a declarative manner. TOML, JSON or XML are also all valid options. This file will be used at the earliest possible stage of the instance create, resize and rebuild operations to alert the user to possible issues. Initially, warnings will be emitted for things like invalid or conflicting flavor extra specs and image metadata properties. We may wish to introduce microversions to the APIs behind commands like :command:`openstack flavor set` and :command:`openstack image set` (the latter being owned by Glance) that will reject requests to set invalid properties, but that will be a future work item. Note that this change also builds upon :doc:`../stein/flavor-extra-spec-image-property-validation`, which should cover (or have covered) the flavor extra spec-image metadata property in a generic manner. If that is the not the case, we may need to attack that issue also. We also propose adding tooling to (a) render rST documentation from the spec file and (b) convert the spec file into Glance metadata definition files. Both of these tools will live within the nova tree, allowing us to remain the single source of truth for these things. .. code-block:: yaml --- extra_specs: - name: hw:numa_nodes description: > The number of NUMA nodes the guest should have. type: integer - name: hw:numa_cpus.{id} description: > A mapping of **guest** CPUs to the **guest** NUMA node identified by ``{id}``. This can be used to provide asymmetric CPU-NUMA allocation and is necessary where the number of guest NUMA nodes is is not a factor of the number of guest CPUs. parameters: - name: id type: integer description: The ID of the **guest** NUMA node. value: type: string format: '\d([-,]\d)?' # todo: this isn't complete - regex for ""1-4,^3,6"" description: > The guest CPUs, in the form of a CPU map, to allocate to the guest NUMA node identified by ``{id}``. - name: hw:numa_mem.{id} description: > A mapping of **guest** memory to the **guest** NUMA node identified by ``{id}``. This can be used to provide asymmetric CPU-NUMA allocation and is necessary where the number of guest NUMA nodes is is not a factor of the amount of guest memory. parameters: - name: id type: integer description: The ID of the **guest** NUMA node. value: type: integer description: > The amount of guest memory in MiB to allocate to the guest NUMA node identified by ``{id}``. requires: - hw:numa_nodes - name: hw:cpu_policy description: > The policy to apply when determining what host CPUs the guest CPUs can run on. If ``shared`` (default), guest CPUs can be overallocated but cannot float across host cores. If ``dedicated``, guest CPUS cannot be overallocated but are individually pinned to their own host core. value: type: string value: > The CPU policy. enum: - dedicated - shared requires: - hw:numa_nodes - name: hw:cpu_thread_policy description: > The policy to apply when determining how to treat host CPU thread siblings (HyperThreads) when using a CPU policy of ``dedicated``. If ``shared`` (default), guest CPUs can be overallocated but cannot float across host cores. If ``dedicated``, guest CPUS cannot be overallocated but are individually pinned to their own host core. value: type: string value: > The CPU policy. enum: - dedicated - shared requires: - hw:numa_nodes - hw:cpu_policy Alternatives ------------ * We could ignore some of the above issues and try to solve others in a piecemeal fashion. This will likely be far more tedious and time consuming as modifications will be needed in far more places. Data model impact ----------------- None. REST API impact --------------- None, initially. We may wish to add a REST API microversion to the API behind :command:`openstack flavor set` to catch invalid flavour extra specs, but that's a nice-to-have. As an alternative, we could add a REST API microversion to the APIs being the :command:`openstack server create`, :command:`openstack server resize` and :command:`openstack server rebuild` commands to fail the request as early as possible if invalid flavor extra spec or image metadata properties are detected. Security impact --------------- None. Notifications impact -------------------- None. Other end user impact --------------------- End users will have better documentation for the available flavour extra specs and image metadata properties. Performance Impact ------------------ None. Other deployer impact --------------------- None. Developer impact ---------------- Developers will now need to add new flavor extra specs to the YAML schema file or they will see warnings about unrecognized options. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: stephenfinucane Other contributors: None Work Items ---------- 1. Produce YAML specification for all in-tree flavor extra specs and image metadata properties. 2. Add code to validate this against the image metadata properties and flavor extra specs on instance create, resize and rebuild operations. 3. Add a Sphinx extension to render this spec into documentation and another tool to convert the spec into Glance metadata definitions. Dependencies ============ None. Testing ======= Unit tests. Documentation Impact ==================== There will be better docs, through the power of Sphinx. References ========== TODO. History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,277,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/queens,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-01 13:07:20.000000000,2019-07-03 15:53:52.000000000,2019-07-03 15:53:52.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 13:07:20.000000000', 'files': ['releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7ad2741d5e3585589359868b3ab00b783971d61e', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO. Keep those defaults in sync with that we need\nin the nova-compute & cinder-volume containers to avoid potential\nissues with ceph.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)\n'}]",0,668457,7ad2741d5e3585589359868b3ab00b783971d61e,11,4,1,6926,,,0,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/57/668457/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml', 'docker/services/nova-libvirt.yaml']",2,7ad2741d5e3585589359868b3ab00b783971d61e,bug/1762455," ContainerNovaLibvirtUlimit: default: ['nofile=131072', 'nproc=126960'] description: ulimit for Nova Libvirt Container type: comma_delimited_list ulimit: {get_param: ContainerNovaLibvirtUlimit} ulimit: {get_param: ContainerNovaLibvirtUlimit}",,11,0
openstack%2Ftripleo-heat-templates~stable%2Frocky~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/rocky,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-02 15:12:02.000000000,2019-07-03 15:52:52.000000000,2019-07-03 15:52:52.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 15:12:02.000000000', 'files': ['releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml', 'docker/services/nova-libvirt.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27cbefab71737b1970bf371b746041d6d332ccce', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO. Keep those defaults in sync with that we need\nin the nova-compute & cinder-volume containers to avoid potential\nissues with ceph.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)\n'}]",0,668688,27cbefab71737b1970bf371b746041d6d332ccce,10,5,1,6926,,,0,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/668688/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml', 'docker/services/nova-libvirt.yaml']",2,27cbefab71737b1970bf371b746041d6d332ccce,bug/1762455-stable/rocky," ContainerNovaLibvirtUlimit: default: ['nofile=131072', 'nproc=126960'] description: ulimit for Nova Libvirt Container type: comma_delimited_list ulimit: {get_param: ContainerNovaLibvirtUlimit} ulimit: {get_param: ContainerNovaLibvirtUlimit}",,11,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,stable/stein,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-02 15:13:41.000000000,2019-07-03 15:52:51.000000000,2019-07-03 15:52:51.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 15:13:41.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/581d2d544928c75de8c20f68c90846c4f9e9bfae', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO. Keep those defaults in sync with that we need\nin the nova-compute & cinder-volume containers to avoid potential\nissues with ceph.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)\n'}]",0,668690,581d2d544928c75de8c20f68c90846c4f9e9bfae,10,5,1,6926,,,0,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
(cherry picked from commit 8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/668690/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml']",2,581d2d544928c75de8c20f68c90846c4f9e9bfae,bug/1762455,"--- features: - | Add `ContainerNovaLibvirtUlimit` to configure Ulimit for containerized Libvirt. Defaults to ``nofile=131072,nproc=126960``. ",,11,0
openstack%2Ftripleo-heat-templates~stable%2Fqueens~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/queens,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 04:09:17.000000000,2019-07-03 15:52:49.000000000,2019-07-03 15:52:49.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 04:09:17.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/77f36d37a402cf36173ddc9edf558d382bcbb25b', 'message': ""Add missing tag 'role_specific' for NovaPciPassthrough parameter\n\nChange-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34\nCloses-Bug: #1834557\n(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)\n""}]",0,668590,77f36d37a402cf36173ddc9edf558d382bcbb25b,12,7,1,18575,,,0,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/668590/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,77f36d37a402cf36173ddc9edf558d382bcbb25b,, tags: - role_specific,,2,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,openstack/tripleo-heat-templates,stable/stein,I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,"Revert ""Remove os-collect-config related poperties and attributes""",ABANDONED,2019-07-03 11:48:20.000000000,2019-07-03 15:52:17.000000000,,"[{'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 11:48:20.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/16f91bc1a037eb8dcc1e31a89bb951f8a2b7d3f8', 'message': 'Revert ""Remove os-collect-config related poperties and attributes""\n\nThis reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.\n\nCloses-Bug:  #1834881\n\nChange-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd\n(cherry picked from commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6)\n'}]",0,668875,16f91bc1a037eb8dcc1e31a89bb951f8a2b7d3f8,5,5,1,11090,,,0,"Revert ""Remove os-collect-config related poperties and attributes""

This reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.

Closes-Bug:  #1834881

Change-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd
(cherry picked from commit b5a2a61dfea167ed96b52098dbd5807b3fae44a6)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/75/668875/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,16f91bc1a037eb8dcc1e31a89bb951f8a2b7d3f8,bug/1832441-stable/stein," metadata: os-collect-config: command: {get_param: ConfigCommand} splay: {get_param: ConfigCollectSplay} deployed_server_deployment_swift_data_map: description: Map of Heat created hostname of the server to the Swift container and object used to created the temporary url for metadata polling with os-collect-config. value: map_replace: - hostname: container: str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 5 object: str_split: - '?' - str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 6 - 0 - keys: {hostname: {get_param: Hostname}} os_collect_config: description: The os-collect-config configuration associated with this server resource value: {get_attr: [{{server_resource_name}}, os_collect_config]}",,55,0
openstack%2Fopenstack-helm-infra~master~Id48c3ee9976823b2bdb4395a029fe75476bdaa62,openstack/openstack-helm-infra,master,Id48c3ee9976823b2bdb4395a029fe75476bdaa62,Postgres PVC Soak Fix,MERGED,2019-07-02 17:43:23.000000000,2019-07-03 15:50:12.000000000,2019-07-03 15:50:12.000000000,"[{'_account_id': 7769}, {'_account_id': 8898}, {'_account_id': 12281}, {'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}, {'_account_id': 26449}, {'_account_id': 28275}, {'_account_id': 28718}]","[{'number': 1, 'created': '2019-07-02 17:43:23.000000000', 'files': ['postgresql/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a730bb34bfc5c7e7b7776f7b2e87ab305b5c104', 'message': ""Postgres PVC Soak Fix\n\nThis patch fixes an issue with Postgres HA where\nthe PVC which stores the database was filling up with\nWAL records and not deleting them due to some\nmisconfigurations with Postgres. Once the PVC\nwould fill up, replication would fail across the node\nand the database would not be able to start, crashing\nthe system.\n\nSpecifically, archive_mode was turned on, but was not\nsupplied with a function through which to archive the\nlogs. When WAL archiving is turned on, old WAL files\ncannot be removed until the system has archived them first.\nHowever, since we never told the system how to archive the\nfiles, it would repeatedly fail so the WAL files would\nnever be cleaned up.\n\nAlso in this patch are some small house keeping items:\n- Lowered the wal_keep_segments drastically so Postgres\n  can't keep as many WAL segments around to minimize the\n  chance of PVC fill issues\n- Turned the wal_level from 'logical' to 'hot_standby'\n  to keep it consistent with the fact that Patroni uses\n  streaming replication and not logical replication\n- Removed the autovaccuum configurations as they are not\n  needed\n\nChange-Id: Id48c3ee9976823b2bdb4395a029fe75476bdaa62\n""}]",0,668721,4a730bb34bfc5c7e7b7776f7b2e87ab305b5c104,13,12,1,28718,,,0,"Postgres PVC Soak Fix

This patch fixes an issue with Postgres HA where
the PVC which stores the database was filling up with
WAL records and not deleting them due to some
misconfigurations with Postgres. Once the PVC
would fill up, replication would fail across the node
and the database would not be able to start, crashing
the system.

Specifically, archive_mode was turned on, but was not
supplied with a function through which to archive the
logs. When WAL archiving is turned on, old WAL files
cannot be removed until the system has archived them first.
However, since we never told the system how to archive the
files, it would repeatedly fail so the WAL files would
never be cleaned up.

Also in this patch are some small house keeping items:
- Lowered the wal_keep_segments drastically so Postgres
  can't keep as many WAL segments around to minimize the
  chance of PVC fill issues
- Turned the wal_level from 'logical' to 'hot_standby'
  to keep it consistent with the fact that Patroni uses
  streaming replication and not logical replication
- Removed the autovaccuum configurations as they are not
  needed

Change-Id: Id48c3ee9976823b2bdb4395a029fe75476bdaa62
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/21/668721/1 && git format-patch -1 --stdout FETCH_HEAD,['postgresql/values.yaml'],1,4a730bb34bfc5c7e7b7776f7b2e87ab305b5c104,pvc_bug, archive_mode: 'off' wal_keep_segments: 8 wal_level: hot_standby archive_mode: 'off' wal_keep_segments: 8 wal_level: hot_standby, archive_mode: 'on' archive_timeout: 1800s autovacuum_analyze_scale_factor: 0.02 autovacuum_max_workers: 5 autovacuum_vacuum_scale_factor: 0.05 wal_keep_segments: 100 wal_level: 'logical' archive_mode: 'on' archive_timeout: 1800s autovacuum_analyze_scale_factor: 0.02 autovacuum_max_workers: 5 autovacuum_vacuum_scale_factor: 0.05 shared_buffers: {{ .Values.conf.postgresql.shared_buffers }} wal_keep_segments: 100 wal_level: 'logical',6,15
openstack%2Fpython-tripleoclient~stable%2Frocky~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,stable/rocky,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-07-02 15:12:25.000000000,2019-07-03 15:38:42.000000000,2019-07-03 15:37:02.000000000,"[{'_account_id': 10969}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-02 15:12:25.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cb976f672959f3a14360390d6bc8b6ba8e873fa2', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)\n(cherry picked from commit f78809a3e3122f268bcc8fa1a9c12974735654b9)\n'}]",0,668689,cb976f672959f3a14360390d6bc8b6ba8e873fa2,14,5,1,28223,,,0,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)
(cherry picked from commit f78809a3e3122f268bcc8fa1a9c12974735654b9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/89/668689/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,cb976f672959f3a14360390d6bc8b6ba8e873fa2,bug/1834307-stable/stein-stable/rocky, # Check networks_file existence if parsed_args.networks_file: if not os.path.isfile(parsed_args.networks_file): nonexisting_envs.append(parsed_args.networks_file) # check plan_environment_file existence if parsed_args.plan_environment_file: if not os.path.isfile(parsed_args.plan_environment_file): nonexisting_envs.append(parsed_args.plan_environment_file) # check answers_file existence if parsed_args.answers_file: if not os.path.isfile(parsed_args.answers_file): nonexisting_envs.append(parsed_args.answers_file) ,,16,0
openstack%2Fopenstack-helm~master~I26ea5b859ab3d494bd6432039d67683ee5632759,openstack/openstack-helm,master,I26ea5b859ab3d494bd6432039d67683ee5632759,[ceph] Cleanup install scripts for  duplicate variables,MERGED,2019-06-06 21:22:47.000000000,2019-07-03 15:34:04.000000000,2019-07-03 15:34:03.000000000,"[{'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29132}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-06 21:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/64ebefde483f6ab55f8eed94a9506e6e4f7b22fd', 'message': '[ceph] Cleanup install scripts for  duplicate variables\n\nThis is just to  remove duplicate variables from scripts.\n\nChange-Id: I26ea5b859ab3d494bd6432039d67683ee5632759\n'}, {'number': 2, 'created': '2019-06-06 22:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/cd2165be908081528ab02106ad63ebce32994cd0', 'message': '[ceph] Cleanup install scripts for  duplicate variables\n\nThis is just to  remove duplicate variables from scripts.\n\nChange-Id: I26ea5b859ab3d494bd6432039d67683ee5632759\n'}, {'number': 3, 'created': '2019-07-03 13:43:30.000000000', 'files': ['tools/deployment/component/ceph/ceph.sh', 'tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/f11a51fc61dcee4535d7c691a66b6f503e252076', 'message': '[ceph] Cleanup install scripts for  duplicate variables\n\nThis is just to  remove duplicate variables from scripts.\n\nChange-Id: I26ea5b859ab3d494bd6432039d67683ee5632759\n'}]",0,663775,f11a51fc61dcee4535d7c691a66b6f503e252076,11,5,3,28372,,,0,"[ceph] Cleanup install scripts for  duplicate variables

This is just to  remove duplicate variables from scripts.

Change-Id: I26ea5b859ab3d494bd6432039d67683ee5632759
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/75/663775/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/deployment/developer/ceph/040-ceph.sh', 'tools/deployment/multinode/030-ceph.sh']",2,64ebefde483f6ab55f8eed94a9506e6e4f7b22fd,,,manifests: cronjob_checkPGs: true,0,8
openstack%2Fcharm-keystone~master~Ie160095789f5c34bc3509ffce4a7c5c0ec430632,openstack/charm-keystone,master,Ie160095789f5c34bc3509ffce4a7c5c0ec430632,Ensure federated identity backend are TLS aware,MERGED,2019-07-03 13:22:50.000000000,2019-07-03 15:28:33.000000000,2019-07-03 15:28:33.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 13:22:50.000000000', 'files': ['unit_tests/test_keystone_hooks.py', 'hooks/keystone_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-keystone/commit/15250435f69b6ca4ed024bb68d941243fa57bcde', 'message': 'Ensure federated identity backend are TLS aware\n\nWhen the certificates endpoint has completed TLS configuration\nvia Vault, ensure that any federated identity backends are\nupdated for the switch to TLS, other the generated SP data\nincorrectly used http:// instead of https://\n\nCloses-Bug: 1834442\n\nChange-Id: Ie160095789f5c34bc3509ffce4a7c5c0ec430632\n'}]",0,668903,15250435f69b6ca4ed024bb68d941243fa57bcde,7,3,1,935,,,0,"Ensure federated identity backend are TLS aware

When the certificates endpoint has completed TLS configuration
via Vault, ensure that any federated identity backends are
updated for the switch to TLS, other the generated SP data
incorrectly used http:// instead of https://

Closes-Bug: 1834442

Change-Id: Ie160095789f5c34bc3509ffce4a7c5c0ec430632
",git fetch https://review.opendev.org/openstack/charm-keystone refs/changes/03/668903/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_keystone_hooks.py', 'hooks/keystone_hooks.py']",2,15250435f69b6ca4ed024bb68d941243fa57bcde,bug/1834442, update_all_fid_backends(),,5,1
openstack%2Fkolla-ansible~master~I94f875ebe522154eb3318feffbe72019c43fd66e,openstack/kolla-ansible,master,I94f875ebe522154eb3318feffbe72019c43fd66e,Fix the build-openstack-deploy-guide failed,ABANDONED,2019-07-03 05:25:25.000000000,2019-07-03 15:28:28.000000000,,"[{'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-03 05:25:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/e8352ea09da5414b470ac64fdb58b75feb66e58a', 'message': 'Fix the build-openstack-deploy-guide faild\n\nmore info http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020\n\nChange-Id: I94f875ebe522154eb3318feffbe72019c43fd66e\n'}, {'number': 2, 'created': '2019-07-03 05:34:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/4bd02f544fdb7cbd30903de02661dab6c3f821a2', 'message': 'Fix the build-openstack-deploy-guide failed\n\nThe admin/image-building.rst is not exists in kolla-ansible,\nit will result in the zuul failed[1], update to URL to\nfix it.\n\n[1]: http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020\n\nChange-Id: I94f875ebe522154eb3318feffbe72019c43fd66e\n'}, {'number': 3, 'created': '2019-07-03 05:38:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8cdaf966e7e3bbb03b75a6da07a117a0fd8cff59', 'message': 'Fix the build-openstack-deploy-guide failed\n\nThe admin/image-building.rst is not exists in kolla-ansible,\nit will result in the zuul failed[1], update to URL to\nfix it.\n\n[1]: http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020\n\nChange-Id: I94f875ebe522154eb3318feffbe72019c43fd66e\n'}, {'number': 4, 'created': '2019-07-03 06:44:38.000000000', 'files': ['doc/source/user/quickstart.rst'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/874e8b58ef37a6c4fdcd73b5d6cf43ae0bc9b52b', 'message': 'Fix the build-openstack-deploy-guide failed\n\nmore error info: http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020\n\nChange-Id: I94f875ebe522154eb3318feffbe72019c43fd66e\n'}]",1,668786,874e8b58ef37a6c4fdcd73b5d6cf43ae0bc9b52b,12,4,4,30356,,,0,"Fix the build-openstack-deploy-guide failed

more error info: http://logs.openstack.org/73/668773/2/check/build-openstack-deploy-guide/70bc34c/job-output.txt.gz#_2019-07-03_02_46_44_645020

Change-Id: I94f875ebe522154eb3318feffbe72019c43fd66e
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/86/668786/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/quickstart.rst'],1,e8352ea09da5414b470ac64fdb58b75feb66e58a,," mechanism, please refer `Building Container Images <https://docs.openstack.org/kolla/latest/admin/image-building.html>`_. "," mechanism, please refer :kolla-doc:`Building Container Images <admin/image-building.html>`.",2,2
openstack%2Fpython-keystoneclient~master~Ia235adfd512e0196b4b13eed900abfd9414f62e4,openstack/python-keystoneclient,master,Ia235adfd512e0196b4b13eed900abfd9414f62e4,Sync Sphinx requirement,ABANDONED,2019-06-18 17:08:22.000000000,2019-07-03 15:24:35.000000000,,"[{'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28614}]","[{'number': 1, 'created': '2019-06-18 17:08:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/bc7aa3d8e68889f9bf894db1a3b11662bc328422', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. cleanup of .keys() from dict_object.keys() *in* operator\n\nChange-Id: Ia235adfd512e0196b4b13eed900abfd9414f62e4\n'}, {'number': 2, 'created': '2019-06-19 00:44:42.000000000', 'files': ['keystoneclient/base.py', 'lower-constraints.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/1dcc99f974f8518c38e8b7b45523865bb85f23b3', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. cleanup of .keys() from dict_object.keys() *in* operator\n\nChange-Id: Ia235adfd512e0196b4b13eed900abfd9414f62e4\n'}]",2,666065,1dcc99f974f8518c38e8b7b45523865bb85f23b3,7,3,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. cleanup of .keys() from dict_object.keys() *in* operator

Change-Id: Ia235adfd512e0196b4b13eed900abfd9414f62e4
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/65/666065/1 && git format-patch -1 --stdout FETCH_HEAD,"['keystoneclient/base.py', 'doc/requirements.txt']",2,bc7aa3d8e68889f9bf894db1a3b11662bc328422,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",4,3
openstack%2Fopenstack-helm-infra~master~Iaa2b23c464a3422fb9340d7691631482e503ab18,openstack/openstack-helm-infra,master,Iaa2b23c464a3422fb9340d7691631482e503ab18,WIP/DNM Set min_ready ratios for Armada LMA controller types,ABANDONED,2019-06-27 14:52:23.000000000,2019-07-03 15:16:17.000000000,,"[{'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-27 14:52:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/52d11acd34df80377c461fe95f561759a01d7550', 'message': 'WIP Set min_ready ratios for Armada LMA controller types\n\nChange-Id: Iaa2b23c464a3422fb9340d7691631482e503ab18\n'}, {'number': 2, 'created': '2019-06-27 16:04:38.000000000', 'files': ['zuul.d/project.yaml', 'tools/deployment/armada/manifests/armada-lma.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/7a6b227c4795c683072d484cb1d807ed035c23fa', 'message': 'WIP/DNM Set min_ready ratios for Armada LMA controller types\n\nChange-Id: Iaa2b23c464a3422fb9340d7691631482e503ab18\n'}]",1,667950,7a6b227c4795c683072d484cb1d807ed035c23fa,5,2,2,28849,,,0,"WIP/DNM Set min_ready ratios for Armada LMA controller types

Change-Id: Iaa2b23c464a3422fb9340d7691631482e503ab18
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/50/667950/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/armada/manifests/armada-lma.yaml'],1,52d11acd34df80377c461fe95f561759a01d7550,armada-lma/min_ready, min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100% min_ready: 100%,,13,0
openstack%2Fwatcher~master~I11f7aafdfb3a45569b021df748ea32ebddc4ba6b,openstack/watcher,master,I11f7aafdfb3a45569b021df748ea32ebddc4ba6b,Add Python 3 Train unit tests,MERGED,2019-07-01 06:57:26.000000000,2019-07-03 15:14:53.000000000,2019-07-03 15:14:53.000000000,"[{'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-07-01 06:57:26.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/watcher/commit/148ae3688d706bce8a93e422159530160158f708', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I11f7aafdfb3a45569b021df748ea32ebddc4ba6b\n'}]",0,668362,148ae3688d706bce8a93e422159530160158f708,12,3,1,27822,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I11f7aafdfb3a45569b021df748ea32ebddc4ba6b
",git fetch https://review.opendev.org/openstack/watcher refs/changes/62/668362/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,148ae3688d706bce8a93e422159530160158f708,python3-train,"envlist = py36,py37,py27,pep8","envlist = py36, py27,pep8",3,3
openstack%2Fvitrage-dashboard~master~Ide32366aaa21750619afc73c19be7ed9a9e15894,openstack/vitrage-dashboard,master,Ide32366aaa21750619afc73c19be7ed9a9e15894,Update the constraints url,MERGED,2019-07-01 14:03:58.000000000,2019-07-03 15:07:14.000000000,2019-07-03 15:07:14.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-01 14:03:58.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/vitrage-dashboard/commit/1f39f50f4a083fa8444c2e7d0b20c5d5f7c5ad80', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ide32366aaa21750619afc73c19be7ed9a9e15894\n'}]",0,668473,1f39f50f4a083fa8444c2e7d0b20c5d5f7c5ad80,8,5,1,29313,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ide32366aaa21750619afc73c19be7ed9a9e15894
",git fetch https://review.opendev.org/openstack/vitrage-dashboard refs/changes/73/668473/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,1f39f50f4a083fa8444c2e7d0b20c5d5f7c5ad80,, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},2,2
openstack%2Fhorizon~master~I4f61870175081f70e11f617930b1a5f5d38520c8,openstack/horizon,master,I4f61870175081f70e11f617930b1a5f5d38520c8,Horizon template loader to index by actual panel directory,NEW,2016-01-22 09:33:19.000000000,2019-07-03 15:01:55.000000000,,"[{'_account_id': 3}, {'_account_id': 1736}, {'_account_id': 10881}, {'_account_id': 12071}, {'_account_id': 14151}, {'_account_id': 22348}, {'_account_id': 29313}]","[{'number': 1, 'created': '2016-01-22 09:33:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/ee2554693e9803be2643a9789d69f445e9d59d11', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 2, 'created': '2016-01-22 19:49:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/7fdb147a7e18b22cd586b7b0bff99d79968a2538', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 3, 'created': '2016-01-25 21:56:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/60d828c54f14fd794148dfdb6a88d113509de92c', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 4, 'created': '2016-01-25 23:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/51eb7ef282627c05af18eaff0da8c754ff53aacc', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 5, 'created': '2016-01-26 00:43:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/8ca9a17ef744a4d008fc5557ea21cfb3f1c8c9b9', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 6, 'created': '2016-07-19 04:28:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/4187f98315cd4f6151c67d3a1fd683196e2f2f53', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 7, 'created': '2019-07-01 03:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/23ba10598c1a1ca97740a0101ee4163673655d30', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}, {'number': 8, 'created': '2019-07-01 05:29:26.000000000', 'files': ['horizon/base.py', 'horizon/loaders.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/6173505cc37c3f651d1e72917eb83fe76f462415', 'message': 'Horizon template loader to index by actual panel directory\n\nSince the introduction of Pluggable Settings, specifically\nPANEL_DASHBOARD, panel can now be reassigned to a different dashboard\nthan the directory structure would suggest. This extends the indexing\nlogic to maintain a lookup dict with keys derived from the actual\npanel directory as well.\n\nChange-Id: I4f61870175081f70e11f617930b1a5f5d38520c8\nCloses-Bug: #1533910\n'}]",1,271201,6173505cc37c3f651d1e72917eb83fe76f462415,21,7,8,14078,,,0,"Horizon template loader to index by actual panel directory

Since the introduction of Pluggable Settings, specifically
PANEL_DASHBOARD, panel can now be reassigned to a different dashboard
than the directory structure would suggest. This extends the indexing
logic to maintain a lookup dict with keys derived from the actual
panel directory as well.

Change-Id: I4f61870175081f70e11f617930b1a5f5d38520c8
Closes-Bug: #1533910
",git fetch https://review.opendev.org/openstack/horizon refs/changes/01/271201/1 && git format-patch -1 --stdout FETCH_HEAD,"['horizon/base.py', 'horizon/loaders.py']",2,ee2554693e9803be2643a9789d69f445e9d59d11,bug/1533910,panel_template_dirs_logical = {} panel_template_dirs_actual = {} template_dir = None if key in panel_template_dirs_logical: template_dir = panel_template_dirs_logical[key] elif key in panel_template_dirs_actual: template_dir = panel_template_dirs_actual[key] if template_dir:,panel_template_dirs = {} if key in panel_template_dirs: template_dir = panel_template_dirs[key],16,5
openstack%2Fopenstack-helm-infra~master~Id1d63d8c99850b960eb352361d7796162bd6be2f,openstack/openstack-helm-infra,master,Id1d63d8c99850b960eb352361d7796162bd6be2f,Nagios: Add init container for generating hosts,MERGED,2019-06-28 16:16:51.000000000,2019-07-03 14:59:36.000000000,2019-07-03 14:59:36.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-28 16:16:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6cfee8244d8577c256b73a6aa07f3b254795631e', 'message': ""WIP: Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 2, 'created': '2019-06-28 17:31:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6f556a0c5d9d16e5345f200c6b50a38e6f919cd5', 'message': ""WIP: Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 3, 'created': '2019-07-01 13:06:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/76125973675ce0f21453968bb37b3d373ecfd117', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 4, 'created': '2019-07-01 13:07:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/08ad7cd1bcdc99080f33ebedc5b19a0541b18404', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 5, 'created': '2019-07-01 14:06:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/798167f59a1c50934a8ad279003dd2354375e4b4', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 6, 'created': '2019-07-01 15:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ede9c4d017b4c514aa057fbc8736bce8ed35825', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 7, 'created': '2019-07-01 16:15:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ba4ed25d94597589b732d86acde8383554b0b2d1', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}, {'number': 8, 'created': '2019-07-02 15:48:12.000000000', 'files': ['nagios/templates/deployment.yaml', 'nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/cb35bd16164ab7d9e2df0fdc27c3d8f28d44a0d0', 'message': ""Nagios: Add init container for generating hosts\n\nThis updates the Nagios chart to include an init container for\ngenerating the host and host group definitions Nagios requires to\nfunction. The benefit is that Nagios does not need to constantly\nattempt to update its host and host group definitions, which\ncurrently triggers a restart of the Nagios service even in cases\nwhere the host file hasn't changed.  With the introduction of an\ninit container for handling this, we can also remove the service\ncheck definition and command definition for executing the plugin\nat periodic intervals\n\nDepends-On: https://review.opendev.org/668197\n\nChange-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,668200,cb35bd16164ab7d9e2df0fdc27c3d8f28d44a0d0,20,3,8,17591,,,0,"Nagios: Add init container for generating hosts

This updates the Nagios chart to include an init container for
generating the host and host group definitions Nagios requires to
function. The benefit is that Nagios does not need to constantly
attempt to update its host and host group definitions, which
currently triggers a restart of the Nagios service even in cases
where the host file hasn't changed.  With the introduction of an
init container for handling this, we can also remove the service
check definition and command definition for executing the plugin
at periodic intervals

Depends-On: https://review.opendev.org/668197

Change-Id: Id1d63d8c99850b960eb352361d7796162bd6be2f
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/00/668200/8 && git format-patch -1 --stdout FETCH_HEAD,"['nagios/templates/deployment.yaml', 'nagios/values.yaml']",2,6cfee8244d8577c256b73a6aa07f3b254795631e,nagios-init-hosts, cfg_file=/opt/nagios/etc/conf.d/nagios-hosts.cfg, command_line $USER1$/check_update_prometheus_hosts.py --prometheus_api $USER2$ --object_file_loc /opt/nagios/etc/objects/prometheus_discovery_objects.cfg command_name check_prometheus_hosts } define command { check_command check_prometheus_hosts check_interval 900 hostgroup_name prometheus-hosts service_description Prometheus_hosts-update use notifying_service } define service { cfg_file=/opt/nagios/etc/objects/prometheus_discovery_objects.cfg,17,14
openstack%2Frpm-packaging~master~I88135780c5a0eb8a25303e224566c0b16ea3bbc7,openstack/rpm-packaging,master,I88135780c5a0eb8a25303e224566c0b16ea3bbc7,oslotest: Add patch to fix current build failures,MERGED,2019-07-03 11:15:02.000000000,2019-07-03 14:58:33.000000000,2019-07-03 14:58:33.000000000,"[{'_account_id': 6593}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-03 11:15:02.000000000', 'files': ['openstack/oslotest/0001-Stop-testing-mock-functionality.patch', 'openstack/oslotest/oslotest.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/5fdcab1d9476fee06adcc85481e7d88e15ec8e5e', 'message': 'oslotest: Add patch to fix current build failures\n\nChange-Id: I88135780c5a0eb8a25303e224566c0b16ea3bbc7\n'}]",0,668865,5fdcab1d9476fee06adcc85481e7d88e15ec8e5e,8,4,1,7102,,,0,"oslotest: Add patch to fix current build failures

Change-Id: I88135780c5a0eb8a25303e224566c0b16ea3bbc7
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/65/668865/1 && git format-patch -1 --stdout FETCH_HEAD,"['openstack/oslotest/0001-Stop-testing-mock-functionality.patch', 'openstack/oslotest/oslotest.spec.j2']",2,5fdcab1d9476fee06adcc85481e7d88e15ec8e5e,,Patch0: 0001-Stop-testing-mock-functionality.patch%autosetup -p1 -n oslotest-%{version},%autosetup -n oslotest-%{version},44,1
openstack%2Ffreezer~master~I52bd48a18fa0354840bfb7d47b84671eac88619b,openstack/freezer,master,I52bd48a18fa0354840bfb7d47b84671eac88619b,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-07 02:16:46.000000000,2019-07-03 14:58:32.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-07 02:16:46.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/freezer/commit/2e6f8442943fb363903412bacb48adc3ab809c37', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: I52bd48a18fa0354840bfb7d47b84671eac88619b\n'}]",0,663823,2e6f8442943fb363903412bacb48adc3ab809c37,3,1,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: I52bd48a18fa0354840bfb7d47b84671eac88619b
",git fetch https://review.opendev.org/openstack/freezer refs/changes/23/663823/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,2e6f8442943fb363903412bacb48adc3ab809c37,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fhorizon~master~I7de31d811e4c339b303db36ba2b42e467289d2a9,openstack/horizon,master,I7de31d811e4c339b303db36ba2b42e467289d2a9,Unify volume type extra specs dialogue,NEW,2019-06-18 09:59:12.000000000,2019-07-03 14:57:54.000000000,,"[{'_account_id': 841}, {'_account_id': 1736}, {'_account_id': 8648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 09:59:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/horizon/commit/910f4856a83543b63a5da443ddf87497ca3efafc', 'message': 'Unify volume type extra specs dialogue\n\nWhen a user create, edit or delete ""extra spec""\nunder volume type panel it will redirect it to\n\'horizon:admin:volume_types:extras:index\' after sucessful operation.\nThis patch changes the sucess url to \'horizon:admin:volume_types:index\'\nsimilar to what is done in group type specs.\n\nChange-Id: I7de31d811e4c339b303db36ba2b42e467289d2a9\nCloses-Bug: #1519560\n'}, {'number': 2, 'created': '2019-06-18 15:52:09.000000000', 'files': ['openstack_dashboard/dashboards/admin/volume_types/extras/tables.py', 'openstack_dashboard/dashboards/admin/volume_types/extras/tests.py', 'openstack_dashboard/dashboards/admin/volume_types/extras/views.py'], 'web_link': 'https://opendev.org/openstack/horizon/commit/d9376b6c66b73079425baf6de66b5963bc3065de', 'message': 'Unify volume type extra specs dialogue\n\nWhen a user create, edit or delete ""extra spec""\nunder volume type panel it will redirect it to\n\'horizon:admin:volume_types:extras:index\' after sucessful operation.\nThis patch changes the sucess url to \'horizon:admin:volume_types:index\'\nsimilar to what is done in group type specs.\n\nChange-Id: I7de31d811e4c339b303db36ba2b42e467289d2a9\nCloses-Bug: #1519560\n'}]",0,665932,d9376b6c66b73079425baf6de66b5963bc3065de,8,4,2,29313,,,0,"Unify volume type extra specs dialogue

When a user create, edit or delete ""extra spec""
under volume type panel it will redirect it to
'horizon:admin:volume_types:extras:index' after sucessful operation.
This patch changes the sucess url to 'horizon:admin:volume_types:index'
similar to what is done in group type specs.

Change-Id: I7de31d811e4c339b303db36ba2b42e467289d2a9
Closes-Bug: #1519560
",git fetch https://review.opendev.org/openstack/horizon refs/changes/32/665932/2 && git format-patch -1 --stdout FETCH_HEAD,"['openstack_dashboard/dashboards/admin/volume_types/extras/tables.py', 'openstack_dashboard/dashboards/admin/volume_types/extras/views.py']",2,910f4856a83543b63a5da443ddf87497ca3efafc,bug/1519560, success_url = 'horizon:admin:volume_types:index' return reverse(self.success_url) success_url = 'horizon:admin:volume_types:index' return reverse(self.success_url)," success_url = 'horizon:admin:volume_types:extras:index' return reverse(self.success_url, args=(self.kwargs['type_id'],)) success_url = 'horizon:admin:volume_types:extras:index' return reverse(self.success_url, args=(self.kwargs['type_id'],))",7,6
openstack%2Fautomaton~master~Ied4095b176b20795f6a8d4d7a84d01d958d76896,openstack/automaton,master,Ied4095b176b20795f6a8d4d7a84d01d958d76896,Sync Sphinx requirement,MERGED,2019-06-18 14:29:29.000000000,2019-07-03 14:55:23.000000000,2019-07-03 14:55:23.000000000,"[{'_account_id': 9796}, {'_account_id': 15334}, {'_account_id': 17685}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 28614}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-06-18 14:29:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/automaton/commit/945f8459adda21dbf41bfc8c6fed49adaf1c39f0', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Ied4095b176b20795f6a8d4d7a84d01d958d76896\n'}, {'number': 2, 'created': '2019-06-18 16:57:58.000000000', 'files': ['doc/source/index.rst', 'doc/source/user/index.rst', 'test-requirements.txt', 'lower-constraints.txt', 'HACKING.rst'], 'web_link': 'https://opendev.org/openstack/automaton/commit/d92ea1f8be490e5c47aed72dc7ed114372f0b9bd', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n2. Remove unncessary ""==""\n\nChange-Id: Ied4095b176b20795f6a8d4d7a84d01d958d76896\n'}]",0,665997,d92ea1f8be490e5c47aed72dc7ed114372f0b9bd,23,7,2,28614,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.
2. Remove unncessary ""==""

Change-Id: Ied4095b176b20795f6a8d4d7a84d01d958d76896
",git fetch https://review.opendev.org/openstack/automaton refs/changes/97/665997/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/index.rst', 'doc/source/user/index.rst', 'test-requirements.txt', 'HACKING.rst']",4,945f8459adda21dbf41bfc8c6fed49adaf1c39f0,,============================,===============================================,9,8
openstack%2Fsahara-dashboard~master~I803117010bfbf6a7a5a17c1f6ca6109fc465e187,openstack/sahara-dashboard,master,I803117010bfbf6a7a5a17c1f6ca6109fc465e187,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:26:08.000000000,2019-07-03 14:53:34.000000000,2019-07-03 14:53:34.000000000,"[{'_account_id': 8932}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-28 03:26:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/5593742cb5afcef697454c480af2f5d6a25bfaa7', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I803117010bfbf6a7a5a17c1f6ca6109fc465e187\n'}, {'number': 2, 'created': '2019-07-01 02:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/d5284aa3af64bc9fb2bda4f0077f509ea223751d', 'message': 'Bump openstackdocstheme to 1.20.0\n\nChange-Id: I803117010bfbf6a7a5a17c1f6ca6109fc465e187\n'}, {'number': 3, 'created': '2019-07-01 07:47:03.000000000', 'files': ['doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara-dashboard/commit/a97d060ab919afbcd50859a3c921828ae1da342b', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I803117010bfbf6a7a5a17c1f6ca6109fc465e187\n'}]",1,668082,a97d060ab919afbcd50859a3c921828ae1da342b,20,5,3,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: I803117010bfbf6a7a5a17c1f6ca6109fc465e187
",git fetch https://review.opendev.org/openstack/sahara-dashboard refs/changes/82/668082/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5593742cb5afcef697454c480af2f5d6a25bfaa7,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,1,1
openstack%2Fkuryr-tempest-plugin~master~I1066713defcc77e8d1cf1a599edcc2922e535646,openstack/kuryr-tempest-plugin,master,I1066713defcc77e8d1cf1a599edcc2922e535646,Ensure empty/fail replies are not counted,MERGED,2019-07-01 16:54:22.000000000,2019-07-03 14:50:20.000000000,2019-07-03 14:50:19.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-07-01 16:54:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/a55ede21ac71efed5fa9aa49adb9408c6add036b', 'message': 'Ensure empty/fail replies are not counted\n\nChange-Id: I1066713defcc77e8d1cf1a599edcc2922e535646\n'}, {'number': 2, 'created': '2019-07-02 08:53:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/15efa1a4c9a199e11b344513db96f75307e8fd38', 'message': 'Ensure empty/fail replies are not counted\n\nThis patch removes the empty replies from the response, and it\nalso makes sure we wait enough (increase the number of retries)\nfor the service to be ready\n\nChange-Id: I1066713defcc77e8d1cf1a599edcc2922e535646\n'}, {'number': 3, 'created': '2019-07-02 15:25:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/93e8eebec925260201725607b2c796eb2d11832d', 'message': 'Ensure empty/fail replies are not counted\n\nThis patch removes the empty replies from the response, and it\nalso makes sure we wait enough (increase the number of retries)\nfor the service to be ready\n\nChange-Id: I1066713defcc77e8d1cf1a599edcc2922e535646\n'}, {'number': 4, 'created': '2019-07-02 15:32:21.000000000', 'files': ['kuryr_tempest_plugin/tests/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/8a20593db2c7e0aa7ccc01729d113083476849e2', 'message': 'Ensure empty/fail replies are not counted\n\nThis patch removes the empty replies from the response, and it\nalso makes sure we wait enough (increase the number of retries)\nfor the service to be ready\n\nChange-Id: I1066713defcc77e8d1cf1a599edcc2922e535646\n'}]",1,668528,8a20593db2c7e0aa7ccc01729d113083476849e2,26,7,4,23567,,,0,"Ensure empty/fail replies are not counted

This patch removes the empty replies from the response, and it
also makes sure we wait enough (increase the number of retries)
for the service to be ready

Change-Id: I1066713defcc77e8d1cf1a599edcc2922e535646
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/28/668528/4 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/scenario/base.py'],1,a55ede21ac71efed5fa9aa49adb9408c6add036b,real-resp, unique_resps = set(resp for resp in responses if resp), unique_resps = set(resp for resp in responses),1,1
openstack%2Fpuppet-nova~master~I87e9c1af1a4b400d3c90c97418050bebde4d4c91,openstack/puppet-nova,master,I87e9c1af1a4b400d3c90c97418050bebde4d4c91,Remove deprecated vendordata* params from api/metadata,MERGED,2019-07-02 12:07:57.000000000,2019-07-03 14:45:11.000000000,2019-07-03 14:45:11.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 12:07:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c957f8374bd346892ebf90a3bf841454132dbe6e', 'message': 'Remove deprecated vendordata* params from api/metadata\n\nThe deprecated ``vendordata*`` config option has been\nremoved from api and metadata class.\n\nChange-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91\n'}, {'number': 2, 'created': '2019-07-02 12:10:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e5b33fa2c4abb93ec70ffe13c9f10c5512d957a9', 'message': 'Remove deprecated vendordata* params from api/metadata\n\nThe deprecated ``vendordata*`` config option has been\nremoved from api and metadata class.\n\nChange-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91\n'}, {'number': 3, 'created': '2019-07-02 13:15:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/ad7b34647ef3b0b9c356c3ba415946ad9ea676ed', 'message': 'Remove deprecated vendordata* params from api/metadata\n\nThe deprecated ``vendordata*`` config option has been\nremoved from api and metadata class.\n\nChange-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91\n'}, {'number': 4, 'created': '2019-07-03 06:46:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7600ae9612ee5a58abaf0efa98490d5bc483358a', 'message': 'Remove deprecated vendordata* params from api/metadata\n\nThe deprecated ``vendordata*`` config option has been\nremoved from api and metadata class.\n\nChange-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91\n'}, {'number': 5, 'created': '2019-07-03 07:38:07.000000000', 'files': ['spec/classes/nova_api_spec.rb', 'manifests/metadata.pp', 'releasenotes/notes/remove_deprecated_vendordata_options-ce1999402a25804e.yaml', 'manifests/api.pp', 'spec/classes/nova_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/296b10691680dd364ba8eaa0e938f9691c3744bb', 'message': 'Remove deprecated vendordata* params from api/metadata\n\nThe deprecated ``vendordata*`` config option has been\nremoved from api and metadata class.\n\nChange-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91\n'}]",2,668663,296b10691680dd364ba8eaa0e938f9691c3744bb,21,7,5,17216,,,0,"Remove deprecated vendordata* params from api/metadata

The deprecated ``vendordata*`` config option has been
removed from api and metadata class.

Change-Id: I87e9c1af1a4b400d3c90c97418050bebde4d4c91
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/63/668663/5 && git format-patch -1 --stdout FETCH_HEAD,"['spec/classes/nova_api_spec.rb', 'manifests/metadata.pp', 'releasenotes/notes/remove_deprecated_vendordata_options-ce1999402a25804e.yaml', 'manifests/api.pp', 'spec/classes/nova_metadata_spec.rb']",5,c957f8374bd346892ebf90a3bf841454132dbe6e,remove_deprecated_vendordata,," :vendordata_jsonfile_path => '/tmp', :vendordata_providers => ['StaticJSON', 'DynamicJSON'], :vendordata_dynamic_targets => ['join@http://127.0.0.1:9999/v1/'], :vendordata_dynamic_connect_timeout => 30, :vendordata_dynamic_read_timeout => 30, :vendordata_dynamic_failure_fatal => false, :vendordata_dynamic_auth_auth_type => 'password', :vendordata_dynamic_auth_auth_url => 'http://127.0.0.1:5000', :vendordata_dynamic_auth_os_region_name => 'RegionOne', :vendordata_dynamic_auth_password => 'secrete', :vendordata_dynamic_auth_project_domain_name => 'Default', :vendordata_dynamic_auth_project_name => 'project', :vendordata_dynamic_auth_user_domain_name => 'Default', :vendordata_dynamic_auth_username => 'user', is_expected.to contain_nova_config('api/vendordata_jsonfile_path').with('value' => '/tmp') is_expected.to contain_nova_config('api/vendordata_providers').with('value' => 'StaticJSON,DynamicJSON') is_expected.to contain_nova_config('api/vendordata_dynamic_targets').with('value' => 'join@http://127.0.0.1:9999/v1/') is_expected.to contain_nova_config('api/vendordata_dynamic_connect_timeout').with('value' => '30') is_expected.to contain_nova_config('api/vendordata_dynamic_read_timeout').with('value' => '30') is_expected.to contain_nova_config('api/vendordata_dynamic_failure_fatal').with('value' => false) is_expected.to contain_nova_config('vendordata_dynamic_auth/auth_type').with('value' => 'password') is_expected.to contain_nova_config('vendordata_dynamic_auth/auth_url').with('value' => 'http://127.0.0.1:5000') is_expected.to contain_nova_config('vendordata_dynamic_auth/os_region_name').with('value' => 'RegionOne') is_expected.to contain_nova_config('vendordata_dynamic_auth/password').with('value' => 'secrete').with_secret(true) is_expected.to contain_nova_config('vendordata_dynamic_auth/project_domain_name').with('value' => 'Default') is_expected.to contain_nova_config('vendordata_dynamic_auth/project_name').with('value' => 'project') is_expected.to contain_nova_config('vendordata_dynamic_auth/user_domain_name').with('value' => 'Default') is_expected.to contain_nova_config('vendordata_dynamic_auth/username').with('value' => 'user')",5,190
openstack%2Fdevstack~master~If9a02b640e6c2e1300c7b11b7552ba13c1496d79,openstack/devstack,master,If9a02b640e6c2e1300c7b11b7552ba13c1496d79,nova: Set '[neutron] default_floating_pool' instead,MERGED,2019-05-22 09:48:25.000000000,2019-07-03 14:35:49.000000000,2019-07-03 14:35:49.000000000,"[{'_account_id': 4146}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-22 09:48:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/609b673e796e019a5c5e3592224d76c55212df0e', 'message': ""nova: Set '[neutron] default_floating_pool' instead\n\nIn change I2ce8ff3d7c33a402b8af50182ec01f512859c388, we duplicated the\n'default_floating_pool' option, found in the '[DEFAULT]' group, to the\n'[neutron]' group. This allowed us to continue with our deprecation\nplans for the former option, which should be retired along with\nnova-network.\n\nUpdate the nova lib module so it'll set the new option, we can safely\nassume to be the correct one now that we've removed support for cells v1\nand nova-network.\n\nChange-Id: If9a02b640e6c2e1300c7b11b7552ba13c1496d79\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}, {'number': 2, 'created': '2019-05-31 14:16:10.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/283e86fbb59aa11afb21b916d3a106e442baee0e', 'message': ""nova: Set '[neutron] default_floating_pool' instead\n\nIn change I2ce8ff3d7c33a402b8af50182ec01f512859c388, we duplicated the\n'default_floating_pool' option, found in the '[DEFAULT]' group, to the\n'[neutron]' group. This allowed us to continue with our deprecation\nplans for the former option, which should be retired along with\nnova-network.\n\nUpdate the nova lib module so it'll set the new option, we can safely\nassume to be the correct one now that we've removed support for cells v1\nand nova-network.\n\nChange-Id: If9a02b640e6c2e1300c7b11b7552ba13c1496d79\nSigned-off-by: Stephen Finucane <sfinucan@redhat.com>\n""}]",0,660619,283e86fbb59aa11afb21b916d3a106e442baee0e,22,5,2,15334,,,0,"nova: Set '[neutron] default_floating_pool' instead

In change I2ce8ff3d7c33a402b8af50182ec01f512859c388, we duplicated the
'default_floating_pool' option, found in the '[DEFAULT]' group, to the
'[neutron]' group. This allowed us to continue with our deprecation
plans for the former option, which should be retired along with
nova-network.

Update the nova lib module so it'll set the new option, we can safely
assume to be the correct one now that we've removed support for cells v1
and nova-network.

Change-Id: If9a02b640e6c2e1300c7b11b7552ba13c1496d79
Signed-off-by: Stephen Finucane <sfinucan@redhat.com>
",git fetch https://review.opendev.org/openstack/devstack refs/changes/19/660619/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,609b673e796e019a5c5e3592224d76c55212df0e,bp/remove-cells-v1," iniset $NOVA_CONF neutron default_floating_pool ""$PUBLIC_NETWORK_NAME"""," iniset $NOVA_CONF DEFAULT default_floating_pool ""$PUBLIC_NETWORK_NAME""",1,1
openstack%2Freleases~master~If9bcfc80cb75382b70ddc5937ed39a176ab8956f,openstack/releases,master,If9bcfc80cb75382b70ddc5937ed39a176ab8956f,Release neutron-lib 1.28.0,MERGED,2019-06-21 15:37:43.000000000,2019-07-03 14:25:16.000000000,2019-07-03 14:25:16.000000000,"[{'_account_id': 308}, {'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 13252}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 15:37:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/5c2ae8ad994aa10566c1c15db8f7cf74668ac0c8', 'message': 'Release neutron-lib 1.28.0\n\nThis adds the subnet_dns_publish_fixed_ip extension\n\nChange-Id: If9bcfc80cb75382b70ddc5937ed39a176ab8956f\n'}, {'number': 2, 'created': '2019-07-02 06:03:44.000000000', 'files': ['deliverables/train/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/b2b30afe3bc8cb7d0d5bf9d49f293f3dbe739596', 'message': 'Release neutron-lib 1.28.0\n\nMake new additions available for consumption in networking projects.\n\nChange-Id: If9bcfc80cb75382b70ddc5937ed39a176ab8956f\n'}]",0,666870,b2b30afe3bc8cb7d0d5bf9d49f293f3dbe739596,21,10,2,13252,,,0,"Release neutron-lib 1.28.0

Make new additions available for consumption in networking projects.

Change-Id: If9bcfc80cb75382b70ddc5937ed39a176ab8956f
",git fetch https://review.opendev.org/openstack/releases refs/changes/70/666870/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron-lib.yaml'],1,5c2ae8ad994aa10566c1c15db8f7cf74668ac0c8,release-neutron-lib, - version: 1.28.0 projects: - repo: openstack/neutron-lib hash: d2cabd9ed8cd64f1840f3d003fbf6922eb094d4b,,4,0
openstack%2Fcloudkitty~master~I6f6f87d727b4b1874aa10ad7fd8add8cafee3211,openstack/cloudkitty,master,I6f6f87d727b4b1874aa10ad7fd8add8cafee3211,Add Monasca collector auth options to the sample config,MERGED,2019-06-18 07:54:24.000000000,2019-07-03 14:23:45.000000000,2019-07-03 14:23:45.000000000,"[{'_account_id': 22348}, {'_account_id': 23060}, {'_account_id': 29503}]","[{'number': 1, 'created': '2019-06-18 07:54:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/b7fbaf8f34fb5823c0f4b9f7ba6310a3327c0743', 'message': 'Add Monasca collector auth options to the sample config\n\nThis adds the keystoneauth options used by the Monasca collector to the config\nfile generated by oslo-config-generator.\n\nChange-Id: I6f6f87d727b4b1874aa10ad7fd8add8cafee3211\n'}, {'number': 2, 'created': '2019-06-27 07:49:07.000000000', 'files': ['cloudkitty/common/config.py', 'cloudkitty/collector/monasca.py'], 'web_link': 'https://opendev.org/openstack/cloudkitty/commit/a9a56fb3bb5154c925998f0b40e0dba56e213c5d', 'message': 'Add Monasca collector auth options to the sample config\n\nThis adds the keystoneauth options used by the Monasca collector to the config\nfile generated by oslo-config-generator.\n\nChange-Id: I6f6f87d727b4b1874aa10ad7fd8add8cafee3211\n'}]",0,665899,a9a56fb3bb5154c925998f0b40e0dba56e213c5d,15,3,2,23060,,,0,"Add Monasca collector auth options to the sample config

This adds the keystoneauth options used by the Monasca collector to the config
file generated by oslo-config-generator.

Change-Id: I6f6f87d727b4b1874aa10ad7fd8add8cafee3211
",git fetch https://review.opendev.org/openstack/cloudkitty refs/changes/99/665899/2 && git format-patch -1 --stdout FETCH_HEAD,"['cloudkitty/common/config.py', 'cloudkitty/collector/monasca.py']",2,b7fbaf8f34fb5823c0f4b9f7ba6310a3327c0743,,"keystone_opts = ks_loading.get_auth_common_conf_options() + \ ks_loading.get_session_conf_options() CONF.register_opts(keystone_opts, COLLECTOR_MONASCA_OPTS) CONF.register_opts(collector_monasca_opts, COLLECTOR_MONASCA_OPTS)","cfg.CONF.register_opts(collector_monasca_opts, COLLECTOR_MONASCA_OPTS) ks_loading.register_session_conf_options( cfg.CONF, COLLECTOR_MONASCA_OPTS) ks_loading.register_auth_conf_options( cfg.CONF, COLLECTOR_MONASCA_OPTS) pass",6,8
openstack%2Fopenstack-helm-images~master~I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2,openstack/openstack-helm-images,master,I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2,OpenStack-Exporter: Update airship health api endpoints,MERGED,2019-07-02 19:33:43.000000000,2019-07-03 14:22:34.000000000,2019-07-03 14:21:18.000000000,"[{'_account_id': 20466}, {'_account_id': 22259}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-07-02 19:33:43.000000000', 'files': ['prometheus-openstack-exporter/exporter/check_os_api.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/fccbfb1907fe90c5f5b4e2a8d701a6b0ba916279', 'message': 'OpenStack-Exporter: Update airship health api endpoints\n\nThis updates the health status endpoint for the airship components\nas the current path is incorrect. This correction will allow for\nthe use of the openstack exporter to correctly identify the status\nof airship components deployed and tracked in the service catalog\n\nChange-Id: I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,668746,fccbfb1907fe90c5f5b4e2a8d701a6b0ba916279,10,5,1,17591,,,0,"OpenStack-Exporter: Update airship health api endpoints

This updates the health status endpoint for the airship components
as the current path is incorrect. This correction will allow for
the use of the openstack exporter to correctly identify the status
of airship components deployed and tracked in the service catalog

Change-Id: I6ab0fcaa6461daa73d497dce8f7bed2c1b7582c2
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/46/668746/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-openstack-exporter/exporter/check_os_api.py'],1,fccbfb1907fe90c5f5b4e2a8d701a6b0ba916279,os-exporter-update," 'shipyard': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'api/v1.0/health', 'expect': [204, 503], 'name': 'promenade'},"," 'shipyard': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'shipyard'}, 'armada': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'armada'}, 'deckhand': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'deckhand'}, 'drydock': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'drydock'}, 'promenade': {'path': 'v1.0/health', 'expect': [204, 503], 'name': 'promenade'},",5,5
openstack%2Fkayobe~master~I5a2c71e7e65f99687437f6a26a0c4a942022f4e9,openstack/kayobe,master,I5a2c71e7e65f99687437f6a26a0c4a942022f4e9,Remove mentions of UUID Keystone token provider,MERGED,2019-06-12 12:23:25.000000000,2019-07-03 14:19:43.000000000,2019-07-03 14:19:43.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 12:23:25.000000000', 'files': ['etc/kayobe/kolla/globals.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/5d82c788a8a3af943abf4001ab393bc490d9ad3a', 'message': 'Remove mentions of UUID Keystone token provider\n\nKeystone removed the UUID token provider in Rocky and Kolla Ansible\nremoved support for configuring it. This commit reflects these changes\nin Kayobe.\n\nChange-Id: I5a2c71e7e65f99687437f6a26a0c4a942022f4e9\n'}]",0,664870,5d82c788a8a3af943abf4001ab393bc490d9ad3a,23,4,1,15197,,,0,"Remove mentions of UUID Keystone token provider

Keystone removed the UUID token provider in Rocky and Kolla Ansible
removed support for configuring it. This commit reflects these changes
in Kayobe.

Change-Id: I5a2c71e7e65f99687437f6a26a0c4a942022f4e9
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/70/664870/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/kayobe/kolla/globals.yml', 'ansible/roles/kolla-ansible/templates/globals.yml.j2']",2,5d82c788a8a3af943abf4001ab393bc490d9ad3a,uuid-token-provider,# Valid options are [ fernet ] #keystone_token_provider: 'fernet',"# Valid options are [ uuid, fernet ] #keystone_token_provider: 'uuid'",2,8
openstack%2Fkayobe~master~Id090348a6f22f251555fa286a7d24923087122a9,openstack/kayobe,master,Id090348a6f22f251555fa286a7d24923087122a9,Provide keystone.conf to kolla-ansible by default,MERGED,2019-06-21 13:04:51.000000000,2019-07-03 14:19:13.000000000,2019-07-03 14:19:13.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 13:04:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/b12f68f28e690dd89b3a5f294732904fa277d437', 'message': ""Provide keystone.conf to kolla-ansible by default\n\nCommit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable\nkolla_enable_keystone without setting a default value and used it to\ncheck whether to template and provide keystone.conf to kolla-ansible,\nunlike the extended keystone configuration which was always copied. This\nresulted in non-intuitive behaviour if kolla_enable_keystone wasn't\nexplicitly set by the operator.\n\nThis commit sets kolla_enable_keystone to true by default, which matches\nthe default in kolla-ansible, and uses it instead of hardcoded true\nvalues.\n\nChange-Id: Id090348a6f22f251555fa286a7d24923087122a9\nStory: 2005930\nTask: 34273\n""}, {'number': 2, 'created': '2019-06-21 14:55:56.000000000', 'files': ['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla', 'ansible/roles/kolla-openstack/molecule/default/tests/test_default.py'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/ec9b4826515f28dab43846cb80dcb58b9a5b0a6e', 'message': ""Provide keystone.conf to kolla-ansible by default\n\nCommit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable\nkolla_enable_keystone without setting a default value and used it to\ncheck whether to template and provide keystone.conf to kolla-ansible,\nunlike the extended keystone configuration which was always copied. This\nresulted in non-intuitive behaviour if kolla_enable_keystone wasn't\nexplicitly set by the operator.\n\nThis commit sets kolla_enable_keystone to true by default, which matches\nthe default in kolla-ansible, and uses it instead of hardcoded true\nvalues.\n\nChange-Id: Id090348a6f22f251555fa286a7d24923087122a9\nStory: 2005930\nTask: 34273\n""}]",0,666831,ec9b4826515f28dab43846cb80dcb58b9a5b0a6e,34,4,2,15197,,,0,"Provide keystone.conf to kolla-ansible by default

Commit d8ee0fa027140fb8a7504bd6685b6dcdfe3ac8fe introduced the variable
kolla_enable_keystone without setting a default value and used it to
check whether to template and provide keystone.conf to kolla-ansible,
unlike the extended keystone configuration which was always copied. This
resulted in non-intuitive behaviour if kolla_enable_keystone wasn't
explicitly set by the operator.

This commit sets kolla_enable_keystone to true by default, which matches
the default in kolla-ansible, and uses it instead of hardcoded true
values.

Change-Id: Id090348a6f22f251555fa286a7d24923087122a9
Story: 2005930
Task: 34273
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/31/666831/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/kolla-openstack/vars/main.yml', 'ansible/group_vars/all/kolla']",2,b12f68f28e690dd89b3a5f294732904fa277d437,kolla-enable-keystone," enabled: ""{{ kolla_enable_keystone | bool }}""kolla_enable_keystone: ""yes""", enabled: True,3,2
openstack%2Fwatcher~master~Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb,openstack/watcher,master,Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb,Improve logging in building of nova data model,MERGED,2019-06-27 17:50:44.000000000,2019-07-03 14:14:07.000000000,2019-07-03 14:14:07.000000000,"[{'_account_id': 6873}, {'_account_id': 13111}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-27 17:50:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/ed291ac67fae3046f661732f832b22a90c092bda', 'message': '[DNM] performance test additions\n\nChange-Id: Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb\n'}, {'number': 2, 'created': '2019-07-02 08:27:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/bdafe47d8099d9cfb2a039a1dab9819e738375c2', 'message': 'Improve logging in building of nova data model\n\nImproves logging during the building of the nova data model\n\nChange-Id: Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb\n'}, {'number': 3, 'created': '2019-07-03 09:25:29.000000000', 'files': ['watcher/decision_engine/model/collector/nova.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/052fae4b6212188f727bdc581bf5dcb7620744f3', 'message': 'Improve logging in building of nova data model\n\nImproves logging during the building of the nova data model\n\nChange-Id: Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb\n'}]",5,668005,052fae4b6212188f727bdc581bf5dcb7620744f3,18,6,3,29911,,,0,"Improve logging in building of nova data model

Improves logging during the building of the nova data model

Change-Id: Ieff571a6ee2d1a2ced9776a8e4800d5d6f2d95eb
",git fetch https://review.opendev.org/openstack/watcher refs/changes/05/668005/2 && git format-patch -1 --stdout FETCH_HEAD,['watcher/decision_engine/model/collector/nova.py'],1,ed291ac67fae3046f661732f832b22a90c092bda,perf-tests," else: LOG.error(""Node Not Found! {0}"".format(node_name)) LOG.error(""no instances on this node: {0}"".format(node)) import time LOG.warning(""Measurements started..."") start = time.time() end = time.time() LOG.warning(""Total time: {0}"".format(end - start)) LOG.warning(""Total compute nodes: {0}"".format( len(self.model.get_all_compute_nodes()))) LOG.warning(""Total instances: {0}"".format( len(self.model.get_all_instances()))) # No reason to continue with the rest of the audit this is all we want # to measure. Uncomment when testing # import pdb # pdb.set_trace()", # no instances on this node,16,1
openstack%2Frally-openstack~master~If4574456a07056670581e64c8bfc1672b733dfa8,openstack/rally-openstack,master,If4574456a07056670581e64c8bfc1672b733dfa8,[verify ci] Fix various issues for `rally verify tempest`,MERGED,2019-06-18 02:02:54.000000000,2019-07-03 14:09:24.000000000,2019-07-03 14:09:24.000000000,"[{'_account_id': 9545}, {'_account_id': 15554}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-18 02:02:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7c002b5c92d04c3012932b3ab88652b4e15cd5cd', 'message': '[verify ci] try to fix encoding error\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 2, 'created': '2019-06-18 03:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7f6d81755f0c5af7536e7b3d122841589223a616', 'message': '[verify ci] try to fix encoding error && format html error\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 3, 'created': '2019-06-18 06:42:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/c687e9f9d893516b816b2aed0cc83a8d7850556b', 'message': '[verify ci] try to fix encoding error && format html error\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 4, 'created': '2019-06-18 11:01:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/791f024ae275c44b3056cb1091d6fadde664e9a7', 'message': '[verify ci] try to fix encoding error && format html error\n\nDepends-On: Id1955160813c9be87dffc7e38b8d3476cec04d60\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 5, 'created': '2019-06-19 01:24:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/d7bdda4247dc09d6630d838e48feb7979dd7f9d2', 'message': '[verify ci] try to fix encoding error && format html error\n\nDepends-On: Id1955160813c9be87dffc7e38b8d3476cec04d60\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 6, 'created': '2019-06-19 01:28:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7cec930721b3aa94dd72769b5ac8a079838f60bc', 'message': '[verify ci] try to fix encoding error && format html error\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 7, 'created': '2019-06-19 02:52:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/be8ccecff9af173484133a4ec6292da1614191c5', 'message': '[verify ci] try to fix encoding error && format html error\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 8, 'created': '2019-06-19 03:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/298d34fee847c793634c4b2cbd8605f5bf074bb1', 'message': '[verify ci] Fix various issues for `rally verify tempest`\n\n1. try to fix encoding issue, need to decode Exception.output, otherwise\n   cause an decode error while comparing with string.\n2. Fix KeyError exception. to_html() would be raised an exception\n   since some cases was skipped.\n3. Update SQLAlchemy version in upper-constraints.txt\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}, {'number': 9, 'created': '2019-07-03 05:16:59.000000000', 'files': ['tests/ci/rally_verify.py', 'upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/47ef72c7b5facc6a8ce10f32c349594aca3743cb', 'message': '[verify ci] Fix various issues for `rally verify tempest`\n\n1. try to fix encoding issue, need to decode Exception.output, otherwise\n   cause an decode error while comparing with string.\n2. Fix KeyError exception. to_html() would be raised an exception\n   since some cases was skipped.\n3. Update SQLAlchemy version in upper-constraints.txt\n\nChange-Id: If4574456a07056670581e64c8bfc1672b733dfa8\n'}]",0,665842,47ef72c7b5facc6a8ce10f32c349594aca3743cb,36,4,9,21528,,,0,"[verify ci] Fix various issues for `rally verify tempest`

1. try to fix encoding issue, need to decode Exception.output, otherwise
   cause an decode error while comparing with string.
2. Fix KeyError exception. to_html() would be raised an exception
   since some cases was skipped.
3. Update SQLAlchemy version in upper-constraints.txt

Change-Id: If4574456a07056670581e64c8bfc1672b733dfa8
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/42/665842/3 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/rally_verify.py'],1,7c002b5c92d04c3012932b3ab88652b4e15cd5cd,tempest," return Status.ERROR, e.output.decode()"," return Status.ERROR, e.output",1,1
openstack%2Fnetworking-generic-switch~master~I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f,openstack/networking-generic-switch,master,I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f,Blacklist sphinx 2.1.0,MERGED,2019-07-03 06:04:23.000000000,2019-07-03 14:08:11.000000000,2019-07-03 14:08:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 24828}, {'_account_id': 29071}]","[{'number': 1, 'created': '2019-07-03 06:04:23.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-generic-switch/commit/e5dfa9cc7d9aafe371ff1a7dd4ce78a301f8d5f3', 'message': 'Blacklist sphinx 2.1.0\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\n\nChange-Id: I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f\nDepend-On: https://review.opendev.org/#/c/663060/\n'}]",0,668790,e5dfa9cc7d9aafe371ff1a7dd4ce78a301f8d5f3,12,4,1,29071,,,0,"Blacklist sphinx 2.1.0

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details

Change-Id: I4fa70c4a705b4ef6937ad5b00fc31454ba4b591f
Depend-On: https://review.opendev.org/#/c/663060/
",git fetch https://review.opendev.org/openstack/networking-generic-switch refs/changes/90/668790/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e5dfa9cc7d9aafe371ff1a7dd4ce78a301f8d5f3,Blacklist_sphinx_2.1.0,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fplacement~stable%2Fstein~I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11,openstack/placement,stable/stein,I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11,[Stein only] Correct Ubuntu package name,ABANDONED,2019-07-02 14:14:57.000000000,2019-07-03 14:04:42.000000000,,"[{'_account_id': 935}, {'_account_id': 6873}, {'_account_id': 11805}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 14:14:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/a56c5ad6367c01017b871ad347c3d653f241bcec', 'message': ""[Stein only] Correct Ubuntu package name\n\nPer the referenced story, Ubuntu's name for the placement apt package\nwas 'nova-placement-api' in stein, and changed to 'placement-api' in\ntrain. Currently both stein and master (train) reflects the latter; this\ncommit corrects stein only to reflect the former.\n\nChange-Id: I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11\nStory: #2005910\nTask: #34169\n""}, {'number': 2, 'created': '2019-07-02 14:16:42.000000000', 'files': ['doc/source/install/install-ubuntu.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/c2b29040235eb0e77c263ef7c52b5c809be4cb88', 'message': ""[Stein only] Correct Ubuntu package name\n\nPer the referenced story, Ubuntu's name for the placement apt package\nwas 'nova-placement-api' in stein, and changed to 'placement-api' in\ntrain. Currently both stein and master (train) reflect the latter; this\ncommit corrects stein only to reflect the former.\n\nChange-Id: I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11\nStory: #2005910\nTask: #34169\n""}]",0,668680,c2b29040235eb0e77c263ef7c52b5c809be4cb88,10,5,2,14070,,,0,"[Stein only] Correct Ubuntu package name

Per the referenced story, Ubuntu's name for the placement apt package
was 'nova-placement-api' in stein, and changed to 'placement-api' in
train. Currently both stein and master (train) reflect the latter; this
commit corrects stein only to reflect the former.

Change-Id: I818d8ae8ffc1082ddb3677e0c1df91e5bc2dff11
Story: #2005910
Task: #34169
",git fetch https://review.opendev.org/openstack/placement refs/changes/80/668680/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/install-ubuntu.rst'],1,a56c5ad6367c01017b871ad347c3d653f241bcec,story/2005910, # apt install nova-placement-api, # apt install placement-api,1,1
openstack%2Fdevstack~master~I363cf41d117017d72f5c62ddf25bf21976526bf2,openstack/devstack,master,I363cf41d117017d72f5c62ddf25bf21976526bf2,Fetch journal log after tox jobs,ABANDONED,2019-03-17 14:25:25.000000000,2019-07-03 13:58:49.000000000,,"[{'_account_id': 10118}, {'_account_id': 11975}, {'_account_id': 14595}, {'_account_id': 16376}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-03-17 14:25:25.000000000', 'files': ['playbooks/tox/post.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/38913856a63e90025d43a84deaa46a3fb557199b', 'message': 'Fetch journal log after tox jobs\n\nJournal log from test node may be useful for debug issues e.g. with\nkeepalived, dnsmasq and neutron-keepalived-state-change processes.\n\nDepends-On: https://review.openstack.org/#/c/643733/\nChange-Id: I363cf41d117017d72f5c62ddf25bf21976526bf2\n'}]",0,643734,38913856a63e90025d43a84deaa46a3fb557199b,10,5,1,11975,,,0,"Fetch journal log after tox jobs

Journal log from test node may be useful for debug issues e.g. with
keepalived, dnsmasq and neutron-keepalived-state-change processes.

Depends-On: https://review.openstack.org/#/c/643733/
Change-Id: I363cf41d117017d72f5c62ddf25bf21976526bf2
",git fetch https://review.opendev.org/openstack/devstack refs/changes/34/643734/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/tox/post.yaml'],1,38913856a63e90025d43a84deaa46a3fb557199b,store_journal, - fetch-journal-log,,1,0
openstack%2Fopenstack-helm-infra~master~I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7,openstack/openstack-helm-infra,master,I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7,Ignore Selenium test failures in jobs,MERGED,2019-07-02 15:13:48.000000000,2019-07-03 13:28:25.000000000,2019-07-03 13:28:25.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-07-02 15:13:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4ef148c08469a4e7d87ca2b78ac7aae54c9fa662', 'message': 'Run Selenium tests as post run job to ignore failures\n\nThis adds a playbook for running the selenium tests as a postrun\njob so we can ignore errors, as we intermittently experience\nissues with some of the selenium tests due to services responding\nslowly. As these are meant to be supporting artifacts at the end\nof a run, we should not tie their success to the overall jobs\nbeing considered successful\n\nChange-Id: I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-07-02 18:32:37.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c1d9063a86a87054c763a966af2adf34e928fb0f', 'message': 'Ignore Selenium test failures in jobs\n\nThis adds the ability to tolerate failures of the selenium tests\nin our jobs, as we intermittenly see these tests fail. The failure\nof these tests should not necessarily indicate failure of the job\noverall, so this change prevents exactly that\n\nChange-Id: I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",2,668691,c1d9063a86a87054c763a966af2adf34e928fb0f,13,6,2,17591,,,0,"Ignore Selenium test failures in jobs

This adds the ability to tolerate failures of the selenium tests
in our jobs, as we intermittenly see these tests fail. The failure
of these tests should not necessarily indicate failure of the job
overall, so this change prevents exactly that

Change-Id: I4f97fad96f63d42fdb3bb5b8958dbed3dfd7dfc7
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/91/668691/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/osh-infra-selenium-tests.yaml', 'zuul.d/jobs.yaml']",2,4ef148c08469a4e7d87ca2b78ac7aae54c9fa662,tolerate-selenium-errors, post-run: - playbooks/osh-infra-selenium-tests.yaml - playbooks/osh-infra-collect-logs.yaml selenium_scripts: post-run: - playbooks/osh-infra-selenium-tests.yaml - playbooks/osh-infra-collect-logs.yaml selenium_scripts: post-run: - playbooks/osh-infra-selenium-tests.yaml - playbooks/osh-infra-collect-logs.yaml selenium_scripts:, post-run: playbooks/osh-infra-collect-logs.yaml post-run: playbooks/osh-infra-collect-logs.yaml post-run: playbooks/osh-infra-collect-logs.yaml,35,3
openstack%2Ftripleo-heat-templates~stable%2Fstein~I8776a8f1a620ea102681791e5bf2bd368424ffdc,openstack/tripleo-heat-templates,stable/stein,I8776a8f1a620ea102681791e5bf2bd368424ffdc,Fix nova compute container depends_on to be list,MERGED,2019-07-02 13:29:42.000000000,2019-07-03 12:46:01.000000000,2019-07-03 12:46:01.000000000,"[{'_account_id': 6926}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 13:29:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a5bb0a7bd6c310915b6511c8fdf462e2488e4a14', 'message': 'Fix nova compute container depends_on to be list\n\ndepends_on needs to be a list, not a string. Otherwise the Wants=\nentry in the unit file gets created with a wrong dependecy list:\n\nWants=t.service r.service i.service p.service l.service ...\n\nChange-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc\nCloses-Bug: #1835031\n'}, {'number': 2, 'created': '2019-07-03 06:49:22.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6c8a064c1adfb3c14a5dc907b37572186ab58a50', 'message': 'Fix nova compute container depends_on to be list\n\ndepends_on needs to be a list, not a string. Otherwise the Wants=\nentry in the unit file gets created with a wrong dependecy list:\n\nWants=t.service r.service i.service p.service l.service ...\n\nChange-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc\nCloses-Bug: #1835031\n(cherry picked from commit f5295ed3acda48f9d57a51d84929776469c9f7ec)\n'}]",0,668678,6c8a064c1adfb3c14a5dc907b37572186ab58a50,12,5,2,17216,,,0,"Fix nova compute container depends_on to be list

depends_on needs to be a list, not a string. Otherwise the Wants=
entry in the unit file gets created with a wrong dependecy list:

Wants=t.service r.service i.service p.service l.service ...

Change-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc
Closes-Bug: #1835031
(cherry picked from commit f5295ed3acda48f9d57a51d84929776469c9f7ec)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/78/668678/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,a5bb0a7bd6c310915b6511c8fdf462e2488e4a14,bug/1835031-stable/stein, depends_on: - tripleo_nova_libvirt, depends_on: tripleo_nova_libvirt,2,1
openstack%2Ftripleo-common~master~I2927240638ad1a1d43450e2d94771436e2775637,openstack/tripleo-common,master,I2927240638ad1a1d43450e2d94771436e2775637,Add new images for ceph dashboard composable service.,MERGED,2019-06-26 07:57:16.000000000,2019-07-03 12:46:00.000000000,2019-07-03 12:46:00.000000000,"[{'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 07:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ca6c738a3e7a61e664f9ef6c747446c122c846ab', 'message': 'Add new images for ceph dashboard composable.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 2, 'created': '2019-06-26 07:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb7d5edf67b7e2e40b13fad723e055405b2b8fe7', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 3, 'created': '2019-06-26 13:52:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/b80a0bb24cf82eb1ade1f0cefdb27bb5115e48fa', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 4, 'created': '2019-06-26 14:55:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d45fd026aaf4b1673d64afbf35aecbc637e15a01', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 5, 'created': '2019-06-27 07:27:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0d325d505f91799bc2e0fb5a815cfffe89880a4d', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 6, 'created': '2019-06-27 10:24:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e3690d499869463ed5c4e9f032f4de7259645546', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 7, 'created': '2019-06-27 10:24:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/a17cdddf3d875f396024c39b8b2fe5195182d878', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template.\nAs we have third parties images, this review also fixes\na bug in the metadata parsing when Labels are not provided\nin the expected form.\n\nDepends-on: https://review.opendev.org/#/c/667837\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 8, 'created': '2019-06-27 11:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/069bf65f4fb5655ec666ea85b3fd4bbedf7af414', 'message': '[WIP] Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template. This also covers the\npassword generation for tht templates.\n\nDepends-on: https://review.opendev.org/#/c/667837\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 9, 'created': '2019-06-27 11:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f60ee0665fc39ac40383df85754110aea6d3b35b', 'message': 'Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template. This also covers the\npassword generation for tht templates.\n\nDepends-on: https://review.opendev.org/#/c/667837\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}, {'number': 10, 'created': '2019-06-28 16:44:28.000000000', 'files': ['container-images/container_image_prepare_defaults.yaml', 'tripleo_common/constants.py', 'tripleo_common/tests/actions/test_parameters.py', 'container-images/overcloud_containers.yaml', 'tripleo_common/inventory.py', 'tripleo_common/tests/image/test_kolla_builder.py', 'container-images/overcloud_containers.yaml.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/8fb1b9edf1cdb6b2c7a4904d3661d97b0561c353', 'message': 'Add new images for ceph dashboard composable service.\n\nThis review adds the grafana, prometheus, alertmanager\nand node-exporter images to make them available as\nparameters in the tht template. This also covers the\npassword generation for tht templates.\n\nDepends-on: https://review.opendev.org/#/c/667837\nChange-Id: I2927240638ad1a1d43450e2d94771436e2775637\n'}]",2,667538,8fb1b9edf1cdb6b2c7a4904d3661d97b0561c353,37,6,10,25402,,,0,"Add new images for ceph dashboard composable service.

This review adds the grafana, prometheus, alertmanager
and node-exporter images to make them available as
parameters in the tht template. This also covers the
password generation for tht templates.

Depends-on: https://review.opendev.org/#/c/667837
Change-Id: I2927240638ad1a1d43450e2d94771436e2775637
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/667538/10 && git format-patch -1 --stdout FETCH_HEAD,"['container-images/container_image_prepare_defaults.yaml', 'container-images/overcloud_containers.yaml', 'tripleo_common/image/image_uploader.py', 'tripleo_common/inventory.py', 'container-images/overcloud_containers.yaml.j2']",5,ca6c738a3e7a61e664f9ef6c747446c122c846ab,ceph_dashboard,"- imagename: ""{{ceph_prometheus_namespace}}/{{ceph_prometheus_image}}:{{ceph_prometheus_tag}}"" image_source: prom params: - PrometheusContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_alertmanager_namespace}}/{{ceph_alertmanager_image}}:{{ceph_alertmanager_tag}}"" image_source: prom params: - AlertManagerContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_node_exporter_namespace}}/{{ceph_node_exporter_image}}:{{ceph_node_exporter_tag}}"" image_source: prom params: - NodeExporterContainerImage services: - OS::TripleO::Services::CephGrafana - imagename: ""{{ceph_grafana_namespace}}/{{ceph_grafana_image}}:{{ceph_grafana_tag}}"" image_source: grafana params: - GrafanaContainerImage services: - OS::TripleO::Services::CephGrafana ",,60,3
openstack%2Fglance~master~I2ac631fa4d6a97003296d1d006c855cf538a785d,openstack/glance,master,I2ac631fa4d6a97003296d1d006c855cf538a785d,Bug #1281453,ABANDONED,2019-06-26 11:09:55.000000000,2019-07-03 12:46:00.000000000,,"[{'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 11:09:55.000000000', 'files': ['glance/registry/api/v1/images.py', 'glance/common/exception.py', 'glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py', 'glance/common/rpc.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/image_cache/drivers/sqlite.py', 'glance/registry/client/v1/client.py', 'glance/common/utils.py', 'glance/api/policy.py', 'glance/common/wsgi.py', 'glance/tests/functional/v2/test_metadef_resourcetypes.py', 'glance/tests/functional/__init__.py', 'glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py', 'glance/image_cache/drivers/xattr.py', 'glance/db/sqlalchemy/metadef_api/resource_type.py', 'glance/tests/utils.py', 'glance/db/sqlalchemy/metadef_api/namespace.py', 'glance/cmd/cache_manage.py', 'glance/scrubber.py'], 'web_link': 'https://opendev.org/openstack/glance/commit/130ffbc8a7c1a0428459e6f6a51aaa2be57364c2', 'message': 'Bug #1281453\n\nChange-Id: I2ac631fa4d6a97003296d1d006c855cf538a785d\n'}]",0,667581,130ffbc8a7c1a0428459e6f6a51aaa2be57364c2,4,2,1,30459,,,0,"Bug #1281453

Change-Id: I2ac631fa4d6a97003296d1d006c855cf538a785d
",git fetch https://review.opendev.org/openstack/glance refs/changes/81/667581/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/registry/api/v1/images.py', 'glance/common/exception.py', 'glance/db/sqlalchemy/migrate_repo/versions/017_quote_encrypted_swift_credentials.py', 'glance/common/rpc.py', 'glance/api/v1/upload_utils.py', 'glance/db/sqlalchemy/api.py', 'glance/image_cache/drivers/sqlite.py', 'glance/registry/client/v1/client.py', 'glance/common/utils.py', 'glance/api/policy.py', 'glance/common/wsgi.py', 'glance/tests/functional/v2/test_metadef_resourcetypes.py', 'glance/tests/functional/__init__.py', 'glance/db/sqlalchemy/migrate_repo/versions/015_quote_swift_credentials.py', 'glance/image_cache/drivers/xattr.py', 'glance/db/sqlalchemy/metadef_api/resource_type.py', 'glance/tests/utils.py', 'glance/db/sqlalchemy/metadef_api/namespace.py', 'glance/cmd/cache_manage.py', 'glance/scrubber.py']",20,130ffbc8a7c1a0428459e6f6a51aaa2be57364c2,bug/1281453,"from oslo_utils import excutils with excutils.save_and_reraise_exception(): LOG.error(_LE(""Unable to scrub image %(id)s from a location. """," LOG.error(_LE(""Unable to scrub image %(id)s from a location. "" raise",99,50
openstack%2Fvitrage~stable%2Fstein~Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,openstack/vitrage,stable/stein,Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad,Bugfix - If graph is empty is_alive returns false.,MERGED,2019-07-02 11:40:55.000000000,2019-07-03 12:43:41.000000000,2019-07-03 12:43:41.000000000,"[{'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-02 11:40:55.000000000', 'files': ['vitrage/api_handler/apis/operational.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/3267bffbea503b94e8846a7b9bd4f83ad4ccd8f4', 'message': 'Bugfix - If graph is empty is_alive returns false.\n\nBecause self.graph evaluates to False\n\nChange-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad\n'}]",0,668659,3267bffbea503b94e8846a7b9bd4f83ad4ccd8f4,18,5,1,19184,,,0,"Bugfix - If graph is empty is_alive returns false.

Because self.graph evaluates to False

Change-Id: Ifcbdaffd12496c29efc6594aa2bb1111c0d6dfad
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/59/668659/1 && git format-patch -1 --stdout FETCH_HEAD,['vitrage/api_handler/apis/operational.py'],1,3267bffbea503b94e8846a7b9bd4f83ad4ccd8f4,, if self.graph is not None and self.graph.ready:, if self.graph and self.graph.ready:,1,1
openstack%2Fgovernance-uc~master~I47d12348e5a80048785a93842f0dfd3060bdbc24,openstack/governance-uc,master,I47d12348e5a80048785a93842f0dfd3060bdbc24,Use upper-constraints in tox runs,MERGED,2019-07-02 20:22:12.000000000,2019-07-03 12:33:29.000000000,2019-07-03 12:33:28.000000000,"[{'_account_id': 2033}, {'_account_id': 7272}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 24100}, {'_account_id': 28738}]","[{'number': 1, 'created': '2019-07-02 20:22:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/26b20bc774e272189cc3b40227ba50304e37530a', 'message': 'Use upper-constraints in tox runs\n\nChange-Id: I47d12348e5a80048785a93842f0dfd3060bdbc24\n'}, {'number': 2, 'created': '2019-07-02 20:35:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/8d8bd655385454fd67d03cd7264aa88d042e7c03', 'message': ""Use upper-constraints in tox runs\n\nThis fix stolen from:\nhttps://review.opendev.org/#/c/658567/\n\nThe upper-constraints file wasn't being enforced\nwhen installing dependencies in tox runs which can\nlead to failures like installing Sphinx>2.0 in py27\nwhere it's not supported.\n\nThis is loosely based on novaclient change\nI8be883215f27abb58d15b85e8542cbdf32000bac for the\nsame kind of issue.\n\nChange-Id: I47d12348e5a80048785a93842f0dfd3060bdbc24\n""}, {'number': 3, 'created': '2019-07-02 20:36:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/governance-uc/commit/3ab144f096a8e940bd2a7b4fbfd85c657e88f15b', 'message': ""Use upper-constraints in tox runs\n\nThis fix stolen from:\nhttps://review.opendev.org/#/c/658567/\n\nThe upper-constraints file wasn't being enforced\nwhen installing dependencies in tox runs which can\nlead to failures like installing Sphinx>2.0 in py27\nwhere it's not supported.\n\nThis is loosely based on novaclient change\nI8be883215f27abb58d15b85e8542cbdf32000bac for the\nsame kind of issue.\n\nChange-Id: I47d12348e5a80048785a93842f0dfd3060bdbc24\n""}]",0,668753,3ab144f096a8e940bd2a7b4fbfd85c657e88f15b,12,6,3,24100,,,0,"Use upper-constraints in tox runs

This fix stolen from:
https://review.opendev.org/#/c/658567/

The upper-constraints file wasn't being enforced
when installing dependencies in tox runs which can
lead to failures like installing Sphinx>2.0 in py27
where it's not supported.

This is loosely based on novaclient change
I8be883215f27abb58d15b85e8542cbdf32000bac for the
same kind of issue.

Change-Id: I47d12348e5a80048785a93842f0dfd3060bdbc24
",git fetch https://review.opendev.org/openstack/governance-uc refs/changes/53/668753/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,26b20bc774e272189cc3b40227ba50304e37530a,tox-fix,passenv = ZUUL_CACHE_DIR REQUIREMENTS_PIP_LOCATION install_command = pip install {opts} {packages}deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} -r{toxinidir}/test-requirements.txt -r{toxinidir}/requirements.txt,install_command = pip install -U {opts} {packages}deps = -r{toxinidir}/test-requirements.txt,7,2
openstack%2Fproject-config~master~Iba75d255f39313702ee9e95cf6d29a1e02489ac9,openstack/project-config,master,Iba75d255f39313702ee9e95cf6d29a1e02489ac9,Retire the release-schedule-generator project,MERGED,2019-06-27 20:45:47.000000000,2019-07-03 12:32:15.000000000,2019-07-03 12:32:14.000000000,"[{'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 20:45:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/8389bacf2967de280322fe23f08d045af9e98a56', 'message': 'Retire the release-schedule-generator project\n\nThe functionality of this project is now included in tooling in the\nopenstack/releases repo and is no longer needed.\n\nThis is step 4 of the retire process.\n\nDepends-on: https://review.opendev.org/668041\nChange-Id: Iba75d255f39313702ee9e95cf6d29a1e02489ac9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-06-28 12:49:58.000000000', 'files': ['gerrit/acls/openstack/release-schedule-generator.config', 'zuul.d/projects.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/24f4f352c92d9f1f09c2a124f5d6523abe3c1212', 'message': 'Retire the release-schedule-generator project\n\nThe functionality of this project is now included in tooling in the\nopenstack/releases repo and is no longer needed.\n\nThis is step 4 of the retire process.\n\nDepends-on: https://review.opendev.org/668041\nChange-Id: Iba75d255f39313702ee9e95cf6d29a1e02489ac9\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",1,668045,24f4f352c92d9f1f09c2a124f5d6523abe3c1212,12,4,2,11904,,,0,"Retire the release-schedule-generator project

The functionality of this project is now included in tooling in the
openstack/releases repo and is no longer needed.

This is step 4 of the retire process.

Depends-on: https://review.opendev.org/668041
Change-Id: Iba75d255f39313702ee9e95cf6d29a1e02489ac9
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/45/668045/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/release-schedule-generator.config', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,8389bacf2967de280322fe23f08d045af9e98a56,release-schedule-generator,, - openstack/release-schedule-generator,2,18
openstack%2Fproject-config~master~I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b,openstack/project-config,master,I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b,Moving ironic-prometheus-exporter under Ironic,MERGED,2019-06-14 07:49:08.000000000,2019-07-03 12:29:21.000000000,2019-07-03 12:29:21.000000000,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 11655}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 07:49:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/4cb3c38b27427287438ed8fb7c34cb60b12692f1', 'message': 'Moving ironic-prometheus-exporter under Ironic\n\nThis commit moves the ironic-prometheus-exporter[1]\nunder the Ironic umbrella in OpenStack.\n\n[1] https://github.com/metal3-io/ironic-prometheus-exporter\n\nChange-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n'}, {'number': 2, 'created': '2019-06-14 09:12:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/167b7191c7ac688f596d09a4f2e89af725f88ac8', 'message': 'Moving ironic-prometheus-exporter under Ironic\n\nThis commit moves the ironic-prometheus-exporter[1]\nunder the Ironic umbrella in OpenStack.\n\n[1] https://github.com/metal3-io/ironic-prometheus-exporter\n\nChange-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n'}, {'number': 3, 'created': '2019-06-14 14:40:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc5b753c6ff9efdc8e4db0b7453c95cec407c3da', 'message': 'Moving ironic-prometheus-exporter under Ironic\n\nThis commit moves the ironic-prometheus-exporter[1]\nunder the Ironic umbrella in OpenStack.\n\n[1] https://github.com/metal3-io/ironic-prometheus-exporter\n\nChange-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n'}, {'number': 4, 'created': '2019-06-14 14:59:18.000000000', 'files': ['gerritbot/channels.yaml', 'zuul/main.yaml', 'gerrit/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/461b0584bf0b0ec088e0b4679a1e5242253480f4', 'message': 'Moving ironic-prometheus-exporter under Ironic\n\nThis commit moves the ironic-prometheus-exporter[1]\nunder the Ironic umbrella in OpenStack.\n\n[1] https://github.com/metal3-io/ironic-prometheus-exporter\n\nNeeded-By: I396e0f8732370dcba1c8b04932b85380a236929e\nChange-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b\n'}]",2,665321,461b0584bf0b0ec088e0b4679a1e5242253480f4,15,5,4,15519,,,0,"Moving ironic-prometheus-exporter under Ironic

This commit moves the ironic-prometheus-exporter[1]
under the Ironic umbrella in OpenStack.

[1] https://github.com/metal3-io/ironic-prometheus-exporter

Needed-By: I396e0f8732370dcba1c8b04932b85380a236929e
Change-Id: I3fe01ec5465e4ddc1eb7966beca96823c2dbda4b
",git fetch https://review.opendev.org/openstack/project-config refs/changes/21/665321/4 && git format-patch -1 --stdout FETCH_HEAD,"['gerritbot/channels.yaml', 'gerrit/projects.yaml', 'zuul.d/projects.yaml', 'zuul/main.yaml']",4,4cb3c38b27427287438ed8fb7c34cb60b12692f1,new-project, - openstack/ironic-prometheus-exporter,,17,0
openstack%2Fkolla-ansible~master~I9e3650e83c72081ef2679fe01842bb9be6a4eb7c,openstack/kolla-ansible,master,I9e3650e83c72081ef2679fe01842bb9be6a4eb7c,Fix deploy guide build (missing kolla project reference),MERGED,2019-07-03 07:04:01.000000000,2019-07-03 12:27:02.000000000,2019-07-03 12:27:02.000000000,"[{'_account_id': 11444}, {'_account_id': 19779}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 07:04:01.000000000', 'files': ['deploy-guide/source/conf.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/fd0607dc47363a986f9669eded19917bee4e35d9', 'message': 'Fix deploy guide build (missing kolla project reference)\n\nChange-Id: I9e3650e83c72081ef2679fe01842bb9be6a4eb7c\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,668801,fd0607dc47363a986f9669eded19917bee4e35d9,9,3,1,30491,,,0,"Fix deploy guide build (missing kolla project reference)

Change-Id: I9e3650e83c72081ef2679fe01842bb9be6a4eb7c
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/01/668801/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/conf.py'],1,fd0607dc47363a986f9669eded19917bee4e35d9,fix-deploy-guide-build-v2," 'kolla',",,1,0
openstack%2Fkayobe~master~Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6,openstack/kayobe,master,Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6,Workaround: stop bifrost services before seed upgrade,MERGED,2019-07-02 08:23:02.000000000,2019-07-03 12:25:08.000000000,2019-07-03 10:29:10.000000000,"[{'_account_id': 14826}, {'_account_id': 15197}, {'_account_id': 22348}, {'_account_id': 28048}]","[{'number': 1, 'created': '2019-07-02 08:23:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/3b4d98348adc43ba62b25535626d5964d8231e8d', 'message': 'Workaround: stop bifrost services before seed upgrade\n\nThis avoids mariadb being ungracefully shut down, which prevents it from\nbeing started again.\n\nThis should be reverted once bug 1834332 has been fixed in kolla ansible\nstein.\n\nChange-Id: Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6\nStory: 2006050\nTask: 34743\n'}, {'number': 2, 'created': '2019-07-02 08:52:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kayobe/commit/89c5b4f79735ee0971f6acbf9a83735382cdbd46', 'message': 'Workaround: stop bifrost services before seed upgrade\n\nThis avoids mariadb being ungracefully shut down, which prevents it from\nbeing started again.\n\nThis should be reverted once bug 1834332 has been fixed in kolla ansible\nstein.\n\nChange-Id: Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6\nStory: 2006050\nTask: 34743\n'}, {'number': 3, 'created': '2019-07-02 11:07:19.000000000', 'files': ['ansible/seed-service-upgrade-prep.yml'], 'web_link': 'https://opendev.org/openstack/kayobe/commit/77e8044a406b0cfeef377e0155b2fbcb5f05a67e', 'message': 'Workaround: stop bifrost services before seed upgrade\n\nThis avoids mariadb being ungracefully shut down, which prevents it from\nbeing started again.\n\nThis should be reverted once bug 1834332 has been fixed in kolla ansible\nstein.\n\nChange-Id: Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6\nStory: 2006050\nTask: 34743\n'}]",4,668632,77e8044a406b0cfeef377e0155b2fbcb5f05a67e,16,4,3,14826,,,0,"Workaround: stop bifrost services before seed upgrade

This avoids mariadb being ungracefully shut down, which prevents it from
being started again.

This should be reverted once bug 1834332 has been fixed in kolla ansible
stein.

Change-Id: Ic3932d4af5c0a7639dfeb6cda7e1cd3f61d287c6
Story: 2006050
Task: 34743
",git fetch https://review.opendev.org/openstack/kayobe refs/changes/32/668632/1 && git format-patch -1 --stdout FETCH_HEAD,['ansible/seed-service-upgrade-prep.yml'],1,3b4d98348adc43ba62b25535626d5964d8231e8d,story/2006050," # TODO(mgoddard): Remove this once bug 1834332 is fixed in kolla-ansible. # Ensure that all services are stopped gracefully, and in a sensible # order. - name: Stop services gracefully command: docker exec bifrost_deploy systemctl stop {{ item }}.service with_items: - ironic-api - ironic-conductor - mariadb - rabbitmq-server - nginx changed_when: true",,13,0
openstack%2Fopenstack-zuul-jobs~master~I3e775300bbdbad1f6e5f9e287a1d1e74e391563e,openstack/openstack-zuul-jobs,master,I3e775300bbdbad1f6e5f9e287a1d1e74e391563e,Set python_version: 3.7 for openstack-tox-functional-py37,MERGED,2019-07-01 13:45:48.000000000,2019-07-03 12:16:04.000000000,2019-07-03 12:16:04.000000000,"[{'_account_id': 6547}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 13:45:48.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/3873c37403e71a78361daac1194c378ce1bbdf3e', 'message': 'Set python_version: 3.7 for openstack-tox-functional-py37\n\nExplicitly set the Python version for the py37 job to make sure the\nright interpreter is available.\n\nChange-Id: I3e775300bbdbad1f6e5f9e287a1d1e74e391563e\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,668466,3873c37403e71a78361daac1194c378ce1bbdf3e,7,3,1,11904,,,0,"Set python_version: 3.7 for openstack-tox-functional-py37

Explicitly set the Python version for the py37 job to make sure the
right interpreter is available.

Change-Id: I3e775300bbdbad1f6e5f9e287a1d1e74e391563e
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/66/668466/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,3873c37403e71a78361daac1194c378ce1bbdf3e,python3-train, python_version: 3.7,,1,0
openstack%2Frelease-schedule-generator~master~I0500fca26dc01b155c4f57097bbf2f976d13a6c8,openstack/release-schedule-generator,master,I0500fca26dc01b155c4f57097bbf2f976d13a6c8,Retire repo,MERGED,2019-06-27 20:38:46.000000000,2019-07-03 12:15:38.000000000,2019-07-03 12:15:38.000000000,"[{'_account_id': 2}, {'_account_id': 308}, {'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 20:38:46.000000000', 'files': ['CONTRIBUTING.rst', 'requirements.txt', 'release_schedule_generator/main.py', 'schedule.yml', 'README.rst', 'setup.py', 'setup.cfg', 'LICENSE', 'release_schedule_generator/__init__.py'], 'web_link': 'https://opendev.org/openstack/release-schedule-generator/commit/a0a9baeaddac3f18743ad52c0f463f8bb058ae04', 'message': 'Retire repo\n\nThis repo is no longer needed. Tools for generating the release schedule\nare now located in the openstack/releases repo.\n\nChange-Id: I0500fca26dc01b155c4f57097bbf2f976d13a6c8\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,668041,a0a9baeaddac3f18743ad52c0f463f8bb058ae04,9,6,1,11904,,,0,"Retire repo

This repo is no longer needed. Tools for generating the release schedule
are now located in the openstack/releases repo.

Change-Id: I0500fca26dc01b155c4f57097bbf2f976d13a6c8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/release-schedule-generator refs/changes/41/668041/1 && git format-patch -1 --stdout FETCH_HEAD,"['CONTRIBUTING.rst', 'requirements.txt', 'release_schedule_generator/main.py', 'schedule.yml', 'README.rst', 'setup.py', 'setup.cfg', 'LICENSE', 'release_schedule_generator/__init__.py']",9,a0a9baeaddac3f18743ad52c0f463f8bb058ae04,release-schedule-generator,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import pbr.version __version__ = pbr.version.VersionInfo( 'generator').version_string() ",10,519
openstack%2Frenderspec~master~I08573b53609d67ebe829bfbb3f82edd7fac43f20,openstack/renderspec,master,I08573b53609d67ebe829bfbb3f82edd7fac43f20,Add new context variable 'py_versions_default',ABANDONED,2019-07-03 09:15:28.000000000,2019-07-03 12:15:14.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-03 09:15:28.000000000', 'files': ['tests.py', 'renderspec/contextfuncs.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/renderspec/commit/c356499d0e8fce7565b0e05e8de64ed8d6fe97ba', 'message': ""Add new context variable 'py_versions_default'\n\nThe new variable 'py_versions_default' is useful for porting services\nto python3.\nWhen the variable is set, all py2pkg() calls that don't have\n'py_versions' explicit set will use the 'py_versions_default' value.\nx\n\nChange-Id: I08573b53609d67ebe829bfbb3f82edd7fac43f20\n""}]",0,668836,c356499d0e8fce7565b0e05e8de64ed8d6fe97ba,3,1,1,7102,,,0,"Add new context variable 'py_versions_default'

The new variable 'py_versions_default' is useful for porting services
to python3.
When the variable is set, all py2pkg() calls that don't have
'py_versions' explicit set will use the 'py_versions_default' value.
x

Change-Id: I08573b53609d67ebe829bfbb3f82edd7fac43f20
",git fetch https://review.opendev.org/openstack/renderspec refs/changes/36/668836/1 && git format-patch -1 --stdout FETCH_HEAD,"['renderspec/contextfuncs.py', 'tests.py', 'doc/source/usage.rst']",3,c356499d0e8fce7565b0e05e8de64ed8d6fe97ba,py-versions-default,"py_versions_default ******************* Optional variable that defines the default value for the used python versions. This is applied to the context functions `py2pkg` and `py2name`. The variable only has an effect if the used `py2pkg` or `py2name` functions do not already set `py_versions`. So:: {% set py_versions_default = ['py3'] %} Requires: {{ py2pkg('Jinja2') }} Would result (with suse style) in:: Requires: python3-Jinja2 But setting `py_versions` explicit:: {% set py_versions_default = ['py3'] %} Requires: {{ py2pkg('Jinja2', py_versions['py2']) }} ",,44,0
openstack%2Ftripleo-heat-templates~master~I4c102d8f728a90cf9eb90f6129738377a8d2503c,openstack/tripleo-heat-templates,master,I4c102d8f728a90cf9eb90f6129738377a8d2503c,Use per-subnet DNS nameservers for ctlplane,MERGED,2019-06-25 15:06:37.000000000,2019-07-03 12:12:19.000000000,2019-07-03 12:12:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-25 15:06:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cef0f06b0f290a37b7e75069adaa3cd578899c11', 'message': 'Use per-subnet DNS nameservers for ctlplane\n\nUse the DNS nameservers for each ctlplane subnet,\ninstead of using the same DNSServers for all subnets.\n\nDepends-On: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c\nChange-Id: I4c102d8f728a90cf9eb90f6129738377a8d2503c\n'}, {'number': 2, 'created': '2019-06-26 14:18:55.000000000', 'files': ['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/dae0a89a80c5636a4b6d175501e009beb7071cf5', 'message': 'Use per-subnet DNS nameservers for ctlplane\n\nUse the DNS nameservers for each ctlplane subnet,\ninstead of using the same DNSServers for all subnets.\n\nRelated-Bug: #1834306\nDepends-On: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c\nChange-Id: I4c102d8f728a90cf9eb90f6129738377a8d2503c\n'}]",0,667381,dae0a89a80c5636a4b6d175501e009beb7071cf5,12,6,2,24245,,,0,"Use per-subnet DNS nameservers for ctlplane

Use the DNS nameservers for each ctlplane subnet,
instead of using the same DNSServers for all subnets.

Related-Bug: #1834306
Depends-On: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c
Change-Id: I4c102d8f728a90cf9eb90f6129738377a8d2503c
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/81/667381/2 && git format-patch -1 --stdout FETCH_HEAD,"['extraconfig/post_deploy/undercloud_post.yaml', 'extraconfig/post_deploy/undercloud_ctlplane_network.py']",2,cef0f06b0f290a37b7e75069adaa3cd578899c11,bug/1834306," s.get('AllocationPools'), name, s['DnsNameServers']) s['DnsNameServers']) s['DnsNameServers']) s['DnsNameServers'])"," s.get('AllocationPools'), name, CONF['nameservers']) CONF['nameservers']) CONF['nameservers']) CONF['nameservers'])",4,5
openstack%2Fos-brick~master~I0010e9014c06a3a812d24d9d5ef598425ac5d5d4,openstack/os-brick,master,I0010e9014c06a3a812d24d9d5ef598425ac5d5d4,luks: Explicitly use the luks1 type to ensure LUKS v1 is used,MERGED,2019-07-01 11:54:55.000000000,2019-07-03 11:50:37.000000000,2019-07-03 11:50:37.000000000,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 25243}, {'_account_id': 25678}, {'_account_id': 26077}, {'_account_id': 27615}, {'_account_id': 27710}]","[{'number': 1, 'created': '2019-07-01 11:54:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/os-brick/commit/e4787bbc6606a6c5df2a1756edae733fbe607b33', 'message': 'luks: Explicitly use the luks1 type to ensure LUKS v1 is used\n\nI152fe10ff5a3131950b789d3fd4efa15c554ff09 attempted to ensure LUKS\nvolumes were formatted using the LUKS v1 header format by using a type\nof `luks`. However from cryptsetup 2.1.0 (incorrectly referenced as\n2.0.6 in the previous change) this type can actually refer to the newer\nLUKS v2 header format in environments where crypsetup has not complied\nwith the `--with-default-luks-format=LUKS1` build time configuration\noption [1].\n\nThis change now explicitly uses the luks1 type when formatting a device\nto ensure the correct LUKS v1 header format is used.\n\n[1] https://gitlab.com/cryptsetup/cryptsetup/blob/master/docs/v2.1.0-ReleaseNotes\n\nCloses-Bug: #1834851\nChange-Id: I0010e9014c06a3a812d24d9d5ef598425ac5d5d4\n'}, {'number': 2, 'created': '2019-07-01 12:11:19.000000000', 'files': ['os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py'], 'web_link': 'https://opendev.org/openstack/os-brick/commit/97b085f448e15269c28ed8adc60601894c470747', 'message': 'luks: Explicitly use the luks1 type to ensure LUKS v1 is used\n\nI152fe10ff5a3131950b789d3fd4efa15c554ff09 attempted to ensure LUKS\nvolumes were formatted using the LUKS v1 header format by using a type\nof `luks`. However from cryptsetup 2.1.0 (incorrectly referenced as\n2.0.6 in the previous change) this type can actually refer to the newer\nLUKS v2 header format in environments where cryptsetup has not complied\nwith the `--with-default-luks-format=LUKS1` build time configuration\noption [1].\n\nThis change now explicitly uses the luks1 type when formatting a device\nto ensure the correct LUKS v1 header format is used.\n\n[1] https://gitlab.com/cryptsetup/cryptsetup/blob/master/docs/v2.1.0-ReleaseNotes\n\nCloses-Bug: #1834851\nChange-Id: I0010e9014c06a3a812d24d9d5ef598425ac5d5d4\n'}]",0,668448,97b085f448e15269c28ed8adc60601894c470747,34,16,2,10135,,,0,"luks: Explicitly use the luks1 type to ensure LUKS v1 is used

I152fe10ff5a3131950b789d3fd4efa15c554ff09 attempted to ensure LUKS
volumes were formatted using the LUKS v1 header format by using a type
of `luks`. However from cryptsetup 2.1.0 (incorrectly referenced as
2.0.6 in the previous change) this type can actually refer to the newer
LUKS v2 header format in environments where cryptsetup has not complied
with the `--with-default-luks-format=LUKS1` build time configuration
option [1].

This change now explicitly uses the luks1 type when formatting a device
to ensure the correct LUKS v1 header format is used.

[1] https://gitlab.com/cryptsetup/cryptsetup/blob/master/docs/v2.1.0-ReleaseNotes

Closes-Bug: #1834851
Change-Id: I0010e9014c06a3a812d24d9d5ef598425ac5d5d4
",git fetch https://review.opendev.org/openstack/os-brick refs/changes/48/668448/1 && git format-patch -1 --stdout FETCH_HEAD,"['os_brick/encryptors/luks.py', 'os_brick/tests/encryptors/test_luks.py']",2,e4787bbc6606a6c5df2a1756edae733fbe607b33,bug/1834851," '--type', 'luks1', '--key-file=-', self.dev_path, '--type', 'luks1', '--key-file=-', self.dev_path,"," '--type', 'luks', '--key-file=-', self.dev_path, '--type', 'luks', '--key-file=-', self.dev_path,",3,3
openstack%2Ftripleo-heat-templates~master~I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,openstack/tripleo-heat-templates,master,I131cbafc126bcc4dbea5d38e0ff7adc177d114bd,"Revert ""Remove os-collect-config related poperties and attributes""",MERGED,2019-07-01 14:43:20.000000000,2019-07-03 11:48:20.000000000,2019-07-02 16:32:44.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8042}, {'_account_id': 8833}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-07-01 14:43:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d09e1800002ccd33ff8a6dd418b8975129b157b5', 'message': 'Revert ""Remove os-collect-config related poperties and attributes""\n\nThis reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.\n\nChange-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd\n'}, {'number': 2, 'created': '2019-07-01 15:32:59.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b5a2a61dfea167ed96b52098dbd5807b3fae44a6', 'message': 'Revert ""Remove os-collect-config related poperties and attributes""\n\nThis reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.\n\nCloses-Bug:  #1834881\n\nChange-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd\n'}]",0,668482,b5a2a61dfea167ed96b52098dbd5807b3fae44a6,17,8,2,11090,,,0,"Revert ""Remove os-collect-config related poperties and attributes""

This reverts commit 89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05.

Closes-Bug:  #1834881

Change-Id: I131cbafc126bcc4dbea5d38e0ff7adc177d114bd
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/82/668482/2 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,d09e1800002ccd33ff8a6dd418b8975129b157b5,bug/1832441," metadata: os-collect-config: command: {get_param: ConfigCommand} splay: {get_param: ConfigCollectSplay} deployed_server_deployment_swift_data_map: description: Map of Heat created hostname of the server to the Swift container and object used to created the temporary url for metadata polling with os-collect-config. value: map_replace: - hostname: container: str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 5 object: str_split: - '?' - str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 6 - 0 - keys: {hostname: {get_param: Hostname}} os_collect_config: description: The os-collect-config configuration associated with this server resource value: {get_attr: [{{server_resource_name}}, os_collect_config]}",,55,0
openstack%2Fplacement~master~I625118e934154249287d45ed114ed093531994eb,openstack/placement,master,I625118e934154249287d45ed114ed093531994eb,Gabbi test cases for can_split,ABANDONED,2019-05-09 19:18:25.000000000,2019-07-03 11:47:17.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-09 19:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/33978b2d996ee426b8ca733d151e80140ef27275', 'message': 'Gabbi test cases for can_split\n\nIntroduce gabbit allocation-candidates-can-split with some test cases\nfor the upcoming can_split feature. These are set up to xfail right now.\nWhen the feature is implemented, change this file as follows:\n\n- Bump the microversion in the header\n- Remove xfail:true\n- Adjust any error strings etc. according to the real implementation\n\nChange-Id: I625118e934154249287d45ed114ed093531994eb\nStory: #2005575\n'}, {'number': 2, 'created': '2019-05-10 19:00:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3d6e007e5e3154cb61caa4f00379dbb7eb2a29b6', 'message': 'Gabbi test cases for can_split\n\nIntroduce gabbit allocation-candidates-can-split with some test cases\nfor the upcoming can_split feature. These are set up to xfail right now.\nWhen the feature is implemented, change this file as follows:\n\n- Bump the microversion in the header\n- Remove xfail:true\n- Adjust any error strings etc. according to the real implementation\n\nChange-Id: I625118e934154249287d45ed114ed093531994eb\nStory: #2005575\n'}, {'number': 3, 'created': '2019-05-23 22:35:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/22698cf3664d5a02150126fd61a09548f44107db', 'message': 'Gabbi test cases for can_split\n\nIntroduce gabbit allocation-candidates-can-split with some test cases\nfor the upcoming can_split feature. These are set up to xfail right now.\nWhen the feature is implemented, change this file as follows:\n\n- Bump the microversion in the header\n- Remove xfail:true\n- Adjust any error strings etc. according to the real implementation\n\nChange-Id: I625118e934154249287d45ed114ed093531994eb\nStory: #2005575\n'}, {'number': 4, 'created': '2019-05-24 22:40:34.000000000', 'files': ['placement/tests/functional/gabbits/allocation-candidates-can-split.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/ee4dad77d82735361643177f18b82e4a8173e8eb', 'message': 'Gabbi test cases for can_split\n\nIntroduce gabbit allocation-candidates-can-split with some test cases\nfor the upcoming can_split feature. These are (mostly) set up to xfail\nright now. When the feature is implemented, change this file as follows:\n\n- Bump the microversion in the header\n- Remove xfail:true\n- Adjust any error strings etc. according to the real implementation\n\nChange-Id: I625118e934154249287d45ed114ed093531994eb\nStory: #2005575\n'}]",0,658192,ee4dad77d82735361643177f18b82e4a8173e8eb,13,3,4,14070,,,0,"Gabbi test cases for can_split

Introduce gabbit allocation-candidates-can-split with some test cases
for the upcoming can_split feature. These are (mostly) set up to xfail
right now. When the feature is implemented, change this file as follows:

- Bump the microversion in the header
- Remove xfail:true
- Adjust any error strings etc. according to the real implementation

Change-Id: I625118e934154249287d45ed114ed093531994eb
Story: #2005575
",git fetch https://review.opendev.org/openstack/placement refs/changes/92/658192/3 && git format-patch -1 --stdout FETCH_HEAD,['placement/tests/functional/gabbits/allocation-candidates-can-split.yaml'],1,33978b2d996ee426b8ca733d151e80140ef27275,can_split,"# Tests of allocation candidates API with can_split fixtures: - NUMANetworkFixture defaults: request_headers: x-auth-token: admin content-type: application/json accept: application/json # TODO(efried): Whatever placement microversion can_split goes into openstack-api-version: placement 1.32 xfail: true tests: - name: no such suffix GET: /allocation_candidates?resources=VCPU:1&can_split4=VCPU status: 400 response_strings: - can_split with unknown group suffix '4' - name: no such resource class in group GET: /allocation_candidates?resources1=VCPU:1&resources2=MEMORY_MB:1024&group_policy=none&can_split2=VCPU status: 400 response_strings: - can_split2 referenced resource class(es) 'VCPU' which is/are not in resources2 - name: multiple resource classes some not in group GET: /allocation_candidates?resources1=VCPU:1,MEMORY_MB:1024&resources2=DISK_GB:100&group_policy=none&can_split1=VCPU,DISK_GB status: 400 response_strings: - can_split1 referenced resource class(es) 'DISK_GB' which is/are not in resources1 - name: unnumbered simple GET: /allocation_candidates?resources=VCPU:6,MEMORY_MB=1024 status: 200 response_json_paths: $.allocation_requests.`len`: 2 # We get candidates from host 1 which split the VCPU between numa0 (which # has two remaining unused) and numa1. One candidate gets its memory from # numa0 and one from numa1 (the memory doesn't get split). # We don't hit host 2 because it only has 5 unused VCPUs. $.allocation_requests..allocations[""$ENVIRON['NUMA0_UUID']""].resources.VCPU: [2, 2] $.allocation_requests..allocations[""$ENVIRON['NUMA1_UUID']""].resources.VCPU: [4, 4] $.allocation_requests..allocations[""$ENVIRON['NUMA0_UUID']""].resources.MEMORY_MB: 1024 $.allocation_requests..allocations[""$ENVIRON['NUMA1_UUID']""].resources.MEMORY_MB: 1024 - name: granular single group complex # TODO(efried): group_policy=isolate would seem contradictory/nonsensical # here. What would that mean? GET: /allocation_candidates?group_policy=none&resources1=VCPU:2,MEMORY_MB:1280,DISK_GB=500&can_split1=VCPU,MEMORY_MB status: 200 response_json_paths: # TODO(efried): validate these candidates more granularly somehow - prove # that each individual candidate has the right total number of VCPU/MEM # # host 1 (DISK_GB always comes from ss1) # numa0 numa1 # VCPU 0 2 # 1 1 # 2 0 # (3 permutations) # x # MEMORY_MB # 512 768 # 768 512 # 1024 256 # 1280 0 # (4 permutations) # ==> 12 candidates from host 1 # + one result from host 2 (all from cn2) # ==> 13 candidates total $.allocation_requests.`len`: 13 - name: granular multiple groups complex GET: /allocation_candidates?group_policy=none&resources1=VCPU:2&resources2=MEMORY_MB:1280&resources3=DISK_GB=500&can_split1=VCPU&can_split2=MEMORY_MB status: 200 response_json_paths: # This should give the exact same result as above $.allocation_requests.`len`: 13 ",,81,0
openstack%2Fwatcher~master~Ia33cd4576e4b55e651f3f3779a01f2867126138d,openstack/watcher,master,Ia33cd4576e4b55e651f3f3779a01f2867126138d,improve OptGroup consistency across configuration,MERGED,2019-06-26 06:44:56.000000000,2019-07-03 11:45:00.000000000,2019-07-03 11:45:00.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-26 06:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/aee1db859821fca7628a89a14d3505b545b79f2e', 'message': 'improve-optgroup-consistency\n\nChange-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d\n'}, {'number': 2, 'created': '2019-06-26 08:23:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/47c8dbff2af371bcefa6f92bd8d9a458e90da2d2', 'message': 'improve OptGroup consistency across configuration\n\nThis is a follow-up to: https://review.opendev.org/#/c/666897/\nand makes sure titles and help information get rendered in\nthe configuration documentation and configuration samples.\n\nThe options for the placement_client group are already changed\nand left untouched as a result. The changes to grafana_client\nare already done in another patch and also untouched.\n\nChange-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d\n'}, {'number': 3, 'created': '2019-06-26 14:13:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/d9a7a7274451856027d29978b11fa4dae80f8b2c', 'message': 'improve OptGroup consistency across configuration\n\nThis is a follow-up to: https://review.opendev.org/#/c/666897/\nand makes sure titles and help information get rendered in\nthe configuration documentation and configuration samples.\n\nThe options for the placement_client group are already changed\nand left untouched as a result. The changes to grafana_client\nare already done in another patch and also untouched.\n\nChange-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d\n'}, {'number': 4, 'created': '2019-06-26 15:15:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/aa738219cac43c9633f628cbf38e6f7a95958be0', 'message': 'improve OptGroup consistency across configuration\n\nThis is a follow-up to: https://review.opendev.org/#/c/666897/\nand makes sure titles and help information get rendered in\nthe configuration documentation and configuration samples.\n\nThe options for the placement_client group are already changed\nand left untouched as a result. The changes to grafana_client\nare already done in another patch and also untouched.\n\nChange-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d\n'}, {'number': 5, 'created': '2019-07-01 07:30:19.000000000', 'files': ['watcher/conf/ironic_client.py', 'watcher/conf/decision_engine.py', 'watcher/conf/grafana_translators.py', 'watcher/conf/nova_client.py', 'watcher/conf/glance_client.py', 'watcher/conf/applier.py', 'watcher/conf/neutron_client.py', 'watcher/conf/cinder_client.py', 'watcher/conf/datasources.py', 'watcher/conf/keystone_client.py', 'watcher/conf/clients_auth.py', 'watcher/conf/ceilometer_client.py', 'watcher/conf/monasca_client.py', 'watcher/conf/gnocchi_client.py', 'watcher/tests/conf/test_list_opts.py', 'watcher/conf/db.py', 'watcher/conf/api.py', 'watcher/conf/_opts.py', 'watcher/conf/collector.py', 'watcher/conf/planner.py'], 'web_link': 'https://opendev.org/openstack/watcher/commit/cebee2c4d715b83e86b1b06e4960e4ae471700ec', 'message': 'improve OptGroup consistency across configuration\n\nThis is a follow-up to: https://review.opendev.org/#/c/666897/\nand makes sure titles and help information get rendered in\nthe configuration documentation and configuration samples.\n\nThe options for the placement_client group are already changed\nand left untouched as a result. The changes to grafana_client\nare already done in another patch and also untouched.\n\nChange-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d\n'}]",14,667522,cebee2c4d715b83e86b1b06e4960e4ae471700ec,22,5,5,29911,,,0,"improve OptGroup consistency across configuration

This is a follow-up to: https://review.opendev.org/#/c/666897/
and makes sure titles and help information get rendered in
the configuration documentation and configuration samples.

The options for the placement_client group are already changed
and left untouched as a result. The changes to grafana_client
are already done in another patch and also untouched.

Change-Id: Ia33cd4576e4b55e651f3f3779a01f2867126138d
",git fetch https://review.opendev.org/openstack/watcher refs/changes/22/667522/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,aee1db859821fca7628a89a14d3505b545b79f2e,improve-optgroup-consistency,,,0,0
openstack%2Fcinder~master~I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19,openstack/cinder,master,I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-26 07:07:05.000000000,2019-07-03 11:40:50.000000000,2019-07-03 11:40:50.000000000,"[{'_account_id': 4523}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24921}, {'_account_id': 25678}, {'_account_id': 26537}, {'_account_id': 27615}, {'_account_id': 27621}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2019-06-26 07:07:05.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/cinder/commit/a49f8c42f93459ee42a6030b132c90cb94df0f23', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19\n'}]",0,667525,a49f8c42f93459ee42a6030b132c90cb94df0f23,26,21,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I88ed5ba7c7b186cc8f2af35b30f01d09b2ac5a19
",git fetch https://review.opendev.org/openstack/cinder refs/changes/25/667525/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,a49f8c42f93459ee42a6030b132c90cb94df0f23,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.3;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.3;python_version>='3.4' # BSD",1,1
openstack%2Foperations-guide~master~I809124fef1fd480a5561ca94c8357bf9f3d3cd7d,openstack/operations-guide,master,I809124fef1fd480a5561ca94c8357bf9f3d3cd7d,Add bindep.txt,MERGED,2019-07-03 09:33:57.000000000,2019-07-03 11:26:34.000000000,2019-07-03 11:26:34.000000000,"[{'_account_id': 6547}, {'_account_id': 15334}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 09:33:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/a3c10f68b947cf9409331985dac997fdb5c82bc7', 'message': 'Add bindep.txt\n\nFor translations, we need gettext installed. With the recent removal\nof the bindep fallback file, we need to provide our own.\n\nChange-Id: I809124fef1fd480a5561ca94c8357bf9f3d3cd7d\n'}]",0,668845,a3c10f68b947cf9409331985dac997fdb5c82bc7,7,3,1,6547,,,0,"Add bindep.txt

For translations, we need gettext installed. With the recent removal
of the bindep fallback file, we need to provide our own.

Change-Id: I809124fef1fd480a5561ca94c8357bf9f3d3cd7d
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/45/668845/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,a3c10f68b947cf9409331985dac997fdb5c82bc7,fix-translations,# This is a cross-platform list tracking distribution packages needed by tests; # see https://docs.openstack.org/infra/bindep/ for additional information. gettext graphviz libjpeg-dev [platform:dpkg] libjpeg-turbo-devel [platform:rpm] python-dev [platform:dpkg] python-devel [platform:rpm] zlib-devel [platform:rpm] zlib1g-dev [platform:dpkg] ,,11,0
openstack%2Fmanila-ui~master~I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc,openstack/manila-ui,master,I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc,Use openstack-python3-train-jobs for python3 test runtime,MERGED,2019-06-21 06:04:18.000000000,2019-07-03 11:25:26.000000000,2019-07-03 11:25:26.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 26968}, {'_account_id': 29313}]","[{'number': 1, 'created': '2019-06-21 06:04:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/48ab2671b88390821e3b4cd2effcc5a6b84ee0fa', 'message': 'Use openstack-python3-train-jobs for python3 test runtime\n\nDepends-On:https://review.opendev.org/#/c/641878/\n\nChange-Id: I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc\n'}, {'number': 2, 'created': '2019-07-03 01:23:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/manila-ui/commit/386735f691e0bd8679b084953d69b9b9db4c1a8d', 'message': 'Use openstack-python3-train-jobs for python3 test runtime\n\nChange-Id: I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc\n'}]",1,666776,386735f691e0bd8679b084953d69b9b9db4c1a8d,11,10,2,27822,,,0,"Use openstack-python3-train-jobs for python3 test runtime

Change-Id: I7effff7fbd26b475fdc9b595bfdd5fcc788dd2cc
",git fetch https://review.opendev.org/openstack/manila-ui refs/changes/76/666776/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,48ab2671b88390821e3b4cd2effcc5a6b84ee0fa,python3-train, - openstack-python3-train-jobs, - openstack-python36-jobs-horizon - openstack-python37-jobs-horizon,1,2
openstack%2Fopenstack-helm-images~master~Ibbd43c931f26611027a8331fb0c0391f62e8d734,openstack/openstack-helm-images,master,Ibbd43c931f26611027a8331fb0c0391f62e8d734,Upstream to new location first time,ABANDONED,2019-07-03 11:21:38.000000000,2019-07-03 11:25:15.000000000,,[],"[{'number': 1, 'created': '2019-07-03 11:21:38.000000000', 'files': ['zuul.d/calicoctl-utility.yaml', 'doc/source/tempest.rst', 'zuul.d/tempest.yaml', 'mini-mirror/sources/aptly-example/squeeze/packages.txt', 'openstack/loci/build-queens.sh', 'patroni/build.sh', 'openstack/loci/build-ocata.sh', 'mini-mirror/etc/aptly.conf', 'libvirt/build.sh', 'openstack/loci/build-rocky.sh', 'prometheus-openstack-exporter/exporter/base.py', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'nagios/plugins/send_host_trap.sh', 'prometheus-openstack-exporter/exporter/check_os_api.py', 'doc/source/openvswitch.rst', 'nagios/apache2/ports.conf', 'zuul.d/playbooks/build-loci.yml', 'zuul.d/libvirt.yaml', 'nagios/plugins/check_prometheus_metric.sh', 'openvswitch/Dockerfile.ubuntu_bionic', 'zuul.d/nagios.yaml', 'prometheus-openstack-exporter/exporter/neutron_agents.py', 'prometheus-openstack-exporter/exporter/osclient.py', 'doc/source/loci.rst', 'doc/source/vbmc.rst', 'nagios/plugins/send_http_post_event.py', 'tempest/Dockerfile.ubuntu_xenial', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build-pike.sh', 'osh-selenium/Dockerfile.ubuntu_xenial', 'zuul.d/openvswitch.yaml', 'zuul.d/fluentd.yaml', 'elasticsearch-s3/build.sh', 'doc/source/_templates/.placeholder', 'libvirt/ubuntu-install-libvirt.sh', 'releasenotes/source/_templates/.placeholder', 'zuul.d/ceph-rbd-provisioner.yaml', 'README_MAKEFILE', 'prometheus-openstack-exporter/exporter/main.py', 'ceph-daemon/build.sh', 'nagios/plugins/query_es_failedlogins.py', 'nagios/plugins/query_prometheus_alerts.py', 'zuul.d/ceph-cephfs-provisioner.yaml', 'nagios/apache2/sites-available/nagios.conf', 'libvirt/Dockerfile.suse_15', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'mariadb/build.sh', 'libvirt/Dockerfile.ubuntu_bionic', 'prometheus-openstack-exporter/build.sh', 'gate-utils/Dockerfile.suse_15', 'libvirt/suse_leap15_virtualization_repo.key', 'mini-mirror/build.sh', 'ceph-config-helper/build.sh', 'doc/source/ceph-daemon.rst', 'patroni/Dockerfile.ubuntu_xenial', 'doc/source/index.rst', 'nagios/scripts/entrypoint.sh', 'vbmc/build.sh', 'calicoctl-utility/build.sh', 'doc/source/calicoctl-utility.rst', 'mini-mirror/sources/aptly-example/squeeze/source.txt', 'openvswitch/Dockerfile.suse_15', 'doc/source/ceph-config-helper.rst', 'prometheus-openstack-exporter/exporter/nova_services.py', '.gitreview', 'zuul.d/ceph-daemon.yaml', 'README.rst', 'fluentd/Dockerfile.debian', 'setup.py', 'doc/source/gate-utils.rst', 'zuul.d/osh-selenium.yaml', 'ceph-utility/Dockerfile.ubuntu_xenial', 'osh-selenium/Dockerfile.opensuse_15', 'releasenotes/notes/.placeholder', 'fluentd/build.sh', 'openvswitch/build.sh', 'tempest/Dockerfile.opensuse_15', 'CONTRIBUTING.rst', 'nagios/plugins/check_exporter_health_metric.py', 'osh-selenium/linux_signing_key.pub', 'nagios/plugins/check_rest_get_api.py', 'LICENSE', 'prometheus-openstack-exporter/Dockerfile.ubuntu_xenial', 'ceph-config-helper/Dockerfile.suse_15', 'libvirt/suse_sle15_ceph_repo.key', 'nagios/plugins/query_elasticsearch.py', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'nagios/plugins/send_service_trap.sh', 'mini-mirror/Dockerfile.ubuntu_xenial', 'prometheus-openstack-exporter/exporter/hypervisor_stats.py', 'releasenotes/source/index.rst', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial', 'zuul.d/vbmc.yaml', 'nagios/plugins/define-nagios-hosts.py', 'ceph-cephfs-provisioner/build.sh', 'openvswitch/Dockerfile.ubuntu_bionic-dpdk', 'mini-mirror/README.rst', 'openstack/loci/build-stein.sh', 'prometheus-openstack-exporter/exporter/cinder_services.py', 'zuul.d/playbooks/Dockerfile', 'libvirt/Dockerfile.ubuntu_xenial', 'setup.cfg', 'tox.ini', 'elasticsearch-s3/Dockerfile.5_6_4', 'nagios/scripts/snmp-mibs/NAGIOS-NOTIFY-MIB', '.gitignore', 'vbmc/Dockerfile.suse_15', 'mini-mirror/tools/publish_snapshots.sh', 'Makefile', 'zuul.d/patroni.yaml', 'mariadb/Dockerfile.ubuntu_xenial', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey', 'openstack/loci/build.sh', 'ceph-rbd-provisioner/build.sh', 'nagios/Dockerfile.ubuntu_xenial', 'osh-selenium/build.sh', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'zuul.d/mini-mirror.yaml', 'ceph-utility/build.sh', 'releasenotes/source/_static/.placeholder', 'tempest/build.sh', 'openvswitch/Dockerfile.debian', 'gate-utils/Dockerfile.debian', 'prometheus-openstack-exporter/exporter/__init__.py', 'vbmc/Dockerfile.centos_7', 'calicoctl-utility/Dockerfile.alpine', 'doc/source/conf.py', 'doc/source/mariadb.rst', 'openstack/loci/build-newton.sh', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'nagios/scripts/snmp-mibs/NAGIOS-ROOT-MIB', 'releasenotes/notes/image-name-convention-3acbf8dddd42427a.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'nagios/plugins/nagiosutil.py', 'releasenotes/source/unreleased.rst', 'gate-utils/build.sh', 'doc/source/_static/.placeholder', 'prometheus-openstack-exporter/exporter/oscache.py', 'doc/source/libvirt.rst', 'doc/requirements.txt', 'nagios/build.sh', 'zuul.d/mariadb.yaml', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/634d94f51cac32c063c63e3cd3207485ee07ca2f', 'message': 'Upstream to new location first time\n\nChange-Id: Ibbd43c931f26611027a8331fb0c0391f62e8d734\n'}]",0,668867,634d94f51cac32c063c63e3cd3207485ee07ca2f,2,0,1,30120,,,0,"Upstream to new location first time

Change-Id: Ibbd43c931f26611027a8331fb0c0391f62e8d734
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/67/668867/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/calicoctl-utility.yaml', 'doc/source/tempest.rst', 'zuul.d/tempest.yaml', 'mini-mirror/sources/aptly-example/squeeze/packages.txt', 'openstack/loci/build-queens.sh', 'patroni/build.sh', 'openstack/loci/build-ocata.sh', 'mini-mirror/etc/aptly.conf', 'libvirt/build.sh', 'openstack/loci/build-rocky.sh', 'prometheus-openstack-exporter/exporter/base.py', 'ceph-cephfs-provisioner/Dockerfile.ubuntu_xenial', 'nagios/plugins/send_host_trap.sh', 'prometheus-openstack-exporter/exporter/check_os_api.py', 'doc/source/openvswitch.rst', 'nagios/apache2/ports.conf', 'zuul.d/playbooks/build-loci.yml', 'zuul.d/libvirt.yaml', 'nagios/plugins/check_prometheus_metric.sh', 'openvswitch/Dockerfile.ubuntu_bionic', 'zuul.d/nagios.yaml', 'prometheus-openstack-exporter/exporter/neutron_agents.py', 'prometheus-openstack-exporter/exporter/osclient.py', 'doc/source/loci.rst', 'doc/source/vbmc.rst', 'nagios/plugins/send_http_post_event.py', 'tempest/Dockerfile.ubuntu_xenial', 'zuul.d/elasticsearch-s3.yaml', 'zuul.d/openstack-loci.yaml', 'openstack/loci/build-pike.sh', 'osh-selenium/Dockerfile.ubuntu_xenial', 'zuul.d/openvswitch.yaml', 'zuul.d/fluentd.yaml', 'elasticsearch-s3/build.sh', 'doc/source/_templates/.placeholder', 'libvirt/ubuntu-install-libvirt.sh', 'releasenotes/source/_templates/.placeholder', 'zuul.d/ceph-rbd-provisioner.yaml', 'README_MAKEFILE', 'prometheus-openstack-exporter/exporter/main.py', 'ceph-daemon/build.sh', 'nagios/plugins/query_es_failedlogins.py', 'nagios/plugins/query_prometheus_alerts.py', 'zuul.d/ceph-cephfs-provisioner.yaml', 'nagios/apache2/sites-available/nagios.conf', 'libvirt/Dockerfile.suse_15', 'ceph-daemon/Dockerfile.ubuntu_xenial', 'mariadb/build.sh', 'libvirt/Dockerfile.ubuntu_bionic', 'prometheus-openstack-exporter/build.sh', 'gate-utils/Dockerfile.suse_15', 'libvirt/suse_leap15_virtualization_repo.key', 'mini-mirror/build.sh', 'ceph-config-helper/build.sh', 'doc/source/ceph-daemon.rst', 'patroni/Dockerfile.ubuntu_xenial', 'doc/source/index.rst', 'nagios/scripts/entrypoint.sh', 'vbmc/build.sh', 'calicoctl-utility/build.sh', 'doc/source/calicoctl-utility.rst', 'mini-mirror/sources/aptly-example/squeeze/source.txt', 'openvswitch/Dockerfile.suse_15', 'doc/source/ceph-config-helper.rst', 'prometheus-openstack-exporter/exporter/nova_services.py', '.gitreview', 'zuul.d/ceph-daemon.yaml', 'README.rst', 'fluentd/Dockerfile.debian', 'setup.py', 'doc/source/gate-utils.rst', 'zuul.d/osh-selenium.yaml', 'ceph-utility/Dockerfile.ubuntu_xenial', 'osh-selenium/Dockerfile.opensuse_15', 'releasenotes/notes/.placeholder', 'fluentd/build.sh', 'openvswitch/build.sh', 'tempest/Dockerfile.opensuse_15', 'CONTRIBUTING.rst', 'nagios/plugins/check_exporter_health_metric.py', 'osh-selenium/linux_signing_key.pub', 'nagios/plugins/check_rest_get_api.py', 'LICENSE', 'prometheus-openstack-exporter/Dockerfile.ubuntu_xenial', 'ceph-config-helper/Dockerfile.suse_15', 'libvirt/suse_sle15_ceph_repo.key', 'nagios/plugins/query_elasticsearch.py', 'zuul.d/ceph-utility.yaml', 'zuul.d/gate-utils.yaml', 'nagios/plugins/send_service_trap.sh', 'mini-mirror/Dockerfile.ubuntu_xenial', 'prometheus-openstack-exporter/exporter/hypervisor_stats.py', 'releasenotes/source/index.rst', 'ceph-rbd-provisioner/Dockerfile.ubuntu_xenial', 'zuul.d/vbmc.yaml', 'nagios/plugins/define-nagios-hosts.py', 'ceph-cephfs-provisioner/build.sh', 'openvswitch/Dockerfile.ubuntu_bionic-dpdk', 'mini-mirror/README.rst', 'openstack/loci/build-stein.sh', 'prometheus-openstack-exporter/exporter/cinder_services.py', 'zuul.d/playbooks/Dockerfile', 'libvirt/Dockerfile.ubuntu_xenial', 'setup.cfg', 'tox.ini', 'elasticsearch-s3/Dockerfile.5_6_4', 'nagios/scripts/snmp-mibs/NAGIOS-NOTIFY-MIB', '.gitignore', 'vbmc/Dockerfile.suse_15', 'mini-mirror/tools/publish_snapshots.sh', 'Makefile', 'zuul.d/patroni.yaml', 'mariadb/Dockerfile.ubuntu_xenial', 'tempest/Cloud:OpenStack:Master-openSUSE_Leap_15.0.gpgkey', 'openstack/loci/build.sh', 'ceph-rbd-provisioner/build.sh', 'nagios/Dockerfile.ubuntu_xenial', 'osh-selenium/build.sh', 'ceph-config-helper/Dockerfile.ubuntu_xenial', 'zuul.d/mini-mirror.yaml', 'ceph-utility/build.sh', 'releasenotes/source/_static/.placeholder', 'tempest/build.sh', 'openvswitch/Dockerfile.debian', 'gate-utils/Dockerfile.debian', 'prometheus-openstack-exporter/exporter/__init__.py', 'vbmc/Dockerfile.centos_7', 'calicoctl-utility/Dockerfile.alpine', 'doc/source/conf.py', 'doc/source/mariadb.rst', 'openstack/loci/build-newton.sh', 'zuul.d/base.yaml', 'zuul.d/ceph-config-helper.yaml', 'nagios/scripts/snmp-mibs/NAGIOS-ROOT-MIB', 'releasenotes/notes/image-name-convention-3acbf8dddd42427a.yaml', 'zuul.d/prometheus-openstack-exporter.yaml', 'nagios/plugins/nagiosutil.py', 'releasenotes/source/unreleased.rst', 'gate-utils/build.sh', 'doc/source/_static/.placeholder', 'prometheus-openstack-exporter/exporter/oscache.py', 'doc/source/libvirt.rst', 'doc/requirements.txt', 'nagios/build.sh', 'zuul.d/mariadb.yaml', 'releasenotes/source/conf.py']",146,634d94f51cac32c063c63e3cd3207485ee07ca2f,,,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'OpenStack Helm Images Release Notes' copyright = u'2018, OpenStack Developers' # openstackdocstheme options repository_name = 'openstack/openstack-helm-images' bug_project = '64' bug_tag = '' html_last_updated_fmt = '%Y-%m-%d %H:%M' use_storyboard = True # The version info for the project you're documenting, acts as replacement for # |version| and |release|, also used in various other places throughout the # built documents. # # The short X.Y version. # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'OpenStack-Helm-ImagesReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'OpenStack-Helm-ImagesReleaseNotes.tex', u'OpenStack-Helm-Images Release Notes Documentation', u'OpenStack Foundation', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'OpenStack-Helm-Imagesrereleasenotes', u'OpenStack-Helm-Images Release Notes Documentation', [u'OpenStack Foundation'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'OpenStack-Helm-Images ReleaseNotes', u'OpenStack-Helm-Images Release Notes Documentation', u'OpenStack Foundation', 'OpenStack-Helm-ImagesReleaseNotes', 'One line description of project.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] ",329,8577
openstack%2Fsahara~master~I2ad546957b8fa3251df869a048b5fe44eaa17fc1,openstack/sahara,master,I2ad546957b8fa3251df869a048b5fe44eaa17fc1,Imported Translations from Zanata,MERGED,2019-07-03 08:01:57.000000000,2019-07-03 10:52:36.000000000,2019-07-03 10:52:36.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 08:01:57.000000000', 'files': ['releasenotes/source/locale/it/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara/commit/36dfcd77590345c770453f5bfad66d45f217de8f', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I2ad546957b8fa3251df869a048b5fe44eaa17fc1\n'}]",0,668820,36dfcd77590345c770453f5bfad66d45f217de8f,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I2ad546957b8fa3251df869a048b5fe44eaa17fc1
",git fetch https://review.opendev.org/openstack/sahara refs/changes/20/668820/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/it/LC_MESSAGES/releasenotes.po'],1,36dfcd77590345c770453f5bfad66d45f217de8f,zanata/translations,"""POT-Creation-Date: 2019-07-02 08:55+0000\n""""PO-Revision-Date: 2019-07-02 10:35+0000\n""msgid """" ""MapR repositories now can be configured in general section of cluster "" ""template configs"" msgstr """" ""I repository MapR possono essere configurati nella sezione generale della "" ""configurazione dei template di cluster."" msgid ""Open ports for Kafka in Ambari plugin, closed bug 1512661"" msgstr ""Apertura delle porte per Kafka nel plugin Ambari, bug 1512661 chiuso"" msgid """" ""Operator can now use new CLI tool ``sahara-status upgrade check`` to check "" ""if Sahara deployment can be safely upgraded from N-1 to N release."" msgstr """" ""Gli operatori possono usare il nuovo strumento a riga di comando ``sahara-"" ""status upgrade check`` per verificare che l'intallazione di Sahara può "" ""essere aggiornata in sicurezza dalla versione N-1 alla N."" msgid """" ""Remove Impala 1.4.1, HBase 0.98.9, Hive 1.0, Hue 3.7 support in MapR 5.1.0 "" ""plugin"" msgstr """" ""Rimozione del supporto di Impala 1.4.1, HBase 0.98.9, Hive 1.0, Hue 3.7 dal "" ""plugin MapR 5.1.0."" msgid ""Removed support for the MapR 5.0.0 plugin."" msgstr ""Rimosso il supporto per il plugin MapR 5.0.0."" msgid ""Removed support for the Spark 1.0.0 plugin."" msgstr ""Rimosso il supporto per il plugin Spark 1.0.0."" msgid ""Removed support of Vanilla 2.6.0 plugin."" msgstr ""Rimosso il supporto per il plugin Vanilla 2.6.0."" msgid ""Removed unneeded volume serialization"" msgstr ""Rimossa la serializzazione non necessaria dei volumi"" msgid ""Sahara's APIv2 is now considered stable, and no longer experimental."" msgstr ""L'APIv2 di Sahara è ora considerata stabile e non più sperimentale."" msgid """" ""Sample configuration files previously installed in share/sahara will now be "" ""installed into etc/sahara instead."" msgstr """" ""I file di configurazione di Sahara installati in precedenza in share/sahara "" ""saranno installati invece in etc/sahara."" msgid ""Spark workers are found by fqdn"" msgstr ""I nodi worker di Spark sono individuati tramite FQDN"" msgid ""Start using reno to manage release notes."" msgstr ""Inizio dell'uso di reno per gestire le note di rilascio."" msgid ""Starting Ambari clusters on Centos 7 is fixed."" msgstr ""L'avvio di cluster Ambari su CentOS 7 è stato corretto."" msgid ""Stein Series Release Notes"" msgstr ""Note di rilascio per la serie Stein"" msgid ""Storm 1.1.0 is supported in Storm plugin."" msgstr ""Storm 1.1.0 è supportato dal plugin Storm."" msgid ""Support deploy hadoop 2.7.5 with vanilla plugin."" msgstr """" ""Supporto per la creazione di cluster con hadoop 2.7.5 nel plugin vanilla"" msgid ""Support deploy hadoop 2.8.2 with vanilla plugin."" msgstr """" ""Supporto per la creazione di cluster con hadoop 2.8.2 nel plugin vanilla"" msgid """" ""Support for nova-network is removed, reflective of its removal from nova "" ""itself and from python-novaclient. use_neutron=False is unsupported."" msgstr """" ""Il supporto a nova-network è stato rimosso a seguito della sua rimozione da "" ""nova stesso e da python-novaclient. use_neutron=False non è più supportato."" msgid """" ""The ability to force delete clusters is exposed in Sahara APIv2. The Heat "" ""service must support Stack Abandon for force delete to function properly."" msgstr """" ""La possibilità di eliminare forzatamente i cluster è stata resa disponibile "" ""nell'APIv2 di Sahara. Il servizio Heat deve supportare la funzione di "" ""abbandono dello stack (Stack Abandon) affinché la rimozione forzata funzioni "" ""correttamente."" msgid """" ""The behavior of force deletion of clusters (APIv2) has changed. Stack-"" ""abandon is no longer used. The response from the force-delete API call now "" ""includes the name of the stack which had underlain that deleted cluster."" msgstr """" ""Il comportamento della rimozione forzata dei cluster (APIv2) è cambiato. La "" ""funzione di abbandono dei cluster non è più usata. La risposta alla chiamata "" ""dell'API force-delete adesso include il nome dello stack che era alla base "" ""del cluster eliminato."" msgid """" ""The experimental APIv2 supports simultaneous creation of multiple clusters "" ""only through POST /v2/clusters (using the `count` parameter). The POST /v2/"" ""clusters/multiple endpoint has been removed."" msgstr """" ""APIv2, la versione sperimentale delle API, supporta la creazione simultanea "" ""di più cluster esclusivamente tramite POST /v2/clusters (usando il parametro "" ""`count`). L'endpoint POST /v2/clusters/multiple endpoint è stato rimosso."" msgid """" ""The following service versions were added to MapR 5.2.0 plugin - HBase 1.1 - "" ""Drill 1.6 - Mahout 0.11 0.12 - Spark 1.6.1 - Impala 2.5"" msgstr """" ""Sono stati aggiunte le seguenti versioni di servizi al plugin MapR 5.2.0 - "" ""HBase 1.1 - Drill 1.6 - Mahout 0.11 0.12 - Spark 1.6.1 - Impala 2.5"" msgid """" ""The following service versions were added to MapR 5.2.0 plugin - Pig 0.16 - "" ""Spark 2.0.1 - Hue 3.10 - Drill 1.8, 1.9"" msgstr """" ""Sono stati aggiunte le seguenti versioni di servizi al plugin MapR 5.2.0 - "" ""Pig 0.16 - Spark 2.0.1 - Hue 3.10 - Drill 1.8, 1.9"" msgid ""The presence of project ID in Sahara APIv1 paths is now optional."" msgstr """" ""La presenza dell'ID del progetto nei percorsi della APIv1 di Sahara è ora "" ""opzionale."" msgid ""This patch adds ability to work with swift by using Keystone API v3"" msgstr ""Questa patch permette di usare swift usando l'API v3 di Keystone"" msgid ""Upgrade Notes"" msgstr ""Note di aggiornamento"" msgid """" ""Users of Sahara's APIv2 may request a microversion of that API, with "" ""\""OpenStack-API-Version: data-processing [version]\"" in the request headers."" msgstr """" ""Gli utenti dell'APIv2 di Sahara possono richiedere una specifica "" ""microversione dell'API tramite \""OpenStack-API-Version: data-processing "" ""[versione]\"" nelle intestazioni della richiesta."" msgid ""Versions 5.0.0 5.3.0 and 5.4.0 of Cloudera plugin are removed."" msgstr """" ""Le versioni 5.0.0, 5.3.0 e 5.4.0 del plugin Cloudera sono state rimosse."" msgid ""Versions 5.5.0 and 5.7.0 of Cloudera plugin are declared as stable."" msgstr """" ""Le versioni 5.5.0 e 5.7.0 del plugin Cloudera sono state dichiarate stabili."" msgid """" ""We are removing some plugins versions. Those are CDH 5.5.0, MapR 5.1.0, "" ""Spark 1.3.1 and Storm 0.9.2."" msgstr """" ""Abbiamo rimosso alcune versioni di plugin. Si tratta di CDH 5.5.0, MapR "" ""5.1.0, Spark 1.3.1 e Storm 0.9.2."" msgid """" ""migration from keystoneclient to keystoneauth is done for using auth "" ""features of keystone."" msgstr """" ""la migrazione da keystoneclient a keystoneauth è stata effettuata per usare "" ""le funzionalità di autenticazione di keystone.""","""POT-Creation-Date: 2019-07-01 15:11+0000\n""""PO-Revision-Date: 2019-07-01 10:22+0000\n""",162,2
openstack%2Fcyborg~master~Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde,openstack/cyborg,master,Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde,Resource report to placement,ABANDONED,2018-09-10 03:07:10.000000000,2019-07-03 10:37:28.000000000,,"[{'_account_id': 18625}, {'_account_id': 22348}, {'_account_id': 23735}, {'_account_id': 25738}, {'_account_id': 27458}]","[{'number': 1, 'created': '2018-09-10 03:07:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/b867470eaf904cc592335aea775caa6c21ed70e4', 'message': 'Resource report to placement\n\nGenerate resource provider tree, report resource to placement.\n\nChange-Id: Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde\n'}, {'number': 2, 'created': '2018-09-10 03:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg/commit/aac53cd865c92941ec3859160bab4cffbcb2542d', 'message': 'Resource report to placement\n\nGenerate resource provider tree, report resource to placement.\n\nChange-Id: Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde\n'}, {'number': 3, 'created': '2018-10-11 10:28:49.000000000', 'files': ['cyborg/agent/resource_tracker.py', 'cyborg/services/report.py', 'cyborg/accelerator/drivers/fpga/utils.py', 'cyborg/agent/manager.py', 'cyborg/i18n.py', 'cyborg/common/exception.py', 'cyborg/agent/rc_fields.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py'], 'web_link': 'https://opendev.org/openstack/cyborg/commit/16d82f2dcbd1f515d93fd203430c53254259ff94', 'message': 'Resource report to placement\n\nGenerate resource provider tree, report resource to placement.\n\nChange-Id: Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde\n'}]",9,601150,16d82f2dcbd1f515d93fd203430c53254259ff94,13,5,3,25738,,,0,"Resource report to placement

Generate resource provider tree, report resource to placement.

Change-Id: Idc3e5ce0678adcbd488e11f3057e7e4aae1f7dde
",git fetch https://review.opendev.org/openstack/cyborg refs/changes/50/601150/2 && git format-patch -1 --stdout FETCH_HEAD,"['cyborg/agent/resource_tracker.py', 'cyborg/services/report.py', 'cyborg/accelerator/drivers/fpga/utils.py', 'cyborg/i18n.py', 'cyborg/common/exception.py', 'cyborg/agent/rc_fields.py', 'cyborg/accelerator/drivers/fpga/intel/sysinfo.py']",7,b867470eaf904cc592335aea775caa6c21ed70e4,resource-report,"from cyborg import objects SYS_FPGA = ""/tmp/sys/class/fpga"" devs.append(_generate_driver_fpga_obj(fpga)) def _generate_driver_fpga_obj(fpga): fpga_obj = objects.DriverAccelerator() fpga_obj.vendor_id = fpga[""vendor_id""] fpga_obj.interface_type = ""pci"" fpga_obj.product_id = fpga[""product_id""] fpga_obj.remotable = False fpga_obj.name = fpga[""name""] dpfs = _get_pf_list(fpga) fpga_obj.pf_list = dpfs return fpga_obj def _get_pf_list(fpga): dpf = objects.DriverPF() dpf.name = fpga[""name""] dpf.assignable = True dpf.address = fpga[""devices""] if fpga.get(""regions"", None): dpf.assignable = False dpf.vf_list = _get_vf_list(fpga[""regions""]) return [dpf] def _get_vf_list(fpga_regions): vf_list = [] for vf in fpga_regions: dvf = objects.DriverVF() dvf.name = vf[""name""] dvf.assignable = True dvf.address = vf[""devices""] vf_list.append(dvf) return vf_list"," SYS_FPGA = ""/sys/class/fpga"" devs.append(fpga)",224,6
openstack%2Fkarbor-dashboard~master~I1eea1cf828ada4c4ee59dc4621f60c90cf521655,openstack/karbor-dashboard,master,I1eea1cf828ada4c4ee59dc4621f60c90cf521655,Switch to the new canonical constraints URL on master,MERGED,2019-07-03 07:59:07.000000000,2019-07-03 09:44:33.000000000,2019-07-03 09:44:33.000000000,"[{'_account_id': 21224}, {'_account_id': 22348}, {'_account_id': 29272}]","[{'number': 1, 'created': '2019-07-03 07:59:07.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/karbor-dashboard/commit/e06dbf28252ba1fa27f032381de81500a70f2c8e', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I1eea1cf828ada4c4ee59dc4621f60c90cf521655\n'}]",0,668818,e06dbf28252ba1fa27f032381de81500a70f2c8e,7,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I1eea1cf828ada4c4ee59dc4621f60c90cf521655
",git fetch https://review.opendev.org/openstack/karbor-dashboard refs/changes/18/668818/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e06dbf28252ba1fa27f032381de81500a70f2c8e,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fpython-watcherclient~master~Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6,openstack/python-watcherclient,master,Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6,Add Python3 Train unit tests,MERGED,2019-07-03 03:20:15.000000000,2019-07-03 09:29:06.000000000,2019-07-03 09:29:06.000000000,"[{'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-07-03 03:20:15.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-watcherclient/commit/3caa385548839f54ba0ade522c53fbfbdc6feb5f', 'message': 'Add Python3 Train unit tests\n\nThis is one goal of Train Cycle.\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6\n'}]",0,668778,3caa385548839f54ba0ade522c53fbfbdc6feb5f,7,3,1,21692,,,0,"Add Python3 Train unit tests

This is one goal of Train Cycle.
See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: Id5a150cbfa658383f6ae7958a06ebe3a4f9047e6
",git fetch https://review.opendev.org/openstack/python-watcherclient refs/changes/78/668778/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,3caa385548839f54ba0ade522c53fbfbdc6feb5f,python3-train,"envlist = py36,py37,py27,pep8","envlist = py36,py27,pep8",3,3
openstack%2Fcharm-deployment-guide~master~Ic2652ba7d317e5adb93a5cf93a813d37f29efd87,openstack/charm-deployment-guide,master,Ic2652ba7d317e5adb93a5cf93a813d37f29efd87,Use explicit relations for vault and etcd,MERGED,2019-07-03 08:51:37.000000000,2019-07-03 09:27:17.000000000,2019-07-03 09:27:16.000000000,"[{'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 08:51:37.000000000', 'files': ['deploy-guide/source/app-vault.rst'], 'web_link': 'https://opendev.org/openstack/charm-deployment-guide/commit/0ef6df3e8288c6df09442677e9b27d9668fa3f77', 'message': ""Use explicit relations for vault and etcd\n\nNow etcd and vault have two relations. Also, it's nice to have explicit\nrelations for others for the future.\n\nChange-Id: Ic2652ba7d317e5adb93a5cf93a813d37f29efd87\nClose-Bug: #1835165\n""}]",0,668830,0ef6df3e8288c6df09442677e9b27d9668fa3f77,6,2,1,8108,,,0,"Use explicit relations for vault and etcd

Now etcd and vault have two relations. Also, it's nice to have explicit
relations for others for the future.

Change-Id: Ic2652ba7d317e5adb93a5cf93a813d37f29efd87
Close-Bug: #1835165
",git fetch https://review.opendev.org/openstack/charm-deployment-guide refs/changes/30/668830/1 && git format-patch -1 --stdout FETCH_HEAD,['deploy-guide/source/app-vault.rst'],1,0ef6df3e8288c6df09442677e9b27d9668fa3f77,bug/1835165, juju add-relation vault:shared-db percona-cluster:shared-db juju add-relation vault:ha vault-hacluster:ha juju add-relation etcd:certificates easyrsa:client juju add-relation etcd:db vault:etcd juju add-relation vault:shared-db percona-cluster:shared-db, juju add-relation vault percona-cluster juju add-relation vault vault-hacluster juju add-relation etcd easyrsa juju add-relation etcd vault juju add-relation vault percona-cluster,5,5
openstack%2Fopenstack-chef~master~I59ecca24bb691c03aa261ad5380f8ee688c9df72,openstack/openstack-chef,master,I59ecca24bb691c03aa261ad5380f8ee688c9df72,DNM: Install chef pkg safely,ABANDONED,2019-07-01 08:21:03.000000000,2019-07-03 09:25:54.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-01 08:21:03.000000000', 'files': ['playbooks/pre-integration.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-chef/commit/732663d9e258c3521e09065d25299c46002481da', 'message': 'DNM: Install chef pkg safely\n\nThis is just to verify whether this works properly, would need to be\namended into 666176 then.\n\nChange-Id: I59ecca24bb691c03aa261ad5380f8ee688c9df72\n'}]",0,668386,732663d9e258c3521e09065d25299c46002481da,3,1,1,13252,,,0,"DNM: Install chef pkg safely

This is just to verify whether this works properly, would need to be
amended into 666176 then.

Change-Id: I59ecca24bb691c03aa261ad5380f8ee688c9df72
",git fetch https://review.opendev.org/openstack/openstack-chef refs/changes/86/668386/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/pre-integration.yaml'],1,732663d9e258c3521e09065d25299c46002481da,chef-client-proper, - name: Download chef package shell: wget https://packages.chef.io/files/stable/chef/14.13.11/ubuntu/18.04/chef_14.13.11-1_amd64.deb shell: dpkg -i chef_14.13.11-1_amd64.deb, shell: curl -L https://omnitruck.chef.io/install.sh | sudo bash -s -- -v 14,3,1
openstack%2Fkolla-ansible~stable%2Frocky~I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,openstack/kolla-ansible,stable/rocky,I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,(Rocky and Queens only) CI: Fix ceph jobs for kolla,MERGED,2019-06-30 18:54:43.000000000,2019-07-03 09:13:19.000000000,2019-07-03 09:13:19.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-30 18:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5d3a7e1128b9f12fe85651599df8f3a434f86b61', 'message': '(Rocky only) CI: Fix ceph jobs for kolla\n\nThe way Zuul handles job dependencies caused the computed path\nto setup_ceph_disks.sh to be wrong when job was run due to kolla\n(as opposed to kolla-ansible) change.\n\nThis patch uses a relative path as is the case in Stein and later.\n\nChange-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-30 18:58:41.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/1d22714cfeb5bdde43255286549ea781d67f52dd', 'message': '(Rocky and Queens only) CI: Fix ceph jobs for kolla\n\nThe way Zuul handles job dependencies caused the computed path\nto setup_ceph_disks.sh to be wrong when job was run due to kolla\n(as opposed to kolla-ansible) change.\n\nThis patch uses a relative path as is the case in Stein and later.\n\nChange-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,668335,1d22714cfeb5bdde43255286549ea781d67f52dd,12,3,2,30491,,,0,"(Rocky and Queens only) CI: Fix ceph jobs for kolla

The way Zuul handles job dependencies caused the computed path
to setup_ceph_disks.sh to be wrong when job was run due to kolla
(as opposed to kolla-ansible) change.

This patch uses a relative path as is the case in Stein and later.

Change-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/35/668335/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,5d3a7e1128b9f12fe85651599df8f3a434f86b61,rocky-fix-ceph-jobs-for-kolla," script: ""setup_ceph_disks.sh"""," kolla_ansible_src_dir: ""src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_full_src_dir: ""{{ zuul.executor.work_root }}/{{ kolla_ansible_src_dir }}"" script: ""{{ kolla_ansible_full_src_dir }}/tests/setup_ceph_disks.sh""",1,3
openstack%2Fcharm-swift-proxy~master~I348ded9f94f2bcb7a680b2c2280ff163cde65c46,openstack/charm-swift-proxy,master,I348ded9f94f2bcb7a680b2c2280ff163cde65c46,Dispersion report,MERGED,2019-03-27 12:40:09.000000000,2019-07-03 09:08:06.000000000,2019-07-03 09:08:05.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 22348}, {'_account_id': 24504}]","[{'number': 1, 'created': '2019-03-27 12:40:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/d69c4f777b0062dd6166eb8743f4dcbeef585241', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 2, 'created': '2019-06-04 06:58:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/c9e37112f190416f7ea0356741f41086f67819bb', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 3, 'created': '2019-06-13 09:38:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/08010e52ee0cd330320c477be25082f5af801bce', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 4, 'created': '2019-06-18 13:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/117e506f001db1e1ef0e7fdd94576325f471fe75', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 5, 'created': '2019-06-19 14:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/7bec46a45e0943996f3720d4b1621ed8e7c6ca19', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 6, 'created': '2019-06-27 15:05:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/09f37fba48b7ae6e7f6f8154632754d16f8c150f', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}, {'number': 7, 'created': '2019-07-01 09:24:23.000000000', 'files': ['actions/actions.py', 'templates/queens/dispersion.conf', 'lib/swift_utils.py', 'actions/dispersion-populate', 'tests/basic_deployment.py', 'actions/dispersion-report', 'unit_tests/test_actions.py', 'unit_tests/test_swift_utils.py', 'actions.yaml', 'templates/icehouse/dispersion.conf'], 'web_link': 'https://opendev.org/openstack/charm-swift-proxy/commit/f9a02a3f584dd3ec6ad70493ad671818a42822ef', 'message': ""Dispersion report\n\nThis patchset adds a template for the 'dispersion.conf' file which is\nused for swift cluster health monitoring.\n\nChange-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46\nCloses-Bug: 1328064\n""}]",2,648114,f9a02a3f584dd3ec6ad70493ad671818a42822ef,51,4,7,24504,,,0,"Dispersion report

This patchset adds a template for the 'dispersion.conf' file which is
used for swift cluster health monitoring.

Change-Id: I348ded9f94f2bcb7a680b2c2280ff163cde65c46
Closes-Bug: 1328064
",git fetch https://review.opendev.org/openstack/charm-swift-proxy refs/changes/14/648114/6 && git format-patch -1 --stdout FETCH_HEAD,"['templates/queens/dispersion.conf', 'lib/swift_utils.py']",2,d69c4f777b0062dd6166eb8743f4dcbeef585241,bug/1328064,"SWIFT_DISPERSION_CONF = os.path.join(SWIFT_CONF_DIR, 'dispersion.conf') (SWIFT_DISPERSION_CONF, { 'hook_contexts': [SwiftIdentityContext()], 'services': [], }), SWIFT_DISPERSION_CONF,",,15,0
openstack%2Fdesignate~master~Ia6bb9d3f670f24377da870a1197f90785f249c9c,openstack/designate,master,Ia6bb9d3f670f24377da870a1197f90785f249c9c,Drop designate-pdns4-postgres job,ABANDONED,2019-07-02 10:19:07.000000000,2019-07-03 08:44:46.000000000,,"[{'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 10:19:07.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/designate/commit/91e00952596d7b7d8817a0b18535c0fbffbb7578', 'message': ""Drop designate-pdns4-postgres job\n\nThis didn't use postgres anymore since we switched from the\ndevstack-gate legacy jobs to the Zuul v3 version.\n\nChange-Id: Ia6bb9d3f670f24377da870a1197f90785f249c9c\n""}]",0,668648,91e00952596d7b7d8817a0b18535c0fbffbb7578,4,2,1,13252,,,0,"Drop designate-pdns4-postgres job

This didn't use postgres anymore since we switched from the
devstack-gate legacy jobs to the Zuul v3 version.

Change-Id: Ia6bb9d3f670f24377da870a1197f90785f249c9c
",git fetch https://review.opendev.org/openstack/designate refs/changes/48/668648/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,91e00952596d7b7d8817a0b18535c0fbffbb7578,drop-postgres-job,, name: designate-pdns4-postgres parent: designate-pdns4 vars: database: postgres - job: - designate-pdns4-postgres - designate-pdns4-postgres,0,8
openstack%2Fkuryr-tempest-plugin~master~I1e539802426e530ba00213f02d839d5e220ad3dc,openstack/kuryr-tempest-plugin,master,I1e539802426e530ba00213f02d839d5e220ad3dc,Remove test_kuryr_tempest_plugin.py,MERGED,2019-06-26 16:10:04.000000000,2019-07-03 08:32:42.000000000,2019-07-03 08:32:42.000000000,"[{'_account_id': 4727}, {'_account_id': 14352}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-26 16:10:04.000000000', 'files': ['kuryr_tempest_plugin/tests/test_kuryr_tempest_plugin.py'], 'web_link': 'https://opendev.org/openstack/kuryr-tempest-plugin/commit/ee968d17998dab8919f624a0396a4764f97249fd', 'message': ""Remove test_kuryr_tempest_plugin.py\n\nI assume we don't need a noop test_something() anymore.\n\nChange-Id: I1e539802426e530ba00213f02d839d5e220ad3dc\n""}]",0,667670,ee968d17998dab8919f624a0396a4764f97249fd,8,4,1,11600,,,0,"Remove test_kuryr_tempest_plugin.py

I assume we don't need a noop test_something() anymore.

Change-Id: I1e539802426e530ba00213f02d839d5e220ad3dc
",git fetch https://review.opendev.org/openstack/kuryr-tempest-plugin refs/changes/70/667670/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_tempest_plugin/tests/test_kuryr_tempest_plugin.py'],1,ee968d17998dab8919f624a0396a4764f97249fd,remove-test-something,,"# Copyright 2017 Red Hat, Inc. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. """""" test_kuryr_tempest_plugin ---------------------------------- Tests for `kuryr_tempest_plugin` module. """""" from tempest.lib import decorators from kuryr_tempest_plugin.tests import base class TestKuryr_tempest_plugin(base.BaseAdminKuryrTest): @decorators.idempotent_id('14990abd-76b4-476e-add2-321437d8cec5') def test_something(self): pass ",0,32
openstack%2Ftricircle~master~I5a4557446264766c5ad974fe6797db6fb92ecff0,openstack/tricircle,master,I5a4557446264766c5ad974fe6797db6fb92ecff0,Add more unit test case more than 80%,MERGED,2019-04-22 03:56:07.000000000,2019-07-03 08:10:40.000000000,2019-07-03 08:10:40.000000000,"[{'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-04-22 03:56:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1ec1c39219a944f75e3f1e9209733b312c4f406f', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 2, 'created': '2019-05-05 01:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1e9940afb40ed7a2a19ce08b0cd04be22db3be11', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 3, 'created': '2019-05-29 07:38:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/64a393d2296a26717293ef2efb86eb6c031a4f9f', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 4, 'created': '2019-05-29 09:49:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/34ccfa48a9cfdb33dba14c30be2c5e3dd86166e4', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 5, 'created': '2019-06-04 06:57:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/e906d5b412117bd9fe7d769b90f764e181bfac96', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 6, 'created': '2019-06-05 09:49:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/daf293127fb0779e436d8f502e342db5171a0a68', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 7, 'created': '2019-06-05 09:55:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/42e66045b35e206fa949742eff91d6a9658b189b', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 8, 'created': '2019-06-05 10:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c56922c22051691bdca06cf2bfdf634afb6287ea', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 9, 'created': '2019-06-06 01:44:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/219ebd22b12aa957af712efe6cbd8b693c108b55', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 10, 'created': '2019-07-03 03:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/c1e7c9a1e3d7f6c8d859f2d48356dad76037b0a7', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 11, 'created': '2019-07-03 04:43:03.000000000', 'files': ['tricircle/tests/unit/network/test_local_plugin.py', 'tricircle/network/helper.py', 'tricircle/tests/unit/cmd/test_cmd.py', 'tricircle/tests/unit/xjob/test_xmanager.py', 'tricircle/tests/unit/network/test_central_trunk_driver.py', 'tricircle/tests/unit/network/test_central_plugin.py', 'tricircle/network/central_plugin.py', 'tricircle/tests/unit/network/test_helper.py', 'tricircle/tests/unit/common/test_httpclient.py', 'tricircle/tests/unit/common/test_utils.py', 'tricircle/tests/unit/xjob/test_xservice.py', 'tox.ini', 'tricircle/network/central_trunk_driver.py'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/dd9b42bf6a614047982ec6910ed52cb7ed0d7291', 'message': 'Add more unit test case more than 80%\n\nChange-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0\nSigned-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}]",0,654291,dd9b42bf6a614047982ec6910ed52cb7ed0d7291,24,2,11,26133,,,0,"Add more unit test case more than 80%

Change-Id: I5a4557446264766c5ad974fe6797db6fb92ecff0
Signed-off-by: zhang xiaohan <zhangxiaohan@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/91/654291/11 && git format-patch -1 --stdout FETCH_HEAD,"['tricircle/tests/unit/common/test_httpclient.py', 'tricircle/tests/unit/network/test_local_plugin.py', 'tricircle/tests/unit/common/test_utils.py', 'tricircle/tests/unit/network/test_security_groups.py', 'tricircle/network/security_groups.py', 'tricircle/tests/unit/network/test_central_plugin.py']",6,1ec1c39219a944f75e3f1e9209733b312c4f406f,," """""" """""" """""" """""" @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(context, 'get_context_from_neutron_context') def test_subnet_clean(self, mock_context): self._basic_pod_route_setup() fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_admin_context() mock_context.return_value = t_ctx tenant_id = 'test_tenant_id' (t_net_id, t_subnet_id, t_router_id, b_net_id, b_subnet_id) = self._prepare_router_test( tenant_id, t_ctx, 'pod_1', 1) t_port_id = fake_plugin.add_router_interface( q_ctx, t_router_id, {'subnet_id': t_subnet_id})['port_id'] _, b_router_id = db_api.get_bottom_mappings_by_top_id( t_ctx, t_router_id, constants.RT_ROUTER)[0] port_num = len(TOP_PORTS) pre_created_port_num = 0 for port in TOP_PORTS: if port.get('name').startswith('dhcp_port_'): pre_created_port_num += 1 elif port.get('name').startswith('interface_'): pre_created_port_num += 1 elif port.get('device_owner') == 'network:router_interface': pre_created_port_num += 1 fake_plugin.remove_router_interface( q_ctx, t_router_id, {'port_id': t_port_id}) fake_plugin.delete_subnet(q_ctx, t_subnet_id) # check pre-created ports are all deleted self.assertEqual(port_num - pre_created_port_num, len(TOP_PORTS)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(FakeClient, 'action_routers') @patch.object(context, 'get_context_from_neutron_context') def test_add_interface_exception(self, mock_context, mock_action): self._basic_pod_route_setup() fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx tenant_id = TEST_TENANT_ID (t_net_id, t_subnet_id, t_router_id, b_net_id, b_subnet_id) = self._prepare_router_test( tenant_id, t_ctx, 'pod_1', 1) with t_ctx.session.begin(): entries = core.query_resource(t_ctx, models.ResourceRouting, [{'key': 'resource_type', 'comparator': 'eq', 'value': 'port'}], []) entry_num = len(entries) mock_action.side_effect = q_exceptions.ConnectionFailed self.assertRaises(q_exceptions.ConnectionFailed, fake_plugin.add_router_interface, q_ctx, t_router_id, {'subnet_id': t_subnet_id}) self.assertEqual(0, len(TOP_ROUTERS[0]['attached_ports'])) with t_ctx.session.begin(): entries = core.query_resource(t_ctx, models.ResourceRouting, [{'key': 'resource_type', 'comparator': 'eq', 'value': 'port'}], []) # one new entry, for top bridge port self.assertEqual(entry_num + 1, len(entries)) # top and bottom interface is deleted, only top bridge port left self.assertEqual(1, len(TOP_PORTS)) self.assertEqual(0, len(BOTTOM1_PORTS)) mock_action.side_effect = None fake_plugin.add_router_interface(q_ctx, t_router_id, {'subnet_id': t_subnet_id}) # just bottom dhcp port, bottom interface is not created because # action_routers function is mocked self.assertEqual(1, len(BOTTOM1_PORTS)) with t_ctx.session.begin(): entries = core.query_resource(t_ctx, models.ResourceRouting, [{'key': 'resource_type', 'comparator': 'eq', 'value': 'port'}], []) # three more entries, for top and bottom dhcp ports, top interface self.assertEqual(entry_num + 1 + 3, len(entries)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(FakeClient, '_get_connection') @patch.object(context, 'get_context_from_neutron_context') def test_add_interface_exception_port_left(self, mock_context, mock_connect): self._basic_pod_route_setup() fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_admin_context() mock_context.return_value = t_ctx tenant_id = TEST_TENANT_ID (t_net_id, t_subnet_id, t_router_id, b_net_id, b_subnet_id) = self._prepare_router_test( tenant_id, t_ctx, 'pod_1', 1) mock_connect.side_effect = q_exceptions.ConnectionFailed self.assertRaises(q_exceptions.ConnectionFailed, fake_plugin.add_router_interface, q_ctx, t_router_id, {'subnet_id': t_subnet_id}) # top interface is removed self.assertEqual(0, len(TOP_ROUTERS[0]['attached_ports'])) mock_connect.side_effect = None # test that we can success when bottom pod comes back fake_plugin.add_router_interface( q_ctx, t_router_id, {'subnet_id': t_subnet_id}) # bottom dhcp port, bottom interface and bridge gateway port self.assertEqual(3, len(BOTTOM1_PORTS)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(FakeBaseRPCAPI, 'configure_route') @patch.object(FakeClient, 'remove_interface_routers') @patch.object(context, 'get_context_from_neutron_context') def test_remove_interface(self, mock_context, mock_remove, mock_rpc): self._basic_pod_route_setup() fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_admin_context() mock_context.return_value = t_ctx tenant_id = TEST_TENANT_ID (t_net_id, t_subnet_id, t_router_id, b_net_id, b_subnet_id) = self._prepare_router_test( tenant_id, t_ctx, 'pod_1', 1) t_port_id = fake_plugin.add_router_interface( q_ctx, t_router_id, {'subnet_id': t_subnet_id})['port_id'] _, b_router_id = db_api.get_bottom_mappings_by_top_id( t_ctx, t_router_id, constants.RT_ROUTER)[0] for port in BOTTOM1_PORTS: if port['network_id'] == b_net_id and ( port['device_owner'] == 'network:router_interface'): b_interface_id = port['id'] fake_plugin.remove_router_interface( q_ctx, t_router_id, {'port_id': t_port_id}) mock_remove.assert_called_with( t_ctx, b_router_id, {'port_id': b_interface_id}) mock_rpc.assert_called_with(t_ctx, tenant_id, t_router_id) # fake_plugin.create_network(q_ctx, body) # self.assertEqual(1, len(TOP_FLATALLOCATIONS)) # self.assertEqual(1, len(BOTTOM1_NETS)) # self.assertEqual(1, len(BOTTOM2_NETS)) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_update_fip_assoc', new=_update_fip_assoc) @patch.object(FakeClient, 'create_floatingips') @patch.object(context, 'get_context_from_neutron_context') def test_create_floatingip(self, mock_context, mock_create): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx (t_port_id, b_port_id, _, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # in _prepare_associate_floatingip_test, we have created an empty fip, # but here we just ignore it and create a new fip by specifying fix ip # at the same time # we manaully remove the resource routing for port to construct the # scenario that bottom port has not been created db_api.delete_mappings_by_bottom_id(t_ctx, b_port_id) fip_body = {'floating_network_id': e_net['id'], 'port_id': t_port_id, 'tenant_id': TEST_TENANT_ID, 'subnet_id': None, 'floating_ip_address': None} fip = fake_plugin.create_floatingip(q_ctx, {'floatingip': fip_body}) self.assertFalse(mock_create.called) """""" fake_plugin.delete_floatingip(q_ctx, fip['id']) # put the resource routing back for the scenario that bottom port has # been created db_api.create_resource_mapping(t_ctx, t_port_id, b_port_id, 'pod_id_1', TEST_TENANT_ID, constants.RT_PORT) fip_body = {'floating_network_id': e_net['id'], 'port_id': t_port_id, 'tenant_id': TEST_TENANT_ID, 'subnet_id': None, 'floating_ip_address': None} fip = fake_plugin.create_floatingip(q_ctx, {'floatingip': fip_body}) b_ext_net_id = db_api.get_bottom_id_by_top_id_region_name( t_ctx, e_net['id'], 'pod_2', constants.RT_NETWORK) calls = [mock.call(t_ctx, {'floatingip': { 'floating_network_id': b_ext_net_id, 'floating_ip_address': fip[ 'floating_ip_address'], 'port_id': b_port_id}})] mock_create.assert_has_calls(calls) """""" @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(FakeClient, 'create_floatingips') def test_associate_floatingip(self, mock_context, mock_create): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx (t_port_id, b_port_id, fip, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # here we attach a subnet in pod2 to the router to test if the two # bottom routers can be successfully created _, t_subnet_id2, t_router_id, _, _ = self._prepare_router_test( TEST_TENANT_ID, t_ctx, 'pod_2', 2) fake_plugin.add_router_interface(q_ctx, t_router_id, {'subnet_id': t_subnet_id2}) # associate floating ip fip_body = {'port_id': t_port_id} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) b_ext_net_id = db_api.get_bottom_id_by_top_id_region_name( t_ctx, e_net['id'], 'pod_2', constants.RT_NETWORK) calls = [mock.call(t_ctx, {'floatingip': { 'floating_network_id': b_ext_net_id, 'floating_ip_address': fip[ 'floating_ip_address'], 'port_id': b_port_id}})] mock_create.assert_has_calls(calls) # routers for east-west networking and north-south networking self.assertEqual(2, len(BOTTOM2_ROUTERS)) # check routing entries for copied resources have been created fake_client = FakeClient() t_port = fake_client.get_ports(t_ctx, t_port_id) cp_port_mappings = db_api.get_bottom_mappings_by_top_id( t_ctx, t_port_id, constants.RT_SD_PORT) cp_subnet_mappings = db_api.get_bottom_mappings_by_top_id( t_ctx, t_port['fixed_ips'][0]['subnet_id'], constants.RT_SD_SUBNET) cp_network_mappings = db_api.get_bottom_mappings_by_top_id( t_ctx, t_port['network_id'], constants.RT_SD_NETWORK) # no resource routing entry for shadow port self.assertEqual(0, len(cp_port_mappings)) self.assertEqual(1, len(cp_subnet_mappings)) self.assertEqual(1, len(cp_network_mappings)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(l3_db.L3_NAT_dbonly_mixin, 'update_floatingip', new=update_floatingip) @patch.object(FakePlugin, '_rollback_floatingip_data') @patch.object(FakeRPCAPI, 'setup_bottom_router') @patch.object(context, 'get_context_from_neutron_context') def test_associate_floatingip_port_exception( self, mock_context, mock_setup, mock_rollback): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx (t_port_id, b_port_id, fip, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # associate floating ip and exception occurs # actually we will not get this exception when calling # setup_bottom_router, we set this exception for test purpose mock_setup.side_effect = q_exceptions.ConnectionFailed fip_body = {'port_id': t_port_id} self.assertRaises(q_exceptions.ConnectionFailed, fake_plugin.update_floatingip, q_ctx, fip['id'], {'floatingip': fip_body}) data = {'fixed_port_id': None, 'fixed_ip_address': None, 'router_id': None} mock_rollback.assert_called_once_with(q_ctx, fip['id'], data) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(l3_db.L3_NAT_dbonly_mixin, 'update_floatingip', new=update_floatingip) @patch.object(FakeClient, 'delete_floatingips') @patch.object(context, 'get_context_from_neutron_context') def test_disassociate_floatingip(self, mock_context, mock_delete): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx (t_port_id, b_port_id, fip, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # associate floating ip fip_body = {'port_id': t_port_id} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) # disassociate floating ip fip_body = {'port_id': None} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) fip_id = BOTTOM2_FIPS[0]['id'] mock_delete.assert_called_once_with(t_ctx, fip_id) # check the association information is cleared self.assertIsNone(TOP_FLOATINGIPS[0]['fixed_port_id']) self.assertIsNone(TOP_FLOATINGIPS[0]['fixed_ip_address']) self.assertIsNone(TOP_FLOATINGIPS[0]['router_id']) # no resource routing entry for shadow port cp_port_mappings = db_api.get_bottom_mappings_by_top_id( t_ctx, t_port_id, constants.RT_SD_PORT) self.assertEqual(0, len(cp_port_mappings)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(l3_db.L3_NAT_dbonly_mixin, 'update_floatingip', new=update_floatingip) @patch.object(FakeClient, 'delete_floatingips') @patch.object(context, 'get_context_from_neutron_context') def test_delete_floatingip(self, mock_context, mock_delete): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_db_context() mock_context.return_value = t_ctx (t_port_id, b_port_id, fip, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # associate floating ip fip_body = {'port_id': t_port_id} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) # disassociate floating ip # fake_plugin.delete_floatingip(q_ctx, fip['id']) # fip_id = BOTTOM2_FIPS[0]['id'] # mock_delete.assert_called_once_with(t_ctx, fip_id) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(l3_db.L3_NAT_dbonly_mixin, 'update_floatingip', new=update_floatingip) @patch.object(context, 'get_context_from_neutron_context') def test_delete_router(self, mock_context): fake_plugin = FakePlugin() q_ctx = FakeNeutronContext() t_ctx = context.get_admin_context() t_ctx.project_id = 'test_tenant_id' mock_context.return_value = t_ctx (t_port_id, b_port_id, fip, e_net) = self._prepare_associate_floatingip_test(t_ctx, q_ctx, fake_plugin) # associate floating ip fip_body = {'port_id': t_port_id} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) # disassociate floating ip fip_body = {'port_id': None} fake_plugin.update_floatingip(q_ctx, fip['id'], {'floatingip': fip_body}) t_router_id = TOP_ROUTERS[0]['id'] for port in TOP_PORTS: if port['id'] == t_port_id: t_subnet_id = port['fixed_ips'][0]['subnet_id'] fake_plugin.remove_router_interface(q_ctx, t_router_id, {'subnet_id': t_subnet_id}) fake_plugin.update_router(q_ctx, t_router_id, {'router': {'external_gateway_info': {}}}) top_res_sets = [TOP_NETS, TOP_SUBNETS, TOP_PORTS] top_res_nums = [len(top_res_set) for top_res_set in top_res_sets] top_pre_created_res_nums = [0, 0, 0] for i, top_res_set in enumerate(top_res_sets): for top_res in top_res_set: if top_res.get('name', '').find('bridge') != -1: top_pre_created_res_nums[i] += 1 fake_plugin.delete_router(q_ctx, t_router_id) # check pre-created networks, subnets and ports are all deleted for i, top_res_set in enumerate(top_res_sets): self.assertEqual(top_res_nums[i] - top_pre_created_res_nums[i], len(top_res_set)) @patch.object(directory, 'get_plugin', new=fake_get_plugin) @patch.object(driver.Pool, 'get_instance', new=fake_get_instance) @patch.object(ipam_pluggable_backend.IpamPluggableBackend, '_allocate_ips_for_port', new=fake_allocate_ips_for_port) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_make_router_dict', new=fake_make_router_dict) @patch.object(db_base_plugin_common.DbBasePluginCommon, '_make_subnet_dict', new=fake_make_subnet_dict) @patch.object(l3_db.L3_NAT_dbonly_mixin, 'update_floatingip', new=update_floatingip) @patch.object(context, 'get_context_from_neutron_context') def test_delete_local_router(self, mock_context): """""" """""""," fake_plugin.create_network(q_ctx, body) self.assertEqual(1, len(TOP_FLATALLOCATIONS)) self.assertEqual(1, len(BOTTOM1_NETS)) self.assertEqual(1, len(BOTTOM2_NETS)) @patch.object(l3_db.L3_NAT_dbonly_mixin, '_check_router_interface_not_in_use') def test_delete_local_router(self, mock_context, mock_check_if):",776,25
openstack%2Ftempest~master~I08049c7f4102dd8fb70342e42967bbc4e7dec673,openstack/tempest,master,I08049c7f4102dd8fb70342e42967bbc4e7dec673,add volume_type_encryption operate interface methods in /v3/types_client.py file,ABANDONED,2019-07-02 07:09:09.000000000,2019-07-03 08:08:39.000000000,,"[{'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-02 07:09:09.000000000', 'files': ['tempest/lib/services/volume/v3/types_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/9a0a4506a2596cfda9c61a2091b9d1d318329797', 'message': 'add volume_type_encryption operate interface methods in /v3/types_client.py file\n\nChange-Id: I08049c7f4102dd8fb70342e42967bbc4e7dec673\n'}]",2,668618,9a0a4506a2596cfda9c61a2091b9d1d318329797,5,3,1,30409,,,0,"add volume_type_encryption operate interface methods in /v3/types_client.py file

Change-Id: I08049c7f4102dd8fb70342e42967bbc4e7dec673
",git fetch https://review.opendev.org/openstack/tempest refs/changes/18/668618/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/services/volume/v3/types_client.py'],1,9a0a4506a2596cfda9c61a2091b9d1d318329797,," https://developer.openstack.org/api-ref/block-sorage/v3/index.htmtl#list-all-volume-types def show_volume_type_encryption(self, volume_type_id): """"""To show an encryption type for an existing volume type. :param volume_type_id: Id of volume type. For a full list of available parameters, please refer to the official API reference: https://developer.openstack.org/api-ref/block-storage/v3/index.html#Show an encryption type """""" url = ""types/%s/encryption"" % (volume_type_id) resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def show_volume_type_encryption_item(self, volume_type_id,key): """"""To show encryption specs item for an existing volume type. :param volume_type_id: Id of volume type. :param key: The key name of the encryption spec for a volume type. For a full list of available parameters, please refer to the official API reference: https://developer.openstack.org/api-ref/block-storage/v3/index.html#Show encryption specs item """""" url = ""types/%s/encryption/%s"" % (volume_type_id,key) resp, body = self.get(url) body = json.loads(body) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def create_volume_type_encryption(self, volume_type_id, encryption): """"""To create an encryption type for an existing volume type. :param volume_type_id: Id of volume type. :param encryption: A dictionary of values to be used as encryption. For a full list of available parameters, please refer to the official API reference: https://developer.openstack.org/api-ref/block-storage/v3/index.html#Create an encryption type """""" url = ""types/%s/encryption"" % volume_type_id post_body = json.dumps({'encryption': encryption}) resp, body = self.post(url, post_body) body = json.loads(body) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def update_volume_type_encryption(self, volume_type_id, encryption_id, encryption): """"""To update an encryption type for an existing volume type. :param volume_type_id: Id of volume type. :param encryption_id: id of the encryption to be updated. :param encryption: A dictionary of with key as encryption and the updated value. For a full list of available parameters, please refer to the official API reference: https://developer.openstack.org/api-ref/block-storage/v3/index.html#Update an encryption type """""" url = ""types/%s/encryption/%s"" % (volume_type_id, encryption_id) put_body = json.dumps({'encryption': encryption}) resp, body = self.put(url, put_body) body = json.loads(body) self.expected_success(200, resp.status) return rest_client.ResponseBody(resp, body) def delete_volume_type_encryption(self, volume_type_id, encryption_id): """"""To delete an encryption type for an existing volume type. :param volume_type_id: Id of volume type. :param encryption_id: The ID of the encryption type. For a full list of available parameters, please refer to the official API reference: https://developer.openstack.org/api-ref/block-storage/v3/index.html#Delete an encry"""""" resp, body = self.delete(""types/%s/encryption/%s"" % ( volume_type_id, encryption_id)) self.expected_success(202, resp.status) return rest_client.ResponseBody(resp, body) ", https://developer.openstack.org/api-ref/block-storage/v3/index.html#list-all-volume-types,80,1
openstack%2Fkolla~master~I78e9574ea01d84051dbc649fea1b5b9556778a15,openstack/kolla,master,I78e9574ea01d84051dbc649fea1b5b9556778a15,base: do not put grafana repo twice,MERGED,2019-06-26 12:05:02.000000000,2019-07-03 07:38:04.000000000,2019-07-03 07:38:04.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-26 12:05:02.000000000', 'files': ['docker/base/sources.list.debian'], 'web_link': 'https://opendev.org/openstack/kolla/commit/91b7bcd297515354af2aa83d714638787ad68db5', 'message': 'base: do not put grafana repo twice\n\nBy mistake I added it second time in\n1e7a78932dc0461c60d9fd6e613b252d8b22ff01 commit.\n\nChange-Id: I78e9574ea01d84051dbc649fea1b5b9556778a15\n'}]",0,667587,91b7bcd297515354af2aa83d714638787ad68db5,19,6,1,24072,,,0,"base: do not put grafana repo twice

By mistake I added it second time in
1e7a78932dc0461c60d9fd6e613b252d8b22ff01 commit.

Change-Id: I78e9574ea01d84051dbc649fea1b5b9556778a15
",git fetch https://review.opendev.org/openstack/kolla refs/changes/87/667587/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/base/sources.list.debian'],1,91b7bcd297515354af2aa83d714638787ad68db5,,,deb https://packages.grafana.com/oss/deb stable main ,0,2
openstack%2Fkolla~master~Id13545224fa0fbb729d46386a10505e0989fc3c6,openstack/kolla,master,Id13545224fa0fbb729d46386a10505e0989fc3c6,build: add timestamps to start/end of build,MERGED,2019-06-26 12:05:39.000000000,2019-07-03 07:38:02.000000000,2019-07-03 07:38:02.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-26 12:05:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/ad4ad4fb87924f9acd985c72890436497614c19a', 'message': ""build: add timestamps to start/end of build\n\nDuring recent CI issues I got an idea that it would be nice to have\ninformation how much time building specific image took. On local systems\nwe can do log and then check 'modified_time - creation_time' but not on\nCI jobs.\n\nFresh image:\n\nINFO:kolla.common.utils.base:Building started at 2019-06-26 13:53:08.393544\nINFO:kolla.common.utils.base:Ended at 2019-06-26 13:56:40.354761 (took 0:03:31.961225)\n\nRebuild:\n\nINFO:kolla.common.utils.base:Building started at 2019-06-26 14:00:34.913194\nINFO:kolla.common.utils.base:Built at 2019-06-26 14:00:38.988874 (took 0:00:04.075686)\n\nFailed images do not get second line due to logger.exception() being\nused.\n\nChange-Id: Id13545224fa0fbb729d46386a10505e0989fc3c6\n""}, {'number': 2, 'created': '2019-06-26 13:32:25.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6e505affde45168ca3246f9377fa880dbe624c76', 'message': ""build: add timestamps to start/end of build\n\nDuring recent CI issues I got an idea that it would be nice to have\ninformation how much time building specific image took. On local systems\nwe can do log and then check 'modified_time - creation_time' but not on\nCI jobs.\n\nFresh image:\n\nINFO:kolla.common.utils.base:Building started at 2019-06-26 13:53:08.393544\nINFO:kolla.common.utils.base:Ended at 2019-06-26 13:56:40.354761 (took 0:03:31.961225)\n\nRebuild:\n\nINFO:kolla.common.utils.base:Building started at 2019-06-26 14:00:34.913194\nINFO:kolla.common.utils.base:Built at 2019-06-26 14:00:38.988874 (took 0:00:04.075686)\n\nFailed images do not get second line due to logger.exception() being\nused.\n\nChange-Id: Id13545224fa0fbb729d46386a10505e0989fc3c6\n""}]",2,667588,6e505affde45168ca3246f9377fa880dbe624c76,22,6,2,24072,,,0,"build: add timestamps to start/end of build

During recent CI issues I got an idea that it would be nice to have
information how much time building specific image took. On local systems
we can do log and then check 'modified_time - creation_time' but not on
CI jobs.

Fresh image:

INFO:kolla.common.utils.base:Building started at 2019-06-26 13:53:08.393544
INFO:kolla.common.utils.base:Ended at 2019-06-26 13:56:40.354761 (took 0:03:31.961225)

Rebuild:

INFO:kolla.common.utils.base:Building started at 2019-06-26 14:00:34.913194
INFO:kolla.common.utils.base:Built at 2019-06-26 14:00:38.988874 (took 0:00:04.075686)

Failed images do not get second line due to logger.exception() being
used.

Change-Id: Id13545224fa0fbb729d46386a10505e0989fc3c6
",git fetch https://review.opendev.org/openstack/kolla refs/changes/88/667588/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,ad4ad4fb87924f9acd985c72890436497614c19a,667588," image.start = datetime.datetime.now() self.logger.info('Building started at %s' % image.start) self.logger.info('Built at %s (took %s)' % (datetime.datetime.now(), datetime.datetime.now() - image.start))", self.logger.info('Building') self.logger.info('Built'),5,2
openstack%2Fkolla~master~I410cb943b766284a6b7bf11b0dd53bd2cdc75749,openstack/kolla,master,I410cb943b766284a6b7bf11b0dd53bd2cdc75749,"Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic",MERGED,2019-06-18 17:29:09.000000000,2019-07-03 07:38:00.000000000,2019-07-03 07:38:00.000000000,"[{'_account_id': 14826}, {'_account_id': 19779}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 17:29:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/fce1a8632fc3a0def48af444ed491d4864c86739', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 2, 'created': '2019-06-19 16:05:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/8fbbc0a2e641c2c92d1ef434cb4d91f10cf215f3', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 3, 'created': '2019-06-19 16:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/e5659b2a1ac4c51cad45c15871132fdfcf0bf15e', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 4, 'created': '2019-06-27 09:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/75a7352cb06c7b5be7bbff382ec0ecf4e44fd247', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 5, 'created': '2019-06-27 10:10:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/f9961a1840c1c89eeacfb04fe2b2fd9de70550d3', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 6, 'created': '2019-06-27 10:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/84449495cb75c947b5cbf52a7ad544529ad457d4', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}, {'number': 7, 'created': '2019-06-27 10:37:33.000000000', 'files': ['.zuul.d/centos.yaml', '.zuul.d/ubuntu.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/0a4649aadd2166ca0819a5b427fd2e2b533bdedc', 'message': 'Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic\n\nChange-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749\n'}]",8,666068,0a4649aadd2166ca0819a5b427fd2e2b533bdedc,34,8,7,14826,,,0,"Enable CI jobs for ceph upgrade, NFV, cinder LVM, ironic

Change-Id: I410cb943b766284a6b7bf11b0dd53bd2cdc75749
",git fetch https://review.opendev.org/openstack/kolla refs/changes/68/666068/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/ceph/ceph-base/Dockerfile.j2', '.zuul.d/centos.yaml', 'docker/barbican/barbican-base/Dockerfile.j2', 'docker/iscsid/Dockerfile.j2', '.zuul.d/ubuntu.yaml']",5,fce1a8632fc3a0def48af444ed491d4864c86739,, - kolla-ansible-ubuntu-source-upgrade-ceph: files: ^docker\/(ceph|cinder)\/.* - kolla-ansible-ubuntu-source-cinder-lvm: files: ^docker\/(cinder|iscsid)\/.*,,13,1
openstack%2Fkolla~master~Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a,openstack/kolla,master,Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a,Add more entries into SKIPPED_IMAGES,MERGED,2019-06-27 07:15:19.000000000,2019-07-03 07:37:58.000000000,2019-07-03 07:37:58.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 07:15:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/27405d4af42d4afcc710f1280d95d63b63a2078d', 'message': 'Add more entries into SKIPPED_IMAGES\n\nDid build of all images for AArch64, looked at failures and here is a\nlist of ones which never build due to lack of packages.\n\nThere are some images which could get to the list but there are already\npatches for them in Gerrit.\n\nAlso added three more entries for Debian due to missing packages.\n\nChange-Id: Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a\n'}, {'number': 2, 'created': '2019-06-27 08:24:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/71079b562c293f02a2ae626d22c98ad8d6f84f34', 'message': 'Add more entries into SKIPPED_IMAGES\n\nDid build of all images for AArch64, looked at failures and here is a\nlist of ones which never build due to lack of packages.\n\nThere are some images which could get to the list but there are already\npatches for them in Gerrit.\n\nAlso added three more entries for Debian due to missing packages.\n\nChange-Id: Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a\n'}, {'number': 3, 'created': '2019-06-28 14:52:58.000000000', 'files': ['kolla/image/build.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/fadabf0e46d89c85e656ff3b86c7cd01f0356219', 'message': 'Add more entries into SKIPPED_IMAGES\n\nDid build of all images for AArch64, looked at failures and here is a\nlist of ones which never build due to lack of packages.\n\nThere are some images which could get to the list but there are already\npatches for them in Gerrit.\n\nAlso added three more entries for Debian due to missing packages.\n\nChange-Id: Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a\n'}]",4,667797,fadabf0e46d89c85e656ff3b86c7cd01f0356219,21,6,3,24072,,,0,"Add more entries into SKIPPED_IMAGES

Did build of all images for AArch64, looked at failures and here is a
list of ones which never build due to lack of packages.

There are some images which could get to the list but there are already
patches for them in Gerrit.

Also added three more entries for Debian due to missing packages.

Change-Id: Ie259a38aad84bd8f5392f19791edfbd1f8ec4b1a
",git fetch https://review.opendev.org/openstack/kolla refs/changes/97/667797/3 && git format-patch -1 --stdout FETCH_HEAD,['kolla/image/build.py'],1,27405d4af42d4afcc710f1280d95d63b63a2078d,667797," 'aarch64': { ""kibana"", ""monasca-grafana"", ""opendaylight"", ""prometheus-mtail"", ""telegraf"", ""xtrabackup"", }, 'source+aarch64': { ""cyborg-agent"", ""monasca-base"", ""tempest"", }, 'centos+aarch64': { ""elasticsearch"", ""influxdb"", }, 'debian+aarch64': { ""bifrost-base"", ""skydive-base"", }, 'ubuntu+aarch64': { ""skydive-base"", }, 'ubuntu+binary+aarch64': { ""sensu-base"", }, ""mongodb"", ""ovsdpdk"", ""qdrouterd"",",,30,0
openstack%2Fkolla~master~If58f15e18e420aca790496132352f1c1dcdb2640,openstack/kolla,master,If58f15e18e420aca790496132352f1c1dcdb2640,Extract CI vars for use in kolla-ansible jobs,MERGED,2019-06-28 18:18:57.000000000,2019-07-03 07:37:56.000000000,2019-07-03 07:37:56.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 18:18:57.000000000', 'files': ['tests/playbooks/run.yml', 'tests/vars/zuul.yml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/8270ae20f9a8d528d5bea9e275a84a3ef4cf23aa', 'message': 'Extract CI vars for use in kolla-ansible jobs\n\nChange-Id: If58f15e18e420aca790496132352f1c1dcdb2640\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",1,668226,8270ae20f9a8d528d5bea9e275a84a3ef4cf23aa,14,5,1,30491,,,0,"Extract CI vars for use in kolla-ansible jobs

Change-Id: If58f15e18e420aca790496132352f1c1dcdb2640
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla refs/changes/26/668226/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/playbooks/run.yml', 'tests/vars/zuul.yml']",2,8270ae20f9a8d528d5bea9e275a84a3ef4cf23aa,extract-ci-vars,"--- nodepool_rdo_proxy: ""{{ zuul_site_mirror_fqdn }}:8080/rdo"" nodepool_pypi_mirror: ""http://{{ zuul_site_mirror_fqdn }}:8080/pypi/simple"" nodepool_mirror_host: ""{{ zuul_site_mirror_fqdn }}"" nodepool_npmjs_proxy: ""http://{{ zuul_site_mirror_fqdn }}:8080/registry.npmjs/"" nodepool_elastic_proxy: ""http://{{ zuul_site_mirror_fqdn }}:8080/elastic/"" nodepool_grafana_proxy: ""http://{{ zuul_site_mirror_fqdn }}:8080/grafana/"" nodepool_cbs_centos_proxy: ""http://{{ zuul_site_mirror_fqdn }}:8080/cbs.centos"" nodepool_percona_proxy: ""http://{{ zuul_site_mirror_fqdn }}:8080/percona"" ",,11,9
openstack%2Fkolla~master~I98405e3fb32cbec2d9863817a913ed71c5597e15,openstack/kolla,master,I98405e3fb32cbec2d9863817a913ed71c5597e15,Fixes ceph-osd deploys with loop devices.,MERGED,2019-06-28 18:04:48.000000000,2019-07-03 07:37:55.000000000,2019-07-03 07:37:54.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 28614}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-28 18:04:48.000000000', 'files': ['docker/ceph/ceph-osd/extend_start.sh'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f5ac80e332c2a057ee68d95983492bc7e1156b9a', 'message': 'Fixes ceph-osd deploys with loop devices.\n\nChange-Id: I98405e3fb32cbec2d9863817a913ed71c5597e15\nCloses-Bug: #1834678\n'}]",0,668222,f5ac80e332c2a057ee68d95983492bc7e1156b9a,16,6,1,30523,,,0,"Fixes ceph-osd deploys with loop devices.

Change-Id: I98405e3fb32cbec2d9863817a913ed71c5597e15
Closes-Bug: #1834678
",git fetch https://review.opendev.org/openstack/kolla refs/changes/22/668222/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-osd/extend_start.sh'],1,f5ac80e332c2a057ee68d95983492bc7e1156b9a,," if [[ ""${OSD_BS_DEV}"" =~ ""/dev/loop"" ]]; then sgdisk --zap-all -- ""${OSD_BS_DEV}""p2 else sgdisk --zap-all -- ""${OSD_BS_DEV}""2 fi"," sgdisk --zap-all -- ""${OSD_BS_DEV}""2",6,1
openstack%2Fkolla~stable%2Frocky~I1d69ec0ca97dbbacccfe737fca03c9739244b900,openstack/kolla,stable/rocky,I1d69ec0ca97dbbacccfe737fca03c9739244b900,Fix deployment of ceph-nfs container failing due to wrong USER,MERGED,2019-06-27 09:10:54.000000000,2019-07-03 07:37:54.000000000,2019-07-03 07:37:53.000000000,"[{'_account_id': 14826}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-27 09:10:54.000000000', 'files': ['docker/ceph/ceph-nfs/Dockerfile.j2'], 'web_link': 'https://opendev.org/openstack/kolla/commit/eaccc3b27d4e7fda400fa29a01bad83714496048', 'message': 'Fix deployment of ceph-nfs container failing due to wrong USER\n\nThe startup script requires to be run as root, not ceph.\nAll other ceph images follow this rule.\n\nAlso removed redundant blank line.\n\nChange-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)\n'}]",0,667825,eaccc3b27d4e7fda400fa29a01bad83714496048,18,7,1,14826,,,0,"Fix deployment of ceph-nfs container failing due to wrong USER

The startup script requires to be run as root, not ceph.
All other ceph images follow this rule.

Also removed redundant blank line.

Change-Id: I1d69ec0ca97dbbacccfe737fca03c9739244b900
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit dc879dff3bf5cea9d64469395fe140b2ac7e4a3d)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/667825/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/ceph/ceph-nfs/Dockerfile.j2'],1,eaccc3b27d4e7fda400fa29a01bad83714496048,fix-ceph-nfs-deploy-stable/rocky,, USER ceph,0,3
openstack%2Fkolla~stable%2Fstein~Ie856fcc179933c5b58f8944ea6b57a402d83843b,openstack/kolla,stable/stein,Ie856fcc179933c5b58f8944ea6b57a402d83843b,Update versions: ./tools/version-check.py,MERGED,2019-07-01 15:23:26.000000000,2019-07-03 07:37:52.000000000,2019-07-03 07:37:52.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 30381}, {'_account_id': 30484}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-01 15:23:26.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/6fd4b02178653b94ea87e085c1e4148d38e28494', 'message': 'Update versions:\n./tools/version-check.py\n\nUpdate ironic-inspector-8.2.2\nUpdate neutron-14.0.2\n\nChange-Id: Ie856fcc179933c5b58f8944ea6b57a402d83843b\n'}]",0,668491,6fd4b02178653b94ea87e085c1e4148d38e28494,11,7,1,30484,,,0,"Update versions:
./tools/version-check.py

Update ironic-inspector-8.2.2
Update neutron-14.0.2

Change-Id: Ie856fcc179933c5b58f8944ea6b57a402d83843b
",git fetch https://review.opendev.org/openstack/kolla refs/changes/91/668491/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,6fd4b02178653b94ea87e085c1e4148d38e28494,stub/neutron-14.0.2," 'ironic-inspector-8.2.2.tar.gz')}, 'neutron-14.0.2.tar.gz')},"," 'ironic-inspector-8.2.1.tar.gz')}, 'neutron-14.0.1.tar.gz')},",2,2
openstack%2Fkolla~stable%2Fpike~I9828c23e4bcec7553a69aa5f20e990e0ef0538ea,openstack/kolla,stable/pike,I9828c23e4bcec7553a69aa5f20e990e0ef0538ea,Fix bandit failure B105 in keystone fernet,MERGED,2019-07-02 07:41:30.000000000,2019-07-03 07:37:50.000000000,2019-07-03 07:37:50.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 07:41:30.000000000', 'files': ['docker/keystone/keystone-fernet/fetch_fernet_tokens.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/658090a3af8756f625ea9db08ea0826953b9264a', 'message': ""Fix bandit failure B105 in keystone fernet\n\n>> Issue: [B105:hardcoded_password_string] Possible hardcoded password: '/etc/keystone/fernet-keys'\n   Severity: Low Confidence: Medium\n      Location: docker/keystone/keystone-fernet/fetch_fernet_tokens.py:27\n         More Info: https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nIgnore bandit failures on this line.\n\nChange-Id: I9828c23e4bcec7553a69aa5f20e990e0ef0538ea\nCloses-Bug: #1828416\n(cherry picked from commit e6387634c6a7170e96606b9a8ff680f08d81e801)\n""}]",0,668625,658090a3af8756f625ea9db08ea0826953b9264a,8,4,1,16312,,,0,"Fix bandit failure B105 in keystone fernet

>> Issue: [B105:hardcoded_password_string] Possible hardcoded password: '/etc/keystone/fernet-keys'
   Severity: Low Confidence: Medium
      Location: docker/keystone/keystone-fernet/fetch_fernet_tokens.py:27
         More Info: https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Ignore bandit failures on this line.

Change-Id: I9828c23e4bcec7553a69aa5f20e990e0ef0538ea
Closes-Bug: #1828416
(cherry picked from commit e6387634c6a7170e96606b9a8ff680f08d81e801)
",git fetch https://review.opendev.org/openstack/kolla refs/changes/25/668625/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/keystone/keystone-fernet/fetch_fernet_tokens.py'],1,658090a3af8756f625ea9db08ea0826953b9264a,pike-em,"# Adding nosec since this fails bandit B105, 'Possible hardcoded password'. TOKEN_PATH = '/etc/keystone/fernet-keys' # nosec",TOKEN_PATH = '/etc/keystone/fernet-keys',2,1
openstack%2Fkolla~master~If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396,openstack/kolla,master,If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396,ubuntu: use UCA/train,MERGED,2019-06-18 08:31:38.000000000,2019-07-03 07:37:49.000000000,2019-07-03 07:37:48.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 23181}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-18 08:31:38.000000000', 'files': ['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu'], 'web_link': 'https://opendev.org/openstack/kolla/commit/7dab1fedd044a95fa1203b9ca809e13330f5936b', 'message': 'ubuntu: use UCA/train\n\nChange-Id: If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396\n'}]",0,665908,7dab1fedd044a95fa1203b9ca809e13330f5936b,31,6,1,24072,,,0,"ubuntu: use UCA/train

Change-Id: If75db0f9fc1bfe82a4ace2cd5bfe603cfe5a5396
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/665908/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/sources.list.ubuntu.aarch64', 'docker/base/sources.list.ubuntu.ppc64le', 'docker/base/sources.list.ubuntu']",3,7dab1fedd044a95fa1203b9ca809e13330f5936b,,deb http://ubuntu-cloud.archive.canonical.com/ubuntu bionic-updates/train main,deb http://ubuntu-cloud.archive.canonical.com/ubuntu bionic-updates/stein main,3,3
openstack%2Fkolla-ansible~stable%2Fstein~Ia6fc9011ee6f5461f40a1307b72709d769814a79,openstack/kolla-ansible,stable/stein,Ia6fc9011ee6f5461f40a1307b72709d769814a79,Restart all nova services after upgrade,MERGED,2019-06-27 14:17:41.000000000,2019-07-03 07:29:59.000000000,2019-07-03 07:29:59.000000000,"[{'_account_id': 22348}, {'_account_id': 22629}, {'_account_id': 24072}]","[{'number': 1, 'created': '2019-06-27 14:17:41.000000000', 'files': ['ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/legacy_upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/96a96a26557092971604441a53f74a0cb98979a5', 'message': 'Restart all nova services after upgrade\n\nDuring an upgrade, nova pins the version of RPC calls to the minimum\nseen across all services. This ensures that old services do not receive\ndata they cannot handle. After the upgrade is complete, all nova\nservices are supposed to be reloaded via SIGHUP to cause them to check\nagain the RPC versions of services and use the new latest version which\nshould now be supported by all running services.\n\nDue to a bug [1] in oslo.service, sending services SIGHUP is currently\nbroken. We replaced the HUP with a restart for the nova_compute\ncontainer for bug 1821362, but not other nova services. It seems we need\nto restart all nova services to allow the RPC version pin to be removed.\n\nTesting in a Queens to Rocky upgrade, we find the following in the logs:\n\nAutomatically selected compute RPC version 5.0 from minimum service\nversion 30\n\nHowever, the service version in Rocky is 35.\n\nThere is a second issue in that it takes some time for the upgraded\nservices to update the nova services database table with their new\nversion. We need to wait until all nova-compute services have done this\nbefore the restart is performed, otherwise the RPC version cap will\nremain in place. There is currently no interface in nova available for\nchecking these versions [2], so as a workaround we use a configurable\ndelay with a default duration of 30 seconds. Testing showed it takes\nabout 10 seconds for the version to be updated, so this gives us some\nheadroom.\n\nThis change restarts all nova services after an upgrade, after a 30\nsecond delay.\n\n[1] https://bugs.launchpad.net/oslo.service/+bug/1715374\n[2] https://bugs.launchpad.net/nova/+bug/1833542\n\nChange-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79\nCloses-Bug: #1833069\nRelated-Bug: #1833542\n(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)\n'}]",0,667934,96a96a26557092971604441a53f74a0cb98979a5,7,3,1,14826,,,0,"Restart all nova services after upgrade

During an upgrade, nova pins the version of RPC calls to the minimum
seen across all services. This ensures that old services do not receive
data they cannot handle. After the upgrade is complete, all nova
services are supposed to be reloaded via SIGHUP to cause them to check
again the RPC versions of services and use the new latest version which
should now be supported by all running services.

Due to a bug [1] in oslo.service, sending services SIGHUP is currently
broken. We replaced the HUP with a restart for the nova_compute
container for bug 1821362, but not other nova services. It seems we need
to restart all nova services to allow the RPC version pin to be removed.

Testing in a Queens to Rocky upgrade, we find the following in the logs:

Automatically selected compute RPC version 5.0 from minimum service
version 30

However, the service version in Rocky is 35.

There is a second issue in that it takes some time for the upgraded
services to update the nova services database table with their new
version. We need to wait until all nova-compute services have done this
before the restart is performed, otherwise the RPC version cap will
remain in place. There is currently no interface in nova available for
checking these versions [2], so as a workaround we use a configurable
delay with a default duration of 30 seconds. Testing showed it takes
about 10 seconds for the version to be updated, so this gives us some
headroom.

This change restarts all nova services after an upgrade, after a 30
second delay.

[1] https://bugs.launchpad.net/oslo.service/+bug/1715374
[2] https://bugs.launchpad.net/nova/+bug/1833542

Change-Id: Ia6fc9011ee6f5461f40a1307b72709d769814a79
Closes-Bug: #1833069
Related-Bug: #1833542
(cherry picked from commit e6d2b92200d02715649d923b0ef2d6981905a6b9)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/34/667934/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/rolling_upgrade.yml', 'ansible/roles/nova/defaults/main.yml', 'ansible/roles/nova/tasks/legacy_upgrade.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/nova/tasks/reload.yml']",5,96a96a26557092971604441a53f74a0cb98979a5,bug/1821362,,"--- # This play calls sighup on every service to refresh upgrade levels # NOTE(mgoddard): Currently (just prior to Stein release), sending SIGHUP to # nova compute services leaves them in a broken state in which they cannot # start new instances. The following error is seen in the logs: # ""In shutdown, no new events can be scheduled"" # To work around this we restart the nova-compute services. # Speaking to the nova team, this seems to be an issue in oslo.service, # with a fix proposed here: https://review.openstack.org/#/c/641907. # This issue also seems to affect the proxy services, which exit non-zero in # reponse to a SIGHUP, so restart those too. # TODO(mgoddard): Remove this workaround when this bug has been fixed. - name: Send SIGHUP to nova services become: true command: docker exec -t {{ item.value.container_name }} kill -1 1 when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - not item.key.startswith('nova-compute') - not item.key.endswith('proxy') with_dict: ""{{ nova_services }}"" - name: Restart nova compute and proxy services become: true kolla_docker: action: restart_container common_options: ""{{ docker_common_options }}"" name: ""{{ item.value.container_name }}"" when: - inventory_hostname in groups[item.value.group] - item.value.enabled | bool - item.key in nova_services_require_nova_conf - item.key.startswith('nova-compute') or item.key.endswith('proxy') with_dict: ""{{ nova_services }}"" ",61,42
openstack%2Frpm-packaging~master~I5cc849d94f5b6345997599bd0d77eab44d3f9493,openstack/rpm-packaging,master,I5cc849d94f5b6345997599bd0d77eab44d3f9493,update python-glareclient to 1.0.0,ABANDONED,2019-06-12 07:44:38.000000000,2019-07-03 07:06:56.000000000,,"[{'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-12 07:44:38.000000000', 'files': ['openstack/python-glareclient/python-glareclient.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/3c653339cf740e2c092cec8330860a9c8000f39a', 'message': 'update python-glareclient to 1.0.0\n\nChange-Id: I5cc849d94f5b6345997599bd0d77eab44d3f9493\n'}]",0,664815,3c653339cf740e2c092cec8330860a9c8000f39a,6,4,1,28654,,,0,"update python-glareclient to 1.0.0

Change-Id: I5cc849d94f5b6345997599bd0d77eab44d3f9493
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/15/664815/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/python-glareclient/python-glareclient.spec.j2'],1,3c653339cf740e2c092cec8330860a9c8000f39a,python-glareclient,Version: 1.0.0,Version: 0.5.3,1,1
openstack%2Fironic-inspector~master~Ic17e59267bf4ae814c5e734603b5c9307819e086,openstack/ironic-inspector,master,Ic17e59267bf4ae814c5e734603b5c9307819e086,add local bindep.txt,MERGED,2019-06-28 16:11:14.000000000,2019-07-03 07:02:43.000000000,2019-07-03 07:02:43.000000000,"[{'_account_id': 10239}, {'_account_id': 11076}, {'_account_id': 11292}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-28 16:11:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/20bb983be0b27fd03aa485fa76ac013f97d31891', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}, {'number': 2, 'created': '2019-06-29 09:12:22.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/b7bb38777882bbbd0f9931b1ec98266331a71be7', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086\n'}]",1,668199,b7bb38777882bbbd0f9931b1ec98266331a71be7,52,10,2,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ic17e59267bf4ae814c5e734603b5c9307819e086
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/99/668199/2 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,20bb983be0b27fd03aa485fa76ac013f97d31891,bindep-fallback,# needed for mysqladmin mysql-client [platform:dpkg] mysql-server [platform:dpkg] ,,3,0
openstack%2Ftripleo-heat-templates~master~Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2,openstack/tripleo-heat-templates,master,Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2,Per-Role krb-service-principal for CompactServices,MERGED,2019-07-01 10:13:17.000000000,2019-07-03 07:01:41.000000000,2019-07-02 19:40:21.000000000,"[{'_account_id': 3153}, {'_account_id': 9914}, {'_account_id': 10873}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-07-01 10:13:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/865ba38b337c115bf5eeb7614c635720b34f3096', 'message': ""Per-Role krb-service-principal metadata for HTTP\n\nFilter krb-service-principals for the CompactServices\nbased on the networks associated with the role.\n\nFiltering for the IndividualServices was added in previous\nfix https://review.openstack.org/646005, which did'nt\nfully fix the bug.\n\nCloses-Bug: #1821377\nChange-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2\n""}, {'number': 2, 'created': '2019-07-01 10:14:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/da1b9ef22df9cae9eade720ae4da4029ec6b80cb', 'message': ""Per-Role krb-service-principal for CompactServices\n\nFilter krb-service-principals for the CompactServices\nbased on the networks associated with the role.\n\nFiltering for the IndividualServices was added in previous\nfix https://review.openstack.org/646005, which did'nt\nfully fix the bug.\n\nCloses-Bug: #1821377\nChange-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2\n""}, {'number': 3, 'created': '2019-07-02 08:08:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c00c0b11c0030be2ea36c6642c78f68790025532', 'message': ""Per-Role krb-service-principal for CompactServices\n\nFilter krb-service-principals for the CompactServices\nbased on the networks associated with the role.\n\nFiltering for the IndividualServices was added in previous\nfix https://review.openstack.org/646005, which did'nt\nfully fix the bug.\n\nCloses-Bug: #1821377\nChange-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2\n""}, {'number': 4, 'created': '2019-07-02 10:26:35.000000000', 'files': ['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/578bcb2ffad32c6a39d68b5dc360504e95972ffa', 'message': ""Per-Role krb-service-principal for CompactServices\n\nFilter krb-service-principals for the CompactServices\nbased on the networks associated with the role.\n\nFiltering for the IndividualServices was added in previous\nfix https://review.openstack.org/646005, which did'nt\nfully fix the bug.\n\nCloses-Bug: #1821377\nChange-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2\n""}]",0,668407,578bcb2ffad32c6a39d68b5dc360504e95972ffa,20,7,4,24245,,,0,"Per-Role krb-service-principal for CompactServices

Filter krb-service-principals for the CompactServices
based on the networks associated with the role.

Filtering for the IndividualServices was added in previous
fix https://review.openstack.org/646005, which did'nt
fully fix the bug.

Closes-Bug: #1821377
Change-Id: Id54477ca5581e1f5fe8a09c3bc60a238d114dbb2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/07/668407/4 && git format-patch -1 --stdout FETCH_HEAD,['extraconfig/nova_metadata/krb-service-principals/role.role.j2.yaml'],1,865ba38b337c115bf5eeb7614c635720b34f3096,bug/1821377," # unique ones. Also, filter values for networks not associated with # this role. expression: let(role_networks => $.data.role_networks) -> list(coalesce($.data.role_data, []).where($ != null).where($.containsKey('metadata_settings')).metadata_settings.flatten().distinct().where($role_networks.contains($.network))) data: role_data: {get_param: RoleData} role_networks: - ctlplane {%- for network in networks if network.vip|default(false) and network.name in role.networks %} {%- if network.service_net_map_replace is defined %} - {{network.service_net_map_replace}} {%- else %} - {{network.name_lower}} {%- endif %} {%- endfor %}"," # unique ones. expression: list(coalesce($.data, []).where($ != null).where($.containsKey('metadata_settings')).metadata_settings.flatten().distinct()) data: {get_param: RoleData}",14,3
openstack%2Fmanila~stable%2Fstein~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,stable/stein,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 02:10:17.000000000,2019-07-03 06:59:39.000000000,2019-07-03 02:26:43.000000000,"[{'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-03 02:10:17.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/1f68a8ffc55520272235b8165cd32abf6e6b3689', 'message': ""Remove the redunant table from windows' editor\n\nIn windows env, cannot deal with '\\t\\t\\t', maybe this is mistake\nresult in 'git pull' faild on windows env. In linux env show that(from\ntable):\n[root@localhost manila]# vim releasenotes/notes/bug-1818081\nbug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I\n\nChange-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36\n(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)\n""}]",0,668774,1f68a8ffc55520272235b8165cd32abf6e6b3689,9,5,1,16643,,,0,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)
",git fetch https://review.opendev.org/openstack/manila refs/changes/74/668774/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'],1,1f68a8ffc55520272235b8165cd32abf6e6b3689,, <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details. , <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details.,1,1
openstack%2Fstorlets~master~Icd81d28b9b3555bce365e7b279ada074d239fddc,openstack/storlets,master,Icd81d28b9b3555bce365e7b279ada074d239fddc,Prevent undesired retry when starting container,MERGED,2017-01-14 17:00:54.000000000,2019-07-03 06:41:34.000000000,2019-07-03 06:41:33.000000000,"[{'_account_id': 4608}, {'_account_id': 9816}, {'_account_id': 11317}, {'_account_id': 22348}]","[{'number': 1, 'created': '2017-01-14 17:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/67b1a5fe8e352eca9574d80be83a255674e67fc3', 'message': 'Refactor StorletInvocationProtocol.restart\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 2, 'created': '2017-01-14 17:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/61a45a690d6f1a6577bb8fe81d20dddc039592df', 'message': 'Refactor StorletInvocationProtocol.restart\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 3, 'created': '2017-01-14 18:09:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/6990f0a58dca2933957b87c350dbae9394b0b629', 'message': 'Refactor StorletInvocationProtocol.restart\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 4, 'created': '2017-01-23 15:58:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/dd5023326a46acbf1c67c70f2347ac8445c7b759', 'message': 'Prevent undesired retry when starting container\n\nPreviously, if we fail to start a storlet container using tenant\nimage, we retry to start it using default tenant image. However,\nthat sometimes causes unexpected retry, for example when there is\nsomething wrong in tenant image which prevents daemon factory to\nlaunch in time.\n\nThis patch makes docker runtime to check return code of container\nrestarting script, so that we only restart container when the\nruntime fails in container operation using tenant image.\nIn addition, it let docker runtime to log stdout/stderr output\ngenerated by restart_docker_container, to help us to debug what\nis happening about container management.\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 5, 'created': '2017-01-23 15:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/00f3af0ccb7ba2cb71a1519d0a32a3da53821ebf', 'message': 'Prevent undesired retry when starting container\n\nPreviously, if we fail to start a storlet container using tenant\nimage, we retry to start it using default tenant image. However,\nthat sometimes causes unexpected retry, for example when there is\nsomething wrong in tenant image which prevents daemon factory to\nlaunch in time.\n\nThis patch makes docker runtime to check return code of container\nrestarting script, so that we only restart container when the\nruntime fails in container operation using tenant image.\nIn addition, it lets docker runtime to log stdout/stderr output\ngenerated by restart_docker_container, to help us to debug what\nis happening about container management.\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 6, 'created': '2019-05-02 06:32:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/eb0643a214bb71891135f8a9bbbe8dce40b3235e', 'message': 'Prevent undesired retry when starting container\n\nPreviously, if we fail to start a storlet container using tenant\nimage, we retry to start it using default tenant image. However,\nthat sometimes causes unexpected retry, for example when there is\nsomething wrong in tenant image which prevents daemon factory to\nlaunch in time.\n\nThis patch makes docker runtime to check return code of container\nrestarting script, so that we only restart container when the\nruntime fails in container operation using tenant image.\nIn addition, it lets docker runtime to log stdout/stderr output\ngenerated by restart_docker_container, to help us to debug what\nis happening about container management.\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}, {'number': 7, 'created': '2019-05-02 07:26:53.000000000', 'files': ['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c'], 'web_link': 'https://opendev.org/openstack/storlets/commit/25e72012034a03e429562623dfeff01f90003036', 'message': 'Prevent undesired retry when starting container\n\nPreviously, if we fail to start a storlet container using tenant\nimage, we retry to start it using default tenant image. However,\nthat sometimes causes unexpected retry, for example when there is\nsomething wrong in tenant image which prevents daemon factory to\nlaunch in time.\n\nThis patch makes docker runtime to check return code of container\nrestarting script, so that we only restart container when the\nruntime fails in container operation using tenant image.\nIn addition, it lets docker runtime to log stdout/stderr output\ngenerated by restart_docker_container, to help us to debug what\nis happening about container management.\n\nChange-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc\n'}]",7,420356,25e72012034a03e429562623dfeff01f90003036,25,4,7,9816,,,0,"Prevent undesired retry when starting container

Previously, if we fail to start a storlet container using tenant
image, we retry to start it using default tenant image. However,
that sometimes causes unexpected retry, for example when there is
something wrong in tenant image which prevents daemon factory to
launch in time.

This patch makes docker runtime to check return code of container
restarting script, so that we only restart container when the
runtime fails in container operation using tenant image.
In addition, it lets docker runtime to log stdout/stderr output
generated by restart_docker_container, to help us to debug what
is happening about container management.

Change-Id: Icd81d28b9b3555bce365e7b279ada074d239fddc
",git fetch https://review.opendev.org/openstack/storlets refs/changes/56/420356/2 && git format-patch -1 --stdout FETCH_HEAD,"['tests/unit/gateway/gateways/docker/test_runtime.py', 'storlets/gateway/gateways/docker/runtime.py', 'scripts/restart_docker_container.c']",3,67b1a5fe8e352eca9574d80be83a255674e67fc3,restart," argv[0]); snprintf(container_name, (size_t)256, ""%s"", argv[1]); snprintf(container_image, (size_t)256, ""%s"", argv[2]); snprintf(mount_dir1, (size_t)1024, ""%s"", argv[3]); snprintf(mount_dir2, (size_t)1024, ""%s"", argv[4]); setresuid(0, 0, 0); setresgid(0, 0, 0); sprintf(command,""/usr/bin/docker stop -t 1 %s"", container_name); sprintf(command,""/usr/bin/docker rm %s"", container_name); if(ret){ return EXIT_FAILURE; } return EXIT_SUCCESS;"," argv[0]); snprintf(container_name,(size_t)256,""%s"",argv[1]); snprintf(container_image,(size_t)256,""%s"",argv[2]); snprintf(mount_dir1,(size_t)1024, ""%s"", argv[3]); snprintf(mount_dir2,(size_t)1024, ""%s"", argv[4]); setresuid(0,0,0); setresgid(0,0,0); sprintf(command,""/usr/bin/docker stop -t 1 %s"",container_name); sprintf(command,""/usr/bin/docker rm %s"",container_name); if (ret) return(EXIT_FAILURE); return(EXIT_SUCCESS);",95,37
openstack%2Fdiskimage-builder~master~I6206b19891bd6fb27e61ce85cdcb856f0663471e,openstack/diskimage-builder,master,I6206b19891bd6fb27e61ce85cdcb856f0663471e,WIP: Adds release->rhel8 for ironic-agent pkg-map,ABANDONED,2019-07-01 11:18:19.000000000,2019-07-03 06:16:41.000000000,,"[{'_account_id': 1955}, {'_account_id': 8449}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 11:18:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/a4cbf641c88c94d6b441588b2818eacca931fccf', 'message': 'WIP: Adds release->rhel8 for ironic-agent pkg-map\n\nAs tracked in [1] by tripleo-ci squad we need this for rhel8\nI cannot find the right scsi-target-utils so """" for now\n\nRelated-Bug: 1834624\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1114\n\nChange-Id: I6206b19891bd6fb27e61ce85cdcb856f0663471e\n'}, {'number': 2, 'created': '2019-07-01 12:21:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/961fd1009eb8e435eee3e1146d85dd6779c12b13', 'message': 'WIP: Adds release->rhel8 for ironic-agent pkg-map\n\nAs tracked in [1] by tripleo-ci squad we need this for rhel8\nI cannot find the right scsi-target-utils so """" for now\n\nRelated-Bug: 1834624\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1114\n\nChange-Id: I6206b19891bd6fb27e61ce85cdcb856f0663471e\n'}, {'number': 3, 'created': '2019-07-02 16:09:42.000000000', 'files': ['diskimage_builder/elements/ironic-agent/pkg-map'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/e05b1ff219af662c367d2f6e431dd865260289c4', 'message': 'WIP: Adds release->rhel8 for ironic-agent pkg-map\n\nAs tracked in [1] by tripleo-ci squad we need this for rhel8\nI cannot find the right scsi-target-utils so """" for now\n\nRelated-Bug: 1834624\n[1] https://tree.taiga.io/project/tripleo-ci-board/task/1114\n\nChange-Id: I6206b19891bd6fb27e61ce85cdcb856f0663471e\n'}]",1,668436,e05b1ff219af662c367d2f6e431dd865260289c4,17,6,3,8449,,,0,"WIP: Adds release->rhel8 for ironic-agent pkg-map

As tracked in [1] by tripleo-ci squad we need this for rhel8
I cannot find the right scsi-target-utils so """" for now

Related-Bug: 1834624
[1] https://tree.taiga.io/project/tripleo-ci-board/task/1114

Change-Id: I6206b19891bd6fb27e61ce85cdcb856f0663471e
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/36/668436/2 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/ironic-agent/pkg-map'],1,a4cbf641c88c94d6b441588b2818eacca931fccf,," ""release"": { ""rhel"": { ""8"": { ""tgt"": """", ""curl"": ""curl"", ""ironic-python-agent"": ""python3-ironic-python-agent"", ""qemu-utils"": ""qemu-img"", ""python-dev"": ""python3-devel"" } } },",,11,0
openstack%2Fmanila~master~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,master,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 01:51:32.000000000,2019-07-03 05:51:23.000000000,2019-07-03 02:10:03.000000000,"[{'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}]","[{'number': 1, 'created': '2019-07-03 01:51:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/be2fc55bf0901ca8e11ea15cb8cbd4e76991df9f', 'message': ""Remove the redunant table from windows' editor\n\nChange-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36\n""}, {'number': 2, 'created': '2019-07-03 01:55:39.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/d3b26f3d93adffee2f9b6bbbc78768d8752becdd', 'message': ""Remove the redunant table from windows' editor\n\nIn windows env, cannot deal with '\\t\\t\\t', maybe this is mistake\nresult in 'git pull' faild on windows env. In linux env show that(from\ntable):\n[root@localhost manila]# vim releasenotes/notes/bug-1818081\nbug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I\n\nChange-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36\n""}]",0,668771,d3b26f3d93adffee2f9b6bbbc78768d8752becdd,15,7,2,26458,,,0,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
",git fetch https://review.opendev.org/openstack/manila refs/changes/71/668771/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'],1,be2fc55bf0901ca8e11ea15cb8cbd4e76991df9f,, <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details. , <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details.,1,1
openstack%2Fstorlets~master~I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547,openstack/storlets,master,I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547,Fix docs for docker host_root,MERGED,2019-07-03 04:40:37.000000000,2019-07-03 05:34:59.000000000,2019-07-03 05:34:59.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-03 04:40:37.000000000', 'files': ['doc/source/engine_dev_installation.rst'], 'web_link': 'https://opendev.org/openstack/storlets/commit/e93ce579c17c43331b614623ef6b91f5119b45e5', 'message': 'Fix docs for docker host_root\n\nChange-Id: I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547\n'}]",0,668783,e93ce579c17c43331b614623ef6b91f5119b45e5,6,2,1,4608,,,0,"Fix docs for docker host_root

Change-Id: I99cd167ef5c5fb6a12208cb16b2f26e7b1f00547
",git fetch https://review.opendev.org/openstack/storlets refs/changes/83/668783/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/engine_dev_installation.rst'],1,e93ce579c17c43331b614623ef6b91f5119b45e5,unused, host_root = /home/docker_device, lxc_root = /home/docker_device/scopes,1,1
openstack%2Fdevstack~stable%2Fstein~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,stable/stein,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-07-02 17:42:21.000000000,2019-07-03 05:34:49.000000000,2019-07-03 01:49:16.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 17:42:21.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/fb3b6e4baa5a990da70c8b43bca181959a610278', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)\n'}]",0,668720,fb3b6e4baa5a990da70c8b43bca181959a610278,8,3,1,16643,,,0,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
(cherry picked from commit 8b31dce38b630ba3ed1883bcf91a90d296ae44f2)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/20/668720/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,fb3b6e4baa5a990da70c8b43bca181959a610278,bug/1833696-stable/stein," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") yum_install https://rdoproject.org/repos/openstack-$rdo_release/rdo-release-$rdo_release.rpm fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,7,1
openstack%2Fpython-keystoneclient~master~I18a82c23881484276b7b317b6c5b42c263dcd59a,openstack/python-keystoneclient,master,I18a82c23881484276b7b317b6c5b42c263dcd59a,[WIP] update keyring version,ABANDONED,2019-05-29 06:48:53.000000000,2019-07-03 05:24:53.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-05-29 06:48:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/6e86a8e96c1075365ea99a79fed79af01e5aeff2', 'message': '[WIP] update keyring version\n\nChange-Id: I18a82c23881484276b7b317b6c5b42c263dcd59a\n'}, {'number': 2, 'created': '2019-05-30 06:28:35.000000000', 'files': ['test-requirements.txt', 'lower-constraints.txt'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/cb46a15f4daeb78f414b3a15060e9f1d2e627ad6', 'message': '[WIP] update keyring version\n\nChange-Id: I18a82c23881484276b7b317b6c5b42c263dcd59a\n'}]",0,661897,cb46a15f4daeb78f414b3a15060e9f1d2e627ad6,5,1,2,27621,,,0,"[WIP] update keyring version

Change-Id: I18a82c23881484276b7b317b6c5b42c263dcd59a
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/97/661897/2 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,6e86a8e96c1075365ea99a79fed79af01e5aeff2,660609,keyring<19.0.0;python_version=='2.7' # MIT/PSF keyring;python_version>='3.4' # MIT/PSF,keyring>=5.5.1 # MIT/PSF,2,1
openstack%2Fstorlets~master~I883cc6fdd71c6907ac3ed5e8f593b0662936d557,openstack/storlets,master,I883cc6fdd71c6907ac3ed5e8f593b0662936d557,Remove unused parameters from sample conf files,MERGED,2019-05-03 09:29:16.000000000,2019-07-03 05:22:47.000000000,2019-07-03 05:22:47.000000000,"[{'_account_id': 4608}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-03 09:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/storlets/commit/dc7594abae1ab7b3b39159c68db89b25951d810f', 'message': 'Remove unused parameters from sample conf files\n\nThere are some old parameters in current sample conf files.\nThis patch updates these files, to have only available parameters\nare listed.\n\nChange-Id: I883cc6fdd71c6907ac3ed5e8f593b0662936d557\n'}, {'number': 2, 'created': '2019-05-03 10:23:47.000000000', 'files': ['etc/storlet-stub-gateway.conf-sample', 'etc/storlet-docker-gateway.conf-sample'], 'web_link': 'https://opendev.org/openstack/storlets/commit/575b39510dda599d6933712f8e9d2e444dad6753', 'message': 'Remove unused parameters from sample conf files\n\nThere are some old parameters in current sample conf files.\nThis patch updates these files, to have only available parameters\nare listed.\n\nTrivialFix\n\nChange-Id: I883cc6fdd71c6907ac3ed5e8f593b0662936d557\n'}]",1,656936,575b39510dda599d6933712f8e9d2e444dad6753,8,2,2,9816,,,0,"Remove unused parameters from sample conf files

There are some old parameters in current sample conf files.
This patch updates these files, to have only available parameters
are listed.

TrivialFix

Change-Id: I883cc6fdd71c6907ac3ed5e8f593b0662936d557
",git fetch https://review.opendev.org/openstack/storlets refs/changes/36/656936/1 && git format-patch -1 --stdout FETCH_HEAD,"['etc/storlet-stub-gateway.conf-sample', 'etc/storlet-docker-gateway.conf-sample']",2,dc7594abae1ab7b3b39159c68db89b25951d810f,unused,host_root = /home/docker_device,lxc_root = /home/docker_device/scopes,1,3
openstack%2Fheat~master~I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,openstack/heat,master,I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee,Don't resolve properties for OS::Heat::None resource,MERGED,2019-07-02 17:13:16.000000000,2019-07-03 05:17:44.000000000,2019-07-03 05:14:05.000000000,"[{'_account_id': 4257}, {'_account_id': 8833}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 17:13:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/4461ef8bc4c5cb750ed44f1f608802ac6baac60a', 'message': ""Don't resolve properties for OS::Heat::None resource\n\nWe don't store resource_properties_data for OS::Heat::None.\nThere is no point trying to resolve the properties for old resource\nwhich would fail at times.\n\nChange-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee\nCloses-Bug: #1834881\n""}, {'number': 2, 'created': '2019-07-02 18:11:17.000000000', 'files': ['heat/engine/resources/openstack/heat/none_resource.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/7066bccc538574de5424ff0b79ce1e2feeb6e2ad', 'message': ""Don't resolve properties for OS::Heat::None resource\n\nWe don't store resource_properties_data for OS::Heat::None.\nThere is no point trying to resolve the properties for old resource\nwhich would fail at times.\n\nChange-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee\nTask: 35661\nCloses-Bug: #1834881\n""}]",1,668718,7066bccc538574de5424ff0b79ce1e2feeb6e2ad,14,3,2,8833,,,0,"Don't resolve properties for OS::Heat::None resource

We don't store resource_properties_data for OS::Heat::None.
There is no point trying to resolve the properties for old resource
which would fail at times.

Change-Id: I4cf72ae6d11ffbedc20adedfe7b6d2a1d47e23ee
Task: 35661
Closes-Bug: #1834881
",git fetch https://review.opendev.org/openstack/heat refs/changes/18/668718/2 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/resources/openstack/heat/none_resource.py'],1,4461ef8bc4c5cb750ed44f1f608802ac6baac60a,bug/1834881," def frozen_definition(self): return self.t.freeze( properties=properties.Properties(schema={}, data={})) ",,4,0
openstack%2Fswift~master~Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4,openstack/swift,master,Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4,Add information about secret_cache_duration to sample config,MERGED,2019-07-02 18:21:52.000000000,2019-07-03 05:10:02.000000000,2019-07-03 05:08:47.000000000,"[{'_account_id': 1179}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 18:21:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/b6f91edac8114fb50d4f81111c9641bc2e2a3599', 'message': 'Add information about secret_cache_duration to sample config\n\nChange-Id: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4\n'}, {'number': 2, 'created': '2019-07-02 18:44:05.000000000', 'files': ['etc/proxy-server.conf-sample'], 'web_link': 'https://opendev.org/openstack/swift/commit/4f7c44a9d7921849da0f3eecd23c26b65ec71435', 'message': 'Add information about secret_cache_duration to sample config\n\nRelated-Change-Id: Id0c01da6aa6ca804c8f49a307b5171b87ec92228\nChange-Id: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4\n'}]",0,668727,4f7c44a9d7921849da0f3eecd23c26b65ec71435,10,3,2,15343,,,0,"Add information about secret_cache_duration to sample config

Related-Change-Id: Id0c01da6aa6ca804c8f49a307b5171b87ec92228
Change-Id: Ica740c28b47aa3f3b38dbfed4a7f5662ec46c2c4
",git fetch https://review.opendev.org/openstack/swift refs/changes/27/668727/2 && git format-patch -1 --stdout FETCH_HEAD,['etc/proxy-server.conf-sample'],1,b6f91edac8114fb50d4f81111c9641bc2e2a3599,,# Secrets may be cached to reduce latency for the client and load on Keystone. # Set this to some number of seconds greater than zero to enable caching. # secret_cache_duration = 0 # Secret caching requires Keystone credentials similar to the authtoken middleware; # these credentials require access to view all project credentials. # auth_url = http://keystonehost:35357 # auth_plugin = password # project_domain_id = default # project_name = service # user_domain_id = default # username = swift # password = password ,,14,0
openstack%2Ftricircle~master~I0400cff6f98797f21f81b787958c13b271ac730f,openstack/tricircle,master,I0400cff6f98797f21f81b787958c13b271ac730f,Make tricircle function test work with python3 Change-Id: I0400cff6f98797f21f81b787958c13b271ac730f Signed-off-by: zhangchi <zhangchi@szzt.com.cn> Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>,MERGED,2019-05-21 08:30:25.000000000,2019-07-03 05:05:26.000000000,2019-07-03 05:05:25.000000000,"[{'_account_id': 12076}, {'_account_id': 19960}, {'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-05-21 08:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/a63a50cd58400fd6c62b27fe6cf4c1bf8cfcaa17', 'message': 'Make tricircle function test work with python3\n\nChange-Id: I0400cff6f98797f21f81b787958c13b271ac730f\nSigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}, {'number': 2, 'created': '2019-06-27 10:14:41.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/8a9388aad81b9f62316846f82fd35389c2f320df', 'message': 'Make tricircle function test work with python3\nChange-Id: I0400cff6f98797f21f81b787958c13b271ac730f\nSigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}]",0,660285,8a9388aad81b9f62316846f82fd35389c2f320df,12,4,2,28071,,,0,"Make tricircle function test work with python3
Change-Id: I0400cff6f98797f21f81b787958c13b271ac730f
Signed-off-by: zhangchi <zhangchi@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/85/660285/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,a63a50cd58400fd6c62b27fe6cf4c1bf8cfcaa17,bug/functional-test-with-py3, name: tricircle-functional-python3 parent: legacy-dsvm-base run: playbooks/tricircle-dsvm-functional/run.yaml post-run: playbooks/tricircle-dsvm-functional/post.yaml timeout: 7800 required-projects: - openstack/devstack-gate - openstack/tricircle - openstack/neutron - openstack/networking-sfc vars: devstack_localrc: USE_PYTHON3: true - job: - tricircle-functional-python3,,16,0
openstack%2Fmanila~stable%2Frocky~I83a1fbeb8cc7f40e07017541283418da65f0fc36,openstack/manila,stable/rocky,I83a1fbeb8cc7f40e07017541283418da65f0fc36,Remove the redunant table from windows' editor,MERGED,2019-07-03 02:26:55.000000000,2019-07-03 04:59:04.000000000,2019-07-03 04:23:40.000000000,"[{'_account_id': 9003}, {'_account_id': 12898}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-07-03 02:26:55.000000000', 'files': ['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/1e938ac5281a227b9f29b64dc7444ec9de437f08', 'message': ""Remove the redunant table from windows' editor\n\nIn windows env, cannot deal with '\\t\\t\\t', maybe this is mistake\nresult in 'git pull' faild on windows env. In linux env show that(from\ntable):\n[root@localhost manila]# vim releasenotes/notes/bug-1818081\nbug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I\n\nChange-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36\n(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)\n(cherry picked from commit 1f68a8ffc55520272235b8165cd32abf6e6b3689)\n""}]",0,668775,1e938ac5281a227b9f29b64dc7444ec9de437f08,9,5,1,16643,,,0,"Remove the redunant table from windows' editor

In windows env, cannot deal with '\t\t\t', maybe this is mistake
result in 'git pull' faild on windows env. In linux env show that(from
table):
[root@localhost manila]# vim releasenotes/notes/bug-1818081
bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml^I^I^I

Change-Id: I83a1fbeb8cc7f40e07017541283418da65f0fc36
(cherry picked from commit d3b26f3d93adffee2f9b6bbbc78768d8752becdd)
(cherry picked from commit 1f68a8ffc55520272235b8165cd32abf6e6b3689)
",git fetch https://review.opendev.org/openstack/manila refs/changes/75/668775/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/bug-1818081-fix-inferred-script-name-in-case-of-proxy-urls-e33466af856708b4.yaml'],1,1e938ac5281a227b9f29b64dc7444ec9de437f08,, <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details. , <https://bugs.launchpad.net/manila/+bug/1818081>`_ for more details.,1,1
openstack%2Fopenstack-helm-infra~master~I3353262644ae649ed9f495ac83a2567d9da263ae,openstack/openstack-helm-infra,master,I3353262644ae649ed9f495ac83a2567d9da263ae,Ceph-Client: Wait for inactive pgs in ceph cluster,MERGED,2019-06-25 15:57:07.000000000,2019-07-03 04:28:45.000000000,2019-07-03 04:28:45.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 28618}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-06-25 15:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b49326c01fb8b4881b1828aeb371b71ce46c7ce7', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 2, 'created': '2019-06-25 21:43:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/be9ab49543a7bcbca88b7466581a2c297a55c061', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 3, 'created': '2019-06-26 14:30:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/457e1d1c8a4293acfaaa93995344ef63303d79a9', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 4, 'created': '2019-06-26 16:28:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ceb625d5cea2ed447e59226fca76c0d6e1dc46fd', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 5, 'created': '2019-06-26 17:04:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/40e582df35c03957d387816d9da441999f06dd92', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 6, 'created': '2019-06-28 21:01:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/032754a25a781326a29c0d915b4047da9c1b436a', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 7, 'created': '2019-07-01 15:12:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c6c45f07ddbb83c803253587a461a1d9fbb6f300', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 8, 'created': '2019-07-01 23:36:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ee60b86134476db5f51546c593749591fd9d9d71', 'message': 'Ceph-Client: Wait  for healthy ceph cluster\n\nThis is to add wait logic for healthy ceph cluster in manage pool\njob since adjusting pools for pgs may bring cluster to warning state.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 9, 'created': '2019-07-02 15:51:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6c5d0144a7f585c930c406201e445477e08eb3a1', 'message': 'Ceph-Client: Wait for inactive pgs in ceph cluster\n\nThis is to add wait logic for inactive pgs after adjusting pgs in\nmanage pool job.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}, {'number': 10, 'created': '2019-07-02 16:50:25.000000000', 'files': ['ceph-client/templates/bin/pool/_init.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b69f393b549ed839440478a25d3416deb68e9866', 'message': 'Ceph-Client: Wait for inactive pgs in ceph cluster\n\nThis is to add wait logic for inactive pgs after adjusting pgs in\nmanage pool job.\n\nChange-Id: I3353262644ae649ed9f495ac83a2567d9da263ae\n'}]",3,667392,b69f393b549ed839440478a25d3416deb68e9866,39,7,10,28372,,,0,"Ceph-Client: Wait for inactive pgs in ceph cluster

This is to add wait logic for inactive pgs after adjusting pgs in
manage pool job.

Change-Id: I3353262644ae649ed9f495ac83a2567d9da263ae
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/667392/8 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/pool/_init.sh.tpl'],1,b49326c01fb8b4881b1828aeb371b71ce46c7ce7,wait-for-active-pgs,"function wait_for_cluster_health () { echo ""#### Start: Checking Ceph cluster status ####"" end=$(($(date +%s) + 180)) while true; do ceph_status_output=$(ceph -s -f json | jq -r '.health') ceph_health_status=$(echo $ceph_status_output | jq -r '.status') if [ ""x${ceph_health_status}"" == ""xHEALTH_OK"" ]; then echo ""Ceph status is HEALTH_OK"" break elif [ ""$(date +%s)"" -gt $end ]; then echo ""Ceph cluster status is NOT HEALTH_OK."" exit 1 fi done } wait_for_cluster_health ",,19,0
openstack%2Frally-openstack~master~Ib68711fad110ca7ab58274aa654cb433d371f2d6,openstack/rally-openstack,master,Ib68711fad110ca7ab58274aa654cb433d371f2d6,[gates] Fix `tox` command issue to unblock gate,MERGED,2019-06-28 08:34:28.000000000,2019-07-03 04:11:40.000000000,2019-07-03 04:11:40.000000000,"[{'_account_id': 9545}, {'_account_id': 15209}, {'_account_id': 21528}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 08:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/4abaef03c51cdda0576a1f22ecc85b896f778e75', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 2, 'created': '2019-07-01 01:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/7aaffb4c75528e5edc695bda8558fc98ac1741f2', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 3, 'created': '2019-07-01 06:08:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/a275cb4d5a6d819702ec6b608d51e0a5124b6a3a', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 4, 'created': '2019-07-01 11:54:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/e6a3f507187463a66bdfe7539b75a7aa544a5ab5', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 5, 'created': '2019-07-01 11:56:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/639c4963e78c416ea81f3a80ef61e013100238fd', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 6, 'created': '2019-07-02 12:14:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/61008bb009737bb8a6f5e56750c224b41c41638a', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 7, 'created': '2019-07-02 14:11:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/ec1072fdef350dd9b6ebfa490c3310175dda4ca7', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 8, 'created': '2019-07-02 14:37:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/f9d67a7db54afeb69ac6099c28be100dfea5e469', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 9, 'created': '2019-07-02 15:29:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/971996162971c0e90d36991719c0f26550442305', 'message': ""[gates] Try to fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}, {'number': 10, 'created': '2019-07-02 16:20:17.000000000', 'files': ['tests/ci/playbooks/roles/run-rally-tox/tasks/main.yaml'], 'web_link': 'https://opendev.org/openstack/rally-openstack/commit/8918b76bd24cc731e9358ba170f2a441a392fdff', 'message': ""[gates] Fix `tox` command issue to unblock gate\n\nThe error Info:\n  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)\n\nlooks it is access right issue.\n\nChange-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6\n""}]",0,668113,8918b76bd24cc731e9358ba170f2a441a392fdff,32,4,10,21528,,,0,"[gates] Fix `tox` command issue to unblock gate

The error Info:
  py.error.EACCES: [Permission denied]: mkdir('/home/zuul/src/opendev.org/openstack/rally-openstack/.tox',)

looks it is access right issue.

Change-Id: Ib68711fad110ca7ab58274aa654cb433d371f2d6
",git fetch https://review.opendev.org/openstack/rally-openstack refs/changes/13/668113/2 && git format-patch -1 --stdout FETCH_HEAD,['tests/ci/playbooks/roles/run-rally-tox/tasks/main.yaml'],1,4abaef03c51cdda0576a1f22ecc85b896f778e75,tox, tox -e {{ rally_tox_env }} --workdir ~/ , tox -e {{ rally_tox_env }},1,1
openstack%2Fpython-openstackclient~master~I897645a4cb9f03ca464daa14f0895572212b81d9,openstack/python-openstackclient,master,I897645a4cb9f03ca464daa14f0895572212b81d9,Add Python 3 Train unit tests,MERGED,2019-07-01 07:08:24.000000000,2019-07-03 04:03:30.000000000,2019-07-03 04:03:30.000000000,"[{'_account_id': 970}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 07:08:24.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/5986f473064cd43bf09909b5c3f616bf44329724', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I897645a4cb9f03ca464daa14f0895572212b81d9\n'}]",0,668364,5986f473064cd43bf09909b5c3f616bf44329724,10,2,1,27822,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I897645a4cb9f03ca464daa14f0895572212b81d9
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/64/668364/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,5986f473064cd43bf09909b5c3f616bf44329724,python3-train,"envlist = py37,py36,py27,pep8","envlist = py36,py27,pep8",3,3
openstack%2Frpm-packaging~stable%2Fstein~Id16dd75c34e1287c3d090dba82b3fbed62313d7e,openstack/rpm-packaging,stable/stein,Id16dd75c34e1287c3d090dba82b3fbed62313d7e,reno: Add missing pbr Requires,MERGED,2019-06-12 06:43:48.000000000,2019-07-03 04:01:22.000000000,2019-07-03 04:01:22.000000000,"[{'_account_id': 7102}, {'_account_id': 13294}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-12 06:43:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/790bb4d9927ef8032e23a8fb024fe0b9e2aeffdb', 'message': 'reno: Add missing pbr Requires\n\nChange-Id: Id16dd75c34e1287c3d090dba82b3fbed62313d7e\n(cherry picked from commit a8b175aa7f1ccf04712de9a4096dda70c70114c1)\n'}, {'number': 2, 'created': '2019-06-12 18:30:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/dea5e7609cde4ca68b719c8f8bf65764561e72d7', 'message': 'reno: Add missing pbr Requires\n\nChange-Id: Id16dd75c34e1287c3d090dba82b3fbed62313d7e\n(cherry picked from commit a8b175aa7f1ccf04712de9a4096dda70c70114c1)\n'}, {'number': 3, 'created': '2019-07-02 04:05:28.000000000', 'files': ['openstack/reno/reno.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/abd148e33c86607fc5a14c2de190d78426854476', 'message': 'reno: Add missing pbr Requires\n\nChange-Id: Id16dd75c34e1287c3d090dba82b3fbed62313d7e\n(cherry picked from commit a8b175aa7f1ccf04712de9a4096dda70c70114c1)\n'}]",0,664796,abd148e33c86607fc5a14c2de190d78426854476,17,5,3,7102,,,0,"reno: Add missing pbr Requires

Change-Id: Id16dd75c34e1287c3d090dba82b3fbed62313d7e
(cherry picked from commit a8b175aa7f1ccf04712de9a4096dda70c70114c1)
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/96/664796/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/reno/reno.spec.j2'],1,790bb4d9927ef8032e23a8fb024fe0b9e2aeffdb,,Requires: {{ py2pkg('pbr') }},,1,0
openstack%2Fironic-inspector~master~Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d,openstack/ironic-inspector,master,Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d,Comment out race prone sqlite db model sync test,MERGED,2019-07-02 13:03:29.000000000,2019-07-03 03:36:07.000000000,2019-07-03 03:36:07.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-02 13:03:29.000000000', 'files': ['ironic_inspector/test/unit/test_migrations.py'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/f3fd8e9a23697d519d1ceb4a3a2dc24e6ffab073', 'message': ""Comment out race prone sqlite db model sync test\n\nThe nature of the unit tests with sqlite means that it is\neasy to get into a race condition with the tests where one\nworker thread makes changes to the database that essentially\ncauses another test to fail.\n\nSince we don't run these sorts of sync tests in ironic for\nsimilar reasons, I've commented out the test that is causing\nnumerous false failures due to race conditions.\n\nChange-Id: Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d\n""}]",0,668673,f3fd8e9a23697d519d1ceb4a3a2dc24e6ffab073,16,6,1,11655,,,0,"Comment out race prone sqlite db model sync test

The nature of the unit tests with sqlite means that it is
easy to get into a race condition with the tests where one
worker thread makes changes to the database that essentially
causes another test to fail.

Since we don't run these sorts of sync tests in ironic for
similar reasons, I've commented out the test that is causing
numerous false failures due to race conditions.

Change-Id: Ia4927fd8eca671414bd77f3d0ef188ba94cc0e2d
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/73/668673/1 && git format-patch -1 --stdout FETCH_HEAD,['ironic_inspector/test/unit/test_migrations.py'],1,f3fd8e9a23697d519d1ceb4a3a2dc24e6ffab073,bindep-fallback,"# NOTE(TheJulia): Sqlite database testing is known to encounter race # conditions as the default always falls to the same database which # means a different test runner an collide with the test and fail as # a result. Commenting out in case we figure out a solid way to # prevent this. It should be noted we only test actual databases # in ironic's unit tests. Here we're testing databases and sqlite. # class ModelsMigrationsSyncSqlite(ModelsMigrationSyncMixin, # test_migrations.ModelsMigrationsSync, # test_base.DbTestCase): # pass"," class ModelsMigrationsSyncSqlite(ModelsMigrationSyncMixin, test_migrations.ModelsMigrationsSync, test_base.DbTestCase): pass",10,5
openstack%2Fpuppet-nova~master~Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0,openstack/puppet-nova,master,Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0,Set DEFAULT/enabled_apis in nova::api,MERGED,2019-06-13 12:54:28.000000000,2019-07-03 03:36:05.000000000,2019-07-03 03:36:05.000000000,"[{'_account_id': 3153}, {'_account_id': 9414}, {'_account_id': 17216}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-13 12:54:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/04d7cf8fa988068807883271e6ad9d842e49f82a', 'message': ""Also set DEFAULT/enabled_apis if nova metadata runs via wsgi\n\nenabled_apis [1] won't get set when nova_metadata_wsgi_enabled == true.\nBut the enabled_apis list get also modified for this case, so\nwe need to move setting the config outside the conditional at [3].\n\nCloses-Bug: #1832537\n\n[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401\n[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353\n[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379\n\nChange-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0\n""}, {'number': 2, 'created': '2019-06-14 08:26:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7099a74791eee8862c0c3025a844692697d037da', 'message': ""Also set DEFAULT/enabled_apis if nova metadata runs via wsgi\n\nenabled_apis [1] won't get set when nova_metadata_wsgi_enabled == true.\nBut the enabled_apis list get also modified for this case, so\nwe need to move setting the config outside the conditional at [3].\nSince the config is also set in nova::metadata we'd need to call it\nwith the enabled_apis list from nova::api.\n\nCloses-Bug: #1832537\n\n[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401\n[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353\n[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379\n\nChange-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0\n""}, {'number': 3, 'created': '2019-06-26 12:27:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/770d2fc41de60acb282ebc0b7ae2c9ce4bb8870f', 'message': ""Also set DEFAULT/enabled_apis if nova metadata runs via wsgi\n\nenabled_apis [1] won't get set when nova_metadata_wsgi_enabled == true.\nBut the enabled_apis list get also modified for this case, so\nwe need to move setting the config outside the conditional at [3].\nSince the config is also set in nova::metadata we'd need to call it\nwith the enabled_apis list from nova::api.\n\nCloses-Bug: #1832537\n\n[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401\n[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353\n[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379\n\nChange-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0\n""}, {'number': 4, 'created': '2019-06-26 12:32:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/0e66e10a9945b7b934d82e0503b3bae539670f00', 'message': ""Set DEFAULT/enabled_apis in nova::api\n\nenabled_apis [1] won't get set in nova::api when\nnova_metadata_wsgi_enabled == true.\nBut the enabled_apis list get also modified for this case, so\nwe need to move setting the config outside the conditional at [3].\nSince the config is right now also set in nova::metadata this\ndeprecates it in nova::metadata to only use nova::api.\n\nCloses-Bug: #1832537\n\n[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401\n[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353\n[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379\n\nChange-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0\n""}, {'number': 5, 'created': '2019-07-02 12:51:37.000000000', 'files': ['manifests/metadata.pp', 'releasenotes/notes/nova_metadata_deprecate_enabled_apis-1ec89bc5bee440ff.yaml', 'manifests/api.pp', 'spec/classes/nova_metadata_spec.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/919a4ce5a9942393403804635676e493420117f3', 'message': ""Set DEFAULT/enabled_apis in nova::api\n\nenabled_apis [1] won't get set in nova::api when\nnova_metadata_wsgi_enabled == true.\nBut the enabled_apis list get also modified for this case, so\nwe need to move setting the config outside the conditional at [3].\nSince the config is right now also set in nova::metadata this\ndeprecates it in nova::metadata to only use nova::api.\n\nRelated-Bug: #1832537\n\n[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401\n[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353\n[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379\n\nChange-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0\n""}]",0,665131,919a4ce5a9942393403804635676e493420117f3,26,7,5,17216,,,0,"Set DEFAULT/enabled_apis in nova::api

enabled_apis [1] won't get set in nova::api when
nova_metadata_wsgi_enabled == true.
But the enabled_apis list get also modified for this case, so
we need to move setting the config outside the conditional at [3].
Since the config is right now also set in nova::metadata this
deprecates it in nova::metadata to only use nova::api.

Related-Bug: #1832537

[1] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L401
[2] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L353
[3] https://github.com/openstack/puppet-nova/blob/master/manifests/api.pp#L379

Change-Id: Ifd751feecb4bdbece138fec3a7c90ba5377bd0d0
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/31/665131/5 && git format-patch -1 --stdout FETCH_HEAD,['manifests/api.pp'],1,04d7cf8fa988068807883271e6ad9d842e49f82a,bug/1832537," 'DEFAULT/enabled_apis': value => join($enabled_apis_real, ',');"," 'DEFAULT/enabled_apis': value => join($enabled_apis_real, ',');",1,1
openstack%2Ftempest~master~Ia82ef2aa9cb0959ccee1600feff297abb451176a,openstack/tempest,master,Ia82ef2aa9cb0959ccee1600feff297abb451176a,Raise non 404 Error in generate-tempest-plugin-list.py,MERGED,2019-06-24 06:28:47.000000000,2019-07-03 03:13:04.000000000,2019-07-03 03:13:04.000000000,"[{'_account_id': 5689}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 23186}]","[{'number': 1, 'created': '2019-06-24 06:28:47.000000000', 'files': ['tools/generate-tempest-plugins-list.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/2957b4020a7c3eeeaab63d0f5088b47b9b53395c', 'message': ""Raise non 404 Error in generate-tempest-plugin-list.py\n\nThis commit makes the tempest plugin function raise non 404 errors\nwhen it catches them. Without doing that, we just ignore the errors.\nHowever we shouldn't do that because it just causes another error when\nthe variable is used.\n\nChange-Id: Ia82ef2aa9cb0959ccee1600feff297abb451176a\n""}]",0,667019,2957b4020a7c3eeeaab63d0f5088b47b9b53395c,19,4,1,5689,,,0,"Raise non 404 Error in generate-tempest-plugin-list.py

This commit makes the tempest plugin function raise non 404 errors
when it catches them. Without doing that, we just ignore the errors.
However we shouldn't do that because it just causes another error when
the variable is used.

Change-Id: Ia82ef2aa9cb0959ccee1600feff297abb451176a
",git fetch https://review.opendev.org/openstack/tempest refs/changes/19/667019/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/generate-tempest-plugins-list.py'],1,2957b4020a7c3eeeaab63d0f5088b47b9b53395c,raise-http-error, # We should not ignore non 404 errors. raise err,,2,0
openstack%2Fnova~stable%2Fqueens~Id670f13a7f197e71c77dc91276fc2fba2fc5f314,openstack/nova,stable/queens,Id670f13a7f197e71c77dc91276fc2fba2fc5f314,libvirt: Avoid using os-brick encryptors when device_path isn't provided,MERGED,2019-04-30 08:28:09.000000000,2019-07-03 02:06:58.000000000,2019-07-03 02:06:57.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-30 08:28:09.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ec43a1348d871b52473b46bd895b609dc16fe8fe', 'message': ""libvirt: Avoid using os-brick encryptors when device_path isn't provided\n\nWhen disconnecting an encrypted volume the Libvirt driver uses the\npresence of a Libvirt secret associated with the volume to determine if\nthe new style native QEMU LUKS decryption or original decryption method\nusing os-brick encrytors is used.\n\nWhile this works well in most deployments some issues have been observed\nin Kolla based environments where the Libvirt secrets are not fully\npersisted between host reboots or container upgrades. This can lead to\n_detach_encryptor attempting to build an encryptor which will fail if\nthe associated connection_info for the volume does not contain a\ndevice_path, such as in the case for encrypted rbd volumes.\n\nThis change adds a simple conditional to _detach_encryptor to ensure we\nreturn when device_path is not present in connection_info and native\nQEMU LUKS decryption is available. This handles the specific use\ncase where we are certain that the encrypted volume was never decrypted\nusing the os-brick encryptors, as these require a local block device on\nthe compute host and have thus never supported rbd.\n\nIt is still safe to build an encryptor and call detach_volume when a\ndevice_path is present however as change I9f52f89b8466d036 made such\ncalls idempotent within os-brick.\n\nChange-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314\nCloses-bug: #1821696\n(cherry picked from commit 56ca4d32ddf944b541b8a6c46f07275e7d8472bc)\n(cherry picked from commit c6432ac0212d15b6d8f1620b42937b2abcb66d46)\n(cherry picked from commit 2c6e59e835b123d6040e2a059aaa98bf9cced392)\n""}]",0,656464,ec43a1348d871b52473b46bd895b609dc16fe8fe,29,8,1,10135,,,0,"libvirt: Avoid using os-brick encryptors when device_path isn't provided

When disconnecting an encrypted volume the Libvirt driver uses the
presence of a Libvirt secret associated with the volume to determine if
the new style native QEMU LUKS decryption or original decryption method
using os-brick encrytors is used.

While this works well in most deployments some issues have been observed
in Kolla based environments where the Libvirt secrets are not fully
persisted between host reboots or container upgrades. This can lead to
_detach_encryptor attempting to build an encryptor which will fail if
the associated connection_info for the volume does not contain a
device_path, such as in the case for encrypted rbd volumes.

This change adds a simple conditional to _detach_encryptor to ensure we
return when device_path is not present in connection_info and native
QEMU LUKS decryption is available. This handles the specific use
case where we are certain that the encrypted volume was never decrypted
using the os-brick encryptors, as these require a local block device on
the compute host and have thus never supported rbd.

It is still safe to build an encryptor and call detach_volume when a
device_path is present however as change I9f52f89b8466d036 made such
calls idempotent within os-brick.

Change-Id: Id670f13a7f197e71c77dc91276fc2fba2fc5f314
Closes-bug: #1821696
(cherry picked from commit 56ca4d32ddf944b541b8a6c46f07275e7d8472bc)
(cherry picked from commit c6432ac0212d15b6d8f1620b42937b2abcb66d46)
(cherry picked from commit 2c6e59e835b123d6040e2a059aaa98bf9cced392)
",git fetch https://review.opendev.org/openstack/nova refs/changes/64/656464/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,ec43a1348d871b52473b46bd895b609dc16fe8fe,bug/1821696," @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') mock_use_native_luks, mock_get_encryptor, mock_get_metadata): mock_use_native_luks.return_value = False @mock.patch('nova.virt.libvirt.host.Host.find_secret') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._use_native_luks') @mock.patch('nova.virt.libvirt.driver.LibvirtDriver._get_volume_encryptor') def test_detach_encryptor_native_luks_device_path_secret_missing(self, mock_get_encryptor, mock_use_native_luks, mock_find_secret): """"""Assert that the encryptor is not built when native LUKS is available, the associated volume secret is missing and device_path is also missing from the connection_info. """""" drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) encryption = {'provider': 'luks', 'control_location': 'front-end', 'encryption_key_id': uuids.encryption_key_id} connection_info = {'data': {'volume_id': uuids.volume_id}} mock_find_secret.return_value = False mock_use_native_luks.return_value = True drvr._detach_encryptor(self.context, connection_info, encryption) mock_find_secret.assert_called_once_with('volume', uuids.volume_id) mock_get_encryptor.assert_not_called() "," mock_get_encryptor, mock_get_metadata): mock_get_encryptor, mock_get_metadata):",35,2
openstack%2Fneutron~stable%2Fqueens~I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,openstack/neutron,stable/queens,I38615c0d18bb5a1f22f3e7865ce24615a540aa9a,Treat networks shared by RBAC in same way as shared with all tenants,MERGED,2019-06-28 06:05:44.000000000,2019-07-03 02:06:53.000000000,2019-07-03 02:06:53.000000000,"[{'_account_id': 1131}, {'_account_id': 11975}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-28 06:05:44.000000000', 'files': ['neutron/policy.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9dc82e90670e289759442cf4919b9fd0655f3c43', 'message': 'Treat networks shared by RBAC in same way as shared with all tenants\n\nIn patch [1] handle of networks with ""shared"" flag set to True was\nfixed and it is now possible to use ""rule:shared"" in API policy in\nactions related e.g. to ports or subnets.\nBut network can be shared with some specific tenant only by doing it\nwith RBAC mechanism and in such case it didn\'t work with [1] only.\nIt was like that because context.get_admin_context() was used to get\nnetwork so this returned network had got shared=False set even if\nrequest comes from tenant for which network was shared through RBAC.\n\nNow network will be always get with context which have got set proper\ntenant_id so ""shared"" flag will be set properly even in case if it\'s\nshared through RBAC.\n\n[1] https://review.opendev.org/#/c/652636/\n\nChange-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a\nCloses-Bug: #1833455\n(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)\n'}]",0,668091,9dc82e90670e289759442cf4919b9fd0655f3c43,19,5,1,11975,,,0,"Treat networks shared by RBAC in same way as shared with all tenants

In patch [1] handle of networks with ""shared"" flag set to True was
fixed and it is now possible to use ""rule:shared"" in API policy in
actions related e.g. to ports or subnets.
But network can be shared with some specific tenant only by doing it
with RBAC mechanism and in such case it didn't work with [1] only.
It was like that because context.get_admin_context() was used to get
network so this returned network had got shared=False set even if
request comes from tenant for which network was shared through RBAC.

Now network will be always get with context which have got set proper
tenant_id so ""shared"" flag will be set properly even in case if it's
shared through RBAC.

[1] https://review.opendev.org/#/c/652636/

Change-Id: I38615c0d18bb5a1f22f3e7865ce24615a540aa9a
Closes-Bug: #1833455
(cherry picked from commit d5edb080b080bc5d5221f8586fc6ffdca7ab8b67)
",git fetch https://review.opendev.org/openstack/neutron refs/changes/91/668091/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/policy.py'],1,9dc82e90670e289759442cf4919b9fd0655f3c43,bug/1833455-stable/queens," project_id = target_dict.get('project_id') ctx = (context.Context(tenant_id=project_id) if project_id else context.get_admin_context()) network = plugin.get_network(ctx, target_network_id)"," network = plugin.get_network( context.get_admin_context(), target_network_id)",4,2
openstack%2Fopenstack-helm~master~Icfad3434ca496a841993b95adaf5d853728d920f,openstack/openstack-helm,master,Icfad3434ca496a841993b95adaf5d853728d920f,OpenStack: Check Stein release on Ubuntu Bionic,MERGED,2019-06-26 15:41:55.000000000,2019-07-03 01:53:41.000000000,2019-07-03 01:53:41.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-26 15:41:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/9afde6ab9a1939b20d3e4d33a49952791f1eb6a9', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-26 20:43:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ee497fa3a7be025a0fbf4ef9bfb59541cf41b90d', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-06-26 20:43:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/8aeb6df75b0ba860996586749a976ac25ddd9ca9', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-06-26 22:52:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4b354cf809eb44a4faee4737c5c1a1de66deb09d', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 5, 'created': '2019-06-27 02:02:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/4ddee0de36da5744ba7bbb3bb7a4989bef1276ff', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 6, 'created': '2019-06-27 15:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/28e6cde8b198ec34a72eed5114debbe6801574bc', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-06-28 22:15:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/eb317e677cf04e967994707b7188fef0c6f76ce4', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-07-02 17:16:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c5e22d2f39a8d261583ad9f9fa9a5572550b5eb4', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 9, 'created': '2019-07-02 17:17:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/56cdf2c409fcd19f88f6959901061d19f9bfd623', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 10, 'created': '2019-07-02 17:21:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/b2c805a9ffe391e74b7a6781698e4bf24afcb29a', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 11, 'created': '2019-07-03 00:26:30.000000000', 'files': ['glance/values_overrides/stein-ubuntu_bionic.yaml', 'keystone/values_overrides/stein-ubuntu_bionic.yaml', 'heat/values_overrides/stein-ubuntu_bionic.yaml', 'neutron/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'cinder/values_overrides/stein-ubuntu_bionic.yaml', 'neutron/values_overrides/stein.yaml', 'tools/deployment/component/compute-kit/libvirt.sh', 'horizon/values_overrides/stein-ubuntu_bionic.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/74e4474ec6f3a34cc795ddaf5ac602995431cdd6', 'message': 'OpenStack: Check Stein release on Ubuntu Bionic\n\nThis PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic\ncontainers.\n\nDepends-On: https://review.opendev.org/667726\n\nChange-Id: Icfad3434ca496a841993b95adaf5d853728d920f\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667655,74e4474ec6f3a34cc795ddaf5ac602995431cdd6,29,4,11,23928,,,0,"OpenStack: Check Stein release on Ubuntu Bionic

This PS adds checks for the Stein Release of OpenStack in Ubuntu Bionic
containers.

Depends-On: https://review.opendev.org/667726

Change-Id: Icfad3434ca496a841993b95adaf5d853728d920f
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/55/667655/1 && git format-patch -1 --stdout FETCH_HEAD,"['glance/values_overrides/stein-ubuntu_bionic.yaml', 'heat/values_overrides/stein-ubuntu_bionic.yaml', 'keystone/values_overrides/stein-ubuntu_bionic.yaml', 'neutron/values_overrides/stein-ubuntu_bionic.yaml', 'nova/values_overrides/stein-ubuntu_bionic.yaml', 'cinder/values_overrides/stein-ubuntu_bionic.yaml', 'neutron/values_overrides/stein.yaml', 'horizon/values_overrides/stein-ubuntu_bionic.yaml', 'zuul.d/project.yaml', 'zuul.d/jobs-openstack-helm.yaml']",10,9afde6ab9a1939b20d3e4d33a49952791f1eb6a9,stein,- job: name: openstack-helm-keystone-stein-ubuntu_bionic parent: openstack-helm-keystone vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic- job: name: openstack-helm-glance-stein-ubuntu_bionic parent: openstack-helm-glance vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic- job: name: openstack-helm-heat-stein-ubuntu_bionic parent: openstack-helm-heat vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic- job: name: openstack-helm-cinder-stein-ubuntu_bionic parent: openstack-helm-cinder vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic- job: name: openstack-helm-compute-kit-stein-ubuntu_bionic parent: openstack-helm-compute-kit vars: osh_params: openstack_release: stein container_distro_name: ubuntu container_distro_version: bionic,,166,0
openstack%2Fironic~master~Ic90123a7de8fba6850ecfa15d0f7b26949d27564,openstack/ironic,master,Ic90123a7de8fba6850ecfa15d0f7b26949d27564,Test Commit for IPA Change,ABANDONED,2019-06-20 13:31:20.000000000,2019-07-03 01:52:52.000000000,,"[{'_account_id': 10118}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-20 13:31:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/36b8a4b29fbaf47d6a5c35e358e66f86d598b41a', 'message': 'Test Commit for IPA Change\n\nDepends-On: https://review.opendev.org/#/c/666198/\nChange-Id: Ic90123a7de8fba6850ecfa15d0f7b26949d27564\n'}]",0,666576,36b8a4b29fbaf47d6a5c35e358e66f86d598b41a,10,5,1,11655,,,0,"Test Commit for IPA Change

Depends-On: https://review.opendev.org/#/c/666198/
Change-Id: Ic90123a7de8fba6850ecfa15d0f7b26949d27564
",git fetch https://review.opendev.org/openstack/ironic refs/changes/76/666576/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,36b8a4b29fbaf47d6a5c35e358e66f86d598b41a,,,,0,0
openstack%2Fironic-inspector~master~Id180deced7a1d199bc7c8c1f086df9158b6c5007,openstack/ironic-inspector,master,Id180deced7a1d199bc7c8c1f086df9158b6c5007,Lets temporarily disable broken templates so we can fix gate,MERGED,2019-07-02 16:49:17.000000000,2019-07-03 01:24:59.000000000,2019-07-03 01:24:59.000000000,"[{'_account_id': 10343}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 16:49:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/98c3e95bb0c306ec6a9fa142045e9d1a017a3a27', 'message': 'Lets temporarily disable broken templates so we can fix gate\n\nChange-Id: Id180deced7a1d199bc7c8c1f086df9158b6c5007\n'}, {'number': 2, 'created': '2019-07-02 16:49:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/497db8479bfb2f1d2895f65bb6e721b6259b8a66', 'message': 'Lets temporarily disable broken templates so we can fix gate\n\nChange-Id: Id180deced7a1d199bc7c8c1f086df9158b6c5007\n'}, {'number': 3, 'created': '2019-07-02 20:29:41.000000000', 'files': ['zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/ironic-inspector/commit/da7d3bb806c5c315fccc87c76c0aab7a41a63b2d', 'message': 'Lets temporarily disable broken templates so we can fix gate\n\nChange-Id: Id180deced7a1d199bc7c8c1f086df9158b6c5007\n'}]",0,668712,da7d3bb806c5c315fccc87c76c0aab7a41a63b2d,14,4,3,11655,,,0,"Lets temporarily disable broken templates so we can fix gate

Change-Id: Id180deced7a1d199bc7c8c1f086df9158b6c5007
",git fetch https://review.opendev.org/openstack/ironic-inspector refs/changes/12/668712/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/project.yaml'],1,98c3e95bb0c306ec6a9fa142045e9d1a017a3a27,668712, # - check-requirements # - openstack-cover-jobs # - openstack-lower-constraints-jobs # - openstack-python-jobs # - openstack-python3-train-jobs - publish-openstack-docs-pti # - release-notes-jobs-python3, - check-requirements - openstack-cover-jobs - openstack-lower-constraints-jobs - openstack-python-jobs - openstack-python3-train-jobs - publish-openstack-docs-pti - release-notes-jobs-python3,7,7
openstack%2Fmagnum~stable%2Frocky~Ib93a7c0f761d047da3408703a5cf4208821acb33,openstack/magnum,stable/rocky,Ib93a7c0f761d047da3408703a5cf4208821acb33,Fix registry on k8s_fedora_atomic,MERGED,2019-04-30 15:54:05.000000000,2019-07-03 01:23:44.000000000,2019-07-03 01:23:43.000000000,"[{'_account_id': 2463}, {'_account_id': 6484}, {'_account_id': 20498}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-30 15:54:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/7cf8ffc354c663dab50f213041fda4d87b66c60a', 'message': 'Fix registry on k8s_fedora_atomic\n\nThis fixes an issue with --registry-enabled in k8s_fedora_atomic where\nthe registry container fails to start in the minion due to two missing\nheat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.\n\nChange-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33\nTask: 23067\nStory: 2003033\n(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)\n'}, {'number': 2, 'created': '2019-05-01 20:59:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/magnum/commit/57e340f6367429e446ba3e3270e222f92cf93f23', 'message': 'Fix registry on k8s_fedora_atomic\n\nThis fixes an issue with --registry-enabled in k8s_fedora_atomic where\nthe registry container fails to start in the minion due to two missing\nheat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.\n\nChange-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33\nTask: 23067\nStory: 2003033\n(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)\n(cherry picked from commit 9b53aac3774420122fb85ad0977224caf8182c07)\n'}, {'number': 3, 'created': '2019-07-02 01:53:52.000000000', 'files': ['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml'], 'web_link': 'https://opendev.org/openstack/magnum/commit/acb30af7b9f511acda7687d13355f6cdbe90f5be', 'message': 'Fix registry on k8s_fedora_atomic\n\nThis fixes an issue with --registry-enabled in k8s_fedora_atomic where\nthe registry container fails to start in the minion due to two missing\nheat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.\n\nChange-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33\nTask: 23067\nStory: 2003033\n(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)\n(cherry picked from commit 9b53aac3774420122fb85ad0977224caf8182c07)\n'}]",0,656535,acb30af7b9f511acda7687d13355f6cdbe90f5be,19,4,3,6834,,,0,"Fix registry on k8s_fedora_atomic

This fixes an issue with --registry-enabled in k8s_fedora_atomic where
the registry container fails to start in the minion due to two missing
heat parameters: TRUSTEE_USERNAME and TRUSTEE_DOMAIN_ID.

Change-Id: Ib93a7c0f761d047da3408703a5cf4208821acb33
Task: 23067
Story: 2003033
(cherry picked from commit 00522c5ba20bdd8939e3ff1d8daca48c2507dde7)
(cherry picked from commit 9b53aac3774420122fb85ad0977224caf8182c07)
",git fetch https://review.opendev.org/openstack/magnum refs/changes/35/656535/2 && git format-patch -1 --stdout FETCH_HEAD,"['magnum/drivers/common/templates/kubernetes/fragments/write-heat-params.yaml', 'magnum/drivers/k8s_fedora_atomic_v1/templates/kubeminion.yaml']",2,7cf8ffc354c663dab50f213041fda4d87b66c60a,fix-registry-on-k8s-fedora-stable/rocky, $TRUSTEE_USERNAME: {get_param: trustee_username} $TRUSTEE_DOMAIN_ID: {get_param: trustee_domain_id},,4,0
openstack%2Ftacker~master~I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb,openstack/tacker,master,I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb,FIX: nfv event list failed with internal server error,MERGED,2019-06-26 07:22:28.000000000,2019-07-03 01:23:06.000000000,2019-07-03 01:23:06.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 26588}, {'_account_id': 30198}]","[{'number': 1, 'created': '2019-06-26 07:22:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/97028ef9cc0f751af80e5a080541497550e9b314', 'message': 'FIX: nfv event list failed with internal server error\n\nIn case of invalid id of resource-id, event list command failed\nwith inappropriate error(i.e. internal server error). Fixing this issue\nwith propper error handling.\n\nChange-Id: I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb\nCloses-Bug:#1834178\n'}, {'number': 2, 'created': '2019-06-28 11:13:45.000000000', 'files': ['tacker/extensions/common_services.py', 'tacker/db/common_services/common_services_db_plugin.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/ecd78c6048ea3234aec93ceef13942b86251f2b0', 'message': 'FIX: nfv event list failed with internal server error\n\nIn case of invalid id of resource-id, event list command failed\nwith inappropriate error(i.e. internal server error). Fixing this issue\nwith propper error handling.\n\nChange-Id: I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb\nCloses-Bug:#1834178\n'}]",0,667528,ecd78c6048ea3234aec93ceef13942b86251f2b0,18,5,2,18955,,,0,"FIX: nfv event list failed with internal server error

In case of invalid id of resource-id, event list command failed
with inappropriate error(i.e. internal server error). Fixing this issue
with propper error handling.

Change-Id: I0e23da2d63bf3bcedfea78e6e88575cb7a7adfeb
Closes-Bug:#1834178
",git fetch https://review.opendev.org/openstack/tacker refs/changes/28/667528/2 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/extensions/common_services.py', 'tacker/db/common_services/common_services_db_plugin.py']",2,97028ef9cc0f751af80e5a080541497550e9b314,bug/1834178,"from oslo_db import exception try: return self._get_collection(context, common_services_db.Event, self._make_event_dict, filters, fields, sorts, limit, marker_obj, page_reverse) except exception.DBError as e: LOG.error(""Failed to get event: %s"", e.message) msg = ""Id should be in UUID v4 format"" raise common_services.InvalidFormat(error=msg)"," return self._get_collection(context, common_services_db.Event, self._make_event_dict, filters, fields, sorts, limit, marker_obj, page_reverse)",14,4
openstack%2Fnova-specs~master~I9aadc5e653e9f5af0d47028ffe74eaf439658950,openstack/nova-specs,master,I9aadc5e653e9f5af0d47028ffe74eaf439658950,Spec: Use OpenStack SDK in Nova,MERGED,2019-06-03 23:41:47.000000000,2019-07-03 00:30:21.000000000,2019-07-02 22:47:50.000000000,"[{'_account_id': 2}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 9708}, {'_account_id': 10239}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 13995}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 29745}]","[{'number': 1, 'created': '2019-06-03 23:41:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/cd7d18a3c4cce1e0e1cc052e3cc1ab6ef71eee51', 'message': ""Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 2, 'created': '2019-06-04 21:25:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/962b713ba913d2966d9d0c0a701756050509f782', 'message': ""WIP: Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 3, 'created': '2019-06-04 23:16:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/095f22597c7638be48612dcf22002da4e31d127f', 'message': ""WIP: Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 4, 'created': '2019-06-21 00:42:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/9aa60f7353427fbe3aa5981ca49941596969bcaa', 'message': ""WIP: Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 5, 'created': '2019-06-21 23:47:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f3822b7bbc672b5de7fa358f1ef22509e5406435', 'message': ""Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 6, 'created': '2019-06-24 16:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/fda3fba4c504fa8b3cc38deb28c026860c2a1263', 'message': ""Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 7, 'created': '2019-06-24 17:19:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b18a8bf66ed87bf8982a41d9801aa15cda151f9a', 'message': ""Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor ${service} in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\n""}, {'number': 8, 'created': '2019-06-24 19:30:30.000000000', 'files': ['specs/train/approved/openstacksdk-in-nova.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/13184aea4b7f54c4c980334441e5ac342dac9662', 'message': ""Spec: Use OpenStack SDK in Nova\n\nThis is a proposal\xa0to get rid of Nova's use of python-${service}client\nfor $service in glance, ironic, neutron, cinder, etc and replace them\nwith the OpenStack SDK.\n\nChange-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950\nImplements: blueprint openstacksdk-in-nova\n""}]",51,662881,13184aea4b7f54c4c980334441e5ac342dac9662,46,12,8,29745,,,0,"Spec: Use OpenStack SDK in Nova

This is a proposal to get rid of Nova's use of python-${service}client
for $service in glance, ironic, neutron, cinder, etc and replace them
with the OpenStack SDK.

Change-Id: I9aadc5e653e9f5af0d47028ffe74eaf439658950
Implements: blueprint openstacksdk-in-nova
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/81/662881/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/openstacksdk-in-nova.rst'],1,cd7d18a3c4cce1e0e1cc052e3cc1ab6ef71eee51,bp/openstacksdk-in-nova,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Use OpenStack SDK in Nova ========================================== https://blueprints.launchpad.net/nova/+spec/openstacksdk-in-nova Currently Nova is using the ``python-${service}client`` to interact with other OpenStack services. In order to simplify the Nova implementation and to reduce maintenance requirements, we would like to use the OpenStack SDK instead. Problem description =================== Nova is using a number of different methods to interact with other services. These include ``python-${service}client``, ksa adapters and possibly others. Adding new services and features require work that may be duplicated across projects. Use Cases --------- WIP Proposed change =============== This spec proposes to use the OpenStack SDK in place of ``python-${service}client`` across Nova. Nova components that interact with other services using a ``python-${service}client`` will receive plumbing to construct an openstack.connection.Connection object. Individual API calls can then be ported over, then the client import and plumbing can be removed. The OpenStack SDK includes better support for some services than others, but at worst provides the same primitives as a ksa adapter. Development has started with Ironic, which has robust support within the OpenStack SDK. Other services may require additional work as they will need to be implemented using the API primitives provided by the ksa adapter subclass in OpenStack SDK. It may be desirable to focus on expanding OpenStack SDK support for these projects before implementing in Nova. Alternatives ------------ One possibility that was considered was to replace calls into ``python-${service}client`` with methods that invoke the ``${service}`` APIs directly through the ksa adapter's ``get/put/etc`` primitives. This would entail effectively porting the ``python-${service}client`` code into nova. While this would give us the opportunity to clean things up, it would involve a lot of low-level work like version discovery/negotiation, input payload construction and validation, and output processing. Data model impact ----------------- None REST API impact --------------- None Security impact --------------- WIP Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ WIP Other deployer impact --------------------- WIP Developer impact ---------------- By using the OpenStack SDK as the single method of contact with other services, the maintenance footprint can be reduced. This also moves us towards a more stable OpenStack SDK as more consumers generally mean more chances to find and resolve bugs. In addition, as new methods and services are supported by the OpenStack SDK, introducing them to Nova should be simpler and more reliable than the current methods. Upgrade impact -------------- WIP Implementation ============== Assignee(s) ----------- Primary assignee: dustinc <dustin.cowles@intel.com>, efried <openstack@fried.cc> Other contributors: mordred <mordred@inaugust.com> (OpenStack SDK) Work Items ---------- * Introduce package requirements to Nova * For Each Supported Service: * Introduce plumbing for the construction of an openstack.connection.Connection object. * Replace invocations into ``python-${service}client`` one at a time, with calls into the SDK's baremetal proxy. Once all calls are replaced, remove ``python-${service}client`` from nova. * Replace the SchedulerReportClient's ksa Adapter with the SDK's placement proxy. This should be transparent other than a small number of changes to mocks in tests. Eventually, the SDK may implement more support for placement. The framework being in place, we can integrate such changes at our leisure as they become available. * Other? Dependencies ============ * OpenStack SDK support for using oslo.config options. * https://review.opendev.org/#/c/643601/ Testing ======= WIP Documentation Impact ==================== WIP References ========== * http://lists.openstack.org/pipermail/openstack-discuss/2019-May/005810.html * https://docs.openstack.org/openstacksdk/latest/user/config/configuration.html * http://eavesdrop.openstack.org/irclogs/%23openstack-sdks/%23openstack-sdks.2019-05-20.log.html#t2019-05-20T13:48:07 * Ironic Implementation: https://review.opendev.org/#/c/643664/ History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,189,0
openstack%2Fpuppet-tripleo~stable%2Fstein~If42bb74d2f9af3183145d204776d4846d2dd2bbc,openstack/puppet-tripleo,stable/stein,If42bb74d2f9af3183145d204776d4846d2dd2bbc,Bump metadata for a stein release,MERGED,2019-07-02 17:03:50.000000000,2019-07-03 00:29:32.000000000,2019-07-03 00:29:32.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 17:03:50.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fa51726240000662058a3f3739a54d2a0956dc09', 'message': 'Bump metadata for a stein release\n\nChange-Id: If42bb74d2f9af3183145d204776d4846d2dd2bbc\n'}]",0,668717,fa51726240000662058a3f3739a54d2a0956dc09,10,3,1,14985,,,0,"Bump metadata for a stein release

Change-Id: If42bb74d2f9af3183145d204776d4846d2dd2bbc
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/17/668717/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,fa51726240000662058a3f3739a54d2a0956dc09,stein-release," ""version"": ""10.5.0"","," ""version"": ""10.4.1"",",1,1
openstack%2Fpuppet-tripleo~stable%2Frocky~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,stable/rocky,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-07-01 15:39:35.000000000,2019-07-03 00:29:31.000000000,2019-07-03 00:29:31.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 15:39:35.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/fdab9a16995083123c00b89b414d0a737fbd121f', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)\n(cherry picked from commit ecbec17a339f0965c65ba29a182e571fd6a625cb)\n""}]",0,668494,fdab9a16995083123c00b89b414d0a737fbd121f,8,4,1,16643,,,0,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)
(cherry picked from commit ecbec17a339f0965c65ba29a182e571fd6a625cb)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/94/668494/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,fdab9a16995083123c00b89b414d0a737fbd121f,bug/1831938-stable/stein-stable/rocky,"# [*manila_user_enabled_backends*] # (Optional) List of additional backend stanzas to activate # Defaults to hiera('manila_user_enabled_backends', undef) # $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_user_enabled_backends = hiera('manila_user_enabled_backends', undef), $backends = delete_undef_values(concat([], $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend, $manila_user_enabled_backends)) $manila_enabled_backends = delete($backends, '') "," $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_enabled_backends = delete_undef_values( [ $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend ] )",22,18
openstack%2Ftripleo-heat-templates~master~I2acae0155fa4ca07a2e61019d94a8985b31dd003,openstack/tripleo-heat-templates,master,I2acae0155fa4ca07a2e61019d94a8985b31dd003,Prepare for Ceph by including Ansible roles,MERGED,2019-05-23 13:31:21.000000000,2019-07-03 00:29:26.000000000,2019-07-03 00:29:26.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 21129}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-05-23 13:31:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c01ac384816c55a0818674be76a8173af793868', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 2, 'created': '2019-05-24 15:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f84bc83706fc994001b8667efca98bcf10e398bd', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 3, 'created': '2019-05-24 20:58:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23ed1b7a0a2089dcd1fd64eac4a376a010b5b582', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 4, 'created': '2019-05-25 22:01:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b92c989f984f074be5b59cd93855cee2f2024fae', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 5, 'created': '2019-05-26 05:11:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/021aadef399061d4dbfa6766e8170d2c3420bc2e', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 6, 'created': '2019-05-26 15:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1707b593989d9736a45ae71b30858efafbf41444', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 7, 'created': '2019-05-28 20:00:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58e44e713d827b2cbe61cf76464d04ed1071ac45', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 8, 'created': '2019-05-28 21:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/24f86b33943c4abe63d7a6ed43a0480a782d6f6b', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 9, 'created': '2019-05-29 03:37:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14954aa4706d0a23f9145f0e638cee2e2d0cffce', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 10, 'created': '2019-06-03 14:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5ae984887953b13874a754e367ab6e136991f2f3', 'message': 'WIP/DNM: Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 11, 'created': '2019-06-03 14:46:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20f9912203c7823ea53b551f47d1c516bc16bffc', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 12, 'created': '2019-06-04 14:01:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/cd0567815d83603fb23f7b4ac457daacbb1eaf8b', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 13, 'created': '2019-06-05 15:00:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d12a10042c6e91fc3685ee4f1197a65bb1793a12', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 14, 'created': '2019-06-05 15:09:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1d6cd1680713bf3f29b3a3994cadd942091cf7a2', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I110b244b035ba952f06ba4a4dc99c29e7f67c2f7\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 15, 'created': '2019-06-11 21:38:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f240bc842c681440f1a212ac842ac71361825140', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 16, 'created': '2019-06-12 02:11:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fd60bd37578fb8b12d524642a290786c9dc34b24', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 17, 'created': '2019-06-12 21:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/84cb5345e27d8e5030e45f991bbb02afd6903787', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 18, 'created': '2019-06-28 14:18:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/18a436d99602ccf5a2174bd4a74360372ff58024', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 19, 'created': '2019-06-28 18:53:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0c3df1113ec205fcefaa9a9258ff58be5674d7ad', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 20, 'created': '2019-06-29 14:10:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca1ca90b328e99f8fd68b539e2fbddb2aaba2108', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}, {'number': 21, 'created': '2019-06-29 15:44:40.000000000', 'files': ['deployment/ceph-ansible/ceph-base.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/47f3af726ae541cb5fb59dfefa8ac913c17234d4', 'message': 'Prepare for Ceph by including Ansible roles\n\nAnsible tasks which were embedded in ceph-base have been\nmoved to depends-on patch as Ansible roles. Replace calls\nto those tasks with include_role.\n\nTask: 34721\nStory: 2006041\nDepends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908\nChange-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003\n'}]",9,661001,47f3af726ae541cb5fb59dfefa8ac913c17234d4,91,9,21,18002,,,0,"Prepare for Ceph by including Ansible roles

Ansible tasks which were embedded in ceph-base have been
moved to depends-on patch as Ansible roles. Replace calls
to those tasks with include_role.

Task: 34721
Story: 2006041
Depends-On: I19cd58275a0b8f8f84776a98008cd9b10ceda908
Change-Id: I2acae0155fa4ca07a2e61019d94a8985b31dd003
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/01/661001/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-base.yaml'],1,4c01ac384816c55a0818674be76a8173af793868,ceph_refactor, - name: set ceph-ansible facts uuid_content: - name: create ceph-ansible working direcotry include_role: - name: ceph-work-dir - tasks_from: prepare - name: prepare for ceph-ansible uuid gathering include_role: - name: ceph-uuid - tasks_from: prepare - name: set ceph-ansible facts swift_get_url: {get_param: SwiftFetchDirGetTempurl} swift_put_url: {get_param: SwiftFetchDirPutTempurl} ceph_ansible_environment_variables: - yaql: data: {get_param: CephAnsibleEnvironmentVariables} expression: $.data.items().select($[0] + '=' + $[1]).join(' ') ceph_ansible_skip_tags: {get_param: CephAnsibleSkipTags} - name: get ssh private key include_role: - name: ceph-work-dir - tasks_from: get_ssh_private_key - name: run nodes-uuid include_role: - name: ceph-uuid - tasks_from: gather - name: create copy of ceph-ansible fetch directory include_role: - name: ceph-fetch-dir - tasks_from: create - name: run ceph-ansible include_role: - name: ceph-run-ansible - tasks_from: main - name: backup and clean fetch directory include_role: - name: create-fetch-dir - tasks_from: backup_and_clean," - name: set blacklisted_hostnames - name: create ceph-ansible temp dirs become: true file: path: ""{{ item }}"" state: directory owner: ""{{ ansible_user }}"" with_items: - ""{{playbook_dir}}/ceph-ansible"" - ""{{playbook_dir}}/ceph-ansible/group_vars"" - ""{{playbook_dir}}/ceph-ansible/host_vars"" - ""{{playbook_dir}}/ceph-ansible/fetch_dir"" - name: generate inventory copy: dest: ""{{playbook_dir}}/ceph-ansible/inventory.yml"" content: | {%- set ceph_groups = ['mgr', 'mon', 'osd', 'mds', 'rgw', 'nfs', 'rbdmirror', 'client'] -%} {%- for ceph_group in ceph_groups -%} {%- if 'ceph_' ~ ceph_group in groups -%} {%- set ceph_group_hosts = groups['ceph_' ~ ceph_group] | difference(blacklisted_hostnames) -%} {%- if ceph_group_hosts|length > 0 %} {{ ceph_group ~ 's:' }} hosts: {% for host in ceph_group_hosts -%} {{ host }}: ansible_user: {{ hostvars.raw_get(host)['ansible_ssh_user'] | default('root') }} ansible_host: {{ hostvars.raw_get(host)['ansible_host'] | default(host) }} {% if hostvars.raw_get(host)['ansible_connection'] | default('') == 'local' -%} ansible_connection: local {% endif -%} ansible_become: true {% endfor -%} {%- endif -%} {%- endif -%} {%- endfor %} - name: set ceph-ansible group vars all set_fact: - name: generate ceph-ansible group vars all copy: dest: ""{{playbook_dir}}/ceph-ansible/group_vars/all.yml"" content: ""{{ceph_ansible_group_vars_all|to_nice_yaml}}"" - name: set ceph-ansible extra vars set_fact: fetch_directory: ""{{playbook_dir}}/ceph-ansible/fetch_dir"" - name: generate ceph-ansible extra vars copy: dest: ""{{playbook_dir}}/ceph-ansible/extra_vars.yml"" content: ""{{ceph_ansible_extra_vars|to_nice_yaml}}"" - name: generate nodes-uuid data file copy: dest: ""{{playbook_dir}}/ceph-ansible/nodes_uuid_data.json"" content: - name: generate nodes-uuid playbook copy: dest: ""{{playbook_dir}}/ceph-ansible/nodes_uuid_playbook.yml"" content: | - hosts: all gather_facts: no tasks: - name: set nodes data set_fact: nodes_data: ""{% raw %}{{ lookup('file','./nodes_uuid_data.json') | from_json }}{% endraw %}"" - name: register machine id become: true # awk strips unwanted output, see LP bug #1762460 shell: dmidecode -s system-uuid | awk 'match($0, /[0-9A-Fa-f]{8}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{4}-[0-9A-Fa-f]{12}/) { print substr($0, RSTART, RLENGTH) }' | tr A-F a-f register: machine_uuid # NOTE(tonyb): 0 == no error, 1 == -EPERM or bad data and 2 == Command not found # 1 and 2 aren't great but shouldn't cause the deploy to fail. If we're using # the node specific data we'll fail then. If we aren't then lets keep moving failed_when: machine_uuid.rc not in [0, 1, 2] - name: generate host vars from nodes data local_action: module: copy content: ""{% raw %}{{nodes_data[machine_uuid.stdout|default('')]|default({})|to_nice_yaml}}{% endraw %}"" dest: ""{{playbook_dir}}/ceph-ansible/host_vars/{% raw %}{{inventory_hostname}}{% endraw %}.yml"" - name: detect private key file stat: path: ""{{playbook_dir}}/ssh_private_key"" register: detect_private_key_file - name: set private key file set_fact: ceph_ansible_private_key_file: ""{{playbook_dir}}/ssh_private_key"" when: ceph_ansible_private_key_file is not defined and detect_private_key_file.stat.exists - name: run nodes-uuid # needs become to be able to read the ssh private key become: true shell: list_join: - ' ' - - ANSIBLE_LOG_PATH=""{{playbook_dir}}/ceph-ansible/nodes_uuid_command.log"" - ANSIBLE_SSH_CONTROL_PATH_DIR=""{{playbook_dir}}/ceph-ansible/"" - ANSIBLE_CONFIG=""{{playbook_dir}}/ansible.cfg"" - ANSIBLE_REMOTE_TEMP=/tmp/nodes_uuid_tmp - ansible-playbook - '{% if ceph_ansible_private_key_file is defined %}--private-key {{ceph_ansible_private_key_file}}{% endif %}' - '-i' - '{{playbook_dir}}/ceph-ansible/inventory.yml' - '{% if ansible_python_interpreter is defined %}-e ansible_python_interpreter={{ansible_python_interpreter}}{% endif %}' - '{{playbook_dir}}/ceph-ansible/nodes_uuid_playbook.yml' - name: set ceph-ansible params from Heat - name: set ceph-ansible playbooks set_fact: ceph_ansible_playbooks: > {%- if ceph_ansible_playbooks_param != ['default'] -%} {{ ceph_ansible_playbooks_param }} {%- else -%} {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-docker.yml.sample']) }} {%- endif -%} - name: was path for local ceph-ansible fetch directory backups set? set_fact: ceph_ansible_tarball_name: ""temporary_dir.tar.gz"" - block: # local backup - name: look for requested ceph-ansible fetch directory for local backup stat: path=""{{local_ceph_ansible_fetch_directory_backup}}"" register: local_backup_directory ignore_errors: True - name: autocreate new directory for ceph-ansible fetch directory backup become: true file: path: ""{{local_ceph_ansible_fetch_directory_backup}}"" state: directory owner: ""{{ ansible_user }}"" mode: 0700 when: local_backup_directory.stat.exists == False - name: look for tarball of ceph-ansible fetch directory in local backup stat: path=""{{local_ceph_ansible_fetch_directory_backup}}/{{ceph_ansible_tarball_name}}"" register: local_backup_file ignore_errors: True - name: untar local backup of ceph-ansible fetch directory # unarchive module hit https://github.com/ansible/ansible/issues/35645 shell: ""/usr/bin/gtar --gzip --extract --file {{local_ceph_ansible_fetch_directory_backup}}/{{ceph_ansible_tarball_name}} -C {{playbook_dir}}/ceph-ansible/fetch_dir"" when: local_backup_file.stat.exists == True when: local_ceph_ansible_fetch_directory_backup != """" - block: # swift backup - name: set facts for swift back up of ceph-ansible fetch directory set_fact: swift_get_url: {get_param: SwiftFetchDirGetTempurl} swift_put_url: {get_param: SwiftFetchDirPutTempurl} old_ceph_ansible_tarball_name: ""temporary_dir_old.tar.gz"" new_ceph_ansible_tarball_name: ""temporary_dir_new.tar.gz"" - name: attempt download of fetch directory tarball from swift backup shell: ""curl -s -o /tmp/{{old_ceph_ansible_tarball_name}} -w '%{http_code}' -X GET \""{{ swift_get_url }}\"""" register: curl_get_http_status ignore_errors: True - name: ensure we create a new fetch_directory or use the old fetch_directory fail: msg: ""Received HTTP: {{curl_get_http_status.stdout}} when attempting to GET from {{swift_get_url}}"" when: - curl_get_http_status.changed - curl_get_http_status.stdout != ""200"" # deployment update - curl_get_http_status.stdout != ""404"" # new deployment - name: unpack downloaded ceph-ansible fetch tarball to fetch directory # unarchive module hit https://github.com/ansible/ansible/issues/35645 shell: ""/usr/bin/gtar --gzip --extract --file /tmp/{{old_ceph_ansible_tarball_name}} -C {{playbook_dir}}/ceph-ansible/fetch_dir"" when: - curl_get_http_status.changed - curl_get_http_status.stdout == ""200"" - name: remove downloaded ceph-ansible fetch directory tarball from filesystem file: path: ""/tmp/{{old_ceph_ansible_tarball_name}}"" state: absent when: - curl_get_http_status.changed - curl_get_http_status.stdout == ""200"" when: local_ceph_ansible_fetch_directory_backup == """" - name: set ceph-ansible command set_fact: ceph_ansible_command: list_join: - ' ' - - ANSIBLE_ACTION_PLUGINS=/usr/share/ceph-ansible/plugins/actions/ - ANSIBLE_CALLBACK_PLUGINS=/usr/share/ceph-ansible/plugins/callback/ - ANSIBLE_ROLES_PATH=/usr/share/ceph-ansible/roles/ - ANSIBLE_LOG_PATH=""{{playbook_dir}}/ceph-ansible/ceph_ansible_command.log"" - ANSIBLE_LIBRARY=/usr/share/ceph-ansible/library/ - ANSIBLE_CONFIG=/usr/share/ceph-ansible/ansible.cfg - ANSIBLE_REMOTE_TEMP=/tmp/ceph_ansible_tmp - ANSIBLE_FORKS=25 - ANSIBLE_GATHER_TIMEOUT=60 - yaql: data: {get_param: CephAnsibleEnvironmentVariables} expression: $.data.items().select($[0] + '=' + $[1]).join(' ') - ansible-playbook - '{% if ceph_ansible_private_key_file is defined %}--private-key {{ceph_ansible_private_key_file}}{% endif %}' - '{% if ansible_python_interpreter is defined %}-e ansible_python_interpreter={{ansible_python_interpreter}}{% endif %}' - '-{%- for number in range(0, ceph_ansible_playbook_verbosity) -%}v{% endfor %}' - if: - ceph_ansible_skip_tags_set - list_join: - ' ' - - '--skip-tags' - {get_param: CephAnsibleSkipTags} - '' - '-i' - '{{playbook_dir}}/ceph-ansible/inventory.yml' - '--extra-vars' - '@{{playbook_dir}}/ceph-ansible/extra_vars.yml' - name: run ceph-ansible (immediate log at {{playbook_dir}}/ceph-ansible/ceph_ansible_command.log) # needs become to be able to read the ssh private key become: true shell: | set -e {% for playbook in ceph_ansible_playbooks %} echo ""Running ceph-ansible playbook {{playbook}}"" {{ceph_ansible_command}} {{playbook}} 2>&1 {% endfor %} # We want the output chunked into bits to prevent # overflowing Zaqar message size no_log: true failed_when: false register: outputs - name: print ceph-ansible output in case of failure debug: var: outputs.stdout_lines | default([]) | union(outputs.stderr_lines | default([])) failed_when: outputs.rc != 0 when: - outputs.changed - outputs.rc != 0 - name: register contents of fetch_directory after ceph-ansible run find: paths: ""{{playbook_dir}}/ceph-ansible/fetch_dir/"" recurse: true register: ceph_ansible_fetch_dir_contents - name: create ceph-ansible fetch directory tarball in local backup archive: path: ""{{playbook_dir}}/ceph-ansible/fetch_dir/*"" dest: ""{{local_ceph_ansible_fetch_directory_backup}}/{{ceph_ansible_tarball_name}}"" exclude_path: - '{{playbook_dir}}/ceph-ansible/fetch_dir/fetch_dir' when: - local_ceph_ansible_fetch_directory_backup != """" - ceph_ansible_fetch_dir_contents.matched|int != 0 - block: # swift backup - name: create temporary ceph-ansible fetch directory tarball for swift backup archive: path: ""{{playbook_dir}}/ceph-ansible/fetch_dir/*"" dest: ""/tmp/{{new_ceph_ansible_tarball_name}}"" exclude_path: - '{{playbook_dir}}/ceph-ansible/fetch_dir/fetch_dir' - name: backup temporary ceph-ansible fetch directory tarball in swift shell: ""curl -s -o /dev/null -w '%{http_code}' -X PUT -T /tmp/{{new_ceph_ansible_tarball_name}} \""{{ swift_put_url }}\"""" register: curl_put_http_status - fail: msg: 'Received HTTP: {{curl_put_http_status.stdout}} when attempting to PUT to {{swift_put_url}}' name: ensure we were able to backup temporary fetch directory to swift when: - curl_put_http_status.changed - curl_put_http_status.stdout != ""200"" - curl_put_http_status.stdout != ""201"" - name: clean temporary fetch directory after swift backup file: path: ""/tmp/{{new_ceph_ansible_tarball_name}}"" state: absent when: (curl_put_http_status.changed and (curl_put_http_status.stdout == ""200"" or curl_put_http_status.stdout == ""201"")) when: - local_ceph_ansible_fetch_directory_backup == """" - ceph_ansible_fetch_dir_contents.matched|int != 0 - name: Remove ceph-ansible fetch directory become: true file: path: ""{{playbook_dir}}/ceph-ansible/fetch_dir/"" state: absent",38,266
openstack%2Fpython-zunclient~master~I9eba2e21784854e74639dd2b7737d9731150fa1e,openstack/python-zunclient,master,I9eba2e21784854e74639dd2b7737d9731150fa1e,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-02 06:26:11.000000000,2019-07-03 00:28:14.000000000,2019-07-03 00:28:13.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 06:26:11.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/e77934d082de7b81e4884922067c7da252a8dd40', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I9eba2e21784854e74639dd2b7737d9731150fa1e\n'}]",0,668607,e77934d082de7b81e4884922067c7da252a8dd40,6,2,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I9eba2e21784854e74639dd2b7737d9731150fa1e
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/07/668607/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,e77934d082de7b81e4884922067c7da252a8dd40,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fpython-openstackclient~master~Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e,openstack/python-openstackclient,master,Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e,Update the constraints url,MERGED,2019-07-01 07:13:35.000000000,2019-07-03 00:09:04.000000000,2019-07-03 00:09:04.000000000,"[{'_account_id': 970}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-07-01 07:13:35.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/python-openstackclient/commit/d16d98b27b87ea5d6186c241a19b1c60e00db3bb', 'message': 'Update the constraints url\n\nFor more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e\n'}]",0,668366,d16d98b27b87ea5d6186c241a19b1c60e00db3bb,8,3,1,27822,,,0,"Update the constraints url

For more detail, see http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ie0a41fa97696bcd8b5fd2e670efdf9379ff1080e
",git fetch https://review.opendev.org/openstack/python-openstackclient refs/changes/66/668366/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,d16d98b27b87ea5d6186c241a19b1c60e00db3bb,url, -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master}, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/upper-constraints.txt},4,4
openstack%2Fironic-python-agent~master~Ia037f84e17c34e3436b83e8bb8e1094b1473d398,openstack/ironic-python-agent,master,Ia037f84e17c34e3436b83e8bb8e1094b1473d398,Bump python hardware to the latest version,ABANDONED,2019-06-21 13:31:49.000000000,2019-07-03 00:01:47.000000000,,"[{'_account_id': 10239}, {'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-21 13:31:49.000000000', 'files': ['plugin-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/10e7fda9586ffb7903f643ac60d7cf484a40779a', 'message': 'Bump python hardware to the latest version\n\nLatest python-hardware includes fixes for nvme device\ndetection during introspection.\n\nChange-Id: Ia037f84e17c34e3436b83e8bb8e1094b1473d398\n'}]",0,666836,10e7fda9586ffb7903f643ac60d7cf484a40779a,8,4,1,11655,,,0,"Bump python hardware to the latest version

Latest python-hardware includes fixes for nvme device
detection during introspection.

Change-Id: Ia037f84e17c34e3436b83e8bb8e1094b1473d398
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/36/666836/1 && git format-patch -1 --stdout FETCH_HEAD,['plugin-requirements.txt'],1,10e7fda9586ffb7903f643ac60d7cf484a40779a,,hardware>=0.21.0,hardware>=0.20.1,1,1
openstack%2Fopenstack-helm-infra~master~I8a0c524feadd79bc0632b3c4cff2f692b10633de,openstack/openstack-helm-infra,master,I8a0c524feadd79bc0632b3c4cff2f692b10633de,Libvirt: Add Ubuntu Bionic image for stein openstack,MERGED,2019-06-26 20:43:07.000000000,2019-07-02 23:26:40.000000000,2019-07-02 23:26:40.000000000,"[{'_account_id': 7769}, {'_account_id': 17119}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-26 20:43:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/921a7ec66e424234fe4cdaa15ee0fed486fe64ec', 'message': 'DNM: Ubuntu Bionic Libvirt image\n\nChange-Id: I8a0c524feadd79bc0632b3c4cff2f692b10633de\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-06-27 15:42:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/28305c0dc92fbd8630b03a26ff2bf25c2c3bc931', 'message': 'Libvirt: Add Ubuntu Bionic image for stein openstack\n\nThis PS adds a libvirt image based on Ubuntu Bionic for\nuse with the stein release of nova.\n\nChange-Id: I8a0c524feadd79bc0632b3c4cff2f692b10633de\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-07-02 20:18:07.000000000', 'files': ['libvirt/values_overrides/stein-ubuntu_bionic.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/4a8167d718ce8b3aabc498b73ec9db2705efa439', 'message': 'Libvirt: Add Ubuntu Bionic image for stein openstack\n\nThis PS adds a libvirt image based on Ubuntu Bionic for\nuse with the stein release of nova.\n\nChange-Id: I8a0c524feadd79bc0632b3c4cff2f692b10633de\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,667726,4a8167d718ce8b3aabc498b73ec9db2705efa439,19,6,3,23928,,,0,"Libvirt: Add Ubuntu Bionic image for stein openstack

This PS adds a libvirt image based on Ubuntu Bionic for
use with the stein release of nova.

Change-Id: I8a0c524feadd79bc0632b3c4cff2f692b10633de
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/26/667726/2 && git format-patch -1 --stdout FETCH_HEAD,['libvirt/values_overrides/stein-ubuntu_bionic.yaml'],1,921a7ec66e424234fe4cdaa15ee0fed486fe64ec,stein,--- images: tags: libvirt: docker.io/port/libvirt:ubuntu_bionic ,,4,0
openstack%2Fopenstack-helm-infra~master~I026d6cc378053e805680c31d75fdfb40bbb636f5,openstack/openstack-helm-infra,master,I026d6cc378053e805680c31d75fdfb40bbb636f5,Ceph-client: update pg validation  in helm tests.,MERGED,2019-07-02 17:40:32.000000000,2019-07-02 23:10:49.000000000,2019-07-02 23:10:49.000000000,"[{'_account_id': 8898}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-02 17:40:32.000000000', 'files': ['ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/897ebbc75c90f781d48bb33b119bf901f80dafe1', 'message': 'Ceph-client: update pg validation  in helm tests.\n\nThis is to update the logic to check for incomplete pgs in ceph\ncluster and proceed if there are no incomplete/inactive pgs and\nwill not wait for healthy ceph cluster.\n\nChange-Id: I026d6cc378053e805680c31d75fdfb40bbb636f5\n'}]",0,668719,897ebbc75c90f781d48bb33b119bf901f80dafe1,11,5,1,28372,,,0,"Ceph-client: update pg validation  in helm tests.

This is to update the logic to check for incomplete pgs in ceph
cluster and proceed if there are no incomplete/inactive pgs and
will not wait for healthy ceph cluster.

Change-Id: I026d6cc378053e805680c31d75fdfb40bbb636f5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/19/668719/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-client/templates/bin/_helm-tests.sh.tpl'],1,897ebbc75c90f781d48bb33b119bf901f80dafe1,wait-for-active-pgs," inactive_pgs=(`ceph --cluster ${CLUSTER} pg ls | tail -n +2 | grep -v ""active+""|awk '{ print $1 }'`) if [ ${#inactive_pgs[*]} -gt 0 ];then echo ""There are few incomplete pgs in the cluster"" echo ${inactive_pgs[*]} exit 1 fi } check_cluster_status"," exit 1 echo ""#### Start: Checking placement groups active+clean ####"" num_pgs=$(echo ${PG_STAT} | jq -r .num_pgs) npoolls=$(echo ${PG_STAT} | jq -r .num_pg_by_state | jq length) i=$[npoolls-1] for n in $(seq 0 ${i}) do pg_state=$(echo ${PG_STAT} | jq -r .num_pg_by_state[${n}].name) if [ ""xactive+clean"" == ""x${pg_state}"" ]; then active_clean_pg_num=$(echo ${PG_STAT} | jq -r .num_pg_by_state[${n}].num) if [ $num_pgs -eq $active_clean_pg_num ]; then echo ""Success: All PGs configured (${num_pgs}) are in active+clean status"" else echo ""Error: All PGs configured (${num_pgs}) are NOT in active+clean status"" exit 1 fi else echo ""Error: PG state not in active+clean status"" exit 1 fi done } check_cluster_status",7,23
openstack%2Fnova-specs~master~Id759c7fb42b878bc0bb237558aa2e9548d995320,openstack/nova-specs,master,Id759c7fb42b878bc0bb237558aa2e9548d995320,Libvirt: add vPMU spec for train,MERGED,2019-04-09 15:05:50.000000000,2019-07-02 23:08:22.000000000,2019-07-02 23:08:22.000000000,"[{'_account_id': 136}, {'_account_id': 782}, {'_account_id': 6873}, {'_account_id': 10135}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 30209}]","[{'number': 1, 'created': '2019-04-09 15:05:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/751c2c72c920ca6c1562e6fcfb8a31fe14cc355d', 'message': 'Libvirt: add vPMU spec for train\n\nThis spec add a way for tenants to contol\nthe emulation of a virtual performacne monitoring\nunit when using the libvirt virt dirver.\n\nChange-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320\n'}, {'number': 2, 'created': '2019-06-13 13:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/e295f32ae3e900b8e5a6b4934066cc06569d5cc9', 'message': 'Libvirt: add vPMU spec for train\n\nThis spec adds a way for tenants to contol\nthe emulation of a virtual performacne monitoring\nunit when using the libvirt virt dirver.\n\nChange-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320\n'}, {'number': 3, 'created': '2019-06-24 21:59:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/0904fd1a6ef3b9ed40de040cbc595edcfcc4b9f2', 'message': 'Libvirt: add vPMU spec for train\n\nThis spec adds a way for tenants to control\nthe emulation of a virtual performacne monitoring\nunit when using the libvirt virt dirver.\n\nblueprint libvirt-disable-pmu-for-realtime-guests\n\nChange-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320\n'}, {'number': 4, 'created': '2019-06-27 22:08:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/bfd648dd0bde5c397e9dbb8d81c49fb9f7744fe2', 'message': 'Libvirt: add vPMU spec for train\n\nThis spec adds a way for tenants to control\nthe emulation of a virtual performacne monitoring\nunit when using the libvirt virt dirver.\n\nblueprint libvirt-disable-pmu-for-realtime-guests\n\nChange-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320\n'}, {'number': 5, 'created': '2019-07-01 18:24:30.000000000', 'files': ['specs/train/approved/libvirt-pmu-configuration.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/91c922a0f37482accc8591e102539a9a5f6dc6d9', 'message': 'Libvirt: add vPMU spec for train\n\nThis spec adds a way for tenants to control\nthe emulation of a virtual performacne monitoring\nunit when using the libvirt virt dirver.\n\nblueprint libvirt-pmu-configuration\nChange-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320\n'}]",38,651269,91c922a0f37482accc8591e102539a9a5f6dc6d9,26,9,5,11604,,,0,"Libvirt: add vPMU spec for train

This spec adds a way for tenants to control
the emulation of a virtual performacne monitoring
unit when using the libvirt virt dirver.

blueprint libvirt-pmu-configuration
Change-Id: Id759c7fb42b878bc0bb237558aa2e9548d995320
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/69/651269/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/libvirt-pmu-configuration.rst'],1,751c2c72c920ca6c1562e6fcfb8a31fe14cc355d,bp/libvirt-pmu-configuration,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ================================================================ Libvirt: tenant contol of qemu performance monitoring unit (vPMU) ================================================================ Include the URL of your launchpad blueprint: https://blueprints.launchpad.net/nova/+spec/libvirt-disable-pmu-for-realtime-guests qemu/kvm supports emulation of a vPMU to enable standard performance monitoring tools such as perf to be used within a virtualisation environment. The vPMU which is available on x86 cpus emulates the hardware PMU found on intel processors and was introduced in kvm in kernel 3.3.1. libvirt introduced support for vPMU control in 1.2.12 see https://libvirt.org/formatdomain.html#elementsFeatures so this feature is available in nova minimum supported libvirt of 1.3.1. This spec aims to allow tenants to contol when the vPMU is enabled. Problem description =================== While kvm/qemu support for a vPMU is generally a useful feature the requirement to collect and maintain virtual performance counter introduces additional latency of ~10us which is about 1% of the total budget for 5G end to end traffic processing latency. While this might seam small its an appriable portion of the total latency intoduced by virtulisation an is therefore an important factor in aciving the end to end system latancy target. as the provision of a vPMU is not currently contolable by an operator or tenant directly this creates a problem for those why want to enable or disable the vPMU to either avoid the latency overhaed or rely on it to monitor the performace of there workload. Use Cases --------- As a telecoms operator building a 5G network i wish to be able to deploy a virtualias Radio access network (vRAN) applicance with minimal latency impact form my virtualiation stack. As a tenant i wish to be able to monitor the performace of my application using standard tools like perf in a virutalised enviornment to enable developement, tuneing and profileing of my application. Proposed change =============== This spec proposes adding a tri state image metadata key hw_pmu=True|false|<unset> and a corresponding flavor extra spec hw:pmu=true|false|<unset> to enable/disable the pmu explcitly. The defualt value will be unset meaning the propry is not present in either the image or flavor. if the pmu property is set to true then the pmu feature element in the libvirt xml will be set to on. Similarly if it the pmu property is set to false the pmu feature element will be set to off. if the pmu property is not specific no pmu element will be emmited in the xml allowing qemu to determin if the pmu should be enabled or not. note that currently when not set the pmu is enabled/disabled based on the cpu mode and model. cpu_mode=host-passthough then it will be enbaled if a custom cpu model is set it will be disabled. In addtion to the above minium changes the libvirt driver could be modifed to report support for a vPMU to improve schduling. As the vPMU feature is supported by Nova's minimium required qemu/libvirt this would only be useful in a a heterogeneous cloud. As such the desicion to expose this feautre as a trait is left to the impementation and will be enabled as part of https://blueprints.launchpad.net/nova/+spec/image-metadata-prefiltering if desired. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- The flavor and image metadata versioned notificaiton will be extended to contain the newly added fields. Other end user impact --------------------- None Performance Impact ------------------ None Other deployer impact --------------------- if operator which to consume this feature they will need to update there flavors and/or images accordingly. Developer impact ---------------- None Upgrade impact -------------- None The default behavior when the flavor extra_spec and image metadata value is unset was chose to keep backwards compatiblity on upgrade. Implementation ============== Assignee(s) ----------- Primary assignee: sean-k-mooney Work Items ---------- - Extend libvirt driver config moduel to support the pmu element - Extend libvirt dirver to enable/disable the feature based on flavor/image - optionally enable vPMU trait. Dependencies ============ If we chose to enable the reporting of vPMU emulation as a trait then the consumtion of that trait would depend on the completion of https://blueprints.launchpad.net/nova/+spec/image-metadata-prefiltering The general feature has no depencies Testing ======= This will primaially be tested via unit tests of the xml generation and flavor/image handeling code. If the traits support is added fuctional test using the libvirt fake driver can also be implemented. Documentation Impact ==================== The flavor and image docs will need to be extended to document the new extra_spec. The Glance metadef will also be updated to document there use and supported values. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,194,0
openstack%2Fopenstack-zuul-jobs~master~Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6,openstack/openstack-zuul-jobs,master,Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6,Make infra puppet beaker jobs parent to legacy-base,MERGED,2019-07-02 21:56:52.000000000,2019-07-02 23:02:19.000000000,2019-07-02 23:02:19.000000000,"[{'_account_id': 1}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 21:56:52.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c33f888937bc796068e0891c12801e532c8b3156', 'message': 'Make infra puppet beaker jobs parent to legacy-base\n\nWe need deps out of the global bindep fallback file to avoid adding\nbindep.txt files to all of our puppet modules. Since puppet is\neffectively on life support for us lets just use the legacy base parent\njob instead of updating every module.\n\nChange-Id: Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6\n'}]",0,668761,c33f888937bc796068e0891c12801e532c8b3156,9,3,1,4146,,,0,"Make infra puppet beaker jobs parent to legacy-base

We need deps out of the global bindep fallback file to avoid adding
bindep.txt files to all of our puppet modules. Since puppet is
effectively on life support for us lets just use the legacy base parent
job instead of updating every module.

Change-Id: Ic8d9d02c54cf674a2023dd377f46bb6d9c7ffda6
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/61/668761/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,c33f888937bc796068e0891c12801e532c8b3156,legacy-puppet-beaker, parent: legacy-base,,1,0
openstack%2Ftripleo-ansible~master~I830532ca78855f29dffb05bbaf3c688c8d50f7ff,openstack/tripleo-ansible,master,I830532ca78855f29dffb05bbaf3c688c8d50f7ff,Update jobs so we're targeting only what we need,MERGED,2019-06-26 14:24:51.000000000,2019-07-02 22:51:14.000000000,2019-07-02 22:51:14.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 25877}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 14:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c3da1c01e69220d5dbb873fea3b2b6e8d2ad82eb', 'message': ""Update jobs so we're targeting only what we need\n\nThis change updates our jobs so that we're only running jobs that are required,\nspecifically the docs and release note jobs. These jobs, while fast, ran on every\ncommit even when nothing had changed. To ensure we're doing everything possible\nto conserve gate resources the jobs were updated to be fare more targeted.\n\n* A new base job was created to run release notes jobs only when the release notes\n  are modified.\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 2, 'created': '2019-06-26 22:03:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/27d0959a1b5b7e196ea658e5517f006abf29ffea', 'message': ""Update jobs so we're targeting only what we need\n\nThis change updates our jobs so that we're only running jobs that are required,\nspecifically the docs and release note jobs. These jobs, while fast, ran on every\ncommit even when nothing had changed. To ensure we're doing everything possible\nto conserve gate resources the jobs were updated to be fare more targeted.\n\n* A new base job was created to run release notes jobs only when the release notes\n  are modified.\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 3, 'created': '2019-06-26 22:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0ea0730a714a782be6e529c86510055b2fd98350', 'message': ""Update jobs so we're targeting only what we need\n\nThis change updates our jobs so we're only running jobs that are\nrequired based on the proposed changed. To ensure we're doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* A new base job was created to run release notes jobs only when the release notes\n  are modified.\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level.\n* Scenario job will only run when something changes in the core project\n* The gate pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 4, 'created': '2019-06-26 22:28:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4ebb3dba70560e482b710481abd2d4975d3f35e', 'message': ""Update jobs so we're targeting only what we need\n\nThis change updates our jobs so we're only running jobs that are\nrequired based on the proposed changed. To ensure we're doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level.\n* Scenario job will only run when something changes in the core project.\n* The gate pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 5, 'created': '2019-06-27 16:22:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/23642a52a4711107a3788fa46da06d0a9a27fd5c', 'message': ""Update jobs so we're targeting only what we need\n\nThis change updates our jobs so we're only running jobs that are\nrequired based on the proposed changed. To ensure we're doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level.\n* Scenario job will only run when something changes in the core project.\n* The gate pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}, {'number': 6, 'created': '2019-06-27 17:20:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5279b395e06dde1a386bcba4a0179c277bc5af3c', 'message': 'Update jobs so we\'re targeting only what we need\n\nThis change updates our jobs so we\'re only running jobs that are\nrequired based on the proposed changed. To ensure we\'re doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level and we\n  only want those jobs to run when required.\n* Scenario job will only run when something changes in the core project and\n  now filter ""irrelevant-files"". At this time irrelevant files are anything\n  within the molecule testing structure and documentation files.\n* The check pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-06-27 17:59:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fc782c105c82fd7fc235cebee64d89e807d0ed80', 'message': 'Update jobs so we\'re targeting only what we need\n\nThis change updates our jobs so we\'re only running jobs that are\nrequired based on the proposed changed. To ensure we\'re doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level and we\n  only want those jobs to run when required.\n* Scenario job will only run when something changes in the core project and\n  now filter ""irrelevant-files"". At this time irrelevant files are anything\n  within the molecule testing structure and documentation files.\n* The check pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 8, 'created': '2019-06-28 21:47:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5b36950439783e0a035537089b24d56f095ded23', 'message': 'Update jobs so we\'re targeting only what we need\n\nThis change updates our jobs so we\'re only running jobs that are\nrequired based on the proposed changed. To ensure we\'re doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level and we\n  only want those jobs to run when required.\n* Scenario job will only run when something changes in the core project and\n  now filter ""irrelevant-files"". At this time irrelevant files are anything\n  within the molecule testing structure and documentation files.\n* The check pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 9, 'created': '2019-07-02 20:26:24.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/71aa1abc867abfe14373fa7c66408a0d1422f155', 'message': 'Update jobs so we\'re targeting only what we need\n\nThis change updates our jobs so we\'re only running jobs that are\nrequired based on the proposed changed. To ensure we\'re doing\neverything possible to conserve gate resources the layout has\nbeen updated to be more targeted.\n\n* The layout was updated, removing the docs and realsenote templates. This was\n  removed because templates can not be augmented at the project level and we\n  only want those jobs to run when required.\n* Scenario job will only run when something changes in the core project and\n  now filter ""irrelevant-files"". At this time irrelevant files are anything\n  within the molecule testing structure and documentation files.\n* The check pipeline will now fail fast. If anything in the gate check fails\n  all pending or queued jobs will be terminated giving the developer\n  rapid feedback on what is wrong. While this option could end up requiring\n  developers to make multiple commits, faster feedback should help developers\n  fix problems more quickly, especially as we add long running scenario jobs.\n\nChange-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",16,667631,71aa1abc867abfe14373fa7c66408a0d1422f155,44,9,9,7353,,,0,"Update jobs so we're targeting only what we need

This change updates our jobs so we're only running jobs that are
required based on the proposed changed. To ensure we're doing
everything possible to conserve gate resources the layout has
been updated to be more targeted.

* The layout was updated, removing the docs and realsenote templates. This was
  removed because templates can not be augmented at the project level and we
  only want those jobs to run when required.
* Scenario job will only run when something changes in the core project and
  now filter ""irrelevant-files"". At this time irrelevant files are anything
  within the molecule testing structure and documentation files.
* The check pipeline will now fail fast. If anything in the gate check fails
  all pending or queued jobs will be terminated giving the developer
  rapid feedback on what is wrong. While this option could end up requiring
  developers to make multiple commits, faster feedback should help developers
  fix problems more quickly, especially as we add long running scenario jobs.

Change-Id: I830532ca78855f29dffb05bbaf3c688c8d50f7ff
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/31/667631/8 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/base.yaml', 'zuul.d/layout.yaml']",2,c3da1c01e69220d5dbb873fea3b2b6e8d2ad82eb,, - tripleo-ansible-releasenotes - tripleo-ansible-releasenotes - publish-openstack-tox-docs - publish-openstack-releasenotes-python3 tag: jobs: - publish-openstack-releasenotes-python3, - publish-openstack-docs-pti - release-notes-jobs-python3,12,2
openstack%2Fproject-config~master~Ic077eb39c6ad331dabe905773784a027d736ccaa,openstack/project-config,master,Ic077eb39c6ad331dabe905773784a027d736ccaa,Cleanup zuul-worker pkg-map,MERGED,2017-09-22 18:33:50.000000000,2019-07-02 22:36:05.000000000,2017-09-22 19:24:13.000000000,"[{'_account_id': 2}, {'_account_id': 3}, {'_account_id': 5263}]","[{'number': 1, 'created': '2017-09-22 18:33:50.000000000', 'files': ['nodepool/elements/zuul-worker/pkg-map'], 'web_link': 'https://opendev.org/openstack/project-config/commit/726d199eef852c3396d0ec415fc11d9d765c5d69', 'message': 'Cleanup zuul-worker pkg-map\n\nDefault pkg-map to empty packages, and opt-in for each distro. This\nfixes fedora builds.\n\nChange-Id: Ic077eb39c6ad331dabe905773784a027d736ccaa\nSigned-off-by: Paul Belanger <pabelanger@redhat.com>\n'}]",1,506746,726d199eef852c3396d0ec415fc11d9d765c5d69,8,3,1,4162,,,0,"Cleanup zuul-worker pkg-map

Default pkg-map to empty packages, and opt-in for each distro. This
fixes fedora builds.

Change-Id: Ic077eb39c6ad331dabe905773784a027d736ccaa
Signed-off-by: Paul Belanger <pabelanger@redhat.com>
",git fetch https://review.opendev.org/openstack/project-config refs/changes/46/506746/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/zuul-worker/pkg-map'],1,726d199eef852c3396d0ec415fc11d9d765c5d69,," ""libselinux-python"": ""sys-libs/libselinux"" ""redhat"": { ""libselinux-python"": ""libselinux-python"" } }, ""default"": { ""apt-transport-https"": """", ""libselinux-python"": """", ""python-apt"": """""," ""libselinux-python"": """", ""apt-transport-https"": """", ""libselinux-python"": ""sys-libs/libselinux"", ""python-apt"": """" ""suse"": { ""apt-transport-https"": """", ""libselinux-python"": """", ""python-apt"": """" }",8,8
openstack%2Fnova~stable%2Fqueens~Ic4bbc075127823abfc559693a0db79e5e23f8209,openstack/nova,stable/queens,Ic4bbc075127823abfc559693a0db79e5e23f8209,Restore connection_info after live migration rollback,MERGED,2019-05-31 13:55:17.000000000,2019-07-02 22:31:11.000000000,2019-07-02 22:31:11.000000000,"[{'_account_id': 4393}, {'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 9555}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-31 13:55:17.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/95a3e0cf6aee8f278a1441f3e50517f08c6f3038', 'message': 'Restore connection_info after live migration rollback\n\nBuilding on I0390c9ff51f49b063f736ca6ef868a4fa782ede5 we can now restore\nthe original connection_info for a volume bdm when rolling back after a\nlive migration failure.\n\nNOTE(lyarwood): Conflicts as I3689dd6544c387676983be47cf925c3fd7ce72f1\nand Ia9ea1e164fb3b4a386405538eed58d94ad115172 are not present in\nstable/queens.\n\nConflicts:\n    nova/compute/manager.py\n    nova/tests/unit/compute/test_compute_mgr.py\n\nNOTE(lyarwood): Conflict as I8da38aec0fe4808273b8587ace3df9dbbc3ab576 is\nnot present in stable/rocky.\n\nConflicts:\n    nova/compute/manager.py\n\nNOTE(lyarwood): Conflict as Ib61913d9d6ef6148170963463bb71c13f4272c5d is\nnot present in stable/stein.\n\nConflicts:\n    nova/compute/manager.py\n\nCo-Authored-By: Lee Yarwood <lyarwood@redhat.com>\nCloses-Bug: #1780973\nChange-Id: Ic4bbc075127823abfc559693a0db79e5e23f8209\n(cherry picked from commit 1c480a75edc0f5f1b446121491869c02f30437a0)\n(cherry picked from commit 4ff46ff7677530bce3ef268b6a0d85b50308d2fd)\n(cherry picked from commit 0c9f98f64fdd845c1a26348418164e55a37042d0)\n'}]",2,662471,95a3e0cf6aee8f278a1441f3e50517f08c6f3038,13,10,1,10135,,,0,"Restore connection_info after live migration rollback

Building on I0390c9ff51f49b063f736ca6ef868a4fa782ede5 we can now restore
the original connection_info for a volume bdm when rolling back after a
live migration failure.

NOTE(lyarwood): Conflicts as I3689dd6544c387676983be47cf925c3fd7ce72f1
and Ia9ea1e164fb3b4a386405538eed58d94ad115172 are not present in
stable/queens.

Conflicts:
    nova/compute/manager.py
    nova/tests/unit/compute/test_compute_mgr.py

NOTE(lyarwood): Conflict as I8da38aec0fe4808273b8587ace3df9dbbc3ab576 is
not present in stable/rocky.

Conflicts:
    nova/compute/manager.py

NOTE(lyarwood): Conflict as Ib61913d9d6ef6148170963463bb71c13f4272c5d is
not present in stable/stein.

Conflicts:
    nova/compute/manager.py

Co-Authored-By: Lee Yarwood <lyarwood@redhat.com>
Closes-Bug: #1780973
Change-Id: Ic4bbc075127823abfc559693a0db79e5e23f8209
(cherry picked from commit 1c480a75edc0f5f1b446121491869c02f30437a0)
(cherry picked from commit 4ff46ff7677530bce3ef268b6a0d85b50308d2fd)
(cherry picked from commit 0c9f98f64fdd845c1a26348418164e55a37042d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/71/662471/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/tests/unit/compute/test_compute.py', 'nova/compute/manager.py']",3,95a3e0cf6aee8f278a1441f3e50517f08c6f3038,bug/1780973," migration, migrate_data, source_bdms): :param source_bdms: BDMs prior to modification by the destination compute host. Set by _do_live_migration and not part of the callback interface, so this is never None migrate_data=migrate_data, source_bdms=source_bdms) context, dest, instance, migration, migrate_data, source_bdms) context, dest, instance, migration, migrate_data, source_bdms) context, dest, instance, migration, migrate_data, source_bdms) rollback_live_migration = functools.partial( self._rollback_live_migration, source_bdms=source_bdms) rollback_live_migration, migration_status='error', source_bdms=None): :param source_bdms: BDMs prior to modification by the destination compute host. Set by _do_live_migration and not part of the callback interface, so this is never None source_bdms_by_volid = {bdm.volume_id: bdm for bdm in source_bdms if bdm.is_volume} # NOTE(lyarwood): Fetch the current list of BDMs and delete any volume # attachments used by the destination host before rolling back to the # original and still valid source host volume attachments. # NOTE(lyarwood): This actually calls the cinderv2 # os-terminate_connection API if required. # TODO(lyarwood): migrate_data.old_vol_attachment_ids can # be removed now as we can lookup the original # attachment_ids from the source_bdms list here. # NOTE(lyarwood): Rollback the connection_info stored within # the BDM to that used by the source and not the destination. source_bdm = source_bdms_by_volid[bdm.volume_id] bdm.connection_info = source_bdm.connection_info bdm.save()"," migration, migrate_data): migrate_data) context, dest, instance, migration, migrate_data) context, dest, instance, migration, migrate_data) context, dest, instance, migration, migrate_data) self._rollback_live_migration, migration_status='error'): bdm.save()",119,40
openstack%2Fironic~stable%2Fstein~I34569806c3d34628b688661a3796e8d9b394135c,openstack/ironic,stable/stein,I34569806c3d34628b688661a3796e8d9b394135c,redfish: handle missing Bios attribute,MERGED,2019-06-18 05:48:39.000000000,2019-07-02 22:29:23.000000000,2019-07-02 22:29:23.000000000,"[{'_account_id': 10118}, {'_account_id': 10206}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-18 05:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d351a874f9876e7f95739b58dadc9e1ebb21209f', 'message': ""redfish: handle missing Bios attribute\n\nCurrently we log tracebacks on cleaning if a System doesn't have\na Bios attribute (seems the case for some Seamicro systems). This\npatch turns it into a warning and provides correct handling of\nsuch cases in other BIOS calls.\n\nAlso cleans up mocking in the BIOS tests since the current approach\ncan yield surprising results with error inheritance.\n\nChange-Id: I34569806c3d34628b688661a3796e8d9b394135c\n(cherry picked from commit 46884deba3c271b7aae493729635b3c84343d55f)\n""}, {'number': 2, 'created': '2019-06-18 07:37:19.000000000', 'files': ['ironic/drivers/modules/redfish/bios.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/cleaning-bios-d74a4947d2525b80.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py'], 'web_link': 'https://opendev.org/openstack/ironic/commit/0ea884d804c8d4104c91696b1863967decd819fe', 'message': ""redfish: handle missing Bios attribute\n\nCurrently we log tracebacks on cleaning if a System doesn't have\na Bios attribute (seems the case for some Seamicro systems). This\npatch turns it into a warning and provides correct handling of\nsuch cases in other BIOS calls.\n\nAlso cleans up mocking in the BIOS tests since the current approach\ncan yield surprising results with error inheritance.\n\nChange-Id: I34569806c3d34628b688661a3796e8d9b394135c\n(cherry picked from commit 46884deba3c271b7aae493729635b3c84343d55f)\n""}]",0,665866,0ea884d804c8d4104c91696b1863967decd819fe,14,7,2,10239,,,0,"redfish: handle missing Bios attribute

Currently we log tracebacks on cleaning if a System doesn't have
a Bios attribute (seems the case for some Seamicro systems). This
patch turns it into a warning and provides correct handling of
such cases in other BIOS calls.

Also cleans up mocking in the BIOS tests since the current approach
can yield surprising results with error inheritance.

Change-Id: I34569806c3d34628b688661a3796e8d9b394135c
(cherry picked from commit 46884deba3c271b7aae493729635b3c84343d55f)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/66/665866/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic/drivers/modules/redfish/bios.py', 'ironic/conductor/manager.py', 'ironic/tests/unit/conductor/test_manager.py', 'ironic/tests/unit/drivers/third_party_driver_mocks.py', 'releasenotes/notes/cleaning-bios-d74a4947d2525b80.yaml', 'ironic/tests/unit/drivers/modules/redfish/test_bios.py']",6,d351a874f9876e7f95739b58dadc9e1ebb21209f,sushy-bios-stable/stein,"class NoBiosSystem(object): identity = '/redfish/v1/Systems/1234' @property def bios(self): raise sushy.exceptions.MissingAttributeError(attribute='Bios', resource=self) def test_cache_bios_settings_no_bios(self, mock_setting_list, mock_get_system): create_list = [] update_list = [] delete_list = [] nochange_list = [{'name': 'EmbeddedSata', 'value': 'Raid'}, {'name': 'NicBoot1', 'value': 'NetworkBoot'}] mock_setting_list.sync_node_setting.return_value = ( create_list, update_list, delete_list, nochange_list ) mock_get_system.return_value = NoBiosSystem() with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: self.assertRaisesRegex(exception.UnsupportedDriverExtension, 'BIOS settings are not supported', task.driver.bios.cache_bios_settings, task) mock_get_system.assert_called_once_with(task.node) mock_setting_list.sync_node_setting.assert_not_called() mock_setting_list.create.assert_not_called() mock_setting_list.save.assert_not_called() mock_setting_list.delete.assert_not_called() @mock.patch.object(redfish_utils, 'get_system', autospec=True) @mock.patch.object(objects, 'BIOSSettingList', autospec=True) def test_factory_reset_fail(self, mock_get_system): bios.reset_bios.side_effect = sushy.exceptions.SushyError self.assertRaisesRegex( exception.RedfishError, 'BIOS factory reset failed', task.driver.bios.factory_reset, task) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_factory_reset_not_supported(self, mock_get_system): with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: mock_get_system.return_value = NoBiosSystem() def test_apply_configuration_not_supported(self, mock_get_system): settings = [{'name': 'ProcTurboMode', 'value': 'Disabled'}, {'name': 'NicBoot1', 'value': 'NetworkBoot'}] with task_manager.acquire(self.context, self.node.uuid, shared=False) as task: mock_get_system.return_value = NoBiosSystem() self.assertRaisesRegex(exception.RedfishError, 'BIOS settings are not supported', task.driver.bios.apply_configuration, task, settings) mock_get_system.assert_called_once_with(task.node) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_apply_configuration_fail(self, mock_get_system): bios.set_attributes.side_effect = sushy.exceptions.SushyError","class MockedSushyError(Exception): pass @mock.patch('ironic.drivers.modules.redfish.bios.sushy') def test_factory_reset_fail(self, mock_get_system, mock_sushy): mock_sushy.exceptions.SushyError = MockedSushyError bios.reset_bios.side_effect = MockedSushyError @mock.patch('ironic.drivers.modules.redfish.bios.sushy') def test_apply_configuration_fail(self, mock_get_system, mock_sushy): mock_sushy.exceptions.SushyError = MockedSushyError bios.set_attributes.side_effect = MockedSushyError",103,19
openstack%2Ftripleo-common~master~I02129adf193f7a4a8b38411f3a20079d10cfa872,openstack/tripleo-common,master,I02129adf193f7a4a8b38411f3a20079d10cfa872,Handle empty NetworkConfig,MERGED,2019-07-01 20:56:25.000000000,2019-07-02 22:26:55.000000000,2019-07-02 22:26:55.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-01 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/c43ab9e2993aa0a6bc473cd029fc9ce7f8db066e', 'message': 'Handle empty NetworkConfig\n\nIn some cases the NetworkConfig config resource may come back as an\nempty dict from Heat, such as when using net-config-noop.yaml. In that\ncase, we should not attempt to write any config.\n\nChange-Id: I02129adf193f7a4a8b38411f3a20079d10cfa872\nRelated-bug: #1834094\n'}, {'number': 2, 'created': '2019-07-01 21:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/e8ff6f02b3fdcd1aa872a98d14742594bfc824a6', 'message': 'Handle empty NetworkConfig\n\nIn some cases the NetworkConfig config resource may come back as an\nempty dict from Heat, such as when using net-config-noop.yaml. In that\ncase, we should not attempt to write any config.\n\nChange-Id: I02129adf193f7a4a8b38411f3a20079d10cfa872\nRelated-bug: #1834094\n'}, {'number': 3, 'created': '2019-07-02 07:10:29.000000000', 'files': ['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/ecd3738077f54ce5440a66bbb616b1e32295e896', 'message': 'Handle empty NetworkConfig\n\nIn some cases the NetworkConfig config resource may come back as an\nempty dict from Heat, such as when using net-config-noop.yaml. In that\ncase, we should not attempt to write any config.\n\nChange-Id: I02129adf193f7a4a8b38411f3a20079d10cfa872\nRelated-bug: #1834094\n'}]",6,668560,ecd3738077f54ce5440a66bbb616b1e32295e896,25,9,3,7144,,,0,"Handle empty NetworkConfig

In some cases the NetworkConfig config resource may come back as an
empty dict from Heat, such as when using net-config-noop.yaml. In that
case, we should not attempt to write any config.

Change-Id: I02129adf193f7a4a8b38411f3a20079d10cfa872
Related-bug: #1834094
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/668560/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py']",2,c43ab9e2993aa0a6bc473cd029fc9ce7f8db066e,bug/1834094," @patch('tripleo_common.utils.config.Config.get_network_config_data') def test_render_network_config_empty_dict(self, mock_get_network_config_data): heat = mock.MagicMock() heat.stacks.get.return_value = fakes.create_tht_stack() config_mock = mock.MagicMock() config_mock.config = {} heat.software_configs.get.return_value = config_mock self.config = ooo_config.Config(heat) stack = mock.Mock() server_roles = dict(Controller='controller') mock_get_network_config_data.return_value = dict(Controller='config') config_dir = '/tmp/tht' self.config.render_network_config(stack, config_dir, server_roles)",,29,10
openstack%2Fcharm-ceph-radosgw~master~Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017,openstack/charm-ceph-radosgw,master,Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017,Add config option for keystone admin roles,MERGED,2019-06-13 15:48:39.000000000,2019-07-02 21:39:41.000000000,2019-07-02 21:39:41.000000000,"[{'_account_id': 6737}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 15:48:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d44ceb441fa90a58ac9211c6f46eab00dd037e5a', 'message': ""Add config option for keystone admin roles\n\nRADOS Gateway supports setting keystone operator and admin\nroles. RADOS Gateway requires admin roles for keystone users\nto change their user quota. Regular operator/member roles\nare not allowed to do so.\n\nThe lack of this config option prevents swift users with admin\nroles from being able to set their quotas. Therefore, a config\noption 'admin-roles' is now added to the charm to map to\n'rgw keystone accepted admin roles' RADOS Gateway config.\n\nChange-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017\nCloses-Bug: #1831577\n""}, {'number': 2, 'created': '2019-06-20 10:35:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/719aea03a03dab9700dfd4828a4597c4e5e6f285', 'message': ""Add config option for keystone admin roles\n\nRADOS Gateway supports setting keystone operator and admin\nroles. RADOS Gateway requires admin roles for keystone users\nto change their user quota. Regular operator/member roles\nare not allowed to do so.\n\nThe lack of this config option prevents swift users with admin\nroles from being able to set their quotas. Therefore, a config\noption 'admin-roles' is now added to the charm to map to\n'rgw keystone accepted admin roles' RADOS Gateway config.\n\nChange-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017\nCloses-Bug: #1831577\n""}, {'number': 3, 'created': '2019-06-26 13:36:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/d02a8984690952b3ff22910ec31cc86a45fecca0', 'message': ""Add config option for keystone admin roles\n\nRADOS Gateway supports setting keystone operator and admin\nroles. RADOS Gateway requires admin roles for keystone users\nto change their user quota. Regular operator/member roles\nare not allowed to do so.\n\nThe lack of this config option prevents swift users with admin\nroles from being able to set their quotas. Therefore, a config\noption 'admin-roles' is now added to the charm to map to\n'rgw keystone accepted admin roles' RADOS Gateway config.\n\nChange-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017\nCloses-Bug: #1831577\n""}, {'number': 4, 'created': '2019-07-01 18:14:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/7ef5835af3cde8500f1b829f567152338d489081', 'message': ""Add config option for keystone admin roles\n\nRADOS Gateway supports setting keystone operator and admin\nroles. RADOS Gateway requires admin roles for keystone users\nto change their user quota. Regular operator/member roles\nare not allowed to do so.\n\nThe lack of this config option prevents swift users with admin\nroles from being able to set their quotas. Therefore, a config\noption 'admin-roles' is now added to the charm to map to\n'rgw keystone accepted admin roles' RADOS Gateway config.\n\nChange-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017\nCloses-Bug: #1831577\n""}, {'number': 5, 'created': '2019-07-01 20:38:14.000000000', 'files': ['hooks/hooks.py', 'unit_tests/test_ceph_radosgw_context.py', 'unit_tests/test_hooks.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/fb2f757494173ba45a631d945a936459f5ccc529', 'message': ""Add config option for keystone admin roles\n\nRADOS Gateway supports setting keystone operator and admin\nroles. RADOS Gateway requires admin roles for keystone users\nto change their user quota. Regular operator/member roles\nare not allowed to do so.\n\nThe lack of this config option prevents swift users with admin\nroles from being able to set their quotas. Therefore, a config\noption 'admin-roles' is now added to the charm to map to\n'rgw keystone accepted admin roles' RADOS Gateway config.\n\nPlease note that this is only effective from Luminous\nCeph Release.\n\nChange-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017\nCloses-Bug: #1831577\n""}]",0,665164,fb2f757494173ba45a631d945a936459f5ccc529,33,5,5,14567,,,0,"Add config option for keystone admin roles

RADOS Gateway supports setting keystone operator and admin
roles. RADOS Gateway requires admin roles for keystone users
to change their user quota. Regular operator/member roles
are not allowed to do so.

The lack of this config option prevents swift users with admin
roles from being able to set their quotas. Therefore, a config
option 'admin-roles' is now added to the charm to map to
'rgw keystone accepted admin roles' RADOS Gateway config.

Please note that this is only effective from Luminous
Ceph Release.

Change-Id: Ic0b9aa39eef9fbc6c43eb4e66ab72d90787c2017
Closes-Bug: #1831577
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/64/665164/5 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/hooks.py', 'unit_tests/test_ceph_radosgw_context.py', 'unit_tests/test_hooks.py', 'hooks/ceph_radosgw_context.py', 'templates/ceph.conf', 'config.yaml']",6,d44ceb441fa90a58ac9211c6f46eab00dd037e5a,bug/1831577," default: ""Member"" admin-roles: type: string default: ""Admin"" description: | Comma-separated list of Swift admin roles; used when integrating with OpenStack Keystone. Admin roles can set the user quota amount."," default: ""Member,Admin""",45,17
openstack%2Ftripleo-quickstart~master~I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb,openstack/tripleo-quickstart,master,I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb,Turn off ansible lint after deployment.,MERGED,2019-06-12 16:37:56.000000000,2019-07-02 21:12:16.000000000,2019-07-02 21:12:15.000000000,"[{'_account_id': 6926}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-12 16:37:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/1ddfcf963e64bd48cab5ee22384e22f827029c18', 'message': ""Turn off ansible lint after deployment.\n\nThis has also been truned off in other jobs(e.g. featureset052.yml)\nas it isn't working. Also turn this off here until it can be addressed.\n\nChange-Id: I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb\n""}, {'number': 2, 'created': '2019-06-13 11:35:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/200e7f2be322d62a7aac01d18cfbab4f8d33e7b2', 'message': ""WIP: Turn off ansible lint after deployment.\n\nThis has also been truned off in other jobs(e.g. featureset052.yml)\nas it isn't working. Also turn this off here until it can be addressed.\n\nChange-Id: I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb\n""}, {'number': 3, 'created': '2019-06-25 08:54:35.000000000', 'files': ['config/general_config/featureset060.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/ef7964c018dccfcdf8a6bf3ac0243b9570463c8a', 'message': ""Turn off ansible lint after deployment.\n\nThis has also been truned off in other jobs(e.g. featureset052.yml)\nas it isn't working. Also turn this off here until it can be addressed.\n\nChange-Id: I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb\n""}]",1,664971,ef7964c018dccfcdf8a6bf3ac0243b9570463c8a,18,7,3,1926,,,0,"Turn off ansible lint after deployment.

This has also been truned off in other jobs(e.g. featureset052.yml)
as it isn't working. Also turn this off here until it can be addressed.

Change-Id: I73bec0a54dc3ccbd090f64e955a9941e4e78f0cb
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/71/664971/3 && git format-patch -1 --stdout FETCH_HEAD,['config/general_config/featureset060.yml'],1,1ddfcf963e64bd48cab5ee22384e22f827029c18,664971,,standalone_ansible_lint: true,0,1
openstack%2Fnova~stable%2Frocky~If2035cac931c42c440d61ba97ebc7e9e92141a28,openstack/nova,stable/rocky,If2035cac931c42c440d61ba97ebc7e9e92141a28,libvirt: Rework 'EBUSY' (SIGKILL) error handling code path,MERGED,2019-06-25 18:39:06.000000000,2019-07-02 21:02:09.000000000,2019-07-02 21:02:08.000000000,"[{'_account_id': 782}, {'_account_id': 6962}, {'_account_id': 9708}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-25 18:39:06.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/75985e25bc147369efb90d4fa9f046631766c14c', 'message': 'libvirt: Rework \'EBUSY\' (SIGKILL) error handling code path\n\nChange ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in\n_destroy()) handled the case where a QEMU process ""refuses to die"" within\na given timeout period set by libvirt.\n\nOriginally, libvirt sent SIGTERM (allowing the process to clean-up\nresources), then waited 10 seconds, if the guest didn\'t go away.  Then\nit sent, the more lethal, SIGKILL and waited another 5 seconds for it to\ntake effect.\n\nFrom libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits\nfor a guest hard shutdown to complete.  It now waits for 30 seconds for\nSIGKILL to work (instead of 5).  Also, additional wait time is added if\nthere are assigned PCI devices, as some of those tend to slow things\ndown.\n\nIn this change:\n\n  - Increment the counter to retry the _destroy() call from 3 to 6, thus\n    increasing the total time from 15 to 30 seconds, before SIGKILL\n    takes effect.  And it matches the (more graceful) behaviour of\n    libvirt v4.7.0.  This also gives breathing room for Nova instances\n    running in environments with large compute nodes with high instance\n    creation or delete churn, where the current timout may not be\n    sufficient.\n\n  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower\n    than 4.7.0.\n\n[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9\n    (process: wait longer 5->30s on hard shutdown)\n[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:\n    wait longer on kill per assigned Hostdev"")\n\nConflicts:\n    nova/virt/libvirt/driver.py\n\n    (Trivial conflict: Rocky didn\'t have the QEMU-native TLS feature\n    yet.)\n\nRelated-bug: #1353939\n\nChange-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)\n'}]",0,667436,75985e25bc147369efb90d4fa9f046631766c14c,39,10,1,6962,,,0,"libvirt: Rework 'EBUSY' (SIGKILL) error handling code path

Change ID I128bf6b939 (libvirt: handle code=38 + sigkill (ebusy) in
_destroy()) handled the case where a QEMU process ""refuses to die"" within
a given timeout period set by libvirt.

Originally, libvirt sent SIGTERM (allowing the process to clean-up
resources), then waited 10 seconds, if the guest didn't go away.  Then
it sent, the more lethal, SIGKILL and waited another 5 seconds for it to
take effect.

From libvirt v4.7.0 onwards, libvirt increased[1][2] the time it waits
for a guest hard shutdown to complete.  It now waits for 30 seconds for
SIGKILL to work (instead of 5).  Also, additional wait time is added if
there are assigned PCI devices, as some of those tend to slow things
down.

In this change:

  - Increment the counter to retry the _destroy() call from 3 to 6, thus
    increasing the total time from 15 to 30 seconds, before SIGKILL
    takes effect.  And it matches the (more graceful) behaviour of
    libvirt v4.7.0.  This also gives breathing room for Nova instances
    running in environments with large compute nodes with high instance
    creation or delete churn, where the current timout may not be
    sufficient.

  - Retry the _destroy() API call _only_ if MIN_LIBVIRT_VERSION is lower
    than 4.7.0.

[1] https://libvirt.org/git/?p=libvirt.git;a=commitdiff;h=9a4e4b9
    (process: wait longer 5->30s on hard shutdown)
[2] https://libvirt.org/git/?p=libvirt.git;a=commit;h=be2ca04 (""process:
    wait longer on kill per assigned Hostdev"")

Conflicts:
    nova/virt/libvirt/driver.py

    (Trivial conflict: Rocky didn't have the QEMU-native TLS feature
    yet.)

Related-bug: #1353939

Change-Id: If2035cac931c42c440d61ba97ebc7e9e92141a28
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
(cherry picked from commit 10d50ca4e210039aeae84cb9bd5d18895948af54)
",git fetch https://review.opendev.org/openstack/nova refs/changes/36/667436/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,75985e25bc147369efb90d4fa9f046631766c14c,bug/1353939," # Tests that _destroy will retry 6 times to destroy the guest when an self.assertEqual(6, mock_guest.poweroff.call_count) @mock.patch.object(libvirt_driver.LOG, 'warning') @mock.patch.object(fakelibvirt.Connection, 'getLibVersion', return_value=versionutils.convert_version_to_int( libvirt_driver.MIN_LIBVIRT_BETTER_SIGKILL_HANDLING)) def test_min_libvirt_better_sigkill_handling_warning(self, mock_warning, mock_get_libversion): ex = fakelibvirt.make_libvirtError( fakelibvirt.libvirtError, (""Failed to terminate process 26425 with SIGKILL: "" ""Device or resource busy""), error_code=fakelibvirt.VIR_ERR_SYSTEM_ERROR, int1=errno.EBUSY) mock_guest = mock.Mock(libvirt_guest.Guest, id=1) mock_guest.poweroff = mock.Mock(side_effect=ex) instance = objects.Instance(**self.test_instance) drvr = libvirt_driver.LibvirtDriver(fake.FakeVirtAPI(), False) with mock.patch.object(drvr._host, 'get_guest', return_value=mock_guest): raised = self.assertRaises(fakelibvirt.libvirtError, drvr._destroy, instance) self.assertEqual(fakelibvirt.VIR_ERR_SYSTEM_ERROR, raised.get_error_code()) mock_warning.assert_called_once() mock_guest.poweroff.assert_called_once() "," # Tests that _destroy will retry 3 times to destroy the guest when an self.assertEqual(3, mock_guest.poweroff.call_count)",67,13
openstack%2Fcinder~master~I643975024268d4bac6739f97f07ab0b20aa1ab2b,openstack/cinder,master,I643975024268d4bac6739f97f07ab0b20aa1ab2b,Fix wrong quota deduction when concurrent deletion for None host volume.,NEW,2017-12-10 04:38:26.000000000,2019-07-02 20:46:46.000000000,,"[{'_account_id': 4523}, {'_account_id': 7198}, {'_account_id': 9008}, {'_account_id': 9732}, {'_account_id': 10058}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 12033}, {'_account_id': 12369}, {'_account_id': 13144}, {'_account_id': 13628}, {'_account_id': 14384}, {'_account_id': 15296}, {'_account_id': 15670}, {'_account_id': 15831}, {'_account_id': 15941}, {'_account_id': 16897}, {'_account_id': 16898}, {'_account_id': 18120}, {'_account_id': 18883}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 21976}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24502}, {'_account_id': 24814}, {'_account_id': 24815}, {'_account_id': 24863}, {'_account_id': 24921}, {'_account_id': 25243}, {'_account_id': 26077}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 29716}]","[{'number': 1, 'created': '2017-12-10 04:38:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/26d4db74ecb68065d366a1b79f47972cb9e75154', 'message': ""Fix wrong quota deduction when concurrent deletion for None host volume.\n\n1. Put the delete logic of None host volume after the conditional_update,\n   let the volume's status change to 'deleting', so that avoid the quota\n   to be decress many times in a concurrent delete situation.\n2. Add volume host not None be an AND logical to volume.assert_not_frozen()\n\nChange-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b\nCloses-Bug: #1733179\n""}, {'number': 2, 'created': '2017-12-10 13:20:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/555ed4b30161f97cfe7eb506573b89765e2fdd9f', 'message': ""Fix wrong quota deduction when concurrent deletion for None host volume.\n\n1. Put the delete logic of None host volume after the conditional_update,\n   let the volume's status change to 'deleting', so that avoid the quota\n   to be decress many times in a concurrent delete situation.\n2. Add volume host not None be an AND logical to volume.assert_not_frozen()\n\nChange-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b\nCloses-Bug: #1733179\n""}, {'number': 3, 'created': '2019-04-16 19:09:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/560921d979b7324d1f2eaa6da7683dc6ac5eb927', 'message': ""Fix wrong quota deduction when concurrent deletion for None host volume.\n\n1. Put the delete logic of None host volume after the conditional_update,\n   let the volume's status change to 'deleting', so that avoid the quota\n   to be decress many times in a concurrent delete situation.\n2. Add volume host not None be an AND logical to volume.assert_not_frozen()\n\nChange-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b\nCloses-Bug: #1733179\n""}, {'number': 4, 'created': '2019-07-01 15:12:04.000000000', 'files': ['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/741c56c5e7a1a59222c0fdbcdc73061e3d4ecd91', 'message': ""Fix wrong quota deduction when concurrent deletion for None host volume.\n\n1. Put the delete logic of None host volume after the conditional_update,\n   let the volume's status change to 'deleting', so that avoid the quota\n   to be decreased many times in a concurrent delete situation.\n2. Add volume host not None be an AND logical to volume.assert_not_frozen()\n\nChange-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b\nCloses-Bug: #1733179\n""}]",4,526893,741c56c5e7a1a59222c0fdbcdc73061e3d4ecd91,103,40,4,27319,,,0,"Fix wrong quota deduction when concurrent deletion for None host volume.

1. Put the delete logic of None host volume after the conditional_update,
   let the volume's status change to 'deleting', so that avoid the quota
   to be decreased many times in a concurrent delete situation.
2. Add volume host not None be an AND logical to volume.assert_not_frozen()

Change-Id: I643975024268d4bac6739f97f07ab0b20aa1ab2b
Closes-Bug: #1733179
",git fetch https://review.opendev.org/openstack/cinder refs/changes/93/526893/2 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/test_volume.py', 'cinder/volume/api.py']",2,26d4db74ecb68065d366a1b79f47972cb9e75154,bug/1733179," if not unmanage_only and volume.host: if not volume.host: expected = filters = {} if not volume.host: volume_utils.notify_about_volume_usage(context, volume, ""delete.start"") # NOTE(vish): scheduling failed, so delete it # Note(zhiteng): update volume quota reservation try: reservations = None if volume.status != 'error_managing': LOG.debug(""Decrease volume quotas only if status is not "" ""error_managing."") reserve_opts = {'volumes': -1, 'gigabytes': -volume.size} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.volume_type_id) reservations = QUOTAS.reserve(context, project_id=project_id, **reserve_opts) except Exception: LOG.exception(""Failed to update quota while "" ""deleting volume."") volume.destroy() if reservations: QUOTAS.commit(context, reservations, project_id=project_id) volume_utils.notify_about_volume_usage(context, volume, ""delete.end"") LOG.info(""Delete volume request issued successfully."", resource={'type': 'volume', 'id': volume.id}) return "," if not volume.host: volume_utils.notify_about_volume_usage(context, volume, ""delete.start"") # NOTE(vish): scheduling failed, so delete it # Note(zhiteng): update volume quota reservation try: reservations = None if volume.status != 'error_managing': LOG.debug(""Decrease volume quotas only if status is not "" ""error_managing."") reserve_opts = {'volumes': -1, 'gigabytes': -volume.size} QUOTAS.add_volume_type_opts(context, reserve_opts, volume.volume_type_id) reservations = QUOTAS.reserve(context, project_id=project_id, **reserve_opts) except Exception: LOG.exception(""Failed to update quota while "" ""deleting volume."") volume.destroy() if reservations: QUOTAS.commit(context, reservations, project_id=project_id) volume_utils.notify_about_volume_usage(context, volume, ""delete.end"") LOG.info(""Delete volume request issued successfully."", resource={'type': 'volume', 'id': volume.id}) return if not unmanage_only:",47,33
openstack%2Fironic~master~I776ae5cd383da936e909d1971a4109fbb2d4cf9b,openstack/ironic,master,I776ae5cd383da936e909d1971a4109fbb2d4cf9b,Updating ironic-lib requirement to 2.18.0,ABANDONED,2019-06-20 22:26:55.000000000,2019-07-02 20:43:07.000000000,,"[{'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 14629}, {'_account_id': 14826}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-20 22:26:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/4b761827db47f91e23c2a84edc271212a99c46cc', 'message': 'Updating ironic-lib requirement to 2.18.0\n\n2.18.0 brings a new multicast DNS option for\nlimiting the interfaces on which are leveraged.\n\nAs such, it is preferable for such controls to be\npresent.\n\nChange-Id: I776ae5cd383da936e909d1971a4109fbb2d4cf9b\n'}]",0,666738,4b761827db47f91e23c2a84edc271212a99c46cc,9,7,1,11655,,,0,"Updating ironic-lib requirement to 2.18.0

2.18.0 brings a new multicast DNS option for
limiting the interfaces on which are leveraged.

As such, it is preferable for such controls to be
present.

Change-Id: I776ae5cd383da936e909d1971a4109fbb2d4cf9b
",git fetch https://review.opendev.org/openstack/ironic refs/changes/38/666738/1 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,4b761827db47f91e23c2a84edc271212a99c46cc,,ironic-lib>=2.18.0 # Apache-2.0,ironic-lib>=2.17.1 # Apache-2.0,1,1
openstack%2Fopenstack-helm~master~I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6,openstack/openstack-helm,master,I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6,Neutron: allow control of probes,MERGED,2019-07-02 16:39:55.000000000,2019-07-02 20:35:31.000000000,2019-07-02 20:35:31.000000000,"[{'_account_id': 7769}, {'_account_id': 17591}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 16:39:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/a94610642b0ce1eb7dc8d9bf8536a7958cffc4cd', 'message': 'WIP: Neutron: allow control of probes\n\nDepends-On: https://review.opendev.org/#/c/631597/\n\nChange-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 2, 'created': '2019-07-02 16:49:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/ace42cf5cbd87ce36b2f87e269d989ed9804430f', 'message': 'WIP: Neutron: allow control of probes\n\nDepends-On: https://review.opendev.org/#/c/631597/\n\nChange-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 3, 'created': '2019-07-02 17:14:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/c045b0b97147917817c50f651ecf24c2343551a9', 'message': 'WIP: Neutron: allow control of probes\n\nDepends-On: https://review.opendev.org/#/c/631597/\n\nChange-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 4, 'created': '2019-07-02 18:39:40.000000000', 'files': ['neutron/templates/deployment-server.yaml', 'neutron/templates/daemonset-lb-agent.yaml', 'neutron/templates/daemonset-ovs-agent.yaml', 'neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/templates/daemonset-l3-agent.yaml', 'neutron/values.yaml', 'neutron/templates/daemonset-sriov-agent.yaml', 'neutron/templates/daemonset-metadata-agent.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/03efee0abbd60b766f68932b7fe3a97d9f768169', 'message': 'Neutron: allow control of probes\n\nThis PS allows the probes in containers/pods to be tuned via values\noverrides.\n\nDepends-On: https://review.opendev.org/#/c/631597/\n\nChange-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",0,668710,03efee0abbd60b766f68932b7fe3a97d9f768169,13,3,4,23928,,,0,"Neutron: allow control of probes

This PS allows the probes in containers/pods to be tuned via values
overrides.

Depends-On: https://review.opendev.org/#/c/631597/

Change-Id: I439dce38a1b7df8c798f10f7fad406f9b0dfe3e6
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/10/668710/4 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/templates/daemonset-dhcp-agent.yaml', 'neutron/values.yaml']",2,a94610642b0ce1eb7dc8d9bf8536a7958cffc4cd,probe-params, pod: probes: neutron: dhcp_agent: dhcp_agent: readiness: enabled: true params: initialDelaySeconds: 30 periodSeconds: 15 timeoutSeconds: 65 liveness: enabled: true params: initialDelaySeconds: 120 periodSeconds: 90 timeoutSeconds: 70,pod:,44,29
openstack%2Fproject-config~master~I36c1f99207a723bff626daed9e57a956ced5ace4,openstack/project-config,master,I36c1f99207a723bff626daed9e57a956ced5ace4,Remove zuul-jobs config,MERGED,2019-07-02 15:32:00.000000000,2019-07-02 20:11:45.000000000,2019-07-02 20:11:45.000000000,"[{'_account_id': 1}, {'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 15:32:00.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/09f70b6722e1d1f4b8b3108be7dad7c0a2f2daa4', 'message': 'Remove zuul-jobs config\n\nThis config has been moved in-repo.\n\nDepends-On: https://review.opendev.org/668698\nChange-Id: I36c1f99207a723bff626daed9e57a956ced5ace4\n'}]",0,668699,09f70b6722e1d1f4b8b3108be7dad7c0a2f2daa4,9,4,1,1,,,0,"Remove zuul-jobs config

This config has been moved in-repo.

Depends-On: https://review.opendev.org/668698
Change-Id: I36c1f99207a723bff626daed9e57a956ced5ace4
",git fetch https://review.opendev.org/openstack/project-config refs/changes/99/668699/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,09f70b6722e1d1f4b8b3108be7dad7c0a2f2daa4,,, - project: name: zuul/zuul-jobs templates: - build-tox-docs check: jobs: - openstack-infra-base-integration-centos-7 - openstack-infra-base-integration-debian-stable - openstack-infra-base-integration-fedora-latest - openstack-infra-base-integration-ubuntu-bionic - openstack-infra-base-integration-ubuntu-trusty - openstack-infra-base-integration-ubuntu-xenial - openstack-infra-base-integration-opensuse423 - openstack-infra-multinode-integration-centos-7 - openstack-infra-multinode-integration-debian-stable - openstack-infra-multinode-integration-fedora-latest - openstack-infra-multinode-integration-ubuntu-bionic - openstack-infra-multinode-integration-ubuntu-trusty - openstack-infra-multinode-integration-ubuntu-xenial - openstack-infra-multinode-integration-opensuse423 - openstack-zuul-jobs-linters - zuul-jobs-test-install-nodejs - zuul-jobs-test-install-pdk-dependencies - zuul-jobs-test-upload-git-mirror - zuul-jobs-test-registry - tox-py27 - tox-py35 gate: jobs: - openstack-infra-base-integration-centos-7 - openstack-infra-base-integration-debian-stable - openstack-infra-base-integration-fedora-latest - openstack-infra-base-integration-ubuntu-bionic - openstack-infra-base-integration-ubuntu-trusty - openstack-infra-base-integration-ubuntu-xenial - openstack-infra-base-integration-opensuse423 - openstack-infra-multinode-integration-centos-7 - openstack-infra-multinode-integration-debian-stable - openstack-infra-multinode-integration-fedora-latest - openstack-infra-multinode-integration-ubuntu-bionic - openstack-infra-multinode-integration-ubuntu-trusty - openstack-infra-multinode-integration-ubuntu-xenial - openstack-infra-multinode-integration-opensuse423 - openstack-zuul-jobs-linters - zuul-jobs-test-install-nodejs - zuul-jobs-test-install-pdk-dependencies - zuul-jobs-test-upload-git-mirror - zuul-jobs-test-registry - tox-py27 - tox-py35 post: jobs: - publish-zuul-docs ,0,55
openstack%2Ftripleo-heat-templates~master~I50765338ba646851b79dd404d2dbdfe2c521a2d5,openstack/tripleo-heat-templates,master,I50765338ba646851b79dd404d2dbdfe2c521a2d5,Remove environments to enable/disable config-download,MERGED,2019-05-14 19:55:18.000000000,2019-07-02 19:40:19.000000000,2019-07-02 19:40:19.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-14 19:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/587d2ea7235df7287a1766a053c1b3479fdd9bcf', 'message': 'Remove environments to enable/disable config-download\n\nRemove the environment to disable config-download as it was deprecated\nin Stein. Remove the environment to enable config-download as it was\nenabled by default in Rocky, and can no longer be disabled.\n\nChange-Id: I50765338ba646851b79dd404d2dbdfe2c521a2d5\n'}, {'number': 2, 'created': '2019-07-02 12:21:51.000000000', 'files': ['releasenotes/notes/remove-non-config-download-deprecations-a40fb47c0c0a49f1.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/059792eae55a08c2094ac580d86c73eb769e5310', 'message': 'Remove environments to enable/disable config-download\n\nRemove the environment to disable config-download as it was deprecated\nin Stein. Remove the environment to enable config-download as it was\nenabled by default in Rocky, and can no longer be disabled.\n\nChange-Id: I50765338ba646851b79dd404d2dbdfe2c521a2d5\n'}]",0,659150,059792eae55a08c2094ac580d86c73eb769e5310,10,4,2,7144,,,0,"Remove environments to enable/disable config-download

Remove the environment to disable config-download as it was deprecated
in Stein. Remove the environment to enable config-download as it was
enabled by default in Rocky, and can no longer be disabled.

Change-Id: I50765338ba646851b79dd404d2dbdfe2c521a2d5
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/50/659150/2 && git format-patch -1 --stdout FETCH_HEAD,"['environments/disable-config-download-environment.yaml', 'environments/config-download-environment.yaml', 'releasenotes/notes/remove-non-config-download-deprecations-a40fb47c0c0a49f1.yaml']",3,587d2ea7235df7287a1766a053c1b3479fdd9bcf,,"--- other: - The environment files to enable/disable config-download at environments/disable-config-download-environment.yaml and environments/config-download-environment.yaml are removed as disabling config-download was deprecated in Stein, and it's enabled by default. ",,6,20
openstack%2Fpython-tripleoclient~master~I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c,openstack/python-tripleoclient,master,I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c,Allow per-subnet DNSNameServers for ctlplane network,MERGED,2019-06-25 15:06:22.000000000,2019-07-02 19:40:17.000000000,2019-07-02 19:40:17.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}]","[{'number': 1, 'created': '2019-06-25 15:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4f23a63a81a5b07a299d978e5b286356c74d32a8', 'message': 'Allow per-subnet DNSNameServers for ctlplane network\n\nAdd a new option ``dns_nameservers`` in the subnet sections\nfor the undercloud ctlplane network. By default the option\nis not set, and in that case the ``undercloud_nameservers``\nare used, maintaining the current behaviour.\n\nThis decouples the nameservers used on the undercloud and\nthe ones used for the overcloud nodes. In a DCN setting\ndifferent DNS server may be preferred per-site.\n\nChange-Id: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c\n'}, {'number': 2, 'created': '2019-06-26 14:18:23.000000000', 'files': ['tripleoclient/config/undercloud.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/v1/undercloud_preflight.py', 'tripleoclient/tests/config/test_config_undercloud.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/ee16c094472ee988b85aa81ce8fa9f5da8e61ad9', 'message': 'Allow per-subnet DNSNameServers for ctlplane network\n\nAdd a new option ``dns_nameservers`` in the subnet sections\nfor the undercloud ctlplane network. By default the option\nis not set, and in that case the ``undercloud_nameservers``\nare used, maintaining the current behaviour.\n\nThis decouples the nameservers used on the undercloud and\nthe ones used for the overcloud nodes. In a DCN setting\ndifferent DNS server may be preferred per-site.\n\nRelated-Bug: #1834306\nChange-Id: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c\n'}]",5,667380,ee16c094472ee988b85aa81ce8fa9f5da8e61ad9,17,6,2,24245,,,0,"Allow per-subnet DNSNameServers for ctlplane network

Add a new option ``dns_nameservers`` in the subnet sections
for the undercloud ctlplane network. By default the option
is not set, and in that case the ``undercloud_nameservers``
are used, maintaining the current behaviour.

This decouples the nameservers used on the undercloud and
the ones used for the overcloud nodes. In a DCN setting
different DNS server may be preferred per-site.

Related-Bug: #1834306
Change-Id: I0dc03eddf9ea00ff33cd3ae0cdc8f42a4961e89c
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/80/667380/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/config/undercloud.py', 'tripleoclient/constants.py', 'tripleoclient/v1/undercloud_config.py', 'tripleoclient/tests/v1/undercloud/test_config.py', 'tripleoclient/tests/config/test_config_undercloud.py']",5,4f23a63a81a5b07a299d978e5b286356c74d32a8,bug/1834306," 'dns_nameservers',",,73,16
openstack%2Fopenstack-helm-infra~master~I0862ae59c87b8c0c4e2412030b1801bceb3e3c99,openstack/openstack-helm-infra,master,I0862ae59c87b8c0c4e2412030b1801bceb3e3c99,Helm-toolkit: Add snippet template for kubernetes probes,MERGED,2019-01-17 18:42:29.000000000,2019-07-02 19:37:39.000000000,2019-07-02 19:37:39.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 22477}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-01-17 18:42:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/83e2d1ff5b46e9c5e7589a4f2635c0d499594a81', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\n'}, {'number': 2, 'created': '2019-01-17 18:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/340e77f6f855d150055748f5e6f7455b6d715f3f', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\n'}, {'number': 3, 'created': '2019-01-18 16:17:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/3d6f4121f41e0bf4449441ee90ea3517bd188aae', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\n'}, {'number': 4, 'created': '2019-02-16 16:58:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6631df33a1dfd33e6973ff6b2f228318edebcd42', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\n'}, {'number': 5, 'created': '2019-07-01 14:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/79e5bade645b21197af5363e3157a087ed63da6c', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\n'}, {'number': 6, 'created': '2019-07-02 15:53:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/8b17277e8703c9ccd0cc284eed8886aa6ff476bd', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 7, 'created': '2019-07-02 16:06:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/f24e1fb9fdc3a70cffa45bcea2c1216b09d4d3df', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\nSigned-off-by: Pete Birley <pete@port.direct>\n'}, {'number': 8, 'created': '2019-07-02 16:44:19.000000000', 'files': ['helm-toolkit/templates/snippets/_kubernetes_probes.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b7e2d6839ce600a7c1e2103f55d208ad3f5029ca', 'message': 'Helm-toolkit: Add snippet template for kubernetes probes\n\nThis adds a basic helm-toolkit snippet template for adding\nkubernetes liveness and readiness probes to a container. This adds\nflexibility by defining the probes contents via values overrides\nwholesale\n\nChange-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99\nSigned-off-by: Pete Birley <pete@port.direct>\n'}]",3,631597,b7e2d6839ce600a7c1e2103f55d208ad3f5029ca,29,6,8,17591,,,0,"Helm-toolkit: Add snippet template for kubernetes probes

This adds a basic helm-toolkit snippet template for adding
kubernetes liveness and readiness probes to a container. This adds
flexibility by defining the probes contents via values overrides
wholesale

Change-Id: I0862ae59c87b8c0c4e2412030b1801bceb3e3c99
Signed-off-by: Pete Birley <pete@port.direct>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/97/631597/8 && git format-patch -1 --stdout FETCH_HEAD,['helm-toolkit/templates/snippets/_kubernetes_probes.tpl'],1,83e2d1ff5b46e9c5e7589a4f2635c0d499594a81,htk/probe-snippet,"{{/* Copyright 2019 The Openstack-Helm Authors. Licensed under the Apache License, Version 2.0 (the ""License""); you may not use this file except in compliance with the License. You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0 Unless required by applicable law or agreed to in writing, software distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the License for the specific language governing permissions and limitations under the License. */}} {{/* abstract: | Renders kubernetes liveness and readiness probes for containers values: | pod: probes: api: readinessProbe: httpGet: path: /status port: 9090 initialDelaySeconds: 30 timeoutSeconds: 30 livenessProbe: httpGet: path: /status port: 9090 initialDelaySeconds: 600 timeoutSeconds: 30 usage: | {{ include ""helm-toolkit.snippets.kubernetes_probe"" ( tuple . .Values.pod.probes.api ""readinessProbe"") }} return: | readinessProbe: httpGet: path: /status port: 9090 initialDelaySeconds: 30 timeoutSeconds: 30 usage: | {{ include ""helm-toolkit.snippets.kubernetes_probe"" ( tuple . .Values.pod.probes.api ""livenessProbe"") }} return: | livenessProbe: httpGet: path: /status port: 9090 initialDelaySeconds: 30 timeoutSeconds: 30 */}} {{- define ""helm-toolkit.snippets.kubernetes_probe"" -}} {{- $envAll := index . 0 -}} {{- $component := index . 1 -}} {{- $probe := index . 2 -}} {{- print $probe }} {{ toYaml (index $component $probe) | indent 2 }} {{- end -}} ",,63,0
openstack%2Ftripleo-validations~stable%2Fstein~I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,openstack/tripleo-validations,stable/stein,I335fbe0562f33f1adb80ea3aa7650b6dfac259aa,Remove useless cookiecutter files,MERGED,2019-06-26 09:02:17.000000000,2019-07-02 19:21:12.000000000,2019-07-02 19:21:12.000000000,"[{'_account_id': 3153}, {'_account_id': 11491}, {'_account_id': 22348}, {'_account_id': 23078}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-26 09:02:17.000000000', 'files': ['tripleo_validations/tests/test_tripleo_validations.py', 'doc/source/usage.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/dbc943d269ba5c5d6a6f2a4f2e8c6ccc4a9aa5ce', 'message': 'Remove useless cookiecutter files\n\nA useless unit test and a totally incorrect doc.\n\nChange-Id: I335fbe0562f33f1adb80ea3aa7650b6dfac259aa\n(cherry picked from commit eed1c117395d66f6b18c76615caf896b37fb591f)\n'}]",0,667556,dbc943d269ba5c5d6a6f2a4f2e8c6ccc4a9aa5ce,9,5,1,11491,,,0,"Remove useless cookiecutter files

A useless unit test and a totally incorrect doc.

Change-Id: I335fbe0562f33f1adb80ea3aa7650b6dfac259aa
(cherry picked from commit eed1c117395d66f6b18c76615caf896b37fb591f)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/56/667556/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_validations/tests/test_tripleo_validations.py', 'doc/source/usage.rst']",2,dbc943d269ba5c5d6a6f2a4f2e8c6ccc4a9aa5ce,,,======== Usage ======== To use tripleo-validations in a project:: import tripleo-validations ,0,35
openstack%2Fdevstack-plugin-ceph~master~Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800,openstack/devstack-plugin-ceph,master,Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800,Change experimental pipeline jobs,MERGED,2019-06-13 00:30:15.000000000,2019-07-02 19:16:44.000000000,2019-07-02 19:16:44.000000000,"[{'_account_id': 4523}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-13 00:30:15.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack-plugin-ceph/commit/0ba1a7215c5e4cb5292fb2c60febb712ee38ce15', 'message': ""Change experimental pipeline jobs\n\nThe manila CentOS jobs break often, and are not\nmaintained. Let's move them to experimental\nso they don't gate every patch. The other manila\njobs currently provide necessary test coverage\nto cephfs-native and cephfs-nfs protocols/drivers.\nThese jobs also run with python3, and we don't\nneed to support python3.5 any longer.\n\nChange-Id: Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800\n""}]",0,665041,0ba1a7215c5e4cb5292fb2c60febb712ee38ce15,6,4,1,16643,,,0,"Change experimental pipeline jobs

The manila CentOS jobs break often, and are not
maintained. Let's move them to experimental
so they don't gate every patch. The other manila
jobs currently provide necessary test coverage
to cephfs-native and cephfs-nfs protocols/drivers.
These jobs also run with python3, and we don't
need to support python3.5 any longer.

Change-Id: Ibb752a1d9aa818dd6862bcbbce4d6b6e366b4800
",git fetch https://review.opendev.org/openstack/devstack-plugin-ceph refs/changes/41/665041/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,0ba1a7215c5e4cb5292fb2c60febb712ee38ce15,manila-experimental, - manila-tempest-minimal-dsvm-cephfs-native-centos-7: voting: false - manila-tempest-minimal-dsvm-cephfs-nfs-centos-7: voting: false, - manila-tempest-minimal-dsvm-cephfs-native-centos-7: voting: false - manila-tempest-minimal-dsvm-cephfs-nfs-centos-7: voting: false - manila-tempest-minimal-py35-dsvm-cephfs-native-centos-7 - manila-tempest-minimal-py35-dsvm-cephfs-nfs-centos-7,4,6
openstack%2Fnova-specs~master~Ia605b2a64a468be264be86f27d46ce00e6a16b10,openstack/nova-specs,master,Ia605b2a64a468be264be86f27d46ce00e6a16b10,Add PENDING vm state,MERGED,2019-03-29 13:36:14.000000000,2019-07-02 19:09:15.000000000,2019-07-02 19:09:15.000000000,"[{'_account_id': 7166}, {'_account_id': 9708}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 27057}]","[{'number': 1, 'created': '2019-03-29 13:36:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b07cc1664c21be86d6c68dd51b6a5c703441a3d7', 'message': 'Add PENDING vm state\n\nThis feature adds support for the PENDING server state. Instead of\nsetting a server to the ERROR state when the Placement returns no\nvalid hosts for the requested server, the PENDING state is used if\nthe operator wishes so. This will allow the execution of subsequent\nactions transparently to the end user.\n\nPreviously-approved: Stein\nChange-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 2, 'created': '2019-04-11 09:02:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/19f546042f028976af92f86148fcade161e46a1b', 'message': 'Add PENDING vm state\n\nThis feature adds support for the PENDING server state. Instead of\nsetting a server to the ERROR state when the Placement returns no\nvalid hosts for the requested server, the PENDING state is used if\nthe operator wishes so. This will allow the execution of subsequent\nactions transparently to the end user.\n\nPreviously-approved: Stein\nChange-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 3, 'created': '2019-07-02 13:37:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/d1fba0ea236cb2b158bdcd2557efea8d65e7f335', 'message': 'Add PENDING vm state\n\nThis feature adds support for the PENDING server state. Instead of\nsetting a server to the ERROR state when the Placement returns no\nvalid hosts for the requested server, the PENDING state is used if\nthe operator wishes so. This will allow the execution of subsequent\nactions transparently to the end user.\n\nPreviously-approved: Stein\nChange-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10\nImplements: blueprint introduce-pending-vm-state\n'}, {'number': 4, 'created': '2019-07-02 18:34:11.000000000', 'files': ['specs/train/approved/introduce-pending-vm-state.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4b063ad53aa8b413cd5f83c505c8e27f72e65490', 'message': 'Add PENDING vm state\n\nThis feature adds support for the PENDING server state. Instead of\nsetting a server to the ERROR state when the Placement returns no\nvalid hosts for the requested server, the PENDING state is used if\nthe operator wishes so. This will allow the execution of subsequent\nactions transparently to the end user.\n\nPreviously-approved: Stein\nChange-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10\nImplements: blueprint introduce-pending-vm-state\n'}]",34,648687,4b063ad53aa8b413cd5f83c505c8e27f72e65490,29,7,4,27057,,,0,"Add PENDING vm state

This feature adds support for the PENDING server state. Instead of
setting a server to the ERROR state when the Placement returns no
valid hosts for the requested server, the PENDING state is used if
the operator wishes so. This will allow the execution of subsequent
actions transparently to the end user.

Previously-approved: Stein
Change-Id: Ia605b2a64a468be264be86f27d46ce00e6a16b10
Implements: blueprint introduce-pending-vm-state
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/87/648687/2 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/introduce-pending-vm-state.rst'],1,b07cc1664c21be86d6c68dd51b6a5c703441a3d7,bp/introduce-pending-vm-state,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================== Introduce Pending VM state ========================== https://blueprints.launchpad.net/nova/+spec/introduce-pending-vm-state This feature adds support for the PENDING server state. When the scheduler determines there is no capacity available for the given request, and so the instance is about to be routed into cell0, the server should be set into the PENDING state instead of ERROR if the operator wishes so. This will allow the execution of subsequent actions transparently to the end user. Problem description =================== Use Cases --------- As an operator, I want to enable an external -to Nova- service, triggered as soon as a server's build request fails due to NoValidHosts, and try to free up the requested resources. If the outcome of the follow up actions is: #. success, the external service will try to rebuild the instance:: POST /servers/{server_id}/action { ""rebuild"": { ""description"": null, ""imageRef"": {image_id} } } NOTE:: The rebuild api needs to be adapted to take care of instances that fail while building and are mapped to cell0. This change is considered out of scope for this spec and is being addressed by another spec [1] #. failure, the external service will set the state of the instance to ERROR (using reset-state):: POST /servers/{server_id}/action { ""os-resetState"": { ""state"": ""error"" } } In order to achieve that, transparently to the user, the instance should not be set to the ERROR state but to the new PENDING state. We need to clarify here that, as for all the other VM states, the end user will be able to delete instances set to the PENDING state. Failures to the follow up actions, caused by the deletion of instances in the new state, have to be handled by the external service. Proposed change =============== #. Add the PENDING state in the InstanceState object. #. Add the PENDING state in compute vm_states. #. Add the PENDING state in the server ViewBuilder as a new progress status. #. Add a configuration option that defaults to ``False`` in the DEFAULT group to enable the use of PENDING vm_state on NoValidHost events:: CONF.use_pending_state #. Add the following code in the conductor manager ``_bury_in_cell0`` method to make sure that the a vm is set to PENDING only when the operator has chosen so and the failure reported by the scheduler is a NoValidHost:: verify = isinstance(exc, exception.NoValidHost) if CONF.use_pending_state and verify: vm_state = vm_states.PENDING else: vm_state = vm_states.ERROR updates = {'vm_state': vm_state, 'task_state': None} #. Add a new API microversion and Map the PENDING state to ERROR for requests to previous microversions. See `REST API impact`_. Alternatives ------------ Follow the vendor data example and perform an asynchronous REST API call from the Nova Conductor to the external service when enabled by the operator. But having an asynchronous REST API call from the conductor would potentially have performance impact. Data model impact ----------------- None. REST API impact --------------- A new API microversion is needed for this change. For the older microversions the PENDING state will be mapped to the ERROR state. Example responses for a server set to PENDING would be:: GET /servers/detail (new microversion) { ""servers"":[ { ...: ..., ""name"": ""test"", ""id"":""2dd26c1e-bc6f-45f6-83b3-2cb72ea026eb"", ""OS-EXT-STS:vm_state"":""pending"", ""status"":""PENDING"", ...: ... } ] } GET /servers/detail (previous microversions) { ""servers"":[ { ...: ..., ""name"": ""test"", ""id"":""2dd26c1e-bc6f-45f6-83b3-2cb72ea026eb"", ""OS-EXT-STS:vm_state"":""error"", ""status"":""ERROR"", ...: ... } ] } Security impact --------------- None. Notifications impact -------------------- Firstly, the external third party service has to be notified when a server is set to PENDING state. For this, the already existing versioned notification instance.update. For the second part, a notification is needed in order to inform the external service about a server's build procedure outcome. The plan is to use this notification in order to enable the external Reaper service, to know where the requested resources have to be freed up. The transformation of the existing ``select_destinations`` notification from unversioned to a versioned one, is out of scope of this spec. There is an existing change that tries to address the transformation of the notification and can be picked up [2]. Other end user impact --------------------- The end user will have servers in PENDING state if the operator chooses to enable the configuration option ``CONF.use_pending_state``. Performance Impact ------------------ None. Other deployer impact --------------------- There will be a new config option specifying if the PENDING state will be used or not. It seems that the most appropriate place for this option is the DEFAULT section. Developer impact ---------------- None. Upgrade impact -------------- None. Implementation ============== Assignee(s) ----------- Primary assignee: <ttsiouts> Other contributors: <johnthetubaguy> <strigazi> <belmoreira> Work Items ---------- See `Proposed change`_. Dependencies ============ None. Testing ======= Updating existing unit and functional tests should be enough to verify the use of the new state. New unit and functional tests have to be added to verify the new notification. Documentation Impact ==================== #. The new configuration option as well as the meaning of the PENDING state should be documented. #. Update the allowed state transitions documentation to include:: BUILD to PENDING PENDING to BUILD PENDING to ERROR #. Document that the responsibility of managing the instance's lifecycle is transferred to the external service as soon as the instance is set to the PENDING state. References ========== [1] Enable rebuild for instances in cell0 https://review.openstack.org/#/c/554218/ [2] WIP: Transform scheduler.select_destinations notification https://review.openstack.org/#/c/508506/ As discussed in the Dublin PTG: https://etherpad.openstack.org/p/nova-ptg-rocky L472 History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Rocky - Introduced * - Stein - Re-proposed * - Train - Re-proposed ",,265,0
openstack%2Fvitrage~master~Icf39361ae47bc132bab760507967907f34b81821,openstack/vitrage,master,Icf39361ae47bc132bab760507967907f34b81821,Add new api vitrage status,MERGED,2019-07-01 09:56:31.000000000,2019-07-02 19:06:37.000000000,2019-07-02 19:06:37.000000000,"[{'_account_id': 1736}, {'_account_id': 19134}, {'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 09:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/a678340cecbd9d000fc6d4682348166175421014', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 2, 'created': '2019-07-01 10:13:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2f13c001bad150e55d882b780d72a868bad3da8f', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 3, 'created': '2019-07-01 10:43:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/20f14c0bf358f7376694e4cd45b189a3e93afbe3', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 4, 'created': '2019-07-02 08:11:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/c327d626b9adeb383287e6f4cacbc08948a7a162', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 5, 'created': '2019-07-02 12:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/2e342aa2f9454e4b791f8854d29539c4deacbdc1', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 6, 'created': '2019-07-02 12:40:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/vitrage/commit/ad4283fe1412dddaf0cd70486cd23744c88936b1', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}, {'number': 7, 'created': '2019-07-02 12:43:23.000000000', 'files': ['releasenotes/notes/add_status-c5b13941c3ce978e.yaml', 'vitrage/tests/functional/api/v1/test_status.py', 'vitrage/common/policies/__init__.py', 'vitrage/api/__init__.py', 'vitrage/api/controllers/v1/root.py', 'doc/source/contributor/vitrage-api.rst', 'vitrage/api/controllers/v1/service.py', 'vitrage/api/controllers/v1/status.py', 'vitrage/common/policies/status.py'], 'web_link': 'https://opendev.org/openstack/vitrage/commit/5212c8021cf13e58ffff77694a81cc7553c91817', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: Icf39361ae47bc132bab760507967907f34b81821\n""}]",6,668405,5212c8021cf13e58ffff77694a81cc7553c91817,33,5,7,19134,,,0,"Add new api vitrage status

To Check if vitrage is ready then you can check its
status some users don't want to check on every api call
if vitrage is ready, in that case you can check ad hoc

Change-Id: Icf39361ae47bc132bab760507967907f34b81821
",git fetch https://review.opendev.org/openstack/vitrage refs/changes/05/668405/6 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add_status-c5b13941c3ce978e.yaml', 'vitrage/common/policies/__init__.py', 'vitrage/tests/functional/api/v1/test_status.py', 'vitrage/api/controllers/v1/root.py', 'doc/source/contributor/vitrage-api.rst', 'vitrage/api/controllers/v1/service.py', 'vitrage/api/controllers/v1/status.py', 'vitrage/common/policies/status.py']",8,a678340cecbd9d000fc6d4682348166175421014,eyalb/status,"# Copyright 2019 - Nokia Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from oslo_policy import policy from vitrage.common.policies import base STATUS = 'get status' rules = [ policy.DocumentedRuleDefault( name=STATUS, check_str=base.UNPROTECTED, description='Get the vitrage status for the OpenStack cluster', operations=[ { 'path': '/status', 'method': 'GET' } ] ) ] def list_rules(): return rules ",,213,2
openstack%2Fnetworking-ovn~stable%2Fqueens~I406204fc751387c02517286c87fe45533d70b93d,openstack/networking-ovn,stable/queens,I406204fc751387c02517286c87fe45533d70b93d,Floating IP does not work with VLAN tenant networks,MERGED,2019-06-18 19:52:08.000000000,2019-07-02 18:54:40.000000000,2019-07-02 18:54:40.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-06-18 19:52:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39eeec29ee3a7e217aca228ea17378d4eea751ee', 'message': ""Floating IP does not work with VLAN tenant networks\n\nWhen trying to use the Floating IP address of an instance\nin a OVN-DVR setup while using VLAN tenant network type\nthe traffic does not pass. This is because of limitations\nwith VLAN tenant network types, which doesn't support\ndistributed VLAN routing.\n\nThe problem is the external_mac should not be set in the\nNAT table for the Floating IP which belongs to the logical\nport of a VLAN tenant logical switch. Otherwise, the compute\nnode which is binding the logical port will send the GARP\nwhere as the routing for VLAN tenant networks is centralized.\n\nChange-Id: I406204fc751387c02517286c87fe45533d70b93d\nCloses-bug: #1828891\n(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)\n""}, {'number': 2, 'created': '2019-06-19 19:45:18.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/dcd1ff9afdb88110d16609a5b317ee468d65bc26', 'message': ""Floating IP does not work with VLAN tenant networks\n\nWhen trying to use the Floating IP address of an instance\nin a OVN-DVR setup while using VLAN tenant network type\nthe traffic does not pass. This is because of limitations\nwith VLAN tenant network types, which doesn't support\ndistributed VLAN routing.\n\nThe problem is the external_mac should not be set in the\nNAT table for the Floating IP which belongs to the logical\nport of a VLAN tenant logical switch. Otherwise, the compute\nnode which is binding the logical port will send the GARP\nwhere as the routing for VLAN tenant networks is centralized.\n\nConflicts:\n    networking_ovn/tests/unit/l3/test_l3_ovn.py\n\nChange-Id: I406204fc751387c02517286c87fe45533d70b93d\nCloses-bug: #1828891\n(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)\n""}]",0,666160,dcd1ff9afdb88110d16609a5b317ee468d65bc26,13,5,2,1131,,,0,"Floating IP does not work with VLAN tenant networks

When trying to use the Floating IP address of an instance
in a OVN-DVR setup while using VLAN tenant network type
the traffic does not pass. This is because of limitations
with VLAN tenant network types, which doesn't support
distributed VLAN routing.

The problem is the external_mac should not be set in the
NAT table for the Floating IP which belongs to the logical
port of a VLAN tenant logical switch. Otherwise, the compute
node which is binding the logical port will send the GARP
where as the routing for VLAN tenant networks is centralized.

Conflicts:
    networking_ovn/tests/unit/l3/test_l3_ovn.py

Change-Id: I406204fc751387c02517286c87fe45533d70b93d
Closes-bug: #1828891
(cherry picked from commit c5aef51edc9843db605303ec8bd8610b6c55e9c2)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/60/666160/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/ovn_client.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py']",2,39eeec29ee3a7e217aca228ea17378d4eea751ee,bug/1828891-stable/queens," gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} @mock.patch('neutron.db.db_base_plugin_v2.NeutronDbPluginV2.get_network') def _test_update_floatingip_associate_distributed(self, network_type, uf, gf, gp, gn): gp.return_value = {'mac_address': '00:01:02:03:04:05', 'network_id': 'port-network-id'} fake_network_vlan = self.fake_network fake_network_vlan[pnet.NETWORK_TYPE] = network_type gn.return_value = fake_network_vlan if network_type == constants.TYPE_VLAN: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', logical_port='new-port_id', external_ids=expected_ext_ids) else: self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids) def test_update_floatingip_associate_distributed_flat(self): self._test_update_floatingip_associate_distributed(constants.TYPE_FLAT) def test_update_floatingip_associate_distributed_vlan(self): self._test_update_floatingip_associate_distributed(constants.TYPE_VLAN)"," gp.return_value = {'mac_address': '00:01:02:03:04:05'} def test_update_floatingip_associate_distributed(self, uf, gf, gp): gp.return_value = {'mac_address': '00:01:02:03:04:05'} self.l3_inst._ovn.add_nat_rule_in_lrouter.assert_called_once_with( 'neutron-new-router-id', type='dnat_and_snat', logical_ip='10.10.10.10', external_ip='192.168.0.10', external_mac='00:01:02:03:04:05', logical_port='new-port_id', external_ids=expected_ext_ids)",33,9
openstack%2Fmanila~master~Ica87f9e0cc6b1747638025b66c2efa8a17edc66e,openstack/manila,master,Ica87f9e0cc6b1747638025b66c2efa8a17edc66e,Add a new Zuul job for conducting scenario testing with CephFS,ABANDONED,2018-02-13 14:38:19.000000000,2019-07-02 18:48:15.000000000,,"[{'_account_id': 1921}, {'_account_id': 6413}, {'_account_id': 7102}, {'_account_id': 8056}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15942}, {'_account_id': 17780}, {'_account_id': 18883}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 22450}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 27697}]","[{'number': 1, 'created': '2018-02-13 14:38:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/974ec2cbf59e3edc7dac0da948d691b4ddeb15b4', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 2, 'created': '2018-02-15 09:03:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/e06c027e2b867ff997ba6a98ca799e1d88cd3f56', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 3, 'created': '2018-02-19 12:41:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/9abc3135ebadd13c7d82bb64db41918524e3c5af', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 4, 'created': '2018-02-19 16:05:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/a052f0c67a34620a8375a4bf12473b0f3526b73a', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 5, 'created': '2018-03-28 07:15:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/b137046105d4a72952f4e2b4d27f71c988244b7d', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}, {'number': 6, 'created': '2018-06-09 21:51:44.000000000', 'files': ['.zuul.yaml', 'playbooks/manila-tempest-minimal-dsvm-cephfs-nfs-scenario-centos-7/run.yaml'], 'web_link': 'https://opendev.org/openstack/manila/commit/c6d6107d9df2d24382278d788179e4a136aba294', 'message': 'Add a new Zuul job for conducting scenario testing with CephFS\n\nThis job would conduct scenario testing with CephFS as backend and NFS\nas the storage protocol for Manila.\n\nChange-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e\nSigned-off-by: Rishabh Dave <ridave@redhat.com>\n'}]",8,543952,c6d6107d9df2d24382278d788179e4a136aba294,88,21,6,27697,,,0,"Add a new Zuul job for conducting scenario testing with CephFS

This job would conduct scenario testing with CephFS as backend and NFS
as the storage protocol for Manila.

Change-Id: Ica87f9e0cc6b1747638025b66c2efa8a17edc66e
Signed-off-by: Rishabh Dave <ridave@redhat.com>
",git fetch https://review.opendev.org/openstack/manila refs/changes/52/543952/1 && git format-patch -1 --stdout FETCH_HEAD,"['playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-scenario-centos-7/run.yaml', '.zuul.yaml', 'playbooks/legacy/manila-tempest-minimal-dsvm-cephfs-nfs-scenario-centos-7/post.yaml']",3,974ec2cbf59e3edc7dac0da948d691b4ddeb15b4,cephfs-nfs-scenario-gate,- hosts: primary tasks: - name: Copy files from {{ ansible_user_dir }}/workspace/ on node synchronize: src: '{{ ansible_user_dir }}/workspace/' dest: '{{ zuul.executor.log_root }}' mode: pull copy_links: true verify_host: true rsync_opts: - --include=/logs/** - --include=*/ - --exclude=* - --prune-empty-dirs ,,136,0
openstack%2Foslo.limit~master~Idc787052ac41744075d4a4860d06a3529fd271bb,openstack/oslo.limit,master,Idc787052ac41744075d4a4860d06a3529fd271bb,Rename filter_resource resource_filters,MERGED,2019-07-01 16:44:58.000000000,2019-07-02 18:42:12.000000000,2019-07-02 18:42:12.000000000,"[{'_account_id': 2903}, {'_account_id': 8482}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 16:44:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/6d0a6d4d7ad6eacf1c954a9958df61bf3bff6104', 'message': ""Rename filter_resource resource_filters\n\nfilter_resources doesn't make as much sense as resource_filters.\nfilter_resources almost sounds like a boolean, when the argument is\ndesigned to contain a list of string that represent resources to\nfilter.\n\nChange-Id: Idc787052ac41744075d4a4860d06a3529fd271bb\n""}, {'number': 2, 'created': '2019-07-01 16:45:48.000000000', 'files': ['oslo_limit/limit.py'], 'web_link': 'https://opendev.org/openstack/oslo.limit/commit/90acc274f7f944e4eab4de2a114253ea24c5e6af', 'message': ""Rename filter_resource resource_filters\n\nfilter_resources doesn't make as much sense as resource_filters.\nfilter_resources almost sounds like a boolean, when the argument is\ndesigned to contain a list of strings that represent resources to\nfilter.\n\nChange-Id: Idc787052ac41744075d4a4860d06a3529fd271bb\n""}]",0,668523,90acc274f7f944e4eab4de2a114253ea24c5e6af,9,3,2,5046,,,0,"Rename filter_resource resource_filters

filter_resources doesn't make as much sense as resource_filters.
filter_resources almost sounds like a boolean, when the argument is
designed to contain a list of strings that represent resources to
filter.

Change-Id: Idc787052ac41744075d4a4860d06a3529fd271bb
",git fetch https://review.opendev.org/openstack/oslo.limit refs/changes/23/668523/2 && git format-patch -1 --stdout FETCH_HEAD,['oslo_limit/limit.py'],1,6d0a6d4d7ad6eacf1c954a9958df61bf3bff6104,rewrite," def enforce(self, project_id, deltas, resource_filters=None): :param resource_filters: A list of strings containing the resource if not isinstance(resource_filters, list): msg = 'resource_filters must be a list.'"," def enforce(self, project_id, deltas, filter_resources=None): :param filter_resources: A list of strings containing the resource if not isinstance(filter_resources, list): msg = 'filter_resources must be a list.'",4,4
openstack%2Fopenstack-helm-images~master~I40c313e83f38cef74d81ebbd393056f3867c74d8,openstack/openstack-helm-images,master,I40c313e83f38cef74d81ebbd393056f3867c74d8,Added Dockerfile for postgresql-Utility container.,ABANDONED,2019-05-20 11:28:52.000000000,2019-07-02 18:39:11.000000000,,"[{'_account_id': 8898}, {'_account_id': 9299}, {'_account_id': 12281}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 29131}, {'_account_id': 29254}, {'_account_id': 29298}, {'_account_id': 29367}, {'_account_id': 30315}]","[{'number': 1, 'created': '2019-05-20 11:28:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/32766f4538beb418d6d9dd37d208f843c2d7182a', 'message': 'Add Dockerfile and make file for postgresql-Utility container\n\nChange-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8\n'}, {'number': 2, 'created': '2019-05-21 06:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/6e85879a75ffeca73e25bf07e87659e27933fec3', 'message': 'Add Dockerfile and make file for postgresql-Utility container\n\nChange-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8\n'}, {'number': 3, 'created': '2019-06-06 11:08:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/73e311ee792295fbaf63b3e079b33453ffc325ba', 'message': 'Add Dockerfile and make file for postgresql-Utility container\n\nChange-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8\n'}, {'number': 4, 'created': '2019-06-13 10:12:07.000000000', 'files': ['postgresql-utility/Dockerfile.ubuntu_xenial', 'postgresql-utility/build.sh', 'zuul.d/postgresql-utility.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-images/commit/be5745e20412e4a87527c11ea9b2c1b335e9a6f0', 'message': 'Added Dockerfile for postgresql-Utility container.\n\nThis utility container will help to connect with\nUCP Postgresql container, so that only authorized users\nwill be able to run the queries with the help of nccli.\n\nChange-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8\n'}]",7,660095,be5745e20412e4a87527c11ea9b2c1b335e9a6f0,20,11,4,29367,,,0,"Added Dockerfile for postgresql-Utility container.

This utility container will help to connect with
UCP Postgresql container, so that only authorized users
will be able to run the queries with the help of nccli.

Change-Id: I40c313e83f38cef74d81ebbd393056f3867c74d8
",git fetch https://review.opendev.org/openstack/openstack-helm-images refs/changes/95/660095/4 && git format-patch -1 --stdout FETCH_HEAD,"['postgresql-utility/Dockerfile.ubuntu_xenial', 'postgresql-utility/build.sh', 'zuul.d/postgresql-utility.yaml']",3,32766f4538beb418d6d9dd37d208f843c2d7182a,,"--- # Copyright 2019, SUSE LINUX GmbH. # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. - project: check: jobs: - openstack-helm-images-build-postgresql-utility gate: jobs: - openstack-helm-images-upload-postgresql-utility promote: jobs: - openstack-helm-images-promote-postgresql-utility periodic: jobs: - openstack-helm-images-build-postgresql-utility - job: name: openstack-helm-images-build-postgresql-utility parent: openstack-helm-images-build description: Build postgresql-utility images vars: &postgresql-utility_vars docker_images: - context: postgresql-utility repository: openstackhelm/postgresql-utility dockerfile: Dockerfile.ubuntu_xenial tags: - latest-ubuntu_xenial files: &postgresql-utility_files - postgresql-utility/.* - zuul.d/postgresql-utility.yaml - job: name: openstack-helm-images-upload-postgresql-utility parent: openstack-helm-images-upload description: Build and upload postgresql-utility images vars: *postgresql-utility_vars files: *postgresql-utility_files - job: name: openstack-helm-images-promote-postgresql-utility parent: openstack-helm-images-promote description: Promote a previously published postgresql-utility image to latest. vars: *postgresql-utility_vars files: *postgresql-utility_files ",,92,0
openstack%2Fcharm-octavia~master~I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515,openstack/charm-octavia,master,I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515,Add end to end payload test,MERGED,2019-06-21 12:52:54.000000000,2019-07-02 17:59:46.000000000,2019-07-02 17:59:46.000000000,"[{'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 12:52:54.000000000', 'files': ['src/tests/tests.yaml'], 'web_link': 'https://opendev.org/openstack/charm-octavia/commit/27c96245743aa3fd712b72f3663aed707c5e828e', 'message': 'Add end to end payload test\n\nChange-Id: I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515\n'}]",0,666828,27c96245743aa3fd712b72f3663aed707c5e828e,7,3,1,13686,,,0,"Add end to end payload test

Change-Id: I4fe6e3bdfc98dbb65363e2eddf8e9008b7b64515
",git fetch https://review.opendev.org/openstack/charm-octavia refs/changes/28/666828/1 && git format-patch -1 --stdout FETCH_HEAD,['src/tests/tests.yaml'],1,27c96245743aa3fd712b72f3663aed707c5e828e,,- zaza.openstack.charm_tests.octavia.setup.prepare_payload_instance - zaza.openstack.charm_tests.octavia.setup.prepare_payload_instance comment: | The repetition of ``prepare_payload_instance`` is intentional and gives the test multiple backends to feed Octavia.,- zaza.openstack.charm_tests.nova.tests.LTSGuestCreateTest,5,1
openstack%2Fopenstack-helm-infra~master~If3440ca9be3227fc48cd698a7d44501e6747bb1e,openstack/openstack-helm-infra,master,If3440ca9be3227fc48cd698a7d44501e6747bb1e,"Nagios: Update Nagios image, check_prometheus_hosts command",MERGED,2019-06-27 12:41:12.000000000,2019-07-02 17:59:43.000000000,2019-07-02 17:59:43.000000000,"[{'_account_id': 17591}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-27 12:41:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e926515f9a1b66baf429914e6f6958e2fd478092', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 2, 'created': '2019-06-27 16:55:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d985b2ee5f966652378baac741df70a131763bc8', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 3, 'created': '2019-07-01 13:02:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/313b9a63aace52a3facf67a99469a32ad422cba8', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 4, 'created': '2019-07-01 13:05:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5740e155f215ea804b1d1321ca404124a5896e33', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 5, 'created': '2019-07-01 16:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/93e93138ac318b6427b76f4be5cf9e38a42b2be4', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}, {'number': 6, 'created': '2019-07-02 15:47:39.000000000', 'files': ['nagios/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/b2415bf023671ce09089274e973c2883eb21801f', 'message': 'Nagios: Update Nagios image, check_prometheus_hosts command\n\nThis updates the Nagios image used to the image that is built\nout of openstack-helm-images instead of the image hosted in quay.\n\nThis new image includes the updated host definition plugin that\nuses the kubernetes python client instead of prometheus queries,\nso the check_prometheus_hosts command has also been updated to\nreflect the change in required arguments\n\nChange-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n'}]",0,667917,b2415bf023671ce09089274e973c2883eb21801f,22,5,6,17591,,,0,"Nagios: Update Nagios image, check_prometheus_hosts command

This updates the Nagios image used to the image that is built
out of openstack-helm-images instead of the image hosted in quay.

This new image includes the updated host definition plugin that
uses the kubernetes python client instead of prometheus queries,
so the check_prometheus_hosts command has also been updated to
reflect the change in required arguments

Change-Id: If3440ca9be3227fc48cd698a7d44501e6747bb1e
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/17/667917/4 && git format-patch -1 --stdout FETCH_HEAD,['nagios/values.yaml'],1,e926515f9a1b66baf429914e6f6958e2fd478092,update-nagios-image, nagios: docker.io/openstackhelm/nagios:latest-ubuntu_xenial node_selector_key: nagios command_line $USER1$/check_update_prometheus_hosts.py --object_file_loc /opt/nagios/etc/objects/prometheus_discovery_objects.cfg, nagios: quay.io/attcomdev/nagios:410fcb08d2586e98e18ced317dab4157eb27456e node_selector_key: openstack-control-plane command_line $USER1$/check_update_prometheus_hosts.py --prometheus_api $USER2$ --object_file_loc /opt/nagios/etc/objects/prometheus_discovery_objects.cfg,3,3
openstack%2Ftripleo-ansible~master~I115a3ba6fca5f989299136ec40da37f52b6cddef,openstack/tripleo-ansible,master,I115a3ba6fca5f989299136ec40da37f52b6cddef,Move test_json_error_callback params into molecule,MERGED,2019-07-01 14:37:01.000000000,2019-07-02 17:52:46.000000000,2019-07-02 17:52:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-01 14:37:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/865d0d76491d0470884eb4a6e410ba9800ab5ea9', 'message': 'Move test_json_error_callback params into molecule\n\nThis change moves the environment parameters from the tox\nconfig into the role specific molecule config. This is being\ndone for test clarity as the tox environment is obscuring the\nrequired configuration for the plugin.\n\nChange-Id: I115a3ba6fca5f989299136ec40da37f52b6cddef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-01 23:36:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a5dff8af80bc475a954c442d0ded075a04dd5975', 'message': 'Move test_json_error_callback params into molecule\n\nThis change moves the environment parameters from the tox\nconfig into the role specific molecule config. This is being\ndone for test clarity as the tox environment is obscuring the\nrequired configuration for the plugin.\n\nChange-Id: I115a3ba6fca5f989299136ec40da37f52b6cddef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-02 00:58:36.000000000', 'files': ['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/0bf4186e3d35843a631b0ca13b9c155b9cd7950e', 'message': 'Move test_json_error_callback params into molecule\n\nThis change moves the environment parameters from the tox\nconfig into the role specific molecule config. This is being\ndone for test clarity as the tox environment is obscuring the\nrequired configuration for the plugin.\n\nChange-Id: I115a3ba6fca5f989299136ec40da37f52b6cddef\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,668481,0bf4186e3d35843a631b0ca13b9c155b9cd7950e,15,5,3,7353,,,0,"Move test_json_error_callback params into molecule

This change moves the environment parameters from the tox
config into the role specific molecule config. This is being
done for test clarity as the tox environment is obscuring the
required configuration for the plugin.

Change-Id: I115a3ba6fca5f989299136ec40da37f52b6cddef
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/81/668481/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/test_json_error_callback/molecule/default/molecule.yml', 'tox.ini']",2,865d0d76491d0470884eb4a6e410ba9800ab5ea9,localTesting,,setenv = {[testenv]setenv} JSON_ERROR_LOG_FILE=/tmp/json_error.log ANSIBLE_LOAD_CALLBACK_PLUGINS=true ANSIBLE_CALLBACK_WHITELIST=json_error,4,5
openstack%2Ftripleo-ansible~master~If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da,openstack/tripleo-ansible,master,If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da,Enforce testing consistency,MERGED,2019-07-01 20:38:36.000000000,2019-07-02 17:52:45.000000000,2019-07-02 17:52:45.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-01 20:38:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/43f9b9fe2ce7f1dec547ae5d82d993f33416be3a', 'message': 'Update roles so we\'re testing docker consistently\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-01 20:42:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a4fb511d4b4e9a02890882508d212954e8b769e0', 'message': 'Update roles so we\'re testing docker consistently\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-01 20:59:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/b8e06b56ff6f3b11dc54c130c0985457cf5f96a7', 'message': 'Update roles so we\'re testing docker consistently\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-07-01 21:24:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7dd290407419dac849204cf902753dd4ecbdd97e', 'message': 'Update roles so we\'re testing docker consistently\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-07-01 23:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c94d3ce04732a1b0b2040d5f5c8ecfcff254939d', 'message': 'Enforce testing consistency\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nAll of the requirements we were installing for molecule via built in\ntox configuration  have all been moved to the unmanaged requirements\nfile, ""molecule-requirements.txt"". This file will ensure anything we\ninstall in a virtual-environment is consistent throughout our stack.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 6, 'created': '2019-07-02 00:31:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5493defa36ddb8372774fc1f3c6f7b89a5c2cdbd', 'message': 'Enforce testing consistency\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nAll of the requirements we were installing for molecule via built in\ntox configuration  have all been moved to the unmanaged requirements\nfile, ""molecule-requirements.txt"". This file will ensure anything we\ninstall in a virtual-environment is consistent throughout our stack.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 7, 'created': '2019-07-02 00:49:03.000000000', 'files': ['tripleo_ansible/roles/tripleo-container-tag/molecule/default/molecule.yml', 'doc/source/contributing.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/pre-prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/molecule.yml', 'molecule-requirements.txt', 'zuul.d/molecule.yaml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/pre-prepare.yml', 'scripts/run-local-test', 'tripleo_ansible/playbooks/prepare-test-host.yml', 'tox.ini', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/prepare.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c23a01bd765f9094cc739a2cb4c1b39f48b6ede', 'message': 'Enforce testing consistency\n\nThe upstream OpenStack gate installs docker using the ""install-docker""\nfrom within the zuul-jobs repository. To ensure we\'re able to test role\nconsistently this change removes our internal docker install tasks\nand simply uses the role as provided by zuul.\n\nAll of the requirements we were installing for molecule via built in\ntox configuration  have all been moved to the unmanaged requirements\nfile, ""molecule-requirements.txt"". This file will ensure anything we\ninstall in a virtual-environment is consistent throughout our stack.\n\nThe `run-local-test` script has been added to the scripts directory\nallowing local development to be setup and executed with minimal,\nto no, pre-configuration or setup. This script and its usage has\nbeen documented in the contributing guide.\n\nChange-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",3,668558,7c23a01bd765f9094cc739a2cb4c1b39f48b6ede,16,5,7,7353,,,0,"Enforce testing consistency

The upstream OpenStack gate installs docker using the ""install-docker""
from within the zuul-jobs repository. To ensure we're able to test role
consistently this change removes our internal docker install tasks
and simply uses the role as provided by zuul.

All of the requirements we were installing for molecule via built in
tox configuration  have all been moved to the unmanaged requirements
file, ""molecule-requirements.txt"". This file will ensure anything we
install in a virtual-environment is consistent throughout our stack.

The `run-local-test` script has been added to the scripts directory
allowing local development to be setup and executed with minimal,
to no, pre-configuration or setup. This script and its usage has
been documented in the contributing guide.

Change-Id: If7d1ba7e59a1d6918d9606c9df8bfad21c0c47da
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/58/668558/2 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-container-tag/molecule/default/molecule.yml', 'doc/source/contributing.rst', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/podman/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/pre-prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/podman/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/docker_rm/molecule.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/prepare.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/molecule.yml', 'zuul.d/molecule.yaml', 'bindep.txt', 'tripleo_ansible/roles/tripleo-container-tag/molecule/pre-prepare.yml', 'scripts/run-local-test', 'tripleo_ansible/playbooks/prepare-test-host.yml', 'tripleo_ansible/roles/tripleo-container-tag/molecule/default/playbook.yml', 'tripleo_ansible/roles/tripleo-container-rm/molecule/default/prepare.yml']",18,43f9b9fe2ce7f1dec547ae5d82d993f33416be3a,localTesting," pre_tasks: - name: Check for docker cli command: ""command -v docker"" register: docker_cli failed_when: false - role: install-docker when: - docker_cli.rc != 0 post_tasks: - name: set basic user fact set_fact: ansible_user: ""{{ lookup('env', 'USER') }}"" when: - ansible_user is undefined - name: set basic home fact set_fact: ansible_user_dir: ""{{ lookup('env', 'HOME') }}"" when: - ansible_user_dir is undefined - name: Install docker-sdk pip: name: docker virtualenv: ""{{ ansible_user_dir }}/test-python"" vars: ansible_python_interpreter: ""{{ ansible_user_dir }}/test-python/bin/python"" vars: ansible_python_interpreter: ""{{ ansible_user_dir }}/test-python/bin/python""","- import_playbook: ../pre-prepare.yml vars: required_packages: - docker - python-docker-py - python-virtualenv pre_tasks: - name: Set current user fact set_fact: current_user: ""{{ lookup('env','USER') }}"" post_tasks: - name: Docker block block: - name: Install docker package: name: ""{{ required_packages }}"" state: latest - name: Ensure ""docker"" group exists group: name: docker state: present - name: Ensure the ansible user can access docker user: name: ""{{ ansible_user | default(current_user) }}"" groups: docker - name: Start docker systemd: name: docker state: started - name: Install python-docker in venv pip: name: ""docker"" virtualenv: /opt/tripleo-ansible virtualenv_site_packages: true - name: reset ssh connection to allow user changes to take affect meta: reset_connection vars: ansible_python_interpreter: /opt/tripleo-ansible/bin/python vars: ansible_python_interpreter: /opt/tripleo-ansible/bin/python",216,183
openstack%2Fopenstack-helm~master~I9721e2e33212918d402bce295c02b1869dce67f7,openstack/openstack-helm,master,I9721e2e33212918d402bce295c02b1869dce67f7,Support for RabbitMQ HA,MERGED,2019-06-18 23:52:16.000000000,2019-07-02 17:47:39.000000000,2019-07-02 17:47:38.000000000,"[{'_account_id': 8898}, {'_account_id': 18204}, {'_account_id': 18250}, {'_account_id': 18256}, {'_account_id': 22348}, {'_account_id': 23928}]","[{'number': 1, 'created': '2019-06-18 23:52:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/dc92ccc135d1ed4b1369dd4bae5b6d87fa945e1d', 'message': 'Support for RabbitMQ HA\n\nThere can be more than one RabbitMQ node in\ntransport_url in conf file when RabbitMQ is\nconfigured in HA mode.\n\nChange-Id: I9721e2e33212918d402bce295c02b1869dce67f7\n'}, {'number': 2, 'created': '2019-06-21 20:16:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/18af4bef947eb6187350c0a1c31d2f77a28a749a', 'message': 'Support for RabbitMQ HA\n\nThere can be more than one RabbitMQ node in\ntransport_url in conf file when RabbitMQ is\nconfigured in HA mode.\n\nChange-Id: I9721e2e33212918d402bce295c02b1869dce67f7\n'}, {'number': 3, 'created': '2019-07-02 16:10:44.000000000', 'files': ['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm/commit/287602fe20eaf3a81d6f7236c832c6a2d4bde146', 'message': 'Support for RabbitMQ HA\n\nThere can be more than one RabbitMQ node in\ntransport_url in conf file when RabbitMQ is\nconfigured in HA mode.\n\nChange-Id: I9721e2e33212918d402bce295c02b1869dce67f7\n'}]",0,666193,287602fe20eaf3a81d6f7236c832c6a2d4bde146,18,6,3,18256,,,0,"Support for RabbitMQ HA

There can be more than one RabbitMQ node in
transport_url in conf file when RabbitMQ is
configured in HA mode.

Change-Id: I9721e2e33212918d402bce295c02b1869dce67f7
",git fetch https://review.opendev.org/openstack/openstack-helm refs/changes/93/666193/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/templates/bin/_health-probe.py.tpl', 'neutron/templates/bin/_health-probe.py.tpl']",2,dc92ccc135d1ed4b1369dd4bae5b6d87fa945e1d,,"def get_rabbitmq_ports(): ""Get RabbitMQ ports"" rabbitmq_ports = set() try: transport_url = oslo_messaging.TransportURL.parse(cfg.CONF) for host in transport_url.hosts: rabbitmq_ports.add(host.port) except Exception as ex: message = getattr(ex, ""message"", str(ex)) sys.stderr.write(""Health probe caught exception reading "" ""RabbitMQ ports: %s"" % message) sys.exit(0) # return success return rabbitmq_ports rabbitmq_ports = get_rabbitmq_ports() if port in rabbitmq_ports and status == tcp_established:", if port == rabbit_port and status == tcp_established:,45,14
openstack%2Fdevstack~master~Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,openstack/devstack,master,Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1,Fix rdo-release install,MERGED,2019-06-21 11:33:15.000000000,2019-07-02 17:42:21.000000000,2019-07-02 05:43:34.000000000,"[{'_account_id': 6469}, {'_account_id': 7118}, {'_account_id': 8556}, {'_account_id': 13294}, {'_account_id': 16312}, {'_account_id': 16643}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 11:33:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/b36412fd70bfcaeac99f7ada324a5f681af42bca', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n'}, {'number': 2, 'created': '2019-06-21 11:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/eb375ad9fa7d769e538de1c1c4f263572e57f07f', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n'}, {'number': 3, 'created': '2019-07-01 11:06:00.000000000', 'files': ['stack.sh'], 'web_link': 'https://opendev.org/openstack/devstack/commit/8b31dce38b630ba3ed1883bcf91a90d296ae44f2', 'message': 'Fix rdo-release install\n\nThe URL for rdo-release package is version-less and redirects to latest\nstable version. This becomes problematic when stacking older stable\nversions as dependencies might not be met or newer and incompatibile\nones might get installed.\n\nCloses-Bug: #1833696\n\nChange-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1\n'}]",7,666817,8b31dce38b630ba3ed1883bcf91a90d296ae44f2,24,7,3,6469,,,0,"Fix rdo-release install

The URL for rdo-release package is version-less and redirects to latest
stable version. This becomes problematic when stacking older stable
versions as dependencies might not be met or newer and incompatibile
ones might get installed.

Closes-Bug: #1833696

Change-Id: Icb07dcb4c9a3950a3c31a3a8dcb8d0b4c713fdb1
",git fetch https://review.opendev.org/openstack/devstack refs/changes/17/666817/1 && git format-patch -1 --stdout FETCH_HEAD,['stack.sh'],1,b36412fd70bfcaeac99f7ada324a5f681af42bca,bug/1833696," if [[ ""$TARGET_BRANCH"" == ""master"" ]]; then yum_install https://rdoproject.org/repos/rdo-release.rpm else # Get latest rdo-release-$rdo_release RPM package version rdo_release=$(echo $TARGET_BRANCH | sed ""s|stable/||g"") rdo_package=$(curl -s https://repos.fedorapeople.org/repos/openstack/openstack-$rdo_release/ | grep -o 'rdo-release-.[^>]*.noarch.rpm' | sort | tail -1) yum_install https://rdoproject.org/repos/openstack-$rdo_release/$rdo_package fi", yum_install https://rdoproject.org/repos/rdo-release.rpm,8,1
openstack%2Fkeystone-specs~master~I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6,openstack/keystone-specs,master,I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6,Update access rules spec with decisions from PTG,MERGED,2019-05-28 15:25:14.000000000,2019-07-02 17:38:38.000000000,2019-07-02 17:38:38.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-28 15:25:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/5ea9619e34d9b08f2d07a8fac7620e65638f295a', 'message': 'Update access rules spec with decisions from PTG\n\nChange-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6\n'}, {'number': 2, 'created': '2019-05-28 15:41:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/84dd128c1af24b1897b838f47560bb8272ef0515', 'message': 'Update access rules spec with decisions from PTG\n\nChange-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6\n'}, {'number': 3, 'created': '2019-05-29 17:45:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/bf460ff65ff165f8cf40f97a26b9128c7066f4f6', 'message': 'Update access rules spec with decisions from PTG\n\nChange-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6\n'}, {'number': 4, 'created': '2019-06-05 20:15:51.000000000', 'files': ['specs/keystone/train/capabilities-app-creds.rst'], 'web_link': 'https://opendev.org/openstack/keystone-specs/commit/94df8711bc838cb28512e1ad3fc9b8d8480cd87d', 'message': 'Update access rules spec with decisions from PTG\n\nChange-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6\n'}]",10,661784,94df8711bc838cb28512e1ad3fc9b8d8480cd87d,18,4,4,8482,,,0,"Update access rules spec with decisions from PTG

Change-Id: I58b1b57febaea7f8bc75bf9e737e2d42f7823cf6
",git fetch https://review.opendev.org/openstack/keystone-specs refs/changes/84/661784/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/keystone/train/capabilities-app-creds.rst'],1,5ea9619e34d9b08f2d07a8fac7620e65638f295a,access-rules,"2) `keystonemiddleware` on the service's side receives the access rule listFuture Considerations --------------------- Chained API Calls ~~~~~~~~~~~~~~~~~ A future iteration of this feature may create a toggle to control whether a service can use one of these tokens to make background requests on behalf of the user, for example to allow the compute service to make requests to the block storage service even though the block storage API wasn't explicitly whitelisted in the application credential access rules. For the time being, chained service requests like this will leverage service tokens to ensure that subsequent requests made on behalf of a user will be completed as normal, and will rely on operator-configured policies to prevent abuse. Access Rules Config ~~~~~~~~~~~~~~~~~~~ A future iteration of this feature may enable a way for operators to restrict the allowed access rules that a user may configure by creating a global whitelist of access rules against which users' access rules are validated prior to the creation of the application credential. The value of this is to assist users in creating valid access rules and avoiding accidentally opening security holes by creating invalid rules. It would also give the operator more control of the overall access control configuration. However, for the time being, this feature is infeasible because we lack discoverability of APIs and it is impossible to create a complete list of valid access rules for all services across OpenStack and external to OpenStack. When this feature becomes feasible, another possibility is to allow operators to configure a role ID for each access rule to indicate that the user needs to provide that role in the application credential in order for the call to proceed. This allows for greater alignment between policy rules and access rules. * Notes from Train Forum session: https://etherpad.openstack.org/p/DEN-keystone-forum-sessions-app-creds * Notes from Train PTG session: https://etherpad.openstack.org/p/keystone-train-ptg-application-credentials","2) A future iteration of this feature will create a toggle to control whether a service can use one of these token to make background requests on behalf of the user, for example to allow the compute service to make requests to the block storage service even though the block storage API wasn't explicitly whitelisted in the application credential access rules. For the time being, chained service requests like this will be unrestricted and will rely on operator-configured policies to prevent abuse. 3) `keystonemiddleware` on the service's side receives the access rule listAccess Rules Config ------------------- Every access rule must be validated against an operator-configured list upon application credential upon creation, unless the operator has explicitly configured a permissive mode that does no validation. This section describes how an operator defines a list and how they are used by Keystone. The allowed access rules are operator configured as a JSON config file on disk, with the idea that perhaps such a catalog might be exposed on service endpoints someday. Keystone will document a curated list of URL templates for those APIs where such a thing can be generated automatically. The operator can then use this list as-is in the simplest case, or modify it for their local setup as they chose. For every access rule the following information is stored: 1) A service type that matches one of the services in the Keystone catalog. 2) A URL path pattern, such as `/v2.1/servers/{server_id}`. The combination of this string and the service type from (1) must be unique. It is anchored at the beginning of a path, i.e. access rules' path attributes must fully match this pattern and may not be preceded or followed by extra characters. The template string may contain the following special wildcard templates: * `{named_variable}`: allows arbitrary strings (excluding the `/` character). Named placeholders in the access rule path pattern are there for readability and direct comparison to API references and policy files, they do not correlate to string formatting substitutions. Examples include `{project_id}`, `{user_id}`, or `{server_id}`. * `*`: allows arbitrary strings (excluding the `/` character) * `**`: allows arbitrary strings (including the `/` character) A user using a path pattern containing wild cards for validating one of their access rules may substitute the wild card by any string fulfilling the constraint imposed by the wild card. This allows the operator to be permissive in their URL templates (to the point of only having one ""**"" pattern in the most extreme case) and the user to be more restrictive than a wild card template in their access rules. Discoverability for Access Rules Config --------------------------------------- Any user with a valid auth token can list the operator maintained access rules through the Keystone API:: GET /v3/access_rules_config .. code-block:: json { ""compute"": [ { ""path"": ""/v2.1/servers"", ""method"": ""GET"" } ] } This allows them to discover the URL path templates they can use for creating access rules in application credentials. Access Rules and Roles ---------------------- Configured access rules will have an optional ROLE_ID value. If this value is set, it indicates the role that the user needs to provide in the application credential in order for the call to proceed. In addition, if the role_id value is set, the user will only be able to use the access rule if the user has that role assigned, either directly, or as a result of an implied role. Chained API Calls ----------------- One thing the access rules make rather tough is chained API calls: if an API call is permitted by an access rule, but the service uses the same access rule restricted token to call other services' APIs, these will fail. While it would be possible to circumvent this problem with additional access rules to cover the chained calls, that would be very poor ergonomics, especially for operations with a large amount of chained API calls such as creating a Heat stack. A future optimization of this feature will implement a toggle for access rules to give services blanket permission to perform chained API calls with the token resulting from the Application credential. This is implemented as follows: 1) If `keystonemiddleware` receives a request that is permitted due to an application credential with this toggle set, it requests a service token and adds it to the request's object's headers. 2) Follow-up requests issued by the service will then send this service token along with the regular token resulting from the application credential. 3) If `keystonemiddleware` encounters an application credential generated token with this toggle plus a valid service token it will ignore any non-empty access rulelists and pass the request to the service as-is. ",42,106
openstack%2Fpaunch~stable%2Frocky~I04d2f141370cd88787422d6adf4b22cc54ecf028,openstack/paunch,stable/rocky,I04d2f141370cd88787422d6adf4b22cc54ecf028,Quote the health check command argument during a debug with print-cmd.,MERGED,2019-06-27 12:56:06.000000000,2019-07-02 17:31:58.000000000,2019-07-02 17:31:58.000000000,"[{'_account_id': 3153}, {'_account_id': 5756}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-27 12:56:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/paunch/commit/018860efb3c7bd3c7e5665a9a5e11e4aa3c89785', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nConflicts:\n\tpaunch/__init__.py\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)\n'}, {'number': 2, 'created': '2019-06-28 08:43:23.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/b1ed7cc2366b8108f0a8f2fd1a08fcabf1525ec8', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nConflicts:\n\tpaunch/__init__.py\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)\n'}]",0,667923,b1ed7cc2366b8108f0a8f2fd1a08fcabf1525ec8,13,6,2,8655,,,0,"Quote the health check command argument during a debug with print-cmd.

This is one of the few arguments that sometimes requires the use of
spaces. `paunch debug --action print-cmd` will now display a command
to stdout that can be copied, pasted, and executed reliability.

Conflicts:
	paunch/__init__.py

Change-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028
Resolves: rhbz#1694572
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/23/667923/2 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/__init__.py']",3,018860efb3c7bd3c7e5665a9a5e11e4aa3c89785,666891," if '--health-cmd' in cmd: health_check_arg_index = cmd.index('--health-cmd') + 1 # The argument given needs to be quoted to work properly with a # copy and paste of the full command. try: cmd[health_check_arg_index] = ( '""%s""' % cmd[health_check_arg_index]) except IndexError: log.warning(""No argument provided to --health-cmd."") ",,16,2
openstack%2Fnova-specs~master~I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948,openstack/nova-specs,master,I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948,Re-propose the spec to allow specifying a list of CPU models,MERGED,2019-03-08 14:24:10.000000000,2019-07-02 17:29:16.000000000,2019-07-02 16:47:49.000000000,"[{'_account_id': 136}, {'_account_id': 5754}, {'_account_id': 6962}, {'_account_id': 7166}, {'_account_id': 8768}, {'_account_id': 9708}, {'_account_id': 10135}, {'_account_id': 11564}, {'_account_id': 11604}, {'_account_id': 14070}, {'_account_id': 15334}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 27614}, {'_account_id': 28433}]","[{'number': 1, 'created': '2019-03-08 14:24:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/8c380c9be9f009171ee991e1e8a9be40ed27b7a2', 'message': ""Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nA 'cometic' change in this re-proposal: For clarity and sanity, propose\n`cpu_model_list` instead of the plural variant, `cpu_models`, of the\npre-existing `cpu_model`.  Otherwise, supporting both the singular and\nplural variants at the _same_ time can be hard to distinguish and may\nresult in easy screw-ups.  Avoid them.\n\nWhile at it, touch up a couple of ultra minor things: use correct\ncapitalization for acroynyms like CPU, QEMU; use the rST inline literals\nconsistently; and a grammar fix here and there.\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n""}, {'number': 2, 'created': '2019-03-08 16:34:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a748a53a9e4f6ca07585cb4a1aa4bb777ca88b52', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nA cosmetic change in this re-proposal: For clarity and sanity, propose\n`cpu_model_list` instead of the plural variant, `cpu_models`, of the\npre-existing `cpu_model`.  Otherwise, supporting both the singular and\nplural variants at the _same_ time can be hard to distinguish and may\nresult in easy screw-ups.  Avoid them.\n\nWhile at it, touch up a couple of ultra minor things: use correct\ncapitalization for acroynyms like CPU, QEMU; use the rST inline literals\nconsistently; and a grammar fix here and there.\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 3, 'created': '2019-04-02 09:36:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4a12869a91f24ba8644566e58872783a80094503', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models`, of the pre-existing `cpu_model`.\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time can be hard to distinguish and may result in easy\n    screw-ups.  Avoid them.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acroynyms like CPU, QEMU; use the rST inline literals\n    consistently; and a grammar fix here and there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 4, 'created': '2019-04-03 08:11:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/c6d8c1dd4a740fbb461ab8c4ea26370f41db5838', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (of the pre-existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time can result in easy screw-ups.  Avoid them.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acroynyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 5, 'created': '2019-04-08 16:09:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/4d49c9b79659ad88d682fba5f94e1c09b351c92b', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (of the pre-existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time can result in easy screw-ups.  Avoid them.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 6, 'created': '2019-04-09 12:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/a12ecb72ccdbdb84f14f9e7c5638c6de000e4d14', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (of the existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time can result in easy screw-ups.  Avoid them.\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\n'}, {'number': 7, 'created': '2019-06-13 08:26:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/755ec602b52b85c23571f3c86c160e03434c8a7d', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntake over it]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (of the existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time can result in easy screw-ups.  Avoid them.\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\n\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 8, 'created': '2019-06-25 20:40:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b234ab64c888af8fb32168d2d51ccd5e8e8cad60', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (to replace the existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time could result in easy screw-ups.  Avoid them.\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 9, 'created': '2019-07-01 13:21:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b3a5adbc75b5dec280b456095e75d737bd561ae1', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (to replace the existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time could result in easy screw-ups.  Avoid them.\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 10, 'created': '2019-07-01 13:22:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/f240c550ef2d37f696fdfa484fc59eb949bfd094', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - For clarity and sanity, propose `cpu_model_list` instead of the\n    plural variant, `cpu_models` (to replace the existing `cpu_model`).\n    Otherwise, supporting both the singular and plural variants at the\n    _same_ time could result in easy screw-ups.  Avoid them.\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 11, 'created': '2019-07-02 02:09:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/b420357024c6a491edc48c6db437068feca0997c', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 12, 'created': '2019-07-02 05:16:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/02fb02f0bac0e596bfd02cf89f2639adbf5e33d1', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}, {'number': 13, 'created': '2019-07-02 13:27:26.000000000', 'files': ['specs/train/approved/cpu-model-selection.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/045eec5e460fc062fa4f824543fa1fd5e8b3dc27', 'message': 'Re-propose the spec to allow specifying a list of CPU models\n\n[The spec was originally proposed for Stein, by Jack Ding\n<jack.ding@windriver.com>, here:\nhttps://review.openstack.org/#/c/620959/\nThe spec was abandoned by Kashyap Chamarthy, and Ya Wang\ntook it over.]\n\nChanges in this re-proposal:\n\n  - Write additional context based on further thinking and feedback from\n    reviewers.\n\n  - Touch up a couple of ultra minor things: use correct capitalization\n    for acronyms like CPU and QEMU; use the rST inline literals\n    consistently; a grammar fix and a sentence rephrasing here and\n    there.\n\n  - Elide incorrect claim about host.compare_cpu().\n\n  - Add missing references (e.g. the work to add more\n    ""hypervisor-literate"" CPU APIs to Nova).\n\nPreviously-approved: Stein\nCo-Authored-By: Jack Ding <jack.ding@windriver.com>\nblueprint: cpu-model-selection\n\nChange-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948\n'}]",79,642030,045eec5e460fc062fa4f824543fa1fd5e8b3dc27,93,15,13,6962,,,0,"Re-propose the spec to allow specifying a list of CPU models

[The spec was originally proposed for Stein, by Jack Ding
<jack.ding@windriver.com>, here:
https://review.openstack.org/#/c/620959/
The spec was abandoned by Kashyap Chamarthy, and Ya Wang
took it over.]

Changes in this re-proposal:

  - Write additional context based on further thinking and feedback from
    reviewers.

  - Touch up a couple of ultra minor things: use correct capitalization
    for acronyms like CPU and QEMU; use the rST inline literals
    consistently; a grammar fix and a sentence rephrasing here and
    there.

  - Elide incorrect claim about host.compare_cpu().

  - Add missing references (e.g. the work to add more
    ""hypervisor-literate"" CPU APIs to Nova).

Previously-approved: Stein
Co-Authored-By: Jack Ding <jack.ding@windriver.com>
blueprint: cpu-model-selection

Change-Id: I4cf9ebb61bc7613f8b55127b4c6cd13591fe4948
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/30/642030/13 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/approved/cpu-model-selection.rst'],1,8c380c9be9f009171ee991e1e8a9be40ed27b7a2,bp/cpu-model-selection,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ========================================== Select cpu model from a list of cpu models ========================================== https://blueprints.launchpad.net/nova/+spec/cpu-model-selection Problem description =================== In the libvirt virt driver, currently we use ``cpu_model`` in ``nova.conf`` (when ``cpu_mode`` is set to ``custom``) to specify the CPU model the instance should use on this host. This could have implications on availability of compute nodes for live migration if you ended up with an ""advanced"" CPU model when all you really cared about was an older feature flag. Use Cases --------- As a user, I would like to boot an instance on a host supporting specific CPU features and for the instance to be live-migratable to as many other hosts as possible that also support the instance. Proposed change =============== Replace ``cpu_model`` with ``cpu_model_list`` which is an ordered list of CPU models the host supports. It is expected that the list is ordered so that the more common and less advanced CPU models are listed earlier. The reported CPU feature traits will be the union of features of all the CPU models. End users specify CPU features they required through traits [1]_. If the ``cpu_mode`` is set to *custom*, libvirt driver will select the first CPU model in the ``cpu_model_list`` list (combined with ``cpu_model_extra_flags`` if it is specified) that can provide the required feature traits. This would make it more likely that the instance could be live-migrated later on. If no CPU feature traits are specified then the instance will be configured with the first CPU model in the list. For example, if the end user specifies CPU features ``avx`` and ``avx2`` as following:: openstack flavor set 1 --property trait:HW_CPU_X86_AVX=required --property trait:HW_CPU_X86_AVX2=required and ``cpu_model_list`` is configured like this:: [libvirt] cpu_mode = custom cpu_model_list = Conroe,Penryn,Nehalem,Westmere,SandyBridge,IvyBridge,Haswell,Broadwell,Skylake-Client,Skylake-Server then ``Haswell``, the first cpu model supporting both avx and avx2 will be chosen by libvirt. If ``cpu_model_extra_flags`` is specified, it should be checked against each cpu model in the ``cpu_model_list`` list using host.compare_cpu() to make sure it is compatible with *all* models in the ``cpu_model_list`` list. Any incompatibility should prevent compute host from starting and user needs to correct the configuration. If both ``cpu_model_list`` and ``cpu_model`` are set, ``cpu_model`` will be ignored. Alternatives ------------ None Data model impact ----------------- None REST API impact --------------- None Security impact --------------- None Notifications impact -------------------- None Other end user impact --------------------- None Performance Impact ------------------ Negligible. Other deployer impact --------------------- Add some information in the config option help text indicating that the operator should be careful to only specify models which can be fully supported in hardware. If they specify models with CPU features that are emulated by QEMU it could result in performance degredation. Developer impact ---------------- None Upgrade impact -------------- The operator needs to set the config option appropriately after an upgrade. If ``cpu_model_list`` is not set it should default to the value of ``cpu_model``. Implementation ============== Assignee(s) ----------- TBD Work Items ---------- * Conf: Define ``[libvirt]cpu_model_list``. Deprecate ``[libvirt]cpu_model``. * Virt driver changes. * Add/modify unit tests. Dependencies ============ None Testing ======= Add unit tests. Documentation Impact ==================== Update release note for introducing ``[libvirt]cpu_model_list``. References ========== .. [1] https://specs.openstack.org/openstack/nova-specs/specs/rocky/implemented/report-cpu-features-as-traits.html History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced * - Train - Re-proposed with a change suggesting to use ``cpu_model_list`` as the config attribute name instead of ``cpu_models`` to avoid confusion with the pre-existing singular variant, ``cpu_model``. ",,181,0
openstack%2Fnova~master~I2b284d69d345d15287f04a7ca4cd422155768525,openstack/nova,master,I2b284d69d345d15287f04a7ca4cd422155768525,Un-safe_connect and publicize get_providers_in_tree,MERGED,2019-06-27 22:04:14.000000000,2019-07-02 17:28:17.000000000,2019-07-02 17:28:17.000000000,"[{'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9708}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16898}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-27 22:04:14.000000000', 'files': ['nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0652a4c7a5cbe99654a7e878edcfb477b6df38c0', 'message': ""Un-safe_connect and publicize get_providers_in_tree\n\nIn the continuing saga to wipe @safe_connect from the annals of history,\nand in preparation, for its use outside of SchedulerReportClient, this\ncommit does two things to _get_providers_in_tree:\n\n- Removes @safe_connect from it. Callers now need to be aware that they\n  can get ClientExceptionZ from ksa. (The two existing callers were\n  vetted and needed no additional handling - it's way more appropriate\n  for them to raise ClientException than a mysterious NoneType error\n  somewhere down the line as they would have been doing previously.)\n- Renames it to get_providers_in_tree.\n\nChange-Id: I2b284d69d345d15287f04a7ca4cd422155768525\n""}]",8,668062,0652a4c7a5cbe99654a7e878edcfb477b6df38c0,18,13,1,14070,,,0,"Un-safe_connect and publicize get_providers_in_tree

In the continuing saga to wipe @safe_connect from the annals of history,
and in preparation, for its use outside of SchedulerReportClient, this
commit does two things to _get_providers_in_tree:

- Removes @safe_connect from it. Callers now need to be aware that they
  can get ClientExceptionZ from ksa. (The two existing callers were
  vetted and needed no additional handling - it's way more appropriate
  for them to raise ClientException than a mysterious NoneType error
  somewhere down the line as they would have been doing previously.)
- Renames it to get_providers_in_tree.

Change-Id: I2b284d69d345d15287f04a7ca4cd422155768525
",git fetch https://review.opendev.org/openstack/nova refs/changes/62/668062/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/functional/test_report_client.py', 'nova/tests/unit/scheduler/client/test_report.py', 'nova/scheduler/client/report.py']",3,0652a4c7a5cbe99654a7e878edcfb477b6df38c0,kill-safe_connect-and-publicize-get_providers_in_tree," def get_providers_in_tree(self, context, uuid): :raise: keystoneauth1.exceptions.ClientException if placement API communication fails. :raise ResourceProviderCreationFailed: If we expected to be creating providers, but couldn't. :raise: keystoneauth1.exceptions.ClientException if placement API communication fails. rps_to_refresh = self.get_providers_in_tree(context, uuid) rps = self.get_providers_in_tree(context, root_rp_uuid)"," @safe_connect def _get_providers_in_tree(self, context, uuid): rps_to_refresh = self._get_providers_in_tree(context, uuid) rps = self._get_providers_in_tree(context, root_rp_uuid)",30,19
openstack%2Fnova~master~Ib638c772e0527f4657062499b0b84b93969a5519,openstack/nova,master,Ib638c772e0527f4657062499b0b84b93969a5519,Clean up TestDriverBlockDevice helper Of DOOOOOM,NEW,2019-07-01 20:23:46.000000000,2019-07-02 17:08:58.000000000,,"[{'_account_id': 9008}, {'_account_id': 14384}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-07-01 20:23:46.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/14d331de29146de57aa7363a5ace094a568fab0e', 'message': ""Clean up TestDriverBlockDevice helper Of DOOOOOM\n\nWhile reviewing [1] I noticed a few opportunities to clean up and make\nmore readable the _test_volume_attach helper.\n\n(Better, IMO, would be to break this massively branched helper apart and\nmake the test cases readable on their own. But I wasn't feeling that\nambitious.)\n\n[1] https://review.opendev.org/#/c/566153\n\nChange-Id: Ib638c772e0527f4657062499b0b84b93969a5519\n""}]",0,668556,14d331de29146de57aa7363a5ace094a568fab0e,8,7,1,14070,,,0,"Clean up TestDriverBlockDevice helper Of DOOOOOM

While reviewing [1] I noticed a few opportunities to clean up and make
more readable the _test_volume_attach helper.

(Better, IMO, would be to break this massively branched helper apart and
make the test cases readable on their own. But I wasn't feeling that
ambitious.)

[1] https://review.opendev.org/#/c/566153

Change-Id: Ib638c772e0527f4657062499b0b84b93969a5519
",git fetch https://review.opendev.org/openstack/nova refs/changes/56/668556/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_block_device.py'],1,14d331de29146de57aa7363a5ace094a568fab0e,bp/mox-removal-train," # @update_db always save()s; and unless we bail early (as noted below), # (_legacy)_volume_attach does an extra save(). expected_save_calls = 2 self.virt_driver.capabilities = { 'supports_multiattach': driver_multi_attach} mock_get_encry.return_value = enc_data exp_volapi_get_calls = [mock.call( self.context, fake_volume['id'], microversion='3.48')] exp_volapi_get_calls.append( mock.call(self.context, fake_volume['id'])) self.virt_driver.get_volume_connector.return_value = connector if self.attachment_id is None: self.volume_api.initialize_connection.return_value = ( connection_info) else: self.volume_api.attachment_update.return_value = { 'connection_info': connection_info} if fail_check_av_zone: self.volume_api.check_availability_zone.side_effect = ( test.TestingException()) # This path fails out before (_legacy)_volume_attach save()s again. expected_save_calls = 1 elif driver_attach and fail_driver_attach: self.virt_driver.attach_volume.side_effect = ( test.TestingException()) # This path fails out before (_legacy)_volume_attach save()s again. expected_save_calls = 1 if volume_attach and fail_volume_attach: if self.attachment_id is None: self.volume_api.attach.side_effect = test.TestingException() else: self.volume_api.attachment_complete.side_effect = ( test.TestingException()) # This path fails out before (_legacy)_volume_attach save()s again. expected_save_calls = 1 elif wait_func: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) else: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=driver_attach) self.assertThat(driver_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) self.assertEqual(expected_save_calls, mock_save.call_count) mock_save.assert_has_calls([mock.call()] * expected_save_calls) self.volume_api.get.assert_has_calls(exp_volapi_get_calls) self.volume_api.check_availability_zone.assert_called_once_with( self.context, fake_volume, instance=instance) if fail_check_av_zone: # Exit assert calls return self.virt_driver.get_volume_connector.assert_called_once_with(instance) if fail_with_virt_driver: # Exit assert calls return if self.attachment_id is None: self.volume_api.initialize_connection.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: self.volume_api.attachment_update.assert_called_once_with( elevated_context, self.attachment_id, connector, bdm_dict['device_name']) if driver_attach: mock_get_encry.assert_called_once_with( elevated_context, self.volume_api, fake_volume['id'], connection_info) self.virt_driver.attach_volume.assert_called_once_with( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], disk_bus=bdm_dict['disk_bus'], device_type=bdm_dict['device_type'], encryption=enc_data) if fail_driver_attach: if self.attachment_id is None: mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id) # Exit assert calls return if volume_attach: if self.attachment_id is None: self.volume_api.attach.assert_called_once_with( elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode) else: mock_att_complete = self.volume_api.attachment_complete mock_att_complete.assert_called_once_with( elevated_context, self.attachment_id) if fail_volume_attach: if self.attachment_id is None: mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) self.volume_api.detach.assert_called_once_with( elevated_context, fake_volume['id']) else: mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id)"," expected_save_calls = [] if driver_multi_attach: # 'supports_multiattach' is True self.virt_driver.capabilities.get.return_value = True else: # 'supports_multiattach' is False self.virt_driver.capabilities.get.return_value = False try: if fail_check_av_zone: self.volume_api.check_availability_zone.side_effect = ( test.TestingException()) # The @update_db decorator will save any changes. expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() self.virt_driver.get_volume_connector.return_value = connector if fail_with_virt_driver: expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() if self.attachment_id is None: self.volume_api.initialize_connection.return_value = ( connection_info) else: self.volume_api.attachment_update.return_value = { 'connection_info': connection_info} if driver_attach: mock_get_encry.return_value = enc_data if fail_driver_attach: self.virt_driver.attach_volume.side_effect = ( test.TestingException()) # The @update_db decorator will save any changes. expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() if volume_attach: # save updates before marking the volume as in-use expected_save_calls.append(mock.call()) if fail_volume_attach: if self.attachment_id is None: self.volume_api.attach.side_effect = ( test.TestingException()) else: self.volume_api.attachment_complete.side_effect = ( test.TestingException()) # The @update_db decorator will save any changes. expected_save_calls.append(mock.call()) except test.TestingException: pass else: if wait_func: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) else: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=driver_attach) self.assertThat(driver_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) if include_shared_targets: self.volume_api.get.assert_called_once_with( self.context, fake_volume['id'], microversion='3.48') else: # First call to get() fails because the API isn't new enough. # So we fallback to the old call. self.volume_api.get.assert_has_calls([ mock.call(self.context, fake_volume['id'], microversion='3.48'), mock.call(self.context, fake_volume['id'])]) try: self.volume_api.check_availability_zone.assert_called_once_with( self.context, fake_volume, instance=instance) if fail_check_av_zone: # Exit assert calls raise test.TestingException() self.virt_driver.get_volume_connector.assert_called_once_with( instance) if fail_with_virt_driver: raise test.TestingException() if self.attachment_id is None: self.volume_api.initialize_connection.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: self.volume_api.attachment_update.assert_called_once_with( elevated_context, self.attachment_id, connector, bdm_dict['device_name']) if driver_attach: mock_get_encry.assert_called_once_with( elevated_context, self.volume_api, fake_volume['id'], connection_info) self.virt_driver.attach_volume.assert_called_once_with( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], disk_bus=bdm_dict['disk_bus'], device_type=bdm_dict['device_type'], encryption=enc_data) if fail_driver_attach: if self.attachment_id is None: mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id) # Exit assert calls raise test.TestingException() if volume_attach: if not fail_volume_attach: if self.attachment_id is None: self.volume_api.attach.assert_called_once_with( elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode) else: mock_att_complete = self.volume_api.attachment_complete mock_att_complete.assert_called_once_with( elevated_context, self.attachment_id) else: if self.attachment_id is None: self.volume_api.attach.assert_called_once_with( elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode) mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) self.volume_api.detach.assert_called_once_with( elevated_context, fake_volume['id']) else: mock_att_complete = self.volume_api.attachment_complete mock_att_complete.assert_called_once_with( elevated_context, self.attachment_id) mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id) except test.TestingException: pass if expected_save_calls: mock_save.assert_has_calls(expected_save_calls) # Make sure theses are not called # Make sure theses are not called",104,142
openstack%2Fkolla-ansible~master~I43de0460370547bd9c5ff303f8d412f407025331,openstack/kolla-ansible,master,I43de0460370547bd9c5ff303f8d412f407025331,WIP: Wait for all nova computes to be up before discovery,ABANDONED,2019-07-01 19:31:49.000000000,2019-07-02 17:05:56.000000000,,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-01 19:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/c019e73503e7b2a5fa06367823aa60db1050fc8f', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-07-02 06:15:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/b9a76629865b812523750913f0d0a7cc8882f994', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-07-02 07:27:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fda127a42b283652082a64eb41cbb27a386e645', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 4, 'created': '2019-07-02 08:25:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2846bc1e583920bf582cec4265317225118ee298', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 5, 'created': '2019-07-02 08:30:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/d8b618e288bc12404813796db1410bcf10f8862b', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 6, 'created': '2019-07-02 09:36:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/df220c157e37734e77ee3514165050e8aa1a9678', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 7, 'created': '2019-07-02 09:46:59.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/test_plugins/including_nova_computes.py'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/85d990eb3f04886388f61c7212c3eef59dfc2b51', 'message': 'WIP: Wait for all nova computes to be up before discovery\n\nChange-Id: I43de0460370547bd9c5ff303f8d412f407025331\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,668553,85d990eb3f04886388f61c7212c3eef59dfc2b51,16,4,7,30491,,,0,"WIP: Wait for all nova computes to be up before discovery

Change-Id: I43de0460370547bd9c5ff303f8d412f407025331
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/53/668553/1 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/nova/test_plugins/including_nova_computes.py']",2,c019e73503e7b2a5fa06367823aa60db1050fc8f,bug/1835002,"# Copyright 2019 Radosław Piliszek (yoctozepto) # # Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. # See the License for the specific language governing permissions and # limitations under the License. def is_including_nova_computes(compute_services, nova_compute_hosts): lookup_dict = {} for service in compute_services: lookup_dict[service['Host']] = service for host in nova_compute_hosts: host_service = lookup_dict.get(host) if host_service is None \ or host_service['State'] is not 'up' \ or host_service['Status'] is not 'enabled': return False return True class TestModule(object): def tests(self): return { 'including_nova_computes': is_including_nova_computes, } ",,36,1
openstack%2Fproject-config~master~I7690c7945312988fe06c6d5b16f7a832e54fa350,openstack/project-config,master,I7690c7945312988fe06c6d5b16f7a832e54fa350,Mark networking-ovn-tempest-dsvm-ovs-release voting,ABANDONED,2019-07-02 16:55:59.000000000,2019-07-02 16:56:31.000000000,,[],"[{'number': 1, 'created': '2019-07-02 16:55:59.000000000', 'files': ['grafana/neutron.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/e8954b5249e2638ca7d98a026d37c48e82e07948', 'message': ""Mark networking-ovn-tempest-dsvm-ovs-release voting\n\nnetworking-ovn-tempest-dsvm-ovs-release was changed to\nvoting status in https://review.opendev.org/#/c/640812/\nso remove the 'non-voting' string.\n\nChange-Id: I7690c7945312988fe06c6d5b16f7a832e54fa350\n""}]",0,668714,e8954b5249e2638ca7d98a026d37c48e82e07948,2,0,1,1131,,,0,"Mark networking-ovn-tempest-dsvm-ovs-release voting

networking-ovn-tempest-dsvm-ovs-release was changed to
voting status in https://review.opendev.org/#/c/640812/
so remove the 'non-voting' string.

Change-Id: I7690c7945312988fe06c6d5b16f7a832e54fa350
",git fetch https://review.opendev.org/openstack/project-config refs/changes/14/668714/1 && git format-patch -1 --stdout FETCH_HEAD,['grafana/neutron.yaml'],1,e8954b5249e2638ca7d98a026d37c48e82e07948,ovn-voting," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release')"," - target: alias(movingAverage(asPercent(transformNull(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{FAILURE,TIMED_OUT})),sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT})),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release (non-voting)') - target: alias(summarize(sum(stats_counts.zuul.tenant.openstack.pipeline.check.project.opendev_org.openstack_neutron.master.job.networking-ovn-tempest-dsvm-ovs-release.{SUCCESS,FAILURE,TIMED_OUT}),'24hours'), 'networking-ovn-tempest-dsvm-ovs-release (non-voting)')",2,2
openstack%2Fnetworking-ovn~stable%2Frocky~Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc,openstack/networking-ovn,stable/rocky,Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc,functional: Wait for PB event before binding the port,MERGED,2019-05-30 10:46:15.000000000,2019-07-02 16:54:08.000000000,2019-07-02 16:54:08.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-30 10:46:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bdae32e258ae1c1f79398d16332fb23bff4f7d62', 'message': ""functional: Wait for PB event before binding the port\n\nOn busy boxes there is a chance ovn-northd doesn't create a port binding\nentry quick enough in the Southbound DB when a new logical switch port\nis created. It can happen that test attempts to bind a port that doesn't\nexist in the southbound DB yet, because it's being processed by\novn-northd.\n\nThis patch adds a one time event and the test waits 5 seconds for the\nport binding to be created. Only after that it calls lsp_bind().\n\nThe patch also makes the lsp_bind fails in case of failure inside of\novsdbapp, previously, the exception was swallowed and it made debugging\na lot harder.\n\nIt was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because\nthat's the version that implements WaitEvent class.\n\nUPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the\n        version to 0.12.4 that is about to be released and contains the\n        change this patch requires.\n\nCloses bug: #1830221\n\nDepends-On: https://review.opendev.org/#/c/661797\n\nChange-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc\n(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)\n(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)\n""}, {'number': 2, 'created': '2019-06-13 16:34:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0989f70bd110e925cc172c98a0656b5f1209dee3', 'message': ""functional: Wait for PB event before binding the port\n\nOn busy boxes there is a chance ovn-northd doesn't create a port binding\nentry quick enough in the Southbound DB when a new logical switch port\nis created. It can happen that test attempts to bind a port that doesn't\nexist in the southbound DB yet, because it's being processed by\novn-northd.\n\nThis patch adds a one time event and the test waits 5 seconds for the\nport binding to be created. Only after that it calls lsp_bind().\n\nThe patch also makes the lsp_bind fails in case of failure inside of\novsdbapp, previously, the exception was swallowed and it made debugging\na lot harder.\n\nIt was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because\nthat's the version that implements WaitEvent class.\n\nUPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the\n        version to 0.12.4 that is about to be released and contains the\n        change this patch requires.\n\nCloses bug: #1830221\n\nDepends-On: https://review.opendev.org/#/c/661797\n\nChange-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc\n(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)\n(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)\n""}, {'number': 3, 'created': '2019-06-14 10:28:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/92fd71dde0534e00650f31574157a022895e28d8', 'message': ""functional: Wait for PB event before binding the port\n\nOn busy boxes there is a chance ovn-northd doesn't create a port binding\nentry quick enough in the Southbound DB when a new logical switch port\nis created. It can happen that test attempts to bind a port that doesn't\nexist in the southbound DB yet, because it's being processed by\novn-northd.\n\nThis patch adds a one time event and the test waits 5 seconds for the\nport binding to be created. Only after that it calls lsp_bind().\n\nThe patch also makes the lsp_bind fails in case of failure inside of\novsdbapp, previously, the exception was swallowed and it made debugging\na lot harder.\n\nIt was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because\nthat's the version that implements WaitEvent class.\n\nUPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the\n        version to 0.12.4 that is about to be released and contains the\n        change this patch requires.\n\nCloses bug: #1830221\n\nDepends-On: https://review.opendev.org/#/c/661797\n\nChange-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc\n(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)\n(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)\n""}, {'number': 4, 'created': '2019-06-28 08:48:25.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'networking_ovn/tests/functional/test_metadata_agent.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/495b451e61c24f60c48a0a64214c7cdbfbab414b', 'message': ""functional: Wait for PB event before binding the port\n\nOn busy boxes there is a chance ovn-northd doesn't create a port binding\nentry quick enough in the Southbound DB when a new logical switch port\nis created. It can happen that test attempts to bind a port that doesn't\nexist in the southbound DB yet, because it's being processed by\novn-northd.\n\nThis patch adds a one time event and the test waits 5 seconds for the\nport binding to be created. Only after that it calls lsp_bind().\n\nThe patch also makes the lsp_bind fails in case of failure inside of\novsdbapp, previously, the exception was swallowed and it made debugging\na lot harder.\n\nIt was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because\nthat's the version that implements WaitEvent class.\n\nUPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the\n        version to 0.12.4 that is about to be released and contains the\n        change this patch requires.\n\nCloses bug: #1830221\n\nDepends-On: https://review.opendev.org/#/c/661797\n\nChange-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc\n(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)\n(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)\n""}]",0,662181,495b451e61c24f60c48a0a64214c7cdbfbab414b,15,5,4,8655,,,0,"functional: Wait for PB event before binding the port

On busy boxes there is a chance ovn-northd doesn't create a port binding
entry quick enough in the Southbound DB when a new logical switch port
is created. It can happen that test attempts to bind a port that doesn't
exist in the southbound DB yet, because it's being processed by
ovn-northd.

This patch adds a one time event and the test waits 5 seconds for the
port binding to be created. Only after that it calls lsp_bind().

The patch also makes the lsp_bind fails in case of failure inside of
ovsdbapp, previously, the exception was swallowed and it made debugging
a lot harder.

It was required to bump ovsdbapp version from 0.10.0 to 0.14.0 because
that's the version that implements WaitEvent class.

UPDATE: Rocky has ovsdbapp version of 0.12.3 - this patch bumps the
        version to 0.12.4 that is about to be released and contains the
        change this patch requires.

Closes bug: #1830221

Depends-On: https://review.opendev.org/#/c/661797

Change-Id: Ieb48056ef728b12ced01f2829dc2d57b9bb6b4dc
(cherry picked from commit e9c4a51e8179245eb308d90e1b35baa914227e64)
(cherry picked from commit 57160e81b50b93dbdf64b92c0b4aa5dead7effe2)
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/81/662181/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'networking_ovn/tests/functional/test_metadata_agent.py']",3,bdae32e258ae1c1f79398d16332fb23bff4f7d62,bug/1830221,"# TODO(jlibosva): Move this class to a common place in ovsdbapp. Once it's # released we can just import the class from ovsdbapp class WaitForPortBindingEvent(event.WaitEvent): event_name = 'WaitForPortBindingEvent' def __init__(self, port, timeout=5): super(WaitForPortBindingEvent, self).__init__( (self.ROW_CREATE,), 'Port_Binding', (('logical_port', '=', port),), timeout=timeout) # It may take some time to ovn-northd to translate from OVN NB DB to # the OVN SB DB. Wait for port binding event to happen before binding # the port to chassis. pb_event = WaitForPortBindingEvent(lswitchport_name) self.handler.watch_event(pb_event) with self.nb_api.transaction(check_error=True, log_errors=True) as txn: self.nb_api.ls_add(lswitch_name)) lswitchport_name, lswitch_name)) self.assertTrue(pb_event.wait()) # Trigger PortBindingChassisEvent self.sb_api.lsp_bind(lswitchport_name, self.chassis_name).execute( check_error=True, log_errors=True)"," with self.nb_api.transaction(check_error=True) as txn: self.nb_api.ls_add(lswitch_name, True)) lswitchport_name, lswitch_name, True)) # Trigger PortBindingChassisEvent self.sb_api.lsp_bind(lswitchport_name, self.chassis_name).execute() ",27,7
openstack%2Fnetworking-ovn~stable%2Frocky~Idafb884982743b9e9050ea92ab4f98d7b4928993,openstack/networking-ovn,stable/rocky,Idafb884982743b9e9050ea92ab4f98d7b4928993,Sync sphinx requirements,MERGED,2019-06-14 10:27:35.000000000,2019-07-02 16:54:07.000000000,2019-07-02 16:54:07.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2019-06-14 10:27:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e59b0ef754744bb74e9a5ef022e40535f2f238f4', 'message': 'Sync sphinx requirements\n\nCloses-Bug: #1832831\n\nChange-Id: Idafb884982743b9e9050ea92ab4f98d7b4928993\n'}, {'number': 2, 'created': '2019-06-27 13:11:01.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/504645e8071dc99cd8f99a59b5912fef80a3bab9', 'message': 'Sync sphinx requirements\n\nCloses-Bug: #1832831\n\nChange-Id: Idafb884982743b9e9050ea92ab4f98d7b4928993\n'}]",2,665349,504645e8071dc99cd8f99a59b5912fef80a3bab9,13,7,2,8655,,,0,"Sync sphinx requirements

Closes-Bug: #1832831

Change-Id: Idafb884982743b9e9050ea92ab4f98d7b4928993
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/49/665349/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,e59b0ef754744bb74e9a5ef022e40535f2f238f4,bug/1832831,"sphinx!=1.6.6,!=1.6.7,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fnetworking-ovn~master~I8ad44a236062d23df520646396e459208404a061,openstack/networking-ovn,master,I8ad44a236062d23df520646396e459208404a061,functional: Import event module from ovsdbapp,MERGED,2019-05-30 08:11:29.000000000,2019-07-02 16:54:05.000000000,2019-07-02 16:54:04.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-30 08:11:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/debfdcfb775576ae29730f04797f4c7413af2940', 'message': 'functional: Import event module from ovsdbapp\n\nOriginally the code imported the whole module including tests for\novsdbapp. After [1] is merged, we no longer need those tests and can\nimport only event module.\n\nThis patch attempts to load the new module first. Because the module was\nintroduced in [1], in case of older ovsdbapp version, the import will\nfail. In such case it falls back to original location.\n\n[1] https://review.opendev.org/#/c/661632/\n\nChange-Id: I8ad44a236062d23df520646396e459208404a061\n'}, {'number': 2, 'created': '2019-06-07 15:38:38.000000000', 'files': ['networking_ovn/tests/functional/test_impl_idl.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3ea7064e61066f7f1f5d280a37d2cfc23494f0ac', 'message': 'functional: Import event module from ovsdbapp\n\nOriginally the code imported the whole module including tests for\novsdbapp. After [1] is merged, we no longer need those tests and can\nimport only event module.\n\nThis patch attempts to load the new module first. Because the module was\nintroduced in [1], in case of older ovsdbapp version, the import will\nfail. In such case it falls back to original location.\n\n[1] https://review.opendev.org/#/c/661632/\n\nChange-Id: I8ad44a236062d23df520646396e459208404a061\n'}]",2,662160,3ea7064e61066f7f1f5d280a37d2cfc23494f0ac,13,6,2,8655,,,0,"functional: Import event module from ovsdbapp

Originally the code imported the whole module including tests for
ovsdbapp. After [1] is merged, we no longer need those tests and can
import only event module.

This patch attempts to load the new module first. Because the module was
introduced in [1], in case of older ovsdbapp version, the import will
fail. In such case it falls back to original location.

[1] https://review.opendev.org/#/c/661632/

Change-Id: I8ad44a236062d23df520646396e459208404a061
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/60/662160/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_impl_idl.py'],1,debfdcfb775576ae29730f04797f4c7413af2940,ovsdbapp-adapt,# TODO(jlibosva): ovsdbapp has moved WaitForPortBindingEvent to its own module # To keep backward compatiblity with ovsdbapp it first tries # the new location and in case the module doesn't exist it uses # the old location importing the whole test suite. Remove the # fallback mechanism when we limit ovsdbapp version to the one # containing event module. try: from ovsdbapp.tests.functional import event except ImportError: from ovsdbapp.tests.functional.schema.ovn_southbound \ import test_impl_idl as event class WaitForPortBindingEvent(event.WaitForPortBindingEvent):,from ovsdbapp.tests.functional.schema.ovn_southbound import test_impl_idl as \ test_sb class WaitForPortBindingEvent(test_sb.WaitForPortBindingEvent):,14,3
openstack%2Fnetworking-ovn~master~I600c4d22db71a08b1576bb583620b525aa529264,openstack/networking-ovn,master,I600c4d22db71a08b1576bb583620b525aa529264,Expand the tempest_test_regex variable,MERGED,2019-05-17 12:59:21.000000000,2019-07-02 16:50:18.000000000,2019-07-02 16:50:18.000000000,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-17 12:59:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/88908b4b821641f21af4270368d36ff50029e11d', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-05-17 13:07:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/172ba8168c270c312c1ab40299ffff058264f893', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-05-17 14:34:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/af5a9d897c31580fa52878e192ed5e4f3706cd67', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-05-20 12:58:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e62c8e9616687d3013be18fa0924d94a7ee3bcf4', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-05-21 15:13:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a0ca9b186fa3685ab4858caa37d5fc5f760963b0', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-05-21 16:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bbacf7b2a0587928d24c8c943d425e9650e5ebf5', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-05-21 16:19:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fa174ee24aa5b24557c353f1a931ad030729eaa8', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2019-05-22 10:00:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/86fc2c017b107004c42e598ac610b582cb40c010', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2019-05-22 11:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b947cbc1bdf640784f02a40873f8ac4b73051b44', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2019-05-22 12:24:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6e77ce222880699bdc84106d7755d713bc922ccc', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2019-05-24 14:17:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ce7c590ad0603a5c254d939b9b45c3a1660ecd9b', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 12, 'created': '2019-05-24 15:04:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cee295f49a046b3641fcbf89b2ad3e2e1c15a82f', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 13, 'created': '2019-06-19 09:17:08.000000000', 'files': ['zuul.d/networking-ovn-jobs.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/19f99dcd220dc5713b2267c1a147d36fd63c4a75', 'message': 'Expand the tempest_test_regex variable\n\nThe tempest_test_regex variable from the networking-ovn-jobs.yaml is\njust a long string with no line breaks which makes it really hard to\nread to know what is enabled or disabled in the tempest tests.\n\nThis patch expands that variable to make it more readable and easy to\nexpand/contract if needed.\n\nTrivialFix\n\nChange-Id: I600c4d22db71a08b1576bb583620b525aa529264\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",4,659788,19f99dcd220dc5713b2267c1a147d36fd63c4a75,50,7,13,6773,,,0,"Expand the tempest_test_regex variable

The tempest_test_regex variable from the networking-ovn-jobs.yaml is
just a long string with no line breaks which makes it really hard to
read to know what is enabled or disabled in the tempest tests.

This patch expands that variable to make it more readable and easy to
expand/contract if needed.

TrivialFix

Change-Id: I600c4d22db71a08b1576bb583620b525aa529264
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/88/659788/8 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/networking-ovn-jobs.yaml'],1,88908b4b821641f21af4270368d36ff50029e11d,zuul.d-tempest_test_regex, tempest_test_regex: > ^(?!.* (?:.*\\[.*slow.*\\])| (?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)| (?:tempest.api.network.test_load_balancer.*)|(?:tempest.scenario.test_load_balancer.*)| (?:tempest.api.network.admin.test_load_balancer.*)|(?:tempest.api.network.admin.test_lbaas.*)| (?:tempest.api.network.test_fwaas_extensions.*)|(?:tempest.api.network.test_metering_extensions.*)| (?:tempest.thirdparty.boto.test_s3.*)| (?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)| (?:tempest.api.identity*)| (?:tempest.api.image*)| (?:tempest.api.volume*)| (?:tempest.api.compute.images*)| (?:tempest.api.compute.keypairs*)| (?:tempest.api.compute.certificates*)| (?:tempest.api.compute.flavors*)| (?:tempest.api.compute.test_quotas*)| (?:tempest.api.compute.test_versions*)| (?:tempest.api.compute.volumes*)| (?:tempest.api.compute.admin.test_flavor*)| (?:tempest.api.compute.admin.test_volume*)| (?:tempest.api.compute.admin.test_hypervisor*)| (?:tempest.api.compute.admin.test_aggregate*)| (?:tempest.api.compute.admin.test_quota*)| (?:tempest.scenario.test_volume*)) ((^neutron_tempest_plugin.api)|(^neutron_tempest_plugin.scenario)|(tempest.(api|scenario|thirdparty))).*$," tempest_test_regex: ""^(?!.*(?:.*\\[.*slow.*\\])|(?:tempest.api.network.admin.test_quotas.QuotasTest.test_lbaas_quotas.*)|(?:tempest.api.network.test_load_balancer.*)|(?:tempest.scenario.test_load_balancer.*)|(?:tempest.api.network.admin.test_load_balancer.*)|(?:tempest.api.network.admin.test_lbaas.*)|(?:tempest.api.network.test_fwaas_extensions.*)|(?:tempest.api.network.test_metering_extensions.*)|(?:tempest.thirdparty.boto.test_s3.*)|(?:tempest.scenario.test_network_basic_ops.TestNetworkBasicOps.test_port_security_macspoofing_port)|(?:tempest.api.identity*)|(?:tempest.api.image*)|(?:tempest.api.volume*)|(?:tempest.api.compute.images*)|(?:tempest.api.compute.keypairs*)|(?:tempest.api.compute.certificates*)|(?:tempest.api.compute.flavors*)|(?:tempest.api.compute.test_quotas*)|(?:tempest.api.compute.test_versions*)|(?:tempest.api.compute.volumes*)|(?:tempest.api.compute.admin.test_flavor*)|(?:tempest.api.compute.admin.test_volume*)|(?:tempest.api.compute.admin.test_hypervisor*)|(?:tempest.api.compute.admin.test_aggregate*)|(?:tempest.api.compute.admin.test_quota*)|(?:tempest.scenario.test_volume*))((^neutron_tempest_plugin.api)|(^neutron_tempest_plugin.scenario)|(tempest.(api|scenario|thirdparty))).*$""",26,1
openstack%2Fwatcher~master~I94c2d14477da185310e0fec596a1ad6436b802f1,openstack/watcher,master,I94c2d14477da185310e0fec596a1ad6436b802f1,Configure nova notification_format for grenade,MERGED,2019-06-24 17:10:09.000000000,2019-07-02 16:49:51.000000000,2019-07-02 16:49:51.000000000,"[{'_account_id': 6873}, {'_account_id': 21692}, {'_account_id': 22348}, {'_account_id': 28748}, {'_account_id': 29911}]","[{'number': 1, 'created': '2019-06-24 17:10:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/watcher/commit/476ada9043cb082d73c6fcd8871d7e6231f21522', 'message': 'Configure nova notification_format for grenade\n\nNova changed the default notification_format from ""both"" to\n""unversioned"" in Train [1]. Without configuring nova in the\ngrenade job we are not testing the nova versioned notification\nhandler code during upgrades.\n\nNote that grenade only runs stack.sh on the base (old) side so\nthis change has to depend on a devstack stable/stein change to\nadd the NOVA_NOTIFICATION_FORMAT variable that we override.\n\nCloses-Bug: #1831917\n\nDepends-On: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n\n[1] https://review.opendev.org/603079/\n\nChange-Id: I94c2d14477da185310e0fec596a1ad6436b802f1\n'}, {'number': 2, 'created': '2019-06-25 15:07:00.000000000', 'files': ['devstack/upgrade/settings'], 'web_link': 'https://opendev.org/openstack/watcher/commit/9c9f336f1086256452554b236954753f15b9d4a8', 'message': 'Configure nova notification_format for grenade\n\nNova changed the default notification_format from ""both"" to\n""unversioned"" in Train [1]. Without configuring nova in the\ngrenade job we are not testing the nova versioned notification\nhandler code during upgrades.\n\nNote that grenade only runs stack.sh on the base (old) side so\nthis change has to depend on a devstack stable/stein change to\nadd the NOVA_NOTIFICATION_FORMAT variable that we override.\n\nCloses-Bug: #1831917\n\nDepends-On: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n\n[1] https://review.opendev.org/603079/\n\nChange-Id: I94c2d14477da185310e0fec596a1ad6436b802f1\n'}]",2,667161,9c9f336f1086256452554b236954753f15b9d4a8,18,5,2,6873,,,0,"Configure nova notification_format for grenade

Nova changed the default notification_format from ""both"" to
""unversioned"" in Train [1]. Without configuring nova in the
grenade job we are not testing the nova versioned notification
handler code during upgrades.

Note that grenade only runs stack.sh on the base (old) side so
this change has to depend on a devstack stable/stein change to
add the NOVA_NOTIFICATION_FORMAT variable that we override.

Closes-Bug: #1831917

Depends-On: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0

[1] https://review.opendev.org/603079/

Change-Id: I94c2d14477da185310e0fec596a1ad6436b802f1
",git fetch https://review.opendev.org/openstack/watcher refs/changes/61/667161/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/upgrade/settings'],1,476ada9043cb082d73c6fcd8871d7e6231f21522,bug/1831917, # Enable both versioned and unversioned notifications. Watcher only # uses versioned notifications but ceilometer uses unversioned. We # can change this to just versioned when ceilometer handles # versioned notifications from nova: # https://bugs.launchpad.net/ceilometer/+bug/1665449 devstack_localrc base NOVA_NOTIFICATION_FORMAT=both $BASE_DEVSTACK_BRANCH,,7,0
openstack%2Fopenstack-helm-infra~master~Ib03bb979dc681a647abd36df77f55fd82e0d4df6,openstack/openstack-helm-infra,master,Ib03bb979dc681a647abd36df77f55fd82e0d4df6,Update ldap overrides values file reference,MERGED,2019-07-02 03:10:57.000000000,2019-07-02 16:48:43.000000000,2019-07-02 16:48:43.000000000,"[{'_account_id': 17591}, {'_account_id': 21991}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28735}]","[{'number': 1, 'created': '2019-07-02 03:10:57.000000000', 'files': ['tools/deployment/keystone-auth/070-keystone.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/13c89f97219f386d20c167467ace0c9792fb6a9f', 'message': 'Update ldap overrides values file reference\n\nThe ldap overrides values file had been moved to\nkeystone/values_overrides[1]. This patch is to update the reference.\n\n[1]\nhttps://github.com/openstack/openstack-helm/commit/cede6c0d482b22258c60b6f7ea9e24ac6cfcf68d#diff-89208df3c46570cf56141a9353ce27a7\n\nChange-Id: Ib03bb979dc681a647abd36df77f55fd82e0d4df6\n'}]",0,668579,13c89f97219f386d20c167467ace0c9792fb6a9f,9,5,1,29668,,,0,"Update ldap overrides values file reference

The ldap overrides values file had been moved to
keystone/values_overrides[1]. This patch is to update the reference.

[1]
https://github.com/openstack/openstack-helm/commit/cede6c0d482b22258c60b6f7ea9e24ac6cfcf68d#diff-89208df3c46570cf56141a9353ce27a7

Change-Id: Ib03bb979dc681a647abd36df77f55fd82e0d4df6
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/79/668579/1 && git format-patch -1 --stdout FETCH_HEAD,['tools/deployment/keystone-auth/070-keystone.sh'],1,13c89f97219f386d20c167467ace0c9792fb6a9f,ldap_values, --values=${OSH_PATH}/keystone/values_overrides/ldap.yaml \, --values=${OSH_PATH}/tools/overrides/keystone/ldap_domain_config.yaml \,1,1
openstack%2Fopenstack-helm-infra~master~I4201cc353848a8f121c2a755a93c1b462d1ab816,openstack/openstack-helm-infra,master,I4201cc353848a8f121c2a755a93c1b462d1ab816,Fix templates of alert rules (ceph.rules),MERGED,2019-02-26 04:51:18.000000000,2019-07-02 16:48:42.000000000,2019-07-02 16:48:42.000000000,"[{'_account_id': 8181}, {'_account_id': 17966}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26931}]","[{'number': 1, 'created': '2019-02-26 04:51:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/117dbd3182d3160887bce938c764eeb2d323796d', 'message': 'Fix templates of alert rules (ceph.rules)\n\nThis PS fix templates which generate errors on alert-manager.\n\nChange-Id: I4201cc353848a8f121c2a755a93c1b462d1ab816\n'}, {'number': 2, 'created': '2019-03-06 04:34:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/20af604b78a6d85f8b82135fe938fb86c5ef3276', 'message': 'Fix templates of alert rules (ceph.rules)\n\nThis PS fix templates which generate errors on alert-manager.\n\nChange-Id: I4201cc353848a8f121c2a755a93c1b462d1ab816\n'}, {'number': 3, 'created': '2019-07-02 14:50:37.000000000', 'files': ['prometheus/values.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/fae650722f7db1e0f98b2d5de24c83679a9a2b12', 'message': 'Fix templates of alert rules (ceph.rules)\n\nThis PS fix templates which generate errors on alert-manager.\n\nChange-Id: I4201cc353848a8f121c2a755a93c1b462d1ab816\n'}]",0,639251,fae650722f7db1e0f98b2d5de24c83679a9a2b12,17,6,3,26931,,,0,"Fix templates of alert rules (ceph.rules)

This PS fix templates which generate errors on alert-manager.

Change-Id: I4201cc353848a8f121c2a755a93c1b462d1ab816
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/51/639251/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus/values.yaml'],1,117dbd3182d3160887bce938c764eeb2d323796d,prometheus/fix_rule, description: 'ceph OSD {{ $labels.ceph_daemon }} is down in instance {{ $labels.instance }}' summary: 'ceph OSD {{ $labels.ceph_daemon }} is down in instance {{ $labels.instance }}' description: 'ceph OSD {{ $labels.ceph_daemon }} is out in instance {{ $labels.instance }}' summary: 'ceph OSD {{ $labels.ceph_daemon }} is out in instance {{ $labels.instance }}', description: 'ceph OSD {{ $ceph_daemon }} is down in instance {{ $instance }}' summary: 'ceph OSD {{ $ceph_daemon }} is down in instance {{ $instance }}' description: 'ceph OSD {{ $ceph_daemon }} is out in instance {{ $instance }}' summary: 'ceph OSD {{ $ceph_daemon }} is out in instance {{ $instance }}',4,4
openstack%2Ftripleo-heat-templates~master~I8776a8f1a620ea102681791e5bf2bd368424ffdc,openstack/tripleo-heat-templates,master,I8776a8f1a620ea102681791e5bf2bd368424ffdc,Fix nova compute container depends_on to be list,MERGED,2019-07-02 10:01:07.000000000,2019-07-02 16:47:46.000000000,2019-07-02 16:47:46.000000000,"[{'_account_id': 14985}, {'_account_id': 20172}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-02 10:01:07.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f5295ed3acda48f9d57a51d84929776469c9f7ec', 'message': 'Fix nova compute container depends_on to be list\n\ndepends_on needs to be a list, not a string. Otherwise the Wants=\nentry in the unit file gets created with a wrong dependecy list:\n\nWants=t.service r.service i.service p.service l.service ...\n\nChange-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc\nCloses-Bug: #1835031\n'}]",0,668644,f5295ed3acda48f9d57a51d84929776469c9f7ec,11,6,1,17216,,,0,"Fix nova compute container depends_on to be list

depends_on needs to be a list, not a string. Otherwise the Wants=
entry in the unit file gets created with a wrong dependecy list:

Wants=t.service r.service i.service p.service l.service ...

Change-Id: I8776a8f1a620ea102681791e5bf2bd368424ffdc
Closes-Bug: #1835031
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/668644/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,f5295ed3acda48f9d57a51d84929776469c9f7ec,bug/1835031, depends_on: - tripleo_nova_libvirt, depends_on: tripleo_nova_libvirt,2,1
openstack%2Ftripleo-heat-templates~master~Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f,openstack/tripleo-heat-templates,master,Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f,Run NetworkConfig if never run previously,MERGED,2019-06-28 14:25:03.000000000,2019-07-02 16:47:42.000000000,2019-07-02 16:47:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 14:25:03.000000000', 'files': ['common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/02fe40cd8b26129394ed4a8ccdf2ed3ac94cca78', 'message': 'Run NetworkConfig if never run previously\n\nUpdate the condition to test if NetworkConfig should be run to also\ninclude logic to run if it was never run previously. Matches prior\nbehavior when using a SoftwareDeployment resource\n\nChange-Id: Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f\n'}]",0,668183,02fe40cd8b26129394ed4a8ccdf2ed3ac94cca78,10,5,1,7144,,,0,"Run NetworkConfig if never run previously

Update the condition to test if NetworkConfig should be run to also
include logic to run if it was never run previously. Matches prior
behavior when using a SoftwareDeployment resource

Change-Id: Ibd2c7d96a6ad8d207cbb484b7e211909f897e43f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/83/668183/1 && git format-patch -1 --stdout FETCH_HEAD,['common/deploy-steps.j2'],1,02fe40cd8b26129394ed4a8ccdf2ed3ac94cca78,bp/reduce-deployment-resources, # - Or it has never run ((os_net_config_returncode_slurp.content | b64decode) != 0)) or (not os_net_config_returncode_stat.stat.exists), ((os_net_config_returncode_slurp.content | b64decode) != 0)),3,1
openstack%2Ftripleo-heat-templates~master~I5412f26423a1739088f12705fa47bac2377b9817,openstack/tripleo-heat-templates,master,I5412f26423a1739088f12705fa47bac2377b9817,Use Ansible for vip_data hieradata,MERGED,2019-06-19 21:10:38.000000000,2019-07-02 16:47:38.000000000,2019-07-02 16:47:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-19 21:10:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8d87308d1f03e55365cf0a5cc6fefd6abeb5168a', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 2, 'created': '2019-06-19 21:16:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8b0d3c3de519cf2dee9b02a8bebd730ea9558a54', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 3, 'created': '2019-06-19 21:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/20ef8371ffda3f5bd088c0fbe2ff888d1ffcd34c', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 4, 'created': '2019-06-19 21:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29ad50ab7f9169d7678f85edd68fd7957e65a26c', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 5, 'created': '2019-06-20 01:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8e501937f0f05b8f861a52fccd217798b0068ad6', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 6, 'created': '2019-06-21 11:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/29753614402dee9e2d875bd254c3a6567828db00', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 7, 'created': '2019-06-21 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fa98c4bf6582e7c68ca607c33a09b73a3cc4ff6b', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 8, 'created': '2019-06-22 12:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/c6e865b0bf3e2f7156faee24998af0f0a0302182', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 9, 'created': '2019-06-24 22:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ee84f160de120fbcccaa389214d5e7371b9d8e2', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 10, 'created': '2019-06-24 23:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/b1914d1a91f74217249588438bde8dc1023b3798', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 11, 'created': '2019-06-25 18:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/3377ca1b0d6168d305ca37a11d817a4f73660863', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 12, 'created': '2019-06-26 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4670748fd5237a7fd9e60f767a089ae9d6797ea8', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 13, 'created': '2019-06-27 01:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9737005fd2c40f3824f02f1d84eb51d2e845c931', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 14, 'created': '2019-06-27 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7f78d1e1be4b18bb1c60cdea08a62fab3578e92f', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: I92ac45255bef5186dccbcd3ca0f8aa149e59de54\n'}, {'number': 15, 'created': '2019-06-27 18:18:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7813560413438e885524193577e6abaf36618383', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n'}, {'number': 16, 'created': '2019-06-27 21:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6603208b3da8bcc8954ff5839d962c7eca11c4b5', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n'}, {'number': 17, 'created': '2019-06-27 21:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/56257efeea0c6ace15a17d4eb07eee34468cfd97', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n'}, {'number': 18, 'created': '2019-06-28 14:22:08.000000000', 'files': ['sample-env-generator/ssl.yaml', 'puppet/all-nodes-config.j2.yaml', 'overcloud-resource-registry-puppet.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a7661065743086961b8ef93056b810e7d2a49eda', 'message': 'Use Ansible for vip_data hieradata\n\nMigrates the vip_data hieradata to the tripleo-hieradata role which will\nuse a jinja2 template to create this file on the deployed nodes. Allows\nfor removing the AllNodesConfig resource/template completely.\n\nChange-Id: I5412f26423a1739088f12705fa47bac2377b9817\nDepends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f\n'}]",0,666447,a7661065743086961b8ef93056b810e7d2a49eda,64,5,18,7144,,,0,"Use Ansible for vip_data hieradata

Migrates the vip_data hieradata to the tripleo-hieradata role which will
use a jinja2 template to create this file on the deployed nodes. Allows
for removing the AllNodesConfig resource/template completely.

Change-Id: I5412f26423a1739088f12705fa47bac2377b9817
Depends-On: Iaf91f36a189d8e00627c21f14ca992a4d60fa10f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/47/666447/17 && git format-patch -1 --stdout FETCH_HEAD,"['puppet/all-nodes-config.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2']",3,8d87308d1f03e55365cf0a5cc6fefd6abeb5168a,bp/reduce-deployment-resources," ControlVirtualIP: type: string EnabledNetworks: type: comma_delimited_list NetVipMap: type: json {%- for network in networks if network.enabled|default(true) %} {{network.name}}NetName: default: {{network.name_lower}} description: The name of the {{network.name_lower}} network. type: string {%- endfor %} CloudNames: type: json EnableInternalTLS: type: boolean default: false control_virtual_ip: {get_param: ControlVirtualIP} enabled_networks: {get_param: EnabledNetworks} net_vip_map: {get_param: NetVipMap} {%- for network in networks if network.enabled|default(true) %} {{network.name_lower}}_net_name: {get_param: {{network.name}}NetName} {%- endfor %} network_virtual_ips: ctlplane: ip_address: {get_param: [NetVipMap, ctlplane]} index: 1 {%- for network in networks if network.vip|default(false) and network.enabled|default(true) %} # External virtual ip is currently being handled separately as public_virtual_ip. # Likewise, optional StorageNFS virtual ip is handled separately as ganesha_vip. {%- if network.name != 'External' and network.name != 'StorageNFS' %} {{network.name_lower}}: ip_address: {get_param: [NetVipMap, {get_param: {{network.name}}NetName}]} index: {{loop.index + 1}} {%- endif %} {%- endfor %} cloud_names: {get_param: CloudNames} enable_internal_tls: {get_param: EnableInternalTLS}"," {{role.name}}AllNodesDeploymentHieradata: type: json default: {} - name: AllNodesDeployment hieradata include_role: name: tripleo-hieradata vars: hieradata_template: ""{{role.name}}/all-nodes-deployment-hieradata.j2.yaml"" hieradata_variable_start_string: $$ hieradata_variable_end_string: $$ hieradata_files: ""{{role.name}}/deployment-hierarchy.yaml"" when: tripleo_role_name == '{{role.name}}' {{role.name}}/all-nodes-deployment-hieradata.j2.yaml: {get_param: {{role.name}}AllNodesDeploymentHieradata}",75,146
openstack%2Ftripleo-heat-templates~master~I9a37d1faec73a81a28d8f89d86375fb15ee765c7,openstack/tripleo-heat-templates,master,I9a37d1faec73a81a28d8f89d86375fb15ee765c7,Use Ansible for all_nodes hieradata,MERGED,2019-06-13 18:59:51.000000000,2019-07-02 16:47:32.000000000,2019-07-02 16:47:31.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-13 18:59:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/7145d947b5a6a135559cb65c5ba9e59e9b3a3cc4', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 2, 'created': '2019-06-17 12:16:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0361984506aef53c52ef804e8f6f4695883295ab', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 3, 'created': '2019-06-18 02:48:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f2fa5d4cfa5c80c8b0088dfdc86ac1b55a1eb6ce', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 4, 'created': '2019-06-19 13:39:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/14e2bf58ee291597df0e83459a280ab4e01f667a', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 5, 'created': '2019-06-19 13:43:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/e331f30f02bc4568fe8454f5698abfe86eb140c6', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 6, 'created': '2019-06-19 21:32:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/d822262b1cb6d803df39b34c6dadcd1696c06caf', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 7, 'created': '2019-06-19 21:35:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/2461cf7af2750304be29540f67134023227911d3', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 8, 'created': '2019-06-20 01:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fca50dc8d419242c50e7676b57130d5145baafe', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 9, 'created': '2019-06-21 11:39:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fda77d0c3ce89696d52b02793ddfd18229976eba', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 10, 'created': '2019-06-21 14:15:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bff81c8ce44d8578a7210f1f69e1de41442f2f11', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 11, 'created': '2019-06-22 12:52:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/0fc88248d09db1bc00aebba65ead986c7da1b021', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\n'}, {'number': 12, 'created': '2019-06-24 22:05:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/5a1b7d7742428efc7d037f94e5bad1e47e96b286', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 13, 'created': '2019-06-24 23:54:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f40bf57106077cf2d001ba8fc98ccfd55afd17a2', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 14, 'created': '2019-06-25 18:24:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/88922ffe3cd785df015527fc202345ff7dadbc05', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 15, 'created': '2019-06-26 11:21:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a86031d9da90702905b59d4e55bd82d962ce3a67', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 16, 'created': '2019-06-27 01:23:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/85241bc67d56011c034ca84b58e9da361dcdeb92', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 17, 'created': '2019-06-27 12:49:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/eb7e64243ee3563d04a60de368ed3db2dbe6ffb9', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 18, 'created': '2019-06-27 21:10:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/55a7cead5d60f82390b0cc127d43ed7faf08281e', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 19, 'created': '2019-06-27 21:55:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fda2eb23fa18f0e50fc05788b2a8f7590aa0a686', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}, {'number': 20, 'created': '2019-06-28 14:22:08.000000000', 'files': ['sample-env-generator/standalone.yaml', 'puppet/all-nodes-config.j2.yaml', 'environments/standalone/standalone-tripleo.yaml', 'sample-env-generator/undercloud-minion.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2', 'environments/undercloud/undercloud-minion.yaml', 'common/deploy-steps-tasks.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/4c34147cc1d268116421252d46a7204227f10fb3', 'message': 'Use Ansible for all_nodes hieradata\n\nMigrate the generation of the all_nodes hieradata from Heat to using the\ntripleo-hieradata role instead.\n\nChange-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7\nDepends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8\n'}]",1,665213,4c34147cc1d268116421252d46a7204227f10fb3,79,5,20,7144,,,0,"Use Ansible for all_nodes hieradata

Migrate the generation of the all_nodes hieradata from Heat to using the
tripleo-hieradata role instead.

Change-Id: I9a37d1faec73a81a28d8f89d86375fb15ee765c7
Depends-On: I6e1e1c28dc09c9e04119db910068d62409a5afc8
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/13/665213/16 && git format-patch -1 --stdout FETCH_HEAD,"['sample-env-generator/standalone.yaml', 'environments/standalone/standalone-tripleo.yaml', 'puppet/all-nodes-config.j2.yaml', 'network/ports/net_ip_list_map.j2.yaml', 'overcloud.j2.yaml', 'common/deploy-steps.j2', 'common/deploy-steps-tasks.yaml']",7,7145d947b5a6a135559cb65c5ba9e59e9b3a3cc4,bp/reduce-deployment-resources," when: (groups[item.service_name] | default ([]) | map('extract', hostvars, 'inventory_hostname') | first) == ansible_hostname", when: vars[item.service_name + '_short_bootstrap_node_name'] == ansible_hostname,25,290
openstack%2Ftripleo-common~master~I0ef61bc49d31247a408e340d33a2ae239e1f11fe,openstack/tripleo-common,master,I0ef61bc49d31247a408e340d33a2ae239e1f11fe,Don't force verbosity of 1 for config-download,MERGED,2019-05-20 21:47:00.000000000,2019-07-02 16:37:38.000000000,2019-07-02 16:37:38.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-20 21:47:00.000000000', 'files': ['workbooks/deployment.yaml', 'releasenotes/notes/config-download-verbosity-ab2e89e169c208a7.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/86bb40cf0431b5e94f23771379773a8d33fbe24c', 'message': ""Don't force verbosity of 1 for config-download\n\nInstead, honor the value of verbosity that was specified on the command\nline. This will make the ansible tasks less verbose by default, so that\nwe don't have to add no_log everywhere which actually ends up hiding\nuseful output.\n\nChange-Id: I0ef61bc49d31247a408e340d33a2ae239e1f11fe\nDepends-On: Ib5060a3e9679b105c76c3c72011c23aee0093dc1\n""}]",0,660223,86bb40cf0431b5e94f23771379773a8d33fbe24c,11,5,1,7144,,,0,"Don't force verbosity of 1 for config-download

Instead, honor the value of verbosity that was specified on the command
line. This will make the ansible tasks less verbose by default, so that
we don't have to add no_log everywhere which actually ends up hiding
useful output.

Change-Id: I0ef61bc49d31247a408e340d33a2ae239e1f11fe
Depends-On: Ib5060a3e9679b105c76c3c72011c23aee0093dc1
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/23/660223/1 && git format-patch -1 --stdout FETCH_HEAD,"['workbooks/deployment.yaml', 'releasenotes/notes/config-download-verbosity-ab2e89e169c208a7.yaml']",2,86bb40cf0431b5e94f23771379773a8d33fbe24c,,--- fixes: - The verbosity of the config-download ansible tasks now defaults to 0 instead of 1. This makes the tasks not verbose by default. The verbosity specified on the command line with the deployment command is now honored and can be used to disable verbosity or increase the verbosity level as needed. ,,8,1
openstack%2Fpython-tripleoclient~stable%2Fstein~I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,openstack/python-tripleoclient,stable/stein,I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,Improve validations run outputs through the CLI,MERGED,2019-07-02 09:03:10.000000000,2019-07-02 16:32:47.000000000,2019-07-02 16:32:46.000000000,"[{'_account_id': 11082}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-07-02 09:03:10.000000000', 'files': ['tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/9bd04ae335323e2779937ab47d6370f6a2ac6bbb', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit 1acbef8a0630d2d4a0ae9909269b81364ef481b9)\n""}]",0,668638,9bd04ae335323e2779937ab47d6370f6a2ac6bbb,7,7,1,11491,,,0,"Improve validations run outputs through the CLI

When the tripleo.messaging.v1.send workflow fails with the error
'Workflow failed due to message status', the return message is None and
we don't have more information about what's failing. The same happens if
the validation runs well.

This patch improves the output in case of a messaging workflow failure.

Change-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit 1acbef8a0630d2d4a0ae9909269b81364ef481b9)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/38/668638/1 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py']",3,9bd04ae335323e2779937ab47d6370f6a2ac6bbb,fix_validations_run-stable/stein," if value not in opts: message = (""Invalid choice: {value} (choose from {choice})"" .format(value=value, choice=opts)) raise argparse.ArgumentError(self, message) output = validations.run_validations(clients, workflow_input) for out in output: print('[{}] - {}\n{}'.format( out.get('status'), out.get('validation_name'), oooutils.indent(out.get('stdout'))))"," if value not in opts: message = (""Invalid choice: {value} (choose from {choice})"" .format(value=value, choice=opts)) raise argparse.ArgumentError(self, message) try: output = validations.run_validations(clients, workflow_input) print(oooutils.get_validations_json(output)) except Exception as e: print(_(""Running the validations finished with errors"")) print('Output: {}'.format(e))",21,21
openstack%2Ftripleo-heat-templates~stable%2Fstein~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/stein,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 03:03:43.000000000,2019-07-02 16:32:43.000000000,2019-07-02 16:32:43.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 03:03:43.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/23d2bd9a7d0d1a5945eb7390041ede652b00e265', 'message': ""Add missing tag 'role_specific' for NovaPciPassthrough parameter\n\nChange-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34\nCloses-Bug: #1834557\n(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)\n""}]",0,668577,23d2bd9a7d0d1a5945eb7390041ede652b00e265,8,5,1,18575,,,0,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/77/668577/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,23d2bd9a7d0d1a5945eb7390041ede652b00e265,bug/1834557-stable/stein, tags: - role_specific,,2,0
openstack%2Fcharm-neutron-openvswitch~stable%2F19.04~I224e778de0ed6e279b2de7f4f46781df33121165,openstack/charm-neutron-openvswitch,stable/19.04,I224e778de0ed6e279b2de7f4f46781df33121165,dpdk: misc fixes for EAL initialization,MERGED,2019-07-02 08:43:40.000000000,2019-07-02 16:22:28.000000000,2019-07-02 16:22:28.000000000,"[{'_account_id': 935}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 08:43:40.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_utils.py', 'hooks/neutron_ovs_context.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/bd354841d5422f5d936c9f031228c3d5889368df', 'message': ""dpdk: misc fixes for EAL initialization\n\nFor OpenStack Queens and later instances are setup with vhostuser\nports in server mode, with the OVS side of the port connecting\nas a client to the vhostuser socket on disk; as a result we no\nlonger need to pass permissions information via dpdk-extra (the\ntwo passed options are not valid in later OVS versions).\n\nIn addition, we should also whitelist the devices we're going to\nuse; this ensures that EAL initialization does not take an extended\nperiod of time reducing the amount of time taken to restart OVS.\n\nChange-Id: I224e778de0ed6e279b2de7f4f46781df33121165\nCloses-Bug: 1833734\nCloses-Bug: 1793729\n(cherry picked from commit 3c66c48bbd11922aa4740e752dfdb5e4f35a959d)\n""}]",0,668635,bd354841d5422f5d936c9f031228c3d5889368df,9,4,1,935,,,0,"dpdk: misc fixes for EAL initialization

For OpenStack Queens and later instances are setup with vhostuser
ports in server mode, with the OVS side of the port connecting
as a client to the vhostuser socket on disk; as a result we no
longer need to pass permissions information via dpdk-extra (the
two passed options are not valid in later OVS versions).

In addition, we should also whitelist the devices we're going to
use; this ensures that EAL initialization does not take an extended
period of time reducing the amount of time taken to restart OVS.

Change-Id: I224e778de0ed6e279b2de7f4f46781df33121165
Closes-Bug: 1833734
Closes-Bug: 1793729
(cherry picked from commit 3c66c48bbd11922aa4740e752dfdb5e4f35a959d)
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/35/668635/1 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_ovs_utils.py', 'unit_tests/test_neutron_ovs_context.py', 'hooks/neutron_ovs_context.py', 'hooks/neutron_ovs_utils.py']",4,bd354841d5422f5d936c9f031228c3d5889368df,bug/1833734," ('dpdk-lcore-mask', dpdk_context.cpu_mask()), if not ovs_vhostuser_client(): other_config['dpdk-extra'] = ( '--vhost-owner libvirt-qemu:kvm --vhost-perm 0660 ' + dpdk_context.pci_whitelist() ) else: other_config['dpdk-extra'] = ( dpdk_context.pci_whitelist() ) other_config['dpdk-init'] = 'true'def ovs_vhostuser_client(): ''' Determine whether OVS will act as a client on the vhostuser socket @returns boolean indicating whether OVS will act as a client ''' import apt_pkg ovs_version = get_upstream_version(""openvswitch-switch"") return apt_pkg.version_compare(ovs_version, '2.9.0') >= 0 "," ('pmd-cpu-mask', dpdk_context.cpu_mask()), ('dpdk-extra', '--vhost-owner libvirt-qemu:kvm --vhost-perm 0660'),",136,18
openstack%2Fliberasurecode~master~I1ab792c3c509539a73a1808b8c28c6748185ae00,openstack/liberasurecode,master,I1ab792c3c509539a73a1808b8c28c6748185ae00,Update test to build on FreeBSD 12,MERGED,2019-07-02 15:25:04.000000000,2019-07-02 16:19:49.000000000,2019-07-02 16:19:49.000000000,"[{'_account_id': 15343}, {'_account_id': 20754}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 15:25:04.000000000', 'files': ['test/builtin/rs_vand/liberasurecode_rs_vand_test.c'], 'web_link': 'https://opendev.org/openstack/liberasurecode/commit/135c3a272fccd983174cbfe10ef2b01e142dc4ee', 'message': 'Update test to build on FreeBSD 12\n\nChange-Id: I1ab792c3c509539a73a1808b8c28c6748185ae00\nCloses-Bug: 1835071\n'}]",0,668694,135c3a272fccd983174cbfe10ef2b01e142dc4ee,7,3,1,20754,,,0,"Update test to build on FreeBSD 12

Change-Id: I1ab792c3c509539a73a1808b8c28c6748185ae00
Closes-Bug: 1835071
",git fetch https://review.opendev.org/openstack/liberasurecode refs/changes/94/668694/1 && git format-patch -1 --stdout FETCH_HEAD,['test/builtin/rs_vand/liberasurecode_rs_vand_test.c'],1,135c3a272fccd983174cbfe10ef2b01e142dc4ee,,#include <sys/stat.h>,,1,0
openstack%2Ftripleo-ansible~master~Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122,openstack/tripleo-ansible,master,Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122,Remove ansible from our requirements file,MERGED,2019-07-01 13:43:35.000000000,2019-07-02 16:19:28.000000000,2019-07-02 16:19:28.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-01 13:43:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/57f84e40eeec5b4d2d04558cee0ab47ee31c56a9', 'message': 'Remove ansible from our requirements file\n\nIn order to have tripleo-ansible added to global requirements\nthe ""ansible"" requirement must be removed[0]. This change\ntransitions the requirement from an upstream maintained file\nto our tox config, which we maintained outside of requirements\nand is only ever used in local testing. With this package\nremoved we\'ll be able to have tripleo-ansible part of the\nglobal requirements sync.\n\n[0] - https://review.opendev.org/#/c/667413/1/projects.txt\n\nChange-Id: Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-07-01 14:16:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/fbbac4ee0160b8fc4a7be843db7bc3ab5989aad9', 'message': 'Remove ansible from our requirements file\n\nIn order to have tripleo-ansible added to global requirements\nthe ""ansible"" requirement must be removed[0]. This change\ntransitions the requirement from an upstream maintained file\nto our tox config, which we maintained outside of requirements\nand is only ever used in local testing. With this package\nremoved we\'ll be able to have tripleo-ansible part of the\nglobal requirements sync.\n\n[0] - https://review.opendev.org/#/c/667413/1/projects.txt\n\nChange-Id: Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-07-01 23:33:51.000000000', 'files': ['requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f16b6e0935fa469afea5dc79b060d53e4d2261ac', 'message': 'Remove ansible from our requirements file\n\nIn order to have tripleo-ansible added to global requirements\nthe ""ansible"" requirement must be removed[0]. This change\ntransitions the requirement from an upstream maintained file\nto our tox config, which we maintained outside of requirements\nand is only ever used in local testing. With this package\nremoved we\'ll be able to have tripleo-ansible part of the\nglobal requirements sync.\n\n[0] - https://review.opendev.org/#/c/667413/1/projects.txt\n\nChange-Id: Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,668465,f16b6e0935fa469afea5dc79b060d53e4d2261ac,13,4,3,7353,,,0,"Remove ansible from our requirements file

In order to have tripleo-ansible added to global requirements
the ""ansible"" requirement must be removed[0]. This change
transitions the requirement from an upstream maintained file
to our tox config, which we maintained outside of requirements
and is only ever used in local testing. With this package
removed we'll be able to have tripleo-ansible part of the
global requirements sync.

[0] - https://review.opendev.org/#/c/667413/1/projects.txt

Change-Id: Icf1e636bd1fbb73fd6d06a8e43fe55bcbe482122
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/65/668465/2 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'tox.ini']",2,57f84e40eeec5b4d2d04558cee0ab47ee31c56a9,localTesting, ansible,,1,1
openstack%2Ftripleo-ansible~master~Ib642b8c15224300d727a03146da783f225142c82,openstack/tripleo-ansible,master,Ib642b8c15224300d727a03146da783f225142c82,Remove docker package from bindep,MERGED,2019-07-01 23:30:34.000000000,2019-07-02 16:19:27.000000000,2019-07-02 16:19:27.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-01 23:30:34.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/816462dbf2fd47f18f323ef97071771bf264817d', 'message': ""Remove docker package from bindep\n\nThis change removes the docker package from bindep because it\ncan create a conflict with the way infra installs docker(ce).\nTo ensure we're not installing a conflicting package in test\nwe're removing this package from our general bindep file.\n\nChange-Id: Ib642b8c15224300d727a03146da783f225142c82\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n""}]",0,668566,816462dbf2fd47f18f323ef97071771bf264817d,10,5,1,7353,,,0,"Remove docker package from bindep

This change removes the docker package from bindep because it
can create a conflict with the way infra installs docker(ce).
To ensure we're not installing a conflicting package in test
we're removing this package from our general bindep file.

Change-Id: Ib642b8c15224300d727a03146da783f225142c82
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/66/668566/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,816462dbf2fd47f18f323ef97071771bf264817d,localTesting,, # Required for molecule testing docker,0,3
openstack%2Ftripleo-ansible~master~I19cd58275a0b8f8f84776a98008cd9b10ceda908,openstack/tripleo-ansible,master,I19cd58275a0b8f8f84776a98008cd9b10ceda908,Introduce ansible roles for ceph preparation,MERGED,2019-06-11 21:35:15.000000000,2019-07-02 16:19:26.000000000,2019-07-02 16:19:26.000000000,"[{'_account_id': 6796}, {'_account_id': 7353}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-11 21:35:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/79b02cd056ca7b9b20031c5746435c47f1e9adb1', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 2, 'created': '2019-06-12 02:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/491c6c7aa4e94ec606695ac96addc39faaf5f3f9', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 3, 'created': '2019-06-12 02:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/6899cef940f61bc7c636eb7cd62013a5a42f185e', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 4, 'created': '2019-06-12 21:18:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a13b3635ccfe06c4bc7ca10cfad327accf7fe514', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 5, 'created': '2019-06-13 20:45:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/538ecd8f3440f6af3186b831828d2b9237f35ebd', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 6, 'created': '2019-06-13 20:46:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/2c99611a42ff68c81c5a2d7aaabfb228dfb7c202', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 7, 'created': '2019-06-17 20:07:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/c0916eed6e74cfef00a42f0af2efdf30b5419fa1', 'message': 'WIP: Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 8, 'created': '2019-06-28 14:17:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/69e7c1795dd605f013845cd89fe600115623894d', 'message': 'Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 9, 'created': '2019-06-28 16:41:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/9678cf49465110b65d3c7d43a9604fb69b9b87bc', 'message': 'Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 10, 'created': '2019-06-28 16:46:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/89c5916f9510fc10f423cc759fe7744ac9b6d538', 'message': 'Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}, {'number': 11, 'created': '2019-06-29 15:40:09.000000000', 'files': ['tripleo_ansible/roles/tripleo-ceph-work-dir/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/playbooks/ceph.yaml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/vars/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/get_ssh_private_key.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/README.md', 'tripleo_ansible/roles/tripleo-ceph-uuid/README.md', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/README.md', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/create.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/backup_and_clean.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/4d38019467694469c5df1e549e8a0be73b727814', 'message': 'Introduce ansible roles for ceph preparation\n\nCreate five ansible roles prefixed with ""tripleo-ceph-"" to\nprepare the undercloud to run ceph-ansible. These roles were\npreviously embedded as tasks in tripleo-heat-templates.\nceph-ansible assumes its working directory persists and is\nconfigured by the user manually. TripleO integration requires\nthat these steps be automated and these roles perform that\nautomation.\n\nThe roles may be used to create an ansible working directory\nwith inventory, a ceph-ansible fetch directory, a system uuid\nmap for node-specific-overrides, and runs ceph-ansible with\nthe required options.\n\nAdd ceph.yaml to the playbooks directory which can be used for\ndevelopment of these roles with --skip-tags run_ceph_ansible.\n\nChange-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908\n'}]",51,664706,4d38019467694469c5df1e549e8a0be73b727814,54,6,11,18002,,,0,"Introduce ansible roles for ceph preparation

Create five ansible roles prefixed with ""tripleo-ceph-"" to
prepare the undercloud to run ceph-ansible. These roles were
previously embedded as tasks in tripleo-heat-templates.
ceph-ansible assumes its working directory persists and is
configured by the user manually. TripleO integration requires
that these steps be automated and these roles perform that
automation.

The roles may be used to create an ansible working directory
with inventory, a ceph-ansible fetch directory, a system uuid
map for node-specific-overrides, and runs ceph-ansible with
the required options.

Add ceph.yaml to the playbooks directory which can be used for
development of these roles with --skip-tags run_ceph_ansible.

Change-Id: I19cd58275a0b8f8f84776a98008cd9b10ceda908
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/06/664706/9 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_ansible/roles/tripleo-ceph-work-dir/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-common/defaults/main.yml', 'tripleo_ansible/playbooks/ceph.yaml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/vars/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/get_ssh_private_key.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/create.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-fetch-dir/tasks/backup_and_clean.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/meta/main.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/gather.yml', 'tripleo_ansible/roles/tripleo-ceph-work-dir/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-uuid/tasks/prepare.yml', 'tripleo_ansible/roles/tripleo-ceph-run-ansible/tasks/main.yml']",17,79b02cd056ca7b9b20031c5746435c47f1e9adb1,ceph_refactor,"--- - name: set ceph-ansible playbook list set_fact: ceph_ansible_playbooks: > {%- if ceph_ansible_playbooks_param != ['default'] -%} {{ ceph_ansible_playbooks_param }} {%- else -%} {{ ceph_ansible_playbooks_default|default(['/usr/share/ceph-ansible/site-container.yml.sample']) }} {%- endif -%} - name: set ceph-ansible command list set_fact: ceph_ansible_command_list: - ANSIBLE_ACTION_PLUGINS=/usr/share/ceph-ansible/plugins/actions/ - ANSIBLE_CALLBACK_PLUGINS=/usr/share/ceph-ansible/plugins/callback/ - ANSIBLE_ROLES_PATH=/usr/share/ceph-ansible/roles/ - ANSIBLE_LOG_PATH=""{{playbook_dir}}/ceph-ansible/ceph_ansible_command.log"" - ANSIBLE_LIBRARY=/usr/share/ceph-ansible/library/ - ANSIBLE_CONFIG=/usr/share/ceph-ansible/ansible.cfg - ANSIBLE_REMOTE_TEMP=/tmp/ceph_ansible_tmp - ANSIBLE_FORKS=25 - ANSIBLE_GATHER_TIMEOUT=60 - ""{{ ceph_ansible_environment_variables|join(' ') }}"" - ansible-playbook - '{% if ceph_ansible_private_key_file is defined %}--private-key {{ceph_ansible_private_key_file}}{% endif %}' - '{% if ansible_python_interpreter is defined %}-e ansible_python_interpreter={{ansible_python_interpreter}}{% endif %}' - '-{%- for number in range(0, ceph_ansible_playbook_verbosity) -%}v{% endfor %}' - '{% if ceph_ansible_skip_tags is defined %}--skip-tags {{ceph_ansible_skip_tags}}{% endif %}' - '-i' - '{{playbook_dir}}/ceph-ansible/inventory.yml' - '--extra-vars' - '@{{playbook_dir}}/ceph-ansible/extra_vars.yml' - name: save ceph-ansible playbook command(s) to shell script copy: dest: ""{{playbook_dir}}/ceph-ansible/ceph_ansible_command.sh"" mode: '0755' content: | #!/usr/bin/env bash set -e {% for playbook in ceph_ansible_playbooks %} echo ""Running ceph-ansible playbook {{playbook}}"" {{ ceph_ansible_command_list|join(' ') }} {{playbook}} 2>&1 {% endfor %} - name: run ceph-ansible (immediate log at {{playbook_dir}}/ceph-ansible/ceph_ansible_command.log) # Needs become to be able to read the ssh private key become: true shell: ""{{playbook_dir}}/ceph-ansible/ceph_ansible_command.sh"" # We want the output chunked into bits to prevent # overflowing Zaqar message size no_log: true failed_when: false register: outputs tags: run_ceph_ansible - name: print ceph-ansible output in case of failure debug: var: outputs.stdout_lines | default([]) | union(outputs.stderr_lines | default([])) failed_when: outputs.rc != 0 when: - outputs.changed - outputs.rc != 0 tags: run_ceph_ansible ",,430,0
openstack%2Fproject-config~master~Iecf1030a69310af674120ee919ae613b23ade285,openstack/project-config,master,Iecf1030a69310af674120ee919ae613b23ade285,Zuul-jobs: load extra config in openstack tenant,MERGED,2019-07-02 15:53:07.000000000,2019-07-02 16:17:01.000000000,2019-07-02 16:17:01.000000000,"[{'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 15:53:07.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/a8fec769be694c22d6e2d67fc1dd924fd55e7028', 'message': ""Zuul-jobs: load extra config in openstack tenant\n\nBefore we can move gating for this repo into the zuul tenant, we\nhave to finish moving the rest of the jobs currently defined in\nthe openstack tenant in-repo.  Since they are gating in the\nopenstack tenant, let's load the extra config there for now.\n\nChange-Id: Iecf1030a69310af674120ee919ae613b23ade285\n""}]",0,668703,a8fec769be694c22d6e2d67fc1dd924fd55e7028,7,3,1,1,,,0,"Zuul-jobs: load extra config in openstack tenant

Before we can move gating for this repo into the zuul tenant, we
have to finish moving the rest of the jobs currently defined in
the openstack tenant in-repo.  Since they are gating in the
openstack tenant, let's load the extra config there for now.

Change-Id: Iecf1030a69310af674120ee919ae613b23ade285
",git fetch https://review.opendev.org/openstack/project-config refs/changes/03/668703/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,a8fec769be694c22d6e2d67fc1dd924fd55e7028,, extra-config-paths: - zuul-tests.d/ - zuul/zuul-jobs, - zuul/zuul-jobs: extra-config-paths: - zuul-tests.d/,3,3
openstack%2Fneutron~master~Ic6966d466aea10a3ac79441c6b401368787212a9,openstack/neutron,master,Ic6966d466aea10a3ac79441c6b401368787212a9,DNM: testing br-vlan,ABANDONED,2019-06-05 06:52:32.000000000,2019-07-02 16:16:44.000000000,,"[{'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-05 06:52:32.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d997026501d1388f29c1274ffaa02def94392412', 'message': 'DNM: testing br-vlan\n\nChange-Id: Ic6966d466aea10a3ac79441c6b401368787212a9\n'}]",0,663250,d997026501d1388f29c1274ffaa02def94392412,5,3,1,9531,,,0,"DNM: testing br-vlan

Change-Id: Ic6966d466aea10a3ac79441c6b401368787212a9
",git fetch https://review.opendev.org/openstack/neutron refs/changes/50/663250/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,d997026501d1388f29c1274ffaa02def94392412,test_br_vlan," bridge_mappings: public:br-ex,foo:br-vlan bridge_mappings: public:br-ex,foo:br-vlan", bridge_mappings: public:br-ex bridge_mappings: public:br-ex,2,2
openstack%2Fneutron-tempest-plugin~master~I5bdb33f4615c5bb452f038238bc5b42382b5b657,openstack/neutron-tempest-plugin,master,I5bdb33f4615c5bb452f038238bc5b42382b5b657,Add case of east-west traffic for vlan networks,ABANDONED,2019-06-04 03:25:55.000000000,2019-07-02 16:15:58.000000000,,"[{'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-04 03:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/34d678c6d38d3c72d6a85e20dd4046075bbcf693', 'message': 'Add router east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}, {'number': 2, 'created': '2019-06-04 04:48:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/96cb021a08f3826ba1ffb62ec5d11f21eacb9fc9', 'message': 'Add router east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}, {'number': 3, 'created': '2019-06-04 05:53:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/fe3756915a4edf5efb4e77d4d3cf7f25f5bfa793', 'message': 'Add router east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}, {'number': 4, 'created': '2019-06-04 07:41:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/e7b6207f6f3d8b9a3f929857cc670ea6cede22c2', 'message': 'Add router east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}, {'number': 5, 'created': '2019-06-04 09:57:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d2fb60e75e06436f9288d2bbbc07f92b0dc2bfd6', 'message': 'Add router east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}, {'number': 6, 'created': '2019-06-04 16:34:10.000000000', 'files': ['neutron_tempest_plugin/api/base.py', 'neutron_tempest_plugin/scenario/test_connectivity.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/9f8a8e92f127c8fc208dcc4f078aa60536546250', 'message': 'Add case of east-west traffic for vlan networks\n\nVlan connectivity testing for distributed router should be covered.\n\nDepends-On: https://review.opendev.org/#/c/663008/\n\nRelated-Bug: #1831534\nChange-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657\n'}]",0,662925,9f8a8e92f127c8fc208dcc4f078aa60536546250,14,3,6,9531,,,0,"Add case of east-west traffic for vlan networks

Vlan connectivity testing for distributed router should be covered.

Depends-On: https://review.opendev.org/#/c/663008/

Related-Bug: #1831534
Change-Id: I5bdb33f4615c5bb452f038238bc5b42382b5b657
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/25/662925/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_tempest_plugin/scenario/test_connectivity.py'],1,34d678c6d38d3c72d6a85e20dd4046075bbcf693,bug/1831534," def _test_connectivity_router_east_west_traffic(self, vlan=False): if vlan: net_1 = self.create_network(provider_network_type=""vlan"", provider_physical_network=""foo"") net_2 = self.create_network(provider_network_type=""vlan"", provider_physical_network=""foo"") else: net_1 = self.create_network() net_2 = self.create_network() @decorators.idempotent_id('b72c3b77-3396-4144-b05d-9cd3c0099893') def test_connectivity_router_east_west_traffic(self): self._test_connectivity_router_east_west_traffic() @decorators.idempotent_id('2ec30dd9-e5d1-4937-9f62-d2e6bfe2894b') def test_connectivity_router_east_west_traffic_vlan(self): self._test_connectivity_router_east_west_traffic(vlan=True)", @decorators.idempotent_id('b72c3b77-3396-4144-b05d-9cd3c0099893') def test_connectivity_router_east_west_traffic(self): net_1 = self.create_network() net_2 = self.create_network(),18,4
openstack%2Fnetworking-midonet~master~Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,openstack/networking-midonet,master,Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b,Add bindep.txt to fix unit tests,MERGED,2019-06-26 05:48:19.000000000,2019-07-02 16:02:32.000000000,2019-07-02 16:02:32.000000000,"[{'_account_id': 156}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 1653}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 17685}, {'_account_id': 19307}, {'_account_id': 22348}, {'_account_id': 26127}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-06-26 05:48:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/3c2da0bd196050c41f474a496f903bb8022baaaa', 'message': 'Add bindep.txt to fix unit tests\n\nThe unit tests fail since no mysqladmin command is installed, add\nbindep.txt to install the needed binaries in our CI environment.\n\nAdd also the usual bindep tox environment for developers.\n\nChange-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b\n'}, {'number': 2, 'created': '2019-06-26 06:35:02.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-midonet/commit/5a978840f0c9550b8fa51f84c67c5649caf0ae37', 'message': 'Add bindep.txt to fix unit tests\n\nThe unit tests fail since no mysqladmin command is installed, add\nbindep.txt to install the needed binaries in our CI environment.\n\nAdd also the usual bindep tox environment for developers.\n\nChange-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b\n'}]",0,667513,5a978840f0c9550b8fa51f84c67c5649caf0ae37,9,15,2,6547,,,0,"Add bindep.txt to fix unit tests

The unit tests fail since no mysqladmin command is installed, add
bindep.txt to install the needed binaries in our CI environment.

Add also the usual bindep tox environment for developers.

Change-Id: Ie49b7703dbe5ebf66d9c0abd1bee830044f6b71b
",git fetch https://review.opendev.org/openstack/networking-midonet refs/changes/13/667513/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,3c2da0bd196050c41f474a496f903bb8022baaaa,bindep," # This environment can be used to quickly validate that all needed system # packages required to successfully execute test targets are installed [testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files. deps = bindep commands = bindep test",,36,0
openstack%2Fopenstack-helm-infra~master~I049c696c7fb0d7cadb527a9f17dd01a42a671baa,openstack/openstack-helm-infra,master,I049c696c7fb0d7cadb527a9f17dd01a42a671baa,ignore errors if set zuul_site_mirror_fqdn fails,MERGED,2019-07-01 13:26:21.000000000,2019-07-02 15:47:19.000000000,2019-07-02 15:47:19.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28735}]","[{'number': 1, 'created': '2019-07-01 13:26:21.000000000', 'files': ['roles/build-images/tasks/kubeadm-aio.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/1ef750c8bb41908390427e5378b55acbf2d276c7', 'message': 'ignore errors if set zuul_site_mirror_fqdn fails\n\nIt can be that zuul_site_mirror_fqdn env variable will not be set,\nin this case the whole job will fail, instead of simply not configuring\nmirrors during image build. With this patch, if set_fact fails, mirrors\nsimply will not be configured during image build, as planned in lines 62\nand 88 in this playbook\n\nChange-Id: I049c696c7fb0d7cadb527a9f17dd01a42a671baa\n'}]",0,668461,1ef750c8bb41908390427e5378b55acbf2d276c7,8,4,1,21991,,,0,"ignore errors if set zuul_site_mirror_fqdn fails

It can be that zuul_site_mirror_fqdn env variable will not be set,
in this case the whole job will fail, instead of simply not configuring
mirrors during image build. With this patch, if set_fact fails, mirrors
simply will not be configured during image build, as planned in lines 62
and 88 in this playbook

Change-Id: I049c696c7fb0d7cadb527a9f17dd01a42a671baa
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/61/668461/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/build-images/tasks/kubeadm-aio.yaml'],1,1ef750c8bb41908390427e5378b55acbf2d276c7,, ignore_errors: True,,1,0
openstack%2Fopenstack-helm-infra~master~I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1,openstack/openstack-helm-infra,master,I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1,Grafana: Remove tests that query API,MERGED,2019-06-26 14:29:40.000000000,2019-07-02 15:47:18.000000000,2019-07-02 15:47:18.000000000,"[{'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28849}]","[{'number': 1, 'created': '2019-06-26 14:29:40.000000000', 'files': ['grafana/values.yaml', 'grafana/templates/bin/_helm-tests.sh.tpl', 'grafana/templates/pod-helm-tests.yaml', 'grafana/templates/configmap-bin.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7290b7ffefc50c6ae002546d979bfa7649c5ab6', 'message': ""Grafana: Remove tests that query API\n\nThis removes the tests that query the Grafana API for checking\nwhether the prometheus datasource has been provisioned and for\nchecking the number of active dashboards against the number of\nexpected dashboards determined via the chart's values.yaml.\n\nThe reason for removing these is that Grafana can be configured\nto use data source types beyond just Prometheus and additional\ndashboards can be added to Grafana via the Grafana UI.  In cases\nwhere dashboards are added via the Grafana UI, they are persisted\nin the grafana database which will cause helm test failures during\nupgrade scenarios.  Now that we have selenium tests executed as\npart of the Grafana helm tests that validate Grafana is\nfunctional, these API tests add little value\n\nChange-Id: I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1\nSigned-off-by: Steve Wilkerson <sw5822@att.com>\n""}]",0,667634,c7290b7ffefc50c6ae002546d979bfa7649c5ab6,8,4,1,17591,,,0,"Grafana: Remove tests that query API

This removes the tests that query the Grafana API for checking
whether the prometheus datasource has been provisioned and for
checking the number of active dashboards against the number of
expected dashboards determined via the chart's values.yaml.

The reason for removing these is that Grafana can be configured
to use data source types beyond just Prometheus and additional
dashboards can be added to Grafana via the Grafana UI.  In cases
where dashboards are added via the Grafana UI, they are persisted
in the grafana database which will cause helm test failures during
upgrade scenarios.  Now that we have selenium tests executed as
part of the Grafana helm tests that validate Grafana is
functional, these API tests add little value

Change-Id: I9f20ca28e9c840fb3f4fa0707a43c9419fafa2c1
Signed-off-by: Steve Wilkerson <sw5822@att.com>
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/34/667634/1 && git format-patch -1 --stdout FETCH_HEAD,"['grafana/values.yaml', 'grafana/templates/bin/_helm-tests.sh.tpl', 'grafana/templates/pod-helm-tests.yaml', 'grafana/templates/configmap-bin.yaml']",4,c7290b7ffefc50c6ae002546d979bfa7649c5ab6,update-grafana-tests,," helm-tests.sh: | {{ tuple ""bin/_helm-tests.sh.tpl"" . | include ""helm-toolkit.utils.template"" | indent 4 }}",0,81
openstack%2Fheat~master~Ic88257fd36bdde884e8ac4f17186c42b76ec538b,openstack/heat,master,Ic88257fd36bdde884e8ac4f17186c42b76ec538b,Log args during list_concat,MERGED,2019-02-07 21:29:08.000000000,2019-07-02 15:43:54.000000000,2019-07-02 15:43:54.000000000,"[{'_account_id': 3153}, {'_account_id': 4257}, {'_account_id': 7144}, {'_account_id': 12404}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-07 21:29:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/be7a31e2307e8773aad6d99964491651566c55af', 'message': ""Log args during list_concat\n\nlist_concat checks that all args are lists. If that fails, the exception\nwill now show which args aren't a list, and show all the args. This is\nuseful context to help find the error in the template.\n\nChange-Id: Ic88257fd36bdde884e8ac4f17186c42b76ec538b\n""}, {'number': 2, 'created': '2019-03-26 23:38:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/heat/commit/614c8f715c58838e7b67686b9e382a77b488f3c3', 'message': ""Log args during list_concat\n\nlist_concat checks that all args are lists. If that fails, the exception\nwill now show which args aren't a list, and show all the args. This is\nuseful context to help find the error in the template.\n\nChange-Id: Ic88257fd36bdde884e8ac4f17186c42b76ec538b\n""}, {'number': 3, 'created': '2019-03-27 01:54:58.000000000', 'files': ['heat/engine/hot/functions.py'], 'web_link': 'https://opendev.org/openstack/heat/commit/a8c44bddaaa40828981a10f20c0cedb22540751f', 'message': ""Log args during list_concat\n\nlist_concat checks that all args are lists. If that fails, the exception\nwill now show which args aren't a list, and show all the args. This is\nuseful context to help find the error in the template.\n\nChange-Id: Ic88257fd36bdde884e8ac4f17186c42b76ec538b\n""}]",6,635651,a8c44bddaaa40828981a10f20c0cedb22540751f,38,5,3,7144,,,0,"Log args during list_concat

list_concat checks that all args are lists. If that fails, the exception
will now show which args aren't a list, and show all the args. This is
useful context to help find the error in the template.

Change-Id: Ic88257fd36bdde884e8ac4f17186c42b76ec538b
",git fetch https://review.opendev.org/openstack/heat refs/changes/51/635651/1 && git format-patch -1 --stdout FETCH_HEAD,['heat/engine/hot/functions.py'],1,be7a31e2307e8773aad6d99964491651566c55af,635651," msg = _('Incorrect arguments: Items to concat must be lists. ' 'Item that is not a list: %{item}s. ' 'All items: %{args}s.') raise TypeError(msg % dict(item=m, args=args))", msg = _('Incorrect arguments: Items to concat must be lists.') raise TypeError(msg),4,2
openstack%2Fcharm-guide~master~I941a67dcb98b50bb2bd842e93664194fb9015533,openstack/charm-guide,master,I941a67dcb98b50bb2bd842e93664194fb9015533,Add a section on unit test philosophy,MERGED,2019-06-21 13:04:59.000000000,2019-07-02 15:37:38.000000000,2019-07-02 15:37:38.000000000,"[{'_account_id': 7730}, {'_account_id': 13686}, {'_account_id': 20805}, {'_account_id': 22348}, {'_account_id': 26040}]","[{'number': 1, 'created': '2019-06-21 13:04:59.000000000', 'files': ['doc/source/testing.rst'], 'web_link': 'https://opendev.org/openstack/charm-guide/commit/96e2d23f0f809078c0fa4e47c85579a8c65e1dbb', 'message': 'Add a section on unit test philosophy\n\nChange-Id: I941a67dcb98b50bb2bd842e93664194fb9015533\n'}]",0,666832,96e2d23f0f809078c0fa4e47c85579a8c65e1dbb,9,5,1,20870,,,0,"Add a section on unit test philosophy

Change-Id: I941a67dcb98b50bb2bd842e93664194fb9015533
",git fetch https://review.opendev.org/openstack/charm-guide refs/changes/32/666832/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/testing.rst'],1,96e2d23f0f809078c0fa4e47c85579a8c65e1dbb,add-unit-test-philosophy,"Writing Unit Tests ~~~~~~~~~~~~~~~~~~ Writing software, and functions, is an art. It's a balance of conciseness, simplicity, ergonomics and readability. To produce software that *only* meets the feature needs, whilst being maintainable and correct for the life of the program. Writing unit tests is, similarly, an art. The objective is to write tests that correctly determine that what a function *does* is correct, rather than *how* the function achieves it - with the exception, in some cases, of performance. But that's another whole ball-game. The goal is, for each function under test, is to verify that the *outputs* of the function are correct for comprehensive sets of *inputs* to the function. What is not the objective is to test the *internal* implementation of the function. It's worth exploring what are the *inputs* and *outputs* of a function, and that depends on whether the function is *pure* or *impure*. A *pure* function is one that is always returns the same results for the same set of values passed to the function. This means that there are no (input) side-effects or dependencies on any other state outside of the function. A pure function is analogous, algorithimically, to a mathematical function. *Pure* functions also can only call other pure functions. i.e. a pure function isn't pure if *it* calls a function that is impure. Impurity at a particular level 'infects' every caller of that function. An *impure* function is basically a function that is not a pure function. i.e. it may depend on a global variable, or obtain inputs from side-effects (such as reading IO functions). It is also impure if it has any output side-effects. So, in addition to the parameters passed to a function, other inputs (within a function) are accessing functions that access global state. e.g. the ``config()`` function, relation functions, and reading from files, or the network. Also, in addition to the return value of a function, other outputs (within the function) are writing to files, using the network, calling subprocess calls, and other IO operations. So the goal with unit-testing a function depends on the purity of the function: * Pure functions require no mocking. The object is to verify that for combinations of input parameter values, that the correct return values are presented. As pure functions are pure 'all the way down', no mocking is required, as they will always be consistent for any set of inputs. Pure functions are also fantastic opportunities to use property-based testing. However, most of the work in a charm is *all about side-effects*, so most functions are *impure*. * Impure functions require mocking. The goal is to isolate the function-under-test from it's side-effects so that *only* the function is being checked. If the function calls *other* impure functions, they should be mocked out. Tests for a function should *only* test that function, and not other functions as a by-product. Strategies for writing Unit Tests ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~ It's important to test *what* a function does, not *how* the function does it. This is basically a re-statement of the idea to not test the implementation of a function, but rather the output (and with respect to impure functions) the side-effects. If the unit test is dependent on the implementation of the function (not with respect to side-effects), then that *locks in* the implementation, which makes refactoring much harder. i.e. To refactor a function that does the *same* thing, the unit test would also have to change. This is the sign of a poor unit test. Individual unit tests should be small and test *one* activation of the function-under-test. This way, behaviour changes during refactoring, or adding features, will break the smallest number of tests, and show what behaviour has changed quickly. Complex unit tests are more fragile and tend to therefore come with a higher maintenance burden. With impure functions, it's important to mock out the side-effects so that the test doesn't also test other side-effect functions. ",,81,0
openstack%2Fcharm-neutron-openvswitch~master~Ica9848dcefb43f8a05546b77024d4b7d35dde4f9,openstack/charm-neutron-openvswitch,master,Ica9848dcefb43f8a05546b77024d4b7d35dde4f9,Add extra DEBUG logging for DPDK,MERGED,2019-06-07 08:41:31.000000000,2019-07-02 15:30:10.000000000,2019-07-02 15:30:10.000000000,"[{'_account_id': 12549}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 08:41:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d803e2633f1701142449327cee58c76e4e16a88e', 'message': 'Add extra DEBUG logging for DPDK\n\nTo improve visibility of DPDK configuration issues, sprinkle\nDPDK part of configure_ovs with lots of DEBUG level log messages.\n\nChange-Id: Ica9848dcefb43f8a05546b77024d4b7d35dde4f9\n'}, {'number': 2, 'created': '2019-07-02 14:54:31.000000000', 'files': ['hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/365ff6cec46e50b712442b88b53c9a2753111f3f', 'message': 'Add extra DEBUG logging for DPDK\n\nTo improve visibility of DPDK configuration issues, sprinkle\nDPDK part of configure_ovs with lots of DEBUG level log messages.\n\nChange-Id: Ica9848dcefb43f8a05546b77024d4b7d35dde4f9\n'}]",0,663861,365ff6cec46e50b712442b88b53c9a2753111f3f,13,5,2,935,,,0,"Add extra DEBUG logging for DPDK

To improve visibility of DPDK configuration issues, sprinkle
DPDK part of configure_ovs with lots of DEBUG level log messages.

Change-Id: Ica9848dcefb43f8a05546b77024d4b7d35dde4f9
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/61/663861/2 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,d803e2633f1701142449327cee58c76e4e16a88e,extra-dpdk-logging," DEBUG, log('Configuring bridges with DPDK', level=DEBUG) log('bridgemaps: {}'.format(bridgemaps), level=DEBUG) log('Adding DPDK bridge: {}:{}'.format(br, datapath_type), level=DEBUG) log('Adding DPDK port: {}:{}:{}'.format(br, portname, pci_address), level=DEBUG) log('Configuring bridges with modern_ovs/DPDK', level=DEBUG) log('bondmaps: {}'.format(bondmaps), level=DEBUG) log('portmap: {}'.format(portmap), level=DEBUG) log('Adding DPDK bridge: {}:{}'.format(portmap[bond], datapath_type), level=DEBUG) log('bridge_bond_map: {}'.format(bridge_bond_map), level=DEBUG) log('Adding DPDK bond: {}:{}:{}'.format(br, bond, port_map), level=DEBUG) log('Configuring DPDK bond: {}:{}'.format( bond, bond_configs.get_bond_config(bond)), level=DEBUG)",,24,0
openstack%2Fpython-tripleoclient~stable%2Fstein~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,stable/stein,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-07-02 05:37:07.000000000,2019-07-02 15:12:25.000000000,2019-07-02 11:36:06.000000000,"[{'_account_id': 11082}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 05:37:07.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f78809a3e3122f268bcc8fa1a9c12974735654b9', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)\n'}]",0,668596,f78809a3e3122f268bcc8fa1a9c12974735654b9,9,4,1,28223,,,0,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
(cherry picked from commit bd354f1fc8ae7a36898a22e01e52815d85d8378d)
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/96/668596/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,f78809a3e3122f268bcc8fa1a9c12974735654b9,bug/1834307-stable/stein, # Check networks_file existence if parsed_args.networks_file: if not os.path.isfile(parsed_args.networks_file): nonexisting_envs.append(parsed_args.networks_file) # check plan_environment_file existence if parsed_args.plan_environment_file: if not os.path.isfile(parsed_args.plan_environment_file): nonexisting_envs.append(parsed_args.plan_environment_file) # check answers_file existence if parsed_args.answers_file: if not os.path.isfile(parsed_args.answers_file): nonexisting_envs.append(parsed_args.answers_file) ,,16,0
openstack%2Fproject-config~master~I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e,openstack/project-config,master,I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e,Cache dstast_graph on nodepool images,MERGED,2019-07-02 14:33:36.000000000,2019-07-02 15:10:50.000000000,2019-07-02 15:10:50.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 14:33:36.000000000', 'files': ['nodepool/elements/cache-devstack/source-repository-dstat_graph'], 'web_link': 'https://opendev.org/openstack/project-config/commit/fc792f33712acdb06dcb6431bb78ba903482320a', 'message': 'Cache dstast_graph on nodepool images\n\nSo that we can create dstat graphs at the end of devstack and other\njobs, cache the dstat_graph repository on our images.\n\ndstat_graph is MIT licensed, but as far as I can tell, does not\nhave a release and is not packaged in Debian or Ubuntu.\n\nChange-Id: I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e\n'}]",0,668683,fc792f33712acdb06dcb6431bb78ba903482320a,7,3,1,1,,,0,"Cache dstast_graph on nodepool images

So that we can create dstat graphs at the end of devstack and other
jobs, cache the dstat_graph repository on our images.

dstat_graph is MIT licensed, but as far as I can tell, does not
have a release and is not packaged in Debian or Ubuntu.

Change-Id: I6cb0aa525dca0ee700d2d7548ccbb8d6af6ae92e
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/668683/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/elements/cache-devstack/source-repository-dstat_graph'],1,fc792f33712acdb06dcb6431bb78ba903482320a,,dstat_graph git /opt/cache/dstat_graph/ https://github.com/Dabz/dstat_graph ,,1,0
openstack%2Fnetworking-ovn~master~I42b5abee298dd352f968f80031c15d784e3205f0,openstack/networking-ovn,master,I42b5abee298dd352f968f80031c15d784e3205f0,DNM: DVR multinode tempest job,ABANDONED,2018-12-14 13:11:06.000000000,2019-07-02 15:02:45.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2018-12-14 13:11:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d71a4e500498a1bc26c8adc8fa1712464ed706fc', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-12-14 13:27:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/be99fec0114e238d73a37cf199ad0c35110a5c8d', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2018-12-14 13:30:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6d58324951a649243a60fc29df7ae1feb986e7c0', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 4, 'created': '2018-12-14 13:30:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2625d7f3aaca65868a1b7a6b35d715e481cc60be', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 5, 'created': '2018-12-14 13:33:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/33c8f9856d53e1760741c8aa4c1ef80f347a298e', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 6, 'created': '2018-12-14 15:26:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8040839077f9292b78f0215a13ac09c13ec1feb9', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 7, 'created': '2018-12-14 16:21:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c7db641e7a4dd40557ec866c7d78ac825779d45d', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 8, 'created': '2018-12-14 16:24:46.000000000', 'files': ['zuul.d/networkin-ovn-jobs.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8754f95dac5b260f59aa5597228ed13a8e53c90c', 'message': 'DNM: DVR multinode tempest job\n\nChange-Id: I42b5abee298dd352f968f80031c15d784e3205f0\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",5,625252,8754f95dac5b260f59aa5597228ed13a8e53c90c,15,1,8,23804,,,0,"DNM: DVR multinode tempest job

Change-Id: I42b5abee298dd352f968f80031c15d784e3205f0
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/52/625252/5 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/networkin-ovn-jobs.yaml', 'devstack/lib/networking-ovn', 'zuul.d/project.yaml']",3,d71a4e500498a1bc26c8adc8fa1712464ed706fc,625252, - networking-ovn-tempest-plugin-dvr-multinode-scenario," - networking-ovn-tempest-dsvm-ovs-master: voting: false - networking-ovn-tempest-dsvm-ovs-release - networking-ovn-tempest-dsvm-ovs-release-python2 - networking-ovn-rally-task - networking-ovn-dsvm-functional - networking-ovn-dsvm-functional-py35: branches: ^(?!stable/newton).*$ # TripleO jobs that deploy OVN. # Note we don't use a project-template here, so it's easier # to disable voting on one specific job if things go wrong. # tripleo-ci-centos-7-scenario007-multinode-oooq will only # run on stable/pike while the -container will run in Queens # and beyond. # If you need any support to debug these jobs in case of # failures, please reach us on #tripleo IRC channel. - tripleo-ci-centos-7-scenario007-multinode-oooq - tripleo-ci-centos-7-scenario007-multinode-oooq-container - openstack-tox-lower-constraints - networking-ovn-dsvm-grenade: branches: ^(?!stable/(ocata|pike|queens)).*$ voting: false - openstack-tox-cover: required-projects: - openstack/neutron voting: false",144,26
openstack%2Fnetworking-ovn~master~I2a34d78926e9a15043345dcad185886e430bd6ea,openstack/networking-ovn,master,I2a34d78926e9a15043345dcad185886e430bd6ea,DNM: Fix legacy multinode tempest job,ABANDONED,2018-12-14 10:02:12.000000000,2019-07-02 15:02:39.000000000,,"[{'_account_id': 22348}, {'_account_id': 23804}]","[{'number': 1, 'created': '2018-12-14 10:02:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44e18c542d693fa03ae4bac9caa15bc1b52ead32', 'message': 'DNM: Fix legacy multinode tempest job\n\nThis should be done in zuulv3 already.\n\nChange-Id: I2a34d78926e9a15043345dcad185886e430bd6ea\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 2, 'created': '2018-12-14 13:42:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4dc156ab518fbd24589253a4eb6f1f9de82489a0', 'message': 'DNM: Fix legacy multinode tempest job\n\nThis should be done in zuulv3 already.\n\nChange-Id: I2a34d78926e9a15043345dcad185886e430bd6ea\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}, {'number': 3, 'created': '2018-12-14 15:35:49.000000000', 'files': ['devstack/devstackgaterc', 'zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-multinode/run.yaml', 'zuul.d/project.yaml'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c6dd5ac8a9c212a6a029c768c78c6b9e808e7272', 'message': 'DNM: Fix legacy multinode tempest job\n\nThis should be done in zuulv3 already.\n\nChange-Id: I2a34d78926e9a15043345dcad185886e430bd6ea\nSigned-off-by: Daniel Alvarez <dalvarez@redhat.com>\n'}]",0,625199,c6dd5ac8a9c212a6a029c768c78c6b9e808e7272,12,2,3,23804,,,0,"DNM: Fix legacy multinode tempest job

This should be done in zuulv3 already.

Change-Id: I2a34d78926e9a15043345dcad185886e430bd6ea
Signed-off-by: Daniel Alvarez <dalvarez@redhat.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/99/625199/1 && git format-patch -1 --stdout FETCH_HEAD,"['zuul.d/legacy-networking-ovn-jobs.yaml', 'playbooks/legacy/tempest-dsvm-networking-ovn-multinode/run.yaml']",2,44e18c542d693fa03ae4bac9caa15bc1b52ead32,625199," enable_plugin octavia git://git.openstack.org/openstack/octavia export PROJECTS=""openstack/networking-ovn $PROJECTS"" export PROJECTS=""openstack/octavia $PROJECTS"" export DEVSTACK_GATE_SETTINGS=""/opt/stack/new/networking-ovn/devstack/devstackgaterc latest-release""", export DEVSTACK_GATE_SETTINGS=/opt/stack/new/networking-ovn/devstack/devstackgaterc,6,1
openstack%2Fneutron~master~I79bb8054c113c77e7c96d64ec1408236d24b23b6,openstack/neutron,master,I79bb8054c113c77e7c96d64ec1408236d24b23b6,Don't match input interface in POSTROUTING table,MERGED,2019-07-01 07:49:36.000000000,2019-07-02 15:00:05.000000000,2019-07-02 14:59:25.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 07:49:36.000000000', 'files': ['neutron/agent/l3/router_info.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/dfa37b2233b2dbe6dd12ec5e2ee4f1f32a4be4ba', 'message': ""Don't match input interface in POSTROUTING table\n\nNetfilter postrouting hooks don't provide the input interface. That\nworks fine in iptables implementation as the comparison simply happens\nagainst an empty string, but cause problems with nftables which\naborts rule processing due to no data to compare against and\nthe rule doesn't match.\nThis is a problem in systems where nftables are used (e.g. RHEL 8).\n\nThis patch fixes this issue by removing input interface from\nPOSTROUTING rule used to prevent SNAT for router's internal traffic.\n\nChange-Id: I79bb8054c113c77e7c96d64ec1408236d24b23b6\nCloses-Bug: #1834825\n""}]",3,668378,dfa37b2233b2dbe6dd12ec5e2ee4f1f32a4be4ba,23,8,1,11975,,,0,"Don't match input interface in POSTROUTING table

Netfilter postrouting hooks don't provide the input interface. That
works fine in iptables implementation as the comparison simply happens
against an empty string, but cause problems with nftables which
aborts rule processing due to no data to compare against and
the rule doesn't match.
This is a problem in systems where nftables are used (e.g. RHEL 8).

This patch fixes this issue by removing input interface from
POSTROUTING rule used to prevent SNAT for router's internal traffic.

Change-Id: I79bb8054c113c77e7c96d64ec1408236d24b23b6
Closes-Bug: #1834825
",git fetch https://review.opendev.org/openstack/neutron refs/changes/78/668378/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron/agent/l3/router_info.py'],1,dfa37b2233b2dbe6dd12ec5e2ee4f1f32a4be4ba,bug/1834825," 'POSTROUTING', '! -o %(interface_name)s -m conntrack ' '! --ctstate DNAT -j ACCEPT' %"," 'POSTROUTING', '! -i %(interface_name)s ' '! -o %(interface_name)s -m conntrack ! ' '--ctstate DNAT -j ACCEPT' %",2,3
openstack%2Fglance~master~I8c91468dce50f2404e3689d939cfd482a613b015,openstack/glance,master,I8c91468dce50f2404e3689d939cfd482a613b015,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-06-10 03:37:11.000000000,2019-07-02 14:59:31.000000000,2019-07-02 14:59:30.000000000,"[{'_account_id': 2537}, {'_account_id': 5202}, {'_account_id': 5314}, {'_account_id': 9303}, {'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-10 03:37:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/ecfdd7804481e28578719a7bf6cc4688fc0c2111', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I8c91468dce50f2404e3689d939cfd482a613b015\n'}, {'number': 2, 'created': '2019-06-11 01:21:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/4809b33d27a7df2b68a703bb3c7050ec06705edf', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I8c91468dce50f2404e3689d939cfd482a613b015\n'}, {'number': 3, 'created': '2019-06-12 02:02:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/glance/commit/38902d5dfc9c1e8ed9966150db6f5e43e808f931', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I8c91468dce50f2404e3689d939cfd482a613b015\n'}, {'number': 4, 'created': '2019-06-12 06:37:35.000000000', 'files': ['test-requirements.txt', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/glance/commit/fd6f2fa02702a908cf0d4b2d36e8de8abc6497a9', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I8c91468dce50f2404e3689d939cfd482a613b015\n'}]",1,664192,fd6f2fa02702a908cf0d4b2d36e8de8abc6497a9,19,7,4,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I8c91468dce50f2404e3689d939cfd482a613b015
",git fetch https://review.opendev.org/openstack/glance refs/changes/92/664192/4 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'doc/requirements.txt']",2,ecfdd7804481e28578719a7bf6cc4688fc0c2111,Bug#1,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",2,2
openstack%2Fkeystone~master~Icca6ef602af26a1d10766fd416011cdcceaa00a1,openstack/keystone,master,Icca6ef602af26a1d10766fd416011cdcceaa00a1,Bump openstackdocstheme to 1.20.0,MERGED,2019-06-05 06:19:44.000000000,2019-07-02 14:59:28.000000000,2019-07-02 14:59:28.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27621}, {'_account_id': 28239}]","[{'number': 1, 'created': '2019-06-05 06:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/fb54e5faece45e11f63c12ee6cd89e146959d4e1', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Icca6ef602af26a1d10766fd416011cdcceaa00a1\n'}, {'number': 2, 'created': '2019-07-01 15:50:10.000000000', 'files': ['doc/source/conf.py', 'doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/keystone/commit/6fef498ff3e665b4446cb653ca1b1190d37dcbd6', 'message': 'Bump openstackdocstheme to 1.20.0\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nChange-Id: Icca6ef602af26a1d10766fd416011cdcceaa00a1\n'}]",0,663243,6fef498ff3e665b4446cb653ca1b1190d37dcbd6,19,6,2,28239,,,0,"Bump openstackdocstheme to 1.20.0

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

Change-Id: Icca6ef602af26a1d10766fd416011cdcceaa00a1
",git fetch https://review.opendev.org/openstack/keystone refs/changes/43/663243/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,fb54e5faece45e11f63c12ee6cd89e146959d4e1,bug#openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fpython-tripleoclient~master~I15511b4f36260292e0ea4100b15b8e65a701b38b,openstack/python-tripleoclient,master,I15511b4f36260292e0ea4100b15b8e65a701b38b,Allow run_update_ansible_action run with Mistral or Ansible,MERGED,2019-02-12 08:49:18.000000000,2019-07-02 14:57:18.000000000,2019-06-18 13:43:56.000000000,"[{'_account_id': 8042}, {'_account_id': 10112}, {'_account_id': 11082}, {'_account_id': 11090}, {'_account_id': 11491}, {'_account_id': 16515}, {'_account_id': 17130}, {'_account_id': 18575}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 26343}, {'_account_id': 27427}, {'_account_id': 28223}, {'_account_id': 29222}]","[{'number': 1, 'created': '2019-02-12 08:49:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5d08a12788a080a57f73ea440fe98e5ebf10fc3e', 'message': 'Allow Update and Upgrade Ansible to run without mistral\n\nWIP\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 2, 'created': '2019-02-12 14:39:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7084cb6a167a81c18f7dc377ac097005accd62ad', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible\n\nWIP\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 3, 'created': '2019-02-27 11:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/12c47744087e6007ccbffe0ee972365d1e56f4e2', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 4, 'created': '2019-02-27 13:40:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/991fdaae8a9c4a81dc365c24b1244c44a6ebc9ef', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 5, 'created': '2019-02-27 14:24:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/c606d3644d733c2e1a3e1fd536d4367fe08d6ce9', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 6, 'created': '2019-02-27 15:26:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/420ccbde03d6287ee5694dfb4967b6334d9f8eae', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 7, 'created': '2019-02-27 17:51:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/42b302a1e5cf1f12db4b08e04e73e5239d295649', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 8, 'created': '2019-02-28 14:36:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d6c7386438f063c34df64a197b346cfc0f8bc9d0', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 9, 'created': '2019-03-05 10:23:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e6eb83d2e3bde97dfc873682e39b74952cd9c6d2', 'message': 'WIP Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 10, 'created': '2019-03-05 11:12:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/46ec95222edc94a72ef45ae653c51e338f12f524', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 11, 'created': '2019-03-22 12:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/30cd3a87891a5fac853ad0300118a4b22f1d00f0', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 12, 'created': '2019-03-25 12:36:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/4a9d7756104aa406462bbcb97c84314046186574', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 13, 'created': '2019-03-27 14:07:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/76f3ccf29b0e1906104170ce5c6e43460b5c5b80', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 14, 'created': '2019-06-06 10:02:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/333832c21cb883b60bebe777305deafd9fd178bc', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 15, 'created': '2019-06-13 07:37:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/27fdffa347a0463eed8edda432376f245d88baa3', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 16, 'created': '2019-06-14 12:13:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/b5aa016a05a1428b36498f5c2f3bf82f77546168', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 17, 'created': '2019-06-14 12:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/8b520bda6e532204a4abfaa2bfb7ceba7711924c', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}, {'number': 18, 'created': '2019-06-14 14:47:38.000000000', 'files': ['tripleoclient/tests/test_utils.py', 'tripleoclient/utils.py', 'tripleoclient/v1/overcloud_ffwd_upgrade.py', 'tripleoclient/v1/overcloud_upgrade.py', 'tripleoclient/v1/overcloud_update.py', 'tripleoclient/v1/overcloud_external_update.py', 'tripleoclient/v1/overcloud_external_upgrade.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/5249fbb2623165ef40098631fad18104579450c9', 'message': 'Allow run_update_ansible_action run with Mistral or Ansible\n\nWe extend run_update_ansible_action\nto allow running the Ansible playbooks with Mistral\nor executing directly thru Ansible.\n\nThis is needed  in case we need to run\nexceptionally a task depending on Mistral\nbut Mistral is broken. For example, retry\nan upgrade operation after having Mistral broken.\n\nChange-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b\n'}]",20,636282,5249fbb2623165ef40098631fad18104579450c9,81,15,18,16515,,,0,"Allow run_update_ansible_action run with Mistral or Ansible

We extend run_update_ansible_action
to allow running the Ansible playbooks with Mistral
or executing directly thru Ansible.

This is needed  in case we need to run
exceptionally a task depending on Mistral
but Mistral is broken. For example, retry
an upgrade operation after having Mistral broken.

Change-Id: I15511b4f36260292e0ea4100b15b8e65a701b38b
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/82/636282/18 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/utils.py'],1,5d08a12788a080a57f73ea440fe98e5ebf10fc3e,bp/validation-framework,"from tripleo_common.utils import config def run_ansible_playbook(workdir, output_callback='yaml', python_interpreter=None, ssh_user='root', key=None, module_path=None, limit_hosts=None, tags=None, skip_tags=None): :param ssh_user: user for the ssh connection :type workdir: String :param key: private key to use for the ssh connection :type workdir: String :param module_path: location of the ansible module and library :type workdir: String :param limit_hosts: limit the execution to the hosts :type workdir: String :param tags: run specific tags :type workdir: String :param skip_tags: skip specific tags :type workdir: String log = logging.getLogger(__name__ + "".run_ansible_playbook"") env = {} env['ANSIBLE_LOG_PATH'] = '%s/ansible.log' % workdir env['ANSIBLE_HOST_KEY_CHECKING'] = 'False' '-u', ssh_user, '-c', connection, '--private-key=%s' % key if key else '', '--module-path=%s' % module_path if module_path else '', '-l %s' % limit_hosts if limit_hosts else '', '-t %s' % tags if tags else '', '--skip_tags %s' % skip_tags if skip_tags else '', play cmd = [c for c in cmd if c] return run_command_and_log(log, cmd, env=env)def download_ansible_playbooks(client, stack_name, output_dir='/tmp'): log = logging.getLogger(__name__ + "".download_ansible_playbooks"") stack_config = config.Config(client) tmp_ansible_dir = tempfile.mkdtemp(prefix='tripleo-ansible-', dir=output_dir) log.warning(_('** Downloading {0} ansible.. **').format(stack_name)) stack_config.write_config(stack_config.fetch_config(stack_name), stack_name, tmp_ansible_dir) return tmp_ansible_dir def run_update_ansible_action(nodes, inventory, playbook, all_playbooks, ssh_user, workdir, priv_key, tags=None, skip_tags=None, verbosity='1', action=None): log = logging.getLogger(__name__ + "".run_update_ansible_action"") if action: else: run_ansible_playbook(workdir, book, inventory, ssh_user=ssh_user, key=ssh_private_key(workdir, priv_key), module_path='/usr/share/ansible-modules', limit_hosts=nodes, tags=tags, skip_tags=skip_tags) def ssh_private_key(workdir, key): if not key: return None if (isinstance(key, six.string_types) and os.path.exists(key)): return key path = os.path.join(workdir, 'ssh_private_key') with open(path, 'w') as ssh_key: ssh_key.write(key) os.chmod(path, 0o600) return path"," def run_ansible_playbook(logger, workdir, output_callback='json', python_interpreter=None): env = os.environ.copy() cmd.extend(['-c', connection, play]) proc = run_command_and_log(logger, cmd, env=env, retcode_only=False) proc.wait() cleanup and os.unlink(tmp_config) if proc.returncode != 0: raise RuntimeError(proc.stdout.read()) return proc.returncode inventory = open(inventory_file, 'r').read()def run_update_ansible_action(log, clients, nodes, inventory, playbook, all_playbooks, action, ssh_user, tags='', skip_tags='', verbosity='1'):",83,18
openstack%2Fos-traits~master~Ia8e4487bfb59f764a6817ec8650785ffa902eab5,openstack/os-traits,master,Ia8e4487bfb59f764a6817ec8650785ffa902eab5,Add COMPUTE_STATUS_DISABLED trait,MERGED,2019-06-24 20:00:00.000000000,2019-07-02 14:43:14.000000000,2019-06-27 07:32:13.000000000,"[{'_account_id': 7634}, {'_account_id': 9708}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 20:00:00.000000000', 'files': ['os_traits/compute/status.py'], 'web_link': 'https://opendev.org/openstack/os-traits/commit/74f8a3fe097bfde1cae3c58c2d8bf6f92ae192ba', 'message': 'Add COMPUTE_STATUS_DISABLED trait\n\nThis will be used by nova to signal when a compute node\nresource provider is disabled so that a placement request\npre-filter in the nova scheduler can ask placement to filter\nout compute node allocation candidates that are disabled,\nsimilar to the post-placement ComputeFilter.\n\nPart of nova blueprint pre-filter-disabled-computes\n\nChange-Id: Ia8e4487bfb59f764a6817ec8650785ffa902eab5\n'}]",4,667209,74f8a3fe097bfde1cae3c58c2d8bf6f92ae192ba,11,4,1,6873,,,0,"Add COMPUTE_STATUS_DISABLED trait

This will be used by nova to signal when a compute node
resource provider is disabled so that a placement request
pre-filter in the nova scheduler can ask placement to filter
out compute node allocation candidates that are disabled,
similar to the post-placement ComputeFilter.

Part of nova blueprint pre-filter-disabled-computes

Change-Id: Ia8e4487bfb59f764a6817ec8650785ffa902eab5
",git fetch https://review.opendev.org/openstack/os-traits refs/changes/09/667209/1 && git format-patch -1 --stdout FETCH_HEAD,['os_traits/compute/status.py'],1,74f8a3fe097bfde1cae3c58c2d8bf6f92ae192ba,bp/pre-filter-disabled-computes,"# -*- coding: utf-8 -*- # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. TRAITS = [ # The compute node resource provider is disabled. 'DISABLED', ] ",,18,0
openstack%2Fopenstack-zuul-jobs~master~If587345d22ee7d488e358ac3ef5919dd3b4ffa27,openstack/openstack-zuul-jobs,master,If587345d22ee7d488e358ac3ef5919dd3b4ffa27,Add binary dependencies for building TeX docs,ABANDONED,2019-07-01 13:42:50.000000000,2019-07-02 14:36:33.000000000,,"[{'_account_id': 2472}, {'_account_id': 6547}, {'_account_id': 6926}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 13:42:50.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/ff36158b2fa6590700cb8a96d7885cee003873a5', 'message': 'Add binary dependencies for building TeX docs\n\nProvides requirements for the accepted community goal of\nbuilding LaTeX documentation for OpenStack projects.\n\nDepends-On: https://review.opendev.org/668463\nChange-Id: If587345d22ee7d488e358ac3ef5919dd3b4ffa27\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",1,668464,ff36158b2fa6590700cb8a96d7885cee003873a5,10,4,1,6926,,,0,"Add binary dependencies for building TeX docs

Provides requirements for the accepted community goal of
building LaTeX documentation for OpenStack projects.

Depends-On: https://review.opendev.org/668463
Change-Id: If587345d22ee7d488e358ac3ef5919dd3b4ffa27
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/64/668464/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ff36158b2fa6590700cb8a96d7885cee003873a5,build-pdf-docs,librsvg2-bin [doc platform:dpkg] fonts-freefont-otf [doc platform:dpkg] fonts-liberation [doc platform:dpkg] texlive-latex-base [doc platform:dpkg] texlive-latex-extra [doc platform:dpkg] texlive-xetex [doc platform:dpkg] texlive-fonts-recommended [doc platform:dpkg] xindy [doc platform:dpkg] latexmk [doc platform:dpkg] texlive [doc platform:rpm] texlive-fncychap [doc platform:rpm] texlive-titlesec [doc platform:rpm] texlive-tabulary [doc platform:rpm] texlive-framed [doc platform:rpm] texlive-wrapfig [doc platform:rpm] texlive-upquote [doc platform:rpm] texlive-capt-of [doc platform:rpm] texlive-needspace [doc platform:rpm] texlive-polyglossia [doc platform:rpm] latexmk [doc platform:rpm] python3-sphinxcontrib-svg2pdfconverter-common [doc platform:rpm],,21,0
openstack%2Fopenstack-ansible-os_swift~master~Iff4011c5a6531fa3f74acfeb6fa980c493246a63,openstack/openstack-ansible-os_swift,master,Iff4011c5a6531fa3f74acfeb6fa980c493246a63,Fix distro package lists for openSUSE 15,MERGED,2019-06-29 07:40:59.000000000,2019-07-02 14:33:12.000000000,2019-07-02 14:33:12.000000000,"[{'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-29 07:40:59.000000000', 'files': ['vars/suse.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_swift/commit/dc04fc27bfaf45670a85143be7517b2de5cf7210', 'message': ""Fix distro package lists for openSUSE 15\n\nExplicitly pulling in packages that are dependencies of the main\npackage can cause issues with newer releases where those packages\ndon't exist anymore - e.g. python-swift is renamed to python3-swift.\nsimilarly python-keystonemiddleware (which is a dep of openstack-swift)\nis actually called python3-keystonemiddleware these days.\n\nChange-Id: Iff4011c5a6531fa3f74acfeb6fa980c493246a63\n""}]",0,668287,dc04fc27bfaf45670a85143be7517b2de5cf7210,11,3,1,6593,,,0,"Fix distro package lists for openSUSE 15

Explicitly pulling in packages that are dependencies of the main
package can cause issues with newer releases where those packages
don't exist anymore - e.g. python-swift is renamed to python3-swift.
similarly python-keystonemiddleware (which is a dep of openstack-swift)
is actually called python3-keystonemiddleware these days.

Change-Id: Iff4011c5a6531fa3f74acfeb6fa980c493246a63
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_swift refs/changes/87/668287/1 && git format-patch -1 --stdout FETCH_HEAD,['vars/suse.yml'],1,dc04fc27bfaf45670a85143be7517b2de5cf7210,, - cron, - cronie - cronie-anacron - python-keystonemiddleware - python-swift,1,4
openstack%2Ftripleo-docs~master~I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf,openstack/tripleo-docs,master,I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf,Move the Backup and Restore documentation to its own folder and add support for ReaR,MERGED,2019-06-20 14:43:12.000000000,2019-07-02 14:28:14.000000000,2019-07-02 14:28:14.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 22954}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-20 14:43:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/cc68bdf1c63cf646334d89c9050fd55cb47447c0', 'message': 'Move the Backup and REstore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}, {'number': 2, 'created': '2019-06-20 14:52:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/c9b3904fcbe4fc5caef279192bfc86fac1b623ae', 'message': 'Move the Backup and Restore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}, {'number': 3, 'created': '2019-06-20 15:29:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/b996dd8d4485fee90c0268698679703995091c50', 'message': 'Move the Backup and Restore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}, {'number': 4, 'created': '2019-06-20 15:36:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/575338fe754053bc6394a14bf7f283761dee55fd', 'message': 'Move the Backup and Restore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}, {'number': 5, 'created': '2019-06-20 15:55:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/3401c8c3a8c1bd6ee5a515fe59e0050c736aad19', 'message': 'Move the Backup and Restore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}, {'number': 6, 'created': '2019-06-20 16:20:09.000000000', 'files': ['doc/source/backup_and_restore/02_overcloud_backup.rst', 'doc/source/index.rst', 'doc/source/backup_and_restore/03_undercloud_restore.rst', 'doc/source/install/index.rst', 'doc/source/backup_and_restore/04_overcloud_restore.rst', 'doc/source/backup_and_restore/00_index.rst', 'doc/source/backup_and_restore/05_rear.rst', 'doc/source/upgrade/fast_forward_upgrade.rst', 'doc/source/upgrade/undercloud.rst', 'doc/source/backup_and_restore/01_undercloud_backup.rst'], 'web_link': 'https://opendev.org/openstack/tripleo-docs/commit/7f171b7556f1f94cd3f2c7e67587605f66f6636d', 'message': 'Move the Backup and Restore documentation to its own folder and add support for ReaR\n\nThe backup and restore doc is getting bigger, now its moved to its own section\nalso we add support for ReaR.\n\nChange-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf\nCo-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>\n'}]",11,666595,7f171b7556f1f94cd3f2c7e67587605f66f6636d,16,5,6,20775,,,0,"Move the Backup and Restore documentation to its own folder and add support for ReaR

The backup and restore doc is getting bigger, now its moved to its own section
also we add support for ReaR.

Change-Id: I82d77aa08cd8e3ac09fe55ce67af6da01b577eaf
Co-Authored-By: Juan Badia Payno <jbadiapa@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-docs refs/changes/95/666595/6 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/backup_and_restore/02_overcloud_backup.rst', 'doc/source/index.rst', 'doc/source/backup_and_restore/03_undercloud_restore.rst', 'doc/source/install/index.rst', 'doc/source/backup_and_restore/04_overcloud_restore.rst', 'doc/source/backup_and_restore/00_index.rst', 'doc/source/backup_and_restore/05_rear.rst', 'doc/source/backup_and_restore/01_undercloud_backup.rst']",8,cc68bdf1c63cf646334d89c9050fd55cb47447c0,,,,397,1
openstack%2Fnetworking-ovn~master~Iea0dbf555040d40817cfc6daae69ab53fa57c849,openstack/networking-ovn,master,Iea0dbf555040d40817cfc6daae69ab53fa57c849,Fix discription error of loadbalancer,MERGED,2019-06-25 03:16:23.000000000,2019-07-02 14:23:53.000000000,2019-07-02 14:23:53.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 10237}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 03:16:23.000000000', 'files': ['doc/source/contributor/design/loadbalancer.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d765aa622525c9247e6f9828ebc55003b9d8f20a', 'message': 'Fix discription error of loadbalancer\n\nThe NorthBound DB is updated till a member is added to the\nLoadBalancer\n\nChange-Id: Iea0dbf555040d40817cfc6daae69ab53fa57c849\n'}]",0,667258,d765aa622525c9247e6f9828ebc55003b9d8f20a,7,4,1,29874,,,0,"Fix discription error of loadbalancer

The NorthBound DB is updated till a member is added to the
LoadBalancer

Change-Id: Iea0dbf555040d40817cfc6daae69ab53fa57c849
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/58/667258/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/contributor/design/loadbalancer.rst'],1,d765aa622525c9247e6f9828ebc55003b9d8f20a,,in the NorthBound DB until the Members are associated with the NorthBound DB till a member is added to the LoadBalancer.,in the NorthBound DB until the Members are not associated with the NorthBound DB till a member is not added to the LoadBalancer.,2,2
openstack%2Fnetworking-l2gw~master~Iad7a49bae622cbae5203d69170e52c81e3066ba1,openstack/networking-l2gw,master,Iad7a49bae622cbae5203d69170e52c81e3066ba1,Add local bindep.txt,MERGED,2019-06-28 08:37:43.000000000,2019-07-02 14:23:15.000000000,2019-07-02 14:23:15.000000000,"[{'_account_id': 8313}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 08:37:43.000000000', 'files': ['bindep.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-l2gw/commit/5469040a1a2b71b02ca9b5624d78ab02ca7bbbf8', 'message': 'Add local bindep.txt\n\nAs it was announced [1] global bindep-fallback.txt was removed and now\nprojects need to have a local bindep.txt to be able to install binary\ndependencies for testing.\n\nIn test jobs the script tools/test-setup.sh is called which requires\nmysql and postgres servers and clients to be installed.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Iad7a49bae622cbae5203d69170e52c81e3066ba1\n'}]",0,668114,5469040a1a2b71b02ca9b5624d78ab02ca7bbbf8,8,2,1,17685,,,0,"Add local bindep.txt

As it was announced [1] global bindep-fallback.txt was removed and now
projects need to have a local bindep.txt to be able to install binary
dependencies for testing.

In test jobs the script tools/test-setup.sh is called which requires
mysql and postgres servers and clients to be installed.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Iad7a49bae622cbae5203d69170e52c81e3066ba1
",git fetch https://review.opendev.org/openstack/networking-l2gw refs/changes/14/668114/1 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'tox.ini']",2,5469040a1a2b71b02ca9b5624d78ab02ca7bbbf8,bindep-fallback,"[testenv:bindep] basepython = python3 # Do not install any requirements. We want this to be fast and work even if # system dependencies are missing, since it's used to tell you what system # dependencies are missing! This also means that bindep must be installed # separately, outside of the requirements files, and develop mode disabled # explicitly to avoid unnecessarily installing the checked-out repo too (this # further relies on ""tox.skipsdist = True"" above). deps = bindep commands = bindep test usedevelop = False ",,20,0
openstack%2Fneutron~master~I355c39bde8d2d16baddf08af61b780b71981abab,openstack/neutron,master,I355c39bde8d2d16baddf08af61b780b71981abab,Switch to new engine facade for ExtraRoute_dbonly_mixin,MERGED,2019-05-29 08:45:21.000000000,2019-07-02 14:22:18.000000000,2019-07-02 14:22:18.000000000,"[{'_account_id': 841}, {'_account_id': 4187}, {'_account_id': 4694}, {'_account_id': 9845}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16376}, {'_account_id': 16688}, {'_account_id': 22348}, {'_account_id': 26622}, {'_account_id': 27654}]","[{'number': 1, 'created': '2019-05-29 08:45:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/fc2fa84c0318313130ced71ca6c72a749f2a3738', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 2, 'created': '2019-05-29 13:56:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/add17cbb842cfcd45b145e6f26a880a740b1f959', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 3, 'created': '2019-06-06 08:13:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/bdb7be9988be59bf6a3732243872c7d0e784416a', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 4, 'created': '2019-06-19 14:47:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/6d23fcca530d52885869411cc9d6f1f1c124ddd3', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 5, 'created': '2019-06-20 12:58:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/356abbc3a0d8d12d836a45946dc992bc3d2872aa', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 6, 'created': '2019-06-21 10:14:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron/commit/27f3314ad0e6f944e273f59eeed329ee4b7c3f6f', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}, {'number': 7, 'created': '2019-06-28 10:31:27.000000000', 'files': ['neutron/services/l3_router/service_providers/driver_controller.py', 'neutron/db/extraroute_db.py', 'neutron/db/servicetype_db.py', 'neutron/db/l3_db.py'], 'web_link': 'https://opendev.org/openstack/neutron/commit/d279ec11800538bccd947e64dc84eb3b3e96fc86', 'message': 'Switch to new engine facade for ExtraRoute_dbonly_mixin\n\nPartially-Implements blueprint: enginefacade-switch\n\nChange-Id: I355c39bde8d2d16baddf08af61b780b71981abab\n'}]",5,661916,d279ec11800538bccd947e64dc84eb3b3e96fc86,80,11,7,16688,,,0,"Switch to new engine facade for ExtraRoute_dbonly_mixin

Partially-Implements blueprint: enginefacade-switch

Change-Id: I355c39bde8d2d16baddf08af61b780b71981abab
",git fetch https://review.opendev.org/openstack/neutron refs/changes/16/661916/6 && git format-patch -1 --stdout FETCH_HEAD,['neutron/db/extraroute_db.py'],1,fc2fa84c0318313130ced71ca6c72a749f2a3738,bp/enginefacade-switch,from neutron_lib.db import api as db_api with db_api.CONTEXT_WRITER.using(context):, with context.session.begin(subtransactions=True):,2,1
openstack%2Fovsdbapp~master~I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8,openstack/ovsdbapp,master,I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8,Sync Sphinx requirement,MERGED,2019-06-27 12:44:11.000000000,2019-07-02 14:21:05.000000000,2019-07-02 14:21:05.000000000,"[{'_account_id': 5756}, {'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 12:44:11.000000000', 'files': ['test-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ovsdbapp/commit/81c124fe291e3156473ec9ffdd1087202c4974c8', 'message': 'Sync Sphinx requirement\n\n1. Sync sphinx dependency with global requirements. It caps python 2 since\nsphinx 2.0 no longer supports Python 2.7.\n\nChange-Id: I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8\n'}]",0,667919,81c124fe291e3156473ec9ffdd1087202c4974c8,7,3,1,28743,,,0,"Sync Sphinx requirement

1. Sync sphinx dependency with global requirements. It caps python 2 since
sphinx 2.0 no longer supports Python 2.7.

Change-Id: I6d4b6a378435d89d409bb92e60bb34ca6dfd5af8
",git fetch https://review.opendev.org/openstack/ovsdbapp refs/changes/19/667919/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,81c124fe291e3156473ec9ffdd1087202c4974c8,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fproject-config~master~I613142d1103fdc238aa38403dbd268934efbf74d,openstack/project-config,master,I613142d1103fdc238aa38403dbd268934efbf74d,Load extra Zuul config from zuul-jobs,MERGED,2019-07-01 21:54:50.000000000,2019-07-02 14:18:06.000000000,2019-07-02 14:18:06.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 21:54:50.000000000', 'files': ['zuul/main.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/4ad35cc72d9ff536c1e85642329f2ea0c526d92f', 'message': 'Load extra Zuul config from zuul-jobs\n\nIn the ""zuul"" Zuul tenant only, load extra Zuul config from the\nzuul-tests.d/ directory of the zuul-jobs project.  This is so\nwe can continue to keep the upstream testing of zuul-jobs out\nof the repo itself (to make for easier downstream consumption).\nIn the ""zuul"" tenant, these extra jobs and in-repo project config\nwill be loaded.\n\nChange-Id: I613142d1103fdc238aa38403dbd268934efbf74d\n'}]",0,668563,4ad35cc72d9ff536c1e85642329f2ea0c526d92f,7,3,1,1,,,0,"Load extra Zuul config from zuul-jobs

In the ""zuul"" Zuul tenant only, load extra Zuul config from the
zuul-tests.d/ directory of the zuul-jobs project.  This is so
we can continue to keep the upstream testing of zuul-jobs out
of the repo itself (to make for easier downstream consumption).
In the ""zuul"" tenant, these extra jobs and in-repo project config
will be loaded.

Change-Id: I613142d1103fdc238aa38403dbd268934efbf74d
",git fetch https://review.opendev.org/openstack/project-config refs/changes/63/668563/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/main.yaml'],1,4ad35cc72d9ff536c1e85642329f2ea0c526d92f,, - zuul/zuul-jobs: extra-config-paths: - zuul-tests.d/, - zuul/zuul-jobs,3,1
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a,openstack/openstack-ansible-os_keystone,stable/stein,I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a,Execute the keystone db setup earlier in the process,MERGED,2019-06-13 19:10:13.000000000,2019-07-02 14:10:43.000000000,2019-07-02 14:10:43.000000000,"[{'_account_id': 290}, {'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-13 19:10:13.000000000', 'files': ['tasks/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/d074c927fdc372441d04764e2d1471bf11330909', 'message': 'Execute the keystone db setup earlier in the process\n\nAs the keystone credential_migrate command can access\nthe keystone database in cases the os_keystone role\nstopped prematurely, the db setup playbook is moved\nin front of the `keystone_credential_create.yml` playbook\nto prevent and race condition.\n\nChange-Id: I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a\nClosed-Bug: #1829438\n(cherry picked from commit 3afb763c103665f8c04f3d8ebeda8b207e1fcab7)\n'}]",0,665218,d074c927fdc372441d04764e2d1471bf11330909,13,5,1,14552,,,0,"Execute the keystone db setup earlier in the process

As the keystone credential_migrate command can access
the keystone database in cases the os_keystone role
stopped prematurely, the db setup playbook is moved
in front of the `keystone_credential_create.yml` playbook
to prevent and race condition.

Change-Id: I8c89be0ffb4f23b79c0463bff2eb135b9769eb2a
Closed-Bug: #1829438
(cherry picked from commit 3afb763c103665f8c04f3d8ebeda8b207e1fcab7)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/18/665218/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/main.yml'],1,d074c927fdc372441d04764e2d1471bf11330909,bug/1829438,"- include_tasks: keystone_db_setup.yml when: - ""keystone_database_enabled | bool"" tags: - keystone-config ","- include_tasks: keystone_db_setup.yml when: - ""keystone_database_enabled | bool"" tags: - keystone-config ",6,6
openstack%2Fpython-vitrageclient~master~I0817016538a6b286816b99176339262c6453dc08,openstack/python-vitrageclient,master,I0817016538a6b286816b99176339262c6453dc08,Add new api vitrage status,MERGED,2019-07-01 09:56:17.000000000,2019-07-02 14:06:40.000000000,2019-07-02 14:06:39.000000000,"[{'_account_id': 19159}, {'_account_id': 19184}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 09:56:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/d58e4d29453e71c932a8ce4884205b7ca6002ede', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: I0817016538a6b286816b99176339262c6453dc08\n""}, {'number': 2, 'created': '2019-07-01 10:10:31.000000000', 'files': ['doc/source/contributor/cli.rst', 'vitrageclient/shell.py', 'vitrageclient/v1/status.py', 'tools/vitrage.bash_completion', 'vitrageclient/v1/client.py', 'releasenotes/notes/add_status-e3fdc1e61696ade0.yaml', 'setup.cfg', 'vitrageclient/v1/cli/status.py'], 'web_link': 'https://opendev.org/openstack/python-vitrageclient/commit/ba5f71feccf19f361c3d8b73a5606dd66fca7c57', 'message': ""Add new api vitrage status\n\nTo Check if vitrage is ready then you can check its\nstatus some users don't want to check on every api call\nif vitrage is ready, in that case you can check ad hoc\n\nChange-Id: I0817016538a6b286816b99176339262c6453dc08\n""}]",0,668404,ba5f71feccf19f361c3d8b73a5606dd66fca7c57,9,3,2,19134,,,0,"Add new api vitrage status

To Check if vitrage is ready then you can check its
status some users don't want to check on every api call
if vitrage is ready, in that case you can check ad hoc

Change-Id: I0817016538a6b286816b99176339262c6453dc08
",git fetch https://review.opendev.org/openstack/python-vitrageclient refs/changes/04/668404/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/cli.rst', 'vitrageclient/shell.py', 'vitrageclient/v1/status.py', 'vitrageclient/v1/client.py', 'releasenotes/notes/add_status-e3fdc1e61696ade0.yaml', 'setup.cfg', 'vitrageclient/v1/cli/status.py']",7,d58e4d29453e71c932a8ce4884205b7ca6002ede,eyalb/status,"# Copyright 2019 - Nokia Corporation # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. from cliff import show # noinspection PyAbstractClass class Status(show.ShowOne): """"""Check api health status"""""" def take_action(self, parsed_args): return self.dict2columns(self.app.client.status.get()) ",,68,1
openstack%2Ftripleo-ansible~master~Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7,openstack/tripleo-ansible,master,Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7,Add standalone jobs to gate tripleo-ansible,MERGED,2019-06-27 12:19:36.000000000,2019-07-02 14:03:20.000000000,2019-07-02 14:03:20.000000000,"[{'_account_id': 3153}, {'_account_id': 7353}, {'_account_id': 8449}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 25402}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-27 12:19:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/02c308d9b73319afefb09b4b01ecc6fbbba36fa3', 'message': 'Add standalone jobs to gate tripleo-ansible\n\nRun jobs according to their coverage of tripleo-ansible roles,\nuse standalone004 scenario as covering all standalone.\n\nChange-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7\n'}, {'number': 2, 'created': '2019-06-27 14:27:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f3aa0b0c336081cddbc04484365d9b788e81f621', 'message': 'Add standalone jobs to gate tripleo-ansible\n\nRun jobs according to their coverage of tripleo-ansible roles,\nuse standalone004 scenario as covering all standalone.\n\nChange-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7\n'}, {'number': 3, 'created': '2019-06-27 16:17:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/e4347b36d524b3b1ed98ae418190bf2b8ee23621', 'message': 'Add standalone jobs to gate tripleo-ansible\n\nRun jobs according to their coverage of tripleo-ansible roles,\nuse standalone004 scenario as covering all standalone.\n\nChange-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7\n'}, {'number': 4, 'created': '2019-06-27 16:20:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7c11e3cb8b7ce9cab97b4c6ed121c5b0ec185d10', 'message': 'Add standalone jobs to gate tripleo-ansible\n\nRun jobs according to their coverage of tripleo-ansible roles,\nuse standalone004 scenario as covering all standalone.\n\nChange-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 5, 'created': '2019-06-28 21:17:10.000000000', 'files': ['zuul.d/layout.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/a3be1b63b76197940eef3ef345a4bc796adf6c43', 'message': 'Add standalone jobs to gate tripleo-ansible\n\nRun jobs according to their coverage of tripleo-ansible roles,\nuse standalone004 scenario as covering all standalone.\n\nChange-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",26,667912,a3be1b63b76197940eef3ef345a4bc796adf6c43,47,9,5,10969,,,0,"Add standalone jobs to gate tripleo-ansible

Run jobs according to their coverage of tripleo-ansible roles,
use standalone004 scenario as covering all standalone.

Change-Id: Ib0fcae4670d0c39a6c85e788072af0751ed3c9a7
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/12/667912/4 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/layout.yaml'],1,02c308d9b73319afefb09b4b01ecc6fbbba36fa3,jobs, - tripleo-ci-centos-7-scenario004-standalone: files: - ^tripleo_ansible/.* - ^zuul.d/.* - requirements.txt - tripleo-ci-centos-7-scenario010-standalone: files: - ^tripleo_ansible/octavia.* - ^zuul.d/.* - tripleo-ci-centos-7-scenario003-standalone: files: - ^tripleo_ansible/tripleo-create-admin/.* - ^zuul.d/.* - tripleo-ci-centos-7-scenario012-standalone: files: - ^tripleo_ansible/tripleo-module-load/.* - ^zuul.d/.* - tripleo-ci-centos-7-scenario004-standalone: files: - ^tripleo_ansible/.* - ^zuul.d/.* - requirements.txt - tripleo-ci-centos-7-scenario010-standalone: files: - ^tripleo_ansible/octavia.* - ^zuul.d/.* - tripleo-ci-centos-7-scenario003-standalone: files: - ^tripleo_ansible/tripleo-create-admin/.* - ^zuul.d/.*, - tripleo-ci-centos-7-scenario001-standalone - tripleo-ci-centos-7-scenario001-standalone,30,2
openstack%2Freleases~master~Ie1a42d4eaa394352b22ef19415d992e7e469ab87,openstack/releases,master,Ie1a42d4eaa394352b22ef19415d992e7e469ab87,Release neutron-lib 1.28.0,ABANDONED,2019-06-27 20:43:50.000000000,2019-07-02 14:01:38.000000000,,"[{'_account_id': 841}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 11904}, {'_account_id': 12898}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 20:43:50.000000000', 'files': ['deliverables/train/neutron-lib.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/94a5e483ba32b1041f20117bcec7fb6e709a1b97', 'message': 'Release neutron-lib 1.28.0\n\nRelease the latest code from neutron-lib so that we can begin to\nconsume it in networking related projects.\n\nChange-Id: Ie1a42d4eaa394352b22ef19415d992e7e469ab87\n'}]",0,668044,94a5e483ba32b1041f20117bcec7fb6e709a1b97,7,6,1,4187,,,0,"Release neutron-lib 1.28.0

Release the latest code from neutron-lib so that we can begin to
consume it in networking related projects.

Change-Id: Ie1a42d4eaa394352b22ef19415d992e7e469ab87
",git fetch https://review.opendev.org/openstack/releases refs/changes/44/668044/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/train/neutron-lib.yaml'],1,94a5e483ba32b1041f20117bcec7fb6e709a1b97,, - version: 1.28.0 projects: - repo: openstack/neutron-lib hash: 89b542f4fa9db27e663c0ac60a3ceb379ecf0663,,4,0
openstack%2Fkolla-ansible~stable%2Fqueens~I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,openstack/kolla-ansible,stable/queens,I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57,(Rocky and Queens only) CI: Fix ceph jobs for kolla,MERGED,2019-06-30 19:03:52.000000000,2019-07-02 13:56:42.000000000,2019-07-02 13:56:42.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 22629}]","[{'number': 1, 'created': '2019-06-30 19:03:52.000000000', 'files': ['tests/run.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/20b40798d626f1b2668868a68fd008f81c908660', 'message': '(Rocky and Queens only) CI: Fix ceph jobs for kolla\n\nThe way Zuul handles job dependencies caused the computed path\nto setup_ceph_disks.sh to be wrong when job was run due to kolla\n(as opposed to kolla-ansible) change.\n\nThis patch uses a relative path as is the case in Stein and later.\n\nChange-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 1d22714cfeb5bdde43255286549ea781d67f52dd)\n'}]",0,668336,20b40798d626f1b2668868a68fd008f81c908660,7,3,1,30491,,,0,"(Rocky and Queens only) CI: Fix ceph jobs for kolla

The way Zuul handles job dependencies caused the computed path
to setup_ceph_disks.sh to be wrong when job was run due to kolla
(as opposed to kolla-ansible) change.

This patch uses a relative path as is the case in Stein and later.

Change-Id: I4f45cd18b86ebe0efcc3101e31e4bcafdc83eb57
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 1d22714cfeb5bdde43255286549ea781d67f52dd)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/36/668336/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/run.yml'],1,20b40798d626f1b2668868a68fd008f81c908660,," is_ceph: ""{{ 'ceph' in scenario }}"" script: ""setup_ceph_disks.sh"" when: is_ceph"," kolla_ansible_src_dir: ""src/{{ zuul.project.canonical_hostname }}/openstack/kolla-ansible"" kolla_ansible_full_src_dir: ""{{ zuul.executor.work_root }}/{{ kolla_ansible_src_dir }}"" script: ""{{ kolla_ansible_full_src_dir }}/tests/setup_ceph_disks.sh"" when: scenario == ""ceph""",3,4
openstack%2Fopenstack-ansible-os_zun~master~If1c35513a02a4162db05fcea5a68d643c2c21e83,openstack/openstack-ansible-os_zun,master,If1c35513a02a4162db05fcea5a68d643c2c21e83,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 13:06:32.000000000,2019-07-02 13:46:16.000000000,2019-07-02 13:46:16.000000000,"[{'_account_id': 1004}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 27379}, {'_account_id': 28619}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-20 13:06:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3ab0ee2c9c227a4ed0ea825815faf178162df3b4', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: If1c35513a02a4162db05fcea5a68d643c2c21e83\n'}, {'number': 2, 'created': '2019-06-28 01:45:17.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_zun/commit/3551a3afbb536598ac962941279693a95f5417b2', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: If1c35513a02a4162db05fcea5a68d643c2c21e83\n'}]",0,666564,3551a3afbb536598ac962941279693a95f5417b2,25,7,2,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: If1c35513a02a4162db05fcea5a68d643c2c21e83
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_zun refs/changes/64/666564/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,3ab0ee2c9c227a4ed0ea825815faf178162df3b4,, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fironic~master~If103606e41be38d23867572d065d98338980f98c,openstack/ironic,master,If103606e41be38d23867572d065d98338980f98c,Remove deprecated app.wsgi script,MERGED,2019-07-01 16:18:07.000000000,2019-07-02 13:23:57.000000000,2019-07-02 13:23:57.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-07-01 16:18:07.000000000', 'files': ['releasenotes/notes/remove-app-wsgi-d5887ca28e4b9f00.yaml', 'ironic/api/wsgi.py', 'ironic/api/app.wsgi'], 'web_link': 'https://opendev.org/openstack/ironic/commit/401cfbc6e2e2ac310f8ec2be97fe147c0ec47ef9', 'message': ""Remove deprecated app.wsgi script\n\nThis patch removes the deprecated 'ironic/api/app.wsgi' script that\nwas marked for removal in Rocky.\nThe automatically generated 'ironic-api-wsgi' script should be used\ninstead.\n\nChange-Id: If103606e41be38d23867572d065d98338980f98c\n""}]",0,668515,401cfbc6e2e2ac310f8ec2be97fe147c0ec47ef9,17,7,1,23851,,,0,"Remove deprecated app.wsgi script

This patch removes the deprecated 'ironic/api/app.wsgi' script that
was marked for removal in Rocky.
The automatically generated 'ironic-api-wsgi' script should be used
instead.

Change-Id: If103606e41be38d23867572d065d98338980f98c
",git fetch https://review.opendev.org/openstack/ironic refs/changes/15/668515/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/remove-app-wsgi-d5887ca28e4b9f00.yaml', 'ironic/api/wsgi.py', 'ironic/api/app.wsgi']",3,401cfbc6e2e2ac310f8ec2be97fe147c0ec47ef9,remove-app-wsgi,,"# -*- mode: python -*- # -*- encoding: utf-8 -*- # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. """""" Use this file for deploying the API service under Apache2 mod_wsgi. """""" from ironic.api import wsgi application = wsgi.initialize_wsgi_app(show_deprecated=True) ",6,27
openstack%2Fcharm-ceph-osd~master~I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5,openstack/charm-ceph-osd,master,I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5,[DEBUG] testing CI,ABANDONED,2019-06-25 19:38:43.000000000,2019-07-02 13:19:13.000000000,,"[{'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 19:38:43.000000000', 'files': ['hooks/ceph_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-ceph-osd/commit/c0a582e75586965d280a8de80593b3eabe836554', 'message': '[DEBUG] testing CI\n\ndebug purposes only\n\nChange-Id: I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5\n'}]",0,667448,c0a582e75586965d280a8de80593b3eabe836554,4,2,1,14567,,,0,"[DEBUG] testing CI

debug purposes only

Change-Id: I535373fe68f19d7ff3c39d2c6cd7b696ba89afb5
",git fetch https://review.opendev.org/openstack/charm-ceph-osd refs/changes/48/667448/1 && git format-patch -1 --stdout FETCH_HEAD,['hooks/ceph_hooks.py'],1,c0a582e75586965d280a8de80593b3eabe836554,,,,1,0
openstack%2Fnetworking-ovn~master~I0d63fc127da9ab37bb217678a1c47961c17d3eda,openstack/networking-ovn,master,I0d63fc127da9ab37bb217678a1c47961c17d3eda,Omit Octavia code from coverage report,MERGED,2019-06-06 08:53:37.000000000,2019-07-02 13:17:31.000000000,2019-07-02 13:17:31.000000000,"[{'_account_id': 1131}, {'_account_id': 6773}, {'_account_id': 6854}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-06-06 08:53:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7c7465a7d0f49351ef5ba37ee4dfeaf69452da66', 'message': 'Relax coverage threshold\n\nTo make it easier for reviewers to notice when it got worse.\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 2, 'created': '2019-06-06 10:28:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ccf8b6d8e8195eb8a13f254b6c0411e34ca51940', 'message': 'Relax coverage threshold\n\nTo make it easier for reviewers to notice when it got worse.\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 3, 'created': '2019-06-07 09:21:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ffeb5a76b79a22fc69bfc1237ffcbfb78cfdcdc5', 'message': 'Relax coverage threshold\n\nTo make it easier for reviewers to notice when it got worse.\nAlso, make the job voting.\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 4, 'created': '2019-06-27 18:58:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c9b74d70cd0aa7c84f190ea2b4435a1b3fa61fde', 'message': 'Omit Octavia code from coverage report\n\nThere is a patch in progress [0] to increase the test\ncoverage in the Octavia code. Until then, omit it from\nthe report so the coverage test will pass, so we can\nmake it voting.\n\n[0] https://review.opendev.org/#/c/601948/\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 5, 'created': '2019-06-28 12:09:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c8cf0dd82f6bfe51b76e7f4ccd5c29da55b9177', 'message': 'Omit Octavia code from coverage report\n\nThere is a patch in progress [0] to increase the test\ncoverage in the Octavia code. Until then, omit it from\nthe report so the coverage test will pass, so we can\nmake it voting.\n\n[0] https://review.opendev.org/#/c/601948/\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 6, 'created': '2019-07-01 09:20:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a4b02a3b6d04e8504a4fccdaef255d8561ff2d03', 'message': 'Omit Octavia code from coverage report\n\nThere is a patch in progress [0] to increase the test\ncoverage in the Octavia code. Until then, omit it from\nthe report so the coverage test will pass, so we can\nmake it voting.\nFor now we have test coverage at level of 66%.\nAs a good start set 65% to start voting and then\nsuccessfully increase it.\n\n[0] https://review.opendev.org/#/c/601948/\n\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}, {'number': 7, 'created': '2019-07-01 09:59:46.000000000', 'files': ['zuul.d/project.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e444b45ac160204c8659d38b9f24684caa0424eb', 'message': 'Omit Octavia code from coverage report\n\nThere is a patch in progress [0] to increase the test\ncoverage in the Octavia code. Until then, omit it from\nthe report so the coverage test will pass, so we can\nmake it voting.\nFor now we have test coverage at level of 66%.\nAs a good start set 65% to start voting and then\nsuccessfully increase it.\n\n[0] https://review.opendev.org/#/c/601948/\n\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\nChange-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda\n'}]",3,663546,e444b45ac160204c8659d38b9f24684caa0424eb,46,6,7,6854,,,0,"Omit Octavia code from coverage report

There is a patch in progress [0] to increase the test
coverage in the Octavia code. Until then, omit it from
the report so the coverage test will pass, so we can
make it voting.
For now we have test coverage at level of 66%.
As a good start set 65% to start voting and then
successfully increase it.

[0] https://review.opendev.org/#/c/601948/

Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>
Change-Id: I0d63fc127da9ab37bb217678a1c47961c17d3eda
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/663546/4 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,7c7465a7d0f49351ef5ba37ee4dfeaf69452da66,bug/1834453, coverage report --fail-under=60 --skip-covered, coverage report --fail-under=70 --skip-covered,1,1
openstack%2Fplacement~master~If1dbb3d4d1b23787d4c42a2ab17a762002ad920c,openstack/placement,master,If1dbb3d4d1b23787d4c42a2ab17a762002ad920c,WIP: Support resourceless request before same_subtree,ABANDONED,2019-06-04 11:17:35.000000000,2019-07-02 12:46:19.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-04 11:17:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7d63b610bbd9d1d8a074be3dac6f26089af25405', 'message': 'PoC: DNM: resourceless request\n\n* Just to review the Train spec.\n* I borrowed API layer code in\n  https://review.opendev.org/#/c/657510 from Chris.\n\nChange-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c\n'}, {'number': 2, 'created': '2019-06-05 03:55:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/fd85221f36005f6cb48a13059b588d49db4e39e1', 'message': 'PoC: DNM: resourceless request\n\n* Just to review the Train spec.\n* I borrowed API layer code in\n  https://review.opendev.org/#/c/657510 from Chris.\n\nChange-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c\n'}, {'number': 3, 'created': '2019-06-06 04:22:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ccafd26b1fa00d77744a2bd356ba0faea3b38e04', 'message': 'PoC: DNM: resourceless request\n\n* Just to review the Train spec.\n* I borrowed API layer code in\n  https://review.opendev.org/#/c/657510 from Chris.\n\nChange-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c\n'}, {'number': 4, 'created': '2019-07-01 07:40:09.000000000', 'files': ['placement/lib.py', 'placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/microversion.py', 'placement/tests/functional/gabbits/microversion.yaml', 'placement/tests/functional/gabbits/granular-same-subtree.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/730b4aa61ce463505090830bba5e84f64d3583ae', 'message': 'WIP: Support resourceless request before same_subtree\n\nThis patch supports resourceless request preparing for support\nfor new `same_subtree` queryparam with resourceless requests.\n\nAdding `same_subtree` is coming in a follow up. This patch includes\ntest cases for resourceless requests without same_subtree which is\ngoing to be changed to make sure they are blocked in the follow up.\n\nCo-Authored-By: Chris Dent <cdent@anticdent.org>\nChange-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c\nStory: 2005575\nTask: 30784\n'}]",10,663009,730b4aa61ce463505090830bba5e84f64d3583ae,16,4,4,25625,,,0,"WIP: Support resourceless request before same_subtree

This patch supports resourceless request preparing for support
for new `same_subtree` queryparam with resourceless requests.

Adding `same_subtree` is coming in a follow up. This patch includes
test cases for resourceless requests without same_subtree which is
going to be changed to make sure they are blocked in the follow up.

Co-Authored-By: Chris Dent <cdent@anticdent.org>
Change-Id: If1dbb3d4d1b23787d4c42a2ab17a762002ad920c
Story: 2005575
Task: 30784
",git fetch https://review.opendev.org/openstack/placement refs/changes/09/663009/3 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/objects/research_context.py', 'placement/objects/allocation_candidate.py', 'placement/tests/functional/gabbits/granular-resourceless.yaml']",4,7d63b610bbd9d1d8a074be3dac6f26089af25405,nested-magic,"# Tests of granular request groups where some groups express no resources. fixtures: - SharedStorageFixture defaults: request_headers: x-auth-token: admin content-type: application/json accept: application/json openstack-api-version: placement 1.33 tests: - name: resourcefull trait GET: /allocation_candidates?resources1=VCPU:1&required1=HW_CPU_X86_SSE response_json_paths: $.allocation_requests.`len`: 1 $.allocation_requests..allocations['$ENVIRON[""CN1_UUID""]'].resources.VCPU: 1 - name: resourceless trait GET: /allocation_candidates?required1=HW_CPU_X86_SSE&resources2=SRIOV_NET_VF:1&group_policy=isolate response_json_paths: $.allocation_requests.`len`: 2 # no providers from CN2 since it doesn't have any rps with HW_CPU_X86_SSE trait in the tree # ... gabbits interprets None below as strings? Anyway, what's the ideal format for # allocation request for resourceless providers?? # $.allocation_requests..allocations['$ENVIRON[""CN1_UUID""]'].resources: [{'null': None}, {'null': None}] $.allocation_requests..allocations['$ENVIRON[""PF1_1_UUID""]'].resources.SRIOV_NET_VF: 1 $.allocation_requests..allocations['$ENVIRON[""PF1_2_UUID""]'].resources.SRIOV_NET_VF: 1 ",,86,4
openstack%2Ftripleo-heat-templates~master~I6d367a5d8e93992a4a8065baa84d8265f5bcab26,openstack/tripleo-heat-templates,master,I6d367a5d8e93992a4a8065baa84d8265f5bcab26,Delete external resource ipv6 ports during clean,ABANDONED,2019-06-07 11:43:15.000000000,2019-07-02 12:19:29.000000000,,"[{'_account_id': 6926}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-07 11:43:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/551bb248a188d90c37725d0ab7ef1c9dafe1a069', 'message': 'Delete external resource ipv6 ports during clean\n\nAdds a step to also delete the rendered files for external resource ipv6\nports when running process-templates.py with --clean.\n\nChange-Id: I6d367a5d8e93992a4a8065baa84d8265f5bcab26\n'}, {'number': 2, 'created': '2019-06-18 10:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/fb70879373fa6e026671703bc7c421a3ccf904bc', 'message': 'Delete external resource ipv6 ports during clean\n\nAdds a step to also delete the rendered files for external resource ipv6\nports when running process-templates.py with --clean.\n\nChange-Id: I6d367a5d8e93992a4a8065baa84d8265f5bcab26\n'}]",0,663910,fb70879373fa6e026671703bc7c421a3ccf904bc,12,4,2,7144,,,0,"Delete external resource ipv6 ports during clean

Adds a step to also delete the rendered files for external resource ipv6
ports when running process-templates.py with --clean.

Change-Id: I6d367a5d8e93992a4a8065baa84d8265f5bcab26
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/10/663910/2 && git format-patch -1 --stdout FETCH_HEAD,['tools/process-templates.py'],1,551bb248a188d90c37725d0ab7ef1c9dafe1a069,," external_resource_ports_v6_path = os.path.join( 'network', 'ports', 'external_resource_%s_v6.yaml' % network['name_lower']) delete(external_resource_ports_v6_path)",,4,0
openstack%2Fmanila~master~Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7,openstack/manila,master,Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7,Blacklist python-cinderclient 4.0.0,MERGED,2019-06-04 03:06:55.000000000,2019-07-02 12:06:59.000000000,2019-07-02 12:06:58.000000000,"[{'_account_id': 2417}, {'_account_id': 6491}, {'_account_id': 7102}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14567}, {'_account_id': 15100}, {'_account_id': 16643}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 26968}, {'_account_id': 27615}, {'_account_id': 27822}]","[{'number': 1, 'created': '2019-06-04 03:06:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/13665afb74f412945e8dd810349e3bb63f7f4d7c', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\ndepend on https://review.opendev.org/#/c/587877/\n\nChange-Id: Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7\n'}, {'number': 2, 'created': '2019-06-10 01:30:55.000000000', 'files': ['requirements.txt'], 'web_link': 'https://opendev.org/openstack/manila/commit/c2953972607c2399a99343e19e28f806fe0260e3', 'message': 'Blacklist python-cinderclient 4.0.0\n\nThis release of the Cinder client broke support for the v3\nvolume-transfer APIs unless microversion 3.55 or higher was requested.\ndepend on https://review.opendev.org/#/c/587877/\n\nDepends-On: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26\n\nChange-Id: Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7\n'}]",2,662920,c2953972607c2399a99343e19e28f806fe0260e3,22,16,2,27822,,,0,"Blacklist python-cinderclient 4.0.0

This release of the Cinder client broke support for the v3
volume-transfer APIs unless microversion 3.55 or higher was requested.
depend on https://review.opendev.org/#/c/587877/

Depends-On: Ibbc3a3f04ea6253139112944cf7e0f6c265d0f26

Change-Id: Icb4c948e9f8ea879f5c2bc5d854df6696ee8e6a7
",git fetch https://review.opendev.org/openstack/manila refs/changes/20/662920/2 && git format-patch -1 --stdout FETCH_HEAD,['requirements.txt'],1,13665afb74f412945e8dd810349e3bb63f7f4d7c,openstack/requirements,"python-cinderclient!=4.0.0,>=3.3.0 # Apache-2.0",python-cinderclient>=3.3.0 # Apache-2.0,1,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I3cfd4272449b207874723682903505d2bbdb435b,openstack/tripleo-heat-templates,stable/stein,I3cfd4272449b207874723682903505d2bbdb435b,Setup cluster definition based on the ansible limit option.,MERGED,2019-06-24 15:28:48.000000000,2019-07-02 11:36:05.000000000,2019-07-02 11:36:05.000000000,"[{'_account_id': 3153}, {'_account_id': 8042}, {'_account_id': 8297}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bf586795a408fb1cb38a02cc10fc7cb7879118b7', 'message': ""Setup cluster definition based on the ansible limit option.\n\nDuring upgrade we're re-creating the pacemaker cluster one node at a\ntime. So we need to override the cluster definition. We do this by\ncollecting the ansible_limit variable and mapping the controller\ndefined as member of the cluster.\n\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nImplements: blueprint upgrades-with-os\nCloses-Bug: #1832361\nDepends-On: Ibd95f4536c033af2094bd079cc81eeba18a36352\nDepends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\nDepends-On: I3fa0717203f3f6eae852d019bec71e97eb485aa2\nChange-Id: I3cfd4272449b207874723682903505d2bbdb435b\n(cherry picked from commit cb8caaae4381e6a3de81a517dc7c6b23d272e024)\n""}, {'number': 2, 'created': '2019-06-27 12:13:50.000000000', 'files': ['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'puppet/services/pacemaker.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/534a23576cd8820439d6e9a79b9c1e58362e6bcc', 'message': ""Setup cluster definition based on the ansible limit option.\n\nDuring upgrade we're re-creating the pacemaker cluster one node at a\ntime. So we need to override the cluster definition. We do this by\ncollecting the ansible_limit variable and mapping the controller\ndefined as member of the cluster.\n\nCo-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>\nCo-Authored-By: Jiri Stransky <jistr@redhat.com>\nImplements: blueprint upgrades-with-os\nCloses-Bug: #1832361\nDepends-On: Ibd95f4536c033af2094bd079cc81eeba18a36352\nDepends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\nDepends-On: I3fa0717203f3f6eae852d019bec71e97eb485aa2\nChange-Id: I3cfd4272449b207874723682903505d2bbdb435b\n(cherry picked from commit cb8caaae4381e6a3de81a517dc7c6b23d272e024)\n""}]",0,667145,534a23576cd8820439d6e9a79b9c1e58362e6bcc,18,6,2,8042,,,0,"Setup cluster definition based on the ansible limit option.

During upgrade we're re-creating the pacemaker cluster one node at a
time. So we need to override the cluster definition. We do this by
collecting the ansible_limit variable and mapping the controller
defined as member of the cluster.

Co-Authored-By: Jose Luis Franco Arza <jfrancoa@redhat.com>
Co-Authored-By: Jiri Stransky <jistr@redhat.com>
Implements: blueprint upgrades-with-os
Closes-Bug: #1832361
Depends-On: Ibd95f4536c033af2094bd079cc81eeba18a36352
Depends-On: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
Depends-On: I3fa0717203f3f6eae852d019bec71e97eb485aa2
Change-Id: I3cfd4272449b207874723682903505d2bbdb435b
(cherry picked from commit cb8caaae4381e6a3de81a517dc7c6b23d272e024)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/45/667145/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/haproxy/haproxy-pacemaker-puppet.yaml', 'deployment/database/redis-pacemaker-puppet.yaml', 'puppet/services/pacemaker.yaml', 'deployment/database/mysql-pacemaker-puppet.yaml', 'deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-notify-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-pacemaker-puppet.yaml', 'deployment/rabbitmq/rabbitmq-messaging-rpc-pacemaker-puppet.yaml']",8,bf586795a408fb1cb38a02cc10fc7cb7879118b7,bug/1831690," - name: Create hiera data to upgrade oslo_messaging_rpc in a stepwise manner. when: - step|int == 1 block: - name: set oslo_messaging_rpc upgrade node facts in a single-node environment set_fact: oslo_messaging_rpc_short_node_names_upgraded: ""{{ oslo_messaging_rpc_short_node_names }}"" cacheable: no when: groups['oslo_messaging_rpc'] | length == 1 - name: set oslo_messaging_rpc upgrade node facts from the limit option set_fact: oslo_messaging_rpc_short_node_names_upgraded: ""{{ oslo_messaging_rpc_short_node_names_upgraded|default([]) + [item.split('.')[0]] }}"" cacheable: no when: item.split('.')[0] in ansible_limit.split(',') loop: ""{{ oslo_messaging_rpc_short_node_names }}"" - debug: msg: ""Prepare oslo_messaging_rpc upgrade for {{ oslo_messaging_rpc_short_node_names_upgraded }}"" - fail: msg: > You can't upgrade oslo_messaging_rpc without staged upgrade. You need to use the limit option in order to do so. when: >- oslo_messaging_rpc_short_node_names_upgraded is not defined or oslo_messaging_rpc_short_node_names_upgraded | length == 0 - name: add the oslo_messaging_rpc short name to hiera data for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: set.yml vars: tripleo_upgrade_key: oslo_messaging_rpc_short_node_names_override tripleo_upgrade_value: ""{{oslo_messaging_rpc_short_node_names_upgraded}}"" - name: remove the extra hiera data needed for the upgrade. include_role: name: tripleo-upgrade-hiera tasks_from: remove.yml vars: tripleo_upgrade_key: oslo_messaging_rpc_short_node_names_override when: oslo_messaging_rpc_short_node_names_upgraded | length == oslo_messaging_rpc_short_node_names | length",,359,19
openstack%2Fmanila~master~I931902901668c295fb12523bf3d414a897c36275,openstack/manila,master,I931902901668c295fb12523bf3d414a897c36275,Manila share driver for Inspur InStorage series.,MERGED,2019-02-14 03:56:37.000000000,2019-07-02 11:32:42.000000000,2019-07-02 11:32:42.000000000,"[{'_account_id': 2417}, {'_account_id': 6413}, {'_account_id': 7118}, {'_account_id': 9003}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 16643}, {'_account_id': 18058}, {'_account_id': 20695}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 24863}, {'_account_id': 25243}, {'_account_id': 25648}, {'_account_id': 26458}, {'_account_id': 26968}]","[{'number': 1, 'created': '2019-02-14 03:56:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/4e077fc697d9a9a13b1e87db5a2a95ee62095f23', 'message': 'Manila share driver for Inspur InStorage series.\n\nFeatures that Inspur InStorage driver support:\nshare create/delete.\nextend share size.\nupdate_access.\nprotocol: NFS/CIFS.\nThirdPartySystem: INSPUR CI\n\nChange-Id: I931902901668c295fb12523bf3d414a897c36275\nImplements: Blueprint inspur-instorage-manila-driver\n'}, {'number': 2, 'created': '2019-02-20 08:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/45bbb4fa0674cb0405f7113cb5eeafbefd42c777', 'message': 'Manila share driver for Inspur InStorage series.\n\nFeatures that Inspur InStorage driver support:\nshare create/delete.\nextend share size.\nupdate_access.\nprotocol: NFS/CIFS.\nThirdPartySystem: INSPUR CI\n\nChange-Id: I931902901668c295fb12523bf3d414a897c36275\nImplements: Blueprint inspur-instorage-manila-driver\n'}, {'number': 3, 'created': '2019-03-28 08:55:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/58b7f9ef3ebc5f9b3df0f7f01db0c1c98ccc3d34', 'message': 'Manila share driver for Inspur InStorage series.\n\nFeatures that Inspur InStorage driver support:\nshare create/delete.\nextend share size.\nupdate_access.\nprotocol: NFS/CIFS.\nThirdPartySystem: INSPUR CI\n\nChange-Id: I931902901668c295fb12523bf3d414a897c36275\nImplements: Blueprint inspur-instorage-manila-driver\n'}, {'number': 4, 'created': '2019-06-16 03:34:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/f9b0e2e8a10e2f522b9d373de688286f62bcdd29', 'message': 'Manila share driver for Inspur InStorage series.\n\nFeatures that Inspur InStorage driver support:\nshare create/delete.\nextend share size.\nupdate_access.\nprotocol: NFS/CIFS.\nThirdPartySystem: INSPUR CI\n\nChange-Id: I931902901668c295fb12523bf3d414a897c36275\nImplements: Blueprint inspur-instorage-manila-driver\n'}, {'number': 5, 'created': '2019-06-25 07:41:07.000000000', 'files': ['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'manila/share/drivers/inspur/instorage/__init__.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/share/drivers/inspur/instorage/cli_helper.py', 'manila/tests/conf_fixture.py', 'releasenotes/notes/inspur-instorage-driver-51d7a67f253f3ecd.yaml', 'manila/tests/share/drivers/inspur/instorage/test_instorage.py', 'manila/opts.py', 'manila/tests/share/drivers/inspur/instorage/__init__.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/54d855877bf7b7de7208ac63611882692e33f581', 'message': 'Manila share driver for Inspur InStorage series.\n\nFeatures that Inspur InStorage driver support:\nshare create/delete.\nextend share size.\nupdate_access.\nprotocol: NFS/CIFS.\nThirdPartySystem: INSPUR CI\n\nChange-Id: I931902901668c295fb12523bf3d414a897c36275\nImplements: Blueprint inspur-instorage-manila-driver\n'}]",53,636819,54d855877bf7b7de7208ac63611882692e33f581,82,20,5,25648,,,0,"Manila share driver for Inspur InStorage series.

Features that Inspur InStorage driver support:
share create/delete.
extend share size.
update_access.
protocol: NFS/CIFS.
ThirdPartySystem: INSPUR CI

Change-Id: I931902901668c295fb12523bf3d414a897c36275
Implements: Blueprint inspur-instorage-manila-driver
",git fetch https://review.opendev.org/openstack/manila refs/changes/19/636819/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/admin/share_back_ends_feature_support_mapping.rst', 'manila/share/drivers/inspur/instorage/__init__.py', 'manila/share/drivers/inspur/instorage/instorage.py', 'manila/share/drivers/inspur/instorage/cli_helper.py', 'manila/tests/conf_fixture.py', 'releasenotes/notes/inspur-instorage-driver-51d7a67f253f3ecd.yaml', 'manila/tests/share/drivers/inspur/instorage/test_instorage.py', 'manila/opts.py', 'manila/tests/share/drivers/inspur/instorage/__init__.py']",9,4e077fc697d9a9a13b1e87db5a2a95ee62095f23,bp/inspur-instorage-manila-driver,,,2502,4
openstack%2Fironic~master~I73cab832cf8099c02b3e29df84618c88e5fb5065,openstack/ironic,master,I73cab832cf8099c02b3e29df84618c88e5fb5065,devstack: Install arch specific debs only when deploying to that arch,MERGED,2019-06-28 14:40:34.000000000,2019-07-02 11:27:06.000000000,2019-07-02 11:27:06.000000000,"[{'_account_id': 10118}, {'_account_id': 11076}, {'_account_id': 11655}, {'_account_id': 11929}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23851}, {'_account_id': 24828}]","[{'number': 1, 'created': '2019-06-28 14:40:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2450f27f40164fd4a02fc5c206a3b65040809101', 'message': ""devstack: Install shim only when deploying to an x86_64 node\n\nBecause the shim package is specific to x86_64 [0] it should only\nbe installed when deploying to an x86_64 node. This removes shim\nfrom the debs/ironic file and moves it's install to lib/ironic\nallowing us to install it based on arch.\n\n[0] https://packages.ubuntu.com/eoan/shim\n\nChange-Id: I73cab832cf8099c02b3e29df84618c88e5fb5065\n""}, {'number': 2, 'created': '2019-07-01 14:58:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/29f65efba6448b4c0e096fdc66353237ef3e06a2', 'message': 'devstack: Install arch specific debs only when deploying to that arch\n\nBecause the shim and grub-efi-amd64-signed packages are specific to\nx86_64 [0][1], they should only be installed when deploying to an x86_64 node.\nThis removes the packages from the debs/ironic file and moves their\ninstallation to lib/ironic, allowing us to install it them based on architecture.\n\n[0] https://packages.ubuntu.com/eoan/shim\n[1] https://packages.ubuntu.com/eoan/grub-efi-amd64-signed\n\nChange-Id: I73cab832cf8099c02b3e29df84618c88e5fb5065\n'}, {'number': 3, 'created': '2019-07-01 15:00:05.000000000', 'files': ['devstack/lib/ironic', 'devstack/files/debs/ironic'], 'web_link': 'https://opendev.org/openstack/ironic/commit/bc84b7bce6ae97641b3049a1c608e01f831ce8ed', 'message': 'devstack: Install arch specific debs only when deploying to that arch\n\nBecause the shim and grub-efi-amd64-signed packages are specific to\nx86_64 [0][1], they should only be installed when deploying to an x86_64 node.\nThis removes the packages from the debs/ironic file and moves their\ninstallation to lib/ironic, allowing us to install it them based on architecture.\n\n[0] https://packages.ubuntu.com/eoan/shim\n[1] https://packages.ubuntu.com/eoan/grub-efi-amd64-signed\n\nChange-Id: I73cab832cf8099c02b3e29df84618c88e5fb5065\n'}]",0,668186,bc84b7bce6ae97641b3049a1c608e01f831ce8ed,28,9,3,11929,,,0,"devstack: Install arch specific debs only when deploying to that arch

Because the shim and grub-efi-amd64-signed packages are specific to
x86_64 [0][1], they should only be installed when deploying to an x86_64 node.
This removes the packages from the debs/ironic file and moves their
installation to lib/ironic, allowing us to install it them based on architecture.

[0] https://packages.ubuntu.com/eoan/shim
[1] https://packages.ubuntu.com/eoan/grub-efi-amd64-signed

Change-Id: I73cab832cf8099c02b3e29df84618c88e5fb5065
",git fetch https://review.opendev.org/openstack/ironic refs/changes/86/668186/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/ironic', 'devstack/files/debs/ironic']",2,2450f27f40164fd4a02fc5c206a3b65040809101,pkvmci,,shim,6,1
openstack%2Fnova~stable%2Frocky~I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,openstack/nova,stable/rocky,I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,Grab fresh power state info from the driver,MERGED,2019-06-27 15:09:07.000000000,2019-07-02 11:23:27.000000000,2019-07-01 16:33:01.000000000,"[{'_account_id': 782}, {'_account_id': 2033}, {'_account_id': 7166}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-27 15:09:07.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0ac4a97204b129a10e9cc7fa1154dc24711281bd', 'message': 'Grab fresh power state info from the driver\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance actions like start or stop grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False in the compute manager\nwhen triggering an action on an instance like start/stop/reboot.\n\n[1] I0069cbc327d952d42dbb8fe54949faab89995a7e\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)\n(cherry picked from commit 16449cbfe97eef1500f5a73a9d30e7abf4249b99)\n'}]",0,667955,0ac4a97204b129a10e9cc7fa1154dc24711281bd,13,10,1,26936,,,0,"Grab fresh power state info from the driver

In drivers that use a cache to store the node info (presently only
ironic since [1]), the ""_get_power_state"" function called during
instance actions like start or stop grabs the information from the node
cache and saves it in the nova database instead of getting fresh
information from the driver. This leads to inconsistency between
the vm_state and power_state for an instance in the nova database
(which remains until a power_sync happens between nova and ironic).
This can be confusing for a user when doing ""nova list"" where the
power_state might still be shutdown when the vm_state has already
become active. On a default environment this inconsistency lasts
for about ten minutes which is the default value for the
sync_power_state_interval interval.

This patch changes the ""use_cache"" to False in the compute manager
when triggering an action on an instance like start/stop/reboot.

[1] I0069cbc327d952d42dbb8fe54949faab89995a7e

Change-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b
Closes-Bug: #1832720
(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)
(cherry picked from commit 16449cbfe97eef1500f5a73a9d30e7abf4249b99)
",git fetch https://review.opendev.org/openstack/nova refs/changes/55/667955/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,0ac4a97204b129a10e9cc7fa1154dc24711281bd,bug/1832720," return self.driver.get_info(instance, use_cache=False).state", return self.driver.get_info(instance).state,18,3
openstack%2Fcharm-neutron-api~master~I18aabe17549d99383d9c13c24879d794719feca7,openstack/charm-neutron-api,master,I18aabe17549d99383d9c13c24879d794719feca7,Pass global-physnet-mtu on neutron-plugin-api,MERGED,2019-06-21 09:08:31.000000000,2019-07-02 11:17:57.000000000,2019-07-02 11:17:57.000000000,"[{'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 20870}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 09:08:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/c4965ee036a9f48c64dfef529d5bfa639a0af197', 'message': 'Pass global-physnet-mtu on neutron-plugin-api\n\nCharms related to neutron-api on the neutron-plugin-api relation\ncan use the global-physnet-mtu to set mtus on the devices they\nmanage.\n\nChange-Id: I18aabe17549d99383d9c13c24879d794719feca7\n'}, {'number': 2, 'created': '2019-06-21 09:50:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/b912d0d0f74a25ed7cd1341643b853a1a5b2009e', 'message': 'Pass global-physnet-mtu on neutron-plugin-api\n\nCharms related to neutron-api on the neutron-plugin-api relation\ncan use the global-physnet-mtu and physical-network-mtus\nto set mtus on the devices they manage.\n\nChange-Id: I18aabe17549d99383d9c13c24879d794719feca7\n'}, {'number': 3, 'created': '2019-06-21 09:59:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/303018af847bc1a185acc2c5ab33a2f90387ba0f', 'message': 'Pass global-physnet-mtu on neutron-plugin-api\n\nCharms related to neutron-api on the neutron-plugin-api relation\ncan use the global-physnet-mtu and physical-network-mtus\nto set mtus on the devices they manage.\n\nChange-Id: I18aabe17549d99383d9c13c24879d794719feca7\n'}, {'number': 4, 'created': '2019-07-02 08:58:37.000000000', 'files': ['unit_tests/test_neutron_api_hooks.py', 'hooks/neutron_api_hooks.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-api/commit/573997fa381038031476b79d76a022d8d34ec0a1', 'message': 'Pass global-physnet-mtu on neutron-plugin-api\n\nCharms related to neutron-api on the neutron-plugin-api relation\ncan use the global-physnet-mtu and physical-network-mtus\nto set mtus on the devices they manage.\n\nChange-Id: I18aabe17549d99383d9c13c24879d794719feca7\n'}]",1,666793,573997fa381038031476b79d76a022d8d34ec0a1,19,5,4,12549,,,0,"Pass global-physnet-mtu on neutron-plugin-api

Charms related to neutron-api on the neutron-plugin-api relation
can use the global-physnet-mtu and physical-network-mtus
to set mtus on the devices they manage.

Change-Id: I18aabe17549d99383d9c13c24879d794719feca7
",git fetch https://review.opendev.org/openstack/charm-neutron-api refs/changes/93/666793/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_api_hooks.py'],1,c4965ee036a9f48c64dfef529d5bfa639a0af197,bug/1832918," 'global-physnet-mtu': config('global-physnet-mtu'),",,1,0
openstack%2Ftripleo-common~stable%2Fstein~I3fa0717203f3f6eae852d019bec71e97eb485aa2,openstack/tripleo-common,stable/stein,I3fa0717203f3f6eae852d019bec71e97eb485aa2,Fix tripleo-upgrade-hiera key deleting,MERGED,2019-07-01 16:20:33.000000000,2019-07-02 11:10:30.000000000,2019-07-02 11:10:30.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 16:20:33.000000000', 'files': ['roles/tripleo-upgrade-hiera/tasks/remove.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f48331f36b5d00f5a28249da5f6f31e9bbf64db7', 'message': 'Fix tripleo-upgrade-hiera key deleting\n\nThe commit fixes these issues:\n\n* When tripleo-upgrade-hiera key deleting was used multiple times in a\n  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the\n  previous invocation instead of getting gradually filled from empty\n  dict. This resulted in never deleting the keys except on the first\n  run of the task.\n\n* When the key deleting was called in an Ansible `loop`, the external\n  `item` variable and the internal `item` in the deleting code\n  conflicted on naming, breaking the removal of the key. We now use\n  `loop_var: upgrade_hiera_item` to avoid naming collisions.\n\nCloses-Bug: #1832827\nChange-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2\n(cherry picked from commit 6cfc204630c6771e27f946d64befa5d4107785ba)\n'}]",0,668519,f48331f36b5d00f5a28249da5f6f31e9bbf64db7,8,4,1,11090,,,0,"Fix tripleo-upgrade-hiera key deleting

The commit fixes these issues:

* When tripleo-upgrade-hiera key deleting was used multiple times in a
  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the
  previous invocation instead of getting gradually filled from empty
  dict. This resulted in never deleting the keys except on the first
  run of the task.

* When the key deleting was called in an Ansible `loop`, the external
  `item` variable and the internal `item` in the deleting code
  conflicted on naming, breaking the removal of the key. We now use
  `loop_var: upgrade_hiera_item` to avoid naming collisions.

Closes-Bug: #1832827
Change-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2
(cherry picked from commit 6cfc204630c6771e27f946d64befa5d4107785ba)
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/19/668519/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-upgrade-hiera/tasks/remove.yml'],1,f48331f36b5d00f5a28249da5f6f31e9bbf64db7,bug/1832827-stable/stein,"- name: reset tripleo_upgrade_hiera_data_del fact set_fact: tripleo_upgrade_hiera_data_del: {} tripleo_upgrade_hiera_data_del: ""{{ tripleo_upgrade_hiera_data_del|combine({upgrade_hiera_item.key: upgrade_hiera_item.value}) }}"" when: upgrade_hiera_item.key != tripleo_upgrade_key loop_control: loop_var: upgrade_hiera_item loop: ""{{ tripleo_upgrade_hiera_command.stdout | from_json | default({}) | dict2items }}"""," tripleo_upgrade_hiera_data_del: ""{{ tripleo_upgrade_hiera_data_del|default({})|combine({item.key: item.value}) }}"" when: item.key != tripleo_upgrade_key with_dict: ""{{ tripleo_upgrade_hiera_command.stdout | from_json | default({}) }}""",9,3
openstack%2Ftripleo-upgrade~stable%2Fstein~Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,openstack/tripleo-upgrade,stable/stein,Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,Disable Leapp when using OOOQ,MERGED,2019-07-01 16:19:57.000000000,2019-07-02 11:10:29.000000000,2019-07-02 11:10:29.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 16:19:57.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'templates/disable-leapp.yaml.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/7a426c01eae0229669b7305e00d5934b8ee00c81', 'message': ""Disable Leapp when using OOOQ\n\nWhen using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.\n\nChange-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\n(cherry picked from commit 181111e62de7f0f3fd0d6fd8cd62834f1783f148)\n""}]",0,668518,7a426c01eae0229669b7305e00d5934b8ee00c81,8,4,1,11090,,,0,"Disable Leapp when using OOOQ

When using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.

Change-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
(cherry picked from commit 181111e62de7f0f3fd0d6fd8cd62834f1783f148)
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/18/668518/1 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'templates/disable-leapp.yaml.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml']",3,7a426c01eae0229669b7305e00d5934b8ee00c81,leapp-stable/stein,"- name: create disable-leapp env file template: src: ""disable-leapp.yaml.j2"" dest: ""{{ working_dir }}/disable-leapp.yaml"" mode: 0755 force: true when: use_oooq|default(false)|bool ",,13,0
openstack%2Fpuppet-tripleo~stable%2Fstein~Ibd95f4536c033af2094bd079cc81eeba18a36352,openstack/puppet-tripleo,stable/stein,Ibd95f4536c033af2094bd079cc81eeba18a36352,Allow overriding pacemaker_node_ips for staged upgrade,MERGED,2019-06-25 12:43:28.000000000,2019-07-02 11:10:28.000000000,2019-07-02 11:10:28.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-25 12:43:28.000000000', 'files': ['manifests/profile/base/pacemaker.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/74a7262e2d689f9dc28a611fc5c417a7c9d23999', 'message': 'Allow overriding pacemaker_node_ips for staged upgrade\n\nWe already have pacemaker_short_node_names_override, and we need a\nmatching pacemaker_node_ips_override as the two variables must be\noverriden together.\n\nChange-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352\nPartial-Bug: #1832361\n(cherry picked from commit 42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff)\n'}]",0,667352,74a7262e2d689f9dc28a611fc5c417a7c9d23999,10,4,1,8042,,,0,"Allow overriding pacemaker_node_ips for staged upgrade

We already have pacemaker_short_node_names_override, and we need a
matching pacemaker_node_ips_override as the two variables must be
overriden together.

Change-Id: Ibd95f4536c033af2094bd079cc81eeba18a36352
Partial-Bug: #1832361
(cherry picked from commit 42f07b25f784b8b8bb3e58fcbe5db79a0a3abaff)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/52/667352/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/pacemaker.pp'],1,74a7262e2d689f9dc28a611fc5c417a7c9d23999,leapp-stable/stein," # If pacemaker_node_ips is not empty we want to create the array $pacemaker_node_ips = hiera('pacemaker_node_ips_override', hiera('pacemaker_node_ips', []))"," # If hiera('pacemaker_node_ips', []) is not empty we want to create the array $pacemaker_node_ips = hiera('pacemaker_node_ips', [])",2,2
openstack%2Fcharm-neutron-openvswitch~master~I7ad1ebc16883bda23cbad89a852e7e8f88f49c49,openstack/charm-neutron-openvswitch,master,I7ad1ebc16883bda23cbad89a852e7e8f88f49c49,Replace SR-IOV systemd unit script,MERGED,2019-06-14 06:50:53.000000000,2019-07-02 10:31:26.000000000,2019-07-02 10:31:26.000000000,"[{'_account_id': 935}, {'_account_id': 13686}, {'_account_id': 20648}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 06:50:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/488534d552c4cc76ba10a6ab3347c25e6bb3b763', 'message': 'Replace SR-IOV systemd unit script\n\n* The previous bash version of the script was broken and totally\nuntested.\n* This python version of the script brings unit-tests that fully covers\nit.\n\nCloses-Bug: 1832379\nDepends-On: https://review.opendev.org/#/c/664837/\n\nChange-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49\n'}, {'number': 2, 'created': '2019-06-14 10:22:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/731dcf926cfbe5050cac128bc98e59d82778268e', 'message': 'Replace SR-IOV systemd unit script\n\n* The previous bash version of the script was broken and totally\nuntested.\n* This python version of the script brings unit-tests that fully covers\nit.\n* Move the the template files to `files` and modify `neutron_ovs_utils`\naccordingly.\n\nCloses-Bug: 1832379\nDepends-On: https://review.opendev.org/#/c/664837/\n\nChange-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49\n'}, {'number': 3, 'created': '2019-06-14 11:21:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/27f778d2f67f1bc3cfc864df226c26292b279984', 'message': 'Replace SR-IOV systemd unit script\n\n* The goal of this change is to enable the ability to configure only the\nVFs that are configured through the charm and not fallback to the\nblanket configuration.\n* This python version of the script brings unit-tests that fully covers\nit.\n* Move the the template files to `files` and modify `neutron_ovs_utils`\naccordingly.\n\nCloses-Bug: 1832379\nDepends-On: https://review.opendev.org/#/c/664837/\n\nChange-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49\n'}, {'number': 4, 'created': '2019-06-14 11:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/a0c52189b3486b58cf35a5e037522b2aa821fbd8', 'message': 'Replace SR-IOV systemd unit script\n\n* The goal of this change is to enable the ability to configure only the\nVFs that are configured through the charm and not fallback to the\nblanket configuration.\n* This python version of the script brings unit-tests that fully covers\nit.\n* Move the the template files to `files` and modify `neutron_ovs_utils`\naccordingly.\n\nCloses-Bug: 1832379\nDepends-On: https://review.opendev.org/#/c/664837/\n\nChange-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49\n'}, {'number': 5, 'created': '2019-06-28 15:38:01.000000000', 'files': ['hooks/neutron_ovs_hooks.py', 'hooks/neutron_ovs_utils.py', 'templates/kilo/neutron-openvswitch-networking-sriov.conf', 'unit_tests/test_neutron_openvswitch_networking_sriov.py', 'files/neutron_openvswitch_networking_sriov.py', 'files/neutron-openvswitch-networking-sriov.sh', 'unit_tests/test_neutron_ovs_utils.py', 'files/neutron-openvswitch-networking-sriov.service', 'unit_tests/test_neutron_ovs_hooks.py', 'templates/kilo/neutron-openvswitch-networking-sriov', 'templates/kilo/neutron-openvswitch-networking-sriov.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/d02fad482d328a3368ccdbad8a5f253a774a03cc', 'message': 'Replace SR-IOV systemd unit script\n\n* The goal of this change is to enable the ability to configure only the\nVFs that are configured through the charm and not fallback to the\nblanket configuration.\n* This python version of the script brings unit-tests that fully covers\nit.\n* Move the the template files to `files` and modify `neutron_ovs_utils`\naccordingly.\n\nCloses-Bug: 1832379\nDepends-On: https://review.opendev.org/#/c/664837/\n\nChange-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49\n'}]",3,665314,d02fad482d328a3368ccdbad8a5f253a774a03cc,20,4,5,28608,,,0,"Replace SR-IOV systemd unit script

* The goal of this change is to enable the ability to configure only the
VFs that are configured through the charm and not fallback to the
blanket configuration.
* This python version of the script brings unit-tests that fully covers
it.
* Move the the template files to `files` and modify `neutron_ovs_utils`
accordingly.

Closes-Bug: 1832379
Depends-On: https://review.opendev.org/#/c/664837/

Change-Id: I7ad1ebc16883bda23cbad89a852e7e8f88f49c49
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/14/665314/2 && git format-patch -1 --stdout FETCH_HEAD,"['unit_tests/test_neutron_openvswitch_networking_sriov.py', 'templates/kilo/neutron_openvswitch_networking_sriov.py', 'templates/kilo/neutron-openvswitch-networking-sriov.sh']",3,488534d552c4cc76ba10a6ab3347c25e6bb3b763,bug/1832379,"do_start() { /etc/init.d/neutron_openvswitch_networking_sriov.py --start --vfs ""${VFS_LIST}"" --vfs-blanket ""${VFS_BLANKET}"" } do_restart() { /etc/init.d/neutron_openvswitch_networking_sriov.py --restart --vfs ""${VFS_LIST}"" --vfs-blanket ""${VFS_BLANKET}"" /etc/init.d/neutron_openvswitch_networking_sriov.py --stop --vfs ""${VFS_LIST}"" --vfs-blanket ""${VFS_BLANKET}""","do_wait_for_vfs() { # Wait for VFs to be created PCI_DEVICE_PATH=$1 NUMVFS=$2 [ -z ""${DEBUG}"" ] || echo ""do_wait_for_vfs ${PCI_DEVICE_PATH} ${NUMVFS}"" while [ `ls -1 ""${PCI_DEVICE_PATH}/"" | wc -l` -lt ""${NUMVFS}"" ]; do [ -z ""${DEBUG}"" ] || echo wait... sleep 0.05 done } do_configure_vfs() { if [ ! -z ""${VFS_LIST}"" ]; then # Do configuration according to list of <device>:<numvfs> tuples OIFS=""$IFS"" echo ""${VFS_LIST}"" | \ while IFS=':' read DEVICE NUMVFS; do # Check whether we should stop [ -z ""${STOP}"" ] || NUMVFS=0 [ -z ""${DEBUG}"" ] || echo ""echo ${NUMVFS} \> /sys/class/net/${DEVICE}/device/sriov_numvfs"" echo ""${NUMVFS}"" > ""/sys/class/net/${DEVICE}/device/sriov_numvfs"" do_wait_for_vfs ""/sys/class/net/${DEVICE}/device"" ""${NUMVFS}"" done IFS=""$OIFS"" else # Do blanket configuration SYSFS_LST=`find /sys/devices -name sriov_totalvfs` for ENT in $SYSFS_LST; do DENT=`dirname $ENT` if [ -d ${DENT}/net ]; then TOTALVFS=`cat ""${ENT}""` [ -z ""${STOP}"" ] || VFS_BLANKET=0 if [ ""${VFS_BLANKET}"" = ""auto"" ]; then # Set sriov_numvfs to value of sriov_toatlvfs for ""auto"" NUMVFS=$TOTALVFS elif [ ""${VFS_BLANKET}"" -gt ""${TOTALVFS}"" ]; then # Set sriov_numvfs to value of sriov_totalvfs if # requested number is larger than sriov_totalvfs NUMVFS=$TOTALVFS else NUMVFS=$VFS_BLANKET fi # Set sriov_numvfs to requested number [ -z ""${DEBUG}"" ] || echo ""echo ${NUMVFS} \> ${DENT}/sriov_numvfs"" echo ""${NUMVFS}"" > ""${DENT}/sriov_numvfs"" do_wait_for_vfs ""${DENT}"" ""${NUMVFS}"" fi done fi } do_start() { do_configure_vfs STOP=1 do_configure_vfs",459,54
openstack%2Ftricircle~master~I04ce70414b2728662c7b97f373d4cfee635e1e16,openstack/tricircle,master,I04ce70414b2728662c7b97f373d4cfee635e1e16,add spec join tricircle-and-trio2o together,MERGED,2019-07-02 04:05:19.000000000,2019-07-02 10:28:10.000000000,2019-07-02 10:28:10.000000000,"[{'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-07-02 04:05:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/2b65ab20852ae2221a68f4751c1c59d0cd1702ee', 'message': 'add spec join tricircle-and-trio2o together\n\nChange-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16\n'}, {'number': 2, 'created': '2019-07-02 04:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/cfdc64f1412fd77c40e999a2588caa791f79326f', 'message': 'add spec join tricircle-and-trio2o together\n\nChange-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16\n'}, {'number': 3, 'created': '2019-07-02 04:10:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/867afc3ad10c1b4374a4c91f7c0688ef2d9a8ea5', 'message': 'add spec join tricircle-and-trio2o together\n\nChange-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16\n'}, {'number': 4, 'created': '2019-07-02 04:11:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tricircle/commit/92d87cf9650a2c73cb27d3023df77477decafd5f', 'message': 'add spec join tricircle-and-trio2o together\n\nChange-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16\n'}, {'number': 5, 'created': '2019-07-02 04:12:13.000000000', 'files': ['specs/train/join-tricircle-and-trio2o.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/3ba476ec46de685bebcc32f70fa98d40e0828fc1', 'message': 'add spec join tricircle-and-trio2o together\n\nChange-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16\n'}]",0,668589,3ba476ec46de685bebcc32f70fa98d40e0828fc1,10,2,5,28071,,,0,"add spec join tricircle-and-trio2o together

Change-Id: I04ce70414b2728662c7b97f373d4cfee635e1e16
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/89/668589/4 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/join-tricircle-and-trio2o.rst'],1,2b65ab20852ae2221a68f4751c1c59d0cd1702ee,bug/specs_join_tricircle_and_trio2o_together,"================================================================================ https://blueprints.launchpad.net/tricircle/ ~/+spec/join-tricircle-and-trio2o-together At the very beginning, Tricircle and Tiro2o has the same Poc Stage Project called OpenStack Cascased Solution[1] by Huawei. After tests they get divided as two independent project in community. Tricircle focus on network automation across neutron servers in multi-region OpenStack Clouds while Trio2o is the api gateway for transferring nova and cinder rest api. Although they get independent, however, in many application area such as NFV and multiple data centers they need to be reunified once again as their design concept is the same for multi-region openstack management since the beginning. This blueprint try to reunite Tricircle and Trio2o as a unified and complete project dedicated to multi-region OpenStack clouds management.Tricircle is one of the Community official components and kept on the pace with every Iterative version. The newest version is Stein. While Tio2o is out of update and management for a long time. The newest version is Mitaka. Also there exists a big problem is that Trio2o re-implement nova and cinder rest-api and cli command. Trio2o has no python-client. And overlaps may exists for the two project devstack install script as well,etc. ============== So It is needed to develop a unified common python-client for the two project Tricirle and Trio2o to unify and translate cli command and rest api. Also the two database and tables need to be combined together and redesigned . Source code and configure files about functions and api need to be unified planned . Then devstack install scripts as well as zuul gate jobs need to be merged and verified together. At last there need to check the tempest unit tests in an unified path specification. ============ "," https://blueprints.launchpad.net/tricircle/+spec/join-tricircle-and-trio2o-together At the very beginning, Tricircle and Tiro2o has the same Poc Stage Project called OpenStack Cascased Solution[1] by Huawei. After tests they get divided as two independent project in community . Tricircle focus on network automation across neutron servers in multi-region OpenStack Clouds while Trio2o is the api gateway for transferring nova and cinder rest api. Although they get independent, however, in many application area such as NFV and multiple data centers they need to be reunified once again as their design concept is the same for multi-region openstack management since the beginning. This blueprint try to reunite Tricircle and Trio2o as a unified and complete project dedicated to multi-region OpenStack clouds management.Tricircle is one of the Community official components and kept on the pace with every Iterative version. The newest version is Stein. While Tio2o is out of update and management for a long time. The newest version is Mitaka. Also there exists a big problem is that Trio2o re-implement nova and cinder rest-api and cli command. Trio2o has no python-client. And overlaps may exists for the two project devstack install script as well,etc. So It is needed to develop a unified common python-client for the two project Tricirle and Trio2o to unify and translate cli command and rest api. Also the two database and tables need to be combined together and redesigned . Source code and configure files about functions and api need to be unified planned . Then devstack install scripts as well as zuul gate jobs need to be merged and verified together. At last there need to check the tempest unit tests in an unified path specification. ",36,5
openstack%2Ftricircle~master~Ie0c03e401d64845ed81b17b81e0696a56dc7c213,openstack/tricircle,master,Ie0c03e401d64845ed81b17b81e0696a56dc7c213,join tricircle and trio2o together,MERGED,2019-07-02 03:50:54.000000000,2019-07-02 10:27:53.000000000,2019-07-02 10:27:53.000000000,"[{'_account_id': 22348}, {'_account_id': 28071}]","[{'number': 1, 'created': '2019-07-02 03:50:54.000000000', 'files': ['specs/train/join-tricircle-and-trio2o.rst'], 'web_link': 'https://opendev.org/openstack/tricircle/commit/1a1740b7cd66feb60de3d76e57eb6bdf1a983fd2', 'message': 'join tricircle and trio2o together\n\nChange-Id: Ie0c03e401d64845ed81b17b81e0696a56dc7c213\nsigned-off-by: zhangchi <zhangchi@szzt.com.cn>\nCo-Authored-By: tangzhuo <ztang@hnu.edu.cn>\n'}]",0,668586,1a1740b7cd66feb60de3d76e57eb6bdf1a983fd2,10,2,1,28071,,,0,"join tricircle and trio2o together

Change-Id: Ie0c03e401d64845ed81b17b81e0696a56dc7c213
signed-off-by: zhangchi <zhangchi@szzt.com.cn>
Co-Authored-By: tangzhuo <ztang@hnu.edu.cn>
",git fetch https://review.opendev.org/openstack/tricircle refs/changes/86/668586/1 && git format-patch -1 --stdout FETCH_HEAD,['specs/train/join-tricircle-and-trio2o.rst'],1,1a1740b7cd66feb60de3d76e57eb6bdf1a983fd2,bug/specs_join_tricircle_and_trio2o_together,"Join Tricircle and Trio2o together Blueprint https://blueprints.launchpad.net/tricircle/+spec/join-tricircle-and-trio2o-together At the very beginning, Tricircle and Tiro2o has the same Poc Stage Project called OpenStack Cascased Solution[1] by Huawei. After tests they get divided as two independent project in community . Tricircle focus on network automation across neutron servers in multi-region OpenStack Clouds while Trio2o is the api gateway for transferring nova and cinder rest api. Although they get independent, however, in many application area such as NFV and multiple data centers they need to be reunified once again as their design concept is the same for multi-region openstack management since the beginning. This blueprint try to reunite Tricircle and Trio2o as a unified and complete project dedicated to multi-region OpenStack clouds management. Problem Description Tricircle is one of the Community official components and kept on the pace with every Iterative version. The newest version is Stein. While Tio2o is out of update and management for a long time. The newest version is Mitaka. Also there exists a big problem is that Trio2o re-implement nova and cinder rest-api and cli command. Trio2o has no python-client. And overlaps may exists for the two project devstack install script as well,etc. Implementation So It is needed to develop a unified common python-client for the two project Tricirle and Trio2o to unify and translate cli command and rest api. Also the two database and tables need to be combined together and redesigned . Source code and configure files about functions and api need to be unified planned . Then devstack install scripts as well as zuul gate jobs need to be merged and verified together. At last there need to check the tempest unit tests in an unified path specification. References [1].https://wiki.openstack.org/wiki/OpenStack_cascading_solution [2].https://wiki.openstack.org/wiki/Tricircle [3].https://wiki.openstack.org/wiki/Trio2o [4].https://github.com/openstack/tricircle [5].https://github.com/openstack/python-tricircleclient [6].https://github.com/openstack/trio2o [7].https://docs.openstack.org/tricircle/latest/user/readme.html ",,19,0
openstack%2Ftempest~master~I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58,openstack/tempest,master,I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58,DNM Dump routers' namespaces when ssh to instance fails,ABANDONED,2019-04-24 14:32:16.000000000,2019-07-02 10:24:26.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-04-24 14:32:16.000000000', 'files': ['tempest/lib/common/utils/linux/remote_client.py'], 'web_link': 'https://opendev.org/openstack/tempest/commit/27709906276fce553befc9f4c3d6594117b01cca', 'message': ""DNM Dump routers' namespaces when ssh to instance fails\n\nChange-Id: I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58\nRelated-Bug: #1821912\n""}]",0,655461,27709906276fce553befc9f4c3d6594117b01cca,3,1,1,11975,,,0,"DNM Dump routers' namespaces when ssh to instance fails

Change-Id: I1c846fd8f8e2c1f5fdac5b2a58106ed1b709ee58
Related-Bug: #1821912
",git fetch https://review.opendev.org/openstack/tempest refs/changes/61/655461/1 && git format-patch -1 --stdout FETCH_HEAD,['tempest/lib/common/utils/linux/remote_client.py'],1,27709906276fce553befc9f4c3d6594117b01cca,bug/1821912,"import subprocess dump_routers_namespaces()def dump_routers_namespaces(): def exec_command(cmd): proc = subprocess.Popen(cmd, stdout=subprocess.PIPE, stderr=subprocess.PIPE) return proc.communicate() namespaces_cmd = ['ip', 'netns'] namespaces = str(exec_command(namespaces_cmd)[0]).split(""\\n"") router_namespaces = [ ns.split("" "")[0] for ns in namespaces if ns.startswith(""qrouter-"")] for router_ns_name in router_namespaces: LOG.debug(""===== Dump of namespace %s ========"", router_ns_name) ns_cmd = ['sudo', 'ip', 'netns', 'exec', router_ns_name] interfaces_cmd = ns_cmd + ['ip', 'a'] interfaces_result = exec_command(interfaces_cmd) LOG.debug(""Namespace %s interfaces: %s"", router_ns_name, interfaces_result) iptables_cmd = ns_cmd + ['iptables-save'] iptables_result = exec_command(iptables_cmd) LOG.debug(""Namespace %s iptables rules: %s"", router_ns_name, iptables_result) neigh_cmd = ns_cmd + ['ip', 'neigh'] neigh_result = exec_command(iptables_cmd) LOG.debug(""Namespace %s neighbors: %s"", router_ns_name, neigh_result) routes_cmd = ns_cmd + ['ip', 'route'] routes_result = exec_command(iptables_cmd) LOG.debug(""Namespace %s routes: %s"", router_ns_name, routes_result) ",,38,0
openstack%2Fneutron-tempest-plugin~master~Ic2ca50902112517586f1cc911ca1c39419bfd429,openstack/neutron-tempest-plugin,master,Ic2ca50902112517586f1cc911ca1c39419bfd429,DNM Dump router's namespace if ssh fails,ABANDONED,2019-04-24 13:39:38.000000000,2019-07-02 10:24:23.000000000,,"[{'_account_id': 9531}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-24 13:39:38.000000000', 'files': ['neutron_tempest_plugin/scenario/admin/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/test_connectivity.py', 'neutron_tempest_plugin/scenario/base.py'], 'web_link': 'https://opendev.org/openstack/neutron-tempest-plugin/commit/d4dbe59839a18dfa221db7c752e2f20281fa7b53', 'message': ""DNM Dump router's namespace if ssh fails\n\nChange-Id: Ic2ca50902112517586f1cc911ca1c39419bfd429\nRelated-Bug: #1821912\n""}]",0,655431,d4dbe59839a18dfa221db7c752e2f20281fa7b53,4,2,1,11975,,,0,"DNM Dump router's namespace if ssh fails

Change-Id: Ic2ca50902112517586f1cc911ca1c39419bfd429
Related-Bug: #1821912
",git fetch https://review.opendev.org/openstack/neutron-tempest-plugin refs/changes/31/655431/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_tempest_plugin/scenario/admin/test_floatingip.py', 'neutron_tempest_plugin/scenario/test_security_groups.py', 'neutron_tempest_plugin/scenario/base.py', 'neutron_tempest_plugin/scenario/test_connectivity.py']",4,d4dbe59839a18dfa221db7c752e2f20281fa7b53,bug/1821912," ap1_sshclient, ap2_internal_port['fixed_ips'][0]['ip_address'], router_ids=[ap1_rt['id'], ap2_rt['id']])"," ap1_sshclient, ap2_internal_port['fixed_ips'][0]['ip_address'])",42,6
openstack%2Fdiskimage-builder~master~I9774488a307d384565331441e5e31cfc96a251a7,openstack/diskimage-builder,master,I9774488a307d384565331441e5e31cfc96a251a7,Mailing lists change openstack-dev to openstack-discuss,MERGED,2019-07-01 11:17:36.000000000,2019-07-02 09:53:21.000000000,2019-07-02 09:53:21.000000000,"[{'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 11:17:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/54c9259b5f2dad5f84c3d3fc9d884d54cb521558', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I9774488a307d384565331441e5e31cfc96a251a7\n'}, {'number': 2, 'created': '2019-07-02 07:23:26.000000000', 'files': ['doc/source/index.rst'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d1661e922fbb6688bea27a1d19200dedc7ea9211', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I9774488a307d384565331441e5e31cfc96a251a7\n'}]",0,668435,d1661e922fbb6688bea27a1d19200dedc7ea9211,8,2,2,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I9774488a307d384565331441e5e31cfc96a251a7
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/35/668435/2 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/index.rst'],1,54c9259b5f2dad5f84c3d3fc9d884d54cb521558,,(``openstack-discuss@lists.openstack.org``).,(``openstack-dev@lists.openstack.org``).,1,1
openstack%2Ftripleo-heat-templates~stable%2Frocky~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,stable/rocky,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-07-02 04:03:57.000000000,2019-07-02 09:48:22.000000000,2019-07-02 09:48:22.000000000,"[{'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 20172}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-02 04:03:57.000000000', 'files': ['puppet/services/nova-compute.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a247ee0278cd2b2bff94e4567c207089b73ec5c9', 'message': ""Add missing tag 'role_specific' for NovaPciPassthrough parameter\n\nChange-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34\nCloses-Bug: #1834557\n(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)\n""}]",0,668588,a247ee0278cd2b2bff94e4567c207089b73ec5c9,9,6,1,18575,,,0,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
(cherry picked from commit 8860eee23138f48756a684f2954352004ba766d4)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/88/668588/1 && git format-patch -1 --stdout FETCH_HEAD,['puppet/services/nova-compute.yaml'],1,a247ee0278cd2b2bff94e4567c207089b73ec5c9,, tags: - role_specific,,2,0
openstack%2Fmonasca-notification~master~Icb91feaf7821fe014542350125c5011bab530103,openstack/monasca-notification,master,Icb91feaf7821fe014542350125c5011bab530103,Add default notification plugins to configuration,MERGED,2019-07-01 16:01:19.000000000,2019-07-02 09:28:29.000000000,2019-07-02 09:28:29.000000000,"[{'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 16:01:19.000000000', 'files': ['monasca_notification/conf/notifiers.py'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/fd1c6dfab9719b4252da29789aeb1f7974419e54', 'message': 'Add default notification plugins to configuration\n\nIn the past email, pagerduty and webhook notification plugins had been\nhard coded and always enabled. This situation is still reflected in the\ndeprecated YAML configuration file [1]. These notification method types\nare also expected by tempest tests.\n\nThis change sets email, pagerduty and webhook as the default list of\nenabled notifiers. This corresponds to the old behavior and testing but\ncan be easily modified by overwriting the list in the configuration\nfile.\n\n[1] https://opendev.org/openstack/monasca-api/src/branch/master/devstack/files/monasca-notification/notification.yaml#L51-L54\n\nChange-Id: Icb91feaf7821fe014542350125c5011bab530103\nStory: 2000959\nTask: 35644\n'}]",0,668508,fd1c6dfab9719b4252da29789aeb1f7974419e54,7,3,1,16222,,,0,"Add default notification plugins to configuration

In the past email, pagerduty and webhook notification plugins had been
hard coded and always enabled. This situation is still reflected in the
deprecated YAML configuration file [1]. These notification method types
are also expected by tempest tests.

This change sets email, pagerduty and webhook as the default list of
enabled notifiers. This corresponds to the old behavior and testing but
can be easily modified by overwriting the list in the configuration
file.

[1] https://opendev.org/openstack/monasca-api/src/branch/master/devstack/files/monasca-notification/notification.yaml#L51-L54

Change-Id: Icb91feaf7821fe014542350125c5011bab530103
Story: 2000959
Task: 35644
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/08/668508/1 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/conf/notifiers.py'],1,fd1c6dfab9719b4252da29789aeb1f7974419e54,," cfg.ListOpt(name='enabled', default=['email', 'pagerduty', 'webhook'],"," cfg.ListOpt(name='enabled', default=[],",1,1
openstack%2Fopenstack-ansible-os_neutron~master~I10f350d40f9291c7688b336291f433ee3c4072d1,openstack/openstack-ansible-os_neutron,master,I10f350d40f9291c7688b336291f433ee3c4072d1,Use neutron credentials when connecting to other APIs,MERGED,2019-07-01 20:49:31.000000000,2019-07-02 09:16:49.000000000,2019-07-02 09:16:48.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}]","[{'number': 1, 'created': '2019-07-01 20:49:31.000000000', 'files': ['templates/neutron.conf.j2'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_neutron/commit/edcbdf4b53b3476228568a409d7b4311a3c30b53', 'message': ""Use neutron credentials when connecting to other APIs\n\nWhen neutron is connecting to another service's API, ex. neutron,\nit should use its own credentials to obtain an authtoken when\naccessing the other service's API as a client. Only the other\nservice (eg. nova) should use its own service credentials\nwhen obtaining auth tokens.\n\nChange-Id: I10f350d40f9291c7688b336291f433ee3c4072d1\n""}]",0,668559,edcbdf4b53b3476228568a409d7b4311a3c30b53,7,3,1,17799,,,0,"Use neutron credentials when connecting to other APIs

When neutron is connecting to another service's API, ex. neutron,
it should use its own credentials to obtain an authtoken when
accessing the other service's API as a client. Only the other
service (eg. nova) should use its own service credentials
when obtaining auth tokens.

Change-Id: I10f350d40f9291c7688b336291f433ee3c4072d1
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_neutron refs/changes/59/668559/1 && git format-patch -1 --stdout FETCH_HEAD,['templates/neutron.conf.j2'],1,edcbdf4b53b3476228568a409d7b4311a3c30b53,fix-credentials-scoping,auth_type = password username = {{ neutron_service_user_name }} password = {{ neutron_service_password }} project_name = {{ neutron_service_project_name }} user_domain_id = {{ neutron_service_user_domain_id }} project_domain_id = {{ neutron_service_project_domain_id }}insecure = {{ keystone_service_adminuri_insecure | bool }}auth_type = password username = {{ neutron_service_user_name }} password = {{ neutron_service_password }} project_name = {{ neutron_service_project_name }} user_domain_id = {{ neutron_service_user_domain_id }} project_domain_id = {{ neutron_service_project_domain_id }}insecure = {{ keystone_service_adminuri_insecure | bool }},auth_type = {{ designate_keystone_auth_plugin }} auth_uri = {{ keystone_service_adminuri }}region_name = {{ designate_service_region }} project_domain_id = {{ designate_service_project_domain_id }} user_domain_id = {{ designate_service_user_domain_id }} project_name = {{ designate_service_project_name }} username = {{ designate_service_user_name }} password = {{ designate_service_password }}insecure = {{ keystone_service_adminuri_insecure | bool }} auth_type = {{ nova_keystone_auth_plugin }}region_name = {{ nova_service_region }} project_domain_id = {{ nova_service_project_domain_id }} user_domain_id = {{ nova_service_user_domain_id }} project_name = {{ nova_service_project_name }} username = {{ nova_service_user_name }} password = {{ nova_service_password }} endpoint_type = internal,14,17
openstack%2Fpython-tripleoclient~master~I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,openstack/python-tripleoclient,master,I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e,Improve validations run outputs through the CLI,MERGED,2019-05-16 15:20:21.000000000,2019-07-02 09:03:10.000000000,2019-07-02 09:02:24.000000000,"[{'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-05-16 15:20:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/cbfa31613dad03c3cefc9743db62e70aca178388', 'message': ""[WIP] Improve validations run outputs\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 2, 'created': '2019-05-27 14:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/7634e05925f646cdab7986c72d698885e655c0dc', 'message': ""Improve validations run outputs\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 3, 'created': '2019-06-04 09:40:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/a5f0ae0530d9bbc73b3ea8cabf3014d717ea4f1b', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 4, 'created': '2019-06-13 12:44:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/e0d018542110fca7f973c50756132a624e3884ad', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 5, 'created': '2019-06-13 15:57:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/aaab48b813a38a091aa9f36e3e0324d98678cdc6', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 6, 'created': '2019-06-18 12:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/fd99abbaf4420d6533db1b2c5795a9d889303b3e', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 7, 'created': '2019-06-21 09:25:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/2aa75a274a06b93a1893a4b63cac8f7830b16405', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}, {'number': 8, 'created': '2019-07-01 13:30:03.000000000', 'files': ['tripleoclient/workflows/validations.py', 'tripleoclient/utils.py', 'tripleoclient/v1/tripleo_validator.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/1acbef8a0630d2d4a0ae9909269b81364ef481b9', 'message': ""Improve validations run outputs through the CLI\n\nWhen the tripleo.messaging.v1.send workflow fails with the error\n'Workflow failed due to message status', the return message is None and\nwe don't have more information about what's failing. The same happens if\nthe validation runs well.\n\nThis patch improves the output in case of a messaging workflow failure.\n\nChange-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n""}]",4,659597,1acbef8a0630d2d4a0ae9909269b81364ef481b9,41,9,8,11491,,,0,"Improve validations run outputs through the CLI

When the tripleo.messaging.v1.send workflow fails with the error
'Workflow failed due to message status', the return message is None and
we don't have more information about what's failing. The same happens if
the validation runs well.

This patch improves the output in case of a messaging workflow failure.

Change-Id: I3fbf1a05b706b55fe1ab6d35653aecdaa8d4cc6e
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/97/659597/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleoclient/workflows/validations.py', 'tripleoclient/v1/tripleo_validator.py']",2,cbfa31613dad03c3cefc9743db62e70aca178388,fix_validations_run, print('\n {}'.format(output)), print(oooutils.get_validations_json(output)),13,4
openstack%2Fkolla-ansible~master~Ifc898015b9b523ef4c50fc969e464f05762f2151,openstack/kolla-ansible,master,Ifc898015b9b523ef4c50fc969e464f05762f2151,Add note to CI config regarding registry during upgrade,MERGED,2019-07-01 16:47:23.000000000,2019-07-02 08:51:26.000000000,2019-07-02 08:51:26.000000000,"[{'_account_id': 14826}, {'_account_id': 19316}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 16:47:23.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a0bdc3669a4432723e1a2756150c05a28a9affbc', 'message': 'Add note to CI config regarding registry during upgrade\n\nChange-Id: Ifc898015b9b523ef4c50fc969e464f05762f2151\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",0,668524,a0bdc3669a4432723e1a2756150c05a28a9affbc,7,3,1,30491,,,0,"Add note to CI config regarding registry during upgrade

Change-Id: Ifc898015b9b523ef4c50fc969e464f05762f2151
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/24/668524/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,a0bdc3669a4432723e1a2756150c05a28a9affbc,add-note,"# NOTE(yoctozepto): this is required here for CI because we run templating # of docker systemd command only once, using the previous release when upgrading # also note: atm upgrade would conflict with the zun profile which uses this var",,3,0
openstack%2Fsahara~master~I5e445c1885bc13561556e01357f28872329399f2,openstack/sahara,master,I5e445c1885bc13561556e01357f28872329399f2,Imported Translations from Zanata,MERGED,2019-07-02 08:02:31.000000000,2019-07-02 08:44:32.000000000,2019-07-02 08:44:32.000000000,"[{'_account_id': 10459}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 08:02:31.000000000', 'files': ['releasenotes/source/locale/it/LC_MESSAGES/releasenotes.po'], 'web_link': 'https://opendev.org/openstack/sahara/commit/22e1d9acb93c421854652fb6c21235e7f3ec8683', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: I5e445c1885bc13561556e01357f28872329399f2\n'}]",0,668628,22e1d9acb93c421854652fb6c21235e7f3ec8683,6,2,1,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: I5e445c1885bc13561556e01357f28872329399f2
",git fetch https://review.opendev.org/openstack/sahara refs/changes/28/668628/1 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/source/locale/it/LC_MESSAGES/releasenotes.po'],1,22e1d9acb93c421854652fb6c21235e7f3ec8683,zanata/translations,"# Luigi Toscano <ltoscano@redhat.com>, 2019. #zanata""POT-Creation-Date: 2019-07-01 15:11+0000\n""""PO-Revision-Date: 2019-07-01 10:22+0000\n""msgid ""10.0.0"" msgstr ""10.0.0"" msgid ""7.0.3"" msgstr ""7.0.3"" msgid ""8.0.2-13"" msgstr ""8.0.2-13"" msgid ""9.0.1"" msgstr ""9.0.1"" msgid ""9.0.1-8"" msgstr ""9.0.1-8"" msgid """" ""Enables the creation and validation of Ambari 2.4 images using the new image "" ""generation process where libguestfs replaces the use of DIB."" msgstr """" ""Permette la creazione e la validazione di immagini Ambari 2.4 usando il "" ""nuovo processo di generazione delle immagini in cui libguestfs sostituisce "" ""l'uso di DIB."" msgid """" ""Enables the creation and validation of CDH 5.11.0 images using the new image "" ""generation process where libguestfs replaces the use of DIB."" msgstr """" ""Permette la creazione e la validazione di immagini CDH 5.11.0 usando il "" ""nuovo processo di generazione delle immagini in cui libguestfs sostituisce "" ""l'uso di DIB."" msgid """" ""Enables the creation and validation of CDH 5.7.0 images using the new image "" ""generation process where libguestfs replaces the use of DIB."" msgstr """" ""Permette la creazione e la validazione di immagini CDH 5.7.0 usando il nuovo "" ""processo di generazione delle immagini in cui libguestfs sostituisce l'uso "" ""di DIB."" msgid """" ""Enables the creation and validation of CDH 5.9.0 images using the new image "" ""generation process where libguestfs replaces the use of DIB."" msgstr """" ""Permette la creazione e la validazione di immagini CDH 5.9.0 usando il nuovo "" ""processo di generazione delle immagini in cui libguestfs sostituisce l'uso "" ""di DIB."" msgid ""Fix Hue intergation with Spark and Hive on different nodes"" msgstr ""Corretta l'integrazione di Hue con Spark e Hive su nodi diversi"" msgid ""Fix creating Hive database schema automatically."" msgstr ""Corretta la creazione automatica di schemi di database di Hive"" msgid ""Fix unavailable MCS link."" msgstr ""Corretto il collegamento MCS non disponibile"" msgid ""Fixed api_insecure handling in sessions. Closed bug 1539498."" msgstr """" ""Corretta la gestione di api_insecure nelle sessioni. Risolve il bug 1539498."" ","""POT-Creation-Date: 2019-03-21 18:55+0000\n""""PO-Revision-Date: 2018-10-25 03:03+0000\n""",63,2
openstack%2Fadjutant~master~Ic6165de66d7969adf03152f9a5c34e68782f47c8,openstack/adjutant,master,Ic6165de66d7969adf03152f9a5c34e68782f47c8,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:09:47.000000000,2019-07-02 08:28:48.000000000,,"[{'_account_id': 10420}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-01 18:09:47.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/6535f84d26f51a48451626deca02bcf44581441d', 'message': ""Force to use markdown to prevent pypi issue\n\nRecently the pypi team have reintroduce some deactivated tests\non package deployment and especially tests concerning long_description\nsyntaxe.\n\nIf projects don't specify that they use the markdown format the\npackage deployment will fail if something went wrong in the markdown format.\n\nBy example if a project use inline literal this can be an issue due to\nthe fact that if `long_description_content_type` is missing [1]. The\ndefault format will be `text/x-rst` where code block is different from\nmarkdown.\n\nThese changes force to use the markdown format to avoid this kind of issue\non project who use `README` at markdown format.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html\n\nFor more details:\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: Ic6165de66d7969adf03152f9a5c34e68782f47c8\n""}]",0,668536,6535f84d26f51a48451626deca02bcf44581441d,5,3,1,28522,,,0,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ic6165de66d7969adf03152f9a5c34e68782f47c8
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/36/668536/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6535f84d26f51a48451626deca02bcf44581441d,format-markdown,long_description_content_type = text/markdown,,1,0
openstack%2Fopenstack-ansible-os_cinder~master~Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a,openstack/openstack-ansible-os_cinder,master,Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a,Switch to the new canonical constraints URL on master,MERGED,2019-06-20 13:44:24.000000000,2019-07-02 08:17:27.000000000,2019-07-02 08:17:27.000000000,"[{'_account_id': 6593}, {'_account_id': 17068}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28619}, {'_account_id': 28748}]","[{'number': 1, 'created': '2019-06-20 13:44:24.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_cinder/commit/74fee6e786a4fe7ad5c3d77f089cb48819aa19c0', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n\nChange-Id: Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a\n'}]",0,666580,74fee6e786a4fe7ad5c3d77f089cb48819aa19c0,15,6,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html

Change-Id: Ib9ffa6c270091cb438c8e25af5026a7d2d6a1e9a
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_cinder refs/changes/80/666580/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,74fee6e786a4fe7ad5c3d77f089cb48819aa19c0,, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages}, pip install -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fnetworking-ovn~master~Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c,openstack/networking-ovn,master,Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c,Fix synchronization failure of acl rules,ABANDONED,2019-02-14 08:32:15.000000000,2019-07-02 07:59:33.000000000,,"[{'_account_id': 8655}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-02-14 08:32:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/495d05786c8d4ce30dcd89311dde50403dc69b14', 'message': ""Fix synchronization failure of acl rules\n\nFix the problem of parameters mismatch of acl rule between neutron\nand nb, in the process  of neutron and ovn's db synchronization\n(nb's acl has more 'severity' and 'name' attributes),\nresulting in wrong synchronization.The cmd of synchronization\nis 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf\n--config-file /etc/neutron/plugins/ml2/ml2_conf.ini\n--ovn-neutron_sync_mode repair'\n\nChange-Id: Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c\n""}, {'number': 2, 'created': '2019-02-15 01:44:55.000000000', 'files': ['networking_ovn/common/constants.py', 'networking_ovn/ovn_db_sync.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/98fc08fd745a9de1b2c17e4758bbf85113a1f82f', 'message': ""Fix synchronization failure of acl rules\n\nFix the problem of parameters mismatch of acl rule between neutron\nand nb, in the process  of neutron and ovn's db synchronization\n(nb's acl has more 'severity' and 'name' attributes),\nresulting in wrong synchronization.The cmd of synchronization\nis 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf\n--config-file /etc/neutron/plugins/ml2/ml2_conf.ini\n--ovn-neutron_sync_mode repair'\n\nChange-Id: Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c\n""}]",0,636854,98fc08fd745a9de1b2c17e4758bbf85113a1f82f,7,2,2,29874,,,0,"Fix synchronization failure of acl rules

Fix the problem of parameters mismatch of acl rule between neutron
and nb, in the process  of neutron and ovn's db synchronization
(nb's acl has more 'severity' and 'name' attributes),
resulting in wrong synchronization.The cmd of synchronization
is 'neutron-ovn-db-sync-util --config-file /etc/neutron/neutron.conf
--config-file /etc/neutron/plugins/ml2/ml2_conf.ini
--ovn-neutron_sync_mode repair'

Change-Id: Icc29a41f1201a979d35cfa72a9ea9704df8d0e2c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/54/636854/1 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/common/constants.py', 'networking_ovn/ovn_db_sync.py']",2,495d05786c8d4ce30dcd89311dde50403dc69b14,bug/1708594, for port in nb_acls: for acl in nb_acls[port]: acl.pop('name') acl.pop('severity') if port in neutron_acls.keys() and \ acl in list(neutron_acls[port]): neutron_acls[port].remove(acl) ovn_a.pop('name') ovn_a.pop('severity'), for port in neutron_acls.keys(): for acl in list(neutron_acls[port]): if port in nb_acls and acl in nb_acls[port]: neutron_acls[port].remove(acl),10,5
openstack%2Fdevstack~stable%2Fstein~Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9,openstack/devstack,stable/stein,Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9,Remove the devstack-single-node-fedora-latest definition,MERGED,2019-05-31 18:29:08.000000000,2019-07-02 07:57:12.000000000,2019-07-02 07:57:12.000000000,"[{'_account_id': 1131}, {'_account_id': 7118}, {'_account_id': 13252}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-31 18:29:08.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/devstack/commit/f7678c90d4cfce1a8b3f48bbf59a52ac78991c16', 'message': 'Remove the devstack-single-node-fedora-latest definition\n\nThis should have been removed when stable/stein was branched,\nand is preventing changing the definition in master to use f29.\n\nChange-Id: Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9\n'}]",0,662538,f7678c90d4cfce1a8b3f48bbf59a52ac78991c16,10,4,1,1131,,,0,"Remove the devstack-single-node-fedora-latest definition

This should have been removed when stable/stein was branched,
and is preventing changing the definition in master to use f29.

Change-Id: Idcf7cefa8be5d7990e9c597ff7d371d5fc3103d9
",git fetch https://review.opendev.org/openstack/devstack refs/changes/38/662538/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,f7678c90d4cfce1a8b3f48bbf59a52ac78991c16,f29,, name: devstack-single-node-fedora-latest nodes: - name: controller label: fedora-28 groups: - name: tempest nodes: - controller - nodeset:,0,10
openstack%2Ftripleo-validations~stable%2Fstein~I2d5ec11b3c71312970f5ab5b352c9b6e776e8647,openstack/tripleo-validations,stable/stein,I2d5ec11b3c71312970f5ab5b352c9b6e776e8647,Deprecate all the `validations` directory contents,MERGED,2019-07-01 11:16:08.000000000,2019-07-02 07:53:12.000000000,2019-07-02 07:53:12.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-07-01 11:16:08.000000000', 'files': ['validations/rabbitmq-limits.yaml', 'validations/stack-health.yaml', 'validations/openshift-hw-requirements.yaml', 'validations/switch-vlans.yaml', 'validations/tasks/deprecation.yaml', 'validations/ceilometerdb-size.yaml', 'validations/check-network-gateway.yaml', 'validations/pacemaker-status.yaml', 'validations/ironic-boot-configuration.yaml', 'validations/network-environment.yaml', 'validations/haproxy.yaml', 'validations/undercloud-disk-space-pre-upgrade.yaml', 'validations/openshift-nw-requirements.yaml', 'validations/ntpstat.yaml', 'validations/node-health.yaml', 'validations/dhcp-provisioning.yaml', 'validations/undercloud-ram.yaml', 'validations/mysql-open-files-limit.yaml', 'validations/undercloud-neutron-sanity-check.yaml', 'validations/512e.yaml', 'validations/dhcp-introspection.yaml', 'validations/repos.yaml', 'validations/openstack-endpoints.yaml', 'validations/ovs-dpdk-pmd-cpus-check.yaml', 'validations/undercloud-disk-space.yaml', 'validations/collect-flavors-and-verify-profiles.yaml', 'validations/containerized-undercloud-docker.yaml', 'validations/nova-event-callback.yaml', 'validations/undercloud-heat-purge-deleted.yaml', 'validations/ceph-ansible-installed.yaml', 'validations/undercloud-tokenflush.yaml', 'validations/default-node-count.yaml', 'validations/neutron-sanity-check.yaml', 'validations/dns.yaml', 'validations/controller-ulimits.yaml', 'releasenotes/notes/validations-directory-deprecation-6ff07dae6f456743.yaml', 'validations/undercloud-process-count.yaml', 'validations/stonith-exists.yaml', 'validations/undercloud-service-status.yaml', 'validations/no-op-firewall-nova-driver.yaml', 'validations/controller-token.yaml', 'validations/deployment-images.yaml', 'validations/ceph-health.yaml', 'validations/undercloud-selinux-mode.yaml', 'validations/undercloud-cpu.yaml', 'validations/ctlplane-ip-range.yaml', 'validations/node-disks.yaml', 'validations/check-latest-minor-version.yaml', 'validations/check-ftype.yaml', 'validations/undercloud-debug.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/fb838d37a45f2fe498eaa3c4de822d11a02ecff1', 'message': 'Deprecate all the `validations` directory contents\n\nAll the validation includes a task which warns the operator that\neverything in this directory is deprecated and points them to the latest\nofficial documentation.\n\nChange-Id: I2d5ec11b3c71312970f5ab5b352c9b6e776e8647\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,668434,fb838d37a45f2fe498eaa3c4de822d11a02ecff1,8,5,1,11491,,,0,"Deprecate all the `validations` directory contents

All the validation includes a task which warns the operator that
everything in this directory is deprecated and points them to the latest
official documentation.

Change-Id: I2d5ec11b3c71312970f5ab5b352c9b6e776e8647
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/34/668434/1 && git format-patch -1 --stdout FETCH_HEAD,"['validations/rabbitmq-limits.yaml', 'validations/stack-health.yaml', 'validations/openshift-hw-requirements.yaml', 'validations/switch-vlans.yaml', 'validations/tasks/deprecation.yaml', 'validations/ceilometerdb-size.yaml', 'validations/check-network-gateway.yaml', 'validations/pacemaker-status.yaml', 'validations/ironic-boot-configuration.yaml', 'validations/network-environment.yaml', 'validations/haproxy.yaml', 'validations/undercloud-disk-space-pre-upgrade.yaml', 'validations/openshift-nw-requirements.yaml', 'validations/ntpstat.yaml', 'validations/node-health.yaml', 'validations/dhcp-provisioning.yaml', 'validations/undercloud-ram.yaml', 'validations/mysql-open-files-limit.yaml', 'validations/undercloud-neutron-sanity-check.yaml', 'validations/512e.yaml', 'validations/dhcp-introspection.yaml', 'validations/repos.yaml', 'validations/openstack-endpoints.yaml', 'validations/ovs-dpdk-pmd-cpus-check.yaml', 'validations/undercloud-disk-space.yaml', 'validations/collect-flavors-and-verify-profiles.yaml', 'validations/containerized-undercloud-docker.yaml', 'validations/nova-event-callback.yaml', 'validations/undercloud-heat-purge-deleted.yaml', 'validations/ceph-ansible-installed.yaml', 'validations/undercloud-tokenflush.yaml', 'validations/default-node-count.yaml', 'validations/neutron-sanity-check.yaml', 'validations/dns.yaml', 'validations/controller-ulimits.yaml', 'releasenotes/notes/validations-directory-deprecation-6ff07dae6f456743.yaml', 'validations/undercloud-process-count.yaml', 'validations/stonith-exists.yaml', 'validations/undercloud-service-status.yaml', 'validations/no-op-firewall-nova-driver.yaml', 'validations/controller-token.yaml', 'validations/deployment-images.yaml', 'validations/ceph-health.yaml', 'validations/undercloud-selinux-mode.yaml', 'validations/undercloud-cpu.yaml', 'validations/ctlplane-ip-range.yaml', 'validations/node-disks.yaml', 'validations/check-latest-minor-version.yaml', 'validations/check-ftype.yaml', 'validations/undercloud-debug.yaml']",50,fb838d37a45f2fe498eaa3c4de822d11a02ecff1,, - include_tasks: tasks/deprecation.yaml ,,109,3
openstack%2Fnetworking-ovn~master~Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68,openstack/networking-ovn,master,Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68,Remove those copy words occured twice times in migration.rst,ABANDONED,2018-11-13 09:58:36.000000000,2019-07-02 07:36:59.000000000,,"[{'_account_id': 8788}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 09:58:36.000000000', 'files': ['doc/source/install/migration.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/664be90af062eaa208a5c2b2aa54953f997707a3', 'message': 'Remove those copy words occured twice times in migration.rst\n\nChange-Id: Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68\n'}]",0,617548,664be90af062eaa208a5c2b2aa54953f997707a3,4,2,1,27366,,,0,"Remove those copy words occured twice times in migration.rst

Change-Id: Ibd529907d60ee5a1f4b0b1d16571c3ecba1b5e68
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/617548/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/migration.rst'],1,664be90af062eaa208a5c2b2aa54953f997707a3,," 24 hours), that way all instances will grab the new lease renewal"," 24 hours), that way all instances will grab the new new lease renewal",1,1
openstack%2Fnetworking-ovn~master~I9673c611ba4bcccbd1853bad9e8f02310de02ae9,openstack/networking-ovn,master,I9673c611ba4bcccbd1853bad9e8f02310de02ae9,Omit the twice occured words in  tripleo.rst,ABANDONED,2018-11-13 09:51:33.000000000,2019-07-02 07:35:30.000000000,,"[{'_account_id': 6773}, {'_account_id': 8788}, {'_account_id': 9531}, {'_account_id': 17776}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-11-13 09:51:33.000000000', 'files': ['doc/source/install/tripleo.rst'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/bfacef6accaf754743256c2e42d5a48777b27db4', 'message': 'Omit the twice occured words in  tripleo.rst\n\nChange-Id: I9673c611ba4bcccbd1853bad9e8f02310de02ae9\n'}]",4,617546,bfacef6accaf754743256c2e42d5a48777b27db4,7,5,1,27366,,,0,"Omit the twice occured words in  tripleo.rst

Change-Id: I9673c611ba4bcccbd1853bad9e8f02310de02ae9
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/46/617546/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/install/tripleo.rst'],1,bfacef6accaf754743256c2e42d5a48777b27db4,, openstack subnet create --network private \, openstack subnet create --network private private \,1,1
openstack%2Fdiskimage-builder~master~I8580849ceaa7a5152c94f29afa890ac6d6983fb1,openstack/diskimage-builder,master,I8580849ceaa7a5152c94f29afa890ac6d6983fb1,install gnupg2 by default in debian-minimal,MERGED,2019-07-01 19:34:13.000000000,2019-07-02 07:32:52.000000000,2019-07-02 07:32:52.000000000,"[{'_account_id': 4146}, {'_account_id': 10118}, {'_account_id': 13252}, {'_account_id': 14288}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 19:34:13.000000000', 'files': ['diskimage_builder/elements/debian-minimal/root.d/75-debian-minimal-baseinstall'], 'web_link': 'https://opendev.org/openstack/diskimage-builder/commit/d8f796e153ef02067bc1504e97ac24a60c3a3017', 'message': 'install gnupg2 by default in debian-minimal\n\ndebian-minimal depends on debootstrap which depends on dpkg\n\nThis needs to be installed early as dpkg installs the apt keys early via\n02-add-apt-keys in pre-install.d\n\nChange-Id: I8580849ceaa7a5152c94f29afa890ac6d6983fb1\n'}]",0,668554,d8f796e153ef02067bc1504e97ac24a60c3a3017,16,6,1,14288,,,0,"install gnupg2 by default in debian-minimal

debian-minimal depends on debootstrap which depends on dpkg

This needs to be installed early as dpkg installs the apt keys early via
02-add-apt-keys in pre-install.d

Change-Id: I8580849ceaa7a5152c94f29afa890ac6d6983fb1
",git fetch https://review.opendev.org/openstack/diskimage-builder refs/changes/54/668554/1 && git format-patch -1 --stdout FETCH_HEAD,['diskimage_builder/elements/debian-minimal/root.d/75-debian-minimal-baseinstall'],1,d8f796e153ef02067bc1504e97ac24a60c3a3017,app-apt-keys,"# required for dpkg element to be able to add apt keys to_install+=""gnupg2 """,,2,0
openstack%2Fplacement~master~Ie3e81c28bf3c26d3a15d19acd657a46fd739819d,openstack/placement,master,Ie3e81c28bf3c26d3a15d19acd657a46fd739819d,WIP: Try to get perfload api log htmlified,ABANDONED,2019-05-16 10:41:43.000000000,2019-07-02 07:00:09.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 10:41:43.000000000', 'files': ['playbooks/perfload.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/90007c7c58689df927ce2789d56c4b1c561e54be', 'message': ""WIP: Try to get perfload api log htmlified\n\nIf the htmlify role is present by default, then a file in\nthe log dir with a .txt extension ought to get htmlified.\nLet's see what happens. It might be that the role needs to\nbe requested explicitly.\n\nChange-Id: Ie3e81c28bf3c26d3a15d19acd657a46fd739819d\n""}]",0,659525,90007c7c58689df927ce2789d56c4b1c561e54be,6,3,1,11564,,,0,"WIP: Try to get perfload api log htmlified

If the htmlify role is present by default, then a file in
the log dir with a .txt extension ought to get htmlified.
Let's see what happens. It might be that the role needs to
be requested explicitly.

Change-Id: Ie3e81c28bf3c26d3a15d19acd657a46fd739819d
",git fetch https://review.opendev.org/openstack/placement refs/changes/25/659525/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/perfload.yaml'],1,90007c7c58689df927ce2789d56c4b1c561e54be,cd/htmlifyperflog, uwsgi --http :8000 --wsgi-file .placement/bin/placement-api --daemonize {{ ansible_user_dir }}/logs/placement-api.txt --processes 5 --threads 25, uwsgi --http :8000 --wsgi-file .placement/bin/placement-api --daemonize {{ ansible_user_dir }}/logs/placement-api.log --processes 5 --threads 25,1,1
openstack%2Fplacement~master~Ic8677b3b5bbc513098e5471f6267b38e3bac294b,openstack/placement,master,Ic8677b3b5bbc513098e5471f6267b38e3bac294b,Adjust parallel concurrency to 2*nproc in nested-perfload,ABANDONED,2019-06-20 14:47:19.000000000,2019-07-02 06:59:13.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-20 14:47:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3d9ce0907a06cd54127870508356683f61a7d5f4', 'message': ""Adjust parallel concurrency to 1*nproc\n\n3*nproc seems to cause a bit too much congestion. Since client, server\nand db are all on the same host, there's less spare time available while\nI/O is happening.\n\nThe perfload-nested-runner script is adjusted to provider a variable\nwhere this can be controlled.\n\nChange-Id: Ic8677b3b5bbc513098e5471f6267b38e3bac294b\n""}, {'number': 2, 'created': '2019-06-20 14:47:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9f069c498634d807270d7f2762638911c59bd020', 'message': ""Adjust parallel concurrency to 1*nproc in nested-perfload\n\n3*nproc seems to cause a bit too much congestion. Since client, server\nand db are all on the same host, there's less spare time available while\nI/O is happening.\n\nThe perfload-nested-runner script is adjusted to provider a variable\nwhere this can be controlled.\n\nChange-Id: Ic8677b3b5bbc513098e5471f6267b38e3bac294b\n""}, {'number': 3, 'created': '2019-06-20 22:14:30.000000000', 'files': ['gate/perfload-nested-runner.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/e164410fabbe5477fe49896eba652c35001aad83', 'message': ""Adjust parallel concurrency to 2*nproc in nested-perfload\n\n3*nproc seems to cause a bit too much congestion, but 1*nproc is slower\nstill, so we're going to try 2*.\n\nSince client, server and db are all on the same host, there's less spare\ntime available while I/O is happening. It might be it's just going to be\nslow and that's the way it goes.\n\nThe perfload-nested-runner script is adjusted to provider a variable\nwhere this can be controlled.\n\nChange-Id: Ic8677b3b5bbc513098e5471f6267b38e3bac294b\n""}]",2,666597,e164410fabbe5477fe49896eba652c35001aad83,9,3,3,11564,,,0,"Adjust parallel concurrency to 2*nproc in nested-perfload

3*nproc seems to cause a bit too much congestion, but 1*nproc is slower
still, so we're going to try 2*.

Since client, server and db are all on the same host, there's less spare
time available while I/O is happening. It might be it's just going to be
slow and that's the way it goes.

The perfload-nested-runner script is adjusted to provider a variable
where this can be controlled.

Change-Id: Ic8677b3b5bbc513098e5471f6267b38e3bac294b
",git fetch https://review.opendev.org/openstack/placement refs/changes/97/666597/2 && git format-patch -1 --stdout FETCH_HEAD,['gate/perfload-nested-runner.sh'],1,3d9ce0907a06cd54127870508356683f61a7d5f4,story/2005443,"# Parallel argument for number of procesors (to be passed to -P). Use a suffix # of % to indicate a multiplier of the number of processors on the host. A # number without suffix is a raw count. See parallel(1) man page for more # options. PARALLEL_ARG=""1%"" seq 1 $ITERATIONS | parallel -P $PARALLEL_ARG $LOADER $PLACEMENT_URL $GABBIT", seq 1 $ITERATIONS | parallel -P 3% $LOADER $PLACEMENT_URL $GABBIT,6,1
openstack%2Fceilometermiddleware~master~I2dfd62da4757b7adb42cfd24f5ff7840d016a234,openstack/ceilometermiddleware,master,I2dfd62da4757b7adb42cfd24f5ff7840d016a234,Mailing lists change openstack-dev to openstack-discuss,ABANDONED,2019-07-01 10:59:31.000000000,2019-07-02 06:51:07.000000000,,"[{'_account_id': 14107}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 10:59:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/c9ac1910e9a8d283deb0913a36240a2bcf61d6e4', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I2dfd62da4757b7adb42cfd24f5ff7840d016a234\n'}, {'number': 2, 'created': '2019-07-02 00:46:22.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ceilometermiddleware/commit/f6cbccbf23ce67849c163f4f1e49d618902191b2', 'message': 'Mailing lists change openstack-dev to openstack-discuss\n\nChange-Id: I2dfd62da4757b7adb42cfd24f5ff7840d016a234\n'}]",1,668421,f6cbccbf23ce67849c163f4f1e49d618902191b2,7,2,2,27565,,,0,"Mailing lists change openstack-dev to openstack-discuss

Change-Id: I2dfd62da4757b7adb42cfd24f5ff7840d016a234
",git fetch https://review.opendev.org/openstack/ceilometermiddleware refs/changes/21/668421/2 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c9ac1910e9a8d283deb0913a36240a2bcf61d6e4,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fdesignate~stable%2Fstein~Id87bd31513517190474f425acc1b6b0d77279108,openstack/designate,stable/stein,Id87bd31513517190474f425acc1b6b0d77279108,sqlalchemy: Fix migrations for PostgreSQL,ABANDONED,2019-07-02 06:50:00.000000000,2019-07-02 06:50:58.000000000,,[],"[{'number': 1, 'created': '2019-07-02 06:50:00.000000000', 'files': ['designate/storage/impl_sqlalchemy/migrate_repo/versions/101_support_naptr_records.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/102_support_caa_records.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/378c418b9ff613b573062c2833259ddef593abf2', 'message': 'sqlalchemy: Fix migrations for PostgreSQL\n\nPostgreSQL does not support specifying the same name for the column, but\ndoes require a name for the enum.\n\nThis fixes:\n\nsqlalchemy.exc.CompileError: PostgreSQL ENUM type requires a name.\n\noslo_db.exception.DBMigrationError: (psycopg2.ProgrammingError) column ""type"" of relation ""recordsets"" already exists\n [SQL: \'\\nALTER TABLE recordsets RENAME COLUMN type TO type\'] (Background on this error at: http://sqlalche.me/e/f405)\n\nChange-Id: Id87bd31513517190474f425acc1b6b0d77279108\nCloses-Bug: 1834993\nSigned-off-by: Sven Wegener <sven.wegener@inovex.de>\n'}]",0,668616,378c418b9ff613b573062c2833259ddef593abf2,2,0,1,27056,,,0,"sqlalchemy: Fix migrations for PostgreSQL

PostgreSQL does not support specifying the same name for the column, but
does require a name for the enum.

This fixes:

sqlalchemy.exc.CompileError: PostgreSQL ENUM type requires a name.

oslo_db.exception.DBMigrationError: (psycopg2.ProgrammingError) column ""type"" of relation ""recordsets"" already exists
 [SQL: '\nALTER TABLE recordsets RENAME COLUMN type TO type'] (Background on this error at: http://sqlalche.me/e/f405)

Change-Id: Id87bd31513517190474f425acc1b6b0d77279108
Closes-Bug: 1834993
Signed-off-by: Sven Wegener <sven.wegener@inovex.de>
",git fetch https://review.opendev.org/openstack/designate refs/changes/16/668616/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/storage/impl_sqlalchemy/migrate_repo/versions/101_support_naptr_records.py', 'designate/storage/impl_sqlalchemy/migrate_repo/versions/102_support_caa_records.py']",2,378c418b9ff613b573062c2833259ddef593abf2,bug/1834993," records_table.columns.type.alter(type=Enum(name='record_type', *RECORD_TYPES))"," records_table.columns.type.alter(name='type', type=Enum(*RECORD_TYPES))",4,2
openstack%2Fkuryr-kubernetes~master~I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,openstack/kuryr-kubernetes,master,I7eb253ef49cfc3a9808679123bbc9d14b3284d9e,Support None from Octavia get_api_major_version(),MERGED,2019-06-26 09:04:17.000000000,2019-07-02 06:44:36.000000000,2019-07-01 19:17:18.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-26 09:04:17.000000000', 'files': ['kuryr_kubernetes/controller/drivers/lbaasv2.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/446a73fc691d5eda786ba6e8be50e1be012adf9a', 'message': 'Support None from Octavia get_api_major_version()\n\nChange-Id: I7eb253ef49cfc3a9808679123bbc9d14b3284d9e\nCloses-Bug: 1834301\n'}]",0,667557,446a73fc691d5eda786ba6e8be50e1be012adf9a,18,6,1,11600,,,0,"Support None from Octavia get_api_major_version()

Change-Id: I7eb253ef49cfc3a9808679123bbc9d14b3284d9e
Closes-Bug: 1834301
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/57/667557/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/lbaasv2.py'],1,446a73fc691d5eda786ba6e8be50e1be012adf9a,bug/1834301," if v is None: v_str = 'unknown' else: v_str = '%d.%d' % v 'API %s does not support resource tagging. Kuryr ' 'Octavia resources.', v_str)"," 'API %d.%d does not support resource tagging. Kuryr ' 'Octavia resources.', *v)",6,2
openstack%2Fnova~master~Ie78ab0e26d64990409193b5428ba496798171205,openstack/nova,master,Ie78ab0e26d64990409193b5428ba496798171205,Cleanup local files in libvirt when using shared block storage,ABANDONED,2017-06-27 06:50:43.000000000,2019-07-02 06:42:19.000000000,,"[{'_account_id': 7488}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15286}, {'_account_id': 15334}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16376}, {'_account_id': 20040}, {'_account_id': 21813}]","[{'number': 1, 'created': '2017-06-27 06:50:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/68f192c789aaca9802f9ba19041073e35837b786', 'message': 'Cleanup local files in libvirt when using shared block storage\n\nWhen using block storage in libvirt, local files should be cleaned up.\n\nChange-Id: Ie78ab0e26d64990409193b5428ba496798171205\nCloses-Bug: #1414895\n'}, {'number': 2, 'created': '2017-07-04 02:42:02.000000000', 'files': ['nova/virt/libvirt/driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/41a1f220bf78d49efd4db7ede3fdcbb68950339b', 'message': 'Cleanup local files in libvirt when using shared block storage\n\nWhen evacuated the host first, then bring the node back alive,\nnova-compute will clean up local files which already moved to other\nnodes.  Whereas `destroy_disks` is False and migrate_data is None,\nlocal instance files are not removed. This will cause following\nlive migration to this node failures.\n\nSo local instance files should be removed when using shared block\nstorage in the cleanup process.\n\nChange-Id: Ie78ab0e26d64990409193b5428ba496798171205\nCloses-Bug: #1414895\n'}]",2,477780,41a1f220bf78d49efd4db7ede3fdcbb68950339b,28,15,2,7488,,,0,"Cleanup local files in libvirt when using shared block storage

When evacuated the host first, then bring the node back alive,
nova-compute will clean up local files which already moved to other
nodes.  Whereas `destroy_disks` is False and migrate_data is None,
local instance files are not removed. This will cause following
live migration to this node failures.

So local instance files should be removed when using shared block
storage in the cleanup process.

Change-Id: Ie78ab0e26d64990409193b5428ba496798171205
Closes-Bug: #1414895
",git fetch https://review.opendev.org/openstack/nova refs/changes/80/477780/2 && git format-patch -1 --stdout FETCH_HEAD,['nova/virt/libvirt/driver.py'],1,68f192c789aaca9802f9ba19041073e35837b786,bug/1414895, if (destroy_disks or is_shared_block_storage or self.image_backend.backend().is_shared_block_storage()):, if destroy_disks or is_shared_block_storage:,2,1
openstack%2Fkolla~master~Ic01b13c69f312342948882ba64efd82c5e085fad,openstack/kolla,master,Ic01b13c69f312342948882ba64efd82c5e085fad,Use tini instead of dumb-init,ABANDONED,2017-02-07 07:36:49.000000000,2019-07-02 06:42:02.000000000,,"[{'_account_id': 1390}, {'_account_id': 7488}, {'_account_id': 13039}, {'_account_id': 22582}]","[{'number': 1, 'created': '2017-02-07 07:36:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/bda33cb43c73c8c8ca42b5c43d41541fe40f0af7', 'message': 'Use tini instead of dumb-init\n\nDocker 1.13 provide init process now, which is using tini[0]. So we\nshould move to tini for feature use.\n\n[0] https://github.com/krallin/tini\n\nChange-Id: Ic01b13c69f312342948882ba64efd82c5e085fad\n'}, {'number': 2, 'created': '2017-02-07 07:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/a74f7d71525b8750a1ef05f153092b8ac3fda20a', 'message': 'Use tini instead of dumb-init\n\nDocker 1.13 provide init process now, which is using tini[0]. So we\nshould move to tini for feature use.\n\n[0] https://github.com/krallin/tini\n\nChange-Id: Ic01b13c69f312342948882ba64efd82c5e085fad\n'}, {'number': 3, 'created': '2017-02-07 14:02:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/5e5f6130a38f959b145cbf7ebc0ae1fd0ec226c9', 'message': 'Use tini instead of dumb-init\n\nDocker 1.13 provide init process now, which is using tini[0]. So we\nshould move to tini for feature use.\n\n[0] https://github.com/krallin/tini\n\nChange-Id: Ic01b13c69f312342948882ba64efd82c5e085fad\n'}, {'number': 4, 'created': '2017-02-08 05:37:16.000000000', 'files': ['docker/base/start.sh', 'docker/base/Dockerfile.j2', 'releasenotes/notes/replace-dumb-init-with-tini-9ac1c9d08b1c1f52.yaml'], 'web_link': 'https://opendev.org/openstack/kolla/commit/a3b034b4aebe5d0bea6202118a0c957fe125e4d5', 'message': 'Use tini instead of dumb-init\n\nDocker 1.13 provide init process now, which is using tini[0]. So we\nshould move to tini for being coincident.\n\n[0] https://github.com/krallin/tini\n\nChange-Id: Ic01b13c69f312342948882ba64efd82c5e085fad\n'}]",7,430108,a3b034b4aebe5d0bea6202118a0c957fe125e4d5,32,4,4,7488,,,0,"Use tini instead of dumb-init

Docker 1.13 provide init process now, which is using tini[0]. So we
should move to tini for being coincident.

[0] https://github.com/krallin/tini

Change-Id: Ic01b13c69f312342948882ba64efd82c5e085fad
",git fetch https://review.opendev.org/openstack/kolla refs/changes/08/430108/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/base/start.sh', 'docker/base/Dockerfile.j2']",2,bda33cb43c73c8c8ca42b5c43d41541fe40f0af7,,"RUN curl -sSL https://github.com/krallin/tini/releases/download/v0.13.0/tini-amd64 /usr/local/bin/tini \ && chmod +x /usr/local/bin/tini ENTRYPOINT [""/usr/loal/bin/tini"", ""--""]",RUN curl -sSL https://github.com/Yelp/dumb-init/releases/download/v1.2.0/dumb-init_1.2.0_amd64 -o /usr/local/bin/dumb-init \ && chmod +x /usr/local/bin/dumb-init,4,3
openstack%2Fplacement~master~I9c57125e818cc583a977c8155fcefcac2e3b59df,openstack/placement,master,I9c57125e818cc583a977c8155fcefcac2e3b59df,Fix up some inaccuracies in perfload comments and logs,MERGED,2019-07-01 11:55:18.000000000,2019-07-02 06:36:39.000000000,2019-07-02 06:36:39.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-07-01 11:55:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e28ff1d134ae0b46cc1916212c4cdf610eda3c7c', 'message': 'Fix up some inaccuracies in perfload comments and logs\n\nThe review of the addition of nested perfload (in\nI617161fde5b844d7f52dc766f85c1b9f1b139e4a ) identified some\ninaccuracies in the comments and logs. This fixes some of\nthose.\n\nIt does not, however, fix some of the duplication between the\ntwo runner scripts. This will be done later.\n\nChange-Id: I9c57125e818cc583a977c8155fcefcac2e3b59df\n'}, {'number': 2, 'created': '2019-07-01 15:58:29.000000000', 'files': ['gate/perfload-nested-runner.sh', 'gate/perfload-runner.sh', 'gate/gabbits/nested-perfload.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/ed0af2e4aa8352bfe79a5f3fe8ce26b06881fedb', 'message': 'Fix up some inaccuracies in perfload comments and logs\n\nThe review of the addition of nested perfload (in\nI617161fde5b844d7f52dc766f85c1b9f1b139e4a ) identified some\ninaccuracies in the comments and logs. This fixes some of\nthose.\n\nIt does not, however, fix some of the duplication between the\ntwo runner scripts. This will be done later.\n\nChange-Id: I9c57125e818cc583a977c8155fcefcac2e3b59df\n'}]",0,668449,ed0af2e4aa8352bfe79a5f3fe8ce26b06881fedb,10,3,2,11564,,,0,"Fix up some inaccuracies in perfload comments and logs

The review of the addition of nested perfload (in
I617161fde5b844d7f52dc766f85c1b9f1b139e4a ) identified some
inaccuracies in the comments and logs. This fixes some of
those.

It does not, however, fix some of the duplication between the
two runner scripts. This will be done later.

Change-Id: I9c57125e818cc583a977c8155fcefcac2e3b59df
",git fetch https://review.opendev.org/openstack/placement refs/changes/49/668449/2 && git format-patch -1 --stdout FETCH_HEAD,"['gate/perfload-nested-runner.sh', 'gate/perfload-runner.sh', 'gate/gabbits/nested-perfload.yaml']",3,e28ff1d134ae0b46cc1916212c4cdf610eda3c7c,cd/perfload-minor-tidies,"# the number of total resource providers, then $PROVIDER_TOPOLOGY_COUNT # in gate/perfload-nested-runner.sh should be updated.","# the number of total resource providers, then $COUNT in # playbooks/nested-perfload.yaml should be updated.",12,10
openstack%2Ftripleo-heat-templates~stable%2Frocky~Idc3328658a4c5c21fd011c6c4f791e7993559f1a,openstack/tripleo-heat-templates,stable/rocky,Idc3328658a4c5c21fd011c6c4f791e7993559f1a,OVS Revalidator and handler threads,MERGED,2019-05-28 14:10:57.000000000,2019-07-02 06:36:36.000000000,2019-07-02 06:36:36.000000000,"[{'_account_id': 18575}, {'_account_id': 18904}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-28 14:10:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/aa8fa95ae543cafd833544ba610aec2682dcc94a', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/650626\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}, {'number': 2, 'created': '2019-06-11 10:49:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/084d904367e06ba8d3c10326707778581eae512f', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/661764\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}, {'number': 3, 'created': '2019-06-17 09:04:57.000000000', 'files': ['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/27de28a2c3faaa366ef23670679cc35067e57c0d', 'message': 'OVS Revalidator and handler threads\n\nRevalidator and handler threads are not coherent with lcore\nConfigure these threads accoding to confgiure lcores\n\nChange-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a\nCloses-Bug: #1822571\nDepends-On: https://review.openstack.org/661764\n(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)\n'}]",0,661763,27de28a2c3faaa366ef23670679cc35067e57c0d,20,4,3,30229,,,0,"OVS Revalidator and handler threads

Revalidator and handler threads are not coherent with lcore
Configure these threads accoding to confgiure lcores

Change-Id: Idc3328658a4c5c21fd011c6c4f791e7993559f1a
Closes-Bug: #1822571
Depends-On: https://review.openstack.org/661764
(cherry picked from commit 3c5ad2aab98fa9a1ab26cc6c348a64806276e8b9)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/63/661763/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/ovs-revalidator-handler-threads.yaml-f5a12d1066b042f1.yaml', 'puppet/services/openvswitch.yaml']",2,aa8fa95ae543cafd833544ba610aec2682dcc94a,bug/1822571-stable/rocky, OvsHandlerCores: description: > Number of cores to be used for ovs handler threads. type: number default: 1 tags: - role_specific OvsRevalidatorCores: description: > Number of cores to be used for ovs revalidator threads. type: number default: 1 tags: - role_specific vswitch::dpdk::revalidator_cores: OvsRevalidatorCores vswitch::dpdk::handler_cores: OvsHandlerCores OvsRevalidatorCores: {get_param: OvsRevalidatorCores} OvsHandlerCores: {get_param: OvsHandlerCores},,21,0
openstack%2Fkuryr-kubernetes~master~I4ce376956b66047069b6544d36f5c3d47fa38b01,openstack/kuryr-kubernetes,master,I4ce376956b66047069b6544d36f5c3d47fa38b01,Fix adding pods with host networking to svc in L2 mode,MERGED,2019-06-28 12:02:21.000000000,2019-07-02 06:29:35.000000000,2019-07-01 18:02:50.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-06-28 12:02:21.000000000', 'files': ['kuryr_kubernetes/controller/handlers/lbaas.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/0345cd86c801f635e7dcaccc3768b28e3b3e8439', 'message': 'Fix adding pods with host networking to svc in L2 mode\n\nIf L2 mode is used for services, there is a need for stating the\nsubnet the pods belong to when adding them as members of the load\nbalancer. If these pods have host networking, then their IPs will\nnot be neither in the subnet CIDR range for the default pod subnet,\nnor on the namespace subnet CIDR if namespace subnet driver is used.\n\nTo overcome this, we assume that in case the pod IP is not within\nthose ranges it means it is running on host networking mode. And\nthus the worker_node_subnet CIDR range should be used instead.\n\nChange-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01\nCloses-Bug: 1834605\n'}]",0,668156,0345cd86c801f635e7dcaccc3768b28e3b3e8439,17,6,1,23567,,,0,"Fix adding pods with host networking to svc in L2 mode

If L2 mode is used for services, there is a need for stating the
subnet the pods belong to when adding them as members of the load
balancer. If these pods have host networking, then their IPs will
not be neither in the subnet CIDR range for the default pod subnet,
nor on the namespace subnet CIDR if namespace subnet driver is used.

To overcome this, we assume that in case the pod IP is not within
those ranges it means it is running on host networking mode. And
thus the worker_node_subnet CIDR range should be used instead.

Change-Id: I4ce376956b66047069b6544d36f5c3d47fa38b01
Closes-Bug: 1834605
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/56/668156/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/handlers/lbaas.py'],1,0345cd86c801f635e7dcaccc3768b28e3b3e8439,bug/1834605," subnet_ids = [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr] if subnet_ids: return subnet_ids[0] else: # NOTE(ltomasbo): We are assuming that if ip is not on the # pod subnet is because the member is using hostnetworking. In # this worker_nodes_subnet will be used return config.CONF.pod_vif_nested.worker_nodes_subnet"," # FIXME(ivc): potentially unsafe [0] index return [subnet_id for subnet_id, network in subnets_map.items() for subnet in network.subnets.objects if ip in subnet.cidr][0]",10,4
openstack%2Foperations-guide~master~I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c,openstack/operations-guide,master,I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c,Remove the deprecate the Glance Registry,ABANDONED,2019-05-05 03:28:27.000000000,2019-07-02 06:15:26.000000000,,"[{'_account_id': 6547}, {'_account_id': 10068}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-05 03:28:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/68251332f85af09aefb9fbf91b846330119670dd', 'message': 'Remove the deprecated glance-registry\n\nChange-Id: I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c\n'}, {'number': 2, 'created': '2019-05-05 03:36:49.000000000', 'files': ['doc/source/ops-logging-rsyslog.rst', 'doc/source/ops-monitoring.rst', 'doc/source/ops-maintenance-determine.rst', 'doc/source/ops-upgrades.rst'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/a426c8f6f0cd59ad28f002d1b0a476c58a458a3f', 'message': 'Remove the deprecate the Glance Registry\n\nA spec to Deprecate the Glance Registry Service[0] was accepted in Newton,\nbut it contained the ambiguous statement, ""Mark the service as deprecated\nand ready for removal in the Q release."" It’s now the T release, so we\nneed to actually deprecate it by announcing officially that the Registry\nService is deprecated in Queens and subject to removal in the S release.\n\n[0]: http://specs.openstack.org/openstack/glance-specs/specs/newton/approved/glance/deprecate-registry.html\n[1]: https://blueprints.launchpad.net/glance/+spec/deprecate-registry\n[2]: https://review.openstack.org/#/c/509154/\n\nChange-Id: I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c\n'}]",0,657191,a426c8f6f0cd59ad28f002d1b0a476c58a458a3f,6,3,2,30356,,,0,"Remove the deprecate the Glance Registry

A spec to Deprecate the Glance Registry Service[0] was accepted in Newton,
but it contained the ambiguous statement, ""Mark the service as deprecated
and ready for removal in the Q release."" It’s now the T release, so we
need to actually deprecate it by announcing officially that the Registry
Service is deprecated in Queens and subject to removal in the S release.

[0]: http://specs.openstack.org/openstack/glance-specs/specs/newton/approved/glance/deprecate-registry.html
[1]: https://blueprints.launchpad.net/glance/+spec/deprecate-registry
[2]: https://review.openstack.org/#/c/509154/

Change-Id: I6a53f05ca4f0b81e110ff11df28e0e9cfe061b9c
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/91/657191/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/ops-monitoring.rst'],1,68251332f85af09aefb9fbf91b846330119670dd,,,* glance-registry,0,1
openstack%2Foperations-guide~master~If209d537e26836d2f9d7e5a7689898d73516f905,openstack/operations-guide,master,If209d537e26836d2f9d7e5a7689898d73516f905,Cap sphinx for py2 to match global requirements,ABANDONED,2019-06-06 08:56:54.000000000,2019-07-02 06:14:36.000000000,,"[{'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 08:56:54.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/operations-guide/commit/c6c37e37acbe6d2d4255e7d064a1ffbf20f695c5', 'message': 'Cap sphinx for py2 to match global requirements\n\nChange-Id: If209d537e26836d2f9d7e5a7689898d73516f905\n'}]",0,663548,c6c37e37acbe6d2d4255e7d064a1ffbf20f695c5,4,2,1,30384,,,0,"Cap sphinx for py2 to match global requirements

Change-Id: If209d537e26836d2f9d7e5a7689898d73516f905
",git fetch https://review.opendev.org/openstack/operations-guide refs/changes/48/663548/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,c6c37e37acbe6d2d4255e7d064a1ffbf20f695c5,,"sphinx!=1.6.6,!=1.6.7,>=1.6.2,<2.0.0;python_version=='2.7' # BSD sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2 # BSD",2,1
openstack%2Fproject-config~master~I805c7f1914ea2f900c86c4407f7dc5062d50b083,openstack/project-config,master,I805c7f1914ea2f900c86c4407f7dc5062d50b083,Add Project Configs for ranger and ranger-agent,ABANDONED,2019-04-26 19:15:28.000000000,2019-07-02 06:14:19.000000000,,"[{'_account_id': 6547}, {'_account_id': 21111}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-26 19:15:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b15f10e8cf7495f086f0cff8d50c4c6beb1a02b', 'message': 'Add Project Configs for ranger and ranger-agent\n\nChange-Id: I805c7f1914ea2f900c86c4407f7dc5062d50b083\n'}, {'number': 2, 'created': '2019-04-26 19:37:26.000000000', 'files': ['gerrit/acls/openstack/ranger-agent.config', 'gerrit/acls/openstack/ranger.config'], 'web_link': 'https://opendev.org/openstack/project-config/commit/1bae5eb78a205cb917a7d9d78745269d747b7e38', 'message': 'Add Project Configs for ranger and ranger-agent\n\nCreated for x/ranger and x/ranger-agent projects to fix the ""not allowed\nto upload merges"" when trying to do git merge commits. \n\n\nChange-Id: I805c7f1914ea2f900c86c4407f7dc5062d50b083\n'}]",0,656000,1bae5eb78a205cb917a7d9d78745269d747b7e38,9,3,2,21111,,,0,"Add Project Configs for ranger and ranger-agent

Created for x/ranger and x/ranger-agent projects to fix the ""not allowed
to upload merges"" when trying to do git merge commits. 


Change-Id: I805c7f1914ea2f900c86c4407f7dc5062d50b083
",git fetch https://review.opendev.org/openstack/project-config refs/changes/00/656000/2 && git format-patch -1 --stdout FETCH_HEAD,"['gerrit/acls/openstack/ranger-agent.config', 'gerrit/acls/openstack/ranger.config']",2,9b15f10e8cf7495f086f0cff8d50c4c6beb1a02b,,"[access ""refs/for/refs/*""] pushMerge = group ranger-milestone [access ""refs/heads/*""] abandon = group ranger-core label-Code-Review = -2..+2 group ranger-core label-Workflow = -1..+1 group ranger-core [access ""refs/heads/stable/*""] abandon = group Change Owner abandon = group Project Bootstrappers abandon = group stable-maint-core abandon = group ranger-stable-maint exclusiveGroupPermissions = abandon label-Code-Review label-Workflow label-Code-Review = -2..+2 group Project Bootstrappers label-Code-Review = -2..+2 group stable-maint-core label-Code-Review = -2..+2 group ranger-stable-maint label-Code-Review = -1..+1 group Registered Users label-Workflow = -1..+0 group Change Owner label-Workflow = -1..+1 group Project Bootstrappers label-Workflow = -1..+1 group stable-maint-core label-Workflow = -1..+1 group ranger-stable-maint [receive] requireChangeId = true requireContributorAgreement = true [submit] mergeContent = true ",,58,0
openstack%2Ftempest~master~I7dc06929ac2f3f22883435624752b7bbabf1dc82,openstack/tempest,master,I7dc06929ac2f3f22883435624752b7bbabf1dc82,Support to specify the target host for tempest cold/live migration tests,ABANDONED,2019-06-15 13:00:21.000000000,2019-07-02 05:53:36.000000000,,"[{'_account_id': 5689}, {'_account_id': 6167}, {'_account_id': 20190}, {'_account_id': 22348}, {'_account_id': 26721}]","[{'number': 1, 'created': '2019-06-15 13:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/624fa4870bd6c797ec1a5c21ab933a77be574e48', 'message': 'Support to specify the target host for tempest cold/live migration tests\n\nChange-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82\n'}, {'number': 2, 'created': '2019-06-17 02:19:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/44bbe7257fec26c2c9f2c0ead7f01fd346cd47c9', 'message': 'Support to specify the target host for tempest cold/live migration tests\n\nThe motivation behind such change is in live network, when we\nupgrade/change compute nodes, we would like to do changes on a small portion\nof nodes then verify with a bunch of tests and after that roll out to a large\nscale. So it is important for us to specify src/dest host in tempest\ntest for this scenario.\n\nThe dest_host could be left blank and once it is used, the src host should\nalso be specified in tempest configuration in order to aviod the src and dest\nto be the same, which could fail some test cases.\n\nChange-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82\n'}, {'number': 3, 'created': '2019-06-17 02:25:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/240310f31bb2860befc65dd2df5b66da85aa80c0', 'message': 'Support to specify the target host for tempest cold/live migration tests\n\nThe motivation behind such change is in live network, when we\nupgrade/change compute nodes, we would like to do changes on a small\nportion of nodes then verify with a bunch of tests and after that roll\nout to a large scale. So it is important for us to specify src/dest host\nin tempest test for this scenario.\n\nThe dest_host could be left blank and once it is used, the src host\n([compute]/availability_zone = AZ:SRC-HOST) should also be specified in\ntempest configuration in order to aviod the src and dest\nto be the same, which could fail some test cases.\n\nChange-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82\n'}, {'number': 4, 'created': '2019-06-17 11:57:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tempest/commit/dc887f99d89e6941864afb0dcb055d6c8575b343', 'message': 'Support to specify the target host for tempest cold/live migration tests\n\nThe motivation behind such change is in live network, when we\nupgrade/change compute nodes, we would like to do changes on a small portion\nof nodes then verify with a bunch of tests and after that roll out to a large\nscale. So it is important for us to specify src/dest host in tempest\ntest for this scenario.\n\nThe target_host could be left blank or once it is used, the src host should\nalso be specified in tempest configuration in order to avoid the src and dest\nto be the same, which could fail some test cases.\n\nChange-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82\n'}, {'number': 5, 'created': '2019-06-18 00:17:38.000000000', 'files': ['tempest/api/compute/admin/test_live_migration.py', 'tempest/api/compute/admin/test_migrations.py', 'tempest/config.py', 'releasenotes/notes/add-dest_host-config-option-for-migration-test-6e8f90ca2e3b9c5a.yaml'], 'web_link': 'https://opendev.org/openstack/tempest/commit/c089737d9e0303dbd8d3902d68d83498e7ceb479', 'message': 'Support to specify the target host for tempest cold/live migration tests\n\nThe motivation behind such change is in live network, when we\nupgrade/change compute nodes, we would like to do changes on a small portion\nof nodes then verify with a bunch of tests and after that roll out to a large\nscale. So it is important for us to specify src/dest host in tempest\ntest for this scenario.\n\nThe target_host could be left blank or once it is used, the src host should\nalso be specified in tempest configuration in order to avoid the src and dest\nto be the same, which could fail some test cases.\n\nChange-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82\n'}]",11,665510,c089737d9e0303dbd8d3902d68d83498e7ceb479,30,5,5,26721,,,0,"Support to specify the target host for tempest cold/live migration tests

The motivation behind such change is in live network, when we
upgrade/change compute nodes, we would like to do changes on a small portion
of nodes then verify with a bunch of tests and after that roll out to a large
scale. So it is important for us to specify src/dest host in tempest
test for this scenario.

The target_host could be left blank or once it is used, the src host should
also be specified in tempest configuration in order to avoid the src and dest
to be the same, which could fail some test cases.

Change-Id: I7dc06929ac2f3f22883435624752b7bbabf1dc82
",git fetch https://review.opendev.org/openstack/tempest refs/changes/10/665510/1 && git format-patch -1 --stdout FETCH_HEAD,"['tempest/api/compute/admin/test_live_migration.py', 'tempest/api/compute/admin/test_migrations.py', 'tempest/config.py', 'releasenotes/notes/add-dest_host-config-option-for-migration-test-6e8f90ca2e3b9c5a.yaml']",4,624fa4870bd6c797ec1a5c21ab933a77be574e48,target_host,--- features: - | New string configuration option ``dest_host`` is added to ``compute`` section. It provides the ability to specify the target host used by migration related tests. ,,15,2
openstack%2Fpython-tripleoclient~master~Ifd4229b68571fd6b91574675c1f04d7b5c755eab,openstack/python-tripleoclient,master,Ifd4229b68571fd6b91574675c1f04d7b5c755eab,Ensure files exist before building/uploading plan,MERGED,2019-06-26 09:26:46.000000000,2019-07-02 05:37:07.000000000,2019-07-01 21:53:13.000000000,"[{'_account_id': 3153}, {'_account_id': 6681}, {'_account_id': 6926}, {'_account_id': 7144}, {'_account_id': 11082}, {'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 09:26:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/755e6bc660764aefefe3199f2fa253301cce03ee', 'message': 'Ensure networks-file exists before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nNo Bioport was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}, {'number': 2, 'created': '2019-06-26 09:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/d20326e2fce76d56652175e8d677c4a1ece390fb', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}, {'number': 3, 'created': '2019-06-27 06:55:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/558b6e775209ff1ce1c1e13fc8d23b09b5c6fa27', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}, {'number': 4, 'created': '2019-06-27 14:34:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/776bfd29dcb404421e1c3065ae32e19ad6baef2a', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}, {'number': 5, 'created': '2019-07-01 05:35:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bdf86971efc334e80a84dfa5f4b3a0a0e53179ae', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}, {'number': 6, 'created': '2019-07-01 09:31:58.000000000', 'files': ['tripleoclient/v1/overcloud_deploy.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/bd354f1fc8ae7a36898a22e01e52815d85d8378d', 'message': 'Ensure files exist before building/uploading plan\n\nUntil now, only environment files were tested for their eXistenZ. This\npatch corrects this issue, allowing to get a graceful failure before\nplan is compiled and uploaded.\n\nThe following files are now checked, and deploy will gracefully fail in\ncase of non-existing file:\n- plan-environment-file\n- answers-file\n- networks-file\n\nNo Bioport nor Pod was harmed for this patch.\n\nChange-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab\nCloses-Bug: #1834307\n'}]",9,667562,bd354f1fc8ae7a36898a22e01e52815d85d8378d,37,11,6,28223,,,0,"Ensure files exist before building/uploading plan

Until now, only environment files were tested for their eXistenZ. This
patch corrects this issue, allowing to get a graceful failure before
plan is compiled and uploaded.

The following files are now checked, and deploy will gracefully fail in
case of non-existing file:
- plan-environment-file
- answers-file
- networks-file

No Bioport nor Pod was harmed for this patch.

Change-Id: Ifd4229b68571fd6b91574675c1f04d7b5c755eab
Closes-Bug: #1834307
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/62/667562/4 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/v1/overcloud_deploy.py'],1,755e6bc660764aefefe3199f2fa253301cce03ee,bug/1834307," # Check networks_file existance if parsed_args.networks_file: if parsed_args.networks_file.endswith("".j2.yaml""): jinja2_envs.append(parsed_args.networks_file) elif not os.path.isfile(parsed_args.networks_file): if not os.path.isfile( parsed_args.networks_file.replace( "".yaml"", "".j2.yaml"")): nonexisting_envs.append(parsed_args.networks_file) ",,10,0
openstack%2Fneutron~master~I96d69bc7a1489377b5e95965e95dc3d3f2f3a933,openstack/neutron,master,I96d69bc7a1489377b5e95965e95dc3d3f2f3a933,Switch to use configure_keystone_authtoken_middleware in devstack plugin,MERGED,2019-07-01 11:52:58.000000000,2019-07-02 05:35:47.000000000,2019-07-02 05:35:46.000000000,"[{'_account_id': 8556}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 13252}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 11:52:58.000000000', 'files': ['devstack/lib/dns'], 'web_link': 'https://opendev.org/openstack/neutron/commit/538e663f0da6f0d630fc47a7cf738b188caa660b', 'message': 'Switch to use configure_keystone_authtoken_middleware in devstack plugin\n\nFunction ""configure_auth_token_middleware"" was deprecated in devstack\nin [1].\nPatch [1] also introduced regression which cause failures in neutron\'s\nneutron-tempest-plugin-designate-scenario job.\n\nNew function configure_keystone_authtoken_middleware should be used\ninstead.\nThis patch switches to use this new function to solve problem\ncaused by patch [1] when old function is used.\n\n[1] https://review.opendev.org/#/c/628651/\n\nChange-Id: I96d69bc7a1489377b5e95965e95dc3d3f2f3a933\nCloses-Bug: #1834849\n'}]",0,668447,538e663f0da6f0d630fc47a7cf738b188caa660b,15,9,1,11975,,,0,"Switch to use configure_keystone_authtoken_middleware in devstack plugin

Function ""configure_auth_token_middleware"" was deprecated in devstack
in [1].
Patch [1] also introduced regression which cause failures in neutron's
neutron-tempest-plugin-designate-scenario job.

New function configure_keystone_authtoken_middleware should be used
instead.
This patch switches to use this new function to solve problem
caused by patch [1] when old function is used.

[1] https://review.opendev.org/#/c/628651/

Change-Id: I96d69bc7a1489377b5e95965e95dc3d3f2f3a933
Closes-Bug: #1834849
",git fetch https://review.opendev.org/openstack/neutron refs/changes/47/668447/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/lib/dns'],1,538e663f0da6f0d630fc47a7cf738b188caa660b,bug/1834849, configure_keystone_authtoken_middleware $NEUTRON_CONF designate designate, configure_auth_token_middleware $NEUTRON_CONF designate $NEUTRON_AUTH_CACHE_DIR designate,1,1
openstack%2Fpython-novaclient~master~I691d7994070012af62d20d15809b7c4f143909a8,openstack/python-novaclient,master,I691d7994070012af62d20d15809b7c4f143909a8,Add Python 3 Train unit tests,MERGED,2019-07-01 09:18:51.000000000,2019-07-02 05:26:44.000000000,2019-07-02 05:26:44.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 09:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/04bbca267befe3d8bca3f3919cc9844f1ca65dec', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I691d7994070012af62d20d15809b7c4f143909a8\n'}, {'number': 2, 'created': '2019-07-02 01:36:02.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/77ad81bde80f728fe0f13809481ae5117ab8fec3', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I691d7994070012af62d20d15809b7c4f143909a8\n'}]",1,668395,77ad81bde80f728fe0f13809481ae5117ab8fec3,10,3,2,27822,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I691d7994070012af62d20d15809b7c4f143909a8
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/95/668395/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg']",2,04bbca267befe3d8bca3f3919cc9844f1ca65dec,python3-train, Programming Language :: Python :: 3.7,,2,2
openstack%2Fdesignate~stable%2Fstein~I0c7b45d3125ff1e007d44064a7653c1b2b07c770,openstack/designate,stable/stein,I0c7b45d3125ff1e007d44064a7653c1b2b07c770,Clean up zone locking,MERGED,2019-05-20 16:49:56.000000000,2019-07-02 05:23:17.000000000,2019-07-02 05:23:17.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-05-20 16:49:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e50922874beb288e35b343e9bb9edeff9a882b10', 'message': ""Clean up zone locking\n\nUpdated the decorator to log something more appropriate when locking during\nzone creation. The existing implementation would log 'zone-None', this\nchanges it to 'create-new-zone'.\n\nWe also add a try/finally catch statement to make sure the lock is always\nreleased when done.\n\n* Changed lock name to be more appropriate when creating new zones.\n* Implement try/finally pattern to make sure lock is always released.\n\nChange-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770\n""}, {'number': 2, 'created': '2019-06-19 13:38:15.000000000', 'files': ['designate/central/service.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/82e2d0725d4e55b659fb788d6646f6ebd504fc9c', 'message': ""Clean up zone locking\n\nUpdated the decorator to log something more appropriate when locking during\nzone creation. The existing implementation would log 'zone-None', this\nchanges it to 'create-new-zone'.\n\nWe also add a try/finally catch statement to make sure the lock is always\nreleased when done.\n\n* Changed lock name to be more appropriate when creating new zones.\n* Implement try/finally pattern to make sure lock is always released.\n\nChange-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770\n(cherry picked from commit 6f13191a6c939d4f38955f8cb0a67f305b463bd1)\n""}]",0,660171,82e2d0725d4e55b659fb788d6646f6ebd504fc9c,26,4,2,8099,,,0,"Clean up zone locking

Updated the decorator to log something more appropriate when locking during
zone creation. The existing implementation would log 'zone-None', this
changes it to 'create-new-zone'.

We also add a try/finally catch statement to make sure the lock is always
released when done.

* Changed lock name to be more appropriate when creating new zones.
* Implement try/finally pattern to make sure lock is always released.

Change-Id: I0c7b45d3125ff1e007d44064a7653c1b2b07c770
(cherry picked from commit 6f13191a6c939d4f38955f8cb0a67f305b463bd1)
",git fetch https://review.opendev.org/openstack/designate refs/changes/71/660171/1 && git format-patch -1 --stdout FETCH_HEAD,['designate/central/service.py'],1,e50922874beb288e35b343e9bb9edeff9a882b10,660171," if zone_id: if zone_id: if not zone_id and len(args) > zone_arg: if new_zone and not zone_id: lock_name = 'create-new-zone' elif not new_zone and zone_id: lock_name = 'zone-%s' % zone_id else: with lockutils.lock(lock_name): try: return f(self, *args, **kwargs) finally:"," if zone_id is not None: if zone_id is not None: if zone_id is None and len(args) > zone_arg: if not new_zone and zone_id is None: # Call the wrapped function else: with lockutils.lock('zone-%s' % zone_id): # Call the wrapped function result = f(self, *args, **kwargs) return result",13,18
openstack%2Fnova-specs~master~Ie15fded064f74411ee00381eb900c61ede06cba4,openstack/nova-specs,master,Ie15fded064f74411ee00381eb900c61ede06cba4,fix the spelling mistakes,MERGED,2019-06-19 08:24:17.000000000,2019-07-02 05:23:00.000000000,2019-07-02 05:23:00.000000000,"[{'_account_id': 5754}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-19 08:24:17.000000000', 'files': ['specs/kilo/implemented/add-all-in-list-operator-to-extra-spec-ops.rst', 'specs/juno/approved/add-all-in-list-operator-to-extra-spec-ops.rst'], 'web_link': 'https://opendev.org/openstack/nova-specs/commit/71ff5e10fba8574bab5cae7fdc128a87dfae2a53', 'message': 'fix the spelling mistakes\n\nChange-Id: Ie15fded064f74411ee00381eb900c61ede06cba4\n'}]",0,666244,71ff5e10fba8574bab5cae7fdc128a87dfae2a53,7,3,1,30455,,,0,"fix the spelling mistakes

Change-Id: Ie15fded064f74411ee00381eb900c61ede06cba4
",git fetch https://review.opendev.org/openstack/nova-specs refs/changes/44/666244/1 && git format-patch -1 --stdout FETCH_HEAD,"['specs/kilo/implemented/add-all-in-list-operator-to-extra-spec-ops.rst', 'specs/juno/approved/add-all-in-list-operator-to-extra-spec-ops.rst']",2,71ff5e10fba8574bab5cae7fdc128a87dfae2a53,,Add a new lambda function to,Add a new lamda function to,2,2
openstack%2Fdesignate~master~I9af77adb8a0b5c2ee076eeffe993100d8c65196c,openstack/designate,master,I9af77adb8a0b5c2ee076eeffe993100d8c65196c,Remove unused code in utils and improved utils testing,MERGED,2019-06-09 23:41:26.000000000,2019-07-02 04:25:51.000000000,2019-07-02 04:25:51.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-09 23:41:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/236a2ccf30c1d09c20743018a146ebce5bf33642', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 2, 'created': '2019-06-18 19:51:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/870e51fb7630e4aa44f74d54bdc8f7f0b81f1c2c', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 3, 'created': '2019-06-24 00:56:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/572b8312661ff1a081cc232ffc3e62e0e4fea8be', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 4, 'created': '2019-06-27 18:13:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/873cffcaf89fe4262501aa3aadb50fafbd1b0c2b', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 5, 'created': '2019-06-28 03:28:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/e4f008ffceb8ccea3e8421144ec26f0af25a1a57', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 6, 'created': '2019-06-28 03:35:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4c3a5564dc2926b10b0fc371880c7886bbeecebc', 'message': 'Remove unused code in utils\n\n* Removed utility code not used anywhere.\n* Added some additional tests on previously untested code.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 7, 'created': '2019-06-28 04:54:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/3f5a411fdd77cd75f2bf37fbb26861c35358e013', 'message': 'Remove unused code in utils\n\n* Removed utility code not referenced anywhere.\n* Added some additional tests on previously untested code.\n* Moved existing utils tests to designate.tests.unit.\n* Cleaned up existing tests.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 8, 'created': '2019-06-28 04:57:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1fe9cefc5cf5200c1f1328d4045d80d39d42bdc1', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 9, 'created': '2019-06-28 04:59:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/71a0d3428fe6d3dfe5c75061c128db974cc7a8cf', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 10, 'created': '2019-06-28 05:10:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/173625d588c82032f150887085a1fe095cc8cd4d', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 11, 'created': '2019-06-28 05:50:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/1d349058640a221809e6bb991d8de73085bb5443', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 12, 'created': '2019-06-28 05:56:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4568854c43535b65ab3a93bdd5ca397e88837266', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 13, 'created': '2019-06-28 17:26:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/38346246158f2ad26ceaa26054a2e937def86df9', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}, {'number': 14, 'created': '2019-06-28 17:29:30.000000000', 'files': ['designate/tests/test_utils.py', 'designate/tests/unit/workers/test_zone_tasks.py', 'designate/utils.py', 'designate/tests/unit/test_utils.py', 'designate/tests/unit/utils.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/ee04eaf2af1f0a39df2feadac8b882b26414a714', 'message': 'Remove unused code in utils and improved utils testing\n\n* Added some additional tests on previously untested code.\n* Cleaned up existing tests.\n* Moved existing utils tests to designate.tests.unit.\n* Moved test utility code into a separate utility file.\n* Removed utility code no longer referenced anywhere.\n\nChange-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c\n'}]",0,664173,ee04eaf2af1f0a39df2feadac8b882b26414a714,31,4,14,22623,,,0,"Remove unused code in utils and improved utils testing

* Added some additional tests on previously untested code.
* Cleaned up existing tests.
* Moved existing utils tests to designate.tests.unit.
* Moved test utility code into a separate utility file.
* Removed utility code no longer referenced anywhere.

Change-Id: I9af77adb8a0b5c2ee076eeffe993100d8c65196c
",git fetch https://review.opendev.org/openstack/designate refs/changes/73/664173/13 && git format-patch -1 --stdout FETCH_HEAD,"['designate/utils.py', 'designate/tests/unit/test_utils.py']",2,236a2ccf30c1d09c20743018a146ebce5bf33642,improved_tests,"from oslo_config import cfg from oslo_config import fixture as cfg_fixtureCONF = cfg.CONF class TestUtils(oslotest.base.BaseTestCase): def setUp(self): super(TestUtils, self).setUp() self.useFixture(cfg_fixture.Config(CONF)) def test_deep_dict_merge(self): a = { 'a': {'dns': 'record'}, 'b': 'b', 'c': 'c', } b = { 'a': {'domain': 'zone'}, 'c': 1, 'd': 'd', } self.assertEqual( { 'a': { 'dns': 'record', 'domain': 'zone' }, 'b': 'b', 'c': 1, 'd': 'd' }, utils.deep_dict_merge(a, b) ) def test_deep_dict_merge_not_dict(self): result = utils.deep_dict_merge(dict(), list()) self.assertIsInstance(result, list) def test_get_proxies(self): CONF.set_override('no_proxy', 'example.com', 'proxy') CONF.set_override('http_proxy', 'example.org', 'proxy') CONF.set_override('https_proxy', 'example.net', 'proxy') result = utils.get_proxies() self.assertEqual(['example.com'], result.get('no_proxy')) self.assertEqual('example.org', result.get('http')) self.assertEqual('example.net', result.get('https')) def test_get_proxies_default_values(self): result = utils.get_proxies() self.assertIsNone(result.get('no_proxy')) self.assertIsNone(result.get('http')) self.assertIsNone(result.get('https')) def test_get_proxies_with_no_proxy(self): CONF.set_override('no_proxy', 'example.org', 'proxy') result = utils.get_proxies() self.assertEqual(['example.org'], result.get('no_proxy')) self.assertIsNone(result.get('http')) self.assertIsNone(result.get('https')) def test_get_proxies_with_http_proxy(self): CONF.set_override('http_proxy', 'example.org', 'proxy') result = utils.get_proxies() self.assertIsNone(result.get('no_proxy')) self.assertEqual('example.org', result.get('http')) self.assertEqual('example.org', result.get('https')) def test_get_proxies_with_https_proxy(self): CONF.set_override('https_proxy', 'example.org', 'proxy') result = utils.get_proxies() self.assertIsNone(result.get('no_proxy')) self.assertIsNone(result.get('http')) self.assertEqual('example.org', result.get('https')) "," class TestSocket(oslotest.base.BaseTestCase): def setUp(self): super(TestSocket, self).setUp()",80,97
openstack%2Fzun~master~I2be897e95011202a142687ea6669966e8a157694,openstack/zun,master,I2be897e95011202a142687ea6669966e8a157694,Fix invalid assertIsNone state,MERGED,2019-06-28 09:45:33.000000000,2019-07-02 03:23:09.000000000,2019-07-02 03:23:09.000000000,"[{'_account_id': 11536}, {'_account_id': 20190}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 09:45:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/4b43c81b0c1c68ed8dcc831b8aef3f94315597f6', 'message': 'Fix invalid assertIsNone state\n\nThis is to fix invalid assertIsNone state of\n""self.assertIsNone(None, c.get(\'command\'))"".\n\nChange-Id: I2be897e95011202a142687ea6669966e8a157694\n'}, {'number': 2, 'created': '2019-07-01 01:31:06.000000000', 'files': ['zun/tests/unit/api/controllers/v1/test_containers.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/2c81fc2aeccfd30700b4bf87f6259f411983d8cc', 'message': 'Fix invalid assertIsNone state\n\nThis is to fix invalid assertIsNone state of\n""self.assertIsNone(None, c.get(\'command\'))"".\n\nChange-Id: I2be897e95011202a142687ea6669966e8a157694\n'}]",3,668133,2c81fc2aeccfd30700b4bf87f6259f411983d8cc,10,3,2,20190,,,0,"Fix invalid assertIsNone state

This is to fix invalid assertIsNone state of
""self.assertIsNone(None, c.get('command'))"".

Change-Id: I2be897e95011202a142687ea6669966e8a157694
",git fetch https://review.opendev.org/openstack/zun refs/changes/33/668133/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/unit/api/controllers/v1/test_containers.py'],1,4b43c81b0c1c68ed8dcc831b8aef3f94315597f6,assertIsNone, self.assertIsNone(c.get('command'))," self.assertIsNone(None, c.get('command'))",1,1
openstack%2Fadjutant~master~Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc,openstack/adjutant,master,Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc,Added support for reno release notes,MERGED,2019-07-02 02:43:16.000000000,2019-07-02 03:20:35.000000000,2019-07-02 03:20:35.000000000,"[{'_account_id': 10420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-02 02:43:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/3992078055d4a1cb5e472a6f2edd210daffce273', 'message': 'Added support for reno release notes\n\nChange-Id: Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc\n'}, {'number': 2, 'created': '2019-07-02 02:46:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/d14c957e4cf0cddb42014d32a2eee3e02832c3d2', 'message': 'Added support for reno release notes\n\nChange-Id: Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc\n'}, {'number': 3, 'created': '2019-07-02 03:04:11.000000000', 'files': ['releasenotes/source/unreleased.rst', 'doc/source/index.rst', '.gitignore', 'test-requirements.txt', 'releasenotes/source/index.rst', 'doc/source/release-notes.rst', 'tox.ini', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/470f253003406d250e00a3b9d8f6e454ddf9cec7', 'message': 'Added support for reno release notes\n\nChange-Id: Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc\n'}]",0,668571,470f253003406d250e00a3b9d8f6e454ddf9cec7,9,2,3,10420,,,0,"Added support for reno release notes

Change-Id: Icf04f5d8dcb4a04f567e6a3bc10760831e6b43cc
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/71/668571/3 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/unreleased.rst', 'doc/source/index.rst', '.gitignore', 'test-requirements.txt', 'doc/source/release-notes.rst', 'releasenotes/source/index.rst', 'tox.ini', 'releasenotes/source/conf.py']",8,3992078055d4a1cb5e472a6f2edd210daffce273,new/reno,"# Licensed under the Apache License, Version 2.0 (the ""License""); # you may not use this file except in compliance with the License. # You may obtain a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, # WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or # implied. # See the License for the specific language governing permissions and # limitations under the License. # This file is execfile()d with the current directory set to its # containing dir. # # Note that not all possible configuration values are present in this # autogenerated file. # # All configuration values have a default; values that are commented out # serve to show the default. # If extensions (or modules to document with autodoc) are in another directory, # add these directories to sys.path here. If the directory is relative to the # documentation root, use os.path.abspath to make it absolute, like shown here. # sys.path.insert(0, os.path.abspath('.')) # -- General configuration ------------------------------------------------ # If your documentation needs a minimal Sphinx version, state it here. # needs_sphinx = '1.0' # Add any Sphinx extension module names here, as strings. They can be # extensions coming with Sphinx (named 'sphinx.ext.*') or your custom # ones. extensions = [ 'openstackdocstheme', 'reno.sphinxext', ] # Add any paths that contain templates here, relative to this directory. templates_path = ['_templates'] # The suffix of source filenames. source_suffix = '.rst' # The encoding of source files. # source_encoding = 'utf-8-sig' # The master toctree document. master_doc = 'index' # General information about the project. project = u'Adjutant Release Notes' copyright = u'2019, Adjutant Developers' # Release notes are version independent # The full version, including alpha/beta/rc tags. release = '' # The short X.Y version. version = '' # The language for content autogenerated by Sphinx. Refer to documentation # for a list of supported languages. # language = None # There are two options for replacing |today|: either, you set today to some # non-false value, then it is used: # today = '' # Else, today_fmt is used as the format for a strftime call. # today_fmt = '%B %d, %Y' # List of patterns, relative to source directory, that match files and # directories to ignore when looking for source files. exclude_patterns = [] # The reST default role (used for this markup: `text`) to use for all # documents. # default_role = None # If true, '()' will be appended to :func: etc. cross-reference text. # add_function_parentheses = True # If true, the current module name will be prepended to all description # unit titles (such as .. function::). # add_module_names = True # If true, sectionauthor and moduleauthor directives will be shown in the # output. They are ignored by default. # show_authors = False # The name of the Pygments (syntax highlighting) style to use. pygments_style = 'sphinx' # A list of ignored prefixes for module index sorting. # modindex_common_prefix = [] # If true, keep warnings as ""system message"" paragraphs in the built documents. # keep_warnings = False # -- Options for HTML output ---------------------------------------------- # The theme to use for HTML and HTML Help pages. See the documentation for # a list of builtin themes. html_theme = 'openstackdocs' # Theme options are theme-specific and customize the look and feel of a theme # further. For a list of options available for each theme, see the # documentation. # html_theme_options = {} # Add any paths that contain custom themes here, relative to this directory. # html_theme_path = [] # The name for this set of Sphinx documents. If None, it defaults to # ""<project> v<release> documentation"". # html_title = None # A shorter title for the navigation bar. Default is the same as html_title. # html_short_title = None # The name of an image file (relative to this directory) to place at the top # of the sidebar. # html_logo = None # The name of an image file (within the static path) to use as favicon of the # docs. This file should be a Windows icon file (.ico) being 16x16 or 32x32 # pixels large. # html_favicon = None # Add any paths that contain custom static files (such as style sheets) here, # relative to this directory. They are copied after the builtin static files, # so a file named ""default.css"" will overwrite the builtin ""default.css"". html_static_path = ['_static'] # Add any extra paths that contain custom files (such as robots.txt or # .htaccess) here, relative to this directory. These files are copied # directly to the root of the documentation. # html_extra_path = [] # If not '', a 'Last updated on:' timestamp is inserted at every page bottom, # using the given strftime format. # html_last_updated_fmt = '%b %d, %Y' html_last_updated_fmt = '%Y-%m-%d %H:%M' # If true, SmartyPants will be used to convert quotes and dashes to # typographically correct entities. # html_use_smartypants = True # Custom sidebar templates, maps document names to template names. # html_sidebars = {} # Additional templates that should be rendered to pages, maps page names to # template names. # html_additional_pages = {} # If false, no module index is generated. # html_domain_indices = True # If false, no index is generated. # html_use_index = True # If true, the index is split into individual pages for each letter. # html_split_index = False # If true, links to the reST sources are added to the pages. # html_show_sourcelink = True # If true, ""Created using Sphinx"" is shown in the HTML footer. Default is True. # html_show_sphinx = True # If true, ""(C) Copyright ..."" is shown in the HTML footer. Default is True. # html_show_copyright = True # If true, an OpenSearch description file will be output, and all pages will # contain a <link> tag referring to it. The value of this option must be the # base URL from which the finished HTML is served. # html_use_opensearch = '' # This is the file name suffix for HTML files (e.g. "".xhtml""). # html_file_suffix = None # Output file base name for HTML help builder. htmlhelp_basename = 'AdjutantReleaseNotesdoc' # -- Options for LaTeX output --------------------------------------------- latex_elements = { # The paper size ('letterpaper' or 'a4paper'). # 'papersize': 'letterpaper', # The font size ('10pt', '11pt' or '12pt'). # 'pointsize': '10pt', # Additional stuff for the LaTeX preamble. # 'preamble': '', } # Grouping the document tree into LaTeX files. List of tuples # (source start file, target name, title, # author, documentclass [howto, manual, or own class]). latex_documents = [ ('index', 'AdjutantReleaseNotes.tex', u'Adjutant Release Notes Documentation', u'Adjutant Developers', 'manual'), ] # The name of an image file (relative to this directory) to place at the top of # the title page. # latex_logo = None # For ""manual"" documents, if this is true, then toplevel headings are parts, # not chapters. # latex_use_parts = False # If true, show page references after internal links. # latex_show_pagerefs = False # If true, show URL addresses after external links. # latex_show_urls = False # Documents to append as an appendix to all manuals. # latex_appendices = [] # If false, no module index is generated. # latex_domain_indices = True # -- Options for manual page output --------------------------------------- # One entry per manual page. List of tuples # (source start file, name, description, authors, manual section). man_pages = [ ('index', 'adjutantreleasenotes', u'Adjutant Release Notes Documentation', [u'Adjutant Developers'], 1) ] # If true, show URL addresses after external links. # man_show_urls = False # -- Options for Texinfo output ------------------------------------------- # Grouping the document tree into Texinfo files. List of tuples # (source start file, target name, title, author, # dir menu entry, description, category) texinfo_documents = [ ('index', 'AdjutantReleaseNotes', u'Adjutant Release Notes Documentation', u'Adjutant Developers', 'AdjutantReleaseNotes', 'An extensible API framework for admin logic in OpenStack.', 'Miscellaneous'), ] # Documents to append as an appendix to all manuals. # texinfo_appendices = [] # If false, no module index is generated. # texinfo_domain_indices = True # How to display URL addresses: 'footnote', 'no', or 'inline'. # texinfo_show_urls = 'footnote' # If true, do not generate a @detailmenu in the ""Top"" node's menu. # texinfo_no_detailmenu = False # -- Options for Internationalization output ------------------------------ locale_dirs = ['locale/'] # -- Options for openstackdocstheme ------------------------------------------- repository_name = 'openstack/adjutant' bug_project = 'adjutant' bug_tag = 'doc'",,412,2
openstack%2Ftripleo-heat-templates~master~I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,openstack/tripleo-heat-templates,master,I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34,Add missing tag 'role_specific' for NovaPciPassthrough parameter,MERGED,2019-06-28 03:44:47.000000000,2019-07-02 03:03:43.000000000,2019-07-01 16:15:19.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-28 03:44:47.000000000', 'files': ['deployment/nova/nova-compute-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8860eee23138f48756a684f2954352004ba766d4', 'message': ""Add missing tag 'role_specific' for NovaPciPassthrough parameter\n\nChange-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34\nCloses-Bug: #1834557\n""}]",0,668087,8860eee23138f48756a684f2954352004ba766d4,15,9,1,18575,,,0,"Add missing tag 'role_specific' for NovaPciPassthrough parameter

Change-Id: I6cbc2738aeee5592f2f85eb623fc58c2a55e7c34
Closes-Bug: #1834557
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/87/668087/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/nova/nova-compute-container-puppet.yaml'],1,8860eee23138f48756a684f2954352004ba766d4,bug/1834557, tags: - role_specific,,2,0
openstack%2Fswift~master~Ic61153948e35f1c09b05bfc97dfac3fb487b0898,openstack/swift,master,Ic61153948e35f1c09b05bfc97dfac3fb487b0898,Use get_container_info to check existence before container PUT,MERGED,2018-07-05 10:04:27.000000000,2019-07-02 02:50:41.000000000,2019-07-01 21:24:04.000000000,"[{'_account_id': 1179}, {'_account_id': 4608}, {'_account_id': 9625}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-07-05 10:04:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/04fe71ee07922c240fc167874d9398fb819c399c', 'message': ""HEAD to check existence before container PUT\n\nPUT request on an existing container will trigger an update on\ncontainer db. When disks where container db landed are under\nheavy loads, update on the container db may fail due to LockTimout.\n\nHence, we first check existence, if it's not there, we PUT.\n\nChange-Id: Ic61153948e35f1c09b05bfc97dfac3fb487b0898\nCloses-Bug: 1780204\n""}, {'number': 2, 'created': '2019-06-25 18:45:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/a39a493017fc1e04e544fa84425d80054837ec7b', 'message': ""HEAD to check existence before container PUT\n\nPUT request on an existing container will trigger an update on\ncontainer db. When disks where container db landed are under\nheavy loads, update on the container db may fail due to LockTimout.\n\nHence, we first check existence, if it's not there, we PUT.\n\nChange-Id: Ic61153948e35f1c09b05bfc97dfac3fb487b0898\nCloses-Bug: 1780204\n""}, {'number': 3, 'created': '2019-06-27 00:01:44.000000000', 'files': ['swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/e02b9b798007b9f8c70e33c22fa6189d81a41ca3', 'message': ""Use get_container_info to check existence before container PUT\n\nPUT request on an existing container will trigger an update on\ncontainer db. When disks where container db landed are under\nheavy loads, update on the container db may fail due to LockTimout.\n\nHence, we first check existence, if it's not there, we PUT.\n\nChange-Id: Ic61153948e35f1c09b05bfc97dfac3fb487b0898\nCloses-Bug: 1780204\n""}]",9,580333,e02b9b798007b9f8c70e33c22fa6189d81a41ca3,19,5,3,28111,,,0,"Use get_container_info to check existence before container PUT

PUT request on an existing container will trigger an update on
container db. When disks where container db landed are under
heavy loads, update on the container db may fail due to LockTimout.

Hence, we first check existence, if it's not there, we PUT.

Change-Id: Ic61153948e35f1c09b05bfc97dfac3fb487b0898
Closes-Bug: 1780204
",git fetch https://review.opendev.org/openstack/swift refs/changes/33/580333/2 && git format-patch -1 --stdout FETCH_HEAD,"['swift/common/middleware/s3api/acl_handlers.py', 'swift/common/middleware/s3api/controllers/multi_upload.py', 'test/unit/common/middleware/s3api/test_multi_upload.py']",3,04fe71ee07922c240fc167874d9398fb819c399c,bug/1780204," def _test_object_multipart_upload_initiate(self, headers, bucket_exists=True): segment_bucket_path = '/v1/AUTH_test/bucket%s' % MULTIUPLOAD_SUFFIX if bucket_exists: method, path, _ = self.swift.calls_with_headers[-2] self.assertEqual(method, 'HEAD') self.assertEqual(path, segment_bucket_path) else: method, path, _ = self.swift.calls_with_headers[-2] self.assertEqual(method, 'PUT') self.assertEqual(path, segment_bucket_path) method, path, _ = self.swift.calls_with_headers[-3] self.assertEqual(method, 'HEAD') self.assertEqual(path, segment_bucket_path) def test_object_multipart_upload_initiate_with_segment_bucket(self): self.swift.register('HEAD', '/v1/AUTH_test/bucket+segments', swob.HTTPNoContent, {}, None) def test_object_multipart_upload_initiate_without_segment_bucket(self): self.swift.register('HEAD', '/v1/AUTH_test/bucket+segments', swob.HTTPNotFound, {}, None) self.swift.register('PUT', '/v1/AUTH_test/bucket+segments', swob.HTTPCreated, {}, None) self._test_object_multipart_upload_initiate({}, bucket_exists=False) self._test_object_multipart_upload_initiate({'Etag': 'blahblahblah'}, bucket_exists=False) self._test_object_multipart_upload_initiate( {'Content-MD5': base64.b64encode('blahblahblahblah').strip()}, bucket_exists=False) def _test_object_multipart_upload_initiate_s3acl(self): def test_object_multipart_upload_initiate_s3acl_with_segment_bucket(self): self.swift.register('HEAD', '/v1/AUTH_test/bucket+segments', swob.HTTPNoContent, {}, None) self._test_object_multipart_upload_initiate_s3acl() def test_object_multipart_upload_initiate_s3acl_without_segment_bucket( self): self.swift.register('HEAD', '/v1/AUTH_test/bucket+segments', swob.HTTPNotFound, {}, None) self.swift.register('PUT', '/v1/AUTH_test/bucket+segments', swob.HTTPCreated, {}, None) self._test_object_multipart_upload_initiate_s3acl() objects_template[partnum - 1][1][:-3] + 'Z') objects_template[partnum - 1][1][:-3] + 'Z')"," def _test_object_multipart_upload_initiate(self, headers): method, path, _ = self.swift.calls_with_headers[-2] self.assertEqual(method, 'PUT') self.assertEqual( path, '/v1/AUTH_test/bucket%s' % MULTIUPLOAD_SUFFIX) def test_object_multipart_upload_initiate(self): def test_object_multipart_upload_initiate_s3acl(self): objects_template[partnum - 1][1][:-3] + 'Z') objects_template[partnum - 1][1][:-3] + 'Z')",53,20
openstack%2Fkeystone~master~I867fc8783fbb8dca8b6500e6e3944bd56062a6bd,openstack/keystone,master,I867fc8783fbb8dca8b6500e6e3944bd56062a6bd,Add Python 3 Train unit tests,MERGED,2019-06-26 22:43:54.000000000,2019-07-02 02:30:02.000000000,2019-07-02 02:30:02.000000000,"[{'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-26 22:43:54.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/956bcd735fb9069bc39b20e0e7ee5c1ea1b461ff', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I867fc8783fbb8dca8b6500e6e3944bd56062a6bd\nStory: #2005924\nTask: #34215\n'}]",0,667746,956bcd735fb9069bc39b20e0e7ee5c1ea1b461ff,12,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I867fc8783fbb8dca8b6500e6e3944bd56062a6bd
Story: #2005924
Task: #34215
",git fetch https://review.opendev.org/openstack/keystone refs/changes/46/667746/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,956bcd735fb9069bc39b20e0e7ee5c1ea1b461ff,python3-train,"envlist = py27,py37,pep8,api-ref,docs,genconfig,genpolicy,releasenotes","envlist = py37,py36,py27,pep8,api-ref,docs,genconfig,genpolicy,releasenotes",1,1
openstack%2Fzun~master~I87958c59afea04a3687481ca3a19021db9c37877,openstack/zun,master,I87958c59afea04a3687481ca3a19021db9c37877,Add 'region_name' to cinder client config,MERGED,2019-06-08 20:22:41.000000000,2019-07-02 02:30:01.000000000,2019-07-02 02:30:00.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-08 20:22:41.000000000', 'files': ['zun/conf/cinder_client.py', 'zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/aee32d94064cc988fe797020d800dcfbeca80948', 'message': ""Add 'region_name' to cinder client config\n\nThis commit add 'region_name' to cinder_client config. It allows\noperators to choose the region of the cinder endpoint to use.\n\nChange-Id: I87958c59afea04a3687481ca3a19021db9c37877\n""}]",0,664141,aee32d94064cc988fe797020d800dcfbeca80948,6,2,1,11536,,,0,"Add 'region_name' to cinder client config

This commit add 'region_name' to cinder_client config. It allows
operators to choose the region of the cinder endpoint to use.

Change-Id: I87958c59afea04a3687481ca3a19021db9c37877
",git fetch https://review.opendev.org/openstack/zun refs/changes/41/664141/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/conf/cinder_client.py', 'zun/common/clients.py']",2,aee32d94064cc988fe797020d800dcfbeca80948,," region_name = self._get_client_option('cinder', 'region_name') 'region_name': region_name,",,5,0
openstack%2Fzun~master~I7fe14c9621d3a40ee27c9f06855d466a6d3789d3,openstack/zun,master,I7fe14c9621d3a40ee27c9f06855d466a6d3789d3,Add 'region_name' to neutron client config,MERGED,2019-06-08 19:59:11.000000000,2019-07-02 02:29:59.000000000,2019-07-02 02:29:59.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-08 19:59:11.000000000', 'files': ['zun/conf/neutron_client.py', 'zun/common/clients.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/d3d4b169a9e2e652b692411f89d96bdc5854c824', 'message': ""Add 'region_name' to neutron client config\n\nThis commit add 'region_name' to neutron_client config. It allows\noperators to choose the region of the neutron endpoint to use.\n\nChange-Id: I7fe14c9621d3a40ee27c9f06855d466a6d3789d3\nCloses-Bug: #1831683\n""}]",0,664140,d3d4b169a9e2e652b692411f89d96bdc5854c824,7,2,1,11536,,,0,"Add 'region_name' to neutron client config

This commit add 'region_name' to neutron_client config. It allows
operators to choose the region of the neutron endpoint to use.

Change-Id: I7fe14c9621d3a40ee27c9f06855d466a6d3789d3
Closes-Bug: #1831683
",git fetch https://review.opendev.org/openstack/zun refs/changes/40/664140/1 && git format-patch -1 --stdout FETCH_HEAD,"['zun/conf/neutron_client.py', 'zun/common/clients.py']",2,d3d4b169a9e2e652b692411f89d96bdc5854c824,bug/1831683," region_name = self._get_client_option('neutron', 'region_name') endpoint_type=endpoint_type, region_name=region_name)", endpoint_type=endpoint_type),6,1
openstack%2Fzun~master~I6d041fef679caf5ac2546ca1a8fdbf31e5322dec,openstack/zun,master,I6d041fef679caf5ac2546ca1a8fdbf31e5322dec,Allow force delete a 'DELETING' container,MERGED,2019-06-08 20:26:13.000000000,2019-07-02 02:29:58.000000000,2019-07-02 02:29:58.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-08 20:26:13.000000000', 'files': ['zun/common/utils.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4cc1098c13d682f391ddcda6c86ed23ee60a031c', 'message': ""Allow force delete a 'DELETING' container\n\nChange-Id: I6d041fef679caf5ac2546ca1a8fdbf31e5322dec\n""}]",0,664142,4cc1098c13d682f391ddcda6c86ed23ee60a031c,6,2,1,11536,,,0,"Allow force delete a 'DELETING' container

Change-Id: I6d041fef679caf5ac2546ca1a8fdbf31e5322dec
",git fetch https://review.opendev.org/openstack/zun refs/changes/42/664142/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/common/utils.py'],1,4cc1098c13d682f391ddcda6c86ed23ee60a031c,," consts.REBUILDING, consts.DELETING],"," consts.REBUILDING],",1,1
openstack%2Fzun~master~Iee1a3b6b90366e85c4b160391106eedae89a0814,openstack/zun,master,Iee1a3b6b90366e85c4b160391106eedae89a0814,Ping api version for fullstack test,MERGED,2019-06-30 15:50:59.000000000,2019-07-02 02:05:11.000000000,2019-07-02 02:05:11.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-06-30 15:50:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/zun/commit/7228b81ac640d9c43495c14ebf46e307c603ed1d', 'message': 'Ping api version for fullstack test\n\nChange-Id: Iee1a3b6b90366e85c4b160391106eedae89a0814\n'}, {'number': 2, 'created': '2019-06-30 18:28:34.000000000', 'files': ['zun/tests/fullstack/utils.py'], 'web_link': 'https://opendev.org/openstack/zun/commit/4260d21b8f000b50535ab3bc513fad6f3648c071', 'message': 'Ping api version for fullstack test\n\nChange-Id: Iee1a3b6b90366e85c4b160391106eedae89a0814\n'}]",0,668333,4260d21b8f000b50535ab3bc513fad6f3648c071,8,2,2,11536,,,0,"Ping api version for fullstack test

Change-Id: Iee1a3b6b90366e85c4b160391106eedae89a0814
",git fetch https://review.opendev.org/openstack/zun refs/changes/33/668333/1 && git format-patch -1 --stdout FETCH_HEAD,['zun/tests/fullstack/utils.py'],1,7228b81ac640d9c43495c14ebf46e307c603ed1d,,"ZUN_API_VERSION='1.30' return client.Client(ZUN_API_VERSION, session=session) return client.Client(ZUN_API_VERSION, session=session, auth=auth_plugin)"," return client.Client('1.latest', session=session) return client.Client('1.latest', session=session, auth=auth_plugin)",5,2
openstack%2Fpython-zunclient~master~I9effc8d8ec01736171c76ed82a2d83bdde385757,openstack/python-zunclient,master,I9effc8d8ec01736171c76ed82a2d83bdde385757,Add Python 3 Train unit tests,MERGED,2019-07-01 09:08:40.000000000,2019-07-02 01:56:39.000000000,2019-07-02 01:56:39.000000000,"[{'_account_id': 22348}, {'_account_id': 23365}]","[{'number': 1, 'created': '2019-07-01 09:08:40.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-zunclient/commit/0ecb09fe306e552f6f7ee6d2f238b9bf5048adf4', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I9effc8d8ec01736171c76ed82a2d83bdde385757\n'}]",0,668393,0ecb09fe306e552f6f7ee6d2f238b9bf5048adf4,6,2,1,27822,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I9effc8d8ec01736171c76ed82a2d83bdde385757
",git fetch https://review.opendev.org/openstack/python-zunclient refs/changes/93/668393/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,0ecb09fe306e552f6f7ee6d2f238b9bf5048adf4,python3-train,"envlist = py37,py36,py27,pep8","envlist = py27,pep8",3,3
openstack%2Fnova~master~Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3,openstack/nova,master,Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3,Remove mox in virt/test_block_device.py,MERGED,2018-05-03 20:17:03.000000000,2019-07-02 01:20:18.000000000,2019-07-02 01:20:17.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 9008}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 15751}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2018-05-03 20:17:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f33b67d6a6c574fddd2f8a64675b39eea944b424', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 2, 'created': '2018-05-07 00:30:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88819009b3f047e3edb569de6cad7b96b9c332f3', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 3, 'created': '2018-05-28 02:48:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/faaddf4eac857165ae77c150a38bddc0e687dbe0', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 4, 'created': '2018-06-07 21:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/dacaa1758472901185a4d1d1c84f7e9cc549f948', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 5, 'created': '2018-06-21 23:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ed2c1630651778d8a8eaca22fc090afe38ecb5a5', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 6, 'created': '2018-07-01 22:45:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/1e598d6f10d762d3a55677a595913c22aa24d4e3', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 7, 'created': '2018-07-08 22:00:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/51c1871e3e133fd07f2ba64a657a15a3044f9a84', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 8, 'created': '2018-07-12 10:20:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b68a4888a614351d2f3691c0385e594e3b124b41', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 9, 'created': '2018-07-19 22:05:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5563f858c3beff5305d76c4c9d921607abe3b10f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 10, 'created': '2018-07-25 22:25:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/88b78931a40fb109e419ccc7a2d389f9e57ed072', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal\n'}, {'number': 11, 'created': '2018-08-13 12:00:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2bd42fd50f38c3bb75cb27c552fd8662f27833a6', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 12, 'created': '2018-08-26 22:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/653ace907442a2efc6af325d6dc928a520e6b62f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 13, 'created': '2018-09-10 15:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/79bf0a84d5059cee2077432bbc16225e59e551fa', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 14, 'created': '2018-09-18 04:14:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9b57c12170814acaaf784e1c79726e8ac4c3cd9a', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 15, 'created': '2018-10-04 00:45:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29b2a08578427665df54390bc528867d5f5d4e2f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 16, 'created': '2018-10-04 23:23:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/28ebe8728e2ec8f33272bbdb01fa93c8d0b8fee5', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 17, 'created': '2018-10-10 04:05:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/beb5ae508e61be50ed3caf50e420ad7853186698', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 18, 'created': '2018-10-16 02:45:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/191d8e7ff7883130611fad9e68d612f8460c8022', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 19, 'created': '2018-10-22 02:05:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d0a2db6e919a190c835229a0ac729c6df0494345', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 20, 'created': '2018-11-02 00:39:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4624773fb251c43a943612049555050b3aed75bd', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 21, 'created': '2018-11-14 15:47:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/0df979cab2b31dc93d033b22b04b02974fbf5ee5', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 22, 'created': '2018-11-26 05:40:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/5326ee54c51e9ca067ba513d468ea5f1f96dabf0', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 23, 'created': '2018-12-09 23:50:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f237f7c94a2ac04c0f856076b1a954770499f9a1', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 24, 'created': '2018-12-17 06:52:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2fc1242a1b655b8b8388599d259856c12b0fb083', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 25, 'created': '2018-12-25 02:41:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/002c00616d3e3ae50d0de24f8458b44da8619a6c', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 26, 'created': '2019-01-07 02:59:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/2745259931b8fb997256aedafe464ca0339e0929', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 27, 'created': '2019-01-17 04:06:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d65b3518e5767f2e3657fc91e90e6e5fe4d1e955', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 28, 'created': '2019-01-28 07:12:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/29fcebda0a189c9c3d4c75909a32c50f8739a79f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 29, 'created': '2019-02-07 08:27:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/b90ffe801ca005b46eff1d8c46d9b64b63aaf487', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 30, 'created': '2019-02-22 00:30:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e9183af06e0968611d3a205d15054243ee67fc49', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 31, 'created': '2019-03-06 23:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e996cd6081a53b6878679bd7782586c8222912d1', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 32, 'created': '2019-03-14 21:36:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/08129f39a1b464f1dabed09350cd35eddf0da957', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 33, 'created': '2019-03-21 13:50:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d6c9eec43d96d97341da32ab8e36e5ed25f58608', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 34, 'created': '2019-03-28 21:35:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3b120b3b416eee4452f06d7a42629b43ebab5036', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-stein\n'}, {'number': 35, 'created': '2019-04-05 01:56:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/f4685214d495d5de79b95193f555abef4d35a36a', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 36, 'created': '2019-04-05 01:56:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/21664d8ebad77d3426844e2f9135d5933235c448', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 37, 'created': '2019-04-15 03:19:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/3a205498d412c0dc63d7cfb50673a6bc417284d8', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 38, 'created': '2019-04-22 07:23:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/202311b694c0637c1f138f978bd864e1809bb05f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 39, 'created': '2019-05-04 21:12:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/54b570bb583dfe833ca53cca0748a394079572f6', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 40, 'created': '2019-05-13 04:10:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4b07a28b0d16c9f78be615f5959b1e3aab0cad85', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 41, 'created': '2019-05-28 01:23:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d42634ce7493c4e7c7f60acd90eb01b337bd5d67', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 42, 'created': '2019-06-03 02:11:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/ecb8788bb424e41a5410b17411b58a16ea4ab962', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 43, 'created': '2019-06-09 22:56:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/4d90c06fa4987a78a8572aa6cc8fe725b273d99f', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 44, 'created': '2019-06-16 22:12:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/c89d7d5ffac50b48d3ab02b9141325a0d182127e', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 45, 'created': '2019-06-24 02:29:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/be343dd33dfa1ba3508212bdda1a05a7c4ba00a2', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}, {'number': 46, 'created': '2019-06-30 22:25:15.000000000', 'files': ['nova/tests/unit/virt/test_block_device.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/1eb7b17a181902e83f6051881231411f931eae25', 'message': 'Remove mox in virt/test_block_device.py\n\nReplace mox with mock in\nnova/tests/unit/virt/test_block_device.py.\n\nChange-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3\nImplements: blueprint mox-removal-train\n'}]",15,566153,1eb7b17a181902e83f6051881231411f931eae25,412,13,46,7634,,,0,"Remove mox in virt/test_block_device.py

Replace mox with mock in
nova/tests/unit/virt/test_block_device.py.

Change-Id: Ibea67b80f7e64488ebdd2a0bc96f24381e25b3c3
Implements: blueprint mox-removal-train
",git fetch https://review.opendev.org/openstack/nova refs/changes/53/566153/40 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/virt/test_block_device.py'],1,f33b67d6a6c574fddd2f8a64675b39eea944b424,bp/mox-removal-train," self.volume_api = mock.MagicMock(autospec=cinder.API) self.virt_driver = mock.MagicMock(autospec=driver.ComputeDriver) @mock.patch.object(encryptors, 'get_encryption_metadata') @mock.patch.object(objects.BlockDeviceMapping, 'save') fake_volume, mock_save, mock_get_encry, fail_check_av_zone=False, include_shared_targets=False, wait_func=None): expected_save_calls = [] if driver_multi_attach: # 'supports_multiattach' is True self.virt_driver.capabilities.get.return_value = True else: # 'supports_multiattach' is False self.virt_driver.capabilities.get.return_value = False self.stub_out('nova.context.RequestContext.elevated', lambda s: elevated_context) self.volume_api.get.return_value = fake_volume self.volume_api.get.side_effect = [ exception.CinderAPIVersionNotAvailable(version='3.48'), fake_volume] try: if fail_check_av_zone: self.volume_api.check_availability_zone.side_effect = ( test.TestingException()) expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() self.virt_driver.get_volume_connector.return_value = connector if fail_with_virt_driver: expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() if self.attachment_id is None: self.volume_api.initialize_connection.return_value = ( connection_info) else: self.volume_api.attachment_update.return_value = { 'connection_info': connection_info} if driver_attach: mock_get_encry.return_value = enc_data if fail_driver_attach: self.virt_driver.attach_volume.side_effect = ( test.TestingException()) # The @update_db decorator will save any changes. expected_save_calls.append(mock.call()) # Exit setting mock raise test.TestingException() if volume_attach: # save updates before marking the volume as in-use expected_save_calls.append(mock.call()) if fail_volume_attach: if self.attachment_id is None: self.volume_api.attach.side_effect = ( test.TestingException()) else: self.volume_api.attachment_complete.side_effect = ( test.TestingException()) # The @update_db decorator will save any changes. expected_save_calls.append(mock.call()) except test.TestingException: pass if multiattach and fail_with_virt_driver: self.assertRaises(exception.MultiattachNotSupportedByVirtDriver, driver_bdm.attach, self.context, instance, self.volume_api, self.virt_driver) elif fail_check_av_zone or fail_driver_attach or fail_volume_attach: self.assertRaises(test.TestingException, driver_bdm.attach, self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=driver_attach) else: if wait_func: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) else: driver_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=driver_attach) self.assertThat(driver_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) if include_shared_targets: self.volume_api.get.assert_called_once_with( self.context, fake_volume['id'], microversion='3.48') else: # First call to get() fails because the API isn't new enough. # So we fallback to the old call. self.volume_api.get.assert_has_calls([ mock.call(self.context, fake_volume['id'], microversion='3.48'), mock.call(self.context, fake_volume['id'])]) try: self.volume_api.check_availability_zone.assert_called_once_with( self.context, fake_volume, instance=instance) if fail_check_av_zone: # Exit assert calls raise test.TestingException() self.virt_driver.get_volume_connector.assert_called_once_with( instance) if fail_with_virt_driver: raise test.TestingException() if self.attachment_id is None: self.volume_api.initialize_connection.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: self.volume_api.attachment_update.assert_called_once_with( elevated_context, self.attachment_id, connector, bdm_dict['device_name']) if driver_attach: mock_get_encry.assert_called_once_with( elevated_context, self.volume_api, fake_volume['id'], connection_info) self.virt_driver.attach_volume.assert_called_once_with( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], disk_bus=bdm_dict['disk_bus'], device_type=bdm_dict['device_type'], encryption=enc_data) if fail_driver_attach: if self.attachment_id is None: mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) else: mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id) # Exit assert calls raise test.TestingException() if volume_attach: if not fail_volume_attach: if self.attachment_id is None: self.volume_api.attach.assert_called_once_with( elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode) else: mock_att_complete = self.volume_api.attachment_complete mock_att_complete.assert_called_once_with( elevated_context, self.attachment_id) else: if self.attachment_id is None: self.volume_api.attach.assert_called_once_with( elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode) if driver_attach: mock_detach = self.virt_driver.detach_volume mock_detach.assert_called_once_with( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], encryption=enc_data) mock_terminate = self.volume_api.terminate_connection mock_terminate.assert_called_once_with( elevated_context, fake_volume['id'], connector) self.volume_api.detach.assert_called_once_with( elevated_context, fake_volume['id']) else: mock_att_complete = self.volume_api.attachment_complete mock_att_complete.assert_called_once_with( elevated_context, self.attachment_id) mock_att_delete = self.volume_api.attachment_delete mock_att_delete.assert_called_once_with( elevated_context, self.attachment_id) except test.TestingException: pass if expected_save_calls: mock_save.assert_has_calls(expected_save_calls) self._test_volume_attach(test_bdm, self.volume_bdm, volume, include_shared_targets=include_shared_targets) self._test_volume_attach( test_bdm, self.volume_bdm, volume, access_mode='ro') self._test_volume_attach(test_bdm, self.volume_bdm, volume) self._test_volume_attach(test_bdm, self.volume_bdm, volume, fail_check_av_zone=True) self._test_volume_attach(test_bdm, self.volume_bdm, volume, driver_attach=False) self._test_volume_attach(test_bdm, self.volume_bdm, volume, driver_attach=True) self._test_volume_attach(test_bdm, self.volume_bdm, volume, driver_attach=True, fail_driver_attach=True) self._test_volume_attach(test_bdm, self.volume_bdm, volume, driver_attach=True, fail_volume_attach=True) self._test_volume_attach(test_bdm, self.volume_bdm, volume, fail_volume_attach=True) @mock.patch.object(objects.BlockDeviceMapping, 'save') def test_refresh_connection(self, mock_save): if self.attachment_id is None: self.virt_driver.get_volume_connector.return_value = connector self.volume_api.initialize_connection.return_value = ( connection_info) else: self.volume_api.attachment_get.return_value = { 'connection_info': connection_info} if self.attachment_id is None: self.virt_driver.get_volume_connector.assert_called_once_with( instance) self.volume_api.initialize_connection.assert_called_once_with( self.context, test_bdm.volume_id, connector) else: self.volume_api.attachment_get.assert_called_once_with( self.context, self.attachment_id) mock_save.assert_called_once_with() wait_func = mock.MagicMock() self.volume_api.get_snapshot.return_value = snapshot self.volume_api.create.return_value = volume self._test_volume_attach(test_bdm, no_volume_snapshot, volume, wait_func=wait_func) self.assertEqual('fake-volume-id-2', test_bdm.volume_id) self.volume_api.get_snapshot.assert_called_once_with( self.context, 'fake-snapshot-id-1') self.volume_api.create.assert_called_once_with( self.context, 3, '', '', snapshot, availability_zone=None) wait_func.assert_called_once_with(self.context, 'fake-volume-id-2') wait_func = mock.MagicMock() self.volume_api.get_snapshot.return_value = snapshot self.volume_api.create.return_value = volume self._test_volume_attach(test_bdm, no_volume_snapshot, volume, availability_zone='test-az', wait_func=wait_func) self.volume_api.get_snapshot.assert_called_once_with( self.context, 'fake-snapshot-id-1') self.volume_api.create.assert_called_once_with( self.context, 3, '', '', snapshot, availability_zone='test-az') wait_func.assert_called_once_with(self.context, 'fake-volume-id-2') with test.nested( mock.patch.object(self.driver_classes['volume'], 'attach'), mock.patch.object(self.volume_api, 'get_snapshot'), mock.patch.object(self.volume_api, 'create'), ) as (mock_attach, mock_get_snapshot, mock_create): test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertEqual('fake-volume-id-2', test_bdm.volume_id) mock_attach.assert_called_once_with( self.context, instance, self.volume_api, self.virt_driver) # Make sure theses are not called mock_get_snapshot.assert_not_called() mock_create.assert_not_called() wait_func = mock.MagicMock() self.volume_api.create.return_value = volume self._test_volume_attach(test_bdm, no_volume_image, volume, wait_func=wait_func) self.assertEqual('fake-volume-id-2', test_bdm.volume_id) self.volume_api.create.assert_called_once_with( self.context, 1, '', '', image_id=image['id'], availability_zone=None) wait_func.assert_called_once_with(self.context, 'fake-volume-id-2') wait_func = mock.MagicMock() self.volume_api.create.return_value = volume self._test_volume_attach(test_bdm, no_volume_image, volume, availability_zone='test-az', wait_func=wait_func) self.volume_api.create.assert_called_once_with( self.context, 1, '', '', image_id=image['id'], availability_zone='test-az') wait_func.assert_called_once_with(self.context, 'fake-volume-id-2') with test.nested( mock.patch.object(self.driver_classes['volume'], 'attach'), mock.patch.object(self.volume_api, 'get_snapshot'), mock.patch.object(self.volume_api, 'create'), ) as (mock_attch, mock_get_snapshot, mock_create): test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertEqual('fake-volume-id-2', test_bdm.volume_id) mock_attch.assert_called_once_with( self.context, instance, self.volume_api, self.virt_driver) # Make sure theses are not called mock_get_snapshot.assert_not_called() mock_create.assert_not_called() self._test_volume_attach(test_bdm, self.volume_bdm, volume, multiattach=True, driver_multi_attach=True) self._test_volume_attach(test_bdm, self.volume_bdm, volume, multiattach=True, fail_with_virt_driver=True)"," self.volume_api = self.mox.CreateMock(cinder.API) self.virt_driver = self.mox.CreateMock(driver.ComputeDriver) fake_volume, fail_check_av_zone=False, include_shared_targets=False): if driver_multi_attach: self.virt_driver.capabilities['supports_multiattach'] = True else: self.virt_driver.capabilities['supports_multiattach'] = False self.stubs.Set(self.context, 'elevated', lambda: elevated_context) self.mox.StubOutWithMock(driver_bdm._bdm_obj, 'save') self.mox.StubOutWithMock(encryptors, 'get_encryption_metadata') self.volume_api.get( self.context, fake_volume['id'], microversion='3.48').AndReturn(fake_volume) self.volume_api.get( self.context, fake_volume['id'], microversion='3.48').AndRaise( exception.CinderAPIVersionNotAvailable(version='3.48')) self.volume_api.get(self.context, fake_volume['id']).AndReturn(fake_volume) if not fail_check_av_zone: self.volume_api.check_availability_zone(self.context, fake_volume, instance=instance).AndReturn(None) else: self.volume_api.check_availability_zone(self.context, fake_volume, instance=instance).AndRaise( test.TestingException) # The @update_db decorator will save any changes. driver_bdm._bdm_obj.save().AndReturn(None) return instance, expected_conn_info self.virt_driver.get_volume_connector(instance).AndReturn(connector) if fail_with_virt_driver: driver_bdm._bdm_obj.save().AndReturn(None) return instance, expected_conn_info if self.attachment_id is None: self.volume_api.initialize_connection( elevated_context, fake_volume['id'], connector).AndReturn(connection_info) else: self.volume_api.attachment_update( elevated_context, self.attachment_id, connector, bdm_dict['device_name']).AndReturn( {'connection_info': connection_info}) if driver_attach: encryptors.get_encryption_metadata( elevated_context, self.volume_api, fake_volume['id'], connection_info).AndReturn(enc_data) if not fail_driver_attach: self.virt_driver.attach_volume( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], disk_bus=bdm_dict['disk_bus'], device_type=bdm_dict['device_type'], encryption=enc_data).AndReturn(None) else: self.virt_driver.attach_volume( elevated_context, expected_conn_info, instance, bdm_dict['device_name'], disk_bus=bdm_dict['disk_bus'], device_type=bdm_dict['device_type'], encryption=enc_data).AndRaise(test.TestingException) if self.attachment_id is None: self.volume_api.terminate_connection( elevated_context, fake_volume['id'], connector).AndReturn(None) else: self.volume_api.attachment_delete( elevated_context, self.attachment_id).AndReturn(None) driver_bdm._bdm_obj.save().AndReturn(None) return instance, expected_conn_info if volume_attach: # save updates before marking the volume as in-use driver_bdm._bdm_obj.save().AndReturn(None) if not fail_volume_attach: if self.attachment_id is None: self.volume_api.attach(elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode).AndReturn(None) else: self.volume_api.attachment_complete( elevated_context, self.attachment_id).AndReturn(None) else: if self.attachment_id is None: self.volume_api.attach(elevated_context, fake_volume['id'], uuids.uuid, bdm_dict['device_name'], mode=access_mode).AndRaise( test.TestingException) if driver_attach: self.virt_driver.detach_volume( self.context, expected_conn_info, instance, bdm_dict['device_name'], encryption=enc_data).AndReturn(None) self.volume_api.terminate_connection( elevated_context, fake_volume['id'], connector).AndReturn(None) self.volume_api.detach(elevated_context, fake_volume['id']).AndReturn(None) else: self.volume_api.attachment_complete( elevated_context, self.attachment_id).AndRaise( test.TestingException) self.volume_api.attachment_delete( elevated_context, self.attachment_id).AndReturn(None) # The @update_db decorator will save any changes. driver_bdm._bdm_obj.save().AndReturn(None) return instance, expected_conn_info instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume, include_shared_targets=include_shared_targets) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertThat(test_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume, access_mode='ro') self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertThat(test_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertEqual(expected_conn_info, test_bdm['connection_info']) instance, _ = self._test_volume_attach( test_bdm, self.volume_bdm, volume, fail_check_av_zone=True) self.mox.ReplayAll() self.assertRaises(test.TestingException, test_bdm.attach, self.context, instance, self.volume_api, self.virt_driver) instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume, driver_attach=False) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=False) self.assertThat(test_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume, driver_attach=True) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=True) self.assertThat(test_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) instance, _ = self._test_volume_attach( test_bdm, self.volume_bdm, volume, driver_attach=True, fail_driver_attach=True) self.mox.ReplayAll() self.assertRaises(test.TestingException, test_bdm.attach, self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=True) instance, _ = self._test_volume_attach( test_bdm, self.volume_bdm, volume, driver_attach=True, fail_volume_attach=True) self.mox.ReplayAll() self.assertRaises(test.TestingException, test_bdm.attach, self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=True) instance, _ = self._test_volume_attach( test_bdm, self.volume_bdm, volume, fail_volume_attach=True) self.mox.ReplayAll() self.assertRaises(test.TestingException, test_bdm.attach, self.context, instance, self.volume_api, self.virt_driver, do_driver_attach=False) def test_refresh_connection(self): self.mox.StubOutWithMock(test_bdm._bdm_obj, 'save') if self.attachment_id is None: self.virt_driver.get_volume_connector(instance).AndReturn( connector) self.volume_api.initialize_connection( self.context, test_bdm.volume_id, connector).AndReturn(connection_info) else: self.volume_api.attachment_get( self.context, self.attachment_id).AndReturn( {'connection_info': connection_info}) test_bdm._bdm_obj.save().AndReturn(None) self.mox.ReplayAll() wait_func = self.mox.CreateMockAnything() self.volume_api.get_snapshot(self.context, 'fake-snapshot-id-1').AndReturn(snapshot) self.volume_api.create(self.context, 3, '', '', snapshot, availability_zone=None).AndReturn(volume) wait_func(self.context, 'fake-volume-id-2').AndReturn(None) instance, expected_conn_info = self._test_volume_attach( test_bdm, no_volume_snapshot, volume) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) self.assertEqual(test_bdm.volume_id, 'fake-volume-id-2') wait_func = self.mox.CreateMockAnything() self.volume_api.get_snapshot(self.context, 'fake-snapshot-id-1').AndReturn(snapshot) self.volume_api.create(self.context, 3, '', '', snapshot, availability_zone='test-az').AndReturn(volume) wait_func(self.context, 'fake-volume-id-2').AndReturn(None) instance, expected_conn_info = self._test_volume_attach( test_bdm, no_volume_snapshot, volume, availability_zone='test-az') self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) volume_class = self.driver_classes['volume'] self.mox.StubOutWithMock(volume_class, 'attach') # Make sure theses are not called self.mox.StubOutWithMock(self.volume_api, 'get_snapshot') self.mox.StubOutWithMock(self.volume_api, 'create') volume_class.attach(self.context, instance, self.volume_api, self.virt_driver).AndReturn(None) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertEqual(test_bdm.volume_id, 'fake-volume-id-2') wait_func = self.mox.CreateMockAnything() self.volume_api.create(self.context, 1, '', '', image_id=image['id'], availability_zone=None).AndReturn(volume) wait_func(self.context, 'fake-volume-id-2').AndReturn(None) instance, expected_conn_info = self._test_volume_attach( test_bdm, no_volume_image, volume) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) self.assertEqual(test_bdm.volume_id, 'fake-volume-id-2') wait_func = self.mox.CreateMockAnything() self.volume_api.create(self.context, 1, '', '', image_id=image['id'], availability_zone='test-az').AndReturn(volume) wait_func(self.context, 'fake-volume-id-2').AndReturn(None) instance, expected_conn_info = self._test_volume_attach( test_bdm, no_volume_image, volume, availability_zone='test-az') self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver, wait_func) volume_class = self.driver_classes['volume'] self.mox.StubOutWithMock(volume_class, 'attach') # Make sure theses are not called self.mox.StubOutWithMock(self.volume_api, 'get_snapshot') self.mox.StubOutWithMock(self.volume_api, 'create') volume_class.attach(self.context, instance, self.volume_api, self.virt_driver).AndReturn(None) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertEqual(test_bdm.volume_id, 'fake-volume-id-2') instance, expected_conn_info = self._test_volume_attach( test_bdm, self.volume_bdm, volume, multiattach=True, driver_multi_attach=True) self.mox.ReplayAll() test_bdm.attach(self.context, instance, self.volume_api, self.virt_driver) self.assertThat(test_bdm['connection_info'], matchers.DictMatches(expected_conn_info)) instance, _ = self._test_volume_attach(test_bdm, self.volume_bdm, volume, multiattach=True, fail_with_virt_driver=True) self.mox.ReplayAll() self.assertRaises(exception.MultiattachNotSupportedByVirtDriver, test_bdm.attach, self.context, instance, self.volume_api, self.virt_driver)",279,291
openstack%2Fadjutant~master~I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef,openstack/adjutant,master,I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef,Fix old py2 default value for action model,MERGED,2019-06-10 02:06:18.000000000,2019-07-02 01:03:44.000000000,2019-07-02 01:03:44.000000000,"[{'_account_id': 10420}, {'_account_id': 16465}, {'_account_id': 22348}, {'_account_id': 30447}]","[{'number': 1, 'created': '2019-06-10 02:06:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/02ec182804e29104f49a9488572d9cdad95e67f7', 'message': 'Fix old py2 default value for action model\n\nChange-Id: I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef\n'}, {'number': 2, 'created': '2019-06-10 02:07:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/adjutant/commit/1a999183baf1177da46a5738ab49b24d63306a04', 'message': ""Fix old py2 default value for action model\n\nThis just gets rid of the byte part from:\ndefault=b'default'\nwhich exists in the initial migration file\n\nChange-Id: I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef\n""}, {'number': 3, 'created': '2019-06-26 01:03:24.000000000', 'files': ['adjutant/actions/migrations/0003_auto_20190610_0205.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/090e0af734552e64f8caac0bb58b68694e8a1213', 'message': ""Fix old py2 default value for action model\n\nThis just gets rid of the byte part from:\ndefault=b'default'\nwhich exists in the initial migration file\n\nChange-Id: I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef\n""}]",0,664183,090e0af734552e64f8caac0bb58b68694e8a1213,9,4,3,10420,,,0,"Fix old py2 default value for action model

This just gets rid of the byte part from:
default=b'default'
which exists in the initial migration file

Change-Id: I99c1625f27c4cf75cb8dedce6fdb46e70bb9c2ef
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/83/664183/3 && git format-patch -1 --stdout FETCH_HEAD,['adjutant/actions/migrations/0003_auto_20190610_0205.py'],1,02ec182804e29104f49a9488572d9cdad95e67f7,new/refactor_tasks,"# -*- coding: utf-8 -*- # Generated by Django 1.11.21 on 2019-06-10 02:05 from __future__ import unicode_literals from django.db import migrations, models class Migration(migrations.Migration): dependencies = [ ('actions', '0002_action_auto_approve'), ] operations = [ migrations.AlterField( model_name='action', name='state', field=models.CharField(default='default', max_length=200), ), ] ",,20,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Ia71e80c84449209653609c911fef4cb3cdce5b5c,openstack/tripleo-heat-templates,stable/stein,Ia71e80c84449209653609c911fef4cb3cdce5b5c,ceilometer_agent_notification: disable-panko.yaml,MERGED,2019-07-01 15:41:39.000000000,2019-07-02 00:56:35.000000000,2019-07-02 00:56:35.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 15:41:39.000000000', 'files': ['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/9a1491a42fd6679b9222eb22af5844ce3edf5067', 'message': 'ceilometer_agent_notification: disable-panko.yaml\n\nceilometer-agent-notification.yaml updated the\nkolla_config section in template file to include\nnothing related to panko when disable-panko env file is passed.\n\nCloses-Bug: #1824840\n\nChange-Id: Ia71e80c84449209653609c911fef4cb3cdce5b5c\n(cherry picked from commit 8fac4c4334ad2b2ef67040d053a58a9ba8857425)\n'}]",0,668495,9a1491a42fd6679b9222eb22af5844ce3edf5067,8,3,1,28504,,,0,"ceilometer_agent_notification: disable-panko.yaml

ceilometer-agent-notification.yaml updated the
kolla_config section in template file to include
nothing related to panko when disable-panko env file is passed.

Closes-Bug: #1824840

Change-Id: Ia71e80c84449209653609c911fef4cb3cdce5b5c
(cherry picked from commit 8fac4c4334ad2b2ef67040d053a58a9ba8857425)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/95/668495/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceilometer/ceilometer-agent-notification-container-puppet.yaml'],1,9a1491a42fd6679b9222eb22af5844ce3edf5067,bug/1824840," list_concat: - - source: ""/var/lib/kolla/config_files/src/*"" - if: - ceilometer_enable_panko - - source: ""/var/lib/kolla/config_files/src-panko/*"" dest: ""/"" merge: true preserve_properties: true - null "," - source: ""/var/lib/kolla/config_files/src/*"" dest: ""/"" merge: true preserve_properties: true - if: - ceilometer_enable_panko - source: ""/var/lib/kolla/config_files/src-panko/*"" - ''",10,8
openstack%2Fpython-freezerclient~master~Iab881a91692a886f67cc4a81720deda717695d23,openstack/python-freezerclient,master,Iab881a91692a886f67cc4a81720deda717695d23,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-27 09:04:43.000000000,2019-07-02 00:38:16.000000000,2019-07-02 00:38:16.000000000,"[{'_account_id': 6547}, {'_account_id': 11151}, {'_account_id': 13940}, {'_account_id': 14101}, {'_account_id': 14340}, {'_account_id': 14509}, {'_account_id': 16768}, {'_account_id': 21069}, {'_account_id': 21387}, {'_account_id': 22348}, {'_account_id': 22405}, {'_account_id': 22484}, {'_account_id': 27068}, {'_account_id': 27822}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-27 09:04:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/3454352f58d8db8defd8e70f7eeb021931f3ded8', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Iab881a91692a886f67cc4a81720deda717695d23\n'}, {'number': 2, 'created': '2019-07-01 02:51:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/24c789982584657bb6cd54e87a92d197c7688fdb', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Iab881a91692a886f67cc4a81720deda717695d23\n'}, {'number': 3, 'created': '2019-07-01 07:24:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/be893b845c64fc7d72e652103f93da0baded8a10', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Iab881a91692a886f67cc4a81720deda717695d23\n'}, {'number': 4, 'created': '2019-07-01 08:58:52.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/python-freezerclient/commit/db341f8d0ad37d0187dbfc3fe78b32487117228f', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Iab881a91692a886f67cc4a81720deda717695d23\n'}]",2,667819,db341f8d0ad37d0187dbfc3fe78b32487117228f,20,15,4,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: Iab881a91692a886f67cc4a81720deda717695d23
",git fetch https://review.opendev.org/openstack/python-freezerclient refs/changes/19/667819/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,3454352f58d8db8defd8e70f7eeb021931f3ded8,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fswift~master~I41867290a63b329781dc7030f9f3ce0118e2032b,openstack/swift,master,I41867290a63b329781dc7030f9f3ce0118e2032b,s3api: add unit test case for s3acl,MERGED,2019-07-01 08:44:53.000000000,2019-07-02 00:27:13.000000000,2019-07-02 00:25:53.000000000,"[{'_account_id': 4608}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 08:44:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/c95642bc427a836e5fd4e8fd1be8715bc70c53dd', 'message': 's3api: add unit test case for s3acl\n\nTo clarify the corner case when Swift is over-loaded, or user-errors.\n\nChange-Id: I41867290a63b329781dc7030f9f3ce0118e2032b\n'}, {'number': 2, 'created': '2019-07-01 09:54:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/swift/commit/98871f0a1f37591ac67626fc9c3bfc8ffe5ba420', 'message': 's3api: add unit test case for s3acl\n\nTo clarify the corner case when Swift is over-loaded, or user-errors.\n\nChange-Id: I41867290a63b329781dc7030f9f3ce0118e2032b\n'}, {'number': 3, 'created': '2019-07-01 16:22:05.000000000', 'files': ['test/unit/common/middleware/s3api/test_bucket.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/072b4045130c31dcc6f31f9618f3647a9c735a5f', 'message': 's3api: add unit test case for s3acl\n\nTo clarify the corner case when Swift is over-loaded, or user-errors.\n\nChange-Id: I41867290a63b329781dc7030f9f3ce0118e2032b\n'}]",4,668389,072b4045130c31dcc6f31f9618f3647a9c735a5f,14,3,3,4608,,,0,"s3api: add unit test case for s3acl

To clarify the corner case when Swift is over-loaded, or user-errors.

Change-Id: I41867290a63b329781dc7030f9f3ce0118e2032b
",git fetch https://review.opendev.org/openstack/swift refs/changes/89/668389/2 && git format-patch -1 --stdout FETCH_HEAD,['test/unit/common/middleware/s3api/test_bucket.py'],1,c95642bc427a836e5fd4e8fd1be8715bc70c53dd,s3api-acl," code = self._test_method_error('PUT', '/bucket', swob.HTTPServiceUnavailable) self.assertEqual(code, 'InternalError') @s3acl(s3acl_only=True) def test_bucket_PUT_bucket_already_owned_by_you(self): self.swift.register( 'PUT', '/v1/AUTH_test/bucket', swob.HTTPAccepted, {'X-Container-Object-Count': 0}, None) req = Request.blank('/bucket', environ={'REQUEST_METHOD': 'PUT'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(status, '409 Conflict') self.assertIn('BucketAlreadyOwnedByYou', body) @s3acl(s3acl_only=True) def test_bucket_PUT_first_put_fail(self): self.swift.register( 'PUT', '/v1/AUTH_test/bucket', swob.HTTPServiceUnavailable, {'X-Container-Object-Count': 0}, None) req = Request.blank('/bucket', environ={'REQUEST_METHOD': 'PUT'}, headers={'Authorization': 'AWS test:tester:hmac', 'Date': self.get_date_header()}) status, headers, body = self.call_s3api(req) self.assertEqual(status, '500 Internal Server Error') # The last call was PUT not POST for acl set self.assertEqual(self.swift._calls[-1][0], 'PUT') ",,29,0
openstack%2Fnova~stable%2Fqueens~Id0f05bb1275cc816d98b662820e02eae25dc57a3,openstack/nova,stable/queens,Id0f05bb1275cc816d98b662820e02eae25dc57a3,Fix live-migration when glance image deleted,MERGED,2019-05-30 07:50:41.000000000,2019-07-02 00:25:49.000000000,2019-07-02 00:25:49.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26458}, {'_account_id': 26515}, {'_account_id': 28332}, {'_account_id': 30105}]","[{'number': 1, 'created': '2019-05-30 07:50:41.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/55deddf65de824ca6287537ec6947b73021557ee', 'message': 'Fix live-migration when glance image deleted\n\nWhen block live-migration is run on instance with\na deleted glance image, image.cache() is called\nwithout specyfing instance disk size parameter,\npreventing the resize of disk on the target host.\n\nChange-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3\nCloses-Bug: #1829000\n(cherry picked from commit c1782bacd8461bdd8c833792864e61228fa451f1)\n(cherry picked from commit b45f47c7577f7b9694ba0a6060312f1a0ec06abd)\n(cherry picked from commit e06a66fe9f9cb05c2d05cae336e2676fb5e5f3d2)\n'}]",0,662154,55deddf65de824ca6287537ec6947b73021557ee,22,10,1,10135,,,0,"Fix live-migration when glance image deleted

When block live-migration is run on instance with
a deleted glance image, image.cache() is called
without specyfing instance disk size parameter,
preventing the resize of disk on the target host.

Change-Id: Id0f05bb1275cc816d98b662820e02eae25dc57a3
Closes-Bug: #1829000
(cherry picked from commit c1782bacd8461bdd8c833792864e61228fa451f1)
(cherry picked from commit b45f47c7577f7b9694ba0a6060312f1a0ec06abd)
(cherry picked from commit e06a66fe9f9cb05c2d05cae336e2676fb5e5f3d2)
",git fetch https://review.opendev.org/openstack/nova refs/changes/54/662154/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,55deddf65de824ca6287537ec6947b73021557ee,bug/1829000," backfile_path = os.path.join(base_dir, backing_file) disk_size = 10747904 virt_disk_size = 25165824 u'disk_size': disk_size, u'virt_disk_size': virt_disk_size}] def fake_copy_image(src, dest, **kwargs): # backing file should be present and have a smaller size # than instance root disk in order to assert resize_image() if dest == backfile_path: # dest is created under TempDir() fixture, # it will go away after test cleanup with open(dest, 'a'): pass mock.patch.object(libvirt_driver.libvirt_utils, 'copy_image', side_effect=fake_copy_image), mock.patch.object(imagebackend.Qcow2, 'resize_image'), mock.patch.object(imagebackend.Image, 'get_disk_size', return_value=disk_size), ) as (copy_image_mock, fetch_image_mock, resize_image_mock, get_disk_size_mock): resize_image_mock.assert_called_once_with(virt_disk_size)"," u'disk_size': 10747904, u'virt_disk_size': 25165824}] mock.patch.object(libvirt_driver.libvirt_utils, 'copy_image'), ) as (copy_image_mock, fetch_image_mock): backfile_path = os.path.join(base_dir, backing_file)",22,6
openstack%2Foctavia~master~I61fe9502665e325ee39b6ef51e703f36f9a360f2,openstack/octavia,master,I61fe9502665e325ee39b6ef51e703f36f9a360f2,Use ubuntu-minimal for periodic image build jobs,ABANDONED,2019-06-28 00:14:24.000000000,2019-07-01 23:44:55.000000000,,"[{'_account_id': 6469}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 00:14:24.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/octavia/commit/cf7da0c7e66c8f01ac5edae6de92dd0f3defd7ef', 'message': 'Use ubuntu-minimal for periodic image build jobs\n\nPreviously the periodic jobs that build Ubuntu images for\ntarballs.openstack.org was using the ""ubuntu"" base element even though\nwe had changed the default to be ubuntu-minimal.\nThis patch updates the Ubuntu image build jobs to use the\nubuntu-minimal base element.\n\nChange-Id: I61fe9502665e325ee39b6ef51e703f36f9a360f2\n'}]",0,668069,cf7da0c7e66c8f01ac5edae6de92dd0f3defd7ef,4,2,1,11628,,,0,"Use ubuntu-minimal for periodic image build jobs

Previously the periodic jobs that build Ubuntu images for
tarballs.openstack.org was using the ""ubuntu"" base element even though
we had changed the default to be ubuntu-minimal.
This patch updates the Ubuntu image build jobs to use the
ubuntu-minimal base element.

Change-Id: I61fe9502665e325ee39b6ef51e703f36f9a360f2
",git fetch https://review.opendev.org/openstack/octavia refs/changes/69/668069/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,cf7da0c7e66c8f01ac5edae6de92dd0f3defd7ef,, amphora_os: ubuntu-minimal amphora_os: ubuntu-minimal, amphora_os: ubuntu amphora_os: ubuntu,2,2
openstack%2Fopenstack-helm-infra~master~I128266fd374426f75928332690e275b7f0175318,openstack/openstack-helm-infra,master,I128266fd374426f75928332690e275b7f0175318,Ceph-Client: allow helm test to proceed with 80% of osds avialble,MERGED,2019-06-26 15:46:24.000000000,2019-07-01 23:28:38.000000000,2019-07-01 23:28:38.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 28372}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-26 15:46:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/ca3590d7ba6344fdf6e1abe7bc9e7a133254e2ed', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 2, 'created': '2019-06-26 16:51:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/131131a0a7ebe58435aa21a153c60f6f2923d4a1', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 3, 'created': '2019-06-26 19:12:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/d361e403698546d0e8b898c1e9def4aa8d46f769', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 4, 'created': '2019-06-26 19:13:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/bfbfc0cb83102fca6dfc5457a68b95d01055b93c', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 5, 'created': '2019-06-26 22:26:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/eeee8c686e8d67c5da33127d3a4faa91fc5cf86b', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 6, 'created': '2019-06-26 22:33:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/e1071e2032ec1eb889c4d5d293414896621d356a', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 7, 'created': '2019-06-27 20:01:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dab8a8700e29bc1215516d52a924a21c59777614', 'message': 'Ceph-Client: allow helm test to proceed if we have 80% of osds\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 8, 'created': '2019-06-27 20:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/c7d892e3771ad6f21d460cf408f674a8a094ebe3', 'message': 'Ceph-Client: allow helm test to proceed with 80% of osds avialble\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 9, 'created': '2019-06-28 20:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/65f1cfbac39487082c2d7bf3888dc4e7e4a813e8', 'message': 'Ceph-Client: allow helm test to proceed with 80% of osds avialble\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}, {'number': 10, 'created': '2019-07-01 15:11:43.000000000', 'files': ['ceph-client/values.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/961a58dada14be66f70e35b33d2d899259f71665', 'message': 'Ceph-Client: allow helm test to proceed with 80% of osds avialble\n\nThis is to adjust helm test logic to  proceed the deployment if 80% of\nosds are up  and running in the cluster .\n\nChange-Id: I128266fd374426f75928332690e275b7f0175318\n'}]",14,667660,961a58dada14be66f70e35b33d2d899259f71665,29,6,10,28372,,,0,"Ceph-Client: allow helm test to proceed with 80% of osds avialble

This is to adjust helm test logic to  proceed the deployment if 80% of
osds are up  and running in the cluster .

Change-Id: I128266fd374426f75928332690e275b7f0175318
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/60/667660/5 && git format-patch -1 --stdout FETCH_HEAD,"['ceph-client/values.yaml', 'ceph-client/templates/pod-helm-tests.yaml', 'ceph-client/templates/bin/_helm-tests.sh.tpl']",3,ca3590d7ba6344fdf6e1abe7bc9e7a133254e2ed,," MIN_EXPECTED_OSDS=$(($EXPECTED_OSDS*$REQUIRED_PER_OF_OSDs/100)) if [ ""x${num_osd}"" -ge ""x${MIN_EXPECTED_OSDS}"" ] && [ ""x${num_in_osds}"" -ge ""x${MIN_EXPECTED_OSDS}"" ] && [ ""x${num_up_osds}"" -ge ""x${MIN_EXPECTED_OSDS}"" ]; then echo ""Required number of OSDs (${MIN_EXPECTED_OSDS}) are UP and IN status"" echo ""Required number of OSDs (${MIN_EXPECTED_OSDS}) are NOT UP and IN status. Cluster shows OSD count=${num_osd}, UP=${num_up_osds}, IN=${num_in_osds}"""," if [ ""x${EXPECTED_OSDS}"" == ""x${num_osd}"" ] && [ ""x${EXPECTED_OSDS}"" == ""x${num_in_osds}"" ] && [ ""x${EXPECTED_OSDS}"" == ""x${num_up_osds}"" ]; then echo ""All OSDs (${EXPECTED_OSDS}) are in UP and IN status"" echo ""All expected OSDs (${EXPECTED_OSDS}) are NOT in UP and IN status. Cluster shows OSD count=${num_osd}, UP=${num_up_osds}, IN=${num_in_osds}""",9,3
openstack%2Fopenstack-helm-infra~master~I36d08b1b7aa5925831a64c03259098f6c4753c3e,openstack/openstack-helm-infra,master,I36d08b1b7aa5925831a64c03259098f6c4753c3e,Ceph-osd: Fix static osd id  to variable,MERGED,2019-07-01 17:44:10.000000000,2019-07-01 23:20:06.000000000,2019-07-01 23:20:06.000000000,"[{'_account_id': 8898}, {'_account_id': 17119}, {'_account_id': 22348}, {'_account_id': 23928}, {'_account_id': 26628}, {'_account_id': 29974}]","[{'number': 1, 'created': '2019-07-01 17:44:10.000000000', 'files': ['ceph-osd/templates/bin/osd/_block.sh.tpl'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/a20e7177c63107998446903bc10c53b5ffb390c5', 'message': 'Ceph-osd: Fix static osd id  to variable\n\nThis is to fix static osd id logic to variable as we have an issue\nin our current logic.\nthis is happening only when we have file backed journals and\nblock backed data as shown below.\n\nex:\n\n storage:\n    osd:\n      - data:\n          type: block-logical\n          location: /dev/vdb\n        journal:\n          type: directory\n          location: /var/lib/openstack-helm/ceph/osd/journal-one\n      - data:\n          type: block-logical\n          location: /dev/vdc\n        journal:\n          type: directory\n          location: /var/lib/openstack-helm/ceph/osd/journal-two\n\nChange-Id: I36d08b1b7aa5925831a64c03259098f6c4753c3e\n'}]",0,668532,a20e7177c63107998446903bc10c53b5ffb390c5,10,6,1,28372,,,0,"Ceph-osd: Fix static osd id  to variable

This is to fix static osd id logic to variable as we have an issue
in our current logic.
this is happening only when we have file backed journals and
block backed data as shown below.

ex:

 storage:
    osd:
      - data:
          type: block-logical
          location: /dev/vdb
        journal:
          type: directory
          location: /var/lib/openstack-helm/ceph/osd/journal-one
      - data:
          type: block-logical
          location: /dev/vdc
        journal:
          type: directory
          location: /var/lib/openstack-helm/ceph/osd/journal-two

Change-Id: I36d08b1b7aa5925831a64c03259098f6c4753c3e
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/32/668532/1 && git format-patch -1 --stdout FETCH_HEAD,['ceph-osd/templates/bin/osd/_block.sh.tpl'],1,a20e7177c63107998446903bc10c53b5ffb390c5,, -i ${OSD_ID} \, -i 0 \,1,1
openstack%2Fneutron-lib~master~I5e9497d650176201407f0823f0fce46e009fb89c,openstack/neutron-lib,master,I5e9497d650176201407f0823f0fce46e009fb89c,make sql fixtures public,MERGED,2019-06-28 15:39:46.000000000,2019-07-01 22:09:30.000000000,2019-07-01 22:09:30.000000000,"[{'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 15:39:46.000000000', 'files': ['neutron_lib/fixture.py', 'neutron_lib/tests/unit/test_fixture.py', 'neutron_lib/tests/unit/db/_base.py', 'releasenotes/notes/public-sql-fixtures-35d0aa74a368e217.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7a58374fde64fdc14e327940dde6bea4a8a39345', 'message': 'make sql fixtures public\n\nThis patch makes the _StaticSqlFixture and _SqlFixture fixture classes\npublic by removing the leading underscore in the name. Based on\nrecent testing [1][2] the current versions of these fixtures seems to\nwork for consumers.\n\n[1] https://review.opendev.org/#/c/657887/\n[2] https://review.opendev.org/#/c/668000/\n\nChange-Id: I5e9497d650176201407f0823f0fce46e009fb89c\n'}]",0,668196,7a58374fde64fdc14e327940dde6bea4a8a39345,7,3,1,5367,,,0,"make sql fixtures public

This patch makes the _StaticSqlFixture and _SqlFixture fixture classes
public by removing the leading underscore in the name. Based on
recent testing [1][2] the current versions of these fixtures seems to
work for consumers.

[1] https://review.opendev.org/#/c/657887/
[2] https://review.opendev.org/#/c/668000/

Change-Id: I5e9497d650176201407f0823f0fce46e009fb89c
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/96/668196/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron_lib/fixture.py', 'neutron_lib/tests/unit/test_fixture.py', 'neutron_lib/tests/unit/db/_base.py', 'releasenotes/notes/public-sql-fixtures-35d0aa74a368e217.yaml']",4,7a58374fde64fdc14e327940dde6bea4a8a39345,bp/neutronlib-decouple-db,--- features: - The ``SqlFixture`` and ``StaticSqlFixture`` are now available in ``neutron_lib.fixtures``. ,,8,4
openstack%2Fcharm-neutron-openvswitch~master~I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02,openstack/charm-neutron-openvswitch,master,I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02,Set MTU on dpdk devices when using a bond,MERGED,2019-06-21 09:08:41.000000000,2019-07-01 21:54:11.000000000,2019-07-01 21:54:11.000000000,"[{'_account_id': 7730}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 09:08:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/ddc897cfba06ba2f69c748b9545899254be12025', 'message': 'Set MTU on dpdk devices when using a bond\n\nMTU is not being set on the dpdk devices when a dpdk bond is\nbeing requested. Currently the mtu is being set in\nneutron_ovs_utils.configure_ovs by iterating over the dictionary\nreturned by neutron_ovs_context.resolve_dpdk_bridges. But this\ncontext is expecting the data-port config option to be a list of\nbridge:mac mappings. In the case of a dpdk bond however,\ndata-port is set of bridge:bond-name mappings. The context then uses\nthe bond name as if it were a mac address to find the\nunderlying pci device which naturally fails and then returns\nan empty context. This is fine as configure_ovs then moves on\nto setup the dpdk bonds correctly. Unfortunately the code\nto apply mtus to the devices in the case of a bond was missing\nand this change adds it in.\n\nChange-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02\n'}, {'number': 2, 'created': '2019-06-21 10:18:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/352ab5f582c5a8a2903507bd2ffe2d1e4621b3fb', 'message': 'Set MTU on dpdk devices when using a bond\n\nMTU is not being set on the dpdk devices when a dpdk bond is\nbeing requested. Currently the mtu is being set in\nneutron_ovs_utils.configure_ovs by iterating over the dictionary\nreturned by neutron_ovs_context.resolve_dpdk_bridges. But this\ncontext is expecting the data-port config option to be a list of\nbridge:mac mappings. In the case of a dpdk bond however,\ndata-port is set of bridge:bond-name mappings. The context then uses\nthe bond name as if it were a mac address to find the\nunderlying pci device which naturally fails and then returns\nan empty context. This is fine as configure_ovs then moves on\nto setup the dpdk bonds correctly. Unfortunately the code\nto apply mtus to the devices in the case of a bond was missing\nand this change adds it in.\n\nChange-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02\n'}, {'number': 3, 'created': '2019-06-21 11:47:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/1b1c00a251e65df2464cdc547bc0b3d0dec4077f', 'message': 'Set MTU on dpdk devices when using a bond\n\nMTU is not being set on the dpdk devices when a dpdk bond is\nbeing requested. Currently the mtu is being set in\nneutron_ovs_utils.configure_ovs by iterating over the dictionary\nreturned by neutron_ovs_context.resolve_dpdk_bridges. But this\ncontext is expecting the data-port config option to be a list of\nbridge:mac mappings. In the case of a dpdk bond however,\ndata-port is set of bridge:bond-name mappings. The context then uses\nthe bond name as if it were a mac address to find the\nunderlying pci device which naturally fails and then returns\nan empty context. This is fine as configure_ovs then moves on\nto setup the dpdk bonds correctly. Unfortunately the code\nto apply mtus to the devices in the case of a bond was missing\nand this change adds it in.\n\nChange-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02\n'}, {'number': 4, 'created': '2019-07-01 13:48:45.000000000', 'files': ['unit_tests/test_neutron_ovs_utils.py', 'hooks/neutron_ovs_utils.py'], 'web_link': 'https://opendev.org/openstack/charm-neutron-openvswitch/commit/38452772a95e4a10a34147bd7f50ae583f27aef7', 'message': 'Set MTU on dpdk devices when using a bond\n\nMTU is not being set on the dpdk devices when a dpdk bond is\nbeing requested. Currently the mtu is being set in\nneutron_ovs_utils.configure_ovs by iterating over the dictionary\nreturned by neutron_ovs_context.resolve_dpdk_bridges. But this\ncontext is expecting the data-port config option to be a list of\nbridge:mac mappings. In the case of a dpdk bond however,\ndata-port is set of bridge:bond-name mappings. The context then uses\nthe bond name as if it were a mac address to find the\nunderlying pci device which naturally fails and then returns\nan empty context. This is fine as configure_ovs then moves on\nto setup the dpdk bonds correctly. Unfortunately the code\nto apply mtus to the devices in the case of a bond was missing\nand this change adds it in.\n\nChange-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02\n'}]",2,666794,38452772a95e4a10a34147bd7f50ae583f27aef7,22,4,4,12549,,,0,"Set MTU on dpdk devices when using a bond

MTU is not being set on the dpdk devices when a dpdk bond is
being requested. Currently the mtu is being set in
neutron_ovs_utils.configure_ovs by iterating over the dictionary
returned by neutron_ovs_context.resolve_dpdk_bridges. But this
context is expecting the data-port config option to be a list of
bridge:mac mappings. In the case of a dpdk bond however,
data-port is set of bridge:bond-name mappings. The context then uses
the bond name as if it were a mac address to find the
underlying pci device which naturally fails and then returns
an empty context. This is fine as configure_ovs then moves on
to setup the dpdk bonds correctly. Unfortunately the code
to apply mtus to the devices in the case of a bond was missing
and this change adds it in.

Change-Id: I2fb8ccf48ffd1a3ab227b883ceacac89ff57ea02
",git fetch https://review.opendev.org/openstack/charm-neutron-openvswitch refs/changes/94/666794/4 && git format-patch -1 --stdout FETCH_HEAD,['hooks/neutron_ovs_utils.py'],1,ddc897cfba06ba2f69c748b9545899254be12025,bug/1832918," dpdk_set_interfaces_mtu(global_mtu, port_map.keys())def dpdk_set_interfaces_mtu(mtu, ports): """"""Set MTU on dpdk ports. :param mtu: Name of unit to match :type mtu: str :param ports: List of ports :type ports: [] """""" for port in ports: dpdk_set_mtu_request(port, mtu) ",,13,0
openstack%2Fopenstacksdk~stable%2Fstein~I3b88debef5e92b2d2469952a5d12be8bf569102e,openstack/openstacksdk,stable/stein,I3b88debef5e92b2d2469952a5d12be8bf569102e,Replace nodepool func jobs,MERGED,2019-06-27 17:21:27.000000000,2019-07-01 21:47:55.000000000,2019-07-01 21:47:55.000000000,"[{'_account_id': 2}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 17:21:27.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/5f3954793ef338685e521f56b4f250be8f15507f', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs.\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e\n'}]",0,667993,5f3954793ef338685e521f56b4f250be8f15507f,6,2,1,1,,,0,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs.

Depends-On: https://review.opendev.org/665023
Change-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/93/667993/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,5f3954793ef338685e521f56b4f250be8f15507f,nodepool-func, - nodepool-functional-openstack-src - nodepool-functional-openstack-src, - nodepool-functional-py35-src - nodepool-functional-py35-src,2,2
openstack%2Ftripleo-quickstart~master~I5b827d8e2011fb39e1df7786f012e5551cc4e0d9,openstack/tripleo-quickstart,master,I5b827d8e2011fb39e1df7786f012e5551cc4e0d9,Fix failure in featureset039,MERGED,2019-07-01 09:48:48.000000000,2019-07-01 21:47:35.000000000,2019-07-01 21:47:35.000000000,"[{'_account_id': 8175}, {'_account_id': 8367}, {'_account_id': 9976}, {'_account_id': 10969}, {'_account_id': 13861}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24162}]","[{'number': 1, 'created': '2019-07-01 09:48:48.000000000', 'files': ['roles/tripleo-inventory/files/remove_extra_node.py', 'roles/tripleo-inventory/files/get_extra_node.py', 'roles/tripleo-inventory/tasks/inventory.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-quickstart/commit/9df739dd2a569a92545072c86cf9c4a8efdce796', 'message': 'Fix failure in featureset039\n\nWith the upgrade to ansible 2.7 this role started to fail on\nfeatureset039 due the miss of python3.\nThis patch fix it removing the args from shell module and updating the\npython script to use /usr/bin/env.\n\nChange-Id: I5b827d8e2011fb39e1df7786f012e5551cc4e0d9\nCloses-Bug: #1834655\n'}]",0,668402,9df739dd2a569a92545072c86cf9c4a8efdce796,13,8,1,8367,,,0,"Fix failure in featureset039

With the upgrade to ansible 2.7 this role started to fail on
featureset039 due the miss of python3.
This patch fix it removing the args from shell module and updating the
python script to use /usr/bin/env.

Change-Id: I5b827d8e2011fb39e1df7786f012e5551cc4e0d9
Closes-Bug: #1834655
",git fetch https://review.opendev.org/openstack/tripleo-quickstart refs/changes/02/668402/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/tripleo-inventory/files/remove_extra_node.py', 'roles/tripleo-inventory/files/get_extra_node.py', 'roles/tripleo-inventory/tasks/inventory.yml']",3,9df739dd2a569a92545072c86cf9c4a8efdce796,bug/1834655,, args: executable: python3 args: executable: python3,2,6
openstack%2Ftripleo-heat-templates~master~I7fa26a8d9d3b4029bdd518409013246720b057e3,openstack/tripleo-heat-templates,master,I7fa26a8d9d3b4029bdd518409013246720b057e3,Add ContainerNovaLibvirtUlimit to tweak Ulimits,MERGED,2019-07-01 10:47:42.000000000,2019-07-01 21:33:06.000000000,2019-07-01 21:33:06.000000000,"[{'_account_id': 6926}, {'_account_id': 13861}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 17823}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}]","[{'number': 1, 'created': '2019-07-01 10:47:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f12e254ec11e7e6232962537a6d637b72e5e4172', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 2, 'created': '2019-07-01 10:51:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/bbc5fc204bac82208dc63060e3db7a9a3ac58821', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 3, 'created': '2019-07-01 12:30:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/f4d230b77929c20618aea48d519b4f55abd9c5bb', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO. And DockerNovaComputeUlimit defaults changed to\nfollow ContainerNovaLibvirtUlimit defaults.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}, {'number': 4, 'created': '2019-07-01 12:44:26.000000000', 'files': ['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be', 'message': 'Add ContainerNovaLibvirtUlimit to tweak Ulimits\n\nUlimit defaults in Kolla for libvirt container provide sub-uptimal\nperformance. Allow to override those and also provide opinionated\ndefaults for TripleO. Keep those defaults in sync with that we need\nin the nova-compute & cinder-volume containers to avoid potential\nissues with ceph.\n\nRelated: https://bugzilla.redhat.com/show_bug.cgi?id=1721434\n\nRelated-bug: #1762455\n\nChange-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3\nSigned-off-by: Bogdan Dobrelya <bdobreli@redhat.com>\n'}]",4,668416,8ef4f3cac8ad2ded4214a3ee26cd919ace0af9be,17,9,4,6926,,,0,"Add ContainerNovaLibvirtUlimit to tweak Ulimits

Ulimit defaults in Kolla for libvirt container provide sub-uptimal
performance. Allow to override those and also provide opinionated
defaults for TripleO. Keep those defaults in sync with that we need
in the nova-compute & cinder-volume containers to avoid potential
issues with ceph.

Related: https://bugzilla.redhat.com/show_bug.cgi?id=1721434

Related-bug: #1762455

Change-Id: I7fa26a8d9d3b4029bdd518409013246720b057e3
Signed-off-by: Bogdan Dobrelya <bdobreli@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/16/668416/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/nova/nova-libvirt-container-puppet.yaml', 'releasenotes/notes/more_params_to_configure_ulimit-82057bf64d7173a8.yaml']",2,f12e254ec11e7e6232962537a6d637b72e5e4172,bug/1762455,"--- features: - | Add `ContainerNovaLibvirtUlimit` to configure Ulimit for containerized Libvirt. Defaults to ``nofile=1024,nproc=126960``. ",,10,0
openstack%2Fswift~master~I08e9f7c0643ae0469bd1937a30c1c4477b67c31f,openstack/swift,master,I08e9f7c0643ae0469bd1937a30c1c4477b67c31f,s3api: Put more information in the str() for InternalError,MERGED,2019-06-27 19:32:24.000000000,2019-07-01 21:26:23.000000000,2019-07-01 21:24:05.000000000,"[{'_account_id': 1179}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 19:32:24.000000000', 'files': ['swift/common/middleware/s3api/s3response.py'], 'web_link': 'https://opendev.org/openstack/swift/commit/88cec2c3966080fa79e5e623c7603c0eed4b94e3', 'message': ""s3api: Put more information in the str() for InternalError\n\nThere are few things more frustrating when digging through a log than\nfinding a traceback that ends with\n\n    raise InternalError('unexpected status code %d' % status)\n\nwhile having no indication of what the status code was.\n\nChange-Id: I08e9f7c0643ae0469bd1937a30c1c4477b67c31f\n""}]",0,668031,88cec2c3966080fa79e5e623c7603c0eed4b94e3,7,2,1,15343,,,0,"s3api: Put more information in the str() for InternalError

There are few things more frustrating when digging through a log than
finding a traceback that ends with

    raise InternalError('unexpected status code %d' % status)

while having no indication of what the status code was.

Change-Id: I08e9f7c0643ae0469bd1937a30c1c4477b67c31f
",git fetch https://review.opendev.org/openstack/swift refs/changes/31/668031/1 && git format-patch -1 --stdout FETCH_HEAD,['swift/common/middleware/s3api/s3response.py'],1,88cec2c3966080fa79e5e623c7603c0eed4b94e3,," def __str__(self): return '%s: %s (%s)' % ( self.__class__.__name__, self.status, self._msg) ",,4,0
openstack%2Fneutron~master~I094854a51d0bd3c0fb1893e1ebd806b737a0a16b,openstack/neutron,master,I094854a51d0bd3c0fb1893e1ebd806b737a0a16b,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-01 06:51:21.000000000,2019-07-01 21:24:02.000000000,2019-07-01 21:24:01.000000000,"[{'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-07-01 06:51:21.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/neutron/commit/5be70fae0110ed63d540973e20756e7a26cb8b29', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I094854a51d0bd3c0fb1893e1ebd806b737a0a16b\n'}]",0,668360,5be70fae0110ed63d540973e20756e7a26cb8b29,8,4,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I094854a51d0bd3c0fb1893e1ebd806b737a0a16b
",git fetch https://review.opendev.org/openstack/neutron refs/changes/60/668360/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,5be70fae0110ed63d540973e20756e7a26cb8b29,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fkeystone~master~I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778,openstack/keystone,master,I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778,Switch order of precedence for unit test deps,MERGED,2019-06-11 22:07:59.000000000,2019-07-01 21:23:59.000000000,2019-07-01 21:23:59.000000000,"[{'_account_id': 5046}, {'_account_id': 6928}, {'_account_id': 8482}, {'_account_id': 21420}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 22:07:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/keystone/commit/4a1bd4b9e699c9535c44cc4c89f253e720581048', 'message': ""Switch order of precedence for unit test deps\n\nWithout this patch, oslo.db is listed both in requirements.txt and\ntest-requirements.txt. Since it is listed without extras in\nrequirements.txt, those extras (like the mysql driver) aren't installed,\nwhich means opportunistic database tests are not run. This change fixes\nthe issue by ensuring the oslo.db listed in test-requirements.txt takes\nprecedence.\n\nChange-Id: I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778\n""}, {'number': 2, 'created': '2019-06-25 15:53:05.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/keystone/commit/374f56580a361a55def4de25713dc632877275eb', 'message': ""Switch order of precedence for unit test deps\n\nWithout this patch, oslo.db is listed both in requirements.txt and\ntest-requirements.txt. Since it is listed without extras in\nrequirements.txt, those extras (like the mysql driver) aren't installed,\nwhich means opportunistic database tests are not run. This change fixes\nthe issue by ensuring the oslo.db listed in test-requirements.txt takes\nprecedence.\n\nChange-Id: I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778\n""}]",0,664712,374f56580a361a55def4de25713dc632877275eb,12,5,2,8482,,,0,"Switch order of precedence for unit test deps

Without this patch, oslo.db is listed both in requirements.txt and
test-requirements.txt. Since it is listed without extras in
requirements.txt, those extras (like the mysql driver) aren't installed,
which means opportunistic database tests are not run. This change fixes
the issue by ensuring the oslo.db listed in test-requirements.txt takes
precedence.

Change-Id: I0ad6a847ad89a7b5ae7d12b6dd90433e4a617778
",git fetch https://review.opendev.org/openstack/keystone refs/changes/12/664712/2 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,4a1bd4b9e699c9535c44cc4c89f253e720581048,fix-oslo.db-tests, -r{toxinidir}/requirements.txt, -r{toxinidir}/requirements.txt,1,1
openstack%2Fdevstack~stable%2Fstein~Ied9d50b07c368d5c2be658c744f340a8d1ee41e0,openstack/devstack,stable/stein,Ied9d50b07c368d5c2be658c744f340a8d1ee41e0,Add NOVA_NOTIFICATION_FORMAT variable,MERGED,2019-06-15 13:49:57.000000000,2019-07-01 21:19:54.000000000,2019-07-01 21:19:54.000000000,"[{'_account_id': 6873}, {'_account_id': 8556}, {'_account_id': 13252}, {'_account_id': 22348}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-15 13:49:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/f341884be4183092f403683e43e7a723fc57a609', 'message': 'Add NOVA_NOTIFICATION_FORMAT variable\n\nNova change https://review.opendev.org/603079/ changed the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications. This could break\nunsuspecting downstream projects (like Watcher) whose CI jobs are\nnot explicitly configuring nova for the types of notifications\nthey need but are just relying on getting both per the previous\ndefault of the config option.\n\nThis adds a variable which defaults to ""unversioned"" to match the\nnova default but allows downstream CI jobs to easily configure\nanother value.\n\nNeeded by https://review.opendev.org/663332/\n\nChange-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n(cherry picked from commit b57757ae14a54e78ebd533198564d24af77c51da)\n'}, {'number': 2, 'created': '2019-06-28 18:31:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/devstack/commit/69f616298263c3ab29a2dbb4c1ba01795e0ce725', 'message': 'Add NOVA_NOTIFICATION_FORMAT variable\n\nNova change https://review.opendev.org/603079/ changed the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications. This could break\nunsuspecting downstream projects (like Watcher) whose CI jobs are\nnot explicitly configuring nova for the types of notifications\nthey need but are just relying on getting both per the previous\ndefault of the config option.\n\nThis adds a variable which defaults to ""both"" to match the\nnova default (in Stein) but allows downstream CI jobs to easily\nconfigure another value.\n\nNeeded by https://review.opendev.org/667161/\n\nNOTE(mriedem): The nova default changed from ""both"" to\n""unversioned"" in Train. This stable/stein backport changes the\ndefault in devstack to ""both"" to match the nova default in Stein.\nThe goal of the patch is to provide a way to override the config\nwhich this still does and is necessary for the linked Watcher\npatch.\n\nChange-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n(cherry picked from commit b57757ae14a54e78ebd533198564d24af77c51da)\n'}, {'number': 3, 'created': '2019-06-28 18:32:35.000000000', 'files': ['lib/nova'], 'web_link': 'https://opendev.org/openstack/devstack/commit/a6d3f0f58db7dd0aeecd5387838f105d4c7bdaea', 'message': 'Add NOVA_NOTIFICATION_FORMAT variable\n\nNova change https://review.opendev.org/603079/ changed the\ndefault configuration to send only unversioned notfications rather\nthan both versioned and unversioned notifications. This could break\nunsuspecting downstream projects (like Watcher) whose CI jobs are\nnot explicitly configuring nova for the types of notifications\nthey need but are just relying on getting both per the previous\ndefault of the config option.\n\nThis adds a variable which defaults to ""both"" to match the\nnova default (in Stein) but allows downstream CI jobs to easily\nconfigure another value.\n\nNeeded by https://review.opendev.org/667161/\n\nNOTE(mriedem): The nova default changed from ""both"" to\n""unversioned"" in Train. This stable/stein backport changes the\ndefault in devstack to ""both"" to match the nova default in Stein.\nThe goal of the patch is to provide a way to override the config\nwhich this still does and is necessary for the linked Watcher\npatch.\n\nChange-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0\n(cherry picked from commit b57757ae14a54e78ebd533198564d24af77c51da)\n'}]",3,665512,a6d3f0f58db7dd0aeecd5387838f105d4c7bdaea,17,5,3,6873,,,0,"Add NOVA_NOTIFICATION_FORMAT variable

Nova change https://review.opendev.org/603079/ changed the
default configuration to send only unversioned notfications rather
than both versioned and unversioned notifications. This could break
unsuspecting downstream projects (like Watcher) whose CI jobs are
not explicitly configuring nova for the types of notifications
they need but are just relying on getting both per the previous
default of the config option.

This adds a variable which defaults to ""both"" to match the
nova default (in Stein) but allows downstream CI jobs to easily
configure another value.

Needed by https://review.opendev.org/667161/

NOTE(mriedem): The nova default changed from ""both"" to
""unversioned"" in Train. This stable/stein backport changes the
default in devstack to ""both"" to match the nova default in Stein.
The goal of the patch is to provide a way to override the config
which this still does and is necessary for the linked Watcher
patch.

Change-Id: Ied9d50b07c368d5c2be658c744f340a8d1ee41e0
(cherry picked from commit b57757ae14a54e78ebd533198564d24af77c51da)
",git fetch https://review.opendev.org/openstack/devstack refs/changes/12/665512/1 && git format-patch -1 --stdout FETCH_HEAD,['lib/nova'],1,f341884be4183092f403683e43e7a723fc57a609,bug/1831917,"# Format for notifications. Nova defaults to ""unversioned"" since Train. # Other options include ""versioned"" and ""both"". NOVA_NOTIFICATION_FORMAT=${NOVA_NOTIFICATION_FORMAT:-unversioned} iniset $NOVA_CONF notifications notification_format ""$NOVA_NOTIFICATION_FORMAT""",,5,0
openstack%2Fplacement~master~I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad,openstack/placement,master,I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad,Spec: Support Consumer Types,MERGED,2019-04-23 06:15:32.000000000,2019-07-01 21:19:50.000000000,2019-07-01 21:19:50.000000000,"[{'_account_id': 4690}, {'_account_id': 5754}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}, {'_account_id': 26936}]","[{'number': 1, 'created': '2019-04-23 06:15:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5226420f77e1fad0d55993c93973eb2e1667c79e', 'message': '[WIP] Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model ``consumer types`` in\nplacement. While placement defines a consumer to be an entity consuming\nresources from a provider it does not provide a way to identify similar ""types""\nof consumers or group/query consumers from a particular service. This spec\nproposes to associate each consumer to a particular type defined by the service\nowning the consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 2, 'created': '2019-05-15 14:26:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9025b8b0334f07514851c2409b97853fa4f1ddb7', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model ``consumer types``\nin placement. While placement defines a consumer to be an entity consuming\nresources from a provider it does not provide a way to identify similar\n""types"" of consumers and henceforth allow services to group/query them based\non their types. This spec proposes to associate each consumer to a particular\ntype defined by the service owning the consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 3, 'created': '2019-05-15 14:28:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/709d36d5293f6843556fd7050267a8fb598dd045', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model\n``consumer types`` in placement. While placement defines a\nconsumer to be an entity consuming resources from a provider\nit does not provide a way to identify similar ""types"" of\nconsumers and henceforth allow services to group/query them\nbased on their types. This spec proposes to associate each\nconsumer to a particular type defined by the service owning\nthe consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 4, 'created': '2019-05-15 14:30:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/4a27702f875e3e4ba1fb37184f6a5eb265376101', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model\n``consumer types`` in placement. While placement defines a\nconsumer to be an entity consuming resources from a provider\nit does not provide a way to identify similar ""types"" of\nconsumers and henceforth allow services to group/query them\nbased on their types. This spec proposes to associate each\nconsumer to a particular type defined by the service owning\nthe consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 5, 'created': '2019-06-26 13:47:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/5fa4a172b7d20a105ce9020c2c6e9487c351b168', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model\n``consumer types`` in placement. While placement defines a\nconsumer to be an entity consuming resources from a provider\nit does not provide a way to identify similar ""types"" of\nconsumers and henceforth allow services to group/query them\nbased on their types. This spec proposes to associate each\nconsumer to a particular type defined by the service owning\nthe consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 6, 'created': '2019-07-01 15:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/1f9433431056bc579cd13f81c2b2e122b19e8d47', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model\n``consumer types`` in placement. While placement defines a\nconsumer to be an entity consuming resources from a provider\nit does not provide a way to identify similar ""types"" of\nconsumers and henceforth allow services to group/query them\nbased on their types. This spec proposes to associate each\nconsumer to a particular type defined by the service owning\nthe consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}, {'number': 7, 'created': '2019-07-01 15:50:34.000000000', 'files': ['doc/source/specs/train/approved/2005473-support-consumer-types.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/ed4a9a1d7847e7f4661ce4cc531141efeab48972', 'message': 'Spec: Support Consumer Types\n\nThis spec aims at providing support for services to model\n``consumer types`` in placement. While placement defines a\nconsumer to be an entity consuming resources from a provider\nit does not provide a way to identify similar ""types"" of\nconsumers and henceforth allow services to group/query them\nbased on their types. This spec proposes to associate each\nconsumer to a particular type defined by the service owning\nthe consumer.\n\nChange-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad\nStory: 2005473\nTask: 30554\n'}]",68,654799,ed4a9a1d7847e7f4661ce4cc531141efeab48972,39,8,7,26936,,,0,"Spec: Support Consumer Types

This spec aims at providing support for services to model
``consumer types`` in placement. While placement defines a
consumer to be an entity consuming resources from a provider
it does not provide a way to identify similar ""types"" of
consumers and henceforth allow services to group/query them
based on their types. This spec proposes to associate each
consumer to a particular type defined by the service owning
the consumer.

Change-Id: I79ce8f1b20c60b89fc1ed0ece8bcc321e9435bad
Story: 2005473
Task: 30554
",git fetch https://review.opendev.org/openstack/placement refs/changes/99/654799/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/specs/train/approved/2005473-support-consumer-types.rst'],1,5226420f77e1fad0d55993c93973eb2e1667c79e,bp/support-consumer-types,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode ======================== Support Consumer Types ======================== Include the URL of your story from StoryBoard: https://storyboard.openstack.org/#!/story/2005473 This spec aims at providing support for services to model ``consumer types`` in placement. While placement defines a consumer to be an entity consuming resources from a provider it does not provide a way to identify similar ""types"" of consumers or group/query consumers from a particular service. This spec proposes to associate each consumer to a particular type defined by the service owning the consumer. Problem description =================== In today's placement world each allocation posted by a service is against a consumer (ex: against an instance or a migration). However a service may want to distinguish amongst the allocations made against its various types of consumers (ex: nova may want to fetch allocations against instances alone). This is currently not possible in placement and hence the goal is to make placement aware of ""types of consumers"" from services. Use Cases --------- * Nova using placement as its `quota calculation system`_: Currently this approach uses the nova_api database to calculate the quota on the ""number of instances"". In order for nova to be able to use placement to count the number of ""instance-consumers"", there needs to be a way by which we can differentiate ""instance-consumers"" from ""migration-consumers"". * Ironic wanting to differentiate between ""standalone-consumer"" versus ""nova-consumer"". Note that it is not within the scope of placement to model the coordination of the consumer type collisions that may arise between multiple services during their definition. Proposed change =============== Here is where you cover the change you propose to make in detail. How do you propose to solve this problem? If this is one part of a larger effort make it clear where this piece ends. In other words, what's the scope of this effort? At this point, if you would like to get feedback on if the problem and proposed change fit in placement, you can stop here and post this for review saying: Posting to get preliminary feedback on the scope of this spec. Alternatives ------------ What other ways could we do this thing? Why aren't we using those? This doesn't have to be a full literature review, but it should demonstrate that thought has been put into why the proposed solution is an appropriate one. Data model impact ----------------- Changes which require modifications to the data model often have a wider impact on the system. The community often has strong opinions on how the data model should be evolved, from both a functional and performance perspective. It is therefore important to capture and gain agreement as early as possible on any proposed changes to the data model. Questions which need to be addressed by this section include: * What new data objects and/or database schema changes is this going to require? * What database migrations will accompany this change? * How will the initial set of new data objects be generated? For example if you need to take into account existing instances, or modify other existing data, describe how that will work. API impact ---------- Each API method which is either added or changed should have the following * Specification for the method * A description of what the method does suitable for use in user documentation * Method type (POST/PUT/GET/DELETE) * Normal http response code(s) * Expected error http response code(s) * A description for each possible error code should be included describing semantic errors which can cause it such as inconsistent parameters supplied to the method, or when a resource is not in an appropriate state for the request to succeed. Errors caused by syntactic problems covered by the JSON schema definition do not need to be included. * URL for the resource * URL should not include underscores; use hyphens instead. * Parameters which can be passed via the url * JSON schema definition for the request body data if allowed * Field names should use snake_case style, not camelCase or MixedCase style. * JSON schema definition for the response body data if any * Field names should use snake_case style, not camelCase or MixedCase style. * Example use case including typical API samples for both data supplied by the caller and the response * Discuss any policy changes, and discuss what things a deployer needs to think about when defining their policy. Note that the schema should be defined as restrictively as possible. Parameters which are required should be marked as such and only under exceptional circumstances should additional parameters which are not defined in the schema be permitted (eg additionaProperties should be False). Reuse of existing predefined parameter types such as regexps for passwords and user defined names is highly encouraged. Security impact --------------- None. Other end user impact --------------------- Aside from the API, are there other ways a user will interact with this feature? * Does this change have an impact on osc-placement? What does the user interface there look like? Performance Impact ------------------ Describe any potential performance impact on the system, for example how often will new code be called, and is there a major change to the calling pattern of existing code. Examples of things to consider here include: * A small change in a utility function or a commonly used decorator can have a large impacts on performance. * Calls which result in a database queries can have a profound impact on performance when called in critical sections of the code. * Will the change include any locking, and if so what considerations are there on holding the lock? Other deployer impact --------------------- Discuss things that will affect how you deploy and configure OpenStack that have not already been mentioned, such as: * What config options are being added? Should they be more generic than proposed? Are the default values ones which will work well in real deployments? * Is this a change that takes immediate effect after its merged, or is it something that has to be explicitly enabled? * If this change is a new binary, how would it be deployed? * Please state anything that those doing continuous deployment, or those upgrading from the previous release, need to be aware of. Also describe any plans to deprecate configuration values or features. Developer impact ---------------- Discuss things that will affect other developers working on OpenStack. Upgrade impact -------------- Describe any potential upgrade impact on the system. Implementation ============== Assignee(s) ----------- Primary assignee: <tssurya> Other contributors: <None> Work Items ---------- Work items or tasks -- break the feature up into the things that need to be done to implement it. Those parts might end up being done by different people, but we're mostly trying to understand the timeline for implementation. Dependencies ============ * Include specific references to other specs or stories that this one either depends on or is related to. * If this requires new functionality in another project that is not yet used document that fact. * Does this feature require any new library dependencies or code otherwise not included in OpenStack? Or does it depend on a specific version of a library? Testing ======= Please discuss the important scenarios that need to be tested, as well as specific edge cases we should be ensuring work correctly. Documentation Impact ==================== Which audiences are affected most by this change, and which documentation titles on docs.openstack.org should be updated because of this change? Don't repeat details discussed above, but reference them here in the context of documentation for multiple audiences. References ========== .. _quota calculation system: https://review.opendev.org/#/q/topic:bp/count-quota-usage-from-placement History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Train - Introduced ",,267,0
openstack%2Fnova~stable%2Fqueens~I20981c987549eec40ad9762e74b0db16e54f4e63,openstack/nova,stable/queens,I20981c987549eec40ad9762e74b0db16e54f4e63,Workaround missing RequestSpec.instance_group.uuid,MERGED,2019-06-04 18:04:46.000000000,2019-07-01 21:19:46.000000000,2019-07-01 21:19:46.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-04 18:04:46.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py', 'nova/objects/request_spec.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/20b90f2e26e6a46a12c2fd943b4472c3147528fa', 'message': ""Workaround missing RequestSpec.instance_group.uuid\n\nIt's clear that we could have a RequestSpec.instance_group\nwithout a uuid field if the InstanceGroup is set from the\n_populate_group_info method which should only be used for\nlegacy translation of request specs using legacy filter\nproperties dicts.\n\nTo workaround the issue, we look for the group scheduler hint\nto get the group uuid before loading it from the DB.\n\nThe related functional regression recreate test is updated\nto show this solves the issue.\n\nConflicts:\n      nova/objects/request_spec.py\n\nNOTE(mriedem): The conflict is due to not having change\nIb33719a4b9599d86848c618a6e142c71ece79ca5 in Queens.\n\nChange-Id: I20981c987549eec40ad9762e74b0db16e54f4e63\nCloses-Bug: #1830747\n(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)\n(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)\n(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)\n""}]",0,663110,20b90f2e26e6a46a12c2fd943b4472c3147528fa,14,7,1,6873,,,0,"Workaround missing RequestSpec.instance_group.uuid

It's clear that we could have a RequestSpec.instance_group
without a uuid field if the InstanceGroup is set from the
_populate_group_info method which should only be used for
legacy translation of request specs using legacy filter
properties dicts.

To workaround the issue, we look for the group scheduler hint
to get the group uuid before loading it from the DB.

The related functional regression recreate test is updated
to show this solves the issue.

Conflicts:
      nova/objects/request_spec.py

NOTE(mriedem): The conflict is due to not having change
Ib33719a4b9599d86848c618a6e142c71ece79ca5 in Queens.

Change-Id: I20981c987549eec40ad9762e74b0db16e54f4e63
Closes-Bug: #1830747
(cherry picked from commit da453c2bfe86ab7a825f0aa7ebced15886f7a5fd)
(cherry picked from commit 8569eb9b4fb905cb92041b84c293dc4e7af27fa8)
(cherry picked from commit 9fed1803b4d6b2778c47add9c327f0610edc5952)
",git fetch https://review.opendev.org/openstack/nova refs/changes/10/663110/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/objects/request_spec.py', 'nova/tests/functional/regressions/test_bug_1830747.py']",2,20b90f2e26e6a46a12c2fd943b4472c3147528fa,bug/1830747," self.api, server, 'VERIFY_RESIZE') self.assertEqual('host2', server['OS-EXT-SRV-ATTR:host']) # The RequestSpec.instance_group.uuid should still be set. reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid)","import sixfrom nova import exception # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex))",13,14
openstack%2Ftripleo-common~master~Ie543782569de14d56bc41740611f7512e8357a22,openstack/tripleo-common,master,Ie543782569de14d56bc41740611f7512e8357a22,Render NetworkConfig into config-download dir,MERGED,2019-06-06 15:48:11.000000000,2019-07-01 21:06:52.000000000,2019-06-16 06:24:52.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 26297}]","[{'number': 1, 'created': '2019-06-06 15:48:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/50702ca756ecef678b47871698871880153c7f15', 'message': 'WIP: Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 2, 'created': '2019-06-06 18:02:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/5a038834b8835ab016167d6828bce72f73a9fd30', 'message': 'WIP: Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 3, 'created': '2019-06-06 20:52:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/f3daf9ab09909d24968be42ca0083ffaa411ae5d', 'message': 'WIP: Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 4, 'created': '2019-06-07 00:40:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/92f92a39ac560c05bec2709a2c7023077bb02180', 'message': 'WIP: Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 5, 'created': '2019-06-07 11:36:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/71cfb353836bb4f19f134632c75405b61074c6bc', 'message': 'Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 6, 'created': '2019-06-11 18:33:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/d4b63550bfe08fbd10b0e6e6fb31adfb7c6bdbf3', 'message': 'Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 7, 'created': '2019-06-12 14:59:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/0ecdbd575f6c014347b13d4905cb7814ffb451eb', 'message': 'Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}, {'number': 8, 'created': '2019-06-14 12:00:40.000000000', 'files': ['tripleo_common/tests/fake_config/fakes.py', 'tripleo_common/constants.py', 'tripleo_common/utils/config.py', 'tripleo_common/tests/utils/test_config.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/85b7a4eea5c9a36f5a4d2bc4bef5836e2338ab8d', 'message': 'Render NetworkConfig into config-download dir\n\nUse the HostnameNetworkConfigMap stack output so that the full\nNetworkConfig script can be saved per server into the config-download\ndirectory.\n\nChange-Id: Ie543782569de14d56bc41740611f7512e8357a22\nDepends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021\nimplements: blueprint reduce-deployment-resources\n'}]",8,663706,85b7a4eea5c9a36f5a4d2bc4bef5836e2338ab8d,52,7,8,7144,,,0,"Render NetworkConfig into config-download dir

Use the HostnameNetworkConfigMap stack output so that the full
NetworkConfig script can be saved per server into the config-download
directory.

Change-Id: Ie543782569de14d56bc41740611f7512e8357a22
Depends-On: I315f2e2eb880e9f3cb67d9f4cdc789f08c6c4021
implements: blueprint reduce-deployment-resources
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/06/663706/8 && git format-patch -1 --stdout FETCH_HEAD,"['tripleo_common/constants.py', 'tripleo_common/utils/config.py']",2,50702ca756ecef678b47871698871880153c7f15,bp/reduce-deployment-resources," def get_network_config_data(self, stack): return self.stack_outputs.get(""HostnameNetworkConfigMap"") # Render NetworkConfig data network_config = self.get_network_config_data(stack) for server, config in network_config.items(): server_deployment_dir = os.path.join( config_dir, server_roles[server], server) self._mkdir(server_deployment_dir) network_config_path = os.path.join( server_deployment_dir, ""NetworkConfig"") s_config = self.client.software_configs.get(config) with open(network_config_path, 'w') as f: f.write(s_config.config) ",,18,0
openstack%2Fopenstack-ansible~master~Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39,openstack/openstack-ansible,master,Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39,Imported Translations from Zanata,MERGED,2019-06-17 07:29:58.000000000,2019-07-01 20:50:26.000000000,2019-07-01 20:50:26.000000000,"[{'_account_id': 17799}, {'_account_id': 22348}, {'_account_id': 25023}]","[{'number': 1, 'created': '2019-06-17 07:29:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/975516ef81f1580a17a0477c02e4cf566445b552', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39\n'}, {'number': 2, 'created': '2019-06-22 07:31:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/7d29d14410f467ba290313f4475cbe6f733f1865', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39\n'}, {'number': 3, 'created': '2019-06-27 08:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/dbd13ccb98a5fc9554cc276aa3992a54311339d3', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39\n'}, {'number': 4, 'created': '2019-06-28 07:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/2f192b5effdfc57a6b42e5149775ccb053b4d323', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39\n'}, {'number': 5, 'created': '2019-06-29 07:05:04.000000000', 'files': ['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po'], 'web_link': 'https://opendev.org/openstack/openstack-ansible/commit/5c3881af234e6451641b22967483f2135cbdbbd0', 'message': 'Imported Translations from Zanata\n\nFor more information about this automatic import see:\nhttps://docs.openstack.org/i18n/latest/reviewing-translation-import.html\n\nChange-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39\n'}]",0,665600,5c3881af234e6451641b22967483f2135cbdbbd0,21,3,5,11131,,,0,"Imported Translations from Zanata

For more information about this automatic import see:
https://docs.openstack.org/i18n/latest/reviewing-translation-import.html

Change-Id: Ia3495c29872ee4e8deeb99c265fd28e3bc4dbd39
",git fetch https://review.opendev.org/openstack/openstack-ansible refs/changes/00/665600/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/locale/id/LC_MESSAGES/releasenotes.po', 'doc/source/locale/id/LC_MESSAGES/doc-contributor.po', 'doc/source/locale/de/LC_MESSAGES/doc-contributor.po']",3,975516ef81f1580a17a0477c02e4cf566445b552,zanata/translations,"""POT-Creation-Date: 2019-06-12 18:30+0000\n""","""POT-Creation-Date: 2019-05-27 12:56+0000\n""msgid """" ""Branch all the repos that aren't part of the integrated release in gerrit. "" ""See also the ``projects.yaml`` in the governance repo. Manually branched "" ""repos need extra editions, like updating the .gitreview, or the reno index. "" ""Please reference previous branch creations by using the appropriate topic in "" ""gerrit (e.g.: ``create-stein``). The previous new branch creation may be "" ""different as the tooling/process may have evolved, so be aware that the "" ""changes needed may need to be adapted."" msgstr """" ""Branchen Sie alle Repos, die nicht zum integrierten Release in Gerrit "" ""gehören. Siehe auch ``projects.yaml`` im Governance-Repo. Manuell gebranchte "" ""Repos benötigen zusätzliche Editionen, wie das Aktualisieren der .gitreview "" ""oder des Reno-Index. Bitte referenzieren Sie frühere Branch-Kreationen, "" ""indem Sie das entsprechende Topic in gerrit verwenden (z.B .: `` create-"" ""stein``). Die vorherige Erstellung eines neuen Branches kann anders sein, da "" ""sich der Werkzeug- /Prozess möglicherweise weiterentwickelt hat. Achten Sie "" ""also darauf, dass die erforderlichen Änderungen möglicherweise angepasst "" ""werden müssen."" msgid ""Dependency Updates"" msgstr ""Abhängigkeitsaktualisierungen"" msgid ""Feature freeze, bug fixes, and testing improvements"" msgstr ""Einfrieren von Funktionen, Bugfixes und Testen von Verbesserungen"" msgid ""Set the ``openstack_release`` version to xx.0.0"" msgstr ""Setzen Sie die ``openstack_release``-Version auf xx.0.0"" msgid ""Set the ``openstack_release`` version to xx.0.0.0b1"" msgstr ""Setzen Sie die ``openstack_release``-Version auf xx.0.0.0b1"" msgid ""Set the ``openstack_release`` version to xx.0.0.0b2"" msgstr ""Setzen Sie die ``openstack_release``-Version auf xx.0.0.0b2"" msgid ""Set the ``openstack_release`` version to xx.0.0.0b3"" msgstr ""Setzen Sie die ``openstack_release``-Version auf xx.0.0.0b3"" msgid ""Set the ``openstack_release`` version to xx.0.1"" msgstr ""Setzen Sie die ``openstack_release`` Version auf xx.0.1"" ""The dependencies for OpenStack-Ansible are updated through the use of "" ""``scripts/sources-branch-updater.sh``. This script updates all pinned SHA's "" ""for OpenStack services, OpenStack-Ansible roles, and other python "" ""dependencies which are not handled by the OpenStack global requirements "" ""management process. This script also updates the statically held templates/"" ""files in each role to ensure that they are always up to date. Finally, it "" ""also increments the patch version of the ``openstack_release`` variable."" msgstr """" ""Die Abhängigkeiten für OpenStack-Ansible werden durch die Verwendung von "" ""``scripts/sources-branch-updater.sh`` aktualisiert. Dieses Skript "" ""aktualisiert alle fixierten SHAs für OpenStack-Services, OpenStack-Ansible-"" ""Rollen und andere Python-Abhängigkeiten, die nicht vom globalen "" ""Anforderungsmanagementprozess von OpenStack verarbeitet werden. Dieses "" ""Skript aktualisiert auch die statisch gehaltenen Vorlagen/Dateien in jeder "" ""Rolle, um sicherzustellen, dass sie immer auf dem neuesten Stand sind. "" ""Schließlich erhöht es auch die Patch-Version der ``openstack_release`` -"" ""Variablen."" msgid """"msgid ""The update script is used as follows:"" msgstr ""Das Update-Skript wird wie folgt verwendet:"" ",175,119
openstack%2Fnova~stable%2Fqueens~I05700c97f756edb7470be7273d5c9c3d76d63e29,openstack/nova,stable/queens,I05700c97f756edb7470be7273d5c9c3d76d63e29,Add regression recreate test for bug 1830747,MERGED,2019-06-03 14:39:12.000000000,2019-07-01 20:34:29.000000000,2019-07-01 20:34:29.000000000,"[{'_account_id': 10135}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-03 14:39:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/6538ff1e67a2c1f6fb4bd94af7efdefefbeca1f1', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)\n(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)\n(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)\n'}, {'number': 2, 'created': '2019-06-03 19:39:27.000000000', 'files': ['nova/tests/functional/regressions/test_bug_1830747.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/581df2c98676b6734e8195ab56c9e0dba74789a5', 'message': 'Add regression recreate test for bug 1830747\n\nBefore change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when\na cold migration would reschedule to conductor it would not send the\nRequestSpec, only the filter_properties. The filter_properties contain\na primitive version of the instance group information from the RequestSpec\nfor things like the group members, hosts and policies, but not the uuid.\nWhen conductor is trying to reschedule the cold migration without a\nRequestSpec, it builds a RequestSpec from the components it has, like the\nfilter_properties. This results in a RequestSpec with an instance_group\nfield set but with no uuid field in the RequestSpec.instance_group.\nThat RequestSpec gets persisted and then because of change\nIe70c77db753711e1449e99534d3b83669871943f, later attempts to load the\nRequestSpec from the database will fail because of the missing\nRequestSpec.instance_group.uuid.\n\nThe test added here recreates the pre-Stein scenario which could still\nbe a problem (on master) for any corrupted RequestSpecs for older\ninstances.\n\nNOTE(mriedem): In this version we have to request a specific port\nto avoid a NetworkAmbiguous failure when creating the server.\n\nChange-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29\nRelated-Bug: #1830747\n(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)\n(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)\n(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)\n'}]",0,662774,581df2c98676b6734e8195ab56c9e0dba74789a5,13,4,2,6873,,,0,"Add regression recreate test for bug 1830747

Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when
a cold migration would reschedule to conductor it would not send the
RequestSpec, only the filter_properties. The filter_properties contain
a primitive version of the instance group information from the RequestSpec
for things like the group members, hosts and policies, but not the uuid.
When conductor is trying to reschedule the cold migration without a
RequestSpec, it builds a RequestSpec from the components it has, like the
filter_properties. This results in a RequestSpec with an instance_group
field set but with no uuid field in the RequestSpec.instance_group.
That RequestSpec gets persisted and then because of change
Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the
RequestSpec from the database will fail because of the missing
RequestSpec.instance_group.uuid.

The test added here recreates the pre-Stein scenario which could still
be a problem (on master) for any corrupted RequestSpecs for older
instances.

NOTE(mriedem): In this version we have to request a specific port
to avoid a NetworkAmbiguous failure when creating the server.

Change-Id: I05700c97f756edb7470be7273d5c9c3d76d63e29
Related-Bug: #1830747
(cherry picked from commit c96c7c5e13bde39944a9dde7da7fe418b311ca2d)
(cherry picked from commit 8478a754802e29dffbb65ef363ee189162f0adea)
(cherry picked from commit a0a187c9bb9bef149e193027a6eedc09ba10ce1f)
",git fetch https://review.opendev.org/openstack/nova refs/changes/74/662774/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/functional/regressions/test_bug_1830747.py'],1,6538ff1e67a2c1f6fb4bd94af7efdefefbeca1f1,bug/1830747,"# Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import mock import six from nova import context as nova_context from nova import exception from nova import objects from nova.scheduler import weights from nova import test from nova.tests import fixtures as nova_fixtures from nova.tests.functional import integrated_helpers from nova.tests.unit.image import fake as fake_image from nova.virt import fake as fake_virt class HostNameWeigher(weights.BaseHostWeigher): # Prefer host1 over host2. weights = {'host1': 100, 'host2': 50} def _weigh_object(self, host_state, weight_properties): return self.weights.get(host_state.host, 0) class MissingReqSpecInstanceGroupUUIDTestCase( test.TestCase, integrated_helpers.InstanceHelperMixin): """"""Regression recreate test for bug 1830747 Before change I4244f7dd8fe74565180f73684678027067b4506e in Stein, when a cold migration would reschedule to conductor it would not send the RequestSpec, only the filter_properties. The filter_properties contain a primitive version of the instance group information from the RequestSpec for things like the group members, hosts and policies, but not the uuid. When conductor is trying to reschedule the cold migration without a RequestSpec, it builds a RequestSpec from the components it has, like the filter_properties. This results in a RequestSpec with an instance_group field set but with no uuid field in the RequestSpec.instance_group. That RequestSpec gets persisted and then because of change Ie70c77db753711e1449e99534d3b83669871943f, later attempts to load the RequestSpec from the database will fail because of the missing RequestSpec.instance_group.uuid. This test recreates the regression scenario by cold migrating a server to a host which fails and triggers a reschedule but without the RequestSpec so a RequestSpec is created/updated for the instance without the instance_group.uuid set which will lead to a failure loading the RequestSpec from the DB later. """""" def setUp(self): super(MissingReqSpecInstanceGroupUUIDTestCase, self).setUp() # Stub out external dependencies. self.useFixture(nova_fixtures.NeutronFixture(self)) self.useFixture(nova_fixtures.PlacementFixture()) fake_image.stub_out_image_service(self) self.addCleanup(fake_image.FakeImageService_reset) # Configure the API to allow resizing to the same host so we can keep # the number of computes down to two in the test. self.flags(allow_resize_to_same_host=True) # Start nova controller services. api_fixture = self.useFixture(nova_fixtures.OSAPIFixture( api_version='v2.1')) self.api = api_fixture.admin_api self.start_service('conductor') # Use our custom weigher defined above to make sure that we have # a predictable scheduling sort order. self.flags(weight_classes=[__name__ + '.HostNameWeigher'], group='filter_scheduler') self.start_service('scheduler') # Start two computes, one where the server will be created and another # where we'll cold migrate it. self.addCleanup(fake_virt.restore_nodes) self.computes = {} # keep track of the compute services per host name for host in ('host1', 'host2'): fake_virt.set_nodes([host]) compute_service = self.start_service('compute', host=host) self.computes[host] = compute_service def test_cold_migrate_reschedule(self): # Create an anti-affinity group for the server. body = { 'server_group': { 'name': 'test-group', 'policies': ['anti-affinity'] } } group_id = self.api.api_post( '/os-server-groups', body).body['server_group']['id'] # Create a server in the group which should land on host1 due to our # custom weigher. server = self._build_minimal_create_server_request( self.api, 'test_cold_migrate_reschedule') body = dict(server=server) body['os:scheduler_hints'] = {'group': group_id} server = self.api.post_server(body) server = self._wait_for_state_change(self.api, server, 'ACTIVE') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # Verify the group uuid is set in the request spec. ctxt = nova_context.get_admin_context() reqspec = objects.RequestSpec.get_by_instance_uuid(ctxt, server['id']) self.assertEqual(group_id, reqspec.instance_group.uuid) # Now cold migrate the server. Because of allow_resize_to_same_host and # the weigher, the scheduler will pick host1 first. The FakeDriver # actually allows migrating to the same host so we need to stub that # out so the compute will raise UnableToMigrateToSelf like when using # the libvirt driver. host1_driver = self.computes['host1'].driver with mock.patch.dict(host1_driver.capabilities, supports_migrate_to_same_host=False): self.api.post_server_action(server['id'], {'migrate': None}) # FIXME(mriedem): Due to bug 1830747 we don't go to VERIFY_RESIZE # because the reschedule fails and the instance is put into # ERROR status. When the bug is fixed the status should be # VERIFY_RESIZE and the server should be on host2. server = self._wait_for_state_change( self.api, server, 'ERROR') self.assertEqual('host1', server['OS-EXT-SRV-ATTR:host']) # And the RequestSpec.instance_group.uuid should be missing which # leads to us failing to load the RequestSpec. ex = self.assertRaises(exception.ObjectActionError, objects.RequestSpec.get_by_instance_uuid, ctxt, server['id']) self.assertIn('unable to load uuid', six.text_type(ex)) ",,137,0
openstack%2Fnova~stable%2Fqueens~I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,openstack/nova,stable/queens,I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5,Include all network devices in nova diagnostics,MERGED,2019-06-18 19:36:36.000000000,2019-07-01 20:34:22.000000000,2019-07-01 20:34:22.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 30009}]","[{'number': 1, 'created': '2019-06-18 19:36:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/31d8b2f109c86cdefcfc1ad2c408b3cde90dd07e', 'message': 'Include all network devices in nova diagnostics\n\nget_instance_diagnostics expected all interfaces\nto have a <target> element with a ""dev"" attribute in\nthe instance XML. This is not the case for VFIO\ninterfaces (<interface type=""hostdev"">).\nThis caused an IndexError when looping over\nthe interfaces.\n\nThis patch fixes this issue by retrieving interfaces\ndata directly from the guest XML and adding nics\nappropriately to the diagnostics object.\n\nThe new functional test has been left out of this\ncherry-pick, since a lot of the test code that\nsupports the test is missing and would have to be\nback-ported just for that one test, including a\nramification of other commit dependencies.\nThe functional code change itself is rather simple,\nand not having this functional test present in\nRocky is considered to be low risk.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n(cherry picked from commit ab7c968b6f66404c032f62a952e353f94d3be165)\n(cherry picked from commit 1d4f64b190afc60b0c2a56de718209869c41cfb3)\n(cherry picked from commit 19ca8bcc2232e1d81efc349948a21cc1c3fc811d)\n'}, {'number': 2, 'created': '2019-06-18 19:38:12.000000000', 'files': ['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/2009859b5225541d8560e5ca1efb91de644d12be', 'message': 'Include all network devices in nova diagnostics\n\nget_instance_diagnostics expected all interfaces\nto have a <target> element with a ""dev"" attribute in\nthe instance XML. This is not the case for VFIO\ninterfaces (<interface type=""hostdev"">).\nThis caused an IndexError when looping over\nthe interfaces.\n\nThis patch fixes this issue by retrieving interfaces\ndata directly from the guest XML and adding nics\nappropriately to the diagnostics object.\n\nThe new functional test has been left out of this\ncherry-pick, since a lot of the test code that\nsupports the test is missing and would have to be\nback-ported just for that one test, including a\nramification of other commit dependencies.\nThe functional code change itself is rather simple,\nand not having this functional test present in\nQueens is considered to be low risk.\n\nChange-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5\nCloses-Bug: #1821798\n(cherry picked from commit ab7c968b6f66404c032f62a952e353f94d3be165)\n(cherry picked from commit 1d4f64b190afc60b0c2a56de718209869c41cfb3)\n(cherry picked from commit 19ca8bcc2232e1d81efc349948a21cc1c3fc811d)\n'}]",0,666152,2009859b5225541d8560e5ca1efb91de644d12be,26,8,2,30009,,,0,"Include all network devices in nova diagnostics

get_instance_diagnostics expected all interfaces
to have a <target> element with a ""dev"" attribute in
the instance XML. This is not the case for VFIO
interfaces (<interface type=""hostdev"">).
This caused an IndexError when looping over
the interfaces.

This patch fixes this issue by retrieving interfaces
data directly from the guest XML and adding nics
appropriately to the diagnostics object.

The new functional test has been left out of this
cherry-pick, since a lot of the test code that
supports the test is missing and would have to be
back-ported just for that one test, including a
ramification of other commit dependencies.
The functional code change itself is rather simple,
and not having this functional test present in
Queens is considered to be low risk.

Change-Id: I8ef852d449e9e637d45e4ac92ffc5d1abd8d31c5
Closes-Bug: #1821798
(cherry picked from commit ab7c968b6f66404c032f62a952e353f94d3be165)
(cherry picked from commit 1d4f64b190afc60b0c2a56de718209869c41cfb3)
(cherry picked from commit 19ca8bcc2232e1d81efc349948a21cc1c3fc811d)
",git fetch https://review.opendev.org/openstack/nova refs/changes/52/666152/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/libvirt/driver.py', 'nova/tests/unit/virt/libvirt/test_driver.py']",2,31d8b2f109c86cdefcfc1ad2c408b3cde90dd07e,bug/1821798," <interface type='hostdev' managed='yes'> <mac address=""54:56:00:a6:40:40""/> <driver name='vfio'/> </interface> expected.add_nic(mac_address='54:56:00:a6:40:40') ",,34,18
openstack%2Fnova~stable%2Fqueens~Ia167cf1a08281932b9f4ae40aae6885e65cfc538,openstack/nova,stable/queens,Ia167cf1a08281932b9f4ae40aae6885e65cfc538,DRY up test_rollback_live_migration_set_migration_status,MERGED,2019-05-31 13:55:17.000000000,2019-07-01 20:34:15.000000000,2019-07-01 20:34:15.000000000,"[{'_account_id': 6873}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-31 13:55:17.000000000', 'files': ['nova/tests/unit/compute/test_compute.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/88fd40fe5dddc695b59c4612b822625ffc616c96', 'message': ""DRY up test_rollback_live_migration_set_migration_status\n\nThis test was 99% redundant with test_rollback_live_migration()\nexcept for the migration_status override, so it's refactored into\na common method.\n\nChange-Id: Ia167cf1a08281932b9f4ae40aae6885e65cfc538\n(cherry picked from commit 32b7f48c00905bd9e1feb121504fb79fae77b9ea)\n""}]",0,662470,88fd40fe5dddc695b59c4612b822625ffc616c96,8,4,1,10135,,,0,"DRY up test_rollback_live_migration_set_migration_status

This test was 99% redundant with test_rollback_live_migration()
except for the migration_status override, so it's refactored into
a common method.

Change-Id: Ia167cf1a08281932b9f4ae40aae6885e65cfc538
(cherry picked from commit 32b7f48c00905bd9e1feb121504fb79fae77b9ea)
",git fetch https://review.opendev.org/openstack/nova refs/changes/70/662470/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/tests/unit/compute/test_compute.py'],1,88fd40fe5dddc695b59c4612b822625ffc616c96,bug/1780973," def test_rollback_live_migration(self, mock_bdms, mock_get_node, migration_status=None): if migration_status: self.compute._rollback_live_migration( c, instance, 'foo', migrate_data=migrate_data, migration_status=migration_status) else: self.compute._rollback_live_migration( c, instance, 'foo', migrate_data=migrate_data) self.assertEqual(migration_status or 'error', migration.status) def test_rollback_live_migration_set_migration_status(self): self.test_rollback_live_migration(migration_status='fake')"," def test_rollback_live_migration(self, mock_bdms, mock_get_node): self.compute._rollback_live_migration(c, instance, 'foo', migrate_data=migrate_data) self.assertEqual('error', migration.status) @mock.patch('nova.objects.Migration.save') @mock.patch.object(objects.ComputeNode, 'get_by_host_and_nodename') @mock.patch('nova.objects.BlockDeviceMappingList.get_by_instance_uuid') def test_rollback_live_migration_set_migration_status(self, mock_bdms, mock_get_node, mock_mig_save): c = context.get_admin_context() instance = mock.MagicMock() migration = objects.Migration(context=c, id=0) migrate_data = objects.LibvirtLiveMigrateData(migration=migration) dest_node = objects.ComputeNode(host='foo', uuid=uuids.dest_node) mock_get_node.return_value = dest_node bdms = objects.BlockDeviceMappingList() mock_bdms.return_value = bdms @mock.patch.object(self.compute, '_revert_allocation') @mock.patch('nova.compute.utils.notify_about_instance_action') @mock.patch.object(self.compute, '_live_migration_cleanup_flags') @mock.patch.object(self.compute, 'network_api') def _test(mock_nw_api, mock_lmcf, mock_notify, mock_ra): mock_lmcf.return_value = False, False self.compute._rollback_live_migration(c, instance, 'foo', migrate_data=migrate_data, migration_status='fake') mock_ra.assert_called_once_with(mock.ANY, instance, migration) mock_notify.assert_has_calls([ mock.call(c, instance, self.compute.host, action='live_migration_rollback', phase='start', bdms=bdms), mock.call(c, instance, self.compute.host, action='live_migration_rollback', phase='end', bdms=bdms)]) mock_nw_api.setup_networks_on_host.assert_has_calls([ mock.call(c, instance, self.compute.host), mock.call(c, instance, teardown=True) ]) _test() self.assertEqual('fake', migration.status) migration.save.assert_called_once_with()",13,47
openstack%2Fnova~stable%2Fqueens~I01c63e685113bf30e687ccb14a4d18e344b306f6,openstack/nova,stable/queens,I01c63e685113bf30e687ccb14a4d18e344b306f6,Fix retry of instance_update_and_get_original,MERGED,2019-05-15 15:33:01.000000000,2019-07-01 20:34:09.000000000,2019-07-01 20:34:08.000000000,"[{'_account_id': 6873}, {'_account_id': 9373}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-15 15:33:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/24eebc26078607ad9765e1487ccd832d19037754', 'message': ""Fix retry of instance_update_and_get_original\n\n_instance_update modifies its 'values' argument. Consequently if it is\nretried due to an update conflict, the second invocation has the wrong\narguments.\n\nA specific issue this causes is that if we called it with\nexpected_task_state a concurrent modification to task_state will cause\nus to fail and retry. However, expected_task_state will have been popped\nfrom values on the first invocation and will not be present for the\nsecond. Consequently the second invocation will fail to perform the\ntask_state check and therefore succeed, resulting in a race.\n\nWe rewrite the old race unit test which wasn't testing the correct\nthing for 2 reasons:\n\n1. Due to the bug fixed in this patch, although we were calling\n   update_on_match() twice, the second call didn't check the task state.\n2. side_effect=iterable returns function items without executing them,\n   but we weren't hitting this due to the bug fixed in this patch.\n\nCloses-Bug: #1821373\nChange-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6\n(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)\n""}, {'number': 2, 'created': '2019-05-20 10:58:04.000000000', 'files': ['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/f9c2503609bfad0b871d9e87227aa2bb5c137467', 'message': ""Fix retry of instance_update_and_get_original\n\n_instance_update modifies its 'values' argument. Consequently if it is\nretried due to an update conflict, the second invocation has the wrong\narguments.\n\nA specific issue this causes is that if we called it with\nexpected_task_state a concurrent modification to task_state will cause\nus to fail and retry. However, expected_task_state will have been popped\nfrom values on the first invocation and will not be present for the\nsecond. Consequently the second invocation will fail to perform the\ntask_state check and therefore succeed, resulting in a race.\n\nWe rewrite the old race unit test which wasn't testing the correct\nthing for 2 reasons:\n\n1. Due to the bug fixed in this patch, although we were calling\n   update_on_match() twice, the second call didn't check the task state.\n2. side_effect=iterable returns function items without executing them,\n   but we weren't hitting this due to the bug fixed in this patch.\n\nCloses-Bug: #1821373\nChange-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6\n(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)\n(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)\n(cherry picked from commit 4540cd6ef9731837cf4ed1e56850bcfa3512ae1c)\n""}]",0,659320,f9c2503609bfad0b871d9e87227aa2bb5c137467,25,10,2,9555,,,0,"Fix retry of instance_update_and_get_original

_instance_update modifies its 'values' argument. Consequently if it is
retried due to an update conflict, the second invocation has the wrong
arguments.

A specific issue this causes is that if we called it with
expected_task_state a concurrent modification to task_state will cause
us to fail and retry. However, expected_task_state will have been popped
from values on the first invocation and will not be present for the
second. Consequently the second invocation will fail to perform the
task_state check and therefore succeed, resulting in a race.

We rewrite the old race unit test which wasn't testing the correct
thing for 2 reasons:

1. Due to the bug fixed in this patch, although we were calling
   update_on_match() twice, the second call didn't check the task state.
2. side_effect=iterable returns function items without executing them,
   but we weren't hitting this due to the bug fixed in this patch.

Closes-Bug: #1821373
Change-Id: I01c63e685113bf30e687ccb14a4d18e344b306f6
(cherry picked from commit aae5c7aa3819ad9161fd2effed3872d540099230)
(cherry picked from commit 61fef49b1555c6509398fc47c21319c1b5e50505)
(cherry picked from commit 4540cd6ef9731837cf4ed1e56850bcfa3512ae1c)
",git fetch https://review.opendev.org/openstack/nova refs/changes/20/659320/2 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/db/test_db_api.py', 'nova/db/sqlalchemy/api.py']",2,24eebc26078607ad9765e1487ccd832d19037754,bug1821373," # NOTE(mdbooth): We pop values from this dict below, so we copy it here to # ensure there are no side effects for the caller or if we retry the # function due to a db conflict. updates = copy.copy(values) if expected_field in updates: value = updates.pop(expected_field, None) metadata = updates.pop('metadata', None) system_metadata = updates.pop('system_metadata', None) _handle_objects_related_type_conversions(updates) if 'hostname' in updates: _validate_unique_server_name(context, updates['hostname']) update_on_match(compare, 'uuid', updates)"," if expected_field in values: value = values.pop(expected_field, None) metadata = values.pop('metadata', None) system_metadata = values.pop('system_metadata', None) _handle_objects_related_type_conversions(values) if 'hostname' in values: _validate_unique_server_name(context, values['hostname']) update_on_match(compare, 'uuid', values)",56,21
openstack%2Fnova~stable%2Fqueens~I34a3f8d4a496217eb01790e2d124111625bf5f85,openstack/nova,stable/queens,I34a3f8d4a496217eb01790e2d124111625bf5f85,Fix {min|max}_version in ironic Adapter setup,MERGED,2019-04-30 14:49:59.000000000,2019-07-01 20:34:02.000000000,2019-07-01 20:34:01.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14070}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-04-30 14:49:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/9477c761cced10ff947b424809f31fd79580289d', 'message': 'Fix {min|max}_version in ironic Adapter setup\n\nChange If625411f40be0ba642baeb02950f568f43673655 introduced\nnova.utils.get_ksa_adapter, which accepts min_version and max_version\nkwargs to be passed through to the ksa Adapter constructor. These are\nsupposed to represent minimum and maximum *major* API versions,\nmin_version was erroneously set to *microversions* when setting up the\nAdapter for ironicclient. This commit changes it to a major version.\n(Microversion negotiation is done within ironicclient itself.)\n\nAlso, this bug went latent for several releases because a) it only seems\nto be triggered when region_name is given in the conf; but also b)\nironicclient has code to discover a reasonable endpoint if passed None.\nSo this change also adds a warning log if we try and fail to discover\nthe endpoint via ksa.\n\nConflicts:\n\tnova/tests/unit/virt/ironic/test_client_wrapper.py\nThis was just because the old microversion was 1.37 instead of 1.38. The\npatch still changes it to 1.0.\n\nChange-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85\nCloses-Bug: #1825583\n(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)\n(cherry picked from commit e6ca3838d940dea417cdeffe22c656d222737a7e)\n'}, {'number': 2, 'created': '2019-04-30 21:19:41.000000000', 'files': ['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/ba3ad2d65af20332e768a6df0e2c2d64292f9e2c', 'message': 'Fix {min|max}_version in ironic Adapter setup\n\nChange If625411f40be0ba642baeb02950f568f43673655 introduced\nnova.utils.get_ksa_adapter, which accepts min_version and max_version\nkwargs to be passed through to the ksa Adapter constructor. These are\nsupposed to represent minimum and maximum *major* API versions,\nmin_version was erroneously set to *microversions* when setting up the\nAdapter for ironicclient. This commit changes it to a major version.\n(Microversion negotiation is done within ironicclient itself.)\n\nAlso, this bug went latent for several releases because a) it only seems\nto be triggered when region_name is given in the conf; but also b)\nironicclient has code to discover a reasonable endpoint if passed None.\nSo this change also adds a warning log if we try and fail to discover\nthe endpoint via ksa.\n\nConflicts:\n\tnova/tests/unit/virt/ironic/test_client_wrapper.py\nThis was just because the old microversion was 1.37 instead of 1.38. The\npatch still changes it to 1.0.\n\nChange-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85\nCloses-Bug: #1825583\n(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)\n(cherry picked from commit 35bda4ec385e4c2b3d4cee07467f5077b13b1dd9)\n'}]",3,656523,ba3ad2d65af20332e768a6df0e2c2d64292f9e2c,18,9,2,14070,,,0,"Fix {min|max}_version in ironic Adapter setup

Change If625411f40be0ba642baeb02950f568f43673655 introduced
nova.utils.get_ksa_adapter, which accepts min_version and max_version
kwargs to be passed through to the ksa Adapter constructor. These are
supposed to represent minimum and maximum *major* API versions,
min_version was erroneously set to *microversions* when setting up the
Adapter for ironicclient. This commit changes it to a major version.
(Microversion negotiation is done within ironicclient itself.)

Also, this bug went latent for several releases because a) it only seems
to be triggered when region_name is given in the conf; but also b)
ironicclient has code to discover a reasonable endpoint if passed None.
So this change also adds a warning log if we try and fail to discover
the endpoint via ksa.

Conflicts:
	nova/tests/unit/virt/ironic/test_client_wrapper.py
This was just because the old microversion was 1.37 instead of 1.38. The
patch still changes it to 1.0.

Change-Id: I34a3f8d4a496217eb01790e2d124111625bf5f85
Closes-Bug: #1825583
(cherry picked from commit 13278be9f265e237fc68ee60acfacaa1df68522e)
(cherry picked from commit 35bda4ec385e4c2b3d4cee07467f5077b13b1dd9)
",git fetch https://review.opendev.org/openstack/nova refs/changes/23/656523/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/ironic/client_wrapper.py', 'nova/tests/unit/virt/ironic/test_client_wrapper.py']",2,9477c761cced10ff947b424809f31fd79580289d,bug/1825583," ksa_session='session', min_version=(1, 0), ksa_session='session', min_version=(1, 0),"," ksa_session='session', min_version=(1, 37), ksa_session='session', min_version=(1, 37),",9,3
openstack%2Fnova~stable%2Fqueens~I212ac2b5ccd93e00adb7b9fe102fcb70857c6073,openstack/nova,stable/queens,I212ac2b5ccd93e00adb7b9fe102fcb70857c6073,xenapi/agent: Change openssl error handling,MERGED,2019-04-29 12:53:53.000000000,2019-07-01 20:33:55.000000000,2019-07-01 20:33:55.000000000,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 12898}, {'_account_id': 16128}, {'_account_id': 22348}, {'_account_id': 26515}, {'_account_id': 27679}]","[{'number': 1, 'created': '2019-04-29 12:53:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/e0648571d6338bad3ef8b8eb14e92cb6bbbc8111', 'message': 'xenapi/agent: Change openssl error handling\n\nPrior to this patch, if the openssl command returned a zero exit code\nand wrote details to stderr, nova would raise a RuntimeError exception.\nThis patch changes the behavior to only raise a RuntimeError exception\nwhen openssl returns a non-zero exit code. Regardless of the exit code\na warning will always be logged with stderr details if stderr is not\nNone. Note that processutils.execute will now raise a\nprocessutils.ProcessExecutionError exception for any non-zero exit code\nsince we are passing check_exit_code=True, which we convert to a\nRuntime error.\n\nThanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried\n<openstack@fried.cc> for helping with this patch.\n\nConflicts:\n    nova/virt/xenapi/agent.py\n\nChange-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073\nPartial-Bug: #1771506\n(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)\n(cherry picked from commit 1df6036b081aa2fb6ec2040c31c959cfccdfd0b8)\n'}, {'number': 2, 'created': '2019-04-29 12:56:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/d041a4b31fad710ca1a0657e90def288182166c4', 'message': 'xenapi/agent: Change openssl error handling\n\nPrior to this patch, if the openssl command returned a zero exit code\nand wrote details to stderr, nova would raise a RuntimeError exception.\nThis patch changes the behavior to only raise a RuntimeError exception\nwhen openssl returns a non-zero exit code. Regardless of the exit code\na warning will always be logged with stderr details if stderr is not\nNone. Note that processutils.execute will now raise a\nprocessutils.ProcessExecutionError exception for any non-zero exit code\nsince we are passing check_exit_code=True, which we convert to a\nRuntime error.\n\nThanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried\n<openstack@fried.cc> for helping with this patch.\n\nConflicts:\n    nova/virt/xenapi/agent.py\n\nChange-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073\nPartial-Bug: #1771506\n(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)\n(cherry picked from commit 64793cf6f77c5ba7c9ea51662d936c7545ffce8c)\n'}, {'number': 3, 'created': '2019-04-29 12:59:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/nova/commit/cb81eb2322216cef909bf813fe1cbd4bb2431afc', 'message': 'xenapi/agent: Change openssl error handling\n\nPrior to this patch, if the openssl command returned a zero exit code\nand wrote details to stderr, nova would raise a RuntimeError exception.\nThis patch changes the behavior to only raise a RuntimeError exception\nwhen openssl returns a non-zero exit code. Regardless of the exit code\na warning will always be logged with stderr details if stderr is not\nNone. Note that processutils.execute will now raise a\nprocessutils.ProcessExecutionError exception for any non-zero exit code\nsince we are passing check_exit_code=True, which we convert to a\nRuntime error.\n\nThanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried\n<openstack@fried.cc> for helping with this patch.\n\nConflicts:\n    nova/virt/xenapi/agent.py\n\nChange-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073\nPartial-Bug: #1771506\n(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)\n(cherry picked from commit 64793cf6f77c5ba7c9ea51662d936c7545ffce8c)\n(cherry picked from commit 82de38ad4ce86c5398538a8635713a86407216d0)\n'}, {'number': 4, 'created': '2019-04-30 13:08:13.000000000', 'files': ['nova/virt/xenapi/agent.py', 'nova/tests/unit/virt/xenapi/test_agent.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5b0adaa0ca5f757bb224d1ffac0c6705b03ee2ed', 'message': 'xenapi/agent: Change openssl error handling\n\nPrior to this patch, if the openssl command returned a zero exit code\nand wrote details to stderr, nova would raise a RuntimeError exception.\nThis patch changes the behavior to only raise a RuntimeError exception\nwhen openssl returns a non-zero exit code. Regardless of the exit code\na warning will always be logged with stderr details if stderr is not\nNone. Note that processutils.execute will now raise a\nprocessutils.ProcessExecutionError exception for any non-zero exit code\nsince we are passing check_exit_code=True, which we convert to a\nRuntime error.\n\nThanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried\n<openstack@fried.cc> for helping with this patch.\n\nConflicts:\n    nova/virt/xenapi/agent.py\n\nNOTE(coreycb): The conflict is due to\nIbe2f478288db42f8168b52dfc14d85ab92ace74b not being in stable/queens.\n\nChange-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073\nPartial-Bug: #1771506\n(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)\n(cherry picked from commit 64793cf6f77c5ba7c9ea51662d936c7545ffce8c)\n(cherry picked from commit 82de38ad4ce86c5398538a8635713a86407216d0)\n'}]",1,656308,5b0adaa0ca5f757bb224d1ffac0c6705b03ee2ed,19,8,4,11805,,,0,"xenapi/agent: Change openssl error handling

Prior to this patch, if the openssl command returned a zero exit code
and wrote details to stderr, nova would raise a RuntimeError exception.
This patch changes the behavior to only raise a RuntimeError exception
when openssl returns a non-zero exit code. Regardless of the exit code
a warning will always be logged with stderr details if stderr is not
None. Note that processutils.execute will now raise a
processutils.ProcessExecutionError exception for any non-zero exit code
since we are passing check_exit_code=True, which we convert to a
Runtime error.

Thanks to Dimitri John Ledkov <xnox@ubuntu.com> and Eric Fried
<openstack@fried.cc> for helping with this patch.

Conflicts:
    nova/virt/xenapi/agent.py

NOTE(coreycb): The conflict is due to
Ibe2f478288db42f8168b52dfc14d85ab92ace74b not being in stable/queens.

Change-Id: I212ac2b5ccd93e00adb7b9fe102fcb70857c6073
Partial-Bug: #1771506
(cherry picked from commit 1da71fa4ab1d7d0f580cd5cbc97f2dfd2e1c378a)
(cherry picked from commit 64793cf6f77c5ba7c9ea51662d936c7545ffce8c)
(cherry picked from commit 82de38ad4ce86c5398538a8635713a86407216d0)
",git fetch https://review.opendev.org/openstack/nova refs/changes/08/656308/3 && git format-patch -1 --stdout FETCH_HEAD,"['nova/virt/xenapi/agent.py', 'nova/tests/unit/virt/xenapi/test_agent.py']",2,e0648571d6338bad3ef8b8eb14e92cb6bbbc8111,bug/1771506,"from oslo_concurrency import processutils @mock.patch('oslo_concurrency.processutils.execute') def test_run_ssl_successful(self, mock_execute): mock_execute.return_value = ('0', '*** WARNING : deprecated key derivation used.' 'Using -iter or -pbkdf2 would be better.') agent.SimpleDH()._run_ssl('foo') @mock.patch('oslo_concurrency.processutils.execute', side_effect=processutils.ProcessExecutionError( exit_code=1, stderr=('ERROR: Something bad happened'))) def test_run_ssl_failure(self, mock_execute): self.assertRaises(RuntimeError, agent.SimpleDH()._run_ssl, 'foo') ",,27,5
openstack%2Fnova~stable%2Fqueens~Ibfedcb8814437c53081f5a2993ab84b25d73e557,openstack/nova,stable/queens,Ibfedcb8814437c53081f5a2993ab84b25d73e557,Stop logging traceback when skipping quiesce,MERGED,2019-05-21 09:54:39.000000000,2019-07-01 20:27:48.000000000,2019-07-01 20:27:48.000000000,"[{'_account_id': 4690}, {'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 12898}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-05-21 09:54:39.000000000', 'files': ['nova/compute/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/0cad3089d3e84e8e3436e171d00c8cce8717fd6d', 'message': ""Stop logging traceback when skipping quiesce\n\nDuring snapshot of a volume-backed instance, we attempt to quiesce the\ninstance before doing the snapshot. If quiesce is not supported or the\nqemu guest agent is not enabled, we will skip the quiesce and move on\nto the snapshot.\n\nBecause quiesce is a call to nova-compute over RPC, when the libvirt\ndriver raises QemuGuestAgentNotEnabled, oslo.messaging will append the\nfull traceback to the exception message [1] for the remote caller. So,\na LOG.info(..., exp) log of the exception object will result in a log\nof the full traceback. Logging of the full traceback causes confusion\nfor those debugging CI failures.\n\nWe would rather not log the full traceback in this case where we are\ncatching the exception and emitting an INFO message, so we should use\nexp.format_message() instead of oslo.messaging's __str__ override.\n\n[1] https://github.com/openstack/oslo.messaging/blob/40c25c2/oslo_messaging/_drivers/common.py#L212\n\nRelated-Bug: #1824315\n\nChange-Id: Ibfedcb8814437c53081f5a2993ab84b25d73e557\n(cherry picked from commit 66070416ab670daf4734f2c30ad2df5d96e615e6)\n(cherry picked from commit 2f7b1031a9b80d15052fcd9b22831f1db0486a4a)\n(cherry picked from commit b9caf7d9c7423a658c837aaedb7c4fb3580bda47)\n""}]",0,660328,0cad3089d3e84e8e3436e171d00c8cce8717fd6d,10,7,1,10135,,,0,"Stop logging traceback when skipping quiesce

During snapshot of a volume-backed instance, we attempt to quiesce the
instance before doing the snapshot. If quiesce is not supported or the
qemu guest agent is not enabled, we will skip the quiesce and move on
to the snapshot.

Because quiesce is a call to nova-compute over RPC, when the libvirt
driver raises QemuGuestAgentNotEnabled, oslo.messaging will append the
full traceback to the exception message [1] for the remote caller. So,
a LOG.info(..., exp) log of the exception object will result in a log
of the full traceback. Logging of the full traceback causes confusion
for those debugging CI failures.

We would rather not log the full traceback in this case where we are
catching the exception and emitting an INFO message, so we should use
exp.format_message() instead of oslo.messaging's __str__ override.

[1] https://github.com/openstack/oslo.messaging/blob/40c25c2/oslo_messaging/_drivers/common.py#L212

Related-Bug: #1824315

Change-Id: Ibfedcb8814437c53081f5a2993ab84b25d73e557
(cherry picked from commit 66070416ab670daf4734f2c30ad2df5d96e615e6)
(cherry picked from commit 2f7b1031a9b80d15052fcd9b22831f1db0486a4a)
(cherry picked from commit b9caf7d9c7423a658c837aaedb7c4fb3580bda47)
",git fetch https://review.opendev.org/openstack/nova refs/changes/28/660328/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/compute/api.py'],1,0cad3089d3e84e8e3436e171d00c8cce8717fd6d,bug/1824315," if isinstance(err, exception.NovaException): {'reason': err.format_message()}, else: LOG.info('Skipping quiescing instance because the ' 'operation is not supported by the underlying ' 'compute driver.', instance=instance)"," else: {'reason': err},",7,2
openstack%2Fkeystoneauth~master~I0e4ec9d2b2e283beae6332923f44806ad7add9f8,openstack/keystoneauth,master,I0e4ec9d2b2e283beae6332923f44806ad7add9f8,Add Python 3 Train unit tests,MERGED,2019-06-26 22:44:24.000000000,2019-07-01 20:12:21.000000000,2019-07-01 20:12:21.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-26 22:44:24.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/keystoneauth/commit/92ec14c66b5aa0762ecf0b313b53def4a17d45b1', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0e4ec9d2b2e283beae6332923f44806ad7add9f8\nStory: #2005924\nTask: #34215\n'}]",0,667747,92ec14c66b5aa0762ecf0b313b53def4a17d45b1,8,4,1,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0e4ec9d2b2e283beae6332923f44806ad7add9f8
Story: #2005924
Task: #34215
",git fetch https://review.opendev.org/openstack/keystoneauth refs/changes/47/667747/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,92ec14c66b5aa0762ecf0b313b53def4a17d45b1,python3-train,"envlist = py27,py37,pep8,releasenotes","envlist = py37,py36,py27,pep8,releasenotes",2,3
openstack%2Fpython-keystoneclient~master~I88c28ddf9601bb7b69b663a44562ab2c118050de,openstack/python-keystoneclient,master,I88c28ddf9601bb7b69b663a44562ab2c118050de,Add Python 3 Train unit tests,MERGED,2019-06-26 23:31:58.000000000,2019-07-01 20:02:55.000000000,2019-07-01 20:02:55.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-26 23:31:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/4abeeff52eac21aefbc99818cc8b15a4ef7de57c', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I88c28ddf9601bb7b69b663a44562ab2c118050de\nStory: #2005924\nTask: #34215\n'}, {'number': 2, 'created': '2019-06-28 06:36:36.000000000', 'files': ['.zuul.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/890d3a10ad1b8ad822c975bb1366fc8f98eafc00', 'message': 'Add Python 3 Train unit tests\n\nThis is a mechanically generated patch to ensure unit testing is in place\nfor all of the Tested Runtimes for Train.\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I88c28ddf9601bb7b69b663a44562ab2c118050de\nStory: #2005924\nTask: #34215\n'}]",0,667758,890d3a10ad1b8ad822c975bb1366fc8f98eafc00,10,4,2,11805,,,0,"Add Python 3 Train unit tests

This is a mechanically generated patch to ensure unit testing is in place
for all of the Tested Runtimes for Train.

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I88c28ddf9601bb7b69b663a44562ab2c118050de
Story: #2005924
Task: #34215
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/58/667758/2 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'tox.ini']",2,4abeeff52eac21aefbc99818cc8b15a4ef7de57c,python3-train,"envlist = py27,py37,pep8,releasenotes","envlist = py37,py36,py27,pep8,releasenotes",3,4
openstack%2Fpython-keystoneclient~master~I822e1195532df2b701f10087cabceda458211986,openstack/python-keystoneclient,master,I822e1195532df2b701f10087cabceda458211986,Follow bandit B105: hardcoded_password_string,MERGED,2019-06-25 09:39:36.000000000,2019-07-01 20:02:54.000000000,2019-07-01 20:02:54.000000000,"[{'_account_id': 5046}, {'_account_id': 8482}, {'_account_id': 22348}, {'_account_id': 27621}]","[{'number': 1, 'created': '2019-06-25 09:39:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/5beffd9563fb09f53722727a7f6f49422f8946a5', 'message': ""Follow bandit B105: hardcoded_password_string\n\ntox -e bandit failing due to the string 'token'\nin [1]. According to the bandit 105 any password\nassigned to a string should not contain any of the\nvariables in [2]\n\n[1]https://github.com/openstack/python-keystoneclient/blob/master/keystoneclient/common/cms.py#L41\n[2]https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nChange-Id: I822e1195532df2b701f10087cabceda458211986\n""}, {'number': 2, 'created': '2019-06-26 10:36:07.000000000', 'files': ['keystoneclient/common/cms.py'], 'web_link': 'https://opendev.org/openstack/python-keystoneclient/commit/7b7d81d09e4168a901cf14eb78f33d5725a75875', 'message': ""Follow bandit B105: hardcoded_password_string\n\ntox -e bandit failing due to the string 'token'\nin [1]. According to the bandit 105 any password\nassigned to a string should not contain any of the\nvariables in [2]\n\n[1]https://github.com/openstack/python-keystoneclient/blob/master/keystoneclient/common/cms.py#L41\n[2]https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nChange-Id: I822e1195532df2b701f10087cabceda458211986\n""}]",0,667304,7b7d81d09e4168a901cf14eb78f33d5725a75875,11,4,2,27621,,,0,"Follow bandit B105: hardcoded_password_string

tox -e bandit failing due to the string 'token'
in [1]. According to the bandit 105 any password
assigned to a string should not contain any of the
variables in [2]

[1]https://github.com/openstack/python-keystoneclient/blob/master/keystoneclient/common/cms.py#L41
[2]https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Change-Id: I822e1195532df2b701f10087cabceda458211986
",git fetch https://review.opendev.org/openstack/python-keystoneclient refs/changes/04/667304/1 && git format-patch -1 --stdout FETCH_HEAD,['keystoneclient/common/cms.py'],1,5beffd9563fb09f53722727a7f6f49422f8946a5,667304,DEFAULT_DIGEST_ALGORITHM = 'sha256' message_digest=DEFAULT_DIGEST_ALGORITHM): message_digest=DEFAULT_DIGEST_ALGORITHM): message_digest=DEFAULT_DIGEST_ALGORITHM): message_digest=DEFAULT_DIGEST_ALGORITHM):,DEFAULT_TOKEN_DIGEST_ALGORITHM = 'sha256' message_digest=DEFAULT_TOKEN_DIGEST_ALGORITHM): message_digest=DEFAULT_TOKEN_DIGEST_ALGORITHM): message_digest=DEFAULT_TOKEN_DIGEST_ALGORITHM): message_digest=DEFAULT_TOKEN_DIGEST_ALGORITHM):,5,5
openstack%2Fnetworking-ovn~master~I7959704e9400c173139f47f2c8e9150e629560b9,openstack/networking-ovn,master,I7959704e9400c173139f47f2c8e9150e629560b9,Adapt WaitForMACBindingDeleteEvent to use WaitEvent,MERGED,2019-05-29 15:39:16.000000000,2019-07-01 20:02:17.000000000,2019-07-01 20:02:17.000000000,"[{'_account_id': 5756}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-05-29 15:39:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/228c1db80a355166c05970354d7bcd076b2a93b5', 'message': 'Adopt WaitForMACBindingDeleteEvent to use WaitEvent\n\nWaitForMACBindingDeleteEvent is also a copy and can adopt from ovsdbapp\n\nChange-Id: I7959704e9400c173139f47f2c8e9150e629560b9\n'}, {'number': 2, 'created': '2019-05-29 16:04:34.000000000', 'files': ['networking_ovn/tests/functional/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5fae1c3b1a19470616ae3e9e43a6a1c50c25d64b', 'message': 'Adapt WaitForMACBindingDeleteEvent to use WaitEvent\n\nWaitForMACBindingDeleteEvent is also a copy and can adopt from ovsdbapp\n\nChange-Id: I7959704e9400c173139f47f2c8e9150e629560b9\n'}]",4,662023,5fae1c3b1a19470616ae3e9e43a6a1c50c25d64b,23,6,2,8655,,,0,"Adapt WaitForMACBindingDeleteEvent to use WaitEvent

WaitForMACBindingDeleteEvent is also a copy and can adopt from ovsdbapp

Change-Id: I7959704e9400c173139f47f2c8e9150e629560b9
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/23/662023/2 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/tests/functional/test_ovsdb_monitor.py'],1,228c1db80a355166c05970354d7bcd076b2a93b5,ovsdbapp-adoption,"class WaitForMACBindingDeleteEvent(event.WaitEvent): events, table, conditions, timeout=15)","class WaitForMACBindingDeleteEvent(event.RowEvent): # TODO(dalvarez): Use WaitEvent from ovsdbapp once this patch # https://review.openstack.org/#/c/613121 merges. ONETIME = True self.event = threading.Event() self.timeout = 15 events, table, conditions) def run(self, event, row, old): self.event.set() def wait(self): return self.event.wait(self.timeout)",2,13
openstack%2Fdesignate~master~Id802d981de5577a54ff1b5b71e9e134d1175bbf4,openstack/designate,master,Id802d981de5577a54ff1b5b71e9e134d1175bbf4,Change configuration to be consistent with underlines,MERGED,2019-06-10 02:03:53.000000000,2019-07-01 19:27:06.000000000,2019-07-01 19:27:06.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}, {'_account_id': 30596}]","[{'number': 1, 'created': '2019-06-10 02:03:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/c83fde577766e375f000bbff727dcaed2b260c97', 'message': 'Change configuration to be consitent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 2, 'created': '2019-06-10 02:09:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/d555327a2064bd48570719dff4a533b36eb550b1', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 3, 'created': '2019-06-11 19:38:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/7fe219d34c84c066649ca0f0738d9fdabff11b29', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 4, 'created': '2019-06-11 19:44:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/4fe71d1f9d58ecdc1f7d432edab4137f41defd49', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 5, 'created': '2019-06-14 02:40:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8c8c92a20cc18552d13ecae6cd7f1ddc08343306', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 6, 'created': '2019-06-18 19:51:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/edacd3cfa0e90ccb7217ad6791f8e470b55bacdc', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 7, 'created': '2019-06-24 00:57:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/2bf9832f320871175847c126d33a4cefbc0412f8', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}, {'number': 8, 'created': '2019-06-27 18:14:01.000000000', 'files': ['designate/conf/mdns.py', 'designate/conf/pool_manager.py', 'designate/conf/sink.py', 'designate/conf/producer.py', 'designate/conf/djbdns.py', 'designate/conf/agent.py', 'designate/conf/api.py', 'designate/conf/knot2.py', 'designate/conf/worker.py', 'designate/conf/base.py', 'designate/conf/bind9.py', 'designate/conf/gdnsd.py', 'designate/conf/central.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/c5bc8947814b57de9b9bae9c67a201bb59d30ae8', 'message': 'Change configuration to be consistent with underlines\n\nThis patch simply changes all configuration names to\nconsitently use underlines over dashes to make it\neasier to search the code.\n\nChange-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4\n'}]",0,664182,c5bc8947814b57de9b9bae9c67a201bb59d30ae8,25,4,8,22623,,,0,"Change configuration to be consistent with underlines

This patch simply changes all configuration names to
consitently use underlines over dashes to make it
easier to search the code.

Change-Id: Id802d981de5577a54ff1b5b71e9e134d1175bbf4
",git fetch https://review.opendev.org/openstack/designate refs/changes/82/664182/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/conf/mdns.py', 'designate/conf/pool_manager.py', 'designate/conf/sink.py', 'designate/conf/producer.py', 'designate/conf/djbdns.py', 'designate/conf/agent.py', 'designate/conf/api.py', 'designate/conf/knot2.py', 'designate/conf/worker.py', 'designate/conf/base.py', 'designate/conf/bind9.py', 'designate/conf/gdnsd.py', 'designate/conf/central.py']",13,c83fde577766e375f000bbff727dcaed2b260c97,config_improvements," cfg.StrOpt('storage_driver', default='sqlalchemy', cfg.ListOpt('enabled_notification_handlers', default=[],"," cfg.StrOpt('storage-driver', default='sqlalchemy', cfg.ListOpt('enabled-notification-handlers', default=[],",94,94
openstack%2Fansible-role-redhat-subscription~master~Ide4d3679cbf1ec4de1200db32083ba6115678f0d,openstack/ansible-role-redhat-subscription,master,Ide4d3679cbf1ec4de1200db32083ba6115678f0d,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:42:41.000000000,2019-07-01 18:44:11.000000000,,[],"[{'number': 1, 'created': '2019-07-01 18:42:41.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/c969bdad142b13f88834d152c1fc7aeb4732ef10', 'message': ""Force to use markdown to prevent pypi issue\n\nRecently the pypi team have reintroduce some deactivated tests\non package deployment and especially tests concerning long_description\nsyntaxe.\n\nIf projects don't specify that they use the markdown format the\npackage deployment will fail if something went wrong in the markdown format.\n\nBy example if a project use inline literal this can be an issue due to\nthe fact that if `long_description_content_type` is missing [1]. The\ndefault format will be `text/x-rst` where code block is different from\nmarkdown.\n\nThese changes force to use the markdown format to avoid this kind of issue\non project who use `README` at markdown format.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html\n\nFor more details:\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: Ide4d3679cbf1ec4de1200db32083ba6115678f0d\n""}]",0,668541,c969bdad142b13f88834d152c1fc7aeb4732ef10,2,0,1,28522,,,0,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ide4d3679cbf1ec4de1200db32083ba6115678f0d
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/41/668541/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,c969bdad142b13f88834d152c1fc7aeb4732ef10,format-markdown,long_description_content_type = text/markdown,,1,0
openstack%2Fopenstack-helm-addons~master~I731b7d03c9699db0fcab61439479796617ebff2a,openstack/openstack-helm-addons,master,I731b7d03c9699db0fcab61439479796617ebff2a,fix(sonobuoy): only add apparmor for results-publisher when publishing,MERGED,2019-06-19 21:31:02.000000000,2019-07-01 18:40:56.000000000,2019-07-01 18:40:56.000000000,"[{'_account_id': 8898}, {'_account_id': 17591}, {'_account_id': 22348}, {'_account_id': 28618}]","[{'number': 1, 'created': '2019-06-19 21:31:02.000000000', 'files': ['sonobuoy/templates/pod-api.yaml', 'tools/gate/scripts/sonobuoy.sh'], 'web_link': 'https://opendev.org/openstack/openstack-helm-addons/commit/d0100055af201e9c61f160686bd76aebe9132646', 'message': ""fix(sonobuoy): only add apparmor for results-publisher when publishing\n\nBefore, if conf.publish_results was false then Helm would fail to\ninstall the Sonobuoy chart because the apparmor annotation was being\nadded for the results-publisher container, but the container didn't\nactually exist because it was disabled.\n\nNow, the apparmor annotation is only included for the results-publisher\ncontainer when conf.publish_results is true.\n\nChange-Id: I731b7d03c9699db0fcab61439479796617ebff2a\n""}]",0,666451,d0100055af201e9c61f160686bd76aebe9132646,8,4,1,28701,,,0,"fix(sonobuoy): only add apparmor for results-publisher when publishing

Before, if conf.publish_results was false then Helm would fail to
install the Sonobuoy chart because the apparmor annotation was being
added for the results-publisher container, but the container didn't
actually exist because it was disabled.

Now, the apparmor annotation is only included for the results-publisher
container when conf.publish_results is true.

Change-Id: I731b7d03c9699db0fcab61439479796617ebff2a
",git fetch https://review.opendev.org/openstack/openstack-helm-addons refs/changes/51/666451/1 && git format-patch -1 --stdout FETCH_HEAD,"['sonobuoy/templates/pod-api.yaml', 'tools/gate/scripts/sonobuoy.sh']",2,d0100055af201e9c61f160686bd76aebe9132646,, --set manifests.serviceaccount_readonly=true \ --set conf.publish_results=false, --set manifests.serviceaccount_readonly=true,7,2
openstack%2Fkuryr-kubernetes~master~Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5,openstack/kuryr-kubernetes,master,Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5,Ensure correct exception is catched in case of not found exception,MERGED,2019-06-28 12:37:27.000000000,2019-07-01 18:38:16.000000000,2019-07-01 18:38:16.000000000,"[{'_account_id': 11600}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 27032}]","[{'number': 1, 'created': '2019-06-28 12:37:27.000000000', 'files': ['kuryr_kubernetes/controller/drivers/network_policy.py'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/3e3c9b8dd5929403f13753673e98a688975ee2d4', 'message': 'Ensure correct exception is catched in case of not found exception\n\nWe are trying to catch a Neutron exception for a Kubernetes call.\nThis patch adds the correct handling in case a Kubernetes exception\nis raised.\n\nChange-Id: Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5\n'}]",0,668165,3e3c9b8dd5929403f13753673e98a688975ee2d4,20,5,1,27032,,,0,"Ensure correct exception is catched in case of not found exception

We are trying to catch a Neutron exception for a Kubernetes call.
This patch adds the correct handling in case a Kubernetes exception
is raised.

Change-Id: Ibebf62a3b49f40b148b35cc6ef8c90789daa46f5
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/65/668165/1 && git format-patch -1 --stdout FETCH_HEAD,['kuryr_kubernetes/controller/drivers/network_policy.py'],1,3e3c9b8dd5929403f13753673e98a688975ee2d4,fix-wrong-exception-handled," except exceptions.K8sResourceNotFound: LOG.debug(""KuryrNetPolicy CRD Object not found: %s"", netpolicy_crd_name)"," except n_exc.NotFound: LOG.debug(""KuryrNetPolicy CRD Object not found: %s"", netpolicy_crd_name)",3,3
openstack%2Fnova~master~Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0,openstack/nova,master,Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0,Use errors_out_migration decorator on finish_resize,MERGED,2019-03-05 21:59:09.000000000,2019-07-01 18:34:24.000000000,2019-03-29 00:14:55.000000000,"[{'_account_id': 782}, {'_account_id': 6167}, {'_account_id': 6873}, {'_account_id': 9008}, {'_account_id': 9555}, {'_account_id': 10118}, {'_account_id': 14070}, {'_account_id': 14384}, {'_account_id': 14595}, {'_account_id': 15941}, {'_account_id': 16128}, {'_account_id': 16376}, {'_account_id': 22348}, {'_account_id': 23498}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-03-05 21:59:09.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/08eaba7db861fb427b2ce7c3a7ac3c97887eeef3', 'message': ""Use errors_out_migration decorator on finish_resize\n\nThis replaces the errors_out_migration_ctxt usage with the\nerrors_out_migration decorator which does the same thing. Note\nthat I9bcc1605945ddc35df2288be72e194c050b8ddd9 originally changed\nhow migration status error handling worked but at this point they\nare the same and if *anything* fails in finish_resize then the\nmigration status should be 'error' rather than just if part of it\nfails.\n\nChange-Id: Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0\n""}]",7,641138,08eaba7db861fb427b2ce7c3a7ac3c97887eeef3,32,15,1,6873,,,0,"Use errors_out_migration decorator on finish_resize

This replaces the errors_out_migration_ctxt usage with the
errors_out_migration decorator which does the same thing. Note
that I9bcc1605945ddc35df2288be72e194c050b8ddd9 originally changed
how migration status error handling worked but at this point they
are the same and if *anything* fails in finish_resize then the
migration status should be 'error' rather than just if part of it
fails.

Change-Id: Id6c0a0ee41520dd974052d7cdd17ca35d688f6b0
",git fetch https://review.opendev.org/openstack/nova refs/changes/38/641138/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,08eaba7db861fb427b2ce7c3a7ac3c97887eeef3,neutronapi-migrate-instance-finish," @errors_out_migration with self._error_out_instance_on_exception(context, instance):"," with self._error_out_instance_on_exception(context, instance), \ errors_out_migration_ctxt(migration):",4,4
openstack%2Fpuppet-nova~stable%2Fstein~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,stable/stein,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-07-01 12:40:55.000000000,2019-07-01 18:32:06.000000000,2019-07-01 18:32:06.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-01 12:40:55.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/e0cfbc5c11a33199e4e3d3491f7fa354e5520f29', 'message': 'Escape date command parameter\n\nFixed `date` command parameter by escaping %\nin `nova-manage db purge` command.\n\nChange-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f\n(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)\n'}]",0,668453,e0cfbc5c11a33199e4e3d3491f7fa354e5520f29,10,6,1,20733,,,0,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/53/668453/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb']",2,e0cfbc5c11a33199e4e3d3491f7fa354e5520f29,escape_date_arg," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` --verbose --all-cells >>#{params[:destination]} 2>&1"","," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose --all-cells >>#{params[:destination]} 2>&1"",",4,4
openstack%2Ftripleo-common~master~Ia20e7907c3a60727d9402bbec1456eedc7970a51,openstack/tripleo-common,master,Ia20e7907c3a60727d9402bbec1456eedc7970a51,Adds tox environment to test requirements conflicts,MERGED,2019-07-01 13:24:03.000000000,2019-07-01 18:26:56.000000000,2019-07-01 18:26:56.000000000,"[{'_account_id': 3153}, {'_account_id': 8175}, {'_account_id': 8449}, {'_account_id': 9976}, {'_account_id': 10022}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-07-01 13:24:03.000000000', 'files': ['test-requirements.txt', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/1111d4ad0dc935f5524394a2a3b2b3a3e0ccf538', 'message': 'Adds tox environment to test requirements conflicts\n\nEnables developer to check requirements for conflicts instead of letting\nhim wondering clueless about a Zuul job failure.\n\nAlso fixes broken requirements-check job due to sphinx conflict:\n\nERROR: Could not find a global requirements entry to match package sphinx. If the package is already included in the global list, the name or platform markers there may not match the local settings.\n\nChange-Id: Ia20e7907c3a60727d9402bbec1456eedc7970a51\n'}]",0,668460,1111d4ad0dc935f5524394a2a3b2b3a3e0ccf538,9,9,1,24162,,,0,"Adds tox environment to test requirements conflicts

Enables developer to check requirements for conflicts instead of letting
him wondering clueless about a Zuul job failure.

Also fixes broken requirements-check job due to sphinx conflict:

ERROR: Could not find a global requirements entry to match package sphinx. If the package is already included in the global list, the name or platform markers there may not match the local settings.

Change-Id: Ia20e7907c3a60727d9402bbec1456eedc7970a51
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/60/668460/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'tox.ini']",2,1111d4ad0dc935f5524394a2a3b2b3a3e0ccf538,fix/reqs-check, [testenv:requirements] basepython = python3 deps = -egit+https://opendev.org/openstack/requirements#egg=openstack-requirements whitelist_externals = sh commands = sh -c '{envdir}/src/openstack-requirements/playbooks/files/project-requirements-change.py --req {envdir}/src/openstack-requirements --local {toxinidir} master',,10,1
openstack%2Fnetworking-ovn~master~If06d8580e8e2637b19ff5d76e16f635a5c1d328e,openstack/networking-ovn,master,If06d8580e8e2637b19ff5d76e16f635a5c1d328e,Hash Ring: Make workers health check more reliable,MERGED,2019-06-27 14:56:33.000000000,2019-07-01 18:23:14.000000000,2019-07-01 18:23:14.000000000,"[{'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 24791}]","[{'number': 1, 'created': '2019-06-27 14:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c3f93c909f7f6eb9370e6eafe58e5439c80d61c1', 'message': 'PoC: Hash Ring: Make workers health check more reliable\n\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 2, 'created': '2019-06-27 15:17:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f5502f1f68769f48b6d4d6fe1d52317e62bd3b4b', 'message': 'PoC: Hash Ring: Make workers health check more reliable\n\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 3, 'created': '2019-06-27 15:47:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/103ec5649497777c292b13677308da43352e823d', 'message': 'PoC: Hash Ring: Make workers health check more reliable\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 4, 'created': '2019-06-27 15:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/303463a0082718301aab14d011ef13f8baf45b63', 'message': 'PoC: Hash Ring: Make workers health check more reliable\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 5, 'created': '2019-06-27 20:28:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3d40b691bef5d86f0fad7850f4f45258af251590', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 6, 'created': '2019-06-27 20:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9b383ebeb77e911a0f5834f988dbdefd54a50e7d', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 7, 'created': '2019-07-01 09:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a66af60a112208cf6903a7874d2bf016683a133', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nThe patch also includes unittests for the OvnIdlDistributedLock class\nthat was missing before.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 8, 'created': '2019-07-01 09:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c5936dc1c0907b7bc485eaa974a0babf6aaf724b', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nThe patch also includes unittests for the OvnIdlDistributedLock class\nthat was missing before.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 9, 'created': '2019-07-01 10:25:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/db5608ce7064460a54b6a36022728f5c3c4a9313', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nThe patch also includes unittests for the OvnIdlDistributedLock class\nthat was missing before.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 10, 'created': '2019-07-01 12:34:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/48259a55a2b06ffa5191dc9b9851a74a4c709b28', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nThe patch also includes unittests for the OvnIdlDistributedLock class\nthat was missing before.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}, {'number': 11, 'created': '2019-07-01 12:40:24.000000000', 'files': ['networking_ovn/db/hash_ring.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/db/test_hash_ring.py', 'networking_ovn/ovsdb/ovsdb_monitor.py', 'networking_ovn/tests/unit/ovsdb/test_ovsdb_monitor.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f93638b04233b2baf7590398ae384ccd0f51985e', 'message': 'Hash Ring: Make workers health check more reliable\n\nWhen under pressure the maintenance thread may not honor the time interval\nthat it should run its tasks. For something more sensitive like the task\nthat health checks the nodes from the Hash Ring this can be problematic\nbecause it may cause it to appear that the workers have died and the\nring will get rebalanced; we do not want to have a long interval for it\nbecause in case of a real failure we do want the ring to rebalance fast.\n\nThis patch implements a new approach to enhance the health check of the\nHash Ring workers by allowing the worker to ""touch"" the ring to say that\nits alive.\n\nThe patch also includes unittests for the OvnIdlDistributedLock class\nthat was missing before.\n\nCloses-Bug: #1834498\nChange-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e\nSigned-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>\n'}]",17,667953,f93638b04233b2baf7590398ae384ccd0f51985e,39,5,11,6773,,,0,"Hash Ring: Make workers health check more reliable

When under pressure the maintenance thread may not honor the time interval
that it should run its tasks. For something more sensitive like the task
that health checks the nodes from the Hash Ring this can be problematic
because it may cause it to appear that the workers have died and the
ring will get rebalanced; we do not want to have a long interval for it
because in case of a real failure we do want the ring to rebalance fast.

This patch implements a new approach to enhance the health check of the
Hash Ring workers by allowing the worker to ""touch"" the ring to say that
its alive.

The patch also includes unittests for the OvnIdlDistributedLock class
that was missing before.

Closes-Bug: #1834498
Change-Id: If06d8580e8e2637b19ff5d76e16f635a5c1d328e
Signed-off-by: Lucas Alvares Gomes <lucasagomes@gmail.com>
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/53/667953/11 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/db/hash_ring.py', 'networking_ovn/common/constants.py', 'networking_ovn/common/maintenance.py', 'networking_ovn/tests/unit/db/test_hash_ring.py', 'networking_ovn/ovsdb/ovsdb_monitor.py']",5,c3f93c909f7f6eb9370e6eafe58e5439c80d61c1,bug/1834498,"import datetimefrom oslo_utils import timeutilsfrom networking_ovn.db import hash_ring as db_hash_ring self._last_touch = None # If the worker hasn't been health checked by the maintenance # thread, indicate that it's alive here touch_timeout = timeutils.utcnow() - datetime.timedelta( seconds=constants.HASH_RING_TOUCH_INTERVAL) if not self._last_touch or touch_timeout >= self._last_touch: db_hash_ring.touch_node(self._node_uuid) self._last_touch = timeutils.utcnow() ",,50,6
openstack%2Fproject-config~master~Idc5264b3ed54f49471ce8c35d6622fe472d6f002,openstack/project-config,master,Idc5264b3ed54f49471ce8c35d6622fe472d6f002,Add testing job to zuul-jobs,MERGED,2019-07-01 14:45:59.000000000,2019-07-01 18:14:51.000000000,2019-07-01 18:14:51.000000000,"[{'_account_id': 1}, {'_account_id': 4146}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 14:45:59.000000000', 'files': ['zuul.d/projects.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/26e8124a6f5e99eb83f8599338df07b8c68d9f29', 'message': 'Add testing job to zuul-jobs\n\nAdd a test for the new role install-pdk-dependencies in zuul-jobs.\n\nDepends-On: https://review.opendev.org/668337\nChange-Id: Idc5264b3ed54f49471ce8c35d6622fe472d6f002\n'}]",0,668483,26e8124a6f5e99eb83f8599338df07b8c68d9f29,7,3,1,6547,,,0,"Add testing job to zuul-jobs

Add a test for the new role install-pdk-dependencies in zuul-jobs.

Depends-On: https://review.opendev.org/668337
Change-Id: Idc5264b3ed54f49471ce8c35d6622fe472d6f002
",git fetch https://review.opendev.org/openstack/project-config refs/changes/83/668483/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/projects.yaml'],1,26e8124a6f5e99eb83f8599338df07b8c68d9f29,forge-publish, - zuul-jobs-test-install-pdk-dependencies - zuul-jobs-test-install-pdk-dependencies,,2,0
openstack%2Fcharm-ceph-radosgw~master~Ie0202b05319c1bcab8334f8c8356acca4c96eaf5,openstack/charm-ceph-radosgw,master,Ie0202b05319c1bcab8334f8c8356acca4c96eaf5,Shift ceph-radosgw to constrained instance size,MERGED,2019-07-01 15:21:10.000000000,2019-07-01 18:10:16.000000000,2019-07-01 18:10:16.000000000,"[{'_account_id': 20634}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 15:21:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/a2443f6673971c224789380b2d4e5dc36893ede4', 'message': 'Shift ceph-radosgw to constrained instance size\n\nThis tries to resolve an issue where the CI environment\nplaces instances on machines with swap volumes and\nJuju storage hands off bad information\n\nChange-Id: Ie0202b05319c1bcab8334f8c8356acca4c96eaf5\n'}, {'number': 2, 'created': '2019-07-01 15:22:39.000000000', 'files': ['tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/bionic-queens-multisite.yaml', 'tests/bundles/bionic-rocky-multisite.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/cosmic-rocky.yaml', 'tests/bundles/xenial-queens.yaml'], 'web_link': 'https://opendev.org/openstack/charm-ceph-radosgw/commit/c6ac5946ba70bd7c1338a98ad462deb6347772cb', 'message': 'Shift ceph-radosgw to constrained instance size\n\nThis tries to resolve an issue where the CI environment\nplaces instances on machines with swap volumes and\nJuju storage hands off bad information\n\nChange-Id: Ie0202b05319c1bcab8334f8c8356acca4c96eaf5\n'}]",0,668489,c6ac5946ba70bd7c1338a98ad462deb6347772cb,10,4,2,20634,,,0,"Shift ceph-radosgw to constrained instance size

This tries to resolve an issue where the CI environment
places instances on machines with swap volumes and
Juju storage hands off bad information

Change-Id: Ie0202b05319c1bcab8334f8c8356acca4c96eaf5
",git fetch https://review.opendev.org/openstack/charm-ceph-radosgw refs/changes/89/668489/1 && git format-patch -1 --stdout FETCH_HEAD,"['tests/bundles/xenial-pike.yaml', 'tests/bundles/bionic-rocky.yaml', 'tests/bundles/trusty-mitaka.yaml', 'tests/bundles/xenial-ocata.yaml', 'tests/bundles/bionic-queens.yaml', 'tests/bundles/bionic-queens-multisite.yaml', 'tests/bundles/bionic-rocky-multisite.yaml', 'tests/bundles/cosmic-rocky.yaml', 'tests/bundles/xenial-mitaka.yaml', 'tests/bundles/xenial-queens.yaml']",10,a2443f6673971c224789380b2d4e5dc36893ede4,bug/unreliable-volumes," constraints: ""mem=2048""",,10,0
openstack%2Fadjutant~master~Ibd9d93366ad66c5818e47045a903c97a64daece7,openstack/adjutant,master,Ibd9d93366ad66c5818e47045a903c97a64daece7,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 18:06:12.000000000,2019-07-01 18:08:22.000000000,,[],"[{'number': 1, 'created': '2019-07-01 18:06:12.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/adjutant/commit/097df6f09ea6e8235a5e62401416016d78efe7de', 'message': ""Force to use markdown to prevent pypi issue\n\nRecently the pypi team have reintroduce some deactivated tests\non package deployment and especially tests concerning long_description\nsyntaxe.\n\nIf projects don't specify that they use the markdown format the\npackage deployment will fail if something went wrong in the markdown format.\n\nBy example if a project use inline literal this can be an issue due to\nthe fact that if `long_description_content_type` is missing [1]. The\ndefault format will be `text/x-rst` where code block is different from\nmarkdown.\n\nThese changes force to use the markdown format to avoid this kind of issue\non project who use `README` at markdown format.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html\n\nFor more details:\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: Ibd9d93366ad66c5818e47045a903c97a64daece7\n""}]",0,668535,097df6f09ea6e8235a5e62401416016d78efe7de,2,0,1,28522,,,0,"Force to use markdown to prevent pypi issue

Recently the pypi team have reintroduce some deactivated tests
on package deployment and especially tests concerning long_description
syntaxe.

If projects don't specify that they use the markdown format the
package deployment will fail if something went wrong in the markdown format.

By example if a project use inline literal this can be an issue due to
the fact that if `long_description_content_type` is missing [1]. The
default format will be `text/x-rst` where code block is different from
markdown.

These changes force to use the markdown format to avoid this kind of issue
on project who use `README` at markdown format.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-July/007459.html

For more details:
https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Ibd9d93366ad66c5818e47045a903c97a64daece7
",git fetch https://review.opendev.org/openstack/adjutant refs/changes/35/668535/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,097df6f09ea6e8235a5e62401416016d78efe7de,format-markdown,long_description_content_type = text/markdown,,1,0
openstack%2Fproject-config~master~I83c73a8cff9728336b6208cab04e7c97c4c4ad86,openstack/project-config,master,I83c73a8cff9728336b6208cab04e7c97c4c4ad86,Switch ovh/GRA1 to opendev.org mirror,MERGED,2019-07-01 06:57:07.000000000,2019-07-01 17:30:33.000000000,2019-07-01 17:30:33.000000000,"[{'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 06:57:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/903d7626201f877c6ceadf32313c26f37411fbca', 'message': 'Switch ovh/GRA1 to opendev.org mirror\n\nThis is our second kafs based mirror (rax.IAD being the first), chosen\nto be geographically remote to the AFS servers.  It is currently\nmanually configured with 5.2-rc7 kernel, which has all the current\nkAFS fixes incorporated.\n\nSwitch it in for initial testing\n\nChange-Id: I83c73a8cff9728336b6208cab04e7c97c4c4ad86\n'}, {'number': 2, 'created': '2019-07-01 07:50:05.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/45f3b85860123129630b612ef1f28c5456875892', 'message': 'Switch ovh/GRA1 to opendev.org mirror\n\nThis is our second kafs based mirror (rax.IAD being the first), chosen\nto be geographically remote to the AFS servers.  It is currently\nmanually configured with 5.2-rc7 kernel, which has all the current\nkAFS fixes incorporated.\n\nSwitch it in for initial testing\n\nChange-Id: I83c73a8cff9728336b6208cab04e7c97c4c4ad86\n'}]",0,668361,45f3b85860123129630b612ef1f28c5456875892,11,4,2,7118,,,0,"Switch ovh/GRA1 to opendev.org mirror

This is our second kafs based mirror (rax.IAD being the first), chosen
to be geographically remote to the AFS servers.  It is currently
manually configured with 5.2-rc7 kernel, which has all the current
kAFS fixes incorporated.

Switch it in for initial testing

Change-Id: I83c73a8cff9728336b6208cab04e7c97c4c4ad86
",git fetch https://review.opendev.org/openstack/project-config refs/changes/61/668361/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,903d7626201f877c6ceadf32313c26f37411fbca,gra1-kafs," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""IAD.rax"", ""DFW.rax"", ""GRA1.ovh"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""IAD.rax"", ""DFW.rax"" ] -%}",1,1
openstack%2Fproject-config~master~I5d9d9d5f2d54c6023e3d08988579d667714affb5,openstack/project-config,master,I5d9d9d5f2d54c6023e3d08988579d667714affb5,Switch RAX ORD mirrors to new opendev.org mirrors,MERGED,2019-06-07 07:40:02.000000000,2019-07-01 17:29:51.000000000,2019-07-01 17:29:51.000000000,"[{'_account_id': 4146}, {'_account_id': 5263}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 07:40:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/193f869e6fed0fb4ca1fe35c12565ca747392d50', 'message': 'Switch RAX IAD/ORD mirrors to new opendev.org mirrors\n\nDepends-On: https://review.opendev.org/663852\nChange-Id: I5d9d9d5f2d54c6023e3d08988579d667714affb5\n'}, {'number': 2, 'created': '2019-07-01 07:50:05.000000000', 'files': ['zuul/site-variables.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/0e0dc2e8fd6ad77b03e34a3d8fc15231d8330ea3', 'message': 'Switch RAX ORD mirrors to new opendev.org mirrors\n\nThe mirror.ord.rax.opendev.org host is running, with OpenAFS 1.8.3.\nThis is similar to rax.dfw which has been running without issue since\nI78d938eaaec993ac64c7e701a506a108f5c7fb07.\n\nSwitch it in.\n\nDepends-On: https://review.opendev.org/663852\nChange-Id: I5d9d9d5f2d54c6023e3d08988579d667714affb5\n'}]",0,663854,0e0dc2e8fd6ad77b03e34a3d8fc15231d8330ea3,13,5,2,7118,,,0,"Switch RAX ORD mirrors to new opendev.org mirrors

The mirror.ord.rax.opendev.org host is running, with OpenAFS 1.8.3.
This is similar to rax.dfw which has been running without issue since
I78d938eaaec993ac64c7e701a506a108f5c7fb07.

Switch it in.

Depends-On: https://review.opendev.org/663852
Change-Id: I5d9d9d5f2d54c6023e3d08988579d667714affb5
",git fetch https://review.opendev.org/openstack/project-config refs/changes/54/663854/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul/site-variables.yaml'],1,193f869e6fed0fb4ca1fe35c12565ca747392d50,gra1-kafs," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"", ""IAD.rax"", ""ORD.rax"" ] -%}"," {%- if nodepool.region + ""."" + nodepool.cloud in [ ""DFW.rax"" ] -%}",1,1
openstack%2Fpaunch~stable%2Fstein~I04d2f141370cd88787422d6adf4b22cc54ecf028,openstack/paunch,stable/stein,I04d2f141370cd88787422d6adf4b22cc54ecf028,Quote the health check command argument during a debug with print-cmd.,MERGED,2019-06-27 12:54:35.000000000,2019-07-01 17:26:18.000000000,2019-07-01 17:26:17.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25877}]","[{'number': 1, 'created': '2019-06-27 12:54:35.000000000', 'files': ['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/__init__.py'], 'web_link': 'https://opendev.org/openstack/paunch/commit/210c0d662ec9c748629cfaf7a1e1d451f84bc894', 'message': 'Quote the health check command argument during a debug with print-cmd.\n\nThis is one of the few arguments that sometimes requires the use of\nspaces. `paunch debug --action print-cmd` will now display a command\nto stdout that can be copied, pasted, and executed reliability.\n\nChange-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028\nResolves: rhbz#1694572\nSigned-off-by: Luke Short <ekultails@gmail.com>\n(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)\n'}]",0,667922,210c0d662ec9c748629cfaf7a1e1d451f84bc894,7,6,1,8655,,,0,"Quote the health check command argument during a debug with print-cmd.

This is one of the few arguments that sometimes requires the use of
spaces. `paunch debug --action print-cmd` will now display a command
to stdout that can be copied, pasted, and executed reliability.

Change-Id: I04d2f141370cd88787422d6adf4b22cc54ecf028
Resolves: rhbz#1694572
Signed-off-by: Luke Short <ekultails@gmail.com>
(cherry picked from commit a3041539488254ae7743d7f36f743a6ea1bae97e)
",git fetch https://review.opendev.org/openstack/paunch refs/changes/22/667922/1 && git format-patch -1 --stdout FETCH_HEAD,"['paunch/tests/test_builder_compose1.py', 'paunch/builder/compose1.py', 'paunch/__init__.py']",3,210c0d662ec9c748629cfaf7a1e1d451f84bc894,666891," if '--health-cmd' in cmd: health_check_arg_index = cmd.index('--health-cmd') + 1 # The argument given needs to be quoted to work properly with a # copy and paste of the full command. try: cmd[health_check_arg_index] = ( '""%s""' % cmd[health_check_arg_index]) except IndexError: log.warning(""No argument provided to --health-cmd."") ",,16,2
openstack%2Fcyborg-specs~master~If3d62c3d0f05166d6a8813d152e16c145c47ff39,openstack/cyborg-specs,master,If3d62c3d0f05166d6a8813d152e16c145c47ff39,Specification for device profiles.,MERGED,2018-09-16 16:39:19.000000000,2019-07-01 17:25:35.000000000,2019-07-01 03:54:27.000000000,"[{'_account_id': 13629}, {'_account_id': 14070}, {'_account_id': 17813}, {'_account_id': 20722}, {'_account_id': 21672}, {'_account_id': 22348}, {'_account_id': 24872}, {'_account_id': 25738}]","[{'number': 1, 'created': '2018-09-16 16:39:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/35472077dcce6dba4d947967e6a39a833c105cf9', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 2, 'created': '2018-10-04 04:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/489b6b2d845247c0e042656f9fc647d20a049b77', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 3, 'created': '2018-10-05 00:03:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/146ce6d63238265d3d87c5857a80948cbbcb7308', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nAPIImpact\nDocImpact\n\nSpec for blueprint device-profiles\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 4, 'created': '2018-10-05 10:39:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ada997d8dc19976b3366a4ed0025b65dc52a7d5b', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nAPIImpact\nDocImpact\n\nSpec for blueprint device-profiles\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 5, 'created': '2018-10-18 23:05:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/ebed40692101006d3f3addb5f648d1caa4bfb010', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nAPIImpact\nDocImpact\n\nSpec for blueprint device-profiles\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 6, 'created': '2019-04-08 05:09:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/0160f29c2309c3a1755c143426122614c16a29fc', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nAPIImpact\nDocImpact\n\nSpec for blueprint device-profiles\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}, {'number': 7, 'created': '2019-04-08 05:14:33.000000000', 'files': ['specs/train/approved/device-profiles.rst'], 'web_link': 'https://opendev.org/openstack/cyborg-specs/commit/c25a24fafcf26357799d2794a6289d3f3a3fdd69', 'message': 'Specification for device profiles.\n\nIntroduces the notion of device profiles, explains why they are needed\nand describes how they are used.\n\nAPIImpact\nDocImpact\n\nSpec for blueprint device-profiles\n\nChange-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39\n'}]",8,602978,c25a24fafcf26357799d2794a6289d3f3a3fdd69,29,8,7,21672,,,0,"Specification for device profiles.

Introduces the notion of device profiles, explains why they are needed
and describes how they are used.

APIImpact
DocImpact

Spec for blueprint device-profiles

Change-Id: If3d62c3d0f05166d6a8813d152e16c145c47ff39
",git fetch https://review.opendev.org/openstack/cyborg-specs refs/changes/78/602978/3 && git format-patch -1 --stdout FETCH_HEAD,"['specs/index.rst', 'specs/stein/approved/device-profiles.rst']",2,35472077dcce6dba4d947967e6a39a833c105cf9,bp/device-profiles,".. This work is licensed under a Creative Commons Attribution 3.0 Unported License. http://creativecommons.org/licenses/by/3.0/legalcode =============== Device Profiles =============== https://blueprints.launchpad.net/openstack-cyborg/+spec/device-profiles This spec introduces the notion of device profiles, explains why they are needed and describes how they are used. Problem description =================== The request to create or update an instance can specify various resources, spanning compute, networking, storage and accelerators. While all of them can be specified using the flavor syntax including extra specs, that results in two significant problems: lack of separation of concerns and flavor explosion. It is desirable to separate the requirements for different resources into modular pieces and then compose them into the flavor. This is done for networking with port binding profiles. It is desirable to propose a similar model for accelerators and hardware resources. Requests for devices can vary hugely in the type, number and combination of devices requested. For example, a web server workload may require offloads for video transcoding, SSL and log file compression. Offloads may involve different types of devices, including programmable hardware (GPUs, FPGAs, etc.), fixed function hardware (QuickAssist, TPUs, etc.) and special-purpose hardware such as High precision Time Synchronization cards. If each combination of hardware resources were to be expressed as parts of flavors, the number of flavors will increase rapidly. That is a problem because operators often use flavors for usage and billing. So, we wish to separate the specification of accelerator resources in an instance request into a new entity called a device profile. Use Cases --------- * The operator should be able to create, publish, update and delete device profiles. * The operator should be able to compose a device profile into a flavor, so that the end user can request an instance using the flavor alone. * The end user should be able to request an instance to be created or updated, using a flavor and a device profile separately. * The operator should be able to enable or disable specific device profiles. * On an upgrade, device profiles from a certain number of past releases should continue to be usable by operators. The ability to update or enable/disable device profiles may be addressed in the future after operator feedback. The operator may use device profile usage to bill end users. That is outside the scope of this spec. Proposed change =============== Overview -------- A device profile is a named set of the user requirements for one or more accelerators. It can be viewed as a flavor for devices. Broadly it includes two things: the desired amounts of specific resource classes and the requirements that the resource provider(s) must satisfy. While the resource classes are the same as those known to Placement, some requirements would correspond to Placement traits and others to properties that Cyborg alone knows about. The device profile format is JSON with syntax similar to granular resource requests. Here is an example:: { 'version': 1.0, 'groups': [ { 'resources:CUSTOM_ACCELERATOR_GPU=2', 'traits:CUSTOM_GPU_AMD_RADEON=required', 'accel:video_ram:2GB=preferred' }, { 'resources:CUSTOM_ACCELERATOR_FPGA=1', 'traits:CUSTOM_FPGA_INTEL_ARRIA10=required', 'accel:video_ram:2GB=preferred' }, ] } The fields and syntax are explained in the Section `Device Profile structure`_. Section `JSON schema`_ defines the exact grammar for them. The device profiles can be queried, created and deleted from the Cyborg API (see Section `REST API impact`_) and from the command line (see Section `Cyborg client command line`_). The ability to update them or enable/disable them may be taken up after operator feedback. Only the admin can create, update and delete device profiles. In the future, the admin may be able to publish them in Horizon. The operator and end user both can list device profiles from the command line today and potentially view them in Horizon in the future. Device profile structure ------------------------ The salient points of the structure of the device profile are noted in this section. * Familiar syntax and organization: * Individual fields use the extra specs format to ask for resources, traits or Cyborg-specific properties. However, lower case letters and hyphens are allowed as noted below. * The requests are grouped in the same way as granular resource syntax. The ordering among the groups is not significant. However, no group policy is allowed here because there may be one in the flavor. * Ease of use: * Unlike the granular request syntax, the operator need not number the groups. Cyborg will do the numbering. * Lower case and hyphens allowed: The names of custom RCs and traits can only include upper case letters, digits and underscores. Cyborg will translate lower case to upper case and hyphens to underscores. * Strong typing and validation: Using JSON schema can help in validating the fields and the structure. * Ease of conversion to extra specs format: The fields mostly correspond 1:1 with extra specs. It is worth noting that the use of device profiles may help in providing more functionality than standard Nova and Placement. For example, if preferred traits are not supported by Nova, the device profile may say ``traits:foo=preferred`` but Cyborg could translate that to ``accel:foo=preferred``. Then a Cyborg weigher may weight those allocation candidates with property ``foo`` above those without it. Usage ----- The user request for an instance spawn needs to include both a flavor and a device profile. However, this needs a change in the Nova API for instance creation to include the device profile name. To avoid the need for such a change, initially, the operator shall explicitly fold the device profile into the flavor as below:: openstack flavor set --property 'accel:device_profile=<profile_name>' flavor Thus the end user can launch requests with only the flavor just as today. Later the Nova API will be enhanced to take a device profile name explicitly, removing the need for operator folding and allowing end users to launch requests with separate flavor and device profile names. The device-profile-in-flavor form will continue to be supported even after this change. In either case, only one device profile is allowed per user request. During the instance creation flow, Nova queries Cyborg with the device profile name and gets the device profile fields in the form of extra specs for devices. Nova then folds them into the flavor, so that the Placement and scheduler can work from a single set of requirements. This is the case regardless of whether the device profile was folded into the flavor or not. JSON schema ----------- The top level of the JSON schema for the device profile structure is specified here:: { 'type' : 'object' 'properties': { 'version': { 'type': 'number' }, 'groups': { 'type': 'array', 'minItems': 1, 'items': { 'type': 'object' 'properties': ... } } } } The ``properties`` field with the ellipses is where the individual fields go. They can be modeled as an array of strings with patterns:: 'properties': { 'type': 'array', 'minItems': 1, 'items': { ... } } or could be validated with regular expressions. Cyborg client command line -------------------------- The command line syntax for device profiles is proposed in this section. :: openstack accelerator device-profile create <name> <json> openstack accelerator device-profile delete <name> openstack accelerator device-profile list openstack accelerator device-profile show <name> Other commands can be taken up in the future after operator feedback. Further details will be addressed in a future spec. Versioning and upgrades ----------------------- The device profile is versioned with a major and minor version. The minor version is updated when new fields are added, and the major one is incremented when fields are changed or deleted. A custom trait in one release may become a standard trait in the next one. A cyborg-specific property in one release may become a custom trait or a standard trait in the next one. This would invalidate the device profiles after upgrade. This must be handled by migrating the device profiles to the new format during the upgrade. Alternatives ------------ Flavor explosion can be partially addressed by adding metadata to the instance image that expresses what hardware resources are needed for that image to work correctly or well. However, that is not a complete solution. Data model impact ----------------- Device profiles need to be persisted in Cyborg database. Each device profile should have a UUID since they may be renamed. REST API impact --------------- :: GET /v1/device-profiles /v1/device-profiles/name/{name} Get all device profiles or a specific device profile by name. Request body: None Returns: HTTP TODO on success, TODO on failure List of device profiles or a single device profile as JSON POST /v1/device-profiles Create one or more new device profiles. Request body: List of name-JSON pairs, each for one device profile Returns: HTTP Notes: Validates the JSON format using a schema. May reject some entries while accepting others DELETE /v1/device-profiles Delete one or more existing device profiles. Request body: A dictionary of the form ``{ ""names"": [ ""string1"", ... ] }`` Notes: In the future, this may allow deletion by UUIDs as well. Until device profile updates are supported, there is no need for a PUT. The APIs that use device profiles for instance assignment are documented in Nova specs. Security impact --------------- The APIs and commands proposed here accept and parse user-provided data. To mitigate the risks, the following measures shall be adopted: * Only the admin can create, update or delete device profiles. End users can only list them or perhaps see them in Horizon. * The device profile names and fields are restricted to alphabets (lower or upper case), digits, underscores, hyphens and the characters ':' and '='. * The device profile JSON is validated with a JSON schema before acceptance. Notifications impact -------------------- None Other end user impact --------------------- The end user can list the device profiles using python-cyborgclient. In the future, she may be able to see them on Horizon. Performance Impact ------------------ None Other deployer impact --------------------- Knobs to enable or disable device profiles may be added in the future. Developer impact ---------------- Provide upgrade scripts for device profiles if the names of resource classes or traits change, as noted in `Versioning and upgrades`_. Implementation ============== Assignee(s) ----------- TBD Work Items ---------- * Create a device profiles table in the Cyborg database. * Implement REST APIs in the API server and conductor, with validation and unit tests. * Implement the python-cyborgclient CLI. Dependencies ============ None Testing ======= Unit tests and functional tests need to be written. Documentation Impact ==================== Device profiles should be explained in user docs and in operator docs. References ========== None History ======= .. list-table:: Revisions :header-rows: 1 * - Release Name - Description * - Stein - Introduced ",,361,0
openstack%2Ftripleo-ansible~master~Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09,openstack/tripleo-ansible,master,Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09,Add connection type to localhost inventory,MERGED,2019-06-28 18:40:39.000000000,2019-07-01 17:12:18.000000000,2019-07-01 17:12:18.000000000,"[{'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-28 18:40:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/f2da80be74b80399288f97a076d87b2fccfb5c59', 'message': 'Add connection type to localhost inventory\n\nThe localhost inventory has been updated to set the connection\ntype to ""local"" this will speed up test deployments as Ansible\nwill no longer need to broker an ssh connection to the underlying\nmachine.\n\nChange-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-28 19:13:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/82946a104bc4b5f27b532dfcc1674ee6ff88f598', 'message': 'Add connection type to localhost inventory\n\nThe localhost inventory has been updated to set the connection\ntype to ""local"" this will speed up test deployments as Ansible\nwill no longer need to broker an ssh connection to the underlying\nmachine.\n\nChange-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-29 21:09:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/bbded05f2809c6e4ed1fdb1012d6b80a71357e82', 'message': 'Add connection type to localhost inventory\n\nThe localhost inventory has been updated to set the connection\ntype to ""local"" this will speed up test deployments as Ansible\nwill no longer need to broker an ssh connection to the underlying\nmachine.\n\nChange-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 4, 'created': '2019-07-01 12:35:53.000000000', 'files': ['tests/hosts.ini'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/ec6f0dd4b5a26f9049c82ca3b81370d9831b8b31', 'message': 'Add connection type to localhost inventory\n\nThe localhost inventory has been updated to set the connection\ntype to ""local"" this will speed up test deployments as Ansible\nwill no longer need to broker an ssh connection to the underlying\nmachine.\n\nChange-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}]",0,668230,ec6f0dd4b5a26f9049c82ca3b81370d9831b8b31,15,5,4,7353,,,0,"Add connection type to localhost inventory

The localhost inventory has been updated to set the connection
type to ""local"" this will speed up test deployments as Ansible
will no longer need to broker an ssh connection to the underlying
machine.

Change-Id: Ic8307b1ede9fab24eb38528b6e0730aa4dee5b09
Signed-off-by: Kevin Carter <kecarter@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/30/668230/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/hosts.ini'],1,f2da80be74b80399288f97a076d87b2fccfb5c59,localTesting,test ansible_connection=local,localhost,1,1
openstack%2Ftripleo-ansible~master~I237f743aa85fac9eb56a4c7aac54a7545cc125db,openstack/tripleo-ansible,master,I237f743aa85fac9eb56a4c7aac54a7545cc125db,Add local testing aids and documentation,MERGED,2019-06-28 18:38:27.000000000,2019-07-01 17:12:18.000000000,2019-07-01 17:12:17.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-28 18:38:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/5bf0ed83111b6d48f57814b0c654db94353570c8', 'message': 'Add local testing aids and documentation\n\nThis change adds contributing documentation to illustrate how\ndevelopers can test roles using molecule on local machines.\nTo assist in local testing an rc environment file has been\nadded to the project root which will ensure ansible is\nconfigured to use resources out of this project.\n\nChange-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-28 19:09:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/288e226a9033ecfc50de3096b979e6e026ff2aa8', 'message': 'Add local testing aids and documentation\n\nThis change adds contributing documentation to illustrate how\ndevelopers can test roles using molecule on local machines.\nTo assist in local testing an rc environment file has been\nadded to the project root which will ensure ansible is\nconfigured to use resources out of this project.\n\nChange-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 3, 'created': '2019-06-29 21:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/7e975c385fb2ed9e3587382234f339220c335b7a', 'message': 'Add local testing aids and documentation\n\nThis change adds contributing documentation to illustrate how\ndevelopers can test roles using molecule on local machines.\nTo assist in local testing an rc environment file has been\nadded to the project root which will ensure ansible is\nconfigured to use resources out of this project.\n\nChange-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 4, 'created': '2019-07-01 12:35:21.000000000', 'files': ['doc/source/contributing.rst', 'ansible-test-env.rc'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/abcf3726aa99bc49b17b755973a93a566307cf3b', 'message': 'Add local testing aids and documentation\n\nThis change adds contributing documentation to illustrate how\ndevelopers can test roles using molecule on local machines.\nTo assist in local testing an rc environment file has been\nadded to the project root which will ensure ansible is\nconfigured to use resources out of this project.\n\nChange-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",6,668229,abcf3726aa99bc49b17b755973a93a566307cf3b,17,6,4,7353,,,0,"Add local testing aids and documentation

This change adds contributing documentation to illustrate how
developers can test roles using molecule on local machines.
To assist in local testing an rc environment file has been
added to the project root which will ensure ansible is
configured to use resources out of this project.

Change-Id: I237f743aa85fac9eb56a4c7aac54a7545cc125db
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/29/668229/4 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributing.rst', 'ansible-test-env.rc']",2,5bf0ed83111b6d48f57814b0c654db94353570c8,localTesting,"export ANSIBLE_STDOUT_CALLBACK=debug export ANSIBLE_ACTION_PLUGINS=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/ansible_plugins/action"" export ANSIBLE_CALLBACK_PLUGINS=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/ansible_plugins/callback"" export ANSIBLE_FILTER_PLUGINS=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/ansible_plugins/filter"" export ANSIBLE_LIBRARY=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/ansible_plugins/modules"" export ANSIBLE_MODULE_UTILS=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/ansible_plugins/module_utils"" export ANSIBLE_ROLES_PATH=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tripleo_ansible/roles"" export ANSIBLE_INVENTORY=""$(dirname $(readlink -f ${BASH_SOURCE[0]}))/tests/hosts.ini"" export ANSIBLE_RETRY_FILES_ENABLED=""0"" export ANSIBLE_LOAD_CALLBACK_PLUGINS=""1"" function unset-ansible-test-env { for i in $(env | grep ANSIBLE_ | awk -F'=' '{print $1}'); do unset ${i} done echo -e ""Ansible test environment deactivated.\n"" unset -f unset-ansible-test-env } echo -e ""Ansible test environment is now active"" echo -e ""Run 'unset-ansible-test-env' to deactivate.\n"" ",,71,0
openstack%2Ftripleo-ansible~master~I68e978c9414119a743431eb59be4771db4b96cd0,openstack/tripleo-ansible,master,I68e978c9414119a743431eb59be4771db4b96cd0,Add bindep to the repository,MERGED,2019-06-28 18:19:00.000000000,2019-07-01 17:12:17.000000000,2019-07-01 17:12:17.000000000,"[{'_account_id': 7353}, {'_account_id': 10969}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 18:19:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/de4a38903bf5b7237276866291fe05d4eae74e52', 'message': 'Add bindep to the repository\n\nThis change adds a bindep file and install script which will allow\ndevelopers to quickly identify and install system requirements on\ntest machines.\n\nChange-Id: I68e978c9414119a743431eb59be4771db4b96cd0\nSigned-off-by: Kevin Carter <kecarter@redhat.com>\n'}, {'number': 2, 'created': '2019-06-29 20:59:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/1d5256e86dd4de1c45520ddeee479929dd842b05', 'message': 'Add bindep to the repository\n\nThis change adds a bindep file and install script which will allow\ndevelopers to quickly identify and install system requirements on\ntest machines.\n\nChange-Id: I68e978c9414119a743431eb59be4771db4b96cd0\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 3, 'created': '2019-06-29 21:08:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/00232c063d6e31cd97287bde1f9f70c8c88d955c', 'message': 'Add bindep to the repository\n\nThis change adds a bindep file and install script which will allow\ndevelopers to quickly identify and install system requirements on\ntest machines.\n\nChange-Id: I68e978c9414119a743431eb59be4771db4b96cd0\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}, {'number': 4, 'created': '2019-07-01 12:22:45.000000000', 'files': ['bindep.txt', 'scripts/bindep-install'], 'web_link': 'https://opendev.org/openstack/tripleo-ansible/commit/db2486e74fd2281e282798c088981177387244c9', 'message': 'Add bindep to the repository\n\nThis change adds a bindep file and install script which will allow\ndevelopers to quickly identify and install system requirements on\ntest machines.\n\nChange-Id: I68e978c9414119a743431eb59be4771db4b96cd0\nSigned-off-by: Kevin Carter <kevin@cloudnull.com>\n'}]",6,668227,db2486e74fd2281e282798c088981177387244c9,20,5,4,7353,,,0,"Add bindep to the repository

This change adds a bindep file and install script which will allow
developers to quickly identify and install system requirements on
test machines.

Change-Id: I68e978c9414119a743431eb59be4771db4b96cd0
Signed-off-by: Kevin Carter <kevin@cloudnull.com>
",git fetch https://review.opendev.org/openstack/tripleo-ansible refs/changes/27/668227/4 && git format-patch -1 --stdout FETCH_HEAD,"['bindep.txt', 'scripts/bindep-install']",2,de4a38903bf5b7237276866291fe05d4eae74e52,localTesting,"#!/usr/bin/env bash # Copyright 2019 Red Hat, Inc. # All Rights Reserved. # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. ## Shell Opts ---------------------------------------------------------------- set -o pipefail set -xeuo ## Vars ---------------------------------------------------------------------- export BINDEP_FILE=""${BINDEP_FILE:-$(dirname $(readlink -f ${BASH_SOURCE[0]}))/../bindep.txt}"" ## Main ---------------------------------------------------------------------- # Source distribution information source /etc/os-release || source /usr/lib/os-release which dnf &>/dev/null && RHT_PKG_MGR='dnf' || RHT_PKG_MGR='yum' # NOTE(cloudnull): Get a list of packages to install with bindep. If packages # need to be installed, bindep exits with an exit code of 1. BINDEP_PKGS=$(bindep -b -f ""${BINDEP_FILE}"" test || true) if [[ ${#BINDEP_PKGS} > 0 ]]; then case ""${ID,,}"" in amzn|rhel|centos|fedora) sudo ""${RHT_PKG_MGR}"" install -y ${BINDEP_PKGS} ;; esac fi ",,84,0
openstack%2Fsenlin-tempest-plugin~master~I13a31b3dab9667d9ac68da0c2dacfde338a80b42,openstack/senlin-tempest-plugin,master,I13a31b3dab9667d9ac68da0c2dacfde338a80b42,Switch to the new canonical constraints URL on master,MERGED,2019-06-22 07:25:19.000000000,2019-07-01 17:08:02.000000000,2019-07-01 17:08:02.000000000,"[{'_account_id': 22348}, {'_account_id': 22998}, {'_account_id': 27224}]","[{'number': 1, 'created': '2019-06-22 07:25:19.000000000', 'files': ['tox.ini'], 'web_link': 'https://opendev.org/openstack/senlin-tempest-plugin/commit/e8c68ffb745c241edfe345471b206706eb4914cb', 'message': 'Switch to the new canonical constraints URL on master\n\nReference:\n1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html\n2. https://github.com/openstack/nova/blob/master/tox.ini#L17\n\nChange-Id: I13a31b3dab9667d9ac68da0c2dacfde338a80b42\n'}]",0,666950,e8c68ffb745c241edfe345471b206706eb4914cb,7,3,1,28748,,,0,"Switch to the new canonical constraints URL on master

Reference:
1. http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006478.html
2. https://github.com/openstack/nova/blob/master/tox.ini#L17

Change-Id: I13a31b3dab9667d9ac68da0c2dacfde338a80b42
",git fetch https://review.opendev.org/openstack/senlin-tempest-plugin refs/changes/50/666950/1 && git format-patch -1 --stdout FETCH_HEAD,['tox.ini'],1,e8c68ffb745c241edfe345471b206706eb4914cb,,install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://releases.openstack.org/constraints/upper/master} {opts} {packages},install_command = pip install -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt} {opts} {packages},1,1
openstack%2Fkolla-ansible~stable%2Fstein~I2c0c0377157b0680ec49b591225b75fe23b0878a,openstack/kolla-ansible,stable/stein,I2c0c0377157b0680ec49b591225b75fe23b0878a,"Revert ""CI - remove unnecessary logic when building images for upgrade""",MERGED,2019-07-01 11:13:33.000000000,2019-07-01 17:05:17.000000000,2019-07-01 15:50:32.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-01 11:13:33.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/5c91b8a99efb3019fa58800e3e56bd3a986a3c90', 'message': 'Revert ""CI - remove unnecessary logic when building images for upgrade""\n\nThis reverts commit 08cf94546730321fa87eee04311aa2c2445b7d98.\n\nChange-Id: I2c0c0377157b0680ec49b591225b75fe23b0878a\n'}]",0,668432,5c91b8a99efb3019fa58800e3e56bd3a986a3c90,8,4,1,14826,,,0,"Revert ""CI - remove unnecessary logic when building images for upgrade""

This reverts commit 08cf94546730321fa87eee04311aa2c2445b7d98.

Change-Id: I2c0c0377157b0680ec49b591225b75fe23b0878a
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/32/668432/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,5c91b8a99efb3019fa58800e3e56bd3a986a3c90,ci-remove-redundant-logic-stable/stein,"{% if need_build_image and is_previous_release %} # NOTE(mgoddard): Ensure that the insecure local registry is trusted, since it # will be the source of images during the upgrade. docker_custom_option: ""--insecure-registry {{ api_interface_address }}:4000"" {% endif %}",,5,0
openstack%2Fkolla-ansible~master~I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8,openstack/kolla-ansible,master,I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8,"Revert ""CI - remove unnecessary logic when building images for upgrade""",MERGED,2019-07-01 11:12:58.000000000,2019-07-01 17:05:00.000000000,2019-07-01 15:48:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-07-01 11:12:58.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/acac12798c29ac9a1488a5ad1dc977dc8e0aab34', 'message': 'Revert ""CI - remove unnecessary logic when building images for upgrade""\n\nThis reverts commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85.\n\nChange-Id: I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8\n'}]",0,668431,acac12798c29ac9a1488a5ad1dc977dc8e0aab34,8,4,1,14826,,,0,"Revert ""CI - remove unnecessary logic when building images for upgrade""

This reverts commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85.

Change-Id: I81ce7c007ff267ebbbb721bcdb7eebc0dd575bf8
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/31/668431/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,acac12798c29ac9a1488a5ad1dc977dc8e0aab34,ci-remove-redundant-logic,"{% if need_build_image and is_previous_release %} # NOTE(mgoddard): Ensure that the insecure local registry is trusted, since it # will be the source of images during the upgrade. docker_custom_option: ""--insecure-registry {{ api_interface_address }}:4000"" {% endif %}",,5,0
openstack%2Foslo.config~master~Ic2b36fe8be872d298a106c3f64905a5b935ced61,openstack/oslo.config,master,Ic2b36fe8be872d298a106c3f64905a5b935ced61,Add special handling for keystone_authtoken group,MERGED,2019-03-27 15:58:51.000000000,2019-07-01 17:04:13.000000000,2019-07-01 17:04:13.000000000,"[{'_account_id': 6928}, {'_account_id': 8770}, {'_account_id': 22348}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-03-27 15:58:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/bde99dd4ff18fdd161cadbe65799fbab21cb3c9a', 'message': ""Add special handling for keystone_authtoken group\n\nThe keystone_authtoken options are created (not just registered)\ndynamically at runtime because of a need to not have a dependency on\noslo.config in that library. As a result, there is no sane way to\nvalidate those options.\n\nThis change adds a list of known problematic groups that we should\nignore missing opts from. It also adds an info level log message that\nwe are ignoring them so users know we can't confirm or deny the\ncorrectness of that piece of config.\n\nChange-Id: Ic2b36fe8be872d298a106c3f64905a5b935ced61\n""}, {'number': 2, 'created': '2019-05-22 16:36:24.000000000', 'files': ['oslo_config/validator.py', 'doc/source/cli/validator.rst'], 'web_link': 'https://opendev.org/openstack/oslo.config/commit/0c734acf17c8382f0c0c360aa318f25f0d8c75f4', 'message': ""Add special handling for keystone_authtoken group\n\nThe keystone_authtoken options are created (not just registered)\ndynamically at runtime because of a need to not have a dependency on\noslo.config in that library. As a result, there is no sane way to\nvalidate those options.\n\nThis change adds a list of known problematic groups that we should\nignore missing opts from. It also adds an info level log message that\nwe are ignoring them so users know we can't confirm or deny the\ncorrectness of that piece of config.\n\nChange-Id: Ic2b36fe8be872d298a106c3f64905a5b935ced61\n""}]",0,648165,0c734acf17c8382f0c0c360aa318f25f0d8c75f4,15,4,2,6928,,,0,"Add special handling for keystone_authtoken group

The keystone_authtoken options are created (not just registered)
dynamically at runtime because of a need to not have a dependency on
oslo.config in that library. As a result, there is no sane way to
validate those options.

This change adds a list of known problematic groups that we should
ignore missing opts from. It also adds an info level log message that
we are ignoring them so users know we can't confirm or deny the
correctness of that piece of config.

Change-Id: Ic2b36fe8be872d298a106c3f64905a5b935ced61
",git fetch https://review.opendev.org/openstack/oslo.config refs/changes/65/648165/1 && git format-patch -1 --stdout FETCH_HEAD,['oslo_config/validator.py'],1,bde99dd4ff18fdd161cadbe65799fbab21cb3c9a,config-validation,"KNOWN_BAD_GROUPS = ['keystone_authtoken'] if section in KNOWN_BAD_GROUPS: logging.info('Ignoring missing option ""%s"" from group ' '""%s"" because the group is known to have ' 'incomplete sample config data and thus ' 'cannot be validated properly.', option, section) continue logging.basicConfig(level=logging.INFO)", logging.basicConfig(level=logging.WARN),11,1
openstack%2Fpuppet-nova~stable%2Frocky~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,stable/rocky,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-07-01 12:41:40.000000000,2019-07-01 16:43:46.000000000,2019-07-01 16:43:46.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 16137}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-07-01 12:41:40.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/37ea7eb11cf128db8e9cb62bb436e19c8d85a319', 'message': 'Escape date command parameter\n\nFixed `date` command parameter by escaping %\nin `nova-manage db purge` command.\n\nChange-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f\n(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)\n(cherry picked from commit e0cfbc5c11a33199e4e3d3491f7fa354e5520f29)\n'}]",0,668454,37ea7eb11cf128db8e9cb62bb436e19c8d85a319,9,6,1,20733,,,0,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
(cherry picked from commit 1eb5ee747d45128220edf1d1446819fa324402b8)
(cherry picked from commit e0cfbc5c11a33199e4e3d3491f7fa354e5520f29)
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/54/668454/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb']",2,37ea7eb11cf128db8e9cb62bb436e19c8d85a319,escape_date_arg," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +\\%D` --verbose --all-cells >>#{params[:destination]} 2>&1"","," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose --all-cells >>#{params[:destination]} 2>&1"",",4,4
openstack%2Fdesignate~master~I99d228f850e03045febf196f12eef5927f7605b9,openstack/designate,master,I99d228f850e03045febf196f12eef5927f7605b9,Update vagrant config,MERGED,2019-04-01 13:50:23.000000000,2019-07-01 16:33:42.000000000,2019-07-01 16:33:42.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-04-01 13:50:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/dc4d29a9309b27141897b8ef6e82f32b7cb3b533', 'message': 'Update vagrant config\n\n* Move to bionic\n* Add openSUSE Leap 15\n* * Update Bind devstack backend plugin to work on Leap\n* Remove port mapping\n* Rmove the .gitconfig copy into the VM\n\nChange-Id: I99d228f850e03045febf196f12eef5927f7605b9\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 2, 'created': '2019-05-21 13:14:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/designate/commit/8f82ba8fc12691e1252df52e9b8f6645b75090f7', 'message': 'Update vagrant config\n\n* Move to bionic\n* Add openSUSE Leap 15\n* * Update Bind devstack backend plugin to work on Leap\n* Remove port mapping\n* Rmove the .gitconfig copy into the VM\n\nChange-Id: I99d228f850e03045febf196f12eef5927f7605b9\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}, {'number': 3, 'created': '2019-06-19 13:44:49.000000000', 'files': ['contrib/vagrant/Vagrantfile', 'devstack/designate_plugins/backend-bind9'], 'web_link': 'https://opendev.org/openstack/designate/commit/3734f2a13f094fe86c354c87e102543f9b1fa006', 'message': 'Update vagrant config\n\n* Move to bionic\n* Add openSUSE Leap 15\n* * Update Bind devstack backend plugin to work on Leap\n* Remove port mapping\n* Rmove the .gitconfig copy into the VM\n\nChange-Id: I99d228f850e03045febf196f12eef5927f7605b9\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,649031,3734f2a13f094fe86c354c87e102543f9b1fa006,13,3,3,8099,,,0,"Update vagrant config

* Move to bionic
* Add openSUSE Leap 15
* * Update Bind devstack backend plugin to work on Leap
* Remove port mapping
* Rmove the .gitconfig copy into the VM

Change-Id: I99d228f850e03045febf196f12eef5927f7605b9
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/designate refs/changes/31/649031/1 && git format-patch -1 --stdout FETCH_HEAD,"['contrib/vagrant/Vagrantfile', 'contrib/vagrant/local.conf', 'devstack/designate_plugins/backend-bind9']",3,dc4d29a9309b27141897b8ef6e82f32b7cb3b533,vagrant-updates,if is_suse; then BIND_SERVICE_NAME=named BIND_CFG_DIR=/etc/named BIND_CFG_FILE=/etc/named.conf BIND_VAR_DIR=/var/lib/named BIND_USER=named BIND_GROUP=named fi elif is_suse; then install_package bind,,24,11
openstack%2Fneutron-fwaas~master~If177e682e00e38eeb75a7ad77cf5796a04fe831b,openstack/neutron-fwaas,master,If177e682e00e38eeb75a7ad77cf5796a04fe831b,Switch neutron-fwaas-v2-dsvm-tempest job to python 3,MERGED,2019-06-21 15:38:29.000000000,2019-07-01 16:26:48.000000000,2019-07-01 16:26:48.000000000,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-21 15:38:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/bd21a384f3a28332b9c6e8f6f164e4df08141ea5', 'message': 'Switch neutron-fwaas-v2-dsvm-tempest job to python 3\n\nThis patch switch neutron-fwaas-v2-dsvm-tempest CI job to be run\nusing Python 3.\nIt also fixes issue with sort of strings and None values in\nlegacy_conntrack module - it was fine in Python 2 but in Python 3\nit raises TypeError exception.\n\nIt also changes devstack plugin to set fwaas L3 agent extension in\n""agent"" section of config file. Previously it was set in ""AGENT""\nsection and it looks that it makes the difference when running on\nPython 3.\n\nChange-Id: If177e682e00e38eeb75a7ad77cf5796a04fe831b\n'}, {'number': 2, 'created': '2019-06-22 12:05:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f3bcf100679bb0755ae397b2f480df79db793f96', 'message': 'Switch neutron-fwaas-v2-dsvm-tempest job to python 3\n\nIt also changes devstack plugin to set fwaas L3 agent extension in\n""agent"" section of config file. Previously it was set in ""AGENT""\nsection and it looks that it makes the difference when running on\nPython 3.\n\nChange-Id: If177e682e00e38eeb75a7ad77cf5796a04fe831b\n'}, {'number': 3, 'created': '2019-06-27 06:37:05.000000000', 'files': ['devstack/lib/l3_agent', '.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/1569b84aa932626d5f1a83dbb23a0bbe28347745', 'message': 'Switch neutron-fwaas-v2-dsvm-tempest job to python 3\n\nIt also changes devstack plugin to set fwaas L3 agent extension in\n""agent"" section of config file. Previously it was set in ""AGENT""\nsection and it looks that it makes the difference when running on\nPython 3.\n\nChange-Id: If177e682e00e38eeb75a7ad77cf5796a04fe831b\n'}]",0,666871,1569b84aa932626d5f1a83dbb23a0bbe28347745,18,4,3,11975,,,0,"Switch neutron-fwaas-v2-dsvm-tempest job to python 3

It also changes devstack plugin to set fwaas L3 agent extension in
""agent"" section of config file. Previously it was set in ""AGENT""
section and it looks that it makes the difference when running on
Python 3.

Change-Id: If177e682e00e38eeb75a7ad77cf5796a04fe831b
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/71/666871/3 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/lib/l3_agent', '.zuul.yaml', 'neutron_fwaas/services/firewall/service_drivers/agents/drivers/linux/legacy_conntrack.py']",3,bd21a384f3a28332b9c6e8f6f164e4df08141ea5,switch-to-py3, rule_filters = sorted( self._get_filter_from_rule(r) for r in rules if r is not None), rule_filters = sorted(self._get_filter_from_rule(r) for r in rules),4,2
openstack%2Fnova~stable%2Fstein~I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,openstack/nova,stable/stein,I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc,Delete resource providers for all nodes when deleting compute service,MERGED,2019-06-21 13:52:21.000000000,2019-07-01 16:25:12.000000000,2019-07-01 16:25:12.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-21 13:52:21.000000000', 'files': ['nova/tests/unit/api/openstack/compute/test_services.py', 'releasenotes/notes/bug-1811726-multi-node-delete-2ba17f02c6171fbb.yaml', 'nova/api/openstack/compute/services.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/e9889be94ee58a6da78ef96d09d8f5282b86f648', 'message': ""Delete resource providers for all nodes when deleting compute service\n\nChange I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the\ncompute node resource provider associated with a compute node when\ndeleting a nova-compute service. However, it would only delete the\nfirst compute node associated with the service which means for an\nironic compute service that is managing multiple nodes, the resource\nproviders were not cleaned up in placement. This fixes the issue by\niterating all the compute nodes and cleaning up their providers.\nNote this could be potentially a lot of nodes, but we don't really\nhave many good options here but to iterate them and clean them up\none at a time.\n\nNote that this is best-effort but because of how the\nSchedulerReportClient.delete_resource_provider method ignores\nResourceProviderInUse errors, and we could have stale allocations\non the host for which delete_resource_provider is not accounting,\nnamely allocations from evacuated instances (or incomplete migrations\nthough you can't migrate baremetal instances today), we could still\ndelete the compute service and orphan those in-use providers. That,\nhowever, is no worse than before this change where we did not try\nto cleanup all providers. The issue described above is being tracked\nwith bug 1829479 and will be dealt with separately.\n\nChange-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc\nCloses-Bug: #1811726\n(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)\n""}]",0,666840,e9889be94ee58a6da78ef96d09d8f5282b86f648,15,7,1,6873,,,0,"Delete resource providers for all nodes when deleting compute service

Change I7b8622b178d5043ed1556d7bdceaf60f47e5ac80 started deleting the
compute node resource provider associated with a compute node when
deleting a nova-compute service. However, it would only delete the
first compute node associated with the service which means for an
ironic compute service that is managing multiple nodes, the resource
providers were not cleaned up in placement. This fixes the issue by
iterating all the compute nodes and cleaning up their providers.
Note this could be potentially a lot of nodes, but we don't really
have many good options here but to iterate them and clean them up
one at a time.

Note that this is best-effort but because of how the
SchedulerReportClient.delete_resource_provider method ignores
ResourceProviderInUse errors, and we could have stale allocations
on the host for which delete_resource_provider is not accounting,
namely allocations from evacuated instances (or incomplete migrations
though you can't migrate baremetal instances today), we could still
delete the compute service and orphan those in-use providers. That,
however, is no worse than before this change where we did not try
to cleanup all providers. The issue described above is being tracked
with bug 1829479 and will be dealt with separately.

Change-Id: I9e852e25ea89f32bf19cdaeb1f5dac8f749f5dbc
Closes-Bug: #1811726
(cherry picked from commit 650fe118d128f09f78552b82abc114bb4b84930e)
",git fetch https://review.opendev.org/openstack/nova refs/changes/40/666840/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/api/openstack/compute/test_services.py', 'releasenotes/notes/bug-1811726-multi-node-delete-2ba17f02c6171fbb.yaml', 'nova/api/openstack/compute/services.py']",3,e9889be94ee58a6da78ef96d09d8f5282b86f648,bug/1811726," # placement for the compute nodes managed by this service; # remember that an ironic compute service can manage multiple # nodes compute_nodes = objects.ComputeNodeList.get_all_by_host( context, service.host) for compute_node in compute_nodes: self.placementclient.delete_resource_provider( context, compute_node, cascade=True)"," # placement for this compute node self.placementclient.delete_resource_provider( context, service.compute_node, cascade=True)",32,9
openstack%2Fopenstack-ansible-os_keystone~stable%2Fstein~Ifec88251712a99ad7afbb51e386adf15bc4841eb,openstack/openstack-ansible-os_keystone,stable/stein,Ifec88251712a99ad7afbb51e386adf15bc4841eb,Prevent autoremoval of packages on bare metal,MERGED,2019-06-12 00:41:40.000000000,2019-07-01 16:25:08.000000000,2019-07-01 16:25:08.000000000,"[{'_account_id': 15993}, {'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 30127}, {'_account_id': 30381}]","[{'number': 1, 'created': '2019-06-12 00:41:40.000000000', 'files': ['tasks/keystone_install.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_keystone/commit/aee98634496f457177652307a9f4613cdd290c36', 'message': 'Prevent autoremoval of packages on bare metal\n\nWhen deploying OSA on bare metal (no container tech),\nthe os keystone role interferes with os horizon as the\npackage apache2 is automatically uninstalled.\n\nChange-Id: Ifec88251712a99ad7afbb51e386adf15bc4841eb\nCloses-Bug: #1830397\n(cherry picked from commit ae6c1982ec2101547b6744cf157aae4ce5bbb49e)\n'}]",0,664753,aee98634496f457177652307a9f4613cdd290c36,9,5,1,14552,,,0,"Prevent autoremoval of packages on bare metal

When deploying OSA on bare metal (no container tech),
the os keystone role interferes with os horizon as the
package apache2 is automatically uninstalled.

Change-Id: Ifec88251712a99ad7afbb51e386adf15bc4841eb
Closes-Bug: #1830397
(cherry picked from commit ae6c1982ec2101547b6744cf157aae4ce5bbb49e)
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_keystone refs/changes/53/664753/1 && git format-patch -1 --stdout FETCH_HEAD,['tasks/keystone_install.yml'],1,aee98634496f457177652307a9f4613cdd290c36,bug/1830397," when: ""(is_metal is undefined) or not (is_metal | bool)""",,2,0
openstack%2Fdesignate~master~If81186c42f522a4d429b492e22ad66388fc25a5f,openstack/designate,master,If81186c42f522a4d429b492e22ad66388fc25a5f,Add some additional logging for failing task test,MERGED,2019-06-28 18:03:49.000000000,2019-07-01 16:25:07.000000000,2019-07-01 16:25:06.000000000,"[{'_account_id': 8099}, {'_account_id': 22348}, {'_account_id': 22623}]","[{'number': 1, 'created': '2019-06-28 18:03:49.000000000', 'files': ['designate/producer/tasks.py', 'designate/tests/test_producer/test_tasks.py'], 'web_link': 'https://opendev.org/openstack/designate/commit/1f97fab5de52667a17f41fe144e241449e853bda', 'message': 'Add some additional logging for failing task test\n\nChange-Id: If81186c42f522a4d429b492e22ad66388fc25a5f\n'}]",0,668221,1f97fab5de52667a17f41fe144e241449e853bda,15,3,1,22623,,,0,"Add some additional logging for failing task test

Change-Id: If81186c42f522a4d429b492e22ad66388fc25a5f
",git fetch https://review.opendev.org/openstack/designate refs/changes/21/668221/1 && git format-patch -1 --stdout FETCH_HEAD,"['designate/producer/tasks.py', 'designate/tests/test_producer/test_tasks.py']",2,1f97fab5de52667a17f41fe144e241449e853bda,improved_tests," def _fetch_all_zones(self): # Fetch all zones including deleted ones. return self._fetch_zones(tables.zones.select()) zones = self._fetch_all_zones() self.assertEqual(self.number_of_zones, len(zones)) self.assertEqual( remaining, len(zones), message='Remaining zones: %s' % zones )"," self.assertEqual(remaining, len(zones))",17,6
openstack%2Fneutron-fwaas~master~I864af53231b9a28e30b901c1989c49fed22f4d46,openstack/neutron-fwaas,master,I864af53231b9a28e30b901c1989c49fed22f4d46,Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3,MERGED,2019-06-18 20:27:48.000000000,2019-07-01 16:23:27.000000000,2019-07-01 16:23:27.000000000,"[{'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8556}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}, {'_account_id': 26458}]","[{'number': 1, 'created': '2019-06-18 20:27:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ca94eb4b285cfb58b5efb1762aa505d4b32a226b', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 2, 'created': '2019-06-18 20:35:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/234b769ccfd18f63024544831be4e95b8bf58913', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 3, 'created': '2019-06-18 20:40:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/12299853aa13bf3576940af91bf50f936e6cf80b', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 4, 'created': '2019-06-18 20:57:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e5eb7fbbf55b1fc8cf22a1bc51fd95135706d1b4', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 5, 'created': '2019-06-19 06:34:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/cc57078ddb7f5c517f073f49765fb8f2e07fb569', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 6, 'created': '2019-06-19 16:53:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f8c2c0ddd5a24bcd9346a275610e67df2de888d4', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 7, 'created': '2019-06-19 17:44:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/054be22485f8cd5891163f56ff46f4445d665a8a', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 8, 'created': '2019-06-19 18:41:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/e2b0ebe755bbbcc86c9f9dae95281c4fe4f5a170', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 9, 'created': '2019-06-19 21:14:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/5dab3acf917d8025ac365733c7966cd80315e470', 'message': 'Switch legacy-neutron-fwaas-v2-dsvm-tempest job to python3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"", converts it zuulv3 syntax and\nswitch to run on Python 3.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 10, 'created': '2019-06-21 15:21:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/00df5a02462f9fdb04fe10f12437f01bfe4df9f1', 'message': 'Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"" and converts it zuulv3 syntax.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}, {'number': 11, 'created': '2019-06-27 06:36:40.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/f81def6e30bfa94a563ecaf4866780215bf0a317', 'message': 'Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3\n\nThis patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to\n""neutron-fwaas-v2-dsvm-tempest"" and converts it zuulv3 syntax.\n\nChange-Id: I864af53231b9a28e30b901c1989c49fed22f4d46\n'}]",10,666165,f81def6e30bfa94a563ecaf4866780215bf0a317,43,9,11,11975,,,0,"Convert legacy-neutron-fwaas-v2-dsvm-tempest job to zuulv3

This patch renames job ""legacy-neutron-fwaas-v2-dsvm-tempest"" to
""neutron-fwaas-v2-dsvm-tempest"" and converts it zuulv3 syntax.

Change-Id: I864af53231b9a28e30b901c1989c49fed22f4d46
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/65/666165/10 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,ca94eb4b285cfb58b5efb1762aa505d4b32a226b,switch-to-py3, - neutron-fwaas-v2-dsvm-tempest - neutron-fwaas-v2-dsvm-tempest - job: name: neutron-fwaas-v2-dsvm-tempest parent: devstack-tempest roles: - zuul: openstack/devstack required-projects: - openstack/devstack-gate - openstack/neutron - openstack/neutron-fwaas - openstack/tempest devstack_plugins: neutron: https://opendev.org/openstack/neutron.git neutron-fwaas: https://opendev.org/openstack/neutron-fwaas.git vars: tempest_test_regex: ^neutron_fwaas\. devstack_services: q-fwaas-v2: true devstack_localrc: USE_PYTHON3: true FWAAS_VERSION: v2, - legacy-neutron-fwaas-v2-dsvm-tempest - legacy-neutron-fwaas-v2-dsvm-tempest,24,2
openstack%2Fkolla~stable%2Fstein~Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0,openstack/kolla,stable/stein,Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0,Update neutron to 14.0.2. https://review.opendev.org/#/c/663122/,ABANDONED,2019-07-01 15:01:19.000000000,2019-07-01 16:21:01.000000000,,"[{'_account_id': 14826}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-07-01 15:01:19.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/df58d2431109c1a4a3e1a0310f63019dc1d538f1', 'message': 'Update neutron to 14.0.2.\nhttps://review.opendev.org/#/c/663122/\n\nFixes:\nhttps://launchpad.net/bugs/1234750\nhttps://launchpad.net/bugs/1194350\nhttps://launchpad.net/bugs/1826419\n\nChange-Id: Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0\n'}]",0,668486,df58d2431109c1a4a3e1a0310f63019dc1d538f1,4,2,1,30484,,,0,"Update neutron to 14.0.2.
https://review.opendev.org/#/c/663122/

Fixes:
https://launchpad.net/bugs/1234750
https://launchpad.net/bugs/1194350
https://launchpad.net/bugs/1826419

Change-Id: Ia8bbdeac3416bd3d489d52e21c82a847b6e212e0
",git fetch https://review.opendev.org/openstack/kolla refs/changes/86/668486/1 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,df58d2431109c1a4a3e1a0310f63019dc1d538f1,stub/neutron-14.0.2," 'neutron-14.0.2.tar.gz')},"," 'neutron-14.0.1.tar.gz')},",1,1
openstack%2Ftripleo-common~master~I3fa0717203f3f6eae852d019bec71e97eb485aa2,openstack/tripleo-common,master,I3fa0717203f3f6eae852d019bec71e97eb485aa2,Fix tripleo-upgrade-hiera key deleting,MERGED,2019-06-14 09:33:46.000000000,2019-07-01 16:20:33.000000000,2019-06-18 10:38:20.000000000,"[{'_account_id': 8042}, {'_account_id': 16515}, {'_account_id': 17499}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-14 09:33:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/fb8bb244561599b95095b584c162ad17efd9aa8d', 'message': 'Fix tripleo-upgrade-hiera key deleting\n\nWhen tripleo-upgrade-hiera key deleting was used multiple times in a\nplaybook, the fact tripleo_upgrade_hiera_data_del persisted from the\nprevious invocation instead of getting gradually filled from empty\ndict. This resulted in never deleting the keys except on the first run\nof the task.\n\nCloses-Bug: #1832827\nChange-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2\n'}, {'number': 2, 'created': '2019-06-17 08:17:21.000000000', 'files': ['roles/tripleo-upgrade-hiera/tasks/remove.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/6cfc204630c6771e27f946d64befa5d4107785ba', 'message': 'Fix tripleo-upgrade-hiera key deleting\n\nThe commit fixes these issues:\n\n* When tripleo-upgrade-hiera key deleting was used multiple times in a\n  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the\n  previous invocation instead of getting gradually filled from empty\n  dict. This resulted in never deleting the keys except on the first\n  run of the task.\n\n* When the key deleting was called in an Ansible `loop`, the external\n  `item` variable and the internal `item` in the deleting code\n  conflicted on naming, breaking the removal of the key. We now use\n  `loop_var: upgrade_hiera_item` to avoid naming collisions.\n\nCloses-Bug: #1832827\nChange-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2\n'}]",0,665338,6cfc204630c6771e27f946d64befa5d4107785ba,20,7,2,8042,,,0,"Fix tripleo-upgrade-hiera key deleting

The commit fixes these issues:

* When tripleo-upgrade-hiera key deleting was used multiple times in a
  playbook, the fact tripleo_upgrade_hiera_data_del persisted from the
  previous invocation instead of getting gradually filled from empty
  dict. This resulted in never deleting the keys except on the first
  run of the task.

* When the key deleting was called in an Ansible `loop`, the external
  `item` variable and the internal `item` in the deleting code
  conflicted on naming, breaking the removal of the key. We now use
  `loop_var: upgrade_hiera_item` to avoid naming collisions.

Closes-Bug: #1832827
Change-Id: I3fa0717203f3f6eae852d019bec71e97eb485aa2
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/38/665338/1 && git format-patch -1 --stdout FETCH_HEAD,['roles/tripleo-upgrade-hiera/tasks/remove.yml'],1,fb8bb244561599b95095b584c162ad17efd9aa8d,bug/1832827,"- name: reset tripleo_upgrade_hiera_data_del fact set_fact: tripleo_upgrade_hiera_data_del: {} tripleo_upgrade_hiera_data_del: ""{{ tripleo_upgrade_hiera_data_del|combine({item.key: item.value}) }}"""," tripleo_upgrade_hiera_data_del: ""{{ tripleo_upgrade_hiera_data_del|default({})|combine({item.key: item.value}) }}""",5,1
openstack%2Ftripleo-upgrade~master~Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,openstack/tripleo-upgrade,master,Ia108af3799dfd1be24c6ea738e42f0cde19c90c3,Disable Leapp when using OOOQ,MERGED,2019-06-13 11:16:33.000000000,2019-07-01 16:19:57.000000000,2019-06-19 19:27:27.000000000,"[{'_account_id': 8042}, {'_account_id': 11090}, {'_account_id': 20775}, {'_account_id': 21537}, {'_account_id': 22348}, {'_account_id': 26343}]","[{'number': 1, 'created': '2019-06-13 11:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/fc9cb6f8fd82f35ff544a8125bdcc0100ac92651', 'message': 'Allow disabling Leapp\n\nChange-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\n'}, {'number': 2, 'created': '2019-06-13 11:20:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/9991508d0e372d8d5d6b09f1a22c1bcd4230e2b2', 'message': 'Allow disabling Leapp\n\nChange-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\n'}, {'number': 3, 'created': '2019-06-18 11:18:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/724e147a35ba2a6c5f34bece392601c349416c48', 'message': ""Disable Leapp when using OOOQ\n\nWhen using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.\n\nChange-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\n""}, {'number': 4, 'created': '2019-06-18 11:19:52.000000000', 'files': ['templates/overcloud_upgrade_prepare.sh.j2', 'templates/disable-leapp.yaml.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-upgrade/commit/181111e62de7f0f3fd0d6fd8cd62834f1783f148', 'message': ""Disable Leapp when using OOOQ\n\nWhen using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.\n\nChange-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3\n""}]",3,665113,181111e62de7f0f3fd0d6fd8cd62834f1783f148,25,6,4,8042,,,0,"Disable Leapp when using OOOQ

When using OOOQ, don't enable the Leapp chunks of upgrade workflow yet.

Change-Id: Ia108af3799dfd1be24c6ea738e42f0cde19c90c3
",git fetch https://review.opendev.org/openstack/tripleo-upgrade refs/changes/13/665113/2 && git format-patch -1 --stdout FETCH_HEAD,"['templates/overcloud_upgrade_prepare.sh.j2', 'templates/disable-leapp.yaml.j2', 'tasks/upgrade/create-overcloud-upgrade-scripts.yaml']",3,fc9cb6f8fd82f35ff544a8125bdcc0100ac92651,leapp,"- name: create disable-leapp env file template: src: ""disable-leapp.yaml.j2"" dest: ""{{ working_dir }}/disable-leapp.yaml"" mode: 0755 force: true when: upgrade_disable_leapp|default(false)|bool ",,13,0
openstack%2Frpm-packaging~master~Idd25d03787345ca3cef6f083d37d13bde43928d5,openstack/rpm-packaging,master,Idd25d03787345ca3cef6f083d37d13bde43928d5,update openstackdocstheme to 1.30.0,ABANDONED,2019-05-31 01:25:11.000000000,2019-07-01 16:18:13.000000000,,"[{'_account_id': 10459}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-05-31 01:25:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/c13ad6616ec43e539f4a7b8121cd440385d08fa4', 'message': 'update openstackdocstheme to 1.30.0\n\nChange-Id: Idd25d03787345ca3cef6f083d37d13bde43928d5\n'}, {'number': 2, 'created': '2019-07-01 16:18:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/f54c2539449e530864b6d0e502786a65cd403d40', 'message': 'update openstackdocstheme to 1.30.0\n\nChange-Id: Idd25d03787345ca3cef6f083d37d13bde43928d5\n'}]",0,662368,f54c2539449e530864b6d0e502786a65cd403d40,8,4,2,30298,,,0,"update openstackdocstheme to 1.30.0

Change-Id: Idd25d03787345ca3cef6f083d37d13bde43928d5
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/68/662368/2 && git format-patch -1 --stdout FETCH_HEAD,['openstack/openstackdocstheme/openstackdocstheme.spec.j2'],1,c13ad6616ec43e539f4a7b8121cd440385d08fa4,openstackdocstheme,{% set upstream_version = upstream_version('1.30.0') %},{% set upstream_version = upstream_version('1.29.3') %},1,1
openstack%2Fkolla~stable%2Fstein~I3c057e92c501bca358b164997d02b74e029ddbff,openstack/kolla,stable/stein,I3c057e92c501bca358b164997d02b74e029ddbff,Update Neutron to 14.0.2 Update ironic-inspector to 8.2.2,ABANDONED,2019-07-01 15:41:44.000000000,2019-07-01 16:16:56.000000000,,[],"[{'number': 1, 'created': '2019-07-01 15:41:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla/commit/df993410164ed51f08f8d26b7428d0e31be20c31', 'message': 'Update Neutron to 14.0.2\nUpdate ironic-inspector to 8.2.2\n\nChange-Id: I3c057e92c501bca358b164997d02b74e029ddbff\n'}, {'number': 2, 'created': '2019-07-01 15:54:24.000000000', 'files': ['kolla/common/config.py'], 'web_link': 'https://opendev.org/openstack/kolla/commit/f3bf47591fc27206deaf4799759208af454a47c4', 'message': 'Update Neutron to 14.0.2\nUpdate ironic-inspector to 8.2.2\n\nChange-Id: I3c057e92c501bca358b164997d02b74e029ddbff\n'}]",0,668496,f3bf47591fc27206deaf4799759208af454a47c4,3,0,2,30484,,,0,"Update Neutron to 14.0.2
Update ironic-inspector to 8.2.2

Change-Id: I3c057e92c501bca358b164997d02b74e029ddbff
",git fetch https://review.opendev.org/openstack/kolla refs/changes/96/668496/2 && git format-patch -1 --stdout FETCH_HEAD,['kolla/common/config.py'],1,df993410164ed51f08f8d26b7428d0e31be20c31,stub/neutron-14.0.2," 'ironic-inspector-8.2.2.tar.gz')},"," 'ironic-inspector-8.2.1.tar.gz')},",1,1
openstack%2Ftripleo-validations~stable%2Fstein~Ica0d4af5faa1693baa8f336db71143e0457401f0,openstack/tripleo-validations,stable/stein,Ica0d4af5faa1693baa8f336db71143e0457401f0,Add support for the chrony implementation,MERGED,2019-06-26 08:42:51.000000000,2019-07-01 16:15:17.000000000,2019-07-01 16:15:17.000000000,"[{'_account_id': 11491}, {'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-26 08:42:51.000000000', 'files': ['roles/ntpstat/vars/main.yml', 'roles/ntp/tasks/main.yml', 'roles/ntp/meta/main.yml', 'roles/ntpstat/tasks/main.yml', 'roles/ntp/vars/main.yml', 'playbooks/ntp.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/367fbf3ab6878702019709471e1e9c122d323c11', 'message': ""Add support for the chrony implementation\n\nChronyd is installed and configured by default since the Stein\nCycle. This patch adds the support of the latter.\n\nThis patch also renames the 'ntpstat' playbook and role by 'ntp' which\nis more generic.\n\nChange-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n(cherry picked from commit d4db54cbfd005c7b8b2ad046ae3240d03a87d185)\n""}]",0,667552,367fbf3ab6878702019709471e1e9c122d323c11,10,5,1,11491,,,0,"Add support for the chrony implementation

Chronyd is installed and configured by default since the Stein
Cycle. This patch adds the support of the latter.

This patch also renames the 'ntpstat' playbook and role by 'ntp' which
is more generic.

Change-Id: Ica0d4af5faa1693baa8f336db71143e0457401f0
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
(cherry picked from commit d4db54cbfd005c7b8b2ad046ae3240d03a87d185)
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/52/667552/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/ntpstat/vars/main.yml', 'roles/ntp/meta/main.yml', 'roles/ntp/tasks/main.yml', 'roles/ntp/vars/main.yml', 'roles/ntpstat/tasks/main.yml', 'playbooks/ntp.yaml']",6,367fbf3ab6878702019709471e1e9c122d323c11,chrony_support-stable/stein, The deployment should configure and run chronyd. This validation verifies that it is indeed running and connected to an NTP server on all nodes. - ntp, The deployment should configure and run ntpd. This validation verifies that it is indeed running and connected to an NPT server on all nodes. - ntpstat,39,18
openstack%2Ftripleo-common~master~I1809400d798d4350f9642a348ecbe81714e6af47,openstack/tripleo-common,master,I1809400d798d4350f9642a348ecbe81714e6af47,Check third-party container image metadata.,MERGED,2019-06-27 10:18:42.000000000,2019-07-01 16:11:43.000000000,2019-07-01 15:19:03.000000000,"[{'_account_id': 4571}, {'_account_id': 6796}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-27 10:18:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/996921e24ad09ad72468205e8a024db75e6b96e8', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n""}, {'number': 2, 'created': '2019-06-27 11:50:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/2e51640dc18301cc425ffea5352904b0be69fd3c', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n""}, {'number': 3, 'created': '2019-06-27 13:16:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/29cf34aa53d1c115db449ed5933b463348a236f9', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n""}, {'number': 4, 'created': '2019-06-27 13:31:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/4c45aca97f094ba386af1f7c2a2c779acf74e17e', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n""}, {'number': 5, 'created': '2019-06-28 13:21:20.000000000', 'files': ['tripleo_common/image/image_uploader.py'], 'web_link': 'https://opendev.org/openstack/tripleo-common/commit/67440277926e73ea0f8f913170c0013b068a99e6', 'message': ""Check third-party container image metadata.\n\nDuring the evaluation of a third parties image that doesn't\ncontain the expected metadata json, the image_uploader section\nfails.\nThis commit adds the check on the returned dict and adds the\nability to use the fallback_tag.\n\nChange-Id: I1809400d798d4350f9642a348ecbe81714e6af47\nCloses-Bug: #1834456\n""}]",10,667837,67440277926e73ea0f8f913170c0013b068a99e6,28,6,5,25402,,,0,"Check third-party container image metadata.

During the evaluation of a third parties image that doesn't
contain the expected metadata json, the image_uploader section
fails.
This commit adds the check on the returned dict and adds the
ability to use the fallback_tag.

Change-Id: I1809400d798d4350f9642a348ecbe81714e6af47
Closes-Bug: #1834456
",git fetch https://review.opendev.org/openstack/tripleo-common refs/changes/37/667837/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleo_common/image/image_uploader.py'],1,996921e24ad09ad72468205e8a024db75e6b96e8,lp1834456," if(hasattr(labels, 'keys')): label_keys = ', '.join(labels.keys()) tag_label = None if(isinstance(labels, dict)): tag_label = labels.get(tag_from_label)"," label_keys = ', '.join(labels.keys()) tag_label = labels.get(tag_from_label)",5,2
openstack%2Fpuppet-nova~master~I7a7a3519faa656654dcaee1dee7705101abd5136,openstack/puppet-nova,master,I7a7a3519faa656654dcaee1dee7705101abd5136,DNM: Test build job,ABANDONED,2019-07-01 15:46:07.000000000,2019-07-01 15:59:33.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-07-01 15:46:07.000000000', 'files': ['metadata.json'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/b24be63febdfb5945fe17617c780eae646ea2343', 'message': 'DNM: Test build job\n\nTesting that change Id40ff665e92606455ef6b544f11394db2201c8b9\nworks as desired.\n\nChange-Id: I7a7a3519faa656654dcaee1dee7705101abd5136\n'}]",0,668499,b24be63febdfb5945fe17617c780eae646ea2343,3,1,1,6547,,,0,"DNM: Test build job

Testing that change Id40ff665e92606455ef6b544f11394db2201c8b9
works as desired.

Change-Id: I7a7a3519faa656654dcaee1dee7705101abd5136
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/99/668499/1 && git format-patch -1 --stdout FETCH_HEAD,['metadata.json'],1,b24be63febdfb5945fe17617c780eae646ea2343,dnm," ""description"": ""Install and configure OpenStack Nova (Compute)."","," ""description"": ""Installs and configures OpenStack Nova (Compute)."",",1,1
openstack%2Fplacement~master~I4e10168014ac83a0c49375ec547980a70bc61541,openstack/placement,master,I4e10168014ac83a0c49375ec547980a70bc61541,DNM: Allow RequestGroups without resources,ABANDONED,2019-05-07 01:28:44.000000000,2019-07-01 15:56:49.000000000,,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-07 01:28:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9cc64b0ef9585ce4fb3d677b407928606cfde09f', 'message': ""WIP: Allow RequestGroups without resources\n\nThis change adjust RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.33\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 2, 'created': '2019-05-07 17:48:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/73c313878e73a14f33ac8b2d307810bf7fcee2ed', 'message': ""WIP: Allow RequestGroups without resources\n\nThis change adjust RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.33\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 3, 'created': '2019-05-16 12:32:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/b4cdd1976bf8a000facb5718e20a6c567294e801', 'message': ""WIP: Allow RequestGroups without resources\n\nThis change adjust RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.33\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 4, 'created': '2019-05-21 16:32:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/dd227b032987083b9cdb12b7579b143f637c3159', 'message': ""WIP: Allow RequestGroups without resources\n\nThis change adjusts RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.33 (racing with another 1.33,\nbut it's a WIP so ndb).\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nA gabbi file is added, which demonstrates some confusion on\nhow this ought to work. Input appreciated on how we should\norder (and test) the probably several ways in which this will\nneed to be adjusted.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 5, 'created': '2019-05-21 20:56:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e498ecaa46320b84ca7b447e3d0a63c623138a54', 'message': ""WIP: Allow RequestGroups without resources\n\nThis change adjusts RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.33 (racing with another 1.33,\nbut it's a WIP so ndb).\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nA gabbi file is added, which demonstrates some confusion on\nhow this ought to work. Input appreciated on how we should\norder (and test) the probably several ways in which this will\nneed to be adjusted.\n\nThere is a hacked up experiment in the most recent patchset\nthat shows how things can be forced to work with a\nnon-granular request.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 6, 'created': '2019-06-11 11:19:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/d9579771627116849e9d677634fba535801cb169', 'message': ""DNM: Allow RequestGroups without resources\n\nThis change adjusts RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.34\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nTwo gabbi files are added, granular-resourceless.yaml demonstrates\nsome confusion on how this ought to work. Input appreciated on\nhow we should order (and test) the probably several ways in which\nthis will need to be adjusted.\n\nThe other, traits-flow-down-experiment.yaml, gives a simple model\nto explore how in-tree traits might work.\n\nThere is a hacked up experiment that shows how things could be\nforced to work with a non-granular request.\n\nThe most recent patchset extends things to explore traits-flow-down\nin more detail, including removing the early trait filtering in\nget_trees_matching_all in research_context. Interestingly this\nleads to only one test failure, which might give us some clues\non how to proceed if we choose a direction like this. There\nare likely some performance implications with that change.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}, {'number': 7, 'created': '2019-06-11 13:46:02.000000000', 'files': ['placement/lib.py', 'placement/tests/functional/gabbits/traits-flow-down-experiment.yaml', 'placement/objects/research_context.py', 'placement/tests/unit/test_util.py', 'placement/objects/allocation_candidate.py', 'placement/microversion.py', 'placement/tests/functional/gabbits/granular-resourceless.yaml', 'placement/tests/functional/gabbits/microversion.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/ff4776aee77343d75985607ebbd6cfc166b04046', 'message': ""DNM: Allow RequestGroups without resources\n\nThis change adjusts RequestGroup parsing to allow individual\ngroups that do not have a resources entry, _as long as there\nis at least one resources somewhere in the entire query_.\n\nThis is done in microversion 1.34\n\nA WIP for your consideration on the implementation. It is WIP\nbecause:\n\n* Docs are still needed\n* This is not just 'required*' without 'resources*', it is\n  anything* without resources* as long as the request has\n  resources somewhere.\n* There are no tests which exercise this in the actual data\n  handling.\n\nTwo gabbi files are added, granular-resourceless.yaml demonstrates\nsome confusion on how this ought to work. Input appreciated on\nhow we should order (and test) the probably several ways in which\nthis will need to be adjusted.\n\nThe other, traits-flow-down-experiment.yaml, gives a simple model\nto explore how in-tree traits might work.\n\nThere is a hacked up experiment that shows how things could be\nforced to work with a non-granular request.\n\nThe most recent patchset extends things to explore traits-flow-down\nin more detail, including removing the early trait filtering in\nget_trees_matching_all in research_context. Interestingly this\nleads to only one test failure, which might give us some clues\non how to proceed if we choose a direction like this. There\nare likely some performance implications with that change.\n\nChange-Id: I4e10168014ac83a0c49375ec547980a70bc61541\nStory: 2005575\nTask: 30784\n""}]",9,657510,ff4776aee77343d75985607ebbd6cfc166b04046,26,3,7,11564,,,0,"DNM: Allow RequestGroups without resources

This change adjusts RequestGroup parsing to allow individual
groups that do not have a resources entry, _as long as there
is at least one resources somewhere in the entire query_.

This is done in microversion 1.34

A WIP for your consideration on the implementation. It is WIP
because:

* Docs are still needed
* This is not just 'required*' without 'resources*', it is
  anything* without resources* as long as the request has
  resources somewhere.
* There are no tests which exercise this in the actual data
  handling.

Two gabbi files are added, granular-resourceless.yaml demonstrates
some confusion on how this ought to work. Input appreciated on
how we should order (and test) the probably several ways in which
this will need to be adjusted.

The other, traits-flow-down-experiment.yaml, gives a simple model
to explore how in-tree traits might work.

There is a hacked up experiment that shows how things could be
forced to work with a non-granular request.

The most recent patchset extends things to explore traits-flow-down
in more detail, including removing the early trait filtering in
get_trees_matching_all in research_context. Interestingly this
leads to only one test failure, which might give us some clues
on how to proceed if we choose a direction like this. There
are likely some performance implications with that change.

Change-Id: I4e10168014ac83a0c49375ec547980a70bc61541
Story: 2005575
Task: 30784
",git fetch https://review.opendev.org/openstack/placement refs/changes/10/657510/6 && git format-patch -1 --stdout FETCH_HEAD,"['placement/lib.py', 'placement/tests/unit/test_util.py', 'placement/microversion.py', 'placement/tests/functional/gabbits/microversion.yaml']",4,9cc64b0ef9585ce4fb3d677b407928606cfde09f,nested-magic,- name: latest microversion is 1.33 openstack-api-version: placement 1.33,- name: latest microversion is 1.32 openstack-api-version: placement 1.32,62,3
openstack%2Fopenstack-zuul-jobs~master~Id541bb066b553ea1d75c2832a4f18ef695bb8cc4,openstack/openstack-zuul-jobs,master,Id541bb066b553ea1d75c2832a4f18ef695bb8cc4,Remove bindep role for Puppet build job,MERGED,2018-12-27 19:56:10.000000000,2019-07-01 15:40:21.000000000,2019-07-01 14:40:16.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 9414}, {'_account_id': 16137}, {'_account_id': 22348}, {'_account_id': 30610}]","[{'number': 1, 'created': '2018-12-27 19:56:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/bd72c57539a6f5ff45eaf08c5022b22d8f755883', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/#/c/627534/\n\nDepends-On: https://review.openstack.org/#/c/627534/\nChange-Id: Id541bb066b553ea1d75c2832a4f18ef695bb8cc4\n""}, {'number': 2, 'created': '2019-06-26 12:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/d4186c4ec78fddea8aad6608ba76735c06369c3b', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/#/c/627534/\n\nDepends-On: https://review.openstack.org/627534\nChange-Id: Id541bb066b553ea1d75c2832a4f18ef695bb8cc4\n""}, {'number': 3, 'created': '2019-06-26 12:24:18.000000000', 'files': ['playbooks/puppet-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5c6d6d639f4f8de89b7de8b8cb2ca55698fd99c0', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/#/c/627534/\n\nDepends-On: https://review.openstack.org/627534\nChange-Id: Id541bb066b553ea1d75c2832a4f18ef695bb8cc4\n""}]",0,627554,5c6d6d639f4f8de89b7de8b8cb2ca55698fd99c0,20,7,3,16137,,,0,"Remove bindep role for Puppet build job

When [1] is merged we no longer have to rely
on the bindep file when puppet modules are built
since it doesn't need the puppet binary.

[1] https://review.openstack.org/#/c/627534/

Depends-On: https://review.openstack.org/627534
Change-Id: Id541bb066b553ea1d75c2832a4f18ef695bb8cc4
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/54/627554/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/puppet-tarball/pre.yaml'],1,bd72c57539a6f5ff45eaf08c5022b22d8f755883,forge-publish,, - role: bindep # NOTE(pabelanger): puppet modules use the build profile to manage # dependencies for puppet module build. bindep_profile: build,0,4
openstack%2Foslo.messaging~master~I0b7bad13c698d49743a630011b2b00c79f205390,openstack/oslo.messaging,master,I0b7bad13c698d49743a630011b2b00c79f205390,Force to use markdown to prevent pypi issue,ABANDONED,2019-07-01 13:48:36.000000000,2019-07-01 15:40:13.000000000,,[],"[{'number': 1, 'created': '2019-07-01 13:48:36.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/oslo.messaging/commit/791291e7e04fb3d0748696941d1dac0a869acdd9', 'message': 'Force to use markdown to prevent pypi issue\n\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: I0b7bad13c698d49743a630011b2b00c79f205390\n'}]",0,668467,791291e7e04fb3d0748696941d1dac0a869acdd9,2,0,1,28522,,,0,"Force to use markdown to prevent pypi issue

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: I0b7bad13c698d49743a630011b2b00c79f205390
",git fetch https://review.opendev.org/openstack/oslo.messaging refs/changes/67/668467/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,791291e7e04fb3d0748696941d1dac0a869acdd9,force-md-format," pbr=True, long_description_content_type='text/markdown')", pbr=True),2,1
openstack%2Fpuppet-tripleo~stable%2Fstein~I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,openstack/puppet-tripleo,stable/stein,I82f62df0a95f03afbda1b6a4ddaa67ef908030a9,Allow enabling custom backends with manila,MERGED,2019-06-25 13:34:13.000000000,2019-07-01 15:39:35.000000000,2019-07-01 15:38:33.000000000,"[{'_account_id': 3153}, {'_account_id': 6796}, {'_account_id': 14985}, {'_account_id': 16643}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-25 13:34:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/dbd9e2f101136e6cc6b015e5af48e1e22fbfca19', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n""}, {'number': 2, 'created': '2019-06-25 16:01:45.000000000', 'files': ['manifests/profile/base/manila/share.pp'], 'web_link': 'https://opendev.org/openstack/puppet-tripleo/commit/ecbec17a339f0965c65ba29a182e571fd6a625cb', 'message': ""Allow enabling custom backends with manila\n\nIt is possible to provide the config settings\nto add an arbitrary and unmanaged backend to Manila\nat deployment time via Heat environment files. However,\npuppet-tripleo doesn't support extending the\nlist of enabled backends. Add this capability.\n\nChange-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9\nCloses-Bug: #1831938\n(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)\n""}]",0,667366,ecbec17a339f0965c65ba29a182e571fd6a625cb,12,6,2,16643,,,0,"Allow enabling custom backends with manila

It is possible to provide the config settings
to add an arbitrary and unmanaged backend to Manila
at deployment time via Heat environment files. However,
puppet-tripleo doesn't support extending the
list of enabled backends. Add this capability.

Change-Id: I82f62df0a95f03afbda1b6a4ddaa67ef908030a9
Closes-Bug: #1831938
(cherry picked from commit 914cf1f124fa5617373ce2f779b1eff202da2e87)
",git fetch https://review.opendev.org/openstack/puppet-tripleo refs/changes/66/667366/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/profile/base/manila/share.pp'],1,dbd9e2f101136e6cc6b015e5af48e1e22fbfca19,bug/1831938-stable/stein,"# [*manila_user_enabled_backends*] # (Optional) List of additional backend stanzas to activate # Defaults to hiera('manila_user_enabled_backends', undef) # $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_user_enabled_backends = hiera('manila_user_enabled_backends', undef), $backends = delete_undef_values(concat([], $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend, $manila_user_enabled_backends)) $manila_enabled_backends = delete($backends, '') "," $backend_generic_enabled = hiera('manila_backend_generic_enabled', false), $backend_netapp_enabled = hiera('manila_backend_netapp_enabled', false), $backend_vmax_enabled = hiera('manila_backend_vmax_enabled', false), $backend_isilon_enabled = hiera('manila_backend_isilon_enabled', false), $backend_unity_enabled = hiera('manila_backend_unity_enabled', false), $backend_vnx_enabled = hiera('manila_backend_vnx_enabled', false), $backend_cephfs_enabled = hiera('manila_backend_cephfs_enabled', false), $manila_enabled_backends = delete_undef_values( [ $manila_generic_backend, $manila_cephfs_backend, $manila_netapp_backend, $manila_vmax_backend, $manila_isilon_backend, $manila_unity_backend, $manila_vnx_backend ] )",22,18
openstack%2Fpython-tripleoclient~master~Ibaf24f89d15e8423679eef45f1691a1a660c71a3,openstack/python-tripleoclient,master,Ibaf24f89d15e8423679eef45f1691a1a660c71a3,mock kernel_arch() in tests.,MERGED,2019-06-27 03:05:39.000000000,2019-07-01 15:36:25.000000000,2019-07-01 15:36:25.000000000,"[{'_account_id': 3153}, {'_account_id': 18575}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-27 03:05:39.000000000', 'files': ['tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'], 'web_link': 'https://opendev.org/openstack/python-tripleoclient/commit/f05cbe322b358195744e43db1be29cc69894cde1', 'message': 'mock kernel_arch() in tests.\n\nWhen running unit tests on non x86_64 systems (for example s390x) the\nunit tests fail with:\n\ntripleoclient.tests.v1.overcloud_image.test_overcloud_image.TestUploadOvercloudImageFullMultiArch.test_overcloud_create_images_with_arch\n----------------------------------------------------------------------------------------------------------------------------------------\nCaptured traceback:\n~~~~~~~~~~~~~~~~~~~\n    b\'Traceback (most recent call last):\'\n    b\'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 1305, in patched\'\n    b\'    return func(*args, **keywargs)\'\n    b\'  File ""/builddir/build/BUILD/python-tripleoclient-12.0.1.dev32/tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py"", line 671, in test_overcloud_create_images_with_arch\'\n    b""    mock.call(11, hw_architecture=\'ppc64le\'),""\n    b\'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 969, in assert_has_calls\'\n    b\'    ), cause)\'\n    b\'  File ""<string>"", line 3, in raise_from\'\n    b\'AssertionError: Calls not found.\'\n    b""Expected: [call(10, hw_architecture=\'x86_64\'), call(11, hw_architecture=\'ppc64le\')]""\n    b""Actual: [call(10, hw_architecture=\'s390x\'), call(11, hw_architecture=\'ppc64le\')]""\n    b\'\'\n\nSo we need to mock the call to kernel_arch() so that regardless of where\nwe\'re running the unit tests we always appear to be x86_64.\n\nChange-Id: Ibaf24f89d15e8423679eef45f1691a1a660c71a3\n'}]",0,667778,f05cbe322b358195744e43db1be29cc69894cde1,8,4,1,12898,,,0,"mock kernel_arch() in tests.

When running unit tests on non x86_64 systems (for example s390x) the
unit tests fail with:

tripleoclient.tests.v1.overcloud_image.test_overcloud_image.TestUploadOvercloudImageFullMultiArch.test_overcloud_create_images_with_arch
----------------------------------------------------------------------------------------------------------------------------------------
Captured traceback:
~~~~~~~~~~~~~~~~~~~
    b'Traceback (most recent call last):'
    b'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 1305, in patched'
    b'    return func(*args, **keywargs)'
    b'  File ""/builddir/build/BUILD/python-tripleoclient-12.0.1.dev32/tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py"", line 671, in test_overcloud_create_images_with_arch'
    b""    mock.call(11, hw_architecture='ppc64le'),""
    b'  File ""/usr/lib/python3.6/site-packages/mock/mock.py"", line 969, in assert_has_calls'
    b'    ), cause)'
    b'  File ""<string>"", line 3, in raise_from'
    b'AssertionError: Calls not found.'
    b""Expected: [call(10, hw_architecture='x86_64'), call(11, hw_architecture='ppc64le')]""
    b""Actual: [call(10, hw_architecture='s390x'), call(11, hw_architecture='ppc64le')]""
    b''

So we need to mock the call to kernel_arch() so that regardless of where
we're running the unit tests we always appear to be x86_64.

Change-Id: Ibaf24f89d15e8423679eef45f1691a1a660c71a3
",git fetch https://review.opendev.org/openstack/python-tripleoclient refs/changes/78/667778/1 && git format-patch -1 --stdout FETCH_HEAD,['tripleoclient/tests/v1/overcloud_image/test_overcloud_image.py'],1,f05cbe322b358195744e43db1be29cc69894cde1,," @mock.patch('tripleo_common.arch.kernel_arch', autospec=True, return_value='x86_64') mock_isfile, mock_arch): @mock.patch('tripleo_common.arch.kernel_arch', autospec=True, return_value='x86_64') mock_isfile, mock_arch):", mock_isfile): mock_isfile):,7,2
openstack%2Ftripleo-heat-templates~master~I43875eee401bb75e14874c776339a7c2a02d300f,openstack/tripleo-heat-templates,master,I43875eee401bb75e14874c776339a7c2a02d300f,Allow ssh from all ctlplane network subnets,MERGED,2019-06-24 18:10:27.000000000,2019-07-01 15:36:23.000000000,2019-07-01 15:36:23.000000000,"[{'_account_id': 3153}, {'_account_id': 6926}, {'_account_id': 10873}, {'_account_id': 14250}, {'_account_id': 14985}, {'_account_id': 21909}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 24245}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-24 18:10:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/ca284ac3061234e43ba8fefa0ea758ccec05dd0c', 'message': ""[WIP]\xa0Allow ssh from all ctlplane network subnets\n\nIn change I89cff59947dda3f51482486c41a3d67c4aa36a3e\nthe default firewall rules where changed so that\nonly the %{hiera('ctlplane_subnet')} is allowed. In\nDCN (spine-and-leaf) the result is that SSH to\nnodes in remote subnets is not possible.\n\nThis change replaces the use of hiera, and instead\nuse the 'net_cidr_map' to create firewall rules for\neach subnet on the ctlplane network. By creating a\nrule for each subnet on the ctlplane SSH will be\nallowed within the L3 ctlplane network.\n\nCloses-Bug: #TODO\nChange-Id: I43875eee401bb75e14874c776339a7c2a02d300f\n""}, {'number': 2, 'created': '2019-06-25 09:01:07.000000000', 'files': ['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a89d46e0380431abed7c21a127c3bcb0d5dceb81', 'message': ""Allow ssh from all ctlplane network subnets\n\nIn change I89cff59947dda3f51482486c41a3d67c4aa36a3e\nthe default firewall rules where changed so that\nonly the %{hiera('ctlplane_subnet')} is allowed. In\nDCN (spine-and-leaf) the result is that SSH to\nnodes in remote subnets is not possible.\n\nThis change replaces the use of hiera, and instead\nuse the 'net_cidr_map' to create firewall rules for\neach subnet on the ctlplane network. By creating a\nrule for each subnet on the ctlplane SSH will be\nallowed within the L3 ctlplane network.\n\nCloses-Bug: #1834161\nChange-Id: I43875eee401bb75e14874c776339a7c2a02d300f\n""}]",0,667172,a89d46e0380431abed7c21a127c3bcb0d5dceb81,15,10,2,24245,,,0,"Allow ssh from all ctlplane network subnets

In change I89cff59947dda3f51482486c41a3d67c4aa36a3e
the default firewall rules where changed so that
only the %{hiera('ctlplane_subnet')} is allowed. In
DCN (spine-and-leaf) the result is that SSH to
nodes in remote subnets is not possible.

This change replaces the use of hiera, and instead
use the 'net_cidr_map' to create firewall rules for
each subnet on the ctlplane network. By creating a
rule for each subnet on the ctlplane SSH will be
allowed within the L3 ctlplane network.

Closes-Bug: #1834161
Change-Id: I43875eee401bb75e14874c776339a7c2a02d300f
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/72/667172/2 && git format-patch -1 --stdout FETCH_HEAD,['deployment/tripleo-firewall/tripleo-firewall-baremetal-puppet.yaml'],1,ca284ac3061234e43ba8fefa0ea758ccec05dd0c,feature/firewall," map_merge: repeat: for_each: <%net_cidr%>: {get_param: [ServiceData, net_cidr_map, ctlplane]} template: '003 accept ssh from ctlplane subnet <%net_cidr%>': source: <%net_cidr%> proto: 'tcp' dport: 22"," '003 accept ssh from controlplane': source: ""%{hiera('ctlplane_subnet')}"" proto: 'tcp' dport: 22",9,4
openstack%2Fneutron-fwaas~master~I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c,openstack/neutron-fwaas,master,I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c,Add bindep.txt file to neutron-fwaas repo,MERGED,2019-06-26 21:56:36.000000000,2019-07-01 15:34:38.000000000,2019-07-01 15:34:38.000000000,"[{'_account_id': 4694}, {'_account_id': 13995}, {'_account_id': 15554}, {'_account_id': 17685}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 21:56:36.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ad1f5471b2447d1c31156a2adb66ac7a95b603f9', 'message': 'Add bindep.txt file to neutron-fwaas repo\n\nIt is needed to put there libpq-dev package which is required\nat least in py37 job.\n\nChange-Id: I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c\nCloses-Bug: #1834298\n'}]",1,667736,ad1f5471b2447d1c31156a2adb66ac7a95b603f9,9,5,1,11975,,,0,"Add bindep.txt file to neutron-fwaas repo

It is needed to put there libpq-dev package which is required
at least in py37 job.

Change-Id: I53c5abd7c60c6925cc9dc9ee95a210fcc7e98a6c
Closes-Bug: #1834298
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/36/667736/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,ad1f5471b2447d1c31156a2adb66ac7a95b603f9,bug/1834298,# This file contains runtime (non-python) dependencies # More info at: http://docs.openstack.org/infra/bindep/readme.html # MySQL and PostgreSQL databases since some jobs are set up in # OpenStack infra that need these like libpq-dev [test] ,,6,0
openstack%2Fpython-novaclient~master~I3594f05a2eb189395d4b691c47e1e0764fa0fe44,openstack/python-novaclient,master,I3594f05a2eb189395d4b691c47e1e0764fa0fe44,Blacklist sphinx 2.1.0 (autodoc bug),MERGED,2019-07-01 09:20:41.000000000,2019-07-01 15:32:37.000000000,2019-07-01 15:32:37.000000000,"[{'_account_id': 679}, {'_account_id': 7634}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 09:20:41.000000000', 'files': ['doc/requirements.txt'], 'web_link': 'https://opendev.org/openstack/python-novaclient/commit/12193fc56b7524d12b208941101d83b019c8b87b', 'message': 'Blacklist sphinx 2.1.0 (autodoc bug)\n\nSee https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details\nDepend-On: https://review.opendev.org/#/c/663060/\n\nChange-Id: I3594f05a2eb189395d4b691c47e1e0764fa0fe44\n'}]",0,668398,12193fc56b7524d12b208941101d83b019c8b87b,7,3,1,27822,,,0,"Blacklist sphinx 2.1.0 (autodoc bug)

See https://github.com/sphinx-doc/sphinx/issues/6440 for upstream details
Depend-On: https://review.opendev.org/#/c/663060/

Change-Id: I3594f05a2eb189395d4b691c47e1e0764fa0fe44
",git fetch https://review.opendev.org/openstack/python-novaclient refs/changes/98/668398/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/requirements.txt'],1,12193fc56b7524d12b208941101d83b019c8b87b,sphinx,"sphinx!=1.6.6,!=1.6.7,!=2.1.0,>=1.6.2;python_version>='3.4' # BSD","sphinx!=1.6.6,!=1.6.7,>=1.6.2;python_version>='3.4' # BSD",1,1
openstack%2Fopenstack-helm-infra~master~Icc221a3a73475655cbf061caeb178b89a15218e5,openstack/openstack-helm-infra,master,Icc221a3a73475655cbf061caeb178b89a15218e5,I abandoned older very similar PS for this one.,ABANDONED,2019-07-01 15:25:55.000000000,2019-07-01 15:27:42.000000000,,[],"[{'number': 1, 'created': '2019-07-01 15:25:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/dae4b30e5edc5d40d1e1ed457e6ab85ccb21bc7b', 'message': 'I abandoned older very similar PS for this one.\n\nChange-Id: Icc221a3a73475655cbf061caeb178b89a15218e5\n'}]",0,668492,dae4b30e5edc5d40d1e1ed457e6ab85ccb21bc7b,2,0,1,30120,,,0,"I abandoned older very similar PS for this one.

Change-Id: Icc221a3a73475655cbf061caeb178b89a15218e5
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/92/668492/1 && git format-patch -1 --stdout FETCH_HEAD,[],0,dae4b30e5edc5d40d1e1ed457e6ab85ccb21bc7b,,,,0,0
openstack%2Frequirements~master~Ieaf517f5b244a70821bce2a09e72e9964ff662c4,openstack/requirements,master,Ieaf517f5b244a70821bce2a09e72e9964ff662c4,Bump Pyroute2 to 0.5.5,ABANDONED,2019-05-16 07:47:19.000000000,2019-07-01 15:26:34.000000000,,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-05-16 07:47:19.000000000', 'files': ['upper-constraints.txt'], 'web_link': 'https://opendev.org/openstack/requirements/commit/d0c3329d09ad53bae22106183594e987203af16f', 'message': 'Bump Pyroute2 to 0.5.5\n\nChange-Id: Ieaf517f5b244a70821bce2a09e72e9964ff662c4\nRelated-Bug: #1811515\n'}]",0,659480,d0c3329d09ad53bae22106183594e987203af16f,6,7,1,16688,,,0,"Bump Pyroute2 to 0.5.5

Change-Id: Ieaf517f5b244a70821bce2a09e72e9964ff662c4
Related-Bug: #1811515
",git fetch https://review.opendev.org/openstack/requirements refs/changes/80/659480/1 && git format-patch -1 --stdout FETCH_HEAD,['upper-constraints.txt'],1,d0c3329d09ad53bae22106183594e987203af16f,bug/1811515,pyroute2===0.5.5,pyroute2===0.5.3,1,1
openstack%2Fpython-swiftclient~master~Ibcbed3df4febe81cdf13855656e2daaca8d521b4,openstack/python-swiftclient,master,Ibcbed3df4febe81cdf13855656e2daaca8d521b4,Fix SLO re-upload,MERGED,2019-04-10 23:22:54.000000000,2019-07-01 15:25:25.000000000,2019-06-28 08:04:12.000000000,"[{'_account_id': 330}, {'_account_id': 597}, {'_account_id': 2696}, {'_account_id': 15343}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-10 23:22:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/e8456098f8a282a58c4b16d3eb052005bc40d031', 'message': 'Fix SLO re-upload\n\nPreviously, if you uploaded a file as an SLO then re-uploaded it\nwith the same segment size and mtime, the second upload would\ngo delete the segments it just (re)uploaded. This was due to\nus tracking old_slo_manifest_paths and new_slo_manifest_paths\nin different formats; one would have a leading slash while the\nother would not.\n\nNow, normalize to the stripped-slash version so we stop deleting\nsegments we just uploaded.\n\nChange-Id: Ibcbed3df4febe81cdf13855656e2daaca8d521b4\n'}, {'number': 2, 'created': '2019-04-11 15:45:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/d3c242e3b8dbb05f646ab3fdcd046ac6b62cb432', 'message': 'Fix SLO re-upload\n\nPreviously, if you uploaded a file as an SLO then re-uploaded it\nwith the same segment size and mtime, the second upload would\ngo delete the segments it just (re)uploaded. This was due to\nus tracking old_slo_manifest_paths and new_slo_manifest_paths\nin different formats; one would have a leading slash while the\nother would not.\n\nNow, normalize to the stripped-slash version so we stop deleting\nsegments we just uploaded.\n\nChange-Id: Ibcbed3df4febe81cdf13855656e2daaca8d521b4\n'}, {'number': 3, 'created': '2019-06-28 04:45:19.000000000', 'files': ['swiftclient/utils.py', 'tests/unit/test_shell.py', 'swiftclient/service.py'], 'web_link': 'https://opendev.org/openstack/python-swiftclient/commit/9021a58c240e156f54ffafdc4609868f348d3ebc', 'message': 'Fix SLO re-upload\n\nPreviously, if you uploaded a file as an SLO then re-uploaded it\nwith the same segment size and mtime, the second upload would\ngo delete the segments it just (re)uploaded. This was due to\nus tracking old_slo_manifest_paths and new_slo_manifest_paths\nin different formats; one would have a leading slash while the\nother would not.\n\nNow, normalize to the stripped-slash version so we stop deleting\nsegments we just uploaded.\n\nChange-Id: Ibcbed3df4febe81cdf13855656e2daaca8d521b4\n'}]",3,651666,9021a58c240e156f54ffafdc4609868f348d3ebc,22,5,3,15343,,,0,"Fix SLO re-upload

Previously, if you uploaded a file as an SLO then re-uploaded it
with the same segment size and mtime, the second upload would
go delete the segments it just (re)uploaded. This was due to
us tracking old_slo_manifest_paths and new_slo_manifest_paths
in different formats; one would have a leading slash while the
other would not.

Now, normalize to the stripped-slash version so we stop deleting
segments we just uploaded.

Change-Id: Ibcbed3df4febe81cdf13855656e2daaca8d521b4
",git fetch https://review.opendev.org/openstack/python-swiftclient refs/changes/66/651666/1 && git format-patch -1 --stdout FETCH_HEAD,['swiftclient/service.py'],1,e8456098f8a282a58c4b16d3eb052005bc40d031,," for new_seg in segment_results: seg_path = new_seg['segment_location'].lstrip('/') if isinstance(seg_path, text_type): seg_path = seg_path.encode('utf-8') new_slo_manifest_paths.add(seg_path) for new_seg in results: seg_path = new_seg['segment_location'].lstrip('/') if isinstance(seg_path, text_type): seg_path = seg_path.encode('utf-8') new_slo_manifest_paths.add(seg_path)", new_slo_manifest_paths = { seg['segment_location'] for seg in segment_results} new_slo_manifest_paths = { r['segment_location'] for r in results},10,4
openstack%2Fpuppet-keystone~master~Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca,openstack/puppet-keystone,master,Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca,Remove package apache2 keystone.conf,ABANDONED,2019-04-24 16:13:52.000000000,2019-07-01 15:21:29.000000000,,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-04-24 16:13:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/8a19be570e9b9beca63deba727844b78d6e7aa00', 'message': 'Remove package apache2 keystone.conf\n\nAs part of the Ubuntu packaging the keystone\ninstall a keystone.conf in the apache2 sites-available\nand create a symlink. The apache2 puppet module\nis suppose to remove it but there is no resource\ndependency to have this occur before the service\nis restarted. This fix ensures the unmanaged files\nare purge before puppet adds vhosts managed by it.\n\nChange-Id: Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca\n'}, {'number': 2, 'created': '2019-04-24 19:13:48.000000000', 'files': ['manifests/wsgi/apache.pp', 'releasenotes/notes/ensure_ubuntu_keystone_package_apache_site_removed-a400fa04db14dfd0.yaml'], 'web_link': 'https://opendev.org/openstack/puppet-keystone/commit/e5ef34fd8deacf4e0f07c1ef257ea7b2be588a8d', 'message': 'Remove package apache2 keystone.conf\n\nAs part of the Ubuntu packaging the keystone\ninstall a keystone.conf in the apache2 sites-available\nand create a symlink. The apache2 puppet module\nis suppose to remove it but there is no resource\ndependency to have this occur before the service\nis restarted. This fix ensures the unmanaged files\nare purge before puppet adds vhosts managed by it.\n\nChange-Id: Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca\n'}]",1,655489,e5ef34fd8deacf4e0f07c1ef257ea7b2be588a8d,11,3,2,8318,,,0,"Remove package apache2 keystone.conf

As part of the Ubuntu packaging the keystone
install a keystone.conf in the apache2 sites-available
and create a symlink. The apache2 puppet module
is suppose to remove it but there is no resource
dependency to have this occur before the service
is restarted. This fix ensures the unmanaged files
are purge before puppet adds vhosts managed by it.

Change-Id: Ic141bd796e58b26eb77dd81f4a3a8e0d6bf388ca
",git fetch https://review.opendev.org/openstack/puppet-keystone refs/changes/89/655489/1 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/wsgi/apache.pp', 'releasenotes/notes/ensure_ubuntu_keystone_package_apache_site_removed-a400fa04db14dfd0.yaml']",2,8a19be570e9b9beca63deba727844b78d6e7aa00,fix_ubuntu_apache_error_from_crap_packaging,--- fixes: - | Ubuntu packaging has a keystone.conf placed in the apache2 sites-enabled directory on install and it will be removed before apache2 service is restarted. ,,7,0
openstack%2Fcinder~master~Iab720028d3c60c09420e06658c7137d66d376e31,openstack/cinder,master,Iab720028d3c60c09420e06658c7137d66d376e31,Add a Zadara driver force detach volume option,ABANDONED,2019-07-01 08:05:32.000000000,2019-07-01 15:16:01.000000000,,"[{'_account_id': 9008}, {'_account_id': 10068}, {'_account_id': 10118}, {'_account_id': 11904}, {'_account_id': 12033}, {'_account_id': 16897}, {'_account_id': 19755}, {'_account_id': 19933}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}, {'_account_id': 30629}]","[{'number': 1, 'created': '2019-07-01 08:05:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/cinder/commit/2f86b5d5f15fce1a0cedb71c947c63280454b719', 'message': 'Add a Zadara driver force detach volume option\n\nZadara driver is missing force detach volume option in order to supress all\nwarning messages that are returned from the VPSA\n\nChange-Id: Iab720028d3c60c09420e06658c7137d66d376e31\n'}, {'number': 2, 'created': '2019-07-01 12:31:42.000000000', 'files': ['cinder/tests/unit/volume/drivers/test_zadara.py', 'cinder/volume/drivers/zadara.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/63812d080b3de75b45425c65e6985d8484e76b53', 'message': 'Add a Zadara driver force detach volume option\n\nZadara driver is missing force detach volume option in order to supress all\nwarning messages that are returned from the VPSA\n\nChange-Id: Iab720028d3c60c09420e06658c7137d66d376e31\n'}]",1,668381,63812d080b3de75b45425c65e6985d8484e76b53,26,17,2,30629,,,0,"Add a Zadara driver force detach volume option

Zadara driver is missing force detach volume option in order to supress all
warning messages that are returned from the VPSA

Change-Id: Iab720028d3c60c09420e06658c7137d66d376e31
",git fetch https://review.opendev.org/openstack/cinder refs/changes/81/668381/1 && git format-patch -1 --stdout FETCH_HEAD,['cinder/volume/drivers/zadara.py'],1,2f86b5d5f15fce1a0cedb71c947c63280454b719,zadara_force_vol_detach,"# Copyright (c) 2019 Zadara Storage, Inc. help=""VPSA - Attach snapshot policy for volumes""), cfg.BoolOpt('zadara_vol_force_detach', default=False, help=""VPSA - Force volume detach"")] 'force': 'NO' if not self.conf.zadara_vol_force_detach else 'YES'}),","# Copyright (c) 2016 Zadara Storage, Inc. help=""VPSA - Attach snapshot policy for volumes"")] 'force': 'NO'}),",8,3
openstack%2Fopenstack-helm-infra~master~I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf,openstack/openstack-helm-infra,master,I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf,Commented out the lines that install node_exporter.  Not necessary because it's already done here!,ABANDONED,2019-04-18 16:14:55.000000000,2019-07-01 15:11:04.000000000,,"[{'_account_id': 8898}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-04-18 16:14:55.000000000', 'files': ['prometheus-node-exporter/lasermetrics-files/install-lasermetrics'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/5dc61af0e3721f1907f538664d0c9172ec364bab', 'message': ""Commented out the lines that install node_exporter.  Not necessary because it's already done here!\n\nChange-Id: I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf\n""}]",3,653805,5dc61af0e3721f1907f538664d0c9172ec364bab,5,4,1,30120,,,0,"Commented out the lines that install node_exporter.  Not necessary because it's already done here!

Change-Id: I54136566b1b0f4df8cc944d0ad44d16d6ea41dcf
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/05/653805/1 && git format-patch -1 --stdout FETCH_HEAD,['prometheus-node-exporter/lasermetrics-files/install-lasermetrics'],1,5dc61af0e3721f1907f538664d0c9172ec364bab,,"# echo ""Start downloading and installing node_exporter..."" # wget https://github.com/prometheus/node_exporter/releases/download/v0.15.2/node_exporter-0.15.2.linux-amd64.tar.gz # tar xvf node_exporter-0.15.2.linux-amd64.tar.gz # sudo mv node_exporter-0.15.2.linux-amd64 /opt/node_exporter","echo ""Start downloading and installing node_exporter..."" wget https://github.com/prometheus/node_exporter/releases/download/v0.15.2/node_exporter-0.15.2.linux-amd64.tar.gz tar xvf node_exporter-0.15.2.linux-amd64.tar.gz sudo mv node_exporter-0.15.2.linux-amd64 /opt/node_exporter",4,4
openstack%2Fmonasca-log-api~master~I4edf3307be5a2d668306efa33c0ab55f6867d8a6,openstack/monasca-log-api,master,I4edf3307be5a2d668306efa33c0ab55f6867d8a6,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 08:41:29.000000000,2019-07-01 15:10:53.000000000,2019-07-01 15:10:53.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 28614}, {'_account_id': 30221}]","[{'number': 1, 'created': '2019-04-23 08:41:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/3f2fc5bd3dbcec59d086fb32e48321bd8c0229f4', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6\n'}, {'number': 2, 'created': '2019-04-24 17:04:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/876f28b9f169f6e30f34c7eca59d4932b293c1cc', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6\n'}, {'number': 3, 'created': '2019-06-25 03:47:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/944ce7b38d2181931a5ef6cf78a1299f50511830', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6\n'}, {'number': 4, 'created': '2019-06-26 13:40:10.000000000', 'files': ['docker/Dockerfile', 'devstack/Vagrantfile', 'devstack/README.md', 'docker/build_image.sh', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/55e7a787a727b5aee4cb613905df7b65ccdec10a', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6\n'}]",5,654843,55e7a787a727b5aee4cb613905df7b65ccdec10a,25,6,4,27781,,,0,"Replace git.openstack.org URLs with opendev.org URLs

Change-Id: I4edf3307be5a2d668306efa33c0ab55f6867d8a6
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/43/654843/4 && git format-patch -1 --stdout FETCH_HEAD,"['docker/build_image.sh', 'tox.ini']",2,3f2fc5bd3dbcec59d086fb32e48321bd8c0229f4,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},2,2
openstack%2Fopenstack-helm-infra~master~I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2,openstack/openstack-helm-infra,master,I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2,Files added to implement the lasermetrics node_exporter,ABANDONED,2019-04-18 15:55:40.000000000,2019-07-01 15:09:02.000000000,,"[{'_account_id': 8898}, {'_account_id': 18295}, {'_account_id': 20466}, {'_account_id': 22348}, {'_account_id': 30166}]","[{'number': 1, 'created': '2019-04-18 15:55:40.000000000', 'files': ['prometheus-node-exporter/lasermetrics-files/install-lasermetrics', 'prometheus-node-exporter/lasermetrics-files/lab-laser-output.txt', 'prometheus-node-exporter/lasermetrics-files/README-install-lasermetrics.txt', 'prometheus-node-exporter/lasermetrics-files/node_exporter.service', 'prometheus-node-exporter/lasermetrics-install.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-helm-infra/commit/6683c7ea3a3a8e15e71e0c67e0eef7b27945c594', 'message': 'Files added to implement the lasermetrics node_exporter\n\nChange-Id: I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2\n'}]",4,653801,6683c7ea3a3a8e15e71e0c67e0eef7b27945c594,6,5,1,30120,,,0,"Files added to implement the lasermetrics node_exporter

Change-Id: I6a6b3a53be135b0543c5798cbc0a2a4bf0be4fb2
",git fetch https://review.opendev.org/openstack/openstack-helm-infra refs/changes/01/653801/1 && git format-patch -1 --stdout FETCH_HEAD,"['prometheus-node-exporter/lasermetrics-files/install-lasermetrics', 'prometheus-node-exporter/lasermetrics-files/lab-laser-output.txt', 'prometheus-node-exporter/lasermetrics-files/README-install-lasermetrics.txt', 'prometheus-node-exporter/lasermetrics-files/node_exporter.service', 'prometheus-node-exporter/lasermetrics-install.yaml']",5,6683c7ea3a3a8e15e71e0c67e0eef7b27945c594,,"apiVersion: lasermetrics.node_exporter.com/v1 kind: ConfigMap metadata: name: install.lasermetrics.node_exporter annotations: ""helm.sh/hook"": post-install data: setup: | # This part calls the installation shell script #!/bin/bash cd lasermetrics-files ./install-lasermetrics cd .. ",,163,0
openstack%2Fzun~master~I0750abba7989774553ff1027579ea4e96e7d5ff6,openstack/zun,master,I0750abba7989774553ff1027579ea4e96e7d5ff6,Add Python 3 Train unit tests,MERGED,2019-07-01 08:00:46.000000000,2019-07-01 15:06:05.000000000,2019-07-01 15:06:05.000000000,"[{'_account_id': 11536}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 08:00:46.000000000', 'files': ['.zuul.yaml', 'setup.cfg', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/zun/commit/607a2a2bd6657d0c05ef73d6a008e2cf005228ac', 'message': 'Add Python 3 Train unit tests\n\nSee the Train python3-updates goal document for details:\nhttps://governance.openstack.org/tc/goals/train/python3-updates.html\n\nChange-Id: I0750abba7989774553ff1027579ea4e96e7d5ff6\n'}]",0,668380,607a2a2bd6657d0c05ef73d6a008e2cf005228ac,6,2,1,27822,,,0,"Add Python 3 Train unit tests

See the Train python3-updates goal document for details:
https://governance.openstack.org/tc/goals/train/python3-updates.html

Change-Id: I0750abba7989774553ff1027579ea4e96e7d5ff6
",git fetch https://review.opendev.org/openstack/zun refs/changes/80/668380/1 && git format-patch -1 --stdout FETCH_HEAD,"['.zuul.yaml', 'setup.cfg', 'tox.ini']",3,607a2a2bd6657d0c05ef73d6a008e2cf005228ac,python3-train,"envlist = py37,py36,py27,pep8,migration","envlist = py36,py27,pep8,migration",3,3
openstack%2Fpuppet-nova~master~I58016bce92b29414808b5f06a0a85ae78edff26b,openstack/puppet-nova,master,I58016bce92b29414808b5f06a0a85ae78edff26b,DNM: Test using new zuul base,ABANDONED,2019-06-28 09:19:20.000000000,2019-07-01 15:03:42.000000000,,"[{'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 09:19:20.000000000', 'files': ['manifests/init.pp'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/7a2a05892c9b46e752783d3dd875488ba35c6a8a', 'message': 'DNM: Test using new zuul base\n\nTests the revert from legacy-base to base [1]\n\n[1] https://review.opendev.org/#/c/668105/\n\nDepends-On: https://review.opendev.org/#/c/668105/\nChange-Id: I58016bce92b29414808b5f06a0a85ae78edff26b\n'}]",0,668121,7a2a05892c9b46e752783d3dd875488ba35c6a8a,4,2,1,16137,,,0,"DNM: Test using new zuul base

Tests the revert from legacy-base to base [1]

[1] https://review.opendev.org/#/c/668105/

Depends-On: https://review.opendev.org/#/c/668105/
Change-Id: I58016bce92b29414808b5f06a0a85ae78edff26b
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/21/668121/1 && git format-patch -1 --stdout FETCH_HEAD,['manifests/init.pp'],1,7a2a05892c9b46e752783d3dd875488ba35c6a8a,dnm,# == Class: nova asd,# == Class: nova,1,1
openstack%2Fopenstack-ansible-os_octavia~master~Ib945aa3720019893f1f2653484c8374d932daa0d,openstack/openstack-ansible-os_octavia,master,Ib945aa3720019893f1f2653484c8374d932daa0d,Update default test amphora image from xenial to bionic,MERGED,2019-06-24 13:15:03.000000000,2019-07-01 15:02:05.000000000,2019-07-01 15:02:05.000000000,"[{'_account_id': 22348}, {'_account_id': 25023}, {'_account_id': 28008}, {'_account_id': 28619}]","[{'number': 1, 'created': '2019-06-24 13:15:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/1e4aee7c6682c3666f684898e0049be7eeaff254', 'message': 'Update default test amphora image from xenial to bionic\n\nChange-Id: Ib945aa3720019893f1f2653484c8374d932daa0d\n'}, {'number': 2, 'created': '2019-06-27 08:53:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/052228298bf8f01f72e2efa64564a9dfe1fe2384', 'message': 'Update default test amphora image from xenial to bionic\n\nDepends-On: Ia5fda5d417b79189d048c8891b84d57331df1404\nChange-Id: Ib945aa3720019893f1f2653484c8374d932daa0d\n'}, {'number': 3, 'created': '2019-06-28 09:03:58.000000000', 'files': ['defaults/main.yml'], 'web_link': 'https://opendev.org/openstack/openstack-ansible-os_octavia/commit/737e6d165f342b9e8b926cac73cc3ed75dfcfc52', 'message': 'Update default test amphora image from xenial to bionic\n\nDepends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87\nDepends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89\nChange-Id: Ib945aa3720019893f1f2653484c8374d932daa0d\n'}]",0,667085,737e6d165f342b9e8b926cac73cc3ed75dfcfc52,14,4,3,25023,,,0,"Update default test amphora image from xenial to bionic

Depends-On: I8de48eb1fb4c8d321098ca54b9e21270edc7ac87
Depends-On: Ide70b5d8f67d8c8a87e3f16671f0f7fb72338b89
Change-Id: Ib945aa3720019893f1f2653484c8374d932daa0d
",git fetch https://review.opendev.org/openstack/openstack-ansible-os_octavia refs/changes/85/667085/1 && git format-patch -1 --stdout FETCH_HEAD,['defaults/main.yml'],1,1e4aee7c6682c3666f684898e0049be7eeaff254,fix-octavia,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-bionic.qcow2,octavia_artefact_url: http://tarballs.openstack.org/octavia/test-images/test-only-amphora-x64-haproxy-ubuntu-xenial.qcow2,1,1
openstack%2Fsahara~master~Id73bbf0a844dee39f9c72df72b1bdb49fa094806,openstack/sahara,master,Id73bbf0a844dee39f9c72df72b1bdb49fa094806,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 03:23:26.000000000,2019-07-01 15:01:42.000000000,2019-07-01 15:01:42.000000000,"[{'_account_id': 6547}, {'_account_id': 8932}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 22348}, {'_account_id': 27822}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-28 03:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/d45ed47fc285110b44e70559ef406b30eb05fbc6', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806\n'}, {'number': 2, 'created': '2019-07-01 02:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/00ea2a687728be21778b2d82d49c1b916d5cb1ef', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806\n'}, {'number': 3, 'created': '2019-07-01 07:21:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sahara/commit/6793a30e714a01532cb19d671e1445f2ceece833', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806\n'}, {'number': 4, 'created': '2019-07-01 07:25:44.000000000', 'files': ['doc/source/conf.py', 'lower-constraints.txt', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/sahara/commit/9f0f1b947223456fcd90cf053bd1329e2183e775', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806\n'}]",4,668081,9f0f1b947223456fcd90cf053bd1329e2183e775,31,7,4,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: Id73bbf0a844dee39f9c72df72b1bdb49fa094806
",git fetch https://review.opendev.org/openstack/sahara refs/changes/81/668081/2 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,d45ed47fc285110b44e70559ef406b30eb05fbc6,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fmonasca-notification~master~I579754a0e093e192366ad2783bd766473227e761,openstack/monasca-notification,master,I579754a0e093e192366ad2783bd766473227e761,[GateFix] Ignore false positive bandit B105 test failure,MERGED,2019-06-26 11:39:30.000000000,2019-07-01 14:52:41.000000000,2019-06-28 11:00:18.000000000,"[{'_account_id': 16222}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25553}]","[{'number': 1, 'created': '2019-06-26 11:39:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/42be046e0e00da0db4ec48ee50cdb65c33f5996f', 'message': '[GateFix] Ignore false positive bandit B105 test failure\n\nBandit B105 hardcoded_password_string[] is causing gate failure,\nwhich is false positive.\nAdded a # nosec comment to skip Bandit testing of that line.\n\n[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nChange-Id: I579754a0e093e192366ad2783bd766473227e761\n'}, {'number': 2, 'created': '2019-06-27 09:44:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/07d0429798a24c70ac63154e96b3d80a3ad0d762', 'message': '[GateFix] Ignore false positive bandit B105 test failure\n\nBandit B105 hardcoded_password_string[] is causing gate failure,\nwhich is false positive.\nAdded a # nosec comment to skip Bandit testing of that line.\n\n[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nChange-Id: I579754a0e093e192366ad2783bd766473227e761\n'}, {'number': 3, 'created': '2019-06-27 15:59:37.000000000', 'files': ['bindep.txt', 'monasca_notification/conf/database.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/0e502cc463252ba9affe7e2cf059f2ddbc610f97', 'message': '[GateFix] Ignore false positive bandit B105 test failure\n\nBandit B105 hardcoded_password_string[1] is causing gate failure,\nwhich is false positive.\nAdded a # nosec comment to skip Bandit testing of that line.\n\n[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html\n\nAdd local bindep.txt to include PostgreSQL dependendencies for testing.\n\nStory: 2006058\nTask: 34771\n\nChange-Id: I579754a0e093e192366ad2783bd766473227e761\n'}]",0,667585,0e502cc463252ba9affe7e2cf059f2ddbc610f97,17,4,3,25553,,,0,"[GateFix] Ignore false positive bandit B105 test failure

Bandit B105 hardcoded_password_string[1] is causing gate failure,
which is false positive.
Added a # nosec comment to skip Bandit testing of that line.

[1] https://bandit.readthedocs.io/en/latest/plugins/b105_hardcoded_password_string.html

Add local bindep.txt to include PostgreSQL dependendencies for testing.

Story: 2006058
Task: 34771

Change-Id: I579754a0e093e192366ad2783bd766473227e761
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/85/667585/2 && git format-patch -1 --stdout FETCH_HEAD,['monasca_notification/conf/database.py'],1,42be046e0e00da0db4ec48ee50cdb65c33f5996f,,_DEFAULT_DB_PASSWORD = 'password' # nosec bandit B105,_DEFAULT_DB_PASSWORD = 'password',1,1
openstack%2Ftripleo-heat-templates~master~Iaac90d40adaf519be25c2de25ee27e17bfc8ce80,openstack/tripleo-heat-templates,master,Iaac90d40adaf519be25c2de25ee27e17bfc8ce80,Remove os-collect-config related poperties and attributes,MERGED,2019-06-12 06:14:54.000000000,2019-07-01 14:43:20.000000000,2019-06-20 16:14:42.000000000,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 8833}, {'_account_id': 11090}, {'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-12 06:14:54.000000000', 'files': ['overcloud.j2.yaml', 'puppet/role.role.j2.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05', 'message': 'Remove os-collect-config related poperties and attributes\n\nChange-Id: Iaac90d40adaf519be25c2de25ee27e17bfc8ce80\nPartial-Bug: #1832441\n'}]",0,664790,89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05,15,8,1,8833,,,0,"Remove os-collect-config related poperties and attributes

Change-Id: Iaac90d40adaf519be25c2de25ee27e17bfc8ce80
Partial-Bug: #1832441
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/90/664790/1 && git format-patch -1 --stdout FETCH_HEAD,"['overcloud.j2.yaml', 'puppet/role.role.j2.yaml']",2,89e9fe53b20ee87a6a7ebe41af48f7ab206ebf05,bug/1832441,," metadata: os-collect-config: command: {get_param: ConfigCommand} splay: {get_param: ConfigCollectSplay} deployed_server_deployment_swift_data_map: description: Map of Heat created hostname of the server to the Swift container and object used to created the temporary url for metadata polling with os-collect-config. value: map_replace: - hostname: container: str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 5 object: str_split: - '?' - str_split: - '/' - {get_attr: [{{server_resource_name}}, os_collect_config, request, metadata_url]} - 6 - 0 - keys: {hostname: {get_param: Hostname}} os_collect_config: description: The os-collect-config configuration associated with this server resource value: {get_attr: [{{server_resource_name}}, os_collect_config]}",0,55
openstack%2Fproject-config~master~Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf,openstack/project-config,master,Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf,Remove bindep role for Puppet build job,MERGED,2018-12-27 20:50:48.000000000,2019-07-01 14:42:32.000000000,2019-07-01 14:42:31.000000000,"[{'_account_id': 2}, {'_account_id': 4146}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 16137}, {'_account_id': 22348}]","[{'number': 1, 'created': '2018-12-27 20:50:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/d28521e2b935d5c925b20ebed03f035aa1f63b8a', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/#/c/627534/\n\nChange-Id: Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf\n""}, {'number': 2, 'created': '2019-02-26 17:34:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/0f2778a8fa0a2fb5bf31233ff907d837728b4342', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/#/c/627534/\n\nDepends-On: https://review.openstack.org/#/c/627534/\nChange-Id: Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf\n""}, {'number': 3, 'created': '2019-06-26 12:15:10.000000000', 'files': ['playbooks/puppet-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/d693bcf95de66825fbf857c07a9f31e471d742ff', 'message': ""Remove bindep role for Puppet build job\n\nWhen [1] is merged we no longer have to rely\non the bindep file when puppet modules are built\nsince it doesn't need the puppet binary.\n\n[1] https://review.openstack.org/627534\n\nDepends-On: https://review.openstack.org/627534\nChange-Id: Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf\n""}]",0,627566,d693bcf95de66825fbf857c07a9f31e471d742ff,21,7,3,16137,,,0,"Remove bindep role for Puppet build job

When [1] is merged we no longer have to rely
on the bindep file when puppet modules are built
since it doesn't need the puppet binary.

[1] https://review.openstack.org/627534

Depends-On: https://review.openstack.org/627534
Change-Id: Ia939bb4d3bafa83cd3dd8fd71b0fc6ddff71dcbf
",git fetch https://review.opendev.org/openstack/project-config refs/changes/66/627566/3 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/puppet-tarball/pre.yaml'],1,d28521e2b935d5c925b20ebed03f035aa1f63b8a,forge-publish,, - role: bindep # NOTE(pabelanger): puppet modules use the build profile to manage # dependencies for puppet module build. bindep_profile: build,0,4
openstack%2Fnova~stable%2Fqueens~Ia39402a045ffb1943463b5741655d84071613e8c,openstack/nova,stable/queens,Ia39402a045ffb1943463b5741655d84071613e8c,conf: libvirt: Make `/dev/urandom` the default for 'rng_dev_path',ABANDONED,2019-04-05 13:31:44.000000000,2019-07-01 14:28:31.000000000,,"[{'_account_id': 6873}, {'_account_id': 6962}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 15334}, {'_account_id': 16282}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-05 13:31:44.000000000', 'files': ['nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'releasenotes/notes/urandom-as-default-for-rng_dev_path-150a76b0ea74cbc2.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/5080076f6056e98dd492894c7f976b1b58aaf44a', 'message': ""conf: libvirt: Make `/dev/urandom` the default for 'rng_dev_path'\n\nSince libvirt 1.3.4, any RNG (Random Number Generator) device path (that\nreturns random numbers when read!) is accepted.  However, the\nrecommended source of entropy is `/dev/urandom` (it is non-blocking; and\ndoesn't have the same limitations of `dev/random`, which is a legacy\ninterface).\n\nTherefore, make `/dev/urandom` the default RNG for 'rng_dev_path' config\nattribute; adjust the relevant tests.  Also update the documention to\nreflect this change.\n\nChange-Id: Ia39402a045ffb1943463b5741655d84071613e8c\nSigned-off-by: Kashyap Chamarthy <kchamart@redhat.com>\nReported-by: Daniel P. Berrangé <berrange@redhat.com>\n(cherry picked from commit 814bfd937238cbd211ea30805c36ae682cfd7b48)\n""}]",0,650279,5080076f6056e98dd492894c7f976b1b58aaf44a,12,9,1,6962,,,0,"conf: libvirt: Make `/dev/urandom` the default for 'rng_dev_path'

Since libvirt 1.3.4, any RNG (Random Number Generator) device path (that
returns random numbers when read!) is accepted.  However, the
recommended source of entropy is `/dev/urandom` (it is non-blocking; and
doesn't have the same limitations of `dev/random`, which is a legacy
interface).

Therefore, make `/dev/urandom` the default RNG for 'rng_dev_path' config
attribute; adjust the relevant tests.  Also update the documention to
reflect this change.

Change-Id: Ia39402a045ffb1943463b5741655d84071613e8c
Signed-off-by: Kashyap Chamarthy <kchamart@redhat.com>
Reported-by: Daniel P. Berrangé <berrange@redhat.com>
(cherry picked from commit 814bfd937238cbd211ea30805c36ae682cfd7b48)
",git fetch https://review.opendev.org/openstack/nova refs/changes/79/650279/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/virt/libvirt/test_config.py', 'nova/conf/libvirt.py', 'releasenotes/notes/urandom-as-default-for-rng_dev_path-150a76b0ea74cbc2.yaml', 'nova/tests/unit/virt/libvirt/test_driver.py']",4,5080076f6056e98dd492894c7f976b1b58aaf44a,Update-default-for-rng_dev_path," self.assertEqual(cfg.devices[6].backend, '/dev/urandom') self.assertEqual(cfg.devices[6].backend, '/dev/urandom')", self.assertIsNone(cfg.devices[6].backend) self.assertIsNone(cfg.devices[6].backend),23,7
openstack%2Fnova~stable%2Fqueens~I75e85b34f0cdee9276f236f371ef49b0e583e7c2,openstack/nova,stable/queens,I75e85b34f0cdee9276f236f371ef49b0e583e7c2,SRIOV pci_numa_policy dosen't working when create instance with 'cpu_policy' and 'numa_nodes,ABANDONED,2019-04-10 02:45:17.000000000,2019-07-01 14:24:29.000000000,,"[{'_account_id': 6873}, {'_account_id': 10118}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-04-10 02:45:17.000000000', 'files': ['nova/network/neutronv2/api.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/4610b4ac438abc9d64afc3e8692dc7e36e31bf03', 'message': ""SRIOV pci_numa_policy dosen't working when create instance with\n'cpu_policy' and 'numa_nodes\n\nDescription: When we create a sriov instance, which flavor has\n'cpu_policy', 'numa_nodes' property, it's also has\n'pci_numa_policy=preferred' property that indicate we are able\nto allocate pci devices and vcpu in different numa node. However,\nin some cases, it didn't work, because the fake pci request,\nwhich produced by nova flavor and [pci] alias in nova.conf hasn't\nwrite related information (such as pci_numa_policy, alias_name\nand some spec info) into real pci_requests (which contain port_id).\nSo, in nova/pci/stats.py function\n'def _filter_pools_for_numa_cells', there will filter all pci\ndevices.\n\nChange-Id: I75e85b34f0cdee9276f236f371ef49b0e583e7c2\nCLoses-Bug: #1824048\n""}]",0,651429,4610b4ac438abc9d64afc3e8692dc7e36e31bf03,7,5,1,27295,,,0,"SRIOV pci_numa_policy dosen't working when create instance with
'cpu_policy' and 'numa_nodes

Description: When we create a sriov instance, which flavor has
'cpu_policy', 'numa_nodes' property, it's also has
'pci_numa_policy=preferred' property that indicate we are able
to allocate pci devices and vcpu in different numa node. However,
in some cases, it didn't work, because the fake pci request,
which produced by nova flavor and [pci] alias in nova.conf hasn't
write related information (such as pci_numa_policy, alias_name
and some spec info) into real pci_requests (which contain port_id).
So, in nova/pci/stats.py function
'def _filter_pools_for_numa_cells', there will filter all pci
devices.

Change-Id: I75e85b34f0cdee9276f236f371ef49b0e583e7c2
CLoses-Bug: #1824048
",git fetch https://review.opendev.org/openstack/nova refs/changes/29/651429/1 && git format-patch -1 --stdout FETCH_HEAD,['nova/network/neutronv2/api.py'],1,4610b4ac438abc9d64afc3e8692dc7e36e31bf03,bug/1824048," # Note(jetlee): when we set the '[pci] alias' in nova.conf, the # pci_requests will contain the alias info, like 'aliasname', # 'dev_type' and 'numa_policy' .etc. These info is working in # NumaTopologyFilter. However, this pci_requests is useful, # we should save this into the real pci_request that come # from neutron port. pci_requests_info = None if pci_requests and pci_requests.requests: LOG.debug(""The pci alias info: %s that instance needs"", str(pci_requests.requests)) pci_requests_info = pci_requests.requests.pop() # Note(jetlee): Create a new method, which save the Numa info # into real pci_requests. if pci_requests_info: request = self._pci_requests_info_save(pci_requests_info, request) @staticmethod def _pci_requests_info_save(pci_requests_info, request): '''Saving the related Numa info into the real pci_requests These info is needed for NumaTopologyFilter. ''' request.alias_name = pci_requests_info.alias_name request.numa_policy = pci_requests_info.numa_policy pci_req_spec = pci_requests_info.spec[0] req_spec = request.spec[0] for pci_info in pci_req_spec: if pci_info not in req_spec: req_spec[pci_info] = pci_req_spec[pci_info] return request ",,32,0
openstack%2Fmonasca-persister~master~I2e4135c928c50c6b3b331e385fccd0e0758fbf76,openstack/monasca-persister,master,I2e4135c928c50c6b3b331e385fccd0e0758fbf76,Support kafka num_processors option,MERGED,2019-07-01 01:41:43.000000000,2019-07-01 14:09:45.000000000,2019-07-01 14:09:45.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}, {'_account_id': 29970}]","[{'number': 1, 'created': '2019-07-01 01:41:43.000000000', 'files': ['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/1d58e986baa1b7b181288f0984d591e28ab74657', 'message': 'Support kafka num_processors option\n\nSupport kafka num_processors option in docker env.\n\nChange-Id: I2e4135c928c50c6b3b331e385fccd0e0758fbf76\n'}]",0,668340,1d58e986baa1b7b181288f0984d591e28ab74657,12,5,1,29970,,,0,"Support kafka num_processors option

Support kafka num_processors option in docker env.

Change-Id: I2e4135c928c50c6b3b331e385fccd0e0758fbf76
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/40/668340/1 && git format-patch -1 --stdout FETCH_HEAD,"['docker/Dockerfile', 'docker/README.rst', 'docker/monasca-persister.conf.j2']",3,1d58e986baa1b7b181288f0984d591e28ab74657,support-docker-num-processors-option,num_processors = {{ KAFKA_ALARM_HISTORY_PROCESSORS | default(1) }}num_processors = {{ KAFKA_METRICS_PROCESSORS | default(1) }},num_processors = 1num_processors = 1,6,2
openstack%2Fproject-config~master~Ib1119ba109ab8676c0dd42fdd4f35094b7574a24,openstack/project-config,master,Ib1119ba109ab8676c0dd42fdd4f35094b7574a24,Install PDK dependencies for puppet building,MERGED,2019-06-26 12:15:10.000000000,2019-07-01 14:07:47.000000000,2019-07-01 14:07:47.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 11904}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 12:15:10.000000000', 'files': ['playbooks/puppet-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/11b456653635474c45aeff3daf6b8971df20b6b3', 'message': 'Install PDK dependencies for puppet building\n\nInstall all PDK dependencies so that we can\nswitch the job to use PDK instead of puppet build\nwhich is deprecated.\n\nDepends-On: https://review.opendev.org/667590\nChange-Id: Ib1119ba109ab8676c0dd42fdd4f35094b7574a24\nNeeded-By: https://review.opendev.org/627534\n'}]",0,667595,11b456653635474c45aeff3daf6b8971df20b6b3,13,5,1,6547,,,0,"Install PDK dependencies for puppet building

Install all PDK dependencies so that we can
switch the job to use PDK instead of puppet build
which is deprecated.

Depends-On: https://review.opendev.org/667590
Change-Id: Ib1119ba109ab8676c0dd42fdd4f35094b7574a24
Needed-By: https://review.opendev.org/627534
",git fetch https://review.opendev.org/openstack/project-config refs/changes/95/667595/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/puppet-tarball/pre.yaml'],1,11b456653635474c45aeff3daf6b8971df20b6b3,forge-publish, - install-pdk-dependencies,,1,0
openstack%2Fopenstack-zuul-jobs~master~I8335f7355ecb259435c97ac39bcca67ed0365e66,openstack/openstack-zuul-jobs,master,I8335f7355ecb259435c97ac39bcca67ed0365e66,Install PDK dependencies for puppet building,MERGED,2019-06-26 12:06:31.000000000,2019-07-01 14:06:27.000000000,2019-07-01 14:06:27.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 7118}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 12:06:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/c081a8e19f446838836fff2488ff9211189fa0d8', 'message': 'Install PDK dependencies for puppet building\n\nInstall all PDK dependencies so that we can switch the job to use PDK\ninstead of puppet build which is deprecated.\n\nChange-Id: I8335f7355ecb259435c97ac39bcca67ed0365e66\nNeeded-By: https://review.opendev.org/627534\nDepends-On: XXX\n'}, {'number': 2, 'created': '2019-06-26 12:24:18.000000000', 'files': ['playbooks/puppet-tarball/pre.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/5f3f86d40849240bc1d01d513f96e9af0960fbd0', 'message': 'Install PDK dependencies for puppet building\n\nInstall all PDK dependencies so that we can switch the job to use PDK\ninstead of puppet build which is deprecated.\n\nChange-Id: I8335f7355ecb259435c97ac39bcca67ed0365e66\nNeeded-By: https://review.opendev.org/627534\nDepends-On: https://review.opendev.org/667590\n'}]",0,667589,5f3f86d40849240bc1d01d513f96e9af0960fbd0,10,4,2,6547,,,0,"Install PDK dependencies for puppet building

Install all PDK dependencies so that we can switch the job to use PDK
instead of puppet build which is deprecated.

Change-Id: I8335f7355ecb259435c97ac39bcca67ed0365e66
Needed-By: https://review.opendev.org/627534
Depends-On: https://review.opendev.org/667590
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/89/667589/1 && git format-patch -1 --stdout FETCH_HEAD,['playbooks/puppet-tarball/pre.yaml'],1,c081a8e19f446838836fff2488ff9211189fa0d8,forge-publish, - install-pdk-dependencies,,1,0
openstack%2Fnova~stable%2Fstein~I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,openstack/nova,stable/stein,I8bca5d84c37d02331d2f9968a674f3398c1a8f5b,Grab fresh power state info from the driver,MERGED,2019-06-27 14:50:10.000000000,2019-07-01 14:03:46.000000000,2019-07-01 13:48:53.000000000,"[{'_account_id': 782}, {'_account_id': 7634}, {'_account_id': 9732}, {'_account_id': 10118}, {'_account_id': 10135}, {'_account_id': 14595}, {'_account_id': 22348}, {'_account_id': 26515}]","[{'number': 1, 'created': '2019-06-27 14:50:10.000000000', 'files': ['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py'], 'web_link': 'https://opendev.org/openstack/nova/commit/16449cbfe97eef1500f5a73a9d30e7abf4249b99', 'message': 'Grab fresh power state info from the driver\n\nIn drivers that use a cache to store the node info (presently only\nironic since [1]), the ""_get_power_state"" function called during\ninstance actions like start or stop grabs the information from the node\ncache and saves it in the nova database instead of getting fresh\ninformation from the driver. This leads to inconsistency between\nthe vm_state and power_state for an instance in the nova database\n(which remains until a power_sync happens between nova and ironic).\nThis can be confusing for a user when doing ""nova list"" where the\npower_state might still be shutdown when the vm_state has already\nbecome active. On a default environment this inconsistency lasts\nfor about ten minutes which is the default value for the\nsync_power_state_interval interval.\n\nThis patch changes the ""use_cache"" to False in the compute manager\nwhen triggering an action on an instance like start/stop/reboot.\n\n[1] I0069cbc327d952d42dbb8fe54949faab89995a7e\n\nChange-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b\nCloses-Bug: #1832720\n(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)\n'}]",0,667948,16449cbfe97eef1500f5a73a9d30e7abf4249b99,13,8,1,26936,,,0,"Grab fresh power state info from the driver

In drivers that use a cache to store the node info (presently only
ironic since [1]), the ""_get_power_state"" function called during
instance actions like start or stop grabs the information from the node
cache and saves it in the nova database instead of getting fresh
information from the driver. This leads to inconsistency between
the vm_state and power_state for an instance in the nova database
(which remains until a power_sync happens between nova and ironic).
This can be confusing for a user when doing ""nova list"" where the
power_state might still be shutdown when the vm_state has already
become active. On a default environment this inconsistency lasts
for about ten minutes which is the default value for the
sync_power_state_interval interval.

This patch changes the ""use_cache"" to False in the compute manager
when triggering an action on an instance like start/stop/reboot.

[1] I0069cbc327d952d42dbb8fe54949faab89995a7e

Change-Id: I8bca5d84c37d02331d2f9968a674f3398c1a8f5b
Closes-Bug: #1832720
(cherry picked from commit 5b1c9dd05ccc0488e4d47bfc2442e46adb82b765)
",git fetch https://review.opendev.org/openstack/nova refs/changes/48/667948/1 && git format-patch -1 --stdout FETCH_HEAD,"['nova/tests/unit/compute/test_compute_mgr.py', 'nova/compute/manager.py']",2,16449cbfe97eef1500f5a73a9d30e7abf4249b99,bug/1832720," return self.driver.get_info(instance, use_cache=False).state", return self.driver.get_info(instance).state,18,3
openstack%2Fmanila~master~I2f8e4fec3aa48b91d6ab636504ecc90553a4b802,openstack/manila,master,I2f8e4fec3aa48b91d6ab636504ecc90553a4b802,Bump the openstackdocstheme extension to 1.20,MERGED,2019-06-28 01:56:41.000000000,2019-07-01 14:03:38.000000000,2019-07-01 14:03:37.000000000,"[{'_account_id': 6547}, {'_account_id': 9003}, {'_account_id': 10459}, {'_account_id': 12016}, {'_account_id': 12017}, {'_account_id': 14384}, {'_account_id': 15386}, {'_account_id': 16643}, {'_account_id': 21863}, {'_account_id': 21884}, {'_account_id': 22248}, {'_account_id': 22348}, {'_account_id': 24236}, {'_account_id': 25243}, {'_account_id': 27822}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-06-28 01:56:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/6d26a7e440ac9dd3d8a7a0e3635528105a11c3d1', 'message': 'Bump openstackdocstheme to 1.30.0\n\n...to pick up many improvements, including the return of table borders.\n\nChange-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802\n'}, {'number': 2, 'created': '2019-07-01 02:48:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/52d9a93f6ee76088e29177a263b7c7a40a761db5', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802\n'}, {'number': 3, 'created': '2019-07-01 03:21:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/manila/commit/fe263679f1e615a3870b47d0bd8bc1fd8ba00c30', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802\n'}, {'number': 4, 'created': '2019-07-01 07:31:05.000000000', 'files': ['doc/source/conf.py', 'api-ref/source/conf.py', 'doc/requirements.txt', 'releasenotes/source/conf.py'], 'web_link': 'https://opendev.org/openstack/manila/commit/5c1f27f69f3dfff7266eb369f2db0100f69babab', 'message': 'Bump the openstackdocstheme extension to 1.20\n\nSome options are now automatically configured by the version 1.20:\n- project\n- html_last_updated_fmt\n- latex_engine\n- latex_elements\n- version\n- release.\n\nThis will show other versions of the doc, too.\n\nChange-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802\n'}]",0,668077,5c1f27f69f3dfff7266eb369f2db0100f69babab,45,16,4,27822,,,0,"Bump the openstackdocstheme extension to 1.20

Some options are now automatically configured by the version 1.20:
- project
- html_last_updated_fmt
- latex_engine
- latex_elements
- version
- release.

This will show other versions of the doc, too.

Change-Id: I2f8e4fec3aa48b91d6ab636504ecc90553a4b802
",git fetch https://review.opendev.org/openstack/manila refs/changes/77/668077/3 && git format-patch -1 --stdout FETCH_HEAD,"['lower-constraints.txt', 'doc/requirements.txt']",2,6d26a7e440ac9dd3d8a7a0e3635528105a11c3d1,openstackdocstheme,openstackdocstheme>=1.30.0 # Apache-2.0,openstackdocstheme>=1.18.1 # Apache-2.0,2,2
openstack%2Fmonasca-log-api~master~I4c00809fd91de8266284dfb843c5af17c786373e,openstack/monasca-log-api,master,I4c00809fd91de8266284dfb843c5af17c786373e,Remove unused log v2 endpoints,MERGED,2019-06-27 12:17:41.000000000,2019-07-01 14:02:17.000000000,2019-07-01 14:02:17.000000000,"[{'_account_id': 16222}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 12:17:41.000000000', 'files': ['devstack/plugin.sh'], 'web_link': 'https://opendev.org/openstack/monasca-log-api/commit/5b73565afadfb0737992d8d9080cab2f9f891731', 'message': 'Remove unused log v2 endpoints\n\nLog v2 api is deprecated and should not be used.\n\nChange-Id: I4c00809fd91de8266284dfb843c5af17c786373e\n'}]",0,667909,5b73565afadfb0737992d8d9080cab2f9f891731,7,3,1,26141,,,0,"Remove unused log v2 endpoints

Log v2 api is deprecated and should not be used.

Change-Id: I4c00809fd91de8266284dfb843c5af17c786373e
",git fetch https://review.opendev.org/openstack/monasca-log-api refs/changes/09/667909/1 && git format-patch -1 --stdout FETCH_HEAD,['devstack/plugin.sh'],1,5b73565afadfb0737992d8d9080cab2f9f891731,endpoints,," get_or_create_service ""logs_v2"" ""logs_v2"" ""Monasca Log V2.0 service"" get_or_create_endpoint \ ""logs_v2"" \ ""$REGION_NAME"" \ ""$MONASCA_LOG_API_URI_V2"" \ ""$MONASCA_LOG_API_URI_V2"" \ ""$MONASCA_LOG_API_URI_V2"" ",0,8
openstack%2Fcinder~stable%2Fpike~Ib5947e2c7300730adb851ad58e898a29f2b88525,openstack/cinder,stable/pike,Ib5947e2c7300730adb851ad58e898a29f2b88525,Create new image volume cache entry when cloning fails,ABANDONED,2019-06-26 21:55:58.000000000,2019-07-01 13:59:11.000000000,,"[{'_account_id': 4523}, {'_account_id': 10118}, {'_account_id': 14892}, {'_account_id': 19933}, {'_account_id': 21129}, {'_account_id': 21863}, {'_account_id': 22348}, {'_account_id': 23613}, {'_account_id': 24236}, {'_account_id': 24921}, {'_account_id': 26537}, {'_account_id': 28801}]","[{'number': 1, 'created': '2019-06-26 21:55:58.000000000', 'files': ['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py'], 'web_link': 'https://opendev.org/openstack/cinder/commit/71aed9558c05ef5f00b233827ad54518f5e929e9', 'message': 'Create new image volume cache entry when cloning fails\n\nThis patch fixes the image volume cache so that a new cache entry is\ncreated whenever cloning an existing entry fails (which can happen, for\nexample, when a cached volume reaches its snapshot limit). This restores\nthe original behavior, which was broken by [1].\n\n[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4\n\nCloses-Bug: #1801595\nChange-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525\n(cherry picked from commit 93519a02c0c9b5dcb9d5139761780bcbdceef982)\n'}]",1,667735,71aed9558c05ef5f00b233827ad54518f5e929e9,15,12,1,14892,,,0,"Create new image volume cache entry when cloning fails

This patch fixes the image volume cache so that a new cache entry is
created whenever cloning an existing entry fails (which can happen, for
example, when a cached volume reaches its snapshot limit). This restores
the original behavior, which was broken by [1].

[1] I547fb4bcdd4783225b8ca96d157c61ca3bcf4ef4

Closes-Bug: #1801595
Change-Id: Ib5947e2c7300730adb851ad58e898a29f2b88525
(cherry picked from commit 93519a02c0c9b5dcb9d5139761780bcbdceef982)
",git fetch https://review.opendev.org/openstack/cinder refs/changes/35/667735/1 && git format-patch -1 --stdout FETCH_HEAD,"['cinder/tests/unit/volume/flows/test_create_volume_flow.py', 'cinder/volume/flows/manager/create_volume.py']",2,71aed9558c05ef5f00b233827ad54518f5e929e9,bug/1801595-stable/pike," try: model_update, cloned = self._create_from_image_cache( context, internal_context, volume, image_id, image_meta ) except exception.CinderException as e: LOG.warning('Failed to create volume from image-volume ' 'cache, image will be downloaded from Glance. ' 'Error: %(exception)s', {'exception': e}) # If an exception occurred when cloning the image-volume, # it may be the image-volume reached its snapshot limit. # Create another ""fresh"" cache entry. update_cache = True "," except exception.CinderException as e: LOG.warning('Failed to create volume from image-volume cache, ' 'image will be downloaded from Glance. Error: ' '%(exception)s', {'exception': e}) model_update, cloned = self._create_from_image_cache( context, internal_context, volume, image_id, image_meta )",64,27
openstack%2Fplacement~master~Ie94ab144005a5846fc951f4f387703bd241181c8,openstack/placement,master,Ie94ab144005a5846fc951f4f387703bd241181c8,Centralize and clarify pip in the docs,MERGED,2019-06-25 15:08:50.000000000,2019-07-01 13:48:57.000000000,2019-07-01 13:48:57.000000000,"[{'_account_id': 6873}, {'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-25 15:08:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/ce97d26219cbb7ffa050a9f9f73b900149f38d3a', 'message': ""Centralize and clarify pip in the docs\n\nAdd a clarifying note about running pip (e.g. you might have to spell it\npip3) in a centralized place and link it from elsewhere. We should link\nto this whenever we mention pip so we don't duplicate information.\n\nChange-Id: Ie94ab144005a5846fc951f4f387703bd241181c8\nStory: #2005950\nTask: #34315\n""}, {'number': 2, 'created': '2019-06-27 16:52:17.000000000', 'files': ['doc/source/install/verify.rst', 'doc/source/install/from-pypi.rst'], 'web_link': 'https://opendev.org/openstack/placement/commit/180c83b52bbf290d88f088752b0a2c29a31da730', 'message': ""Centralize and clarify pip in the docs\n\nAdd a clarifying note about running pip (e.g. you might have to spell it\npip3) in a centralized place and link it from elsewhere. We should link\nto this whenever we mention pip so we don't duplicate information.\n\nChange-Id: Ie94ab144005a5846fc951f4f387703bd241181c8\nStory: #2005950\nTask: #34315\n""}]",3,667383,180c83b52bbf290d88f088752b0a2c29a31da730,13,5,2,14070,,,0,"Centralize and clarify pip in the docs

Add a clarifying note about running pip (e.g. you might have to spell it
pip3) in a centralized place and link it from elsewhere. We should link
to this whenever we mention pip so we don't duplicate information.

Change-Id: Ie94ab144005a5846fc951f4f387703bd241181c8
Story: #2005950
Task: #34315
",git fetch https://review.opendev.org/openstack/placement refs/changes/83/667383/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/install/verify.rst', 'doc/source/install/from-pypi.rst']",2,ce97d26219cbb7ffa050a9f9f73b900149f38d3a,story/2005950,"Before installing the service, you will need to create the database, service credentials, and API endpoints, as described in the following sections. .. _about-pip: pip ^^^ Install `pip <https://pypi.org/project/pip/>`_ from PyPI_. .. note:: Examples throughout this reference material use the ``pip`` command. This may need to be pathed or spelled differently (e.g. ``pip3``) depending on your installation and Python version. python-openstackclient ^^^^^^^^^^^^^^^^^^^^^^","Before installing the service, you will need to create the database, service credentials, and API endpoints, as described in the following sections. .. _pip: https://pypi.org/project/pip/",18,8
openstack%2Freleases~master~Icbe88daf7a6a86f16462b737cdb102fa517433df,openstack/releases,master,Icbe88daf7a6a86f16462b737cdb102fa517433df,Release os-traits 0.15.0,MERGED,2019-06-24 14:18:41.000000000,2019-07-01 13:48:25.000000000,2019-06-28 20:10:40.000000000,"[{'_account_id': 308}, {'_account_id': 6873}, {'_account_id': 11564}, {'_account_id': 11904}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:18:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/releases/commit/3c3e8b1a5530aa3af9737d734902d3b23b5dbe1a', 'message': 'Release os-traits 0.15.0\n\nPicks up traits for image metadata [1] [2].\n\n[1] https://review.opendev.org/652996\n[2] https://review.opendev.org/665830\n\nChange-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df\n'}, {'number': 2, 'created': '2019-06-27 14:21:23.000000000', 'files': ['deliverables/_independent/os-traits.yaml'], 'web_link': 'https://opendev.org/openstack/releases/commit/6f21aff290681adcd67e4f2c1814361d9b6e64b6', 'message': 'Release os-traits 0.15.0\n\nPicks up traits for image metadata [1] [2] and disabled computes [3].\n\n[1] https://review.opendev.org/652996\n[2] https://review.opendev.org/665830\n[3] https://review.opendev.org/667209\n\nChange-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df\n'}]",0,667111,6f21aff290681adcd67e4f2c1814361d9b6e64b6,17,6,2,14070,,,0,"Release os-traits 0.15.0

Picks up traits for image metadata [1] [2] and disabled computes [3].

[1] https://review.opendev.org/652996
[2] https://review.opendev.org/665830
[3] https://review.opendev.org/667209

Change-Id: Icbe88daf7a6a86f16462b737cdb102fa517433df
",git fetch https://review.opendev.org/openstack/releases refs/changes/11/667111/1 && git format-patch -1 --stdout FETCH_HEAD,['deliverables/_independent/os-traits.yaml'],1,3c3e8b1a5530aa3af9737d734902d3b23b5dbe1a,os-traits-0.15.0, - version: 0.15.0 projects: - repo: openstack/os-traits hash: 1df7ecc2637f585d2e75f1cc4239da9c856b9a40,,4,0
openstack%2Fproject-config~master~I610dae5d6d7fe01e15f66970b59d3b999bebb766,openstack/project-config,master,I610dae5d6d7fe01e15f66970b59d3b999bebb766,Remove nodepool builder config for control plane images,MERGED,2019-06-12 20:42:48.000000000,2019-07-01 13:47:57.000000000,2019-07-01 13:47:57.000000000,"[{'_account_id': 2}, {'_account_id': 6547}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-12 20:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-config/commit/50a4683a007d414f089ad005398072c564dea9d5', 'message': ""Remove nodepool builder config for control plane images\n\nNodepool wants to build a new image every day then delete the N+2'th\nimage. This is great for dynamic test nodes which never live for longer\nthan a few hours. Unfortunately, with boot from volume servers you\ncannot delete their base image if the server is still running. This\nmeans as soon as we use these images for control plane servers, which do\nnot go away after a few hours, we'll no longer be able to delete that\nimage a couple days later.\n\nThis will make our current nodepool install unhappy so lets avoid doing\nthat for now.\n\nWe can probably make improvements to nodepool to better support this use\ncase. At that time we can start trying this again. We will probably also\nwant to use a dedicated builder for that.\n\nNote this isn't a revert becaues the control-plane-minimal element is\nuseful if we want to build these types of images in the future. We just\nshouldn't use nodepool to do it in its current state.\n\nChange-Id: I610dae5d6d7fe01e15f66970b59d3b999bebb766\n""}, {'number': 2, 'created': '2019-06-12 20:46:52.000000000', 'files': ['nodepool/nodepool.yaml'], 'web_link': 'https://opendev.org/openstack/project-config/commit/9b0f75df253073705f23f2a6bf41ed1c72d17151', 'message': ""Remove nodepool builder config for control plane images\n\nNodepool wants to build a new image every day then delete the N+2'th\nimage. This is great for dynamic test nodes which never live for longer\nthan a few hours. Unfortunately, with boot from volume servers you\ncannot delete their base image if the server is still running. This\nmeans as soon as we use these images for control plane servers, which do\nnot go away after a few hours, we'll no longer be able to delete that\nimage a couple days later.\n\nThis will make our current nodepool install unhappy so lets avoid doing\nthat for now.\n\nWe can probably make improvements to nodepool to better support this use\ncase. At that time we can start trying this again. We will probably also\nwant to use a dedicated builder for that.\n\nNote this isn't a revert because the control-plane-minimal element is\nuseful if we want to build these types of images in the future. We just\nshouldn't use nodepool to do it in its current state.\n\nChange-Id: I610dae5d6d7fe01e15f66970b59d3b999bebb766\n""}]",0,665012,9b0f75df253073705f23f2a6bf41ed1c72d17151,8,3,2,4146,,,0,"Remove nodepool builder config for control plane images

Nodepool wants to build a new image every day then delete the N+2'th
image. This is great for dynamic test nodes which never live for longer
than a few hours. Unfortunately, with boot from volume servers you
cannot delete their base image if the server is still running. This
means as soon as we use these images for control plane servers, which do
not go away after a few hours, we'll no longer be able to delete that
image a couple days later.

This will make our current nodepool install unhappy so lets avoid doing
that for now.

We can probably make improvements to nodepool to better support this use
case. At that time we can start trying this again. We will probably also
want to use a dedicated builder for that.

Note this isn't a revert because the control-plane-minimal element is
useful if we want to build these types of images in the future. We just
shouldn't use nodepool to do it in its current state.

Change-Id: I610dae5d6d7fe01e15f66970b59d3b999bebb766
",git fetch https://review.opendev.org/openstack/project-config refs/changes/12/665012/1 && git format-patch -1 --stdout FETCH_HEAD,['nodepool/nodepool.yaml'],1,50a4683a007d414f089ad005398072c564dea9d5,stop-control-plane-nodepool,," - name: rax-dfw-control-plane region-name: DFW cloud: rax-control-plane rate: 0.001 diskimages: &control_plane_diskimages - name: ubuntu-bionic-minimal config-drive: true - name: vexxhost-sjc1-control-plane region-name: sjc1 cloud: vexxhost-control-plane rate: 0.001 diskimages: *control_plane_diskimages - name: ubuntu-bionic-minimal pause: false elements: - ubuntu-minimal - vm - simple-init - growroot - openssh-server - control-plane-minimal release: bionic env-vars: TMPDIR: /opt/dib_tmp DIB_CHECKSUM: '1' DIB_IMAGE_CACHE: /opt/dib_cache DIB_JOURNAL_SIZE: '512' DIB_APT_LOCAL_CACHE: '0' DIB_DISABLE_APT_CLEANUP: '1' DIB_GRUB_TIMEOUT: '0' # DIB_DISTRIBUTION_MIRROR excluded on purpose DIB_DEBOOTSTRAP_EXTRA_ARGS: '--no-check-gpg' DIB_DEBIAN_COMPONENTS: 'main,universe' GIT_HTTP_LOW_SPEED_TIME: '300' GIT_HTTP_LOW_SPEED_LIMIT: '1000' DIB_SHOW_IMAGE_USAGE: '1'",0,38
openstack%2Fansible-role-redhat-subscription~master~Id74d08c36b421f1b11f7cfeece1a77306ec138c0,openstack/ansible-role-redhat-subscription,master,Id74d08c36b421f1b11f7cfeece1a77306ec138c0,Fix issue with long description by using markdown format,MERGED,2019-07-01 13:16:53.000000000,2019-07-01 13:45:41.000000000,2019-07-01 13:45:41.000000000,"[{'_account_id': 14985}, {'_account_id': 22348}, {'_account_id': 28223}, {'_account_id': 28522}]","[{'number': 1, 'created': '2019-07-01 13:16:53.000000000', 'files': ['setup.py'], 'web_link': 'https://opendev.org/openstack/ansible-role-redhat-subscription/commit/fceb51c66eb343a7cd20891da8728c65ff703ce7', 'message': 'Fix issue with long description by using markdown format\n\nTell to pypi to convert long_description to markdown format.\n\nhttps://github.com/pypa/warehouse/issues/5890#issuecomment-494868157\n\nChange-Id: Id74d08c36b421f1b11f7cfeece1a77306ec138c0\n'}]",0,668459,fceb51c66eb343a7cd20891da8728c65ff703ce7,9,4,1,28522,,,0,"Fix issue with long description by using markdown format

Tell to pypi to convert long_description to markdown format.

https://github.com/pypa/warehouse/issues/5890#issuecomment-494868157

Change-Id: Id74d08c36b421f1b11f7cfeece1a77306ec138c0
",git fetch https://review.opendev.org/openstack/ansible-role-redhat-subscription refs/changes/59/668459/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.py'],1,fceb51c66eb343a7cd20891da8728c65ff703ce7,readme-markdown-format," pbr=True, long_description_content_type='text/markdown')", pbr=True),2,1
openstack%2Fopenstack-zuul-jobs~master~Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8,openstack/openstack-zuul-jobs,master,Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8,Add openstack-tox-functional-py37 job,MERGED,2019-06-24 14:36:33.000000000,2019-07-01 13:44:38.000000000,2019-07-01 13:44:38.000000000,"[{'_account_id': 2}, {'_account_id': 4257}, {'_account_id': 6547}, {'_account_id': 8556}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 14:36:33.000000000', 'files': ['zuul.d/jobs.yaml'], 'web_link': 'https://opendev.org/openstack/openstack-zuul-jobs/commit/1d83efd96cb9c0c48b9b863b46f70e5d55465b28', 'message': 'Add openstack-tox-functional-py37 job\n\nThis adds a job to run a tox functional job using Python 3.7 to match\nthe ones used for 35 and 36.\n\nChange-Id: Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,667119,1d83efd96cb9c0c48b9b863b46f70e5d55465b28,9,5,1,11904,,,0,"Add openstack-tox-functional-py37 job

This adds a job to run a tox functional job using Python 3.7 to match
the ones used for 35 and 36.

Change-Id: Iae3c4622cba68f8d65162457449ec2ddbfb1dbd8
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/openstack-zuul-jobs refs/changes/19/667119/1 && git format-patch -1 --stdout FETCH_HEAD,['zuul.d/jobs.yaml'],1,1d83efd96cb9c0c48b9b863b46f70e5d55465b28,python3-train, name: openstack-tox-functional-py37 parent: openstack-tox nodeset: ubuntu-bionic description: | Run tox-based functional tests for an OpenStack Python project under cPython version 3.7. Uses tox with the ``functional-py37`` environment. irrelevant-files: *common-irrelevant-files vars: tox_envlist: functional-py37 - job:,,13,0
openstack%2Fplacement~master~I9a379e0e60ae8eb53280b8296229d2f0412eae4a,openstack/placement,master,I9a379e0e60ae8eb53280b8296229d2f0412eae4a,Add OsProfiler config options to generated reference,MERGED,2019-06-27 07:39:08.000000000,2019-07-01 13:44:21.000000000,2019-06-27 16:14:44.000000000,"[{'_account_id': 6873}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 07:39:08.000000000', 'files': ['test-requirements.txt', 'etc/placement/config-generator.conf'], 'web_link': 'https://opendev.org/openstack/placement/commit/663780060461177a3c88c2c2d252224511287fa8', 'message': ""Add OsProfiler config options to generated reference\n\nOsProfiler is optional, but if it's installed we'll load up the configuration\noptions from the library, but they weren't in the generated config sample so\npeople would have to find the osprofiler docs, or worse the code, to figure\nout how to configure it.\n\nThis simply adds the OsProfiler config options to the config sample, which\nwill also show up in the config reference docs.\n\nChange-Id: I9a379e0e60ae8eb53280b8296229d2f0412eae4a\nStory: 2005842\nTask: 34191\n""}]",2,667800,663780060461177a3c88c2c2d252224511287fa8,8,3,1,9708,,,0,"Add OsProfiler config options to generated reference

OsProfiler is optional, but if it's installed we'll load up the configuration
options from the library, but they weren't in the generated config sample so
people would have to find the osprofiler docs, or worse the code, to figure
out how to configure it.

This simply adds the OsProfiler config options to the config sample, which
will also show up in the config reference docs.

Change-Id: I9a379e0e60ae8eb53280b8296229d2f0412eae4a
Story: 2005842
Task: 34191
",git fetch https://review.opendev.org/openstack/placement refs/changes/00/667800/1 && git format-patch -1 --stdout FETCH_HEAD,"['test-requirements.txt', 'etc/placement/config-generator.conf']",2,663780060461177a3c88c2c2d252224511287fa8,story/2005842,namespace = osprofiler,,4,0
openstack%2Fplacement~master~I92ca8e73016c1d3a73aa1084013e4cec2382dec2,openstack/placement,master,I92ca8e73016c1d3a73aa1084013e4cec2382dec2,Trivial: Update document for Request IDs,MERGED,2019-06-26 08:20:09.000000000,2019-07-01 13:41:17.000000000,2019-06-26 20:58:12.000000000,"[{'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-26 08:20:09.000000000', 'files': ['api-ref/source/request-ids.inc'], 'web_link': 'https://opendev.org/openstack/placement/commit/0d9c510df78e34dd205324af174e943624a3dc06', 'message': 'Trivial: Update document for Request IDs\n\nThe Request IDs doc had an small error describing that in response\nheader the value of X-Openstack-Request-Id is generated automatically\nfor tracking each request to nova, but it is for tracking each request\nto placement so this patch updates it.\n\nChange-Id: I92ca8e73016c1d3a73aa1084013e4cec2382dec2\n'}]",0,667546,0d9c510df78e34dd205324af174e943624a3dc06,7,2,1,25625,,,0,"Trivial: Update document for Request IDs

The Request IDs doc had an small error describing that in response
header the value of X-Openstack-Request-Id is generated automatically
for tracking each request to nova, but it is for tracking each request
to placement so this patch updates it.

Change-Id: I92ca8e73016c1d3a73aa1084013e4cec2382dec2
",git fetch https://review.opendev.org/openstack/placement refs/changes/46/667546/1 && git format-patch -1 --stdout FETCH_HEAD,['api-ref/source/request-ids.inc'],1,0d9c510df78e34dd205324af174e943624a3dc06,trivial, tracking each request to placement. It is associated with the request and, tracking each request to nova. It is associated with the request and,1,1
openstack%2Fneutron-fwaas~stable%2Frocky~I9742207e98c07f0a4632631631288d9ada8cf8c7,openstack/neutron-fwaas,stable/rocky,I9742207e98c07f0a4632631631288d9ada8cf8c7,netfilter_log: Correctly decode binary type prefix,MERGED,2019-06-11 07:40:08.000000000,2019-07-01 13:39:45.000000000,2019-07-01 13:39:45.000000000,"[{'_account_id': 55}, {'_account_id': 841}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 13995}, {'_account_id': 21798}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-11 07:40:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/99b05c0150940b2e6bea81969b24c8f0ece59801', 'message': ""netfilter_log: Correct decode binary types\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information avaliable in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}, {'number': 2, 'created': '2019-06-11 07:51:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/6ae26afe19a47a37ba46185010c98445d282b37f', 'message': ""netfilter_log: Correctly decode binary type prefix\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information available in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}, {'number': 3, 'created': '2019-06-11 13:34:48.000000000', 'files': ['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'], 'web_link': 'https://opendev.org/openstack/neutron-fwaas/commit/ea7590e4e19e5ef0bb8731d6ed1374084feeddad', 'message': ""netfilter_log: Correctly decode binary type prefix\n\nUnder Python 3, firewall log prefixes are incorrectly decoded\nresulting in a mismatch between the stringy-fied 'prefix' value\nand the information available in the prefixes data.\n\nUse oslo.utils safe_decode function to ensure that data is\ncorrectly decoded.\n\nChange-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7\nCloses-Bug: 1832210\n(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)\n""}]",0,664514,ea7590e4e19e5ef0bb8731d6ed1374084feeddad,18,8,3,935,,,0,"netfilter_log: Correctly decode binary type prefix

Under Python 3, firewall log prefixes are incorrectly decoded
resulting in a mismatch between the stringy-fied 'prefix' value
and the information available in the prefixes data.

Use oslo.utils safe_decode function to ensure that data is
correctly decoded.

Change-Id: I9742207e98c07f0a4632631631288d9ada8cf8c7
Closes-Bug: 1832210
(cherry picked from commit 652f532d840c583a6997f5de3f988daf803122e8)
",git fetch https://review.opendev.org/openstack/neutron-fwaas refs/changes/14/664514/3 && git format-patch -1 --stdout FETCH_HEAD,['neutron_fwaas/privileged/netfilter_log/libnetfilter_log.py'],1,99b05c0150940b2e6bea81969b24c8f0ece59801,bug/1832210,"from oslo_utils import encodeutils return {'prefix': encodeutils.safe_decode(prefix), 'msg': encodeutils.safe_decode(msg)}"," return {'prefix': str(prefix), 'msg': str(msg)}",3,1
openstack%2Fopenstacksdk~master~I3b88debef5e92b2d2469952a5d12be8bf569102e,openstack/openstacksdk,master,I3b88debef5e92b2d2469952a5d12be8bf569102e,Replace nodepool func jobs,MERGED,2019-06-27 17:18:59.000000000,2019-07-01 13:22:18.000000000,2019-07-01 13:22:18.000000000,"[{'_account_id': 2}, {'_account_id': 10239}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 17:18:59.000000000', 'files': ['.zuul.yaml'], 'web_link': 'https://opendev.org/openstack/openstacksdk/commit/3f6043796defb5769aa77ec063fa8f7a06197a3f', 'message': 'Replace nodepool func jobs\n\nThese are new nodepool functional jobs designed to give more\nflexibility to the DIB/clean projects to define what they need\nto test.  Otherwise, they behave very similarly to the current\nnodepool functional jobs.\n\nDepends-On: https://review.opendev.org/665023\nChange-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e\n'}]",0,667992,3f6043796defb5769aa77ec063fa8f7a06197a3f,7,3,1,1,,,0,"Replace nodepool func jobs

These are new nodepool functional jobs designed to give more
flexibility to the DIB/clean projects to define what they need
to test.  Otherwise, they behave very similarly to the current
nodepool functional jobs.

Depends-On: https://review.opendev.org/665023
Change-Id: I3b88debef5e92b2d2469952a5d12be8bf569102e
",git fetch https://review.opendev.org/openstack/openstacksdk refs/changes/92/667992/1 && git format-patch -1 --stdout FETCH_HEAD,['.zuul.yaml'],1,3f6043796defb5769aa77ec063fa8f7a06197a3f,nodepool-func, - nodepool-functional-openstack-src - nodepool-functional-openstack-src, - nodepool-functional-py35-src - nodepool-functional-py35-src,2,2
openstack%2Fplacement~master~Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78,openstack/placement,master,Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78,Remove gate/post_test_hook.sh,MERGED,2019-06-27 17:29:54.000000000,2019-07-01 13:10:56.000000000,2019-07-01 13:10:56.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 17:29:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/9b9dce5f977be286ef6aa6f00d7955bfca9c391f', 'message': 'Remove gate/ files\n\nThe post_test_hook script in the gate/ directory is a carry-over\nfrom the split from the nova repo and is not used in placement\nso we can delete these files.\n\nChange-Id: Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78\n'}, {'number': 2, 'created': '2019-06-28 18:38:58.000000000', 'files': ['gate/post_test_hook.sh'], 'web_link': 'https://opendev.org/openstack/placement/commit/41287a7464bc87bf571a79e438b02d5097dbf6a6', 'message': 'Remove gate/post_test_hook.sh\n\nThe post_test_hook script in the gate/ directory is a carry-over\nfrom the split from the nova repo and is not used in placement\nso we can delete it.\n\nChange-Id: Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78\n'}]",1,667996,41287a7464bc87bf571a79e438b02d5097dbf6a6,11,4,2,6873,,,0,"Remove gate/post_test_hook.sh

The post_test_hook script in the gate/ directory is a carry-over
from the split from the nova repo and is not used in placement
so we can delete it.

Change-Id: Id64c55f7c5ce730b8f1fa7cf17ff083d65e6bf78
",git fetch https://review.opendev.org/openstack/placement refs/changes/96/667996/1 && git format-patch -1 --stdout FETCH_HEAD,"['gate/README', 'gate/post_test_hook.sh']",2,9b9dce5f977be286ef6aa6f00d7955bfca9c391f,rm-post-test-hook,,"#!/bin/bash -x MANAGE=""/usr/local/bin/nova-manage"" function archive_deleted_rows { # NOTE(danms): Run this a few times to make sure that we end # up with nothing more to archive for i in `seq 30`; do $MANAGE $* db archive_deleted_rows --verbose --max_rows 1000 RET=$? if [[ $RET -gt 1 ]]; then echo Archiving failed with result $RET return $RET elif [[ $RET -eq 0 ]]; then echo Archiving Complete break; fi done } function purge_db { $MANAGE db purge --all --verbose --all-cells RET=$? if [[ $RET -eq 0 ]]; then echo Purge successful else echo Purge failed with result $RET return $RET fi } BASE=${BASE:-/opt/stack} source ${BASE}/new/devstack/functions-common source ${BASE}/new/devstack/lib/nova cell_conf=$(conductor_conf 1) # NOTE(danms): We need to pass the main config to get the api db # bits, and then also the cell config for the cell1 db (instead of # the cell0 config that is in the main config file). Later files # take precedence. conf=""--config-file $NOVA_CONF --config-file $cell_conf"" archive_deleted_rows $conf purge_db set -e # We need to get the admin credentials to run the OSC CLIs for Placement. set +x source $BASE/new/devstack/openrc admin set -x # TODO(mriedem): Consider checking for instances in ERROR state because # if there are any, we would expect them to retain allocations in Placement # and therefore we don't really need to check for leaked allocations. # Check for orphaned instance allocations in Placement which could mean # something failed during a test run and isn't getting cleaned up properly. echo ""Looking for leaked resource provider allocations in Placement"" LEAKED_ALLOCATIONS=0 for provider in $(openstack resource provider list -c uuid -f value); do echo ""Looking for allocations for provider $provider"" allocations=$(openstack resource provider show --allocations $provider \ -c allocations -f value) if [[ ""$allocations"" != ""{}"" ]]; then echo ""Resource provider has allocations:"" openstack resource provider show --allocations $provider LEAKED_ALLOCATIONS=1 fi done # Fail if there were any leaked allocations. if [[ $LEAKED_ALLOCATIONS -eq 1 ]]; then echo ""There were leaked allocations; failing."" exit 1 fi echo ""Resource provider allocations were cleaned up properly."" ",0,79
openstack%2Fplacement~master~Ia3b7387192856b812cb7f0689cfe329ebf51b6bd,openstack/placement,master,Ia3b7387192856b812cb7f0689cfe329ebf51b6bd,Bump os-traits minimum to 0.15.0,MERGED,2019-06-29 01:56:42.000000000,2019-07-01 13:10:55.000000000,2019-07-01 13:10:55.000000000,"[{'_account_id': 7634}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-29 01:56:42.000000000', 'files': ['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml'], 'web_link': 'https://opendev.org/openstack/placement/commit/2772dafc9dc7fbae58486adf76b1c68016e9e7c4', 'message': 'Bump os-traits minimum to 0.15.0\n\nos-traits 0.15.0 was just released. Require it.\n\nChange-Id: Ia3b7387192856b812cb7f0689cfe329ebf51b6bd\n'}]",0,668278,2772dafc9dc7fbae58486adf76b1c68016e9e7c4,7,3,1,14070,,,0,"Bump os-traits minimum to 0.15.0

os-traits 0.15.0 was just released. Require it.

Change-Id: Ia3b7387192856b812cb7f0689cfe329ebf51b6bd
",git fetch https://review.opendev.org/openstack/placement refs/changes/78/668278/1 && git format-patch -1 --stdout FETCH_HEAD,"['requirements.txt', 'lower-constraints.txt', 'placement/tests/functional/gabbits/traits.yaml']",3,2772dafc9dc7fbae58486adf76b1c68016e9e7c4,os-traits_0.15.0, $.traits.`len`: 267 # Number of standard traits, $.traits.`len`: 237 # Number of standard traits,3,3
openstack%2Fsushy~master~I76c99da2aac8e0629bb468e22abd104cb29bc4ab,openstack/sushy,master,I76c99da2aac8e0629bb468e22abd104cb29bc4ab,Add ``Endpoint`` sub-resource to ``Fabric``,MERGED,2019-04-23 20:44:22.000000000,2019-07-01 12:44:38.000000000,2019-07-01 12:44:38.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 30013}]","[{'number': 1, 'created': '2019-04-23 20:44:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/99b88176ddd3ae9cc899b52da6c07eb7f6b66eaa', 'message': 'Add ``Endpoint`` sub-resource to ``Fabric``\n\nAdd representation of the Endpoint sub-resource to Fabric resource in sushy.\nA fabric endpoint represents the properties of an entity that sends or receives\nprotocol defined messages over a transport.\n\nStory: #2003853\nTask: #26648\n\nChange-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab\n'}, {'number': 2, 'created': '2019-04-24 09:37:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/e20e627823b7ae416e17ed10723db1abb87d58fb', 'message': 'Add ``Endpoint`` sub-resource to ``Fabric``\n\nAdd representation of the Endpoint sub-resource to Fabric resource\nin sushy. A fabric endpoint represents the properties of an entity\nthat sends or receives protocol defined messages over a transport.\n\nStory: #2003853\nTask: #26648\n\nChange-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab\n'}, {'number': 3, 'created': '2019-04-24 10:12:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy/commit/c6da336f7598234215b091aebb9e917dd4706687', 'message': 'Add ``Endpoint`` sub-resource to ``Fabric``\n\nAdd representation of the Endpoint sub-resource to Fabric resource\nin sushy. A fabric endpoint represents the properties of an entity\nthat sends or receives protocol defined messages over a transport.\n\nStory: #2003853\nTask: #26648\n\nChange-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab\n'}, {'number': 4, 'created': '2019-06-21 12:46:16.000000000', 'files': ['sushy/tests/unit/json_samples/endpoint_collection.json', 'sushy/tests/unit/resources/fabric/test_fabric.py', 'sushy/tests/unit/json_samples/endpoint.json', 'sushy/tests/unit/resources/fabric/test_endpoint.py', 'sushy/resources/fabric/mappings.py', 'sushy/resources/fabric/endpoint.py', 'sushy/resources/fabric/fabric.py', 'releasenotes/notes/add-endpoint-subresource-to-fabric-b03e5fd99ece1bf4.yaml', 'sushy/resources/fabric/constants.py'], 'web_link': 'https://opendev.org/openstack/sushy/commit/ca8471196ea86e8f32e0676c5bfaf979c749479c', 'message': 'Add ``Endpoint`` sub-resource to ``Fabric``\n\nAdd representation of the Endpoint sub-resource to Fabric resource\nin sushy. A fabric endpoint represents the properties of an entity\nthat sends or receives protocol defined messages over a transport.\n\nStory: #2003853\nTask: #26648\n\nChange-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab\n'}]",11,655247,ca8471196ea86e8f32e0676c5bfaf979c749479c,23,4,4,30013,,,0,"Add ``Endpoint`` sub-resource to ``Fabric``

Add representation of the Endpoint sub-resource to Fabric resource
in sushy. A fabric endpoint represents the properties of an entity
that sends or receives protocol defined messages over a transport.

Story: #2003853
Task: #26648

Change-Id: I76c99da2aac8e0629bb468e22abd104cb29bc4ab
",git fetch https://review.opendev.org/openstack/sushy refs/changes/47/655247/4 && git format-patch -1 --stdout FETCH_HEAD,"['sushy/tests/unit/json_samples/endpoint_collection.json', 'sushy/tests/unit/resources/fabric/test_fabric.py', 'sushy/tests/unit/json_samples/endpoint.json', 'sushy/tests/unit/resources/fabric/test_endpoint.py', 'sushy/resources/fabric/endpoint.py', 'sushy/resources/fabric/mappings.py', 'sushy/resources/fabric/fabric.py', 'releasenotes/notes/add-endpoint-subresource-to-fabric-b03e5fd99ece1bf4.yaml', 'sushy/resources/fabric/constants.py']",9,99b88176ddd3ae9cc899b52da6c07eb7f6b66eaa,fabric-endpoint-subresource,"# Protocol type constants PROTOCOL_TYPE_AHCI = 'Advanced Host Controller Interface' PROTOCOL_TYPE_FC = 'Fibre Channel' PROTOCOL_TYPE_FCP = 'Fibre Channel Protocol for SCSI' PROTOCOL_TYPE_FCoE = 'Fibre Channel over Ethernet' PROTOCOL_TYPE_FICON = 'FIbre CONnection (FICON)' PROTOCOL_TYPE_FTP = 'File Transfer Protocol' PROTOCOL_TYPE_HTTP = 'Hypertext Transport Protocol' PROTOCOL_TYPE_HTTPS = 'Secure Hypertext Transport Protocol' PROTOCOL_TYPE_I2C = 'Inter-Integrated Circuit Bus' PROTOCOL_TYPE_NFSv3 = 'Network File System version 3' PROTOCOL_TYPE_NFSv4 = 'Network File System version 4' PROTOCOL_TYPE_NVMe = 'Non-Volatile Memory Express' PROTOCOL_TYPE_NVMeOverFabrics = 'NVMe over Fabrics' PROTOCOL_TYPE_OEM = 'OEM specific' PROTOCOL_TYPE_PCIe = 'PCI Express' PROTOCOL_TYPE_RoCE = 'RDMA over Converged Ethernet Protocol' PROTOCOL_TYPE_RoCEv2 = 'RDMA over Converged Ethernet Protocol Version 2' PROTOCOL_TYPE_SAS = 'Serial Attached SCSI' PROTOCOL_TYPE_SATA = 'Serial AT Attachment' PROTOCOL_TYPE_SFTP = 'Secure File Transfer Protocol' PROTOCOL_TYPE_SMB = 'Server Message Block (CIFS Common Internet File System)' PROTOCOL_TYPE_UHCI = 'Universal Host Controller Interface' PROTOCOL_TYPE_USB = 'Universal Serial Bus' PROTOCOL_TYPE_iSCSI = 'Internet SCSI' PROTOCOL_TYPE_iWARP = 'Internet Wide Area Remote Direct Memory Access Protocol' # Address origin IPv4 constants ADDRESS_ORIGIN_IPv4_BOOTP = 'Address is provided by a BOOTP service' ADDRESS_ORIGIN_IPv4_DHCP = 'Address is provided by a DHCPv4 service' ADDRESS_ORIGIN_IPv4_IPv4LINKLOCAL = 'Address valid only for this segment' ADDRESS_ORIGIN_IPv4_STATIC = 'A static address as configured by the user' # Address origin IPv6 constants ADDRESS_ORIGIN_IPv6_DHCPv6 = 'Address is provided by a DHCPv6 service' ADDRESS_ORIGIN_IPv6_LINKLOCAL = 'Address valid only for this network segment' ADDRESS_ORIGIN_IPv6_SLAAC = 'Stateless Address Auto Configuration service' ADDRESS_ORIGIN_IPv6_STATIC = 'A static address as configured by the user' # Address state constants ADDRESS_STATE_DEPRECATED = 'Deprecated' """"""This address is currently within it's valid lifetime, but is now outside of it's preferred lifetime as defined in RFC 4862."""""" ADDRESS_STATE_FAILED = 'Failed' """"""This address has failed Duplicate Address Detection testing as defined in RFC 4862 section 5.4 and is not currently in use."""""" ADDRESS_STATE_PREFERRED = 'Preferred' """"""This address is currently within both it's valid and preferred lifetimes as defined in RFC 4862."""""" ADDRESS_STATE_TENTATIVE = 'Tentative' """"""This address is currently undergoing Duplicate Address Detection testing as defined in RFC 4862 section 5.4."""""" # Durable name format constants DURABLE_NAME_FORMAT_EUI = 'IEEE-defined 64-bit Extended Unique Identifier' DURABLE_NAME_FORMAT_FC_WWN = 'Fibre Channel World Wide Name' DURABLE_NAME_FORMAT_NAA = 'Name Address Authority Format' DURABLE_NAME_FORMAT_NQN = 'NVMe Qualified Name' DURABLE_NAME_FORMAT_NSID = 'NVM Namespace Identifier' DURABLE_NAME_FORMAT_UUID = 'Universally Unique Identifier' DURABLE_NAME_FORMAT_iQN = 'iSCSI Qualified Name' # Entity role constants ENTITY_ROLE_BOTH = 'The entity is acting as both an initiator and a target' ENTITY_ROLE_INITIATOR = 'The entity is acting as an initiator' ENTITY_ROLE_TARGET = 'The entity is acting as a target' # Entity type constants ENTITY_TYPE_BRIDGE = 'PCI(e) Bridge' ENTITY_TYPE_DISPLAY_CONTROLLER = 'Display Controller' ENTITY_TYPE_DRIVE = 'Disk Drive' ENTITY_TYPE_NETWORK_CONTROLLER = 'Network Controller' ENTITY_TYPE_PROCESSOR = 'Processor Device' ENTITY_TYPE_ROOT_COMPLEX = 'Root Complex' ENTITY_TYPE_STORAGE_EXPANDER = 'Storage Expander' ENTITY_TYPE_STORAGE_INITIATOR = 'Storage Initiator' ENTITY_TYPE_VOLUME = 'Volume'",# Fabric Types constants FABRIC_TYPE_AHCI = 'Advanced Host Controller Interface' FABRIC_TYPE_FC = 'Fibre Channel' FABRIC_TYPE_FCP = 'Fibre Channel Protocol for SCSI' FABRIC_TYPE_FCoE = 'Fibre Channel over Ethernet' FABRIC_TYPE_FICON = 'FIbre CONnection (FICON)' FABRIC_TYPE_FTP = 'File Transfer Protocol' FABRIC_TYPE_HTTP = 'Hypertext Transport Protocol' FABRIC_TYPE_HTTPS = 'Secure Hypertext Transport Protocol' FABRIC_TYPE_I2C = 'Inter-Integrated Circuit Bus' FABRIC_TYPE_NFSv3 = 'Network File System version 3' FABRIC_TYPE_NFSv4 = 'Network File System version 4' FABRIC_TYPE_NVMe = 'Non-Volatile Memory Express' FABRIC_TYPE_NVMeOverFabrics = 'NVMe over Fabrics' FABRIC_TYPE_OEM = 'OEM specific' FABRIC_TYPE_PCIe = 'PCI Express' FABRIC_TYPE_RoCE = 'RDMA over Converged Ethernet Protocol' FABRIC_TYPE_RoCEv2 = 'RDMA over Converged Ethernet Protocol Version 2' FABRIC_TYPE_SAS = 'Serial Attached SCSI' FABRIC_TYPE_SATA = 'Serial AT Attachment' FABRIC_TYPE_SFTP = 'Secure File Transfer Protocol' FABRIC_TYPE_SMB = 'Server Message Block (aka CIFS Common Internet File System)' FABRIC_TYPE_UHCI = 'Universal Host Controller Interface' FABRIC_TYPE_USB = 'Universal Serial Bus' FABRIC_TYPE_iSCSI = 'Internet SCSI' FABRIC_TYPE_iWARP = 'Internet Wide Area Remote Direct Memory Access Protocol',524,56
openstack%2Fpuppet-nova~master~I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,openstack/puppet-nova,master,I1d8fff0a90a2f35687ede46aef9886abf75b1f1f,Escape date command parameter,MERGED,2019-06-28 08:56:48.000000000,2019-07-01 12:40:55.000000000,2019-06-28 16:23:04.000000000,"[{'_account_id': 3153}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-06-28 08:56:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/c34deac938920fa81ff0c1180a0ba86498ec8865', 'message': 'Escape date command parameter\n\nFixed `date` command parameter by escaping %\nin `nova-manage db purge` command.\n\nChange-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f\n'}, {'number': 2, 'created': '2019-06-28 09:58:46.000000000', 'files': ['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb'], 'web_link': 'https://opendev.org/openstack/puppet-nova/commit/1eb5ee747d45128220edf1d1446819fa324402b8', 'message': 'Escape date command parameter\n\nFixed `date` command parameter by escaping %\nin `nova-manage db purge` command.\n\nChange-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f\n'}]",0,668116,1eb5ee747d45128220edf1d1446819fa324402b8,11,6,2,20733,,,0,"Escape date command parameter

Fixed `date` command parameter by escaping %
in `nova-manage db purge` command.

Change-Id: I1d8fff0a90a2f35687ede46aef9886abf75b1f1f
",git fetch https://review.opendev.org/openstack/puppet-nova refs/changes/16/668116/2 && git format-patch -1 --stdout FETCH_HEAD,"['manifests/cron/purge_shadow_tables.pp', 'spec/classes/nova_cron_purge_shadow_tables.rb']",2,c34deac938920fa81ff0c1180a0ba86498ec8865,escape_date_arg," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +\%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +\%D` --verbose --all-cells >>#{params[:destination]} 2>&1"","," :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose >>#{params[:destination]} 2>&1"", :command => ""nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` >>#{params[:destination]} 2>&1"", :command => ""sleep `expr ${RANDOM} \\% #{params[:maxdelay]}`; nova-manage db purge --before `date --date='today - #{params[:age]} days' +%D` --verbose --all-cells >>#{params[:destination]} 2>&1"",",4,4
openstack%2Ftacker~master~I628752ee932257a2bf048668b6c3b2d9c41f6aab,openstack/tacker,master,I628752ee932257a2bf048668b6c3b2d9c41f6aab,Correct tosca-vnfd-containerized.yaml format,MERGED,2019-06-28 10:01:32.000000000,2019-07-01 12:39:35.000000000,2019-07-01 12:39:35.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 30198}]","[{'number': 1, 'created': '2019-06-28 10:01:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/e6eaf277387373073824a6927f726a41793a1ad9', 'message': 'Correct tosca-vnfd-containerized.yaml format\n\nData value of type ""tosca.datatypes.nfv.VnfcConfigurableProperties""\ncontains unknown field ""properties"".\n""8080"" is not a string.\n\nChange-Id: I628752ee932257a2bf048668b6c3b2d9c41f6aab\n'}, {'number': 2, 'created': '2019-06-28 13:32:37.000000000', 'files': ['doc/source/user/containerized_vnf_usage_guide.rst'], 'web_link': 'https://opendev.org/openstack/tacker/commit/4c5ceeaff6621eae16f4ead356de44ae1cf4e1ae', 'message': 'Correct tosca-vnfd-containerized.yaml format\n\nData value of type ""tosca.datatypes.nfv.VnfcConfigurableProperties""\ncontains unknown field ""properties"".\n""8080"" is not a string.\n\nChange-Id: I628752ee932257a2bf048668b6c3b2d9c41f6aab\n'}]",0,668135,4c5ceeaff6621eae16f4ead356de44ae1cf4e1ae,10,4,2,29165,,,0,"Correct tosca-vnfd-containerized.yaml format

Data value of type ""tosca.datatypes.nfv.VnfcConfigurableProperties""
contains unknown field ""properties"".
""8080"" is not a string.

Change-Id: I628752ee932257a2bf048668b6c3b2d9c41f6aab
",git fetch https://review.opendev.org/openstack/tacker refs/changes/35/668135/1 && git format-patch -1 --stdout FETCH_HEAD,['doc/source/user/containerized_vnf_usage_guide.rst'],1,e6eaf277387373073824a6927f726a41793a1ad9,bugfix_doc," - ""8080""", properties: - 8080,1,2
openstack%2Ftacker~master~I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a,openstack/tacker,master,I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a,Improve code coverage of openstack module,MERGED,2019-05-10 07:24:17.000000000,2019-07-01 12:39:06.000000000,2019-07-01 12:39:06.000000000,"[{'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 26222}, {'_account_id': 28543}, {'_account_id': 29236}]","[{'number': 1, 'created': '2019-05-10 07:24:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/b966555e61719b9d9096ea1711a356d40ec8ae65', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 2, 'created': '2019-05-10 08:59:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/dcea191804476cc4c98ab3d127f174eb3ad53103', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 3, 'created': '2019-05-10 10:49:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/0419cabfcb7e7af206f7687a0ce863c95a4fb775', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 4, 'created': '2019-05-10 13:29:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/42fb8a027d204790b0fa6429917bfedc8cd931b0', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 5, 'created': '2019-05-31 11:29:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/64557c8f578d2a9fdb66010f45824f958774630e', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nDepends-On: Ia33f82cb6561fd8e0ffad7a51c28c3ac922d0c97\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 6, 'created': '2019-06-07 08:41:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/04203068998981e80138724b019e43d9097a99a9', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 7, 'created': '2019-06-07 11:56:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tacker/commit/779bb708744507298569500923a121f099c5152f', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}, {'number': 8, 'created': '2019-06-13 02:33:31.000000000', 'files': ['tacker/tests/uuidsentinel.py', 'test-requirements.txt', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'lower-constraints.txt', 'tacker/tests/unit/db/utils.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/base.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/__init__.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/client.py'], 'web_link': 'https://opendev.org/openstack/tacker/commit/0bb6a6bf80002e4d3f2d385fd1d51f05c86df446', 'message': 'Improve code coverage of openstack module\n\nAdded new unit tests to cover create_wait, update_wait, delete_wait,\nscale and scale_wait methods. Added heat-client fixture for writing\ntest cases. Also removed unreachable code in openstack module.\n\nChange-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a\n'}]",4,658282,0bb6a6bf80002e4d3f2d385fd1d51f05c86df446,23,5,8,29236,,,0,"Improve code coverage of openstack module

Added new unit tests to cover create_wait, update_wait, delete_wait,
scale and scale_wait methods. Added heat-client fixture for writing
test cases. Also removed unreachable code in openstack module.

Change-Id: I9c1b5fe2e4efb41368d53cdac8dbbd49eea4b60a
",git fetch https://review.opendev.org/openstack/tacker refs/changes/82/658282/6 && git format-patch -1 --stdout FETCH_HEAD,"['tacker/tests/uuidsentinel.py', 'test-requirements.txt', 'tacker/tests/unit/vnfm/infra_drivers/openstack/test_openstack_driver.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/fixture_data_utils.py', 'tacker/tests/unit/db/utils.py', 'tacker/vnfm/infra_drivers/openstack/openstack.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/__init__.py', 'tacker/tests/unit/vnfm/infra_drivers/openstack/fixture_data/client.py']",8,b966555e61719b9d9096ea1711a356d40ec8ae65,code_coverage_openstack_module,"# Copyright 2016 NTT DATA # # Licensed under the Apache License, Version 2.0 (the ""License""); you may # not use this file except in compliance with the License. You may obtain # a copy of the License at # # http://www.apache.org/licenses/LICENSE-2.0 # # Unless required by applicable law or agreed to in writing, software # distributed under the License is distributed on an ""AS IS"" BASIS, WITHOUT # WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the # License for the specific language governing permissions and limitations # under the License. import fixtures import responses from heatclient import client from keystoneauth1 import fixture from keystoneauth1 import loading from keystoneauth1 import session IDENTITY_URL = 'http://identityserver:5000/v2.0' HEAT_URL = 'http://heat-api' class V1(fixtures.Fixture): def __init__(self, heat_url=HEAT_URL, identity_url=IDENTITY_URL): super(V1, self).__init__() self.identity_url = identity_url self.client = None self.token = fixture.V2Token() self.token.set_scope() self.discovery = fixture.V2Discovery(href=self.identity_url) s = self.token.add_service('orchestration') s.add_endpoint(heat_url) def setUp(self): super(V1, self).setUp() auth_url = '%s/tokens' % self.identity_url headers = {'X-Content-Type': 'application/json'} responses.add(responses.POST, auth_url, json=self.token, headers=headers) responses.add(responses.GET, self.identity_url, json=self.discovery, headers=headers) self.client = self.new_client() def new_client(self): self.session = session.Session() loader = loading.get_plugin_loader('password') self.session.auth = loader.load_from_options( auth_url=self.identity_url, username='xx', password='xx') return client.Client(""1"", session=self.session) ",,469,23
openstack%2Fneutron-lib~master~Ied14a444723075839ac537967e289e7d06f4123d,openstack/neutron-lib,master,Ied14a444723075839ac537967e289e7d06f4123d,Add .idea/* in .gitignore,ABANDONED,2019-07-01 03:42:27.000000000,2019-07-01 12:34:48.000000000,,"[{'_account_id': 5367}, {'_account_id': 11975}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-07-01 03:42:27.000000000', 'files': ['.gitignore'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5f58d8cebc03f10b861edde45e8572452a718bfd', 'message': 'Add .idea/* in .gitignore\n\nIssue:33412\nChange-Id: Ied14a444723075839ac537967e289e7d06f4123d\n'}]",4,668346,5f58d8cebc03f10b861edde45e8572452a718bfd,6,3,1,30396,,,0,"Add .idea/* in .gitignore

Issue:33412
Change-Id: Ied14a444723075839ac537967e289e7d06f4123d
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/46/668346/1 && git format-patch -1 --stdout FETCH_HEAD,['.gitignore'],1,5f58d8cebc03f10b861edde45e8572452a718bfd,, .idea/*,,2,0
openstack%2Fnetworking-odl~master~I5774af0fd238c6aaadc62bfbb7fe53487944a59a,openstack/networking-odl,master,I5774af0fd238c6aaadc62bfbb7fe53487944a59a,Update master for stable/stein,MERGED,2019-03-21 23:41:23.000000000,2019-07-01 12:10:52.000000000,2019-07-01 12:10:52.000000000,"[{'_account_id': 8313}, {'_account_id': 17120}, {'_account_id': 18955}, {'_account_id': 22348}, {'_account_id': 28543}, {'_account_id': 28935}]","[{'number': 1, 'created': '2019-03-21 23:41:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/e792c5e1b5f01e1402db45360693fc0080be03ee', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I5774af0fd238c6aaadc62bfbb7fe53487944a59a\nSem-Ver: feature\n'}, {'number': 2, 'created': '2019-06-04 12:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/913d5b23c05f5bc93bae0b3088b47e7e5501d1ea', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I5774af0fd238c6aaadc62bfbb7fe53487944a59a\nSem-Ver: feature\n'}, {'number': 3, 'created': '2019-06-14 09:31:44.000000000', 'files': ['releasenotes/source/index.rst', 'releasenotes/source/stein.rst'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/a66aa842da4dc73804f79b9eb5ace6387e3a0d06', 'message': 'Update master for stable/stein\n\nAdd file to the reno documentation build to show release notes for\nstable/stein.\n\nUse pbr instruction to increment the minor version number\nautomatically so that master versions are higher than the versions on\nstable/stein.\n\nChange-Id: I5774af0fd238c6aaadc62bfbb7fe53487944a59a\nSem-Ver: feature\n'}]",0,645403,a66aa842da4dc73804f79b9eb5ace6387e3a0d06,20,6,3,22816,,,0,"Update master for stable/stein

Add file to the reno documentation build to show release notes for
stable/stein.

Use pbr instruction to increment the minor version number
automatically so that master versions are higher than the versions on
stable/stein.

Change-Id: I5774af0fd238c6aaadc62bfbb7fe53487944a59a
Sem-Ver: feature
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/03/645403/1 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/source/index.rst', 'releasenotes/source/stein.rst']",2,e792c5e1b5f01e1402db45360693fc0080be03ee,bandit-blacklist,=================================== Stein Series Release Notes =================================== .. release-notes:: :branch: stable/stein ,,7,0
openstack%2Fsushy-tools~master~I1410b833170ced6f53694d431f721ecba19eb596,openstack/sushy-tools,master,I1410b833170ced6f53694d431f721ecba19eb596,Add Chassis resource support,MERGED,2019-04-18 16:03:09.000000000,2019-07-01 12:03:38.000000000,2019-07-01 12:03:38.000000000,"[{'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-04-18 16:03:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/687776aa3be0cef44441dc8279cbbe20bfc7fa3d', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 2, 'created': '2019-04-18 21:10:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4ac1f70687f25f1b45c6672578b2187bcb444270', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 3, 'created': '2019-04-23 14:21:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/15fa2b809900aadebbecb1092314218053e8db37', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 4, 'created': '2019-04-26 15:02:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/be1c219c7deac06d5663a48a75fe83c83ddd8234', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 5, 'created': '2019-04-26 16:16:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d395f39d04f0ed270ea0a546b5160aaa383d77a1', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 6, 'created': '2019-04-29 10:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/96f8b409facddb5b9c439d3237b49351b3f9c6e5', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 7, 'created': '2019-04-29 14:02:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0b8fc31769a847876b5efda961d6a98e814c9061', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 8, 'created': '2019-05-03 12:22:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f98b8027a82379453de921a284600b40b61b428e', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nSystems and Managers linkage to Chassis is not implemented in\nthis patch (to keep it smaller). The missing linkage should be\nadded in the subsequent patches.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 9, 'created': '2019-05-07 09:18:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2396e5f641ec9514d91597cb7e3d75c55bc820fd', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 10, 'created': '2019-05-20 17:35:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0e2123d08eab59e35ae1eb57b4f67e90550ce658', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 11, 'created': '2019-06-11 10:04:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b51d93d4f88b159b37616663d67c2a92e44f68b6', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 12, 'created': '2019-06-18 10:05:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/22a986b21109857f2863acdc66eaa6365b7c0676', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 13, 'created': '2019-06-19 10:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/2ce6e9d74e8c1bd161eb8fe16198b042ac3d172d', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 14, 'created': '2019-06-19 12:56:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8bd1c355341d091d399b1adb7915d0e5b320db98', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 15, 'created': '2019-06-19 15:18:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/927b8f7b5a38d5d73c44a52ce91d356bdd0c82d5', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}, {'number': 16, 'created': '2019-07-01 10:25:12.000000000', 'files': ['sushy_tools/tests/unit/emulator/resources/chassis/__init__.py', 'sushy_tools/emulator/templates/chassis_collection.json', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/resources/chassis/__init__.py', 'sushy_tools/emulator/resources/chassis/staticdriver.py', 'doc/source/user/dynamic-emulator.rst', 'releasenotes/notes/add-chassis-resource-aab57e319e6c7088.yaml', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/templates/system.json', 'sushy_tools/emulator/resources/chassis/base.py', 'sushy_tools/emulator/templates/chassis.json', 'sushy_tools/tests/unit/emulator/resources/chassis/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/248e3d1353d76e3a2f3f201f8d937c5f518f0036', 'message': 'Add Chassis resource support\n\nThis change adds basic Redfish Chassis resource support based\non the newly introduces ""chassis"" driver infrastructure. As of\nthis patch, the only backend for the Redfish chassis implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I1410b833170ced6f53694d431f721ecba19eb596\n'}]",10,653802,248e3d1353d76e3a2f3f201f8d937c5f518f0036,45,4,16,26340,,,0,"Add Chassis resource support

This change adds basic Redfish Chassis resource support based
on the newly introduces ""chassis"" driver infrastructure. As of
this patch, the only backend for the Redfish chassis implemented
is static config (Flask) file.

Story: 2005149
Task: 29856
Change-Id: I1410b833170ced6f53694d431f721ecba19eb596
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/02/653802/16 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'sushy_tools/tests/unit/emulator/chassis/__init__.py', 'sushy_tools/emulator/templates/chassis_collection.json', 'sushy_tools/tests/unit/emulator/chassis/test_static.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/chassis/staticdriver.py', 'sushy_tools/emulator/chassis/base.py', 'releasenotes/notes/add-chassis-resource-aab57e319e6c7088.yaml', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/system.json', 'sushy_tools/emulator/chassis/__init__.py', 'sushy_tools/emulator/templates/chassis.json']",14,687776aa3be0cef44441dc8279cbbe20bfc7fa3d,07-add-chassis-resource,"{ ""@odata.type"": ""#Chassis.v1_5_0.Chassis"", ""Id"": {{ identity|string|tojson }}, ""Name"": {{ name|string|tojson }}, ""UUID"": {{ uuid|string|tojson }}, ""AssetTag"": ""Chicago-45Z-2381"", ""Manufacturer"": ""Contoso"", ""Model"": ""3500RX"", ""SKU"": ""8675309"", ""SerialNumber"": ""437XR1138R2"", ""PartNumber"": ""224071-J23"", ""PowerState"": ""On"", ""IndicatorLED"": ""Lit"", ""HeightMm"": 44.45, ""WidthMm"": 431.8, ""DepthMm"": 711, ""WeightKg"": 15.31, ""Location"": { ""PostalAddress"": { ""Country"": ""US"", ""Territory"": ""OR"", ""City"": ""Portland"", ""Street"": ""1001 SW 5th Avenue"", ""HouseNumber"": 1100, ""Name"": ""Distributed Management Task Force, Inc."", ""PostalCode"": ""97204"" }, ""Placement"": { ""Row"": ""North"", ""Rack"": ""WEB43"", ""RackOffsetUnits"": ""EIA_310"", ""RackOffset"": 12 } }, ""Status"": { ""State"": ""Enabled"", ""Health"": ""OK"" }, ""Thermal"": { ""@odata.id"": {{ ""/redfish/v1/Chassis/%s/Thermal""|format(uuid)|string|tojson }} }, ""Power"": { ""@odata.id"": {{ ""/redfish/v1/Chassis/%s/Power""|format(uuid)|string|tojson }} }, ""Links"": { ""ComputerSystems"": [ {% for system in contained_systems %} { ""@odata.id"": {{ ""/redfish/v1/Systems/%s""|format(system)|tojson }} }{% if not loop.last %},{% endif %} {% endfor %} ], ""ContainedBy"": {{ contained_by|string|tojson }}, ""Contains"": [ {% for chassis in contained_chassis %} { ""@odata.id"": {{ ""/redfish/v1/Chassis/%s""|format(chassis)|tojson }} }{% if not loop.last %},{% endif %} {% endfor %} ], ""ManagedBy"": [ {% for manager in managers %} { ""@odata.id"": {{ ""/redfish/v1/Managers/%s""|format(manager)|tojson }} }{% if not loop.last %},{% endif %} {% endfor %} ], ""ManagersInChassis"": [ {% for manager in contained_managers %} { ""@odata.id"": {{ ""/redfish/v1/Managers/%s""|format(manager)|tojson }} }{% if not loop.last %},{% endif %} {% endfor %} ] }, ""@odata.context"": ""/redfish/v1/$metadata#Chassis.Chassis"", ""@odata.id"": {{ ""/redfish/v1/Chassis/%s""|format(identity)|string|tojson }}, ""@Redfish.Copyright"": ""Copyright 2014-2017 Distributed Management Task Force, Inc. (DMTF). For the full DMTF copyright policy, see http://www.dmtf.org/about/policies/copyright."" }",,698,56
openstack%2Fsushy-tools~master~I95e957ad02b602410049c5f078c0703e2f0a4962,openstack/sushy-tools,master,I95e957ad02b602410049c5f078c0703e2f0a4962,Add Managers resource support,MERGED,2019-02-22 15:03:19.000000000,2019-07-01 11:59:30.000000000,2019-07-01 11:59:30.000000000,"[{'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-02-22 15:03:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/80a2b6c9d478afed897ae8048bc7ddd1bc2cd5c3', 'message': 'WIP: Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 2, 'created': '2019-02-22 17:46:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/755ce2ed2e2ff9ae69e70eee38127b458767498d', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 3, 'created': '2019-02-22 20:17:40.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/780beb314354010a6fa3536f0a903f4d675f9568', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 4, 'created': '2019-02-22 23:07:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/7e68771fa6b23d1516b7a4aa4f1a19f8f5520cd5', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 5, 'created': '2019-03-01 10:12:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/886b4fee38bf76a6851332c27b6364bd9e00009d', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 6, 'created': '2019-03-13 09:32:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/dcc1709e90c890119995ed7e54a3ebaa0f91602f', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 7, 'created': '2019-03-21 14:23:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/4ef91af3dc326fde4ac789392532733f72429771', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 8, 'created': '2019-03-22 13:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/909c9d2b994fae95fa9be40dcd8b0b08ff120b59', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 9, 'created': '2019-03-22 17:39:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/67aeab0e8818bff48ae3b7e6ed503151a1903e7c', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 10, 'created': '2019-03-25 17:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/56f4804024949b9f38ffd76464c8bae890063170', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 11, 'created': '2019-03-25 21:15:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8896c527766ecf96b49a78bc08f52d88441700ec', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 12, 'created': '2019-03-25 21:53:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f17e77f31a94359d43e6bb806d90b424c4f4a1ca', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 13, 'created': '2019-03-29 15:49:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/432d641659e1b8f98e0d0a55c5729411da112f49', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 14, 'created': '2019-04-17 12:34:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b5f37a47e4979717bb72c2a0140bed5110b3799d', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 15, 'created': '2019-04-23 12:42:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/be0e44d18840d824e9913118f5b49ab00ac82b02', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 16, 'created': '2019-04-24 14:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/848cb6397f4585549270e0fddd62fe94bcd2947d', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 17, 'created': '2019-04-24 14:45:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/84fa74905960e613023141e25700c5c0da4c6a56', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 18, 'created': '2019-04-24 15:38:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/b68b62fdbba95a743d21489a98d78d21361604f0', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 19, 'created': '2019-04-24 17:37:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a793295b3baafc155724deb480ef3b9a799765e1', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 20, 'created': '2019-04-26 16:16:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/d4a423009a6a0b6916912a44afa052aa6a954e97', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 21, 'created': '2019-04-29 10:09:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0d2f98fd6ea4713f6e1693bb942b35af52762152', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 22, 'created': '2019-05-03 12:21:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a7f38938641b6552cfa47160c667555c1cda1d24', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 23, 'created': '2019-05-06 14:31:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/0c71f491f011b65ca97d58b2a907149e4b1b853b', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 24, 'created': '2019-05-06 16:16:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/12a41fc010711e26dbfef11a5d2c7948c50029c1', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 25, 'created': '2019-05-20 17:35:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/49fd3e65110fb1137974a6b283442b0a67f825b0', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 26, 'created': '2019-06-11 10:03:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/80e5495b642344a89408f7ef4df9152a9cadd39a', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 27, 'created': '2019-06-18 10:04:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/a6c72d9ce15345466f5f4e720111557044be91ee', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 28, 'created': '2019-06-19 14:51:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/1e3f7c993fa665e5746b8eb22298b58a010e40f3', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}, {'number': 29, 'created': '2019-07-01 10:23:39.000000000', 'files': ['sushy_tools/emulator/resources/managers/__init__.py', 'sushy_tools/emulator/resources/managers/staticdriver.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/manager_collection.json', 'doc/source/user/dynamic-emulator.rst', 'sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/root.json', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/templates/system.json', 'sushy_tools/tests/unit/emulator/resources/managers/__init__.py', 'sushy_tools/emulator/base.py', 'releasenotes/notes/add-managers-resource-ffa58e329eccc058.yaml', 'sushy_tools/emulator/resources/managers/base.py', 'sushy_tools/tests/unit/emulator/resources/managers/test_static.py'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/f1ae2365a831e674bda03b64ae33b95e721b32ad', 'message': 'Add Managers resource support\n\nThis change adds basic Redfish Managers resource support based\non the newly introduces ""manager"" driver infrastructure. As of\nthis patch, the only backend for the Redfish manager implemented\nis static config (Flask) file.\n\nStory: 2005149\nTask: 29856\nChange-Id: I95e957ad02b602410049c5f078c0703e2f0a4962\n'}]",19,638682,f1ae2365a831e674bda03b64ae33b95e721b32ad,87,5,29,26340,,,0,"Add Managers resource support

This change adds basic Redfish Managers resource support based
on the newly introduces ""manager"" driver infrastructure. As of
this patch, the only backend for the Redfish manager implemented
is static config (Flask) file.

Story: 2005149
Task: 29856
Change-Id: I95e957ad02b602410049c5f078c0703e2f0a4962
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/82/638682/9 && git format-patch -1 --stdout FETCH_HEAD,"['sushy_tools/emulator/main.py', 'sushy_tools/emulator/templates/root.json', 'sushy_tools/emulator/templates/manager.json', 'sushy_tools/emulator/managers/base.py', 'sushy_tools/emulator/managers/staticdriver.py', 'sushy_tools/emulator/managers/__init__.py', 'sushy_tools/tests/unit/emulator/test_main.py', 'doc/source/admin/emulator.conf', 'sushy_tools/emulator/templates/manager_collection.json']",9,80a2b6c9d478afed897ae8048bc7ddd1bc2cd5c3,06-add-managers-resource,"{ ""@odata.type"": ""#ManagerCollection.ManagerCollection"", ""Name"": ""Manager Collection"", ""Members@odata.count"": {{ manager_count }}, ""Members"": [ {% for manager in managers %} { ""@odata.id"": {{ ""/redfish/v1/Managers/%s""|format(manager)|tojson }} }{% if not loop.last %},{% endif %} {% endfor %} ], ""Oem"": {}, ""@odata.context"": ""/redfish/v1/$metadata#ManagerCollection.ManagerCollection"", ""@odata.id"": ""/redfish/v1/Managers"", ""@Redfish.Copyright"": ""Copyright 2014-2017 Distributed Management Task Force, Inc. (DMTF). For the full DMTF copyright policy, see http://www.dmtf.org/about/policies/copyright."" } ",,302,14
openstack%2Fplacement~master~I617161fde5b844d7f52dc766f85c1b9f1b139e4a,openstack/placement,master,I617161fde5b844d7f52dc766f85c1b9f1b139e4a,Nested provider performance testing,MERGED,2019-06-17 14:56:00.000000000,2019-07-01 11:55:48.000000000,2019-06-28 09:05:17.000000000,"[{'_account_id': 11564}, {'_account_id': 14070}, {'_account_id': 22348}, {'_account_id': 25625}]","[{'number': 1, 'created': '2019-06-17 14:56:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/7837952d402310dc4ac0fcc5a59c913919005a8f', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 2, 'created': '2019-06-17 14:56:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/eb3f821bc699628006d742ff6573fe2703b99a86', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 3, 'created': '2019-06-17 14:57:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/3cc6fd7e3d90c87654b7975b9ca7d9111b50c9d1', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 4, 'created': '2019-06-17 14:59:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/cccf8f9175a7df67aed674ce301280edce1ff292', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 5, 'created': '2019-06-17 20:10:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/77db29df0d4272e14d4d10c532dcc0c8ebeedde3', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 6, 'created': '2019-06-18 08:12:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/e049236fb5bc3227b79df6eb5a90d90e7bca2bb5', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 7, 'created': '2019-06-18 10:59:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/0c560288cc2c12fd83634bd46d8a4f115d947b73', 'message': ""WIP: Nested performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to get gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 8, 'created': '2019-06-19 09:46:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/placement/commit/327419362cf570e3887e67c724a6830b89f389c9', 'message': ""Nested provider performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload placeload is used to create the provides. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to cause gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now as there's no point getting too complicated until it\nactually works, which will surely take a few iterations.\n\nZuul is limited to just the perfload jobs while iterating.\n\nThere's some duplication between perfload.yaml and\nnested-perfload.yaml that will be cleared up in a followup once we\ndecided that this is working as we like.\n\n[1] https://www.gnu.org/software/parallel/ (although the version on\nubuntu is a non-GPL clone)\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}, {'number': 9, 'created': '2019-06-20 11:39:10.000000000', 'files': ['gate/perfload-server.sh', '.zuul.yaml', 'playbooks/nested-perfload.yaml', 'gate/perfload-nested-runner.sh', 'gate/gabbits/nested-perfload.yaml', 'gate/perfload-nested-loader.sh', 'gate/README'], 'web_link': 'https://opendev.org/openstack/placement/commit/8723bd7772f2b90deceaf0887951f90d0dc0346d', 'message': ""Nested provider performance testing\n\nThis change duplicates the ideas started in with the placement-perfload\njob and builds on it to create a set of nested trees that can be\nexercised.\n\nIn placement-perfload, placeload is used to create the providers. This\nproves to be cumbersome for nested topologies so this change starts\na new model: Using parallel [1] plus instrumented gabbi to create\nnested topologies in a declarative fashion.\n\ngate/perfload-server.sh sets up placement db and starts a uwsgi server.\n\ngate/perfload-nested-loader.sh is called in the playbook to cause gabbi\nto create the nested topology described in\ngate/gabbits/nested-perfload.yaml. That topology is intentionally very\nnaive right now but should be made more realisitc as we continue to\ndevelop nested features.\n\nThere's some duplication between perfload.yaml and\nnested-perfload.yaml that will be cleared up in a followup.\n\n[1] https://www.gnu.org/software/parallel/ (although the version on\nubuntu is a non-GPL clone)\n\nStory: 2005443\nTask: 30487\nChange-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a\n""}]",54,665695,8723bd7772f2b90deceaf0887951f90d0dc0346d,33,4,9,11564,,,0,"Nested provider performance testing

This change duplicates the ideas started in with the placement-perfload
job and builds on it to create a set of nested trees that can be
exercised.

In placement-perfload, placeload is used to create the providers. This
proves to be cumbersome for nested topologies so this change starts
a new model: Using parallel [1] plus instrumented gabbi to create
nested topologies in a declarative fashion.

gate/perfload-server.sh sets up placement db and starts a uwsgi server.

gate/perfload-nested-loader.sh is called in the playbook to cause gabbi
to create the nested topology described in
gate/gabbits/nested-perfload.yaml. That topology is intentionally very
naive right now but should be made more realisitc as we continue to
develop nested features.

There's some duplication between perfload.yaml and
nested-perfload.yaml that will be cleared up in a followup.

[1] https://www.gnu.org/software/parallel/ (although the version on
ubuntu is a non-GPL clone)

Story: 2005443
Task: 30487
Change-Id: I617161fde5b844d7f52dc766f85c1b9f1b139e4a
",git fetch https://review.opendev.org/openstack/placement refs/changes/95/665695/9 && git format-patch -1 --stdout FETCH_HEAD,"['gate/perfload-server.sh', '.zuul.yaml', 'playbooks/nested-perfload.yaml', 'gate/gabbits/nested-perfload.yaml', 'gate/perfload-nested-loader.sh']",5,7837952d402310dc4ac0fcc5a59c913919005a8f,story/2005443,#!/bin/bash set -a HOST=$1 COUNT=$2 GABBIT=$3 TOKEN='admin' for count in $(seq $COUNT); do CN_UUID=$(uuidgen) CN_TRAITS=COMPUTE_VOLUME_MULTI_ATTACH N1_UUID=$(uuidgen) N1_TRAITS=HW_CPU_X86_AVX2 N2_UUID=$(uuidgen) N2_TRAITS=HW_CPU_X86_SSE gabbi-run -v all $HOST -- $GABBIT done ,,222,47
openstack%2Fironic-python-agent~master~I092d686ba38723d7951e8f06415f28cc809ad365,openstack/ironic-python-agent,master,I092d686ba38723d7951e8f06415f28cc809ad365,Adds bandit template and exclude some of tests,MERGED,2019-06-20 04:13:34.000000000,2019-07-01 11:42:52.000000000,2019-07-01 11:42:52.000000000,"[{'_account_id': 11076}, {'_account_id': 22348}, {'_account_id': 23851}]","[{'number': 1, 'created': '2019-06-20 04:13:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/b52b3ac34201a39db0875cfe7a693b241f55c3cf', 'message': ""Adds bandit template and exclude some of tests\n\nAdds bandit configuration template and exclude some of\ntests that we don't want to fix for the moment.\n\nKeeping job unvoted so that we can keep an eye on possible\nissues while not breaking gate.\n\nChange-Id: I092d686ba38723d7951e8f06415f28cc809ad365\nStory: 2005791\nTask: 33563\n""}, {'number': 2, 'created': '2019-06-20 06:45:26.000000000', 'files': ['zuul.d/ironic-python-agent-jobs.yaml', 'tools/bandit.yml', 'ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/ironic-python-agent/commit/6f634c358b843bc30b0dc0b56e46a18f71fd226a', 'message': ""Adds bandit template and exclude some of tests\n\nAdds bandit configuration template and exclude some of\ntests that we don't want to fix for the moment.\n\nKeeping job unvoted so that we can keep an eye on possible\nissues while not breaking gate.\n\nChange-Id: I092d686ba38723d7951e8f06415f28cc809ad365\nStory: 2005791\nTask: 33563\n""}]",0,666486,6f634c358b843bc30b0dc0b56e46a18f71fd226a,10,3,2,24828,,,0,"Adds bandit template and exclude some of tests

Adds bandit configuration template and exclude some of
tests that we don't want to fix for the moment.

Keeping job unvoted so that we can keep an eye on possible
issues while not breaking gate.

Change-Id: I092d686ba38723d7951e8f06415f28cc809ad365
Story: 2005791
Task: 33563
",git fetch https://review.opendev.org/openstack/ironic-python-agent refs/changes/86/666486/1 && git format-patch -1 --stdout FETCH_HEAD,"['ironic_python_agent/tests/unit/extensions/test_standby.py', 'ironic_python_agent/extensions/standby.py', 'tox.ini', 'tools/config/bandit.yml']",4,b52b3ac34201a39db0875cfe7a693b241f55c3cf,bandit," ### Bandit config file generated from: # '/home/kaifeng/community/ironic-python-agent/.tox/bandit/bin/bandit-config-generator -o tools/config/bandit.yml' ### This config may optionally select a subset of tests to run or skip by ### filling out the 'tests' and 'skips' lists given below. If no tests are ### specified for inclusion then it is assumed all tests are desired. The skips ### set will remove specific tests from the include set. This can be controlled ### using the -t/-s CLI options. Note that the same test ID should not appear ### in both 'tests' and 'skips', this would be nonsensical and is detected by ### Bandit at runtime. # Available tests: # B101 : assert_used # B102 : exec_used # B103 : set_bad_file_permissions # B104 : hardcoded_bind_all_interfaces # B105 : hardcoded_password_string # B106 : hardcoded_password_funcarg # B107 : hardcoded_password_default # B108 : hardcoded_tmp_directory # B110 : try_except_pass # B112 : try_except_continue # B201 : flask_debug_true # B301 : pickle # B302 : marshal # B303 : md5 # B304 : ciphers # B305 : cipher_modes # B306 : mktemp_q # B307 : eval # B308 : mark_safe # B309 : httpsconnection # B310 : urllib_urlopen # B311 : random # B312 : telnetlib # B313 : xml_bad_cElementTree # B314 : xml_bad_ElementTree # B315 : xml_bad_expatreader # B316 : xml_bad_expatbuilder # B317 : xml_bad_sax # B318 : xml_bad_minidom # B319 : xml_bad_pulldom # B320 : xml_bad_etree # B321 : ftplib # B322 : input # B323 : unverified_context # B324 : hashlib_new_insecure_functions # B325 : tempnam # B401 : import_telnetlib # B402 : import_ftplib # B403 : import_pickle # B404 : import_subprocess # B405 : import_xml_etree # B406 : import_xml_sax # B407 : import_xml_expat # B408 : import_xml_minidom # B409 : import_xml_pulldom # B410 : import_lxml # B411 : import_xmlrpclib # B412 : import_httpoxy # B413 : import_pycrypto # B414 : import_pycryptodome # B501 : request_with_no_cert_validation # B502 : ssl_with_bad_version # B503 : ssl_with_bad_defaults # B504 : ssl_with_no_version # B505 : weak_cryptographic_key # B506 : yaml_load # B507 : ssh_no_host_key_verification # B601 : paramiko_calls # B602 : subprocess_popen_with_shell_equals_true # B603 : subprocess_without_shell_equals_true # B604 : any_other_function_with_shell_equals_true # B605 : start_process_with_a_shell # B606 : start_process_with_no_shell # B607 : start_process_with_partial_path # B608 : hardcoded_sql_expressions # B609 : linux_commands_wildcard_injection # B610 : django_extra_used # B611 : django_rawsql_used # B701 : jinja2_autoescape_false # B702 : use_of_mako_templates # B703 : django_mark_safe # (optional) list included test IDs here, eg '[B101, B406]': tests: # (optional) list skipped test IDs here, eg '[B101, B406]': skips: - B104 - B303 - B604 ### (optional) plugin settings - some test plugins require configuration data ### that may be given here, per-plugin. All bandit test plugins have a built in ### set of sensible defaults and these will be used if no configuration is ### provided. It is not necessary to provide settings for every (or any) plugin ### if the defaults are acceptable. any_other_function_with_shell_equals_true: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run hardcoded_tmp_directory: tmp_dirs: - /tmp - /var/tmp - /dev/shm linux_commands_wildcard_injection: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run ssl_with_bad_defaults: bad_protocol_versions: - PROTOCOL_SSLv2 - SSLv2_METHOD - SSLv23_METHOD - PROTOCOL_SSLv3 - PROTOCOL_TLSv1 - SSLv3_METHOD - TLSv1_METHOD ssl_with_bad_version: bad_protocol_versions: - PROTOCOL_SSLv2 - SSLv2_METHOD - SSLv23_METHOD - PROTOCOL_SSLv3 - PROTOCOL_TLSv1 - SSLv3_METHOD - TLSv1_METHOD start_process_with_a_shell: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run start_process_with_no_shell: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run start_process_with_partial_path: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run subprocess_popen_with_shell_equals_true: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run subprocess_without_shell_equals_true: no_shell: - os.execl - os.execle - os.execlp - os.execlpe - os.execv - os.execve - os.execvp - os.execvpe - os.spawnl - os.spawnle - os.spawnlp - os.spawnlpe - os.spawnv - os.spawnve - os.spawnvp - os.spawnvpe - os.startfile shell: - os.system - os.popen - os.popen2 - os.popen3 - os.popen4 - popen2.popen2 - popen2.popen3 - popen2.popen4 - popen2.Popen3 - popen2.Popen4 - commands.getoutput - commands.getstatusoutput subprocess: - subprocess.Popen - subprocess.call - subprocess.check_call - subprocess.check_output - subprocess.run try_except_continue: check_typed_exception: false try_except_pass: check_typed_exception: false weak_cryptographic_key: weak_key_size_dsa_high: 1024 weak_key_size_dsa_medium: 2048 weak_key_size_ec_high: 160 weak_key_size_ec_medium: 224 weak_key_size_rsa_high: 1024 weak_key_size_rsa_medium: 2048 ",,410,3
openstack%2Fproject-team-guide~master~I92e8ecd480937d55b968880c6c3d18885c3b12bf,openstack/project-team-guide,master,I92e8ecd480937d55b968880c6c3d18885c3b12bf,Enable doc8 linting,MERGED,2019-06-27 19:13:47.000000000,2019-07-01 11:33:40.000000000,2019-07-01 11:33:40.000000000,"[{'_account_id': 308}, {'_account_id': 11564}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-27 19:13:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/d43dda041aa3f1c0568fc03b6c7142eb2a1bd80d', 'message': 'Enable doc8 linting\n\nKeep our docs clean and try to avoid those cases where things are fine\nuntil a sphinx or other dependency gets updated and suddenly starts\nbreaking.\n\nChange-Id: I92e8ecd480937d55b968880c6c3d18885c3b12bf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}, {'number': 2, 'created': '2019-06-27 19:22:01.000000000', 'files': ['doc/source/project-setup/javascript.rst', 'doc/source/ptl.rst', 'doc/source/open-community.rst', 'doc/source/stable-branches.rst', 'doc/source/release-management.rst', 'doc/source/open-development.rst', 'doc/requirements.txt', 'tox.ini', 'doc/source/dependency-management.rst'], 'web_link': 'https://opendev.org/openstack/project-team-guide/commit/ef08132d5f1e37e17d38cb9fd0e708c6005fc153', 'message': 'Enable doc8 linting\n\nKeep our docs clean and try to avoid those cases where things are fine\nuntil a sphinx or other dependency gets updated and suddenly starts\nbreaking.\n\nChange-Id: I92e8ecd480937d55b968880c6c3d18885c3b12bf\nSigned-off-by: Sean McGinnis <sean.mcginnis@gmail.com>\n'}]",0,668027,ef08132d5f1e37e17d38cb9fd0e708c6005fc153,9,3,2,11904,,,0,"Enable doc8 linting

Keep our docs clean and try to avoid those cases where things are fine
until a sphinx or other dependency gets updated and suddenly starts
breaking.

Change-Id: I92e8ecd480937d55b968880c6c3d18885c3b12bf
Signed-off-by: Sean McGinnis <sean.mcginnis@gmail.com>
",git fetch https://review.opendev.org/openstack/project-team-guide refs/changes/27/668027/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/project-setup/javascript.rst', 'doc/source/ptl.rst', 'doc/source/open-community.rst', 'doc/source/stable-branches.rst', 'doc/source/open-development.rst', 'doc/source/release-management.rst', 'doc/requirements.txt', 'tox.ini', 'doc/source/dependency-management.rst']",9,d43dda041aa3f1c0568fc03b6c7142eb2a1bd80d,doc8,"changed when a ``global-requirements.txt`` change is proposed. In this case, ignore the changes to ``upper-constraints.txt`` and review the","changed when a ``global-requirements.txt`` change is proposed. In this case, ignore the changes to ``upper-constraints.txt`` and review the",133,112
openstack%2Fcharm-neutron-gateway~master~If1b332eb0f581e9acba111f79ba578a0b7081dd2,openstack/charm-neutron-gateway,master,If1b332eb0f581e9acba111f79ba578a0b7081dd2,Add support for FWaaS v2 logging,MERGED,2019-06-07 12:37:59.000000000,2019-07-01 11:13:34.000000000,2019-07-01 10:28:37.000000000,"[{'_account_id': 935}, {'_account_id': 14567}, {'_account_id': 20648}, {'_account_id': 20805}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-07 12:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/36cb178c10f37da51176313d646bde939a7a715b', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 2, 'created': '2019-06-07 14:01:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ac9dab4018f24cb2afd064731457a7cc8c03f2c4', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 3, 'created': '2019-06-07 14:08:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/a3d1b6e7fb32dcfd680f9d63be4eba98b724860b', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 4, 'created': '2019-06-10 09:48:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/9d23c2102a4738f877fa9b8397b2e137680234a6', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 5, 'created': '2019-06-12 11:23:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/ee2fade87ddc986a83cdb8d0e4fe3e7bb934ec4b', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 6, 'created': '2019-06-12 11:33:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/888eec85ffaf1e6d9d339e0a5b0658a518f383c4', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}, {'number': 7, 'created': '2019-06-25 15:26:18.000000000', 'files': ['hooks/charmhelpers/contrib/storage/linux/utils.py', 'hooks/neutron_contexts.py', 'unit_tests/test_neutron_contexts.py', 'hooks/charmhelpers/contrib/openstack/cert_utils.py', 'hooks/charmhelpers/contrib/network/ovs/__init__.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/audits/openstack_security_guide.py', 'hooks/charmhelpers/contrib/openstack/context.py', 'hooks/neutron_utils.py', 'templates/stein/l3_agent.ini'], 'web_link': 'https://opendev.org/openstack/charm-neutron-gateway/commit/0a809a1a192401bfabc4215311302dec93feaf4b', 'message': 'Add support for FWaaS v2 logging\n\nEnable support for configuration of FWaaS v2 firewall group\nlogging.\n\nConfiguration options mirror those for neutron-openvswitch\nfor security group logging.\n\nThis feature is currently only enabled for FWaaS v2 at Stein\nfor the charms (but is supported back to Queens in Neutron).\n\nChange-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2\nPartial-Bug: 1831972\n'}]",5,663923,0a809a1a192401bfabc4215311302dec93feaf4b,29,5,7,935,,,0,"Add support for FWaaS v2 logging

Enable support for configuration of FWaaS v2 firewall group
logging.

Configuration options mirror those for neutron-openvswitch
for security group logging.

This feature is currently only enabled for FWaaS v2 at Stein
for the charms (but is supported back to Queens in Neutron).

Change-Id: If1b332eb0f581e9acba111f79ba578a0b7081dd2
Partial-Bug: 1831972
",git fetch https://review.opendev.org/openstack/charm-neutron-gateway refs/changes/23/663923/2 && git format-patch -1 --stdout FETCH_HEAD,"['hooks/neutron_contexts.py', 'config.yaml', 'hooks/charmhelpers/contrib/openstack/context.py', 'templates/stein/l3_agent.ini']",4,36cb178c10f37da51176313d646bde939a7a715b,bug/1831972,"{% if enable_nfg_logging -%} extensions = fwaas_v2,fwaas_v2_log [network_log] {% if nfg_log_rate_limit -%} rate_limit = {{ nfg_log_rate_limit }} {% endif -%} burst_limit = {{ nfg_log_burst_limit }} {% if nfg_log_output_base -%} local_output_log_base = {{ nfg_log_output_base }} {% endif -%} {% else %}{% endif -%}",,78,0
openstack%2Fkolla-ansible~stable%2Fstein~I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,openstack/kolla-ansible,stable/stein,I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,CI - remove unnecessary logic when building images for upgrade,MERGED,2019-06-24 13:25:29.000000000,2019-07-01 11:13:33.000000000,2019-06-28 15:29:47.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-24 13:25:29.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/08cf94546730321fa87eee04311aa2c2445b7d98', 'message': 'CI - remove unnecessary logic when building images for upgrade\n\nDocker registry being insecure is handled by docker_registry_insecure\nwhich is set to true by default when docker_registry is set.\nThe removed code had no effect because docker_registry is not changed\nanyway for base (pre-upgrade) install.\n\nThis change makes config more readable and also prevents a potential\nconflict with the zun profile if ever used in upgrade mode.\n\nChange-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n(cherry picked from commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85)\n'}]",0,667096,08cf94546730321fa87eee04311aa2c2445b7d98,10,4,1,30491,,,0,"CI - remove unnecessary logic when building images for upgrade

Docker registry being insecure is handled by docker_registry_insecure
which is set to true by default when docker_registry is set.
The removed code had no effect because docker_registry is not changed
anyway for base (pre-upgrade) install.

This change makes config more readable and also prevents a potential
conflict with the zun profile if ever used in upgrade mode.

Change-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
(cherry picked from commit 8ce5ffd0c21c221d88bacca5fec03ca042dfed85)
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/96/667096/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,08cf94546730321fa87eee04311aa2c2445b7d98,ci-remove-redundant-logic-stable/stein,,"{% if need_build_image and is_previous_release %} # NOTE(mgoddard): Ensure that the insecure local registry is trusted, since it # will be the source of images during the upgrade. docker_custom_option: ""--insecure-registry {{ api_interface_address }}:4000"" {% endif %}",0,5
openstack%2Fkolla-ansible~master~I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,openstack/kolla-ansible,master,I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f,CI - remove unnecessary logic when building images for upgrade,MERGED,2019-06-21 06:53:48.000000000,2019-07-01 11:12:58.000000000,2019-06-24 13:08:18.000000000,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 24072}, {'_account_id': 30491}]","[{'number': 1, 'created': '2019-06-21 06:53:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/da5d5381918568c88db74e4defe68f52e8edc236', 'message': 'WIP: CI - Remove redundant logic when building images for upgrade\n\nDocker registry being insecure is handled by docker_registry_insecure\nwhich is set to true by default when the docker_registry is set.\n\nThis change makes config more readable and also prevents a potential\nconflict with the zun profile if ever used in upgrade mode.\n\nChange-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 2, 'created': '2019-06-21 08:28:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/0fc6aa024dde8a96cabc4620868ffcb9e4dc4529', 'message': 'WIP: CI - Remove redundant logic when building images for upgrade\n\nDocker registry being insecure is handled by docker_registry_insecure\nwhich is set to true by default when the docker_registry is set.\n\nThis change makes config more readable and also prevents a potential\nconflict with the zun profile if ever used in upgrade mode.\n\nDepends-On: https://review.opendev.org/664151\n\nChange-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}, {'number': 3, 'created': '2019-06-21 11:31:37.000000000', 'files': ['tests/templates/globals-default.j2'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/8ce5ffd0c21c221d88bacca5fec03ca042dfed85', 'message': 'CI - remove unnecessary logic when building images for upgrade\n\nDocker registry being insecure is handled by docker_registry_insecure\nwhich is set to true by default when docker_registry is set.\nThe removed code had no effect because docker_registry is not changed\nanyway for base (pre-upgrade) install.\n\nThis change makes config more readable and also prevents a potential\nconflict with the zun profile if ever used in upgrade mode.\n\nChange-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f\nSigned-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>\n'}]",2,666780,8ce5ffd0c21c221d88bacca5fec03ca042dfed85,17,4,3,30491,,,0,"CI - remove unnecessary logic when building images for upgrade

Docker registry being insecure is handled by docker_registry_insecure
which is set to true by default when docker_registry is set.
The removed code had no effect because docker_registry is not changed
anyway for base (pre-upgrade) install.

This change makes config more readable and also prevents a potential
conflict with the zun profile if ever used in upgrade mode.

Change-Id: I9b5ae8c5b534fa6cce9dbaca8af191e2ca79d19f
Signed-off-by: Radosław Piliszek <radoslaw.piliszek@gmail.com>
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/80/666780/1 && git format-patch -1 --stdout FETCH_HEAD,['tests/templates/globals-default.j2'],1,da5d5381918568c88db74e4defe68f52e8edc236,ci-remove-redundant-logic,,"{% if need_build_image and is_previous_release %} # NOTE(mgoddard): Ensure that the insecure local registry is trusted, since it # will be the source of images during the upgrade. docker_custom_option: ""--insecure-registry {{ api_interface_address }}:4000"" {% endif %}",0,5
openstack%2Fneutron~master~Ide78b0b90cf6d6069ce3787fc60766be52062da0,openstack/neutron,master,Ide78b0b90cf6d6069ce3787fc60766be52062da0,Add custom ethertype processing,MERGED,2019-06-28 18:07:17.000000000,2019-07-01 11:01:34.000000000,2019-07-01 11:00:55.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 11975}, {'_account_id': 13995}, {'_account_id': 22348}, {'_account_id': 26622}]","[{'number': 1, 'created': '2019-06-28 18:07:17.000000000', 'files': ['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/conf/agent/securitygroups_rpc.py', 'releasenotes/notes/custom_ethertypes-eae3fcab3293e3a1.yaml'], 'web_link': 'https://opendev.org/openstack/neutron/commit/9ea6a616658268b833ccb787c181962898863058', 'message': 'Add custom ethertype processing\n\nThe OVS Firewall blocks traffic that does not have either the IPv4 or\nIPv6 ethertypes at present.  This is a behavior change compared to the\niptables_hybrid firewall, which only operates on IP packets and thus\ndoes not address other ethertypes.\n\nThis is a lightweight change that sets a configuration option in the\nneutron openvswitch agent configuration file for permitted ethertypes\nand then ensures that the requested ethertypes are permitted on\ninitialization.  This addresses the security and usability concerns on\nboth master and stable branches while a full-fledged extension to the\nsecurity groups API is considered.\n\nChange-Id: Ide78b0b90cf6d6069ce3787fc60766be52062da0\nRelated-Bug: #1832758\n'}]",0,668224,9ea6a616658268b833ccb787c181962898863058,15,6,1,13995,,,0,"Add custom ethertype processing

The OVS Firewall blocks traffic that does not have either the IPv4 or
IPv6 ethertypes at present.  This is a behavior change compared to the
iptables_hybrid firewall, which only operates on IP packets and thus
does not address other ethertypes.

This is a lightweight change that sets a configuration option in the
neutron openvswitch agent configuration file for permitted ethertypes
and then ensures that the requested ethertypes are permitted on
initialization.  This addresses the security and usability concerns on
both master and stable branches while a full-fledged extension to the
security groups API is considered.

Change-Id: Ide78b0b90cf6d6069ce3787fc60766be52062da0
Related-Bug: #1832758
",git fetch https://review.opendev.org/openstack/neutron refs/changes/24/668224/1 && git format-patch -1 --stdout FETCH_HEAD,"['neutron/agent/linux/openvswitch_firewall/firewall.py', 'neutron/conf/agent/securitygroups_rpc.py', 'releasenotes/notes/custom_ethertypes-eae3fcab3293e3a1.yaml']",3,9ea6a616658268b833ccb787c181962898863058,custom_ethertypes,"--- security: - | The OVS Firewall blocks traffic that does not have either the IPv4 or IPv6 ethertypes at present. This is a behavior change compared to the iptables_hybrid firewall, which only operates on IP packets and thus does not address other ethertypes. There is now a configuration option in the neutron openvswitch agent configuration file for permitted ethertypes and then ensures that the requested ethertypes are permitted on initialization. ",,38,1
openstack%2Ftripleo-heat-templates~stable%2Fstein~I36e003c09d7f7768da475d166a20f01347a2934c,openstack/tripleo-heat-templates,stable/stein,I36e003c09d7f7768da475d166a20f01347a2934c,Configure insecure registries before Pacemaker-managed image pulls,MERGED,2019-06-24 15:28:48.000000000,2019-07-01 10:59:29.000000000,2019-07-01 10:59:29.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/podman/podman-baremetal-ansible.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/273f9a32a787198904cdb8ca4971764ba2d53382', 'message': 'Configure insecure registries before Pacemaker-managed image pulls\n\nService templates like mysql-pacemaker-puppet.yaml pull fresh\ncontainer images in step 2 of the upgrade tasks. In case they come\nfrom an allowed insecure registry, the insecure registries setting\nmust be in place by step 1. We do just that by reusing the ""install\nand configure Podman"" part of host_prep_tasks.\n\nChange-Id: I36e003c09d7f7768da475d166a20f01347a2934c\nPartial-Bug: #1831690\n(cherry picked from commit df3b4b3c5724d0736227e3dc136dd6f797b02678)\n'}]",0,667144,273f9a32a787198904cdb8ca4971764ba2d53382,8,4,1,8042,,,0,"Configure insecure registries before Pacemaker-managed image pulls

Service templates like mysql-pacemaker-puppet.yaml pull fresh
container images in step 2 of the upgrade tasks. In case they come
from an allowed insecure registry, the insecure registries setting
must be in place by step 1. We do just that by reusing the ""install
and configure Podman"" part of host_prep_tasks.

Change-Id: I36e003c09d7f7768da475d166a20f01347a2934c
Partial-Bug: #1831690
(cherry picked from commit df3b4b3c5724d0736227e3dc136dd6f797b02678)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/44/667144/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/podman/podman-baremetal-ansible.yaml'],1,273f9a32a787198904cdb8ca4971764ba2d53382,bug/1831690," block: &install_and_configure_podman # Upgrade tasks for Pacemaker-managed services tasks pull # container images in step 2, we need insecure registries # configured in step 1. - name: Install and configure Podman when: step|int == 1 block: *install_and_configure_podman", block: - name: Install podman packages on upgrade if missing when: step|int == 3 package: name=podman state=latest - name: Remove default cni config for cni0 if exists copy: dest: /etc/cni/net.d/87-podman-bridge.conflist content: '' force: yes ignore_errors: True - name: Delete cni0 interface if exists command: ip link delete cni0 ignore_errors: True,7,13
openstack%2Ftripleo-heat-templates~stable%2Fstein~I7381423b9834d6ebe6e29a07fb3996ca79398187,openstack/tripleo-heat-templates,stable/stein,I7381423b9834d6ebe6e29a07fb3996ca79398187,Change package installs for Stein and OS upgrade,MERGED,2019-06-24 15:28:48.000000000,2019-07-01 10:59:27.000000000,2019-07-01 10:59:27.000000000,"[{'_account_id': 8042}, {'_account_id': 20775}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-24 15:28:48.000000000', 'files': ['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'environments/lifecycle/upgrade-prepare.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/1cedab103b9b90fdf795f32e4972bd9db23bc5e2', 'message': 'Change package installs for Stein and OS upgrade\n\nAfter upgrading to a new OS we might not have all the necessary\npackages, so install them. The list was taken from deployed-server\npreparation script. Also change the UpgradeInitCommonCommand for\nStein. e.g. we no longer require Ansible and Ansible-Pacemaker on the\novercloud, as Ansible is now being executed from undercloud only.\n\nChange-Id: I7381423b9834d6ebe6e29a07fb3996ca79398187\nCloses-Bug: #1830882\n(cherry picked from commit 7b3d8f786ef525c30d09e422867e8280c96b4034)\n'}]",0,667143,1cedab103b9b90fdf795f32e4972bd9db23bc5e2,8,4,1,8042,,,0,"Change package installs for Stein and OS upgrade

After upgrading to a new OS we might not have all the necessary
packages, so install them. The list was taken from deployed-server
preparation script. Also change the UpgradeInitCommonCommand for
Stein. e.g. we no longer require Ansible and Ansible-Pacemaker on the
overcloud, as Ansible is now being executed from undercloud only.

Change-Id: I7381423b9834d6ebe6e29a07fb3996ca79398187
Closes-Bug: #1830882
(cherry picked from commit 7b3d8f786ef525c30d09e422867e8280c96b4034)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/43/667143/1 && git format-patch -1 --stdout FETCH_HEAD,"['deployment/tripleo-packages/tripleo-packages-baremetal-puppet.yaml', 'environments/lifecycle/upgrade-prepare.yaml']",2,1cedab103b9b90fdf795f32e4972bd9db23bc5e2,bug/1831690,, yum install -y python-heat-agent-* yum update -y ansible yum install -y ansible-pacemaker # Remove the element os-net-config config.json https://bugs.launchpad.net/tripleo/+bug/1758161/ rm /usr/libexec/os-apply-config/templates/etc/os-net-config/config.json || true,14,12
openstack%2Fpython-tackerclient~master~Icf9a7857be01056c0967fed0c777f2f46a993b6c,openstack/python-tackerclient,master,Icf9a7857be01056c0967fed0c777f2f46a993b6c,Replace git.openstack.org URLs with opendev.org URLs,MERGED,2019-04-23 05:45:08.000000000,2019-07-01 10:54:06.000000000,2019-07-01 10:54:06.000000000,"[{'_account_id': 18955}, {'_account_id': 22165}, {'_account_id': 22348}, {'_account_id': 25553}, {'_account_id': 26222}, {'_account_id': 28743}, {'_account_id': 30356}]","[{'number': 1, 'created': '2019-04-23 05:45:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/dec1542c66df5a211fe7744e7b29932d9e45fbec', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c\n'}, {'number': 2, 'created': '2019-05-28 09:49:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/51a9b833b3c0a5632239c39c06351a9aa0ec1eec', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\nChange-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c\n'}, {'number': 3, 'created': '2019-05-28 09:51:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/fad84f4fd42791eeada25c7a0b3ba90f375edd4b', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some urls\n\nChange-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c\n'}, {'number': 4, 'created': '2019-06-19 07:49:09.000000000', 'files': ['doc/source/contributor/developing.rst', 'README.rst', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/python-tackerclient/commit/47996394b37cc1ea9ac986e2a7520868644dc237', 'message': 'Replace git.openstack.org URLs with opendev.org URLs\n\n1. Replace git.openstack.org URLs with opendev.org URLs\n2. Update some urls\n\nChange-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c\n'}]",3,654774,47996394b37cc1ea9ac986e2a7520868644dc237,22,7,4,28614,,,0,"Replace git.openstack.org URLs with opendev.org URLs

1. Replace git.openstack.org URLs with opendev.org URLs
2. Update some urls

Change-Id: Icf9a7857be01056c0967fed0c777f2f46a993b6c
",git fetch https://review.opendev.org/openstack/python-tackerclient refs/changes/74/654774/2 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/contributor/developing.rst', 'tox.ini']",2,dec1542c66df5a211fe7744e7b29932d9e45fbec,, -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/plain/upper-constraints.txt}, -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt} -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},4,4
openstack%2Ftripleo-heat-templates~master~I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2,openstack/tripleo-heat-templates,master,I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2,Add script to help export cellv2 multicell information,ABANDONED,2019-05-15 08:46:27.000000000,2019-07-01 10:43:03.000000000,,"[{'_account_id': 3153}, {'_account_id': 7144}, {'_account_id': 14985}, {'_account_id': 17216}, {'_account_id': 18002}, {'_account_id': 20733}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 23811}, {'_account_id': 30133}]","[{'number': 1, 'created': '2019-05-15 08:46:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/58f8dbd9959b1d915dad58f3e31b0ebbadc040f5', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\nWe also add a basic environment file wicht can be used as base for an\nadditional cell.\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2\n'}, {'number': 2, 'created': '2019-05-15 10:23:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/6faaa5bf6d06f9d0749e6bd2604276141e6f8127', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\nWe also add a basic environment file wicht can be used as base for an\nadditional cell.\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2\n'}, {'number': 3, 'created': '2019-05-20 11:07:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/a049f0bc57e49b6d2595ccf46aad7be9abd92cc4', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\nWe also add a basic environment file which can be used as base for an\nadditional cell.\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2\n'}, {'number': 4, 'created': '2019-05-21 09:45:47.000000000', 'files': ['tools/export_cell_information.py', 'environments/nova-additional-cell.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/67f1f1f5d3f9dc4edbf67c32397577efd70c0615', 'message': 'Add script to help export cellv2 multicell information\n\n[1] provided steps on how to setup multiple cells using tripleo.\nThis requires to extract deployment information from the overcloud\n/main heat stack which then is used as input for the cell deployment.\n\nWith this patch we provide a script to help automate the export\nsteps from [1] and automates the steps:\n* Export the default cell EndpointMap\n* Export the default cell HostsEntry\n* Export AllNodesConfig and GlobalConfig information\n* Export passwords\n\nWe also add a basic environment file which can be used as base for an\nadditional cell.\n\n[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2\n\nChange-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2\n'}]",15,659238,67f1f1f5d3f9dc4edbf67c32397577efd70c0615,26,10,4,17216,,,0,"Add script to help export cellv2 multicell information

[1] provided steps on how to setup multiple cells using tripleo.
This requires to extract deployment information from the overcloud
/main heat stack which then is used as input for the cell deployment.

With this patch we provide a script to help automate the export
steps from [1] and automates the steps:
* Export the default cell EndpointMap
* Export the default cell HostsEntry
* Export AllNodesConfig and GlobalConfig information
* Export passwords

We also add a basic environment file which can be used as base for an
additional cell.

[1] https://docs.openstack.org/tripleo-docs/latest/install/advanced_deployment/deploy_cellv2.html#deploy-an-additional-nova-cell-v2

Change-Id: I463db3ae5c0f1ff9d69e6b902568eb8358ccb9f2
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/38/659238/1 && git format-patch -1 --stdout FETCH_HEAD,"['tools/export_cell_information.py', 'environments/nova-additional-cell.yaml']",2,58f8dbd9959b1d915dad58f3e31b0ebbadc040f5,cell_export,"resource_registry: # since the same network is used, the creation of the # different kind of networks is omitted for additional # cells OS::TripleO::Network::External: OS::Heat::None OS::TripleO::Network::InternalApi: OS::Heat::None OS::TripleO::Network::Storage: OS::Heat::None OS::TripleO::Network::StorageMgmt: OS::Heat::None OS::TripleO::Network::Tenant: OS::Heat::None OS::TripleO::Network::Management: OS::Heat::None parameter_defaults: # new CELL Parameter to reflect that this is an additional CELL NovaAdditionalCell: True # In case of an tls-everywhere environment the CloudName* # parameters need to be set for the cell as connection to # endpoints are done via DNS names, like MySQL and MQ endpoints. # This is optional for non tls-everywhere environments. #CloudName: computecell1.ooo.test #CloudNameInternal: computecell1.internalapi.ooo.test #CloudNameStorage: computecell1.storage.ooo.test #CloudNameStorageManagement: computecell1.storagemgmt.ooo.test #CloudNameCtlplane: computecell1.ctlplane.ooo.test # CloudDomain is the same as in the default cell. #CloudDomain: ooo.test # Flavors used for the cell controller and computes OvercloudControllerFlavor: cellcontroller OvercloudComputeFlavor: compute # number of controllers/computes in the cell ControllerCount: 1 ComputeCount: 1 CephStorageCount: 0 # default gateway ControlPlaneStaticRoutes: - ip_netmask: 0.0.0.0/0 next_hop: 192.168.24.1 default: true # enable debug Debug: true # DNS server to be used in the cell DnsServers: - 192.168.24.1 ",,367,0
openstack%2Fgovernance~master~Icf454704a1503d27c0c526863bfaf103a7d7f8e1,openstack/governance,master,Icf454704a1503d27c0c526863bfaf103a7d7f8e1,DNM: Display table of TC Liasons and projects,ABANDONED,2019-06-28 15:00:34.000000000,2019-07-01 10:40:22.000000000,,[{'_account_id': 22348}],"[{'number': 1, 'created': '2019-06-28 15:00:34.000000000', 'files': ['doc/source/_exts/tc_liasons.py', 'reference/index.rst', 'doc/source/conf.py', 'reference/tc-liasons.rst'], 'web_link': 'https://opendev.org/openstack/governance/commit/9261e2477742f3bd2a7d93fff589852f75051be5', 'message': 'DNM: Display table of TC Liasons and projects\n\nChange-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e1\nSigned-off-by: Graham Hayes <gr@ham.ie>\n'}]",0,668188,9261e2477742f3bd2a7d93fff589852f75051be5,3,1,1,8099,,,0,"DNM: Display table of TC Liasons and projects

Change-Id: Icf454704a1503d27c0c526863bfaf103a7d7f8e1
Signed-off-by: Graham Hayes <gr@ham.ie>
",git fetch https://review.opendev.org/openstack/governance refs/changes/88/668188/1 && git format-patch -1 --stdout FETCH_HEAD,"['doc/source/_exts/tc_liasons.py', 'reference/index.rst', 'doc/source/conf.py', 'reference/tc-liasons.rst']",4,9261e2477742f3bd2a7d93fff589852f75051be5,DMN-test-display-of-liasons,========== TC Liasons ========== OpenStack Project Team TC Liasons ================================= .. liasonstable:: :datafile: ../reference/projects.yaml,,153,0
openstack%2Fansible-role-openstack-operations~master~I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f,openstack/ansible-role-openstack-operations,master,I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f,Change openstack-dev to openstack-discuss\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.,ABANDONED,2019-07-01 10:16:39.000000000,2019-07-01 10:19:08.000000000,,[],"[{'number': 1, 'created': '2019-07-01 10:16:39.000000000', 'files': ['setup.cfg'], 'web_link': 'https://opendev.org/openstack/ansible-role-openstack-operations/commit/6afb387740821c6b3693c094c0d132346917ef4b', 'message': 'Change openstack-dev to openstack-discuss\\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.\n\nChange-Id: I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f\n'}]",0,668408,6afb387740821c6b3693c094c0d132346917ef4b,2,0,1,27565,,,0,"Change openstack-dev to openstack-discuss\nMailinglists have been updated. Openstack-discuss replaces openstack-dev.

Change-Id: I1da16dfc8222f85d8dd5aa76a75362bdd62ba79f
",git fetch https://review.opendev.org/openstack/ansible-role-openstack-operations refs/changes/08/668408/1 && git format-patch -1 --stdout FETCH_HEAD,['setup.cfg'],1,6afb387740821c6b3693c094c0d132346917ef4b,,author-email = openstack-discuss@lists.openstack.org,author-email = openstack-dev@lists.openstack.org,1,1
openstack%2Fironic~master~I8accdcc73c7e0261579d753633f9dfc02a868115,openstack/ironic,master,I8accdcc73c7e0261579d753633f9dfc02a868115,Collect sensor data in ``redfish`` hardware type,MERGED,2019-06-17 11:41:39.000000000,2019-07-01 10:03:43.000000000,2019-07-01 10:03:43.000000000,"[{'_account_id': 2472}, {'_account_id': 10118}, {'_account_id': 10239}, {'_account_id': 11655}, {'_account_id': 14629}, {'_account_id': 19339}, {'_account_id': 22348}, {'_account_id': 23851}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-06-17 11:41:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/d52cc6b509e12187976166e8cf39e940d8c4d4eb', 'message': '[WIP] Collect sensor data in ``redfish`` hardware type\n\nAdds sensor data collector to ``redfish`` management interface.\nTemperature, power, cooling and drive health metrics are collected.\n\nChange-Id: I8accdcc73c7e0261579d753633f9dfc02a868115\nStory: 2005878\nTask: 33692\n'}, {'number': 2, 'created': '2019-06-17 16:06:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/2046ef706525c7fee8dc2363418200fb4fb616f7', 'message': 'Collect sensor data in ``redfish`` hardware type\n\nAdds sensor data collector to ``redfish`` management interface.\nTemperature, power, cooling and drive health metrics are collected.\n\nChange-Id: I8accdcc73c7e0261579d753633f9dfc02a868115\nStory: 2005878\nTask: 33692\n'}, {'number': 3, 'created': '2019-06-18 08:38:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8c921d5b84e18541b3564d370372a80c31b13b8d', 'message': 'Collect sensor data in ``redfish`` hardware type\n\nAdds sensor data collector to ``redfish`` management interface.\nTemperature, power, cooling and drive health metrics are collected.\n\nChange-Id: I8accdcc73c7e0261579d753633f9dfc02a868115\nStory: 2005878\nTask: 33692\n'}, {'number': 4, 'created': '2019-06-18 10:43:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/ironic/commit/8296cf8fe065c578dc0038e6f3fd4b9d9304588a', 'message': 'Collect sensor data in ``redfish`` hardware type\n\nAdds sensor data collector to ``redfish`` management interface.\nTemperature, power, cooling and drive health metrics are collected.\n\nChange-Id: I8accdcc73c7e0261579d753633f9dfc02a868115\nStory: 2005878\nTask: 33692\n'}, {'number': 5, 'created': '2019-06-24 09:54:35.000000000', 'files': ['releasenotes/notes/add-redfish-sensors-4e2f7e3f8a7c6d5b.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py', 'driver-requirements.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/82abc0beacd3f8b4626ee1fab6634204af65a07b', 'message': 'Collect sensor data in ``redfish`` hardware type\n\nAdds sensor data collector to ``redfish`` management interface.\nTemperature, power, cooling and drive health metrics are collected.\n\nChange-Id: I8accdcc73c7e0261579d753633f9dfc02a868115\nStory: 2005878\nTask: 33692\n'}]",6,665646,82abc0beacd3f8b4626ee1fab6634204af65a07b,37,9,5,26340,,,0,"Collect sensor data in ``redfish`` hardware type

Adds sensor data collector to ``redfish`` management interface.
Temperature, power, cooling and drive health metrics are collected.

Change-Id: I8accdcc73c7e0261579d753633f9dfc02a868115
Story: 2005878
Task: 33692
",git fetch https://review.opendev.org/openstack/ironic refs/changes/46/665646/4 && git format-patch -1 --stdout FETCH_HEAD,"['releasenotes/notes/add-redfish-sensors-4e2f7e3f8a7c6d5b.yaml', 'ironic/drivers/modules/redfish/management.py', 'ironic/tests/unit/drivers/modules/redfish/test_management.py']",3,d52cc6b509e12187976166e8cf39e940d8c4d4eb,add-redfish-sensor-data," def test__get_sensors_fan(self): attributes = { ""identity"": ""XXX-YYY-ZZZ"", ""name"": ""CPU Fan"", ""status"": { ""state"": ""enabled"", ""health"": ""OK"" }, ""reading"": 6000, ""reading_units"": ""RPM"", ""lower_threshold_fatal"": 2000, ""min_reading_range"": 0, ""max_reading_range"": 10000, ""serial_number"": ""SN010203040506"", ""physical_context"": ""CPU"" } mock_chassis = mock.MagicMock(identity='ZZZ-YYY-XXX') mock_fans = mock_chassis.thermal.fans mock_fan = mock.MagicMock(**attributes) mock_fan.name = attributes['name'] mock_fan.status = mock.MagicMock(**attributes['status']) mock_fans.get_members.return_value = [mock_fan] sensors = task.driver.management._get_sensors_fan(mock_chassis) expected = { 'XXX-YYY-ZZZ@ZZZ-YYY-XXX': { 'identity': 'XXX-YYY-ZZZ', 'max_reading_range': 10000, 'min_reading_range': 0, 'physical_context': 'CPU', 'reading': 6000, 'reading_units': 'RPM', 'serial_number': 'SN010203040506', 'health': 'OK', 'state': 'enabled' } } self.assertEqual(expected, sensors) def test__get_sensors_temperatures(self): attributes = { ""identity"": ""XXX-YYY-ZZZ"", ""name"": ""CPU Temp"", ""status"": { ""state"": ""enabled"", ""health"": ""OK"" }, ""reading_celsius"": 62, ""upper_threshold_non_critical"": 75, ""upper_threshold_critical"": 90, ""upperThresholdFatal"": 95, ""min_reading_range_temp"": 0, ""max_reading_range_temp"": 120, ""physical_context"": ""CPU"", ""sensor_number"": 1 } mock_chassis = mock.MagicMock(identity='ZZZ-YYY-XXX') mock_temperatures = mock_chassis.thermal.temperatures mock_temperature = mock.MagicMock(**attributes) mock_temperature.name = attributes['name'] mock_temperature.status = mock.MagicMock(**attributes['status']) mock_temperatures.get_members.return_value = [mock_temperature] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: sensors = task.driver.management._get_sensors_temperatures( mock_chassis) expected = { 'XXX-YYY-ZZZ@ZZZ-YYY-XXX': { 'identity': 'XXX-YYY-ZZZ', 'max_reading_range_temp': 120, 'min_reading_range_temp': 0, 'physical_context': 'CPU', 'reading_celsius': 62, 'sensor_number': 1, 'health': 'OK', 'state': 'enabled' } } self.assertEqual(expected, sensors) def test__get_sensors_power(self): attributes = { 'member_id': 0, 'name': 'Power Supply 0', 'power_capacity_watts': 1450, 'last_power_output_watts': 650, 'line_input_voltage': 220, 'input_ranges': { 'minimum_voltage': 185, 'maximum_voltage': 250, 'minimum_frequency_hz': 47, 'maximum_frequency_hz': 63, 'output_wattage': 1450 }, 'serial_number': 'SN010203040506', ""status"": { ""state"": ""enabled"", ""health"": ""OK"" } } mock_chassis = mock.MagicMock(identity='ZZZ-YYY-XXX') mock_power = mock_chassis.thermal.power mock_power.identity = 'Power' mock_psu = mock.MagicMock(**attributes) mock_psu.name = attributes['name'] mock_psu.status = mock.MagicMock(**attributes['status']) mock_psu.input_ranges = mock.MagicMock(**attributes['input_ranges']) mock_power.power_supplies = [mock_psu] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: sensors = task.driver.management._get_sensors_power(mock_chassis) expected = { '0:Power@ZZZ-YYY-XXX': { 'health': 'OK', 'last_power_output_watts': 650, 'line_input_voltage': 220, 'maximum_frequency_hz': 63, 'maximum_voltage': 250, 'minimum_frequency_hz': 47, 'minimum_voltage': 185, 'output_wattage': 1450, 'power_capacity_watts': 1450, 'serial_number': 'SN010203040506', 'state': 'enabled' } } self.assertEqual(expected, sensors) @mock.patch.object(redfish_utils, 'get_system', autospec=True) def test_get_sensors_data_drive(self, mock_get_system): attributes = { 'identity': '32ADF365C6C1B7BD', 'model': 'IBM 350A', 'capacity_bytes': 3750000000, 'failure_predicted': True, 'serial_number': 'SN010203040506', 'status': { 'health': 'OK', 'state': 'enabled' } } mock_system = mock.MagicMock(identity='ZZZ-YYY-XXX') mock_drive = mock.MagicMock(**attributes) mock_drive.status = mock.MagicMock(**attributes['status']) mock_storage = mock.MagicMock() mock_storage.devices = [mock_drive] mock_system.simple_storage.identity = 'XXX-YYY-ZZZ' mock_system.simple_storage.get_members.return_value = [mock_storage] with task_manager.acquire(self.context, self.node.uuid, shared=True) as task: sensors = task.driver.management._get_sensors_drive(mock_system) expected = { '32ADF365C6C1B7BD:XXX-YYY-ZZZ@ZZZ-YYY-XXX': { 'capacity_bytes': 3750000000, 'failure_predicted': True, 'health': 'OK', 'identity': '32ADF365C6C1B7BD', 'model': 'IBM 350A', 'state': 'enabled' } } self.assertEqual(expected, sensors)"," def test_get_sensors_data(self): self.assertRaises(NotImplementedError, task.driver.management.get_sensors_data, task)",324,7
openstack%2Fneutron-specs~master~I82d05501d22f9541ba68eb7e84716abe8dd1b210,openstack/neutron-specs,master,I82d05501d22f9541ba68eb7e84716abe8dd1b210,Spec for Explicit Congestion Notification,ABANDONED,2017-03-15 05:22:01.000000000,2019-07-01 10:03:03.000000000,,"[{'_account_id': 3}, {'_account_id': 748}, {'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 6854}, {'_account_id': 8788}, {'_account_id': 11975}, {'_account_id': 13702}, {'_account_id': 13995}, {'_account_id': 16688}, {'_account_id': 17120}, {'_account_id': 17776}, {'_account_id': 18051}, {'_account_id': 22255}, {'_account_id': 22348}, {'_account_id': 23312}, {'_account_id': 23858}, {'_account_id': 26504}]","[{'number': 1, 'created': '2017-03-15 05:22:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c65da55690e6c6ee6fd373cae3835f157294f0b7', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 2, 'created': '2017-03-15 05:33:54.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/990a7ef8c7f93a9bfd72a1f13e94ad9655f90d4c', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 3, 'created': '2017-08-09 11:31:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a93689b85de2d238d2f2e1ce45410280cf475a3b', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 4, 'created': '2017-08-16 09:15:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/035b00bdc31b60c1e168cb4da2d76b784000d672', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 5, 'created': '2017-08-17 03:04:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/c2740d121af61aa20ebf689c806852593a760c93', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 6, 'created': '2017-08-18 01:25:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/1f4be1dbb8538f72397c1b1a1ea82ae2291f48c2', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 7, 'created': '2017-08-24 08:02:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b3f4103c96c24c5f3485acf4a00c007e18b35ea6', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 8, 'created': '2017-09-08 03:09:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9610a7784ffa92067ef3bc65aedaeb8f02648233', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 9, 'created': '2017-09-11 03:16:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/6583910df312024f7bc90290ee32208f2960888c', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 10, 'created': '2017-09-21 04:37:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/9f0318d23f66e0a8ef485197b1731c599c63ed90', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 11, 'created': '2017-11-07 09:35:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d0988d91d5bb4c88beffb2735b1431b801edede6', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 12, 'created': '2017-11-20 07:26:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/cbe0d7be27bbae79c97f3e64da789bba36e006e5', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 13, 'created': '2017-12-11 20:09:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/5cba9e8404c22b09e29a43837813e52e913dc384', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 14, 'created': '2017-12-21 10:48:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/69f602e05023c3ab73ac081b54ee359a8a5b08b8', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 15, 'created': '2018-01-17 08:45:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/72c7df67326f6d74019e723ef858a1e5f428c3fd', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 16, 'created': '2018-01-19 05:47:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/a453adfba1b561cf9a2f7ed517ac36f963c306d8', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 17, 'created': '2018-01-23 05:55:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/4522489d3187ae87d3edb0e49693d1de11ebbbe9', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 18, 'created': '2018-01-29 11:31:41.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7b5667e0ff679a780ff2aa7bee1a1d7ab0279973', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 19, 'created': '2018-03-11 05:35:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/092a2358bf96deaccc66235bfdd32b7ac9ea63a2', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 20, 'created': '2018-03-21 09:53:50.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/caa706560e5381209ab9481199893a8a4b0e0fd9', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 21, 'created': '2018-04-09 10:51:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/8c54be28276d8b4517929385b0f9cb02b35f0385', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 22, 'created': '2018-04-10 06:31:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/0978808db142030a114d62f65e516b12adad0e2a', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 23, 'created': '2018-04-16 08:42:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/3dbe812846830fc2e88b7ed3b60a95c1db37ff69', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 24, 'created': '2018-05-11 06:13:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/d0a7730ac2cdf6ee5805999037405f8e4f175fa3', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 25, 'created': '2018-05-15 09:38:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/87415331cb40e7292c27d198e292ba2c7a7f6bba', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 26, 'created': '2018-08-02 14:11:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/b56a0c56ad757a376ae19a1229d9a701d1666fb8', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 27, 'created': '2018-09-06 06:47:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/ee05d7b96fd3ab105bbfefb3f7b9bb9dc67f530f', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 28, 'created': '2018-11-21 13:54:29.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/7d926f4e3093b1174684c158163da8f07720bd32', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}, {'number': 29, 'created': '2018-11-22 05:49:01.000000000', 'files': ['specs/train/ecn.rst'], 'web_link': 'https://opendev.org/openstack/neutron-specs/commit/77d19f77b791ecbab772cdd259c56d1ad516939d', 'message': 'Spec for Explicit Congestion Notification\n\nThe following specification introduces the implimentation\nof Explicit Congestion Notification in Openstack.\n\nChange-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210\nRelated-Bug: #1505627\n'}]",231,445762,77d19f77b791ecbab772cdd259c56d1ad516939d,120,18,29,17776,,,0,"Spec for Explicit Congestion Notification

The following specification introduces the implimentation
of Explicit Congestion Notification in Openstack.

Change-Id: I82d05501d22f9541ba68eb7e84716abe8dd1b210
Related-Bug: #1505627
",git fetch https://review.opendev.org/openstack/neutron-specs refs/changes/62/445762/22 && git format-patch -1 --stdout FETCH_HEAD,['specs/pike/ecn.rst'],1,c65da55690e6c6ee6fd373cae3835f157294f0b7,bug/1505627,"================================= Explicit Congestion Notification in Neutron ================================= Problem Description =================== Considering that we have 2 machines, a Source and a Destination, then Explicit Congestion Notification is the process of notifying the Source machine that the network from Source to Destination is choked up and due to this the packets can be dropped. The notification therefore allows the Source to ""slow-down"" and reduce the rate of packet transfer to avoid packet drops and ensure service quality . Dependencies =========== ECN can work if ECN is enabled from End-to-End, therefore, the VM/Baremetal machines, OVS and the routers lying in between the source and destination MUST have ECN enabled. This means that when a VM is booted up, if the connection between VMs is to be made ECN enabled, then we need to ensure the ECN profile is set on the VMs. ECN is end-to-end enabled. If a network is ECN enabled, then it means all the VMs in that network would be ECN enabled. And if two networks are connected via a router , then the router should also be ECN enabled to make ECN feature work.Therefore the ECN property needs to be set up on the Network and the router separately. ECN is detected by a router in the middle but notified to the destination which sends a ""slow down"" request to the source. Each router which comes in the middle relays this ECN information to the destination. A network can be made ECN enabled during or after its creation. If a network is made ECN enabled after its creation, all VMs connected to it must be made ECN enabled by making a setting in the VM's OS .( Refer Future Scope) All VMs which are deployed on the network which is made ECN enabled would have ECN enabled by default. However, user can change the ECN setting policy in a VM. ( required from Nova ??) ECN works only for TCP sockets. Sequence of Operations ================== - Admin Setup: Admin enables the ECN extension. ECN enablment depends on the routers. OVS supports ECN but other third party drivers need to modify this parameter to inform Admin and Openstack if ECN can be enabled or not. - ECN enablment: Tenant/Admin selects a router on which the ECN is to be enabled If the routers support ECN, then tenant/admin can enable ECN on the router using the ECN extension ECN extension can be Updated to be True/False, using router-create and router-update If the third party driver supports ECN, then it will set ECN in the router configurations - How It will work: |-------------| _______ |-------------| | VM1 | -----> | Router | --------> | VM2 | |-------------| _ _ _ _ _ |-------------| Suppose VM1 sends out packet to VM2 via router ""Router"". a) Router recieves packets from VM1 b) Router has a defined queue limit with a specific WRED ( Weighted Random Early Detection ) Packet Drop profile c) If VM1 transfer rate > processing rate of router, the router input queue starts getting filled up . WRED defines the Drop Packet Start point from which ECN packet tagging starts on probability to Drop Packet End point, when all packets are ECN tagged, d) When the router experiences congestion, it marks the DiffServ bits in the IP packet with 11 for Congestion-Experienced ( CE ) e) VM2 recieves the IP packet with CE bits enabled and sends the TCP ACK with ECE bit to 1 ( ECN Echo flag ) f) When VM1 gets this packet, it reduces the speed of the transmission ECN supports the following: IPv4 and IPv6 packets Untagged, single-tagged, and double-tagged packets The outer IP header of IP tunneled packets (but not the inner IP header) ECN does not support the following: IP packets with MPLS encapsulation The inner IP header of IP tunneled packets (however, ECN works on the outer IP header) Hmm, I'm not sure that would be correct on our case. The routers see traffic completely decapsulated, and then this traffic is encapsulated again at output (when it needs to be tunneled), so It'd be the inner IP packet the one carrying the ECN flags. <reedip> : This was what was mentioned in the ECN's RFC. However, if this implementation is different in Openstack, then it would be handled differently (and a bit interesting) Multicast, broadcast, and destination lookup fail (DLF) traffic Non-IP traffic References ========== ...[4] http://www.juniper.net/techpubs/en_US/junos14.1/topics/concept/cos-qfx-series-explicit-congestion-notification-understanding.html http://paste.openstack.org/show/494363/ Terminology and API =================== Possible API changes ECN can be enabled as a separate extension in Neutron, so that it can be plugged in by the user as per their own convineance. It can be enabled as thus: EXTENDED_ATTRIBUTES_2_0 = { 'networks': { ECN: {'allow_post': True, 'allow_put': False, #<----- can be changed in the future to TRUE 'default': False, 'is_visible': True} } } EXTENDED_ATTRIBUTES_2_0 = { 'routers': { ECN: {'allow_post': True, 'allow_put': False, #<----- can be changed in the future to TRUE 'default': False, 'is_visible': True} } } DataModel Impact =================== Networks +-----------------------+-------------+------------+-----------+---------------+--------------------+ | Attribute | Type | Access | Default | Validation/ | Description | | Name | | (CRUD)| Value | Conversion | | +=============+========+======+======+======================+ | ecn-enabled | Boolean | CRU | False | N/A | ECN enabled | +-----------------------+--------------+----------+------------+---------------+---------------------+ Routers +-----------------------+-------------+------------+-----------+---------------+--------------------+ | Attribute | Type | Access | Default | Validation/ | Description | | Name | | (CRUD)| Value | Conversion | | +=============+========+======+======+======================+ | ecn-enabled | Boolean | CRU | False | N/A | ECN enabled | +-----------------------+--------------+----------+------------+---------------+---------------------+ Low level implementation details in l3 routers ================================= <To-Do> ",,232,0
openstack%2Fnetworking-ovn~master~Ie3e0904436536076b045a2d663f5afb5bfc9dc0c,openstack/networking-ovn,master,Ie3e0904436536076b045a2d663f5afb5bfc9dc0c,Add a new Event Handler for Octavia,ABANDONED,2018-10-09 07:30:51.000000000,2019-07-01 10:00:20.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6579}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 10237}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 23804}, {'_account_id': 23858}, {'_account_id': 24791}, {'_account_id': 27032}]","[{'number': 1, 'created': '2018-10-09 07:30:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6a7e837a56db288a58028a9d99dac712a4ca8ad0', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 2, 'created': '2018-10-09 09:34:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1c98cbab1de867ef6eaab8d9eea83e39e231e800', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 3, 'created': '2018-10-09 09:35:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f257c9c1b0ee8b364b16c95b359678dd9bc7dea1', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 4, 'created': '2018-10-09 10:22:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/719a8f5441b011391ce6e9745768028641ab5509', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 5, 'created': '2018-10-09 13:37:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2916727c8c0e6f3435da9bda38aa771649f56590', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 6, 'created': '2018-10-12 11:10:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4296fa7e3540b93a0fabc97136f71ddf67538c17', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 7, 'created': '2018-10-15 07:16:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a813fba9340b5d8f936069ff3a82bc243ef1a4e', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 8, 'created': '2018-10-15 10:23:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/67b1c3bf4cb8d1ca35cec98d70794cfcf0251838', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 9, 'created': '2018-10-16 10:40:45.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/37ada7b2fa5d7f775e0768a177a5be01a8331d86', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 10, 'created': '2018-10-17 15:07:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/229d710063d700190b3d927e4f38ab99b8b13692', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 11, 'created': '2018-10-17 16:26:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/122c372354cedc904a345c9fe2cccfb3a5b8da43', 'message': 'DNR/DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 12, 'created': '2018-10-18 14:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/814b87636329625774509d2f08af995ab10adad4', 'message': 'DNR/DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 13, 'created': '2018-10-19 06:10:59.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/14ce78403c905dce756e899c202a4a67cef6d416', 'message': 'DNR/DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 14, 'created': '2018-10-22 07:20:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6b28994ce1611b93db14fcfde631eade72ad446e', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo: Functional Test\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 15, 'created': '2018-10-25 12:00:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/863163ad09bc10a228010d1af8d1541e5f1c495a', 'message': 'DNM: Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo: Functional Test\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 16, 'created': '2018-10-30 09:35:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d6cc6ede1fd6a6fd1b1805a5078f56b7451a0f70', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo: Functional Test\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 17, 'created': '2018-10-31 10:28:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a8b1b5738e91d01474d0372d5cd3fe88b8501002', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test\nb) Documentation\nc) Manage Multiple LBs between reboots( currently managed by lb_info dict\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 18, 'created': '2018-11-02 10:35:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/39758ed9fb83ae73c20e2ebd10b6f2e96d433fb9', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 19, 'created': '2018-11-06 07:03:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a19a6c7171332195109a4916c1454ae731c0e83f', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 20, 'created': '2018-11-09 11:05:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b40f0c55691f80451b75119517c8d3c411762a7c', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 21, 'created': '2018-11-13 15:15:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/82c60e74ff45ca243b797a99ebecd57f55f983f7', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 22, 'created': '2018-11-21 11:28:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1b756302ddf33d68636ee5492bee41faff7fb9c7', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 23, 'created': '2018-11-26 13:59:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/24750c06d704ad592bf35b011e2d4d381daf553b', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 24, 'created': '2018-11-26 14:17:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4939db5752fb2a3789fd0261a9181ee1be4e219d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nToDo:\na) Functional Test - In Progress\nb) Documentation - Updated in the comments section in OVN Driver\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 25, 'created': '2018-11-27 09:05:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/62b6958c5382f33555ced1909a2b0997560361d7', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 26, 'created': '2018-11-27 10:53:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/44dca473f709ecd902288d4bf28af6ce3f40ccb3', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 27, 'created': '2018-12-12 13:50:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/53ecce6da0f404b4dcc26ac21920d8af69a5495b', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 28, 'created': '2018-12-13 07:10:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/48edfd8dab3592698cf2b1d353778c1113d12b2d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 29, 'created': '2019-01-17 07:53:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5045d9c0b6f00b950825718960dbc6ef4a2c7143', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 30, 'created': '2019-01-25 20:18:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a225864bd381e4656a544fa7dbe3cf65c7b548b8', 'message': 'WIP DNR Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 31, 'created': '2019-01-26 05:22:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7162cfe6c48e44be5934d546d1749be7d89ddec6', 'message': 'WIP Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 32, 'created': '2019-01-26 05:29:49.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5c2c72cd52545365703422760710de937d691ced', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 33, 'created': '2019-01-30 14:57:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7bda11e5ac17177a9ddb7fc57ddc612d51115b2f', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThis patch also migrates OvnWorker to a separate plugin file, so\nthat importing ovsdb_monitor in any other process( like Octavia )\ndoes not cause any duplicate configuration issues.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 34, 'created': '2019-01-31 12:17:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3b2c6f45814ab0825f187a4086020732c4b06728', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 35, 'created': '2019-02-01 13:54:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ac3896b020ca0220b6565169918e42ce408388ff', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 36, 'created': '2019-02-04 12:52:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/104f9bff2969a4fbdc0bbd478991d7f48478fdb6', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 37, 'created': '2019-02-06 15:32:35.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a8d5ab1488f14906aa5380b44584aa612d9a6143', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 38, 'created': '2019-02-06 15:33:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8c4d32c4532e9ea682cd9407f2b41c46c4cf9626', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 39, 'created': '2019-02-07 16:49:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6964426ceea7ec6bf570aca8598d3e89fadc986f', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nToDo: Uncomment the cascade delete tests after running an iteration on Gate\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 40, 'created': '2019-02-11 17:13:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9047f354e9a5290c87b534aecd9ef08158c3db00', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nToDo: Uncomment the cascade delete tests after running an iteration on Gate\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 41, 'created': '2019-02-13 10:49:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b113801a034956c820318e79847954a549b7db96', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nToDo: Uncomment the cascade delete tests after running an iteration on Gate\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 42, 'created': '2019-02-22 08:20:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a5ec93511196e6d826251339d5a6141e9389a541', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nToDo: Uncomment the cascade delete tests after running an iteration on Gate\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 43, 'created': '2019-02-25 08:07:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e4f03e426e6508b48a5fa326f7057a5b2e6fdc46', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nToDo: Uncomment the cascade delete tests after running an iteration on Gate\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 44, 'created': '2019-02-26 07:47:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5d4571be2ef4acdcea98fbc7739aee716288bcfc', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 45, 'created': '2019-02-27 16:33:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b332d17c4999ee14ceb867412890dab3c8f87867', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 46, 'created': '2019-03-01 11:38:48.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/af599f6bc11d4255ed9c98044862f04b1c2ebbd7', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 47, 'created': '2019-03-08 14:54:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7b4bbb57ad5833bc40e540a23868f836713b3bd3', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 48, 'created': '2019-03-08 14:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/19ca1609b20d4986ebf9bcb610fd5f06fd34aa5e', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 49, 'created': '2019-03-14 13:47:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/26be9b2b6e00ec7ad495ea8905ebcb3576c55f57', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 50, 'created': '2019-03-14 13:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9410c876158b198fc0044b36e417449ffb1aad9f', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 51, 'created': '2019-03-15 17:41:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/41bcb4c24c496651144989ca03f0293d157b3e65', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 52, 'created': '2019-03-19 09:20:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/89771ca0db8738c89f8cf09ebc87dd51f520bcd1', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 53, 'created': '2019-03-19 13:00:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1023f16b894c1675103d4a2cacf6511655bf56c5', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 54, 'created': '2019-03-29 06:05:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e232124570fb335dd2dab5c4a0299eecec866d38', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 55, 'created': '2019-03-29 11:00:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a025c041be5be5bcbd9d49d6c317cf6e9960da06', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 56, 'created': '2019-03-29 11:43:44.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ad07035f65fc71700ea765a81d914c3125168c07', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 57, 'created': '2019-04-01 12:30:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/902128d0f2b9e5633b069feb65b96c7d3ba7fb12', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 58, 'created': '2019-04-01 12:31:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c5734ce39bd8e20b994067e55438435a5dd0705d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 59, 'created': '2019-04-16 06:10:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/104421ad61b9abc3288533c995655f4812b70a5d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 60, 'created': '2019-04-17 06:23:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/451f0e49a9b9aa94a41b4d0011254f30e14bb5c9', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 61, 'created': '2019-04-21 16:20:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/134f79b217c12053a51af9a2564b73d0b14cfe71', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 62, 'created': '2019-04-23 11:37:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f9663cf83275f01d98e289a57e4fa96e13aefe61', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 63, 'created': '2019-04-26 12:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2e1735b796c67a41cca2ef5204fd79b22adc6e0e', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 64, 'created': '2019-05-11 03:09:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/88dd76cbb12510d520bc16389d7d4f77101c59bb', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 65, 'created': '2019-05-14 13:34:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fdd4d6ef6ef4bcb460805eeafde8196775ee34ff', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 66, 'created': '2019-05-15 07:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5a6bb109dfe3b18f0b9c861f526d7a7a1485b477', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 67, 'created': '2019-05-25 15:17:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7cb89d5b234ff00d940255a4fda487a114009fb6', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 68, 'created': '2019-05-28 10:51:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/63234ccdf91c1d8a4a645195cbf32dba115b5fab', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 69, 'created': '2019-05-28 14:31:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/74b5f9eeba0872fe8d725fc66e62858f0fc097f3', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 70, 'created': '2019-05-29 11:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab07735cc11e5e46f876b6594df5447237f2828d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 71, 'created': '2019-05-29 11:54:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/199b8c15033f1a53349b36e714e2402d5e10f56d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 72, 'created': '2019-05-29 23:43:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6f0c5b6ccf4c36f6b9d4f704651b4bfc622ab0f5', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 73, 'created': '2019-05-31 19:10:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/df4ae913b4dd0387d1ddeea572ee1b43c9e3439d', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 74, 'created': '2019-05-31 19:15:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2c23baa7027d7132da65a7dc8d04eb41dc92f3f1', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 75, 'created': '2019-06-04 02:10:10.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4961b2b1fed9743910f0d1035e8a5bfb0e8d463b', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 76, 'created': '2019-06-04 04:51:27.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cadcd1c61f6922716681d43a7c0ccaa515193ccb', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 77, 'created': '2019-06-04 12:11:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7fc426d5a15864c4b089d652a52a022435b11d12', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 78, 'created': '2019-06-14 13:54:03.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1e0a90beccfe1803592ff50dd8624d8b0f2acb41', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 79, 'created': '2019-06-17 09:31:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c28f43d419e4495a4b22d90afefab088f044fb20', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 80, 'created': '2019-06-24 07:03:52.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/807bfd6ec3c1731e62f6d330ec86c9d87fb7db00', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 81, 'created': '2019-06-24 07:08:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/359f154930c5602537d9bef6e4f86a9a21fbac1e', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 82, 'created': '2019-06-26 14:58:15.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3f4f7c74a978b40b0524af21b2223d015d104e61', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 83, 'created': '2019-06-27 07:56:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e23030d19d0954e16edb971a821a2b228cb8ca55', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}, {'number': 84, 'created': '2019-06-27 14:16:45.000000000', 'files': ['networking_ovn/common/ovn_client.py', 'networking_ovn/common/utils.py', 'networking_ovn/common/constants.py', 'networking_ovn/octavia/ovn_driver.py', 'doc/source/contributor/design/loadbalancer.rst', 'networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py', 'networking_ovn/tests/functional/octavia/test_ovn_driver.py', 'networking_ovn/tests/unit/l3/test_l3_ovn.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/62fd6655cb85871b27347fa228dc03bfb7e309f8', 'message': 'Add a new Event Handler for Octavia\n\nThis patch adds a new event handler for Octavia so that in\nthe event that a network is added to a router, the loadbalancer\non the network are also applied to the router and vice versa.\n\nThe process involves:\n- Adding a new connection class for Octavia to communicate with\n  OVN NB DB, setting up the connection and communicating with\n  the IDL.\n- Setting up events for Router interface addition and deletion\n- Updating Loadbalancer tables and Router/Switch tables based\n  upon the generated events.\n- Add network UUID to LRP external_ids\n\nCo-Authored-By: Terry Wilson <twilson@redhat.com>\nCo-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>\n\nCloses-Bug: #1794260\nChange-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c\n'}]",501,608862,62fd6655cb85871b27347fa228dc03bfb7e309f8,362,15,84,17776,,,0,"Add a new Event Handler for Octavia

This patch adds a new event handler for Octavia so that in
the event that a network is added to a router, the loadbalancer
on the network are also applied to the router and vice versa.

The process involves:
- Adding a new connection class for Octavia to communicate with
  OVN NB DB, setting up the connection and communicating with
  the IDL.
- Setting up events for Router interface addition and deletion
- Updating Loadbalancer tables and Router/Switch tables based
  upon the generated events.
- Add network UUID to LRP external_ids

Co-Authored-By: Terry Wilson <twilson@redhat.com>
Co-Authored-By: Maciej Józefczyk <mjozefcz@redhat.com>

Closes-Bug: #1794260
Change-Id: Ie3e0904436536076b045a2d663f5afb5bfc9dc0c
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/62/608862/6 && git format-patch -1 --stdout FETCH_HEAD,['networking_ovn/octavia/ovn_driver.py'],1,6a7e837a56db288a58028a9d99dac712a4ca8ad0,bug/1834453,"from networking_ovn.ovsdb import ovsdb_monitorfrom ovsdbapp.backend.ovs_idl import connection from ovsdbapp.backend.ovs_idl import event as row_event from ovsdbapp.backend.ovs_idl import idlutilsNEUTRON_NET_NAME = ""neutron:network_name"" class LogicalSwitchPortEvent(row_event.RowEvent): def __init__(self, driver): self.driver = driver table = 'Logical_Switch_Port' events = (self.ROW_CREATE, self.ROW_DELETE, self.ROW_UPDATE) super(LogicalSwitchPortEvent, self).__init__( events, table) self.event_name = 'LogicalSwitchPortEvent' def run(self, event, row, old): router = network = None if 'router' in row.addresses: for lr in self.driver.ovn_nbdb_api.tables[ 'Logical_Router'].rows.values(): for lrp in lr.ports: if lrp.name == row.options.get('router-port'): router = lr for net in self.driver.ovn_nbdb_api.tables[ 'Logical_Switch'].rows.values(): if net.name == row.external_ids.get(NEUTRON_NET_NAME): network = net if router and network: if event != self.ROW_DELETE: loadbalancer = router.load_balancer + network.load_balancer router.load_balancer = network.load_balancer = loadbalancer else: pass class OvnNbIdlForLb(ovsdb_monitor.OvnIdl): SCHEMA = ""OVN_NorthBound"" def __init__(self, events=None): connection_string = ovn_cfg.get_ovn_nb_connection() helper = self._get_ovsdb_helper(connection_string) tables = ('Logical_Router_Port', 'Logical_Switch_Port', 'Load_Balancer', 'NB_Global') for table in tables: helper.register_table(table) super(OvnNbIdlForLb, self).__init__( driver=None, remote=connection_string, schema=helper) if events: self.notify_handler.watch_events(events) def _get_ovsdb_helper(self, connection_string): return idlutils.get_schema_helper(connection_string, self.SCHEMA) def start(self): ovsdb_monitor._check_and_set_ssl_files(self.SCHEMA) conn = connection.Connection( self, timeout=ovn_cfg.get_ovn_ovsdb_timeout()) return idl_ovn.OvsdbNbOvnIdl(conn) # Start the Event Capture for Logical Router Port Create OvnNbIdlForLb([LogicalSwitchPortEvent(self)])",,64,0
openstack%2Fnetworking-ovn~master~I60fab3fa2c93457f9866db806617b17ae785e598,openstack/networking-ovn,master,I60fab3fa2c93457f9866db806617b17ae785e598,Add Octavia OVN Driver's UT and enable cover job,ABANDONED,2018-09-12 08:21:36.000000000,2019-07-01 09:58:52.000000000,,"[{'_account_id': 1131}, {'_account_id': 5756}, {'_account_id': 6469}, {'_account_id': 6773}, {'_account_id': 8655}, {'_account_id': 8788}, {'_account_id': 10237}, {'_account_id': 15471}, {'_account_id': 17776}, {'_account_id': 22348}, {'_account_id': 23804}, {'_account_id': 23858}]","[{'number': 1, 'created': '2018-09-12 08:21:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/edf89af1c03903640317ef4a733a3b48a8a3e566', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 2, 'created': '2018-09-12 10:17:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/227915f040918ec70291b0038f03281950d4ac55', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 3, 'created': '2018-09-13 06:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5ac0b3a92da72de47f25591554b0806b17e42343', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 4, 'created': '2018-09-13 10:44:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/72f3d57b68dcf7e4c81e1e6c48cdcfa99c082bcb', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 5, 'created': '2018-09-13 12:13:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b0b3d39fb2815004ea713bf999063f191afc817d', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 6, 'created': '2018-09-13 12:50:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6c19678de9cfe018a2b684040b22ec4e0d31fe59', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 7, 'created': '2018-09-13 13:05:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/cbbff1dd41b814f32c2d63c1d9b73964a94023c8', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 8, 'created': '2018-09-14 11:36:46.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6f6c8c501cb97cf5ddf266084067fd0e8c925c4e', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Functional Testing in tox cover\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 9, 'created': '2018-09-17 09:13:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/adc32367df188e3f01a46699a338802e6d802d26', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 10, 'created': '2018-09-17 10:24:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/09371173e8ee325737b5ded157e21508f2b26789', 'message': 'DNR Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 11, 'created': '2018-10-22 16:10:07.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/26751b66a69cf3079ba5cade2732aed8457bcce4', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 12, 'created': '2018-10-23 06:02:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/df6913e5d70af57b98ec5af455e7d0519a11b9b4', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 13, 'created': '2018-10-23 11:55:47.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/58c642c62b3dffccbc52949709dfa130ebf429ac', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 14, 'created': '2018-10-23 12:15:24.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ba12d600950ae243e94c430c91ebc598ba46eacf', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 15, 'created': '2018-10-24 06:24:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/2a7b130851d63ff6bd2d72ae3c59c229c22b2533', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 16, 'created': '2018-10-25 04:59:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab9ece317e0795a4eb7c57dc4439188e8de94fd8', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 17, 'created': '2018-10-25 08:58:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ab7adb15331c4a111dd8e8e33087efd7b658c6d7', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 18, 'created': '2018-11-14 05:53:14.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/5b495498fcc7d23264a49dd6b504e250f2dfed03', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 19, 'created': '2018-11-14 10:17:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7f4c543df11aebb0a96865458665a92e4bf6e40b', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 20, 'created': '2018-11-15 10:57:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/406f3b28fb2f6c96ae8e8659c0531989b24470be', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 21, 'created': '2018-11-27 09:30:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9ca1b2f6e69a3addf1a58f8bb2ccc1fe5f83ba57', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 22, 'created': '2018-12-19 13:37:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/fd86f69ba8e5aca273751fa00c43bae4f79dd7aa', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 23, 'created': '2019-01-08 13:09:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8a7c95c367089ed1889a994e8a8124f455778920', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 24, 'created': '2019-01-23 07:41:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b5b4193cc1b242cd4ed3e5213de50297a9cc18b6', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 25, 'created': '2019-01-29 09:18:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9ab4f30dd1fe28e7abfbd5e603fc94a4074ab746', 'message': 'DNM/DNR/WIP/XYZ\nImprove Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 26, 'created': '2019-02-04 08:50:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/1d13a7f41a15afbc661b0abd117d86b5b874b412', 'message': 'DNM/DNR/WIP/XYZ\nImprove Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 27, 'created': '2019-02-04 12:45:56.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/67fe83ff7efe25717246ef0b9572a4d7477258af', 'message': 'DNM/DNR/WIP/XYZ\nImprove Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 28, 'created': '2019-02-05 11:08:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c870eda0166da2de2a628a34dd0df4a973e04963', 'message': 'DNM/DNR/WIP\nImprove Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 29, 'created': '2019-02-05 17:39:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e26b3ba55a40661cd85cb0823a9fec07e8aa9466', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver and migrates\nfrom octavia to octavia-lib\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 30, 'created': '2019-02-06 08:30:42.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/3c344d149d87b77692fad7fdf9325ceddfc1378c', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver and migrates\nfrom octavia to octavia-lib\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 31, 'created': '2019-02-06 10:25:23.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/83a73d9df927d569d56df7effc7a6f02838823ca', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver and migrates\nfrom octavia to octavia-lib\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 32, 'created': '2019-02-13 08:02:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/48f2bb7f2bb08a75ea40f89a6d68ba8f64d43099', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver and migrates\nfrom octavia to octavia-lib\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 33, 'created': '2019-02-13 08:03:32.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/35035e557b982f381aa4f236db53ddd1044fa748', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing in for Octavia OVN Driver and migrates\nfrom octavia to octavia-lib\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 34, 'created': '2019-03-16 08:56:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/76896b852df33c35bea0aaeaee513c44b0fe7966', 'message': 'Improve Networking OVN Test coverage\n\nThis patch adds Unit Testing for Octavia OVN Driver.\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 35, 'created': '2019-03-18 10:32:21.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/0d56bb150daf5d51f0e9675a59aba8fd075440e9', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 36, 'created': '2019-03-18 13:12:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c818a849c7e20e7ddf9043b301f270baaf76d794', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 37, 'created': '2019-03-20 12:25:58.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/275ba84aeac234697c520b95da8002fd9cfe0b18', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 38, 'created': '2019-03-22 05:46:00.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/6b6046a47946576d5373832506c97a29c6baf265', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 39, 'created': '2019-03-26 09:10:17.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/b4e4622a856328b9ea289dd0da39303fcc4ffea7', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 40, 'created': '2019-03-28 14:23:36.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c8a0483e83fd7e9aa0fe3f8ef8a7d9bfcf15821c', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 41, 'created': '2019-04-01 10:30:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/7a6aa5ab2295abc901b49bc22a8fc1d83e9acca7', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 42, 'created': '2019-04-01 10:30:53.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/189db31a12343fd84f3859a395068de8419e1206', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 43, 'created': '2019-04-02 06:27:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4efa1767307ea197b9eb6b2adc94c112663ccf41', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 44, 'created': '2019-04-02 06:28:08.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4ce67cba2f7461f7cff4e8a7dfd03c8bdf4409ab', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 45, 'created': '2019-04-02 09:18:25.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/4a4813034bee737de182486c557fb8241fdcd72c', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 46, 'created': '2019-04-02 09:18:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/e7fdf2d8edb4ade38528007d598ecd42735d1dd3', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 47, 'created': '2019-04-02 09:21:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/46bc6951bba9166ec08247bc5eedf2d415a4643e', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 48, 'created': '2019-04-02 09:21:38.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/c9c3e29d621fcdd2b6160cc3a75be6f9b1f7a32c', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 49, 'created': '2019-04-02 17:21:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d1edb0a0a089779664cc07ff4a73b959041da306', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 50, 'created': '2019-04-03 05:55:43.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/75b511d1c8db04ec73f4976ef9efa397873dc99a', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 51, 'created': '2019-04-05 07:59:55.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/024e94728e4df759403e4b27bcbc178cd44dbc3d', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 52, 'created': '2019-04-16 00:49:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/d41fe167bb785b65e2b4cea5b4a1e1ffec5ef6e3', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 53, 'created': '2019-04-19 04:36:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8b36c51bf4ae9cb3ba2ab5caf5b8f8a6826ca5a9', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 54, 'created': '2019-04-19 06:02:09.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/8ab308699cb46f51606c989366c15f324f0244e6', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 55, 'created': '2019-04-26 12:42:37.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/861326faef1f314aea19e68adb5c4287b2dd3999', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 56, 'created': '2019-05-11 00:22:26.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/f68e6f7093a3314affa4d29a03e8733caef1aa08', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 57, 'created': '2019-05-15 07:04:33.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/9437080edcbeb0b90c6480fc1fd04ea14417d055', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 58, 'created': '2019-05-29 11:52:20.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/620a8385818eb0eff53609ec31ea8f271c550894', 'message': 'Add Unit testing for Octavia OVN Driver\n\nThis patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n'}, {'number': 59, 'created': '2019-06-14 09:51:04.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/08c70d6ed9e79230383a628c97a7cd6a21741d1e', 'message': ""Add Octavia OVN Driver's UT and enable cover job\n\na)This patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nb) This patch also enables the tox-cover job for networking-ovn\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n""}, {'number': 60, 'created': '2019-06-24 06:50:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/ccc754e32c41f182a3b6e3cc8f2e5292cf97873c', 'message': ""Add Octavia OVN Driver's UT and enable cover job\n\na)This patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nb) This patch also enables the tox-cover job for networking-ovn\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n""}, {'number': 61, 'created': '2019-06-28 10:30:13.000000000', 'files': ['networking_ovn/tests/unit/octavia/__init__.py', 'networking_ovn/tests/unit/octavia/test_ovn_driver.py'], 'web_link': 'https://opendev.org/openstack/networking-ovn/commit/a48210c1c876c1b84e14fab92e4d78c6c5986e1c', 'message': ""Add Octavia OVN Driver's UT and enable cover job\n\na)This patch adds basic Unit Testing for Octavia OVN Driver which\nimproves the test coverage for Networking-OVN\n\nb) This patch also enables the tox-cover job for networking-ovn\n\nCloses-Bug: #1789885\n\nChange-Id: I60fab3fa2c93457f9866db806617b17ae785e598\n""}]",92,601948,a48210c1c876c1b84e14fab92e4d78c6c5986e1c,178,12,61,17776,,,0,"Add Octavia OVN Driver's UT and enable cover job

a)This patch adds basic Unit Testing for Octavia OVN Driver which
improves the test coverage for Networking-OVN

b) This patch also enables the tox-cover job for networking-ovn

Closes-Bug: #1789885

Change-Id: I60fab3fa2c93457f9866db806617b17ae785e598
",git fetch https://review.opendev.org/openstack/networking-ovn refs/changes/48/601948/21 && git format-patch -1 --stdout FETCH_HEAD,"['networking_ovn/tests/functional/requirements.txt', 'test-requirements.txt', 'tox.ini']",3,edf89af1c03903640317ef4a733a3b48a8a3e566,bug/1794260, OS_TEST_PATH=./networking_ovn/tests/functional OS_TEST_TIMEOUT=120,,3,1
openstack%2Fsushy-tools~master~Ib14fa37ffab1043a73220e1a31a49954fc968e5a,openstack/sushy-tools,master,Ib14fa37ffab1043a73220e1a31a49954fc968e5a,add local bindep.txt,MERGED,2019-06-29 17:29:16.000000000,2019-07-01 09:57:25.000000000,2019-07-01 09:57:25.000000000,"[{'_account_id': 11904}, {'_account_id': 22348}, {'_account_id': 24828}, {'_account_id': 26340}]","[{'number': 1, 'created': '2019-06-29 17:29:16.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/8b1f16ee648b91213c016cbe6f90367f17691611', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ib14fa37ffab1043a73220e1a31a49954fc968e5a\n'}, {'number': 2, 'created': '2019-06-29 17:40:16.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/sushy-tools/commit/e034afced2a59f6ae48fb6fde69e510683415e75', 'message': 'add local bindep.txt\n\nGlobal bindep-fallback.txt was removed [1] and now projects need\nto have a local bindep.txt to be able to install binary\ndependencies for testing.\n\n[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html\n\nChange-Id: Ib14fa37ffab1043a73220e1a31a49954fc968e5a\n'}]",0,668301,e034afced2a59f6ae48fb6fde69e510683415e75,9,4,2,23851,,,0,"add local bindep.txt

Global bindep-fallback.txt was removed [1] and now projects need
to have a local bindep.txt to be able to install binary
dependencies for testing.

[1] http://lists.openstack.org/pipermail/openstack-discuss/2019-June/007272.html

Change-Id: Ib14fa37ffab1043a73220e1a31a49954fc968e5a
",git fetch https://review.opendev.org/openstack/sushy-tools refs/changes/01/668301/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,8b1f16ee648b91213c016cbe6f90367f17691611,bindep-fallback,libvirt-dev [platform:dpkg] ,,1,0
openstack%2Fnetworking-odl~master~I698caa93a188f7be206c18d79152dd81eb4029d3,openstack/networking-odl,master,I698caa93a188f7be206c18d79152dd81eb4029d3,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas",MERGED,2019-05-10 12:59:28.000000000,2019-07-01 09:42:22.000000000,2019-07-01 09:42:22.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 8313}, {'_account_id': 11975}, {'_account_id': 17120}, {'_account_id': 17685}, {'_account_id': 22348}, {'_account_id': 25550}, {'_account_id': 27781}]","[{'number': 1, 'created': '2019-05-10 12:59:28.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/75375c844b53d6a2553caf34b54edb060bc43986', 'message': 'Blacklist bandit 1.6.0 due to directory exclusion bug\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\nBased on commit: Id944054deedd545c34fc28ccf043dd72e5f31220\n\nChange-Id: I698caa93a188f7be206c18d79152dd81eb4029d3\n'}, {'number': 2, 'created': '2019-05-10 17:22:30.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/fb042884671a849dba8b2a0bed2b45d32b71ddc9', 'message': 'Blacklist bandit 1.6.0 due to directory exclusion bug\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon.\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\nBased on commit: Id944054deedd545c34fc28ccf043dd72e5f31220\n\nChange-Id: I698caa93a188f7be206c18d79152dd81eb4029d3\n'}, {'number': 3, 'created': '2019-06-14 07:23:00.000000000', 'files': ['networking_odl/tests/unit/journal/test_full_sync.py', 'test-requirements.txt', 'lower-constraints.txt', 'networking_odl/lbaas/lbaasv2_driver_v2.py', '.zuul.d/jobs.yaml', 'devstack/README.rst', 'doc/source/contributor/drivers_architecture.rst', 'requirements.txt', 'networking_odl/tests/unit/lbaas/test_lbaasv2_odl_v2.py', '.zuul.d/project.yaml', 'networking_odl/tests/unit/common/test_utils.py', 'networking_odl/tests/unit/lbaas/__init__.py', 'networking_odl/lbaas/__init__.py', 'doc/requirements.txt', 'releasenotes/notes/remove-neutron-lbaas-6afe0b0f7b61290a.yaml', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/networking-odl/commit/2db2cab66c27019ab8e11cad951a172d40eecd1b', 'message': 'Blacklist bandit, bump neutron-lib and retire neutron-lbaas\n\nBandit 1.6.0 introduces a regression[0] with the -x option,\na fix is expected to be included in 1.6.1 soon. (Original commit is\nbased on Id944054deedd545c34fc28ccf043dd72e5f31220)\n\nneutron-lbaas is retired [2], so networking-odl dependencies must be\nremoved.\nTrunk constants were moved to neutron-lib from neutron with [3] from\n1.25.0, and were removed from neutron with [4], thus lower-constraints\nmust point to at least 1.25.0.\nTo pass the gate fix sphinx requirements for python>3.4\n(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)\n\n[0] https://github.com/PyCQA/bandit/issues/488\n[1] https://github.com/PyCQA/bandit/pull/489\n[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html\n[3] https://review.opendev.org/636989\n[4] https://review.opendev.org/649672\n\nChange-Id: I698caa93a188f7be206c18d79152dd81eb4029d3\n'}]",10,658352,2db2cab66c27019ab8e11cad951a172d40eecd1b,46,9,3,8313,,,0,"Blacklist bandit, bump neutron-lib and retire neutron-lbaas

Bandit 1.6.0 introduces a regression[0] with the -x option,
a fix is expected to be included in 1.6.1 soon. (Original commit is
based on Id944054deedd545c34fc28ccf043dd72e5f31220)

neutron-lbaas is retired [2], so networking-odl dependencies must be
removed.
Trunk constants were moved to neutron-lib from neutron with [3] from
1.25.0, and were removed from neutron with [4], thus lower-constraints
must point to at least 1.25.0.
To pass the gate fix sphinx requirements for python>3.4
(Original Change-Id: I6e709385fefe12123ecab150237956297cc7e09f)

[0] https://github.com/PyCQA/bandit/issues/488
[1] https://github.com/PyCQA/bandit/pull/489
[2] http://lists.openstack.org/pipermail/openstack-discuss/2019-May/006158.html
[3] https://review.opendev.org/636989
[4] https://review.opendev.org/649672

Change-Id: I698caa93a188f7be206c18d79152dd81eb4029d3
",git fetch https://review.opendev.org/openstack/networking-odl refs/changes/52/658352/1 && git format-patch -1 --stdout FETCH_HEAD,['test-requirements.txt'],1,75375c844b53d6a2553caf34b54edb060bc43986,bandit-blacklist,"bandit!=1.6.0,>=1.1.0 # Apache-2.0",bandit>=1.4.0 # Apache-2.0,1,1
openstack%2Ftripleo-validations~master~If7a946b199477cd866d9fef6b53096a0aed635b5,openstack/tripleo-validations,master,If7a946b199477cd866d9fef6b53096a0aed635b5,Remove useless roles meta directory,MERGED,2019-06-25 15:16:25.000000000,2019-07-01 09:28:03.000000000,2019-06-27 19:21:28.000000000,"[{'_account_id': 14985}, {'_account_id': 17888}, {'_account_id': 22348}, {'_account_id': 28223}]","[{'number': 1, 'created': '2019-06-25 15:16:25.000000000', 'files': ['roles/rabbitmq-limits/meta/main.yml', 'roles/undercloud-heat-purge-deleted/meta/main.yml', 'roles/controller-token/meta/main.yml', 'roles/pacemaker-status/meta/main.yml', 'roles/no-op-firewall-nova-driver/meta/main.yml', 'roles/haproxy/meta/main.yml', 'roles/dhcp-validations/meta/main.yml', 'roles/undercloud-ram/meta/main.yml', 'roles/openstack-endpoints/meta/main.yml', 'roles/switch-vlans/meta/main.yml', 'roles/undercloud-process-count/meta/main.yml', 'roles/neutron-sanity-check/meta/main.yml', 'roles/check-network-gateway/meta/main.yml', 'roles/undercloud-debug/meta/main.yml', 'roles/ceilometerdb-size/meta/main.yml', 'roles/advanced-format-512e-support/meta/main.yml', 'roles/ctlplane-ip-range/meta/main.yml', 'roles/ovs-dpdk-pmd/meta/main.yml', 'roles/stonith-exists/meta/main.yml', 'roles/no-op/meta/main.yml', 'roles/dns/meta/main.yml', 'roles/image-serve/meta/main.yaml', 'roles/stack-health/meta/main.yml', 'roles/containerized-undercloud-docker/meta/main.yml', 'roles/undercloud-cpu/meta/main.yml', 'roles/controller-ulimits/meta/main.yml', 'roles/mysql-open-files-limit/meta/main.yml', 'roles/repos/meta/main.yml', 'roles/undercloud-selinux-mode/meta/main.yml', 'roles/openshift-on-openstack/meta/main.yml', 'roles/ceph/meta/main.yml', 'roles/check-latest-minor-version/meta/main.yml', 'roles/nova-event-callback/meta/main.yml', 'roles/undercloud-tokenflush/meta/main.yml', 'roles/deployment-images/meta/main.yml', 'roles/network-environment/meta/main.yml', 'roles/ironic-boot-configuration/meta/main.yml', 'roles/undercloud-service-status/meta/main.yml', 'roles/default-node-count/meta/main.yml', 'roles/node-health/meta/main.yml', 'roles/nova-status/meta/main.yml', 'roles/ntpstat/meta/main.yml', 'roles/node-disks/meta/main.yml', 'roles/collect-flavors-and-verify-profiles/meta/main.yml', 'roles/xfs-check-ftype/meta/main.yml', 'roles/undercloud-disk-space/meta/main.yml'], 'web_link': 'https://opendev.org/openstack/tripleo-validations/commit/0f66b7dd8c19361c1b5281ce0201685eb612a7a2', 'message': 'Remove useless roles meta directory\n\nChange-Id: If7a946b199477cd866d9fef6b53096a0aed635b5\nSigned-off-by: Gael Chamoulaud <gchamoul@redhat.com>\n'}]",0,667384,0f66b7dd8c19361c1b5281ce0201685eb612a7a2,9,4,1,11491,,,0,"Remove useless roles meta directory

Change-Id: If7a946b199477cd866d9fef6b53096a0aed635b5
Signed-off-by: Gael Chamoulaud <gchamoul@redhat.com>
",git fetch https://review.opendev.org/openstack/tripleo-validations refs/changes/84/667384/1 && git format-patch -1 --stdout FETCH_HEAD,"['roles/rabbitmq-limits/meta/main.yml', 'roles/undercloud-heat-purge-deleted/meta/main.yml', 'roles/controller-token/meta/main.yml', 'roles/pacemaker-status/meta/main.yml', 'roles/no-op-firewall-nova-driver/meta/main.yml', 'roles/haproxy/meta/main.yml', 'roles/dhcp-validations/meta/main.yml', 'roles/undercloud-ram/meta/main.yml', 'roles/openstack-endpoints/meta/main.yml', 'roles/switch-vlans/meta/main.yml', 'roles/undercloud-process-count/meta/main.yml', 'roles/neutron-sanity-check/meta/main.yml', 'roles/check-network-gateway/meta/main.yml', 'roles/undercloud-debug/meta/main.yml', 'roles/ceilometerdb-size/meta/main.yml', 'roles/advanced-format-512e-support/meta/main.yml', 'roles/ctlplane-ip-range/meta/main.yml', 'roles/ovs-dpdk-pmd/meta/main.yml', 'roles/stonith-exists/meta/main.yml', 'roles/no-op/meta/main.yml', 'roles/dns/meta/main.yml', 'roles/image-serve/meta/main.yaml', 'roles/stack-health/meta/main.yml', 'roles/containerized-undercloud-docker/meta/main.yml', 'roles/undercloud-cpu/meta/main.yml', 'roles/controller-ulimits/meta/main.yml', 'roles/mysql-open-files-limit/meta/main.yml', 'roles/repos/meta/main.yml', 'roles/undercloud-selinux-mode/meta/main.yml', 'roles/openshift-on-openstack/meta/main.yml', 'roles/ceph/meta/main.yml', 'roles/check-latest-minor-version/meta/main.yml', 'roles/nova-event-callback/meta/main.yml', 'roles/undercloud-tokenflush/meta/main.yml', 'roles/deployment-images/meta/main.yml', 'roles/network-environment/meta/main.yml', 'roles/ironic-boot-configuration/meta/main.yml', 'roles/undercloud-service-status/meta/main.yml', 'roles/default-node-count/meta/main.yml', 'roles/node-health/meta/main.yml', 'roles/nova-status/meta/main.yml', 'roles/ntpstat/meta/main.yml', 'roles/node-disks/meta/main.yml', 'roles/collect-flavors-and-verify-profiles/meta/main.yml', 'roles/xfs-check-ftype/meta/main.yml', 'roles/undercloud-disk-space/meta/main.yml']",46,0f66b7dd8c19361c1b5281ce0201685eb612a7a2,remove_role_meta_dir,,"galaxy_info: author: TripleO Validations Team company: Red Hat license: Apache min_ansible_version: 2.4 platforms: - name: CentOS versions: - 7 - name: RHEL versions: - 7 categories: - cloud - baremetal - system galaxy_tags: [] # List tags for your role here, one per line. A tag is a keyword that describes # and categorizes the role. Users find roles by searching for tags. Be sure to # remove the '[]' above, if you add tags to this list. # # NOTE: A tag is limited to a single word comprised of alphanumeric characters. # Maximum 20 tags per role. dependencies: [] ",0,1259
openstack%2Fkolla-ansible~stable%2Frocky~I6db9f8276a8c00034bc71857b0521067848ac3cd,openstack/kolla-ansible,stable/rocky,I6db9f8276a8c00034bc71857b0521067848ac3cd,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 12:06:22.000000000,2019-07-01 09:17:36.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30322}]","[{'number': 1, 'created': '2019-06-28 12:06:22.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/225681e66409e431727558026718af0963b7c797', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active rocky files, rather\nthan a cherry pick of 656767.\n\nChange-Id: I6db9f8276a8c00034bc71857b0521067848ac3cd\n""}, {'number': 2, 'created': '2019-06-28 14:25:19.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7a663edacd4d479c052deca47c4ce9647714928e', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active rocky files, rather\nthan a cherry pick of 656767.\n\nChange-Id: I6db9f8276a8c00034bc71857b0521067848ac3cd\n""}, {'number': 3, 'created': '2019-06-28 15:18:49.000000000', 'files': ['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/nova/handlers/main.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/a1c3311712fc7866fc12e8ab41bb78faf2e08e01', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active rocky files, rather\nthan a cherry pick of 656767.\n\nFor rocky, the change of version_compare to version has been skipped.\n\nChange-Id: I6db9f8276a8c00034bc71857b0521067848ac3cd\n""}]",5,668158,a1c3311712fc7866fc12e8ab41bb78faf2e08e01,13,3,3,30322,,,0,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.
This fixes the deprecation warnings.

This is a specific run of the script against active rocky files, rather
than a cherry pick of 656767.

For rocky, the change of version_compare to version has been skipped.

Change-Id: I6db9f8276a8c00034bc71857b0521067848ac3cd
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/58/668158/2 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/baremetal/defaults/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/keystone/tasks/precheck.yml', 'ansible/roles/nova/handlers/main.yml']",15,225681e66409e431727558026718af0963b7c797,, or placement_api_wsgi_conf is changed, or placement_api_wsgi_conf | changed,115,117
openstack%2Fkolla-ansible~stable%2Fqueens~Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf,openstack/kolla-ansible,stable/queens,Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf,Updating Jinja filters to conform to Ansible 2.5+,ABANDONED,2019-06-28 12:20:12.000000000,2019-07-01 09:17:30.000000000,,"[{'_account_id': 14826}, {'_account_id': 22348}, {'_account_id': 30322}]","[{'number': 1, 'created': '2019-06-28 12:20:12.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/7e7a8d547a1d4063f77960162aafca23099de5ba', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active queens files, rather\nthan a cherry pick of 656767.\n\nChange-Id: Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf\n""}, {'number': 2, 'created': '2019-06-28 15:23:39.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/16369209a292200333491b6cdad55bfeb843e39f', 'message': ""Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI've run the script provided by the ansible team to 'fix' the jinja filters\nto conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active queens files, rather\nthan a cherry pick of 656767.\n\nFor queens, the change of version_compare to version has been skipped.\n\nChange-Id: Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf\n""}, {'number': 3, 'created': '2019-07-01 07:42:48.000000000', 'files': ['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/murano/tasks/start.yml', 'ansible/roles/nova/tasks/create_cells.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/keystone/tasks/precheck.yml'], 'web_link': 'https://opendev.org/openstack/kolla-ansible/commit/2228c1bb7f2d03cb5b2731e9e721067cd3a47dff', 'message': 'Updating Jinja filters to conform to Ansible 2.5+\n\nSince Ansible 2.5, the use of jinja tests as filters has been deprecated.\nI\'ve run the script provided by the ansible team to \'fix\' the jinja filters\nto conform to the newer syntax.\n\nThis fixes the deprecation warnings.\n\nThis is a specific run of the script against active queens files, rather\nthan a cherry pick of 656767.\n\nFor queens, the change of version_compare to version has been skipped,\nalso the condition ""success"" has been kept as such, not changed to\n""successful"".\n\nChange-Id: Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf\n'}]",2,668160,2228c1bb7f2d03cb5b2731e9e721067cd3a47dff,13,3,3,30322,,,0,"Updating Jinja filters to conform to Ansible 2.5+

Since Ansible 2.5, the use of jinja tests as filters has been deprecated.
I've run the script provided by the ansible team to 'fix' the jinja filters
to conform to the newer syntax.

This fixes the deprecation warnings.

This is a specific run of the script against active queens files, rather
than a cherry pick of 656767.

For queens, the change of version_compare to version has been skipped,
also the condition ""success"" has been kept as such, not changed to
""successful"".

Change-Id: Ib6f566f5bcf2038724c2c910ae73ba2ba183abdf
",git fetch https://review.opendev.org/openstack/kolla-ansible refs/changes/60/668160/3 && git format-patch -1 --stdout FETCH_HEAD,"['ansible/roles/nova/tasks/discover_computes.yml', 'ansible/roles/rabbitmq/tasks/bootstrap.yml', 'ansible/roles/prechecks/tasks/user_checks.yml', 'ansible/roles/mariadb/tasks/check.yml', 'ansible/roles/vitrage/tasks/register.yml', 'ansible/roles/blazar/tasks/bootstrap.yml', 'ansible/roles/mariadb/tasks/lookup_cluster.yml', 'ansible/roles/neutron/handlers/main.yml', 'ansible/roles/cinder/tasks/precheck.yml', 'ansible/roles/horizon/handlers/main.yml', 'ansible/roles/nova/handlers/main.yml', 'ansible/roles/murano/tasks/start.yml', 'ansible/roles/nova/tasks/create_cells.yml', 'ansible/roles/prechecks/tasks/package_checks.yml', 'ansible/roles/mariadb/tasks/recover_cluster.yml', 'ansible/roles/opendaylight/handlers/main.yml', 'ansible/roles/haproxy/tasks/precheck.yml', 'ansible/roles/ovs-dpdk/handlers/main.yml', 'ansible/roles/mariadb/handlers/main.yml', 'ansible/roles/openvswitch/handlers/main.yml', 'ansible/roles/keystone/tasks/init_fernet.yml', 'ansible/roles/keystone/tasks/register.yml', 'ansible/roles/prechecks/tasks/service_checks.yml', 'ansible/roles/nova/tasks/register.yml', 'ansible/roles/keystone/tasks/precheck.yml']",25,7e7a8d547a1d4063f77960162aafca23099de5ba,," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') is search("".+"")"," failed_when: result.stdout | regex_replace('(60|120|180|240|300|360|600|720|900|1200|1800|3600|7200|10800|14400|21600|28800|43200|86400|604800)', '') | search("".+"")",123,124
openstack%2Fmonasca-persister~master~I7049504937ebeec5caf14393c4bcd0e06acd0e89,openstack/monasca-persister,master,I7049504937ebeec5caf14393c4bcd0e06acd0e89,Adds release note warning of InfluxDB recommended version change,MERGED,2019-06-06 10:50:06.000000000,2019-07-01 09:13:32.000000000,2019-07-01 09:13:32.000000000,"[{'_account_id': 16222}, {'_account_id': 17669}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-06 10:50:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/584a35fef85328ef9844c6f0d280f46a701926a1', 'message': 'Adds release note warning of InfluxDB recommended version change\n\nDefault/recommended version changed in monasca-api DevStack plugin.\n\nChange-Id: I7049504937ebeec5caf14393c4bcd0e06acd0e89\n'}, {'number': 2, 'created': '2019-06-07 13:32:06.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/28062a145f671aabadfaf7e897fed28c888e0b5e', 'message': 'Adds release note warning of InfluxDB recommended version change\n\nDefault/recommended version changed in monasca-api DevStack plugin.\n\nChange-Id: I7049504937ebeec5caf14393c4bcd0e06acd0e89\n'}, {'number': 3, 'created': '2019-06-29 20:07:27.000000000', 'files': ['releasenotes/notes/upgrade-influxdb-dbb6a18da6e55805.yaml'], 'web_link': 'https://opendev.org/openstack/monasca-persister/commit/96b916bed1112a77de63de136b662910566ca999', 'message': 'Adds release note warning of InfluxDB recommended version change\n\nDefault/recommended version changed in monasca-api DevStack plugin.\n\nChange-Id: I7049504937ebeec5caf14393c4bcd0e06acd0e89\n'}]",1,663597,96b916bed1112a77de63de136b662910566ca999,16,3,3,30438,,,0,"Adds release note warning of InfluxDB recommended version change

Default/recommended version changed in monasca-api DevStack plugin.

Change-Id: I7049504937ebeec5caf14393c4bcd0e06acd0e89
",git fetch https://review.opendev.org/openstack/monasca-persister refs/changes/97/663597/2 && git format-patch -1 --stdout FETCH_HEAD,['releasenotes/notes/upgrade-influxdb-dbb6a18da6e55805.yaml'],1,584a35fef85328ef9844c6f0d280f46a701926a1,influxdb-1.7.6-version-change,"--- upgrade: - | InfluxDB 1.7.6 is now the recommended version. monasca-api DevStack plugin now installs InfluxDB 1.7.6 by default. Other deployment tools, such as Monasca Docker and Kolla-Ansible should be upgraded accordingly. security: - | InfluxDB 1.7.6 fixes a security issue in which monasca-api leaks dimensions across projects. ",,12,0
openstack%2Ftripleo-heat-templates~stable%2Fstein~Iac95e4eff314db7aa3c17c10315359bb5abadb80,openstack/tripleo-heat-templates,stable/stein,Iac95e4eff314db7aa3c17c10315359bb5abadb80,Fix Ceph RGW listener port configuration,MERGED,2019-06-26 09:31:54.000000000,2019-07-01 09:13:24.000000000,2019-07-01 09:13:24.000000000,"[{'_account_id': 6796}, {'_account_id': 8449}, {'_account_id': 18002}, {'_account_id': 22348}, {'_account_id': 23181}, {'_account_id': 25402}]","[{'number': 1, 'created': '2019-06-26 09:31:54.000000000', 'files': ['deployment/ceph-ansible/ceph-rgw.yaml'], 'web_link': 'https://opendev.org/openstack/tripleo-heat-templates/commit/80c40e03d66ae5d2128d1d85139f3e757a4cf380', 'message': 'Fix Ceph RGW listener port configuration\n\nFrom the Ceph Nautilus release beast is the preferred listener for\nRGW.\n\nCloses-Bug: 1833426\nChange-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80\n(cherry picked from commit 3791bf36c4ed85d4881f48c8f2c62745a880c030)\n'}]",0,667565,80c40e03d66ae5d2128d1d85139f3e757a4cf380,15,6,1,6796,,,0,"Fix Ceph RGW listener port configuration

From the Ceph Nautilus release beast is the preferred listener for
RGW.

Closes-Bug: 1833426
Change-Id: Iac95e4eff314db7aa3c17c10315359bb5abadb80
(cherry picked from commit 3791bf36c4ed85d4881f48c8f2c62745a880c030)
",git fetch https://review.opendev.org/openstack/tripleo-heat-templates refs/changes/65/667565/1 && git format-patch -1 --stdout FETCH_HEAD,['deployment/ceph-ansible/ceph-rgw.yaml'],1,80c40e03d66ae5d2128d1d85139f3e757a4cf380,bug/1833426-stable/stein," radosgw_frontend_port: {get_param: [EndpointMap, CephRgwInternal, port]}"," radosgw_civetweb_port: {get_param: [EndpointMap, CephRgwInternal, port]}",1,1
openstack%2Fneutron-lib~master~Ifa545242224bdc80a934b529e44b25b4492d4e0b,openstack/neutron-lib,master,Ifa545242224bdc80a934b529e44b25b4492d4e0b,Loopback address routing should be invalid,MERGED,2019-06-24 11:53:51.000000000,2019-07-01 08:49:31.000000000,2019-06-26 22:59:13.000000000,"[{'_account_id': 1131}, {'_account_id': 4694}, {'_account_id': 5367}, {'_account_id': 13438}, {'_account_id': 15554}, {'_account_id': 16688}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-24 11:53:51.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/5362e031b85e41985b02e4d93ea157cf87edccad', 'message': 'Loopback address routing should be invalid\n\nHost route validators should reject loopback CIDRs.\n\nChange-Id: Ifa545242224bdc80a934b529e44b25b4492d4e0b\nFixes-bug: 1834012\n'}, {'number': 2, 'created': '2019-06-24 11:56:01.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/7d4a3bb4deb11f8e92efc4b4916f38bf9dfcef08', 'message': 'Loopback address routing should be invalid\n\nHost route validators should reject loopback CIDRs.\n\nChange-Id: Ifa545242224bdc80a934b529e44b25b4492d4e0b\nCLoses-bug: 1834012\n'}, {'number': 3, 'created': '2019-06-25 09:04:21.000000000', 'files': ['neutron_lib/tests/unit/api/validators/test_validators.py', 'neutron_lib/api/validators/__init__.py', 'releasenotes/notes/validator_check_route_loopback-bc2166b10a754c77.yaml'], 'web_link': 'https://opendev.org/openstack/neutron-lib/commit/8417717411894c2a2b315e21495245a83c23dc87', 'message': 'Loopback address routing should be invalid\n\nHost route validators should reject loopback CIDRs.\n\nChange-Id: Ifa545242224bdc80a934b529e44b25b4492d4e0b\nCLoses-bug: 1834012\n'}]",2,667070,8417717411894c2a2b315e21495245a83c23dc87,21,7,3,13438,,,0,"Loopback address routing should be invalid

Host route validators should reject loopback CIDRs.

Change-Id: Ifa545242224bdc80a934b529e44b25b4492d4e0b
CLoses-bug: 1834012
",git fetch https://review.opendev.org/openstack/neutron-lib refs/changes/70/667070/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_lib/api/validators/__init__.py'],1,5362e031b85e41985b02e4d93ea157cf87edccad,bug/1834012," elif net.is_loopback(): msg = _(""'%(data)s' is not a routable CIDR"") % {""data"": data}",,2,0
openstack%2Fkuryr-kubernetes~master~I1909cf75595fd9da7dfb1481478756711e9bb06c,openstack/kuryr-kubernetes,master,I1909cf75595fd9da7dfb1481478756711e9bb06c,Replace git.openstack.org with opendev.org in URLs,MERGED,2019-06-26 15:57:30.000000000,2019-07-01 08:48:58.000000000,2019-07-01 08:48:58.000000000,"[{'_account_id': 6598}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}, {'_account_id': 24604}]","[{'number': 1, 'created': '2019-06-26 15:57:30.000000000', 'files': ['devstack/local.conf.odl.sample', 'devstack/local.conf.ovn.sample', 'devstack/local.conf.openshift.sample', 'README.rst', 'contrib/devstack-heat/hot/node.yaml', 'doc/source/installation/devstack/basic.rst', 'devstack/local.conf.pod-in-vm.overcloud.sample', 'devstack/local.conf.worker.sample', 'contrib/vagrant/README.md', 'devstack/local.conf.df.sample', 'doc/source/installation/devstack/odl_support.rst', 'devstack/local.conf.pod-in-vm.undercloud.odl.sample', 'contrib/devstack-heat/lib/devstack-heat', 'devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'doc/source/installation/manual.rst', 'devstack/local.conf.sample', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample', 'tox.ini'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6b58a1b58ee36db180254de0d48f8747596769ef', 'message': 'Replace git.openstack.org with opendev.org in URLs\n\nChange-Id: I1909cf75595fd9da7dfb1481478756711e9bb06c\n'}]",0,667662,6b58a1b58ee36db180254de0d48f8747596769ef,8,6,1,11600,,,0,"Replace git.openstack.org with opendev.org in URLs

Change-Id: I1909cf75595fd9da7dfb1481478756711e9bb06c
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/667662/1 && git format-patch -1 --stdout FETCH_HEAD,"['devstack/local.conf.odl.sample', 'devstack/local.conf.ovn.sample', 'devstack/local.conf.openshift.sample', 'README.rst', 'contrib/devstack-heat/hot/node.yaml', 'doc/source/installation/devstack/basic.rst', 'devstack/local.conf.pod-in-vm.overcloud.sample', 'devstack/local.conf.worker.sample', 'contrib/vagrant/README.md', 'devstack/local.conf.df.sample', 'doc/source/installation/devstack/odl_support.rst', 'devstack/local.conf.pod-in-vm.undercloud.odl.sample', 'contrib/devstack-heat/lib/devstack-heat', 'devstack/local.conf.pod-in-vm.undercloud.ovn.sample', 'doc/source/installation/manual.rst', 'devstack/local.conf.sample', 'doc/source/installation/devstack/ovn_support.rst', 'doc/source/installation/devstack/dragonflow_support.rst', 'devstack/local.conf.pod-in-vm.undercloud.df.sample', 'devstack/local.conf.pod-in-vm.undercloud.sample', 'tox.ini']",21,6b58a1b58ee36db180254de0d48f8747596769ef,opendev.org,deps = -c{env:UPPER_CONSTRAINTS_FILE:https://opendev.org/openstack/requirements/raw/branch/master/upper-constraints.txt},deps = -c{env:UPPER_CONSTRAINTS_FILE:https://git.openstack.org/cgit/openstack/requirements/plain/upper-constraints.txt},58,58
openstack%2Fkuryr-kubernetes~master~I2aaadab4ffec6e0ad744e82fc9145cd86e14a224,openstack/kuryr-kubernetes,master,I2aaadab4ffec6e0ad744e82fc9145cd86e14a224,Add `yum/dnf clean all` to dockerfiles,MERGED,2019-04-16 17:52:13.000000000,2019-07-01 08:44:12.000000000,2019-07-01 08:44:12.000000000,"[{'_account_id': 6598}, {'_account_id': 11600}, {'_account_id': 14352}, {'_account_id': 14885}, {'_account_id': 22348}, {'_account_id': 23567}]","[{'number': 1, 'created': '2019-04-16 17:52:13.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/b52f8c5cd7e7255b5d64caa9928e28f979a85d30', 'message': ""Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images. Also python-pip\ninstallation is moved to part which will get removed later. We don't\nreally need pip in the image once everything's installed.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n""}, {'number': 2, 'created': '2019-04-30 08:19:57.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/9fd14a67713bee3c08166e9ff2ba98ed68fa0fba', 'message': ""Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images. Also python-pip\ninstallation is moved to part which will get removed later. We don't\nreally need pip in the image once everything's installed.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n""}, {'number': 3, 'created': '2019-06-17 11:02:18.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/6c388f4256e1809e6025ab70c8a4a28d3c9d67e2', 'message': ""Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images. Also python-pip\ninstallation is moved to part which will get removed later. We don't\nreally need pip in the image once everything's installed.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n""}, {'number': 4, 'created': '2019-06-17 14:41:34.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/706af227801462ab15a1664c336ffd8475dbdbf6', 'message': ""Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images. Also python-pip\ninstallation is moved to part which will get removed later. We don't\nreally need pip in the image once everything's installed.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n""}, {'number': 5, 'created': '2019-06-18 08:07:11.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/dff9461f5972099fad42538556a10b34242c9a81', 'message': ""Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images. Also python-pip\ninstallation is moved to part which will get removed later. We don't\nreally need pip in the image once everything's installed.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n""}, {'number': 6, 'created': '2019-06-21 15:21:42.000000000', 'files': ['controller.Dockerfile', 'cni_py3.Dockerfile', 'controller_py3.Dockerfile', 'cni.Dockerfile'], 'web_link': 'https://opendev.org/openstack/kuryr-kubernetes/commit/e685d72800cb2a53a637200706eb876fda210976', 'message': 'Add `yum/dnf clean all` to dockerfiles\n\nIn a rather desperate try to shrink our container images this commit\nadds `yum/dnf clean all` as part of the building process. This helps to\nsave around 100 MB in case of centos-based images.\n\nChange-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224\n'}]",0,653062,e685d72800cb2a53a637200706eb876fda210976,44,6,6,11600,,,0,"Add `yum/dnf clean all` to dockerfiles

In a rather desperate try to shrink our container images this commit
adds `yum/dnf clean all` as part of the building process. This helps to
save around 100 MB in case of centos-based images.

Change-Id: I2aaadab4ffec6e0ad744e82fc9145cd86e14a224
",git fetch https://review.opendev.org/openstack/kuryr-kubernetes refs/changes/62/653062/6 && git format-patch -1 --stdout FETCH_HEAD,"['controller.Dockerfile', 'cni_py3.Dockerfile', 'controller_py3.Dockerfile', 'cni.Dockerfile']",4,b52f8c5cd7e7255b5d64caa9928e28f979a85d30,shrink-containers, && yum install -y --setopt=tsflags=nodocs iproute bridge-utils openvswitch sudo \ && yum install -y --setopt=tsflags=nodocs python-pip gcc python-devel git && yum clean all \, && yum install -y --setopt=tsflags=nodocs python-pip iproute bridge-utils openvswitch sudo \ && yum install -y --setopt=tsflags=nodocs gcc python-devel git,10,8
openstack%2Fironic~stable%2Focata~I42239e0ec960507b7345866d768b3ee06738799b,openstack/ironic,stable/ocata,I42239e0ec960507b7345866d768b3ee06738799b,Add bindep.txt,MERGED,2019-06-28 11:33:57.000000000,2019-07-01 08:37:25.000000000,2019-07-01 08:37:25.000000000,"[{'_account_id': 10118}, {'_account_id': 11655}, {'_account_id': 11904}, {'_account_id': 17685}, {'_account_id': 19339}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-28 11:33:57.000000000', 'files': ['bindep.txt'], 'web_link': 'https://opendev.org/openstack/ironic/commit/401e5653d98dc6e3e91bc4b7124f4f80a20ca51f', 'message': ""Add bindep.txt\n\nThis is a combination of 2 commits to solve the dependency issue, which\ncame up after the announced removal of global bindep-fallback.txt\n\n1. Add bindep.txt file\n\nThis is used by `bindep` [0] to assess if needed system packages are\ninstalled.\nIt should allow easier installation of Python packages on a clean\nsystem from source and help packagers too.\nFor now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`\nfiles with added platform specifiers.\n\nPackages have been tagged with certain bindep profiles:\n- default - needed to run ironic service in production\n- test - needed to compile Python dependencies and for other tox targets,\n  profile of this name is used by various gate jobs\n- devstack - needed to setup VMs posing as HW nodes by the devstack\n  plugin\n- imagebuild - only needed to build various types of deploy ramdisk\n\nNote that DevStack install procedure currently does not use 'bindep',\nand still relies on files in `devstack/files/...` folder.\n\n[0] http://docs.openstack.org/infra/bindep/index.html\n\n(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)\n\n2. Update bindep.txt for doc builds\n\nhttps://governance.openstack.org/tc/reference/project-testing-interface.html#documentation\nspecifies that doc dependencies need the doc tag in bindep, use it.\n\nLeave test environment in for transition period until we use the new\nscripts.\n\n(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)\n\nChange-Id: I42239e0ec960507b7345866d768b3ee06738799b\n(cherry picked from commit 43c54ec5cac82777e95c709e8c5b5366bccd6326)\n""}]",0,668148,401e5653d98dc6e3e91bc4b7124f4f80a20ca51f,15,6,1,17685,,,0,"Add bindep.txt

This is a combination of 2 commits to solve the dependency issue, which
came up after the announced removal of global bindep-fallback.txt

1. Add bindep.txt file

This is used by `bindep` [0] to assess if needed system packages are
installed.
It should allow easier installation of Python packages on a clean
system from source and help packagers too.
For now it is just a copy/merge of `devstack/files/[debs|rpms]/ironic`
files with added platform specifiers.

Packages have been tagged with certain bindep profiles:
- default - needed to run ironic service in production
- test - needed to compile Python dependencies and for other tox targets,
  profile of this name is used by various gate jobs
- devstack - needed to setup VMs posing as HW nodes by the devstack
  plugin
- imagebuild - only needed to build various types of deploy ramdisk

Note that DevStack install procedure currently does not use 'bindep',
and still relies on files in `devstack/files/...` folder.

[0] http://docs.openstack.org/infra/bindep/index.html

(cherry picked from commit b2fcf4804f61a0c2ca8f3adfacfe32e191c1b214)

2. Update bindep.txt for doc builds

https://governance.openstack.org/tc/reference/project-testing-interface.html#documentation
specifies that doc dependencies need the doc tag in bindep, use it.

Leave test environment in for transition period until we use the new
scripts.

(cherry picked from commit 6a48eba4a7cbc9d82740ea579e6f7188ab2e8f2c)

Change-Id: I42239e0ec960507b7345866d768b3ee06738799b
(cherry picked from commit 43c54ec5cac82777e95c709e8c5b5366bccd6326)
",git fetch https://review.opendev.org/openstack/ironic refs/changes/48/668148/1 && git format-patch -1 --stdout FETCH_HEAD,['bindep.txt'],1,401e5653d98dc6e3e91bc4b7124f4f80a20ca51f,bindep-fallback,"# these are needed to run ironic with default ipmitool and (i)PXE boot drivers ipmitool [default] ipxe [platform:dpkg default] ipxe-bootimgs [platform:rpm default] open-iscsi [platform:dpkg default] socat [default] xinetd [default] tftpd-hpa [platform:dpkg default] tftp-server [platform:rpm default] # Starting with Debian Jessie (and thus in Ubuntu Xenial too), # pxelinux package provides the pxelinux.0 boot loader, # but such package is absent from Debian Wheezy / Ubuntu Trusty. # Also, in Debian Wheezy / Ubuntu Trusty 'syslinux' depends on syslinux-common, # but only recommends it in Jessie/Xenial. # Make sure syslinux-common is installed for those distros as it provides # *.c32 modules for syslinux # TODO remove distro pinning when Wheezy / Trusty are EOLed (May 2019) # or DevStack stops supporting those. # In the mean time, new Debian-based release codenames will have to be added # as distros can not be pinned with 'if-later-than' specified. pxelinux [platform:ubuntu-xenial platform:debian-jessie default] syslinux [platform:rpm platform:ubuntu-trusty platform:debian-wheezy default] syslinux-common [platform:ubuntu-xenial platform:debian-jessie default] socat [default] # these are needed to create and access VMs when testing with virtual hardware libvirt-bin [platform:dpkg devstack] libvirt [platform:rpm devstack] libvirt-dev [platform:dpkg devstack] libvirt-devel [platform:rpm devstack] python-libvirt [platform:dpkg devstack] libvirt-python [platform:rpm devstack] qemu [platform:dpkg devstack build-image-dib] qemu-kvm [platform:dpkg devstack] qemu-utils [platform:dpkg devstack build-image-dib] sgabios [devstack] ipxe-qemu [platform:dpkg devstack] edk2-ovmf [platform:rpm devstack] ipxe-roms-qemu [platform:rpm devstack] openvswitch [platform:rpm devstack] iptables [devstack] net-tools [platform:rpm devstack] # these are needed to compile Python dependencies from sources python-dev [platform:dpkg test] python3-all-dev [platform:dpkg !platform:ubuntu-precise test] python-devel [platform:rpm test] python3-devel [platform:rpm test] build-essential [platform:dpkg test] libssl-dev [platform:dpkg test] # these are needed by infra for python-* jobs postgresql postgresql-client [platform:dpkg] # postgresql-devel [platform:rpm] postgresql-server [platform:rpm] mariadb [platform:rpm] mariadb-server [platform:rpm] # mariadb-devel [platform:rpm] dev-db/mariadb [platform:gentoo] mysql-client [platform:dpkg] mysql-server [platform:dpkg] # libmysqlclient-dev [platform:dpkg] # gettext and graphviz are needed by doc builds only. For transition, # have them in both doc and test. # TODO(jaegerandi): Remove test once infra scripts are updated. # this is needed for compiling translations gettext [test doc] # this is needed to build the FSM diagram graphviz [!platform:gentoo test doc] # these are needed to build a deploy ramdisk # NOTE apparmor is an undeclared dependency for docker on ubuntu, # see https://github.com/docker/docker/issues/9745 apparmor [platform:dpkg imagebuild] docker.io [platform:dpkg imagebuild] docker-io [platform:rpm imagebuild] gnupg [imagebuild] squashfs-tools [platform:dpkg platform:redhat imagebuild] squashfs [platform:suse imagebuild] libguestfs0 [platform:dpkg imagebuild] libguestfs [platform:rpm imagebuild] python-libguestfs [platform:dpkg imagebuild] # for TinyIPA build wget [imagebuild] python-pip [imagebuild] unzip [imagebuild] sudo [imagebuild] gawk [imagebuild] ",,89,0
openstack%2Fneutron-vpnaas~master~I67351284f0556680c61e78b92d2b7ffcd778103c,openstack/neutron-vpnaas,master,I67351284f0556680c61e78b92d2b7ffcd778103c,Fix comment error in sync method,MERGED,2019-06-21 09:21:29.000000000,2019-07-01 08:32:31.000000000,2019-07-01 08:32:31.000000000,"[{'_account_id': 1131}, {'_account_id': 5367}, {'_account_id': 6854}, {'_account_id': 9531}, {'_account_id': 11975}, {'_account_id': 12860}, {'_account_id': 13995}, {'_account_id': 15905}, {'_account_id': 22348}, {'_account_id': 29157}]","[{'number': 1, 'created': '2019-06-21 09:21:29.000000000', 'files': ['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'], 'web_link': 'https://opendev.org/openstack/neutron-vpnaas/commit/c305ff2a7f701bdb78bcaaa1c7ace309ccb10355', 'message': 'Fix comment error in sync method\n\nChange-Id: I67351284f0556680c61e78b92d2b7ffcd778103c\n'}]",0,666799,c305ff2a7f701bdb78bcaaa1c7ace309ccb10355,12,10,1,29157,,,0,"Fix comment error in sync method

Change-Id: I67351284f0556680c61e78b92d2b7ffcd778103c
",git fetch https://review.opendev.org/openstack/neutron-vpnaas refs/changes/99/666799/1 && git format-patch -1 --stdout FETCH_HEAD,['neutron_vpnaas/services/vpn/device_drivers/ipsec.py'],1,c305ff2a7f701bdb78bcaaa1c7ace309ccb10355,," In order to handle these failure cases,"," In order to handle, these failure cases,",1,1
openstack%2Fmonasca-notification~master~Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302,openstack/monasca-notification,master,Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302,Document missing Grafana url env var in Docker,MERGED,2019-06-14 07:57:02.000000000,2019-07-01 08:32:00.000000000,2019-07-01 08:32:00.000000000,"[{'_account_id': 14123}, {'_account_id': 17669}, {'_account_id': 21922}, {'_account_id': 22348}]","[{'number': 1, 'created': '2019-06-14 07:57:02.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/5b2b92e91238fe27b01d2ab32a1bb1e5dec970e6', 'message': 'when use email plugin, environment variable ""NF_EMAIL_GRAFANA_URL"" must be set.\n\nChange-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302\n'}, {'number': 2, 'created': '2019-06-17 09:52:05.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/20e74c336031ea819b1ef852cb62ad7c51524d36', 'message': 'Document missing env var for Docker use with email plugin\n\n""NF_EMAIL_GRAFANA_URL"" is required when email plugin is configured for\nnotification.\n\nChange-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302\n'}, {'number': 3, 'created': '2019-06-17 09:54:31.000000000', 'files': [], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/027c4d3b7cc8d19c3bcc894fa2ec29faee61017e', 'message': 'Document missing Grafana url env var in Docker\n\n""NF_EMAIL_GRAFANA_URL"" is required when email plugin is configured for\nnotification so add it to README.\n\nChange-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302\n'}, {'number': 4, 'created': '2019-06-28 15:03:46.000000000', 'files': ['docker/README.rst'], 'web_link': 'https://opendev.org/openstack/monasca-notification/commit/07da3274dcde1fcc54f9216e646dd9c2896d0971', 'message': 'Document missing Grafana url env var in Docker\n\n""NF_EMAIL_GRAFANA_URL"" is required when email plugin is configured for\nnotification so add it to README.\n\nChange-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302\n'}]",0,665322,07da3274dcde1fcc54f9216e646dd9c2896d0971,14,4,4,30571,,,0,"Document missing Grafana url env var in Docker

""NF_EMAIL_GRAFANA_URL"" is required when email plugin is configured for
notification so add it to README.

Change-Id: Id8d5fb1bf4cdd66c5f6ce0df513c38c877cca302
",git fetch https://review.opendev.org/openstack/monasca-notification refs/changes/22/665322/1 && git format-patch -1 --stdout FETCH_HEAD,['docker/README.rst'],1,5b2b92e91238fe27b01d2ab32a1bb1e5dec970e6,665322," * NF_EMAIL_GRAFANA_URL: grafana url, required, unset by default",,1,0
openstack%2Frpm-packaging~master~I5ab6eac7d0780e9a1d48917730a3c3d417980659,openstack/rpm-packaging,master,I5ab6eac7d0780e9a1d48917730a3c3d417980659,Fix build for masakari-monitors,MERGED,2019-06-28 17:17:28.000000000,2019-07-01 08:29:54.000000000,2019-07-01 08:29:54.000000000,"[{'_account_id': 6593}, {'_account_id': 7102}, {'_account_id': 19648}, {'_account_id': 22348}, {'_account_id': 23181}]","[{'number': 1, 'created': '2019-06-28 17:17:28.000000000', 'files': ['openstack/masakari-monitors/masakari-monitors.spec.j2'], 'web_link': 'https://opendev.org/openstack/rpm-packaging/commit/a88f475cb912066a8ebbf80faeeb71576ce3eead', 'message': 'Fix build for masakari-monitors\n\nthe unusuable wrapper shellscripts were removed, so the\nrm(1) in %install was now failing. remove and clean this\nup a little.\n\nChange-Id: I5ab6eac7d0780e9a1d48917730a3c3d417980659\n'}]",0,668211,a88f475cb912066a8ebbf80faeeb71576ce3eead,9,5,1,6593,,,0,"Fix build for masakari-monitors

the unusuable wrapper shellscripts were removed, so the
rm(1) in %install was now failing. remove and clean this
up a little.

Change-Id: I5ab6eac7d0780e9a1d48917730a3c3d417980659
",git fetch https://review.opendev.org/openstack/rpm-packaging refs/changes/11/668211/1 && git format-patch -1 --stdout FETCH_HEAD,['openstack/masakari-monitors/masakari-monitors.spec.j2'],1,a88f475cb912066a8ebbf80faeeb71576ce3eead,masakari_fixup,%package -n python-{{ pypi_name }}%description -n python-{{ pypi_name }}%autosetup -n {{ pypi_name }}-{{upstream_version}}%files -n python-{{ pypi_name }},"%global sname {{ pypi_name }} %global python_pkg python-%{sname}Python package - %{python_pkg}%package -n %{python_pkg}%description -n python-%{sname}%autosetup -n %{sname}-{{upstream_version}}# These are broken (hard-coded references to /usr/local/lib/python2.7) # and provide nothing which can't be handled better by systemd, # so we'll use systemd services instead. rm %{buildroot}%{_bindir}/masakari-{host,process}monitor.sh* %files -n %{python_pkg}",4,12
